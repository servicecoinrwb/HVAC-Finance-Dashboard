(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ht(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Wv={exports:{}},_c={},Hv={exports:{}},Qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cA;function j$(){if(cA)return Qe;cA=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function y(q){return q===null||typeof q!="object"?null:(q=g&&q[g]||q["@@iterator"],typeof q=="function"?q:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,_={};function w(q,Y,K){this.props=q,this.context=Y,this.refs=_,this.updater=K||x}w.prototype.isReactComponent={},w.prototype.setState=function(q,Y){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,Y,"setState")},w.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function R(){}R.prototype=w.prototype;function N(q,Y,K){this.props=q,this.context=Y,this.refs=_,this.updater=K||x}var O=N.prototype=new R;O.constructor=N,S(O,w.prototype),O.isPureReactComponent=!0;var M=Array.isArray,A=Object.prototype.hasOwnProperty,j={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function P(q,Y,K){var le,de={},xe=null,he=null;if(Y!=null)for(le in Y.ref!==void 0&&(he=Y.ref),Y.key!==void 0&&(xe=""+Y.key),Y)A.call(Y,le)&&!T.hasOwnProperty(le)&&(de[le]=Y[le]);var ge=arguments.length-2;if(ge===1)de.children=K;else if(1<ge){for(var fe=Array(ge),Ee=0;Ee<ge;Ee++)fe[Ee]=arguments[Ee+2];de.children=fe}if(q&&q.defaultProps)for(le in ge=q.defaultProps,ge)de[le]===void 0&&(de[le]=ge[le]);return{$$typeof:t,type:q,key:xe,ref:he,props:de,_owner:j.current}}function L(q,Y){return{$$typeof:t,type:q.type,key:Y,ref:q.ref,props:q.props,_owner:q._owner}}function I(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function D(q){var Y={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(K){return Y[K]})}var V=/\/+/g;function $(q,Y){return typeof q=="object"&&q!==null&&q.key!=null?D(""+q.key):Y.toString(36)}function ee(q,Y,K,le,de){var xe=typeof q;(xe==="undefined"||xe==="boolean")&&(q=null);var he=!1;if(q===null)he=!0;else switch(xe){case"string":case"number":he=!0;break;case"object":switch(q.$$typeof){case t:case e:he=!0}}if(he)return he=q,de=de(he),q=le===""?"."+$(he,0):le,M(de)?(K="",q!=null&&(K=q.replace(V,"$&/")+"/"),ee(de,Y,K,"",function(Ee){return Ee})):de!=null&&(I(de)&&(de=L(de,K+(!de.key||he&&he.key===de.key?"":(""+de.key).replace(V,"$&/")+"/")+q)),Y.push(de)),1;if(he=0,le=le===""?".":le+":",M(q))for(var ge=0;ge<q.length;ge++){xe=q[ge];var fe=le+$(xe,ge);he+=ee(xe,Y,K,fe,de)}else if(fe=y(q),typeof fe=="function")for(q=fe.call(q),ge=0;!(xe=q.next()).done;)xe=xe.value,fe=le+$(xe,ge++),he+=ee(xe,Y,K,fe,de);else if(xe==="object")throw Y=String(q),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return he}function ne(q,Y,K){if(q==null)return q;var le=[],de=0;return ee(q,le,"","",function(xe){return Y.call(K,xe,de++)}),le}function Q(q){if(q._status===-1){var Y=q._result;Y=Y(),Y.then(function(K){(q._status===0||q._status===-1)&&(q._status=1,q._result=K)},function(K){(q._status===0||q._status===-1)&&(q._status=2,q._result=K)}),q._status===-1&&(q._status=0,q._result=Y)}if(q._status===1)return q._result.default;throw q._result}var ie={current:null},Z={transition:null},J={ReactCurrentDispatcher:ie,ReactCurrentBatchConfig:Z,ReactCurrentOwner:j};function se(){throw Error("act(...) is not supported in production builds of React.")}return Qe.Children={map:ne,forEach:function(q,Y,K){ne(q,function(){Y.apply(this,arguments)},K)},count:function(q){var Y=0;return ne(q,function(){Y++}),Y},toArray:function(q){return ne(q,function(Y){return Y})||[]},only:function(q){if(!I(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Qe.Component=w,Qe.Fragment=r,Qe.Profiler=i,Qe.PureComponent=N,Qe.StrictMode=n,Qe.Suspense=d,Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J,Qe.act=se,Qe.cloneElement=function(q,Y,K){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var le=S({},q.props),de=q.key,xe=q.ref,he=q._owner;if(Y!=null){if(Y.ref!==void 0&&(xe=Y.ref,he=j.current),Y.key!==void 0&&(de=""+Y.key),q.type&&q.type.defaultProps)var ge=q.type.defaultProps;for(fe in Y)A.call(Y,fe)&&!T.hasOwnProperty(fe)&&(le[fe]=Y[fe]===void 0&&ge!==void 0?ge[fe]:Y[fe])}var fe=arguments.length-2;if(fe===1)le.children=K;else if(1<fe){ge=Array(fe);for(var Ee=0;Ee<fe;Ee++)ge[Ee]=arguments[Ee+2];le.children=ge}return{$$typeof:t,type:q.type,key:de,ref:xe,props:le,_owner:he}},Qe.createContext=function(q){return q={$$typeof:o,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:a,_context:q},q.Consumer=q},Qe.createElement=P,Qe.createFactory=function(q){var Y=P.bind(null,q);return Y.type=q,Y},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(q){return{$$typeof:u,render:q}},Qe.isValidElement=I,Qe.lazy=function(q){return{$$typeof:p,_payload:{_status:-1,_result:q},_init:Q}},Qe.memo=function(q,Y){return{$$typeof:f,type:q,compare:Y===void 0?null:Y}},Qe.startTransition=function(q){var Y=Z.transition;Z.transition={};try{q()}finally{Z.transition=Y}},Qe.unstable_act=se,Qe.useCallback=function(q,Y){return ie.current.useCallback(q,Y)},Qe.useContext=function(q){return ie.current.useContext(q)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(q){return ie.current.useDeferredValue(q)},Qe.useEffect=function(q,Y){return ie.current.useEffect(q,Y)},Qe.useId=function(){return ie.current.useId()},Qe.useImperativeHandle=function(q,Y,K){return ie.current.useImperativeHandle(q,Y,K)},Qe.useInsertionEffect=function(q,Y){return ie.current.useInsertionEffect(q,Y)},Qe.useLayoutEffect=function(q,Y){return ie.current.useLayoutEffect(q,Y)},Qe.useMemo=function(q,Y){return ie.current.useMemo(q,Y)},Qe.useReducer=function(q,Y,K){return ie.current.useReducer(q,Y,K)},Qe.useRef=function(q){return ie.current.useRef(q)},Qe.useState=function(q){return ie.current.useState(q)},Qe.useSyncExternalStore=function(q,Y,K){return ie.current.useSyncExternalStore(q,Y,K)},Qe.useTransition=function(){return ie.current.useTransition()},Qe.version="18.3.1",Qe}var dA;function s1(){return dA||(dA=1,Hv.exports=j$()),Hv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fA;function N$(){if(fA)return _c;fA=1;var t=s1(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(u,d,f){var p,g={},y=null,x=null;f!==void 0&&(y=""+f),d.key!==void 0&&(y=""+d.key),d.ref!==void 0&&(x=d.ref);for(p in d)n.call(d,p)&&!a.hasOwnProperty(p)&&(g[p]=d[p]);if(u&&u.defaultProps)for(p in d=u.defaultProps,d)g[p]===void 0&&(g[p]=d[p]);return{$$typeof:e,type:u,key:y,ref:x,props:g,_owner:i.current}}return _c.Fragment=r,_c.jsx=o,_c.jsxs=o,_c}var hA;function P$(){return hA||(hA=1,Wv.exports=N$()),Wv.exports}var c=P$(),z=s1();const G=ht(z);var Th={},Gv={exports:{}},on={},Kv={exports:{}},Yv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pA;function I$(){return pA||(pA=1,function(t){function e(Z,J){var se=Z.length;Z.push(J);e:for(;0<se;){var q=se-1>>>1,Y=Z[q];if(0<i(Y,J))Z[q]=J,Z[se]=Y,se=q;else break e}}function r(Z){return Z.length===0?null:Z[0]}function n(Z){if(Z.length===0)return null;var J=Z[0],se=Z.pop();if(se!==J){Z[0]=se;e:for(var q=0,Y=Z.length,K=Y>>>1;q<K;){var le=2*(q+1)-1,de=Z[le],xe=le+1,he=Z[xe];if(0>i(de,se))xe<Y&&0>i(he,de)?(Z[q]=he,Z[xe]=se,q=xe):(Z[q]=de,Z[le]=se,q=le);else if(xe<Y&&0>i(he,se))Z[q]=he,Z[xe]=se,q=xe;else break e}}return J}function i(Z,J){var se=Z.sortIndex-J.sortIndex;return se!==0?se:Z.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var d=[],f=[],p=1,g=null,y=3,x=!1,S=!1,_=!1,w=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(Z){for(var J=r(f);J!==null;){if(J.callback===null)n(f);else if(J.startTime<=Z)n(f),J.sortIndex=J.expirationTime,e(d,J);else break;J=r(f)}}function M(Z){if(_=!1,O(Z),!S)if(r(d)!==null)S=!0,Q(A);else{var J=r(f);J!==null&&ie(M,J.startTime-Z)}}function A(Z,J){S=!1,_&&(_=!1,R(P),P=-1),x=!0;var se=y;try{for(O(J),g=r(d);g!==null&&(!(g.expirationTime>J)||Z&&!D());){var q=g.callback;if(typeof q=="function"){g.callback=null,y=g.priorityLevel;var Y=q(g.expirationTime<=J);J=t.unstable_now(),typeof Y=="function"?g.callback=Y:g===r(d)&&n(d),O(J)}else n(d);g=r(d)}if(g!==null)var K=!0;else{var le=r(f);le!==null&&ie(M,le.startTime-J),K=!1}return K}finally{g=null,y=se,x=!1}}var j=!1,T=null,P=-1,L=5,I=-1;function D(){return!(t.unstable_now()-I<L)}function V(){if(T!==null){var Z=t.unstable_now();I=Z;var J=!0;try{J=T(!0,Z)}finally{J?$():(j=!1,T=null)}}else j=!1}var $;if(typeof N=="function")$=function(){N(V)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,ne=ee.port2;ee.port1.onmessage=V,$=function(){ne.postMessage(null)}}else $=function(){w(V,0)};function Q(Z){T=Z,j||(j=!0,$())}function ie(Z,J){P=w(function(){Z(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_continueExecution=function(){S||x||(S=!0,Q(A))},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return r(d)},t.unstable_next=function(Z){switch(y){case 1:case 2:case 3:var J=3;break;default:J=y}var se=y;y=J;try{return Z()}finally{y=se}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Z,J){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var se=y;y=Z;try{return J()}finally{y=se}},t.unstable_scheduleCallback=function(Z,J,se){var q=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?q+se:q):se=q,Z){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=se+Y,Z={id:p++,callback:J,priorityLevel:Z,startTime:se,expirationTime:Y,sortIndex:-1},se>q?(Z.sortIndex=se,e(f,Z),r(d)===null&&Z===r(f)&&(_?(R(P),P=-1):_=!0,ie(M,se-q))):(Z.sortIndex=Y,e(d,Z),S||x||(S=!0,Q(A))),Z},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(Z){var J=y;return function(){var se=y;y=J;try{return Z.apply(this,arguments)}finally{y=se}}}}(Yv)),Yv}var mA;function O$(){return mA||(mA=1,Kv.exports=I$()),Kv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gA;function C$(){if(gA)return on;gA=1;var t=s1(),e=O$();function r(s){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+s,h=1;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(s,l){o(s,l),o(s+"Capture",l)}function o(s,l){for(i[s]=l,s=0;s<l.length;s++)n.add(l[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function y(s){return d.call(g,s)?!0:d.call(p,s)?!1:f.test(s)?g[s]=!0:(p[s]=!0,!1)}function x(s,l,h,v){if(h!==null&&h.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return v?!1:h!==null?!h.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function S(s,l,h,v){if(l===null||typeof l>"u"||x(s,l,h,v))return!0;if(v)return!1;if(h!==null)switch(h.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function _(s,l,h,v,b,E,F){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=v,this.attributeNamespace=b,this.mustUseProperty=h,this.propertyName=s,this.type=l,this.sanitizeURL=E,this.removeEmptyString=F}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){w[s]=new _(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var l=s[0];w[l]=new _(l,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){w[s]=new _(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){w[s]=new _(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){w[s]=new _(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){w[s]=new _(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){w[s]=new _(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){w[s]=new _(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){w[s]=new _(s,5,!1,s.toLowerCase(),null,!1,!1)});var R=/[\-:]([a-z])/g;function N(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var l=s.replace(R,N);w[l]=new _(l,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var l=s.replace(R,N);w[l]=new _(l,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var l=s.replace(R,N);w[l]=new _(l,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){w[s]=new _(s,1,!1,s.toLowerCase(),null,!1,!1)}),w.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){w[s]=new _(s,1,!1,s.toLowerCase(),null,!0,!0)});function O(s,l,h,v){var b=w.hasOwnProperty(l)?w[l]:null;(b!==null?b.type!==0:v||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(S(l,h,b,v)&&(h=null),v||b===null?y(l)&&(h===null?s.removeAttribute(l):s.setAttribute(l,""+h)):b.mustUseProperty?s[b.propertyName]=h===null?b.type===3?!1:"":h:(l=b.attributeName,v=b.attributeNamespace,h===null?s.removeAttribute(l):(b=b.type,h=b===3||b===4&&h===!0?"":""+h,v?s.setAttributeNS(v,l,h):s.setAttribute(l,h))))}var M=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),j=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),D=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),ne=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),ie=Symbol.for("react.offscreen"),Z=Symbol.iterator;function J(s){return s===null||typeof s!="object"?null:(s=Z&&s[Z]||s["@@iterator"],typeof s=="function"?s:null)}var se=Object.assign,q;function Y(s){if(q===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);q=l&&l[1]||""}return`
`+q+s}var K=!1;function le(s,l){if(!s||K)return"";K=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(oe){var v=oe}Reflect.construct(s,[],l)}else{try{l.call()}catch(oe){v=oe}s.call(l.prototype)}else{try{throw Error()}catch(oe){v=oe}s()}}catch(oe){if(oe&&v&&typeof oe.stack=="string"){for(var b=oe.stack.split(`
`),E=v.stack.split(`
`),F=b.length-1,B=E.length-1;1<=F&&0<=B&&b[F]!==E[B];)B--;for(;1<=F&&0<=B;F--,B--)if(b[F]!==E[B]){if(F!==1||B!==1)do if(F--,B--,0>B||b[F]!==E[B]){var H=`
`+b[F].replace(" at new "," at ");return s.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",s.displayName)),H}while(1<=F&&0<=B);break}}}finally{K=!1,Error.prepareStackTrace=h}return(s=s?s.displayName||s.name:"")?Y(s):""}function de(s){switch(s.tag){case 5:return Y(s.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return s=le(s.type,!1),s;case 11:return s=le(s.type.render,!1),s;case 1:return s=le(s.type,!0),s;default:return""}}function xe(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case T:return"Fragment";case j:return"Portal";case L:return"Profiler";case P:return"StrictMode";case $:return"Suspense";case ee:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case D:return(s.displayName||"Context")+".Consumer";case I:return(s._context.displayName||"Context")+".Provider";case V:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case ne:return l=s.displayName||null,l!==null?l:xe(s.type)||"Memo";case Q:l=s._payload,s=s._init;try{return xe(s(l))}catch{}}return null}function he(s){var l=s.type;switch(s.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=l.render,s=s.displayName||s.name||"",l.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(l);case 8:return l===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function ge(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function fe(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Ee(s){var l=fe(s)?"checked":"value",h=Object.getOwnPropertyDescriptor(s.constructor.prototype,l),v=""+s[l];if(!s.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var b=h.get,E=h.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return b.call(this)},set:function(F){v=""+F,E.call(this,F)}}),Object.defineProperty(s,l,{enumerable:h.enumerable}),{getValue:function(){return v},setValue:function(F){v=""+F},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function Te(s){s._valueTracker||(s._valueTracker=Ee(s))}function W(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var h=l.getValue(),v="";return s&&(v=fe(s)?s.checked?"true":"false":s.value),s=v,s!==h?(l.setValue(s),!0):!1}function pe(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function me(s,l){var h=l.checked;return se({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??s._wrapperState.initialChecked})}function je(s,l){var h=l.defaultValue==null?"":l.defaultValue,v=l.checked!=null?l.checked:l.defaultChecked;h=ge(l.value!=null?l.value:h),s._wrapperState={initialChecked:v,initialValue:h,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function $e(s,l){l=l.checked,l!=null&&O(s,"checked",l,!1)}function Dt(s,l){$e(s,l);var h=ge(l.value),v=l.type;if(h!=null)v==="number"?(h===0&&s.value===""||s.value!=h)&&(s.value=""+h):s.value!==""+h&&(s.value=""+h);else if(v==="submit"||v==="reset"){s.removeAttribute("value");return}l.hasOwnProperty("value")?Fr(s,l.type,h):l.hasOwnProperty("defaultValue")&&Fr(s,l.type,ge(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(s.defaultChecked=!!l.defaultChecked)}function Xr(s,l,h){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var v=l.type;if(!(v!=="submit"&&v!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+s._wrapperState.initialValue,h||l===s.value||(s.value=l),s.defaultValue=l}h=s.name,h!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,h!==""&&(s.name=h)}function Fr(s,l,h){(l!=="number"||pe(s.ownerDocument)!==s)&&(h==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+h&&(s.defaultValue=""+h))}var Vr=Array.isArray;function Jt(s,l,h,v){if(s=s.options,l){l={};for(var b=0;b<h.length;b++)l["$"+h[b]]=!0;for(h=0;h<s.length;h++)b=l.hasOwnProperty("$"+s[h].value),s[h].selected!==b&&(s[h].selected=b),b&&v&&(s[h].defaultSelected=!0)}else{for(h=""+ge(h),l=null,b=0;b<s.length;b++){if(s[b].value===h){s[b].selected=!0,v&&(s[b].defaultSelected=!0);return}l!==null||s[b].disabled||(l=s[b])}l!==null&&(l.selected=!0)}}function Qr(s,l){if(l.dangerouslySetInnerHTML!=null)throw Error(r(91));return se({},l,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function An(s,l){var h=l.value;if(h==null){if(h=l.children,l=l.defaultValue,h!=null){if(l!=null)throw Error(r(92));if(Vr(h)){if(1<h.length)throw Error(r(93));h=h[0]}l=h}l==null&&(l=""),h=l}s._wrapperState={initialValue:ge(h)}}function Tn(s,l){var h=ge(l.value),v=ge(l.defaultValue);h!=null&&(h=""+h,h!==s.value&&(s.value=h),l.defaultValue==null&&s.defaultValue!==h&&(s.defaultValue=h)),v!=null&&(s.defaultValue=""+v)}function Yn(s){var l=s.textContent;l===s._wrapperState.initialValue&&l!==""&&l!==null&&(s.value=l)}function Ut(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lt(s,l){return s==null||s==="http://www.w3.org/1999/xhtml"?Ut(l):s==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var _i,Wo=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,h,v,b){MSApp.execUnsafeLocalFunction(function(){return s(l,h,v,b)})}:s}(function(s,l){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=l;else{for(_i=_i||document.createElement("div"),_i.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=_i.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;l.firstChild;)s.appendChild(l.firstChild)}});function Wt(s,l){if(l){var h=s.firstChild;if(h&&h===s.lastChild&&h.nodeType===3){h.nodeValue=l;return}}s.textContent=l}var Ra={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ma=["Webkit","ms","Moz","O"];Object.keys(Ra).forEach(function(s){Ma.forEach(function(l){l=l+s.charAt(0).toUpperCase()+s.substring(1),Ra[l]=Ra[s]})});function Ho(s,l,h){return l==null||typeof l=="boolean"||l===""?"":h||typeof l!="number"||l===0||Ra.hasOwnProperty(s)&&Ra[s]?(""+l).trim():l+"px"}function Ls(s,l){s=s.style;for(var h in l)if(l.hasOwnProperty(h)){var v=h.indexOf("--")===0,b=Ho(h,l[h],v);h==="float"&&(h="cssFloat"),v?s.setProperty(h,b):s[h]=b}}var $s=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Da(s,l){if(l){if($s[s]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(r(137,s));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(r(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(r(61))}if(l.style!=null&&typeof l.style!="object")throw Error(r(62))}}function Fs(s,l){if(s.indexOf("-")===-1)return typeof l.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wi=null;function fn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var jn=null,or=null,Nn=null;function La(s){if(s=sc(s)){if(typeof jn!="function")throw Error(r(280));var l=s.stateNode;l&&(l=Uf(l),jn(s.stateNode,s.type,l))}}function Pn(s){or?Nn?Nn.push(s):Nn=[s]:or=s}function Vs(){if(or){var s=or,l=Nn;if(Nn=or=null,La(s),l)for(s=0;s<l.length;s++)La(l[s])}}function Xi(s,l){return s(l)}function yr(){}var Xn=!1;function lr(s,l,h){if(Xn)return s(l,h);Xn=!0;try{return Xi(s,l,h)}finally{Xn=!1,(or!==null||Nn!==null)&&(yr(),Vs())}}function Ct(s,l){var h=s.stateNode;if(h===null)return null;var v=Uf(h);if(v===null)return null;h=v[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(s=s.type,v=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!v;break e;default:s=!1}if(s)return null;if(h&&typeof h!="function")throw Error(r(231,l,typeof h));return h}var $a=!1;if(u)try{var Ye={};Object.defineProperty(Ye,"passive",{get:function(){$a=!0}}),window.addEventListener("test",Ye,Ye),window.removeEventListener("test",Ye,Ye)}catch{$a=!1}function tt(s,l,h,v,b,E,F,B,H){var oe=Array.prototype.slice.call(arguments,3);try{l.apply(h,oe)}catch(ye){this.onError(ye)}}var vt=!1,rt=null,yt=!1,Qn=null,Jr={onError:function(s){vt=!0,rt=s}};function Ur(s,l,h,v,b,E,F,B,H){vt=!1,rt=null,tt.apply(Jr,arguments)}function ff(s,l,h,v,b,E,F,B,H){if(Ur.apply(this,arguments),vt){if(vt){var oe=rt;vt=!1,rt=null}else throw Error(r(198));yt||(yt=!0,Qn=oe)}}function Jn(s){var l=s,h=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(h=l.return),s=l.return;while(s)}return l.tag===3?h:null}function Us(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function Zn(s){if(Jn(s)!==s)throw Error(r(188))}function hf(s){var l=s.alternate;if(!l){if(l=Jn(s),l===null)throw Error(r(188));return l!==s?null:s}for(var h=s,v=l;;){var b=h.return;if(b===null)break;var E=b.alternate;if(E===null){if(v=b.return,v!==null){h=v;continue}break}if(b.child===E.child){for(E=b.child;E;){if(E===h)return Zn(b),s;if(E===v)return Zn(b),l;E=E.sibling}throw Error(r(188))}if(h.return!==v.return)h=b,v=E;else{for(var F=!1,B=b.child;B;){if(B===h){F=!0,h=b,v=E;break}if(B===v){F=!0,v=b,h=E;break}B=B.sibling}if(!F){for(B=E.child;B;){if(B===h){F=!0,h=E,v=b;break}if(B===v){F=!0,v=E,h=b;break}B=B.sibling}if(!F)throw Error(r(189))}}if(h.alternate!==v)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?s:l}function Uu(s){return s=hf(s),s!==null?Go(s):null}function Go(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var l=Go(s);if(l!==null)return l;s=s.sibling}return null}var Ko=e.unstable_scheduleCallback,Bu=e.unstable_cancelCallback,pf=e.unstable_shouldYield,bg=e.unstable_requestPaint,_t=e.unstable_now,mf=e.unstable_getCurrentPriorityLevel,Bs=e.unstable_ImmediatePriority,Fa=e.unstable_UserBlockingPriority,In=e.unstable_NormalPriority,qu=e.unstable_LowPriority,gf=e.unstable_IdlePriority,qs=null,hn=null;function vf(s){if(hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(qs,s,void 0,(s.current.flags&128)===128)}catch{}}var Br=Math.clz32?Math.clz32:xf,zu=Math.log,yf=Math.LN2;function xf(s){return s>>>=0,s===0?32:31-(zu(s)/yf|0)|0}var Yo=64,Xo=4194304;function Va(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function zs(s,l){var h=s.pendingLanes;if(h===0)return 0;var v=0,b=s.suspendedLanes,E=s.pingedLanes,F=h&268435455;if(F!==0){var B=F&~b;B!==0?v=Va(B):(E&=F,E!==0&&(v=Va(E)))}else F=h&~b,F!==0?v=Va(F):E!==0&&(v=Va(E));if(v===0)return 0;if(l!==0&&l!==v&&(l&b)===0&&(b=v&-v,E=l&-l,b>=E||b===16&&(E&4194240)!==0))return l;if((v&4)!==0&&(v|=h&16),l=s.entangledLanes,l!==0)for(s=s.entanglements,l&=v;0<l;)h=31-Br(l),b=1<<h,v|=s[h],l&=~b;return v}function _g(s,l){switch(s){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qi(s,l){for(var h=s.suspendedLanes,v=s.pingedLanes,b=s.expirationTimes,E=s.pendingLanes;0<E;){var F=31-Br(E),B=1<<F,H=b[F];H===-1?((B&h)===0||(B&v)!==0)&&(b[F]=_g(B,l)):H<=l&&(s.expiredLanes|=B),E&=~B}}function pn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Ws(){var s=Yo;return Yo<<=1,(Yo&4194240)===0&&(Yo=64),s}function Ua(s){for(var l=[],h=0;31>h;h++)l.push(s);return l}function Ba(s,l,h){s.pendingLanes|=l,l!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,l=31-Br(l),s[l]=h}function xt(s,l){var h=s.pendingLanes&~l;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=l,s.mutableReadLanes&=l,s.entangledLanes&=l,l=s.entanglements;var v=s.eventTimes;for(s=s.expirationTimes;0<h;){var b=31-Br(h),E=1<<b;l[b]=0,v[b]=-1,s[b]=-1,h&=~E}}function qa(s,l){var h=s.entangledLanes|=l;for(s=s.entanglements;h;){var v=31-Br(h),b=1<<v;b&l|s[v]&l&&(s[v]|=l),h&=~b}}var Ze=0;function za(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var bf,Qo,_f,wf,Sf,Wu=!1,Si=[],xr=null,ei=null,ti=null,Wa=new Map,On=new Map,ki=[],wg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kf(s,l){switch(s){case"focusin":case"focusout":xr=null;break;case"dragenter":case"dragleave":ei=null;break;case"mouseover":case"mouseout":ti=null;break;case"pointerover":case"pointerout":Wa.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":On.delete(l.pointerId)}}function Zr(s,l,h,v,b,E){return s===null||s.nativeEvent!==E?(s={blockedOn:l,domEventName:h,eventSystemFlags:v,nativeEvent:E,targetContainers:[b]},l!==null&&(l=sc(l),l!==null&&Qo(l)),s):(s.eventSystemFlags|=v,l=s.targetContainers,b!==null&&l.indexOf(b)===-1&&l.push(b),s)}function Sg(s,l,h,v,b){switch(l){case"focusin":return xr=Zr(xr,s,l,h,v,b),!0;case"dragenter":return ei=Zr(ei,s,l,h,v,b),!0;case"mouseover":return ti=Zr(ti,s,l,h,v,b),!0;case"pointerover":var E=b.pointerId;return Wa.set(E,Zr(Wa.get(E)||null,s,l,h,v,b)),!0;case"gotpointercapture":return E=b.pointerId,On.set(E,Zr(On.get(E)||null,s,l,h,v,b)),!0}return!1}function Ef(s){var l=Xs(s.target);if(l!==null){var h=Jn(l);if(h!==null){if(l=h.tag,l===13){if(l=Us(h),l!==null){s.blockedOn=l,Sf(s.priority,function(){_f(h)});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){s.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ji(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var h=Jo(s.domEventName,s.eventSystemFlags,l[0],s.nativeEvent);if(h===null){h=s.nativeEvent;var v=new h.constructor(h.type,h);wi=v,h.target.dispatchEvent(v),wi=null}else return l=sc(h),l!==null&&Qo(l),s.blockedOn=h,!1;l.shift()}return!0}function Hs(s,l,h){Ji(s)&&h.delete(l)}function Af(){Wu=!1,xr!==null&&Ji(xr)&&(xr=null),ei!==null&&Ji(ei)&&(ei=null),ti!==null&&Ji(ti)&&(ti=null),Wa.forEach(Hs),On.forEach(Hs)}function ri(s,l){s.blockedOn===l&&(s.blockedOn=null,Wu||(Wu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Af)))}function ni(s){function l(b){return ri(b,s)}if(0<Si.length){ri(Si[0],s);for(var h=1;h<Si.length;h++){var v=Si[h];v.blockedOn===s&&(v.blockedOn=null)}}for(xr!==null&&ri(xr,s),ei!==null&&ri(ei,s),ti!==null&&ri(ti,s),Wa.forEach(l),On.forEach(l),h=0;h<ki.length;h++)v=ki[h],v.blockedOn===s&&(v.blockedOn=null);for(;0<ki.length&&(h=ki[0],h.blockedOn===null);)Ef(h),h.blockedOn===null&&ki.shift()}var Zi=M.ReactCurrentBatchConfig,Ha=!0;function Pt(s,l,h,v){var b=Ze,E=Zi.transition;Zi.transition=null;try{Ze=1,Hu(s,l,h,v)}finally{Ze=b,Zi.transition=E}}function kg(s,l,h,v){var b=Ze,E=Zi.transition;Zi.transition=null;try{Ze=4,Hu(s,l,h,v)}finally{Ze=b,Zi.transition=E}}function Hu(s,l,h,v){if(Ha){var b=Jo(s,l,h,v);if(b===null)Mg(s,l,v,Gs,h),kf(s,v);else if(Sg(b,s,l,h,v))v.stopPropagation();else if(kf(s,v),l&4&&-1<wg.indexOf(s)){for(;b!==null;){var E=sc(b);if(E!==null&&bf(E),E=Jo(s,l,h,v),E===null&&Mg(s,l,v,Gs,h),E===b)break;b=E}b!==null&&v.stopPropagation()}else Mg(s,l,v,null,h)}}var Gs=null;function Jo(s,l,h,v){if(Gs=null,s=fn(v),s=Xs(s),s!==null)if(l=Jn(s),l===null)s=null;else if(h=l.tag,h===13){if(s=Us(l),s!==null)return s;s=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null);return Gs=s,null}function Gu(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mf()){case Bs:return 1;case Fa:return 4;case In:case qu:return 16;case gf:return 536870912;default:return 16}default:return 16}}var mn=null,Zo=null,en=null;function Ku(){if(en)return en;var s,l=Zo,h=l.length,v,b="value"in mn?mn.value:mn.textContent,E=b.length;for(s=0;s<h&&l[s]===b[s];s++);var F=h-s;for(v=1;v<=F&&l[h-v]===b[E-v];v++);return en=b.slice(s,1<v?1-v:void 0)}function el(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function Ei(){return!0}function Yu(){return!1}function br(s){function l(h,v,b,E,F){this._reactName=h,this._targetInst=b,this.type=v,this.nativeEvent=E,this.target=F,this.currentTarget=null;for(var B in s)s.hasOwnProperty(B)&&(h=s[B],this[B]=h?h(E):E[B]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Ei:Yu,this.isPropagationStopped=Yu,this}return se(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Ei)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Ei)},persist:function(){},isPersistent:Ei}),l}var ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tl=br(ii),Ai=se({},ii,{view:0,detail:0}),Eg=br(Ai),rl,ea,Ga,Ks=se({},Ai,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ti,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ga&&(Ga&&s.type==="mousemove"?(rl=s.screenX-Ga.screenX,ea=s.screenY-Ga.screenY):ea=rl=0,Ga=s),rl)},movementY:function(s){return"movementY"in s?s.movementY:ea}}),nl=br(Ks),Xu=se({},Ks,{dataTransfer:0}),Tf=br(Xu),il=se({},Ai,{relatedTarget:0}),al=br(il),jf=se({},ii,{animationName:0,elapsedTime:0,pseudoElement:0}),ta=br(jf),Nf=se({},ii,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Pf=br(Nf),If=se({},ii,{data:0}),Qu=br(If),sl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Of={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cf(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=Of[s])?!!l[s]:!1}function Ti(){return Cf}var m=se({},Ai,{key:function(s){if(s.key){var l=sl[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=el(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?qr[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ti,charCode:function(s){return s.type==="keypress"?el(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?el(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),k=br(m),C=se({},Ks,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),U=br(C),te=se({},Ai,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ti}),ue=br(te),Ae=se({},ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),pt=br(Ae),Zt=se({},Ks,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),nt=br(Zt),ur=[9,13,27,32],Ht=u&&"CompositionEvent"in window,Cn=null;u&&"documentMode"in document&&(Cn=document.documentMode);var gn=u&&"TextEvent"in window&&!Cn,Ys=u&&(!Ht||Cn&&8<Cn&&11>=Cn),ol=" ",ik=!1;function ak(s,l){switch(s){case"keyup":return ur.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sk(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ll=!1;function E3(s,l){switch(s){case"compositionend":return sk(l);case"keypress":return l.which!==32?null:(ik=!0,ol);case"textInput":return s=l.data,s===ol&&ik?null:s;default:return null}}function A3(s,l){if(ll)return s==="compositionend"||!Ht&&ak(s,l)?(s=Ku(),en=Zo=mn=null,ll=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Ys&&l.locale!=="ko"?null:l.data;default:return null}}var T3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ok(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!T3[s.type]:l==="textarea"}function lk(s,l,h,v){Pn(v),l=$f(l,"onChange"),0<l.length&&(h=new tl("onChange","change",null,h,v),s.push({event:h,listeners:l}))}var Ju=null,Zu=null;function j3(s){Ak(s,0)}function Rf(s){var l=hl(s);if(W(l))return s}function N3(s,l){if(s==="change")return l}var uk=!1;if(u){var Ag;if(u){var Tg="oninput"in document;if(!Tg){var ck=document.createElement("div");ck.setAttribute("oninput","return;"),Tg=typeof ck.oninput=="function"}Ag=Tg}else Ag=!1;uk=Ag&&(!document.documentMode||9<document.documentMode)}function dk(){Ju&&(Ju.detachEvent("onpropertychange",fk),Zu=Ju=null)}function fk(s){if(s.propertyName==="value"&&Rf(Zu)){var l=[];lk(l,Zu,s,fn(s)),lr(j3,l)}}function P3(s,l,h){s==="focusin"?(dk(),Ju=l,Zu=h,Ju.attachEvent("onpropertychange",fk)):s==="focusout"&&dk()}function I3(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Rf(Zu)}function O3(s,l){if(s==="click")return Rf(l)}function C3(s,l){if(s==="input"||s==="change")return Rf(l)}function R3(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var ai=typeof Object.is=="function"?Object.is:R3;function ec(s,l){if(ai(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var h=Object.keys(s),v=Object.keys(l);if(h.length!==v.length)return!1;for(v=0;v<h.length;v++){var b=h[v];if(!d.call(l,b)||!ai(s[b],l[b]))return!1}return!0}function hk(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function pk(s,l){var h=hk(s);s=0;for(var v;h;){if(h.nodeType===3){if(v=s+h.textContent.length,s<=l&&v>=l)return{node:h,offset:l-s};s=v}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=hk(h)}}function mk(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?mk(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function gk(){for(var s=window,l=pe();l instanceof s.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)s=l.contentWindow;else break;l=pe(s.document)}return l}function jg(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}function M3(s){var l=gk(),h=s.focusedElem,v=s.selectionRange;if(l!==h&&h&&h.ownerDocument&&mk(h.ownerDocument.documentElement,h)){if(v!==null&&jg(h)){if(l=v.start,s=v.end,s===void 0&&(s=l),"selectionStart"in h)h.selectionStart=l,h.selectionEnd=Math.min(s,h.value.length);else if(s=(l=h.ownerDocument||document)&&l.defaultView||window,s.getSelection){s=s.getSelection();var b=h.textContent.length,E=Math.min(v.start,b);v=v.end===void 0?E:Math.min(v.end,b),!s.extend&&E>v&&(b=v,v=E,E=b),b=pk(h,E);var F=pk(h,v);b&&F&&(s.rangeCount!==1||s.anchorNode!==b.node||s.anchorOffset!==b.offset||s.focusNode!==F.node||s.focusOffset!==F.offset)&&(l=l.createRange(),l.setStart(b.node,b.offset),s.removeAllRanges(),E>v?(s.addRange(l),s.extend(F.node,F.offset)):(l.setEnd(F.node,F.offset),s.addRange(l)))}}for(l=[],s=h;s=s.parentNode;)s.nodeType===1&&l.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<l.length;h++)s=l[h],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var D3=u&&"documentMode"in document&&11>=document.documentMode,ul=null,Ng=null,tc=null,Pg=!1;function vk(s,l,h){var v=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Pg||ul==null||ul!==pe(v)||(v=ul,"selectionStart"in v&&jg(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),tc&&ec(tc,v)||(tc=v,v=$f(Ng,"onSelect"),0<v.length&&(l=new tl("onSelect","select",null,l,h),s.push({event:l,listeners:v}),l.target=ul)))}function Mf(s,l){var h={};return h[s.toLowerCase()]=l.toLowerCase(),h["Webkit"+s]="webkit"+l,h["Moz"+s]="moz"+l,h}var cl={animationend:Mf("Animation","AnimationEnd"),animationiteration:Mf("Animation","AnimationIteration"),animationstart:Mf("Animation","AnimationStart"),transitionend:Mf("Transition","TransitionEnd")},Ig={},yk={};u&&(yk=document.createElement("div").style,"AnimationEvent"in window||(delete cl.animationend.animation,delete cl.animationiteration.animation,delete cl.animationstart.animation),"TransitionEvent"in window||delete cl.transitionend.transition);function Df(s){if(Ig[s])return Ig[s];if(!cl[s])return s;var l=cl[s],h;for(h in l)if(l.hasOwnProperty(h)&&h in yk)return Ig[s]=l[h];return s}var xk=Df("animationend"),bk=Df("animationiteration"),_k=Df("animationstart"),wk=Df("transitionend"),Sk=new Map,kk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ka(s,l){Sk.set(s,l),a(l,[s])}for(var Og=0;Og<kk.length;Og++){var Cg=kk[Og],L3=Cg.toLowerCase(),$3=Cg[0].toUpperCase()+Cg.slice(1);Ka(L3,"on"+$3)}Ka(xk,"onAnimationEnd"),Ka(bk,"onAnimationIteration"),Ka(_k,"onAnimationStart"),Ka("dblclick","onDoubleClick"),Ka("focusin","onFocus"),Ka("focusout","onBlur"),Ka(wk,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F3=new Set("cancel close invalid load scroll toggle".split(" ").concat(rc));function Ek(s,l,h){var v=s.type||"unknown-event";s.currentTarget=h,ff(v,l,void 0,s),s.currentTarget=null}function Ak(s,l){l=(l&4)!==0;for(var h=0;h<s.length;h++){var v=s[h],b=v.event;v=v.listeners;e:{var E=void 0;if(l)for(var F=v.length-1;0<=F;F--){var B=v[F],H=B.instance,oe=B.currentTarget;if(B=B.listener,H!==E&&b.isPropagationStopped())break e;Ek(b,B,oe),E=H}else for(F=0;F<v.length;F++){if(B=v[F],H=B.instance,oe=B.currentTarget,B=B.listener,H!==E&&b.isPropagationStopped())break e;Ek(b,B,oe),E=H}}}if(yt)throw s=Qn,yt=!1,Qn=null,s}function At(s,l){var h=l[Ug];h===void 0&&(h=l[Ug]=new Set);var v=s+"__bubble";h.has(v)||(Tk(l,s,2,!1),h.add(v))}function Rg(s,l,h){var v=0;l&&(v|=4),Tk(h,s,v,l)}var Lf="_reactListening"+Math.random().toString(36).slice(2);function nc(s){if(!s[Lf]){s[Lf]=!0,n.forEach(function(h){h!=="selectionchange"&&(F3.has(h)||Rg(h,!1,s),Rg(h,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[Lf]||(l[Lf]=!0,Rg("selectionchange",!1,l))}}function Tk(s,l,h,v){switch(Gu(l)){case 1:var b=Pt;break;case 4:b=kg;break;default:b=Hu}h=b.bind(null,l,h,s),b=void 0,!$a||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(b=!0),v?b!==void 0?s.addEventListener(l,h,{capture:!0,passive:b}):s.addEventListener(l,h,!0):b!==void 0?s.addEventListener(l,h,{passive:b}):s.addEventListener(l,h,!1)}function Mg(s,l,h,v,b){var E=v;if((l&1)===0&&(l&2)===0&&v!==null)e:for(;;){if(v===null)return;var F=v.tag;if(F===3||F===4){var B=v.stateNode.containerInfo;if(B===b||B.nodeType===8&&B.parentNode===b)break;if(F===4)for(F=v.return;F!==null;){var H=F.tag;if((H===3||H===4)&&(H=F.stateNode.containerInfo,H===b||H.nodeType===8&&H.parentNode===b))return;F=F.return}for(;B!==null;){if(F=Xs(B),F===null)return;if(H=F.tag,H===5||H===6){v=E=F;continue e}B=B.parentNode}}v=v.return}lr(function(){var oe=E,ye=fn(h),_e=[];e:{var ve=Sk.get(s);if(ve!==void 0){var Ne=tl,Oe=s;switch(s){case"keypress":if(el(h)===0)break e;case"keydown":case"keyup":Ne=k;break;case"focusin":Oe="focus",Ne=al;break;case"focusout":Oe="blur",Ne=al;break;case"beforeblur":case"afterblur":Ne=al;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ne=nl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ne=Tf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ne=ue;break;case xk:case bk:case _k:Ne=ta;break;case wk:Ne=pt;break;case"scroll":Ne=Eg;break;case"wheel":Ne=nt;break;case"copy":case"cut":case"paste":Ne=Pf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ne=U}var Ce=(l&4)!==0,Bt=!Ce&&s==="scroll",re=Ce?ve!==null?ve+"Capture":null:ve;Ce=[];for(var X=oe,ae;X!==null;){ae=X;var we=ae.stateNode;if(ae.tag===5&&we!==null&&(ae=we,re!==null&&(we=Ct(X,re),we!=null&&Ce.push(ic(X,we,ae)))),Bt)break;X=X.return}0<Ce.length&&(ve=new Ne(ve,Oe,null,h,ye),_e.push({event:ve,listeners:Ce}))}}if((l&7)===0){e:{if(ve=s==="mouseover"||s==="pointerover",Ne=s==="mouseout"||s==="pointerout",ve&&h!==wi&&(Oe=h.relatedTarget||h.fromElement)&&(Xs(Oe)||Oe[ra]))break e;if((Ne||ve)&&(ve=ye.window===ye?ye:(ve=ye.ownerDocument)?ve.defaultView||ve.parentWindow:window,Ne?(Oe=h.relatedTarget||h.toElement,Ne=oe,Oe=Oe?Xs(Oe):null,Oe!==null&&(Bt=Jn(Oe),Oe!==Bt||Oe.tag!==5&&Oe.tag!==6)&&(Oe=null)):(Ne=null,Oe=oe),Ne!==Oe)){if(Ce=nl,we="onMouseLeave",re="onMouseEnter",X="mouse",(s==="pointerout"||s==="pointerover")&&(Ce=U,we="onPointerLeave",re="onPointerEnter",X="pointer"),Bt=Ne==null?ve:hl(Ne),ae=Oe==null?ve:hl(Oe),ve=new Ce(we,X+"leave",Ne,h,ye),ve.target=Bt,ve.relatedTarget=ae,we=null,Xs(ye)===oe&&(Ce=new Ce(re,X+"enter",Oe,h,ye),Ce.target=ae,Ce.relatedTarget=Bt,we=Ce),Bt=we,Ne&&Oe)t:{for(Ce=Ne,re=Oe,X=0,ae=Ce;ae;ae=dl(ae))X++;for(ae=0,we=re;we;we=dl(we))ae++;for(;0<X-ae;)Ce=dl(Ce),X--;for(;0<ae-X;)re=dl(re),ae--;for(;X--;){if(Ce===re||re!==null&&Ce===re.alternate)break t;Ce=dl(Ce),re=dl(re)}Ce=null}else Ce=null;Ne!==null&&jk(_e,ve,Ne,Ce,!1),Oe!==null&&Bt!==null&&jk(_e,Bt,Oe,Ce,!0)}}e:{if(ve=oe?hl(oe):window,Ne=ve.nodeName&&ve.nodeName.toLowerCase(),Ne==="select"||Ne==="input"&&ve.type==="file")var De=N3;else if(ok(ve))if(uk)De=C3;else{De=I3;var Ve=P3}else(Ne=ve.nodeName)&&Ne.toLowerCase()==="input"&&(ve.type==="checkbox"||ve.type==="radio")&&(De=O3);if(De&&(De=De(s,oe))){lk(_e,De,h,ye);break e}Ve&&Ve(s,ve,oe),s==="focusout"&&(Ve=ve._wrapperState)&&Ve.controlled&&ve.type==="number"&&Fr(ve,"number",ve.value)}switch(Ve=oe?hl(oe):window,s){case"focusin":(ok(Ve)||Ve.contentEditable==="true")&&(ul=Ve,Ng=oe,tc=null);break;case"focusout":tc=Ng=ul=null;break;case"mousedown":Pg=!0;break;case"contextmenu":case"mouseup":case"dragend":Pg=!1,vk(_e,h,ye);break;case"selectionchange":if(D3)break;case"keydown":case"keyup":vk(_e,h,ye)}var Ue;if(Ht)e:{switch(s){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else ll?ak(s,h)&&(We="onCompositionEnd"):s==="keydown"&&h.keyCode===229&&(We="onCompositionStart");We&&(Ys&&h.locale!=="ko"&&(ll||We!=="onCompositionStart"?We==="onCompositionEnd"&&ll&&(Ue=Ku()):(mn=ye,Zo="value"in mn?mn.value:mn.textContent,ll=!0)),Ve=$f(oe,We),0<Ve.length&&(We=new Qu(We,s,null,h,ye),_e.push({event:We,listeners:Ve}),Ue?We.data=Ue:(Ue=sk(h),Ue!==null&&(We.data=Ue)))),(Ue=gn?E3(s,h):A3(s,h))&&(oe=$f(oe,"onBeforeInput"),0<oe.length&&(ye=new Qu("onBeforeInput","beforeinput",null,h,ye),_e.push({event:ye,listeners:oe}),ye.data=Ue))}Ak(_e,l)})}function ic(s,l,h){return{instance:s,listener:l,currentTarget:h}}function $f(s,l){for(var h=l+"Capture",v=[];s!==null;){var b=s,E=b.stateNode;b.tag===5&&E!==null&&(b=E,E=Ct(s,h),E!=null&&v.unshift(ic(s,E,b)),E=Ct(s,l),E!=null&&v.push(ic(s,E,b))),s=s.return}return v}function dl(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function jk(s,l,h,v,b){for(var E=l._reactName,F=[];h!==null&&h!==v;){var B=h,H=B.alternate,oe=B.stateNode;if(H!==null&&H===v)break;B.tag===5&&oe!==null&&(B=oe,b?(H=Ct(h,E),H!=null&&F.unshift(ic(h,H,B))):b||(H=Ct(h,E),H!=null&&F.push(ic(h,H,B)))),h=h.return}F.length!==0&&s.push({event:l,listeners:F})}var V3=/\r\n?/g,U3=/\u0000|\uFFFD/g;function Nk(s){return(typeof s=="string"?s:""+s).replace(V3,`
`).replace(U3,"")}function Ff(s,l,h){if(l=Nk(l),Nk(s)!==l&&h)throw Error(r(425))}function Vf(){}var Dg=null,Lg=null;function $g(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Fg=typeof setTimeout=="function"?setTimeout:void 0,B3=typeof clearTimeout=="function"?clearTimeout:void 0,Pk=typeof Promise=="function"?Promise:void 0,q3=typeof queueMicrotask=="function"?queueMicrotask:typeof Pk<"u"?function(s){return Pk.resolve(null).then(s).catch(z3)}:Fg;function z3(s){setTimeout(function(){throw s})}function Vg(s,l){var h=l,v=0;do{var b=h.nextSibling;if(s.removeChild(h),b&&b.nodeType===8)if(h=b.data,h==="/$"){if(v===0){s.removeChild(b),ni(l);return}v--}else h!=="$"&&h!=="$?"&&h!=="$!"||v++;h=b}while(h);ni(l)}function Ya(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return s}function Ik(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var h=s.data;if(h==="$"||h==="$!"||h==="$?"){if(l===0)return s;l--}else h==="/$"&&l++}s=s.previousSibling}return null}var fl=Math.random().toString(36).slice(2),ji="__reactFiber$"+fl,ac="__reactProps$"+fl,ra="__reactContainer$"+fl,Ug="__reactEvents$"+fl,W3="__reactListeners$"+fl,H3="__reactHandles$"+fl;function Xs(s){var l=s[ji];if(l)return l;for(var h=s.parentNode;h;){if(l=h[ra]||h[ji]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(s=Ik(s);s!==null;){if(h=s[ji])return h;s=Ik(s)}return l}s=h,h=s.parentNode}return null}function sc(s){return s=s[ji]||s[ra],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function hl(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(r(33))}function Uf(s){return s[ac]||null}var Bg=[],pl=-1;function Xa(s){return{current:s}}function Tt(s){0>pl||(s.current=Bg[pl],Bg[pl]=null,pl--)}function wt(s,l){pl++,Bg[pl]=s.current,s.current=l}var Qa={},Tr=Xa(Qa),tn=Xa(!1),Qs=Qa;function ml(s,l){var h=s.type.contextTypes;if(!h)return Qa;var v=s.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===l)return v.__reactInternalMemoizedMaskedChildContext;var b={},E;for(E in h)b[E]=l[E];return v&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=l,s.__reactInternalMemoizedMaskedChildContext=b),b}function rn(s){return s=s.childContextTypes,s!=null}function Bf(){Tt(tn),Tt(Tr)}function Ok(s,l,h){if(Tr.current!==Qa)throw Error(r(168));wt(Tr,l),wt(tn,h)}function Ck(s,l,h){var v=s.stateNode;if(l=l.childContextTypes,typeof v.getChildContext!="function")return h;v=v.getChildContext();for(var b in v)if(!(b in l))throw Error(r(108,he(s)||"Unknown",b));return se({},h,v)}function qf(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Qa,Qs=Tr.current,wt(Tr,s),wt(tn,tn.current),!0}function Rk(s,l,h){var v=s.stateNode;if(!v)throw Error(r(169));h?(s=Ck(s,l,Qs),v.__reactInternalMemoizedMergedChildContext=s,Tt(tn),Tt(Tr),wt(Tr,s)):Tt(tn),wt(tn,h)}var na=null,zf=!1,qg=!1;function Mk(s){na===null?na=[s]:na.push(s)}function G3(s){zf=!0,Mk(s)}function Ja(){if(!qg&&na!==null){qg=!0;var s=0,l=Ze;try{var h=na;for(Ze=1;s<h.length;s++){var v=h[s];do v=v(!0);while(v!==null)}na=null,zf=!1}catch(b){throw na!==null&&(na=na.slice(s+1)),Ko(Bs,Ja),b}finally{Ze=l,qg=!1}}return null}var gl=[],vl=0,Wf=null,Hf=0,Rn=[],Mn=0,Js=null,ia=1,aa="";function Zs(s,l){gl[vl++]=Hf,gl[vl++]=Wf,Wf=s,Hf=l}function Dk(s,l,h){Rn[Mn++]=ia,Rn[Mn++]=aa,Rn[Mn++]=Js,Js=s;var v=ia;s=aa;var b=32-Br(v)-1;v&=~(1<<b),h+=1;var E=32-Br(l)+b;if(30<E){var F=b-b%5;E=(v&(1<<F)-1).toString(32),v>>=F,b-=F,ia=1<<32-Br(l)+b|h<<b|v,aa=E+s}else ia=1<<E|h<<b|v,aa=s}function zg(s){s.return!==null&&(Zs(s,1),Dk(s,1,0))}function Wg(s){for(;s===Wf;)Wf=gl[--vl],gl[vl]=null,Hf=gl[--vl],gl[vl]=null;for(;s===Js;)Js=Rn[--Mn],Rn[Mn]=null,aa=Rn[--Mn],Rn[Mn]=null,ia=Rn[--Mn],Rn[Mn]=null}var vn=null,yn=null,It=!1,si=null;function Lk(s,l){var h=Fn(5,null,null,0);h.elementType="DELETED",h.stateNode=l,h.return=s,l=s.deletions,l===null?(s.deletions=[h],s.flags|=16):l.push(h)}function $k(s,l){switch(s.tag){case 5:var h=s.type;return l=l.nodeType!==1||h.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(s.stateNode=l,vn=s,yn=Ya(l.firstChild),!0):!1;case 6:return l=s.pendingProps===""||l.nodeType!==3?null:l,l!==null?(s.stateNode=l,vn=s,yn=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(h=Js!==null?{id:ia,overflow:aa}:null,s.memoizedState={dehydrated:l,treeContext:h,retryLane:1073741824},h=Fn(18,null,null,0),h.stateNode=l,h.return=s,s.child=h,vn=s,yn=null,!0):!1;default:return!1}}function Hg(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Gg(s){if(It){var l=yn;if(l){var h=l;if(!$k(s,l)){if(Hg(s))throw Error(r(418));l=Ya(h.nextSibling);var v=vn;l&&$k(s,l)?Lk(v,h):(s.flags=s.flags&-4097|2,It=!1,vn=s)}}else{if(Hg(s))throw Error(r(418));s.flags=s.flags&-4097|2,It=!1,vn=s}}}function Fk(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;vn=s}function Gf(s){if(s!==vn)return!1;if(!It)return Fk(s),It=!0,!1;var l;if((l=s.tag!==3)&&!(l=s.tag!==5)&&(l=s.type,l=l!=="head"&&l!=="body"&&!$g(s.type,s.memoizedProps)),l&&(l=yn)){if(Hg(s))throw Vk(),Error(r(418));for(;l;)Lk(s,l),l=Ya(l.nextSibling)}if(Fk(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,l=0;s;){if(s.nodeType===8){var h=s.data;if(h==="/$"){if(l===0){yn=Ya(s.nextSibling);break e}l--}else h!=="$"&&h!=="$!"&&h!=="$?"||l++}s=s.nextSibling}yn=null}}else yn=vn?Ya(s.stateNode.nextSibling):null;return!0}function Vk(){for(var s=yn;s;)s=Ya(s.nextSibling)}function yl(){yn=vn=null,It=!1}function Kg(s){si===null?si=[s]:si.push(s)}var K3=M.ReactCurrentBatchConfig;function oc(s,l,h){if(s=h.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(r(309));var v=h.stateNode}if(!v)throw Error(r(147,s));var b=v,E=""+s;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===E?l.ref:(l=function(F){var B=b.refs;F===null?delete B[E]:B[E]=F},l._stringRef=E,l)}if(typeof s!="string")throw Error(r(284));if(!h._owner)throw Error(r(290,s))}return s}function Kf(s,l){throw s=Object.prototype.toString.call(l),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s))}function Uk(s){var l=s._init;return l(s._payload)}function Bk(s){function l(re,X){if(s){var ae=re.deletions;ae===null?(re.deletions=[X],re.flags|=16):ae.push(X)}}function h(re,X){if(!s)return null;for(;X!==null;)l(re,X),X=X.sibling;return null}function v(re,X){for(re=new Map;X!==null;)X.key!==null?re.set(X.key,X):re.set(X.index,X),X=X.sibling;return re}function b(re,X){return re=ss(re,X),re.index=0,re.sibling=null,re}function E(re,X,ae){return re.index=ae,s?(ae=re.alternate,ae!==null?(ae=ae.index,ae<X?(re.flags|=2,X):ae):(re.flags|=2,X)):(re.flags|=1048576,X)}function F(re){return s&&re.alternate===null&&(re.flags|=2),re}function B(re,X,ae,we){return X===null||X.tag!==6?(X=Fv(ae,re.mode,we),X.return=re,X):(X=b(X,ae),X.return=re,X)}function H(re,X,ae,we){var De=ae.type;return De===T?ye(re,X,ae.props.children,we,ae.key):X!==null&&(X.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===Q&&Uk(De)===X.type)?(we=b(X,ae.props),we.ref=oc(re,X,ae),we.return=re,we):(we=yh(ae.type,ae.key,ae.props,null,re.mode,we),we.ref=oc(re,X,ae),we.return=re,we)}function oe(re,X,ae,we){return X===null||X.tag!==4||X.stateNode.containerInfo!==ae.containerInfo||X.stateNode.implementation!==ae.implementation?(X=Vv(ae,re.mode,we),X.return=re,X):(X=b(X,ae.children||[]),X.return=re,X)}function ye(re,X,ae,we,De){return X===null||X.tag!==7?(X=oo(ae,re.mode,we,De),X.return=re,X):(X=b(X,ae),X.return=re,X)}function _e(re,X,ae){if(typeof X=="string"&&X!==""||typeof X=="number")return X=Fv(""+X,re.mode,ae),X.return=re,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case A:return ae=yh(X.type,X.key,X.props,null,re.mode,ae),ae.ref=oc(re,null,X),ae.return=re,ae;case j:return X=Vv(X,re.mode,ae),X.return=re,X;case Q:var we=X._init;return _e(re,we(X._payload),ae)}if(Vr(X)||J(X))return X=oo(X,re.mode,ae,null),X.return=re,X;Kf(re,X)}return null}function ve(re,X,ae,we){var De=X!==null?X.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number")return De!==null?null:B(re,X,""+ae,we);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case A:return ae.key===De?H(re,X,ae,we):null;case j:return ae.key===De?oe(re,X,ae,we):null;case Q:return De=ae._init,ve(re,X,De(ae._payload),we)}if(Vr(ae)||J(ae))return De!==null?null:ye(re,X,ae,we,null);Kf(re,ae)}return null}function Ne(re,X,ae,we,De){if(typeof we=="string"&&we!==""||typeof we=="number")return re=re.get(ae)||null,B(X,re,""+we,De);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case A:return re=re.get(we.key===null?ae:we.key)||null,H(X,re,we,De);case j:return re=re.get(we.key===null?ae:we.key)||null,oe(X,re,we,De);case Q:var Ve=we._init;return Ne(re,X,ae,Ve(we._payload),De)}if(Vr(we)||J(we))return re=re.get(ae)||null,ye(X,re,we,De,null);Kf(X,we)}return null}function Oe(re,X,ae,we){for(var De=null,Ve=null,Ue=X,We=X=0,fr=null;Ue!==null&&We<ae.length;We++){Ue.index>We?(fr=Ue,Ue=null):fr=Ue.sibling;var lt=ve(re,Ue,ae[We],we);if(lt===null){Ue===null&&(Ue=fr);break}s&&Ue&&lt.alternate===null&&l(re,Ue),X=E(lt,X,We),Ve===null?De=lt:Ve.sibling=lt,Ve=lt,Ue=fr}if(We===ae.length)return h(re,Ue),It&&Zs(re,We),De;if(Ue===null){for(;We<ae.length;We++)Ue=_e(re,ae[We],we),Ue!==null&&(X=E(Ue,X,We),Ve===null?De=Ue:Ve.sibling=Ue,Ve=Ue);return It&&Zs(re,We),De}for(Ue=v(re,Ue);We<ae.length;We++)fr=Ne(Ue,re,We,ae[We],we),fr!==null&&(s&&fr.alternate!==null&&Ue.delete(fr.key===null?We:fr.key),X=E(fr,X,We),Ve===null?De=fr:Ve.sibling=fr,Ve=fr);return s&&Ue.forEach(function(os){return l(re,os)}),It&&Zs(re,We),De}function Ce(re,X,ae,we){var De=J(ae);if(typeof De!="function")throw Error(r(150));if(ae=De.call(ae),ae==null)throw Error(r(151));for(var Ve=De=null,Ue=X,We=X=0,fr=null,lt=ae.next();Ue!==null&&!lt.done;We++,lt=ae.next()){Ue.index>We?(fr=Ue,Ue=null):fr=Ue.sibling;var os=ve(re,Ue,lt.value,we);if(os===null){Ue===null&&(Ue=fr);break}s&&Ue&&os.alternate===null&&l(re,Ue),X=E(os,X,We),Ve===null?De=os:Ve.sibling=os,Ve=os,Ue=fr}if(lt.done)return h(re,Ue),It&&Zs(re,We),De;if(Ue===null){for(;!lt.done;We++,lt=ae.next())lt=_e(re,lt.value,we),lt!==null&&(X=E(lt,X,We),Ve===null?De=lt:Ve.sibling=lt,Ve=lt);return It&&Zs(re,We),De}for(Ue=v(re,Ue);!lt.done;We++,lt=ae.next())lt=Ne(Ue,re,We,lt.value,we),lt!==null&&(s&&lt.alternate!==null&&Ue.delete(lt.key===null?We:lt.key),X=E(lt,X,We),Ve===null?De=lt:Ve.sibling=lt,Ve=lt);return s&&Ue.forEach(function(T$){return l(re,T$)}),It&&Zs(re,We),De}function Bt(re,X,ae,we){if(typeof ae=="object"&&ae!==null&&ae.type===T&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case A:e:{for(var De=ae.key,Ve=X;Ve!==null;){if(Ve.key===De){if(De=ae.type,De===T){if(Ve.tag===7){h(re,Ve.sibling),X=b(Ve,ae.props.children),X.return=re,re=X;break e}}else if(Ve.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===Q&&Uk(De)===Ve.type){h(re,Ve.sibling),X=b(Ve,ae.props),X.ref=oc(re,Ve,ae),X.return=re,re=X;break e}h(re,Ve);break}else l(re,Ve);Ve=Ve.sibling}ae.type===T?(X=oo(ae.props.children,re.mode,we,ae.key),X.return=re,re=X):(we=yh(ae.type,ae.key,ae.props,null,re.mode,we),we.ref=oc(re,X,ae),we.return=re,re=we)}return F(re);case j:e:{for(Ve=ae.key;X!==null;){if(X.key===Ve)if(X.tag===4&&X.stateNode.containerInfo===ae.containerInfo&&X.stateNode.implementation===ae.implementation){h(re,X.sibling),X=b(X,ae.children||[]),X.return=re,re=X;break e}else{h(re,X);break}else l(re,X);X=X.sibling}X=Vv(ae,re.mode,we),X.return=re,re=X}return F(re);case Q:return Ve=ae._init,Bt(re,X,Ve(ae._payload),we)}if(Vr(ae))return Oe(re,X,ae,we);if(J(ae))return Ce(re,X,ae,we);Kf(re,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"?(ae=""+ae,X!==null&&X.tag===6?(h(re,X.sibling),X=b(X,ae),X.return=re,re=X):(h(re,X),X=Fv(ae,re.mode,we),X.return=re,re=X),F(re)):h(re,X)}return Bt}var xl=Bk(!0),qk=Bk(!1),Yf=Xa(null),Xf=null,bl=null,Yg=null;function Xg(){Yg=bl=Xf=null}function Qg(s){var l=Yf.current;Tt(Yf),s._currentValue=l}function Jg(s,l,h){for(;s!==null;){var v=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,v!==null&&(v.childLanes|=l)):v!==null&&(v.childLanes&l)!==l&&(v.childLanes|=l),s===h)break;s=s.return}}function _l(s,l){Xf=s,Yg=bl=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&l)!==0&&(nn=!0),s.firstContext=null)}function Dn(s){var l=s._currentValue;if(Yg!==s)if(s={context:s,memoizedValue:l,next:null},bl===null){if(Xf===null)throw Error(r(308));bl=s,Xf.dependencies={lanes:0,firstContext:s}}else bl=bl.next=s;return l}var eo=null;function Zg(s){eo===null?eo=[s]:eo.push(s)}function zk(s,l,h,v){var b=l.interleaved;return b===null?(h.next=h,Zg(l)):(h.next=b.next,b.next=h),l.interleaved=h,sa(s,v)}function sa(s,l){s.lanes|=l;var h=s.alternate;for(h!==null&&(h.lanes|=l),h=s,s=s.return;s!==null;)s.childLanes|=l,h=s.alternate,h!==null&&(h.childLanes|=l),h=s,s=s.return;return h.tag===3?h.stateNode:null}var Za=!1;function ev(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wk(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function oa(s,l){return{eventTime:s,lane:l,tag:0,payload:null,callback:null,next:null}}function es(s,l,h){var v=s.updateQueue;if(v===null)return null;if(v=v.shared,(st&2)!==0){var b=v.pending;return b===null?l.next=l:(l.next=b.next,b.next=l),v.pending=l,sa(s,h)}return b=v.interleaved,b===null?(l.next=l,Zg(v)):(l.next=b.next,b.next=l),v.interleaved=l,sa(s,h)}function Qf(s,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194240)!==0)){var v=l.lanes;v&=s.pendingLanes,h|=v,l.lanes=h,qa(s,h)}}function Hk(s,l){var h=s.updateQueue,v=s.alternate;if(v!==null&&(v=v.updateQueue,h===v)){var b=null,E=null;if(h=h.firstBaseUpdate,h!==null){do{var F={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};E===null?b=E=F:E=E.next=F,h=h.next}while(h!==null);E===null?b=E=l:E=E.next=l}else b=E=l;h={baseState:v.baseState,firstBaseUpdate:b,lastBaseUpdate:E,shared:v.shared,effects:v.effects},s.updateQueue=h;return}s=h.lastBaseUpdate,s===null?h.firstBaseUpdate=l:s.next=l,h.lastBaseUpdate=l}function Jf(s,l,h,v){var b=s.updateQueue;Za=!1;var E=b.firstBaseUpdate,F=b.lastBaseUpdate,B=b.shared.pending;if(B!==null){b.shared.pending=null;var H=B,oe=H.next;H.next=null,F===null?E=oe:F.next=oe,F=H;var ye=s.alternate;ye!==null&&(ye=ye.updateQueue,B=ye.lastBaseUpdate,B!==F&&(B===null?ye.firstBaseUpdate=oe:B.next=oe,ye.lastBaseUpdate=H))}if(E!==null){var _e=b.baseState;F=0,ye=oe=H=null,B=E;do{var ve=B.lane,Ne=B.eventTime;if((v&ve)===ve){ye!==null&&(ye=ye.next={eventTime:Ne,lane:0,tag:B.tag,payload:B.payload,callback:B.callback,next:null});e:{var Oe=s,Ce=B;switch(ve=l,Ne=h,Ce.tag){case 1:if(Oe=Ce.payload,typeof Oe=="function"){_e=Oe.call(Ne,_e,ve);break e}_e=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=Ce.payload,ve=typeof Oe=="function"?Oe.call(Ne,_e,ve):Oe,ve==null)break e;_e=se({},_e,ve);break e;case 2:Za=!0}}B.callback!==null&&B.lane!==0&&(s.flags|=64,ve=b.effects,ve===null?b.effects=[B]:ve.push(B))}else Ne={eventTime:Ne,lane:ve,tag:B.tag,payload:B.payload,callback:B.callback,next:null},ye===null?(oe=ye=Ne,H=_e):ye=ye.next=Ne,F|=ve;if(B=B.next,B===null){if(B=b.shared.pending,B===null)break;ve=B,B=ve.next,ve.next=null,b.lastBaseUpdate=ve,b.shared.pending=null}}while(!0);if(ye===null&&(H=_e),b.baseState=H,b.firstBaseUpdate=oe,b.lastBaseUpdate=ye,l=b.shared.interleaved,l!==null){b=l;do F|=b.lane,b=b.next;while(b!==l)}else E===null&&(b.shared.lanes=0);no|=F,s.lanes=F,s.memoizedState=_e}}function Gk(s,l,h){if(s=l.effects,l.effects=null,s!==null)for(l=0;l<s.length;l++){var v=s[l],b=v.callback;if(b!==null){if(v.callback=null,v=h,typeof b!="function")throw Error(r(191,b));b.call(v)}}}var lc={},Ni=Xa(lc),uc=Xa(lc),cc=Xa(lc);function to(s){if(s===lc)throw Error(r(174));return s}function tv(s,l){switch(wt(cc,l),wt(uc,s),wt(Ni,lc),s=l.nodeType,s){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Lt(null,"");break;default:s=s===8?l.parentNode:l,l=s.namespaceURI||null,s=s.tagName,l=Lt(l,s)}Tt(Ni),wt(Ni,l)}function wl(){Tt(Ni),Tt(uc),Tt(cc)}function Kk(s){to(cc.current);var l=to(Ni.current),h=Lt(l,s.type);l!==h&&(wt(uc,s),wt(Ni,h))}function rv(s){uc.current===s&&(Tt(Ni),Tt(uc))}var Rt=Xa(0);function Zf(s){for(var l=s;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var nv=[];function iv(){for(var s=0;s<nv.length;s++)nv[s]._workInProgressVersionPrimary=null;nv.length=0}var eh=M.ReactCurrentDispatcher,av=M.ReactCurrentBatchConfig,ro=0,Mt=null,er=null,cr=null,th=!1,dc=!1,fc=0,Y3=0;function jr(){throw Error(r(321))}function sv(s,l){if(l===null)return!1;for(var h=0;h<l.length&&h<s.length;h++)if(!ai(s[h],l[h]))return!1;return!0}function ov(s,l,h,v,b,E){if(ro=E,Mt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,eh.current=s===null||s.memoizedState===null?Z3:e$,s=h(v,b),dc){E=0;do{if(dc=!1,fc=0,25<=E)throw Error(r(301));E+=1,cr=er=null,l.updateQueue=null,eh.current=t$,s=h(v,b)}while(dc)}if(eh.current=ih,l=er!==null&&er.next!==null,ro=0,cr=er=Mt=null,th=!1,l)throw Error(r(300));return s}function lv(){var s=fc!==0;return fc=0,s}function Pi(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cr===null?Mt.memoizedState=cr=s:cr=cr.next=s,cr}function Ln(){if(er===null){var s=Mt.alternate;s=s!==null?s.memoizedState:null}else s=er.next;var l=cr===null?Mt.memoizedState:cr.next;if(l!==null)cr=l,er=s;else{if(s===null)throw Error(r(310));er=s,s={memoizedState:er.memoizedState,baseState:er.baseState,baseQueue:er.baseQueue,queue:er.queue,next:null},cr===null?Mt.memoizedState=cr=s:cr=cr.next=s}return cr}function hc(s,l){return typeof l=="function"?l(s):l}function uv(s){var l=Ln(),h=l.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=s;var v=er,b=v.baseQueue,E=h.pending;if(E!==null){if(b!==null){var F=b.next;b.next=E.next,E.next=F}v.baseQueue=b=E,h.pending=null}if(b!==null){E=b.next,v=v.baseState;var B=F=null,H=null,oe=E;do{var ye=oe.lane;if((ro&ye)===ye)H!==null&&(H=H.next={lane:0,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),v=oe.hasEagerState?oe.eagerState:s(v,oe.action);else{var _e={lane:ye,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null};H===null?(B=H=_e,F=v):H=H.next=_e,Mt.lanes|=ye,no|=ye}oe=oe.next}while(oe!==null&&oe!==E);H===null?F=v:H.next=B,ai(v,l.memoizedState)||(nn=!0),l.memoizedState=v,l.baseState=F,l.baseQueue=H,h.lastRenderedState=v}if(s=h.interleaved,s!==null){b=s;do E=b.lane,Mt.lanes|=E,no|=E,b=b.next;while(b!==s)}else b===null&&(h.lanes=0);return[l.memoizedState,h.dispatch]}function cv(s){var l=Ln(),h=l.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=s;var v=h.dispatch,b=h.pending,E=l.memoizedState;if(b!==null){h.pending=null;var F=b=b.next;do E=s(E,F.action),F=F.next;while(F!==b);ai(E,l.memoizedState)||(nn=!0),l.memoizedState=E,l.baseQueue===null&&(l.baseState=E),h.lastRenderedState=E}return[E,v]}function Yk(){}function Xk(s,l){var h=Mt,v=Ln(),b=l(),E=!ai(v.memoizedState,b);if(E&&(v.memoizedState=b,nn=!0),v=v.queue,dv(Zk.bind(null,h,v,s),[s]),v.getSnapshot!==l||E||cr!==null&&cr.memoizedState.tag&1){if(h.flags|=2048,pc(9,Jk.bind(null,h,v,b,l),void 0,null),dr===null)throw Error(r(349));(ro&30)!==0||Qk(h,l,b)}return b}function Qk(s,l,h){s.flags|=16384,s={getSnapshot:l,value:h},l=Mt.updateQueue,l===null?(l={lastEffect:null,stores:null},Mt.updateQueue=l,l.stores=[s]):(h=l.stores,h===null?l.stores=[s]:h.push(s))}function Jk(s,l,h,v){l.value=h,l.getSnapshot=v,eE(l)&&tE(s)}function Zk(s,l,h){return h(function(){eE(l)&&tE(s)})}function eE(s){var l=s.getSnapshot;s=s.value;try{var h=l();return!ai(s,h)}catch{return!0}}function tE(s){var l=sa(s,1);l!==null&&ci(l,s,1,-1)}function rE(s){var l=Pi();return typeof s=="function"&&(s=s()),l.memoizedState=l.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hc,lastRenderedState:s},l.queue=s,s=s.dispatch=J3.bind(null,Mt,s),[l.memoizedState,s]}function pc(s,l,h,v){return s={tag:s,create:l,destroy:h,deps:v,next:null},l=Mt.updateQueue,l===null?(l={lastEffect:null,stores:null},Mt.updateQueue=l,l.lastEffect=s.next=s):(h=l.lastEffect,h===null?l.lastEffect=s.next=s:(v=h.next,h.next=s,s.next=v,l.lastEffect=s)),s}function nE(){return Ln().memoizedState}function rh(s,l,h,v){var b=Pi();Mt.flags|=s,b.memoizedState=pc(1|l,h,void 0,v===void 0?null:v)}function nh(s,l,h,v){var b=Ln();v=v===void 0?null:v;var E=void 0;if(er!==null){var F=er.memoizedState;if(E=F.destroy,v!==null&&sv(v,F.deps)){b.memoizedState=pc(l,h,E,v);return}}Mt.flags|=s,b.memoizedState=pc(1|l,h,E,v)}function iE(s,l){return rh(8390656,8,s,l)}function dv(s,l){return nh(2048,8,s,l)}function aE(s,l){return nh(4,2,s,l)}function sE(s,l){return nh(4,4,s,l)}function oE(s,l){if(typeof l=="function")return s=s(),l(s),function(){l(null)};if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function lE(s,l,h){return h=h!=null?h.concat([s]):null,nh(4,4,oE.bind(null,l,s),h)}function fv(){}function uE(s,l){var h=Ln();l=l===void 0?null:l;var v=h.memoizedState;return v!==null&&l!==null&&sv(l,v[1])?v[0]:(h.memoizedState=[s,l],s)}function cE(s,l){var h=Ln();l=l===void 0?null:l;var v=h.memoizedState;return v!==null&&l!==null&&sv(l,v[1])?v[0]:(s=s(),h.memoizedState=[s,l],s)}function dE(s,l,h){return(ro&21)===0?(s.baseState&&(s.baseState=!1,nn=!0),s.memoizedState=h):(ai(h,l)||(h=Ws(),Mt.lanes|=h,no|=h,s.baseState=!0),l)}function X3(s,l){var h=Ze;Ze=h!==0&&4>h?h:4,s(!0);var v=av.transition;av.transition={};try{s(!1),l()}finally{Ze=h,av.transition=v}}function fE(){return Ln().memoizedState}function Q3(s,l,h){var v=is(s);if(h={lane:v,action:h,hasEagerState:!1,eagerState:null,next:null},hE(s))pE(l,h);else if(h=zk(s,l,h,v),h!==null){var b=Wr();ci(h,s,v,b),mE(h,l,v)}}function J3(s,l,h){var v=is(s),b={lane:v,action:h,hasEagerState:!1,eagerState:null,next:null};if(hE(s))pE(l,b);else{var E=s.alternate;if(s.lanes===0&&(E===null||E.lanes===0)&&(E=l.lastRenderedReducer,E!==null))try{var F=l.lastRenderedState,B=E(F,h);if(b.hasEagerState=!0,b.eagerState=B,ai(B,F)){var H=l.interleaved;H===null?(b.next=b,Zg(l)):(b.next=H.next,H.next=b),l.interleaved=b;return}}catch{}finally{}h=zk(s,l,b,v),h!==null&&(b=Wr(),ci(h,s,v,b),mE(h,l,v))}}function hE(s){var l=s.alternate;return s===Mt||l!==null&&l===Mt}function pE(s,l){dc=th=!0;var h=s.pending;h===null?l.next=l:(l.next=h.next,h.next=l),s.pending=l}function mE(s,l,h){if((h&4194240)!==0){var v=l.lanes;v&=s.pendingLanes,h|=v,l.lanes=h,qa(s,h)}}var ih={readContext:Dn,useCallback:jr,useContext:jr,useEffect:jr,useImperativeHandle:jr,useInsertionEffect:jr,useLayoutEffect:jr,useMemo:jr,useReducer:jr,useRef:jr,useState:jr,useDebugValue:jr,useDeferredValue:jr,useTransition:jr,useMutableSource:jr,useSyncExternalStore:jr,useId:jr,unstable_isNewReconciler:!1},Z3={readContext:Dn,useCallback:function(s,l){return Pi().memoizedState=[s,l===void 0?null:l],s},useContext:Dn,useEffect:iE,useImperativeHandle:function(s,l,h){return h=h!=null?h.concat([s]):null,rh(4194308,4,oE.bind(null,l,s),h)},useLayoutEffect:function(s,l){return rh(4194308,4,s,l)},useInsertionEffect:function(s,l){return rh(4,2,s,l)},useMemo:function(s,l){var h=Pi();return l=l===void 0?null:l,s=s(),h.memoizedState=[s,l],s},useReducer:function(s,l,h){var v=Pi();return l=h!==void 0?h(l):l,v.memoizedState=v.baseState=l,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:l},v.queue=s,s=s.dispatch=Q3.bind(null,Mt,s),[v.memoizedState,s]},useRef:function(s){var l=Pi();return s={current:s},l.memoizedState=s},useState:rE,useDebugValue:fv,useDeferredValue:function(s){return Pi().memoizedState=s},useTransition:function(){var s=rE(!1),l=s[0];return s=X3.bind(null,s[1]),Pi().memoizedState=s,[l,s]},useMutableSource:function(){},useSyncExternalStore:function(s,l,h){var v=Mt,b=Pi();if(It){if(h===void 0)throw Error(r(407));h=h()}else{if(h=l(),dr===null)throw Error(r(349));(ro&30)!==0||Qk(v,l,h)}b.memoizedState=h;var E={value:h,getSnapshot:l};return b.queue=E,iE(Zk.bind(null,v,E,s),[s]),v.flags|=2048,pc(9,Jk.bind(null,v,E,h,l),void 0,null),h},useId:function(){var s=Pi(),l=dr.identifierPrefix;if(It){var h=aa,v=ia;h=(v&~(1<<32-Br(v)-1)).toString(32)+h,l=":"+l+"R"+h,h=fc++,0<h&&(l+="H"+h.toString(32)),l+=":"}else h=Y3++,l=":"+l+"r"+h.toString(32)+":";return s.memoizedState=l},unstable_isNewReconciler:!1},e$={readContext:Dn,useCallback:uE,useContext:Dn,useEffect:dv,useImperativeHandle:lE,useInsertionEffect:aE,useLayoutEffect:sE,useMemo:cE,useReducer:uv,useRef:nE,useState:function(){return uv(hc)},useDebugValue:fv,useDeferredValue:function(s){var l=Ln();return dE(l,er.memoizedState,s)},useTransition:function(){var s=uv(hc)[0],l=Ln().memoizedState;return[s,l]},useMutableSource:Yk,useSyncExternalStore:Xk,useId:fE,unstable_isNewReconciler:!1},t$={readContext:Dn,useCallback:uE,useContext:Dn,useEffect:dv,useImperativeHandle:lE,useInsertionEffect:aE,useLayoutEffect:sE,useMemo:cE,useReducer:cv,useRef:nE,useState:function(){return cv(hc)},useDebugValue:fv,useDeferredValue:function(s){var l=Ln();return er===null?l.memoizedState=s:dE(l,er.memoizedState,s)},useTransition:function(){var s=cv(hc)[0],l=Ln().memoizedState;return[s,l]},useMutableSource:Yk,useSyncExternalStore:Xk,useId:fE,unstable_isNewReconciler:!1};function oi(s,l){if(s&&s.defaultProps){l=se({},l),s=s.defaultProps;for(var h in s)l[h]===void 0&&(l[h]=s[h]);return l}return l}function hv(s,l,h,v){l=s.memoizedState,h=h(v,l),h=h==null?l:se({},l,h),s.memoizedState=h,s.lanes===0&&(s.updateQueue.baseState=h)}var ah={isMounted:function(s){return(s=s._reactInternals)?Jn(s)===s:!1},enqueueSetState:function(s,l,h){s=s._reactInternals;var v=Wr(),b=is(s),E=oa(v,b);E.payload=l,h!=null&&(E.callback=h),l=es(s,E,b),l!==null&&(ci(l,s,b,v),Qf(l,s,b))},enqueueReplaceState:function(s,l,h){s=s._reactInternals;var v=Wr(),b=is(s),E=oa(v,b);E.tag=1,E.payload=l,h!=null&&(E.callback=h),l=es(s,E,b),l!==null&&(ci(l,s,b,v),Qf(l,s,b))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var h=Wr(),v=is(s),b=oa(h,v);b.tag=2,l!=null&&(b.callback=l),l=es(s,b,v),l!==null&&(ci(l,s,v,h),Qf(l,s,v))}};function gE(s,l,h,v,b,E,F){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(v,E,F):l.prototype&&l.prototype.isPureReactComponent?!ec(h,v)||!ec(b,E):!0}function vE(s,l,h){var v=!1,b=Qa,E=l.contextType;return typeof E=="object"&&E!==null?E=Dn(E):(b=rn(l)?Qs:Tr.current,v=l.contextTypes,E=(v=v!=null)?ml(s,b):Qa),l=new l(h,E),s.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=ah,s.stateNode=l,l._reactInternals=s,v&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=b,s.__reactInternalMemoizedMaskedChildContext=E),l}function yE(s,l,h,v){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,v),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,v),l.state!==s&&ah.enqueueReplaceState(l,l.state,null)}function pv(s,l,h,v){var b=s.stateNode;b.props=h,b.state=s.memoizedState,b.refs={},ev(s);var E=l.contextType;typeof E=="object"&&E!==null?b.context=Dn(E):(E=rn(l)?Qs:Tr.current,b.context=ml(s,E)),b.state=s.memoizedState,E=l.getDerivedStateFromProps,typeof E=="function"&&(hv(s,l,E,h),b.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(l=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),l!==b.state&&ah.enqueueReplaceState(b,b.state,null),Jf(s,h,b,v),b.state=s.memoizedState),typeof b.componentDidMount=="function"&&(s.flags|=4194308)}function Sl(s,l){try{var h="",v=l;do h+=de(v),v=v.return;while(v);var b=h}catch(E){b=`
Error generating stack: `+E.message+`
`+E.stack}return{value:s,source:l,stack:b,digest:null}}function mv(s,l,h){return{value:s,source:null,stack:h??null,digest:l??null}}function gv(s,l){try{console.error(l.value)}catch(h){setTimeout(function(){throw h})}}var r$=typeof WeakMap=="function"?WeakMap:Map;function xE(s,l,h){h=oa(-1,h),h.tag=3,h.payload={element:null};var v=l.value;return h.callback=function(){fh||(fh=!0,Iv=v),gv(s,l)},h}function bE(s,l,h){h=oa(-1,h),h.tag=3;var v=s.type.getDerivedStateFromError;if(typeof v=="function"){var b=l.value;h.payload=function(){return v(b)},h.callback=function(){gv(s,l)}}var E=s.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(h.callback=function(){gv(s,l),typeof v!="function"&&(rs===null?rs=new Set([this]):rs.add(this));var F=l.stack;this.componentDidCatch(l.value,{componentStack:F!==null?F:""})}),h}function _E(s,l,h){var v=s.pingCache;if(v===null){v=s.pingCache=new r$;var b=new Set;v.set(l,b)}else b=v.get(l),b===void 0&&(b=new Set,v.set(l,b));b.has(h)||(b.add(h),s=g$.bind(null,s,l,h),l.then(s,s))}function wE(s){do{var l;if((l=s.tag===13)&&(l=s.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return s;s=s.return}while(s!==null);return null}function SE(s,l,h,v,b){return(s.mode&1)===0?(s===l?s.flags|=65536:(s.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(l=oa(-1,1),l.tag=2,es(h,l,1))),h.lanes|=1),s):(s.flags|=65536,s.lanes=b,s)}var n$=M.ReactCurrentOwner,nn=!1;function zr(s,l,h,v){l.child=s===null?qk(l,null,h,v):xl(l,s.child,h,v)}function kE(s,l,h,v,b){h=h.render;var E=l.ref;return _l(l,b),v=ov(s,l,h,v,E,b),h=lv(),s!==null&&!nn?(l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~b,la(s,l,b)):(It&&h&&zg(l),l.flags|=1,zr(s,l,v,b),l.child)}function EE(s,l,h,v,b){if(s===null){var E=h.type;return typeof E=="function"&&!$v(E)&&E.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(l.tag=15,l.type=E,AE(s,l,E,v,b)):(s=yh(h.type,null,v,l,l.mode,b),s.ref=l.ref,s.return=l,l.child=s)}if(E=s.child,(s.lanes&b)===0){var F=E.memoizedProps;if(h=h.compare,h=h!==null?h:ec,h(F,v)&&s.ref===l.ref)return la(s,l,b)}return l.flags|=1,s=ss(E,v),s.ref=l.ref,s.return=l,l.child=s}function AE(s,l,h,v,b){if(s!==null){var E=s.memoizedProps;if(ec(E,v)&&s.ref===l.ref)if(nn=!1,l.pendingProps=v=E,(s.lanes&b)!==0)(s.flags&131072)!==0&&(nn=!0);else return l.lanes=s.lanes,la(s,l,b)}return vv(s,l,h,v,b)}function TE(s,l,h){var v=l.pendingProps,b=v.children,E=s!==null?s.memoizedState:null;if(v.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},wt(El,xn),xn|=h;else{if((h&1073741824)===0)return s=E!==null?E.baseLanes|h:h,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:s,cachePool:null,transitions:null},l.updateQueue=null,wt(El,xn),xn|=s,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=E!==null?E.baseLanes:h,wt(El,xn),xn|=v}else E!==null?(v=E.baseLanes|h,l.memoizedState=null):v=h,wt(El,xn),xn|=v;return zr(s,l,b,h),l.child}function jE(s,l){var h=l.ref;(s===null&&h!==null||s!==null&&s.ref!==h)&&(l.flags|=512,l.flags|=2097152)}function vv(s,l,h,v,b){var E=rn(h)?Qs:Tr.current;return E=ml(l,E),_l(l,b),h=ov(s,l,h,v,E,b),v=lv(),s!==null&&!nn?(l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~b,la(s,l,b)):(It&&v&&zg(l),l.flags|=1,zr(s,l,h,b),l.child)}function NE(s,l,h,v,b){if(rn(h)){var E=!0;qf(l)}else E=!1;if(_l(l,b),l.stateNode===null)oh(s,l),vE(l,h,v),pv(l,h,v,b),v=!0;else if(s===null){var F=l.stateNode,B=l.memoizedProps;F.props=B;var H=F.context,oe=h.contextType;typeof oe=="object"&&oe!==null?oe=Dn(oe):(oe=rn(h)?Qs:Tr.current,oe=ml(l,oe));var ye=h.getDerivedStateFromProps,_e=typeof ye=="function"||typeof F.getSnapshotBeforeUpdate=="function";_e||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(B!==v||H!==oe)&&yE(l,F,v,oe),Za=!1;var ve=l.memoizedState;F.state=ve,Jf(l,v,F,b),H=l.memoizedState,B!==v||ve!==H||tn.current||Za?(typeof ye=="function"&&(hv(l,h,ye,v),H=l.memoizedState),(B=Za||gE(l,h,B,v,ve,H,oe))?(_e||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(l.flags|=4194308)):(typeof F.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=v,l.memoizedState=H),F.props=v,F.state=H,F.context=oe,v=B):(typeof F.componentDidMount=="function"&&(l.flags|=4194308),v=!1)}else{F=l.stateNode,Wk(s,l),B=l.memoizedProps,oe=l.type===l.elementType?B:oi(l.type,B),F.props=oe,_e=l.pendingProps,ve=F.context,H=h.contextType,typeof H=="object"&&H!==null?H=Dn(H):(H=rn(h)?Qs:Tr.current,H=ml(l,H));var Ne=h.getDerivedStateFromProps;(ye=typeof Ne=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(B!==_e||ve!==H)&&yE(l,F,v,H),Za=!1,ve=l.memoizedState,F.state=ve,Jf(l,v,F,b);var Oe=l.memoizedState;B!==_e||ve!==Oe||tn.current||Za?(typeof Ne=="function"&&(hv(l,h,Ne,v),Oe=l.memoizedState),(oe=Za||gE(l,h,oe,v,ve,Oe,H)||!1)?(ye||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(v,Oe,H),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(v,Oe,H)),typeof F.componentDidUpdate=="function"&&(l.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof F.componentDidUpdate!="function"||B===s.memoizedProps&&ve===s.memoizedState||(l.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||B===s.memoizedProps&&ve===s.memoizedState||(l.flags|=1024),l.memoizedProps=v,l.memoizedState=Oe),F.props=v,F.state=Oe,F.context=H,v=oe):(typeof F.componentDidUpdate!="function"||B===s.memoizedProps&&ve===s.memoizedState||(l.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||B===s.memoizedProps&&ve===s.memoizedState||(l.flags|=1024),v=!1)}return yv(s,l,h,v,E,b)}function yv(s,l,h,v,b,E){jE(s,l);var F=(l.flags&128)!==0;if(!v&&!F)return b&&Rk(l,h,!1),la(s,l,E);v=l.stateNode,n$.current=l;var B=F&&typeof h.getDerivedStateFromError!="function"?null:v.render();return l.flags|=1,s!==null&&F?(l.child=xl(l,s.child,null,E),l.child=xl(l,null,B,E)):zr(s,l,B,E),l.memoizedState=v.state,b&&Rk(l,h,!0),l.child}function PE(s){var l=s.stateNode;l.pendingContext?Ok(s,l.pendingContext,l.pendingContext!==l.context):l.context&&Ok(s,l.context,!1),tv(s,l.containerInfo)}function IE(s,l,h,v,b){return yl(),Kg(b),l.flags|=256,zr(s,l,h,v),l.child}var xv={dehydrated:null,treeContext:null,retryLane:0};function bv(s){return{baseLanes:s,cachePool:null,transitions:null}}function OE(s,l,h){var v=l.pendingProps,b=Rt.current,E=!1,F=(l.flags&128)!==0,B;if((B=F)||(B=s!==null&&s.memoizedState===null?!1:(b&2)!==0),B?(E=!0,l.flags&=-129):(s===null||s.memoizedState!==null)&&(b|=1),wt(Rt,b&1),s===null)return Gg(l),s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((l.mode&1)===0?l.lanes=1:s.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(F=v.children,s=v.fallback,E?(v=l.mode,E=l.child,F={mode:"hidden",children:F},(v&1)===0&&E!==null?(E.childLanes=0,E.pendingProps=F):E=xh(F,v,0,null),s=oo(s,v,h,null),E.return=l,s.return=l,E.sibling=s,l.child=E,l.child.memoizedState=bv(h),l.memoizedState=xv,s):_v(l,F));if(b=s.memoizedState,b!==null&&(B=b.dehydrated,B!==null))return i$(s,l,F,v,B,b,h);if(E){E=v.fallback,F=l.mode,b=s.child,B=b.sibling;var H={mode:"hidden",children:v.children};return(F&1)===0&&l.child!==b?(v=l.child,v.childLanes=0,v.pendingProps=H,l.deletions=null):(v=ss(b,H),v.subtreeFlags=b.subtreeFlags&14680064),B!==null?E=ss(B,E):(E=oo(E,F,h,null),E.flags|=2),E.return=l,v.return=l,v.sibling=E,l.child=v,v=E,E=l.child,F=s.child.memoizedState,F=F===null?bv(h):{baseLanes:F.baseLanes|h,cachePool:null,transitions:F.transitions},E.memoizedState=F,E.childLanes=s.childLanes&~h,l.memoizedState=xv,v}return E=s.child,s=E.sibling,v=ss(E,{mode:"visible",children:v.children}),(l.mode&1)===0&&(v.lanes=h),v.return=l,v.sibling=null,s!==null&&(h=l.deletions,h===null?(l.deletions=[s],l.flags|=16):h.push(s)),l.child=v,l.memoizedState=null,v}function _v(s,l){return l=xh({mode:"visible",children:l},s.mode,0,null),l.return=s,s.child=l}function sh(s,l,h,v){return v!==null&&Kg(v),xl(l,s.child,null,h),s=_v(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function i$(s,l,h,v,b,E,F){if(h)return l.flags&256?(l.flags&=-257,v=mv(Error(r(422))),sh(s,l,F,v)):l.memoizedState!==null?(l.child=s.child,l.flags|=128,null):(E=v.fallback,b=l.mode,v=xh({mode:"visible",children:v.children},b,0,null),E=oo(E,b,F,null),E.flags|=2,v.return=l,E.return=l,v.sibling=E,l.child=v,(l.mode&1)!==0&&xl(l,s.child,null,F),l.child.memoizedState=bv(F),l.memoizedState=xv,E);if((l.mode&1)===0)return sh(s,l,F,null);if(b.data==="$!"){if(v=b.nextSibling&&b.nextSibling.dataset,v)var B=v.dgst;return v=B,E=Error(r(419)),v=mv(E,v,void 0),sh(s,l,F,v)}if(B=(F&s.childLanes)!==0,nn||B){if(v=dr,v!==null){switch(F&-F){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=(b&(v.suspendedLanes|F))!==0?0:b,b!==0&&b!==E.retryLane&&(E.retryLane=b,sa(s,b),ci(v,s,b,-1))}return Lv(),v=mv(Error(r(421))),sh(s,l,F,v)}return b.data==="$?"?(l.flags|=128,l.child=s.child,l=v$.bind(null,s),b._reactRetry=l,null):(s=E.treeContext,yn=Ya(b.nextSibling),vn=l,It=!0,si=null,s!==null&&(Rn[Mn++]=ia,Rn[Mn++]=aa,Rn[Mn++]=Js,ia=s.id,aa=s.overflow,Js=l),l=_v(l,v.children),l.flags|=4096,l)}function CE(s,l,h){s.lanes|=l;var v=s.alternate;v!==null&&(v.lanes|=l),Jg(s.return,l,h)}function wv(s,l,h,v,b){var E=s.memoizedState;E===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:v,tail:h,tailMode:b}:(E.isBackwards=l,E.rendering=null,E.renderingStartTime=0,E.last=v,E.tail=h,E.tailMode=b)}function RE(s,l,h){var v=l.pendingProps,b=v.revealOrder,E=v.tail;if(zr(s,l,v.children,h),v=Rt.current,(v&2)!==0)v=v&1|2,l.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&CE(s,h,l);else if(s.tag===19)CE(s,h,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}v&=1}if(wt(Rt,v),(l.mode&1)===0)l.memoizedState=null;else switch(b){case"forwards":for(h=l.child,b=null;h!==null;)s=h.alternate,s!==null&&Zf(s)===null&&(b=h),h=h.sibling;h=b,h===null?(b=l.child,l.child=null):(b=h.sibling,h.sibling=null),wv(l,!1,b,h,E);break;case"backwards":for(h=null,b=l.child,l.child=null;b!==null;){if(s=b.alternate,s!==null&&Zf(s)===null){l.child=b;break}s=b.sibling,b.sibling=h,h=b,b=s}wv(l,!0,h,null,E);break;case"together":wv(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function oh(s,l){(l.mode&1)===0&&s!==null&&(s.alternate=null,l.alternate=null,l.flags|=2)}function la(s,l,h){if(s!==null&&(l.dependencies=s.dependencies),no|=l.lanes,(h&l.childLanes)===0)return null;if(s!==null&&l.child!==s.child)throw Error(r(153));if(l.child!==null){for(s=l.child,h=ss(s,s.pendingProps),l.child=h,h.return=l;s.sibling!==null;)s=s.sibling,h=h.sibling=ss(s,s.pendingProps),h.return=l;h.sibling=null}return l.child}function a$(s,l,h){switch(l.tag){case 3:PE(l),yl();break;case 5:Kk(l);break;case 1:rn(l.type)&&qf(l);break;case 4:tv(l,l.stateNode.containerInfo);break;case 10:var v=l.type._context,b=l.memoizedProps.value;wt(Yf,v._currentValue),v._currentValue=b;break;case 13:if(v=l.memoizedState,v!==null)return v.dehydrated!==null?(wt(Rt,Rt.current&1),l.flags|=128,null):(h&l.child.childLanes)!==0?OE(s,l,h):(wt(Rt,Rt.current&1),s=la(s,l,h),s!==null?s.sibling:null);wt(Rt,Rt.current&1);break;case 19:if(v=(h&l.childLanes)!==0,(s.flags&128)!==0){if(v)return RE(s,l,h);l.flags|=128}if(b=l.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),wt(Rt,Rt.current),v)break;return null;case 22:case 23:return l.lanes=0,TE(s,l,h)}return la(s,l,h)}var ME,Sv,DE,LE;ME=function(s,l){for(var h=l.child;h!==null;){if(h.tag===5||h.tag===6)s.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===l)break;for(;h.sibling===null;){if(h.return===null||h.return===l)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},Sv=function(){},DE=function(s,l,h,v){var b=s.memoizedProps;if(b!==v){s=l.stateNode,to(Ni.current);var E=null;switch(h){case"input":b=me(s,b),v=me(s,v),E=[];break;case"select":b=se({},b,{value:void 0}),v=se({},v,{value:void 0}),E=[];break;case"textarea":b=Qr(s,b),v=Qr(s,v),E=[];break;default:typeof b.onClick!="function"&&typeof v.onClick=="function"&&(s.onclick=Vf)}Da(h,v);var F;h=null;for(oe in b)if(!v.hasOwnProperty(oe)&&b.hasOwnProperty(oe)&&b[oe]!=null)if(oe==="style"){var B=b[oe];for(F in B)B.hasOwnProperty(F)&&(h||(h={}),h[F]="")}else oe!=="dangerouslySetInnerHTML"&&oe!=="children"&&oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&oe!=="autoFocus"&&(i.hasOwnProperty(oe)?E||(E=[]):(E=E||[]).push(oe,null));for(oe in v){var H=v[oe];if(B=b?.[oe],v.hasOwnProperty(oe)&&H!==B&&(H!=null||B!=null))if(oe==="style")if(B){for(F in B)!B.hasOwnProperty(F)||H&&H.hasOwnProperty(F)||(h||(h={}),h[F]="");for(F in H)H.hasOwnProperty(F)&&B[F]!==H[F]&&(h||(h={}),h[F]=H[F])}else h||(E||(E=[]),E.push(oe,h)),h=H;else oe==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,B=B?B.__html:void 0,H!=null&&B!==H&&(E=E||[]).push(oe,H)):oe==="children"?typeof H!="string"&&typeof H!="number"||(E=E||[]).push(oe,""+H):oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&(i.hasOwnProperty(oe)?(H!=null&&oe==="onScroll"&&At("scroll",s),E||B===H||(E=[])):(E=E||[]).push(oe,H))}h&&(E=E||[]).push("style",h);var oe=E;(l.updateQueue=oe)&&(l.flags|=4)}},LE=function(s,l,h,v){h!==v&&(l.flags|=4)};function mc(s,l){if(!It)switch(s.tailMode){case"hidden":l=s.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s.tail=null:h.sibling=null;break;case"collapsed":h=s.tail;for(var v=null;h!==null;)h.alternate!==null&&(v=h),h=h.sibling;v===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:v.sibling=null}}function Nr(s){var l=s.alternate!==null&&s.alternate.child===s.child,h=0,v=0;if(l)for(var b=s.child;b!==null;)h|=b.lanes|b.childLanes,v|=b.subtreeFlags&14680064,v|=b.flags&14680064,b.return=s,b=b.sibling;else for(b=s.child;b!==null;)h|=b.lanes|b.childLanes,v|=b.subtreeFlags,v|=b.flags,b.return=s,b=b.sibling;return s.subtreeFlags|=v,s.childLanes=h,l}function s$(s,l,h){var v=l.pendingProps;switch(Wg(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nr(l),null;case 1:return rn(l.type)&&Bf(),Nr(l),null;case 3:return v=l.stateNode,wl(),Tt(tn),Tt(Tr),iv(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(s===null||s.child===null)&&(Gf(l)?l.flags|=4:s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,si!==null&&(Rv(si),si=null))),Sv(s,l),Nr(l),null;case 5:rv(l);var b=to(cc.current);if(h=l.type,s!==null&&l.stateNode!=null)DE(s,l,h,v,b),s.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!v){if(l.stateNode===null)throw Error(r(166));return Nr(l),null}if(s=to(Ni.current),Gf(l)){v=l.stateNode,h=l.type;var E=l.memoizedProps;switch(v[ji]=l,v[ac]=E,s=(l.mode&1)!==0,h){case"dialog":At("cancel",v),At("close",v);break;case"iframe":case"object":case"embed":At("load",v);break;case"video":case"audio":for(b=0;b<rc.length;b++)At(rc[b],v);break;case"source":At("error",v);break;case"img":case"image":case"link":At("error",v),At("load",v);break;case"details":At("toggle",v);break;case"input":je(v,E),At("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!E.multiple},At("invalid",v);break;case"textarea":An(v,E),At("invalid",v)}Da(h,E),b=null;for(var F in E)if(E.hasOwnProperty(F)){var B=E[F];F==="children"?typeof B=="string"?v.textContent!==B&&(E.suppressHydrationWarning!==!0&&Ff(v.textContent,B,s),b=["children",B]):typeof B=="number"&&v.textContent!==""+B&&(E.suppressHydrationWarning!==!0&&Ff(v.textContent,B,s),b=["children",""+B]):i.hasOwnProperty(F)&&B!=null&&F==="onScroll"&&At("scroll",v)}switch(h){case"input":Te(v),Xr(v,E,!0);break;case"textarea":Te(v),Yn(v);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(v.onclick=Vf)}v=b,l.updateQueue=v,v!==null&&(l.flags|=4)}else{F=b.nodeType===9?b:b.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Ut(h)),s==="http://www.w3.org/1999/xhtml"?h==="script"?(s=F.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof v.is=="string"?s=F.createElement(h,{is:v.is}):(s=F.createElement(h),h==="select"&&(F=s,v.multiple?F.multiple=!0:v.size&&(F.size=v.size))):s=F.createElementNS(s,h),s[ji]=l,s[ac]=v,ME(s,l,!1,!1),l.stateNode=s;e:{switch(F=Fs(h,v),h){case"dialog":At("cancel",s),At("close",s),b=v;break;case"iframe":case"object":case"embed":At("load",s),b=v;break;case"video":case"audio":for(b=0;b<rc.length;b++)At(rc[b],s);b=v;break;case"source":At("error",s),b=v;break;case"img":case"image":case"link":At("error",s),At("load",s),b=v;break;case"details":At("toggle",s),b=v;break;case"input":je(s,v),b=me(s,v),At("invalid",s);break;case"option":b=v;break;case"select":s._wrapperState={wasMultiple:!!v.multiple},b=se({},v,{value:void 0}),At("invalid",s);break;case"textarea":An(s,v),b=Qr(s,v),At("invalid",s);break;default:b=v}Da(h,b),B=b;for(E in B)if(B.hasOwnProperty(E)){var H=B[E];E==="style"?Ls(s,H):E==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,H!=null&&Wo(s,H)):E==="children"?typeof H=="string"?(h!=="textarea"||H!=="")&&Wt(s,H):typeof H=="number"&&Wt(s,""+H):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(i.hasOwnProperty(E)?H!=null&&E==="onScroll"&&At("scroll",s):H!=null&&O(s,E,H,F))}switch(h){case"input":Te(s),Xr(s,v,!1);break;case"textarea":Te(s),Yn(s);break;case"option":v.value!=null&&s.setAttribute("value",""+ge(v.value));break;case"select":s.multiple=!!v.multiple,E=v.value,E!=null?Jt(s,!!v.multiple,E,!1):v.defaultValue!=null&&Jt(s,!!v.multiple,v.defaultValue,!0);break;default:typeof b.onClick=="function"&&(s.onclick=Vf)}switch(h){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Nr(l),null;case 6:if(s&&l.stateNode!=null)LE(s,l,s.memoizedProps,v);else{if(typeof v!="string"&&l.stateNode===null)throw Error(r(166));if(h=to(cc.current),to(Ni.current),Gf(l)){if(v=l.stateNode,h=l.memoizedProps,v[ji]=l,(E=v.nodeValue!==h)&&(s=vn,s!==null))switch(s.tag){case 3:Ff(v.nodeValue,h,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Ff(v.nodeValue,h,(s.mode&1)!==0)}E&&(l.flags|=4)}else v=(h.nodeType===9?h:h.ownerDocument).createTextNode(v),v[ji]=l,l.stateNode=v}return Nr(l),null;case 13:if(Tt(Rt),v=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(It&&yn!==null&&(l.mode&1)!==0&&(l.flags&128)===0)Vk(),yl(),l.flags|=98560,E=!1;else if(E=Gf(l),v!==null&&v.dehydrated!==null){if(s===null){if(!E)throw Error(r(318));if(E=l.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(r(317));E[ji]=l}else yl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Nr(l),E=!1}else si!==null&&(Rv(si),si=null),E=!0;if(!E)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=h,l):(v=v!==null,v!==(s!==null&&s.memoizedState!==null)&&v&&(l.child.flags|=8192,(l.mode&1)!==0&&(s===null||(Rt.current&1)!==0?tr===0&&(tr=3):Lv())),l.updateQueue!==null&&(l.flags|=4),Nr(l),null);case 4:return wl(),Sv(s,l),s===null&&nc(l.stateNode.containerInfo),Nr(l),null;case 10:return Qg(l.type._context),Nr(l),null;case 17:return rn(l.type)&&Bf(),Nr(l),null;case 19:if(Tt(Rt),E=l.memoizedState,E===null)return Nr(l),null;if(v=(l.flags&128)!==0,F=E.rendering,F===null)if(v)mc(E,!1);else{if(tr!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(F=Zf(s),F!==null){for(l.flags|=128,mc(E,!1),v=F.updateQueue,v!==null&&(l.updateQueue=v,l.flags|=4),l.subtreeFlags=0,v=h,h=l.child;h!==null;)E=h,s=v,E.flags&=14680066,F=E.alternate,F===null?(E.childLanes=0,E.lanes=s,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=F.childLanes,E.lanes=F.lanes,E.child=F.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=F.memoizedProps,E.memoizedState=F.memoizedState,E.updateQueue=F.updateQueue,E.type=F.type,s=F.dependencies,E.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),h=h.sibling;return wt(Rt,Rt.current&1|2),l.child}s=s.sibling}E.tail!==null&&_t()>Al&&(l.flags|=128,v=!0,mc(E,!1),l.lanes=4194304)}else{if(!v)if(s=Zf(F),s!==null){if(l.flags|=128,v=!0,h=s.updateQueue,h!==null&&(l.updateQueue=h,l.flags|=4),mc(E,!0),E.tail===null&&E.tailMode==="hidden"&&!F.alternate&&!It)return Nr(l),null}else 2*_t()-E.renderingStartTime>Al&&h!==1073741824&&(l.flags|=128,v=!0,mc(E,!1),l.lanes=4194304);E.isBackwards?(F.sibling=l.child,l.child=F):(h=E.last,h!==null?h.sibling=F:l.child=F,E.last=F)}return E.tail!==null?(l=E.tail,E.rendering=l,E.tail=l.sibling,E.renderingStartTime=_t(),l.sibling=null,h=Rt.current,wt(Rt,v?h&1|2:h&1),l):(Nr(l),null);case 22:case 23:return Dv(),v=l.memoizedState!==null,s!==null&&s.memoizedState!==null!==v&&(l.flags|=8192),v&&(l.mode&1)!==0?(xn&1073741824)!==0&&(Nr(l),l.subtreeFlags&6&&(l.flags|=8192)):Nr(l),null;case 24:return null;case 25:return null}throw Error(r(156,l.tag))}function o$(s,l){switch(Wg(l),l.tag){case 1:return rn(l.type)&&Bf(),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return wl(),Tt(tn),Tt(Tr),iv(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 5:return rv(l),null;case 13:if(Tt(Rt),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(r(340));yl()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return Tt(Rt),null;case 4:return wl(),null;case 10:return Qg(l.type._context),null;case 22:case 23:return Dv(),null;case 24:return null;default:return null}}var lh=!1,Pr=!1,l$=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function kl(s,l){var h=s.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(v){$t(s,l,v)}else h.current=null}function kv(s,l,h){try{h()}catch(v){$t(s,l,v)}}var $E=!1;function u$(s,l){if(Dg=Ha,s=gk(),jg(s)){if("selectionStart"in s)var h={start:s.selectionStart,end:s.selectionEnd};else e:{h=(h=s.ownerDocument)&&h.defaultView||window;var v=h.getSelection&&h.getSelection();if(v&&v.rangeCount!==0){h=v.anchorNode;var b=v.anchorOffset,E=v.focusNode;v=v.focusOffset;try{h.nodeType,E.nodeType}catch{h=null;break e}var F=0,B=-1,H=-1,oe=0,ye=0,_e=s,ve=null;t:for(;;){for(var Ne;_e!==h||b!==0&&_e.nodeType!==3||(B=F+b),_e!==E||v!==0&&_e.nodeType!==3||(H=F+v),_e.nodeType===3&&(F+=_e.nodeValue.length),(Ne=_e.firstChild)!==null;)ve=_e,_e=Ne;for(;;){if(_e===s)break t;if(ve===h&&++oe===b&&(B=F),ve===E&&++ye===v&&(H=F),(Ne=_e.nextSibling)!==null)break;_e=ve,ve=_e.parentNode}_e=Ne}h=B===-1||H===-1?null:{start:B,end:H}}else h=null}h=h||{start:0,end:0}}else h=null;for(Lg={focusedElem:s,selectionRange:h},Ha=!1,Pe=l;Pe!==null;)if(l=Pe,s=l.child,(l.subtreeFlags&1028)!==0&&s!==null)s.return=l,Pe=s;else for(;Pe!==null;){l=Pe;try{var Oe=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Oe!==null){var Ce=Oe.memoizedProps,Bt=Oe.memoizedState,re=l.stateNode,X=re.getSnapshotBeforeUpdate(l.elementType===l.type?Ce:oi(l.type,Ce),Bt);re.__reactInternalSnapshotBeforeUpdate=X}break;case 3:var ae=l.stateNode.containerInfo;ae.nodeType===1?ae.textContent="":ae.nodeType===9&&ae.documentElement&&ae.removeChild(ae.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(we){$t(l,l.return,we)}if(s=l.sibling,s!==null){s.return=l.return,Pe=s;break}Pe=l.return}return Oe=$E,$E=!1,Oe}function gc(s,l,h){var v=l.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var b=v=v.next;do{if((b.tag&s)===s){var E=b.destroy;b.destroy=void 0,E!==void 0&&kv(l,h,E)}b=b.next}while(b!==v)}}function uh(s,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var h=l=l.next;do{if((h.tag&s)===s){var v=h.create;h.destroy=v()}h=h.next}while(h!==l)}}function Ev(s){var l=s.ref;if(l!==null){var h=s.stateNode;switch(s.tag){case 5:s=h;break;default:s=h}typeof l=="function"?l(s):l.current=s}}function FE(s){var l=s.alternate;l!==null&&(s.alternate=null,FE(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&(delete l[ji],delete l[ac],delete l[Ug],delete l[W3],delete l[H3])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function VE(s){return s.tag===5||s.tag===3||s.tag===4}function UE(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||VE(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Av(s,l,h){var v=s.tag;if(v===5||v===6)s=s.stateNode,l?h.nodeType===8?h.parentNode.insertBefore(s,l):h.insertBefore(s,l):(h.nodeType===8?(l=h.parentNode,l.insertBefore(s,h)):(l=h,l.appendChild(s)),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=Vf));else if(v!==4&&(s=s.child,s!==null))for(Av(s,l,h),s=s.sibling;s!==null;)Av(s,l,h),s=s.sibling}function Tv(s,l,h){var v=s.tag;if(v===5||v===6)s=s.stateNode,l?h.insertBefore(s,l):h.appendChild(s);else if(v!==4&&(s=s.child,s!==null))for(Tv(s,l,h),s=s.sibling;s!==null;)Tv(s,l,h),s=s.sibling}var _r=null,li=!1;function ts(s,l,h){for(h=h.child;h!==null;)BE(s,l,h),h=h.sibling}function BE(s,l,h){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(qs,h)}catch{}switch(h.tag){case 5:Pr||kl(h,l);case 6:var v=_r,b=li;_r=null,ts(s,l,h),_r=v,li=b,_r!==null&&(li?(s=_r,h=h.stateNode,s.nodeType===8?s.parentNode.removeChild(h):s.removeChild(h)):_r.removeChild(h.stateNode));break;case 18:_r!==null&&(li?(s=_r,h=h.stateNode,s.nodeType===8?Vg(s.parentNode,h):s.nodeType===1&&Vg(s,h),ni(s)):Vg(_r,h.stateNode));break;case 4:v=_r,b=li,_r=h.stateNode.containerInfo,li=!0,ts(s,l,h),_r=v,li=b;break;case 0:case 11:case 14:case 15:if(!Pr&&(v=h.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){b=v=v.next;do{var E=b,F=E.destroy;E=E.tag,F!==void 0&&((E&2)!==0||(E&4)!==0)&&kv(h,l,F),b=b.next}while(b!==v)}ts(s,l,h);break;case 1:if(!Pr&&(kl(h,l),v=h.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=h.memoizedProps,v.state=h.memoizedState,v.componentWillUnmount()}catch(B){$t(h,l,B)}ts(s,l,h);break;case 21:ts(s,l,h);break;case 22:h.mode&1?(Pr=(v=Pr)||h.memoizedState!==null,ts(s,l,h),Pr=v):ts(s,l,h);break;default:ts(s,l,h)}}function qE(s){var l=s.updateQueue;if(l!==null){s.updateQueue=null;var h=s.stateNode;h===null&&(h=s.stateNode=new l$),l.forEach(function(v){var b=y$.bind(null,s,v);h.has(v)||(h.add(v),v.then(b,b))})}}function ui(s,l){var h=l.deletions;if(h!==null)for(var v=0;v<h.length;v++){var b=h[v];try{var E=s,F=l,B=F;e:for(;B!==null;){switch(B.tag){case 5:_r=B.stateNode,li=!1;break e;case 3:_r=B.stateNode.containerInfo,li=!0;break e;case 4:_r=B.stateNode.containerInfo,li=!0;break e}B=B.return}if(_r===null)throw Error(r(160));BE(E,F,b),_r=null,li=!1;var H=b.alternate;H!==null&&(H.return=null),b.return=null}catch(oe){$t(b,l,oe)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)zE(l,s),l=l.sibling}function zE(s,l){var h=s.alternate,v=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(ui(l,s),Ii(s),v&4){try{gc(3,s,s.return),uh(3,s)}catch(Ce){$t(s,s.return,Ce)}try{gc(5,s,s.return)}catch(Ce){$t(s,s.return,Ce)}}break;case 1:ui(l,s),Ii(s),v&512&&h!==null&&kl(h,h.return);break;case 5:if(ui(l,s),Ii(s),v&512&&h!==null&&kl(h,h.return),s.flags&32){var b=s.stateNode;try{Wt(b,"")}catch(Ce){$t(s,s.return,Ce)}}if(v&4&&(b=s.stateNode,b!=null)){var E=s.memoizedProps,F=h!==null?h.memoizedProps:E,B=s.type,H=s.updateQueue;if(s.updateQueue=null,H!==null)try{B==="input"&&E.type==="radio"&&E.name!=null&&$e(b,E),Fs(B,F);var oe=Fs(B,E);for(F=0;F<H.length;F+=2){var ye=H[F],_e=H[F+1];ye==="style"?Ls(b,_e):ye==="dangerouslySetInnerHTML"?Wo(b,_e):ye==="children"?Wt(b,_e):O(b,ye,_e,oe)}switch(B){case"input":Dt(b,E);break;case"textarea":Tn(b,E);break;case"select":var ve=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!E.multiple;var Ne=E.value;Ne!=null?Jt(b,!!E.multiple,Ne,!1):ve!==!!E.multiple&&(E.defaultValue!=null?Jt(b,!!E.multiple,E.defaultValue,!0):Jt(b,!!E.multiple,E.multiple?[]:"",!1))}b[ac]=E}catch(Ce){$t(s,s.return,Ce)}}break;case 6:if(ui(l,s),Ii(s),v&4){if(s.stateNode===null)throw Error(r(162));b=s.stateNode,E=s.memoizedProps;try{b.nodeValue=E}catch(Ce){$t(s,s.return,Ce)}}break;case 3:if(ui(l,s),Ii(s),v&4&&h!==null&&h.memoizedState.isDehydrated)try{ni(l.containerInfo)}catch(Ce){$t(s,s.return,Ce)}break;case 4:ui(l,s),Ii(s);break;case 13:ui(l,s),Ii(s),b=s.child,b.flags&8192&&(E=b.memoizedState!==null,b.stateNode.isHidden=E,!E||b.alternate!==null&&b.alternate.memoizedState!==null||(Pv=_t())),v&4&&qE(s);break;case 22:if(ye=h!==null&&h.memoizedState!==null,s.mode&1?(Pr=(oe=Pr)||ye,ui(l,s),Pr=oe):ui(l,s),Ii(s),v&8192){if(oe=s.memoizedState!==null,(s.stateNode.isHidden=oe)&&!ye&&(s.mode&1)!==0)for(Pe=s,ye=s.child;ye!==null;){for(_e=Pe=ye;Pe!==null;){switch(ve=Pe,Ne=ve.child,ve.tag){case 0:case 11:case 14:case 15:gc(4,ve,ve.return);break;case 1:kl(ve,ve.return);var Oe=ve.stateNode;if(typeof Oe.componentWillUnmount=="function"){v=ve,h=ve.return;try{l=v,Oe.props=l.memoizedProps,Oe.state=l.memoizedState,Oe.componentWillUnmount()}catch(Ce){$t(v,h,Ce)}}break;case 5:kl(ve,ve.return);break;case 22:if(ve.memoizedState!==null){GE(_e);continue}}Ne!==null?(Ne.return=ve,Pe=Ne):GE(_e)}ye=ye.sibling}e:for(ye=null,_e=s;;){if(_e.tag===5){if(ye===null){ye=_e;try{b=_e.stateNode,oe?(E=b.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(B=_e.stateNode,H=_e.memoizedProps.style,F=H!=null&&H.hasOwnProperty("display")?H.display:null,B.style.display=Ho("display",F))}catch(Ce){$t(s,s.return,Ce)}}}else if(_e.tag===6){if(ye===null)try{_e.stateNode.nodeValue=oe?"":_e.memoizedProps}catch(Ce){$t(s,s.return,Ce)}}else if((_e.tag!==22&&_e.tag!==23||_e.memoizedState===null||_e===s)&&_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===s)break e;for(;_e.sibling===null;){if(_e.return===null||_e.return===s)break e;ye===_e&&(ye=null),_e=_e.return}ye===_e&&(ye=null),_e.sibling.return=_e.return,_e=_e.sibling}}break;case 19:ui(l,s),Ii(s),v&4&&qE(s);break;case 21:break;default:ui(l,s),Ii(s)}}function Ii(s){var l=s.flags;if(l&2){try{e:{for(var h=s.return;h!==null;){if(VE(h)){var v=h;break e}h=h.return}throw Error(r(160))}switch(v.tag){case 5:var b=v.stateNode;v.flags&32&&(Wt(b,""),v.flags&=-33);var E=UE(s);Tv(s,E,b);break;case 3:case 4:var F=v.stateNode.containerInfo,B=UE(s);Av(s,B,F);break;default:throw Error(r(161))}}catch(H){$t(s,s.return,H)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function c$(s,l,h){Pe=s,WE(s)}function WE(s,l,h){for(var v=(s.mode&1)!==0;Pe!==null;){var b=Pe,E=b.child;if(b.tag===22&&v){var F=b.memoizedState!==null||lh;if(!F){var B=b.alternate,H=B!==null&&B.memoizedState!==null||Pr;B=lh;var oe=Pr;if(lh=F,(Pr=H)&&!oe)for(Pe=b;Pe!==null;)F=Pe,H=F.child,F.tag===22&&F.memoizedState!==null?KE(b):H!==null?(H.return=F,Pe=H):KE(b);for(;E!==null;)Pe=E,WE(E),E=E.sibling;Pe=b,lh=B,Pr=oe}HE(s)}else(b.subtreeFlags&8772)!==0&&E!==null?(E.return=b,Pe=E):HE(s)}}function HE(s){for(;Pe!==null;){var l=Pe;if((l.flags&8772)!==0){var h=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Pr||uh(5,l);break;case 1:var v=l.stateNode;if(l.flags&4&&!Pr)if(h===null)v.componentDidMount();else{var b=l.elementType===l.type?h.memoizedProps:oi(l.type,h.memoizedProps);v.componentDidUpdate(b,h.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var E=l.updateQueue;E!==null&&Gk(l,E,v);break;case 3:var F=l.updateQueue;if(F!==null){if(h=null,l.child!==null)switch(l.child.tag){case 5:h=l.child.stateNode;break;case 1:h=l.child.stateNode}Gk(l,F,h)}break;case 5:var B=l.stateNode;if(h===null&&l.flags&4){h=B;var H=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":H.autoFocus&&h.focus();break;case"img":H.src&&(h.src=H.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var oe=l.alternate;if(oe!==null){var ye=oe.memoizedState;if(ye!==null){var _e=ye.dehydrated;_e!==null&&ni(_e)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Pr||l.flags&512&&Ev(l)}catch(ve){$t(l,l.return,ve)}}if(l===s){Pe=null;break}if(h=l.sibling,h!==null){h.return=l.return,Pe=h;break}Pe=l.return}}function GE(s){for(;Pe!==null;){var l=Pe;if(l===s){Pe=null;break}var h=l.sibling;if(h!==null){h.return=l.return,Pe=h;break}Pe=l.return}}function KE(s){for(;Pe!==null;){var l=Pe;try{switch(l.tag){case 0:case 11:case 15:var h=l.return;try{uh(4,l)}catch(H){$t(l,h,H)}break;case 1:var v=l.stateNode;if(typeof v.componentDidMount=="function"){var b=l.return;try{v.componentDidMount()}catch(H){$t(l,b,H)}}var E=l.return;try{Ev(l)}catch(H){$t(l,E,H)}break;case 5:var F=l.return;try{Ev(l)}catch(H){$t(l,F,H)}}}catch(H){$t(l,l.return,H)}if(l===s){Pe=null;break}var B=l.sibling;if(B!==null){B.return=l.return,Pe=B;break}Pe=l.return}}var d$=Math.ceil,ch=M.ReactCurrentDispatcher,jv=M.ReactCurrentOwner,$n=M.ReactCurrentBatchConfig,st=0,dr=null,Gt=null,wr=0,xn=0,El=Xa(0),tr=0,vc=null,no=0,dh=0,Nv=0,yc=null,an=null,Pv=0,Al=1/0,ua=null,fh=!1,Iv=null,rs=null,hh=!1,ns=null,ph=0,xc=0,Ov=null,mh=-1,gh=0;function Wr(){return(st&6)!==0?_t():mh!==-1?mh:mh=_t()}function is(s){return(s.mode&1)===0?1:(st&2)!==0&&wr!==0?wr&-wr:K3.transition!==null?(gh===0&&(gh=Ws()),gh):(s=Ze,s!==0||(s=window.event,s=s===void 0?16:Gu(s.type)),s)}function ci(s,l,h,v){if(50<xc)throw xc=0,Ov=null,Error(r(185));Ba(s,h,v),((st&2)===0||s!==dr)&&(s===dr&&((st&2)===0&&(dh|=h),tr===4&&as(s,wr)),sn(s,v),h===1&&st===0&&(l.mode&1)===0&&(Al=_t()+500,zf&&Ja()))}function sn(s,l){var h=s.callbackNode;Qi(s,l);var v=zs(s,s===dr?wr:0);if(v===0)h!==null&&Bu(h),s.callbackNode=null,s.callbackPriority=0;else if(l=v&-v,s.callbackPriority!==l){if(h!=null&&Bu(h),l===1)s.tag===0?G3(XE.bind(null,s)):Mk(XE.bind(null,s)),q3(function(){(st&6)===0&&Ja()}),h=null;else{switch(za(v)){case 1:h=Bs;break;case 4:h=Fa;break;case 16:h=In;break;case 536870912:h=gf;break;default:h=In}h=iA(h,YE.bind(null,s))}s.callbackPriority=l,s.callbackNode=h}}function YE(s,l){if(mh=-1,gh=0,(st&6)!==0)throw Error(r(327));var h=s.callbackNode;if(Tl()&&s.callbackNode!==h)return null;var v=zs(s,s===dr?wr:0);if(v===0)return null;if((v&30)!==0||(v&s.expiredLanes)!==0||l)l=vh(s,v);else{l=v;var b=st;st|=2;var E=JE();(dr!==s||wr!==l)&&(ua=null,Al=_t()+500,ao(s,l));do try{p$();break}catch(B){QE(s,B)}while(!0);Xg(),ch.current=E,st=b,Gt!==null?l=0:(dr=null,wr=0,l=tr)}if(l!==0){if(l===2&&(b=pn(s),b!==0&&(v=b,l=Cv(s,b))),l===1)throw h=vc,ao(s,0),as(s,v),sn(s,_t()),h;if(l===6)as(s,v);else{if(b=s.current.alternate,(v&30)===0&&!f$(b)&&(l=vh(s,v),l===2&&(E=pn(s),E!==0&&(v=E,l=Cv(s,E))),l===1))throw h=vc,ao(s,0),as(s,v),sn(s,_t()),h;switch(s.finishedWork=b,s.finishedLanes=v,l){case 0:case 1:throw Error(r(345));case 2:so(s,an,ua);break;case 3:if(as(s,v),(v&130023424)===v&&(l=Pv+500-_t(),10<l)){if(zs(s,0)!==0)break;if(b=s.suspendedLanes,(b&v)!==v){Wr(),s.pingedLanes|=s.suspendedLanes&b;break}s.timeoutHandle=Fg(so.bind(null,s,an,ua),l);break}so(s,an,ua);break;case 4:if(as(s,v),(v&4194240)===v)break;for(l=s.eventTimes,b=-1;0<v;){var F=31-Br(v);E=1<<F,F=l[F],F>b&&(b=F),v&=~E}if(v=b,v=_t()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*d$(v/1960))-v,10<v){s.timeoutHandle=Fg(so.bind(null,s,an,ua),v);break}so(s,an,ua);break;case 5:so(s,an,ua);break;default:throw Error(r(329))}}}return sn(s,_t()),s.callbackNode===h?YE.bind(null,s):null}function Cv(s,l){var h=yc;return s.current.memoizedState.isDehydrated&&(ao(s,l).flags|=256),s=vh(s,l),s!==2&&(l=an,an=h,l!==null&&Rv(l)),s}function Rv(s){an===null?an=s:an.push.apply(an,s)}function f$(s){for(var l=s;;){if(l.flags&16384){var h=l.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var v=0;v<h.length;v++){var b=h[v],E=b.getSnapshot;b=b.value;try{if(!ai(E(),b))return!1}catch{return!1}}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function as(s,l){for(l&=~Nv,l&=~dh,s.suspendedLanes|=l,s.pingedLanes&=~l,s=s.expirationTimes;0<l;){var h=31-Br(l),v=1<<h;s[h]=-1,l&=~v}}function XE(s){if((st&6)!==0)throw Error(r(327));Tl();var l=zs(s,0);if((l&1)===0)return sn(s,_t()),null;var h=vh(s,l);if(s.tag!==0&&h===2){var v=pn(s);v!==0&&(l=v,h=Cv(s,v))}if(h===1)throw h=vc,ao(s,0),as(s,l),sn(s,_t()),h;if(h===6)throw Error(r(345));return s.finishedWork=s.current.alternate,s.finishedLanes=l,so(s,an,ua),sn(s,_t()),null}function Mv(s,l){var h=st;st|=1;try{return s(l)}finally{st=h,st===0&&(Al=_t()+500,zf&&Ja())}}function io(s){ns!==null&&ns.tag===0&&(st&6)===0&&Tl();var l=st;st|=1;var h=$n.transition,v=Ze;try{if($n.transition=null,Ze=1,s)return s()}finally{Ze=v,$n.transition=h,st=l,(st&6)===0&&Ja()}}function Dv(){xn=El.current,Tt(El)}function ao(s,l){s.finishedWork=null,s.finishedLanes=0;var h=s.timeoutHandle;if(h!==-1&&(s.timeoutHandle=-1,B3(h)),Gt!==null)for(h=Gt.return;h!==null;){var v=h;switch(Wg(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&Bf();break;case 3:wl(),Tt(tn),Tt(Tr),iv();break;case 5:rv(v);break;case 4:wl();break;case 13:Tt(Rt);break;case 19:Tt(Rt);break;case 10:Qg(v.type._context);break;case 22:case 23:Dv()}h=h.return}if(dr=s,Gt=s=ss(s.current,null),wr=xn=l,tr=0,vc=null,Nv=dh=no=0,an=yc=null,eo!==null){for(l=0;l<eo.length;l++)if(h=eo[l],v=h.interleaved,v!==null){h.interleaved=null;var b=v.next,E=h.pending;if(E!==null){var F=E.next;E.next=b,v.next=F}h.pending=v}eo=null}return s}function QE(s,l){do{var h=Gt;try{if(Xg(),eh.current=ih,th){for(var v=Mt.memoizedState;v!==null;){var b=v.queue;b!==null&&(b.pending=null),v=v.next}th=!1}if(ro=0,cr=er=Mt=null,dc=!1,fc=0,jv.current=null,h===null||h.return===null){tr=1,vc=l,Gt=null;break}e:{var E=s,F=h.return,B=h,H=l;if(l=wr,B.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var oe=H,ye=B,_e=ye.tag;if((ye.mode&1)===0&&(_e===0||_e===11||_e===15)){var ve=ye.alternate;ve?(ye.updateQueue=ve.updateQueue,ye.memoizedState=ve.memoizedState,ye.lanes=ve.lanes):(ye.updateQueue=null,ye.memoizedState=null)}var Ne=wE(F);if(Ne!==null){Ne.flags&=-257,SE(Ne,F,B,E,l),Ne.mode&1&&_E(E,oe,l),l=Ne,H=oe;var Oe=l.updateQueue;if(Oe===null){var Ce=new Set;Ce.add(H),l.updateQueue=Ce}else Oe.add(H);break e}else{if((l&1)===0){_E(E,oe,l),Lv();break e}H=Error(r(426))}}else if(It&&B.mode&1){var Bt=wE(F);if(Bt!==null){(Bt.flags&65536)===0&&(Bt.flags|=256),SE(Bt,F,B,E,l),Kg(Sl(H,B));break e}}E=H=Sl(H,B),tr!==4&&(tr=2),yc===null?yc=[E]:yc.push(E),E=F;do{switch(E.tag){case 3:E.flags|=65536,l&=-l,E.lanes|=l;var re=xE(E,H,l);Hk(E,re);break e;case 1:B=H;var X=E.type,ae=E.stateNode;if((E.flags&128)===0&&(typeof X.getDerivedStateFromError=="function"||ae!==null&&typeof ae.componentDidCatch=="function"&&(rs===null||!rs.has(ae)))){E.flags|=65536,l&=-l,E.lanes|=l;var we=bE(E,B,l);Hk(E,we);break e}}E=E.return}while(E!==null)}eA(h)}catch(De){l=De,Gt===h&&h!==null&&(Gt=h=h.return);continue}break}while(!0)}function JE(){var s=ch.current;return ch.current=ih,s===null?ih:s}function Lv(){(tr===0||tr===3||tr===2)&&(tr=4),dr===null||(no&268435455)===0&&(dh&268435455)===0||as(dr,wr)}function vh(s,l){var h=st;st|=2;var v=JE();(dr!==s||wr!==l)&&(ua=null,ao(s,l));do try{h$();break}catch(b){QE(s,b)}while(!0);if(Xg(),st=h,ch.current=v,Gt!==null)throw Error(r(261));return dr=null,wr=0,tr}function h$(){for(;Gt!==null;)ZE(Gt)}function p$(){for(;Gt!==null&&!pf();)ZE(Gt)}function ZE(s){var l=nA(s.alternate,s,xn);s.memoizedProps=s.pendingProps,l===null?eA(s):Gt=l,jv.current=null}function eA(s){var l=s;do{var h=l.alternate;if(s=l.return,(l.flags&32768)===0){if(h=s$(h,l,xn),h!==null){Gt=h;return}}else{if(h=o$(h,l),h!==null){h.flags&=32767,Gt=h;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{tr=6,Gt=null;return}}if(l=l.sibling,l!==null){Gt=l;return}Gt=l=s}while(l!==null);tr===0&&(tr=5)}function so(s,l,h){var v=Ze,b=$n.transition;try{$n.transition=null,Ze=1,m$(s,l,h,v)}finally{$n.transition=b,Ze=v}return null}function m$(s,l,h,v){do Tl();while(ns!==null);if((st&6)!==0)throw Error(r(327));h=s.finishedWork;var b=s.finishedLanes;if(h===null)return null;if(s.finishedWork=null,s.finishedLanes=0,h===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0;var E=h.lanes|h.childLanes;if(xt(s,E),s===dr&&(Gt=dr=null,wr=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||hh||(hh=!0,iA(In,function(){return Tl(),null})),E=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||E){E=$n.transition,$n.transition=null;var F=Ze;Ze=1;var B=st;st|=4,jv.current=null,u$(s,h),zE(h,s),M3(Lg),Ha=!!Dg,Lg=Dg=null,s.current=h,c$(h),bg(),st=B,Ze=F,$n.transition=E}else s.current=h;if(hh&&(hh=!1,ns=s,ph=b),E=s.pendingLanes,E===0&&(rs=null),vf(h.stateNode),sn(s,_t()),l!==null)for(v=s.onRecoverableError,h=0;h<l.length;h++)b=l[h],v(b.value,{componentStack:b.stack,digest:b.digest});if(fh)throw fh=!1,s=Iv,Iv=null,s;return(ph&1)!==0&&s.tag!==0&&Tl(),E=s.pendingLanes,(E&1)!==0?s===Ov?xc++:(xc=0,Ov=s):xc=0,Ja(),null}function Tl(){if(ns!==null){var s=za(ph),l=$n.transition,h=Ze;try{if($n.transition=null,Ze=16>s?16:s,ns===null)var v=!1;else{if(s=ns,ns=null,ph=0,(st&6)!==0)throw Error(r(331));var b=st;for(st|=4,Pe=s.current;Pe!==null;){var E=Pe,F=E.child;if((Pe.flags&16)!==0){var B=E.deletions;if(B!==null){for(var H=0;H<B.length;H++){var oe=B[H];for(Pe=oe;Pe!==null;){var ye=Pe;switch(ye.tag){case 0:case 11:case 15:gc(8,ye,E)}var _e=ye.child;if(_e!==null)_e.return=ye,Pe=_e;else for(;Pe!==null;){ye=Pe;var ve=ye.sibling,Ne=ye.return;if(FE(ye),ye===oe){Pe=null;break}if(ve!==null){ve.return=Ne,Pe=ve;break}Pe=Ne}}}var Oe=E.alternate;if(Oe!==null){var Ce=Oe.child;if(Ce!==null){Oe.child=null;do{var Bt=Ce.sibling;Ce.sibling=null,Ce=Bt}while(Ce!==null)}}Pe=E}}if((E.subtreeFlags&2064)!==0&&F!==null)F.return=E,Pe=F;else e:for(;Pe!==null;){if(E=Pe,(E.flags&2048)!==0)switch(E.tag){case 0:case 11:case 15:gc(9,E,E.return)}var re=E.sibling;if(re!==null){re.return=E.return,Pe=re;break e}Pe=E.return}}var X=s.current;for(Pe=X;Pe!==null;){F=Pe;var ae=F.child;if((F.subtreeFlags&2064)!==0&&ae!==null)ae.return=F,Pe=ae;else e:for(F=X;Pe!==null;){if(B=Pe,(B.flags&2048)!==0)try{switch(B.tag){case 0:case 11:case 15:uh(9,B)}}catch(De){$t(B,B.return,De)}if(B===F){Pe=null;break e}var we=B.sibling;if(we!==null){we.return=B.return,Pe=we;break e}Pe=B.return}}if(st=b,Ja(),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(qs,s)}catch{}v=!0}return v}finally{Ze=h,$n.transition=l}}return!1}function tA(s,l,h){l=Sl(h,l),l=xE(s,l,1),s=es(s,l,1),l=Wr(),s!==null&&(Ba(s,1,l),sn(s,l))}function $t(s,l,h){if(s.tag===3)tA(s,s,h);else for(;l!==null;){if(l.tag===3){tA(l,s,h);break}else if(l.tag===1){var v=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(rs===null||!rs.has(v))){s=Sl(h,s),s=bE(l,s,1),l=es(l,s,1),s=Wr(),l!==null&&(Ba(l,1,s),sn(l,s));break}}l=l.return}}function g$(s,l,h){var v=s.pingCache;v!==null&&v.delete(l),l=Wr(),s.pingedLanes|=s.suspendedLanes&h,dr===s&&(wr&h)===h&&(tr===4||tr===3&&(wr&130023424)===wr&&500>_t()-Pv?ao(s,0):Nv|=h),sn(s,l)}function rA(s,l){l===0&&((s.mode&1)===0?l=1:(l=Xo,Xo<<=1,(Xo&130023424)===0&&(Xo=4194304)));var h=Wr();s=sa(s,l),s!==null&&(Ba(s,l,h),sn(s,h))}function v$(s){var l=s.memoizedState,h=0;l!==null&&(h=l.retryLane),rA(s,h)}function y$(s,l){var h=0;switch(s.tag){case 13:var v=s.stateNode,b=s.memoizedState;b!==null&&(h=b.retryLane);break;case 19:v=s.stateNode;break;default:throw Error(r(314))}v!==null&&v.delete(l),rA(s,h)}var nA;nA=function(s,l,h){if(s!==null)if(s.memoizedProps!==l.pendingProps||tn.current)nn=!0;else{if((s.lanes&h)===0&&(l.flags&128)===0)return nn=!1,a$(s,l,h);nn=(s.flags&131072)!==0}else nn=!1,It&&(l.flags&1048576)!==0&&Dk(l,Hf,l.index);switch(l.lanes=0,l.tag){case 2:var v=l.type;oh(s,l),s=l.pendingProps;var b=ml(l,Tr.current);_l(l,h),b=ov(null,l,v,s,b,h);var E=lv();return l.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,rn(v)?(E=!0,qf(l)):E=!1,l.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,ev(l),b.updater=ah,l.stateNode=b,b._reactInternals=l,pv(l,v,s,h),l=yv(null,l,v,!0,E,h)):(l.tag=0,It&&E&&zg(l),zr(null,l,b,h),l=l.child),l;case 16:v=l.elementType;e:{switch(oh(s,l),s=l.pendingProps,b=v._init,v=b(v._payload),l.type=v,b=l.tag=b$(v),s=oi(v,s),b){case 0:l=vv(null,l,v,s,h);break e;case 1:l=NE(null,l,v,s,h);break e;case 11:l=kE(null,l,v,s,h);break e;case 14:l=EE(null,l,v,oi(v.type,s),h);break e}throw Error(r(306,v,""))}return l;case 0:return v=l.type,b=l.pendingProps,b=l.elementType===v?b:oi(v,b),vv(s,l,v,b,h);case 1:return v=l.type,b=l.pendingProps,b=l.elementType===v?b:oi(v,b),NE(s,l,v,b,h);case 3:e:{if(PE(l),s===null)throw Error(r(387));v=l.pendingProps,E=l.memoizedState,b=E.element,Wk(s,l),Jf(l,v,null,h);var F=l.memoizedState;if(v=F.element,E.isDehydrated)if(E={element:v,isDehydrated:!1,cache:F.cache,pendingSuspenseBoundaries:F.pendingSuspenseBoundaries,transitions:F.transitions},l.updateQueue.baseState=E,l.memoizedState=E,l.flags&256){b=Sl(Error(r(423)),l),l=IE(s,l,v,h,b);break e}else if(v!==b){b=Sl(Error(r(424)),l),l=IE(s,l,v,h,b);break e}else for(yn=Ya(l.stateNode.containerInfo.firstChild),vn=l,It=!0,si=null,h=qk(l,null,v,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(yl(),v===b){l=la(s,l,h);break e}zr(s,l,v,h)}l=l.child}return l;case 5:return Kk(l),s===null&&Gg(l),v=l.type,b=l.pendingProps,E=s!==null?s.memoizedProps:null,F=b.children,$g(v,b)?F=null:E!==null&&$g(v,E)&&(l.flags|=32),jE(s,l),zr(s,l,F,h),l.child;case 6:return s===null&&Gg(l),null;case 13:return OE(s,l,h);case 4:return tv(l,l.stateNode.containerInfo),v=l.pendingProps,s===null?l.child=xl(l,null,v,h):zr(s,l,v,h),l.child;case 11:return v=l.type,b=l.pendingProps,b=l.elementType===v?b:oi(v,b),kE(s,l,v,b,h);case 7:return zr(s,l,l.pendingProps,h),l.child;case 8:return zr(s,l,l.pendingProps.children,h),l.child;case 12:return zr(s,l,l.pendingProps.children,h),l.child;case 10:e:{if(v=l.type._context,b=l.pendingProps,E=l.memoizedProps,F=b.value,wt(Yf,v._currentValue),v._currentValue=F,E!==null)if(ai(E.value,F)){if(E.children===b.children&&!tn.current){l=la(s,l,h);break e}}else for(E=l.child,E!==null&&(E.return=l);E!==null;){var B=E.dependencies;if(B!==null){F=E.child;for(var H=B.firstContext;H!==null;){if(H.context===v){if(E.tag===1){H=oa(-1,h&-h),H.tag=2;var oe=E.updateQueue;if(oe!==null){oe=oe.shared;var ye=oe.pending;ye===null?H.next=H:(H.next=ye.next,ye.next=H),oe.pending=H}}E.lanes|=h,H=E.alternate,H!==null&&(H.lanes|=h),Jg(E.return,h,l),B.lanes|=h;break}H=H.next}}else if(E.tag===10)F=E.type===l.type?null:E.child;else if(E.tag===18){if(F=E.return,F===null)throw Error(r(341));F.lanes|=h,B=F.alternate,B!==null&&(B.lanes|=h),Jg(F,h,l),F=E.sibling}else F=E.child;if(F!==null)F.return=E;else for(F=E;F!==null;){if(F===l){F=null;break}if(E=F.sibling,E!==null){E.return=F.return,F=E;break}F=F.return}E=F}zr(s,l,b.children,h),l=l.child}return l;case 9:return b=l.type,v=l.pendingProps.children,_l(l,h),b=Dn(b),v=v(b),l.flags|=1,zr(s,l,v,h),l.child;case 14:return v=l.type,b=oi(v,l.pendingProps),b=oi(v.type,b),EE(s,l,v,b,h);case 15:return AE(s,l,l.type,l.pendingProps,h);case 17:return v=l.type,b=l.pendingProps,b=l.elementType===v?b:oi(v,b),oh(s,l),l.tag=1,rn(v)?(s=!0,qf(l)):s=!1,_l(l,h),vE(l,v,b),pv(l,v,b,h),yv(null,l,v,!0,s,h);case 19:return RE(s,l,h);case 22:return TE(s,l,h)}throw Error(r(156,l.tag))};function iA(s,l){return Ko(s,l)}function x$(s,l,h,v){this.tag=s,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(s,l,h,v){return new x$(s,l,h,v)}function $v(s){return s=s.prototype,!(!s||!s.isReactComponent)}function b$(s){if(typeof s=="function")return $v(s)?1:0;if(s!=null){if(s=s.$$typeof,s===V)return 11;if(s===ne)return 14}return 2}function ss(s,l){var h=s.alternate;return h===null?(h=Fn(s.tag,l,s.key,s.mode),h.elementType=s.elementType,h.type=s.type,h.stateNode=s.stateNode,h.alternate=s,s.alternate=h):(h.pendingProps=l,h.type=s.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=s.flags&14680064,h.childLanes=s.childLanes,h.lanes=s.lanes,h.child=s.child,h.memoizedProps=s.memoizedProps,h.memoizedState=s.memoizedState,h.updateQueue=s.updateQueue,l=s.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=s.sibling,h.index=s.index,h.ref=s.ref,h}function yh(s,l,h,v,b,E){var F=2;if(v=s,typeof s=="function")$v(s)&&(F=1);else if(typeof s=="string")F=5;else e:switch(s){case T:return oo(h.children,b,E,l);case P:F=8,b|=8;break;case L:return s=Fn(12,h,l,b|2),s.elementType=L,s.lanes=E,s;case $:return s=Fn(13,h,l,b),s.elementType=$,s.lanes=E,s;case ee:return s=Fn(19,h,l,b),s.elementType=ee,s.lanes=E,s;case ie:return xh(h,b,E,l);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case I:F=10;break e;case D:F=9;break e;case V:F=11;break e;case ne:F=14;break e;case Q:F=16,v=null;break e}throw Error(r(130,s==null?s:typeof s,""))}return l=Fn(F,h,l,b),l.elementType=s,l.type=v,l.lanes=E,l}function oo(s,l,h,v){return s=Fn(7,s,v,l),s.lanes=h,s}function xh(s,l,h,v){return s=Fn(22,s,v,l),s.elementType=ie,s.lanes=h,s.stateNode={isHidden:!1},s}function Fv(s,l,h){return s=Fn(6,s,null,l),s.lanes=h,s}function Vv(s,l,h){return l=Fn(4,s.children!==null?s.children:[],s.key,l),l.lanes=h,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}function _$(s,l,h,v,b){this.tag=l,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ua(0),this.expirationTimes=Ua(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ua(0),this.identifierPrefix=v,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function Uv(s,l,h,v,b,E,F,B,H){return s=new _$(s,l,h,B,H),l===1?(l=1,E===!0&&(l|=8)):l=0,E=Fn(3,null,null,l),s.current=E,E.stateNode=s,E.memoizedState={element:v,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},ev(E),s}function w$(s,l,h){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:j,key:v==null?null:""+v,children:s,containerInfo:l,implementation:h}}function aA(s){if(!s)return Qa;s=s._reactInternals;e:{if(Jn(s)!==s||s.tag!==1)throw Error(r(170));var l=s;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(rn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(r(171))}if(s.tag===1){var h=s.type;if(rn(h))return Ck(s,h,l)}return l}function sA(s,l,h,v,b,E,F,B,H){return s=Uv(h,v,!0,s,b,E,F,B,H),s.context=aA(null),h=s.current,v=Wr(),b=is(h),E=oa(v,b),E.callback=l??null,es(h,E,b),s.current.lanes=b,Ba(s,b,v),sn(s,v),s}function bh(s,l,h,v){var b=l.current,E=Wr(),F=is(b);return h=aA(h),l.context===null?l.context=h:l.pendingContext=h,l=oa(E,F),l.payload={element:s},v=v===void 0?null:v,v!==null&&(l.callback=v),s=es(b,l,F),s!==null&&(ci(s,b,F,E),Qf(s,b,F)),F}function _h(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function oA(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var h=s.retryLane;s.retryLane=h!==0&&h<l?h:l}}function Bv(s,l){oA(s,l),(s=s.alternate)&&oA(s,l)}function S$(){return null}var lA=typeof reportError=="function"?reportError:function(s){console.error(s)};function qv(s){this._internalRoot=s}wh.prototype.render=qv.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(r(409));bh(s,l,null,null)},wh.prototype.unmount=qv.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;io(function(){bh(null,s,null,null)}),l[ra]=null}};function wh(s){this._internalRoot=s}wh.prototype.unstable_scheduleHydration=function(s){if(s){var l=wf();s={blockedOn:null,target:s,priority:l};for(var h=0;h<ki.length&&l!==0&&l<ki[h].priority;h++);ki.splice(h,0,s),h===0&&Ef(s)}};function zv(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Sh(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function uA(){}function k$(s,l,h,v,b){if(b){if(typeof v=="function"){var E=v;v=function(){var oe=_h(F);E.call(oe)}}var F=sA(l,v,s,0,null,!1,!1,"",uA);return s._reactRootContainer=F,s[ra]=F.current,nc(s.nodeType===8?s.parentNode:s),io(),F}for(;b=s.lastChild;)s.removeChild(b);if(typeof v=="function"){var B=v;v=function(){var oe=_h(H);B.call(oe)}}var H=Uv(s,0,!1,null,null,!1,!1,"",uA);return s._reactRootContainer=H,s[ra]=H.current,nc(s.nodeType===8?s.parentNode:s),io(function(){bh(l,H,h,v)}),H}function kh(s,l,h,v,b){var E=h._reactRootContainer;if(E){var F=E;if(typeof b=="function"){var B=b;b=function(){var H=_h(F);B.call(H)}}bh(l,F,s,b)}else F=k$(h,l,s,b,v);return _h(F)}bf=function(s){switch(s.tag){case 3:var l=s.stateNode;if(l.current.memoizedState.isDehydrated){var h=Va(l.pendingLanes);h!==0&&(qa(l,h|1),sn(l,_t()),(st&6)===0&&(Al=_t()+500,Ja()))}break;case 13:io(function(){var v=sa(s,1);if(v!==null){var b=Wr();ci(v,s,1,b)}}),Bv(s,1)}},Qo=function(s){if(s.tag===13){var l=sa(s,134217728);if(l!==null){var h=Wr();ci(l,s,134217728,h)}Bv(s,134217728)}},_f=function(s){if(s.tag===13){var l=is(s),h=sa(s,l);if(h!==null){var v=Wr();ci(h,s,l,v)}Bv(s,l)}},wf=function(){return Ze},Sf=function(s,l){var h=Ze;try{return Ze=s,l()}finally{Ze=h}},jn=function(s,l,h){switch(l){case"input":if(Dt(s,h),l=h.name,h.type==="radio"&&l!=null){for(h=s;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<h.length;l++){var v=h[l];if(v!==s&&v.form===s.form){var b=Uf(v);if(!b)throw Error(r(90));W(v),Dt(v,b)}}}break;case"textarea":Tn(s,h);break;case"select":l=h.value,l!=null&&Jt(s,!!h.multiple,l,!1)}},Xi=Mv,yr=io;var E$={usingClientEntryPoint:!1,Events:[sc,hl,Uf,Pn,Vs,Mv]},bc={findFiberByHostInstance:Xs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},A$={bundleType:bc.bundleType,version:bc.version,rendererPackageName:bc.rendererPackageName,rendererConfig:bc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Uu(s),s===null?null:s.stateNode},findFiberByHostInstance:bc.findFiberByHostInstance||S$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eh.isDisabled&&Eh.supportsFiber)try{qs=Eh.inject(A$),hn=Eh}catch{}}return on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=E$,on.createPortal=function(s,l){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zv(l))throw Error(r(200));return w$(s,l,null,h)},on.createRoot=function(s,l){if(!zv(s))throw Error(r(299));var h=!1,v="",b=lA;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(b=l.onRecoverableError)),l=Uv(s,1,!1,null,null,h,!1,v,b),s[ra]=l.current,nc(s.nodeType===8?s.parentNode:s),new qv(l)},on.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=Uu(l),s=s===null?null:s.stateNode,s},on.flushSync=function(s){return io(s)},on.hydrate=function(s,l,h){if(!Sh(l))throw Error(r(200));return kh(null,s,l,!0,h)},on.hydrateRoot=function(s,l,h){if(!zv(s))throw Error(r(405));var v=h!=null&&h.hydratedSources||null,b=!1,E="",F=lA;if(h!=null&&(h.unstable_strictMode===!0&&(b=!0),h.identifierPrefix!==void 0&&(E=h.identifierPrefix),h.onRecoverableError!==void 0&&(F=h.onRecoverableError)),l=sA(l,null,s,1,h??null,b,!1,E,F),s[ra]=l.current,nc(s),v)for(s=0;s<v.length;s++)h=v[s],b=h._getVersion,b=b(h._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[h,b]:l.mutableSourceEagerHydrationData.push(h,b);return new wh(l)},on.render=function(s,l,h){if(!Sh(l))throw Error(r(200));return kh(null,s,l,!1,h)},on.unmountComponentAtNode=function(s){if(!Sh(s))throw Error(r(40));return s._reactRootContainer?(io(function(){kh(null,null,s,!1,function(){s._reactRootContainer=null,s[ra]=null})}),!0):!1},on.unstable_batchedUpdates=Mv,on.unstable_renderSubtreeIntoContainer=function(s,l,h,v){if(!Sh(h))throw Error(r(200));if(s==null||s._reactInternals===void 0)throw Error(r(38));return kh(s,l,h,!1,v)},on.version="18.3.1-next-f1338f8080-20240426",on}var vA;function R$(){if(vA)return Gv.exports;vA=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Gv.exports=C$(),Gv.exports}var yA;function M$(){if(yA)return Th;yA=1;var t=R$();return Th.createRoot=t.createRoot,Th.hydrateRoot=t.hydrateRoot,Th}var D$=M$();const L$=ht(D$);var xA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},$$=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],o=t[r++],u=t[r++],d=((i&7)<<18|(a&63)<<12|(o&63)<<6|u&63)-65536;e[n++]=String.fromCharCode(55296+(d>>10)),e[n++]=String.fromCharCode(56320+(d&1023))}else{const a=t[r++],o=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},G2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,u=o?t[i+1]:0,d=i+2<t.length,f=d?t[i+2]:0,p=a>>2,g=(a&3)<<4|u>>4;let y=(u&15)<<2|f>>6,x=f&63;d||(x=64,o||(y=64)),n.push(r[p],r[g],r[y],r[x])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(H2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):$$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],u=i<t.length?r[t.charAt(i)]:0;++i;const f=i<t.length?r[t.charAt(i)]:64;++i;const g=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||u==null||f==null||g==null)throw new F$;const y=a<<2|u>>4;if(n.push(y),f!==64){const x=u<<4&240|f>>2;if(n.push(x),g!==64){const S=f<<6&192|g;n.push(S)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class F$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const V$=function(t){const e=H2(t);return G2.encodeByteArray(e,!0)},ap=function(t){return V$(t).replace(/\./g,"")},K2=function(t){try{return G2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B$=()=>U$().__FIREBASE_DEFAULTS__,q$=()=>{if(typeof process>"u"||typeof xA>"u")return;const t=xA.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},z$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&K2(t[1]);return e&&JSON.parse(e)},ym=()=>{try{return B$()||q$()||z$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Y2=t=>{var e,r;return(r=(e=ym())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},X2=t=>{const e=Y2(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},Q2=()=>{var t;return(t=ym())===null||t===void 0?void 0:t.config},J2=t=>{var e;return(e=ym())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ap(JSON.stringify(r)),ap(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function H$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($r())}function G$(){var t;const e=(t=ym())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function K$(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Y$(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function X$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Q$(){const t=$r();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function J$(){return!G$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Z$(){try{return typeof indexedDB=="object"}catch{return!1}}function e6(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t6="FirebaseError";class Hi extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=t6,Object.setPrototypeOf(this,Hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ud.prototype.create)}}class Ud{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?r6(a,n):"Error",u=`${this.serviceName}: ${o} (${i}).`;return new Hi(i,u,n)}}function r6(t,e){return t.replace(n6,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const n6=/\{\$([^}]+)}/g;function i6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function sp(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],o=e[i];if(bA(a)&&bA(o)){if(!sp(a,o))return!1}else if(a!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function bA(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bd(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Oc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Cc(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function a6(t,e){const r=new s6(t,e);return r.subscribe.bind(r)}class s6{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");o6(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=Xv),i.error===void 0&&(i.error=Xv),i.complete===void 0&&(i.complete=Xv);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function o6(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function Xv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(t){return t&&t._delegate?t._delegate:t}class Es{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new W$;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e?.identifier),i=(r=e?.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(c6(e))try{this.getOrInitializeService({instanceIdentifier:fo})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=fo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fo){return this.instances.has(e)}getOptions(e=fo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);n===u&&o.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:u6(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=fo){return this.component?this.component.multipleInstances?e:fo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function u6(t){return t===fo?void 0:t}function c6(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new l6(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(et||(et={}));const f6={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},h6=et.INFO,p6={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},m6=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=p6[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class o1{constructor(e){this.name=e,this._logLevel=h6,this._logHandler=m6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?f6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...e),this._logHandler(this,et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...e),this._logHandler(this,et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,et.INFO,...e),this._logHandler(this,et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,et.WARN,...e),this._logHandler(this,et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...e),this._logHandler(this,et.ERROR,...e)}}const g6=(t,e)=>e.some(r=>t instanceof r);let _A,wA;function v6(){return _A||(_A=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function y6(){return wA||(wA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eR=new WeakMap,d_=new WeakMap,tR=new WeakMap,Qv=new WeakMap,l1=new WeakMap;function x6(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{r(xs(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&eR.set(r,t)}).catch(()=>{}),l1.set(e,t),e}function b6(t){if(d_.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});d_.set(t,e)}let f_={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return d_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||tR.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return xs(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function _6(t){f_=t(f_)}function w6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Jv(this),e,...r);return tR.set(n,e.sort?e.sort():[e]),xs(n)}:y6().includes(t)?function(...e){return t.apply(Jv(this),e),xs(eR.get(this))}:function(...e){return xs(t.apply(Jv(this),e))}}function S6(t){return typeof t=="function"?w6(t):(t instanceof IDBTransaction&&b6(t),g6(t,v6())?new Proxy(t,f_):t)}function xs(t){if(t instanceof IDBRequest)return x6(t);if(Qv.has(t))return Qv.get(t);const e=S6(t);return e!==t&&(Qv.set(t,e),l1.set(e,t)),e}const Jv=t=>l1.get(t);function k6(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),u=xs(o);return n&&o.addEventListener("upgradeneeded",d=>{n(xs(o.result),d.oldVersion,d.newVersion,xs(o.transaction),d)}),r&&o.addEventListener("blocked",d=>r(d.oldVersion,d.newVersion,d)),u.then(d=>{a&&d.addEventListener("close",()=>a()),i&&d.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const E6=["get","getKey","getAll","getAllKeys","count"],A6=["put","add","delete","clear"],Zv=new Map;function SA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Zv.get(e))return Zv.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=A6.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||E6.includes(r)))return;const a=async function(o,...u){const d=this.transaction(o,i?"readwrite":"readonly");let f=d.store;return n&&(f=f.index(u.shift())),(await Promise.all([f[r](...u),i&&d.done]))[0]};return Zv.set(e,a),a}_6(t=>({...t,get:(e,r,n)=>SA(e,r)||t.get(e,r,n),has:(e,r)=>!!SA(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(j6(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function j6(t){const e=t.getComponent();return e?.type==="VERSION"}const h_="@firebase/app",kA="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa=new o1("@firebase/app"),N6="@firebase/app-compat",P6="@firebase/analytics-compat",I6="@firebase/analytics",O6="@firebase/app-check-compat",C6="@firebase/app-check",R6="@firebase/auth",M6="@firebase/auth-compat",D6="@firebase/database",L6="@firebase/data-connect",$6="@firebase/database-compat",F6="@firebase/functions",V6="@firebase/functions-compat",U6="@firebase/installations",B6="@firebase/installations-compat",q6="@firebase/messaging",z6="@firebase/messaging-compat",W6="@firebase/performance",H6="@firebase/performance-compat",G6="@firebase/remote-config",K6="@firebase/remote-config-compat",Y6="@firebase/storage",X6="@firebase/storage-compat",Q6="@firebase/firestore",J6="@firebase/vertexai-preview",Z6="@firebase/firestore-compat",e5="firebase",t5="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="[DEFAULT]",r5={[h_]:"fire-core",[N6]:"fire-core-compat",[I6]:"fire-analytics",[P6]:"fire-analytics-compat",[C6]:"fire-app-check",[O6]:"fire-app-check-compat",[R6]:"fire-auth",[M6]:"fire-auth-compat",[D6]:"fire-rtdb",[L6]:"fire-data-connect",[$6]:"fire-rtdb-compat",[F6]:"fire-fn",[V6]:"fire-fn-compat",[U6]:"fire-iid",[B6]:"fire-iid-compat",[q6]:"fire-fcm",[z6]:"fire-fcm-compat",[W6]:"fire-perf",[H6]:"fire-perf-compat",[G6]:"fire-rc",[K6]:"fire-rc-compat",[Y6]:"fire-gcs",[X6]:"fire-gcs-compat",[Q6]:"fire-fst",[Z6]:"fire-fst-compat",[J6]:"fire-vertex","fire-js":"fire-js",[e5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op=new Map,n5=new Map,m_=new Map;function EA(t,e){try{t.container.addComponent(e)}catch(r){wa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function To(t){const e=t.name;if(m_.has(e))return wa.debug(`There were multiple attempts to register component ${e}.`),!1;m_.set(e,t);for(const r of op.values())EA(r,t);for(const r of n5.values())EA(r,t);return!0}function xm(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Ri(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bs=new Ud("app","Firebase",i5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Es("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo=t5;function rR(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:p_,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw bs.create("bad-app-name",{appName:String(i)});if(r||(r=Q2()),!r)throw bs.create("no-options");const a=op.get(i);if(a){if(sp(r,a.options)&&sp(n,a.config))return a;throw bs.create("duplicate-app",{appName:i})}const o=new d6(i);for(const d of m_.values())o.addComponent(d);const u=new a5(r,n,o);return op.set(i,u),u}function u1(t=p_){const e=op.get(t);if(!e&&t===p_&&Q2())return rR();if(!e)throw bs.create("no-app",{appName:t});return e}function Di(t,e,r){var n;let i=(n=r5[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wa.warn(u.join(" "));return}To(new Es(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s5="firebase-heartbeat-database",o5=1,Jc="firebase-heartbeat-store";let e0=null;function nR(){return e0||(e0=k6(s5,o5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Jc)}catch(r){console.warn(r)}}}}).catch(t=>{throw bs.create("idb-open",{originalErrorMessage:t.message})})),e0}async function l5(t){try{const r=(await nR()).transaction(Jc),n=await r.objectStore(Jc).get(iR(t));return await r.done,n}catch(e){if(e instanceof Hi)wa.warn(e.message);else{const r=bs.create("idb-get",{originalErrorMessage:e?.message});wa.warn(r.message)}}}async function AA(t,e){try{const n=(await nR()).transaction(Jc,"readwrite");await n.objectStore(Jc).put(e,iR(t)),await n.done}catch(r){if(r instanceof Hi)wa.warn(r.message);else{const n=bs.create("idb-set",{originalErrorMessage:r?.message});wa.warn(n.message)}}}function iR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u5=1024,c5=30*24*60*60*1e3;class d5{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new h5(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=TA();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const u=new Date(o.date).valueOf();return Date.now()-u<=c5}),this._storage.overwrite(this._heartbeatsCache))}catch(n){wa.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=TA(),{heartbeatsToSend:n,unsentEntries:i}=f5(this._heartbeatsCache.heartbeats),a=ap(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return wa.warn(r),""}}}function TA(){return new Date().toISOString().substring(0,10)}function f5(t,e=u5){const r=[];let n=t.slice();for(const i of t){const a=r.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),jA(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),jA(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class h5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Z$()?e6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await l5(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return AA(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return AA(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function jA(t){return ap(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p5(t){To(new Es("platform-logger",e=>new T6(e),"PRIVATE")),To(new Es("heartbeat",e=>new d5(e),"PRIVATE")),Di(h_,kA,t),Di(h_,kA,"esm2017"),Di("fire-js","")}p5("");var m5="firebase",g5="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Di(m5,g5,"app");function c1(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function aR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const v5=aR,sR=new Ud("auth","Firebase",aR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp=new o1("@firebase/auth");function y5(t,...e){lp.logLevel<=et.WARN&&lp.warn(`Auth (${Fo}): ${t}`,...e)}function Kh(t,...e){lp.logLevel<=et.ERROR&&lp.error(`Auth (${Fo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(t,...e){throw d1(t,...e)}function Li(t,...e){return d1(t,...e)}function oR(t,e,r){const n=Object.assign(Object.assign({},v5()),{[e]:r});return new Ud("auth","Firebase",n).create(e,{appName:t.name})}function xa(t){return oR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function d1(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return sR.create(t,...e)}function qe(t,e,...r){if(!t)throw d1(e,...r)}function ha(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Kh(e),new Error(e)}function Sa(t,e){t||ha(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function x5(){return NA()==="http:"||NA()==="https:"}function NA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(x5()||Y$()||"connection"in navigator)?navigator.onLine:!0}function _5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,r){this.shortDelay=e,this.longDelay=r,Sa(r>e,"Short delay should be less than long delay!"),this.isMobile=H$()||X$()}get(){return b5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(t,e){Sa(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ha("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ha("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ha("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S5=new qd(3e4,6e4);function Ps(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Is(t,e,r,n,i={}){return uR(t,i,async()=>{let a={},o={};n&&(e==="GET"?o=n:a={body:JSON.stringify(n)});const u=Bd(Object.assign({key:t.config.apiKey},o)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const f=Object.assign({method:e,headers:d},a);return K$()||(f.referrerPolicy="no-referrer"),lR.fetch()(cR(t,t.config.apiHost,r,u),f)})}async function uR(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},w5),e);try{const i=new E5(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw jh(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const u=a.ok?o.errorMessage:o.error.message,[d,f]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw jh(t,"credential-already-in-use",o);if(d==="EMAIL_EXISTS")throw jh(t,"email-already-in-use",o);if(d==="USER_DISABLED")throw jh(t,"user-disabled",o);const p=n[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw oR(t,p,f);vi(t,p)}}catch(i){if(i instanceof Hi)throw i;vi(t,"network-request-failed",{message:String(i)})}}async function zd(t,e,r,n,i={}){const a=await Is(t,e,r,n,i);return"mfaPendingCredential"in a&&vi(t,"multi-factor-auth-required",{_serverResponse:a}),a}function cR(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?f1(t.config,i):`${t.config.apiScheme}://${i}`}function k5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class E5{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Li(this.auth,"network-request-failed")),S5.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function jh(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=Li(t,e,n);return i.customData._tokenResponse=r,i}function PA(t){return t!==void 0&&t.enterprise!==void 0}class A5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return k5(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function T5(t,e){return Is(t,"GET","/v2/recaptchaConfig",Ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j5(t,e){return Is(t,"POST","/v1/accounts:delete",e)}async function dR(t,e){return Is(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function N5(t,e=!1){const r=Yr(t),n=await r.getIdToken(e),i=h1(n);qe(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a?.sign_in_provider;return{claims:i,token:n,authTime:Uc(t0(i.auth_time)),issuedAtTime:Uc(t0(i.iat)),expirationTime:Uc(t0(i.exp)),signInProvider:o||null,signInSecondFactor:a?.sign_in_second_factor||null}}function t0(t){return Number(t)*1e3}function h1(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Kh("JWT malformed, contained fewer than 3 sections"),null;try{const i=K2(r);return i?JSON.parse(i):(Kh("Failed to decode base64 JWT payload"),null)}catch(i){return Kh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function IA(t){const e=h1(t);return qe(e,"internal-error"),qe(typeof e.exp<"u","internal-error"),qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zc(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Hi&&P5(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function P5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uc(this.lastLoginAt),this.creationTime=Uc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function up(t){var e;const r=t.auth,n=await t.getIdToken(),i=await Zc(t,dR(r,{idToken:n}));qe(i?.users.length,r,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const o=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?fR(a.providerUserInfo):[],u=C5(t.providerData,o),d=t.isAnonymous,f=!(t.email&&a.passwordHash)&&!u?.length,p=d?f:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new v_(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,g)}async function O5(t){const e=Yr(t);await up(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function C5(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function fR(t){return t.map(e=>{var{providerId:r}=e,n=c1(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R5(t,e){const r=await uR(t,{},async()=>{const n=Bd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=cR(t,i,"/v1/token",`key=${a}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",lR.fetch()(o,{method:"POST",headers:u,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function M5(t,e){return Is(t,"POST","/v2/accounts:revokeToken",Ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qe(e.idToken,"internal-error"),qe(typeof e.idToken<"u","internal-error"),qe(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):IA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){qe(e.length!==0,"internal-error");const r=IA(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await R5(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,o=new Vl;return n&&(qe(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),i&&(qe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(qe(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vl,this.toJSON())}_performRefresh(){return ha("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ls(t,e){qe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class pa{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,a=c1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new I5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new v_(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const r=await Zc(this,this.stsTokenManager.getToken(this.auth,e));return qe(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return N5(this,e)}reload(){return O5(this)}_assign(e){this!==e&&(qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new pa(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await up(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ri(this.auth.app))return Promise.reject(xa(this.auth));const e=await this.getIdToken();return await Zc(this,j5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,a,o,u,d,f,p;const g=(n=r.displayName)!==null&&n!==void 0?n:void 0,y=(i=r.email)!==null&&i!==void 0?i:void 0,x=(a=r.phoneNumber)!==null&&a!==void 0?a:void 0,S=(o=r.photoURL)!==null&&o!==void 0?o:void 0,_=(u=r.tenantId)!==null&&u!==void 0?u:void 0,w=(d=r._redirectEventId)!==null&&d!==void 0?d:void 0,R=(f=r.createdAt)!==null&&f!==void 0?f:void 0,N=(p=r.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:O,emailVerified:M,isAnonymous:A,providerData:j,stsTokenManager:T}=r;qe(O&&T,e,"internal-error");const P=Vl.fromJSON(this.name,T);qe(typeof O=="string",e,"internal-error"),ls(g,e.name),ls(y,e.name),qe(typeof M=="boolean",e,"internal-error"),qe(typeof A=="boolean",e,"internal-error"),ls(x,e.name),ls(S,e.name),ls(_,e.name),ls(w,e.name),ls(R,e.name),ls(N,e.name);const L=new pa({uid:O,auth:e,email:y,emailVerified:M,displayName:g,isAnonymous:A,photoURL:S,phoneNumber:x,tenantId:_,stsTokenManager:P,createdAt:R,lastLoginAt:N});return j&&Array.isArray(j)&&(L.providerData=j.map(I=>Object.assign({},I))),w&&(L._redirectEventId=w),L}static async _fromIdTokenResponse(e,r,n=!1){const i=new Vl;i.updateFromServerResponse(r);const a=new pa({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await up(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];qe(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?fR(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!a?.length,u=new Vl;u.updateFromIdToken(n);const d=new pa({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:o}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new v_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(d,f),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA=new Map;function ma(t){Sa(t instanceof Function,"Expected a class definition");let e=OA.get(t);return e?(Sa(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,OA.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}hR.type="NONE";const CA=hR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yh(t,e,r){return`firebase:${t}:${e}:${r}`}class Ul{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=Yh(this.userKey,i.apiKey,a),this.fullPersistenceKey=Yh("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?pa._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Ul(ma(CA),e,n);const i=(await Promise.all(r.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=i[0]||ma(CA);const o=Yh(n,e.config.apiKey,e.name);let u=null;for(const f of r)try{const p=await f._get(o);if(p){const g=pa._fromJSON(e,p);f!==a&&(u=g),a=f;break}}catch{}const d=i.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new Ul(a,e,n):(a=d[0],u&&await a._set(o,u.toJSON()),await Promise.all(r.map(async f=>{if(f!==a)try{await f._remove(o)}catch{}})),new Ul(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(pR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xR(e))return"Blackberry";if(bR(e))return"Webos";if(mR(e))return"Safari";if((e.includes("chrome/")||gR(e))&&!e.includes("edge/"))return"Chrome";if(yR(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if(n?.length===2)return n[1]}return"Other"}function pR(t=$r()){return/firefox\//i.test(t)}function mR(t=$r()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gR(t=$r()){return/crios\//i.test(t)}function vR(t=$r()){return/iemobile/i.test(t)}function yR(t=$r()){return/android/i.test(t)}function xR(t=$r()){return/blackberry/i.test(t)}function bR(t=$r()){return/webos/i.test(t)}function p1(t=$r()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function D5(t=$r()){var e;return p1(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function L5(){return Q$()&&document.documentMode===10}function _R(t=$r()){return p1(t)||yR(t)||bR(t)||xR(t)||/windows phone/i.test(t)||vR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(t,e=[]){let r;switch(t){case"Browser":r=RA($r());break;case"Worker":r=`${RA($r())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Fo}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((o,u)=>{try{const d=e(a);o(d)}catch(d){u(d)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F5(t,e={}){return Is(t,"GET","/v2/passwordPolicy",Ps(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V5=6;class U5{constructor(e){var r,n,i,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=o.minPasswordLength)!==null&&r!==void 0?r:V5,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,a,o,u;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(r=d.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(n=d.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(a=d.containsUppercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(o=d.containsNumericCharacter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(u=d.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),d}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new MA(this),this.idTokenSubscription=new MA(this),this.beforeStateQueue=new $5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=ma(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await Ul.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await dR(this,{idToken:e}),n=await pa._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(Ri(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,u=i?._redirectEventId,d=await this.tryRedirectSignIn(e);(!o||o===u)&&d?.user&&(i=d.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await up(e)}catch(r){if(r?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ri(this.app))return Promise.reject(xa(this));const r=e?Yr(e):null;return r&&qe(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ri(this.app)?Promise.reject(xa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ri(this.app)?Promise.reject(xa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ma(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await F5(this),r=new U5(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ud("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await M5(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&ma(e)||this._popupRedirectResolver;qe(r,this,"argument-error"),this.redirectPersistenceManager=await Ul.create(this,[ma(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let o=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(qe(u,this,"internal-error"),u.then(()=>{o||a(this.currentUser)}),typeof r=="function"){const d=e.addObserver(r,n,i);return()=>{o=!0,d()}}else{const d=e.addObserver(r);return()=>{o=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r?.error&&y5(`Error while retrieving App Check token: ${r.error}`),r?.token}}function Vo(t){return Yr(t)}class MA{constructor(e){this.auth=e,this.observer=null,this.addObserver=a6(r=>this.observer=r)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function q5(t){bm=t}function SR(t){return bm.loadJS(t)}function z5(){return bm.recaptchaEnterpriseScript}function W5(){return bm.gapiScript}function H5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const G5="recaptcha-enterprise",K5="NO_RECAPTCHA";class Y5{constructor(e){this.type=G5,this.auth=Vo(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,u)=>{T5(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new A5(d);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,o(f.siteKey)}}).catch(d=>{u(d)})})}function i(a,o,u){const d=window.grecaptcha;PA(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(f=>{o(f)}).catch(()=>{o(K5)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,o)=>{n(this.auth).then(u=>{if(!r&&PA(window.grecaptcha))i(u,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let d=z5();d.length!==0&&(d+=u),SR(d).then(()=>{i(u,a,o)}).catch(f=>{o(f)})}}).catch(u=>{o(u)})})}}async function DA(t,e,r,n=!1){const i=new Y5(t);let a;try{a=await i.verify(r)}catch{a=await i.verify(r,!0)}const o=Object.assign({},e);return n?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function y_(t,e,r,n){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await DA(t,e,r,r==="getOobCode");return n(t,a)}else return n(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await DA(t,e,r,r==="getOobCode");return n(t,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X5(t,e){const r=xm(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(sp(a,e??{}))return i;vi(i,"already-initialized")}return r.initialize({options:e})}function Q5(t,e){const r=e?.persistence||[],n=(Array.isArray(r)?r:[r]).map(ma);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e?.popupRedirectResolver)}function J5(t,e,r){const n=Vo(t);qe(n._canInitEmulator,n,"emulator-config-failed"),qe(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=kR(e),{host:o,port:u}=Z5(e),d=u===null?"":`:${u}`;n.config.emulator={url:`${a}//${o}${d}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:o,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),eF()}function kR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Z5(t){const e=kR(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:LA(n.substr(a.length+1))}}else{const[a,o]=n.split(":");return{host:a,port:LA(o)}}}function LA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function eF(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return ha("not implemented")}_getIdTokenResponse(e){return ha("not implemented")}_linkToIdToken(e,r){return ha("not implemented")}_getReauthenticationResolver(e){return ha("not implemented")}}async function tF(t,e){return Is(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rF(t,e){return zd(t,"POST","/v1/accounts:signInWithPassword",Ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nF(t,e){return zd(t,"POST","/v1/accounts:signInWithEmailLink",Ps(t,e))}async function iF(t,e){return zd(t,"POST","/v1/accounts:signInWithEmailLink",Ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed extends m1{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new ed(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new ed(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r?.email&&r?.password){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return y_(e,r,"signInWithPassword",rF);case"emailLink":return nF(e,{email:this._email,oobCode:this._password});default:vi(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return y_(e,n,"signUpPassword",tF);case"emailLink":return iF(e,{idToken:r,email:this._email,oobCode:this._password});default:vi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bl(t,e){return zd(t,"POST","/v1/accounts:signInWithIdp",Ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aF="http://localhost";class jo extends m1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new jo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):vi("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,a=c1(r,["providerId","signInMethod"]);if(!n||!i)return null;const o=new jo(n,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return Bl(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Bl(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Bl(e,r)}buildRequest(){const e={requestUri:aF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Bd(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sF(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function oF(t){const e=Oc(Cc(t)).link,r=e?Oc(Cc(e)).deep_link_id:null,n=Oc(Cc(t)).deep_link_id;return(n?Oc(Cc(n)).link:null)||n||r||e||t}class g1{constructor(e){var r,n,i,a,o,u;const d=Oc(Cc(e)),f=(r=d.apiKey)!==null&&r!==void 0?r:null,p=(n=d.oobCode)!==null&&n!==void 0?n:null,g=sF((i=d.mode)!==null&&i!==void 0?i:null);qe(f&&p&&g,"argument-error"),this.apiKey=f,this.operation=g,this.code=p,this.continueUrl=(a=d.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(o=d.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(u=d.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const r=oF(e);try{return new g1(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(){this.providerId=Tu.PROVIDER_ID}static credential(e,r){return ed._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=g1.parseLink(r);return qe(n,"argument-error"),ed._fromEmailAndCode(e,n.code,n.tenantId)}}Tu.PROVIDER_ID="password";Tu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Tu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd extends ER{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends Wd{constructor(){super("facebook.com")}static credential(e){return jo._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ds.credential(e.oauthAccessToken)}catch{return null}}}ds.FACEBOOK_SIGN_IN_METHOD="facebook.com";ds.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends Wd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return jo._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return fs.credential(r,n)}catch{return null}}}fs.GOOGLE_SIGN_IN_METHOD="google.com";fs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends Wd{constructor(){super("github.com")}static credential(e){return jo._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hs.credential(e.oauthAccessToken)}catch{return null}}}hs.GITHUB_SIGN_IN_METHOD="github.com";hs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends Wd{constructor(){super("twitter.com")}static credential(e,r){return jo._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return ps.credential(r,n)}catch{return null}}}ps.TWITTER_SIGN_IN_METHOD="twitter.com";ps.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lF(t,e){return zd(t,"POST","/v1/accounts:signUp",Ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await pa._fromIdTokenResponse(e,n,i),o=$A(n);return new No({user:a,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=$A(n);return new No({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function $A(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp extends Hi{constructor(e,r,n,i){var a;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,cp.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new cp(e,r,n,i)}}function AR(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?cp._fromErrorAndOperation(t,a,e,n):a})}async function uF(t,e,r=!1){const n=await Zc(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return No._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cF(t,e,r=!1){const{auth:n}=t;if(Ri(n.app))return Promise.reject(xa(n));const i="reauthenticate";try{const a=await Zc(t,AR(n,i,e,t),r);qe(a.idToken,n,"internal-error");const o=h1(a.idToken);qe(o,n,"internal-error");const{sub:u}=o;return qe(t.uid===u,n,"user-mismatch"),No._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&vi(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TR(t,e,r=!1){if(Ri(t.app))return Promise.reject(xa(t));const n="signIn",i=await AR(t,n,e),a=await No._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}async function dF(t,e){return TR(Vo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jR(t){const e=Vo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function fF(t,e,r){if(Ri(t.app))return Promise.reject(xa(t));const n=Vo(t),o=await y_(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",lF).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&jR(t),d}),u=await No._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(u.user),u}function hF(t,e,r){return Ri(t.app)?Promise.reject(xa(t)):dF(Yr(t),Tu.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&jR(t),n})}function pF(t,e,r,n){return Yr(t).onIdTokenChanged(e,r,n)}function mF(t,e,r){return Yr(t).beforeAuthStateChanged(e,r)}function gF(t,e,r,n){return Yr(t).onAuthStateChanged(e,r,n)}const dp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(dp,"1"),this.storage.removeItem(dp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vF=1e3,yF=10;class PR extends NR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_R(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,u,d)=>{this.notifyListeners(o,d)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},a=this.storage.getItem(n);L5()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,yF):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},vF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}PR.type="LOCAL";const xF=PR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR extends NR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}IR.type="SESSION";const OR=IR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new _m(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,o=this.handlersMap[i];if(!o?.size)return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const u=Array.from(o).map(async f=>f(r.origin,a)),d=await bF(u);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:d})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_m.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _F{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((u,d)=>{const f=v1("",20);i.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(g){const y=g;if(y.data.eventId===f)switch(y.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(y.data.response);break;default:clearTimeout(p),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:f,data:r},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(){return window}function wF(t){$i().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(){return typeof $i().WorkerGlobalScope<"u"&&typeof $i().importScripts=="function"}async function SF(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kF(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function EF(){return CR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR="firebaseLocalStorageDb",AF=1,fp="firebaseLocalStorage",MR="fbase_key";class Hd{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function wm(t,e){return t.transaction([fp],e?"readwrite":"readonly").objectStore(fp)}function TF(){const t=indexedDB.deleteDatabase(RR);return new Hd(t).toPromise()}function x_(){const t=indexedDB.open(RR,AF);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(fp,{keyPath:MR})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(fp)?e(n):(n.close(),await TF(),e(await x_()))})})}async function FA(t,e,r){const n=wm(t,!0).put({[MR]:e,value:r});return new Hd(n).toPromise()}async function jF(t,e){const r=wm(t,!1).get(e),n=await new Hd(r).toPromise();return n===void 0?null:n.value}function VA(t,e){const r=wm(t,!0).delete(e);return new Hd(r).toPromise()}const NF=800,PF=3;class DR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await x_(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>PF)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return CR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_m._getInstance(EF()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await SF(),!this.activeServiceWorker)return;this.sender=new _F(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||kF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await x_();return await FA(e,dp,"1"),await VA(e,dp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>FA(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>jF(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>VA(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=wm(i,!1).getAll();return new Hd(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),NF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}DR.type="LOCAL";const IF=DR;new qd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OF(t,e){return e?ma(e):(qe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1 extends m1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bl(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Bl(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Bl(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function CF(t){return TR(t.auth,new y1(t),t.bypassAuthState)}function RF(t){const{auth:e,user:r}=t;return qe(r,e,"internal-error"),cF(r,new y1(t),t.bypassAuthState)}async function MF(t){const{auth:e,user:r}=t;return qe(r,e,"internal-error"),uF(r,new y1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:o,type:u}=e;if(o){this.reject(o);return}const d={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return CF;case"linkViaPopup":case"linkViaRedirect":return MF;case"reauthViaPopup":case"reauthViaRedirect":return RF;default:vi(this.auth,"internal-error")}}resolve(e){Sa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Sa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DF=new qd(2e3,1e4);class Rl extends LR{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,Rl.currentPopupAction&&Rl.currentPopupAction.cancel(),Rl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qe(e,this.auth,"internal-error"),e}async onExecution(){Sa(this.filter.length===1,"Popup operations only handle one event");const e=v1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Rl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,DF.get())};e()}}Rl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LF="pendingRedirect",Xh=new Map;class $F extends LR{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Xh.get(this.auth._key());if(!e){try{const n=await FF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Xh.set(this.auth._key(),e)}return this.bypassAuthState||Xh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function FF(t,e){const r=BF(e),n=UF(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function VF(t,e){Xh.set(t._key(),e)}function UF(t){return ma(t._redirectPersistence)}function BF(t){return Yh(LF,t.config.apiKey,t.name)}async function qF(t,e,r=!1){if(Ri(t.app))return Promise.reject(xa(t));const n=Vo(t),i=OF(n,e),o=await new $F(n,i,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zF=10*60*1e3;class WF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HF(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!$R(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(Li(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zF&&this.cachedEventUids.clear(),this.cachedEventUids.has(UA(e))}saveEventToCache(e){this.cachedEventUids.add(UA(e)),this.lastProcessedEventTime=Date.now()}}function UA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function $R({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function HF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $R(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GF(t,e={}){return Is(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,YF=/^https?/;async function XF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await GF(t);for(const r of e)try{if(QF(r))return}catch{}vi(t,"unauthorized-domain")}function QF(t){const e=g_(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!YF.test(r))return!1;if(KF.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JF=new qd(3e4,6e4);function BA(){const t=$i().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function ZF(t){return new Promise((e,r)=>{var n,i,a;function o(){BA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{BA(),r(Li(t,"network-request-failed"))},timeout:JF.get()})}if(!((i=(n=$i().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=$i().gapi)===null||a===void 0)&&a.load)o();else{const u=H5("iframefcb");return $i()[u]=()=>{gapi.load?o():r(Li(t,"network-request-failed"))},SR(`${W5()}?onload=${u}`).catch(d=>r(d))}}).catch(e=>{throw Qh=null,e})}let Qh=null;function eV(t){return Qh=Qh||ZF(t),Qh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV=new qd(5e3,15e3),rV="__/auth/iframe",nV="emulator/auth/iframe",iV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sV(t){const e=t.config;qe(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?f1(e,nV):`https://${t.config.authDomain}/${rV}`,n={apiKey:e.apiKey,appName:t.name,v:Fo},i=aV.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${Bd(n).slice(1)}`}async function oV(t){const e=await eV(t),r=$i().gapi;return qe(r,t,"internal-error"),e.open({where:document.body,url:sV(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iV,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const o=Li(t,"network-request-failed"),u=$i().setTimeout(()=>{a(o)},tV.get());function d(){$i().clearTimeout(u),i(n)}n.ping(d).then(d,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uV=500,cV=600,dV="_blank",fV="http://localhost";class qA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hV(t,e,r,n=uV,i=cV){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let u="";const d=Object.assign(Object.assign({},lV),{width:n.toString(),height:i.toString(),top:a,left:o}),f=$r().toLowerCase();r&&(u=gR(f)?dV:r),pR(f)&&(e=e||fV,d.scrollbars="yes");const p=Object.entries(d).reduce((y,[x,S])=>`${y}${x}=${S},`,"");if(D5(f)&&u!=="_self")return pV(e||"",u),new qA(null);const g=window.open(e||"",u,p);qe(g,t,"popup-blocked");try{g.focus()}catch{}return new qA(g)}function pV(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mV="__/auth/handler",gV="emulator/auth/handler",vV=encodeURIComponent("fac");async function zA(t,e,r,n,i,a){qe(t.config.authDomain,t,"auth-domain-config-required"),qe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Fo,eventId:i};if(e instanceof ER){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",i6(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))o[p]=g}if(e instanceof Wd){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(o.scopes=p.join(","))}t.tenantId&&(o.tid=t.tenantId);const u=o;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const d=await t._getAppCheckToken(),f=d?`#${vV}=${encodeURIComponent(d)}`:"";return`${yV(t)}?${Bd(u).slice(1)}${f}`}function yV({config:t}){return t.emulator?f1(t,gV):`https://${t.authDomain}/${mV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="webStorageSupport";class xV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=OR,this._completeRedirectFn=qF,this._overrideRedirectResult=VF}async _openPopup(e,r,n,i){var a;Sa((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await zA(e,r,n,g_(),i);return hV(e,o,v1())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await zA(e,r,n,g_(),i);return wF(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(Sa(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await oV(e),n=new WF(e);return r.register("authEvent",i=>(qe(i?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(r0,{type:r0},i=>{var a;const o=(a=i?.[0])===null||a===void 0?void 0:a[r0];o!==void 0&&r(!!o),vi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=XF(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return _R()||mR()||p1()}}const bV=xV;var WA="@firebase/auth",HA="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function SV(t){To(new Es("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:u}=n.options;qe(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const d={apiKey:o,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wR(t)},f=new B5(n,i,a,d);return Q5(f,r),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),To(new Es("auth-internal",e=>{const r=Vo(e.getProvider("auth").getImmediate());return(n=>new _V(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Di(WA,HA,wV(t)),Di(WA,HA,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kV=5*60,EV=J2("authIdTokenMaxAge")||kV;let GA=null;const AV=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>EV)return;const i=r?.token;GA!==i&&(GA=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function FR(t=u1()){const e=xm(t,"auth");if(e.isInitialized())return e.getImmediate();const r=X5(t,{popupRedirectResolver:bV,persistence:[IF,xF,OR]}),n=J2("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const o=AV(a.toString());mF(r,o,()=>o(r.currentUser)),pF(r,u=>o(u))}}const i=Y2("auth");return i&&J5(r,`http://${i}`),r}function TV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}q5({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=Li("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",TV().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});SV("Browser");var KA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var So,VR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,P){function L(){}L.prototype=P.prototype,T.D=P.prototype,T.prototype=new L,T.prototype.constructor=T,T.C=function(I,D,V){for(var $=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)$[ee-2]=arguments[ee];return P.prototype[D].apply(I,$)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,P,L){L||(L=0);var I=Array(16);if(typeof P=="string")for(var D=0;16>D;++D)I[D]=P.charCodeAt(L++)|P.charCodeAt(L++)<<8|P.charCodeAt(L++)<<16|P.charCodeAt(L++)<<24;else for(D=0;16>D;++D)I[D]=P[L++]|P[L++]<<8|P[L++]<<16|P[L++]<<24;P=T.g[0],L=T.g[1],D=T.g[2];var V=T.g[3],$=P+(V^L&(D^V))+I[0]+3614090360&4294967295;P=L+($<<7&4294967295|$>>>25),$=V+(D^P&(L^D))+I[1]+3905402710&4294967295,V=P+($<<12&4294967295|$>>>20),$=D+(L^V&(P^L))+I[2]+606105819&4294967295,D=V+($<<17&4294967295|$>>>15),$=L+(P^D&(V^P))+I[3]+3250441966&4294967295,L=D+($<<22&4294967295|$>>>10),$=P+(V^L&(D^V))+I[4]+4118548399&4294967295,P=L+($<<7&4294967295|$>>>25),$=V+(D^P&(L^D))+I[5]+1200080426&4294967295,V=P+($<<12&4294967295|$>>>20),$=D+(L^V&(P^L))+I[6]+2821735955&4294967295,D=V+($<<17&4294967295|$>>>15),$=L+(P^D&(V^P))+I[7]+4249261313&4294967295,L=D+($<<22&4294967295|$>>>10),$=P+(V^L&(D^V))+I[8]+1770035416&4294967295,P=L+($<<7&4294967295|$>>>25),$=V+(D^P&(L^D))+I[9]+2336552879&4294967295,V=P+($<<12&4294967295|$>>>20),$=D+(L^V&(P^L))+I[10]+4294925233&4294967295,D=V+($<<17&4294967295|$>>>15),$=L+(P^D&(V^P))+I[11]+2304563134&4294967295,L=D+($<<22&4294967295|$>>>10),$=P+(V^L&(D^V))+I[12]+1804603682&4294967295,P=L+($<<7&4294967295|$>>>25),$=V+(D^P&(L^D))+I[13]+4254626195&4294967295,V=P+($<<12&4294967295|$>>>20),$=D+(L^V&(P^L))+I[14]+2792965006&4294967295,D=V+($<<17&4294967295|$>>>15),$=L+(P^D&(V^P))+I[15]+1236535329&4294967295,L=D+($<<22&4294967295|$>>>10),$=P+(D^V&(L^D))+I[1]+4129170786&4294967295,P=L+($<<5&4294967295|$>>>27),$=V+(L^D&(P^L))+I[6]+3225465664&4294967295,V=P+($<<9&4294967295|$>>>23),$=D+(P^L&(V^P))+I[11]+643717713&4294967295,D=V+($<<14&4294967295|$>>>18),$=L+(V^P&(D^V))+I[0]+3921069994&4294967295,L=D+($<<20&4294967295|$>>>12),$=P+(D^V&(L^D))+I[5]+3593408605&4294967295,P=L+($<<5&4294967295|$>>>27),$=V+(L^D&(P^L))+I[10]+38016083&4294967295,V=P+($<<9&4294967295|$>>>23),$=D+(P^L&(V^P))+I[15]+3634488961&4294967295,D=V+($<<14&4294967295|$>>>18),$=L+(V^P&(D^V))+I[4]+3889429448&4294967295,L=D+($<<20&4294967295|$>>>12),$=P+(D^V&(L^D))+I[9]+568446438&4294967295,P=L+($<<5&4294967295|$>>>27),$=V+(L^D&(P^L))+I[14]+3275163606&4294967295,V=P+($<<9&4294967295|$>>>23),$=D+(P^L&(V^P))+I[3]+4107603335&4294967295,D=V+($<<14&4294967295|$>>>18),$=L+(V^P&(D^V))+I[8]+1163531501&4294967295,L=D+($<<20&4294967295|$>>>12),$=P+(D^V&(L^D))+I[13]+2850285829&4294967295,P=L+($<<5&4294967295|$>>>27),$=V+(L^D&(P^L))+I[2]+4243563512&4294967295,V=P+($<<9&4294967295|$>>>23),$=D+(P^L&(V^P))+I[7]+1735328473&4294967295,D=V+($<<14&4294967295|$>>>18),$=L+(V^P&(D^V))+I[12]+2368359562&4294967295,L=D+($<<20&4294967295|$>>>12),$=P+(L^D^V)+I[5]+4294588738&4294967295,P=L+($<<4&4294967295|$>>>28),$=V+(P^L^D)+I[8]+2272392833&4294967295,V=P+($<<11&4294967295|$>>>21),$=D+(V^P^L)+I[11]+1839030562&4294967295,D=V+($<<16&4294967295|$>>>16),$=L+(D^V^P)+I[14]+4259657740&4294967295,L=D+($<<23&4294967295|$>>>9),$=P+(L^D^V)+I[1]+2763975236&4294967295,P=L+($<<4&4294967295|$>>>28),$=V+(P^L^D)+I[4]+1272893353&4294967295,V=P+($<<11&4294967295|$>>>21),$=D+(V^P^L)+I[7]+4139469664&4294967295,D=V+($<<16&4294967295|$>>>16),$=L+(D^V^P)+I[10]+3200236656&4294967295,L=D+($<<23&4294967295|$>>>9),$=P+(L^D^V)+I[13]+681279174&4294967295,P=L+($<<4&4294967295|$>>>28),$=V+(P^L^D)+I[0]+3936430074&4294967295,V=P+($<<11&4294967295|$>>>21),$=D+(V^P^L)+I[3]+3572445317&4294967295,D=V+($<<16&4294967295|$>>>16),$=L+(D^V^P)+I[6]+76029189&4294967295,L=D+($<<23&4294967295|$>>>9),$=P+(L^D^V)+I[9]+3654602809&4294967295,P=L+($<<4&4294967295|$>>>28),$=V+(P^L^D)+I[12]+3873151461&4294967295,V=P+($<<11&4294967295|$>>>21),$=D+(V^P^L)+I[15]+530742520&4294967295,D=V+($<<16&4294967295|$>>>16),$=L+(D^V^P)+I[2]+3299628645&4294967295,L=D+($<<23&4294967295|$>>>9),$=P+(D^(L|~V))+I[0]+4096336452&4294967295,P=L+($<<6&4294967295|$>>>26),$=V+(L^(P|~D))+I[7]+1126891415&4294967295,V=P+($<<10&4294967295|$>>>22),$=D+(P^(V|~L))+I[14]+2878612391&4294967295,D=V+($<<15&4294967295|$>>>17),$=L+(V^(D|~P))+I[5]+4237533241&4294967295,L=D+($<<21&4294967295|$>>>11),$=P+(D^(L|~V))+I[12]+1700485571&4294967295,P=L+($<<6&4294967295|$>>>26),$=V+(L^(P|~D))+I[3]+2399980690&4294967295,V=P+($<<10&4294967295|$>>>22),$=D+(P^(V|~L))+I[10]+4293915773&4294967295,D=V+($<<15&4294967295|$>>>17),$=L+(V^(D|~P))+I[1]+2240044497&4294967295,L=D+($<<21&4294967295|$>>>11),$=P+(D^(L|~V))+I[8]+1873313359&4294967295,P=L+($<<6&4294967295|$>>>26),$=V+(L^(P|~D))+I[15]+4264355552&4294967295,V=P+($<<10&4294967295|$>>>22),$=D+(P^(V|~L))+I[6]+2734768916&4294967295,D=V+($<<15&4294967295|$>>>17),$=L+(V^(D|~P))+I[13]+1309151649&4294967295,L=D+($<<21&4294967295|$>>>11),$=P+(D^(L|~V))+I[4]+4149444226&4294967295,P=L+($<<6&4294967295|$>>>26),$=V+(L^(P|~D))+I[11]+3174756917&4294967295,V=P+($<<10&4294967295|$>>>22),$=D+(P^(V|~L))+I[2]+718787259&4294967295,D=V+($<<15&4294967295|$>>>17),$=L+(V^(D|~P))+I[9]+3951481745&4294967295,T.g[0]=T.g[0]+P&4294967295,T.g[1]=T.g[1]+(D+($<<21&4294967295|$>>>11))&4294967295,T.g[2]=T.g[2]+D&4294967295,T.g[3]=T.g[3]+V&4294967295}n.prototype.u=function(T,P){P===void 0&&(P=T.length);for(var L=P-this.blockSize,I=this.B,D=this.h,V=0;V<P;){if(D==0)for(;V<=L;)i(this,T,V),V+=this.blockSize;if(typeof T=="string"){for(;V<P;)if(I[D++]=T.charCodeAt(V++),D==this.blockSize){i(this,I),D=0;break}}else for(;V<P;)if(I[D++]=T[V++],D==this.blockSize){i(this,I),D=0;break}}this.h=D,this.o+=P},n.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var P=1;P<T.length-8;++P)T[P]=0;var L=8*this.o;for(P=T.length-8;P<T.length;++P)T[P]=L&255,L/=256;for(this.u(T),T=Array(16),P=L=0;4>P;++P)for(var I=0;32>I;I+=8)T[L++]=this.g[P]>>>I&255;return T};function a(T,P){var L=u;return Object.prototype.hasOwnProperty.call(L,T)?L[T]:L[T]=P(T)}function o(T,P){this.h=P;for(var L=[],I=!0,D=T.length-1;0<=D;D--){var V=T[D]|0;I&&V==P||(L[D]=V,I=!1)}this.g=L}var u={};function d(T){return-128<=T&&128>T?a(T,function(P){return new o([P|0],0>P?-1:0)}):new o([T|0],0>T?-1:0)}function f(T){if(isNaN(T)||!isFinite(T))return g;if(0>T)return w(f(-T));for(var P=[],L=1,I=0;T>=L;I++)P[I]=T/L|0,L*=4294967296;return new o(P,0)}function p(T,P){if(T.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(T.charAt(0)=="-")return w(p(T.substring(1),P));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var L=f(Math.pow(P,8)),I=g,D=0;D<T.length;D+=8){var V=Math.min(8,T.length-D),$=parseInt(T.substring(D,D+V),P);8>V?(V=f(Math.pow(P,V)),I=I.j(V).add(f($))):(I=I.j(L),I=I.add(f($)))}return I}var g=d(0),y=d(1),x=d(16777216);t=o.prototype,t.m=function(){if(_(this))return-w(this).m();for(var T=0,P=1,L=0;L<this.g.length;L++){var I=this.i(L);T+=(0<=I?I:4294967296+I)*P,P*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(S(this))return"0";if(_(this))return"-"+w(this).toString(T);for(var P=f(Math.pow(T,6)),L=this,I="";;){var D=M(L,P).g;L=R(L,D.j(P));var V=((0<L.g.length?L.g[0]:L.h)>>>0).toString(T);if(L=D,S(L))return V+I;for(;6>V.length;)V="0"+V;I=V+I}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function S(T){if(T.h!=0)return!1;for(var P=0;P<T.g.length;P++)if(T.g[P]!=0)return!1;return!0}function _(T){return T.h==-1}t.l=function(T){return T=R(this,T),_(T)?-1:S(T)?0:1};function w(T){for(var P=T.g.length,L=[],I=0;I<P;I++)L[I]=~T.g[I];return new o(L,~T.h).add(y)}t.abs=function(){return _(this)?w(this):this},t.add=function(T){for(var P=Math.max(this.g.length,T.g.length),L=[],I=0,D=0;D<=P;D++){var V=I+(this.i(D)&65535)+(T.i(D)&65535),$=(V>>>16)+(this.i(D)>>>16)+(T.i(D)>>>16);I=$>>>16,V&=65535,$&=65535,L[D]=$<<16|V}return new o(L,L[L.length-1]&-2147483648?-1:0)};function R(T,P){return T.add(w(P))}t.j=function(T){if(S(this)||S(T))return g;if(_(this))return _(T)?w(this).j(w(T)):w(w(this).j(T));if(_(T))return w(this.j(w(T)));if(0>this.l(x)&&0>T.l(x))return f(this.m()*T.m());for(var P=this.g.length+T.g.length,L=[],I=0;I<2*P;I++)L[I]=0;for(I=0;I<this.g.length;I++)for(var D=0;D<T.g.length;D++){var V=this.i(I)>>>16,$=this.i(I)&65535,ee=T.i(D)>>>16,ne=T.i(D)&65535;L[2*I+2*D]+=$*ne,N(L,2*I+2*D),L[2*I+2*D+1]+=V*ne,N(L,2*I+2*D+1),L[2*I+2*D+1]+=$*ee,N(L,2*I+2*D+1),L[2*I+2*D+2]+=V*ee,N(L,2*I+2*D+2)}for(I=0;I<P;I++)L[I]=L[2*I+1]<<16|L[2*I];for(I=P;I<2*P;I++)L[I]=0;return new o(L,0)};function N(T,P){for(;(T[P]&65535)!=T[P];)T[P+1]+=T[P]>>>16,T[P]&=65535,P++}function O(T,P){this.g=T,this.h=P}function M(T,P){if(S(P))throw Error("division by zero");if(S(T))return new O(g,g);if(_(T))return P=M(w(T),P),new O(w(P.g),w(P.h));if(_(P))return P=M(T,w(P)),new O(w(P.g),P.h);if(30<T.g.length){if(_(T)||_(P))throw Error("slowDivide_ only works with positive integers.");for(var L=y,I=P;0>=I.l(T);)L=A(L),I=A(I);var D=j(L,1),V=j(I,1);for(I=j(I,2),L=j(L,2);!S(I);){var $=V.add(I);0>=$.l(T)&&(D=D.add(L),V=$),I=j(I,1),L=j(L,1)}return P=R(T,D.j(P)),new O(D,P)}for(D=g;0<=T.l(P);){for(L=Math.max(1,Math.floor(T.m()/P.m())),I=Math.ceil(Math.log(L)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),V=f(L),$=V.j(P);_($)||0<$.l(T);)L-=I,V=f(L),$=V.j(P);S(V)&&(V=y),D=D.add(V),T=R(T,$)}return new O(D,T)}t.A=function(T){return M(this,T).h},t.and=function(T){for(var P=Math.max(this.g.length,T.g.length),L=[],I=0;I<P;I++)L[I]=this.i(I)&T.i(I);return new o(L,this.h&T.h)},t.or=function(T){for(var P=Math.max(this.g.length,T.g.length),L=[],I=0;I<P;I++)L[I]=this.i(I)|T.i(I);return new o(L,this.h|T.h)},t.xor=function(T){for(var P=Math.max(this.g.length,T.g.length),L=[],I=0;I<P;I++)L[I]=this.i(I)^T.i(I);return new o(L,this.h^T.h)};function A(T){for(var P=T.g.length+1,L=[],I=0;I<P;I++)L[I]=T.i(I)<<1|T.i(I-1)>>>31;return new o(L,T.h)}function j(T,P){var L=P>>5;P%=32;for(var I=T.g.length-L,D=[],V=0;V<I;V++)D[V]=0<P?T.i(V+L)>>>P|T.i(V+L+1)<<32-P:T.i(V+L);return new o(D,T.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,VR=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=f,o.fromString=p,So=o}).apply(typeof KA<"u"?KA:typeof self<"u"?self:typeof window<"u"?window:{});var Nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var UR,Rc,BR,Jh,b_,qR,zR,WR;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,k,C){return m==Array.prototype||m==Object.prototype||(m[k]=C.value),m};function r(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nh=="object"&&Nh];for(var k=0;k<m.length;++k){var C=m[k];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var n=r(this);function i(m,k){if(k)e:{var C=n;m=m.split(".");for(var U=0;U<m.length-1;U++){var te=m[U];if(!(te in C))break e;C=C[te]}m=m[m.length-1],U=C[m],k=k(U),k!=U&&k!=null&&e(C,m,{configurable:!0,writable:!0,value:k})}}function a(m,k){m instanceof String&&(m+="");var C=0,U=!1,te={next:function(){if(!U&&C<m.length){var ue=C++;return{value:k(ue,m[ue]),done:!1}}return U=!0,{done:!0,value:void 0}}};return te[Symbol.iterator]=function(){return te},te}i("Array.prototype.values",function(m){return m||function(){return a(this,function(k,C){return C})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},u=this||self;function d(m){var k=typeof m;return k=k!="object"?k:m?Array.isArray(m)?"array":k:"null",k=="array"||k=="object"&&typeof m.length=="number"}function f(m){var k=typeof m;return k=="object"&&m!=null||k=="function"}function p(m,k,C){return m.call.apply(m.bind,arguments)}function g(m,k,C){if(!m)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var te=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(te,U),m.apply(k,te)}}return function(){return m.apply(k,arguments)}}function y(m,k,C){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:g,y.apply(null,arguments)}function x(m,k){var C=Array.prototype.slice.call(arguments,1);return function(){var U=C.slice();return U.push.apply(U,arguments),m.apply(this,U)}}function S(m,k){function C(){}C.prototype=k.prototype,m.aa=k.prototype,m.prototype=new C,m.prototype.constructor=m,m.Qb=function(U,te,ue){for(var Ae=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)Ae[pt-2]=arguments[pt];return k.prototype[te].apply(U,Ae)}}function _(m){const k=m.length;if(0<k){const C=Array(k);for(let U=0;U<k;U++)C[U]=m[U];return C}return[]}function w(m,k){for(let C=1;C<arguments.length;C++){const U=arguments[C];if(d(U)){const te=m.length||0,ue=U.length||0;m.length=te+ue;for(let Ae=0;Ae<ue;Ae++)m[te+Ae]=U[Ae]}else m.push(U)}}class R{constructor(k,C){this.i=k,this.j=C,this.h=0,this.g=null}get(){let k;return 0<this.h?(this.h--,k=this.g,this.g=k.next,k.next=null):k=this.i(),k}}function N(m){return/^[\s\xa0]*$/.test(m)}function O(){var m=u.navigator;return m&&(m=m.userAgent)?m:""}function M(m){return M[" "](m),m}M[" "]=function(){};var A=O().indexOf("Gecko")!=-1&&!(O().toLowerCase().indexOf("webkit")!=-1&&O().indexOf("Edge")==-1)&&!(O().indexOf("Trident")!=-1||O().indexOf("MSIE")!=-1)&&O().indexOf("Edge")==-1;function j(m,k,C){for(const U in m)k.call(C,m[U],U,m)}function T(m,k){for(const C in m)k.call(void 0,m[C],C,m)}function P(m){const k={};for(const C in m)k[C]=m[C];return k}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(m,k){let C,U;for(let te=1;te<arguments.length;te++){U=arguments[te];for(C in U)m[C]=U[C];for(let ue=0;ue<L.length;ue++)C=L[ue],Object.prototype.hasOwnProperty.call(U,C)&&(m[C]=U[C])}}function D(m){var k=1;m=m.split(":");const C=[];for(;0<k&&m.length;)C.push(m.shift()),k--;return m.length&&C.push(m.join(":")),C}function V(m){u.setTimeout(()=>{throw m},0)}function $(){var m=J;let k=null;return m.g&&(k=m.g,m.g=m.g.next,m.g||(m.h=null),k.next=null),k}class ee{constructor(){this.h=this.g=null}add(k,C){const U=ne.get();U.set(k,C),this.h?this.h.next=U:this.g=U,this.h=U}}var ne=new R(()=>new Q,m=>m.reset());class Q{constructor(){this.next=this.g=this.h=null}set(k,C){this.h=k,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,Z=!1,J=new ee,se=()=>{const m=u.Promise.resolve(void 0);ie=()=>{m.then(q)}};var q=()=>{for(var m;m=$();){try{m.h.call(m.g)}catch(C){V(C)}var k=ne;k.j(m),100>k.h&&(k.h++,m.next=k.g,k.g=m)}Z=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function K(m,k){this.type=m,this.g=this.target=k,this.defaultPrevented=!1}K.prototype.h=function(){this.defaultPrevented=!0};var le=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var m=!1,k=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const C=()=>{};u.addEventListener("test",C,k),u.removeEventListener("test",C,k)}catch{}return m}();function de(m,k){if(K.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var C=this.type=m.type,U=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=k,k=m.relatedTarget){if(A){e:{try{M(k.nodeName);var te=!0;break e}catch{}te=!1}te||(k=null)}}else C=="mouseover"?k=m.fromElement:C=="mouseout"&&(k=m.toElement);this.relatedTarget=k,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:xe[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&de.aa.h.call(this)}}S(de,K);var xe={2:"touch",3:"pen",4:"mouse"};de.prototype.h=function(){de.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var he="closure_listenable_"+(1e6*Math.random()|0),ge=0;function fe(m,k,C,U,te){this.listener=m,this.proxy=null,this.src=k,this.type=C,this.capture=!!U,this.ha=te,this.key=++ge,this.da=this.fa=!1}function Ee(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Te(m){this.src=m,this.g={},this.h=0}Te.prototype.add=function(m,k,C,U,te){var ue=m.toString();m=this.g[ue],m||(m=this.g[ue]=[],this.h++);var Ae=pe(m,k,U,te);return-1<Ae?(k=m[Ae],C||(k.fa=!1)):(k=new fe(k,this.src,ue,!!U,te),k.fa=C,m.push(k)),k};function W(m,k){var C=k.type;if(C in m.g){var U=m.g[C],te=Array.prototype.indexOf.call(U,k,void 0),ue;(ue=0<=te)&&Array.prototype.splice.call(U,te,1),ue&&(Ee(k),m.g[C].length==0&&(delete m.g[C],m.h--))}}function pe(m,k,C,U){for(var te=0;te<m.length;++te){var ue=m[te];if(!ue.da&&ue.listener==k&&ue.capture==!!C&&ue.ha==U)return te}return-1}var me="closure_lm_"+(1e6*Math.random()|0),je={};function $e(m,k,C,U,te){if(Array.isArray(k)){for(var ue=0;ue<k.length;ue++)$e(m,k[ue],C,U,te);return null}return C=Yn(C),m&&m[he]?m.K(k,C,f(U)?!!U.capture:!1,te):Dt(m,k,C,!1,U,te)}function Dt(m,k,C,U,te,ue){if(!k)throw Error("Invalid event type");var Ae=f(te)?!!te.capture:!!te,pt=An(m);if(pt||(m[me]=pt=new Te(m)),C=pt.add(k,C,U,Ae,ue),C.proxy)return C;if(U=Xr(),C.proxy=U,U.src=m,U.listener=C,m.addEventListener)le||(te=Ae),te===void 0&&(te=!1),m.addEventListener(k.toString(),U,te);else if(m.attachEvent)m.attachEvent(Jt(k.toString()),U);else if(m.addListener&&m.removeListener)m.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return C}function Xr(){function m(C){return k.call(m.src,m.listener,C)}const k=Qr;return m}function Fr(m,k,C,U,te){if(Array.isArray(k))for(var ue=0;ue<k.length;ue++)Fr(m,k[ue],C,U,te);else U=f(U)?!!U.capture:!!U,C=Yn(C),m&&m[he]?(m=m.i,k=String(k).toString(),k in m.g&&(ue=m.g[k],C=pe(ue,C,U,te),-1<C&&(Ee(ue[C]),Array.prototype.splice.call(ue,C,1),ue.length==0&&(delete m.g[k],m.h--)))):m&&(m=An(m))&&(k=m.g[k.toString()],m=-1,k&&(m=pe(k,C,U,te)),(C=-1<m?k[m]:null)&&Vr(C))}function Vr(m){if(typeof m!="number"&&m&&!m.da){var k=m.src;if(k&&k[he])W(k.i,m);else{var C=m.type,U=m.proxy;k.removeEventListener?k.removeEventListener(C,U,m.capture):k.detachEvent?k.detachEvent(Jt(C),U):k.addListener&&k.removeListener&&k.removeListener(U),(C=An(k))?(W(C,m),C.h==0&&(C.src=null,k[me]=null)):Ee(m)}}}function Jt(m){return m in je?je[m]:je[m]="on"+m}function Qr(m,k){if(m.da)m=!0;else{k=new de(k,this);var C=m.listener,U=m.ha||m.src;m.fa&&Vr(m),m=C.call(U,k)}return m}function An(m){return m=m[me],m instanceof Te?m:null}var Tn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yn(m){return typeof m=="function"?m:(m[Tn]||(m[Tn]=function(k){return m.handleEvent(k)}),m[Tn])}function Ut(){Y.call(this),this.i=new Te(this),this.M=this,this.F=null}S(Ut,Y),Ut.prototype[he]=!0,Ut.prototype.removeEventListener=function(m,k,C,U){Fr(this,m,k,C,U)};function Lt(m,k){var C,U=m.F;if(U)for(C=[];U;U=U.F)C.push(U);if(m=m.M,U=k.type||k,typeof k=="string")k=new K(k,m);else if(k instanceof K)k.target=k.target||m;else{var te=k;k=new K(U,m),I(k,te)}if(te=!0,C)for(var ue=C.length-1;0<=ue;ue--){var Ae=k.g=C[ue];te=_i(Ae,U,!0,k)&&te}if(Ae=k.g=m,te=_i(Ae,U,!0,k)&&te,te=_i(Ae,U,!1,k)&&te,C)for(ue=0;ue<C.length;ue++)Ae=k.g=C[ue],te=_i(Ae,U,!1,k)&&te}Ut.prototype.N=function(){if(Ut.aa.N.call(this),this.i){var m=this.i,k;for(k in m.g){for(var C=m.g[k],U=0;U<C.length;U++)Ee(C[U]);delete m.g[k],m.h--}}this.F=null},Ut.prototype.K=function(m,k,C,U){return this.i.add(String(m),k,!1,C,U)},Ut.prototype.L=function(m,k,C,U){return this.i.add(String(m),k,!0,C,U)};function _i(m,k,C,U){if(k=m.i.g[String(k)],!k)return!0;k=k.concat();for(var te=!0,ue=0;ue<k.length;++ue){var Ae=k[ue];if(Ae&&!Ae.da&&Ae.capture==C){var pt=Ae.listener,Zt=Ae.ha||Ae.src;Ae.fa&&W(m.i,Ae),te=pt.call(Zt,U)!==!1&&te}}return te&&!U.defaultPrevented}function Wo(m,k,C){if(typeof m=="function")C&&(m=y(m,C));else if(m&&typeof m.handleEvent=="function")m=y(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(k)?-1:u.setTimeout(m,k||0)}function Wt(m){m.g=Wo(()=>{m.g=null,m.i&&(m.i=!1,Wt(m))},m.l);const k=m.h;m.h=null,m.m.apply(null,k)}class Ra extends Y{constructor(k,C){super(),this.m=k,this.l=C,this.h=null,this.i=!1,this.g=null}j(k){this.h=arguments,this.g?this.i=!0:Wt(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ma(m){Y.call(this),this.h=m,this.g={}}S(Ma,Y);var Ho=[];function Ls(m){j(m.g,function(k,C){this.g.hasOwnProperty(C)&&Vr(k)},m),m.g={}}Ma.prototype.N=function(){Ma.aa.N.call(this),Ls(this)},Ma.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $s=u.JSON.stringify,Da=u.JSON.parse,Fs=class{stringify(m){return u.JSON.stringify(m,void 0)}parse(m){return u.JSON.parse(m,void 0)}};function wi(){}wi.prototype.h=null;function fn(m){return m.h||(m.h=m.i())}function jn(){}var or={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Nn(){K.call(this,"d")}S(Nn,K);function La(){K.call(this,"c")}S(La,K);var Pn={},Vs=null;function Xi(){return Vs=Vs||new Ut}Pn.La="serverreachability";function yr(m){K.call(this,Pn.La,m)}S(yr,K);function Xn(m){const k=Xi();Lt(k,new yr(k))}Pn.STAT_EVENT="statevent";function lr(m,k){K.call(this,Pn.STAT_EVENT,m),this.stat=k}S(lr,K);function Ct(m){const k=Xi();Lt(k,new lr(k,m))}Pn.Ma="timingevent";function $a(m,k){K.call(this,Pn.Ma,m),this.size=k}S($a,K);function Ye(m,k){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){m()},k)}function tt(){this.g=!0}tt.prototype.xa=function(){this.g=!1};function vt(m,k,C,U,te,ue){m.info(function(){if(m.g)if(ue)for(var Ae="",pt=ue.split("&"),Zt=0;Zt<pt.length;Zt++){var nt=pt[Zt].split("=");if(1<nt.length){var ur=nt[0];nt=nt[1];var Ht=ur.split("_");Ae=2<=Ht.length&&Ht[1]=="type"?Ae+(ur+"="+nt+"&"):Ae+(ur+"=redacted&")}}else Ae=null;else Ae=ue;return"XMLHTTP REQ ("+U+") [attempt "+te+"]: "+k+`
`+C+`
`+Ae})}function rt(m,k,C,U,te,ue,Ae){m.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+te+"]: "+k+`
`+C+`
`+ue+" "+Ae})}function yt(m,k,C,U){m.info(function(){return"XMLHTTP TEXT ("+k+"): "+Jr(m,C)+(U?" "+U:"")})}function Qn(m,k){m.info(function(){return"TIMEOUT: "+k})}tt.prototype.info=function(){};function Jr(m,k){if(!m.g)return k;if(!k)return null;try{var C=JSON.parse(k);if(C){for(m=0;m<C.length;m++)if(Array.isArray(C[m])){var U=C[m];if(!(2>U.length)){var te=U[1];if(Array.isArray(te)&&!(1>te.length)){var ue=te[0];if(ue!="noop"&&ue!="stop"&&ue!="close")for(var Ae=1;Ae<te.length;Ae++)te[Ae]=""}}}}return $s(C)}catch{return k}}var Ur={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ff={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Jn;function Us(){}S(Us,wi),Us.prototype.g=function(){return new XMLHttpRequest},Us.prototype.i=function(){return{}},Jn=new Us;function Zn(m,k,C,U){this.j=m,this.i=k,this.l=C,this.R=U||1,this.U=new Ma(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new hf}function hf(){this.i=null,this.g="",this.h=!1}var Uu={},Go={};function Ko(m,k,C){m.L=1,m.v=qa(pn(k)),m.m=C,m.P=!0,Bu(m,null)}function Bu(m,k){m.F=Date.now(),_t(m),m.A=pn(m.v);var C=m.A,U=m.R;Array.isArray(U)||(U=[String(U)]),Wa(C.i,"t",U),m.C=0,C=m.j.J,m.h=new hf,m.g=If(m.j,C?k:null,!m.m),0<m.O&&(m.M=new Ra(y(m.Y,m,m.g),m.O)),k=m.U,C=m.g,U=m.ca;var te="readystatechange";Array.isArray(te)||(te&&(Ho[0]=te.toString()),te=Ho);for(var ue=0;ue<te.length;ue++){var Ae=$e(C,te[ue],U||k.handleEvent,!1,k.h||k);if(!Ae)break;k.g[Ae.key]=Ae}k=m.H?P(m.H):{},m.m?(m.u||(m.u="POST"),k["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,k)):(m.u="GET",m.g.ea(m.A,m.u,null,k)),Xn(),vt(m.i,m.u,m.A,m.l,m.R,m.m)}Zn.prototype.ca=function(m){m=m.target;const k=this.M;k&&en(m)==3?k.j():this.Y(m)},Zn.prototype.Y=function(m){try{if(m==this.g)e:{const Ht=en(this.g);var k=this.g.Ba();const Cn=this.g.Z();if(!(3>Ht)&&(Ht!=3||this.g&&(this.h.h||this.g.oa()||Ku(this.g)))){this.J||Ht!=4||k==7||(k==8||0>=Cn?Xn(3):Xn(2)),Bs(this);var C=this.g.Z();this.X=C;t:if(pf(this)){var U=Ku(this.g);m="";var te=U.length,ue=en(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){In(this),Fa(this);var Ae="";break t}this.h.i=new u.TextDecoder}for(k=0;k<te;k++)this.h.h=!0,m+=this.h.i.decode(U[k],{stream:!(ue&&k==te-1)});U.length=0,this.h.g+=m,this.C=0,Ae=this.h.g}else Ae=this.g.oa();if(this.o=C==200,rt(this.i,this.u,this.A,this.l,this.R,Ht,C),this.o){if(this.T&&!this.K){t:{if(this.g){var pt,Zt=this.g;if((pt=Zt.g?Zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(pt)){var nt=pt;break t}}nt=null}if(C=nt)yt(this.i,this.l,C,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qu(this,C);else{this.o=!1,this.s=3,Ct(12),In(this),Fa(this);break e}}if(this.P){C=!0;let gn;for(;!this.J&&this.C<Ae.length;)if(gn=bg(this,Ae),gn==Go){Ht==4&&(this.s=4,Ct(14),C=!1),yt(this.i,this.l,null,"[Incomplete Response]");break}else if(gn==Uu){this.s=4,Ct(15),yt(this.i,this.l,Ae,"[Invalid Chunk]"),C=!1;break}else yt(this.i,this.l,gn,null),qu(this,gn);if(pf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ht!=4||Ae.length!=0||this.h.h||(this.s=1,Ct(16),C=!1),this.o=this.o&&C,!C)yt(this.i,this.l,Ae,"[Invalid Chunked Response]"),In(this),Fa(this);else if(0<Ae.length&&!this.W){this.W=!0;var ur=this.j;ur.g==this&&ur.ba&&!ur.M&&(ur.j.info("Great, no buffering proxy detected. Bytes received: "+Ae.length),Xu(ur),ur.M=!0,Ct(11))}}else yt(this.i,this.l,Ae,null),qu(this,Ae);Ht==4&&In(this),this.o&&!this.J&&(Ht==4?al(this.j,this):(this.o=!1,_t(this)))}else el(this.g),C==400&&0<Ae.indexOf("Unknown SID")?(this.s=3,Ct(12)):(this.s=0,Ct(13)),In(this),Fa(this)}}}catch{}finally{}};function pf(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function bg(m,k){var C=m.C,U=k.indexOf(`
`,C);return U==-1?Go:(C=Number(k.substring(C,U)),isNaN(C)?Uu:(U+=1,U+C>k.length?Go:(k=k.slice(U,U+C),m.C=U+C,k)))}Zn.prototype.cancel=function(){this.J=!0,In(this)};function _t(m){m.S=Date.now()+m.I,mf(m,m.I)}function mf(m,k){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Ye(y(m.ba,m),k)}function Bs(m){m.B&&(u.clearTimeout(m.B),m.B=null)}Zn.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(Qn(this.i,this.A),this.L!=2&&(Xn(),Ct(17)),In(this),this.s=2,Fa(this)):mf(this,this.S-m)};function Fa(m){m.j.G==0||m.J||al(m.j,m)}function In(m){Bs(m);var k=m.M;k&&typeof k.ma=="function"&&k.ma(),m.M=null,Ls(m.U),m.g&&(k=m.g,m.g=null,k.abort(),k.ma())}function qu(m,k){try{var C=m.j;if(C.G!=0&&(C.g==m||Br(C.h,m))){if(!m.K&&Br(C.h,m)&&C.G==3){try{var U=C.Da.g.parse(k)}catch{U=null}if(Array.isArray(U)&&U.length==3){var te=U;if(te[0]==0){e:if(!C.u){if(C.g)if(C.g.F+3e3<m.F)il(C),ii(C);else break e;nl(C),Ct(18)}}else C.za=te[1],0<C.za-C.T&&37500>te[2]&&C.F&&C.v==0&&!C.C&&(C.C=Ye(y(C.Za,C),6e3));if(1>=vf(C.h)&&C.ca){try{C.ca()}catch{}C.ca=void 0}}else ta(C,11)}else if((m.K||C.g==m)&&il(C),!N(k))for(te=C.Da.g.parse(k),k=0;k<te.length;k++){let nt=te[k];if(C.T=nt[0],nt=nt[1],C.G==2)if(nt[0]=="c"){C.K=nt[1],C.ia=nt[2];const ur=nt[3];ur!=null&&(C.la=ur,C.j.info("VER="+C.la));const Ht=nt[4];Ht!=null&&(C.Aa=Ht,C.j.info("SVER="+C.Aa));const Cn=nt[5];Cn!=null&&typeof Cn=="number"&&0<Cn&&(U=1.5*Cn,C.L=U,C.j.info("backChannelRequestTimeoutMs_="+U)),U=C;const gn=m.g;if(gn){const Ys=gn.g?gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ys){var ue=U.h;ue.g||Ys.indexOf("spdy")==-1&&Ys.indexOf("quic")==-1&&Ys.indexOf("h2")==-1||(ue.j=ue.l,ue.g=new Set,ue.h&&(zu(ue,ue.h),ue.h=null))}if(U.D){const ol=gn.g?gn.g.getResponseHeader("X-HTTP-Session-Id"):null;ol&&(U.ya=ol,xt(U.I,U.D,ol))}}C.G=3,C.l&&C.l.ua(),C.ba&&(C.R=Date.now()-m.F,C.j.info("Handshake RTT: "+C.R+"ms")),U=C;var Ae=m;if(U.qa=Pf(U,U.J?U.ia:null,U.W),Ae.K){yf(U.h,Ae);var pt=Ae,Zt=U.L;Zt&&(pt.I=Zt),pt.B&&(Bs(pt),_t(pt)),U.g=Ae}else Ks(U);0<C.i.length&&Ai(C)}else nt[0]!="stop"&&nt[0]!="close"||ta(C,7);else C.G==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?ta(C,7):br(C):nt[0]!="noop"&&C.l&&C.l.ta(nt),C.v=0)}}Xn(4)}catch{}}var gf=class{constructor(m,k){this.g=m,this.map=k}};function qs(m){this.l=m||10,u.PerformanceNavigationTiming?(m=u.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function hn(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function vf(m){return m.h?1:m.g?m.g.size:0}function Br(m,k){return m.h?m.h==k:m.g?m.g.has(k):!1}function zu(m,k){m.g?m.g.add(k):m.h=k}function yf(m,k){m.h&&m.h==k?m.h=null:m.g&&m.g.has(k)&&m.g.delete(k)}qs.prototype.cancel=function(){if(this.i=xf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function xf(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let k=m.i;for(const C of m.g.values())k=k.concat(C.D);return k}return _(m.i)}function Yo(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(d(m)){for(var k=[],C=m.length,U=0;U<C;U++)k.push(m[U]);return k}k=[],C=0;for(U in m)k[C++]=m[U];return k}function Xo(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(d(m)||typeof m=="string"){var k=[];m=m.length;for(var C=0;C<m;C++)k.push(C);return k}k=[],C=0;for(const U in m)k[C++]=U;return k}}}function Va(m,k){if(m.forEach&&typeof m.forEach=="function")m.forEach(k,void 0);else if(d(m)||typeof m=="string")Array.prototype.forEach.call(m,k,void 0);else for(var C=Xo(m),U=Yo(m),te=U.length,ue=0;ue<te;ue++)k.call(void 0,U[ue],C&&C[ue],m)}var zs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _g(m,k){if(m){m=m.split("&");for(var C=0;C<m.length;C++){var U=m[C].indexOf("="),te=null;if(0<=U){var ue=m[C].substring(0,U);te=m[C].substring(U+1)}else ue=m[C];k(ue,te?decodeURIComponent(te.replace(/\+/g," ")):"")}}}function Qi(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof Qi){this.h=m.h,Ws(this,m.j),this.o=m.o,this.g=m.g,Ua(this,m.s),this.l=m.l;var k=m.i,C=new Si;C.i=k.i,k.g&&(C.g=new Map(k.g),C.h=k.h),Ba(this,C),this.m=m.m}else m&&(k=String(m).match(zs))?(this.h=!1,Ws(this,k[1]||"",!0),this.o=Ze(k[2]||""),this.g=Ze(k[3]||"",!0),Ua(this,k[4]),this.l=Ze(k[5]||"",!0),Ba(this,k[6]||"",!0),this.m=Ze(k[7]||"")):(this.h=!1,this.i=new Si(null,this.h))}Qi.prototype.toString=function(){var m=[],k=this.j;k&&m.push(za(k,Qo,!0),":");var C=this.g;return(C||k=="file")&&(m.push("//"),(k=this.o)&&m.push(za(k,Qo,!0),"@"),m.push(encodeURIComponent(String(C)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.s,C!=null&&m.push(":",String(C))),(C=this.l)&&(this.g&&C.charAt(0)!="/"&&m.push("/"),m.push(za(C,C.charAt(0)=="/"?wf:_f,!0))),(C=this.i.toString())&&m.push("?",C),(C=this.m)&&m.push("#",za(C,Wu)),m.join("")};function pn(m){return new Qi(m)}function Ws(m,k,C){m.j=C?Ze(k,!0):k,m.j&&(m.j=m.j.replace(/:$/,""))}function Ua(m,k){if(k){if(k=Number(k),isNaN(k)||0>k)throw Error("Bad port number "+k);m.s=k}else m.s=null}function Ba(m,k,C){k instanceof Si?(m.i=k,ki(m.i,m.h)):(C||(k=za(k,Sf)),m.i=new Si(k,m.h))}function xt(m,k,C){m.i.set(k,C)}function qa(m){return xt(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Ze(m,k){return m?k?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function za(m,k,C){return typeof m=="string"?(m=encodeURI(m).replace(k,bf),C&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function bf(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Qo=/[#\/\?@]/g,_f=/[#\?:]/g,wf=/[#\?]/g,Sf=/[#\?@]/g,Wu=/#/g;function Si(m,k){this.h=this.g=null,this.i=m||null,this.j=!!k}function xr(m){m.g||(m.g=new Map,m.h=0,m.i&&_g(m.i,function(k,C){m.add(decodeURIComponent(k.replace(/\+/g," ")),C)}))}t=Si.prototype,t.add=function(m,k){xr(this),this.i=null,m=On(this,m);var C=this.g.get(m);return C||this.g.set(m,C=[]),C.push(k),this.h+=1,this};function ei(m,k){xr(m),k=On(m,k),m.g.has(k)&&(m.i=null,m.h-=m.g.get(k).length,m.g.delete(k))}function ti(m,k){return xr(m),k=On(m,k),m.g.has(k)}t.forEach=function(m,k){xr(this),this.g.forEach(function(C,U){C.forEach(function(te){m.call(k,te,U,this)},this)},this)},t.na=function(){xr(this);const m=Array.from(this.g.values()),k=Array.from(this.g.keys()),C=[];for(let U=0;U<k.length;U++){const te=m[U];for(let ue=0;ue<te.length;ue++)C.push(k[U])}return C},t.V=function(m){xr(this);let k=[];if(typeof m=="string")ti(this,m)&&(k=k.concat(this.g.get(On(this,m))));else{m=Array.from(this.g.values());for(let C=0;C<m.length;C++)k=k.concat(m[C])}return k},t.set=function(m,k){return xr(this),this.i=null,m=On(this,m),ti(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[k]),this.h+=1,this},t.get=function(m,k){return m?(m=this.V(m),0<m.length?String(m[0]):k):k};function Wa(m,k,C){ei(m,k),0<C.length&&(m.i=null,m.g.set(On(m,k),_(C)),m.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],k=Array.from(this.g.keys());for(var C=0;C<k.length;C++){var U=k[C];const ue=encodeURIComponent(String(U)),Ae=this.V(U);for(U=0;U<Ae.length;U++){var te=ue;Ae[U]!==""&&(te+="="+encodeURIComponent(String(Ae[U]))),m.push(te)}}return this.i=m.join("&")};function On(m,k){return k=String(k),m.j&&(k=k.toLowerCase()),k}function ki(m,k){k&&!m.j&&(xr(m),m.i=null,m.g.forEach(function(C,U){var te=U.toLowerCase();U!=te&&(ei(this,U),Wa(this,te,C))},m)),m.j=k}function wg(m,k){const C=new tt;if(u.Image){const U=new Image;U.onload=x(Zr,C,"TestLoadImage: loaded",!0,k,U),U.onerror=x(Zr,C,"TestLoadImage: error",!1,k,U),U.onabort=x(Zr,C,"TestLoadImage: abort",!1,k,U),U.ontimeout=x(Zr,C,"TestLoadImage: timeout",!1,k,U),u.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=m}else k(!1)}function kf(m,k){const C=new tt,U=new AbortController,te=setTimeout(()=>{U.abort(),Zr(C,"TestPingServer: timeout",!1,k)},1e4);fetch(m,{signal:U.signal}).then(ue=>{clearTimeout(te),ue.ok?Zr(C,"TestPingServer: ok",!0,k):Zr(C,"TestPingServer: server error",!1,k)}).catch(()=>{clearTimeout(te),Zr(C,"TestPingServer: error",!1,k)})}function Zr(m,k,C,U,te){try{te&&(te.onload=null,te.onerror=null,te.onabort=null,te.ontimeout=null),U(C)}catch{}}function Sg(){this.g=new Fs}function Ef(m,k,C){const U=C||"";try{Va(m,function(te,ue){let Ae=te;f(te)&&(Ae=$s(te)),k.push(U+ue+"="+encodeURIComponent(Ae))})}catch(te){throw k.push(U+"type="+encodeURIComponent("_badmap")),te}}function Ji(m){this.l=m.Ub||null,this.j=m.eb||!1}S(Ji,wi),Ji.prototype.g=function(){return new Hs(this.l,this.j)},Ji.prototype.i=function(m){return function(){return m}}({});function Hs(m,k){Ut.call(this),this.D=m,this.o=k,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Hs,Ut),t=Hs.prototype,t.open=function(m,k){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=k,this.readyState=1,ni(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const k={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(k.body=m),(this.D||u).fetch(new Request(this.A,k)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ri(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,ni(this)),this.g&&(this.readyState=3,ni(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Af(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function Af(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var k=m.value?m.value:new Uint8Array(0);(k=this.v.decode(k,{stream:!m.done}))&&(this.response=this.responseText+=k)}m.done?ri(this):ni(this),this.readyState==3&&Af(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,ri(this))},t.Qa=function(m){this.g&&(this.response=m,ri(this))},t.ga=function(){this.g&&ri(this)};function ri(m){m.readyState=4,m.l=null,m.j=null,m.v=null,ni(m)}t.setRequestHeader=function(m,k){this.u.append(m,k)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],k=this.h.entries();for(var C=k.next();!C.done;)C=C.value,m.push(C[0]+": "+C[1]),C=k.next();return m.join(`\r
`)};function ni(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Hs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Zi(m){let k="";return j(m,function(C,U){k+=U,k+=":",k+=C,k+=`\r
`}),k}function Ha(m,k,C){e:{for(U in C){var U=!1;break e}U=!0}U||(C=Zi(C),typeof m=="string"?C!=null&&encodeURIComponent(String(C)):xt(m,k,C))}function Pt(m){Ut.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Pt,Ut);var kg=/^https?$/i,Hu=["POST","PUT"];t=Pt.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,k,C,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);k=k?k.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Jn.g(),this.v=this.o?fn(this.o):fn(Jn),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(k,String(m),!0),this.B=!1}catch(ue){Gs(this,ue);return}if(m=C||"",C=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var te in U)C.set(te,U[te]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const ue of U.keys())C.set(ue,U.get(ue));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(C.keys()).find(ue=>ue.toLowerCase()=="content-type"),te=u.FormData&&m instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Hu,k,void 0))||U||te||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ue,Ae]of C)this.g.setRequestHeader(ue,Ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Zo(this),this.u=!0,this.g.send(m),this.u=!1}catch(ue){Gs(this,ue)}};function Gs(m,k){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=k,m.m=5,Jo(m),mn(m)}function Jo(m){m.A||(m.A=!0,Lt(m,"complete"),Lt(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,Lt(this,"complete"),Lt(this,"abort"),mn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mn(this,!0)),Pt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Gu(this):this.bb())},t.bb=function(){Gu(this)};function Gu(m){if(m.h&&typeof o<"u"&&(!m.v[1]||en(m)!=4||m.Z()!=2)){if(m.u&&en(m)==4)Wo(m.Ea,0,m);else if(Lt(m,"readystatechange"),en(m)==4){m.h=!1;try{const Ae=m.Z();e:switch(Ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var k=!0;break e;default:k=!1}var C;if(!(C=k)){var U;if(U=Ae===0){var te=String(m.D).match(zs)[1]||null;!te&&u.self&&u.self.location&&(te=u.self.location.protocol.slice(0,-1)),U=!kg.test(te?te.toLowerCase():"")}C=U}if(C)Lt(m,"complete"),Lt(m,"success");else{m.m=6;try{var ue=2<en(m)?m.g.statusText:""}catch{ue=""}m.l=ue+" ["+m.Z()+"]",Jo(m)}}finally{mn(m)}}}}function mn(m,k){if(m.g){Zo(m);const C=m.g,U=m.v[0]?()=>{}:null;m.g=null,m.v=null,k||Lt(m,"ready");try{C.onreadystatechange=U}catch{}}}function Zo(m){m.I&&(u.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function en(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<en(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var k=this.g.responseText;return m&&k.indexOf(m)==0&&(k=k.substring(m.length)),Da(k)}};function Ku(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function el(m){const k={};m=(m.g&&2<=en(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<m.length;U++){if(N(m[U]))continue;var C=D(m[U]);const te=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const ue=k[te]||[];k[te]=ue,ue.push(C)}T(k,function(U){return U.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ei(m,k,C){return C&&C.internalChannelParams&&C.internalChannelParams[m]||k}function Yu(m){this.Aa=0,this.i=[],this.j=new tt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ei("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ei("baseRetryDelayMs",5e3,m),this.cb=Ei("retryDelaySeedMs",1e4,m),this.Wa=Ei("forwardChannelMaxRetries",2,m),this.wa=Ei("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new qs(m&&m.concurrentRequestLimit),this.Da=new Sg,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Yu.prototype,t.la=8,t.G=1,t.connect=function(m,k,C,U){Ct(0),this.W=m,this.H=k||{},C&&U!==void 0&&(this.H.OSID=C,this.H.OAID=U),this.F=this.X,this.I=Pf(this,null,this.W),Ai(this)};function br(m){if(tl(m),m.G==3){var k=m.U++,C=pn(m.I);if(xt(C,"SID",m.K),xt(C,"RID",k),xt(C,"TYPE","terminate"),ea(m,C),k=new Zn(m,m.j,k),k.L=2,k.v=qa(pn(C)),C=!1,u.navigator&&u.navigator.sendBeacon)try{C=u.navigator.sendBeacon(k.v.toString(),"")}catch{}!C&&u.Image&&(new Image().src=k.v,C=!0),C||(k.g=If(k.j,null),k.g.ea(k.v)),k.F=Date.now(),_t(k)}Nf(m)}function ii(m){m.g&&(Xu(m),m.g.cancel(),m.g=null)}function tl(m){ii(m),m.u&&(u.clearTimeout(m.u),m.u=null),il(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&u.clearTimeout(m.s),m.s=null)}function Ai(m){if(!hn(m.h)&&!m.s){m.s=!0;var k=m.Ga;ie||se(),Z||(ie(),Z=!0),J.add(k,m),m.B=0}}function Eg(m,k){return vf(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=k.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Ye(y(m.Ga,m,k),jf(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const te=new Zn(this,this.j,m);let ue=this.o;if(this.S&&(ue?(ue=P(ue),I(ue,this.S)):ue=this.S),this.m!==null||this.O||(te.H=ue,ue=null),this.P)e:{for(var k=0,C=0;C<this.i.length;C++){t:{var U=this.i[C];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(k+=U,4096<k){k=C;break e}if(k===4096||C===this.i.length-1){k=C+1;break e}}k=1e3}else k=1e3;k=Ga(this,te,k),C=pn(this.I),xt(C,"RID",m),xt(C,"CVER",22),this.D&&xt(C,"X-HTTP-Session-Id",this.D),ea(this,C),ue&&(this.O?k="headers="+encodeURIComponent(String(Zi(ue)))+"&"+k:this.m&&Ha(C,this.m,ue)),zu(this.h,te),this.Ua&&xt(C,"TYPE","init"),this.P?(xt(C,"$req",k),xt(C,"SID","null"),te.T=!0,Ko(te,C,null)):Ko(te,C,k),this.G=2}}else this.G==3&&(m?rl(this,m):this.i.length==0||hn(this.h)||rl(this))};function rl(m,k){var C;k?C=k.l:C=m.U++;const U=pn(m.I);xt(U,"SID",m.K),xt(U,"RID",C),xt(U,"AID",m.T),ea(m,U),m.m&&m.o&&Ha(U,m.m,m.o),C=new Zn(m,m.j,C,m.B+1),m.m===null&&(C.H=m.o),k&&(m.i=k.D.concat(m.i)),k=Ga(m,C,1e3),C.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),zu(m.h,C),Ko(C,U,k)}function ea(m,k){m.H&&j(m.H,function(C,U){xt(k,U,C)}),m.l&&Va({},function(C,U){xt(k,U,C)})}function Ga(m,k,C){C=Math.min(m.i.length,C);var U=m.l?y(m.l.Na,m.l,m):null;e:{var te=m.i;let ue=-1;for(;;){const Ae=["count="+C];ue==-1?0<C?(ue=te[0].g,Ae.push("ofs="+ue)):ue=0:Ae.push("ofs="+ue);let pt=!0;for(let Zt=0;Zt<C;Zt++){let nt=te[Zt].g;const ur=te[Zt].map;if(nt-=ue,0>nt)ue=Math.max(0,te[Zt].g-100),pt=!1;else try{Ef(ur,Ae,"req"+nt+"_")}catch{U&&U(ur)}}if(pt){U=Ae.join("&");break e}}}return m=m.i.splice(0,C),k.D=m,U}function Ks(m){if(!m.g&&!m.u){m.Y=1;var k=m.Fa;ie||se(),Z||(ie(),Z=!0),J.add(k,m),m.v=0}}function nl(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Ye(y(m.Fa,m),jf(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,Tf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Ye(y(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ct(10),ii(this),Tf(this))};function Xu(m){m.A!=null&&(u.clearTimeout(m.A),m.A=null)}function Tf(m){m.g=new Zn(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var k=pn(m.qa);xt(k,"RID","rpc"),xt(k,"SID",m.K),xt(k,"AID",m.T),xt(k,"CI",m.F?"0":"1"),!m.F&&m.ja&&xt(k,"TO",m.ja),xt(k,"TYPE","xmlhttp"),ea(m,k),m.m&&m.o&&Ha(k,m.m,m.o),m.L&&(m.g.I=m.L);var C=m.g;m=m.ia,C.L=1,C.v=qa(pn(k)),C.m=null,C.P=!0,Bu(C,m)}t.Za=function(){this.C!=null&&(this.C=null,ii(this),nl(this),Ct(19))};function il(m){m.C!=null&&(u.clearTimeout(m.C),m.C=null)}function al(m,k){var C=null;if(m.g==k){il(m),Xu(m),m.g=null;var U=2}else if(Br(m.h,k))C=k.D,yf(m.h,k),U=1;else return;if(m.G!=0){if(k.o)if(U==1){C=k.m?k.m.length:0,k=Date.now()-k.F;var te=m.B;U=Xi(),Lt(U,new $a(U,C)),Ai(m)}else Ks(m);else if(te=k.s,te==3||te==0&&0<k.X||!(U==1&&Eg(m,k)||U==2&&nl(m)))switch(C&&0<C.length&&(k=m.h,k.i=k.i.concat(C)),te){case 1:ta(m,5);break;case 4:ta(m,10);break;case 3:ta(m,6);break;default:ta(m,2)}}}function jf(m,k){let C=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(C*=2),C*k}function ta(m,k){if(m.j.info("Error code "+k),k==2){var C=y(m.fb,m),U=m.Xa;const te=!U;U=new Qi(U||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Ws(U,"https"),qa(U),te?wg(U.toString(),C):kf(U.toString(),C)}else Ct(2);m.G=0,m.l&&m.l.sa(k),Nf(m),tl(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function Nf(m){if(m.G=0,m.ka=[],m.l){const k=xf(m.h);(k.length!=0||m.i.length!=0)&&(w(m.ka,k),w(m.ka,m.i),m.h.i.length=0,_(m.i),m.i.length=0),m.l.ra()}}function Pf(m,k,C){var U=C instanceof Qi?pn(C):new Qi(C);if(U.g!="")k&&(U.g=k+"."+U.g),Ua(U,U.s);else{var te=u.location;U=te.protocol,k=k?k+"."+te.hostname:te.hostname,te=+te.port;var ue=new Qi(null);U&&Ws(ue,U),k&&(ue.g=k),te&&Ua(ue,te),C&&(ue.l=C),U=ue}return C=m.D,k=m.ya,C&&k&&xt(U,C,k),xt(U,"VER",m.la),ea(m,U),U}function If(m,k,C){if(k&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return k=m.Ca&&!m.pa?new Pt(new Ji({eb:C})):new Pt(m.pa),k.Ha(m.J),k}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qu(){}t=Qu.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function sl(){}sl.prototype.g=function(m,k){return new qr(m,k)};function qr(m,k){Ut.call(this),this.g=new Yu(k),this.l=m,this.h=k&&k.messageUrlParams||null,m=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(m?m["X-WebChannel-Content-Type"]=k.messageContentType:m={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.va&&(m?m["X-WebChannel-Client-Profile"]=k.va:m={"X-WebChannel-Client-Profile":k.va}),this.g.S=m,(m=k&&k.Sb)&&!N(m)&&(this.g.m=m),this.v=k&&k.supportsCrossDomainXhr||!1,this.u=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!N(k)&&(this.g.D=k,m=this.h,m!==null&&k in m&&(m=this.h,k in m&&delete m[k])),this.j=new Ti(this)}S(qr,Ut),qr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qr.prototype.close=function(){br(this.g)},qr.prototype.o=function(m){var k=this.g;if(typeof m=="string"){var C={};C.__data__=m,m=C}else this.u&&(C={},C.__data__=$s(m),m=C);k.i.push(new gf(k.Ya++,m)),k.G==3&&Ai(k)},qr.prototype.N=function(){this.g.l=null,delete this.j,br(this.g),delete this.g,qr.aa.N.call(this)};function Of(m){Nn.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var k=m.__sm__;if(k){e:{for(const C in k){m=C;break e}m=void 0}(this.i=m)&&(m=this.i,k=k!==null&&m in k?k[m]:void 0),this.data=k}else this.data=m}S(Of,Nn);function Cf(){La.call(this),this.status=1}S(Cf,La);function Ti(m){this.g=m}S(Ti,Qu),Ti.prototype.ua=function(){Lt(this.g,"a")},Ti.prototype.ta=function(m){Lt(this.g,new Of(m))},Ti.prototype.sa=function(m){Lt(this.g,new Cf)},Ti.prototype.ra=function(){Lt(this.g,"b")},sl.prototype.createWebChannel=sl.prototype.g,qr.prototype.send=qr.prototype.o,qr.prototype.open=qr.prototype.m,qr.prototype.close=qr.prototype.close,WR=function(){return new sl},zR=function(){return Xi()},qR=Pn,b_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ur.NO_ERROR=0,Ur.TIMEOUT=8,Ur.HTTP_ERROR=6,Jh=Ur,ff.COMPLETE="complete",BR=ff,jn.EventType=or,or.OPEN="a",or.CLOSE="b",or.ERROR="c",or.MESSAGE="d",Ut.prototype.listen=Ut.prototype.K,Rc=jn,Pt.prototype.listenOnce=Pt.prototype.L,Pt.prototype.getLastError=Pt.prototype.Ka,Pt.prototype.getLastErrorCode=Pt.prototype.Ba,Pt.prototype.getStatus=Pt.prototype.Z,Pt.prototype.getResponseJson=Pt.prototype.Oa,Pt.prototype.getResponseText=Pt.prototype.oa,Pt.prototype.send=Pt.prototype.ea,Pt.prototype.setWithCredentials=Pt.prototype.Ha,UR=Pt}).apply(typeof Nh<"u"?Nh:typeof self<"u"?self:typeof window<"u"?window:{});const YA="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Cr.UNAUTHENTICATED=new Cr(null),Cr.GOOGLE_CREDENTIALS=new Cr("google-credentials-uid"),Cr.FIRST_PARTY=new Cr("first-party-uid"),Cr.MOCK_USER=new Cr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ju="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po=new o1("@firebase/firestore");function wc(){return Po.logLevel}function Re(t,...e){if(Po.logLevel<=et.DEBUG){const r=e.map(x1);Po.debug(`Firestore (${ju}): ${t}`,...r)}}function ka(t,...e){if(Po.logLevel<=et.ERROR){const r=e.map(x1);Po.error(`Firestore (${ju}): ${t}`,...r)}}function Yl(t,...e){if(Po.logLevel<=et.WARN){const r=e.map(x1);Po.warn(`Firestore (${ju}): ${t}`,...r)}}function x1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(t="Unexpected state"){const e=`FIRESTORE (${ju}) INTERNAL ASSERTION FAILED: `+t;throw ka(e),new Error(e)}function Vt(t,e){t||Ke()}function at(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Me extends Hi{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Cr.UNAUTHENTICATED))}shutdown(){}}class NV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class PV{constructor(e){this.t=e,this.currentUser=Cr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Vt(this.o===void 0);let n=this.i;const i=d=>this.i!==n?(n=this.i,r(d)):Promise.resolve();let a=new ql;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ql,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const d=a;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},u=d=>{Re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(d=>u(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(Re("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ql)}},0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(Re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Vt(typeof n.accessToken=="string"),new HR(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Vt(e===null||typeof e=="string"),new Cr(e)}}class IV{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=Cr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class OV{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new IV(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Cr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class CV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RV{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){Vt(this.o===void 0);const n=a=>{a.error!=null&&Re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.R;return this.R=a.token,Re("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{Re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):Re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Vt(typeof r.token=="string"),this.R=r.token,new CV(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=MV(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%e.length))}return n}}function ct(t,e){return t<e?-1:t>e?1:0}function Xl(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Me(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Me(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Me(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Me(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return gr.fromMillis(Date.now())}static fromDate(e){return gr.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new gr(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ct(this.nanoseconds,e.nanoseconds):ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ge(e)}static min(){return new Ge(new gr(0,0))}static max(){return new Ge(new gr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,r,n){r===void 0?r=0:r>e.length&&Ke(),n===void 0?n=e.length-r:n>e.length-r&&Ke(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return td.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof td?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=e.get(i),o=r.get(i);if(a<o)return-1;if(a>o)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Nt extends td{construct(e,r,n){return new Nt(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Me(Se.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new Nt(r)}static emptyPath(){return new Nt([])}}const DV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dr extends td{construct(e,r,n){return new Dr(e,r,n)}static isValidIdentifier(e){return DV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Dr(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new Me(Se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Me(Se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Me(Se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=d,i+=2}else u==="`"?(o=!o,i++):u!=="."||o?(n+=u,i++):(a(),i++)}if(a(),o)throw new Me(Se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dr(r)}static emptyPath(){return new Dr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.path=e}static fromPath(e){return new Fe(Nt.fromString(e))}static fromName(e){return new Fe(Nt.fromString(e).popFirst(5))}static empty(){return new Fe(Nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Nt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Fe(new Nt(e.slice()))}}function LV(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Ge.fromTimestamp(n===1e9?new gr(r+1,0):new gr(r,n));return new As(i,Fe.empty(),e)}function $V(t){return new As(t.readTime,t.key,-1)}class As{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new As(Ge.min(),Fe.empty(),-1)}static max(){return new As(Ge.max(),Fe.empty(),-1)}}function FV(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Fe.comparator(t.documentKey,e.documentKey),r!==0?r:ct(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b1(t){if(t.code!==Se.FAILED_PRECONDITION||t.message!==VV)throw t;Re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Ke(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new be((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof be?r:be.resolve(r)}catch(r){return be.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):be.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):be.reject(r)}static resolve(e){return new be((r,n)=>{r(e)})}static reject(e){return new be((r,n)=>{n(e)})}static waitFor(e){return new be((r,n)=>{let i=0,a=0,o=!1;e.forEach(u=>{++i,u.next(()=>{++a,o&&a===i&&r()},d=>n(d))}),o=!0,a===i&&r()})}static or(e){let r=be.resolve(!1);for(const n of e)r=r.next(i=>i?be.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(e,r){return new be((n,i)=>{const a=e.length,o=new Array(a);let u=0;for(let d=0;d<a;d++){const f=d;r(e[f]).next(p=>{o[f]=p,++u,u===a&&n(o)},p=>i(p))}})}static doWhile(e,r){return new be((n,i)=>{const a=()=>{e()===!0?r().next(()=>{a()},i):n()};a()})}}function BV(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Gd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}_1.oe=-1;function Sm(t){return t==null}function hp(t){return t===0&&1/t==-1/0}function qV(t){return typeof t=="number"&&Number.isInteger(t)&&!hp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Kd(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function KR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,r){this.comparator=e,this.root=r||kr.EMPTY}insert(e,r){return new zt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,kr.BLACK,null,null))}remove(e){return new zt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ph(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ph(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ph(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ph(this.root,e,this.comparator,!0)}}class Ph{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kr{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??kr.RED,this.left=i??kr.EMPTY,this.right=a??kr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new kr(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return kr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return kr.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ke();const e=this.left.check();if(e!==this.right.check())throw Ke();return e+(this.isRed()?0:1)}}kr.EMPTY=null,kr.RED=!0,kr.BLACK=!1;kr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ke()}get value(){throw Ke()}get color(){throw Ke()}get left(){throw Ke()}get right(){throw Ke()}copy(e,r,n,i,a){return this}insert(e,r,n){return new kr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this.comparator=e,this.data=new zt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new QA(this.data.getIterator())}getIteratorFrom(e){return new QA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof Er)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Er(this.comparator);return r.data=e,r}}class QA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e){this.fields=e,e.sort(Dr.comparator)}static empty(){return new gs([])}unionWith(e){let r=new Er(Dr.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new gs(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Xl(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new YR("Invalid base64 string: "+a):a}}(e);return new Ar(r)}static fromUint8Array(e){const r=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new Ar(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ar.EMPTY_BYTE_STRING=new Ar("");const zV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ts(t){if(Vt(!!t),typeof t=="string"){let e=0;const r=zV.exec(t);if(Vt(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:qt(t.seconds),nanos:qt(t.nanos)}}function qt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Io(t){return typeof t=="string"?Ar.fromBase64String(t):Ar.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(t){var e,r;return((r=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function S1(t){const e=t.mapValue.fields.__previous_value__;return w1(e)?S1(e):e}function rd(t){const e=Ts(t.mapValue.fields.__local_write_time__.timestampValue);return new gr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(e,r,n,i,a,o,u,d,f){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=f}}class nd{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new nd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof nd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih={mapValue:{}};function Oo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?w1(t)?4:GV(t)?9007199254740991:HV(t)?10:11:Ke()}function Bi(t,e){if(t===e)return!0;const r=Oo(t);if(r!==Oo(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return rd(t).isEqual(rd(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=Ts(i.timestampValue),u=Ts(a.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Io(i.bytesValue).isEqual(Io(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return qt(i.geoPointValue.latitude)===qt(a.geoPointValue.latitude)&&qt(i.geoPointValue.longitude)===qt(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return qt(i.integerValue)===qt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=qt(i.doubleValue),u=qt(a.doubleValue);return o===u?hp(o)===hp(u):isNaN(o)&&isNaN(u)}return!1}(t,e);case 9:return Xl(t.arrayValue.values||[],e.arrayValue.values||[],Bi);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},u=a.mapValue.fields||{};if(XA(o)!==XA(u))return!1;for(const d in o)if(o.hasOwnProperty(d)&&(u[d]===void 0||!Bi(o[d],u[d])))return!1;return!0}(t,e);default:return Ke()}}function id(t,e){return(t.values||[]).find(r=>Bi(r,e))!==void 0}function Ql(t,e){if(t===e)return 0;const r=Oo(t),n=Oo(e);if(r!==n)return ct(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return ct(t.booleanValue,e.booleanValue);case 2:return function(a,o){const u=qt(a.integerValue||a.doubleValue),d=qt(o.integerValue||o.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1}(t,e);case 3:return JA(t.timestampValue,e.timestampValue);case 4:return JA(rd(t),rd(e));case 5:return ct(t.stringValue,e.stringValue);case 6:return function(a,o){const u=Io(a),d=Io(o);return u.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const u=a.split("/"),d=o.split("/");for(let f=0;f<u.length&&f<d.length;f++){const p=ct(u[f],d[f]);if(p!==0)return p}return ct(u.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const u=ct(qt(a.latitude),qt(o.latitude));return u!==0?u:ct(qt(a.longitude),qt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return ZA(t.arrayValue,e.arrayValue);case 10:return function(a,o){var u,d,f,p;const g=a.fields||{},y=o.fields||{},x=(u=g.value)===null||u===void 0?void 0:u.arrayValue,S=(d=y.value)===null||d===void 0?void 0:d.arrayValue,_=ct(((f=x?.values)===null||f===void 0?void 0:f.length)||0,((p=S?.values)===null||p===void 0?void 0:p.length)||0);return _!==0?_:ZA(x,S)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===Ih.mapValue&&o===Ih.mapValue)return 0;if(a===Ih.mapValue)return 1;if(o===Ih.mapValue)return-1;const u=a.fields||{},d=Object.keys(u),f=o.fields||{},p=Object.keys(f);d.sort(),p.sort();for(let g=0;g<d.length&&g<p.length;++g){const y=ct(d[g],p[g]);if(y!==0)return y;const x=Ql(u[d[g]],f[p[g]]);if(x!==0)return x}return ct(d.length,p.length)}(t.mapValue,e.mapValue);default:throw Ke()}}function JA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ct(t,e);const r=Ts(t),n=Ts(e),i=ct(r.seconds,n.seconds);return i!==0?i:ct(r.nanos,n.nanos)}function ZA(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=Ql(r[i],n[i]);if(a)return a}return ct(r.length,n.length)}function Jl(t){return __(t)}function __(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=Ts(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Io(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return Fe.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=__(a);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const o of n)a?a=!1:i+=",",i+=`${o}:${__(r.fields[o])}`;return i+"}"}(t.mapValue):Ke()}function eT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function w_(t){return!!t&&"integerValue"in t}function k1(t){return!!t&&"arrayValue"in t}function tT(t){return!!t&&"nullValue"in t}function rT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function n0(t){return!!t&&"mapValue"in t}function HV(t){var e,r;return((r=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function Bc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Kd(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=Bc(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Bc(t.arrayValue.values[r]);return e}return Object.assign({},t)}function GV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e){this.value=e}static empty(){return new Ci({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!n0(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bc(r)}setAll(e){let r=Dr.emptyPath(),n={},i=[];e.forEach((o,u)=>{if(!r.isImmediateParentOf(u)){const d=this.getFieldsMap(r);this.applyChanges(d,n,i),n={},i=[],r=u.popLast()}o?n[u.lastSegment()]=Bc(o):i.push(u.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());n0(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Bi(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];n0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){Kd(r,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new Ci(Bc(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e,r,n,i,a,o,u){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}static newInvalidDocument(e){return new Rr(e,0,Ge.min(),Ge.min(),Ge.min(),Ci.empty(),0)}static newFoundDocument(e,r,n,i){return new Rr(e,1,r,Ge.min(),n,i,0)}static newNoDocument(e,r){return new Rr(e,2,r,Ge.min(),Ge.min(),Ci.empty(),0)}static newUnknownDocument(e,r){return new Rr(e,3,r,Ge.min(),Ge.min(),Ci.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ci.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ci.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Rr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e,r){this.position=e,this.inclusive=r}}function nT(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?n=Fe.comparator(Fe.fromName(o.referenceValue),r.key):n=Ql(o,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function iT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Bi(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e,r="asc"){this.field=e,this.dir=r}}function KV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let XR=class{};class Xt extends XR{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new XV(e,r,n):r==="array-contains"?new ZV(e,n):r==="in"?new eU(e,n):r==="not-in"?new tU(e,n):r==="array-contains-any"?new rU(e,n):new Xt(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new QV(e,n):new JV(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Ql(r,this.value)):r!==null&&Oo(this.value)===Oo(r)&&this.matchesComparison(Ql(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ke()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yi extends XR{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new yi(e,r)}matches(e){return QR(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function QR(t){return t.op==="and"}function JR(t){return YV(t)&&QR(t)}function YV(t){for(const e of t.filters)if(e instanceof yi)return!1;return!0}function S_(t){if(t instanceof Xt)return t.field.canonicalString()+t.op.toString()+Jl(t.value);if(JR(t))return t.filters.map(e=>S_(e)).join(",");{const e=t.filters.map(r=>S_(r)).join(",");return`${t.op}(${e})`}}function ZR(t,e){return t instanceof Xt?function(n,i){return i instanceof Xt&&n.op===i.op&&n.field.isEqual(i.field)&&Bi(n.value,i.value)}(t,e):t instanceof yi?function(n,i){return i instanceof yi&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,o,u)=>a&&ZR(o,i.filters[u]),!0):!1}(t,e):void Ke()}function eM(t){return t instanceof Xt?function(r){return`${r.field.canonicalString()} ${r.op} ${Jl(r.value)}`}(t):t instanceof yi?function(r){return r.op.toString()+" {"+r.getFilters().map(eM).join(" ,")+"}"}(t):"Filter"}class XV extends Xt{constructor(e,r,n){super(e,r,n),this.key=Fe.fromName(n.referenceValue)}matches(e){const r=Fe.comparator(e.key,this.key);return this.matchesComparison(r)}}class QV extends Xt{constructor(e,r){super(e,"in",r),this.keys=tM("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class JV extends Xt{constructor(e,r){super(e,"not-in",r),this.keys=tM("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function tM(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>Fe.fromName(n.referenceValue))}class ZV extends Xt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return k1(r)&&id(r.arrayValue,this.value)}}class eU extends Xt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&id(this.value.arrayValue,r)}}class tU extends Xt{constructor(e,r){super(e,"not-in",r)}matches(e){if(id(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!id(this.value.arrayValue,r)}}class rU extends Xt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!k1(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>id(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(e,r=null,n=[],i=[],a=null,o=null,u=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ue=null}}function aT(t,e=null,r=[],n=[],i=null,a=null,o=null){return new nU(t,e,r,n,i,a,o)}function E1(t){const e=at(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>S_(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),Sm(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Jl(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Jl(n)).join(",")),e.ue=r}return e.ue}function A1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!KV(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!ZR(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!iT(t.startAt,e.startAt)&&iT(t.endAt,e.endAt)}function k_(t){return Fe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,r=null,n=[],i=[],a=null,o="F",u=null,d=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=d,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function iU(t,e,r,n,i,a,o,u){return new Yd(t,e,r,n,i,a,o,u)}function T1(t){return new Yd(t)}function sT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function rM(t){return t.collectionGroup!==null}function qc(t){const e=at(t);if(e.ce===null){e.ce=[];const r=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let u=new Er(Dr.comparator);return o.filters.forEach(d=>{d.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(e).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||e.ce.push(new mp(a,n))}),r.has(Dr.keyField().canonicalString())||e.ce.push(new mp(Dr.keyField(),n))}return e.ce}function Fi(t){const e=at(t);return e.le||(e.le=aU(e,qc(t))),e.le}function aU(t,e){if(t.limitType==="F")return aT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new mp(i.field,a)});const r=t.endAt?new pp(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new pp(t.startAt.position,t.startAt.inclusive):null;return aT(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function E_(t,e){const r=t.filters.concat([e]);return new Yd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function A_(t,e,r){return new Yd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function km(t,e){return A1(Fi(t),Fi(e))&&t.limitType===e.limitType}function nM(t){return`${E1(Fi(t))}|lt:${t.limitType}`}function Il(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>eM(i)).join(", ")}]`),Sm(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>Jl(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>Jl(i)).join(",")),`Target(${n})`}(Fi(t))}; limitType=${t.limitType})`}function Em(t,e){return e.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):Fe.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(t,e)&&function(n,i){for(const a of qc(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(o,u,d){const f=nT(o,u,d);return o.inclusive?f<=0:f<0}(n.startAt,qc(n),i)||n.endAt&&!function(o,u,d){const f=nT(o,u,d);return o.inclusive?f>=0:f>0}(n.endAt,qc(n),i))}(t,e)}function sU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function iM(t){return(e,r)=>{let n=!1;for(const i of qc(t)){const a=oU(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function oU(t,e,r){const n=t.field.isKeyField()?Fe.comparator(e.key,r.key):function(a,o,u){const d=o.data.field(a),f=u.data.field(a);return d!==null&&f!==null?Ql(d,f):Ke()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Ke()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Kd(this.inner,(r,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return KR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lU=new zt(Fe.comparator);function js(){return lU}const aM=new zt(Fe.comparator);function Mc(...t){let e=aM;for(const r of t)e=e.insert(r.key,r);return e}function uU(t){let e=aM;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function go(){return zc()}function sM(){return zc()}function zc(){return new Nu(t=>t.toString(),(t,e)=>t.isEqual(e))}const cU=new Er(Fe.comparator);function ot(...t){let e=cU;for(const r of t)e=e.add(r);return e}const dU=new Er(ct);function fU(){return dU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hp(e)?"-0":e}}function oM(t){return{integerValue:""+t}}function hU(t,e){return qV(e)?oM(e):j1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(){this._=void 0}}function pU(t,e,r){return t instanceof T_?function(i,a){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&w1(a)&&(a=S1(a)),a&&(o.fields.__previous_value__=a),{mapValue:o}}(r,e):t instanceof gp?lM(t,e):t instanceof vp?uM(t,e):function(i,a){const o=gU(i,a),u=oT(o)+oT(i.Pe);return w_(o)&&w_(i.Pe)?oM(u):j1(i.serializer,u)}(t,e)}function mU(t,e,r){return t instanceof gp?lM(t,e):t instanceof vp?uM(t,e):r}function gU(t,e){return t instanceof j_?function(n){return w_(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class T_ extends Am{}class gp extends Am{constructor(e){super(),this.elements=e}}function lM(t,e){const r=cM(e);for(const n of t.elements)r.some(i=>Bi(i,n))||r.push(n);return{arrayValue:{values:r}}}class vp extends Am{constructor(e){super(),this.elements=e}}function uM(t,e){let r=cM(e);for(const n of t.elements)r=r.filter(i=>!Bi(i,n));return{arrayValue:{values:r}}}class j_ extends Am{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function oT(t){return qt(t.integerValue||t.doubleValue)}function cM(t){return k1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function vU(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof gp&&i instanceof gp||n instanceof vp&&i instanceof vp?Xl(n.elements,i.elements,Bi):n instanceof j_&&i instanceof j_?Bi(n.Pe,i.Pe):n instanceof T_&&i instanceof T_}(t.transform,e.transform)}class ko{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new ko}static exists(e){return new ko(void 0,e)}static updateTime(e){return new ko(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class N1{}function dM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new xU(t.key,ko.none()):new P1(t.key,t.data,ko.none());{const r=t.data,n=Ci.empty();let i=new Er(Dr.comparator);for(let a of e.fields)if(!i.has(a)){let o=r.field(a);o===null&&a.length>1&&(a=a.popLast(),o=r.field(a)),o===null?n.delete(a):n.set(a,o),i=i.add(a)}return new Tm(t.key,n,new gs(i.toArray()),ko.none())}}function yU(t,e,r){t instanceof P1?function(i,a,o){const u=i.value.clone(),d=uT(i.fieldTransforms,a,o.transformResults);u.setAll(d),a.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,r):t instanceof Tm?function(i,a,o){if(!Zh(i.precondition,a))return void a.convertToUnknownDocument(o.version);const u=uT(i.fieldTransforms,a,o.transformResults),d=a.data;d.setAll(fM(i)),d.setAll(u),a.convertToFoundDocument(o.version,d).setHasCommittedMutations()}(t,e,r):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,r)}function Wc(t,e,r,n){return t instanceof P1?function(a,o,u,d){if(!Zh(a.precondition,o))return u;const f=a.value.clone(),p=cT(a.fieldTransforms,d,o);return f.setAll(p),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null}(t,e,r,n):t instanceof Tm?function(a,o,u,d){if(!Zh(a.precondition,o))return u;const f=cT(a.fieldTransforms,d,o),p=o.data;return p.setAll(fM(a)),p.setAll(f),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(g=>g.field))}(t,e,r,n):function(a,o,u){return Zh(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u}(t,e,r)}function lT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Xl(n,i,(a,o)=>vU(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class P1 extends N1{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Tm extends N1{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function fM(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function uT(t,e,r){const n=new Map;Vt(t.length===r.length);for(let i=0;i<r.length;i++){const a=t[i],o=a.transform,u=e.data.field(a.field);n.set(a.field,mU(o,u,r[i]))}return n}function cT(t,e,r){const n=new Map;for(const i of t){const a=i.transform,o=r.data.field(i.field);n.set(i.field,pU(a,o,e))}return n}class xU extends N1{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&yU(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Wc(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Wc(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=sM();return this.mutations.forEach(i=>{const a=e.get(i.key),o=a.overlayedDocument;let u=this.applyToLocalView(o,a.mutatedFields);u=r.has(i.key)?null:u;const d=dM(o,u);d!==null&&n.set(i.key,d),o.isValidDocument()||o.convertToNoDocument(Ge.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),ot())}isEqual(e){return this.batchId===e.batchId&&Xl(this.mutations,e.mutations,(r,n)=>lT(r,n))&&Xl(this.baseMutations,e.baseMutations,(r,n)=>lT(r,n))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kt,it;function hM(t){if(t===void 0)return ka("GRPC error has no .code"),Se.UNKNOWN;switch(t){case Kt.OK:return Se.OK;case Kt.CANCELLED:return Se.CANCELLED;case Kt.UNKNOWN:return Se.UNKNOWN;case Kt.DEADLINE_EXCEEDED:return Se.DEADLINE_EXCEEDED;case Kt.RESOURCE_EXHAUSTED:return Se.RESOURCE_EXHAUSTED;case Kt.INTERNAL:return Se.INTERNAL;case Kt.UNAVAILABLE:return Se.UNAVAILABLE;case Kt.UNAUTHENTICATED:return Se.UNAUTHENTICATED;case Kt.INVALID_ARGUMENT:return Se.INVALID_ARGUMENT;case Kt.NOT_FOUND:return Se.NOT_FOUND;case Kt.ALREADY_EXISTS:return Se.ALREADY_EXISTS;case Kt.PERMISSION_DENIED:return Se.PERMISSION_DENIED;case Kt.FAILED_PRECONDITION:return Se.FAILED_PRECONDITION;case Kt.ABORTED:return Se.ABORTED;case Kt.OUT_OF_RANGE:return Se.OUT_OF_RANGE;case Kt.UNIMPLEMENTED:return Se.UNIMPLEMENTED;case Kt.DATA_LOSS:return Se.DATA_LOSS;default:return Ke()}}(it=Kt||(Kt={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kU=new So([4294967295,4294967295],0);function dT(t){const e=SU().encode(t),r=new VR;return r.update(e),new Uint8Array(r.digest())}function fT(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new So([r,n],0),new So([i,a],0)]}class I1{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Dc(`Invalid padding: ${r}`);if(n<0)throw new Dc(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Dc(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Dc(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=So.fromNumber(this.Ie)}Ee(e,r,n){let i=e.add(r.multiply(So.fromNumber(n)));return i.compare(kU)===1&&(i=new So([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=dT(e),[n,i]=fT(r);for(let a=0;a<this.hashCount;a++){const o=this.Ee(n,i,a);if(!this.de(o))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new I1(a,i,r);return n.forEach(u=>o.insert(u)),o}insert(e){if(this.Ie===0)return;const r=dT(e),[n,i]=fT(r);for(let a=0;a<this.hashCount;a++){const o=this.Ee(n,i,a);this.Ae(o)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Dc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,Xd.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new jm(Ge.min(),i,new zt(ct),js(),ot())}}class Xd{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Xd(n,r,ot(),ot(),ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,r,n,i){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=i}}class pM{constructor(e,r){this.targetId=e,this.me=r}}class mM{constructor(e,r,n=Ar.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class hT{constructor(){this.fe=0,this.ge=mT(),this.pe=Ar.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ot(),r=ot(),n=ot();return this.ge.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:Ke()}}),new Xd(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=mT()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Vt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class EU{constructor(e){this.Le=e,this.Be=new Map,this.ke=js(),this.qe=pT(),this.Qe=new zt(ct)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:Ke()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,i)=>{this.ze(i)&&r(i)})}He(e){const r=e.targetId,n=e.me.count,i=this.Je(r);if(i){const a=i.target;if(k_(a))if(n===0){const o=new Fe(a.path);this.Ue(r,o,Rr.newNoDocument(o,Ge.min()))}else Vt(n===1);else{const o=this.Ye(r);if(o!==n){const u=this.Ze(e),d=u?this.Xe(u,e,o):1;if(d!==0){this.je(r);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,f)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let o,u;try{o=Io(n).toUint8Array()}catch(d){if(d instanceof YR)return Yl("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new I1(o,i,a)}catch(d){return Yl(d instanceof Dc?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.Ie===0?null:u}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const o=this.Le.tt(),u=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.Ue(r,a,null),i++)}),i}rt(e){const r=new Map;this.Be.forEach((a,o)=>{const u=this.Je(o);if(u){if(a.current&&k_(u.target)){const d=new Fe(u.target.path);this.ke.get(d)!==null||this.it(o,d)||this.Ue(o,d,Rr.newNoDocument(d,e))}a.be&&(r.set(o,a.ve()),a.Ce())}});let n=ot();this.qe.forEach((a,o)=>{let u=!0;o.forEachWhile(d=>{const f=this.Je(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(n=n.add(a))}),this.ke.forEach((a,o)=>o.setReadTime(e));const i=new jm(e,r,this.Qe,this.ke,n);return this.ke=js(),this.qe=pT(),this.Qe=new zt(ct),i}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new hT,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Er(ct),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||Re("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new hT),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function pT(){return new zt(Fe.comparator)}function mT(){return new zt(Fe.comparator)}const AU={asc:"ASCENDING",desc:"DESCENDING"},TU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jU={and:"AND",or:"OR"};class NU{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function N_(t,e){return t.useProto3Json||Sm(e)?e:{value:e}}function P_(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function zl(t){return Vt(!!t),Ge.fromTimestamp(function(r){const n=Ts(r);return new gr(n.seconds,n.nanos)}(t))}function vM(t,e){return I_(t,e).canonicalString()}function I_(t,e){const r=function(i){return new Nt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function yM(t){const e=Nt.fromString(t);return Vt(SM(e)),e}function i0(t,e){const r=yM(e);if(r.get(1)!==t.databaseId.projectId)throw new Me(Se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Me(Se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Fe(bM(r))}function xM(t,e){return vM(t.databaseId,e)}function PU(t){const e=yM(t);return e.length===4?Nt.emptyPath():bM(e)}function gT(t){return new Nt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function bM(t){return Vt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function IU(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ke()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(f,p){return f.useProto3Json?(Vt(p===void 0||typeof p=="string"),Ar.fromBase64String(p||"")):(Vt(p===void 0||p instanceof Buffer||p instanceof Uint8Array),Ar.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,u=o&&function(f){const p=f.code===void 0?Se.UNKNOWN:hM(f.code);return new Me(p,f.message||"")}(o);r=new mM(n,i,a,u||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=i0(t,n.document.name),a=zl(n.document.updateTime),o=n.document.createTime?zl(n.document.createTime):Ge.min(),u=new Ci({mapValue:{fields:n.document.fields}}),d=Rr.newFoundDocument(i,a,o,u),f=n.targetIds||[],p=n.removedTargetIds||[];r=new ep(f,p,d.key,d)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=i0(t,n.document),a=n.readTime?zl(n.readTime):Ge.min(),o=Rr.newNoDocument(i,a),u=n.removedTargetIds||[];r=new ep([],u,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=i0(t,n.document),a=n.removedTargetIds||[];r=new ep([],a,i,null)}else{if(!("filter"in e))return Ke();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,o=new wU(i,a),u=n.targetId;r=new pM(u,o)}}return r}function OU(t,e){return{documents:[xM(t,e.path)]}}function CU(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=xM(t,i);const a=function(f){if(f.length!==0)return wM(yi.create(f,"and"))}(e.filters);a&&(r.structuredQuery.where=a);const o=function(f){if(f.length!==0)return f.map(p=>function(y){return{field:Ol(y.field),direction:DU(y.dir)}}(p))}(e.orderBy);o&&(r.structuredQuery.orderBy=o);const u=N_(t,e.limit);return u!==null&&(r.structuredQuery.limit=u),e.startAt&&(r.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{_t:r,parent:i}}function RU(t){let e=PU(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){Vt(n===1);const p=r.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let a=[];r.where&&(a=function(g){const y=_M(g);return y instanceof yi&&JR(y)?y.getFilters():[y]}(r.where));let o=[];r.orderBy&&(o=function(g){return g.map(y=>function(S){return new mp(Cl(S.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(y))}(r.orderBy));let u=null;r.limit&&(u=function(g){let y;return y=typeof g=="object"?g.value:g,Sm(y)?null:y}(r.limit));let d=null;r.startAt&&(d=function(g){const y=!!g.before,x=g.values||[];return new pp(x,y)}(r.startAt));let f=null;return r.endAt&&(f=function(g){const y=!g.before,x=g.values||[];return new pp(x,y)}(r.endAt)),iU(e,i,o,a,u,"F",d,f)}function MU(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ke()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function _M(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Cl(r.unaryFilter.field);return Xt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Cl(r.unaryFilter.field);return Xt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Cl(r.unaryFilter.field);return Xt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Cl(r.unaryFilter.field);return Xt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ke()}}(t):t.fieldFilter!==void 0?function(r){return Xt.create(Cl(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ke()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return yi.create(r.compositeFilter.filters.map(n=>_M(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ke()}}(r.compositeFilter.op))}(t):Ke()}function DU(t){return AU[t]}function LU(t){return TU[t]}function $U(t){return jU[t]}function Ol(t){return{fieldPath:t.canonicalString()}}function Cl(t){return Dr.fromServerFormat(t.fieldPath)}function wM(t){return t instanceof Xt?function(r){if(r.op==="=="){if(rT(r.value))return{unaryFilter:{field:Ol(r.field),op:"IS_NAN"}};if(tT(r.value))return{unaryFilter:{field:Ol(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(rT(r.value))return{unaryFilter:{field:Ol(r.field),op:"IS_NOT_NAN"}};if(tT(r.value))return{unaryFilter:{field:Ol(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ol(r.field),op:LU(r.op),value:r.value}}}(t):t instanceof yi?function(r){const n=r.getFilters().map(i=>wM(i));return n.length===1?n[0]:{compositeFilter:{op:$U(r.op),filters:n}}}(t):Ke()}function SM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,r,n,i,a=Ge.min(),o=Ge.min(),u=Ar.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new vs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{constructor(e){this.ct=e}}function VU(t){const e=RU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?A_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(){this.un=new BU}addToCollectionParentIndex(e,r){return this.un.add(r),be.resolve()}getCollectionParents(e,r){return be.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return be.resolve()}deleteFieldIndex(e,r){return be.resolve()}deleteAllFieldIndexes(e){return be.resolve()}createTargetIndexes(e,r){return be.resolve()}getDocumentsMatchingTarget(e,r){return be.resolve(null)}getIndexType(e,r){return be.resolve(0)}getFieldIndexes(e,r){return be.resolve([])}getNextCollectionGroupToUpdate(e){return be.resolve(null)}getMinOffset(e,r){return be.resolve(As.min())}getMinOffsetFromCollectionGroup(e,r){return be.resolve(As.min())}updateCollectionGroup(e,r,n){return be.resolve()}updateIndexEntries(e,r){return be.resolve()}}class BU{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new Er(Nt.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Er(Nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Zl(0)}static kn(){return new Zl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(){this.changes=new Nu(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Rr.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?be.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&Wc(n.mutation,i,gs.empty(),gr.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,ot()).next(()=>n))}getLocalViewOfDocuments(e,r,n=ot()){const i=go();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(a=>{let o=Mc();return a.forEach((u,d)=>{o=o.insert(u,d.overlayedDocument)}),o}))}getOverlayedDocuments(e,r){const n=go();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,ot()))}populateOverlays(e,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((o,u)=>{r.set(o,u)})})}computeViews(e,r,n,i){let a=js();const o=zc(),u=function(){return zc()}();return r.forEach((d,f)=>{const p=n.get(f.key);i.has(f.key)&&(p===void 0||p.mutation instanceof Tm)?a=a.insert(f.key,f):p!==void 0?(o.set(f.key,p.mutation.getFieldMask()),Wc(p.mutation,f,p.mutation.getFieldMask(),gr.now())):o.set(f.key,gs.empty())}),this.recalculateAndSaveOverlays(e,a).next(d=>(d.forEach((f,p)=>o.set(f,p)),r.forEach((f,p)=>{var g;return u.set(f,new zU(p,(g=o.get(f))!==null&&g!==void 0?g:null))}),u))}recalculateAndSaveOverlays(e,r){const n=zc();let i=new zt((o,u)=>o-u),a=ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>{for(const u of o)u.keys().forEach(d=>{const f=r.get(d);if(f===null)return;let p=n.get(d)||gs.empty();p=u.applyToLocalView(f,p),n.set(d,p);const g=(i.get(u.batchId)||ot()).add(d);i=i.insert(u.batchId,g)})}).next(()=>{const o=[],u=i.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),f=d.key,p=d.value,g=sM();p.forEach(y=>{if(!a.has(y)){const x=dM(r.get(y),n.get(y));x!==null&&g.set(y,x),a=a.add(y)}}),o.push(this.documentOverlayCache.saveOverlays(e,f,g))}return be.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(o){return Fe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):rM(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):be.resolve(go());let u=-1,d=a;return o.next(f=>be.forEach(f,(p,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),a.get(p)?be.resolve():this.remoteDocumentCache.getEntry(e,p).next(y=>{d=d.insert(p,y)}))).next(()=>this.populateOverlays(e,f,a)).next(()=>this.computeViews(e,d,f,ot())).next(p=>({batchId:u,changes:uU(p)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Fe(r)).next(n=>{let i=Mc();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let o=Mc();return this.indexManager.getCollectionParents(e,a).next(u=>be.forEach(u,d=>{const f=function(g,y){return new Yd(y,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(r,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,n,i).next(p=>{p.forEach((g,y)=>{o=o.insert(g,y)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i))).next(o=>{a.forEach((d,f)=>{const p=f.getKey();o.get(p)===null&&(o=o.insert(p,Rr.newInvalidDocument(p)))});let u=Mc();return o.forEach((d,f)=>{const p=a.get(d);p!==void 0&&Wc(p.mutation,f,gs.empty(),gr.now()),Em(r,f)&&(u=u.insert(d,f))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return be.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:zl(i.createTime)}}(r)),be.resolve()}getNamedQuery(e,r){return be.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(i){return{name:i.name,query:VU(i.bundledQuery),readTime:zl(i.readTime)}}(r)),be.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(){this.overlays=new zt(Fe.comparator),this.Ir=new Map}getOverlay(e,r){return be.resolve(this.overlays.get(r))}getOverlays(e,r){const n=go();return be.forEach(r,i=>this.getOverlay(e,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,a)=>{this.ht(e,r,a)}),be.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(n)),be.resolve()}getOverlaysForCollection(e,r,n){const i=go(),a=r.length+1,o=new Fe(r.child("")),u=this.overlays.getIteratorFrom(o);for(;u.hasNext();){const d=u.getNext().value,f=d.getKey();if(!r.isPrefixOf(f.path))break;f.path.length===a&&d.largestBatchId>n&&i.set(d.getKey(),d)}return be.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new zt((f,p)=>f-p);const o=this.overlays.getIterator();for(;o.hasNext();){const f=o.getNext().value;if(f.getKey().getCollectionGroup()===r&&f.largestBatchId>n){let p=a.get(f.largestBatchId);p===null&&(p=go(),a=a.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const u=go(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((f,p)=>u.set(f,p)),!(u.size()>=i)););return be.resolve(u)}ht(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new _U(r,n));let a=this.Ir.get(r);a===void 0&&(a=ot(),this.Ir.set(r,a)),this.Ir.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(){this.sessionToken=Ar.EMPTY_BYTE_STRING}getSessionToken(e){return be.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,be.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(){this.Tr=new Er(hr.Er),this.dr=new Er(hr.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new hr(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new hr(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new Fe(new Nt([])),n=new hr(r,e),i=new hr(r,e+1),a=[];return this.dr.forEachInRange([n,i],o=>{this.Vr(o),a.push(o.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new Fe(new Nt([])),n=new hr(r,e),i=new hr(r,e+1);let a=ot();return this.dr.forEachInRange([n,i],o=>{a=a.add(o.key)}),a}containsKey(e){const r=new hr(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class hr{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return Fe.comparator(e.key,r.key)||ct(e.wr,r.wr)}static Ar(e,r){return ct(e.wr,r.wr)||Fe.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new Er(hr.Er)}checkEmpty(e){return be.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new bU(a,r,n,i);this.mutationQueue.push(o);for(const u of i)this.br=this.br.add(new hr(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return be.resolve(o)}lookupMutationBatch(e,r){return be.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.vr(n),a=i<0?0:i;return be.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return be.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new hr(r,0),i=new hr(r,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([n,i],o=>{const u=this.Dr(o.wr);a.push(u)}),be.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Er(ct);return r.forEach(i=>{const a=new hr(i,0),o=new hr(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,o],u=>{n=n.add(u.wr)})}),be.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;Fe.isDocumentKey(a)||(a=a.child(""));const o=new hr(new Fe(a),0);let u=new Er(ct);return this.br.forEachWhile(d=>{const f=d.key.path;return!!n.isPrefixOf(f)&&(f.length===i&&(u=u.add(d.wr)),!0)},o),be.resolve(this.Cr(u))}Cr(e){const r=[];return e.forEach(n=>{const i=this.Dr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){Vt(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return be.forEach(r.mutations,i=>{const a=new hr(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new hr(r,0),i=this.br.firstAfterOrEqual(n);return be.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,be.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU{constructor(e){this.Mr=e,this.docs=function(){return new zt(Fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,o=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return be.resolve(n?n.document.mutableCopy():Rr.newInvalidDocument(r))}getEntries(e,r){let n=js();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():Rr.newInvalidDocument(i))}),be.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=js();const o=r.path,u=new Fe(o.child("")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:f,value:{document:p}}=d.getNext();if(!o.isPrefixOf(f.path))break;f.path.length>o.length+1||FV($V(p),n)<=0||(i.has(p.key)||Em(r,p))&&(a=a.insert(p.key,p.mutableCopy()))}return be.resolve(a)}getAllFromCollectionGroup(e,r,n,i){Ke()}Or(e,r){return be.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new QU(this)}getSize(e){return be.resolve(this.size)}}class QU extends qU{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)}),be.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{constructor(e){this.persistence=e,this.Nr=new Nu(r=>E1(r),A1),this.lastRemoteSnapshotVersion=Ge.min(),this.highestTargetId=0,this.Lr=0,this.Br=new O1,this.targetCount=0,this.kr=Zl.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,i)=>r(i)),be.resolve()}getLastRemoteSnapshotVersion(e){return be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return be.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),be.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),be.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new Zl(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,be.resolve()}updateTargetData(e,r){return this.Kn(r),be.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,be.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.Nr.forEach((o,u)=>{u.sequenceNumber<=r&&n.get(u.targetId)===null&&(this.Nr.delete(o),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),be.waitFor(a).next(()=>i)}getTargetCount(e){return be.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return be.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),be.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(o=>{a.push(i.markPotentiallyOrphaned(e,o))}),be.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),be.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return be.resolve(n)}containsKey(e,r){return be.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(e,r){this.qr={},this.overlays={},this.Qr=new _1(0),this.Kr=!1,this.Kr=!0,this.$r=new KU,this.referenceDelegate=e(this),this.Ur=new JU(this),this.indexManager=new UU,this.remoteDocumentCache=function(i){return new XU(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new FU(r),this.Gr=new HU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new GU,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new YU(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){Re("MemoryPersistence","Starting transaction:",e);const i=new eB(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(a=>this.referenceDelegate.jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Hr(e,r){return be.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class eB extends UV{constructor(e){super(),this.currentSequenceNumber=e}}class C1{constructor(e){this.persistence=e,this.Jr=new O1,this.Yr=null}static Zr(e){return new C1(e)}get Xr(){if(this.Yr)return this.Yr;throw Ke()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),be.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),be.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),be.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(a=>this.Xr.add(a.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return be.forEach(this.Xr,n=>{const i=Fe.fromPath(n);return this.ei(e,i).next(a=>{a||r.removeEntry(i,Ge.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return be.or([()=>be.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(e,r){let n=ot(),i=ot();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new R1(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rB{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return J$()?8:BV($r())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.Yi(e,r).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.Zi(e,r,i,n).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new tB;return this.Xi(e,r,o).next(u=>{if(a.result=u,this.zi)return this.es(e,r,o,u.size)})}).next(()=>a.result)}es(e,r,n,i){return n.documentReadCount<this.ji?(wc()<=et.DEBUG&&Re("QueryEngine","SDK will not create cache indexes for query:",Il(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),be.resolve()):(wc()<=et.DEBUG&&Re("QueryEngine","Query:",Il(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(wc()<=et.DEBUG&&Re("QueryEngine","The SDK decides to create cache indexes for query:",Il(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fi(r))):be.resolve())}Yi(e,r){if(sT(r))return be.resolve(null);let n=Fi(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=A_(r,null,"F"),n=Fi(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const o=ot(...a);return this.Ji.getDocuments(e,o).next(u=>this.indexManager.getMinOffset(e,n).next(d=>{const f=this.ts(r,u);return this.ns(r,f,o,d.readTime)?this.Yi(e,A_(r,null,"F")):this.rs(e,f,r,d)}))})))}Zi(e,r,n,i){return sT(r)||i.isEqual(Ge.min())?be.resolve(null):this.Ji.getDocuments(e,n).next(a=>{const o=this.ts(r,a);return this.ns(r,o,n,i)?be.resolve(null):(wc()<=et.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Il(r)),this.rs(e,o,r,LV(i,-1)).next(u=>u))})}ts(e,r){let n=new Er(iM(e));return r.forEach((i,a)=>{Em(e,a)&&(n=n.add(a))}),n}ns(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(e,r,n){return wc()<=et.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",Il(r)),this.Ji.getDocumentsMatchingQuery(e,r,As.min(),n)}rs(e,r,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next(a=>(r.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nB{constructor(e,r,n,i){this.persistence=e,this.ss=r,this.serializer=i,this.os=new zt(ct),this._s=new Nu(a=>E1(a),A1),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new WU(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function iB(t,e,r,n){return new nB(t,e,r,n)}async function kM(t,e){const r=at(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const o=[],u=[];let d=ot();for(const f of i){o.push(f.batchId);for(const p of f.mutations)d=d.add(p.key)}for(const f of a){u.push(f.batchId);for(const p of f.mutations)d=d.add(p.key)}return r.localDocuments.getDocuments(n,d).next(f=>({hs:f,removedBatchIds:o,addedBatchIds:u}))})})}function EM(t){const e=at(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function aB(t,e){const r=at(t),n=e.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const u=[];e.targetChanges.forEach((p,g)=>{const y=i.get(g);if(!y)return;u.push(r.Ur.removeMatchingKeys(a,p.removedDocuments,g).next(()=>r.Ur.addMatchingKeys(a,p.addedDocuments,g)));let x=y.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(g)!==null?x=x.withResumeToken(Ar.EMPTY_BYTE_STRING,Ge.min()).withLastLimboFreeSnapshotVersion(Ge.min()):p.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(p.resumeToken,n)),i=i.insert(g,x),function(_,w,R){return _.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0}(y,x,p)&&u.push(r.Ur.updateTargetData(a,x))});let d=js(),f=ot();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&u.push(r.persistence.referenceDelegate.updateLimboDocument(a,p))}),u.push(sB(a,o,e.documentUpdates).next(p=>{d=p.Ps,f=p.Is})),!n.isEqual(Ge.min())){const p=r.Ur.getLastRemoteSnapshotVersion(a).next(g=>r.Ur.setTargetsMetadata(a,a.currentSequenceNumber,n));u.push(p)}return be.waitFor(u).next(()=>o.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,d,f)).next(()=>d)}).then(a=>(r.os=i,a))}function sB(t,e,r){let n=ot(),i=ot();return r.forEach(a=>n=n.add(a)),e.getEntries(t,n).next(a=>{let o=js();return r.forEach((u,d)=>{const f=a.get(u);d.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(u)),d.isNoDocument()&&d.version.isEqual(Ge.min())?(e.removeEntry(u,d.readTime),o=o.insert(u,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),o=o.insert(u,d)):Re("LocalStore","Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",d.version)}),{Ps:o,Is:i}})}function oB(t,e){const r=at(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Ur.getTargetData(n,e).next(a=>a?(i=a,be.resolve(i)):r.Ur.allocateTargetId(n).next(o=>(i=new vs(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function O_(t,e,r){const n=at(t),i=n.os.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,o=>n.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Gd(o))throw o;Re("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function vT(t,e,r){const n=at(t);let i=Ge.min(),a=ot();return n.persistence.runTransaction("Execute query","readwrite",o=>function(d,f,p){const g=at(d),y=g._s.get(p);return y!==void 0?be.resolve(g.os.get(y)):g.Ur.getTargetData(f,p)}(n,o,Fi(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(o,u.targetId).next(d=>{a=d})}).next(()=>n.ss.getDocumentsMatchingQuery(o,e,r?i:Ge.min(),r?a:ot())).next(u=>(lB(n,sU(e),u),{documents:u,Ts:a})))}function lB(t,e,r){let n=t.us.get(e)||Ge.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),t.us.set(e,n)}class yT{constructor(){this.activeTargetIds=fU()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uB{constructor(){this.so=new yT,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new yT,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oh=null;function a0(){return Oh===null?Oh=function(){return 268435456+Math.round(2147483648*Math.random())}():Oh++,"0x"+Oh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir="WebChannelConnection";class hB extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(r,n,i,a,o){const u=a0(),d=this.xo(r,n.toUriEncodedString());Re("RestConnection",`Sending RPC '${r}' ${u}:`,d,i);const f={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(f,a,o),this.No(r,d,f,i).then(p=>(Re("RestConnection",`Received RPC '${r}' ${u}: `,p),p),p=>{throw Yl("RestConnection",`RPC '${r}' ${u} failed with error: `,p,"url: ",d,"request:",i),p})}Lo(r,n,i,a,o,u){return this.Mo(r,n,i,a,o)}Oo(r,n,i){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ju}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,o)=>r[o]=a),i&&i.headers.forEach((a,o)=>r[o]=a)}xo(r,n){const i=dB[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,i){const a=a0();return new Promise((o,u)=>{const d=new UR;d.setWithCredentials(!0),d.listenOnce(BR.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Jh.NO_ERROR:const p=d.getResponseJson();Re(Ir,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),o(p);break;case Jh.TIMEOUT:Re(Ir,`RPC '${e}' ${a} timed out`),u(new Me(Se.DEADLINE_EXCEEDED,"Request time out"));break;case Jh.HTTP_ERROR:const g=d.getStatus();if(Re(Ir,`RPC '${e}' ${a} failed with status:`,g,"response text:",d.getResponseText()),g>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);const x=y?.error;if(x&&x.status&&x.message){const S=function(w){const R=w.toLowerCase().replace(/_/g,"-");return Object.values(Se).indexOf(R)>=0?R:Se.UNKNOWN}(x.status);u(new Me(S,x.message))}else u(new Me(Se.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new Me(Se.UNAVAILABLE,"Connection failed."));break;default:Ke()}}finally{Re(Ir,`RPC '${e}' ${a} completed.`)}});const f=JSON.stringify(i);Re(Ir,`RPC '${e}' ${a} sending request:`,i),d.send(r,"POST",f,n,15)})}Bo(e,r,n){const i=a0(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=WR(),u=zR(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Oo(d.initMessageHeaders,r,n),d.encodeInitMessageHeaders=!0;const p=a.join("");Re(Ir,`Creating RPC '${e}' stream ${i}: ${p}`,d);const g=o.createWebChannel(p,d);let y=!1,x=!1;const S=new fB({Io:w=>{x?Re(Ir,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(y||(Re(Ir,`Opening RPC '${e}' stream ${i} transport.`),g.open(),y=!0),Re(Ir,`RPC '${e}' stream ${i} sending:`,w),g.send(w))},To:()=>g.close()}),_=(w,R,N)=>{w.listen(R,O=>{try{N(O)}catch(M){setTimeout(()=>{throw M},0)}})};return _(g,Rc.EventType.OPEN,()=>{x||(Re(Ir,`RPC '${e}' stream ${i} transport opened.`),S.yo())}),_(g,Rc.EventType.CLOSE,()=>{x||(x=!0,Re(Ir,`RPC '${e}' stream ${i} transport closed`),S.So())}),_(g,Rc.EventType.ERROR,w=>{x||(x=!0,Yl(Ir,`RPC '${e}' stream ${i} transport errored:`,w),S.So(new Me(Se.UNAVAILABLE,"The operation could not be completed")))}),_(g,Rc.EventType.MESSAGE,w=>{var R;if(!x){const N=w.data[0];Vt(!!N);const O=N,M=O.error||((R=O[0])===null||R===void 0?void 0:R.error);if(M){Re(Ir,`RPC '${e}' stream ${i} received error:`,M);const A=M.status;let j=function(L){const I=Kt[L];if(I!==void 0)return hM(I)}(A),T=M.message;j===void 0&&(j=Se.INTERNAL,T="Unknown error status: "+A+" with message "+M.message),x=!0,S.So(new Me(j,T)),g.close()}else Re(Ir,`RPC '${e}' stream ${i} received:`,N),S.bo(N)}}),_(u,qR.STAT_EVENT,w=>{w.stat===b_.PROXY?Re(Ir,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===b_.NOPROXY&&Re(Ir,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.wo()},0),S}}function s0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(t){return new NU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e,r,n=1e3,i=1.5,a=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&Re("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pB{constructor(e,r,n,i,a,o,u,d){this.ui=e,this.Ho=n,this.Jo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new AM(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===Se.RESOURCE_EXHAUSTED?(ka(r.toString()),ka("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===Se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===r&&this.P_(n,i)},n=>{e(()=>{const i=new Me(Se.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Re("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(Re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mB extends pB{constructor(e,r,n,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=IU(this.serializer,e),n=function(a){if(!("targetChange"in a))return Ge.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?Ge.min():o.readTime?zl(o.readTime):Ge.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=gT(this.serializer),r.addTarget=function(a,o){let u;const d=o.target;if(u=k_(d)?{documents:OU(a,d)}:{query:CU(a,d)._t},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){u.resumeToken=gM(a,o.resumeToken);const f=N_(a,o.expectedCount);f!==null&&(u.expectedCount=f)}else if(o.snapshotVersion.compareTo(Ge.min())>0){u.readTime=P_(a,o.snapshotVersion.toTimestamp());const f=N_(a,o.expectedCount);f!==null&&(u.expectedCount=f)}return u}(this.serializer,e);const n=MU(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=gT(this.serializer),r.removeTarget=e,this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gB extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Me(Se.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Mo(e,I_(r,n),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Me(Se.UNKNOWN,a.toString())})}Lo(e,r,n,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Lo(e,I_(r,n),i,o,u,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Me(Se.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class vB{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ka(r),this.D_=!1):Re("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yB{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(o=>{n.enqueueAndForget(async()=>{Jd(this)&&(Re("RemoteStore","Restarting streams for network reachability change."),await async function(d){const f=at(d);f.L_.add(4),await Qd(f),f.q_.set("Unknown"),f.L_.delete(4),await Pm(f)}(this))})}),this.q_=new vB(n,i)}}async function Pm(t){if(Jd(t))for(const e of t.B_)await e(!0)}async function Qd(t){for(const e of t.B_)await e(!1)}function TM(t,e){const r=at(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),$1(r)?L1(r):Pu(r).r_()&&D1(r,e))}function M1(t,e){const r=at(t),n=Pu(r);r.N_.delete(e),n.r_()&&jM(r,e),r.N_.size===0&&(n.r_()?n.o_():Jd(r)&&r.q_.set("Unknown"))}function D1(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ge.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Pu(t).A_(e)}function jM(t,e){t.Q_.xe(e),Pu(t).R_(e)}function L1(t){t.Q_=new EU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Pu(t).start(),t.q_.v_()}function $1(t){return Jd(t)&&!Pu(t).n_()&&t.N_.size>0}function Jd(t){return at(t).L_.size===0}function NM(t){t.Q_=void 0}async function xB(t){t.q_.set("Online")}async function bB(t){t.N_.forEach((e,r)=>{D1(t,e)})}async function _B(t,e){NM(t),$1(t)?(t.q_.M_(e),L1(t)):t.q_.set("Unknown")}async function wB(t,e,r){if(t.q_.set("Online"),e instanceof mM&&e.state===2&&e.cause)try{await async function(i,a){const o=a.cause;for(const u of a.targetIds)i.N_.has(u)&&(await i.remoteSyncer.rejectListen(u,o),i.N_.delete(u),i.Q_.removeTarget(u))}(t,e)}catch(n){Re("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await bT(t,n)}else if(e instanceof ep?t.Q_.Ke(e):e instanceof pM?t.Q_.He(e):t.Q_.We(e),!r.isEqual(Ge.min()))try{const n=await EM(t.localStore);r.compareTo(n)>=0&&await function(a,o){const u=a.Q_.rt(o);return u.targetChanges.forEach((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const p=a.N_.get(f);p&&a.N_.set(f,p.withResumeToken(d.resumeToken,o))}}),u.targetMismatches.forEach((d,f)=>{const p=a.N_.get(d);if(!p)return;a.N_.set(d,p.withResumeToken(Ar.EMPTY_BYTE_STRING,p.snapshotVersion)),jM(a,d);const g=new vs(p.target,d,f,p.sequenceNumber);D1(a,g)}),a.remoteSyncer.applyRemoteEvent(u)}(t,r)}catch(n){Re("RemoteStore","Failed to raise snapshot:",n),await bT(t,n)}}async function bT(t,e,r){if(!Gd(e))throw e;t.L_.add(1),await Qd(t),t.q_.set("Offline"),r||(r=()=>EM(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Re("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await Pm(t)})}async function _T(t,e){const r=at(t);r.asyncQueue.verifyOperationInProgress(),Re("RemoteStore","RemoteStore received new credentials");const n=Jd(r);r.L_.add(3),await Qd(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await Pm(r)}async function SB(t,e){const r=at(t);e?(r.L_.delete(2),await Pm(r)):e||(r.L_.add(2),await Qd(r),r.q_.set("Unknown"))}function Pu(t){return t.K_||(t.K_=function(r,n,i){const a=at(r);return a.w_(),new mB(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:xB.bind(null,t),Ro:bB.bind(null,t),mo:_B.bind(null,t),d_:wB.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),$1(t)?L1(t):t.q_.set("Unknown")):(await t.K_.stop(),NM(t))})),t.K_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new ql,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const o=Date.now()+n,u=new F1(e,r,o,i,a);return u.start(n),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Me(Se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function PM(t,e){if(ka("AsyncQueue",`${e}: ${t}`),Gd(t))return new Me(Se.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e){this.comparator=e?(r,n)=>e(r,n)||Fe.comparator(r.key,n.key):(r,n)=>Fe.comparator(r.key,n.key),this.keyedMap=Mc(),this.sortedSet=new zt(this.comparator)}static emptySet(e){return new Wl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Wl)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Wl;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(){this.W_=new zt(Fe.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):Ke():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class eu{constructor(e,r,n,i,a,o,u,d,f){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,r,n,i,a){const o=[];return r.forEach(u=>{o.push({type:0,doc:u})}),new eu(e,r,Wl.emptySet(r),o,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&km(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class EB{constructor(){this.queries=ST(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=at(r),a=i.queries;i.queries=ST(),a.forEach((o,u)=>{for(const d of u.j_)d.onError(n)})})(this,new Me(Se.ABORTED,"Firestore shutting down"))}}function ST(){return new Nu(t=>nM(t),km)}async function AB(t,e){const r=at(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.H_()&&e.J_()&&(n=2):(a=new kB,n=e.J_()?0:1);try{switch(n){case 0:a.z_=await r.onListen(i,!0);break;case 1:a.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(o){const u=PM(o,`Initialization of query '${Il(e.query)}' failed`);return void e.onError(u)}r.queries.set(i,a),a.j_.push(e),e.Z_(r.onlineState),a.z_&&e.X_(a.z_)&&V1(r)}async function TB(t,e){const r=at(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const o=a.j_.indexOf(e);o>=0&&(a.j_.splice(o,1),a.j_.length===0?i=e.J_()?0:1:!a.H_()&&e.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function jB(t,e){const r=at(t);let n=!1;for(const i of e){const a=i.query,o=r.queries.get(a);if(o){for(const u of o.j_)u.X_(i)&&(n=!0);o.z_=i}}n&&V1(r)}function NB(t,e,r){const n=at(t),i=n.queries.get(e);if(i)for(const a of i.j_)a.onError(r);n.queries.delete(e)}function V1(t){t.Y_.forEach(e=>{e.next()})}var C_,kT;(kT=C_||(C_={})).ea="default",kT.Cache="cache";class PB{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new eu(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=eu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==C_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e){this.key=e}}class OM{constructor(e){this.key=e}}class IB{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ot(),this.mutatedKeys=ot(),this.Aa=iM(e),this.Ra=new Wl(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new wT,i=r?r.Ra:this.Ra;let a=r?r.mutatedKeys:this.mutatedKeys,o=i,u=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,g)=>{const y=i.get(p),x=Em(this.query,g)?g:null,S=!!y&&this.mutatedKeys.has(y.key),_=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let w=!1;y&&x?y.data.isEqual(x.data)?S!==_&&(n.track({type:3,doc:x}),w=!0):this.ga(y,x)||(n.track({type:2,doc:x}),w=!0,(d&&this.Aa(x,d)>0||f&&this.Aa(x,f)<0)&&(u=!0)):!y&&x?(n.track({type:0,doc:x}),w=!0):y&&!x&&(n.track({type:1,doc:y}),w=!0,(d||f)&&(u=!0)),w&&(x?(o=o.add(x),a=_?a.add(p):a.delete(p)):(o=o.delete(p),a=a.delete(p)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const p=this.query.limitType==="F"?o.last():o.first();o=o.delete(p.key),a=a.delete(p.key),n.track({type:1,doc:p})}return{Ra:o,fa:n,ns:u,mutatedKeys:a}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((p,g)=>function(x,S){const _=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ke()}};return _(x)-_(S)}(p.type,g.type)||this.Aa(p.doc,g.doc)),this.pa(n),i=i!=null&&i;const u=r&&!i?this.ya():[],d=this.da.size===0&&this.current&&!i?1:0,f=d!==this.Ea;return this.Ea=d,o.length!==0||f?{snapshot:new eu(this.query,e.Ra,a,o,e.mutatedKeys,d===0,f,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:u}:{wa:u}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new wT,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ot(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new OM(n))}),this.da.forEach(n=>{e.has(n)||r.push(new IM(n))}),r}ba(e){this.Ta=e.Ts,this.da=ot();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return eu.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class OB{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class CB{constructor(e){this.key=e,this.va=!1}}class RB{constructor(e,r,n,i,a,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Nu(u=>nM(u),km),this.Ma=new Map,this.xa=new Set,this.Oa=new zt(Fe.comparator),this.Na=new Map,this.La=new O1,this.Ba={},this.ka=new Map,this.qa=Zl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function MB(t,e,r=!0){const n=LM(t);let i;const a=n.Fa.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await CM(n,e,r,!0),i}async function DB(t,e){const r=LM(t);await CM(r,e,!0,!1)}async function CM(t,e,r,n){const i=await oB(t.localStore,Fi(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,r);let u;return n&&(u=await LB(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&r&&TM(t.remoteStore,i),u}async function LB(t,e,r,n,i){t.Ka=(g,y,x)=>async function(_,w,R,N){let O=w.view.ma(R);O.ns&&(O=await vT(_.localStore,w.query,!1).then(({documents:T})=>w.view.ma(T,O)));const M=N&&N.targetChanges.get(w.targetId),A=N&&N.targetMismatches.get(w.targetId)!=null,j=w.view.applyChanges(O,_.isPrimaryClient,M,A);return AT(_,w.targetId,j.wa),j.snapshot}(t,g,y,x);const a=await vT(t.localStore,e,!0),o=new IB(e,a.Ts),u=o.ma(a.documents),d=Xd.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),f=o.applyChanges(u,t.isPrimaryClient,d);AT(t,r,f.wa);const p=new OB(e,r,o);return t.Fa.set(e,p),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),f.snapshot}async function $B(t,e,r){const n=at(t),i=n.Fa.get(e),a=n.Ma.get(i.targetId);if(a.length>1)return n.Ma.set(i.targetId,a.filter(o=>!km(o,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await O_(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&M1(n.remoteStore,i.targetId),R_(n,i.targetId)}).catch(b1)):(R_(n,i.targetId),await O_(n.localStore,i.targetId,!0))}async function FB(t,e){const r=at(t),n=r.Fa.get(e),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),M1(r.remoteStore,n.targetId))}async function RM(t,e){const r=at(t);try{const n=await aB(r.localStore,e);e.targetChanges.forEach((i,a)=>{const o=r.Na.get(a);o&&(Vt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Vt(o.va):i.removedDocuments.size>0&&(Vt(o.va),o.va=!1))}),await DM(r,n,e)}catch(n){await b1(n)}}function ET(t,e,r){const n=at(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach((a,o)=>{const u=o.view.Z_(e);u.snapshot&&i.push(u.snapshot)}),function(o,u){const d=at(o);d.onlineState=u;let f=!1;d.queries.forEach((p,g)=>{for(const y of g.j_)y.Z_(u)&&(f=!0)}),f&&V1(d)}(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function VB(t,e,r){const n=at(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Na.get(e),a=i&&i.key;if(a){let o=new zt(Fe.comparator);o=o.insert(a,Rr.newNoDocument(a,Ge.min()));const u=ot().add(a),d=new jm(Ge.min(),new Map,new zt(ct),o,u);await RM(n,d),n.Oa=n.Oa.remove(a),n.Na.delete(e),U1(n)}else await O_(n.localStore,e,!1).then(()=>R_(n,e,r)).catch(b1)}function R_(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||MM(t,n)})}function MM(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(M1(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),U1(t))}function AT(t,e,r){for(const n of r)n instanceof IM?(t.La.addReference(n.key,e),UB(t,n)):n instanceof OM?(Re("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||MM(t,n.key)):Ke()}function UB(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(Re("SyncEngine","New document in limbo: "+r),t.xa.add(n),U1(t))}function U1(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new Fe(Nt.fromString(e)),n=t.qa.next();t.Na.set(n,new CB(r)),t.Oa=t.Oa.insert(r,n),TM(t.remoteStore,new vs(Fi(T1(r.path)),n,"TargetPurposeLimboResolution",_1.oe))}}async function DM(t,e,r){const n=at(t),i=[],a=[],o=[];n.Fa.isEmpty()||(n.Fa.forEach((u,d)=>{o.push(n.Ka(d,e,r).then(f=>{var p;if((f||r)&&n.isPrimaryClient){const g=f?!f.fromCache:(p=r?.targetChanges.get(d.targetId))===null||p===void 0?void 0:p.current;n.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(f){i.push(f);const g=R1.Wi(d.targetId,f);a.push(g)}}))}),await Promise.all(o),n.Ca.d_(i),await async function(d,f){const p=at(d);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>be.forEach(f,y=>be.forEach(y.$i,x=>p.persistence.referenceDelegate.addReference(g,y.targetId,x)).next(()=>be.forEach(y.Ui,x=>p.persistence.referenceDelegate.removeReference(g,y.targetId,x)))))}catch(g){if(!Gd(g))throw g;Re("LocalStore","Failed to update sequence numbers: "+g)}for(const g of f){const y=g.targetId;if(!g.fromCache){const x=p.os.get(y),S=x.snapshotVersion,_=x.withLastLimboFreeSnapshotVersion(S);p.os=p.os.insert(y,_)}}}(n.localStore,a))}async function BB(t,e){const r=at(t);if(!r.currentUser.isEqual(e)){Re("SyncEngine","User change. New user:",e.toKey());const n=await kM(r.localStore,e);r.currentUser=e,function(a,o){a.ka.forEach(u=>{u.forEach(d=>{d.reject(new Me(Se.CANCELLED,o))})}),a.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await DM(r,n.hs)}}function qB(t,e){const r=at(t),n=r.Na.get(e);if(n&&n.va)return ot().add(n.key);{let i=ot();const a=r.Ma.get(e);if(!a)return i;for(const o of a){const u=r.Fa.get(o);i=i.unionWith(u.view.Va)}return i}}function LM(t){const e=at(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=RM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VB.bind(null,e),e.Ca.d_=jB.bind(null,e.eventManager),e.Ca.$a=NB.bind(null,e.eventManager),e}class yp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nm(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return iB(this.persistence,new rB,e.initialUser,this.serializer)}Ga(e){return new ZU(C1.Zr,this.serializer)}Wa(e){return new uB}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yp.provider={build:()=>new yp};class M_{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>ET(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=BB.bind(null,this.syncEngine),await SB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new EB}()}createDatastore(e){const r=Nm(e.databaseInfo.databaseId),n=function(a){return new hB(a)}(e.databaseInfo);return function(a,o,u,d){return new gB(a,o,u,d)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,a,o,u){return new yB(n,i,a,o,u)}(this.localStore,this.datastore,e.asyncQueue,r=>ET(this.syncEngine,r,0),function(){return xT.D()?new xT:new cB}())}createSyncEngine(e,r){return function(i,a,o,u,d,f,p){const g=new RB(i,a,o,u,d,f);return p&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const a=at(i);Re("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await Qd(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}M_.provider={build:()=>new M_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zB{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ka("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WB{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=Cr.UNAUTHENTICATED,this.clientId=GR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async o=>{Re("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(Re("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ql;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=PM(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function o0(t,e){t.asyncQueue.verifyOperationInProgress(),Re("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await kM(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function TT(t,e){t.asyncQueue.verifyOperationInProgress();const r=await HB(t);Re("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>_T(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>_T(e.remoteStore,i)),t._onlineComponents=e}async function HB(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Re("FirestoreClient","Using user provided OfflineComponentProvider");try{await o0(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===Se.FAILED_PRECONDITION||i.code===Se.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;Yl("Error using user provided cache. Falling back to memory cache: "+r),await o0(t,new yp)}}else Re("FirestoreClient","Using default OfflineComponentProvider"),await o0(t,new yp);return t._offlineComponents}async function GB(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Re("FirestoreClient","Using user provided OnlineComponentProvider"),await TT(t,t._uninitializedComponentsProvider._online)):(Re("FirestoreClient","Using default OnlineComponentProvider"),await TT(t,new M_))),t._onlineComponents}async function jT(t){const e=await GB(t),r=e.eventManager;return r.onListen=MB.bind(null,e.syncEngine),r.onUnlisten=$B.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=DB.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=FB.bind(null,e.syncEngine),r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $M(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FM(t,e,r){if(!r)throw new Me(Se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function KB(t,e,r,n){if(e===!0&&n===!0)throw new Me(Se.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function PT(t){if(!Fe.isDocumentKey(t))throw new Me(Se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function IT(t){if(Fe.isDocumentKey(t))throw new Me(Se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Im(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ke()}function tp(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Me(Se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Im(t);throw new Me(Se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Me(Se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Me(Se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}KB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$M((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Me(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Me(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Me(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Om{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OT({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Me(Se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Me(Se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OT(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new jV;switch(n.type){case"firstParty":return new OV(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Me(Se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=NT.get(r);n&&(Re("ComponentProvider","Removing Datastore"),NT.delete(r),n.terminate())}(this),Promise.resolve()}}function YB(t,e,r,n={}){var i;const a=(t=tp(t,Om))._getSettings(),o=`${e}:${r}`;if(a.host!=="firestore.googleapis.com"&&a.host!==o&&Yl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),n.mockUserToken){let u,d;if(typeof n.mockUserToken=="string")u=n.mockUserToken,d=Cr.MOCK_USER;else{u=Z2(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=n.mockUserToken.sub||n.mockUserToken.user_id;if(!f)throw new Me(Se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Cr(f)}t._authCredentials=new NV(new HR(u,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Iu(this.firestore,e,this._query)}}class Sn{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _s(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Sn(this.firestore,e,this._key)}}class _s extends Iu{constructor(e,r,n){super(e,r,T1(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Sn(this.firestore,null,new Fe(e))}withConverter(e){return new _s(this.firestore,e,this._path)}}function XB(t,e,...r){if(t=Yr(t),FM("collection","path",e),t instanceof Om){const n=Nt.fromString(e,...r);return IT(n),new _s(t,null,n)}{if(!(t instanceof Sn||t instanceof _s))throw new Me(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Nt.fromString(e,...r));return IT(n),new _s(t.firestore,null,n)}}function QB(t,e,...r){if(t=Yr(t),arguments.length===1&&(e=GR.newId()),FM("doc","path",e),t instanceof Om){const n=Nt.fromString(e,...r);return PT(n),new Sn(t,null,new Fe(n))}{if(!(t instanceof Sn||t instanceof _s))throw new Me(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Nt.fromString(e,...r));return PT(n),new Sn(t.firestore,t instanceof _s?t.converter:null,new Fe(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new AM(this,"async_queue_retry"),this.Vu=()=>{const n=s0();n&&Re("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=s0();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=s0();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new ql;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Gd(e))throw e;Re("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const i=function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),u}(n);throw ka("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const i=F1.createAndSchedule(this,e,r,n,a=>this.yu(a));return this.Tu.push(i),i}fu(){this.Eu&&Ke()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function RT(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class D_ extends Om{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new CT,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new CT(e),this._firestoreClient=void 0,await e}}}function JB(t,e){const r=typeof t=="object"?t:u1(),n=typeof t=="string"?t:"(default)",i=xm(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=X2("firestore");a&&YB(i,...a)}return i}function ZB(t){if(t._terminated)throw new Me(Se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||eq(t),t._firestoreClient}function eq(t){var e,r,n;const i=t._freezeSettings(),a=function(u,d,f,p){return new WV(u,d,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,$M(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new WB(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(u){const d=u?._online.build();return{_offline:u?._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new tu(Ar.fromBase64String(e))}catch(r){throw new Me(Se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new tu(Ar.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Me(Se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Me(Se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Me(Se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ct(this._lat,e._lat)||ct(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tq=/^__.*__$/;function BM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ke()}}class z1{constructor(e,r,n,i,a,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new z1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return L_(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(BM(this.Cu)&&tq.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class rq{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||Nm(e)}Qu(e,r,n,i=!1){return new z1({Cu:e,methodName:r,qu:n,path:Dr.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nq(t){const e=t._freezeSettings(),r=Nm(t._databaseId);return new rq(t._databaseId,!!e.ignoreUndefinedProperties,r)}function iq(t,e,r,n=!1){return W1(r,t.Qu(n?4:3,e))}function W1(t,e){if(qM(t=Yr(t)))return sq("Unsupported field value:",e,t),aq(t,e);if(t instanceof UM)return function(n,i){if(!BM(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,i){const a=[];let o=0;for(const u of n){let d=W1(u,i.Lu(o));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),o++}return{arrayValue:{values:a}}}(t,e)}return function(n,i){if((n=Yr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return hU(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=gr.fromDate(n);return{timestampValue:P_(i.serializer,a)}}if(n instanceof gr){const a=new gr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:P_(i.serializer,a)}}if(n instanceof B1)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof tu)return{bytesValue:gM(i.serializer,n._byteString)};if(n instanceof Sn){const a=i.databaseId,o=n.firestore._databaseId;if(!o.isEqual(a))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:vM(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof q1)return function(o,u){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw u.Bu("VectorValues must only contain numeric values.");return j1(u.serializer,d)})}}}}}}(n,i);throw i.Bu(`Unsupported field value: ${Im(n)}`)}(t,e)}function aq(t,e){const r={};return KR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Kd(t,(n,i)=>{const a=W1(i,e.Mu(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function qM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof gr||t instanceof B1||t instanceof tu||t instanceof Sn||t instanceof UM||t instanceof q1)}function sq(t,e,r){if(!qM(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=Im(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}const oq=new RegExp("[~\\*/\\[\\]]");function lq(t,e,r){if(e.search(oq)>=0)throw L_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new VM(...e.split("."))._internalPath}catch{throw L_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function L_(t,e,r,n,i){const a=n&&!n.isEmpty(),o=i!==void 0;let u=`Function ${e}() called with invalid data`;r&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(a||o)&&(d+=" (found",a&&(d+=` in field ${n}`),o&&(d+=` in document ${i}`),d+=")"),new Me(Se.INVALID_ARGUMENT,u+t+d)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(WM("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class uq extends zM{data(){return super.data()}}function WM(t,e){return typeof e=="string"?lq(t,e):e instanceof VM?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cq(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Me(Se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class H1{}class dq extends H1{}function fq(t,e,...r){let n=[];e instanceof H1&&n.push(e),n=n.concat(r),function(a){const o=a.filter(d=>d instanceof K1).length,u=a.filter(d=>d instanceof G1).length;if(o>1||o>0&&u>0)throw new Me(Se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class G1 extends dq{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new G1(e,r,n)}_apply(e){const r=this._parse(e);return HM(e._query,r),new Iu(e.firestore,e.converter,E_(e._query,r))}_parse(e){const r=nq(e.firestore);return function(a,o,u,d,f,p,g){let y;if(f.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Me(Se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){DT(g,p);const x=[];for(const S of g)x.push(MT(d,a,S));y={arrayValue:{values:x}}}else y=MT(d,a,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||DT(g,p),y=iq(u,o,g,p==="in"||p==="not-in");return Xt.create(f,p,y)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}class K1 extends H1{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new K1(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:yi.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,a){let o=i;const u=a.getFlattenedFilters();for(const d of u)HM(o,d),o=E_(o,d)}(e._query,r),new Iu(e.firestore,e.converter,E_(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function MT(t,e,r){if(typeof(r=Yr(r))=="string"){if(r==="")throw new Me(Se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rM(e)&&r.indexOf("/")!==-1)throw new Me(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Nt.fromString(r));if(!Fe.isDocumentKey(n))throw new Me(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return eT(t,new Fe(n))}if(r instanceof Sn)return eT(t,r._key);throw new Me(Se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Im(r)}.`)}function DT(t,e){if(!Array.isArray(t)||t.length===0)throw new Me(Se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function HM(t,e){const r=function(i,a){for(const o of i)for(const u of o.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new Me(Se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Me(Se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class hq{convertValue(e,r="none"){switch(Oo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Io(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Ke()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Kd(e,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(e){var r,n,i;const a=(i=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(o=>qt(o.doubleValue));return new q1(a)}convertGeoPoint(e){return new B1(qt(e.latitude),qt(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=S1(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(rd(e));default:return null}}convertTimestamp(e){const r=Ts(e);return new gr(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Nt.fromString(e);Vt(SM(n));const i=new nd(n.get(1),n.get(3)),a=new Fe(n.popFirst(5));return i.isEqual(r)||ka(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class GM extends zM{constructor(e,r,n,i,a,o){super(e,r,n,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new rp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(WM("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class rp extends GM{data(e={}){return super.data(e)}}class pq{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Lc(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new rp(this._firestore,this._userDataWriter,n.key,n,new Lc(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Me(Se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(u=>{const d=new rp(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Lc(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>a||u.type!==3).map(u=>{const d=new rp(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Lc(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,p=-1;return u.type!==0&&(f=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),u.type!==1&&(o=o.add(u.doc),p=o.indexOf(u.doc.key)),{type:mq(u.type),doc:d,oldIndex:f,newIndex:p}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function mq(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ke()}}class KM extends hq{constructor(e){super(),this.firestore=e}convertBytes(e){return new tu(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Sn(this.firestore,null,r)}}function LT(t,...e){var r,n,i;t=Yr(t);let a={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||RT(e[o])||(a=e[o],o++);const u={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(RT(e[o])){const g=e[o];e[o]=(r=g.next)===null||r===void 0?void 0:r.bind(g),e[o+1]=(n=g.error)===null||n===void 0?void 0:n.bind(g),e[o+2]=(i=g.complete)===null||i===void 0?void 0:i.bind(g)}let d,f,p;if(t instanceof Sn)f=tp(t.firestore,D_),p=T1(t._key.path),d={next:g=>{e[o]&&e[o](gq(f,t,g))},error:e[o+1],complete:e[o+2]};else{const g=tp(t,Iu);f=tp(g.firestore,D_),p=g._query;const y=new KM(f);d={next:x=>{e[o]&&e[o](new pq(f,y,g,x))},error:e[o+1],complete:e[o+2]},cq(t._query)}return function(y,x,S,_){const w=new zB(_),R=new PB(x,w,S);return y.asyncQueue.enqueueAndForget(async()=>AB(await jT(y),R)),()=>{w.Za(),y.asyncQueue.enqueueAndForget(async()=>TB(await jT(y),R))}}(ZB(f),p,u,d)}function gq(t,e,r){const n=r.docs.get(e._key),i=new KM(t);return new GM(t,i,e._key,n,new Lc(r.hasPendingWrites,r.fromCache),e.converter)}(function(e,r=!0){(function(i){ju=i})(Fo),To(new Es("firestore",(n,{instanceIdentifier:i,options:a})=>{const o=n.getProvider("app").getImmediate(),u=new D_(new PV(n.getProvider("auth-internal")),new RV(n.getProvider("app-check-internal")),function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Me(Se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nd(f.options.projectId,p)}(o,i),o);return a=Object.assign({useFetchStreams:r},a),u._setSettings(a),u},"PUBLIC").setMultipleInstances(!0)),Di(YA,"4.7.3",e),Di(YA,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM="firebasestorage.googleapis.com",vq="storageBucket",yq=2*60*1e3,xq=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends Hi{constructor(e,r,n=0){super(l0(e),`Firebase Storage: ${r} (${l0(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Gi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return l0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var qi;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(qi||(qi={}));function l0(t){return"storage/"+t}function bq(){const t="An unknown error occurred, please check the error payload for server response.";return new Gi(qi.UNKNOWN,t)}function _q(){return new Gi(qi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function wq(){return new Gi(qi.CANCELED,"User canceled the upload/download.")}function Sq(t){return new Gi(qi.INVALID_URL,"Invalid URL '"+t+"'.")}function kq(t){return new Gi(qi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function $T(t){return new Gi(qi.INVALID_ARGUMENT,t)}function XM(){return new Gi(qi.APP_DELETED,"The Firebase app was deleted.")}function Eq(t){return new Gi(qi.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=pi.makeFromUrl(e,r)}catch{return new pi(e,"")}if(n.path==="")return n;throw kq(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function a(M){M.path.charAt(M.path.length-1)==="/"&&(M.path_=M.path_.slice(0,-1))}const o="(/(.*))?$",u=new RegExp("^gs://"+i+o,"i"),d={bucket:1,path:3};function f(M){M.path_=decodeURIComponent(M.path)}const p="v[A-Za-z0-9_]+",g=r.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",x=new RegExp(`^https?://${g}/${p}/b/${i}/o${y}`,"i"),S={bucket:1,path:3},_=r===YM?"(?:storage.googleapis.com|storage.cloud.google.com)":r,w="([^?#]*)",R=new RegExp(`^https?://${_}/${i}/${w}`,"i"),O=[{regex:u,indices:d,postModify:a},{regex:x,indices:S,postModify:f},{regex:R,indices:{bucket:1,path:2},postModify:f}];for(let M=0;M<O.length;M++){const A=O[M],j=A.regex.exec(e);if(j){const T=j[A.indices.bucket];let P=j[A.indices.path];P||(P=""),n=new pi(T,P),A.postModify(n);break}}if(n==null)throw Sq(e);return n}}class Aq{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tq(t,e,r){let n=1,i=null,a=null,o=!1,u=0;function d(){return u===2}let f=!1;function p(...w){f||(f=!0,e.apply(null,w))}function g(w){i=setTimeout(()=>{i=null,t(x,d())},w)}function y(){a&&clearTimeout(a)}function x(w,...R){if(f){y();return}if(w){y(),p.call(null,w,...R);return}if(d()||o){y(),p.call(null,w,...R);return}n<64&&(n*=2);let O;u===1?(u=2,O=0):O=(n+Math.random())*1e3,g(O)}let S=!1;function _(w){S||(S=!0,y(),!f&&(i!==null?(w||(u=2),clearTimeout(i),g(0)):w||(u=1)))}return g(0),a=setTimeout(()=>{o=!0,_(!0)},r),_}function jq(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nq(t){return t!==void 0}function FT(t,e,r,n){if(n<e)throw $T(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw $T(`Invalid value for '${t}'. Expected ${r} or less.`)}function Pq(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var xp;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(xp||(xp={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iq(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return r||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oq{constructor(e,r,n,i,a,o,u,d,f,p,g,y=!0){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=d,this.timeout_=f,this.progressCallback_=p,this.connectionFactory_=g,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,S)=>{this.resolve_=x,this.reject_=S,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new Ch(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=u=>{const d=u.loaded,f=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,f)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const u=a.getErrorCode()===xp.NO_ERROR,d=a.getStatus();if(!u||Iq(d,this.additionalRetryCodes_)&&this.retry){const p=a.getErrorCode()===xp.ABORT;n(!1,new Ch(!1,null,p));return}const f=this.successCodes_.indexOf(d)!==-1;n(!0,new Ch(f,a))})},r=(n,i)=>{const a=this.resolve_,o=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const d=this.callback_(u,u.getResponse());Nq(d)?a(d):a()}catch(d){o(d)}else if(u!==null){const d=bq();d.serverResponse=u.getErrorText(),this.errorCallback_?o(this.errorCallback_(u,d)):o(d)}else if(i.canceled){const d=this.appDelete_?XM():wq();o(d)}else{const d=_q();o(d)}};this.canceled_?r(!1,new Ch(!1,null,!0)):this.backoffId_=Tq(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&jq(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ch{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function Cq(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Rq(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Mq(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Dq(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Lq(t,e,r,n,i,a,o=!0){const u=Pq(t.urlParams),d=t.url+u,f=Object.assign({},t.headers);return Mq(f,e),Cq(f,r),Rq(f,a),Dq(f,n),new Oq(d,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $q(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Fq(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e,r){this._service=e,r instanceof pi?this._location=r:this._location=pi.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new bp(e,r)}get root(){const e=new pi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Fq(this._location.path)}get storage(){return this._service}get parent(){const e=$q(this._location.path);if(e===null)return null;const r=new pi(this._location.bucket,e);return new bp(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw Eq(e)}}function VT(t,e){const r=e?.[vq];return r==null?null:pi.makeFromBucketSpec(r,t)}function Vq(t,e,r,n={}){t.host=`${e}:${r}`,t._protocol="http";const{mockUserToken:i}=n;i&&(t._overrideAuthToken=typeof i=="string"?i:Z2(i,t.app.options.projectId))}class Uq{constructor(e,r,n,i,a){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=YM,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=yq,this._maxUploadRetryTime=xq,this._requests=new Set,i!=null?this._bucket=pi.makeFromBucketSpec(i,this._host):this._bucket=VT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=pi.makeFromBucketSpec(this._url,e):this._bucket=VT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){FT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){FT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new bp(this,e)}_makeRequest(e,r,n,i,a=!0){if(this._deleted)return new Aq(XM());{const o=Lq(e,this._appId,n,i,r,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const UT="@firebase/storage",BT="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM="storage";function Bq(t=u1(),e){t=Yr(t);const n=xm(t,QM).getImmediate({identifier:e}),i=X2("storage");return i&&qq(n,...i),n}function qq(t,e,r,n={}){Vq(t,e,r,n)}function zq(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Uq(r,n,i,e,Fo)}function Wq(){To(new Es(QM,zq,"PUBLIC").setMultipleInstances(!0)),Di(UT,BT,""),Di(UT,BT,"esm2017")}Wq();/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hq=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),JM=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Gq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kq=z.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...u},d)=>z.createElement("svg",{ref:d,...Gq,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:JM("lucide",i),...u},[...o.map(([f,p])=>z.createElement(f,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=(t,e)=>{const r=z.forwardRef(({className:n,...i},a)=>z.createElement(Kq,{ref:a,iconNode:e,className:JM(`lucide-${Hq(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=Le("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yq=Le("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xq=Le("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qq=Le("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=Le("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jq=Le("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zq=Le("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=Le("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=Le("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e9=Le("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=Le("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=Le("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=Le("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=Le("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=Le("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=Le("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t9=Le("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=Le("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mi=Le("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=Le("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=Le("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=Le("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=Le("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=Le("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=Le("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=Le("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r9=Le("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=Le("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zd=Le("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n9=Le("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i9=Le("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a9=Le("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s9=Le("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=Le("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=Le("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o9=Le("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=Le("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l9=Le("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=Le("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=Le("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=Le("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=Le("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=Le("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=Le("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=Le("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=Le("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=Le("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u9=Le("TreePine",[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=Le("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=Le("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=Le("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c9=Le("Unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=Le("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d9=Le("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=Le("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=Le("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=Le("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f9=Le("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),h9=({setUserId:t})=>{const[e,r]=z.useState(!0),[n,i]=z.useState(""),[a,o]=z.useState(""),[u,d]=z.useState(""),[f,p]=z.useState(!1),g=FR(),y=async x=>{x.preventDefault(),d(""),p(!0);try{e?await hF(g,n,a):await fF(g,n,a)}catch(S){d(S.message)}finally{p(!1)}};return c.jsx("div",{className:"min-h-screen bg-slate-100 dark:bg-slate-900 flex flex-col justify-center items-center p-4",children:c.jsxs("div",{className:"w-full max-w-md",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx(un,{className:"mx-auto h-12 w-auto text-cyan-500"}),c.jsx("h2",{className:"mt-6 text-3xl font-bold tracking-tight text-slate-900 dark:text-white",children:e?"Sign in to your account":"Create a new account"})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 shadow-xl rounded-2xl p-8",children:[c.jsxs("form",{className:"space-y-6",onSubmit:y,children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Email address"}),c.jsx("div",{className:"mt-1",children:c.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:x=>i(x.target.value),className:"block w-full appearance-none rounded-md border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 px-3 py-2 placeholder-slate-400 dark:placeholder-slate-500 shadow-sm focus:border-cyan-500 focus:outline-none focus:ring-cyan-500 sm:text-sm"})})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Password"}),c.jsx("div",{className:"mt-1",children:c.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:a,onChange:x=>o(x.target.value),className:"block w-full appearance-none rounded-md border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 px-3 py-2 placeholder-slate-400 dark:placeholder-slate-500 shadow-sm focus:border-cyan-500 focus:outline-none focus:ring-cyan-500 sm:text-sm"})})]}),u&&c.jsx("div",{className:"rounded-md bg-red-50 p-4",children:c.jsx("p",{className:"text-sm text-red-700",children:u})}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:f,className:"flex w-full justify-center rounded-md border border-transparent bg-cyan-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-cyan-700 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2 disabled:bg-slate-400",children:f?"Processing...":e?"Sign in":"Create account"})})]}),c.jsx("div",{className:"mt-6",children:c.jsxs("p",{className:"text-center text-sm text-slate-500 dark:text-slate-400",children:[e?"Don't have an account?":"Already have an account?",c.jsx("button",{onClick:()=>r(!e),className:"font-medium text-cyan-600 hover:text-cyan-500 ml-1",children:e?"Sign up":"Sign in"})]})})]})]})})},Oi=({title:t,value:e,icon:r,color:n,subtext:i})=>c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl border border-slate-200 dark:border-slate-700 shadow-lg flex flex-col justify-between",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:t}),c.jsx("div",{className:`text-${n}-500 dark:text-${n}-400`,children:r})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-3xl font-bold text-slate-800 dark:text-white mt-2",children:e}),i&&c.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500 mt-1",children:i})]})]});function iD(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=iD(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Xe(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=iD(t))&&(n&&(n+=" "),n+=e);return n}var c0,XT;function dn(){if(XT)return c0;XT=1;var t=Array.isArray;return c0=t,c0}var d0,QT;function aD(){if(QT)return d0;QT=1;var t=typeof Ah=="object"&&Ah&&Ah.Object===Object&&Ah;return d0=t,d0}var f0,JT;function Ki(){if(JT)return f0;JT=1;var t=aD(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return f0=r,f0}var h0,ZT;function tf(){if(ZT)return h0;ZT=1;var t=Ki(),e=t.Symbol;return h0=e,h0}var p0,ej;function p9(){if(ej)return p0;ej=1;var t=tf(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function a(o){var u=r.call(o,i),d=o[i];try{o[i]=void 0;var f=!0}catch{}var p=n.call(o);return f&&(u?o[i]=d:delete o[i]),p}return p0=a,p0}var m0,tj;function m9(){if(tj)return m0;tj=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return m0=r,m0}var g0,rj;function Pa(){if(rj)return g0;rj=1;var t=tf(),e=p9(),r=m9(),n="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function o(u){return u==null?u===void 0?i:n:a&&a in Object(u)?e(u):r(u)}return g0=o,g0}var v0,nj;function Ia(){if(nj)return v0;nj=1;function t(e){return e!=null&&typeof e=="object"}return v0=t,v0}var y0,ij;function Cu(){if(ij)return y0;ij=1;var t=Pa(),e=Ia(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return y0=n,y0}var x0,aj;function X1(){if(aj)return x0;aj=1;var t=dn(),e=Cu(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){if(t(a))return!1;var u=typeof a;return u=="number"||u=="symbol"||u=="boolean"||a==null||e(a)?!0:n.test(a)||!r.test(a)||o!=null&&a in Object(o)}return x0=i,x0}var b0,sj;function Cs(){if(sj)return b0;sj=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return b0=t,b0}var _0,oj;function Q1(){if(oj)return _0;oj=1;var t=Pa(),e=Cs(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(u){if(!e(u))return!1;var d=t(u);return d==n||d==i||d==r||d==a}return _0=o,_0}var w0,lj;function g9(){if(lj)return w0;lj=1;var t=Ki(),e=t["__core-js_shared__"];return w0=e,w0}var S0,uj;function v9(){if(uj)return S0;uj=1;var t=g9(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!e&&e in n}return S0=r,S0}var k0,cj;function sD(){if(cj)return k0;cj=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return k0=r,k0}var E0,dj;function y9(){if(dj)return E0;dj=1;var t=Q1(),e=v9(),r=Cs(),n=sD(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,u=Object.prototype,d=o.toString,f=u.hasOwnProperty,p=RegExp("^"+d.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function g(y){if(!r(y)||e(y))return!1;var x=t(y)?p:a;return x.test(n(y))}return E0=g,E0}var A0,fj;function x9(){if(fj)return A0;fj=1;function t(e,r){return e?.[r]}return A0=t,A0}var T0,hj;function Uo(){if(hj)return T0;hj=1;var t=y9(),e=x9();function r(n,i){var a=e(n,i);return t(a)?a:void 0}return T0=r,T0}var j0,pj;function Dm(){if(pj)return j0;pj=1;var t=Uo(),e=t(Object,"create");return j0=e,j0}var N0,mj;function b9(){if(mj)return N0;mj=1;var t=Dm();function e(){this.__data__=t?t(null):{},this.size=0}return N0=e,N0}var P0,gj;function _9(){if(gj)return P0;gj=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return P0=t,P0}var I0,vj;function w9(){if(vj)return I0;vj=1;var t=Dm(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(a){var o=this.__data__;if(t){var u=o[a];return u===e?void 0:u}return n.call(o,a)?o[a]:void 0}return I0=i,I0}var O0,yj;function S9(){if(yj)return O0;yj=1;var t=Dm(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var a=this.__data__;return t?a[i]!==void 0:r.call(a,i)}return O0=n,O0}var C0,xj;function k9(){if(xj)return C0;xj=1;var t=Dm(),e="__lodash_hash_undefined__";function r(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=t&&i===void 0?e:i,this}return C0=r,C0}var R0,bj;function E9(){if(bj)return R0;bj=1;var t=b9(),e=_9(),r=w9(),n=S9(),i=k9();function a(o){var u=-1,d=o==null?0:o.length;for(this.clear();++u<d;){var f=o[u];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,R0=a,R0}var M0,_j;function A9(){if(_j)return M0;_j=1;function t(){this.__data__=[],this.size=0}return M0=t,M0}var D0,wj;function J1(){if(wj)return D0;wj=1;function t(e,r){return e===r||e!==e&&r!==r}return D0=t,D0}var L0,Sj;function Lm(){if(Sj)return L0;Sj=1;var t=J1();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return L0=e,L0}var $0,kj;function T9(){if(kj)return $0;kj=1;var t=Lm(),e=Array.prototype,r=e.splice;function n(i){var a=this.__data__,o=t(a,i);if(o<0)return!1;var u=a.length-1;return o==u?a.pop():r.call(a,o,1),--this.size,!0}return $0=n,$0}var F0,Ej;function j9(){if(Ej)return F0;Ej=1;var t=Lm();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return F0=e,F0}var V0,Aj;function N9(){if(Aj)return V0;Aj=1;var t=Lm();function e(r){return t(this.__data__,r)>-1}return V0=e,V0}var U0,Tj;function P9(){if(Tj)return U0;Tj=1;var t=Lm();function e(r,n){var i=this.__data__,a=t(i,r);return a<0?(++this.size,i.push([r,n])):i[a][1]=n,this}return U0=e,U0}var B0,jj;function $m(){if(jj)return B0;jj=1;var t=A9(),e=T9(),r=j9(),n=N9(),i=P9();function a(o){var u=-1,d=o==null?0:o.length;for(this.clear();++u<d;){var f=o[u];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,B0=a,B0}var q0,Nj;function Z1(){if(Nj)return q0;Nj=1;var t=Uo(),e=Ki(),r=t(e,"Map");return q0=r,q0}var z0,Pj;function I9(){if(Pj)return z0;Pj=1;var t=E9(),e=$m(),r=Z1();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return z0=n,z0}var W0,Ij;function O9(){if(Ij)return W0;Ij=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return W0=t,W0}var H0,Oj;function Fm(){if(Oj)return H0;Oj=1;var t=O9();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return H0=e,H0}var G0,Cj;function C9(){if(Cj)return G0;Cj=1;var t=Fm();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return G0=e,G0}var K0,Rj;function R9(){if(Rj)return K0;Rj=1;var t=Fm();function e(r){return t(this,r).get(r)}return K0=e,K0}var Y0,Mj;function M9(){if(Mj)return Y0;Mj=1;var t=Fm();function e(r){return t(this,r).has(r)}return Y0=e,Y0}var X0,Dj;function D9(){if(Dj)return X0;Dj=1;var t=Fm();function e(r,n){var i=t(this,r),a=i.size;return i.set(r,n),this.size+=i.size==a?0:1,this}return X0=e,X0}var Q0,Lj;function eS(){if(Lj)return Q0;Lj=1;var t=I9(),e=C9(),r=R9(),n=M9(),i=D9();function a(o){var u=-1,d=o==null?0:o.length;for(this.clear();++u<d;){var f=o[u];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,Q0=a,Q0}var J0,$j;function oD(){if($j)return J0;$j=1;var t=eS(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var o=arguments,u=i?i.apply(this,o):o[0],d=a.cache;if(d.has(u))return d.get(u);var f=n.apply(this,o);return a.cache=d.set(u,f)||d,f};return a.cache=new(r.Cache||t),a}return r.Cache=t,J0=r,J0}var Z0,Fj;function L9(){if(Fj)return Z0;Fj=1;var t=oD(),e=500;function r(n){var i=t(n,function(o){return a.size===e&&a.clear(),o}),a=i.cache;return i}return Z0=r,Z0}var ey,Vj;function $9(){if(Vj)return ey;Vj=1;var t=L9(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(o,u,d,f){a.push(d?f.replace(r,"$1"):u||o)}),a});return ey=n,ey}var ty,Uj;function tS(){if(Uj)return ty;Uj=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=Array(i);++n<i;)a[n]=r(e[n],n,e);return a}return ty=t,ty}var ry,Bj;function F9(){if(Bj)return ry;Bj=1;var t=tf(),e=tS(),r=dn(),n=Cu(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function o(u){if(typeof u=="string")return u;if(r(u))return e(u,o)+"";if(n(u))return a?a.call(u):"";var d=u+"";return d=="0"&&1/u==-1/0?"-0":d}return ry=o,ry}var ny,qj;function lD(){if(qj)return ny;qj=1;var t=F9();function e(r){return r==null?"":t(r)}return ny=e,ny}var iy,zj;function uD(){if(zj)return iy;zj=1;var t=dn(),e=X1(),r=$9(),n=lD();function i(a,o){return t(a)?a:e(a,o)?[a]:r(n(a))}return iy=i,iy}var ay,Wj;function Vm(){if(Wj)return ay;Wj=1;var t=Cu();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return ay=e,ay}var sy,Hj;function rS(){if(Hj)return sy;Hj=1;var t=uD(),e=Vm();function r(n,i){i=t(i,n);for(var a=0,o=i.length;n!=null&&a<o;)n=n[e(i[a++])];return a&&a==o?n:void 0}return sy=r,sy}var oy,Gj;function cD(){if(Gj)return oy;Gj=1;var t=rS();function e(r,n,i){var a=r==null?void 0:t(r,n);return a===void 0?i:a}return oy=e,oy}var V9=cD();const En=ht(V9);var ly,Kj;function U9(){if(Kj)return ly;Kj=1;function t(e){return e==null}return ly=t,ly}var B9=U9();const Je=ht(B9);var uy,Yj;function q9(){if(Yj)return uy;Yj=1;var t=Pa(),e=dn(),r=Ia(),n="[object String]";function i(a){return typeof a=="string"||!e(a)&&r(a)&&t(a)==n}return uy=i,uy}var z9=q9();const Co=ht(z9);var W9=Q1();const He=ht(W9);var H9=Cs();const Ru=ht(H9);var cy={exports:{}},dt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xj;function G9(){if(Xj)return dt;Xj=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen"),S;S=Symbol.for("react.module.reference");function _(w){if(typeof w=="object"&&w!==null){var R=w.$$typeof;switch(R){case t:switch(w=w.type,w){case r:case i:case n:case f:case p:return w;default:switch(w=w&&w.$$typeof,w){case u:case o:case d:case y:case g:case a:return w;default:return R}}case e:return R}}}return dt.ContextConsumer=o,dt.ContextProvider=a,dt.Element=t,dt.ForwardRef=d,dt.Fragment=r,dt.Lazy=y,dt.Memo=g,dt.Portal=e,dt.Profiler=i,dt.StrictMode=n,dt.Suspense=f,dt.SuspenseList=p,dt.isAsyncMode=function(){return!1},dt.isConcurrentMode=function(){return!1},dt.isContextConsumer=function(w){return _(w)===o},dt.isContextProvider=function(w){return _(w)===a},dt.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===t},dt.isForwardRef=function(w){return _(w)===d},dt.isFragment=function(w){return _(w)===r},dt.isLazy=function(w){return _(w)===y},dt.isMemo=function(w){return _(w)===g},dt.isPortal=function(w){return _(w)===e},dt.isProfiler=function(w){return _(w)===i},dt.isStrictMode=function(w){return _(w)===n},dt.isSuspense=function(w){return _(w)===f},dt.isSuspenseList=function(w){return _(w)===p},dt.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===r||w===i||w===n||w===f||w===p||w===x||typeof w=="object"&&w!==null&&(w.$$typeof===y||w.$$typeof===g||w.$$typeof===a||w.$$typeof===o||w.$$typeof===d||w.$$typeof===S||w.getModuleId!==void 0)},dt.typeOf=_,dt}var Qj;function K9(){return Qj||(Qj=1,cy.exports=G9()),cy.exports}var Y9=K9(),dy,Jj;function dD(){if(Jj)return dy;Jj=1;var t=Pa(),e=Ia(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return dy=n,dy}var fy,Zj;function X9(){if(Zj)return fy;Zj=1;var t=dD();function e(r){return t(r)&&r!=+r}return fy=e,fy}var Q9=X9();const rf=ht(Q9);var J9=dD();const Z9=ht(J9);var Hr=function(e){return e===0?0:e>0?1:-1},xo=function(e){return Co(e)&&e.indexOf("%")===e.length-1},ke=function(e){return Z9(e)&&!rf(e)},ez=function(e){return Je(e)},ir=function(e){return ke(e)||Co(e)},tz=0,nf=function(e){var r=++tz;return"".concat(e||"").concat(r)},Gr=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ke(e)&&!Co(e))return n;var a;if(xo(e)){var o=e.indexOf("%");a=r*parseFloat(e.slice(0,o))/100}else a=+e;return rf(a)&&(a=n),i&&a>r&&(a=r),a},ms=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},rz=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},us=function(e,r){return ke(e)&&ke(r)?function(n){return e+n*(r-e)}:function(){return r}};function V_(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):En(n,e))===r})}var nz=function(e,r){return ke(e)&&ke(r)?e-r:Co(e)&&Co(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Hl(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function U_(t){"@babel/helpers - typeof";return U_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U_(t)}var iz=["viewBox","children"],az=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],eN=["points","pathLength"],hy={svg:iz,polygon:eN,polyline:eN},nS=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Sp=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(z.isValidElement(e)&&(n=e.props),!Ru(n))return null;var i={};return Object.keys(n).forEach(function(a){nS.includes(a)&&(i[a]=r||function(o){return n[a](n,o)})}),i},sz=function(e,r,n){return function(i){return e(r,n,i),null}},Ro=function(e,r,n){if(!Ru(e)||U_(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];nS.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=sz(o,r,n))}),i},oz=["children"],lz=["children"];function tN(t,e){if(t==null)return{};var r=uz(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function uz(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var rN={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ba=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},nN=null,py=null,iS=function t(e){if(e===nN&&Array.isArray(py))return py;var r=[];return z.Children.forEach(e,function(n){Je(n)||(Y9.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),py=r,nN=e,r};function Hn(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return ba(i)}):n=[ba(e)],iS(t).forEach(function(i){var a=En(i,"type.displayName")||En(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function _n(t,e){var r=Hn(t,e);return r&&r[0]}var iN=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!ke(n)||n<=0||!ke(i)||i<=0)},cz=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],dz=function(e){return e&&e.type&&Co(e.type)&&cz.indexOf(e.type)>=0},fz=function(e,r,n,i){var a,o=(a=hy?.[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!He(e)&&(i&&o.includes(r)||az.includes(r))||n&&nS.includes(r)},ze=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(z.isValidElement(e)&&(i=e.props),!Ru(i))return null;var a={};return Object.keys(i).forEach(function(o){var u;fz((u=i)===null||u===void 0?void 0:u[o],o,r,n)&&(a[o]=i[o])}),a},B_=function t(e,r){if(e===r)return!0;var n=z.Children.count(e);if(n!==z.Children.count(r))return!1;if(n===0)return!0;if(n===1)return aN(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],o=r[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!aN(a,o))return!1}return!0},aN=function(e,r){if(Je(e)&&Je(r))return!0;if(!Je(e)&&!Je(r)){var n=e.props||{},i=n.children,a=tN(n,oz),o=r.props||{},u=o.children,d=tN(o,lz);return i&&u?Hl(a,d)&&B_(i,u):!i&&!u?Hl(a,d):!1}return!1},sN=function(e,r){var n=[],i={};return iS(e).forEach(function(a,o){if(dz(a))n.push(a);else if(a){var u=ba(a.type),d=r[u]||{},f=d.handler,p=d.once;if(f&&(!p||!i[u])){var g=f(a,u,o);n.push(g),i[u]=!0}}}),n},hz=function(e){var r=e&&e.type;return r&&rN[r]?rN[r]:null},pz=function(e,r){return iS(r).indexOf(e)},mz=["children","width","height","viewBox","className","style","title","desc"];function q_(){return q_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},q_.apply(this,arguments)}function gz(t,e){if(t==null)return{};var r=vz(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function vz(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function z_(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,o=t.style,u=t.title,d=t.desc,f=gz(t,mz),p=i||{width:r,height:n,x:0,y:0},g=Xe("recharts-surface",a);return G.createElement("svg",q_({},ze(f,!0,"svg"),{className:g,width:r,height:n,style:o,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),G.createElement("title",null,u),G.createElement("desc",null,d),e)}var yz=["children","className"];function W_(){return W_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},W_.apply(this,arguments)}function xz(t,e){if(t==null)return{};var r=bz(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function bz(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var mt=G.forwardRef(function(t,e){var r=t.children,n=t.className,i=xz(t,yz),a=Xe("recharts-layer",n);return G.createElement("g",W_({className:a},ze(i,!0),{ref:e}),r)}),gi=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]},my,oN;function _z(){if(oN)return my;oN=1;function t(e,r,n){var i=-1,a=e.length;r<0&&(r=-r>a?0:a+r),n=n>a?a:n,n<0&&(n+=a),a=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(a);++i<a;)o[i]=e[i+r];return o}return my=t,my}var gy,lN;function wz(){if(lN)return gy;lN=1;var t=_z();function e(r,n,i){var a=r.length;return i=i===void 0?a:i,!n&&i>=a?r:t(r,n,i)}return gy=e,gy}var vy,uN;function fD(){if(uN)return vy;uN=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",o="\\u200d",u=RegExp("["+o+t+i+a+"]");function d(f){return u.test(f)}return vy=d,vy}var yy,cN;function Sz(){if(cN)return yy;cN=1;function t(e){return e.split("")}return yy=t,yy}var xy,dN;function kz(){if(dN)return xy;dN=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",o="["+t+"]",u="["+i+"]",d="\\ud83c[\\udffb-\\udfff]",f="(?:"+u+"|"+d+")",p="[^"+t+"]",g="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",x="\\u200d",S=f+"?",_="["+a+"]?",w="(?:"+x+"(?:"+[p,g,y].join("|")+")"+_+S+")*",R=_+S+w,N="(?:"+[p+u+"?",u,g,y,o].join("|")+")",O=RegExp(d+"(?="+d+")|"+N+R,"g");function M(A){return A.match(O)||[]}return xy=M,xy}var by,fN;function Ez(){if(fN)return by;fN=1;var t=Sz(),e=fD(),r=kz();function n(i){return e(i)?r(i):t(i)}return by=n,by}var _y,hN;function Az(){if(hN)return _y;hN=1;var t=wz(),e=fD(),r=Ez(),n=lD();function i(a){return function(o){o=n(o);var u=e(o)?r(o):void 0,d=u?u[0]:o.charAt(0),f=u?t(u,1).join(""):o.slice(1);return d[a]()+f}}return _y=i,_y}var wy,pN;function Tz(){if(pN)return wy;pN=1;var t=Az(),e=t("toUpperCase");return wy=e,wy}var jz=Tz();const Um=ht(jz);function kt(t){return function(){return t}}const hD=Math.cos,kp=Math.sin,bi=Math.sqrt,Ep=Math.PI,Bm=2*Ep,H_=Math.PI,G_=2*H_,ho=1e-6,Nz=G_-ho;function pD(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function Pz(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return pD;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class Iz{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?pD:Pz(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,u=this._y1,d=n-e,f=i-r,p=o-e,g=u-r,y=p*p+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(y>ho)if(!(Math.abs(g*d-f*p)>ho)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let x=n-o,S=i-u,_=d*d+f*f,w=x*x+S*S,R=Math.sqrt(_),N=Math.sqrt(y),O=a*Math.tan((H_-Math.acos((_+y-w)/(2*R*N)))/2),M=O/N,A=O/R;Math.abs(M-1)>ho&&this._append`L${e+M*p},${r+M*g}`,this._append`A${a},${a},0,0,${+(g*x>p*S)},${this._x1=e+A*d},${this._y1=r+A*f}`}}arc(e,r,n,i,a,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(i),d=n*Math.sin(i),f=e+u,p=r+d,g=1^o,y=o?i-a:a-i;this._x1===null?this._append`M${f},${p}`:(Math.abs(this._x1-f)>ho||Math.abs(this._y1-p)>ho)&&this._append`L${f},${p}`,n&&(y<0&&(y=y%G_+G_),y>Nz?this._append`A${n},${n},0,1,${g},${e-u},${r-d}A${n},${n},0,1,${g},${this._x1=f},${this._y1=p}`:y>ho&&this._append`A${n},${n},0,${+(y>=H_)},${g},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function aS(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new Iz(e)}function sS(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function mD(t){this._context=t}mD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function qm(t){return new mD(t)}function gD(t){return t[0]}function vD(t){return t[1]}function yD(t,e){var r=kt(!0),n=null,i=qm,a=null,o=aS(u);t=typeof t=="function"?t:t===void 0?gD:kt(t),e=typeof e=="function"?e:e===void 0?vD:kt(e);function u(d){var f,p=(d=sS(d)).length,g,y=!1,x;for(n==null&&(a=i(x=o())),f=0;f<=p;++f)!(f<p&&r(g=d[f],f,d))===y&&((y=!y)?a.lineStart():a.lineEnd()),y&&a.point(+t(g,f,d),+e(g,f,d));if(x)return a=null,x+""||null}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:kt(+d),u):t},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:kt(+d),u):e},u.defined=function(d){return arguments.length?(r=typeof d=="function"?d:kt(!!d),u):r},u.curve=function(d){return arguments.length?(i=d,n!=null&&(a=i(n)),u):i},u.context=function(d){return arguments.length?(d==null?n=a=null:a=i(n=d),u):n},u}function Mh(t,e,r){var n=null,i=kt(!0),a=null,o=qm,u=null,d=aS(f);t=typeof t=="function"?t:t===void 0?gD:kt(+t),e=typeof e=="function"?e:kt(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?vD:kt(+r);function f(g){var y,x,S,_=(g=sS(g)).length,w,R=!1,N,O=new Array(_),M=new Array(_);for(a==null&&(u=o(N=d())),y=0;y<=_;++y){if(!(y<_&&i(w=g[y],y,g))===R)if(R=!R)x=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),S=y-1;S>=x;--S)u.point(O[S],M[S]);u.lineEnd(),u.areaEnd()}R&&(O[y]=+t(w,y,g),M[y]=+e(w,y,g),u.point(n?+n(w,y,g):O[y],r?+r(w,y,g):M[y]))}if(N)return u=null,N+""||null}function p(){return yD().defined(i).curve(o).context(a)}return f.x=function(g){return arguments.length?(t=typeof g=="function"?g:kt(+g),n=null,f):t},f.x0=function(g){return arguments.length?(t=typeof g=="function"?g:kt(+g),f):t},f.x1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:kt(+g),f):n},f.y=function(g){return arguments.length?(e=typeof g=="function"?g:kt(+g),r=null,f):e},f.y0=function(g){return arguments.length?(e=typeof g=="function"?g:kt(+g),f):e},f.y1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:kt(+g),f):r},f.lineX0=f.lineY0=function(){return p().x(t).y(e)},f.lineY1=function(){return p().x(t).y(r)},f.lineX1=function(){return p().x(n).y(e)},f.defined=function(g){return arguments.length?(i=typeof g=="function"?g:kt(!!g),f):i},f.curve=function(g){return arguments.length?(o=g,a!=null&&(u=o(a)),f):o},f.context=function(g){return arguments.length?(g==null?a=u=null:u=o(a=g),f):a},f}class xD{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function Oz(t){return new xD(t,!0)}function Cz(t){return new xD(t,!1)}const oS={draw(t,e){const r=bi(e/Ep);t.moveTo(r,0),t.arc(0,0,r,0,Bm)}},Rz={draw(t,e){const r=bi(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},bD=bi(1/3),Mz=bD*2,Dz={draw(t,e){const r=bi(e/Mz),n=r*bD;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},Lz={draw(t,e){const r=bi(e),n=-r/2;t.rect(n,n,r,r)}},$z=.8908130915292852,_D=kp(Ep/10)/kp(7*Ep/10),Fz=kp(Bm/10)*_D,Vz=-hD(Bm/10)*_D,Uz={draw(t,e){const r=bi(e*$z),n=Fz*r,i=Vz*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const o=Bm*a/5,u=hD(o),d=kp(o);t.lineTo(d*r,-u*r),t.lineTo(u*n-d*i,d*n+u*i)}t.closePath()}},Sy=bi(3),Bz={draw(t,e){const r=-bi(e/(Sy*3));t.moveTo(0,r*2),t.lineTo(-Sy*r,-r),t.lineTo(Sy*r,-r),t.closePath()}},Vn=-.5,Un=bi(3)/2,K_=1/bi(12),qz=(K_/2+1)*3,zz={draw(t,e){const r=bi(e/qz),n=r/2,i=r*K_,a=n,o=r*K_+r,u=-a,d=o;t.moveTo(n,i),t.lineTo(a,o),t.lineTo(u,d),t.lineTo(Vn*n-Un*i,Un*n+Vn*i),t.lineTo(Vn*a-Un*o,Un*a+Vn*o),t.lineTo(Vn*u-Un*d,Un*u+Vn*d),t.lineTo(Vn*n+Un*i,Vn*i-Un*n),t.lineTo(Vn*a+Un*o,Vn*o-Un*a),t.lineTo(Vn*u+Un*d,Vn*d-Un*u),t.closePath()}};function Wz(t,e){let r=null,n=aS(i);t=typeof t=="function"?t:kt(t||oS),e=typeof e=="function"?e:kt(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:kt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:kt(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Ap(){}function Tp(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function wD(t){this._context=t}wD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Tp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Tp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Hz(t){return new wD(t)}function SD(t){this._context=t}SD.prototype={areaStart:Ap,areaEnd:Ap,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Tp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Gz(t){return new SD(t)}function kD(t){this._context=t}kD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Tp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Kz(t){return new kD(t)}function ED(t){this._context=t}ED.prototype={areaStart:Ap,areaEnd:Ap,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Yz(t){return new ED(t)}function mN(t){return t<0?-1:1}function gN(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),u=(a*i+o*n)/(n+i);return(mN(a)+mN(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(u))||0}function vN(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function ky(t,e,r){var n=t._x0,i=t._y0,a=t._x1,o=t._y1,u=(a-n)/3;t._context.bezierCurveTo(n+u,i+u*e,a-u,o-u*r,a,o)}function jp(t){this._context=t}jp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ky(this,this._t0,vN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,ky(this,vN(this,r=gN(this,t,e)),r);break;default:ky(this,this._t0,r=gN(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function AD(t){this._context=new TD(t)}(AD.prototype=Object.create(jp.prototype)).point=function(t,e){jp.prototype.point.call(this,e,t)};function TD(t){this._context=t}TD.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function Xz(t){return new jp(t)}function Qz(t){return new AD(t)}function jD(t){this._context=t}jD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=yN(t),i=yN(e),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function yN(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function Jz(t){return new jD(t)}function zm(t,e){this._context=t,this._t=e}zm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function Zz(t){return new zm(t,.5)}function e8(t){return new zm(t,0)}function t8(t){return new zm(t,1)}function nu(t,e){if((o=t.length)>1)for(var r=1,n,i,a=t[e[0]],o,u=a.length;r<o;++r)for(i=a,a=t[e[r]],n=0;n<u;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Y_(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function r8(t,e){return t[e]}function n8(t){const e=[];return e.key=t,e}function i8(){var t=kt([]),e=Y_,r=nu,n=r8;function i(a){var o=Array.from(t.apply(this,arguments),n8),u,d=o.length,f=-1,p;for(const g of a)for(u=0,++f;u<d;++u)(o[u][f]=[0,+n(g,o[u].key,f,a)]).data=g;for(u=0,p=sS(e(o));u<d;++u)o[p[u]].index=u;return r(o,p),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:kt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:kt(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?Y_:typeof a=="function"?a:kt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??nu,i):r},i}function a8(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}nu(t,e)}}function s8(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var o=0,u=0;o<i;++o)u+=t[o][r][1]||0;n[r][1]+=n[r][0]=-u/2}nu(t,e)}}function o8(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var u=0,d=0,f=0;u<o;++u){for(var p=t[e[u]],g=p[n][1]||0,y=p[n-1][1]||0,x=(g-y)/2,S=0;S<u;++S){var _=t[e[S]],w=_[n][1]||0,R=_[n-1][1]||0;x+=w-R}d+=g,f+=x*g}i[n-1][1]+=i[n-1][0]=r,d&&(r-=f/d)}i[n-1][1]+=i[n-1][0]=r,nu(t,e)}}function sd(t){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sd(t)}var l8=["type","size","sizeType"];function X_(){return X_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},X_.apply(this,arguments)}function xN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xN(Object(r),!0).forEach(function(n){u8(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function u8(t,e,r){return e=c8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c8(t){var e=d8(t,"string");return sd(e)=="symbol"?e:e+""}function d8(t,e){if(sd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function f8(t,e){if(t==null)return{};var r=h8(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function h8(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var ND={symbolCircle:oS,symbolCross:Rz,symbolDiamond:Dz,symbolSquare:Lz,symbolStar:Uz,symbolTriangle:Bz,symbolWye:zz},p8=Math.PI/180,m8=function(e){var r="symbol".concat(Um(e));return ND[r]||oS},g8=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*p8;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},v8=function(e,r){ND["symbol".concat(Um(e))]=r},lS=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,o=e.sizeType,u=o===void 0?"area":o,d=f8(e,l8),f=bN(bN({},d),{},{type:n,size:a,sizeType:u}),p=function(){var w=m8(n),R=Wz().type(w).size(g8(a,u,n));return R()},g=f.className,y=f.cx,x=f.cy,S=ze(f,!0);return y===+y&&x===+x&&a===+a?G.createElement("path",X_({},S,{className:Xe("recharts-symbols",g),transform:"translate(".concat(y,", ").concat(x,")"),d:p()})):null};lS.registerSymbol=v8;function iu(t){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iu(t)}function Q_(){return Q_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Q_.apply(this,arguments)}function _N(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function y8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_N(Object(r),!0).forEach(function(n){od(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_N(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function x8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ID(n.key),n)}}function _8(t,e,r){return e&&b8(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function w8(t,e,r){return e=Np(e),S8(t,PD()?Reflect.construct(e,r||[],Np(t).constructor):e.apply(t,r))}function S8(t,e){if(e&&(iu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k8(t)}function k8(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PD=function(){return!!t})()}function Np(t){return Np=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Np(t)}function E8(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J_(t,e)}function J_(t,e){return J_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},J_(t,e)}function od(t,e,r){return e=ID(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ID(t){var e=A8(t,"string");return iu(e)=="symbol"?e:e+""}function A8(t,e){if(iu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(iu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Bn=32,uS=function(t){function e(){return x8(this,e),w8(this,e,arguments)}return E8(e,t),_8(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=Bn/2,o=Bn/6,u=Bn/3,d=n.inactive?i:n.color;if(n.type==="plainline")return G.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:Bn,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return G.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(a,"h").concat(u,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*u,",").concat(a,`
            H`).concat(Bn,"M").concat(2*u,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(u,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return G.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Bn/8,"h").concat(Bn,"v").concat(Bn*3/4,"h").concat(-Bn,"z"),className:"recharts-legend-icon"});if(G.isValidElement(n.legendIcon)){var f=y8({},n);return delete f.legendIcon,G.cloneElement(n.legendIcon,f)}return G.createElement(lS,{fill:d,cx:a,cy:a,size:Bn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,o=i.iconSize,u=i.layout,d=i.formatter,f=i.inactiveColor,p={x:0,y:0,width:Bn,height:Bn},g={display:u==="horizontal"?"inline-block":"block",marginRight:10},y={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(x,S){var _=x.formatter||d,w=Xe(od(od({"recharts-legend-item":!0},"legend-item-".concat(S),!0),"inactive",x.inactive));if(x.type==="none")return null;var R=He(x.value)?null:x.value;gi(!He(x.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var N=x.inactive?f:x.color;return G.createElement("li",Q_({className:w,style:g,key:"legend-item-".concat(S)},Ro(n.props,x,S)),G.createElement(z_,{width:o,height:o,viewBox:p,style:y},n.renderIcon(x)),G.createElement("span",{className:"recharts-legend-item-text",style:{color:N}},_?_(R,x,S):R))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,o=n.align;if(!i||!i.length)return null;var u={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return G.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])}(z.PureComponent);od(uS,"displayName","Legend");od(uS,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Ey,wN;function T8(){if(wN)return Ey;wN=1;var t=$m();function e(){this.__data__=new t,this.size=0}return Ey=e,Ey}var Ay,SN;function j8(){if(SN)return Ay;SN=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return Ay=t,Ay}var Ty,kN;function N8(){if(kN)return Ty;kN=1;function t(e){return this.__data__.get(e)}return Ty=t,Ty}var jy,EN;function P8(){if(EN)return jy;EN=1;function t(e){return this.__data__.has(e)}return jy=t,jy}var Ny,AN;function I8(){if(AN)return Ny;AN=1;var t=$m(),e=Z1(),r=eS(),n=200;function i(a,o){var u=this.__data__;if(u instanceof t){var d=u.__data__;if(!e||d.length<n-1)return d.push([a,o]),this.size=++u.size,this;u=this.__data__=new r(d)}return u.set(a,o),this.size=u.size,this}return Ny=i,Ny}var Py,TN;function OD(){if(TN)return Py;TN=1;var t=$m(),e=T8(),r=j8(),n=N8(),i=P8(),a=I8();function o(u){var d=this.__data__=new t(u);this.size=d.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=i,o.prototype.set=a,Py=o,Py}var Iy,jN;function O8(){if(jN)return Iy;jN=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return Iy=e,Iy}var Oy,NN;function C8(){if(NN)return Oy;NN=1;function t(e){return this.__data__.has(e)}return Oy=t,Oy}var Cy,PN;function CD(){if(PN)return Cy;PN=1;var t=eS(),e=O8(),r=C8();function n(i){var a=-1,o=i==null?0:i.length;for(this.__data__=new t;++a<o;)this.add(i[a])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,Cy=n,Cy}var Ry,IN;function RD(){if(IN)return Ry;IN=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return Ry=t,Ry}var My,ON;function MD(){if(ON)return My;ON=1;function t(e,r){return e.has(r)}return My=t,My}var Dy,CN;function DD(){if(CN)return Dy;CN=1;var t=CD(),e=RD(),r=MD(),n=1,i=2;function a(o,u,d,f,p,g){var y=d&n,x=o.length,S=u.length;if(x!=S&&!(y&&S>x))return!1;var _=g.get(o),w=g.get(u);if(_&&w)return _==u&&w==o;var R=-1,N=!0,O=d&i?new t:void 0;for(g.set(o,u),g.set(u,o);++R<x;){var M=o[R],A=u[R];if(f)var j=y?f(A,M,R,u,o,g):f(M,A,R,o,u,g);if(j!==void 0){if(j)continue;N=!1;break}if(O){if(!e(u,function(T,P){if(!r(O,P)&&(M===T||p(M,T,d,f,g)))return O.push(P)})){N=!1;break}}else if(!(M===A||p(M,A,d,f,g))){N=!1;break}}return g.delete(o),g.delete(u),N}return Dy=a,Dy}var Ly,RN;function R8(){if(RN)return Ly;RN=1;var t=Ki(),e=t.Uint8Array;return Ly=e,Ly}var $y,MN;function M8(){if(MN)return $y;MN=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,a){n[++r]=[a,i]}),n}return $y=t,$y}var Fy,DN;function cS(){if(DN)return Fy;DN=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return Fy=t,Fy}var Vy,LN;function D8(){if(LN)return Vy;LN=1;var t=tf(),e=R8(),r=J1(),n=DD(),i=M8(),a=cS(),o=1,u=2,d="[object Boolean]",f="[object Date]",p="[object Error]",g="[object Map]",y="[object Number]",x="[object RegExp]",S="[object Set]",_="[object String]",w="[object Symbol]",R="[object ArrayBuffer]",N="[object DataView]",O=t?t.prototype:void 0,M=O?O.valueOf:void 0;function A(j,T,P,L,I,D,V){switch(P){case N:if(j.byteLength!=T.byteLength||j.byteOffset!=T.byteOffset)return!1;j=j.buffer,T=T.buffer;case R:return!(j.byteLength!=T.byteLength||!D(new e(j),new e(T)));case d:case f:case y:return r(+j,+T);case p:return j.name==T.name&&j.message==T.message;case x:case _:return j==T+"";case g:var $=i;case S:var ee=L&o;if($||($=a),j.size!=T.size&&!ee)return!1;var ne=V.get(j);if(ne)return ne==T;L|=u,V.set(j,T);var Q=n($(j),$(T),L,I,D,V);return V.delete(j),Q;case w:if(M)return M.call(j)==M.call(T)}return!1}return Vy=A,Vy}var Uy,$N;function LD(){if($N)return Uy;$N=1;function t(e,r){for(var n=-1,i=r.length,a=e.length;++n<i;)e[a+n]=r[n];return e}return Uy=t,Uy}var By,FN;function L8(){if(FN)return By;FN=1;var t=LD(),e=dn();function r(n,i,a){var o=i(n);return e(n)?o:t(o,a(n))}return By=r,By}var qy,VN;function $8(){if(VN)return qy;VN=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=0,o=[];++n<i;){var u=e[n];r(u,n,e)&&(o[a++]=u)}return o}return qy=t,qy}var zy,UN;function F8(){if(UN)return zy;UN=1;function t(){return[]}return zy=t,zy}var Wy,BN;function V8(){if(BN)return Wy;BN=1;var t=$8(),e=F8(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(u){return n.call(o,u)}))}:e;return Wy=a,Wy}var Hy,qN;function U8(){if(qN)return Hy;qN=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return Hy=t,Hy}var Gy,zN;function B8(){if(zN)return Gy;zN=1;var t=Pa(),e=Ia(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return Gy=n,Gy}var Ky,WN;function dS(){if(WN)return Ky;WN=1;var t=B8(),e=Ia(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,a=t(function(){return arguments}())?t:function(o){return e(o)&&n.call(o,"callee")&&!i.call(o,"callee")};return Ky=a,Ky}var $c={exports:{}},Yy,HN;function q8(){if(HN)return Yy;HN=1;function t(){return!1}return Yy=t,Yy}$c.exports;var GN;function $D(){return GN||(GN=1,function(t,e){var r=Ki(),n=q8(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,u=o?r.Buffer:void 0,d=u?u.isBuffer:void 0,f=d||n;t.exports=f}($c,$c.exports)),$c.exports}var Xy,KN;function fS(){if(KN)return Xy;KN=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var a=typeof n;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return Xy=r,Xy}var Qy,YN;function hS(){if(YN)return Qy;YN=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return Qy=e,Qy}var Jy,XN;function z8(){if(XN)return Jy;XN=1;var t=Pa(),e=hS(),r=Ia(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",o="[object Date]",u="[object Error]",d="[object Function]",f="[object Map]",p="[object Number]",g="[object Object]",y="[object RegExp]",x="[object Set]",S="[object String]",_="[object WeakMap]",w="[object ArrayBuffer]",R="[object DataView]",N="[object Float32Array]",O="[object Float64Array]",M="[object Int8Array]",A="[object Int16Array]",j="[object Int32Array]",T="[object Uint8Array]",P="[object Uint8ClampedArray]",L="[object Uint16Array]",I="[object Uint32Array]",D={};D[N]=D[O]=D[M]=D[A]=D[j]=D[T]=D[P]=D[L]=D[I]=!0,D[n]=D[i]=D[w]=D[a]=D[R]=D[o]=D[u]=D[d]=D[f]=D[p]=D[g]=D[y]=D[x]=D[S]=D[_]=!1;function V($){return r($)&&e($.length)&&!!D[t($)]}return Jy=V,Jy}var Zy,QN;function FD(){if(QN)return Zy;QN=1;function t(e){return function(r){return e(r)}}return Zy=t,Zy}var Fc={exports:{}};Fc.exports;var JN;function W8(){return JN||(JN=1,function(t,e){var r=aD(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,u=function(){try{var d=i&&i.require&&i.require("util").types;return d||o&&o.binding&&o.binding("util")}catch{}}();t.exports=u}(Fc,Fc.exports)),Fc.exports}var ex,ZN;function VD(){if(ZN)return ex;ZN=1;var t=z8(),e=FD(),r=W8(),n=r&&r.isTypedArray,i=n?e(n):t;return ex=i,ex}var tx,eP;function H8(){if(eP)return tx;eP=1;var t=U8(),e=dS(),r=dn(),n=$D(),i=fS(),a=VD(),o=Object.prototype,u=o.hasOwnProperty;function d(f,p){var g=r(f),y=!g&&e(f),x=!g&&!y&&n(f),S=!g&&!y&&!x&&a(f),_=g||y||x||S,w=_?t(f.length,String):[],R=w.length;for(var N in f)(p||u.call(f,N))&&!(_&&(N=="length"||x&&(N=="offset"||N=="parent")||S&&(N=="buffer"||N=="byteLength"||N=="byteOffset")||i(N,R)))&&w.push(N);return w}return tx=d,tx}var rx,tP;function G8(){if(tP)return rx;tP=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return rx=e,rx}var nx,rP;function UD(){if(rP)return nx;rP=1;function t(e,r){return function(n){return e(r(n))}}return nx=t,nx}var ix,nP;function K8(){if(nP)return ix;nP=1;var t=UD(),e=t(Object.keys,Object);return ix=e,ix}var ax,iP;function Y8(){if(iP)return ax;iP=1;var t=G8(),e=K8(),r=Object.prototype,n=r.hasOwnProperty;function i(a){if(!t(a))return e(a);var o=[];for(var u in Object(a))n.call(a,u)&&u!="constructor"&&o.push(u);return o}return ax=i,ax}var sx,aP;function af(){if(aP)return sx;aP=1;var t=Q1(),e=hS();function r(n){return n!=null&&e(n.length)&&!t(n)}return sx=r,sx}var ox,sP;function Wm(){if(sP)return ox;sP=1;var t=H8(),e=Y8(),r=af();function n(i){return r(i)?t(i):e(i)}return ox=n,ox}var lx,oP;function X8(){if(oP)return lx;oP=1;var t=L8(),e=V8(),r=Wm();function n(i){return t(i,r,e)}return lx=n,lx}var ux,lP;function Q8(){if(lP)return ux;lP=1;var t=X8(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(a,o,u,d,f,p){var g=u&e,y=t(a),x=y.length,S=t(o),_=S.length;if(x!=_&&!g)return!1;for(var w=x;w--;){var R=y[w];if(!(g?R in o:n.call(o,R)))return!1}var N=p.get(a),O=p.get(o);if(N&&O)return N==o&&O==a;var M=!0;p.set(a,o),p.set(o,a);for(var A=g;++w<x;){R=y[w];var j=a[R],T=o[R];if(d)var P=g?d(T,j,R,o,a,p):d(j,T,R,a,o,p);if(!(P===void 0?j===T||f(j,T,u,d,p):P)){M=!1;break}A||(A=R=="constructor")}if(M&&!A){var L=a.constructor,I=o.constructor;L!=I&&"constructor"in a&&"constructor"in o&&!(typeof L=="function"&&L instanceof L&&typeof I=="function"&&I instanceof I)&&(M=!1)}return p.delete(a),p.delete(o),M}return ux=i,ux}var cx,uP;function J8(){if(uP)return cx;uP=1;var t=Uo(),e=Ki(),r=t(e,"DataView");return cx=r,cx}var dx,cP;function Z8(){if(cP)return dx;cP=1;var t=Uo(),e=Ki(),r=t(e,"Promise");return dx=r,dx}var fx,dP;function BD(){if(dP)return fx;dP=1;var t=Uo(),e=Ki(),r=t(e,"Set");return fx=r,fx}var hx,fP;function e7(){if(fP)return hx;fP=1;var t=Uo(),e=Ki(),r=t(e,"WeakMap");return hx=r,hx}var px,hP;function t7(){if(hP)return px;hP=1;var t=J8(),e=Z1(),r=Z8(),n=BD(),i=e7(),a=Pa(),o=sD(),u="[object Map]",d="[object Object]",f="[object Promise]",p="[object Set]",g="[object WeakMap]",y="[object DataView]",x=o(t),S=o(e),_=o(r),w=o(n),R=o(i),N=a;return(t&&N(new t(new ArrayBuffer(1)))!=y||e&&N(new e)!=u||r&&N(r.resolve())!=f||n&&N(new n)!=p||i&&N(new i)!=g)&&(N=function(O){var M=a(O),A=M==d?O.constructor:void 0,j=A?o(A):"";if(j)switch(j){case x:return y;case S:return u;case _:return f;case w:return p;case R:return g}return M}),px=N,px}var mx,pP;function r7(){if(pP)return mx;pP=1;var t=OD(),e=DD(),r=D8(),n=Q8(),i=t7(),a=dn(),o=$D(),u=VD(),d=1,f="[object Arguments]",p="[object Array]",g="[object Object]",y=Object.prototype,x=y.hasOwnProperty;function S(_,w,R,N,O,M){var A=a(_),j=a(w),T=A?p:i(_),P=j?p:i(w);T=T==f?g:T,P=P==f?g:P;var L=T==g,I=P==g,D=T==P;if(D&&o(_)){if(!o(w))return!1;A=!0,L=!1}if(D&&!L)return M||(M=new t),A||u(_)?e(_,w,R,N,O,M):r(_,w,T,R,N,O,M);if(!(R&d)){var V=L&&x.call(_,"__wrapped__"),$=I&&x.call(w,"__wrapped__");if(V||$){var ee=V?_.value():_,ne=$?w.value():w;return M||(M=new t),O(ee,ne,R,N,M)}}return D?(M||(M=new t),n(_,w,R,N,O,M)):!1}return mx=S,mx}var gx,mP;function pS(){if(mP)return gx;mP=1;var t=r7(),e=Ia();function r(n,i,a,o,u){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,a,o,r,u)}return gx=r,gx}var vx,gP;function n7(){if(gP)return vx;gP=1;var t=OD(),e=pS(),r=1,n=2;function i(a,o,u,d){var f=u.length,p=f,g=!d;if(a==null)return!p;for(a=Object(a);f--;){var y=u[f];if(g&&y[2]?y[1]!==a[y[0]]:!(y[0]in a))return!1}for(;++f<p;){y=u[f];var x=y[0],S=a[x],_=y[1];if(g&&y[2]){if(S===void 0&&!(x in a))return!1}else{var w=new t;if(d)var R=d(S,_,x,a,o,w);if(!(R===void 0?e(_,S,r|n,d,w):R))return!1}}return!0}return vx=i,vx}var yx,vP;function qD(){if(vP)return yx;vP=1;var t=Cs();function e(r){return r===r&&!t(r)}return yx=e,yx}var xx,yP;function i7(){if(yP)return xx;yP=1;var t=qD(),e=Wm();function r(n){for(var i=e(n),a=i.length;a--;){var o=i[a],u=n[o];i[a]=[o,u,t(u)]}return i}return xx=r,xx}var bx,xP;function zD(){if(xP)return bx;xP=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return bx=t,bx}var _x,bP;function a7(){if(bP)return _x;bP=1;var t=n7(),e=i7(),r=zD();function n(i){var a=e(i);return a.length==1&&a[0][2]?r(a[0][0],a[0][1]):function(o){return o===i||t(o,i,a)}}return _x=n,_x}var wx,_P;function s7(){if(_P)return wx;_P=1;function t(e,r){return e!=null&&r in Object(e)}return wx=t,wx}var Sx,wP;function o7(){if(wP)return Sx;wP=1;var t=uD(),e=dS(),r=dn(),n=fS(),i=hS(),a=Vm();function o(u,d,f){d=t(d,u);for(var p=-1,g=d.length,y=!1;++p<g;){var x=a(d[p]);if(!(y=u!=null&&f(u,x)))break;u=u[x]}return y||++p!=g?y:(g=u==null?0:u.length,!!g&&i(g)&&n(x,g)&&(r(u)||e(u)))}return Sx=o,Sx}var kx,SP;function l7(){if(SP)return kx;SP=1;var t=s7(),e=o7();function r(n,i){return n!=null&&e(n,i,t)}return kx=r,kx}var Ex,kP;function u7(){if(kP)return Ex;kP=1;var t=pS(),e=cD(),r=l7(),n=X1(),i=qD(),a=zD(),o=Vm(),u=1,d=2;function f(p,g){return n(p)&&i(g)?a(o(p),g):function(y){var x=e(y,p);return x===void 0&&x===g?r(y,p):t(g,x,u|d)}}return Ex=f,Ex}var Ax,EP;function Mu(){if(EP)return Ax;EP=1;function t(e){return e}return Ax=t,Ax}var Tx,AP;function c7(){if(AP)return Tx;AP=1;function t(e){return function(r){return r?.[e]}}return Tx=t,Tx}var jx,TP;function d7(){if(TP)return jx;TP=1;var t=rS();function e(r){return function(n){return t(n,r)}}return jx=e,jx}var Nx,jP;function f7(){if(jP)return Nx;jP=1;var t=c7(),e=d7(),r=X1(),n=Vm();function i(a){return r(a)?t(n(a)):e(a)}return Nx=i,Nx}var Px,NP;function Yi(){if(NP)return Px;NP=1;var t=a7(),e=u7(),r=Mu(),n=dn(),i=f7();function a(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?e(o[0],o[1]):t(o):i(o)}return Px=a,Px}var Ix,PP;function WD(){if(PP)return Ix;PP=1;function t(e,r,n,i){for(var a=e.length,o=n+(i?1:-1);i?o--:++o<a;)if(r(e[o],o,e))return o;return-1}return Ix=t,Ix}var Ox,IP;function h7(){if(IP)return Ox;IP=1;function t(e){return e!==e}return Ox=t,Ox}var Cx,OP;function p7(){if(OP)return Cx;OP=1;function t(e,r,n){for(var i=n-1,a=e.length;++i<a;)if(e[i]===r)return i;return-1}return Cx=t,Cx}var Rx,CP;function m7(){if(CP)return Rx;CP=1;var t=WD(),e=h7(),r=p7();function n(i,a,o){return a===a?r(i,a,o):t(i,e,o)}return Rx=n,Rx}var Mx,RP;function g7(){if(RP)return Mx;RP=1;var t=m7();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return Mx=e,Mx}var Dx,MP;function v7(){if(MP)return Dx;MP=1;function t(e,r,n){for(var i=-1,a=e==null?0:e.length;++i<a;)if(n(r,e[i]))return!0;return!1}return Dx=t,Dx}var Lx,DP;function y7(){if(DP)return Lx;DP=1;function t(){}return Lx=t,Lx}var $x,LP;function x7(){if(LP)return $x;LP=1;var t=BD(),e=y7(),r=cS(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(a){return new t(a)}:e;return $x=i,$x}var Fx,$P;function b7(){if($P)return Fx;$P=1;var t=CD(),e=g7(),r=v7(),n=MD(),i=x7(),a=cS(),o=200;function u(d,f,p){var g=-1,y=e,x=d.length,S=!0,_=[],w=_;if(p)S=!1,y=r;else if(x>=o){var R=f?null:i(d);if(R)return a(R);S=!1,y=n,w=new t}else w=f?[]:_;e:for(;++g<x;){var N=d[g],O=f?f(N):N;if(N=p||N!==0?N:0,S&&O===O){for(var M=w.length;M--;)if(w[M]===O)continue e;f&&w.push(O),_.push(N)}else y(w,O,p)||(w!==_&&w.push(O),_.push(N))}return _}return Fx=u,Fx}var Vx,FP;function _7(){if(FP)return Vx;FP=1;var t=Yi(),e=b7();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return Vx=r,Vx}var w7=_7();const VP=ht(w7);function HD(t,e,r){return e===!0?VP(t,r):He(e)?VP(t,e):t}function au(t){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(t)}var S7=["ref"];function UP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ca(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UP(Object(r),!0).forEach(function(n){Hm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function k7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BP(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KD(n.key),n)}}function E7(t,e,r){return e&&BP(t.prototype,e),r&&BP(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function A7(t,e,r){return e=Pp(e),T7(t,GD()?Reflect.construct(e,r||[],Pp(t).constructor):e.apply(t,r))}function T7(t,e){if(e&&(au(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j7(t)}function j7(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GD=function(){return!!t})()}function Pp(t){return Pp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pp(t)}function N7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z_(t,e)}function Z_(t,e){return Z_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Z_(t,e)}function Hm(t,e,r){return e=KD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KD(t){var e=P7(t,"string");return au(e)=="symbol"?e:e+""}function P7(t,e){if(au(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(au(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function I7(t,e){if(t==null)return{};var r=O7(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function O7(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function C7(t){return t.value}function R7(t,e){if(G.isValidElement(t))return G.cloneElement(t,e);if(typeof t=="function")return G.createElement(t,e);e.ref;var r=I7(e,S7);return G.createElement(uS,r)}var qP=1,ws=function(t){function e(){var r;k7(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=A7(this,e,[].concat(i)),Hm(r,"lastBoundingBox",{width:-1,height:-1}),r}return N7(e,t),E7(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>qP||Math.abs(i.height-this.lastBoundingBox.height)>qP)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ca({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,o=i.align,u=i.verticalAlign,d=i.margin,f=i.chartWidth,p=i.chartHeight,g,y;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var x=this.getBBoxSnapshot();g={left:((f||0)-x.width)/2}}else g=o==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(u==="middle"){var S=this.getBBoxSnapshot();y={top:((p||0)-S.height)/2}}else y=u==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return ca(ca({},g),y)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,o=i.width,u=i.height,d=i.wrapperStyle,f=i.payloadUniqBy,p=i.payload,g=ca(ca({position:"absolute",width:o||"auto",height:u||"auto"},this.getDefaultPosition(d)),d);return G.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:function(x){n.wrapperNode=x}},R7(a,ca(ca({},this.props),{},{payload:HD(p,f,C7)})))}}],[{key:"getWithHeight",value:function(n,i){var a=ca(ca({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&ke(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])}(z.PureComponent);Hm(ws,"displayName","Legend");Hm(ws,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Ux,zP;function M7(){if(zP)return Ux;zP=1;var t=tf(),e=dS(),r=dn(),n=t?t.isConcatSpreadable:void 0;function i(a){return r(a)||e(a)||!!(n&&a&&a[n])}return Ux=i,Ux}var Bx,WP;function YD(){if(WP)return Bx;WP=1;var t=LD(),e=M7();function r(n,i,a,o,u){var d=-1,f=n.length;for(a||(a=e),u||(u=[]);++d<f;){var p=n[d];i>0&&a(p)?i>1?r(p,i-1,a,o,u):t(u,p):o||(u[u.length]=p)}return u}return Bx=r,Bx}var qx,HP;function D7(){if(HP)return qx;HP=1;function t(e){return function(r,n,i){for(var a=-1,o=Object(r),u=i(r),d=u.length;d--;){var f=u[e?d:++a];if(n(o[f],f,o)===!1)break}return r}}return qx=t,qx}var zx,GP;function L7(){if(GP)return zx;GP=1;var t=D7(),e=t();return zx=e,zx}var Wx,KP;function XD(){if(KP)return Wx;KP=1;var t=L7(),e=Wm();function r(n,i){return n&&t(n,i,e)}return Wx=r,Wx}var Hx,YP;function $7(){if(YP)return Hx;YP=1;var t=af();function e(r,n){return function(i,a){if(i==null)return i;if(!t(i))return r(i,a);for(var o=i.length,u=n?o:-1,d=Object(i);(n?u--:++u<o)&&a(d[u],u,d)!==!1;);return i}}return Hx=e,Hx}var Gx,XP;function mS(){if(XP)return Gx;XP=1;var t=XD(),e=$7(),r=e(t);return Gx=r,Gx}var Kx,QP;function QD(){if(QP)return Kx;QP=1;var t=mS(),e=af();function r(n,i){var a=-1,o=e(n)?Array(n.length):[];return t(n,function(u,d,f){o[++a]=i(u,d,f)}),o}return Kx=r,Kx}var Yx,JP;function F7(){if(JP)return Yx;JP=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return Yx=t,Yx}var Xx,ZP;function V7(){if(ZP)return Xx;ZP=1;var t=Cu();function e(r,n){if(r!==n){var i=r!==void 0,a=r===null,o=r===r,u=t(r),d=n!==void 0,f=n===null,p=n===n,g=t(n);if(!f&&!g&&!u&&r>n||u&&d&&p&&!f&&!g||a&&d&&p||!i&&p||!o)return 1;if(!a&&!u&&!g&&r<n||g&&i&&o&&!a&&!u||f&&i&&o||!d&&o||!p)return-1}return 0}return Xx=e,Xx}var Qx,eI;function U7(){if(eI)return Qx;eI=1;var t=V7();function e(r,n,i){for(var a=-1,o=r.criteria,u=n.criteria,d=o.length,f=i.length;++a<d;){var p=t(o[a],u[a]);if(p){if(a>=f)return p;var g=i[a];return p*(g=="desc"?-1:1)}}return r.index-n.index}return Qx=e,Qx}var Jx,tI;function B7(){if(tI)return Jx;tI=1;var t=tS(),e=rS(),r=Yi(),n=QD(),i=F7(),a=FD(),o=U7(),u=Mu(),d=dn();function f(p,g,y){g.length?g=t(g,function(_){return d(_)?function(w){return e(w,_.length===1?_[0]:_)}:_}):g=[u];var x=-1;g=t(g,a(r));var S=n(p,function(_,w,R){var N=t(g,function(O){return O(_)});return{criteria:N,index:++x,value:_}});return i(S,function(_,w){return o(_,w,y)})}return Jx=f,Jx}var Zx,rI;function q7(){if(rI)return Zx;rI=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return Zx=t,Zx}var eb,nI;function z7(){if(nI)return eb;nI=1;var t=q7(),e=Math.max;function r(n,i,a){return i=e(i===void 0?n.length-1:i,0),function(){for(var o=arguments,u=-1,d=e(o.length-i,0),f=Array(d);++u<d;)f[u]=o[i+u];u=-1;for(var p=Array(i+1);++u<i;)p[u]=o[u];return p[i]=a(f),t(n,this,p)}}return eb=r,eb}var tb,iI;function W7(){if(iI)return tb;iI=1;function t(e){return function(){return e}}return tb=t,tb}var rb,aI;function JD(){if(aI)return rb;aI=1;var t=Uo(),e=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return rb=e,rb}var nb,sI;function H7(){if(sI)return nb;sI=1;var t=W7(),e=JD(),r=Mu(),n=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:r;return nb=n,nb}var ib,oI;function G7(){if(oI)return ib;oI=1;var t=800,e=16,r=Date.now;function n(i){var a=0,o=0;return function(){var u=r(),d=e-(u-o);if(o=u,d>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return ib=n,ib}var ab,lI;function K7(){if(lI)return ab;lI=1;var t=H7(),e=G7(),r=e(t);return ab=r,ab}var sb,uI;function Y7(){if(uI)return sb;uI=1;var t=Mu(),e=z7(),r=K7();function n(i,a){return r(e(i,a,t),i+"")}return sb=n,sb}var ob,cI;function Gm(){if(cI)return ob;cI=1;var t=J1(),e=af(),r=fS(),n=Cs();function i(a,o,u){if(!n(u))return!1;var d=typeof o;return(d=="number"?e(u)&&r(o,u.length):d=="string"&&o in u)?t(u[o],a):!1}return ob=i,ob}var lb,dI;function X7(){if(dI)return lb;dI=1;var t=YD(),e=B7(),r=Y7(),n=Gm(),i=r(function(a,o){if(a==null)return[];var u=o.length;return u>1&&n(a,o[0],o[1])?o=[]:u>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),e(a,t(o,1),[])});return lb=i,lb}var Q7=X7();const gS=ht(Q7);function ld(t){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ld(t)}function ew(){return ew=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ew.apply(this,arguments)}function J7(t,e){return rW(t)||tW(t,e)||eW(t,e)||Z7()}function Z7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eW(t,e){if(t){if(typeof t=="string")return fI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fI(t,e)}}function fI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tW(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function rW(t){if(Array.isArray(t))return t}function hI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ub(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hI(Object(r),!0).forEach(function(n){nW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nW(t,e,r){return e=iW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iW(t){var e=aW(t,"string");return ld(e)=="symbol"?e:e+""}function aW(t,e){if(ld(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sW(t){return Array.isArray(t)&&ir(t[0])&&ir(t[1])?t.join(" ~ "):t}var oW=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,u=o===void 0?{}:o,d=e.labelStyle,f=d===void 0?{}:d,p=e.payload,g=e.formatter,y=e.itemSorter,x=e.wrapperClassName,S=e.labelClassName,_=e.label,w=e.labelFormatter,R=e.accessibilityLayer,N=R===void 0?!1:R,O=function(){if(p&&p.length){var V={padding:0,margin:0},$=(y?gS(p,y):p).map(function(ee,ne){if(ee.type==="none")return null;var Q=ub({display:"block",paddingTop:4,paddingBottom:4,color:ee.color||"#000"},u),ie=ee.formatter||g||sW,Z=ee.value,J=ee.name,se=Z,q=J;if(ie&&se!=null&&q!=null){var Y=ie(Z,J,ee,ne,p);if(Array.isArray(Y)){var K=J7(Y,2);se=K[0],q=K[1]}else se=Y}return G.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(ne),style:Q},ir(q)?G.createElement("span",{className:"recharts-tooltip-item-name"},q):null,ir(q)?G.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,G.createElement("span",{className:"recharts-tooltip-item-value"},se),G.createElement("span",{className:"recharts-tooltip-item-unit"},ee.unit||""))});return G.createElement("ul",{className:"recharts-tooltip-item-list",style:V},$)}return null},M=ub({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),A=ub({margin:0},f),j=!Je(_),T=j?_:"",P=Xe("recharts-default-tooltip",x),L=Xe("recharts-tooltip-label",S);j&&w&&p!==void 0&&p!==null&&(T=w(_,p));var I=N?{role:"status","aria-live":"assertive"}:{};return G.createElement("div",ew({className:P,style:M},I),G.createElement("p",{className:L,style:A},G.isValidElement(T)?T:"".concat(T)),O())};function ud(t){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ud(t)}function Dh(t,e,r){return e=lW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lW(t){var e=uW(t,"string");return ud(e)=="symbol"?e:e+""}function uW(t,e){if(ud(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sc="recharts-tooltip-wrapper",cW={visibility:"hidden"};function dW(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Xe(Sc,Dh(Dh(Dh(Dh({},"".concat(Sc,"-right"),ke(r)&&e&&ke(e.x)&&r>=e.x),"".concat(Sc,"-left"),ke(r)&&e&&ke(e.x)&&r<e.x),"".concat(Sc,"-bottom"),ke(n)&&e&&ke(e.y)&&n>=e.y),"".concat(Sc,"-top"),ke(n)&&e&&ke(e.y)&&n<e.y))}function pI(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,u=t.tooltipDimension,d=t.viewBox,f=t.viewBoxDimension;if(a&&ke(a[n]))return a[n];var p=r[n]-u-i,g=r[n]+i;if(e[n])return o[n]?p:g;if(o[n]){var y=p,x=d[n];return y<x?Math.max(g,d[n]):Math.max(p,d[n])}var S=g+u,_=d[n]+f;return S>_?Math.max(p,d[n]):Math.max(g,d[n])}function fW(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function hW(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,u=t.useTranslate3d,d=t.viewBox,f,p,g;return o.height>0&&o.width>0&&r?(p=pI({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:d,viewBoxDimension:d.width}),g=pI({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:d,viewBoxDimension:d.height}),f=fW({translateX:p,translateY:g,useTranslate3d:u})):f=cW,{cssProperties:f,cssClasses:dW({translateX:p,translateY:g,coordinate:r})}}function su(t){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},su(t)}function mI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mI(Object(r),!0).forEach(function(n){rw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,e4(n.key),n)}}function gW(t,e,r){return e&&mW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vW(t,e,r){return e=Ip(e),yW(t,ZD()?Reflect.construct(e,r||[],Ip(t).constructor):e.apply(t,r))}function yW(t,e){if(e&&(su(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xW(t)}function xW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZD=function(){return!!t})()}function Ip(t){return Ip=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ip(t)}function bW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tw(t,e)}function tw(t,e){return tw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},tw(t,e)}function rw(t,e,r){return e=e4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function e4(t){var e=_W(t,"string");return su(e)=="symbol"?e:e+""}function _W(t,e){if(su(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vI=1,wW=function(t){function e(){var r;pW(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=vW(this,e,[].concat(i)),rw(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),rw(r,"handleKeyDown",function(o){if(o.key==="Escape"){var u,d,f,p;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&u!==void 0?u:0,y:(f=(p=r.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&f!==void 0?f:0}})}}),r}return bW(e,t),gW(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>vI||Math.abs(n.height-this.state.lastBoundingBox.height)>vI)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,u=i.animationDuration,d=i.animationEasing,f=i.children,p=i.coordinate,g=i.hasPayload,y=i.isAnimationActive,x=i.offset,S=i.position,_=i.reverseDirection,w=i.useTranslate3d,R=i.viewBox,N=i.wrapperStyle,O=hW({allowEscapeViewBox:o,coordinate:p,offsetTopLeft:x,position:S,reverseDirection:_,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:R}),M=O.cssClasses,A=O.cssProperties,j=gI(gI({transition:y&&a?"transform ".concat(u,"ms ").concat(d):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&g?"visible":"hidden",position:"absolute",top:0,left:0},N);return G.createElement("div",{tabIndex:-1,className:M,style:j,ref:function(P){n.wrapperNode=P}},f)}}])}(z.PureComponent),SW=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Du={isSsr:SW()};function ou(t){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ou(t)}function yI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yI(Object(r),!0).forEach(function(n){vS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,r4(n.key),n)}}function AW(t,e,r){return e&&EW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function TW(t,e,r){return e=Op(e),jW(t,t4()?Reflect.construct(e,r||[],Op(t).constructor):e.apply(t,r))}function jW(t,e){if(e&&(ou(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NW(t)}function NW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t4=function(){return!!t})()}function Op(t){return Op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Op(t)}function PW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nw(t,e)}function nw(t,e){return nw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},nw(t,e)}function vS(t,e,r){return e=r4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function r4(t){var e=IW(t,"string");return ou(e)=="symbol"?e:e+""}function IW(t,e){if(ou(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ou(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function OW(t){return t.dataKey}function CW(t,e){return G.isValidElement(t)?G.cloneElement(t,e):typeof t=="function"?G.createElement(t,e):G.createElement(oW,e)}var qn=function(t){function e(){return kW(this,e),TW(this,e,arguments)}return PW(e,t),AW(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,u=i.animationDuration,d=i.animationEasing,f=i.content,p=i.coordinate,g=i.filterNull,y=i.isAnimationActive,x=i.offset,S=i.payload,_=i.payloadUniqBy,w=i.position,R=i.reverseDirection,N=i.useTranslate3d,O=i.viewBox,M=i.wrapperStyle,A=S??[];g&&A.length&&(A=HD(S.filter(function(T){return T.value!=null&&(T.hide!==!0||n.props.includeHidden)}),_,OW));var j=A.length>0;return G.createElement(wW,{allowEscapeViewBox:o,animationDuration:u,animationEasing:d,isAnimationActive:y,active:a,coordinate:p,hasPayload:j,offset:x,position:w,reverseDirection:R,useTranslate3d:N,viewBox:O,wrapperStyle:M},CW(f,xI(xI({},this.props),{},{payload:A})))}}])}(z.PureComponent);vS(qn,"displayName","Tooltip");vS(qn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Du.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var cb,bI;function RW(){if(bI)return cb;bI=1;var t=Ki(),e=function(){return t.Date.now()};return cb=e,cb}var db,_I;function MW(){if(_I)return db;_I=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return db=e,db}var fb,wI;function DW(){if(wI)return fb;wI=1;var t=MW(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return fb=r,fb}var hb,SI;function n4(){if(SI)return hb;SI=1;var t=DW(),e=Cs(),r=Cu(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,u=parseInt;function d(f){if(typeof f=="number")return f;if(r(f))return n;if(e(f)){var p=typeof f.valueOf=="function"?f.valueOf():f;f=e(p)?p+"":p}if(typeof f!="string")return f===0?f:+f;f=t(f);var g=a.test(f);return g||o.test(f)?u(f.slice(2),g?2:8):i.test(f)?n:+f}return hb=d,hb}var pb,kI;function LW(){if(kI)return pb;kI=1;var t=Cs(),e=RW(),r=n4(),n="Expected a function",i=Math.max,a=Math.min;function o(u,d,f){var p,g,y,x,S,_,w=0,R=!1,N=!1,O=!0;if(typeof u!="function")throw new TypeError(n);d=r(d)||0,t(f)&&(R=!!f.leading,N="maxWait"in f,y=N?i(r(f.maxWait)||0,d):y,O="trailing"in f?!!f.trailing:O);function M($){var ee=p,ne=g;return p=g=void 0,w=$,x=u.apply(ne,ee),x}function A($){return w=$,S=setTimeout(P,d),R?M($):x}function j($){var ee=$-_,ne=$-w,Q=d-ee;return N?a(Q,y-ne):Q}function T($){var ee=$-_,ne=$-w;return _===void 0||ee>=d||ee<0||N&&ne>=y}function P(){var $=e();if(T($))return L($);S=setTimeout(P,j($))}function L($){return S=void 0,O&&p?M($):(p=g=void 0,x)}function I(){S!==void 0&&clearTimeout(S),w=0,p=_=g=S=void 0}function D(){return S===void 0?x:L(e())}function V(){var $=e(),ee=T($);if(p=arguments,g=this,_=$,ee){if(S===void 0)return A(_);if(N)return clearTimeout(S),S=setTimeout(P,d),M(_)}return S===void 0&&(S=setTimeout(P,d)),x}return V.cancel=I,V.flush=D,V}return pb=o,pb}var mb,EI;function $W(){if(EI)return mb;EI=1;var t=LW(),e=Cs(),r="Expected a function";function n(i,a,o){var u=!0,d=!0;if(typeof i!="function")throw new TypeError(r);return e(o)&&(u="leading"in o?!!o.leading:u,d="trailing"in o?!!o.trailing:d),t(i,a,{leading:u,maxWait:a,trailing:d})}return mb=n,mb}var FW=$W();const i4=ht(FW);function cd(t){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cd(t)}function AI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Lh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AI(Object(r),!0).forEach(function(n){VW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function VW(t,e,r){return e=UW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UW(t){var e=BW(t,"string");return cd(e)=="symbol"?e:e+""}function BW(t,e){if(cd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qW(t,e){return GW(t)||HW(t,e)||WW(t,e)||zW()}function zW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WW(t,e){if(t){if(typeof t=="string")return TI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TI(t,e)}}function TI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function HW(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function GW(t){if(Array.isArray(t))return t}var yS=z.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,o=a===void 0?"100%":a,u=t.height,d=u===void 0?"100%":u,f=t.minWidth,p=f===void 0?0:f,g=t.minHeight,y=t.maxHeight,x=t.children,S=t.debounce,_=S===void 0?0:S,w=t.id,R=t.className,N=t.onResize,O=t.style,M=O===void 0?{}:O,A=z.useRef(null),j=z.useRef();j.current=N,z.useImperativeHandle(e,function(){return Object.defineProperty(A.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),A.current},configurable:!0})});var T=z.useState({containerWidth:i.width,containerHeight:i.height}),P=qW(T,2),L=P[0],I=P[1],D=z.useCallback(function($,ee){I(function(ne){var Q=Math.round($),ie=Math.round(ee);return ne.containerWidth===Q&&ne.containerHeight===ie?ne:{containerWidth:Q,containerHeight:ie}})},[]);z.useEffect(function(){var $=function(J){var se,q=J[0].contentRect,Y=q.width,K=q.height;D(Y,K),(se=j.current)===null||se===void 0||se.call(j,Y,K)};_>0&&($=i4($,_,{trailing:!0,leading:!1}));var ee=new ResizeObserver($),ne=A.current.getBoundingClientRect(),Q=ne.width,ie=ne.height;return D(Q,ie),ee.observe(A.current),function(){ee.disconnect()}},[D,_]);var V=z.useMemo(function(){var $=L.containerWidth,ee=L.containerHeight;if($<0||ee<0)return null;gi(xo(o)||xo(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,d),gi(!r||r>0,"The aspect(%s) must be greater than zero.",r);var ne=xo(o)?$:o,Q=xo(d)?ee:d;r&&r>0&&(ne?Q=ne/r:Q&&(ne=Q*r),y&&Q>y&&(Q=y)),gi(ne>0||Q>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,ne,Q,o,d,p,g,r);var ie=!Array.isArray(x)&&ba(x.type).endsWith("Chart");return G.Children.map(x,function(Z){return G.isValidElement(Z)?z.cloneElement(Z,Lh({width:ne,height:Q},ie?{style:Lh({height:"100%",width:"100%",maxHeight:Q,maxWidth:ne},Z.props.style)}:{})):Z})},[r,x,d,y,g,p,L,o]);return G.createElement("div",{id:w?"".concat(w):void 0,className:Xe("recharts-responsive-container",R),style:Lh(Lh({},M),{},{width:o,height:d,minWidth:p,minHeight:g,maxHeight:y}),ref:A},V)}),Km=function(e){return null};Km.displayName="Cell";function dd(t){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dd(t)}function jI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function iw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jI(Object(r),!0).forEach(function(n){KW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KW(t,e,r){return e=YW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YW(t){var e=XW(t,"string");return dd(e)=="symbol"?e:e+""}function XW(t,e){if(dd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jl={widthCache:{},cacheCount:0},QW=2e3,JW={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},NI="recharts_measurement_span";function ZW(t){var e=iw({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Hc=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Du.isSsr)return{width:0,height:0};var n=ZW(r),i=JSON.stringify({text:e,copyStyle:n});if(jl.widthCache[i])return jl.widthCache[i];try{var a=document.getElementById(NI);a||(a=document.createElement("span"),a.setAttribute("id",NI),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=iw(iw({},JW),n);Object.assign(a.style,o),a.textContent="".concat(e);var u=a.getBoundingClientRect(),d={width:u.width,height:u.height};return jl.widthCache[i]=d,++jl.cacheCount>QW&&(jl.cacheCount=0,jl.widthCache={}),d}catch{return{width:0,height:0}}},eH=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function fd(t){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fd(t)}function Cp(t,e){return iH(t)||nH(t,e)||rH(t,e)||tH()}function tH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rH(t,e){if(t){if(typeof t=="string")return PI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PI(t,e)}}function PI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nH(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function iH(t){if(Array.isArray(t))return t}function aH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function II(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oH(n.key),n)}}function sH(t,e,r){return e&&II(t.prototype,e),r&&II(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function oH(t){var e=lH(t,"string");return fd(e)=="symbol"?e:e+""}function lH(t,e){if(fd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var OI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,uH=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,cH=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,a4={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},dH=Object.keys(a4),Ml="NaN";function fH(t,e){return t*a4[e]}var $h=function(){function t(e,r){aH(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!uH.test(r)&&(this.num=NaN,this.unit=""),dH.includes(r)&&(this.num=fH(e,r),this.unit="px")}return sH(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=cH.exec(r))!==null&&n!==void 0?n:[],a=Cp(i,3),o=a[1],u=a[2];return new t(parseFloat(o),u??"")}}])}();function s4(t){if(t.includes(Ml))return Ml;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=OI.exec(e))!==null&&r!==void 0?r:[],i=Cp(n,4),a=i[1],o=i[2],u=i[3],d=$h.parse(a??""),f=$h.parse(u??""),p=o==="*"?d.multiply(f):d.divide(f);if(p.isNaN())return Ml;e=e.replace(OI,p.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var g,y=(g=CI.exec(e))!==null&&g!==void 0?g:[],x=Cp(y,4),S=x[1],_=x[2],w=x[3],R=$h.parse(S??""),N=$h.parse(w??""),O=_==="+"?R.add(N):R.subtract(N);if(O.isNaN())return Ml;e=e.replace(CI,O.toString())}return e}var RI=/\(([^()]*)\)/;function hH(t){for(var e=t;e.includes("(");){var r=RI.exec(e),n=Cp(r,2),i=n[1];e=e.replace(RI,s4(i))}return e}function pH(t){var e=t.replace(/\s+/g,"");return e=hH(e),e=s4(e),e}function mH(t){try{return pH(t)}catch{return Ml}}function gb(t){var e=mH(t.slice(5,-1));return e===Ml?"":e}var gH=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],vH=["dx","dy","angle","className","breakAll"];function aw(){return aw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},aw.apply(this,arguments)}function MI(t,e){if(t==null)return{};var r=yH(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yH(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function DI(t,e){return wH(t)||_H(t,e)||bH(t,e)||xH()}function xH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bH(t,e){if(t){if(typeof t=="string")return LI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LI(t,e)}}function LI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _H(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function wH(t){if(Array.isArray(t))return t}var o4=/[ \f\n\r\t\v\u2028\u2029]+/,l4=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];Je(r)||(n?a=r.toString().split(""):a=r.toString().split(o4));var o=a.map(function(d){return{word:d,width:Hc(d,i).width}}),u=n?0:Hc("",i).width;return{wordsWithComputedWidth:o,spaceWidth:u}}catch{return null}},SH=function(e,r,n,i,a){var o=e.maxLines,u=e.children,d=e.style,f=e.breakAll,p=ke(o),g=u,y=function(){var ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ne.reduce(function(Q,ie){var Z=ie.word,J=ie.width,se=Q[Q.length-1];if(se&&(i==null||a||se.width+J+n<Number(i)))se.words.push(Z),se.width+=J+n;else{var q={words:[Z],width:J};Q.push(q)}return Q},[])},x=y(r),S=function(ne){return ne.reduce(function(Q,ie){return Q.width>ie.width?Q:ie})};if(!p)return x;for(var _="",w=function(ne){var Q=g.slice(0,ne),ie=l4({breakAll:f,style:d,children:Q+_}).wordsWithComputedWidth,Z=y(ie),J=Z.length>o||S(Z).width>Number(i);return[J,Z]},R=0,N=g.length-1,O=0,M;R<=N&&O<=g.length-1;){var A=Math.floor((R+N)/2),j=A-1,T=w(j),P=DI(T,2),L=P[0],I=P[1],D=w(A),V=DI(D,1),$=V[0];if(!L&&!$&&(R=A+1),L&&$&&(N=A-1),!L&&$){M=I;break}O++}return M||x},$I=function(e){var r=Je(e)?[]:e.toString().split(o4);return[{words:r}]},kH=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,u=e.maxLines;if((r||n)&&!Du.isSsr){var d,f,p=l4({breakAll:o,children:i,style:a});if(p){var g=p.wordsWithComputedWidth,y=p.spaceWidth;d=g,f=y}else return $I(i);return SH({breakAll:o,children:i,maxLines:u,style:a},d,f,r,n)}return $I(i)},FI="#808080",Mo=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.lineHeight,u=o===void 0?"1em":o,d=e.capHeight,f=d===void 0?"0.71em":d,p=e.scaleToFit,g=p===void 0?!1:p,y=e.textAnchor,x=y===void 0?"start":y,S=e.verticalAnchor,_=S===void 0?"end":S,w=e.fill,R=w===void 0?FI:w,N=MI(e,gH),O=z.useMemo(function(){return kH({breakAll:N.breakAll,children:N.children,maxLines:N.maxLines,scaleToFit:g,style:N.style,width:N.width})},[N.breakAll,N.children,N.maxLines,g,N.style,N.width]),M=N.dx,A=N.dy,j=N.angle,T=N.className,P=N.breakAll,L=MI(N,vH);if(!ir(n)||!ir(a))return null;var I=n+(ke(M)?M:0),D=a+(ke(A)?A:0),V;switch(_){case"start":V=gb("calc(".concat(f,")"));break;case"middle":V=gb("calc(".concat((O.length-1)/2," * -").concat(u," + (").concat(f," / 2))"));break;default:V=gb("calc(".concat(O.length-1," * -").concat(u,")"));break}var $=[];if(g){var ee=O[0].width,ne=N.width;$.push("scale(".concat((ke(ne)?ne/ee:1)/ee,")"))}return j&&$.push("rotate(".concat(j,", ").concat(I,", ").concat(D,")")),$.length&&(L.transform=$.join(" ")),G.createElement("text",aw({},ze(L,!0),{x:I,y:D,className:Xe("recharts-text",T),textAnchor:x,fill:R.includes("url")?FI:R}),O.map(function(Q,ie){var Z=Q.words.join(P?"":" ");return G.createElement("tspan",{x:I,dy:ie===0?V:u,key:"".concat(Z,"-").concat(ie)},Z)}))};function Ss(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function EH(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function xS(t){let e,r,n;t.length!==2?(e=Ss,r=(u,d)=>Ss(t(u),d),n=(u,d)=>t(u)-d):(e=t===Ss||t===EH?t:AH,r=t,n=t);function i(u,d,f=0,p=u.length){if(f<p){if(e(d,d)!==0)return p;do{const g=f+p>>>1;r(u[g],d)<0?f=g+1:p=g}while(f<p)}return f}function a(u,d,f=0,p=u.length){if(f<p){if(e(d,d)!==0)return p;do{const g=f+p>>>1;r(u[g],d)<=0?f=g+1:p=g}while(f<p)}return f}function o(u,d,f=0,p=u.length){const g=i(u,d,f,p-1);return g>f&&n(u[g-1],d)>-n(u[g],d)?g-1:g}return{left:i,center:o,right:a}}function AH(){return 0}function u4(t){return t===null?NaN:+t}function*TH(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const jH=xS(Ss),sf=jH.right;xS(u4).center;class VI extends Map{constructor(e,r=IH){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(UI(this,e))}has(e){return super.has(UI(this,e))}set(e,r){return super.set(NH(this,e),r)}delete(e){return super.delete(PH(this,e))}}function UI({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function NH({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function PH({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function IH(t){return t!==null&&typeof t=="object"?t.valueOf():t}function OH(t=Ss){if(t===Ss)return c4;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function c4(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const CH=Math.sqrt(50),RH=Math.sqrt(10),MH=Math.sqrt(2);function Rp(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=CH?10:a>=RH?5:a>=MH?2:1;let u,d,f;return i<0?(f=Math.pow(10,-i)/o,u=Math.round(t*f),d=Math.round(e*f),u/f<t&&++u,d/f>e&&--d,f=-f):(f=Math.pow(10,i)*o,u=Math.round(t/f),d=Math.round(e/f),u*f<t&&++u,d*f>e&&--d),d<u&&.5<=r&&r<2?Rp(t,e,r*2):[u,d,f]}function sw(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,o]=n?Rp(e,t,r):Rp(t,e,r);if(!(a>=i))return[];const u=a-i+1,d=new Array(u);if(n)if(o<0)for(let f=0;f<u;++f)d[f]=(a-f)/-o;else for(let f=0;f<u;++f)d[f]=(a-f)*o;else if(o<0)for(let f=0;f<u;++f)d[f]=(i+f)/-o;else for(let f=0;f<u;++f)d[f]=(i+f)*o;return d}function ow(t,e,r){return e=+e,t=+t,r=+r,Rp(t,e,r)[2]}function lw(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?ow(e,t,r):ow(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function BI(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function qI(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function d4(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?c4:OH(i);n>r;){if(n-r>600){const d=n-r+1,f=e-r+1,p=Math.log(d),g=.5*Math.exp(2*p/3),y=.5*Math.sqrt(p*g*(d-g)/d)*(f-d/2<0?-1:1),x=Math.max(r,Math.floor(e-f*g/d+y)),S=Math.min(n,Math.floor(e+(d-f)*g/d+y));d4(t,e,x,S,i)}const a=t[e];let o=r,u=n;for(kc(t,r,e),i(t[n],a)>0&&kc(t,r,n);o<u;){for(kc(t,o,u),++o,--u;i(t[o],a)<0;)++o;for(;i(t[u],a)>0;)--u}i(t[r],a)===0?kc(t,r,u):(++u,kc(t,u,n)),u<=e&&(r=u+1),e<=u&&(n=u-1)}return t}function kc(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function DH(t,e,r){if(t=Float64Array.from(TH(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return qI(t);if(e>=1)return BI(t);var n,i=(n-1)*e,a=Math.floor(i),o=BI(d4(t,a).subarray(0,a+1)),u=qI(t.subarray(a+1));return o+(u-o)*(i-a)}}function LH(t,e,r=u4){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),o=+r(t[a],a,t),u=+r(t[a+1],a+1,t);return o+(u-o)*(i-a)}}function $H(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function Kn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Oa(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const uw=Symbol("implicit");function bS(){var t=new VI,e=[],r=[],n=uw;function i(a){let o=t.get(a);if(o===void 0){if(n!==uw)return n;t.set(a,o=e.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new VI;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return bS(e,r).unknown(n)},Kn.apply(i,arguments),i}function hd(){var t=bS().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,o,u=!1,d=0,f=0,p=.5;delete t.unknown;function g(){var y=e().length,x=i<n,S=x?i:n,_=x?n:i;a=(_-S)/Math.max(1,y-d+f*2),u&&(a=Math.floor(a)),S+=(_-S-a*(y-d))*p,o=a*(1-d),u&&(S=Math.round(S),o=Math.round(o));var w=$H(y).map(function(R){return S+a*R});return r(x?w.reverse():w)}return t.domain=function(y){return arguments.length?(e(y),g()):e()},t.range=function(y){return arguments.length?([n,i]=y,n=+n,i=+i,g()):[n,i]},t.rangeRound=function(y){return[n,i]=y,n=+n,i=+i,u=!0,g()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(y){return arguments.length?(u=!!y,g()):u},t.padding=function(y){return arguments.length?(d=Math.min(1,f=+y),g()):d},t.paddingInner=function(y){return arguments.length?(d=Math.min(1,y),g()):d},t.paddingOuter=function(y){return arguments.length?(f=+y,g()):f},t.align=function(y){return arguments.length?(p=Math.max(0,Math.min(1,y)),g()):p},t.copy=function(){return hd(e(),[n,i]).round(u).paddingInner(d).paddingOuter(f).align(p)},Kn.apply(g(),arguments)}function f4(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return f4(e())},t}function Gc(){return f4(hd.apply(null,arguments).paddingInner(1))}function _S(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function h4(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function of(){}var pd=.7,Mp=1/pd,Gl="\\s*([+-]?\\d+)\\s*",md="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Vi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",FH=/^#([0-9a-f]{3,8})$/,VH=new RegExp(`^rgb\\(${Gl},${Gl},${Gl}\\)$`),UH=new RegExp(`^rgb\\(${Vi},${Vi},${Vi}\\)$`),BH=new RegExp(`^rgba\\(${Gl},${Gl},${Gl},${md}\\)$`),qH=new RegExp(`^rgba\\(${Vi},${Vi},${Vi},${md}\\)$`),zH=new RegExp(`^hsl\\(${md},${Vi},${Vi}\\)$`),WH=new RegExp(`^hsla\\(${md},${Vi},${Vi},${md}\\)$`),zI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};_S(of,gd,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:WI,formatHex:WI,formatHex8:HH,formatHsl:GH,formatRgb:HI,toString:HI});function WI(){return this.rgb().formatHex()}function HH(){return this.rgb().formatHex8()}function GH(){return p4(this).formatHsl()}function HI(){return this.rgb().formatRgb()}function gd(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=FH.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?GI(e):r===3?new ln(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Fh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Fh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=VH.exec(t))?new ln(e[1],e[2],e[3],1):(e=UH.exec(t))?new ln(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=BH.exec(t))?Fh(e[1],e[2],e[3],e[4]):(e=qH.exec(t))?Fh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=zH.exec(t))?XI(e[1],e[2]/100,e[3]/100,1):(e=WH.exec(t))?XI(e[1],e[2]/100,e[3]/100,e[4]):zI.hasOwnProperty(t)?GI(zI[t]):t==="transparent"?new ln(NaN,NaN,NaN,0):null}function GI(t){return new ln(t>>16&255,t>>8&255,t&255,1)}function Fh(t,e,r,n){return n<=0&&(t=e=r=NaN),new ln(t,e,r,n)}function KH(t){return t instanceof of||(t=gd(t)),t?(t=t.rgb(),new ln(t.r,t.g,t.b,t.opacity)):new ln}function cw(t,e,r,n){return arguments.length===1?KH(t):new ln(t,e,r,n??1)}function ln(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}_S(ln,cw,h4(of,{brighter(t){return t=t==null?Mp:Math.pow(Mp,t),new ln(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?pd:Math.pow(pd,t),new ln(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ln(Eo(this.r),Eo(this.g),Eo(this.b),Dp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:KI,formatHex:KI,formatHex8:YH,formatRgb:YI,toString:YI}));function KI(){return`#${bo(this.r)}${bo(this.g)}${bo(this.b)}`}function YH(){return`#${bo(this.r)}${bo(this.g)}${bo(this.b)}${bo((isNaN(this.opacity)?1:this.opacity)*255)}`}function YI(){const t=Dp(this.opacity);return`${t===1?"rgb(":"rgba("}${Eo(this.r)}, ${Eo(this.g)}, ${Eo(this.b)}${t===1?")":`, ${t})`}`}function Dp(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Eo(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function bo(t){return t=Eo(t),(t<16?"0":"")+t.toString(16)}function XI(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new hi(t,e,r,n)}function p4(t){if(t instanceof hi)return new hi(t.h,t.s,t.l,t.opacity);if(t instanceof of||(t=gd(t)),!t)return new hi;if(t instanceof hi)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,u=a-i,d=(a+i)/2;return u?(e===a?o=(r-n)/u+(r<n)*6:r===a?o=(n-e)/u+2:o=(e-r)/u+4,u/=d<.5?a+i:2-a-i,o*=60):u=d>0&&d<1?0:o,new hi(o,u,d,t.opacity)}function XH(t,e,r,n){return arguments.length===1?p4(t):new hi(t,e,r,n??1)}function hi(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}_S(hi,XH,h4(of,{brighter(t){return t=t==null?Mp:Math.pow(Mp,t),new hi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?pd:Math.pow(pd,t),new hi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new ln(vb(t>=240?t-240:t+120,i,n),vb(t,i,n),vb(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new hi(QI(this.h),Vh(this.s),Vh(this.l),Dp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Dp(this.opacity);return`${t===1?"hsl(":"hsla("}${QI(this.h)}, ${Vh(this.s)*100}%, ${Vh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function QI(t){return t=(t||0)%360,t<0?t+360:t}function Vh(t){return Math.max(0,Math.min(1,t||0))}function vb(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const wS=t=>()=>t;function QH(t,e){return function(r){return t+r*e}}function JH(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function ZH(t){return(t=+t)==1?m4:function(e,r){return r-e?JH(e,r,t):wS(isNaN(e)?r:e)}}function m4(t,e){var r=e-t;return r?QH(t,r):wS(isNaN(t)?e:t)}const JI=function t(e){var r=ZH(e);function n(i,a){var o=r((i=cw(i)).r,(a=cw(a)).r),u=r(i.g,a.g),d=r(i.b,a.b),f=m4(i.opacity,a.opacity);return function(p){return i.r=o(p),i.g=u(p),i.b=d(p),i.opacity=f(p),i+""}}return n.gamma=t,n}(1);function eG(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function tG(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function rG(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=Lu(t[o],e[o]);for(;o<r;++o)a[o]=e[o];return function(u){for(o=0;o<n;++o)a[o]=i[o](u);return a}}function nG(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Lp(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function iG(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Lu(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var dw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yb=new RegExp(dw.source,"g");function aG(t){return function(){return t}}function sG(t){return function(e){return t(e)+""}}function oG(t,e){var r=dw.lastIndex=yb.lastIndex=0,n,i,a,o=-1,u=[],d=[];for(t=t+"",e=e+"";(n=dw.exec(t))&&(i=yb.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),u[o]?u[o]+=a:u[++o]=a),(n=n[0])===(i=i[0])?u[o]?u[o]+=i:u[++o]=i:(u[++o]=null,d.push({i:o,x:Lp(n,i)})),r=yb.lastIndex;return r<e.length&&(a=e.slice(r),u[o]?u[o]+=a:u[++o]=a),u.length<2?d[0]?sG(d[0].x):aG(e):(e=d.length,function(f){for(var p=0,g;p<e;++p)u[(g=d[p]).i]=g.x(f);return u.join("")})}function Lu(t,e){var r=typeof e,n;return e==null||r==="boolean"?wS(e):(r==="number"?Lp:r==="string"?(n=gd(e))?(e=n,JI):oG:e instanceof gd?JI:e instanceof Date?nG:tG(e)?eG:Array.isArray(e)?rG:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?iG:Lp)(t,e)}function SS(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function lG(t,e){e===void 0&&(e=t,t=Lu);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(o){var u=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[u](o-u)}}function uG(t){return function(){return t}}function $p(t){return+t}var ZI=[0,1];function Kr(t){return t}function fw(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:uG(isNaN(e)?NaN:.5)}function cG(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function dG(t,e,r){var n=t[0],i=t[1],a=e[0],o=e[1];return i<n?(n=fw(i,n),a=r(o,a)):(n=fw(n,i),a=r(a,o)),function(u){return a(n(u))}}function fG(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=fw(t[o],t[o+1]),a[o]=r(e[o],e[o+1]);return function(u){var d=sf(t,u,1,n)-1;return a[d](i[d](u))}}function lf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ym(){var t=ZI,e=ZI,r=Lu,n,i,a,o=Kr,u,d,f;function p(){var y=Math.min(t.length,e.length);return o!==Kr&&(o=cG(t[0],t[y-1])),u=y>2?fG:dG,d=f=null,g}function g(y){return y==null||isNaN(y=+y)?a:(d||(d=u(t.map(n),e,r)))(n(o(y)))}return g.invert=function(y){return o(i((f||(f=u(e,t.map(n),Lp)))(y)))},g.domain=function(y){return arguments.length?(t=Array.from(y,$p),p()):t.slice()},g.range=function(y){return arguments.length?(e=Array.from(y),p()):e.slice()},g.rangeRound=function(y){return e=Array.from(y),r=SS,p()},g.clamp=function(y){return arguments.length?(o=y?!0:Kr,p()):o!==Kr},g.interpolate=function(y){return arguments.length?(r=y,p()):r},g.unknown=function(y){return arguments.length?(a=y,g):a},function(y,x){return n=y,i=x,p()}}function kS(){return Ym()(Kr,Kr)}function hG(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Fp(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function lu(t){return t=Fp(Math.abs(t)),t?t[1]:NaN}function pG(t,e){return function(r,n){for(var i=r.length,a=[],o=0,u=t[0],d=0;i>0&&u>0&&(d+u+1>n&&(u=Math.max(1,n-d)),a.push(r.substring(i-=u,i+u)),!((d+=u+1)>n));)u=t[o=(o+1)%t.length];return a.reverse().join(e)}}function mG(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var gG=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function vd(t){if(!(e=gG.exec(t)))throw new Error("invalid format: "+t);var e;return new ES({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}vd.prototype=ES.prototype;function ES(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}ES.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function vG(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var g4;function yG(t,e){var r=Fp(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(g4=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Fp(t,Math.max(0,e+a-1))[0]}function eO(t,e){var r=Fp(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const tO={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:hG,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>eO(t*100,e),r:eO,s:yG,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function rO(t){return t}var nO=Array.prototype.map,iO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function xG(t){var e=t.grouping===void 0||t.thousands===void 0?rO:pG(nO.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?rO:mG(nO.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function f(g){g=vd(g);var y=g.fill,x=g.align,S=g.sign,_=g.symbol,w=g.zero,R=g.width,N=g.comma,O=g.precision,M=g.trim,A=g.type;A==="n"?(N=!0,A="g"):tO[A]||(O===void 0&&(O=12),M=!0,A="g"),(w||y==="0"&&x==="=")&&(w=!0,y="0",x="=");var j=_==="$"?r:_==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",T=_==="$"?n:/[%p]/.test(A)?o:"",P=tO[A],L=/[defgprs%]/.test(A);O=O===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function I(D){var V=j,$=T,ee,ne,Q;if(A==="c")$=P(D)+$,D="";else{D=+D;var ie=D<0||1/D<0;if(D=isNaN(D)?d:P(Math.abs(D),O),M&&(D=vG(D)),ie&&+D==0&&S!=="+"&&(ie=!1),V=(ie?S==="("?S:u:S==="-"||S==="("?"":S)+V,$=(A==="s"?iO[8+g4/3]:"")+$+(ie&&S==="("?")":""),L){for(ee=-1,ne=D.length;++ee<ne;)if(Q=D.charCodeAt(ee),48>Q||Q>57){$=(Q===46?i+D.slice(ee+1):D.slice(ee))+$,D=D.slice(0,ee);break}}}N&&!w&&(D=e(D,1/0));var Z=V.length+D.length+$.length,J=Z<R?new Array(R-Z+1).join(y):"";switch(N&&w&&(D=e(J+D,J.length?R-$.length:1/0),J=""),x){case"<":D=V+D+$+J;break;case"=":D=V+J+D+$;break;case"^":D=J.slice(0,Z=J.length>>1)+V+D+$+J.slice(Z);break;default:D=J+V+D+$;break}return a(D)}return I.toString=function(){return g+""},I}function p(g,y){var x=f((g=vd(g),g.type="f",g)),S=Math.max(-8,Math.min(8,Math.floor(lu(y)/3)))*3,_=Math.pow(10,-S),w=iO[8+S/3];return function(R){return x(_*R)+w}}return{format:f,formatPrefix:p}}var Uh,AS,v4;bG({thousands:",",grouping:[3],currency:["$",""]});function bG(t){return Uh=xG(t),AS=Uh.format,v4=Uh.formatPrefix,Uh}function _G(t){return Math.max(0,-lu(Math.abs(t)))}function wG(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(lu(e)/3)))*3-lu(Math.abs(t)))}function SG(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,lu(e)-lu(t))+1}function y4(t,e,r,n){var i=lw(t,e,r),a;switch(n=vd(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=wG(i,o))&&(n.precision=a),v4(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=SG(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=_G(i))&&(n.precision=a-(n.type==="%")*2);break}}return AS(n)}function Rs(t){var e=t.domain;return t.ticks=function(r){var n=e();return sw(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return y4(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,o=n[i],u=n[a],d,f,p=10;for(u<o&&(f=o,o=u,u=f,f=i,i=a,a=f);p-- >0;){if(f=ow(o,u,r),f===d)return n[i]=o,n[a]=u,e(n);if(f>0)o=Math.floor(o/f)*f,u=Math.ceil(u/f)*f;else if(f<0)o=Math.ceil(o*f)/f,u=Math.floor(u*f)/f;else break;d=f}return t},t}function Vp(){var t=kS();return t.copy=function(){return lf(t,Vp())},Kn.apply(t,arguments),Rs(t)}function x4(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,$p),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return x4(t).unknown(e)},t=arguments.length?Array.from(t,$p):[0,1],Rs(r)}function b4(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),t[r]=e.floor(i),t[n]=e.ceil(a),t}function aO(t){return Math.log(t)}function sO(t){return Math.exp(t)}function kG(t){return-Math.log(-t)}function EG(t){return-Math.exp(-t)}function AG(t){return isFinite(t)?+("1e"+t):t<0?0:t}function TG(t){return t===10?AG:t===Math.E?Math.exp:e=>Math.pow(t,e)}function jG(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function oO(t){return(e,r)=>-t(-e,r)}function TS(t){const e=t(aO,sO),r=e.domain;let n=10,i,a;function o(){return i=jG(n),a=TG(n),r()[0]<0?(i=oO(i),a=oO(a),t(kG,EG)):t(aO,sO),e}return e.base=function(u){return arguments.length?(n=+u,o()):n},e.domain=function(u){return arguments.length?(r(u),o()):r()},e.ticks=u=>{const d=r();let f=d[0],p=d[d.length-1];const g=p<f;g&&([f,p]=[p,f]);let y=i(f),x=i(p),S,_;const w=u==null?10:+u;let R=[];if(!(n%1)&&x-y<w){if(y=Math.floor(y),x=Math.ceil(x),f>0){for(;y<=x;++y)for(S=1;S<n;++S)if(_=y<0?S/a(-y):S*a(y),!(_<f)){if(_>p)break;R.push(_)}}else for(;y<=x;++y)for(S=n-1;S>=1;--S)if(_=y>0?S/a(-y):S*a(y),!(_<f)){if(_>p)break;R.push(_)}R.length*2<w&&(R=sw(f,p,w))}else R=sw(y,x,Math.min(x-y,w)).map(a);return g?R.reverse():R},e.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=vd(d)).precision==null&&(d.trim=!0),d=AS(d)),u===1/0)return d;const f=Math.max(1,n*u/e.ticks().length);return p=>{let g=p/a(Math.round(i(p)));return g*n<n-.5&&(g*=n),g<=f?d(p):""}},e.nice=()=>r(b4(r(),{floor:u=>a(Math.floor(i(u))),ceil:u=>a(Math.ceil(i(u)))})),e}function _4(){const t=TS(Ym()).domain([1,10]);return t.copy=()=>lf(t,_4()).base(t.base()),Kn.apply(t,arguments),t}function lO(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function uO(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function jS(t){var e=1,r=t(lO(e),uO(e));return r.constant=function(n){return arguments.length?t(lO(e=+n),uO(e)):e},Rs(r)}function w4(){var t=jS(Ym());return t.copy=function(){return lf(t,w4()).constant(t.constant())},Kn.apply(t,arguments)}function cO(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function NG(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function PG(t){return t<0?-t*t:t*t}function NS(t){var e=t(Kr,Kr),r=1;function n(){return r===1?t(Kr,Kr):r===.5?t(NG,PG):t(cO(r),cO(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Rs(e)}function PS(){var t=NS(Ym());return t.copy=function(){return lf(t,PS()).exponent(t.exponent())},Kn.apply(t,arguments),t}function IG(){return PS.apply(null,arguments).exponent(.5)}function dO(t){return Math.sign(t)*t*t}function OG(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function S4(){var t=kS(),e=[0,1],r=!1,n;function i(a){var o=OG(t(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return t.invert(dO(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,$p)).map(dO)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return S4(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Kn.apply(i,arguments),Rs(i)}function k4(){var t=[],e=[],r=[],n;function i(){var o=0,u=Math.max(1,e.length);for(r=new Array(u-1);++o<u;)r[o-1]=LH(t,o/u);return a}function a(o){return o==null||isNaN(o=+o)?n:e[sf(r,o)]}return a.invertExtent=function(o){var u=e.indexOf(o);return u<0?[NaN,NaN]:[u>0?r[u-1]:t[0],u<r.length?r[u]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let u of o)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Ss),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return k4().domain(t).range(e).unknown(n)},Kn.apply(a,arguments)}function E4(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function o(d){return d!=null&&d<=d?i[sf(n,d,0,r)]:a}function u(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*e-(d-r)*t)/(r+1);return o}return o.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,u()):[t,e]},o.range=function(d){return arguments.length?(r=(i=Array.from(d)).length-1,u()):i.slice()},o.invertExtent=function(d){var f=i.indexOf(d);return f<0?[NaN,NaN]:f<1?[t,n[0]]:f>=r?[n[r-1],e]:[n[f-1],n[f]]},o.unknown=function(d){return arguments.length&&(a=d),o},o.thresholds=function(){return n.slice()},o.copy=function(){return E4().domain([t,e]).range(i).unknown(a)},Kn.apply(Rs(o),arguments)}function A4(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[sf(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return A4().domain(t).range(e).unknown(r)},Kn.apply(i,arguments)}const xb=new Date,bb=new Date;function sr(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),u=i.ceil(a);return a-o<u-a?o:u},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,u)=>{const d=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<o)||!(u>0))return d;let f;do d.push(f=new Date(+a)),e(a,u),t(a);while(f<a&&a<o);return d},i.filter=a=>sr(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,u)=>{if(o>=o)if(u<0)for(;++u<=0;)for(;e(o,-1),!a(o););else for(;--u>=0;)for(;e(o,1),!a(o););}),r&&(i.count=(a,o)=>(xb.setTime(+a),bb.setTime(+o),t(xb),t(bb),Math.floor(r(xb,bb))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Up=sr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Up.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?sr(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Up);Up.range;const ga=1e3,Wn=ga*60,va=Wn*60,Aa=va*24,IS=Aa*7,fO=Aa*30,_b=Aa*365,_o=sr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ga)},(t,e)=>(e-t)/ga,t=>t.getUTCSeconds());_o.range;const OS=sr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ga)},(t,e)=>{t.setTime(+t+e*Wn)},(t,e)=>(e-t)/Wn,t=>t.getMinutes());OS.range;const CS=sr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Wn)},(t,e)=>(e-t)/Wn,t=>t.getUTCMinutes());CS.range;const RS=sr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ga-t.getMinutes()*Wn)},(t,e)=>{t.setTime(+t+e*va)},(t,e)=>(e-t)/va,t=>t.getHours());RS.range;const MS=sr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*va)},(t,e)=>(e-t)/va,t=>t.getUTCHours());MS.range;const uf=sr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Wn)/Aa,t=>t.getDate()-1);uf.range;const Xm=sr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Aa,t=>t.getUTCDate()-1);Xm.range;const T4=sr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Aa,t=>Math.floor(t/Aa));T4.range;function Bo(t){return sr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Wn)/IS)}const Qm=Bo(0),Bp=Bo(1),CG=Bo(2),RG=Bo(3),uu=Bo(4),MG=Bo(5),DG=Bo(6);Qm.range;Bp.range;CG.range;RG.range;uu.range;MG.range;DG.range;function qo(t){return sr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/IS)}const Jm=qo(0),qp=qo(1),LG=qo(2),$G=qo(3),cu=qo(4),FG=qo(5),VG=qo(6);Jm.range;qp.range;LG.range;$G.range;cu.range;FG.range;VG.range;const DS=sr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());DS.range;const LS=sr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());LS.range;const Ta=sr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ta.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:sr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Ta.range;const ja=sr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ja.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:sr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});ja.range;function j4(t,e,r,n,i,a){const o=[[_o,1,ga],[_o,5,5*ga],[_o,15,15*ga],[_o,30,30*ga],[a,1,Wn],[a,5,5*Wn],[a,15,15*Wn],[a,30,30*Wn],[i,1,va],[i,3,3*va],[i,6,6*va],[i,12,12*va],[n,1,Aa],[n,2,2*Aa],[r,1,IS],[e,1,fO],[e,3,3*fO],[t,1,_b]];function u(f,p,g){const y=p<f;y&&([f,p]=[p,f]);const x=g&&typeof g.range=="function"?g:d(f,p,g),S=x?x.range(f,+p+1):[];return y?S.reverse():S}function d(f,p,g){const y=Math.abs(p-f)/g,x=xS(([,,w])=>w).right(o,y);if(x===o.length)return t.every(lw(f/_b,p/_b,g));if(x===0)return Up.every(Math.max(lw(f,p,g),1));const[S,_]=o[y/o[x-1][2]<o[x][2]/y?x-1:x];return S.every(_)}return[u,d]}const[UG,BG]=j4(ja,LS,Jm,T4,MS,CS),[qG,zG]=j4(Ta,DS,Qm,uf,RS,OS);function wb(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Sb(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ec(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function WG(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,o=t.shortDays,u=t.months,d=t.shortMonths,f=Ac(i),p=Tc(i),g=Ac(a),y=Tc(a),x=Ac(o),S=Tc(o),_=Ac(u),w=Tc(u),R=Ac(d),N=Tc(d),O={a:ie,A:Z,b:J,B:se,c:null,d:yO,e:yO,f:pK,g:kK,G:AK,H:dK,I:fK,j:hK,L:N4,m:mK,M:gK,p:q,q:Y,Q:_O,s:wO,S:vK,u:yK,U:xK,V:bK,w:_K,W:wK,x:null,X:null,y:SK,Y:EK,Z:TK,"%":bO},M={a:K,A:le,b:de,B:xe,c:null,d:xO,e:xO,f:IK,g:UK,G:qK,H:jK,I:NK,j:PK,L:I4,m:OK,M:CK,p:he,q:ge,Q:_O,s:wO,S:RK,u:MK,U:DK,V:LK,w:$K,W:FK,x:null,X:null,y:VK,Y:BK,Z:zK,"%":bO},A={a:I,A:D,b:V,B:$,c:ee,d:gO,e:gO,f:oK,g:mO,G:pO,H:vO,I:vO,j:nK,L:sK,m:rK,M:iK,p:L,q:tK,Q:uK,s:cK,S:aK,u:XG,U:QG,V:JG,w:YG,W:ZG,x:ne,X:Q,y:mO,Y:pO,Z:eK,"%":lK};O.x=j(r,O),O.X=j(n,O),O.c=j(e,O),M.x=j(r,M),M.X=j(n,M),M.c=j(e,M);function j(fe,Ee){return function(Te){var W=[],pe=-1,me=0,je=fe.length,$e,Dt,Xr;for(Te instanceof Date||(Te=new Date(+Te));++pe<je;)fe.charCodeAt(pe)===37&&(W.push(fe.slice(me,pe)),(Dt=hO[$e=fe.charAt(++pe)])!=null?$e=fe.charAt(++pe):Dt=$e==="e"?" ":"0",(Xr=Ee[$e])&&($e=Xr(Te,Dt)),W.push($e),me=pe+1);return W.push(fe.slice(me,pe)),W.join("")}}function T(fe,Ee){return function(Te){var W=Ec(1900,void 0,1),pe=P(W,fe,Te+="",0),me,je;if(pe!=Te.length)return null;if("Q"in W)return new Date(W.Q);if("s"in W)return new Date(W.s*1e3+("L"in W?W.L:0));if(Ee&&!("Z"in W)&&(W.Z=0),"p"in W&&(W.H=W.H%12+W.p*12),W.m===void 0&&(W.m="q"in W?W.q:0),"V"in W){if(W.V<1||W.V>53)return null;"w"in W||(W.w=1),"Z"in W?(me=Sb(Ec(W.y,0,1)),je=me.getUTCDay(),me=je>4||je===0?qp.ceil(me):qp(me),me=Xm.offset(me,(W.V-1)*7),W.y=me.getUTCFullYear(),W.m=me.getUTCMonth(),W.d=me.getUTCDate()+(W.w+6)%7):(me=wb(Ec(W.y,0,1)),je=me.getDay(),me=je>4||je===0?Bp.ceil(me):Bp(me),me=uf.offset(me,(W.V-1)*7),W.y=me.getFullYear(),W.m=me.getMonth(),W.d=me.getDate()+(W.w+6)%7)}else("W"in W||"U"in W)&&("w"in W||(W.w="u"in W?W.u%7:"W"in W?1:0),je="Z"in W?Sb(Ec(W.y,0,1)).getUTCDay():wb(Ec(W.y,0,1)).getDay(),W.m=0,W.d="W"in W?(W.w+6)%7+W.W*7-(je+5)%7:W.w+W.U*7-(je+6)%7);return"Z"in W?(W.H+=W.Z/100|0,W.M+=W.Z%100,Sb(W)):wb(W)}}function P(fe,Ee,Te,W){for(var pe=0,me=Ee.length,je=Te.length,$e,Dt;pe<me;){if(W>=je)return-1;if($e=Ee.charCodeAt(pe++),$e===37){if($e=Ee.charAt(pe++),Dt=A[$e in hO?Ee.charAt(pe++):$e],!Dt||(W=Dt(fe,Te,W))<0)return-1}else if($e!=Te.charCodeAt(W++))return-1}return W}function L(fe,Ee,Te){var W=f.exec(Ee.slice(Te));return W?(fe.p=p.get(W[0].toLowerCase()),Te+W[0].length):-1}function I(fe,Ee,Te){var W=x.exec(Ee.slice(Te));return W?(fe.w=S.get(W[0].toLowerCase()),Te+W[0].length):-1}function D(fe,Ee,Te){var W=g.exec(Ee.slice(Te));return W?(fe.w=y.get(W[0].toLowerCase()),Te+W[0].length):-1}function V(fe,Ee,Te){var W=R.exec(Ee.slice(Te));return W?(fe.m=N.get(W[0].toLowerCase()),Te+W[0].length):-1}function $(fe,Ee,Te){var W=_.exec(Ee.slice(Te));return W?(fe.m=w.get(W[0].toLowerCase()),Te+W[0].length):-1}function ee(fe,Ee,Te){return P(fe,e,Ee,Te)}function ne(fe,Ee,Te){return P(fe,r,Ee,Te)}function Q(fe,Ee,Te){return P(fe,n,Ee,Te)}function ie(fe){return o[fe.getDay()]}function Z(fe){return a[fe.getDay()]}function J(fe){return d[fe.getMonth()]}function se(fe){return u[fe.getMonth()]}function q(fe){return i[+(fe.getHours()>=12)]}function Y(fe){return 1+~~(fe.getMonth()/3)}function K(fe){return o[fe.getUTCDay()]}function le(fe){return a[fe.getUTCDay()]}function de(fe){return d[fe.getUTCMonth()]}function xe(fe){return u[fe.getUTCMonth()]}function he(fe){return i[+(fe.getUTCHours()>=12)]}function ge(fe){return 1+~~(fe.getUTCMonth()/3)}return{format:function(fe){var Ee=j(fe+="",O);return Ee.toString=function(){return fe},Ee},parse:function(fe){var Ee=T(fe+="",!1);return Ee.toString=function(){return fe},Ee},utcFormat:function(fe){var Ee=j(fe+="",M);return Ee.toString=function(){return fe},Ee},utcParse:function(fe){var Ee=T(fe+="",!0);return Ee.toString=function(){return fe},Ee}}}var hO={"-":"",_:" ",0:"0"},vr=/^\s*\d+/,HG=/^%/,GG=/[\\^$*+?|[\]().{}]/g;function ut(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function KG(t){return t.replace(GG,"\\$&")}function Ac(t){return new RegExp("^(?:"+t.map(KG).join("|")+")","i")}function Tc(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function YG(t,e,r){var n=vr.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function XG(t,e,r){var n=vr.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function QG(t,e,r){var n=vr.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function JG(t,e,r){var n=vr.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function ZG(t,e,r){var n=vr.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function pO(t,e,r){var n=vr.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function mO(t,e,r){var n=vr.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function eK(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function tK(t,e,r){var n=vr.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function rK(t,e,r){var n=vr.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function gO(t,e,r){var n=vr.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function nK(t,e,r){var n=vr.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function vO(t,e,r){var n=vr.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function iK(t,e,r){var n=vr.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function aK(t,e,r){var n=vr.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function sK(t,e,r){var n=vr.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function oK(t,e,r){var n=vr.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function lK(t,e,r){var n=HG.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function uK(t,e,r){var n=vr.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function cK(t,e,r){var n=vr.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function yO(t,e){return ut(t.getDate(),e,2)}function dK(t,e){return ut(t.getHours(),e,2)}function fK(t,e){return ut(t.getHours()%12||12,e,2)}function hK(t,e){return ut(1+uf.count(Ta(t),t),e,3)}function N4(t,e){return ut(t.getMilliseconds(),e,3)}function pK(t,e){return N4(t,e)+"000"}function mK(t,e){return ut(t.getMonth()+1,e,2)}function gK(t,e){return ut(t.getMinutes(),e,2)}function vK(t,e){return ut(t.getSeconds(),e,2)}function yK(t){var e=t.getDay();return e===0?7:e}function xK(t,e){return ut(Qm.count(Ta(t)-1,t),e,2)}function P4(t){var e=t.getDay();return e>=4||e===0?uu(t):uu.ceil(t)}function bK(t,e){return t=P4(t),ut(uu.count(Ta(t),t)+(Ta(t).getDay()===4),e,2)}function _K(t){return t.getDay()}function wK(t,e){return ut(Bp.count(Ta(t)-1,t),e,2)}function SK(t,e){return ut(t.getFullYear()%100,e,2)}function kK(t,e){return t=P4(t),ut(t.getFullYear()%100,e,2)}function EK(t,e){return ut(t.getFullYear()%1e4,e,4)}function AK(t,e){var r=t.getDay();return t=r>=4||r===0?uu(t):uu.ceil(t),ut(t.getFullYear()%1e4,e,4)}function TK(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ut(e/60|0,"0",2)+ut(e%60,"0",2)}function xO(t,e){return ut(t.getUTCDate(),e,2)}function jK(t,e){return ut(t.getUTCHours(),e,2)}function NK(t,e){return ut(t.getUTCHours()%12||12,e,2)}function PK(t,e){return ut(1+Xm.count(ja(t),t),e,3)}function I4(t,e){return ut(t.getUTCMilliseconds(),e,3)}function IK(t,e){return I4(t,e)+"000"}function OK(t,e){return ut(t.getUTCMonth()+1,e,2)}function CK(t,e){return ut(t.getUTCMinutes(),e,2)}function RK(t,e){return ut(t.getUTCSeconds(),e,2)}function MK(t){var e=t.getUTCDay();return e===0?7:e}function DK(t,e){return ut(Jm.count(ja(t)-1,t),e,2)}function O4(t){var e=t.getUTCDay();return e>=4||e===0?cu(t):cu.ceil(t)}function LK(t,e){return t=O4(t),ut(cu.count(ja(t),t)+(ja(t).getUTCDay()===4),e,2)}function $K(t){return t.getUTCDay()}function FK(t,e){return ut(qp.count(ja(t)-1,t),e,2)}function VK(t,e){return ut(t.getUTCFullYear()%100,e,2)}function UK(t,e){return t=O4(t),ut(t.getUTCFullYear()%100,e,2)}function BK(t,e){return ut(t.getUTCFullYear()%1e4,e,4)}function qK(t,e){var r=t.getUTCDay();return t=r>=4||r===0?cu(t):cu.ceil(t),ut(t.getUTCFullYear()%1e4,e,4)}function zK(){return"+0000"}function bO(){return"%"}function _O(t){return+t}function wO(t){return Math.floor(+t/1e3)}var Nl,C4,R4;WK({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function WK(t){return Nl=WG(t),C4=Nl.format,Nl.parse,R4=Nl.utcFormat,Nl.utcParse,Nl}function HK(t){return new Date(t)}function GK(t){return t instanceof Date?+t:+new Date(+t)}function $S(t,e,r,n,i,a,o,u,d,f){var p=kS(),g=p.invert,y=p.domain,x=f(".%L"),S=f(":%S"),_=f("%I:%M"),w=f("%I %p"),R=f("%a %d"),N=f("%b %d"),O=f("%B"),M=f("%Y");function A(j){return(d(j)<j?x:u(j)<j?S:o(j)<j?_:a(j)<j?w:n(j)<j?i(j)<j?R:N:r(j)<j?O:M)(j)}return p.invert=function(j){return new Date(g(j))},p.domain=function(j){return arguments.length?y(Array.from(j,GK)):y().map(HK)},p.ticks=function(j){var T=y();return t(T[0],T[T.length-1],j??10)},p.tickFormat=function(j,T){return T==null?A:f(T)},p.nice=function(j){var T=y();return(!j||typeof j.range!="function")&&(j=e(T[0],T[T.length-1],j??10)),j?y(b4(T,j)):p},p.copy=function(){return lf(p,$S(t,e,r,n,i,a,o,u,d,f))},p}function KK(){return Kn.apply($S(qG,zG,Ta,DS,Qm,uf,RS,OS,_o,C4).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function YK(){return Kn.apply($S(UG,BG,ja,LS,Jm,Xm,MS,CS,_o,R4).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Zm(){var t=0,e=1,r,n,i,a,o=Kr,u=!1,d;function f(g){return g==null||isNaN(g=+g)?d:o(i===0?.5:(g=(a(g)-r)*i,u?Math.max(0,Math.min(1,g)):g))}f.domain=function(g){return arguments.length?([t,e]=g,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),f):[t,e]},f.clamp=function(g){return arguments.length?(u=!!g,f):u},f.interpolator=function(g){return arguments.length?(o=g,f):o};function p(g){return function(y){var x,S;return arguments.length?([x,S]=y,o=g(x,S),f):[o(0),o(1)]}}return f.range=p(Lu),f.rangeRound=p(SS),f.unknown=function(g){return arguments.length?(d=g,f):d},function(g){return a=g,r=g(t),n=g(e),i=r===n?0:1/(n-r),f}}function Ms(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function M4(){var t=Rs(Zm()(Kr));return t.copy=function(){return Ms(t,M4())},Oa.apply(t,arguments)}function D4(){var t=TS(Zm()).domain([1,10]);return t.copy=function(){return Ms(t,D4()).base(t.base())},Oa.apply(t,arguments)}function L4(){var t=jS(Zm());return t.copy=function(){return Ms(t,L4()).constant(t.constant())},Oa.apply(t,arguments)}function FS(){var t=NS(Zm());return t.copy=function(){return Ms(t,FS()).exponent(t.exponent())},Oa.apply(t,arguments)}function XK(){return FS.apply(null,arguments).exponent(.5)}function $4(){var t=[],e=Kr;function r(n){if(n!=null&&!isNaN(n=+n))return e((sf(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ss),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>DH(t,a/n))},r.copy=function(){return $4(e).domain(t)},Oa.apply(r,arguments)}function eg(){var t=0,e=.5,r=1,n=1,i,a,o,u,d,f=Kr,p,g=!1,y;function x(_){return isNaN(_=+_)?y:(_=.5+((_=+p(_))-a)*(n*_<n*a?u:d),f(g?Math.max(0,Math.min(1,_)):_))}x.domain=function(_){return arguments.length?([t,e,r]=_,i=p(t=+t),a=p(e=+e),o=p(r=+r),u=i===a?0:.5/(a-i),d=a===o?0:.5/(o-a),n=a<i?-1:1,x):[t,e,r]},x.clamp=function(_){return arguments.length?(g=!!_,x):g},x.interpolator=function(_){return arguments.length?(f=_,x):f};function S(_){return function(w){var R,N,O;return arguments.length?([R,N,O]=w,f=lG(_,[R,N,O]),x):[f(0),f(.5),f(1)]}}return x.range=S(Lu),x.rangeRound=S(SS),x.unknown=function(_){return arguments.length?(y=_,x):y},function(_){return p=_,i=_(t),a=_(e),o=_(r),u=i===a?0:.5/(a-i),d=a===o?0:.5/(o-a),n=a<i?-1:1,x}}function F4(){var t=Rs(eg()(Kr));return t.copy=function(){return Ms(t,F4())},Oa.apply(t,arguments)}function V4(){var t=TS(eg()).domain([.1,1,10]);return t.copy=function(){return Ms(t,V4()).base(t.base())},Oa.apply(t,arguments)}function U4(){var t=jS(eg());return t.copy=function(){return Ms(t,U4()).constant(t.constant())},Oa.apply(t,arguments)}function VS(){var t=NS(eg());return t.copy=function(){return Ms(t,VS()).exponent(t.exponent())},Oa.apply(t,arguments)}function QK(){return VS.apply(null,arguments).exponent(.5)}const SO=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:hd,scaleDiverging:F4,scaleDivergingLog:V4,scaleDivergingPow:VS,scaleDivergingSqrt:QK,scaleDivergingSymlog:U4,scaleIdentity:x4,scaleImplicit:uw,scaleLinear:Vp,scaleLog:_4,scaleOrdinal:bS,scalePoint:Gc,scalePow:PS,scaleQuantile:k4,scaleQuantize:E4,scaleRadial:S4,scaleSequential:M4,scaleSequentialLog:D4,scaleSequentialPow:FS,scaleSequentialQuantile:$4,scaleSequentialSqrt:XK,scaleSequentialSymlog:L4,scaleSqrt:IG,scaleSymlog:w4,scaleThreshold:A4,scaleTime:KK,scaleUtc:YK,tickFormat:y4},Symbol.toStringTag,{value:"Module"}));var kb,kO;function tg(){if(kO)return kb;kO=1;var t=Cu();function e(r,n,i){for(var a=-1,o=r.length;++a<o;){var u=r[a],d=n(u);if(d!=null&&(f===void 0?d===d&&!t(d):i(d,f)))var f=d,p=u}return p}return kb=e,kb}var Eb,EO;function B4(){if(EO)return Eb;EO=1;function t(e,r){return e>r}return Eb=t,Eb}var Ab,AO;function JK(){if(AO)return Ab;AO=1;var t=tg(),e=B4(),r=Mu();function n(i){return i&&i.length?t(i,r,e):void 0}return Ab=n,Ab}var ZK=JK();const rg=ht(ZK);var Tb,TO;function q4(){if(TO)return Tb;TO=1;function t(e,r){return e<r}return Tb=t,Tb}var jb,jO;function eY(){if(jO)return jb;jO=1;var t=tg(),e=q4(),r=Mu();function n(i){return i&&i.length?t(i,r,e):void 0}return jb=n,jb}var tY=eY();const ng=ht(tY);var Nb,NO;function rY(){if(NO)return Nb;NO=1;var t=tS(),e=Yi(),r=QD(),n=dn();function i(a,o){var u=n(a)?t:r;return u(a,e(o,3))}return Nb=i,Nb}var Pb,PO;function nY(){if(PO)return Pb;PO=1;var t=YD(),e=rY();function r(n,i){return t(e(n,i),1)}return Pb=r,Pb}var iY=nY();const aY=ht(iY);var Ib,IO;function sY(){if(IO)return Ib;IO=1;var t=pS();function e(r,n){return t(r,n)}return Ib=e,Ib}var oY=sY();const ig=ht(oY);var $u=1e9,lY={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},BS,Ot=!0,Gn="[DecimalError] ",Ao=Gn+"Invalid argument: ",US=Gn+"Exponent out of range: ",Fu=Math.floor,po=Math.pow,uY=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,wn,pr=1e7,jt=7,z4=9007199254740991,zp=Fu(z4/jt),Ie={};Ie.absoluteValue=Ie.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ie.comparedTo=Ie.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Ie.decimalPlaces=Ie.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*jt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Ie.dividedBy=Ie.div=function(t){return _a(this,new this.constructor(t))};Ie.dividedToIntegerBy=Ie.idiv=function(t){var e=this,r=e.constructor;return bt(_a(e,new r(t),0,1),r.precision)};Ie.equals=Ie.eq=function(t){return!this.cmp(t)};Ie.exponent=function(){return Qt(this)};Ie.greaterThan=Ie.gt=function(t){return this.cmp(t)>0};Ie.greaterThanOrEqualTo=Ie.gte=function(t){return this.cmp(t)>=0};Ie.isInteger=Ie.isint=function(){return this.e>this.d.length-2};Ie.isNegative=Ie.isneg=function(){return this.s<0};Ie.isPositive=Ie.ispos=function(){return this.s>0};Ie.isZero=function(){return this.s===0};Ie.lessThan=Ie.lt=function(t){return this.cmp(t)<0};Ie.lessThanOrEqualTo=Ie.lte=function(t){return this.cmp(t)<1};Ie.logarithm=Ie.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(wn))throw Error(Gn+"NaN");if(r.s<1)throw Error(Gn+(r.s?"NaN":"-Infinity"));return r.eq(wn)?new n(0):(Ot=!1,e=_a(yd(r,a),yd(t,a),a),Ot=!0,bt(e,i))};Ie.minus=Ie.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?G4(e,t):W4(e,(t.s=-t.s,t))};Ie.modulo=Ie.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Gn+"NaN");return r.s?(Ot=!1,e=_a(r,t,0,1).times(t),Ot=!0,r.minus(e)):bt(new n(r),i)};Ie.naturalExponential=Ie.exp=function(){return H4(this)};Ie.naturalLogarithm=Ie.ln=function(){return yd(this)};Ie.negated=Ie.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ie.plus=Ie.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?W4(e,t):G4(e,(t.s=-t.s,t))};Ie.precision=Ie.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ao+t);if(e=Qt(i)+1,n=i.d.length-1,r=n*jt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Ie.squareRoot=Ie.sqrt=function(){var t,e,r,n,i,a,o,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(Gn+"NaN")}for(t=Qt(u),Ot=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=Mi(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Fu((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new d(e)):n=new d(i.toString()),r=d.precision,i=o=r+3;;)if(a=n,n=a.plus(_a(u,a,o+2)).times(.5),Mi(a.d).slice(0,o)===(e=Mi(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(bt(a,r+1,0),a.times(a).eq(u)){n=a;break}}else if(e!="9999")break;o+=4}return Ot=!0,bt(n,r)};Ie.times=Ie.mul=function(t){var e,r,n,i,a,o,u,d,f,p=this,g=p.constructor,y=p.d,x=(t=new g(t)).d;if(!p.s||!t.s)return new g(0);for(t.s*=p.s,r=p.e+t.e,d=y.length,f=x.length,d<f&&(a=y,y=x,x=a,o=d,d=f,f=o),a=[],o=d+f,n=o;n--;)a.push(0);for(n=f;--n>=0;){for(e=0,i=d+n;i>n;)u=a[i]+x[n]*y[i-n-1]+e,a[i--]=u%pr|0,e=u/pr|0;a[i]=(a[i]+e)%pr|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,Ot?bt(t,g.precision):t};Ie.toDecimalPlaces=Ie.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(zi(t,0,$u),e===void 0?e=n.rounding:zi(e,0,8),bt(r,t+Qt(r)+1,e))};Ie.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Do(n,!0):(zi(t,0,$u),e===void 0?e=i.rounding:zi(e,0,8),n=bt(new i(n),t+1,e),r=Do(n,!0,t+1)),r};Ie.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?Do(i):(zi(t,0,$u),e===void 0?e=a.rounding:zi(e,0,8),n=bt(new a(i),t+Qt(i)+1,e),r=Do(n.abs(),!1,t+Qt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Ie.toInteger=Ie.toint=function(){var t=this,e=t.constructor;return bt(new e(t),Qt(t)+1,e.rounding)};Ie.toNumber=function(){return+this};Ie.toPower=Ie.pow=function(t){var e,r,n,i,a,o,u=this,d=u.constructor,f=12,p=+(t=new d(t));if(!t.s)return new d(wn);if(u=new d(u),!u.s){if(t.s<1)throw Error(Gn+"Infinity");return u}if(u.eq(wn))return u;if(n=d.precision,t.eq(wn))return bt(u,n);if(e=t.e,r=t.d.length-1,o=e>=r,a=u.s,o){if((r=p<0?-p:p)<=z4){for(i=new d(wn),e=Math.ceil(n/jt+4),Ot=!1;r%2&&(i=i.times(u),CO(i.d,e)),r=Fu(r/2),r!==0;)u=u.times(u),CO(u.d,e);return Ot=!0,t.s<0?new d(wn).div(i):bt(i,n)}}else if(a<0)throw Error(Gn+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,u.s=1,Ot=!1,i=t.times(yd(u,n+f)),Ot=!0,i=H4(i),i.s=a,i};Ie.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=Qt(i),n=Do(i,r<=a.toExpNeg||r>=a.toExpPos)):(zi(t,1,$u),e===void 0?e=a.rounding:zi(e,0,8),i=bt(new a(i),t,e),r=Qt(i),n=Do(i,t<=r||r<=a.toExpNeg,t)),n};Ie.toSignificantDigits=Ie.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(zi(t,1,$u),e===void 0?e=n.rounding:zi(e,0,8)),bt(new n(r),t,e)};Ie.toString=Ie.valueOf=Ie.val=Ie.toJSON=Ie[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Qt(t),r=t.constructor;return Do(t,e<=r.toExpNeg||e>=r.toExpPos)};function W4(t,e){var r,n,i,a,o,u,d,f,p=t.constructor,g=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),Ot?bt(e,g):e;if(d=t.d,f=e.d,o=t.e,i=e.e,d=d.slice(),a=o-i,a){for(a<0?(n=d,a=-a,u=f.length):(n=f,i=o,u=d.length),o=Math.ceil(g/jt),u=o>u?o+1:u+1,a>u&&(a=u,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(u=d.length,a=f.length,u-a<0&&(a=u,n=f,f=d,d=n),r=0;a;)r=(d[--a]=d[a]+f[a]+r)/pr|0,d[a]%=pr;for(r&&(d.unshift(r),++i),u=d.length;d[--u]==0;)d.pop();return e.d=d,e.e=i,Ot?bt(e,g):e}function zi(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Ao+t)}function Mi(t){var e,r,n,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)n=t[e]+"",r=jt-n.length,r&&(a+=cs(r)),a+=n;o=t[e],n=o+"",r=jt-n.length,r&&(a+=cs(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var _a=function(){function t(n,i){var a,o=0,u=n.length;for(n=n.slice();u--;)a=n[u]*i+o,n[u]=a%pr|0,o=a/pr|0;return o&&n.unshift(o),n}function e(n,i,a,o){var u,d;if(a!=o)d=a>o?1:-1;else for(u=d=0;u<a;u++)if(n[u]!=i[u]){d=n[u]>i[u]?1:-1;break}return d}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*pr+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var u,d,f,p,g,y,x,S,_,w,R,N,O,M,A,j,T,P,L=n.constructor,I=n.s==i.s?1:-1,D=n.d,V=i.d;if(!n.s)return new L(n);if(!i.s)throw Error(Gn+"Division by zero");for(d=n.e-i.e,T=V.length,A=D.length,x=new L(I),S=x.d=[],f=0;V[f]==(D[f]||0);)++f;if(V[f]>(D[f]||0)&&--d,a==null?N=a=L.precision:o?N=a+(Qt(n)-Qt(i))+1:N=a,N<0)return new L(0);if(N=N/jt+2|0,f=0,T==1)for(p=0,V=V[0],N++;(f<A||p)&&N--;f++)O=p*pr+(D[f]||0),S[f]=O/V|0,p=O%V|0;else{for(p=pr/(V[0]+1)|0,p>1&&(V=t(V,p),D=t(D,p),T=V.length,A=D.length),M=T,_=D.slice(0,T),w=_.length;w<T;)_[w++]=0;P=V.slice(),P.unshift(0),j=V[0],V[1]>=pr/2&&++j;do p=0,u=e(V,_,T,w),u<0?(R=_[0],T!=w&&(R=R*pr+(_[1]||0)),p=R/j|0,p>1?(p>=pr&&(p=pr-1),g=t(V,p),y=g.length,w=_.length,u=e(g,_,y,w),u==1&&(p--,r(g,T<y?P:V,y))):(p==0&&(u=p=1),g=V.slice()),y=g.length,y<w&&g.unshift(0),r(_,g,w),u==-1&&(w=_.length,u=e(V,_,T,w),u<1&&(p++,r(_,T<w?P:V,w))),w=_.length):u===0&&(p++,_=[0]),S[f++]=p,u&&_[0]?_[w++]=D[M]||0:(_=[D[M]],w=1);while((M++<A||_[0]!==void 0)&&N--)}return S[0]||S.shift(),x.e=d,bt(x,o?a+Qt(x)+1:a)}}();function H4(t,e){var r,n,i,a,o,u,d=0,f=0,p=t.constructor,g=p.precision;if(Qt(t)>16)throw Error(US+Qt(t));if(!t.s)return new p(wn);for(Ot=!1,u=g,o=new p(.03125);t.abs().gte(.1);)t=t.times(o),f+=5;for(n=Math.log(po(2,f))/Math.LN10*2+5|0,u+=n,r=i=a=new p(wn),p.precision=u;;){if(i=bt(i.times(t),u),r=r.times(++d),o=a.plus(_a(i,r,u)),Mi(o.d).slice(0,u)===Mi(a.d).slice(0,u)){for(;f--;)a=bt(a.times(a),u);return p.precision=g,e==null?(Ot=!0,bt(a,g)):a}a=o}}function Qt(t){for(var e=t.e*jt,r=t.d[0];r>=10;r/=10)e++;return e}function Ob(t,e,r){if(e>t.LN10.sd())throw Ot=!0,r&&(t.precision=r),Error(Gn+"LN10 precision limit exceeded");return bt(new t(t.LN10),e)}function cs(t){for(var e="";t--;)e+="0";return e}function yd(t,e){var r,n,i,a,o,u,d,f,p,g=1,y=10,x=t,S=x.d,_=x.constructor,w=_.precision;if(x.s<1)throw Error(Gn+(x.s?"NaN":"-Infinity"));if(x.eq(wn))return new _(0);if(e==null?(Ot=!1,f=w):f=e,x.eq(10))return e==null&&(Ot=!0),Ob(_,f);if(f+=y,_.precision=f,r=Mi(S),n=r.charAt(0),a=Qt(x),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)x=x.times(t),r=Mi(x.d),n=r.charAt(0),g++;a=Qt(x),n>1?(x=new _("0."+r),a++):x=new _(n+"."+r.slice(1))}else return d=Ob(_,f+2,w).times(a+""),x=yd(new _(n+"."+r.slice(1)),f-y).plus(d),_.precision=w,e==null?(Ot=!0,bt(x,w)):x;for(u=o=x=_a(x.minus(wn),x.plus(wn),f),p=bt(x.times(x),f),i=3;;){if(o=bt(o.times(p),f),d=u.plus(_a(o,new _(i),f)),Mi(d.d).slice(0,f)===Mi(u.d).slice(0,f))return u=u.times(2),a!==0&&(u=u.plus(Ob(_,f+2,w).times(a+""))),u=_a(u,new _(g),f),_.precision=w,e==null?(Ot=!0,bt(u,w)):u;u=d,i+=2}}function OO(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Fu(r/jt),t.d=[],n=(r+1)%jt,r<0&&(n+=jt),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=jt;n<i;)t.d.push(+e.slice(n,n+=jt));e=e.slice(n),n=jt-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Ot&&(t.e>zp||t.e<-zp))throw Error(US+r)}else t.s=0,t.e=0,t.d=[0];return t}function bt(t,e,r){var n,i,a,o,u,d,f,p,g=t.d;for(o=1,a=g[0];a>=10;a/=10)o++;if(n=e-o,n<0)n+=jt,i=e,f=g[p=0];else{if(p=Math.ceil((n+1)/jt),a=g.length,p>=a)return t;for(f=a=g[p],o=1;a>=10;a/=10)o++;n%=jt,i=n-jt+o}if(r!==void 0&&(a=po(10,o-i-1),u=f/a%10|0,d=e<0||g[p+1]!==void 0||f%a,d=r<4?(u||d)&&(r==0||r==(t.s<0?3:2)):u>5||u==5&&(r==4||d||r==6&&(n>0?i>0?f/po(10,o-i):0:g[p-1])%10&1||r==(t.s<0?8:7))),e<1||!g[0])return d?(a=Qt(t),g.length=1,e=e-a-1,g[0]=po(10,(jt-e%jt)%jt),t.e=Fu(-e/jt)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(n==0?(g.length=p,a=1,p--):(g.length=p+1,a=po(10,jt-n),g[p]=i>0?(f/po(10,o-i)%po(10,i)|0)*a:0),d)for(;;)if(p==0){(g[0]+=a)==pr&&(g[0]=1,++t.e);break}else{if(g[p]+=a,g[p]!=pr)break;g[p--]=0,a=1}for(n=g.length;g[--n]===0;)g.pop();if(Ot&&(t.e>zp||t.e<-zp))throw Error(US+Qt(t));return t}function G4(t,e){var r,n,i,a,o,u,d,f,p,g,y=t.constructor,x=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),Ot?bt(e,x):e;if(d=t.d,g=e.d,n=e.e,f=t.e,d=d.slice(),o=f-n,o){for(p=o<0,p?(r=d,o=-o,u=g.length):(r=g,n=f,u=d.length),i=Math.max(Math.ceil(x/jt),u)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=d.length,u=g.length,p=i<u,p&&(u=i),i=0;i<u;i++)if(d[i]!=g[i]){p=d[i]<g[i];break}o=0}for(p&&(r=d,d=g,g=r,e.s=-e.s),u=d.length,i=g.length-u;i>0;--i)d[u++]=0;for(i=g.length;i>o;){if(d[--i]<g[i]){for(a=i;a&&d[--a]===0;)d[a]=pr-1;--d[a],d[i]+=pr}d[i]-=g[i]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(e.d=d,e.e=n,Ot?bt(e,x):e):new y(0)}function Do(t,e,r){var n,i=Qt(t),a=Mi(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+cs(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+cs(-i-1)+a,r&&(n=r-o)>0&&(a+=cs(n))):i>=o?(a+=cs(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+cs(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=cs(n))),t.s<0?"-"+a:a}function CO(t,e){if(t.length>e)return t.length=e,!0}function K4(t){var e,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Ao+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return OO(o,a.toString())}else if(typeof a!="string")throw Error(Ao+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,uY.test(a))OO(o,a);else throw Error(Ao+a)}if(i.prototype=Ie,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=K4,i.config=i.set=cY,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function cY(t){if(!t||typeof t!="object")throw Error(Gn+"Object expected");var e,r,n,i=["precision",1,$u,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Fu(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Ao+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ao+r+": "+n);return this}var BS=K4(lY);wn=new BS(1);const gt=BS;function dY(t){return mY(t)||pY(t)||hY(t)||fY()}function fY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hY(t,e){if(t){if(typeof t=="string")return hw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hw(t,e)}}function pY(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function mY(t){if(Array.isArray(t))return hw(t)}function hw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var gY=function(e){return e},Y4={},X4=function(e){return e===Y4},RO=function(e){return function r(){return arguments.length===0||arguments.length===1&&X4(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},vY=function t(e,r){return e===1?r:RO(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(function(u){return u!==Y4}).length;return o>=e?r.apply(void 0,i):t(e-o,RO(function(){for(var u=arguments.length,d=new Array(u),f=0;f<u;f++)d[f]=arguments[f];var p=i.map(function(g){return X4(g)?d.shift():g});return r.apply(void 0,dY(p).concat(d))}))})},ag=function(e){return vY(e.length,e)},pw=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},yY=ag(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),xY=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return gY;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(u,d){return d(u)},a.apply(void 0,arguments))}},mw=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Q4=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r&&a.every(function(u,d){return u===r[d]})||(r=a,n=e.apply(void 0,a)),n}};function bY(t){var e;return t===0?e=1:e=Math.floor(new gt(t).abs().log(10).toNumber())+1,e}function _Y(t,e,r){for(var n=new gt(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var wY=ag(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),SY=ag(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),kY=ag(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const sg={rangeStep:_Y,getDigitCount:bY,interpolateNumber:wY,uninterpolateNumber:SY,uninterpolateTruncation:kY};function gw(t){return TY(t)||AY(t)||J4(t)||EY()}function EY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AY(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function TY(t){if(Array.isArray(t))return vw(t)}function xd(t,e){return PY(t)||NY(t,e)||J4(t,e)||jY()}function jY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J4(t,e){if(t){if(typeof t=="string")return vw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vw(t,e)}}function vw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function NY(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),u;!(n=(u=o.next()).done)&&(r.push(u.value),!(e&&r.length===e));n=!0);}catch(d){i=!0,a=d}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}}function PY(t){if(Array.isArray(t))return t}function Z4(t){var e=xd(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function eL(t,e,r){if(t.lte(0))return new gt(0);var n=sg.getDigitCount(t.toNumber()),i=new gt(10).pow(n),a=t.div(i),o=n!==1?.05:.1,u=new gt(Math.ceil(a.div(o).toNumber())).add(r).mul(o),d=u.mul(i);return e?d:new gt(Math.ceil(d))}function IY(t,e,r){var n=1,i=new gt(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new gt(10).pow(sg.getDigitCount(t)-1),i=new gt(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new gt(Math.floor(t)))}else t===0?i=new gt(Math.floor((e-1)/2)):r||(i=new gt(Math.floor(t)));var o=Math.floor((e-1)/2),u=xY(yY(function(d){return i.add(new gt(d-o).mul(n)).toNumber()}),pw);return u(0,e)}function tL(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new gt(0),tickMin:new gt(0),tickMax:new gt(0)};var a=eL(new gt(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new gt(0):(o=new gt(t).add(e).div(2),o=o.sub(new gt(o).mod(a)));var u=Math.ceil(o.sub(t).div(a).toNumber()),d=Math.ceil(new gt(e).sub(o).div(a).toNumber()),f=u+d+1;return f>r?tL(t,e,r,n,i+1):(f<r&&(d=e>0?d+(r-f):d,u=e>0?u:u+(r-f)),{step:a,tickMin:o.sub(new gt(u).mul(a)),tickMax:o.add(new gt(d).mul(a))})}function OY(t){var e=xd(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),u=Z4([r,n]),d=xd(u,2),f=d[0],p=d[1];if(f===-1/0||p===1/0){var g=p===1/0?[f].concat(gw(pw(0,i-1).map(function(){return 1/0}))):[].concat(gw(pw(0,i-1).map(function(){return-1/0})),[p]);return r>n?mw(g):g}if(f===p)return IY(f,i,a);var y=tL(f,p,o,a),x=y.step,S=y.tickMin,_=y.tickMax,w=sg.rangeStep(S,_.add(new gt(.1).mul(x)),x);return r>n?mw(w):w}function CY(t,e){var r=xd(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Z4([n,i]),u=xd(o,2),d=u[0],f=u[1];if(d===-1/0||f===1/0)return[n,i];if(d===f)return[d];var p=Math.max(e,2),g=eL(new gt(f).sub(d).div(p-1),a,0),y=[].concat(gw(sg.rangeStep(new gt(d),new gt(f).sub(new gt(.99).mul(g)),g)),[f]);return n>i?mw(y):y}var RY=Q4(OY),MY=Q4(CY),DY="Invariant failed";function Lo(t,e){throw new Error(DY)}var LY=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function du(t){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},du(t)}function Wp(){return Wp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wp.apply(this,arguments)}function $Y(t,e){return BY(t)||UY(t,e)||VY(t,e)||FY()}function FY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VY(t,e){if(t){if(typeof t=="string")return MO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MO(t,e)}}function MO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function UY(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function BY(t){if(Array.isArray(t))return t}function qY(t,e){if(t==null)return{};var r=zY(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function zY(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function WY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HY(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,iL(n.key),n)}}function GY(t,e,r){return e&&HY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function KY(t,e,r){return e=Hp(e),YY(t,rL()?Reflect.construct(e,r||[],Hp(t).constructor):e.apply(t,r))}function YY(t,e){if(e&&(du(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XY(t)}function XY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rL=function(){return!!t})()}function Hp(t){return Hp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hp(t)}function QY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yw(t,e)}function yw(t,e){return yw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},yw(t,e)}function nL(t,e,r){return e=iL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iL(t){var e=JY(t,"string");return du(e)=="symbol"?e:e+""}function JY(t,e){if(du(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var og=function(t){function e(){return WY(this,e),KY(this,e,arguments)}return QY(e,t),GY(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,o=n.width,u=n.dataKey,d=n.data,f=n.dataPointFormatter,p=n.xAxis,g=n.yAxis,y=qY(n,LY),x=ze(y,!1);this.props.direction==="x"&&p.type!=="number"&&Lo();var S=d.map(function(_){var w=f(_,u),R=w.x,N=w.y,O=w.value,M=w.errorVal;if(!M)return null;var A=[],j,T;if(Array.isArray(M)){var P=$Y(M,2);j=P[0],T=P[1]}else j=T=M;if(a==="vertical"){var L=p.scale,I=N+i,D=I+o,V=I-o,$=L(O-j),ee=L(O+T);A.push({x1:ee,y1:D,x2:ee,y2:V}),A.push({x1:$,y1:I,x2:ee,y2:I}),A.push({x1:$,y1:D,x2:$,y2:V})}else if(a==="horizontal"){var ne=g.scale,Q=R+i,ie=Q-o,Z=Q+o,J=ne(O-j),se=ne(O+T);A.push({x1:ie,y1:se,x2:Z,y2:se}),A.push({x1:Q,y1:J,x2:Q,y2:se}),A.push({x1:ie,y1:J,x2:Z,y2:J})}return G.createElement(mt,Wp({className:"recharts-errorBar",key:"bar-".concat(A.map(function(q){return"".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))},x),A.map(function(q){return G.createElement("line",Wp({},q,{key:"line-".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))}))});return G.createElement(mt,{className:"recharts-errorBars"},S)}}])}(G.Component);nL(og,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});nL(og,"displayName","ErrorBar");function bd(t){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bd(t)}function DO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DO(Object(r),!0).forEach(function(n){ZY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZY(t,e,r){return e=eX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eX(t){var e=tX(t,"string");return bd(e)=="symbol"?e:e+""}function tX(t,e){if(bd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aL=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=_n(r,ws);if(!o)return null;var u=ws.defaultProps,d=u!==void 0?lo(lo({},u),o.props):{},f;return o.props&&o.props.payload?f=o.props&&o.props.payload:a==="children"?f=(n||[]).reduce(function(p,g){var y=g.item,x=g.props,S=x.sectors||x.data||[];return p.concat(S.map(function(_){return{type:o.props.iconType||y.props.legendType,value:_.name,color:_.fill,payload:_}}))},[]):f=(n||[]).map(function(p){var g=p.item,y=g.type.defaultProps,x=y!==void 0?lo(lo({},y),g.props):{},S=x.dataKey,_=x.name,w=x.legendType,R=x.hide;return{inactive:R,dataKey:S,type:d.iconType||w||"square",color:qS(g),value:_||S,payload:x}}),lo(lo(lo({},d),ws.getWithHeight(o,i)),{},{payload:f,item:o})};function _d(t){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_d(t)}function LO(t){return aX(t)||iX(t)||nX(t)||rX()}function rX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nX(t,e){if(t){if(typeof t=="string")return xw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xw(t,e)}}function iX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function aX(t){if(Array.isArray(t))return xw(t)}function xw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $O(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ft(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$O(Object(r),!0).forEach(function(n){Kl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$O(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kl(t,e,r){return e=sX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sX(t){var e=oX(t,"string");return _d(e)=="symbol"?e:e+""}function oX(t,e){if(_d(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_d(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lr(t,e,r){return Je(t)||Je(e)?r:ir(e)?En(t,e,r):He(e)?e(t):r}function Kc(t,e,r,n){var i=aY(t,function(u){return Lr(u,e)});if(r==="number"){var a=i.filter(function(u){return ke(u)||parseFloat(u)});return a.length?[ng(a),rg(a)]:[1/0,-1/0]}var o=n?i.filter(function(u){return!Je(u)}):i;return o.map(function(u){return ir(u)||u instanceof Date?u:""})}var lX=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,u=(r=n?.length)!==null&&r!==void 0?r:0;if(u<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var d=a.range,f=0;f<u;f++){var p=f>0?i[f-1].coordinate:i[u-1].coordinate,g=i[f].coordinate,y=f>=u-1?i[0].coordinate:i[f+1].coordinate,x=void 0;if(Hr(g-p)!==Hr(y-g)){var S=[];if(Hr(y-g)===Hr(d[1]-d[0])){x=y;var _=g+d[1]-d[0];S[0]=Math.min(_,(_+p)/2),S[1]=Math.max(_,(_+p)/2)}else{x=p;var w=y+d[1]-d[0];S[0]=Math.min(g,(w+g)/2),S[1]=Math.max(g,(w+g)/2)}var R=[Math.min(g,(x+g)/2),Math.max(g,(x+g)/2)];if(e>R[0]&&e<=R[1]||e>=S[0]&&e<=S[1]){o=i[f].index;break}}else{var N=Math.min(p,y),O=Math.max(p,y);if(e>(N+g)/2&&e<=(O+g)/2){o=i[f].index;break}}}else for(var M=0;M<u;M++)if(M===0&&e<=(n[M].coordinate+n[M+1].coordinate)/2||M>0&&M<u-1&&e>(n[M].coordinate+n[M-1].coordinate)/2&&e<=(n[M].coordinate+n[M+1].coordinate)/2||M===u-1&&e>(n[M].coordinate+n[M-1].coordinate)/2){o=n[M].index;break}return o},qS=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Ft(Ft({},e.type.defaultProps),e.props):e.props,o=a.stroke,u=a.fill,d;switch(i){case"Line":d=o;break;case"Area":case"Radar":d=o&&o!=="none"?o:u;break;default:d=u;break}return d},uX=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},u=Object.keys(a),d=0,f=u.length;d<f;d++)for(var p=a[u[d]].stackGroups,g=Object.keys(p),y=0,x=g.length;y<x;y++){var S=p[g[y]],_=S.items,w=S.cateAxisId,R=_.filter(function(T){return ba(T.type).indexOf("Bar")>=0});if(R&&R.length){var N=R[0].type.defaultProps,O=N!==void 0?Ft(Ft({},N),R[0].props):R[0].props,M=O.barSize,A=O[w];o[A]||(o[A]=[]);var j=Je(M)?r:M;o[A].push({item:R[0],stackList:R.slice(1),barSize:Je(j)?void 0:Gr(j,n,0)})}}return o},cX=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,u=e.maxBarSize,d=o.length;if(d<1)return null;var f=Gr(r,i,0,!0),p,g=[];if(o[0].barSize===+o[0].barSize){var y=!1,x=i/d,S=o.reduce(function(M,A){return M+A.barSize||0},0);S+=(d-1)*f,S>=i&&(S-=(d-1)*f,f=0),S>=i&&x>0&&(y=!0,x*=.9,S=d*x);var _=(i-S)/2>>0,w={offset:_-f,size:0};p=o.reduce(function(M,A){var j={item:A.item,position:{offset:w.offset+w.size+f,size:y?x:A.barSize}},T=[].concat(LO(M),[j]);return w=T[T.length-1].position,A.stackList&&A.stackList.length&&A.stackList.forEach(function(P){T.push({item:P,position:w})}),T},g)}else{var R=Gr(n,i,0,!0);i-2*R-(d-1)*f<=0&&(f=0);var N=(i-2*R-(d-1)*f)/d;N>1&&(N>>=0);var O=u===+u?Math.min(N,u):N;p=o.reduce(function(M,A,j){var T=[].concat(LO(M),[{item:A.item,position:{offset:R+(N+f)*j+(N-O)/2,size:O}}]);return A.stackList&&A.stackList.length&&A.stackList.forEach(function(P){T.push({item:P,position:T[T.length-1].position})}),T},g)}return p},dX=function(e,r,n,i){var a=n.children,o=n.width,u=n.margin,d=o-(u.left||0)-(u.right||0),f=aL({children:a,legendWidth:d});if(f){var p=i||{},g=p.width,y=p.height,x=f.align,S=f.verticalAlign,_=f.layout;if((_==="vertical"||_==="horizontal"&&S==="middle")&&x!=="center"&&ke(e[x]))return Ft(Ft({},e),{},Kl({},x,e[x]+(g||0)));if((_==="horizontal"||_==="vertical"&&x==="center")&&S!=="middle"&&ke(e[S]))return Ft(Ft({},e),{},Kl({},S,e[S]+(y||0)))}return e},fX=function(e,r,n){return Je(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},sL=function(e,r,n,i,a){var o=r.props.children,u=Hn(o,og).filter(function(f){return fX(i,a,f.props.direction)});if(u&&u.length){var d=u.map(function(f){return f.props.dataKey});return e.reduce(function(f,p){var g=Lr(p,n);if(Je(g))return f;var y=Array.isArray(g)?[ng(g),rg(g)]:[g,g],x=d.reduce(function(S,_){var w=Lr(p,_,0),R=y[0]-Math.abs(Array.isArray(w)?w[0]:w),N=y[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(R,S[0]),Math.max(N,S[1])]},[1/0,-1/0]);return[Math.min(x[0],f[0]),Math.max(x[1],f[1])]},[1/0,-1/0])}return null},hX=function(e,r,n,i,a){var o=r.map(function(u){return sL(e,u,n,a,i)}).filter(function(u){return!Je(u)});return o&&o.length?o.reduce(function(u,d){return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]):null},oL=function(e,r,n,i,a){var o=r.map(function(d){var f=d.props.dataKey;return n==="number"&&f&&sL(e,d,f,i)||Kc(e,f,n,a)});if(n==="number")return o.reduce(function(d,f){return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);var u={};return o.reduce(function(d,f){for(var p=0,g=f.length;p<g;p++)u[f[p]]||(u[f[p]]=!0,d.push(f[p]));return d},[])},lL=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},uL=function(e,r,n,i){if(i)return e.map(function(d){return d.coordinate});var a,o,u=e.map(function(d){return d.coordinate===r&&(a=!0),d.coordinate===n&&(o=!0),d.coordinate});return a||u.push(r),o||u.push(n),u},ya=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,u=e.range,d=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/d:0;if(f=e.axisType==="angleAxis"&&u?.length>=2?Hr(u[0]-u[1])*2*f:f,r&&(e.ticks||e.niceTicks)){var p=(e.ticks||e.niceTicks).map(function(g){var y=a?a.indexOf(g):g;return{coordinate:i(y)+f,value:g,offset:f}});return p.filter(function(g){return!rf(g.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(g,y){return{coordinate:i(g)+f,value:g,index:y,offset:f}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(g){return{coordinate:i(g)+f,value:g,offset:f}}):i.domain().map(function(g,y){return{coordinate:i(g)+f,value:a?a[g]:g,index:y,offset:f}})},Cb=new WeakMap,Bh=function(e,r){if(typeof r!="function")return e;Cb.has(e)||Cb.set(e,new WeakMap);var n=Cb.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},cL=function(e,r,n){var i=e.scale,a=e.type,o=e.layout,u=e.axisType;if(i==="auto")return o==="radial"&&u==="radiusAxis"?{scale:hd(),realScaleType:"band"}:o==="radial"&&u==="angleAxis"?{scale:Vp(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Gc(),realScaleType:"point"}:a==="category"?{scale:hd(),realScaleType:"band"}:{scale:Vp(),realScaleType:"linear"};if(Co(i)){var d="scale".concat(Um(i));return{scale:(SO[d]||Gc)(),realScaleType:SO[d]?d:"point"}}return He(i)?{scale:i}:{scale:Gc(),realScaleType:"point"}},FO=1e-4,dL=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-FO,o=Math.max(i[0],i[1])+FO,u=e(r[0]),d=e(r[n-1]);(u<a||u>o||d<a||d>o)&&e.domain([r[0],r[n-1]])}},pX=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},mX=function(e,r){if(!r||r.length!==2||!ke(r[0])||!ke(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!ke(e[0])||e[0]<n)&&(a[0]=n),(!ke(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},gX=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0,u=0;u<r;++u){var d=rf(e[u][n][1])?e[u][n][0]:e[u][n][1];d>=0?(e[u][n][0]=a,e[u][n][1]=a+d,a=e[u][n][1]):(e[u][n][0]=o,e[u][n][1]=o+d,o=e[u][n][1])}},vX=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0;o<r;++o){var u=rf(e[o][n][1])?e[o][n][0]:e[o][n][1];u>=0?(e[o][n][0]=a,e[o][n][1]=a+u,a=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},yX={sign:gX,expand:a8,none:nu,silhouette:s8,wiggle:o8,positive:vX},xX=function(e,r,n){var i=r.map(function(u){return u.props.dataKey}),a=yX[n],o=i8().keys(i).value(function(u,d){return+Lr(u,d,0)}).order(Y_).offset(a);return o(e)},bX=function(e,r,n,i,a,o){if(!e)return null;var u=o?r.reverse():r,d={},f=u.reduce(function(g,y){var x,S=(x=y.type)!==null&&x!==void 0&&x.defaultProps?Ft(Ft({},y.type.defaultProps),y.props):y.props,_=S.stackId,w=S.hide;if(w)return g;var R=S[n],N=g[R]||{hasStack:!1,stackGroups:{}};if(ir(_)){var O=N.stackGroups[_]||{numericAxisId:n,cateAxisId:i,items:[]};O.items.push(y),N.hasStack=!0,N.stackGroups[_]=O}else N.stackGroups[nf("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[y]};return Ft(Ft({},g),{},Kl({},R,N))},d),p={};return Object.keys(f).reduce(function(g,y){var x=f[y];if(x.hasStack){var S={};x.stackGroups=Object.keys(x.stackGroups).reduce(function(_,w){var R=x.stackGroups[w];return Ft(Ft({},_),{},Kl({},w,{numericAxisId:n,cateAxisId:i,items:R.items,stackedData:xX(e,R.items,a)}))},S)}return Ft(Ft({},g),{},Kl({},y,x))},p)},fL=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,o=r.originalDomain,u=r.allowDecimals,d=n||r.scale;if(d!=="auto"&&d!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var f=e.domain();if(!f.length)return null;var p=RY(f,a,u);return e.domain([ng(p),rg(p)]),{niceTicks:p}}if(a&&i==="number"){var g=e.domain(),y=MY(g,a,u);return{niceTicks:y}}return null},VO=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,u=e.index;if(r.type==="category")return n[u]?n[u].coordinate+i:null;var d=Lr(o,r.dataKey,r.domain[u]);return Je(d)?null:r.scale(d)-a/2+i},_X=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},wX=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Ft(Ft({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(ir(a)){var o=r[a];if(o){var u=o.items.indexOf(e);return u>=0?o.stackedData[u]:null}}return null},SX=function(e){return e.reduce(function(r,n){return[ng(n.concat([r[0]]).filter(ke)),rg(n.concat([r[1]]).filter(ke))]},[1/0,-1/0])},hL=function(e,r,n){return Object.keys(e).reduce(function(i,a){var o=e[a],u=o.stackedData,d=u.reduce(function(f,p){var g=SX(p.slice(r,n+1));return[Math.min(f[0],g[0]),Math.max(f[1],g[1])]},[1/0,-1/0]);return[Math.min(d[0],i[0]),Math.max(d[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},UO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,BO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bw=function(e,r,n){if(He(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(ke(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(UO.test(e[0])){var a=+UO.exec(e[0])[1];i[0]=r[0]-a}else He(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(ke(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(BO.test(e[1])){var o=+BO.exec(e[1])[1];i[1]=r[1]+o}else He(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},Gp=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=gS(r,function(g){return g.coordinate}),o=1/0,u=1,d=a.length;u<d;u++){var f=a[u],p=a[u-1];o=Math.min((f.coordinate||0)-(p.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},qO=function(e,r,n){return!e||!e.length||ig(e,En(n,"type.defaultProps.domain"))?r:e},pL=function(e,r){var n=e.type.defaultProps?Ft(Ft({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,o=n.unit,u=n.formatter,d=n.tooltipType,f=n.chartType,p=n.hide;return Ft(Ft({},ze(e,!1)),{},{dataKey:i,unit:o,formatter:u,name:a||i,color:qS(e),value:Lr(r,i),type:d,payload:r,chartType:f,hide:p})};function wd(t){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wd(t)}function zO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function da(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zO(Object(r),!0).forEach(function(n){mL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mL(t,e,r){return e=kX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kX(t){var e=EX(t,"string");return wd(e)=="symbol"?e:e+""}function EX(t,e){if(wd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AX(t,e){return PX(t)||NX(t,e)||jX(t,e)||TX()}function TX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jX(t,e){if(t){if(typeof t=="string")return WO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WO(t,e)}}function WO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function NX(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function PX(t){if(Array.isArray(t))return t}var Kp=Math.PI/180,IX=function(e){return e*180/Math.PI},Et=function(e,r,n,i){return{x:e+Math.cos(-Kp*i)*n,y:r+Math.sin(-Kp*i)*n}},gL=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},OX=function(e,r,n,i,a){var o=e.width,u=e.height,d=e.startAngle,f=e.endAngle,p=Gr(e.cx,o,o/2),g=Gr(e.cy,u,u/2),y=gL(o,u,n),x=Gr(e.innerRadius,y,0),S=Gr(e.outerRadius,y,y*.8),_=Object.keys(r);return _.reduce(function(w,R){var N=r[R],O=N.domain,M=N.reversed,A;if(Je(N.range))i==="angleAxis"?A=[d,f]:i==="radiusAxis"&&(A=[x,S]),M&&(A=[A[1],A[0]]);else{A=N.range;var j=A,T=AX(j,2);d=T[0],f=T[1]}var P=cL(N,a),L=P.realScaleType,I=P.scale;I.domain(O).range(A),dL(I);var D=fL(I,da(da({},N),{},{realScaleType:L})),V=da(da(da({},N),D),{},{range:A,radius:S,realScaleType:L,scale:I,cx:p,cy:g,innerRadius:x,outerRadius:S,startAngle:d,endAngle:f});return da(da({},w),{},mL({},R,V))},{})},CX=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))},RX=function(e,r){var n=e.x,i=e.y,a=r.cx,o=r.cy,u=CX({x:n,y:i},{x:a,y:o});if(u<=0)return{radius:u};var d=(n-a)/u,f=Math.acos(d);return i>o&&(f=2*Math.PI-f),{radius:u,angle:IX(f),angleInRadian:f}},MX=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:r-o*360,endAngle:n-o*360}},DX=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),o=Math.floor(i/360),u=Math.min(a,o);return e+u*360},HO=function(e,r){var n=e.x,i=e.y,a=RX({x:n,y:i},r),o=a.radius,u=a.angle,d=r.innerRadius,f=r.outerRadius;if(o<d||o>f)return!1;if(o===0)return!0;var p=MX(r),g=p.startAngle,y=p.endAngle,x=u,S;if(g<=y){for(;x>y;)x-=360;for(;x<g;)x+=360;S=x>=g&&x<=y}else{for(;x>g;)x-=360;for(;x<y;)x+=360;S=x>=y&&x<=g}return S?da(da({},r),{},{radius:o,angle:DX(x,r)}):null},vL=function(e){return!z.isValidElement(e)&&!He(e)&&typeof e!="boolean"?e.className:""};function Sd(t){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sd(t)}var LX=["offset"];function $X(t){return BX(t)||UX(t)||VX(t)||FX()}function FX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VX(t,e){if(t){if(typeof t=="string")return _w(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _w(t,e)}}function UX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function BX(t){if(Array.isArray(t))return _w(t)}function _w(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qX(t,e){if(t==null)return{};var r=zX(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function zX(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function GO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GO(Object(r),!0).forEach(function(n){WX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WX(t,e,r){return e=HX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HX(t){var e=GX(t,"string");return Sd(e)=="symbol"?e:e+""}function GX(t,e){if(Sd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kd(){return kd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kd.apply(this,arguments)}var KX=function(e){var r=e.value,n=e.formatter,i=Je(e.children)?r:e.children;return He(n)?n(i):i},YX=function(e,r){var n=Hr(r-e),i=Math.min(Math.abs(r-e),360);return n*i},XX=function(e,r,n){var i=e.position,a=e.viewBox,o=e.offset,u=e.className,d=a,f=d.cx,p=d.cy,g=d.innerRadius,y=d.outerRadius,x=d.startAngle,S=d.endAngle,_=d.clockWise,w=(g+y)/2,R=YX(x,S),N=R>=0?1:-1,O,M;i==="insideStart"?(O=x+N*o,M=_):i==="insideEnd"?(O=S-N*o,M=!_):i==="end"&&(O=S+N*o,M=_),M=R<=0?M:!M;var A=Et(f,p,w,O),j=Et(f,p,w,O+(M?1:-1)*359),T="M".concat(A.x,",").concat(A.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(M?0:1,`,
    `).concat(j.x,",").concat(j.y),P=Je(e.id)?nf("recharts-radial-line-"):e.id;return G.createElement("text",kd({},n,{dominantBaseline:"central",className:Xe("recharts-radial-bar-label",u)}),G.createElement("defs",null,G.createElement("path",{id:P,d:T})),G.createElement("textPath",{xlinkHref:"#".concat(P)},r))},QX=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,o=a.cx,u=a.cy,d=a.innerRadius,f=a.outerRadius,p=a.startAngle,g=a.endAngle,y=(p+g)/2;if(i==="outside"){var x=Et(o,u,f+n,y),S=x.x,_=x.y;return{x:S,y:_,textAnchor:S>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:u,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:u,textAnchor:"middle",verticalAnchor:"end"};var w=(d+f)/2,R=Et(o,u,w,y),N=R.x,O=R.y;return{x:N,y:O,textAnchor:"middle",verticalAnchor:"middle"}},JX=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,o=r,u=o.x,d=o.y,f=o.width,p=o.height,g=p>=0?1:-1,y=g*i,x=g>0?"end":"start",S=g>0?"start":"end",_=f>=0?1:-1,w=_*i,R=_>0?"end":"start",N=_>0?"start":"end";if(a==="top"){var O={x:u+f/2,y:d-g*i,textAnchor:"middle",verticalAnchor:x};return nr(nr({},O),n?{height:Math.max(d-n.y,0),width:f}:{})}if(a==="bottom"){var M={x:u+f/2,y:d+p+y,textAnchor:"middle",verticalAnchor:S};return nr(nr({},M),n?{height:Math.max(n.y+n.height-(d+p),0),width:f}:{})}if(a==="left"){var A={x:u-w,y:d+p/2,textAnchor:R,verticalAnchor:"middle"};return nr(nr({},A),n?{width:Math.max(A.x-n.x,0),height:p}:{})}if(a==="right"){var j={x:u+f+w,y:d+p/2,textAnchor:N,verticalAnchor:"middle"};return nr(nr({},j),n?{width:Math.max(n.x+n.width-j.x,0),height:p}:{})}var T=n?{width:f,height:p}:{};return a==="insideLeft"?nr({x:u+w,y:d+p/2,textAnchor:N,verticalAnchor:"middle"},T):a==="insideRight"?nr({x:u+f-w,y:d+p/2,textAnchor:R,verticalAnchor:"middle"},T):a==="insideTop"?nr({x:u+f/2,y:d+y,textAnchor:"middle",verticalAnchor:S},T):a==="insideBottom"?nr({x:u+f/2,y:d+p-y,textAnchor:"middle",verticalAnchor:x},T):a==="insideTopLeft"?nr({x:u+w,y:d+y,textAnchor:N,verticalAnchor:S},T):a==="insideTopRight"?nr({x:u+f-w,y:d+y,textAnchor:R,verticalAnchor:S},T):a==="insideBottomLeft"?nr({x:u+w,y:d+p-y,textAnchor:N,verticalAnchor:x},T):a==="insideBottomRight"?nr({x:u+f-w,y:d+p-y,textAnchor:R,verticalAnchor:x},T):Ru(a)&&(ke(a.x)||xo(a.x))&&(ke(a.y)||xo(a.y))?nr({x:u+Gr(a.x,f),y:d+Gr(a.y,p),textAnchor:"end",verticalAnchor:"end"},T):nr({x:u+f/2,y:d+p/2,textAnchor:"middle",verticalAnchor:"middle"},T)},ZX=function(e){return"cx"in e&&ke(e.cx)};function mr(t){var e=t.offset,r=e===void 0?5:e,n=qX(t,LX),i=nr({offset:r},n),a=i.viewBox,o=i.position,u=i.value,d=i.children,f=i.content,p=i.className,g=p===void 0?"":p,y=i.textBreakAll;if(!a||Je(u)&&Je(d)&&!z.isValidElement(f)&&!He(f))return null;if(z.isValidElement(f))return z.cloneElement(f,i);var x;if(He(f)){if(x=z.createElement(f,i),z.isValidElement(x))return x}else x=KX(i);var S=ZX(a),_=ze(i,!0);if(S&&(o==="insideStart"||o==="insideEnd"||o==="end"))return XX(i,x,_);var w=S?QX(i):JX(i);return G.createElement(Mo,kd({className:Xe("recharts-label",g)},_,w,{breakAll:y}),x)}mr.displayName="Label";var yL=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,u=e.r,d=e.radius,f=e.innerRadius,p=e.outerRadius,g=e.x,y=e.y,x=e.top,S=e.left,_=e.width,w=e.height,R=e.clockWise,N=e.labelViewBox;if(N)return N;if(ke(_)&&ke(w)){if(ke(g)&&ke(y))return{x:g,y,width:_,height:w};if(ke(x)&&ke(S))return{x,y:S,width:_,height:w}}return ke(g)&&ke(y)?{x:g,y,width:0,height:0}:ke(r)&&ke(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:f||0,outerRadius:p||d||u||0,clockWise:R}:e.viewBox?e.viewBox:{}},eQ=function(e,r){return e?e===!0?G.createElement(mr,{key:"label-implicit",viewBox:r}):ir(e)?G.createElement(mr,{key:"label-implicit",viewBox:r,value:e}):z.isValidElement(e)?e.type===mr?z.cloneElement(e,{key:"label-implicit",viewBox:r}):G.createElement(mr,{key:"label-implicit",content:e,viewBox:r}):He(e)?G.createElement(mr,{key:"label-implicit",content:e,viewBox:r}):Ru(e)?G.createElement(mr,kd({viewBox:r},e,{key:"label-implicit"})):null:null},tQ=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=yL(e),o=Hn(i,mr).map(function(d,f){return z.cloneElement(d,{viewBox:r||a,key:"label-".concat(f)})});if(!n)return o;var u=eQ(e.label,r||a);return[u].concat($X(o))};mr.parseViewBox=yL;mr.renderCallByParent=tQ;var Rb,KO;function rQ(){if(KO)return Rb;KO=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return Rb=t,Rb}var nQ=rQ();const iQ=ht(nQ);function Ed(t){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ed(t)}var aQ=["valueAccessor"],sQ=["data","dataKey","clockWise","id","textBreakAll"];function oQ(t){return dQ(t)||cQ(t)||uQ(t)||lQ()}function lQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uQ(t,e){if(t){if(typeof t=="string")return ww(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ww(t,e)}}function cQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dQ(t){if(Array.isArray(t))return ww(t)}function ww(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Yp(){return Yp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yp.apply(this,arguments)}function YO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function XO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YO(Object(r),!0).forEach(function(n){fQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fQ(t,e,r){return e=hQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hQ(t){var e=pQ(t,"string");return Ed(e)=="symbol"?e:e+""}function pQ(t,e){if(Ed(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ed(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QO(t,e){if(t==null)return{};var r=mQ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mQ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var gQ=function(e){return Array.isArray(e.value)?iQ(e.value):e.value};function ks(t){var e=t.valueAccessor,r=e===void 0?gQ:e,n=QO(t,aQ),i=n.data,a=n.dataKey,o=n.clockWise,u=n.id,d=n.textBreakAll,f=QO(n,sQ);return!i||!i.length?null:G.createElement(mt,{className:"recharts-label-list"},i.map(function(p,g){var y=Je(a)?r(p,g):Lr(p&&p.payload,a),x=Je(u)?{}:{id:"".concat(u,"-").concat(g)};return G.createElement(mr,Yp({},ze(p,!0),f,x,{parentViewBox:p.parentViewBox,value:y,textBreakAll:d,viewBox:mr.parseViewBox(Je(o)?p:XO(XO({},p),{},{clockWise:o})),key:"label-".concat(g),index:g}))}))}ks.displayName="LabelList";function vQ(t,e){return t?t===!0?G.createElement(ks,{key:"labelList-implicit",data:e}):G.isValidElement(t)||He(t)?G.createElement(ks,{key:"labelList-implicit",data:e,content:t}):Ru(t)?G.createElement(ks,Yp({data:e},t,{key:"labelList-implicit"})):null:null}function yQ(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Hn(n,ks).map(function(o,u){return z.cloneElement(o,{data:e,key:"labelList-".concat(u)})});if(!r)return i;var a=vQ(t.label,e);return[a].concat(oQ(i))}ks.renderCallByParent=yQ;function Ad(t){"@babel/helpers - typeof";return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ad(t)}function Sw(){return Sw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sw.apply(this,arguments)}function JO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ZO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JO(Object(r),!0).forEach(function(n){xQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xQ(t,e,r){return e=bQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bQ(t){var e=_Q(t,"string");return Ad(e)=="symbol"?e:e+""}function _Q(t,e){if(Ad(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wQ=function(e,r){var n=Hr(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},qh=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,o=e.sign,u=e.isExternal,d=e.cornerRadius,f=e.cornerIsExternal,p=d*(u?1:-1)+i,g=Math.asin(d/p)/Kp,y=f?a:a+o*g,x=Et(r,n,p,y),S=Et(r,n,i,y),_=f?a-o*g:a,w=Et(r,n,p*Math.cos(g*Kp),_);return{center:x,circleTangency:S,lineTangency:w,theta:g}},xL=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,u=e.endAngle,d=wQ(o,u),f=o+d,p=Et(r,n,a,o),g=Et(r,n,a,f),y="M ".concat(p.x,",").concat(p.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(o>f),`,
    `).concat(g.x,",").concat(g.y,`
  `);if(i>0){var x=Et(r,n,i,o),S=Et(r,n,i,f);y+="L ".concat(S.x,",").concat(S.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(o<=f),`,
            `).concat(x.x,",").concat(x.y," Z")}else y+="L ".concat(r,",").concat(n," Z");return y},SQ=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,u=e.forceCornerRadius,d=e.cornerIsExternal,f=e.startAngle,p=e.endAngle,g=Hr(p-f),y=qh({cx:r,cy:n,radius:a,angle:f,sign:g,cornerRadius:o,cornerIsExternal:d}),x=y.circleTangency,S=y.lineTangency,_=y.theta,w=qh({cx:r,cy:n,radius:a,angle:p,sign:-g,cornerRadius:o,cornerIsExternal:d}),R=w.circleTangency,N=w.lineTangency,O=w.theta,M=d?Math.abs(f-p):Math.abs(f-p)-_-O;if(M<0)return u?"M ".concat(S.x,",").concat(S.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):xL({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:f,endAngle:p});var A="M ".concat(S.x,",").concat(S.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(g<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(M>180),",").concat(+(g<0),",").concat(R.x,",").concat(R.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(g<0),",").concat(N.x,",").concat(N.y,`
  `);if(i>0){var j=qh({cx:r,cy:n,radius:i,angle:f,sign:g,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),T=j.circleTangency,P=j.lineTangency,L=j.theta,I=qh({cx:r,cy:n,radius:i,angle:p,sign:-g,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),D=I.circleTangency,V=I.lineTangency,$=I.theta,ee=d?Math.abs(f-p):Math.abs(f-p)-L-$;if(ee<0&&o===0)return"".concat(A,"L").concat(r,",").concat(n,"Z");A+="L".concat(V.x,",").concat(V.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(g<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(ee>180),",").concat(+(g>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(g<0),",").concat(P.x,",").concat(P.y,"Z")}else A+="L".concat(r,",").concat(n,"Z");return A},kQ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},zS=function(e){var r=ZO(ZO({},kQ),e),n=r.cx,i=r.cy,a=r.innerRadius,o=r.outerRadius,u=r.cornerRadius,d=r.forceCornerRadius,f=r.cornerIsExternal,p=r.startAngle,g=r.endAngle,y=r.className;if(o<a||p===g)return null;var x=Xe("recharts-sector",y),S=o-a,_=Gr(u,S,0,!0),w;return _>0&&Math.abs(p-g)<360?w=SQ({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(_,S/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:p,endAngle:g}):w=xL({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:p,endAngle:g}),G.createElement("path",Sw({},ze(r,!0),{className:x,d:w,role:"img"}))};function Td(t){"@babel/helpers - typeof";return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Td(t)}function kw(){return kw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kw.apply(this,arguments)}function eC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eC(Object(r),!0).forEach(function(n){EQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function EQ(t,e,r){return e=AQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AQ(t){var e=TQ(t,"string");return Td(e)=="symbol"?e:e+""}function TQ(t,e){if(Td(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Td(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rC={curveBasisClosed:Gz,curveBasisOpen:Kz,curveBasis:Hz,curveBumpX:Oz,curveBumpY:Cz,curveLinearClosed:Yz,curveLinear:qm,curveMonotoneX:Xz,curveMonotoneY:Qz,curveNatural:Jz,curveStep:Zz,curveStepAfter:t8,curveStepBefore:e8},zh=function(e){return e.x===+e.x&&e.y===+e.y},jc=function(e){return e.x},Nc=function(e){return e.y},jQ=function(e,r){if(He(e))return e;var n="curve".concat(Um(e));return(n==="curveMonotone"||n==="curveBump")&&r?rC["".concat(n).concat(r==="vertical"?"Y":"X")]:rC[n]||qm},NQ=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,o=e.baseLine,u=e.layout,d=e.connectNulls,f=d===void 0?!1:d,p=jQ(n,u),g=f?a.filter(function(_){return zh(_)}):a,y;if(Array.isArray(o)){var x=f?o.filter(function(_){return zh(_)}):o,S=g.map(function(_,w){return tC(tC({},_),{},{base:x[w]})});return u==="vertical"?y=Mh().y(Nc).x1(jc).x0(function(_){return _.base.x}):y=Mh().x(jc).y1(Nc).y0(function(_){return _.base.y}),y.defined(zh).curve(p),y(S)}return u==="vertical"&&ke(o)?y=Mh().y(Nc).x1(jc).x0(o):ke(o)?y=Mh().x(jc).y1(Nc).y0(o):y=yD().x(jc).y(Nc),y.defined(zh).curve(p),y(g)},Ew=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?NQ(e):i;return z.createElement("path",kw({},ze(e,!1),Sp(e),{className:Xe("recharts-curve",r),d:o,ref:a}))},Mb={exports:{}},Db,nC;function PQ(){if(nC)return Db;nC=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Db=t,Db}var Lb,iC;function IQ(){if(iC)return Lb;iC=1;var t=PQ();function e(){}function r(){}return r.resetWarningCache=e,Lb=function(){function n(o,u,d,f,p,g){if(g!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return a.PropTypes=a,a},Lb}var aC;function OQ(){return aC||(aC=1,Mb.exports=IQ()()),Mb.exports}var CQ=OQ();const ft=ht(CQ);var RQ=Object.getOwnPropertyNames,MQ=Object.getOwnPropertySymbols,DQ=Object.prototype.hasOwnProperty;function sC(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function Wh(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,o=a.get(r),u=a.get(n);if(o&&u)return o===n&&u===r;a.set(r,n),a.set(n,r);var d=t(r,n,i);return a.delete(r),a.delete(n),d}}function oC(t){return RQ(t).concat(MQ(t))}var LQ=Object.hasOwn||function(t,e){return DQ.call(t,e)};function zo(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var $Q="__v",FQ="__o",VQ="_owner",lC=Object.getOwnPropertyDescriptor,uC=Object.keys;function UQ(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function BQ(t,e){return zo(t.getTime(),e.getTime())}function qQ(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function zQ(t,e){return t===e}function cC(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.entries(),o,u,d=0;(o=a.next())&&!o.done;){for(var f=e.entries(),p=!1,g=0;(u=f.next())&&!u.done;){if(i[g]){g++;continue}var y=o.value,x=u.value;if(r.equals(y[0],x[0],d,g,t,e,r)&&r.equals(y[1],x[1],y[0],x[0],t,e,r)){p=i[g]=!0;break}g++}if(!p)return!1;d++}return!0}var WQ=zo;function HQ(t,e,r){var n=uC(t),i=n.length;if(uC(e).length!==i)return!1;for(;i-- >0;)if(!bL(t,e,r,n[i]))return!1;return!0}function Pc(t,e,r){var n=oC(t),i=n.length;if(oC(e).length!==i)return!1;for(var a,o,u;i-- >0;)if(a=n[i],!bL(t,e,r,a)||(o=lC(t,a),u=lC(e,a),(o||u)&&(!o||!u||o.configurable!==u.configurable||o.enumerable!==u.enumerable||o.writable!==u.writable)))return!1;return!0}function GQ(t,e){return zo(t.valueOf(),e.valueOf())}function KQ(t,e){return t.source===e.source&&t.flags===e.flags}function dC(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.values(),o,u;(o=a.next())&&!o.done;){for(var d=e.values(),f=!1,p=0;(u=d.next())&&!u.done;){if(!i[p]&&r.equals(o.value,u.value,o.value,u.value,t,e,r)){f=i[p]=!0;break}p++}if(!f)return!1}return!0}function YQ(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function XQ(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function bL(t,e,r,n){return(n===VQ||n===FQ||n===$Q)&&(t.$$typeof||e.$$typeof)?!0:LQ(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var QQ="[object Arguments]",JQ="[object Boolean]",ZQ="[object Date]",eJ="[object Error]",tJ="[object Map]",rJ="[object Number]",nJ="[object Object]",iJ="[object RegExp]",aJ="[object Set]",sJ="[object String]",oJ="[object URL]",lJ=Array.isArray,fC=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,hC=Object.assign,uJ=Object.prototype.toString.call.bind(Object.prototype.toString);function cJ(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,u=t.areObjectsEqual,d=t.arePrimitiveWrappersEqual,f=t.areRegExpsEqual,p=t.areSetsEqual,g=t.areTypedArraysEqual,y=t.areUrlsEqual;return function(S,_,w){if(S===_)return!0;if(S==null||_==null)return!1;var R=typeof S;if(R!==typeof _)return!1;if(R!=="object")return R==="number"?o(S,_,w):R==="function"?i(S,_,w):!1;var N=S.constructor;if(N!==_.constructor)return!1;if(N===Object)return u(S,_,w);if(lJ(S))return e(S,_,w);if(fC!=null&&fC(S))return g(S,_,w);if(N===Date)return r(S,_,w);if(N===RegExp)return f(S,_,w);if(N===Map)return a(S,_,w);if(N===Set)return p(S,_,w);var O=uJ(S);return O===ZQ?r(S,_,w):O===iJ?f(S,_,w):O===tJ?a(S,_,w):O===aJ?p(S,_,w):O===nJ?typeof S.then!="function"&&typeof _.then!="function"&&u(S,_,w):O===oJ?y(S,_,w):O===eJ?n(S,_,w):O===QQ?u(S,_,w):O===JQ||O===rJ||O===sJ?d(S,_,w):!1}}function dJ(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?Pc:UQ,areDatesEqual:BQ,areErrorsEqual:qQ,areFunctionsEqual:zQ,areMapsEqual:n?sC(cC,Pc):cC,areNumbersEqual:WQ,areObjectsEqual:n?Pc:HQ,arePrimitiveWrappersEqual:GQ,areRegExpsEqual:KQ,areSetsEqual:n?sC(dC,Pc):dC,areTypedArraysEqual:n?Pc:YQ,areUrlsEqual:XQ};if(r&&(i=hC({},i,r(i))),e){var a=Wh(i.areArraysEqual),o=Wh(i.areMapsEqual),u=Wh(i.areObjectsEqual),d=Wh(i.areSetsEqual);i=hC({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:u,areSetsEqual:d})}return i}function fJ(t){return function(e,r,n,i,a,o,u){return t(e,r,u)}}function hJ(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(d,f){var p=n(),g=p.cache,y=g===void 0?e?new WeakMap:void 0:g,x=p.meta;return r(d,f,{cache:y,equals:i,meta:x,strict:a})};if(e)return function(d,f){return r(d,f,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(d,f){return r(d,f,o)}}var pJ=Ds();Ds({strict:!0});Ds({circular:!0});Ds({circular:!0,strict:!0});Ds({createInternalComparator:function(){return zo}});Ds({strict:!0,createInternalComparator:function(){return zo}});Ds({circular:!0,createInternalComparator:function(){return zo}});Ds({circular:!0,createInternalComparator:function(){return zo},strict:!0});function Ds(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,u=dJ(t),d=cJ(u),f=n?n(d):fJ(d);return hJ({circular:r,comparator:d,createState:i,equals:f,strict:o})}function mJ(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function pC(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):mJ(i)};requestAnimationFrame(n)}function Aw(t){"@babel/helpers - typeof";return Aw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Aw(t)}function gJ(t){return bJ(t)||xJ(t)||yJ(t)||vJ()}function vJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yJ(t,e){if(t){if(typeof t=="string")return mC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mC(t,e)}}function mC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function xJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bJ(t){if(Array.isArray(t))return t}function _J(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,u=gJ(o),d=u[0],f=u.slice(1);if(typeof d=="number"){pC(i.bind(null,f),d);return}i(d),pC(i.bind(null,f));return}Aw(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function jd(t){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jd(t)}function gC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gC(Object(r),!0).forEach(function(n){_L(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _L(t,e,r){return e=wJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wJ(t){var e=SJ(t,"string");return jd(e)==="symbol"?e:String(e)}function SJ(t,e){if(jd(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kJ=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},EJ=function(e){return e},AJ=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Yc=function(e,r){return Object.keys(r).reduce(function(n,i){return vC(vC({},n),{},_L({},i,e(i,r[i])))},{})},yC=function(e,r,n){return e.map(function(i){return"".concat(AJ(i)," ").concat(r,"ms ").concat(n)}).join(",")};function TJ(t,e){return PJ(t)||NJ(t,e)||wL(t,e)||jJ()}function jJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NJ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function PJ(t){if(Array.isArray(t))return t}function IJ(t){return RJ(t)||CJ(t)||wL(t)||OJ()}function OJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wL(t,e){if(t){if(typeof t=="string")return Tw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tw(t,e)}}function CJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function RJ(t){if(Array.isArray(t))return Tw(t)}function Tw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Xp=1e-4,SL=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},kL=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},xC=function(e,r){return function(n){var i=SL(e,r);return kL(i,n)}},MJ=function(e,r){return function(n){var i=SL(e,r),a=[].concat(IJ(i.map(function(o,u){return o*u}).slice(1)),[0]);return kL(a,n)}},bC=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],o=r[2],u=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,o=1,u=1;break;case"ease":i=.25,a=.1,o=.25,u=1;break;case"ease-in":i=.42,a=0,o=1,u=1;break;case"ease-out":i=.42,a=0,o=.58,u=1;break;case"ease-in-out":i=0,a=0,o=.58,u=1;break;default:{var d=r[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var f=d[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),p=TJ(f,4);i=p[0],a=p[1],o=p[2],u=p[3]}}}var g=xC(i,o),y=xC(a,u),x=MJ(i,o),S=function(R){return R>1?1:R<0?0:R},_=function(R){for(var N=R>1?1:R,O=N,M=0;M<8;++M){var A=g(O)-N,j=x(O);if(Math.abs(A-N)<Xp||j<Xp)return y(O);O=S(O-A/j)}return y(O)};return _.isStepper=!1,_},DJ=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,o=e.dt,u=o===void 0?17:o,d=function(p,g,y){var x=-(p-g)*n,S=y*a,_=y+(x-S)*u/1e3,w=y*u/1e3+p;return Math.abs(w-g)<Xp&&Math.abs(_)<Xp?[g,0]:[w,_]};return d.isStepper=!0,d.dt=u,d},LJ=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return bC(i);case"spring":return DJ();default:if(i.split("(")[0]==="cubic-bezier")return bC(i)}return typeof i=="function"?i:null};function Nd(t){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nd(t)}function _C(t){return VJ(t)||FJ(t)||EL(t)||$J()}function $J(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function VJ(t){if(Array.isArray(t))return Nw(t)}function wC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Sr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wC(Object(r),!0).forEach(function(n){jw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jw(t,e,r){return e=UJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UJ(t){var e=BJ(t,"string");return Nd(e)==="symbol"?e:String(e)}function BJ(t,e){if(Nd(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qJ(t,e){return HJ(t)||WJ(t,e)||EL(t,e)||zJ()}function zJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EL(t,e){if(t){if(typeof t=="string")return Nw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Nw(t,e)}}function Nw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function WJ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function HJ(t){if(Array.isArray(t))return t}var Qp=function(e,r,n){return e+(r-e)*n},Pw=function(e){var r=e.from,n=e.to;return r!==n},GJ=function t(e,r,n){var i=Yc(function(a,o){if(Pw(o)){var u=e(o.from,o.to,o.velocity),d=qJ(u,2),f=d[0],p=d[1];return Sr(Sr({},o),{},{from:f,velocity:p})}return o},r);return n<1?Yc(function(a,o){return Pw(o)?Sr(Sr({},o),{},{velocity:Qp(o.velocity,i[a].velocity,n),from:Qp(o.from,i[a].from,n)}):o},r):t(e,i,n-1)};const KJ=function(t,e,r,n,i){var a=kJ(t,e),o=a.reduce(function(w,R){return Sr(Sr({},w),{},jw({},R,[t[R],e[R]]))},{}),u=a.reduce(function(w,R){return Sr(Sr({},w),{},jw({},R,{from:t[R],velocity:0,to:e[R]}))},{}),d=-1,f,p,g=function(){return null},y=function(){return Yc(function(R,N){return N.from},u)},x=function(){return!Object.values(u).filter(Pw).length},S=function(R){f||(f=R);var N=R-f,O=N/r.dt;u=GJ(r,u,O),i(Sr(Sr(Sr({},t),e),y())),f=R,x()||(d=requestAnimationFrame(g))},_=function(R){p||(p=R);var N=(R-p)/n,O=Yc(function(A,j){return Qp.apply(void 0,_C(j).concat([r(N)]))},o);if(i(Sr(Sr(Sr({},t),e),O)),N<1)d=requestAnimationFrame(g);else{var M=Yc(function(A,j){return Qp.apply(void 0,_C(j).concat([r(1)]))},o);i(Sr(Sr(Sr({},t),e),M))}};return g=r.isStepper?S:_,function(){return requestAnimationFrame(g),function(){cancelAnimationFrame(d)}}};function fu(t){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fu(t)}var YJ=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function XJ(t,e){if(t==null)return{};var r=QJ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function QJ(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function $b(t){return tZ(t)||eZ(t)||ZJ(t)||JJ()}function JJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZJ(t,e){if(t){if(typeof t=="string")return Iw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Iw(t,e)}}function eZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tZ(t){if(Array.isArray(t))return Iw(t)}function Iw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function SC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function di(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SC(Object(r),!0).forEach(function(n){Vc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vc(t,e,r){return e=AL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nZ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,AL(n.key),n)}}function iZ(t,e,r){return e&&nZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function AL(t){var e=aZ(t,"string");return fu(e)==="symbol"?e:String(e)}function aZ(t,e){if(fu(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ow(t,e)}function Ow(t,e){return Ow=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ow(t,e)}function oZ(t){var e=lZ();return function(){var n=Jp(t),i;if(e){var a=Jp(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Cw(this,i)}}function Cw(t,e){if(e&&(fu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rw(t)}function Rw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lZ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Jp(t){return Jp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jp(t)}var Na=function(t){sZ(r,t);var e=oZ(r);function r(n,i){var a;rZ(this,r),a=e.call(this,n,i);var o=a.props,u=o.isActive,d=o.attributeName,f=o.from,p=o.to,g=o.steps,y=o.children,x=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(Rw(a)),a.changeStyle=a.changeStyle.bind(Rw(a)),!u||x<=0)return a.state={style:{}},typeof y=="function"&&(a.state={style:p}),Cw(a);if(g&&g.length)a.state={style:g[0].style};else if(f){if(typeof y=="function")return a.state={style:f},Cw(a);a.state={style:d?Vc({},d,f):f}}else a.state={style:{}};return a}return iZ(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,u=a.canBegin,d=a.attributeName,f=a.shouldReAnimate,p=a.to,g=a.from,y=this.state.style;if(u){if(!o){var x={style:d?Vc({},d,p):p};this.state&&y&&(d&&y[d]!==p||!d&&y!==p)&&this.setState(x);return}if(!(pJ(i.to,p)&&i.canBegin&&i.isActive)){var S=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var _=S||f?g:i.to;if(this.state&&y){var w={style:d?Vc({},d,_):_};(d&&y[d]!==_||!d&&y!==_)&&this.setState(w)}this.runAnimation(di(di({},this.props),{},{from:_,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,u=i.to,d=i.duration,f=i.easing,p=i.begin,g=i.onAnimationEnd,y=i.onAnimationStart,x=KJ(o,u,LJ(f),d,this.changeStyle),S=function(){a.stopJSAnimation=x()};this.manager.start([y,p,S,d,g])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,u=i.begin,d=i.onAnimationStart,f=o[0],p=f.style,g=f.duration,y=g===void 0?0:g,x=function(_,w,R){if(R===0)return _;var N=w.duration,O=w.easing,M=O===void 0?"ease":O,A=w.style,j=w.properties,T=w.onAnimationEnd,P=R>0?o[R-1]:w,L=j||Object.keys(A);if(typeof M=="function"||M==="spring")return[].concat($b(_),[a.runJSAnimation.bind(a,{from:P.style,to:A,duration:N,easing:M}),N]);var I=yC(L,N,M),D=di(di(di({},P.style),A),{},{transition:I});return[].concat($b(_),[D,N,T]).filter(EJ)};return this.manager.start([d].concat($b(o.reduce(x,[p,Math.max(y,u)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=_J());var a=i.begin,o=i.duration,u=i.attributeName,d=i.to,f=i.easing,p=i.onAnimationStart,g=i.onAnimationEnd,y=i.steps,x=i.children,S=this.manager;if(this.unSubscribe=S.subscribe(this.handleStyleChange),typeof f=="function"||typeof x=="function"||f==="spring"){this.runJSAnimation(i);return}if(y.length>1){this.runStepAnimation(i);return}var _=u?Vc({},u,d):d,w=yC(Object.keys(_),o,f);S.start([p,a,di(di({},_),{},{transition:w}),o,g])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var u=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var d=XJ(i,YJ),f=z.Children.count(a),p=this.state.style;if(typeof a=="function")return a(p);if(!u||f===0||o<=0)return a;var g=function(x){var S=x.props,_=S.style,w=_===void 0?{}:_,R=S.className,N=z.cloneElement(x,di(di({},d),{},{style:di(di({},w),p),className:R}));return N};return f===1?g(z.Children.only(a)):G.createElement("div",null,z.Children.map(a,function(y){return g(y)}))}}]),r}(z.PureComponent);Na.displayName="Animate";Na.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Na.propTypes={from:ft.oneOfType([ft.object,ft.string]),to:ft.oneOfType([ft.object,ft.string]),attributeName:ft.string,duration:ft.number,begin:ft.number,easing:ft.oneOfType([ft.string,ft.func]),steps:ft.arrayOf(ft.shape({duration:ft.number.isRequired,style:ft.object.isRequired,easing:ft.oneOfType([ft.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ft.func]),properties:ft.arrayOf("string"),onAnimationEnd:ft.func})),children:ft.oneOfType([ft.node,ft.func]),isActive:ft.bool,canBegin:ft.bool,onAnimationEnd:ft.func,shouldReAnimate:ft.bool,onAnimationStart:ft.func,onAnimationReStart:ft.func};function Pd(t){"@babel/helpers - typeof";return Pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pd(t)}function Zp(){return Zp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zp.apply(this,arguments)}function uZ(t,e){return hZ(t)||fZ(t,e)||dZ(t,e)||cZ()}function cZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dZ(t,e){if(t){if(typeof t=="string")return kC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kC(t,e)}}function kC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fZ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function hZ(t){if(Array.isArray(t))return t}function EC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function AC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EC(Object(r),!0).forEach(function(n){pZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pZ(t,e,r){return e=mZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mZ(t){var e=gZ(t,"string");return Pd(e)=="symbol"?e:e+""}function gZ(t,e){if(Pd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var TC=function(e,r,n,i,a){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),u=i>=0?1:-1,d=n>=0?1:-1,f=i>=0&&n>=0||i<0&&n<0?1:0,p;if(o>0&&a instanceof Array){for(var g=[0,0,0,0],y=0,x=4;y<x;y++)g[y]=a[y]>o?o:a[y];p="M".concat(e,",").concat(r+u*g[0]),g[0]>0&&(p+="A ".concat(g[0],",").concat(g[0],",0,0,").concat(f,",").concat(e+d*g[0],",").concat(r)),p+="L ".concat(e+n-d*g[1],",").concat(r),g[1]>0&&(p+="A ".concat(g[1],",").concat(g[1],",0,0,").concat(f,`,
        `).concat(e+n,",").concat(r+u*g[1])),p+="L ".concat(e+n,",").concat(r+i-u*g[2]),g[2]>0&&(p+="A ".concat(g[2],",").concat(g[2],",0,0,").concat(f,`,
        `).concat(e+n-d*g[2],",").concat(r+i)),p+="L ".concat(e+d*g[3],",").concat(r+i),g[3]>0&&(p+="A ".concat(g[3],",").concat(g[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(r+i-u*g[3])),p+="Z"}else if(o>0&&a===+a&&a>0){var S=Math.min(o,a);p="M ".concat(e,",").concat(r+u*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e+d*S,",").concat(r,`
            L `).concat(e+n-d*S,",").concat(r,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e+n,",").concat(r+u*S,`
            L `).concat(e+n,",").concat(r+i-u*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e+n-d*S,",").concat(r+i,`
            L `).concat(e+d*S,",").concat(r+i,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e,",").concat(r+i-u*S," Z")}else p="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return p},vZ=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,o=r.y,u=r.width,d=r.height;if(Math.abs(u)>0&&Math.abs(d)>0){var f=Math.min(a,a+u),p=Math.max(a,a+u),g=Math.min(o,o+d),y=Math.max(o,o+d);return n>=f&&n<=p&&i>=g&&i<=y}return!1},yZ={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},WS=function(e){var r=AC(AC({},yZ),e),n=z.useRef(),i=z.useState(-1),a=uZ(i,2),o=a[0],u=a[1];z.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var M=n.current.getTotalLength();M&&u(M)}catch{}},[]);var d=r.x,f=r.y,p=r.width,g=r.height,y=r.radius,x=r.className,S=r.animationEasing,_=r.animationDuration,w=r.animationBegin,R=r.isAnimationActive,N=r.isUpdateAnimationActive;if(d!==+d||f!==+f||p!==+p||g!==+g||p===0||g===0)return null;var O=Xe("recharts-rectangle",x);return N?G.createElement(Na,{canBegin:o>0,from:{width:p,height:g,x:d,y:f},to:{width:p,height:g,x:d,y:f},duration:_,animationEasing:S,isActive:N},function(M){var A=M.width,j=M.height,T=M.x,P=M.y;return G.createElement(Na,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:_,isActive:R,easing:S},G.createElement("path",Zp({},ze(r,!0),{className:O,d:TC(T,P,A,j,y),ref:n})))}):G.createElement("path",Zp({},ze(r,!0),{className:O,d:TC(d,f,p,g,y)}))},xZ=["points","className","baseLinePoints","connectNulls"];function Dl(){return Dl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dl.apply(this,arguments)}function bZ(t,e){if(t==null)return{};var r=_Z(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _Z(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function jC(t){return EZ(t)||kZ(t)||SZ(t)||wZ()}function wZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SZ(t,e){if(t){if(typeof t=="string")return Mw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mw(t,e)}}function kZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function EZ(t){if(Array.isArray(t))return Mw(t)}function Mw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var NC=function(e){return e&&e.x===+e.x&&e.y===+e.y},AZ=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){NC(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),NC(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Xc=function(e,r){var n=AZ(e);r&&(n=[n.reduce(function(a,o){return[].concat(jC(a),jC(o))},[])]);var i=n.map(function(a){return a.reduce(function(o,u,d){return"".concat(o).concat(d===0?"M":"L").concat(u.x,",").concat(u.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},TZ=function(e,r,n){var i=Xc(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Xc(r.reverse(),n).slice(1))},jZ=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,o=bZ(e,xZ);if(!r||!r.length)return null;var u=Xe("recharts-polygon",n);if(i&&i.length){var d=o.stroke&&o.stroke!=="none",f=TZ(r,i,a);return G.createElement("g",{className:u},G.createElement("path",Dl({},ze(o,!0),{fill:f.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:f})),d?G.createElement("path",Dl({},ze(o,!0),{fill:"none",d:Xc(r,a)})):null,d?G.createElement("path",Dl({},ze(o,!0),{fill:"none",d:Xc(i,a)})):null)}var p=Xc(r,a);return G.createElement("path",Dl({},ze(o,!0),{fill:p.slice(-1)==="Z"?o.fill:"none",className:u,d:p}))};function Dw(){return Dw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dw.apply(this,arguments)}var HS=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,o=Xe("recharts-dot",a);return r===+r&&n===+n&&i===+i?z.createElement("circle",Dw({},ze(e,!1),Sp(e),{className:o,cx:r,cy:n,r:i})):null};function Id(t){"@babel/helpers - typeof";return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Id(t)}var NZ=["x","y","top","left","width","height","className"];function Lw(){return Lw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lw.apply(this,arguments)}function PC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function PZ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PC(Object(r),!0).forEach(function(n){IZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function IZ(t,e,r){return e=OZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OZ(t){var e=CZ(t,"string");return Id(e)=="symbol"?e:e+""}function CZ(t,e){if(Id(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RZ(t,e){if(t==null)return{};var r=MZ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function MZ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var DZ=function(e,r,n,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},LZ=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.top,u=o===void 0?0:o,d=e.left,f=d===void 0?0:d,p=e.width,g=p===void 0?0:p,y=e.height,x=y===void 0?0:y,S=e.className,_=RZ(e,NZ),w=PZ({x:n,y:a,top:u,left:f,width:g,height:x},_);return!ke(n)||!ke(a)||!ke(g)||!ke(x)||!ke(u)||!ke(f)?null:G.createElement("path",Lw({},ze(w,!0),{className:Xe("recharts-cross",S),d:DZ(n,a,g,x,u,f)}))},Fb,IC;function $Z(){if(IC)return Fb;IC=1;var t=tg(),e=B4(),r=Yi();function n(i,a){return i&&i.length?t(i,r(a,2),e):void 0}return Fb=n,Fb}var FZ=$Z();const VZ=ht(FZ);var Vb,OC;function UZ(){if(OC)return Vb;OC=1;var t=tg(),e=Yi(),r=q4();function n(i,a){return i&&i.length?t(i,e(a,2),r):void 0}return Vb=n,Vb}var BZ=UZ();const qZ=ht(BZ);var zZ=["cx","cy","angle","ticks","axisLine"],WZ=["ticks","tick","angle","tickFormatter","stroke"];function hu(t){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hu(t)}function Qc(){return Qc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qc.apply(this,arguments)}function CC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function uo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CC(Object(r),!0).forEach(function(n){lg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RC(t,e){if(t==null)return{};var r=HZ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function HZ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function GZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MC(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jL(n.key),n)}}function KZ(t,e,r){return e&&MC(t.prototype,e),r&&MC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function YZ(t,e,r){return e=em(e),XZ(t,TL()?Reflect.construct(e,r||[],em(t).constructor):e.apply(t,r))}function XZ(t,e){if(e&&(hu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QZ(t)}function QZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TL=function(){return!!t})()}function em(t){return em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},em(t)}function JZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$w(t,e)}function $w(t,e){return $w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$w(t,e)}function lg(t,e,r){return e=jL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jL(t){var e=ZZ(t,"string");return hu(e)=="symbol"?e:e+""}function ZZ(t,e){if(hu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ug=function(t){function e(){return GZ(this,e),YZ(this,e,arguments)}return JZ(e,t),KZ(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,o=a.angle,u=a.cx,d=a.cy;return Et(u,d,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,u=n.ticks,d=VZ(u,function(p){return p.coordinate||0}),f=qZ(u,function(p){return p.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:f.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,u=n.ticks,d=n.axisLine,f=RC(n,zZ),p=u.reduce(function(S,_){return[Math.min(S[0],_.coordinate),Math.max(S[1],_.coordinate)]},[1/0,-1/0]),g=Et(i,a,p[0],o),y=Et(i,a,p[1],o),x=uo(uo(uo({},ze(f,!1)),{},{fill:"none"},ze(d,!1)),{},{x1:g.x,y1:g.y,x2:y.x,y2:y.y});return G.createElement("line",Qc({className:"recharts-polar-radius-axis-line"},x))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,u=i.angle,d=i.tickFormatter,f=i.stroke,p=RC(i,WZ),g=this.getTickTextAnchor(),y=ze(p,!1),x=ze(o,!1),S=a.map(function(_,w){var R=n.getTickValueCoord(_),N=uo(uo(uo(uo({textAnchor:g,transform:"rotate(".concat(90-u,", ").concat(R.x,", ").concat(R.y,")")},y),{},{stroke:"none",fill:f},x),{},{index:w},R),{},{payload:_});return G.createElement(mt,Qc({className:Xe("recharts-polar-radius-axis-tick",vL(o)),key:"tick-".concat(_.coordinate)},Ro(n.props,_,w)),e.renderTickItem(o,N,d?d(_.value,w):_.value))});return G.createElement(mt,{className:"recharts-polar-radius-axis-ticks"},S)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,o=n.tick;return!i||!i.length?null:G.createElement(mt,{className:Xe("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),mr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return G.isValidElement(n)?o=G.cloneElement(n,i):He(n)?o=n(i):o=G.createElement(Mo,Qc({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(z.PureComponent);lg(ug,"displayName","PolarRadiusAxis");lg(ug,"axisType","radiusAxis");lg(ug,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function pu(t){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pu(t)}function mo(){return mo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mo.apply(this,arguments)}function DC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function co(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DC(Object(r),!0).forEach(function(n){cg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LC(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,PL(n.key),n)}}function tee(t,e,r){return e&&LC(t.prototype,e),r&&LC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ree(t,e,r){return e=tm(e),nee(t,NL()?Reflect.construct(e,r||[],tm(t).constructor):e.apply(t,r))}function nee(t,e){if(e&&(pu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iee(t)}function iee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NL=function(){return!!t})()}function tm(t){return tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tm(t)}function aee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fw(t,e)}function Fw(t,e){return Fw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Fw(t,e)}function cg(t,e,r){return e=PL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PL(t){var e=see(t,"string");return pu(e)=="symbol"?e:e+""}function see(t,e){if(pu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oee=Math.PI/180,$C=1e-5,dg=function(t){function e(){return eee(this,e),ree(this,e,arguments)}return aee(e,t),tee(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,o=i.cy,u=i.radius,d=i.orientation,f=i.tickSize,p=f||8,g=Et(a,o,u,n.coordinate),y=Et(a,o,u+(d==="inner"?-1:1)*p,n.coordinate);return{x1:g.x,y1:g.y,x2:y.x,y2:y.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*oee),o;return a>$C?o=i==="outer"?"start":"end":a<-$C?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.radius,u=n.axisLine,d=n.axisLineType,f=co(co({},ze(this.props,!1)),{},{fill:"none"},ze(u,!1));if(d==="circle")return G.createElement(HS,mo({className:"recharts-polar-angle-axis-line"},f,{cx:i,cy:a,r:o}));var p=this.props.ticks,g=p.map(function(y){return Et(i,a,o,y.coordinate)});return G.createElement(jZ,mo({className:"recharts-polar-angle-axis-line"},f,{points:g}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,u=i.tickLine,d=i.tickFormatter,f=i.stroke,p=ze(this.props,!1),g=ze(o,!1),y=co(co({},p),{},{fill:"none"},ze(u,!1)),x=a.map(function(S,_){var w=n.getTickLineCoord(S),R=n.getTickTextAnchor(S),N=co(co(co({textAnchor:R},p),{},{stroke:"none",fill:f},g),{},{index:_,payload:S,x:w.x2,y:w.y2});return G.createElement(mt,mo({className:Xe("recharts-polar-angle-axis-tick",vL(o)),key:"tick-".concat(S.coordinate)},Ro(n.props,S,_)),u&&G.createElement("line",mo({className:"recharts-polar-angle-axis-tick-line"},y,w)),o&&e.renderTickItem(o,N,d?d(S.value,_):S.value))});return G.createElement(mt,{className:"recharts-polar-angle-axis-ticks"},x)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,o=n.axisLine;return a<=0||!i||!i.length?null:G.createElement(mt,{className:Xe("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var o;return G.isValidElement(n)?o=G.cloneElement(n,i):He(n)?o=n(i):o=G.createElement(Mo,mo({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(z.PureComponent);cg(dg,"displayName","PolarAngleAxis");cg(dg,"axisType","angleAxis");cg(dg,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Ub,FC;function lee(){if(FC)return Ub;FC=1;var t=UD(),e=t(Object.getPrototypeOf,Object);return Ub=e,Ub}var Bb,VC;function uee(){if(VC)return Bb;VC=1;var t=Pa(),e=lee(),r=Ia(),n="[object Object]",i=Function.prototype,a=Object.prototype,o=i.toString,u=a.hasOwnProperty,d=o.call(Object);function f(p){if(!r(p)||t(p)!=n)return!1;var g=e(p);if(g===null)return!0;var y=u.call(g,"constructor")&&g.constructor;return typeof y=="function"&&y instanceof y&&o.call(y)==d}return Bb=f,Bb}var cee=uee();const dee=ht(cee);var qb,UC;function fee(){if(UC)return qb;UC=1;var t=Pa(),e=Ia(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return qb=n,qb}var hee=fee();const pee=ht(hee);function Od(t){"@babel/helpers - typeof";return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Od(t)}function rm(){return rm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rm.apply(this,arguments)}function mee(t,e){return xee(t)||yee(t,e)||vee(t,e)||gee()}function gee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vee(t,e){if(t){if(typeof t=="string")return BC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BC(t,e)}}function BC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function yee(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function xee(t){if(Array.isArray(t))return t}function qC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qC(Object(r),!0).forEach(function(n){bee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bee(t,e,r){return e=_ee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _ee(t){var e=wee(t,"string");return Od(e)=="symbol"?e:e+""}function wee(t,e){if(Od(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WC=function(e,r,n,i,a){var o=n-i,u;return u="M ".concat(e,",").concat(r),u+="L ".concat(e+n,",").concat(r),u+="L ".concat(e+n-o/2,",").concat(r+a),u+="L ".concat(e+n-o/2-i,",").concat(r+a),u+="L ".concat(e,",").concat(r," Z"),u},See={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},kee=function(e){var r=zC(zC({},See),e),n=z.useRef(),i=z.useState(-1),a=mee(i,2),o=a[0],u=a[1];z.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var O=n.current.getTotalLength();O&&u(O)}catch{}},[]);var d=r.x,f=r.y,p=r.upperWidth,g=r.lowerWidth,y=r.height,x=r.className,S=r.animationEasing,_=r.animationDuration,w=r.animationBegin,R=r.isUpdateAnimationActive;if(d!==+d||f!==+f||p!==+p||g!==+g||y!==+y||p===0&&g===0||y===0)return null;var N=Xe("recharts-trapezoid",x);return R?G.createElement(Na,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:y,x:d,y:f},to:{upperWidth:p,lowerWidth:g,height:y,x:d,y:f},duration:_,animationEasing:S,isActive:R},function(O){var M=O.upperWidth,A=O.lowerWidth,j=O.height,T=O.x,P=O.y;return G.createElement(Na,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:_,easing:S},G.createElement("path",rm({},ze(r,!0),{className:N,d:WC(T,P,M,A,j),ref:n})))}):G.createElement("g",null,G.createElement("path",rm({},ze(r,!0),{className:N,d:WC(d,f,p,g,y)})))},Eee=["option","shapeType","propTransformer","activeClassName","isActive"];function Cd(t){"@babel/helpers - typeof";return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cd(t)}function Aee(t,e){if(t==null)return{};var r=Tee(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Tee(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function HC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HC(Object(r),!0).forEach(function(n){jee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jee(t,e,r){return e=Nee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nee(t){var e=Pee(t,"string");return Cd(e)=="symbol"?e:e+""}function Pee(t,e){if(Cd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Iee(t,e){return nm(nm({},e),t)}function Oee(t,e){return t==="symbols"}function GC(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return G.createElement(WS,r);case"trapezoid":return G.createElement(kee,r);case"sector":return G.createElement(zS,r);case"symbols":if(Oee(e))return G.createElement(lS,r);break;default:return null}}function Cee(t){return z.isValidElement(t)?t.props:t}function IL(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?Iee:n,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,u=t.isActive,d=Aee(t,Eee),f;if(z.isValidElement(e))f=z.cloneElement(e,nm(nm({},d),Cee(e)));else if(He(e))f=e(d);else if(dee(e)&&!pee(e)){var p=i(e,d);f=G.createElement(GC,{shapeType:r,elementProps:p})}else{var g=d;f=G.createElement(GC,{shapeType:r,elementProps:g})}return u?G.createElement(mt,{className:o},f):f}function fg(t,e){return e!=null&&"trapezoids"in t.props}function hg(t,e){return e!=null&&"sectors"in t.props}function Rd(t,e){return e!=null&&"points"in t.props}function Ree(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function Mee(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function Dee(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function Lee(t,e){var r;return fg(t,e)?r=Ree:hg(t,e)?r=Mee:Rd(t,e)&&(r=Dee),r}function $ee(t,e){var r;return fg(t,e)?r="trapezoids":hg(t,e)?r="sectors":Rd(t,e)&&(r="points"),r}function Fee(t,e){if(fg(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(hg(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Rd(t,e)?e.payload:{}}function Vee(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=$ee(r,e),a=Fee(r,e),o=n.filter(function(d,f){var p=ig(a,d),g=r.props[i].filter(function(S){var _=Lee(r,e);return _(S,e)}),y=r.props[i].indexOf(g[g.length-1]),x=f===y;return p&&x}),u=n.indexOf(o[o.length-1]);return u}var ip;function mu(t){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mu(t)}function Ll(){return Ll=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ll.apply(this,arguments)}function KC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function St(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KC(Object(r),!0).forEach(function(n){zn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Uee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YC(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,CL(n.key),n)}}function Bee(t,e,r){return e&&YC(t.prototype,e),r&&YC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function qee(t,e,r){return e=im(e),zee(t,OL()?Reflect.construct(e,r||[],im(t).constructor):e.apply(t,r))}function zee(t,e){if(e&&(mu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wee(t)}function Wee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OL=function(){return!!t})()}function im(t){return im=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},im(t)}function Hee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vw(t,e)}function Vw(t,e){return Vw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Vw(t,e)}function zn(t,e,r){return e=CL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CL(t){var e=Gee(t,"string");return mu(e)=="symbol"?e:e+""}function Gee(t,e){if(mu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ca=function(t){function e(r){var n;return Uee(this,e),n=qee(this,e,[r]),zn(n,"pieRef",null),zn(n,"sectorRefs",[]),zn(n,"id",nf("recharts-pie-")),zn(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),He(i)&&i()}),zn(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),He(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Hee(e,t),Bee(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,u=a.labelLine,d=a.dataKey,f=a.valueKey,p=ze(this.props,!1),g=ze(o,!1),y=ze(u,!1),x=o&&o.offsetRadius||20,S=n.map(function(_,w){var R=(_.startAngle+_.endAngle)/2,N=Et(_.cx,_.cy,_.outerRadius+x,R),O=St(St(St(St({},p),_),{},{stroke:"none"},g),{},{index:w,textAnchor:e.getTextAnchor(N.x,_.cx)},N),M=St(St(St(St({},p),_),{},{fill:"none",stroke:_.fill},y),{},{index:w,points:[Et(_.cx,_.cy,_.outerRadius,R),N]}),A=d;return Je(d)&&Je(f)?A="value":Je(d)&&(A=f),G.createElement(mt,{key:"label-".concat(_.startAngle,"-").concat(_.endAngle,"-").concat(_.midAngle,"-").concat(w)},u&&e.renderLabelLineItem(u,M,"line"),e.renderLabelItem(o,O,Lr(_,A)))});return G.createElement(mt,{className:"recharts-pie-labels"},S)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,o=a.activeShape,u=a.blendStroke,d=a.inactiveShape;return n.map(function(f,p){if(f?.startAngle===0&&f?.endAngle===0&&n.length!==1)return null;var g=i.isActiveIndex(p),y=d&&i.hasActiveIndex()?d:null,x=g?o:y,S=St(St({},f),{},{stroke:u?f.fill:f.stroke,tabIndex:-1});return G.createElement(mt,Ll({ref:function(w){w&&!i.sectorRefs.includes(w)&&i.sectorRefs.push(w)},tabIndex:-1,className:"recharts-pie-sector"},Ro(i.props,f,p),{key:"sector-".concat(f?.startAngle,"-").concat(f?.endAngle,"-").concat(f.midAngle,"-").concat(p)}),G.createElement(IL,Ll({option:x,isActive:g,shapeType:"sector"},S)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,o=i.isAnimationActive,u=i.animationBegin,d=i.animationDuration,f=i.animationEasing,p=i.animationId,g=this.state,y=g.prevSectors,x=g.prevIsAnimationActive;return G.createElement(Na,{begin:u,duration:d,isActive:o,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(p,"-").concat(x),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(S){var _=S.t,w=[],R=a&&a[0],N=R.startAngle;return a.forEach(function(O,M){var A=y&&y[M],j=M>0?En(O,"paddingAngle",0):0;if(A){var T=us(A.endAngle-A.startAngle,O.endAngle-O.startAngle),P=St(St({},O),{},{startAngle:N+j,endAngle:N+T(_)+j});w.push(P),N=P.endAngle}else{var L=O.endAngle,I=O.startAngle,D=us(0,L-I),V=D(_),$=St(St({},O),{},{startAngle:N+j,endAngle:N+V+j});w.push($),N=$.endAngle}}),G.createElement(mt,null,n.renderSectorsStatically(w))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var u=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[u].focus(),i.setState({sectorToFocus:u});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!ig(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,o=i.sectors,u=i.className,d=i.label,f=i.cx,p=i.cy,g=i.innerRadius,y=i.outerRadius,x=i.isAnimationActive,S=this.state.isAnimationFinished;if(a||!o||!o.length||!ke(f)||!ke(p)||!ke(g)||!ke(y))return null;var _=Xe("recharts-pie",u);return G.createElement(mt,{tabIndex:this.props.rootTabIndex,className:_,ref:function(R){n.pieRef=R}},this.renderSectors(),d&&this.renderLabels(o),mr.renderCallByParent(this.props,null,!1),(!x||S)&&ks.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(G.isValidElement(n))return G.cloneElement(n,i);if(He(n))return n(i);var o=Xe("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return G.createElement(Ew,Ll({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,a){if(G.isValidElement(n))return G.cloneElement(n,i);var o=a;if(He(n)&&(o=n(i),G.isValidElement(o)))return o;var u=Xe("recharts-pie-label-text",typeof n!="boolean"&&!He(n)?n.className:"");return G.createElement(Mo,Ll({},i,{alignmentBaseline:"middle",className:u}),o)}}])}(z.PureComponent);ip=Ca;zn(Ca,"displayName","Pie");zn(Ca,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Du.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});zn(Ca,"parseDeltaAngle",function(t,e){var r=Hr(e-t),n=Math.min(Math.abs(e-t),360);return r*n});zn(Ca,"getRealPieData",function(t){var e=t.data,r=t.children,n=ze(t,!1),i=Hn(r,Km);return e&&e.length?e.map(function(a,o){return St(St(St({payload:a},n),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return St(St({},n),a.props)}):[]});zn(Ca,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,a=e.height,o=gL(i,a),u=n+Gr(t.cx,i,i/2),d=r+Gr(t.cy,a,a/2),f=Gr(t.innerRadius,o,0),p=Gr(t.outerRadius,o,o*.8),g=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:u,cy:d,innerRadius:f,outerRadius:p,maxRadius:g}});zn(Ca,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?St(St({},e.type.defaultProps),e.props):e.props,i=ip.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,o=n.startAngle,u=n.endAngle,d=n.paddingAngle,f=n.dataKey,p=n.nameKey,g=n.valueKey,y=n.tooltipType,x=Math.abs(n.minAngle),S=ip.parseCoordinateOfPie(n,r),_=ip.parseDeltaAngle(o,u),w=Math.abs(_),R=f;Je(f)&&Je(g)?(gi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),R="value"):Je(f)&&(gi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),R=g);var N=i.filter(function(P){return Lr(P,R,0)!==0}).length,O=(w>=360?N:N-1)*d,M=w-N*x-O,A=i.reduce(function(P,L){var I=Lr(L,R,0);return P+(ke(I)?I:0)},0),j;if(A>0){var T;j=i.map(function(P,L){var I=Lr(P,R,0),D=Lr(P,p,L),V=(ke(I)?I:0)/A,$;L?$=T.endAngle+Hr(_)*d*(I!==0?1:0):$=o;var ee=$+Hr(_)*((I!==0?x:0)+V*M),ne=($+ee)/2,Q=(S.innerRadius+S.outerRadius)/2,ie=[{name:D,value:I,payload:P,dataKey:R,type:y}],Z=Et(S.cx,S.cy,Q,ne);return T=St(St(St({percent:V,cornerRadius:a,name:D,tooltipPayload:ie,midAngle:ne,middleRadius:Q,tooltipPosition:Z},P),S),{},{value:Lr(P,R),startAngle:$,endAngle:ee,payload:P,paddingAngle:Hr(_)*d}),T})}return St(St({},S),{},{sectors:j,data:i})});var zb,XC;function Kee(){if(XC)return zb;XC=1;var t=Math.ceil,e=Math.max;function r(n,i,a,o){for(var u=-1,d=e(t((i-n)/(a||1)),0),f=Array(d);d--;)f[o?d:++u]=n,n+=a;return f}return zb=r,zb}var Wb,QC;function RL(){if(QC)return Wb;QC=1;var t=n4(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var a=i<0?-1:1;return a*r}return i===i?i:0}return Wb=n,Wb}var Hb,JC;function Yee(){if(JC)return Hb;JC=1;var t=Kee(),e=Gm(),r=RL();function n(i){return function(a,o,u){return u&&typeof u!="number"&&e(a,o,u)&&(o=u=void 0),a=r(a),o===void 0?(o=a,a=0):o=r(o),u=u===void 0?a<o?1:-1:r(u),t(a,o,u,i)}}return Hb=n,Hb}var Gb,ZC;function Xee(){if(ZC)return Gb;ZC=1;var t=Yee(),e=t();return Gb=e,Gb}var Qee=Xee();const am=ht(Qee);function Md(t){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Md(t)}function e2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function t2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?e2(Object(r),!0).forEach(function(n){ML(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ML(t,e,r){return e=Jee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jee(t){var e=Zee(t,"string");return Md(e)=="symbol"?e:e+""}function Zee(t,e){if(Md(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ete=["Webkit","Moz","O","ms"],tte=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=ete.reduce(function(a,o){return t2(t2({},a),{},ML({},o+n,r))},{});return i[e]=r,i};function gu(t){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gu(t)}function sm(){return sm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sm.apply(this,arguments)}function r2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Kb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?r2(Object(r),!0).forEach(function(n){bn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):r2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,LL(n.key),n)}}function nte(t,e,r){return e&&n2(t.prototype,e),r&&n2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ite(t,e,r){return e=om(e),ate(t,DL()?Reflect.construct(e,r||[],om(t).constructor):e.apply(t,r))}function ate(t,e){if(e&&(gu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ste(t)}function ste(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DL=function(){return!!t})()}function om(t){return om=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},om(t)}function ote(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Uw(t,e)}function Uw(t,e){return Uw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Uw(t,e)}function bn(t,e,r){return e=LL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LL(t){var e=lte(t,"string");return gu(e)=="symbol"?e:e+""}function lte(t,e){if(gu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ute=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,o=e.width,u=e.travellerWidth;if(!r||!r.length)return{};var d=r.length,f=Gc().domain(am(0,d)).range([a,a+o-u]),p=f.domain().map(function(g){return f(g)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(n),endX:f(i),scale:f,scaleValues:p}},i2=function(e){return e.changedTouches&&!!e.changedTouches.length},vu=function(t){function e(r){var n;return rte(this,e),n=ite(this,e,[r]),bn(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),bn(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),bn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,o=i.onDragEnd,u=i.startIndex;o?.({endIndex:a,startIndex:u})}),n.detachDragEndListener()}),bn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),bn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),bn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),bn(n,"handleSlideDragStart",function(i){var a=i2(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return ote(e,t),nte(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,o=this.state.scaleValues,u=this.props,d=u.gap,f=u.data,p=f.length-1,g=Math.min(i,a),y=Math.max(i,a),x=e.getIndexInRange(o,g),S=e.getIndexInRange(o,y);return{startIndex:x-x%d,endIndex:S===p?p:S-S%d}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,o=i.tickFormatter,u=i.dataKey,d=Lr(a[n],u,n);return He(o)?o(d,n):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,o=i.startX,u=i.endX,d=this.props,f=d.x,p=d.width,g=d.travellerWidth,y=d.startIndex,x=d.endIndex,S=d.onChange,_=n.pageX-a;_>0?_=Math.min(_,f+p-g-u,f+p-g-o):_<0&&(_=Math.max(_,f-o,f-u));var w=this.getIndex({startX:o+_,endX:u+_});(w.startIndex!==y||w.endIndex!==x)&&S&&S(w),this.setState({startX:o+_,endX:u+_,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=i2(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,u=i.endX,d=i.startX,f=this.state[o],p=this.props,g=p.x,y=p.width,x=p.travellerWidth,S=p.onChange,_=p.gap,w=p.data,R={startX:this.state.startX,endX:this.state.endX},N=n.pageX-a;N>0?N=Math.min(N,g+y-x-f):N<0&&(N=Math.max(N,g-f)),R[o]=f+N;var O=this.getIndex(R),M=O.startIndex,A=O.endIndex,j=function(){var P=w.length-1;return o==="startX"&&(u>d?M%_===0:A%_===0)||u<d&&A===P||o==="endX"&&(u>d?A%_===0:M%_===0)||u>d&&A===P};this.setState(bn(bn({},o,f+N),"brushMoveStartX",n.pageX),function(){S&&j()&&S(O)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,o=this.state,u=o.scaleValues,d=o.startX,f=o.endX,p=this.state[i],g=u.indexOf(p);if(g!==-1){var y=g+n;if(!(y===-1||y>=u.length)){var x=u[y];i==="startX"&&x>=f||i==="endX"&&x<=d||this.setState(bn({},i,x),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,u=n.height,d=n.fill,f=n.stroke;return G.createElement("rect",{stroke:f,fill:d,x:i,y:a,width:o,height:u})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,u=n.height,d=n.data,f=n.children,p=n.padding,g=z.Children.only(f);return g?G.cloneElement(g,{x:i,y:a,width:o,height:u,margin:p,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,o,u=this,d=this.props,f=d.y,p=d.travellerWidth,g=d.height,y=d.traveller,x=d.ariaLabel,S=d.data,_=d.startIndex,w=d.endIndex,R=Math.max(n,this.props.x),N=Kb(Kb({},ze(this.props,!1)),{},{x:R,y:f,width:p,height:g}),O=x||"Min value: ".concat((a=S[_])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=S[w])===null||o===void 0?void 0:o.name);return G.createElement(mt,{tabIndex:0,role:"slider","aria-label":O,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(A){["ArrowLeft","ArrowRight"].includes(A.key)&&(A.preventDefault(),A.stopPropagation(),u.handleTravellerMoveKeyboard(A.key==="ArrowRight"?1:-1,i))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(y,N))}},{key:"renderSlide",value:function(n,i){var a=this.props,o=a.y,u=a.height,d=a.stroke,f=a.travellerWidth,p=Math.min(n,i)+f,g=Math.max(Math.abs(i-n)-f,0);return G.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:p,y:o,width:g,height:u})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,o=n.y,u=n.height,d=n.travellerWidth,f=n.stroke,p=this.state,g=p.startX,y=p.endX,x=5,S={pointerEvents:"none",fill:f};return G.createElement(mt,{className:"recharts-brush-texts"},G.createElement(Mo,sm({textAnchor:"end",verticalAnchor:"middle",x:Math.min(g,y)-x,y:o+u/2},S),this.getTextOfTick(i)),G.createElement(Mo,sm({textAnchor:"start",verticalAnchor:"middle",x:Math.max(g,y)+d+x,y:o+u/2},S),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,o=n.children,u=n.x,d=n.y,f=n.width,p=n.height,g=n.alwaysShowText,y=this.state,x=y.startX,S=y.endX,_=y.isTextActive,w=y.isSlideMoving,R=y.isTravellerMoving,N=y.isTravellerFocused;if(!i||!i.length||!ke(u)||!ke(d)||!ke(f)||!ke(p)||f<=0||p<=0)return null;var O=Xe("recharts-brush",a),M=G.Children.count(o)===1,A=tte("userSelect","none");return G.createElement(mt,{className:O,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:A},this.renderBackground(),M&&this.renderPanorama(),this.renderSlide(x,S),this.renderTravellerLayer(x,"startX"),this.renderTravellerLayer(S,"endX"),(_||w||R||N||g)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,o=n.width,u=n.height,d=n.stroke,f=Math.floor(a+u/2)-1;return G.createElement(G.Fragment,null,G.createElement("rect",{x:i,y:a,width:o,height:u,fill:d,stroke:"none"}),G.createElement("line",{x1:i+1,y1:f,x2:i+o-1,y2:f,fill:"none",stroke:"#fff"}),G.createElement("line",{x1:i+1,y1:f+2,x2:i+o-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return G.isValidElement(n)?a=G.cloneElement(n,i):He(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,o=n.width,u=n.x,d=n.travellerWidth,f=n.updateId,p=n.startIndex,g=n.endIndex;if(a!==i.prevData||f!==i.prevUpdateId)return Kb({prevData:a,prevTravellerWidth:d,prevUpdateId:f,prevX:u,prevWidth:o},a&&a.length?ute({data:a,width:o,x:u,travellerWidth:d,startIndex:p,endIndex:g}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||u!==i.prevX||d!==i.prevTravellerWidth)){i.scale.range([u,u+o-d]);var y=i.scale.domain().map(function(x){return i.scale(x)});return{prevData:a,prevTravellerWidth:d,prevUpdateId:f,prevX:u,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:y}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,o=0,u=a-1;u-o>1;){var d=Math.floor((o+u)/2);n[d]>i?u=d:o=d}return i>=n[u]?u:o}}])}(z.PureComponent);bn(vu,"displayName","Brush");bn(vu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Yb,a2;function cte(){if(a2)return Yb;a2=1;var t=mS();function e(r,n){var i;return t(r,function(a,o,u){return i=n(a,o,u),!i}),!!i}return Yb=e,Yb}var Xb,s2;function dte(){if(s2)return Xb;s2=1;var t=RD(),e=Yi(),r=cte(),n=dn(),i=Gm();function a(o,u,d){var f=n(o)?t:r;return d&&i(o,u,d)&&(u=void 0),f(o,e(u,3))}return Xb=a,Xb}var fte=dte();const hte=ht(fte);var Ui=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},Qb,o2;function pte(){if(o2)return Qb;o2=1;var t=JD();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return Qb=e,Qb}var Jb,l2;function mte(){if(l2)return Jb;l2=1;var t=pte(),e=XD(),r=Yi();function n(i,a){var o={};return a=r(a,3),e(i,function(u,d,f){t(o,d,a(u,d,f))}),o}return Jb=n,Jb}var gte=mte();const vte=ht(gte);var Zb,u2;function yte(){if(u2)return Zb;u2=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return Zb=t,Zb}var e_,c2;function xte(){if(c2)return e_;c2=1;var t=mS();function e(r,n){var i=!0;return t(r,function(a,o,u){return i=!!n(a,o,u),i}),i}return e_=e,e_}var t_,d2;function bte(){if(d2)return t_;d2=1;var t=yte(),e=xte(),r=Yi(),n=dn(),i=Gm();function a(o,u,d){var f=n(o)?t:e;return d&&i(o,u,d)&&(u=void 0),f(o,r(u,3))}return t_=a,t_}var _te=bte();const $L=ht(_te);var wte=["x","y"];function Dd(t){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dd(t)}function Bw(){return Bw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bw.apply(this,arguments)}function f2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ic(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?f2(Object(r),!0).forEach(function(n){Ste(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ste(t,e,r){return e=kte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kte(t){var e=Ete(t,"string");return Dd(e)=="symbol"?e:e+""}function Ete(t,e){if(Dd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ate(t,e){if(t==null)return{};var r=Tte(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Tte(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function jte(t,e){var r=t.x,n=t.y,i=Ate(t,wte),a="".concat(r),o=parseInt(a,10),u="".concat(n),d=parseInt(u,10),f="".concat(e.height||i.height),p=parseInt(f,10),g="".concat(e.width||i.width),y=parseInt(g,10);return Ic(Ic(Ic(Ic(Ic({},e),i),o?{x:o}:{}),d?{y:d}:{}),{},{height:p,width:y,name:e.name,radius:e.radius})}function h2(t){return G.createElement(IL,Bw({shapeType:"rectangle",propTransformer:jte,activeClassName:"recharts-active-bar"},t))}var Nte=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=ke(n)||ez(n);return a?e(n,i):(a||Lo(),r)}},Pte=["value","background"],FL;function yu(t){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yu(t)}function Ite(t,e){if(t==null)return{};var r=Ote(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ote(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function lm(){return lm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lm.apply(this,arguments)}function p2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?p2(Object(r),!0).forEach(function(n){ys(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,UL(n.key),n)}}function Rte(t,e,r){return e&&m2(t.prototype,e),r&&m2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mte(t,e,r){return e=um(e),Dte(t,VL()?Reflect.construct(e,r||[],um(t).constructor):e.apply(t,r))}function Dte(t,e){if(e&&(yu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lte(t)}function Lte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VL=function(){return!!t})()}function um(t){return um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},um(t)}function $te(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qw(t,e)}function qw(t,e){return qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},qw(t,e)}function ys(t,e,r){return e=UL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UL(t){var e=Fte(t,"string");return yu(e)=="symbol"?e:e+""}function Fte(t,e){if(yu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wi=function(t){function e(){var r;Cte(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Mte(this,e,[].concat(i)),ys(r,"state",{isAnimationFinished:!1}),ys(r,"id",nf("recharts-bar-")),ys(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),ys(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return $te(e,t),Rte(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,o=a.shape,u=a.dataKey,d=a.activeIndex,f=a.activeBar,p=ze(this.props,!1);return n&&n.map(function(g,y){var x=y===d,S=x?f:o,_=Yt(Yt(Yt({},p),g),{},{isActive:x,option:S,index:y,dataKey:u,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return G.createElement(mt,lm({className:"recharts-bar-rectangle"},Ro(i.props,g,y),{key:"rectangle-".concat(g?.x,"-").concat(g?.y,"-").concat(g?.value,"-").concat(y)}),G.createElement(h2,_))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.layout,u=i.isAnimationActive,d=i.animationBegin,f=i.animationDuration,p=i.animationEasing,g=i.animationId,y=this.state.prevData;return G.createElement(Na,{begin:d,duration:f,isActive:u,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var S=x.t,_=a.map(function(w,R){var N=y&&y[R];if(N){var O=us(N.x,w.x),M=us(N.y,w.y),A=us(N.width,w.width),j=us(N.height,w.height);return Yt(Yt({},w),{},{x:O(S),y:M(S),width:A(S),height:j(S)})}if(o==="horizontal"){var T=us(0,w.height),P=T(S);return Yt(Yt({},w),{},{y:w.y+w.height-P,height:P})}var L=us(0,w.width),I=L(S);return Yt(Yt({},w),{},{width:I})});return G.createElement(mt,null,n.renderRectanglesStatically(_))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!ig(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,o=i.dataKey,u=i.activeIndex,d=ze(this.props.background,!1);return a.map(function(f,p){f.value;var g=f.background,y=Ite(f,Pte);if(!g)return null;var x=Yt(Yt(Yt(Yt(Yt({},y),{},{fill:"#eee"},g),d),Ro(n.props,f,p)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:p,className:"recharts-bar-background-rectangle"});return G.createElement(h2,lm({key:"background-bar-".concat(p),option:n.props.background,isActive:p===u},x))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,u=a.xAxis,d=a.yAxis,f=a.layout,p=a.children,g=Hn(p,og);if(!g)return null;var y=f==="vertical"?o[0].height/2:o[0].width/2,x=function(w,R){var N=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:N,errorVal:Lr(w,R)}},S={clipPath:n?"url(#clipPath-".concat(i,")"):null};return G.createElement(mt,S,g.map(function(_){return G.cloneElement(_,{key:"error-bar-".concat(i,"-").concat(_.props.dataKey),data:o,xAxis:u,yAxis:d,layout:f,offset:y,dataPointFormatter:x})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,u=n.xAxis,d=n.yAxis,f=n.left,p=n.top,g=n.width,y=n.height,x=n.isAnimationActive,S=n.background,_=n.id;if(i||!a||!a.length)return null;var w=this.state.isAnimationFinished,R=Xe("recharts-bar",o),N=u&&u.allowDataOverflow,O=d&&d.allowDataOverflow,M=N||O,A=Je(_)?this.id:_;return G.createElement(mt,{className:R},N||O?G.createElement("defs",null,G.createElement("clipPath",{id:"clipPath-".concat(A)},G.createElement("rect",{x:N?f:f-g/2,y:O?p:p-y/2,width:N?g:g*2,height:O?y:y*2}))):null,G.createElement(mt,{className:"recharts-bar-rectangles",clipPath:M?"url(#clipPath-".concat(A,")"):null},S?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(M,A),(!x||w)&&ks.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(z.PureComponent);FL=Wi;ys(Wi,"displayName","Bar");ys(Wi,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Du.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ys(Wi,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,u=t.xAxisTicks,d=t.yAxisTicks,f=t.stackedData,p=t.dataStartIndex,g=t.displayedData,y=t.offset,x=pX(n,r);if(!x)return null;var S=e.layout,_=r.type.defaultProps,w=_!==void 0?Yt(Yt({},_),r.props):r.props,R=w.dataKey,N=w.children,O=w.minPointSize,M=S==="horizontal"?o:a,A=f?M.scale.domain():null,j=_X({numericAxis:M}),T=Hn(N,Km),P=g.map(function(L,I){var D,V,$,ee,ne,Q;f?D=mX(f[p+I],A):(D=Lr(L,R),Array.isArray(D)||(D=[j,D]));var ie=Nte(O,FL.defaultProps.minPointSize)(D[1],I);if(S==="horizontal"){var Z,J=[o.scale(D[0]),o.scale(D[1])],se=J[0],q=J[1];V=VO({axis:a,ticks:u,bandSize:i,offset:x.offset,entry:L,index:I}),$=(Z=q??se)!==null&&Z!==void 0?Z:void 0,ee=x.size;var Y=se-q;if(ne=Number.isNaN(Y)?0:Y,Q={x:V,y:o.y,width:ee,height:o.height},Math.abs(ie)>0&&Math.abs(ne)<Math.abs(ie)){var K=Hr(ne||ie)*(Math.abs(ie)-Math.abs(ne));$-=K,ne+=K}}else{var le=[a.scale(D[0]),a.scale(D[1])],de=le[0],xe=le[1];if(V=de,$=VO({axis:o,ticks:d,bandSize:i,offset:x.offset,entry:L,index:I}),ee=xe-de,ne=x.size,Q={x:a.x,y:$,width:a.width,height:ne},Math.abs(ie)>0&&Math.abs(ee)<Math.abs(ie)){var he=Hr(ee||ie)*(Math.abs(ie)-Math.abs(ee));ee+=he}}return Yt(Yt(Yt({},L),{},{x:V,y:$,width:ee,height:ne,value:f?D:D[1],payload:L,background:Q},T&&T[I]&&T[I].props),{},{tooltipPayload:[pL(r,L)],tooltipPosition:{x:V+ee/2,y:$+ne/2}})});return Yt({data:P,layout:S},y)});function Ld(t){"@babel/helpers - typeof";return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ld(t)}function Vte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,BL(n.key),n)}}function Ute(t,e,r){return e&&g2(t.prototype,e),r&&g2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function v2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?v2(Object(r),!0).forEach(function(n){pg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pg(t,e,r){return e=BL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BL(t){var e=Bte(t,"string");return Ld(e)=="symbol"?e:e+""}function Bte(t,e){if(Ld(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qte=function(e,r,n,i,a){var o=e.width,u=e.height,d=e.layout,f=e.children,p=Object.keys(r),g={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:u-n.bottom,bottomMirror:u-n.bottom},y=!!_n(f,Wi);return p.reduce(function(x,S){var _=r[S],w=_.orientation,R=_.domain,N=_.padding,O=N===void 0?{}:N,M=_.mirror,A=_.reversed,j="".concat(w).concat(M?"Mirror":""),T,P,L,I,D;if(_.type==="number"&&(_.padding==="gap"||_.padding==="no-gap")){var V=R[1]-R[0],$=1/0,ee=_.categoricalDomain.sort(nz);if(ee.forEach(function(le,de){de>0&&($=Math.min((le||0)-(ee[de-1]||0),$))}),Number.isFinite($)){var ne=$/V,Q=_.layout==="vertical"?n.height:n.width;if(_.padding==="gap"&&(T=ne*Q/2),_.padding==="no-gap"){var ie=Gr(e.barCategoryGap,ne*Q),Z=ne*Q/2;T=Z-ie-(Z-ie)/Q*ie}}}i==="xAxis"?P=[n.left+(O.left||0)+(T||0),n.left+n.width-(O.right||0)-(T||0)]:i==="yAxis"?P=d==="horizontal"?[n.top+n.height-(O.bottom||0),n.top+(O.top||0)]:[n.top+(O.top||0)+(T||0),n.top+n.height-(O.bottom||0)-(T||0)]:P=_.range,A&&(P=[P[1],P[0]]);var J=cL(_,a,y),se=J.scale,q=J.realScaleType;se.domain(R).range(P),dL(se);var Y=fL(se,fi(fi({},_),{},{realScaleType:q}));i==="xAxis"?(D=w==="top"&&!M||w==="bottom"&&M,L=n.left,I=g[j]-D*_.height):i==="yAxis"&&(D=w==="left"&&!M||w==="right"&&M,L=g[j]-D*_.width,I=n.top);var K=fi(fi(fi({},_),Y),{},{realScaleType:q,x:L,y:I,scale:se,width:i==="xAxis"?n.width:_.width,height:i==="yAxis"?n.height:_.height});return K.bandSize=Gp(K,Y),!_.hide&&i==="xAxis"?g[j]+=(D?-1:1)*K.height:_.hide||(g[j]+=(D?-1:1)*K.width),fi(fi({},x),{},pg({},S,K))},{})},qL=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(i,o),width:Math.abs(a-n),height:Math.abs(o-i)}},zte=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return qL({x:r,y:n},{x:i,y:a})},zL=function(){function t(e){Vte(this,t),this.scale=e}return Ute(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(r)+u}default:return this.scale(r)}if(i){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+d}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();pg(zL,"EPS",1e-4);var GS=function(e){var r=Object.keys(e).reduce(function(n,i){return fi(fi({},n),{},pg({},i,zL.create(e[i])))},{});return fi(fi({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,u=a.position;return vte(i,function(d,f){return r[f].apply(d,{bandAware:o,position:u})})},isInRange:function(i){return $L(i,function(a,o){return r[o].isInRange(a)})}})};function Wte(t){return(t%180+180)%180}var Hte=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Wte(i),o=a*Math.PI/180,u=Math.atan(n/r),d=o>u&&o<Math.PI-u?n/Math.sin(o):r/Math.cos(o);return Math.abs(d)},r_,y2;function Gte(){if(y2)return r_;y2=1;var t=Yi(),e=af(),r=Wm();function n(i){return function(a,o,u){var d=Object(a);if(!e(a)){var f=t(o,3);a=r(a),o=function(g){return f(d[g],g,d)}}var p=i(a,o,u);return p>-1?d[f?a[p]:p]:void 0}}return r_=n,r_}var n_,x2;function Kte(){if(x2)return n_;x2=1;var t=RL();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return n_=e,n_}var i_,b2;function Yte(){if(b2)return i_;b2=1;var t=WD(),e=Yi(),r=Kte(),n=Math.max;function i(a,o,u){var d=a==null?0:a.length;if(!d)return-1;var f=u==null?0:r(u);return f<0&&(f=n(d+f,0)),t(a,e(o,3),f)}return i_=i,i_}var a_,_2;function Xte(){if(_2)return a_;_2=1;var t=Gte(),e=Yte(),r=t(e);return a_=r,a_}var Qte=Xte();const Jte=ht(Qte);var Zte=oD();const ere=ht(Zte);var tre=ere(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),KS=z.createContext(void 0),YS=z.createContext(void 0),WL=z.createContext(void 0),HL=z.createContext({}),GL=z.createContext(void 0),KL=z.createContext(0),YL=z.createContext(0),w2=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,o=e.clipPathId,u=e.children,d=e.width,f=e.height,p=tre(a);return G.createElement(KS.Provider,{value:n},G.createElement(YS.Provider,{value:i},G.createElement(HL.Provider,{value:a},G.createElement(WL.Provider,{value:p},G.createElement(GL.Provider,{value:o},G.createElement(KL.Provider,{value:f},G.createElement(YL.Provider,{value:d},u)))))))},rre=function(){return z.useContext(GL)},XL=function(e){var r=z.useContext(KS);r==null&&Lo();var n=r[e];return n==null&&Lo(),n},nre=function(){var e=z.useContext(KS);return ms(e)},ire=function(){var e=z.useContext(YS),r=Jte(e,function(n){return $L(n.domain,Number.isFinite)});return r||ms(e)},QL=function(e){var r=z.useContext(YS);r==null&&Lo();var n=r[e];return n==null&&Lo(),n},are=function(){var e=z.useContext(WL);return e},sre=function(){return z.useContext(HL)},XS=function(){return z.useContext(YL)},QS=function(){return z.useContext(KL)};function xu(t){"@babel/helpers - typeof";return xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xu(t)}function ore(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lre(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ZL(n.key),n)}}function ure(t,e,r){return e&&lre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cre(t,e,r){return e=cm(e),dre(t,JL()?Reflect.construct(e,r||[],cm(t).constructor):e.apply(t,r))}function dre(t,e){if(e&&(xu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fre(t)}function fre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JL=function(){return!!t})()}function cm(t){return cm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cm(t)}function hre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zw(t,e)}function zw(t,e){return zw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},zw(t,e)}function S2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function k2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?S2(Object(r),!0).forEach(function(n){JS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JS(t,e,r){return e=ZL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZL(t){var e=pre(t,"string");return xu(e)=="symbol"?e:e+""}function pre(t,e){if(xu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function mre(t,e){return xre(t)||yre(t,e)||vre(t,e)||gre()}function gre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vre(t,e){if(t){if(typeof t=="string")return E2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E2(t,e)}}function E2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function yre(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function xre(t){if(Array.isArray(t))return t}function Ww(){return Ww=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ww.apply(this,arguments)}var bre=function(e,r){var n;return G.isValidElement(e)?n=G.cloneElement(e,r):He(e)?n=e(r):n=G.createElement("line",Ww({},r,{className:"recharts-reference-line-line"})),n},_re=function(e,r,n,i,a,o,u,d,f){var p=a.x,g=a.y,y=a.width,x=a.height;if(n){var S=f.y,_=e.y.apply(S,{position:o});if(Ui(f,"discard")&&!e.y.isInRange(_))return null;var w=[{x:p+y,y:_},{x:p,y:_}];return d==="left"?w.reverse():w}if(r){var R=f.x,N=e.x.apply(R,{position:o});if(Ui(f,"discard")&&!e.x.isInRange(N))return null;var O=[{x:N,y:g+x},{x:N,y:g}];return u==="top"?O.reverse():O}if(i){var M=f.segment,A=M.map(function(j){return e.apply(j,{position:o})});return Ui(f,"discard")&&hte(A,function(j){return!e.isInRange(j)})?null:A}return null};function wre(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,u=t.className,d=t.alwaysShow,f=rre(),p=XL(i),g=QL(a),y=are();if(!f||!y)return null;gi(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var x=GS({x:p.scale,y:g.scale}),S=ir(e),_=ir(r),w=n&&n.length===2,R=_re(x,S,_,w,y,t.position,p.orientation,g.orientation,t);if(!R)return null;var N=mre(R,2),O=N[0],M=O.x,A=O.y,j=N[1],T=j.x,P=j.y,L=Ui(t,"hidden")?"url(#".concat(f,")"):void 0,I=k2(k2({clipPath:L},ze(t,!0)),{},{x1:M,y1:A,x2:T,y2:P});return G.createElement(mt,{className:Xe("recharts-reference-line",u)},bre(o,I),mr.renderCallByParent(t,zte({x1:M,y1:A,x2:T,y2:P})))}var ZS=function(t){function e(){return ore(this,e),cre(this,e,arguments)}return hre(e,t),ure(e,[{key:"render",value:function(){return G.createElement(wre,this.props)}}])}(G.Component);JS(ZS,"displayName","ReferenceLine");JS(ZS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Hw(){return Hw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hw.apply(this,arguments)}function bu(t){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bu(t)}function A2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function T2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A2(Object(r),!0).forEach(function(n){mg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Sre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kre(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,t3(n.key),n)}}function Ere(t,e,r){return e&&kre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Are(t,e,r){return e=dm(e),Tre(t,e3()?Reflect.construct(e,r||[],dm(t).constructor):e.apply(t,r))}function Tre(t,e){if(e&&(bu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jre(t)}function jre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e3=function(){return!!t})()}function dm(t){return dm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dm(t)}function Nre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gw(t,e)}function Gw(t,e){return Gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Gw(t,e)}function mg(t,e,r){return e=t3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function t3(t){var e=Pre(t,"string");return bu(e)=="symbol"?e:e+""}function Pre(t,e){if(bu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ire=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,o=GS({x:i.scale,y:a.scale}),u=o.apply({x:r,y:n},{bandAware:!0});return Ui(e,"discard")&&!o.isInRange(u)?null:u},gg=function(t){function e(){return Sre(this,e),Are(this,e,arguments)}return Nre(e,t),Ere(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,o=n.r,u=n.alwaysShow,d=n.clipPathId,f=ir(i),p=ir(a);if(gi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!p)return null;var g=Ire(this.props);if(!g)return null;var y=g.x,x=g.y,S=this.props,_=S.shape,w=S.className,R=Ui(this.props,"hidden")?"url(#".concat(d,")"):void 0,N=T2(T2({clipPath:R},ze(this.props,!0)),{},{cx:y,cy:x});return G.createElement(mt,{className:Xe("recharts-reference-dot",w)},e.renderDot(_,N),mr.renderCallByParent(this.props,{x:y-o,y:x-o,width:2*o,height:2*o}))}}])}(G.Component);mg(gg,"displayName","ReferenceDot");mg(gg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});mg(gg,"renderDot",function(t,e){var r;return G.isValidElement(t)?r=G.cloneElement(t,e):He(t)?r=t(e):r=G.createElement(HS,Hw({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function Kw(){return Kw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Kw.apply(this,arguments)}function _u(t){"@babel/helpers - typeof";return _u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_u(t)}function j2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function N2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?j2(Object(r),!0).forEach(function(n){vg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):j2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ore(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cre(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n3(n.key),n)}}function Rre(t,e,r){return e&&Cre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mre(t,e,r){return e=fm(e),Dre(t,r3()?Reflect.construct(e,r||[],fm(t).constructor):e.apply(t,r))}function Dre(t,e){if(e&&(_u(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lre(t)}function Lre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r3=function(){return!!t})()}function fm(t){return fm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fm(t)}function $re(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yw(t,e)}function Yw(t,e){return Yw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Yw(t,e)}function vg(t,e,r){return e=n3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n3(t){var e=Fre(t,"string");return _u(e)=="symbol"?e:e+""}function Fre(t,e){if(_u(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_u(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vre=function(e,r,n,i,a){var o=a.x1,u=a.x2,d=a.y1,f=a.y2,p=a.xAxis,g=a.yAxis;if(!p||!g)return null;var y=GS({x:p.scale,y:g.scale}),x={x:e?y.x.apply(o,{position:"start"}):y.x.rangeMin,y:n?y.y.apply(d,{position:"start"}):y.y.rangeMin},S={x:r?y.x.apply(u,{position:"end"}):y.x.rangeMax,y:i?y.y.apply(f,{position:"end"}):y.y.rangeMax};return Ui(a,"discard")&&(!y.isInRange(x)||!y.isInRange(S))?null:qL(x,S)},yg=function(t){function e(){return Ore(this,e),Mre(this,e,arguments)}return $re(e,t),Rre(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,o=n.y1,u=n.y2,d=n.className,f=n.alwaysShow,p=n.clipPathId;gi(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=ir(i),y=ir(a),x=ir(o),S=ir(u),_=this.props.shape;if(!g&&!y&&!x&&!S&&!_)return null;var w=Vre(g,y,x,S,this.props);if(!w&&!_)return null;var R=Ui(this.props,"hidden")?"url(#".concat(p,")"):void 0;return G.createElement(mt,{className:Xe("recharts-reference-area",d)},e.renderRect(_,N2(N2({clipPath:R},ze(this.props,!0)),w)),mr.renderCallByParent(this.props,w))}}])}(G.Component);vg(yg,"displayName","ReferenceArea");vg(yg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});vg(yg,"renderRect",function(t,e){var r;return G.isValidElement(t)?r=G.cloneElement(t,e):He(t)?r=t(e):r=G.createElement(WS,Kw({},e,{className:"recharts-reference-area-rect"})),r});function i3(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function Ure(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Hte(n,r)}function Bre(t,e,r){var n=r==="width",i=t.x,a=t.y,o=t.width,u=t.height;return e===1?{start:n?i:a,end:n?i+o:a+u}:{start:n?i+o:a+u,end:n?i:a}}function hm(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function qre(t,e){return i3(t,e+1)}function zre(t,e,r,n,i){for(var a=(n||[]).slice(),o=e.start,u=e.end,d=0,f=1,p=o,g=function(){var S=n?.[d];if(S===void 0)return{v:i3(n,f)};var _=d,w,R=function(){return w===void 0&&(w=r(S,_)),w},N=S.coordinate,O=d===0||hm(t,N,R,p,u);O||(d=0,p=o,f+=1),O&&(p=N+t*(R()/2+i),d+=f)},y;f<=a.length;)if(y=g(),y)return y.v;return[]}function $d(t){"@babel/helpers - typeof";return $d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$d(t)}function P2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Or(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?P2(Object(r),!0).forEach(function(n){Wre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wre(t,e,r){return e=Hre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hre(t){var e=Gre(t,"string");return $d(e)=="symbol"?e:e+""}function Gre(t,e){if($d(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($d(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kre(t,e,r,n,i){for(var a=(n||[]).slice(),o=a.length,u=e.start,d=e.end,f=function(y){var x=a[y],S,_=function(){return S===void 0&&(S=r(x,y)),S};if(y===o-1){var w=t*(x.coordinate+t*_()/2-d);a[y]=x=Or(Or({},x),{},{tickCoord:w>0?x.coordinate-w*t:x.coordinate})}else a[y]=x=Or(Or({},x),{},{tickCoord:x.coordinate});var R=hm(t,x.tickCoord,_,u,d);R&&(d=x.tickCoord-t*(_()/2+i),a[y]=Or(Or({},x),{},{isShow:!0}))},p=o-1;p>=0;p--)f(p);return a}function Yre(t,e,r,n,i,a){var o=(n||[]).slice(),u=o.length,d=e.start,f=e.end;if(a){var p=n[u-1],g=r(p,u-1),y=t*(p.coordinate+t*g/2-f);o[u-1]=p=Or(Or({},p),{},{tickCoord:y>0?p.coordinate-y*t:p.coordinate});var x=hm(t,p.tickCoord,function(){return g},d,f);x&&(f=p.tickCoord-t*(g/2+i),o[u-1]=Or(Or({},p),{},{isShow:!0}))}for(var S=a?u-1:u,_=function(N){var O=o[N],M,A=function(){return M===void 0&&(M=r(O,N)),M};if(N===0){var j=t*(O.coordinate-t*A()/2-d);o[N]=O=Or(Or({},O),{},{tickCoord:j<0?O.coordinate-j*t:O.coordinate})}else o[N]=O=Or(Or({},O),{},{tickCoord:O.coordinate});var T=hm(t,O.tickCoord,A,d,f);T&&(d=O.tickCoord+t*(A()/2+i),o[N]=Or(Or({},O),{},{isShow:!0}))},w=0;w<S;w++)_(w);return o}function ek(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,u=t.orientation,d=t.interval,f=t.tickFormatter,p=t.unit,g=t.angle;if(!i||!i.length||!n)return[];if(ke(d)||Du.isSsr)return qre(i,typeof d=="number"&&ke(d)?d:0);var y=[],x=u==="top"||u==="bottom"?"width":"height",S=p&&x==="width"?Hc(p,{fontSize:e,letterSpacing:r}):{width:0,height:0},_=function(O,M){var A=He(f)?f(O.value,M):O.value;return x==="width"?Ure(Hc(A,{fontSize:e,letterSpacing:r}),S,g):Hc(A,{fontSize:e,letterSpacing:r})[x]},w=i.length>=2?Hr(i[1].coordinate-i[0].coordinate):1,R=Bre(a,w,x);return d==="equidistantPreserveStart"?zre(w,R,_,i,o):(d==="preserveStart"||d==="preserveStartEnd"?y=Yre(w,R,_,i,o,d==="preserveStartEnd"):y=Kre(w,R,_,i,o),y.filter(function(N){return N.isShow}))}var Xre=["viewBox"],Qre=["viewBox"],Jre=["ticks"];function wu(t){"@babel/helpers - typeof";return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wu(t)}function $l(){return $l=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$l.apply(this,arguments)}function I2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?I2(Object(r),!0).forEach(function(n){tk(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function s_(t,e){if(t==null)return{};var r=Zre(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Zre(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ene(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,s3(n.key),n)}}function tne(t,e,r){return e&&O2(t.prototype,e),r&&O2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function rne(t,e,r){return e=pm(e),nne(t,a3()?Reflect.construct(e,r||[],pm(t).constructor):e.apply(t,r))}function nne(t,e){if(e&&(wu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ine(t)}function ine(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a3=function(){return!!t})()}function pm(t){return pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pm(t)}function ane(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xw(t,e)}function Xw(t,e){return Xw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Xw(t,e)}function tk(t,e,r){return e=s3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s3(t){var e=sne(t,"string");return wu(e)=="symbol"?e:e+""}function sne(t,e){if(wu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vu=function(t){function e(r){var n;return ene(this,e),n=rne(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return ane(e,t),tne(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,o=s_(n,Xre),u=this.props,d=u.viewBox,f=s_(u,Qre);return!Hl(a,d)||!Hl(o,f)||!Hl(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,o=i.y,u=i.width,d=i.height,f=i.orientation,p=i.tickSize,g=i.mirror,y=i.tickMargin,x,S,_,w,R,N,O=g?-1:1,M=n.tickSize||p,A=ke(n.tickCoord)?n.tickCoord:n.coordinate;switch(f){case"top":x=S=n.coordinate,w=o+ +!g*d,_=w-O*M,N=_-O*y,R=A;break;case"left":_=w=n.coordinate,S=a+ +!g*u,x=S-O*M,R=x-O*y,N=A;break;case"right":_=w=n.coordinate,S=a+ +g*u,x=S+O*M,R=x+O*y,N=A;break;default:x=S=n.coordinate,w=o+ +g*d,_=w+O*M,N=_+O*y,R=A;break}return{line:{x1:x,y1:_,x2:S,y2:w},tick:{x:R,y:N}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,u=n.height,d=n.orientation,f=n.mirror,p=n.axisLine,g=rr(rr(rr({},ze(this.props,!1)),ze(p,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var y=+(d==="top"&&!f||d==="bottom"&&f);g=rr(rr({},g),{},{x1:i,y1:a+y*u,x2:i+o,y2:a+y*u})}else{var x=+(d==="left"&&!f||d==="right"&&f);g=rr(rr({},g),{},{x1:i+x*o,y1:a,x2:i+x*o,y2:a+u})}return G.createElement("line",$l({},g,{className:Xe("recharts-cartesian-axis-line",En(p,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var o=this,u=this.props,d=u.tickLine,f=u.stroke,p=u.tick,g=u.tickFormatter,y=u.unit,x=ek(rr(rr({},this.props),{},{ticks:n}),i,a),S=this.getTickTextAnchor(),_=this.getTickVerticalAnchor(),w=ze(this.props,!1),R=ze(p,!1),N=rr(rr({},w),{},{fill:"none"},ze(d,!1)),O=x.map(function(M,A){var j=o.getTickLineCoord(M),T=j.line,P=j.tick,L=rr(rr(rr(rr({textAnchor:S,verticalAnchor:_},w),{},{stroke:"none",fill:f},R),P),{},{index:A,payload:M,visibleTicksCount:x.length,tickFormatter:g});return G.createElement(mt,$l({className:"recharts-cartesian-axis-tick",key:"tick-".concat(M.value,"-").concat(M.coordinate,"-").concat(M.tickCoord)},Ro(o.props,M,A)),d&&G.createElement("line",$l({},N,T,{className:Xe("recharts-cartesian-axis-tick-line",En(d,"className"))})),p&&e.renderTickItem(p,L,"".concat(He(g)?g(M.value,A):M.value).concat(y||"")))});return G.createElement("g",{className:"recharts-cartesian-axis-ticks"},O)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,o=i.width,u=i.height,d=i.ticksGenerator,f=i.className,p=i.hide;if(p)return null;var g=this.props,y=g.ticks,x=s_(g,Jre),S=y;return He(d)&&(S=y&&y.length>0?d(this.props):d(x)),o<=0||u<=0||!S||!S.length?null:G.createElement(mt,{className:Xe("recharts-cartesian-axis",f),ref:function(w){n.layerReference=w}},a&&this.renderAxisLine(),this.renderTicks(S,this.state.fontSize,this.state.letterSpacing),mr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var o,u=Xe(i.className,"recharts-cartesian-axis-tick-value");return G.isValidElement(n)?o=G.cloneElement(n,rr(rr({},i),{},{className:u})):He(n)?o=n(rr(rr({},i),{},{className:u})):o=G.createElement(Mo,$l({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(z.Component);tk(Vu,"displayName","CartesianAxis");tk(Vu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var one=["x1","y1","x2","y2","key"],lne=["offset"];function $o(t){"@babel/helpers - typeof";return $o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$o(t)}function C2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?C2(Object(r),!0).forEach(function(n){une(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):C2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function une(t,e,r){return e=cne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cne(t){var e=dne(t,"string");return $o(e)=="symbol"?e:e+""}function dne(t,e){if($o(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($o(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wo(){return wo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wo.apply(this,arguments)}function R2(t,e){if(t==null)return{};var r=fne(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function fne(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var hne=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,o=e.width,u=e.height,d=e.ry;return G.createElement("rect",{x:i,y:a,ry:d,width:o,height:u,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function o3(t,e){var r;if(G.isValidElement(t))r=G.cloneElement(t,e);else if(He(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,o=e.y2,u=e.key,d=R2(e,one),f=ze(d,!1);f.offset;var p=R2(f,lne);r=G.createElement("line",wo({},p,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:u}))}return r}function pne(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(u,d){var f=Mr(Mr({},t),{},{x1:e,y1:u,x2:e+r,y2:u,key:"line-".concat(d),index:d});return o3(i,f)});return G.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function mne(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(u,d){var f=Mr(Mr({},t),{},{x1:u,y1:e,x2:u,y2:e+r,key:"line-".concat(d),index:d});return o3(i,f)});return G.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function gne(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,o=t.height,u=t.horizontalPoints,d=t.horizontal,f=d===void 0?!0:d;if(!f||!e||!e.length)return null;var p=u.map(function(y){return Math.round(y+i-i)}).sort(function(y,x){return y-x});i!==p[0]&&p.unshift(0);var g=p.map(function(y,x){var S=!p[x+1],_=S?i+o-y:p[x+1]-y;if(_<=0)return null;var w=x%e.length;return G.createElement("rect",{key:"react-".concat(x),y,x:n,height:_,width:a,stroke:"none",fill:e[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return G.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},g)}function vne(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,u=t.width,d=t.height,f=t.verticalPoints;if(!r||!n||!n.length)return null;var p=f.map(function(y){return Math.round(y+a-a)}).sort(function(y,x){return y-x});a!==p[0]&&p.unshift(0);var g=p.map(function(y,x){var S=!p[x+1],_=S?a+u-y:p[x+1]-y;if(_<=0)return null;var w=x%n.length;return G.createElement("rect",{key:"react-".concat(x),x:y,y:o,width:_,height:d,stroke:"none",fill:n[w],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return G.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},g)}var yne=function(e,r){var n=e.xAxis,i=e.width,a=e.height,o=e.offset;return uL(ek(Mr(Mr(Mr({},Vu.defaultProps),n),{},{ticks:ya(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,r)},xne=function(e,r){var n=e.yAxis,i=e.width,a=e.height,o=e.offset;return uL(ek(Mr(Mr(Mr({},Vu.defaultProps),n),{},{ticks:ya(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,r)},Pl={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function rk(t){var e,r,n,i,a,o,u=XS(),d=QS(),f=sre(),p=Mr(Mr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Pl.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Pl.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Pl.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Pl.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Pl.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Pl.verticalFill,x:ke(t.x)?t.x:f.left,y:ke(t.y)?t.y:f.top,width:ke(t.width)?t.width:f.width,height:ke(t.height)?t.height:f.height}),g=p.x,y=p.y,x=p.width,S=p.height,_=p.syncWithTicks,w=p.horizontalValues,R=p.verticalValues,N=nre(),O=ire();if(!ke(x)||x<=0||!ke(S)||S<=0||!ke(g)||g!==+g||!ke(y)||y!==+y)return null;var M=p.verticalCoordinatesGenerator||yne,A=p.horizontalCoordinatesGenerator||xne,j=p.horizontalPoints,T=p.verticalPoints;if((!j||!j.length)&&He(A)){var P=w&&w.length,L=A({yAxis:O?Mr(Mr({},O),{},{ticks:P?w:O.ticks}):void 0,width:u,height:d,offset:f},P?!0:_);gi(Array.isArray(L),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat($o(L),"]")),Array.isArray(L)&&(j=L)}if((!T||!T.length)&&He(M)){var I=R&&R.length,D=M({xAxis:N?Mr(Mr({},N),{},{ticks:I?R:N.ticks}):void 0,width:u,height:d,offset:f},I?!0:_);gi(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat($o(D),"]")),Array.isArray(D)&&(T=D)}return G.createElement("g",{className:"recharts-cartesian-grid"},G.createElement(hne,{fill:p.fill,fillOpacity:p.fillOpacity,x:p.x,y:p.y,width:p.width,height:p.height,ry:p.ry}),G.createElement(pne,wo({},p,{offset:f,horizontalPoints:j,xAxis:N,yAxis:O})),G.createElement(mne,wo({},p,{offset:f,verticalPoints:T,xAxis:N,yAxis:O})),G.createElement(gne,wo({},p,{horizontalPoints:j})),G.createElement(vne,wo({},p,{verticalPoints:T})))}rk.displayName="CartesianGrid";function Su(t){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Su(t)}function bne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _ne(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c3(n.key),n)}}function wne(t,e,r){return e&&_ne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sne(t,e,r){return e=mm(e),kne(t,l3()?Reflect.construct(e,r||[],mm(t).constructor):e.apply(t,r))}function kne(t,e){if(e&&(Su(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ene(t)}function Ene(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l3=function(){return!!t})()}function mm(t){return mm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mm(t)}function Ane(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qw(t,e)}function Qw(t,e){return Qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Qw(t,e)}function u3(t,e,r){return e=c3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c3(t){var e=Tne(t,"string");return Su(e)=="symbol"?e:e+""}function Tne(t,e){if(Su(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Jw(){return Jw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jw.apply(this,arguments)}function jne(t){var e=t.xAxisId,r=XS(),n=QS(),i=XL(e);return i==null?null:z.createElement(Vu,Jw({},i,{className:Xe("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return ya(o,!0)}}))}var cf=function(t){function e(){return bne(this,e),Sne(this,e,arguments)}return Ane(e,t),wne(e,[{key:"render",value:function(){return z.createElement(jne,this.props)}}])}(z.Component);u3(cf,"displayName","XAxis");u3(cf,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function ku(t){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ku(t)}function Nne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pne(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,h3(n.key),n)}}function Ine(t,e,r){return e&&Pne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function One(t,e,r){return e=gm(e),Cne(t,d3()?Reflect.construct(e,r||[],gm(t).constructor):e.apply(t,r))}function Cne(t,e){if(e&&(ku(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rne(t)}function Rne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d3=function(){return!!t})()}function gm(t){return gm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gm(t)}function Mne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zw(t,e)}function Zw(t,e){return Zw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Zw(t,e)}function f3(t,e,r){return e=h3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h3(t){var e=Dne(t,"string");return ku(e)=="symbol"?e:e+""}function Dne(t,e){if(ku(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ku(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function e1(){return e1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},e1.apply(this,arguments)}var Lne=function(e){var r=e.yAxisId,n=XS(),i=QS(),a=QL(r);return a==null?null:z.createElement(Vu,e1({},a,{className:Xe("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(u){return ya(u,!0)}}))},df=function(t){function e(){return Nne(this,e),One(this,e,arguments)}return Mne(e,t),Ine(e,[{key:"render",value:function(){return z.createElement(Lne,this.props)}}])}(z.Component);f3(df,"displayName","YAxis");f3(df,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function M2(t){return Une(t)||Vne(t)||Fne(t)||$ne()}function $ne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fne(t,e){if(t){if(typeof t=="string")return t1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t1(t,e)}}function Vne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Une(t){if(Array.isArray(t))return t1(t)}function t1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var r1=function(e,r,n,i,a){var o=Hn(e,ZS),u=Hn(e,gg),d=[].concat(M2(o),M2(u)),f=Hn(e,yg),p="".concat(i,"Id"),g=i[0],y=r;if(d.length&&(y=d.reduce(function(_,w){if(w.props[p]===n&&Ui(w.props,"extendDomain")&&ke(w.props[g])){var R=w.props[g];return[Math.min(_[0],R),Math.max(_[1],R)]}return _},y)),f.length){var x="".concat(g,"1"),S="".concat(g,"2");y=f.reduce(function(_,w){if(w.props[p]===n&&Ui(w.props,"extendDomain")&&ke(w.props[x])&&ke(w.props[S])){var R=w.props[x],N=w.props[S];return[Math.min(_[0],R,N),Math.max(_[1],R,N)]}return _},y)}return a&&a.length&&(y=a.reduce(function(_,w){return ke(w)?[Math.min(_[0],w),Math.max(_[1],w)]:_},y)),y},o_={exports:{}},D2;function Bne(){return D2||(D2=1,function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(d,f,p){this.fn=d,this.context=f,this.once=p||!1}function a(d,f,p,g,y){if(typeof p!="function")throw new TypeError("The listener must be a function");var x=new i(p,g||d,y),S=r?r+f:f;return d._events[S]?d._events[S].fn?d._events[S]=[d._events[S],x]:d._events[S].push(x):(d._events[S]=x,d._eventsCount++),d}function o(d,f){--d._eventsCount===0?d._events=new n:delete d._events[f]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],p,g;if(this._eventsCount===0)return f;for(g in p=this._events)e.call(p,g)&&f.push(r?g.slice(1):g);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},u.prototype.listeners=function(f){var p=r?r+f:f,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var y=0,x=g.length,S=new Array(x);y<x;y++)S[y]=g[y].fn;return S},u.prototype.listenerCount=function(f){var p=r?r+f:f,g=this._events[p];return g?g.fn?1:g.length:0},u.prototype.emit=function(f,p,g,y,x,S){var _=r?r+f:f;if(!this._events[_])return!1;var w=this._events[_],R=arguments.length,N,O;if(w.fn){switch(w.once&&this.removeListener(f,w.fn,void 0,!0),R){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,p),!0;case 3:return w.fn.call(w.context,p,g),!0;case 4:return w.fn.call(w.context,p,g,y),!0;case 5:return w.fn.call(w.context,p,g,y,x),!0;case 6:return w.fn.call(w.context,p,g,y,x,S),!0}for(O=1,N=new Array(R-1);O<R;O++)N[O-1]=arguments[O];w.fn.apply(w.context,N)}else{var M=w.length,A;for(O=0;O<M;O++)switch(w[O].once&&this.removeListener(f,w[O].fn,void 0,!0),R){case 1:w[O].fn.call(w[O].context);break;case 2:w[O].fn.call(w[O].context,p);break;case 3:w[O].fn.call(w[O].context,p,g);break;case 4:w[O].fn.call(w[O].context,p,g,y);break;default:if(!N)for(A=1,N=new Array(R-1);A<R;A++)N[A-1]=arguments[A];w[O].fn.apply(w[O].context,N)}}return!0},u.prototype.on=function(f,p,g){return a(this,f,p,g,!1)},u.prototype.once=function(f,p,g){return a(this,f,p,g,!0)},u.prototype.removeListener=function(f,p,g,y){var x=r?r+f:f;if(!this._events[x])return this;if(!p)return o(this,x),this;var S=this._events[x];if(S.fn)S.fn===p&&(!y||S.once)&&(!g||S.context===g)&&o(this,x);else{for(var _=0,w=[],R=S.length;_<R;_++)(S[_].fn!==p||y&&!S[_].once||g&&S[_].context!==g)&&w.push(S[_]);w.length?this._events[x]=w.length===1?w[0]:w:o(this,x)}return this},u.prototype.removeAllListeners=function(f){var p;return f?(p=r?r+f:f,this._events[p]&&o(this,p)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,t.exports=u}(o_)),o_.exports}var qne=Bne();const zne=ht(qne);var l_=new zne,u_="recharts.syncMouseEvents";function Fd(t){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fd(t)}function Wne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hne(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,p3(n.key),n)}}function Gne(t,e,r){return e&&Hne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function c_(t,e,r){return e=p3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function p3(t){var e=Kne(t,"string");return Fd(e)=="symbol"?e:e+""}function Kne(t,e){if(Fd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Yne=function(){function t(){Wne(this,t),c_(this,"activeIndex",0),c_(this,"coordinateList",[]),c_(this,"layout","horizontal")}return Gne(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,o=r.container,u=o===void 0?null:o,d=r.layout,f=d===void 0?null:d,p=r.offset,g=p===void 0?null:p,y=r.mouseHandlerCallback,x=y===void 0?null:y;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=u??this.container,this.layout=f??this.layout,this.offset=g??this.offset,this.mouseHandlerCallback=x??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,u=i.height,d=this.coordinateList[this.activeIndex].coordinate,f=((r=window)===null||r===void 0?void 0:r.scrollX)||0,p=((n=window)===null||n===void 0?void 0:n.scrollY)||0,g=a+d+f,y=o+this.offset.top+u/2+p;this.mouseHandlerCallback({pageX:g,pageY:y})}}}])}();function Xne(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t?.[0],i=t?.[1];if(n&&i&&ke(n)&&ke(i))return!0}return!1}function Qne(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function m3(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,o=Et(e,r,n,i),u=Et(e,r,n,a);return{points:[o,u],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function Jne(t,e,r){var n,i,a,o;if(t==="horizontal")n=e.x,a=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var u=e.cx,d=e.cy,f=e.innerRadius,p=e.outerRadius,g=e.angle,y=Et(u,d,f,g),x=Et(u,d,p,g);n=y.x,i=y.y,a=x.x,o=x.y}else return m3(e);return[{x:n,y:i},{x:a,y:o}]}function Vd(t){"@babel/helpers - typeof";return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vd(t)}function L2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Hh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?L2(Object(r),!0).forEach(function(n){Zne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zne(t,e,r){return e=eie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eie(t){var e=tie(t,"string");return Vd(e)=="symbol"?e:e+""}function tie(t,e){if(Vd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rie(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,u=t.activePayload,d=t.offset,f=t.activeTooltipIndex,p=t.tooltipAxisBandSize,g=t.layout,y=t.chartName,x=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!x||!a||!o||y!=="ScatterChart"&&i!=="axis")return null;var S,_=Ew;if(y==="ScatterChart")S=o,_=LZ;else if(y==="BarChart")S=Qne(g,o,d,p),_=WS;else if(g==="radial"){var w=m3(o),R=w.cx,N=w.cy,O=w.radius,M=w.startAngle,A=w.endAngle;S={cx:R,cy:N,startAngle:M,endAngle:A,innerRadius:O,outerRadius:O},_=zS}else S={points:Jne(g,o,d)},_=Ew;var j=Hh(Hh(Hh(Hh({stroke:"#ccc",pointerEvents:"none"},d),S),ze(x,!1)),{},{payload:u,payloadIndex:f,className:Xe("recharts-tooltip-cursor",x.className)});return z.isValidElement(x)?z.cloneElement(x,j):z.createElement(_,j)}var nie=["item"],iie=["children","className","width","height","style","compact","title","desc"];function Eu(t){"@babel/helpers - typeof";return Eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eu(t)}function Fl(){return Fl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fl.apply(this,arguments)}function $2(t,e){return oie(t)||sie(t,e)||v3(t,e)||aie()}function aie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sie(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function oie(t){if(Array.isArray(t))return t}function F2(t,e){if(t==null)return{};var r=lie(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function lie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function uie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,y3(n.key),n)}}function die(t,e,r){return e&&cie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fie(t,e,r){return e=vm(e),hie(t,g3()?Reflect.construct(e,r||[],vm(t).constructor):e.apply(t,r))}function hie(t,e){if(e&&(Eu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pie(t)}function pie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g3=function(){return!!t})()}function vm(t){return vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vm(t)}function mie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n1(t,e)}function n1(t,e){return n1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},n1(t,e)}function Au(t){return yie(t)||vie(t)||v3(t)||gie()}function gie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v3(t,e){if(t){if(typeof t=="string")return i1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i1(t,e)}}function vie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yie(t){if(Array.isArray(t))return i1(t)}function i1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function V2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ce(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V2(Object(r),!0).forEach(function(n){Be(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Be(t,e,r){return e=y3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y3(t){var e=xie(t,"string");return Eu(e)=="symbol"?e:e+""}function xie(t,e){if(Eu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Eu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bie={xAxis:["bottom","top"],yAxis:["left","right"]},_ie={width:"100%",height:"100%"},x3={x:0,y:0};function Gh(t){return t}var wie=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},Sie=function(e,r,n,i){var a=r.find(function(p){return p&&p.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,u=i.radius;return ce(ce(ce({},i),Et(i.cx,i.cy,u,o)),{},{angle:o,radius:u})}var d=a.coordinate,f=i.angle;return ce(ce(ce({},i),Et(i.cx,i.cy,d,f)),{},{angle:f,radius:d})}return x3},xg=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(u,d){var f=d.props.data;return f&&f.length?[].concat(Au(u),Au(f)):u},[]);return o.length>0?o:e&&e.length&&ke(i)&&ke(a)?e.slice(i,a+1):[]};function b3(t){return t==="number"?[0,"auto"]:void 0}var a1=function(e,r,n,i){var a=e.graphicalItems,o=e.tooltipAxis,u=xg(r,e);return n<0||!a||!a.length||n>=u.length?null:a.reduce(function(d,f){var p,g=(p=f.props.data)!==null&&p!==void 0?p:r;g&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(g=g.slice(e.dataStartIndex,e.dataEndIndex+1));var y;if(o.dataKey&&!o.allowDuplicatedCategory){var x=g===void 0?u:g;y=V_(x,o.dataKey,i)}else y=g&&g[n]||u[n];return y?[].concat(Au(d),[pL(f,y)]):d},[])},U2=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},o=wie(a,n),u=e.orderedTooltipTicks,d=e.tooltipAxis,f=e.tooltipTicks,p=lX(o,u,f,d);if(p>=0&&f){var g=f[p]&&f[p].value,y=a1(e,r,p,g),x=Sie(n,u,p,a);return{activeTooltipIndex:p,activeLabel:g,activePayload:y,activeCoordinate:x}}return null},kie=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,o=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,p=e.layout,g=e.children,y=e.stackOffset,x=lL(p,a);return n.reduce(function(S,_){var w,R=_.type.defaultProps!==void 0?ce(ce({},_.type.defaultProps),_.props):_.props,N=R.type,O=R.dataKey,M=R.allowDataOverflow,A=R.allowDuplicatedCategory,j=R.scale,T=R.ticks,P=R.includeHidden,L=R[o];if(S[L])return S;var I=xg(e.data,{graphicalItems:i.filter(function(Y){var K,le=o in Y.props?Y.props[o]:(K=Y.type.defaultProps)===null||K===void 0?void 0:K[o];return le===L}),dataStartIndex:d,dataEndIndex:f}),D=I.length,V,$,ee;Xne(R.domain,M,N)&&(V=bw(R.domain,null,M),x&&(N==="number"||j!=="auto")&&(ee=Kc(I,O,"category")));var ne=b3(N);if(!V||V.length===0){var Q,ie=(Q=R.domain)!==null&&Q!==void 0?Q:ne;if(O){if(V=Kc(I,O,N),N==="category"&&x){var Z=rz(V);A&&Z?($=V,V=am(0,D)):A||(V=qO(ie,V,_).reduce(function(Y,K){return Y.indexOf(K)>=0?Y:[].concat(Au(Y),[K])},[]))}else if(N==="category")A?V=V.filter(function(Y){return Y!==""&&!Je(Y)}):V=qO(ie,V,_).reduce(function(Y,K){return Y.indexOf(K)>=0||K===""||Je(K)?Y:[].concat(Au(Y),[K])},[]);else if(N==="number"){var J=hX(I,i.filter(function(Y){var K,le,de=o in Y.props?Y.props[o]:(K=Y.type.defaultProps)===null||K===void 0?void 0:K[o],xe="hide"in Y.props?Y.props.hide:(le=Y.type.defaultProps)===null||le===void 0?void 0:le.hide;return de===L&&(P||!xe)}),O,a,p);J&&(V=J)}x&&(N==="number"||j!=="auto")&&(ee=Kc(I,O,"category"))}else x?V=am(0,D):u&&u[L]&&u[L].hasStack&&N==="number"?V=y==="expand"?[0,1]:hL(u[L].stackGroups,d,f):V=oL(I,i.filter(function(Y){var K=o in Y.props?Y.props[o]:Y.type.defaultProps[o],le="hide"in Y.props?Y.props.hide:Y.type.defaultProps.hide;return K===L&&(P||!le)}),N,p,!0);if(N==="number")V=r1(g,V,L,a,T),ie&&(V=bw(ie,V,M));else if(N==="category"&&ie){var se=ie,q=V.every(function(Y){return se.indexOf(Y)>=0});q&&(V=se)}}return ce(ce({},S),{},Be({},L,ce(ce({},R),{},{axisType:a,domain:V,categoricalDomain:ee,duplicateDomain:$,originalDomain:(w=R.domain)!==null&&w!==void 0?w:ne,isCategorical:x,layout:p})))},{})},Eie=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,o=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,p=e.layout,g=e.children,y=xg(e.data,{graphicalItems:n,dataStartIndex:d,dataEndIndex:f}),x=y.length,S=lL(p,a),_=-1;return n.reduce(function(w,R){var N=R.type.defaultProps!==void 0?ce(ce({},R.type.defaultProps),R.props):R.props,O=N[o],M=b3("number");if(!w[O]){_++;var A;return S?A=am(0,x):u&&u[O]&&u[O].hasStack?(A=hL(u[O].stackGroups,d,f),A=r1(g,A,O,a)):(A=bw(M,oL(y,n.filter(function(j){var T,P,L=o in j.props?j.props[o]:(T=j.type.defaultProps)===null||T===void 0?void 0:T[o],I="hide"in j.props?j.props.hide:(P=j.type.defaultProps)===null||P===void 0?void 0:P.hide;return L===O&&!I}),"number",p),i.defaultProps.allowDataOverflow),A=r1(g,A,O,a)),ce(ce({},w),{},Be({},O,ce(ce({axisType:a},i.defaultProps),{},{hide:!0,orientation:En(bie,"".concat(a,".").concat(_%2),null),domain:A,originalDomain:M,isCategorical:S,layout:p})))}return w},{})},Aie=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,p=e.children,g="".concat(i,"Id"),y=Hn(p,a),x={};return y&&y.length?x=kie(e,{axes:y,graphicalItems:o,axisType:i,axisIdKey:g,stackGroups:u,dataStartIndex:d,dataEndIndex:f}):o&&o.length&&(x=Eie(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:g,stackGroups:u,dataStartIndex:d,dataEndIndex:f})),x},Tie=function(e){var r=ms(e),n=ya(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:gS(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Gp(r,n)}},B2=function(e){var r=e.children,n=e.defaultShowTooltip,i=_n(r,vu),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},jie=function(e){return!e||!e.length?!1:e.some(function(r){var n=ba(r&&r.type);return n&&n.indexOf("Bar")>=0})},q2=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Nie=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,u=e.yAxisMap,d=u===void 0?{}:u,f=n.width,p=n.height,g=n.children,y=n.margin||{},x=_n(g,vu),S=_n(g,ws),_=Object.keys(d).reduce(function(A,j){var T=d[j],P=T.orientation;return!T.mirror&&!T.hide?ce(ce({},A),{},Be({},P,A[P]+T.width)):A},{left:y.left||0,right:y.right||0}),w=Object.keys(o).reduce(function(A,j){var T=o[j],P=T.orientation;return!T.mirror&&!T.hide?ce(ce({},A),{},Be({},P,En(A,"".concat(P))+T.height)):A},{top:y.top||0,bottom:y.bottom||0}),R=ce(ce({},w),_),N=R.bottom;x&&(R.bottom+=x.props.height||vu.defaultProps.height),S&&r&&(R=dX(R,i,n,r));var O=f-R.left-R.right,M=p-R.top-R.bottom;return ce(ce({brushBottom:N},R),{},{width:Math.max(O,0),height:Math.max(M,0)})},Pie=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},_3=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,u=o===void 0?["axis"]:o,d=e.axisComponents,f=e.legendContent,p=e.formatAxisMap,g=e.defaultProps,y=function(R,N){var O=N.graphicalItems,M=N.stackGroups,A=N.offset,j=N.updateId,T=N.dataStartIndex,P=N.dataEndIndex,L=R.barSize,I=R.layout,D=R.barGap,V=R.barCategoryGap,$=R.maxBarSize,ee=q2(I),ne=ee.numericAxisName,Q=ee.cateAxisName,ie=jie(O),Z=[];return O.forEach(function(J,se){var q=xg(R.data,{graphicalItems:[J],dataStartIndex:T,dataEndIndex:P}),Y=J.type.defaultProps!==void 0?ce(ce({},J.type.defaultProps),J.props):J.props,K=Y.dataKey,le=Y.maxBarSize,de=Y["".concat(ne,"Id")],xe=Y["".concat(Q,"Id")],he={},ge=d.reduce(function(Jt,Qr){var An=N["".concat(Qr.axisType,"Map")],Tn=Y["".concat(Qr.axisType,"Id")];An&&An[Tn]||Qr.axisType==="zAxis"||Lo();var Yn=An[Tn];return ce(ce({},Jt),{},Be(Be({},Qr.axisType,Yn),"".concat(Qr.axisType,"Ticks"),ya(Yn)))},he),fe=ge[Q],Ee=ge["".concat(Q,"Ticks")],Te=M&&M[de]&&M[de].hasStack&&wX(J,M[de].stackGroups),W=ba(J.type).indexOf("Bar")>=0,pe=Gp(fe,Ee),me=[],je=ie&&uX({barSize:L,stackGroups:M,totalSize:Pie(ge,Q)});if(W){var $e,Dt,Xr=Je(le)?$:le,Fr=($e=(Dt=Gp(fe,Ee,!0))!==null&&Dt!==void 0?Dt:Xr)!==null&&$e!==void 0?$e:0;me=cX({barGap:D,barCategoryGap:V,bandSize:Fr!==pe?Fr:pe,sizeList:je[xe],maxBarSize:Xr}),Fr!==pe&&(me=me.map(function(Jt){return ce(ce({},Jt),{},{position:ce(ce({},Jt.position),{},{offset:Jt.position.offset-Fr/2})})}))}var Vr=J&&J.type&&J.type.getComposedData;Vr&&Z.push({props:ce(ce({},Vr(ce(ce({},ge),{},{displayedData:q,props:R,dataKey:K,item:J,bandSize:pe,barPosition:me,offset:A,stackedData:Te,layout:I,dataStartIndex:T,dataEndIndex:P}))),{},Be(Be(Be({key:J.key||"item-".concat(se)},ne,ge[ne]),Q,ge[Q]),"animationId",j)),childIndex:pz(J,R.children),item:J})}),Z},x=function(R,N){var O=R.props,M=R.dataStartIndex,A=R.dataEndIndex,j=R.updateId;if(!iN({props:O}))return null;var T=O.children,P=O.layout,L=O.stackOffset,I=O.data,D=O.reverseStackOrder,V=q2(P),$=V.numericAxisName,ee=V.cateAxisName,ne=Hn(T,n),Q=bX(I,ne,"".concat($,"Id"),"".concat(ee,"Id"),L,D),ie=d.reduce(function(Y,K){var le="".concat(K.axisType,"Map");return ce(ce({},Y),{},Be({},le,Aie(O,ce(ce({},K),{},{graphicalItems:ne,stackGroups:K.axisType===$&&Q,dataStartIndex:M,dataEndIndex:A}))))},{}),Z=Nie(ce(ce({},ie),{},{props:O,graphicalItems:ne}),N?.legendBBox);Object.keys(ie).forEach(function(Y){ie[Y]=p(O,ie[Y],Z,Y.replace("Map",""),r)});var J=ie["".concat(ee,"Map")],se=Tie(J),q=y(O,ce(ce({},ie),{},{dataStartIndex:M,dataEndIndex:A,updateId:j,graphicalItems:ne,stackGroups:Q,offset:Z}));return ce(ce({formattedGraphicalItems:q,graphicalItems:ne,offset:Z,stackGroups:Q},se),ie)},S=function(w){function R(N){var O,M,A;return uie(this,R),A=fie(this,R,[N]),Be(A,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Be(A,"accessibilityManager",new Yne),Be(A,"handleLegendBBoxUpdate",function(j){if(j){var T=A.state,P=T.dataStartIndex,L=T.dataEndIndex,I=T.updateId;A.setState(ce({legendBBox:j},x({props:A.props,dataStartIndex:P,dataEndIndex:L,updateId:I},ce(ce({},A.state),{},{legendBBox:j}))))}}),Be(A,"handleReceiveSyncEvent",function(j,T,P){if(A.props.syncId===j){if(P===A.eventEmitterSymbol&&typeof A.props.syncMethod!="function")return;A.applySyncEvent(T)}}),Be(A,"handleBrushChange",function(j){var T=j.startIndex,P=j.endIndex;if(T!==A.state.dataStartIndex||P!==A.state.dataEndIndex){var L=A.state.updateId;A.setState(function(){return ce({dataStartIndex:T,dataEndIndex:P},x({props:A.props,dataStartIndex:T,dataEndIndex:P,updateId:L},A.state))}),A.triggerSyncEvent({dataStartIndex:T,dataEndIndex:P})}}),Be(A,"handleMouseEnter",function(j){var T=A.getMouseInfo(j);if(T){var P=ce(ce({},T),{},{isTooltipActive:!0});A.setState(P),A.triggerSyncEvent(P);var L=A.props.onMouseEnter;He(L)&&L(P,j)}}),Be(A,"triggeredAfterMouseMove",function(j){var T=A.getMouseInfo(j),P=T?ce(ce({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};A.setState(P),A.triggerSyncEvent(P);var L=A.props.onMouseMove;He(L)&&L(P,j)}),Be(A,"handleItemMouseEnter",function(j){A.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),Be(A,"handleItemMouseLeave",function(){A.setState(function(){return{isTooltipActive:!1}})}),Be(A,"handleMouseMove",function(j){j.persist(),A.throttleTriggeredAfterMouseMove(j)}),Be(A,"handleMouseLeave",function(j){A.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};A.setState(T),A.triggerSyncEvent(T);var P=A.props.onMouseLeave;He(P)&&P(T,j)}),Be(A,"handleOuterEvent",function(j){var T=hz(j),P=En(A.props,"".concat(T));if(T&&He(P)){var L,I;/.*touch.*/i.test(T)?I=A.getMouseInfo(j.changedTouches[0]):I=A.getMouseInfo(j),P((L=I)!==null&&L!==void 0?L:{},j)}}),Be(A,"handleClick",function(j){var T=A.getMouseInfo(j);if(T){var P=ce(ce({},T),{},{isTooltipActive:!0});A.setState(P),A.triggerSyncEvent(P);var L=A.props.onClick;He(L)&&L(P,j)}}),Be(A,"handleMouseDown",function(j){var T=A.props.onMouseDown;if(He(T)){var P=A.getMouseInfo(j);T(P,j)}}),Be(A,"handleMouseUp",function(j){var T=A.props.onMouseUp;if(He(T)){var P=A.getMouseInfo(j);T(P,j)}}),Be(A,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&A.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),Be(A,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&A.handleMouseDown(j.changedTouches[0])}),Be(A,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&A.handleMouseUp(j.changedTouches[0])}),Be(A,"handleDoubleClick",function(j){var T=A.props.onDoubleClick;if(He(T)){var P=A.getMouseInfo(j);T(P,j)}}),Be(A,"handleContextMenu",function(j){var T=A.props.onContextMenu;if(He(T)){var P=A.getMouseInfo(j);T(P,j)}}),Be(A,"triggerSyncEvent",function(j){A.props.syncId!==void 0&&l_.emit(u_,A.props.syncId,j,A.eventEmitterSymbol)}),Be(A,"applySyncEvent",function(j){var T=A.props,P=T.layout,L=T.syncMethod,I=A.state.updateId,D=j.dataStartIndex,V=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)A.setState(ce({dataStartIndex:D,dataEndIndex:V},x({props:A.props,dataStartIndex:D,dataEndIndex:V,updateId:I},A.state)));else if(j.activeTooltipIndex!==void 0){var $=j.chartX,ee=j.chartY,ne=j.activeTooltipIndex,Q=A.state,ie=Q.offset,Z=Q.tooltipTicks;if(!ie)return;if(typeof L=="function")ne=L(Z,j);else if(L==="value"){ne=-1;for(var J=0;J<Z.length;J++)if(Z[J].value===j.activeLabel){ne=J;break}}var se=ce(ce({},ie),{},{x:ie.left,y:ie.top}),q=Math.min($,se.x+se.width),Y=Math.min(ee,se.y+se.height),K=Z[ne]&&Z[ne].value,le=a1(A.state,A.props.data,ne),de=Z[ne]?{x:P==="horizontal"?Z[ne].coordinate:q,y:P==="horizontal"?Y:Z[ne].coordinate}:x3;A.setState(ce(ce({},j),{},{activeLabel:K,activeCoordinate:de,activePayload:le,activeTooltipIndex:ne}))}else A.setState(j)}),Be(A,"renderCursor",function(j){var T,P=A.state,L=P.isTooltipActive,I=P.activeCoordinate,D=P.activePayload,V=P.offset,$=P.activeTooltipIndex,ee=P.tooltipAxisBandSize,ne=A.getTooltipEventType(),Q=(T=j.props.active)!==null&&T!==void 0?T:L,ie=A.props.layout,Z=j.key||"_recharts-cursor";return G.createElement(rie,{key:Z,activeCoordinate:I,activePayload:D,activeTooltipIndex:$,chartName:r,element:j,isActive:Q,layout:ie,offset:V,tooltipAxisBandSize:ee,tooltipEventType:ne})}),Be(A,"renderPolarAxis",function(j,T,P){var L=En(j,"type.axisType"),I=En(A.state,"".concat(L,"Map")),D=j.type.defaultProps,V=D!==void 0?ce(ce({},D),j.props):j.props,$=I&&I[V["".concat(L,"Id")]];return z.cloneElement(j,ce(ce({},$),{},{className:Xe(L,$.className),key:j.key||"".concat(T,"-").concat(P),ticks:ya($,!0)}))}),Be(A,"renderPolarGrid",function(j){var T=j.props,P=T.radialLines,L=T.polarAngles,I=T.polarRadius,D=A.state,V=D.radiusAxisMap,$=D.angleAxisMap,ee=ms(V),ne=ms($),Q=ne.cx,ie=ne.cy,Z=ne.innerRadius,J=ne.outerRadius;return z.cloneElement(j,{polarAngles:Array.isArray(L)?L:ya(ne,!0).map(function(se){return se.coordinate}),polarRadius:Array.isArray(I)?I:ya(ee,!0).map(function(se){return se.coordinate}),cx:Q,cy:ie,innerRadius:Z,outerRadius:J,key:j.key||"polar-grid",radialLines:P})}),Be(A,"renderLegend",function(){var j=A.state.formattedGraphicalItems,T=A.props,P=T.children,L=T.width,I=T.height,D=A.props.margin||{},V=L-(D.left||0)-(D.right||0),$=aL({children:P,formattedGraphicalItems:j,legendWidth:V,legendContent:f});if(!$)return null;var ee=$.item,ne=F2($,nie);return z.cloneElement(ee,ce(ce({},ne),{},{chartWidth:L,chartHeight:I,margin:D,onBBoxUpdate:A.handleLegendBBoxUpdate}))}),Be(A,"renderTooltip",function(){var j,T=A.props,P=T.children,L=T.accessibilityLayer,I=_n(P,qn);if(!I)return null;var D=A.state,V=D.isTooltipActive,$=D.activeCoordinate,ee=D.activePayload,ne=D.activeLabel,Q=D.offset,ie=(j=I.props.active)!==null&&j!==void 0?j:V;return z.cloneElement(I,{viewBox:ce(ce({},Q),{},{x:Q.left,y:Q.top}),active:ie,label:ne,payload:ie?ee:[],coordinate:$,accessibilityLayer:L})}),Be(A,"renderBrush",function(j){var T=A.props,P=T.margin,L=T.data,I=A.state,D=I.offset,V=I.dataStartIndex,$=I.dataEndIndex,ee=I.updateId;return z.cloneElement(j,{key:j.key||"_recharts-brush",onChange:Bh(A.handleBrushChange,j.props.onChange),data:L,x:ke(j.props.x)?j.props.x:D.left,y:ke(j.props.y)?j.props.y:D.top+D.height+D.brushBottom-(P.bottom||0),width:ke(j.props.width)?j.props.width:D.width,startIndex:V,endIndex:$,updateId:"brush-".concat(ee)})}),Be(A,"renderReferenceElement",function(j,T,P){if(!j)return null;var L=A,I=L.clipPathId,D=A.state,V=D.xAxisMap,$=D.yAxisMap,ee=D.offset,ne=j.type.defaultProps||{},Q=j.props,ie=Q.xAxisId,Z=ie===void 0?ne.xAxisId:ie,J=Q.yAxisId,se=J===void 0?ne.yAxisId:J;return z.cloneElement(j,{key:j.key||"".concat(T,"-").concat(P),xAxis:V[Z],yAxis:$[se],viewBox:{x:ee.left,y:ee.top,width:ee.width,height:ee.height},clipPathId:I})}),Be(A,"renderActivePoints",function(j){var T=j.item,P=j.activePoint,L=j.basePoint,I=j.childIndex,D=j.isRange,V=[],$=T.props.key,ee=T.item.type.defaultProps!==void 0?ce(ce({},T.item.type.defaultProps),T.item.props):T.item.props,ne=ee.activeDot,Q=ee.dataKey,ie=ce(ce({index:I,dataKey:Q,cx:P.x,cy:P.y,r:4,fill:qS(T.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},ze(ne,!1)),Sp(ne));return V.push(R.renderActiveDot(ne,ie,"".concat($,"-activePoint-").concat(I))),L?V.push(R.renderActiveDot(ne,ce(ce({},ie),{},{cx:L.x,cy:L.y}),"".concat($,"-basePoint-").concat(I))):D&&V.push(null),V}),Be(A,"renderGraphicChild",function(j,T,P){var L=A.filterFormatItem(j,T,P);if(!L)return null;var I=A.getTooltipEventType(),D=A.state,V=D.isTooltipActive,$=D.tooltipAxis,ee=D.activeTooltipIndex,ne=D.activeLabel,Q=A.props.children,ie=_n(Q,qn),Z=L.props,J=Z.points,se=Z.isRange,q=Z.baseLine,Y=L.item.type.defaultProps!==void 0?ce(ce({},L.item.type.defaultProps),L.item.props):L.item.props,K=Y.activeDot,le=Y.hide,de=Y.activeBar,xe=Y.activeShape,he=!!(!le&&V&&ie&&(K||de||xe)),ge={};I!=="axis"&&ie&&ie.props.trigger==="click"?ge={onClick:Bh(A.handleItemMouseEnter,j.props.onClick)}:I!=="axis"&&(ge={onMouseLeave:Bh(A.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:Bh(A.handleItemMouseEnter,j.props.onMouseEnter)});var fe=z.cloneElement(j,ce(ce({},L.props),ge));function Ee(Qr){return typeof $.dataKey=="function"?$.dataKey(Qr.payload):null}if(he)if(ee>=0){var Te,W;if($.dataKey&&!$.allowDuplicatedCategory){var pe=typeof $.dataKey=="function"?Ee:"payload.".concat($.dataKey.toString());Te=V_(J,pe,ne),W=se&&q&&V_(q,pe,ne)}else Te=J?.[ee],W=se&&q&&q[ee];if(xe||de){var me=j.props.activeIndex!==void 0?j.props.activeIndex:ee;return[z.cloneElement(j,ce(ce(ce({},L.props),ge),{},{activeIndex:me})),null,null]}if(!Je(Te))return[fe].concat(Au(A.renderActivePoints({item:L,activePoint:Te,basePoint:W,childIndex:ee,isRange:se})))}else{var je,$e=(je=A.getItemByXY(A.state.activeCoordinate))!==null&&je!==void 0?je:{graphicalItem:fe},Dt=$e.graphicalItem,Xr=Dt.item,Fr=Xr===void 0?j:Xr,Vr=Dt.childIndex,Jt=ce(ce(ce({},L.props),ge),{},{activeIndex:Vr});return[z.cloneElement(Fr,Jt),null,null]}return se?[fe,null,null]:[fe,null]}),Be(A,"renderCustomized",function(j,T,P){return z.cloneElement(j,ce(ce({key:"recharts-customized-".concat(P)},A.props),A.state))}),Be(A,"renderMap",{CartesianGrid:{handler:Gh,once:!0},ReferenceArea:{handler:A.renderReferenceElement},ReferenceLine:{handler:Gh},ReferenceDot:{handler:A.renderReferenceElement},XAxis:{handler:Gh},YAxis:{handler:Gh},Brush:{handler:A.renderBrush,once:!0},Bar:{handler:A.renderGraphicChild},Line:{handler:A.renderGraphicChild},Area:{handler:A.renderGraphicChild},Radar:{handler:A.renderGraphicChild},RadialBar:{handler:A.renderGraphicChild},Scatter:{handler:A.renderGraphicChild},Pie:{handler:A.renderGraphicChild},Funnel:{handler:A.renderGraphicChild},Tooltip:{handler:A.renderCursor,once:!0},PolarGrid:{handler:A.renderPolarGrid,once:!0},PolarAngleAxis:{handler:A.renderPolarAxis},PolarRadiusAxis:{handler:A.renderPolarAxis},Customized:{handler:A.renderCustomized}}),A.clipPathId="".concat((O=N.id)!==null&&O!==void 0?O:nf("recharts"),"-clip"),A.throttleTriggeredAfterMouseMove=i4(A.triggeredAfterMouseMove,(M=N.throttleDelay)!==null&&M!==void 0?M:1e3/60),A.state={},A}return mie(R,w),die(R,[{key:"componentDidMount",value:function(){var O,M;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(O=this.props.margin.left)!==null&&O!==void 0?O:0,top:(M=this.props.margin.top)!==null&&M!==void 0?M:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var O=this.props,M=O.children,A=O.data,j=O.height,T=O.layout,P=_n(M,qn);if(P){var L=P.props.defaultIndex;if(!(typeof L!="number"||L<0||L>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[L]&&this.state.tooltipTicks[L].value,D=a1(this.state,A,L,I),V=this.state.tooltipTicks[L].coordinate,$=(this.state.offset.top+j)/2,ee=T==="horizontal",ne=ee?{x:V,y:$}:{y:V,x:$},Q=this.state.formattedGraphicalItems.find(function(Z){var J=Z.item;return J.type.name==="Scatter"});Q&&(ne=ce(ce({},ne),Q.props.points[L].tooltipPosition),D=Q.props.points[L].tooltipPayload);var ie={activeTooltipIndex:L,isTooltipActive:!0,activeLabel:I,activePayload:D,activeCoordinate:ne};this.setState(ie),this.renderCursor(P),this.accessibilityManager.setIndex(L)}}}},{key:"getSnapshotBeforeUpdate",value:function(O,M){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==M.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==O.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==O.margin){var A,j;this.accessibilityManager.setDetails({offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(O){B_([_n(O.children,qn)],[_n(this.props.children,qn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var O=_n(this.props.children,qn);if(O&&typeof O.props.shared=="boolean"){var M=O.props.shared?"axis":"item";return u.indexOf(M)>=0?M:a}return a}},{key:"getMouseInfo",value:function(O){if(!this.container)return null;var M=this.container,A=M.getBoundingClientRect(),j=eH(A),T={chartX:Math.round(O.pageX-j.left),chartY:Math.round(O.pageY-j.top)},P=A.width/M.offsetWidth||1,L=this.inRange(T.chartX,T.chartY,P);if(!L)return null;var I=this.state,D=I.xAxisMap,V=I.yAxisMap,$=this.getTooltipEventType(),ee=U2(this.state,this.props.data,this.props.layout,L);if($!=="axis"&&D&&V){var ne=ms(D).scale,Q=ms(V).scale,ie=ne&&ne.invert?ne.invert(T.chartX):null,Z=Q&&Q.invert?Q.invert(T.chartY):null;return ce(ce({},T),{},{xValue:ie,yValue:Z},ee)}return ee?ce(ce({},T),ee):null}},{key:"inRange",value:function(O,M){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,T=O/A,P=M/A;if(j==="horizontal"||j==="vertical"){var L=this.state.offset,I=T>=L.left&&T<=L.left+L.width&&P>=L.top&&P<=L.top+L.height;return I?{x:T,y:P}:null}var D=this.state,V=D.angleAxisMap,$=D.radiusAxisMap;if(V&&$){var ee=ms(V);return HO({x:T,y:P},ee)}return null}},{key:"parseEventsOfWrapper",value:function(){var O=this.props.children,M=this.getTooltipEventType(),A=_n(O,qn),j={};A&&M==="axis"&&(A.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=Sp(this.props,this.handleOuterEvent);return ce(ce({},T),j)}},{key:"addListener",value:function(){l_.on(u_,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){l_.removeListener(u_,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(O,M,A){for(var j=this.state.formattedGraphicalItems,T=0,P=j.length;T<P;T++){var L=j[T];if(L.item===O||L.props.key===O.key||M===ba(L.item.type)&&A===L.childIndex)return L}return null}},{key:"renderClipPath",value:function(){var O=this.clipPathId,M=this.state.offset,A=M.left,j=M.top,T=M.height,P=M.width;return G.createElement("defs",null,G.createElement("clipPath",{id:O},G.createElement("rect",{x:A,y:j,height:T,width:P})))}},{key:"getXScales",value:function(){var O=this.state.xAxisMap;return O?Object.entries(O).reduce(function(M,A){var j=$2(A,2),T=j[0],P=j[1];return ce(ce({},M),{},Be({},T,P.scale))},{}):null}},{key:"getYScales",value:function(){var O=this.state.yAxisMap;return O?Object.entries(O).reduce(function(M,A){var j=$2(A,2),T=j[0],P=j[1];return ce(ce({},M),{},Be({},T,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(O){var M;return(M=this.state.xAxisMap)===null||M===void 0||(M=M[O])===null||M===void 0?void 0:M.scale}},{key:"getYScaleByAxisId",value:function(O){var M;return(M=this.state.yAxisMap)===null||M===void 0||(M=M[O])===null||M===void 0?void 0:M.scale}},{key:"getItemByXY",value:function(O){var M=this.state,A=M.formattedGraphicalItems,j=M.activeItem;if(A&&A.length)for(var T=0,P=A.length;T<P;T++){var L=A[T],I=L.props,D=L.item,V=D.type.defaultProps!==void 0?ce(ce({},D.type.defaultProps),D.props):D.props,$=ba(D.type);if($==="Bar"){var ee=(I.data||[]).find(function(Z){return vZ(O,Z)});if(ee)return{graphicalItem:L,payload:ee}}else if($==="RadialBar"){var ne=(I.data||[]).find(function(Z){return HO(O,Z)});if(ne)return{graphicalItem:L,payload:ne}}else if(fg(L,j)||hg(L,j)||Rd(L,j)){var Q=Vee({graphicalItem:L,activeTooltipItem:j,itemData:V.data}),ie=V.activeIndex===void 0?Q:V.activeIndex;return{graphicalItem:ce(ce({},L),{},{childIndex:ie}),payload:Rd(L,j)?V.data[Q]:L.props.data[Q]}}}return null}},{key:"render",value:function(){var O=this;if(!iN(this))return null;var M=this.props,A=M.children,j=M.className,T=M.width,P=M.height,L=M.style,I=M.compact,D=M.title,V=M.desc,$=F2(M,iie),ee=ze($,!1);if(I)return G.createElement(w2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},G.createElement(z_,Fl({},ee,{width:T,height:P,title:D,desc:V}),this.renderClipPath(),sN(A,this.renderMap)));if(this.props.accessibilityLayer){var ne,Q;ee.tabIndex=(ne=this.props.tabIndex)!==null&&ne!==void 0?ne:0,ee.role=(Q=this.props.role)!==null&&Q!==void 0?Q:"application",ee.onKeyDown=function(Z){O.accessibilityManager.keyboardEvent(Z)},ee.onFocus=function(){O.accessibilityManager.focus()}}var ie=this.parseEventsOfWrapper();return G.createElement(w2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},G.createElement("div",Fl({className:Xe("recharts-wrapper",j),style:ce({position:"relative",cursor:"default",width:T,height:P},L)},ie,{ref:function(J){O.container=J}}),G.createElement(z_,Fl({},ee,{width:T,height:P,title:D,desc:V,style:_ie}),this.renderClipPath(),sN(A,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(z.Component);Be(S,"displayName",r),Be(S,"defaultProps",ce({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},g)),Be(S,"getDerivedStateFromProps",function(w,R){var N=w.dataKey,O=w.data,M=w.children,A=w.width,j=w.height,T=w.layout,P=w.stackOffset,L=w.margin,I=R.dataStartIndex,D=R.dataEndIndex;if(R.updateId===void 0){var V=B2(w);return ce(ce(ce({},V),{},{updateId:0},x(ce(ce({props:w},V),{},{updateId:0}),R)),{},{prevDataKey:N,prevData:O,prevWidth:A,prevHeight:j,prevLayout:T,prevStackOffset:P,prevMargin:L,prevChildren:M})}if(N!==R.prevDataKey||O!==R.prevData||A!==R.prevWidth||j!==R.prevHeight||T!==R.prevLayout||P!==R.prevStackOffset||!Hl(L,R.prevMargin)){var $=B2(w),ee={chartX:R.chartX,chartY:R.chartY,isTooltipActive:R.isTooltipActive},ne=ce(ce({},U2(R,O,T)),{},{updateId:R.updateId+1}),Q=ce(ce(ce({},$),ee),ne);return ce(ce(ce({},Q),x(ce({props:w},Q),R)),{},{prevDataKey:N,prevData:O,prevWidth:A,prevHeight:j,prevLayout:T,prevStackOffset:P,prevMargin:L,prevChildren:M})}if(!B_(M,R.prevChildren)){var ie,Z,J,se,q=_n(M,vu),Y=q&&(ie=(Z=q.props)===null||Z===void 0?void 0:Z.startIndex)!==null&&ie!==void 0?ie:I,K=q&&(J=(se=q.props)===null||se===void 0?void 0:se.endIndex)!==null&&J!==void 0?J:D,le=Y!==I||K!==D,de=!Je(O),xe=de&&!le?R.updateId:R.updateId+1;return ce(ce({updateId:xe},x(ce(ce({props:w},R),{},{updateId:xe,dataStartIndex:Y,dataEndIndex:K}),R)),{},{prevChildren:M,dataStartIndex:Y,dataEndIndex:K})}return null}),Be(S,"renderActiveDot",function(w,R,N){var O;return z.isValidElement(w)?O=z.cloneElement(w,R):He(w)?O=w(R):O=G.createElement(HS,R),G.createElement(mt,{className:"recharts-active-dot",key:N},O)});var _=z.forwardRef(function(R,N){return G.createElement(S,Fl({},R,{ref:N}))});return _.displayName=S.displayName,_},w3=_3({chartName:"BarChart",GraphicalChild:Wi,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:cf},{axisType:"yAxis",AxisComp:df}],formatAxisMap:qte}),Iie=_3({chartName:"PieChart",GraphicalChild:Ca,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:dg},{axisType:"radiusAxis",AxisComp:ug}],formatAxisMap:OX,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Oie={"single-member-llc":20,"s-corp":20,"c-corp":21,partnership:20},Cie=({jobs:t,bills:e,weeklyCosts:r,taxPayments:n,openModal:i,handleDelete:a})=>{const[o,u]=z.useState(20),[d,f]=z.useState("single-member-llc"),[p,g]=z.useState("quarterly"),[y,x]=z.useState(!1);z.useEffect(()=>{u(Oie[d])},[d]);const S=z.useMemo(()=>{const O=new Date;let M,A;switch(p){case"weekly":M=new Date(O.setDate(O.getDate()-O.getDay())),A=new Date(O.setDate(O.getDate()-O.getDay()+6));break;case"monthly":M=new Date(O.getFullYear(),O.getMonth(),1),A=new Date(O.getFullYear(),O.getMonth()+1,0);break;case"quarterly":const j=Math.floor(O.getMonth()/3);M=new Date(O.getFullYear(),j*3,1),A=new Date(O.getFullYear(),j*3+3,0);break;case"yearly":M=new Date(O.getFullYear(),0,1),A=new Date(O.getFullYear(),11,31);break;default:M=new Date,A=new Date}return{start:M,end:A}},[p]),_=z.useMemo(()=>{const O=t.filter(V=>{if(!V.date)return!1;const $=new Date(V.date);return $>=S.start&&$<=S.end}),M=e.reduce((V,$)=>V+$.amount,0)+r.reduce((V,$)=>V+$.amount,0)*4.33,A=(S.end-S.start)/(1e3*60*60*24*30.44),j=M*A,T=O.reduce((V,$)=>V+($.revenue||0),0),P=O.reduce((V,$)=>V+($.materialCost||0)+($.laborCost||0),0),L=T-P,I=L-j,D=I>0?I*(o/100):0;return{netProfit:I,estimatedTax:D,grossProfit:L,periodOperatingExpenses:j}},[t,e,r,o,S]),w=z.useMemo(()=>n.filter(O=>{const M=new Date(O.date);return M>=S.start&&M<=S.end}).reduce((O,M)=>O+(M.amount||0),0),[n,S]),R=_.estimatedTax-w,N=[{name:"Tax Liability","Estimated Tax":_.estimatedTax,"Taxes Paid":w}];return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Tax Estimation"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 items-end",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"filingStatus",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Filing Status"}),c.jsxs("select",{id:"filingStatus",value:d,onChange:O=>f(O.target.value),className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",children:[c.jsx("option",{value:"single-member-llc",children:"Single-Member LLC"}),c.jsx("option",{value:"s-corp",children:"S-Corporation"}),c.jsx("option",{value:"c-corp",children:"C-Corporation"}),c.jsx("option",{value:"partnership",children:"Partnership"})]}),(d==="llc"||d==="single-member-llc")&&c.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"LLC tax rates vary. Consult a tax professional."})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"taxRate",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Estimated Tax Rate (%)"}),c.jsx("input",{id:"taxRate",type:"number",value:o,onChange:O=>u(parseFloat(O.target.value)||0),className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Estimation Period"}),c.jsxs("div",{className:"flex items-center gap-1 bg-slate-100 dark:bg-slate-700 rounded-md p-1",children:[c.jsx("button",{onClick:()=>g("weekly"),className:`w-full px-2 py-1 text-xs rounded ${p==="weekly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Weekly"}),c.jsx("button",{onClick:()=>g("monthly"),className:`w-full px-2 py-1 text-xs rounded ${p==="monthly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Monthly"}),c.jsx("button",{onClick:()=>g("quarterly"),className:`w-full px-2 py-1 text-xs rounded ${p==="quarterly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Quarterly"}),c.jsx("button",{onClick:()=>g("yearly"),className:`w-full px-2 py-1 text-xs rounded ${p==="yearly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Yearly"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:[c.jsx(Oi,{title:`Estimated ${p} Net Profit`,value:`$${_.netProfit.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:c.jsx(un,{}),color:"blue"}),c.jsx(Oi,{title:"Estimated Tax Liability",value:`$${_.estimatedTax.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:c.jsx(un,{}),color:"orange",subtext:_.netProfit<=0?"No tax on negative profit":""}),c.jsx(Oi,{title:"Overpayment / (Underpayment)",value:`${R<0?"-":""}$${Math.abs(R).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:c.jsx(un,{}),color:R<0?"green":"red",subtext:R<0?"You have overpaid":"Remaining balance due"})]}),c.jsxs("div",{className:"mt-4",children:[c.jsxs("button",{onClick:()=>x(!y),className:"flex items-center gap-2 text-sm text-slate-500 dark:text-slate-400 hover:underline",children:["Show Calculation Breakdown ",c.jsx(_p,{className:`transition-transform ${y?"rotate-180":""}`,size:16})]}),y&&c.jsxs("div",{className:"mt-2 p-4 bg-slate-100 dark:bg-slate-700/50 rounded-lg text-sm space-y-2 animate-fade-in",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Gross Profit (from Jobs):"})," ",c.jsxs("span",{className:"font-mono",children:["$",_.grossProfit.toFixed(2)]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"- Est. Operating Expenses:"})," ",c.jsxs("span",{className:"font-mono",children:["$",_.periodOperatingExpenses.toFixed(2)]})]}),c.jsx("hr",{className:"border-slate-300 dark:border-slate-600"}),c.jsxs("div",{className:"flex justify-between font-bold",children:[c.jsx("span",{children:"= Estimated Net Profit:"})," ",c.jsxs("span",{className:"font-mono",children:["$",_.netProfit.toFixed(2)]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsxs("span",{children:["x Tax Rate (",o,"%):"]})," ",c.jsxs("span",{className:"font-mono",children:["$",_.estimatedTax.toFixed(2)]})]})]})]}),_.netProfit<=0&&c.jsxs("div",{className:"mt-4 p-3 bg-blue-100 dark:bg-blue-900/50 border border-blue-400 dark:border-blue-700 text-blue-800 dark:text-blue-200 rounded-lg flex items-center gap-3",children:[c.jsx(i9,{size:20}),c.jsx("p",{className:"text-sm",children:"Your estimated tax is $0.00 because your estimated net profit is negative. The tax rate will apply once your profit is positive."})]}),c.jsxs("div",{className:"mt-6",children:[c.jsx("h4",{className:"text-lg font-bold text-slate-800 dark:text-white mb-2",children:"Liability vs. Payments"}),c.jsx(yS,{width:"100%",height:200,children:c.jsxs(w3,{data:N,layout:"vertical",margin:{top:5,right:20,left:20,bottom:5},children:[c.jsx(rk,{strokeDasharray:"3 3"}),c.jsx(cf,{type:"number"}),c.jsx(df,{type:"category",dataKey:"name",hide:!0}),c.jsx(qn,{formatter:O=>`$${O.toLocaleString()}`}),c.jsx(ws,{}),c.jsx(Wi,{dataKey:"Estimated Tax",fill:"#f97316"}),c.jsx(Wi,{dataKey:"Taxes Paid",fill:"#16a34a"})]})})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Recorded Tax Payments"}),c.jsxs("button",{onClick:()=>i("taxPayment"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(xi,{size:16})," Record Payment"]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-3",children:"Date"}),c.jsx("th",{className:"p-3",children:"Notes"}),c.jsx("th",{className:"p-3 text-right",children:"Amount"}),c.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),c.jsx("tbody",{className:"text-sm",children:n.map(O=>c.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50",children:[c.jsx("td",{className:"p-3 font-medium",children:O.date}),c.jsx("td",{className:"p-3",children:O.notes}),c.jsxs("td",{className:"p-3 text-right font-mono",children:["$",(O.amount||0).toFixed(2)]}),c.jsxs("td",{className:"p-3 text-center",children:[c.jsx("button",{onClick:()=>i("taxPayment",O),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:c.jsx(cn,{size:16})}),c.jsx("button",{onClick:()=>a("taxPayment",O.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:c.jsx(ar,{size:16})})]})]},O.id))})]})})]})]})},Rie=({invoices:t,openModal:e,handleDelete:r,handleBulkDelete:n,searchTerm:i,setSearchTerm:a,selectedIds:o,setSelectedIds:u,handleImportCSV:d,handleExportCSV:f,handleToggleInvoicePaid:p})=>{const[g,y]=z.useState("All"),[x,S]=z.useState("All"),[_,w]=z.useState(!1),R=[{key:"status",header:"Status",render:I=>c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>p(I.id,I.status),children:I.status==="Paid"?c.jsx(mi,{className:"text-green-500",size:20}):c.jsx(ZM,{className:"text-slate-400 dark:text-slate-600",size:20})}),c.jsx(N,{status:I.invoiceStatus||I.status})]})},{key:"invoiceNumber",header:"Invoice #",render:I=>c.jsxs("div",{className:I.status==="Paid"?"opacity-60":"",children:[c.jsx("div",{className:"font-medium text-slate-900 dark:text-white",children:I.invoiceNumber||`INV-${I.id}`}),c.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Job: ",I.jobNumber||"N/A"]})]})},{key:"customer",header:"Customer",render:I=>c.jsxs("div",{className:I.status==="Paid"?"opacity-60":"",children:[c.jsx("div",{className:`font-medium ${I.status==="Paid"?"line-through":""}`,children:I.customer}),c.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:I.billTo&&I.billTo!==I.customer?`Bill to: ${I.billTo}`:""})]})},{key:"jobType",header:"Job Type",render:I=>c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx(O,{jobType:I.jobType}),c.jsx(M,{priority:I.priority})]})},{key:"grandTotal",header:"Amount",className:"text-right",render:I=>c.jsxs("div",{className:`text-right ${I.status==="Paid"?"opacity-60":""}`,children:[c.jsxs("div",{className:`font-mono font-bold ${I.status==="Paid"?"line-through text-green-600":"text-slate-900 dark:text-white"}`,children:["$",parseFloat(I.grandTotal?.toString().replace(/[$,]/g,"")||I.grandTotal||0).toFixed(2)]}),c.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:I.netTerms||"Net 30"})]})},{key:"dueDate",header:"Due Date",className:"text-center",render:I=>c.jsxs("div",{className:`text-center ${I.status==="Paid"?"opacity-60":""}`,children:[c.jsx("div",{className:I.status==="Paid"?"line-through":"",children:I.dueDate||"N/A"}),I.daysElapsed>0&&I.status!=="Paid"&&c.jsxs("div",{className:"text-xs text-orange-600 dark:text-orange-400",children:[I.daysElapsed," days elapsed"]}),A(I)&&c.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 font-medium",children:"OVERDUE"})]})},{key:"description",header:"Description",render:I=>c.jsxs("div",{className:`max-w-xs ${I.status==="Paid"?"opacity-60":""}`,children:[c.jsx("div",{className:"text-sm truncate",title:I.description,children:I.description||"No description"}),c.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:I.serviceAddress&&c.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[c.jsx(Mm,{size:10}),c.jsx("span",{className:"truncate",children:I.serviceAddress})]})})]})}],N=({status:I})=>{const D=V=>{switch(V){case"Paid":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900 dark:text-green-200";case"Sent":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900 dark:text-blue-200";case"Open":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900 dark:text-orange-200";case"Overdue":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-700 dark:text-gray-200"}};return c.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${D(I)}`,children:I||"Unknown"})},O=({jobType:I})=>{const D=V=>{switch(V){case"Service Call":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"Planned Maintenance":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"Installation":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200";case"Emergency":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}};return c.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded text-xs font-medium ${D(I)}`,children:I||"N/A"})},M=({priority:I})=>{if(!I)return null;const D=V=>{switch(V){case"ER":return"bg-red-100 text-red-800 border-red-300 dark:bg-red-900 dark:text-red-200";case"URG":return"bg-orange-100 text-orange-800 border-orange-300 dark:bg-orange-900 dark:text-orange-200";case"STD":return"bg-gray-100 text-gray-800 border-gray-300 dark:bg-gray-700 dark:text-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-300 dark:bg-gray-700 dark:text-gray-200"}};return c.jsx("span",{className:`inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium border ${D(I)}`,children:I})},A=I=>I.status==="Paid"||!I.dueDate?!1:new Date(I.dueDate)<new Date,j=z.useMemo(()=>{const I=t.reduce((Q,ie)=>{const Z=parseFloat(ie.grandTotal?.toString().replace(/[$,]/g,"")||0);return Q+Z},0),D=t.filter(Q=>Q.status==="Paid"||Q.invoiceStatus==="Paid"),V=D.reduce((Q,ie)=>{const Z=parseFloat(ie.grandTotal?.toString().replace(/[$,]/g,"")||0);return Q+Z},0),ee=t.filter(Q=>Q.status!=="Paid"&&Q.invoiceStatus!=="Paid").reduce((Q,ie)=>{const Z=parseFloat(ie.grandTotal?.toString().replace(/[$,]/g,"")||0);return Q+Z},0),ne=t.filter(Q=>A(Q));return{totalInvoices:t.length,totalAmount:I,paidAmount:V,outstandingAmount:ee,overdueCount:ne.length,paidCount:D.length}},[t]),T=z.useMemo(()=>t.filter(I=>{const D=!i||String(I.invoiceNumber||"").toLowerCase().includes(i.toLowerCase())||String(I.customer||"").toLowerCase().includes(i.toLowerCase())||String(I.vehicleId||"").toLowerCase().includes(i.toLowerCase()),V=g==="all"||I.status===g,$=x==="all"||I.priority===x;return D&&V&&$}),[t,i,g,x]),P=I=>{I.target.checked?u(T.map(D=>D.id)):u([])},L=()=>{const I=["Invoice Number","Job Number","Customer","Bill To","Grand Total","Total Cost","Net Terms","Transaction Date","Due Date","Payment Date","Completed On","Invoice Status","Terms","Priority","Description","Service Address","Location Type","Job Type","Line Items","Payments","Days Elapsed","Company","Division"],D=T.map(Q=>[Q.invoiceNumber||`INV-${Q.id}`,Q.jobNumber||"",Q.customer||"",Q.billTo||"",Q.grandTotal||"",Q.totalCost||"",Q.netTerms||"",Q.transactionDate||"",Q.dueDate||"",Q.paymentDate||"",Q.completedOn||"",Q.invoiceStatus||Q.status||"",Q.terms||"",Q.priority||"",Q.description||"",Q.serviceAddress||"",Q.locationType||"",Q.jobType||"",Q.lineItems||"",Q.payments||"",Q.daysElapsed||0,Q.company||"Mechanical Temp",Q.division||"HVAC & Refrigeration"]),V=[I,...D].map(Q=>Q.map(ie=>`"${ie}"`).join(",")).join(`
`),$=new Blob([V],{type:"text/csv"}),ee=URL.createObjectURL($),ne=document.createElement("a");ne.href=ee,ne.download=`appsheet_invoices_${new Date().toISOString().split("T")[0]}.csv`,ne.click(),URL.revokeObjectURL(ee)};return c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border-b border-blue-200 dark:border-blue-800 p-4 rounded-t-xl",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(YT,{className:"text-blue-600 dark:text-blue-400",size:20}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-blue-900 dark:text-blue-100",children:"AppSheet Integration"}),c.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[t.length," invoices  Last sync: 2 hours ago"]})]})]}),c.jsxs("button",{onClick:()=>w(!_),className:"flex items-center gap-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[c.jsx(YT,{size:16}),"Sync Now"]})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 border-b border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[c.jsx(kn,{className:"text-slate-500",size:16}),c.jsx("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Total"})]}),c.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:j.totalInvoices}),c.jsxs("div",{className:"text-sm text-slate-500",children:["$",j.totalAmount.toLocaleString()]})]}),c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[c.jsx(mi,{className:"text-green-500",size:16}),c.jsx("span",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:"Paid"})]}),c.jsx("div",{className:"text-2xl font-bold text-green-600",children:j.paidCount}),c.jsxs("div",{className:"text-sm text-green-600",children:["$",j.paidAmount.toLocaleString()]})]}),c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[c.jsx(Rm,{className:"text-orange-500",size:16}),c.jsx("span",{className:"text-sm font-medium text-orange-600 dark:text-orange-400",children:"Outstanding"})]}),c.jsx("div",{className:"text-2xl font-bold text-orange-600",children:t.length-j.paidCount}),c.jsxs("div",{className:"text-sm text-orange-600",children:["$",j.outstandingAmount.toLocaleString()]})]}),c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[c.jsx(ef,{className:"text-red-500",size:16}),c.jsx("span",{className:"text-sm font-medium text-red-600 dark:text-red-400",children:"Overdue"})]}),c.jsx("div",{className:"text-2xl font-bold text-red-600",children:j.overdueCount}),c.jsx("div",{className:"text-sm text-red-600",children:"Needs attention"})]})]}),c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center gap-4 mb-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Invoice Management"}),c.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Showing ",T.length," of ",t.length," invoices"]})]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx("input",{type:"text",placeholder:"Search invoices...",value:i,onChange:I=>a(I.target.value),className:"w-full md:w-auto bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white"}),c.jsxs("select",{value:g,onChange:I=>y(I.target.value),className:"bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white",children:[c.jsx("option",{value:"All",children:"All Status"}),c.jsx("option",{value:"Paid",children:"Paid"}),c.jsx("option",{value:"Sent",children:"Sent"}),c.jsx("option",{value:"Open",children:"Open"}),c.jsx("option",{value:"Overdue",children:"Overdue"})]}),c.jsxs("select",{value:x,onChange:I=>S(I.target.value),className:"bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white",children:[c.jsx("option",{value:"All",children:"All Priority"}),c.jsx("option",{value:"ER",children:"Emergency"}),c.jsx("option",{value:"URG",children:"Urgent"}),c.jsx("option",{value:"STD",children:"Standard"})]}),o.length>0&&c.jsxs("button",{onClick:()=>n("invoice",o),className:"flex items-center gap-2 text-sm bg-red-600 hover:bg-red-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(ar,{size:16})," Delete (",o.length,")"]}),c.jsx("input",{type:"file",id:"csv-importer-invoice",className:"hidden",accept:".csv",onChange:I=>d(I.target.files[0],"invoice")}),c.jsxs("label",{htmlFor:"csv-importer-invoice",className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[c.jsx(Os,{size:16})," Import CSV"]}),c.jsxs("button",{onClick:L,className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(kn,{size:16})," Export AppSheet CSV"]}),c.jsxs("button",{onClick:()=>e("invoice"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(xi,{size:16})," Add New"]})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-3",children:c.jsx("input",{type:"checkbox",onChange:P,checked:o.length===T.length&&T.length>0,className:"rounded border-slate-300 dark:border-slate-600"})}),R.map(I=>c.jsx("th",{className:`p-3 ${I.className||""}`,children:I.header},I.key)),c.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),c.jsx("tbody",{className:"text-sm",children:T.map(I=>c.jsxs("tr",{className:`border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors ${I.status==="Paid"?"text-slate-400 dark:text-slate-500":"text-slate-700 dark:text-slate-200"}`,children:[c.jsx("td",{className:"p-3",children:c.jsx("input",{type:"checkbox",checked:o.includes(I.id),onChange:()=>{u(D=>D.includes(I.id)?D.filter(V=>V!==I.id):[...D,I.id])},className:"rounded border-slate-300 dark:border-slate-600"})}),R.map(D=>c.jsx("td",{className:`p-3 ${D.className||""}`,children:D.render(I)},D.key)),c.jsx("td",{className:"p-3 text-center",children:c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c.jsx("button",{onClick:()=>{},className:"text-slate-500 dark:text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",title:"View Details",children:c.jsx(r9,{size:16})}),c.jsx("button",{onClick:()=>e("invoice",I),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 transition-colors",title:"Edit Invoice",children:c.jsx(cn,{size:16})}),c.jsx("button",{onClick:()=>r("invoice",I.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500 transition-colors",title:"Delete Invoice",children:c.jsx(ar,{size:16})})]})})]},I.id))})]})}),T.length===0&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx(kn,{className:"mx-auto text-slate-400 mb-4",size:48}),c.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-2",children:"No invoices found"}),c.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:i||g!=="All"||x!=="All"?"Try adjusting your search or filters":"Get started by importing your AppSheet invoice data"})]})]})]})},Mie=({clients:t,openModal:e,handleDelete:r,handleBulkDelete:n,searchTerm:i,setSearchTerm:a,selectedIds:o,setSelectedIds:u,handleImportCSV:d,handleExportCSV:f,handleBulkUpdate:p})=>{const[g,y]=z.useState("name"),[x,S]=z.useState("asc"),[_,w]=z.useState("all"),[R,N]=z.useState("all"),[O,M]=z.useState("hierarchy"),[A,j]=z.useState(new Set),[T,P]=z.useState(!1),[L,I]=z.useState(!1),[D,V]=z.useState(""),[$,ee]=z.useState(null),ne=z.useMemo(()=>t.filter(W=>!W.parentId||W.parentId===""),[t]),Q=z.useMemo(()=>t.filter(W=>!W.parentId||W.parentId===""),[t]),ie=z.useMemo(()=>{let W=t.filter(pe=>{const me=(pe.name||"").toLowerCase().includes(i.toLowerCase())||(pe.address||"").toLowerCase().includes(i.toLowerCase())||(pe.email||"").toLowerCase().includes(i.toLowerCase())||(pe.phone||"").includes(i),je=_==="all"||_==="parent"&&(!pe.parentId||pe.parentId==="")||_==="location"&&pe.parentId&&pe.parentId!==""||_==="unassigned"&&(!pe.parentId||pe.parentId==="")||_==="active"&&pe.status==="Active"||_==="inactive"&&pe.status==="Inactive",$e=R==="all"||pe.parentId===R||pe.id===R;return me&&je&&$e});return W.sort((pe,me)=>{let je=pe[g]||"",$e=me[g]||"";return g==="name"&&(je=je.toLowerCase(),$e=$e.toLowerCase()),x==="asc"?je<$e?-1:je>$e?1:0:je>$e?-1:je<$e?1:0}),W},[t,i,g,x,_,R]),Z=z.useMemo(()=>ie.filter(pe=>!pe.parentId||pe.parentId==="").map(pe=>({...pe,children:ie.filter(me=>me.parentId===pe.id)})),[ie]),J=W=>{g===W?S(x==="asc"?"desc":"asc"):(y(W),S("asc"))},se=W=>{const pe=new Set(A);pe.has(W)?pe.delete(W):pe.add(W),j(pe)},q=W=>{W.target.checked?u(ie.map(pe=>pe.id)):u([])},Y=()=>{if(o.length>0&&D){const W=o.map(pe=>({id:pe,parentId:D}));p&&p("client",W),u([]),I(!1),V("")}},K=()=>{if(o.length>0){const W=o.map(pe=>({id:pe,parentId:""}));p&&p("client",W),u([])}},le=(W,pe)=>{ee(pe),W.dataTransfer.effectAllowed="move"},de=W=>{W.preventDefault(),W.dataTransfer.dropEffect="move"},xe=(W,pe)=>{if(W.preventDefault(),$&&$.id!==pe.id){const me={id:$.id,parentId:pe.id};p&&p("client",[me])}ee(null)},he=W=>{const pe=t.filter(me=>me.parentId===W.id).map(me=>me.id);u(me=>{const je=new Set([...me,W.id,...pe]);return Array.from(je)})},ge=({client:W,isChild:pe=!1,parent:me=null})=>c.jsx("div",{className:`bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-4 hover:shadow-md transition-all duration-200 ${pe?"ml-6 border-l-4 border-l-blue-400 bg-blue-50/30 dark:bg-blue-900/10":"border-l-4 border-l-purple-400"} ${o.includes(W.id)?"ring-2 ring-blue-500 bg-blue-50 dark:bg-blue-900/20":""}`,draggable:!pe,onDragStart:je=>le(je,W),onDragOver:de,onDrop:je=>!pe&&xe(je,W),children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("input",{type:"checkbox",checked:o.includes(W.id),onChange:()=>{u(je=>je.includes(W.id)?je.filter($e=>$e!==W.id):[...je,W.id])},className:"rounded"}),pe?c.jsx(F_,{className:"h-4 w-4 text-blue-500"}):c.jsx(qT,{className:"h-5 w-5 text-purple-600"}),c.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white",children:W.name}),W.status&&c.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${W.status==="Active"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:W.status}),pe&&me&&c.jsxs("span",{className:"text-xs text-blue-600 dark:text-blue-400 bg-blue-100 dark:bg-blue-900/30 px-2 py-1 rounded",children:[" ",me.name]})]}),c.jsxs("div",{className:"space-y-1 text-sm text-slate-600 dark:text-slate-400",children:[W.address&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Mm,{className:"h-4 w-4"}),c.jsx("span",{children:W.address})]}),W.phone&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(KT,{className:"h-4 w-4"}),c.jsx("span",{children:W.phone})]}),W.email&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(HT,{className:"h-4 w-4"}),c.jsx("span",{children:W.email})]})]})]}),c.jsxs("div",{className:"flex gap-1 ml-4",children:[!pe&&c.jsx("button",{onClick:()=>he(W),className:"p-1 text-slate-400 hover:text-purple-600 hover:bg-purple-50 dark:hover:bg-purple-900/30 rounded",title:"Select Parent & All Locations",children:c.jsx(np,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>e("client",W),className:"p-1 text-slate-400 hover:text-cyan-600 hover:bg-cyan-50 dark:hover:bg-cyan-900/30 rounded",title:"Edit Client",children:c.jsx(cn,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>r("client",W.id),className:"p-1 text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 rounded",title:"Delete Client",children:c.jsx(ar,{className:"h-4 w-4"})})]})]})}),fe=()=>c.jsxs("div",{className:"space-y-6",children:[Q.length>0&&c.jsxs("div",{className:"border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h4",{className:"font-semibold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[c.jsx(np,{className:"h-5 w-5"}),"Unassigned Clients (",Q.filter(W=>ie.includes(W)).length,")"]}),c.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Drag clients to parent companies below"})]}),c.jsx("div",{className:"space-y-2",children:Q.filter(W=>ie.includes(W)).map(W=>c.jsx(ge,{client:W},W.id))})]}),Z.filter(W=>W.children.length>0).map(W=>c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>se(W.id),className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-700 rounded",children:A.has(W.id)?c.jsx(_p,{className:"h-4 w-4"}):c.jsx(t9,{className:"h-4 w-4"})}),c.jsx("div",{className:"flex-1",children:c.jsx(ge,{client:W})}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:"text-sm text-slate-500 bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded-full",children:[W.children.length," locations"]}),c.jsx("button",{onClick:()=>he(W),className:"text-xs bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400 px-2 py-1 rounded hover:bg-purple-200 dark:hover:bg-purple-900/50",title:"Select All",children:"Select All"})]})]}),A.has(W.id)&&c.jsx("div",{className:"space-y-2 border-l-2 border-purple-200 dark:border-purple-700 ml-4 pl-4",children:W.children.map(pe=>c.jsx(ge,{client:pe,isChild:!0,parent:W},pe.id))})]},W.id))]}),Ee=()=>c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-3",children:c.jsx("input",{type:"checkbox",onChange:q})}),c.jsx("th",{className:"p-3",children:c.jsxs("button",{onClick:()=>J("name"),className:"flex items-center gap-1 hover:text-slate-700 dark:hover:text-slate-200",children:["Name",g==="name"&&(x==="asc"?c.jsx(yo,{className:"h-3 w-3"}):c.jsx(vo,{className:"h-3 w-3"}))]})}),c.jsx("th",{className:"p-3",children:"Type"}),c.jsx("th",{className:"p-3",children:c.jsxs("button",{onClick:()=>J("address"),className:"flex items-center gap-1 hover:text-slate-700 dark:hover:text-slate-200",children:["Address",g==="address"&&(x==="asc"?c.jsx(yo,{className:"h-3 w-3"}):c.jsx(vo,{className:"h-3 w-3"}))]})}),c.jsx("th",{className:"p-3",children:"Contact"}),c.jsx("th",{className:"p-3",children:"Parent Company"}),c.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),c.jsx("tbody",{className:"text-sm",children:ie.map(W=>{const pe=ne.find(je=>je.id===W.parentId),me=o.includes(W.id);return c.jsxs("tr",{className:`border-b border-slate-200 dark:border-slate-700/50 text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700/50 ${me?"bg-blue-50 dark:bg-blue-900/20":""}`,children:[c.jsx("td",{className:"p-3",children:c.jsx("input",{type:"checkbox",checked:me,onChange:()=>{u(je=>je.includes(W.id)?je.filter($e=>$e!==W.id):[...je,W.id])}})}),c.jsx("td",{className:"p-3",children:c.jsxs("div",{className:"flex items-center gap-2",children:[W.parentId?c.jsx(F_,{className:"h-4 w-4 text-blue-500"}):c.jsx(qT,{className:"h-4 w-4 text-purple-600"}),c.jsx("span",{className:"font-medium",children:W.name})]})}),c.jsx("td",{className:"p-3",children:c.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${W.parentId?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400"}`,children:W.parentId?"Location":"Parent"})}),c.jsx("td",{className:"p-3",children:c.jsx("span",{children:W.address})}),c.jsx("td",{className:"p-3",children:c.jsxs("div",{className:"space-y-1",children:[W.phone&&c.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[c.jsx(KT,{className:"h-3 w-3"}),c.jsx("span",{children:W.phone})]}),W.email&&c.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[c.jsx(HT,{className:"h-3 w-3"}),c.jsx("span",{children:W.email})]})]})}),c.jsx("td",{className:"p-3",children:pe?c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Qq,{className:"h-3 w-3 text-slate-400"}),c.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:pe.name})]}):c.jsx("span",{className:"text-xs text-slate-400",children:""})}),c.jsxs("td",{className:"p-3 text-center",children:[c.jsx("button",{onClick:()=>e("client",W),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:c.jsx(cn,{size:16})}),c.jsx("button",{onClick:()=>r("client",W.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:c.jsx(ar,{size:16})})]})]},W.id)})})]})}),Te=()=>c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ie.map(W=>{const pe=ne.find(me=>me.id===W.parentId);return c.jsx(ge,{client:W,isChild:!!W.parentId,parent:pe},W.id)})});return c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center mb-6 gap-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Client Management"}),c.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:[ie.length," of ",t.length," clients",o.length>0&&`  ${o.length} selected`]})]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.length>0&&c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:()=>I(!0),className:"flex items-center gap-2 text-sm bg-purple-600 hover:bg-purple-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(a9,{size:16})," Assign Parent (",o.length,")"]}),c.jsxs("button",{onClick:K,className:"flex items-center gap-2 text-sm bg-orange-600 hover:bg-orange-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(c9,{size:16})," Remove Parent"]}),c.jsxs("button",{onClick:()=>n("client",o),className:"flex items-center gap-2 text-sm bg-red-600 hover:bg-red-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(ar,{size:16})," Delete (",o.length,")"]})]}),c.jsx("input",{type:"file",id:"csv-importer-client",className:"hidden",accept:".csv",onChange:W=>d(W.target.files[0],"client")}),c.jsxs("label",{htmlFor:"csv-importer-client",className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[c.jsx(Os,{size:16})," Import CSV"]}),c.jsxs("button",{onClick:()=>f(t,"clients"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(kn,{size:16})," Export CSV"]}),c.jsxs("button",{onClick:()=>e("client"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(xi,{size:16})," Add New"]})]})]}),L&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-6 w-full max-w-md",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h4",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Assign Parent Company"}),c.jsx("button",{onClick:()=>I(!1),className:"text-slate-400 hover:text-slate-600",children:c.jsx(Ou,{className:"h-5 w-5"})})]}),c.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4",children:["Assign ",o.length," selected clients to a parent company:"]}),c.jsxs("select",{value:D,onChange:W=>V(W.target.value),className:"w-full px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-800 dark:text-white mb-4",children:[c.jsx("option",{value:"",children:"Select Parent Company"}),ne.map(W=>c.jsx("option",{value:W.id,children:W.name},W.id))]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:()=>I(!1),className:"flex-1 px-4 py-2 text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200",children:"Cancel"}),c.jsx("button",{onClick:Y,disabled:!D,className:"flex-1 px-4 py-2 bg-purple-600 hover:bg-purple-500 text-white rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Assign"})]})]})}),c.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 mb-6",children:[c.jsxs("div",{className:"flex-1 relative",children:[c.jsx(Ns,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),c.jsx("input",{type:"text",placeholder:"Search clients by name, address, phone, or email...",value:i,onChange:W=>a(W.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-800 dark:text-white"})]}),c.jsxs("button",{onClick:()=>P(!T),className:"flex items-center gap-2 px-4 py-2 bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600",children:[c.jsx(Zd,{className:"h-4 w-4"}),"Filters",c.jsx(_p,{className:`h-4 w-4 transition-transform ${T?"rotate-180":""}`})]}),c.jsxs("div",{className:"flex rounded-lg border border-slate-300 dark:border-slate-600 overflow-hidden",children:[c.jsx("button",{onClick:()=>M("hierarchy"),className:`px-3 py-2 text-sm ${O==="hierarchy"?"bg-blue-500 text-white":"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600"}`,title:"Hierarchy View",children:c.jsx(u9,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>M("list"),className:`px-3 py-2 text-sm ${O==="list"?"bg-blue-500 text-white":"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600"}`,title:"Table View",children:c.jsx(s9,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>M("cards"),className:`px-3 py-2 text-sm ${O==="cards"?"bg-blue-500 text-white":"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600"}`,title:"Card View",children:c.jsx(n9,{className:"h-4 w-4"})})]})]}),T&&c.jsx("div",{className:"bg-slate-50 dark:bg-slate-700/50 rounded-lg p-4 mb-6 space-y-4",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Filter by Type"}),c.jsxs("select",{value:_,onChange:W=>w(W.target.value),className:"w-full px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-800 dark:text-white",children:[c.jsx("option",{value:"all",children:"All Clients"}),c.jsx("option",{value:"parent",children:"Parent Companies Only"}),c.jsx("option",{value:"location",children:"Store Locations Only"}),c.jsx("option",{value:"unassigned",children:"Unassigned Clients"}),c.jsx("option",{value:"active",children:"Active Only"}),c.jsx("option",{value:"inactive",children:"Inactive Only"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Filter by Parent Company"}),c.jsxs("select",{value:R,onChange:W=>N(W.target.value),className:"w-full px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-800 dark:text-white",children:[c.jsx("option",{value:"all",children:"All Companies"}),ne.map(W=>c.jsx("option",{value:W.id,children:W.name},W.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Sort by"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("select",{value:g,onChange:W=>y(W.target.value),className:"flex-1 px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-800 dark:text-white",children:[c.jsx("option",{value:"name",children:"Name"}),c.jsx("option",{value:"address",children:"Address"}),c.jsx("option",{value:"phone",children:"Phone"}),c.jsx("option",{value:"email",children:"Email"})]}),c.jsx("button",{onClick:()=>S(x==="asc"?"desc":"asc"),className:"px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600",children:x==="asc"?c.jsx(yo,{className:"h-4 w-4"}):c.jsx(vo,{className:"h-4 w-4"})})]})]})]})}),c.jsx("div",{className:"min-h-[400px]",children:ie.length===0?c.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-slate-500 dark:text-slate-400",children:[c.jsx(np,{className:"h-12 w-12 mb-4"}),c.jsx("h3",{className:"text-lg font-medium mb-2",children:"No clients found"}),c.jsx("p",{className:"text-sm text-center",children:i||_!=="all"||R!=="all"?"Try adjusting your search or filters":"Get started by adding your first client"})]}):c.jsxs(c.Fragment,{children:[O==="hierarchy"&&c.jsx(fe,{}),O==="list"&&c.jsx(Ee,{}),O==="cards"&&c.jsx(Te,{})]})})]})},Die=({vehicles:t=[],maintenanceLogs:e=[],openModal:r,handleDelete:n,searchTerm:i="",setSearchTerm:a,jobs:o=[]})=>{const[u,d]=z.useState("all"),[f,p]=z.useState("grid"),[g,y]=z.useState("name"),[x,S]=z.useState("asc"),[_,w]=z.useState([]),[R,N]=z.useState(!1),[O,M]=z.useState(null),[A,j]=z.useState(!1),[T,P]=z.useState("vehicles"),L=[{value:"oil_change",label:"Oil Change",interval:3e3,category:"Engine",cost:50},{value:"tire_rotation",label:"Tire Rotation",interval:6e3,category:"Tires",cost:25},{value:"brake_service",label:"Brake Service",interval:12e3,category:"Brakes",cost:300},{value:"transmission",label:"Transmission Service",interval:3e4,category:"Transmission",cost:150},{value:"coolant_flush",label:"Coolant Flush",interval:24e3,category:"Cooling",cost:100},{value:"air_filter",label:"Air Filter",interval:12e3,category:"Engine",cost:30},{value:"spark_plugs",label:"Spark Plugs",interval:3e4,category:"Engine",cost:120},{value:"belts_hoses",label:"Belts & Hoses",interval:24e3,category:"Engine",cost:200},{value:"battery",label:"Battery Service",interval:36e3,category:"Electrical",cost:150},{value:"inspection",label:"Annual Inspection",interval:12e3,category:"Legal",cost:50},{value:"ac_service",label:"A/C Service",interval:12e3,category:"HVAC",cost:180},{value:"general_repair",label:"General Repair",interval:0,category:"Repair",cost:200},{value:"preventive",label:"Preventive Maintenance",interval:6e3,category:"Maintenance",cost:100}];z.useEffect(()=>{console.log("Vehicles updated:",t.length),w([...t])},[t]);const I=({onImport:K})=>{const le=z.useRef(null),de=xe=>{const he=xe.target.files[0];he&&(K(he),xe.target.value="")};return c.jsxs("div",{className:"inline-block",children:[c.jsx("input",{ref:le,type:"file",accept:".csv",onChange:de,style:{display:"none"}}),c.jsxs("button",{onClick:()=>le.current?.click(),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-lg transition-colors",children:[c.jsx(Os,{size:16}),"Import Vehicles"]})]})},D=K=>{if(!K){alert("Please select a file.");return}const le=new FileReader;le.onload=de=>{try{const he=de.target.result.split(`
`).filter(Te=>Te.trim());if(he.length<2){alert("CSV file must have at least a header row and one data row.");return}const ge=Te=>{const W=[];let pe="",me=!1;for(let je=0;je<Te.length;je++){const $e=Te[je];$e==='"'?me=!me:$e===","&&!me?(W.push(pe.trim()),pe=""):pe+=$e}return W.push(pe.trim()),W},fe=ge(he[0]).map(Te=>Te.replace(/"/g,"").trim().toLowerCase()),Ee=[];for(let Te=1;Te<he.length;Te++){const W=ge(he[Te]),pe={};fe.forEach((me,je)=>{const $e=W[je]?W[je].replace(/"/g,"").trim():"";me.includes("name")||me.includes("vehicle")?pe.name=$e:me.includes("make")?pe.make=$e.toUpperCase():me.includes("model")?pe.model=$e:me.includes("year")?pe.year=$e:me.includes("license")||me.includes("plate")?pe.licensePlate=$e:me.includes("vin")?pe.vin=$e:me.includes("mileage")||me.includes("miles")?pe.currentMileage=parseInt($e)||0:me.includes("status")?pe.status=$e.toLowerCase()||"active":me.includes("notes")&&(pe.notes=$e)}),(pe.name||pe.make&&pe.model)&&(pe.name=pe.name||`${pe.make} ${pe.model}`,pe.status=pe.status||"active",Ee.push(pe))}if(Ee.length===0){alert("No valid vehicle records found in the CSV file.");return}Ee.forEach(Te=>{r("vehicle",Te)}),alert(`Found ${Ee.length} vehicles to import. Please review and save each one.`)}catch(xe){console.error("Error parsing CSV:",xe),alert("Error parsing CSV file. Please check the file format.")}},le.readAsText(K)},V=()=>{if(_.length===0){alert("No vehicles to export.");return}const K=_.map(fe=>({"Vehicle Name":fe.name||"",Make:fe.make||"",Model:fe.model||"",Year:fe.year||"","License Plate":fe.licensePlate||"",VIN:fe.vin||"","Current Mileage":fe.currentMileage||0,Status:fe.status||"active",Notes:fe.notes||"","Date Added":fe.createdAt?new Date(fe.createdAt.seconds*1e3).toLocaleDateString():""})),le=Object.keys(K[0]),de=[le.join(","),...K.map(fe=>le.map(Ee=>{const Te=fe[Ee];return typeof Te=="string"&&(Te.includes(",")||Te.includes('"')||Te.includes(`
`))?`"${Te.replace(/"/g,'""')}"`:Te}).join(","))].join(`
`),xe=new Blob([de],{type:"text/csv;charset=utf-8;"}),he=URL.createObjectURL(xe),ge=document.createElement("a");ge.href=he,ge.download=`vehicle-fleet-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(ge),ge.click(),document.body.removeChild(ge),URL.revokeObjectURL(he),console.log(`Exported ${_.length} vehicles to CSV`)},$=()=>{const K=[{"Vehicle Name":"Service Truck 1",Make:"FORD",Model:"F-150",Year:"2020","License Plate":"ABC123",VIN:"1FTFW1ET0LKD12345","Current Mileage":"75000",Status:"active",Notes:"Primary service vehicle"}],le=Object.keys(K[0]),de=[le.join(","),...K.map(fe=>le.map(Ee=>fe[Ee]).join(","))].join(`
`),xe=new Blob([de],{type:"text/csv;charset=utf-8;"}),he=URL.createObjectURL(xe),ge=document.createElement("a");ge.href=he,ge.download="vehicle-import-template.csv",document.body.appendChild(ge),ge.click(),document.body.removeChild(ge),URL.revokeObjectURL(he)},ee=async(K,le)=>{if(window.confirm('Delete "'+le+'"?')){console.log("Starting delete for vehicle:",K,le),N(!0);try{const de=_.filter(xe=>xe.id!==K);w(de),await n("vehicle",K),console.log("Vehicle deleted successfully")}catch(de){console.error("Delete failed, reverting UI:",de),w([...t]),alert("Failed to delete vehicle: "+de.message)}finally{N(!1)}}},ne=()=>{let K=0;return _.forEach(le=>{L.forEach(de=>{if(de.interval>0){const xe=e.filter(Ee=>Ee.vehicleId===le.id&&Ee.serviceType===de.value).sort((Ee,Te)=>new Date(Te.date)-new Date(Ee.date))[0],he=le.currentMileage||0,ge=xe&&xe.mileage||0;he-ge>=de.interval&&K++}})}),K},Q=z.useMemo(()=>{const K=_.filter(W=>!W.status||W.status==="active"),le=_.reduce((W,pe)=>W+(pe.currentMileage||0),0),de=_.length>0?le/_.length:0,xe=new Date().getFullYear(),he=_.reduce((W,pe)=>W+(xe-parseInt(pe.year||xe)),0),ge=_.length>0?he/_.length:0,fe=_.filter(W=>(W.currentMileage||0)>1e5).length,Ee=e.filter(W=>W.date&&new Date(W.date).getFullYear()===xe).reduce((W,pe)=>W+(pe.cost||0),0),Te=ne();return{totalVehicles:_.length,activeVehicles:K.length,avgMileage:Math.round(de),avgAge:ge.toFixed(1),highMileageVehicles:fe,totalMaintenanceCost:Ee,overdueMaintenance:Te}},[_,e]),ie=K=>{const le=[],de=K.currentMileage||0;return L.forEach(xe=>{if(xe.interval>0){const he=e.filter(Te=>Te.vehicleId===K.id&&Te.serviceType===xe.value).sort((Te,W)=>new Date(W.date)-new Date(Te.date))[0],ge=he&&he.mileage||0,fe=de-ge,Ee=xe.interval-fe;fe>=xe.interval?le.push({type:"overdue",service:xe.label,mileage:Math.abs(Ee),severity:"high"}):Ee<=1e3&&Ee>0&&le.push({type:"due_soon",service:xe.label,mileage:Ee,severity:"medium"})}}),le.sort((xe,he)=>he.severity==="high"?1:-1)},Z=z.useMemo(()=>{let K=_;return i&&(K=K.filter(de=>de.name?.toLowerCase().includes(i.toLowerCase())||de.make?.toLowerCase().includes(i.toLowerCase())||de.model?.toLowerCase().includes(i.toLowerCase())||de.licensePlate?.toLowerCase().includes(i.toLowerCase())||de.vin?.toLowerCase().includes(i.toLowerCase()))),u!=="all"&&(K=K.filter(de=>(de.status||"active")===u)),[...K].sort((de,xe)=>{let he,ge;switch(g){case"name":he=de.name||"",ge=xe.name||"";break;case"mileage":he=de.currentMileage||0,ge=xe.currentMileage||0;break;case"year":he=parseInt(de.year||0),ge=parseInt(xe.year||0);break;case"make":he=de.make||"",ge=xe.make||"";break;default:he=de.name||"",ge=xe.name||""}return typeof he=="string"?x==="asc"?he.localeCompare(ge):ge.localeCompare(he):x==="asc"?he-ge:ge-he})},[_,i,u,g,x]),J=K=>{const le=K.status||"active";return le==="active"?{status:"active",color:"text-green-500",icon:mi,bg:"bg-green-50 border-green-200 dark:bg-green-900/10 dark:border-green-800",label:"Active"}:le==="maintenance"?{status:"maintenance",color:"text-yellow-500",icon:ru,bg:"bg-yellow-50 border-yellow-200 dark:bg-yellow-900/10 dark:border-yellow-800",label:"In Maintenance"}:{status:"inactive",color:"text-gray-500",icon:WT,bg:"bg-gray-50 border-gray-200 dark:bg-gray-900/10 dark:border-gray-800",label:"Inactive"}},se=({title:K,value:le,icon:de,color:xe,subtext:he,onClick:ge})=>c.jsx("div",{className:`bg-white dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700 transition-all hover:shadow-md ${ge?"cursor-pointer hover:border-blue-300":""}`,onClick:ge,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:K}),c.jsx("p",{className:"text-2xl font-bold "+xe,children:le}),he&&c.jsx("p",{className:"text-xs text-slate-400",children:he})]}),c.jsx(de,{size:24,className:xe})]})}),q=()=>{const[K,le]=z.useState({vehicleId:O?.id||"",serviceType:"",description:"",cost:"",mileage:"",date:new Date().toISOString().split("T")[0],nextServiceMileage:"",notes:""}),de=L.find(he=>he.value===K.serviceType),xe=he=>{he.preventDefault();const ge={...K,cost:parseFloat(K.cost)||0,mileage:parseInt(K.mileage)||0,nextServiceMileage:parseInt(K.nextServiceMileage)||0,createdAt:new Date().toISOString()};!ge.nextServiceMileage&&de?.interval&&(ge.nextServiceMileage=ge.mileage+de.interval),r("maintenanceLog",ge),j(!1),le({vehicleId:"",serviceType:"",description:"",cost:"",mileage:"",date:new Date().toISOString().split("T")[0],nextServiceMileage:"",notes:""})};return z.useEffect(()=>{de&&le(he=>({...he,cost:he.cost||de.cost.toString(),description:he.description||de.label}))},[de]),A?c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[c.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[c.jsx(fa,{className:"text-blue-500",size:24}),"Add Service Record"]}),c.jsx("button",{onClick:()=>j(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:c.jsx(WT,{size:24})})]})}),c.jsxs("div",{className:"p-6 space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Vehicle *"}),c.jsxs("select",{value:K.vehicleId,onChange:he=>le(ge=>({...ge,vehicleId:he.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",required:!0,children:[c.jsx("option",{value:"",children:"Select Vehicle"}),_.map(he=>c.jsxs("option",{value:he.id,children:[he.name||"Unnamed"," - ",he.make," ",he.model]},he.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Service Type *"}),c.jsxs("select",{value:K.serviceType,onChange:he=>le(ge=>({...ge,serviceType:he.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",required:!0,children:[c.jsx("option",{value:"",children:"Select Service"}),L.map(he=>c.jsxs("option",{value:he.value,children:[he.label," (",he.category,")"]},he.value))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Service Date *"}),c.jsx("input",{type:"date",value:K.date,onChange:he=>le(ge=>({...ge,date:he.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Current Mileage"}),c.jsx("input",{type:"number",value:K.mileage,onChange:he=>le(ge=>({...ge,mileage:he.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:"e.g., 45000"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Cost ($)"}),c.jsx("input",{type:"number",step:"0.01",value:K.cost,onChange:he=>le(ge=>({...ge,cost:he.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:"0.00"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Next Service Mileage"}),c.jsx("input",{type:"number",value:K.nextServiceMileage,onChange:he=>le(ge=>({...ge,nextServiceMileage:he.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:de?`Auto: ${(parseInt(K.mileage)||0)+de.interval}`:"Optional"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Description"}),c.jsx("input",{type:"text",value:K.description,onChange:he=>le(ge=>({...ge,description:he.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:"Brief description of the service"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Notes"}),c.jsx("textarea",{value:K.notes,onChange:he=>le(ge=>({...ge,notes:he.target.value})),rows:"3",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 resize-none",placeholder:"Additional notes, parts used, recommendations, etc."})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>j(!1),className:"px-4 py-2 text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200",children:"Cancel"}),c.jsx("button",{type:"button",onClick:xe,className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors",children:"Add Service Record"})]})]})]})}):null},Y=()=>{const K=[...e].sort((le,de)=>new Date(de.date)-new Date(le.date));return c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[c.jsx(fa,{className:"text-blue-500",size:24}),"Maintenance History"]}),c.jsxs("button",{onClick:()=>{M(null),j(!0)},className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg transition-colors",children:[c.jsx(wp,{size:18}),"Add Service"]})]}),K.length>0?c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-3",children:"Date"}),c.jsx("th",{className:"p-3",children:"Vehicle"}),c.jsx("th",{className:"p-3",children:"Service"}),c.jsx("th",{className:"p-3",children:"Mileage"}),c.jsx("th",{className:"p-3",children:"Cost"}),c.jsx("th",{className:"p-3",children:"Next Due"}),c.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),c.jsx("tbody",{children:K.map(le=>{const de=_.find(he=>he.id===le.vehicleId),xe=L.find(he=>he.value===le.serviceType);return c.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[c.jsx("td",{className:"p-3",children:le.date?new Date(le.date).toLocaleDateString():"N/A"}),c.jsx("td",{className:"p-3",children:c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:de?.name||"Unknown Vehicle"}),c.jsxs("div",{className:"text-xs text-slate-500",children:[de?.make," ",de?.model]})]})}),c.jsx("td",{className:"p-3",children:c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:xe?.label||le.serviceType}),le.description&&c.jsx("div",{className:"text-xs text-slate-500",children:le.description})]})}),c.jsx("td",{className:"p-3 font-mono",children:(le.mileage||0).toLocaleString()}),c.jsxs("td",{className:"p-3 font-mono",children:["$",(le.cost||0).toFixed(2)]}),c.jsx("td",{className:"p-3 font-mono",children:le.nextServiceMileage?le.nextServiceMileage.toLocaleString():"N/A"}),c.jsx("td",{className:"p-3",children:c.jsxs("div",{className:"flex items-center justify-center gap-1",children:[c.jsx("button",{onClick:()=>r("maintenanceLog",le),className:"p-1 text-slate-500 hover:text-blue-600 transition-colors",title:"Edit Service",children:c.jsx(cn,{size:16})}),c.jsx("button",{onClick:()=>n("maintenanceLog",le.id),className:"p-1 text-slate-500 hover:text-red-600 transition-colors",title:"Delete Service",children:c.jsx(ar,{size:16})})]})})]},le.id)})})]})}):c.jsxs("div",{className:"text-center py-12",children:[c.jsx(fa,{size:48,className:"text-slate-300 dark:text-slate-600 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-slate-500 dark:text-slate-400 mb-2",children:"No maintenance records yet"}),c.jsx("p",{className:"text-slate-400 dark:text-slate-500 mb-4",children:"Start tracking your vehicle maintenance and services"}),c.jsx("button",{onClick:()=>j(!0),className:"bg-blue-600 hover:bg-blue-500 text-white px-6 py-2 rounded-lg transition-colors",children:"Add First Service"})]})]})};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[c.jsx(Cm,{className:"text-blue-500",size:24}),"Fleet Overview"]}),_.length>0&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(I,{onImport:D}),c.jsxs("button",{onClick:V,className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white px-3 py-2 rounded-lg transition-colors",children:[c.jsx(eD,{size:16}),"Export Vehicles"]}),c.jsxs("button",{onClick:$,className:"flex items-center gap-2 text-sm bg-purple-600 hover:bg-purple-500 text-white px-3 py-2 rounded-lg transition-colors",children:[c.jsx(kn,{size:16}),"CSV Template"]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-7 gap-4",children:[c.jsx(se,{title:"Total Vehicles",value:Q.totalVehicles,icon:Rh,color:"text-blue-500"}),c.jsx(se,{title:"Active Fleet",value:Q.activeVehicles,icon:mi,color:"text-green-500",subtext:(Q.activeVehicles/(Q.totalVehicles||1)*100).toFixed(0)+"% active"}),c.jsx(se,{title:"Avg Mileage",value:Q.avgMileage.toLocaleString(),icon:Mm,color:"text-purple-500",subtext:"miles per vehicle"}),c.jsx(se,{title:"Fleet Age",value:Q.avgAge+" yrs",icon:Rm,color:"text-orange-500",subtext:"average age"}),c.jsx(se,{title:"High Mileage",value:Q.highMileageVehicles,icon:Ea,color:"text-amber-500",subtext:">100k miles"}),c.jsx(se,{title:"Maintenance Cost",value:"$"+Q.totalMaintenanceCost.toLocaleString(),icon:un,color:"text-emerald-500",subtext:"this year"}),c.jsx(se,{title:"Overdue Services",value:Q.overdueMaintenance,icon:ef,color:Q.overdueMaintenance>0?"text-red-500":"text-green-500",subtext:"need attention",onClick:()=>P("maintenance")})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 overflow-hidden",children:[c.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700",children:c.jsxs("nav",{className:"flex",children:[c.jsx("button",{onClick:()=>P("vehicles"),className:`px-6 py-4 text-sm font-medium transition-colors ${T==="vehicles"?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 bg-blue-50 dark:bg-blue-900/10":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-300"}`,children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Rh,{size:18}),"Vehicles (",_.length,")"]})}),c.jsx("button",{onClick:()=>P("maintenance"),className:`px-6 py-4 text-sm font-medium transition-colors ${T==="maintenance"?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 bg-blue-50 dark:bg-blue-900/10":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-300"}`,children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(fa,{size:18}),"Maintenance (",e.length,")",Q.overdueMaintenance>0&&c.jsx("span",{className:"bg-red-500 text-white text-xs rounded-full px-2 py-1",children:Q.overdueMaintenance})]})})]})}),c.jsx("div",{className:"p-6",children:T==="vehicles"?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Vehicle Fleet Management"}),c.jsxs("div",{className:"flex items-center gap-2",children:[_.length>0&&c.jsxs("button",{onClick:()=>p(f==="grid"?"table":"grid"),className:"flex items-center gap-2 text-sm bg-slate-100 hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-300 px-3 py-2 rounded-lg transition-colors",children:[f==="grid"?c.jsx(kn,{size:16}):c.jsx(Rh,{size:16}),f==="grid"?"Table View":"Grid View"]}),c.jsxs("button",{onClick:()=>r("vehicle"),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg transition-colors",children:[c.jsx(wp,{size:18}),"Add Vehicle"]})]})]}),_.length>0&&c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx(Ns,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:18}),c.jsx("input",{type:"text",placeholder:"Search by name, make, model, license plate, or VIN...",value:i,onChange:K=>a(K.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Zd,{size:18,className:"text-slate-400"}),c.jsxs("select",{value:u,onChange:K=>d(K.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"all",children:"All Status"}),c.jsx("option",{value:"active",children:"Active"}),c.jsx("option",{value:"maintenance",children:"In Maintenance"}),c.jsx("option",{value:"retired",children:"Retired"})]}),c.jsxs("select",{value:g,onChange:K=>y(K.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"name",children:"Sort by Name"}),c.jsx("option",{value:"mileage",children:"Sort by Mileage"}),c.jsx("option",{value:"year",children:"Sort by Year"}),c.jsx("option",{value:"make",children:"Sort by Make"})]}),c.jsx("button",{onClick:()=>S(x==="asc"?"desc":"asc"),className:"p-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600 transition-colors",title:"Sort "+(x==="asc"?"Descending":"Ascending"),children:c.jsx(Ea,{size:18,className:x==="desc"?"rotate-180":""})})]})]}),_.length>0?f==="grid"?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Z.map(K=>{const le=J(K),de=ie(K);return c.jsxs("div",{className:"p-5 rounded-lg border-2 transition-all hover:shadow-lg group "+le.bg+(R?" opacity-50":""),children:[c.jsxs("div",{className:"flex items-start justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(le.icon,{size:24,className:le.color}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-slate-800 dark:text-white text-lg",children:K.name||"Unnamed Vehicle"}),c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:le.label})]})]}),c.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[c.jsx("button",{onClick:()=>{M(K),j(!0)},className:"p-2 text-slate-500 hover:text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg transition-colors",title:"Add Service",disabled:R,children:c.jsx(fa,{size:16})}),c.jsx("button",{onClick:()=>r("vehicle",K),className:"p-2 text-slate-500 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"Edit Vehicle",disabled:R,children:c.jsx(cn,{size:16})}),c.jsx("button",{onClick:()=>ee(K.id,K.name||"Unnamed Vehicle"),className:"p-2 text-slate-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete Vehicle",disabled:R,children:c.jsx(ar,{size:16})})]})]}),de.length>0&&c.jsxs("div",{className:"mb-4 p-3 bg-amber-50 dark:bg-amber-900/20 rounded-lg border border-amber-200 dark:border-amber-800",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx($_,{size:16,className:"text-amber-600"}),c.jsx("span",{className:"text-sm font-medium text-amber-800 dark:text-amber-200",children:"Maintenance Alerts"})]}),c.jsxs("div",{className:"space-y-1",children:[de.slice(0,2).map((xe,he)=>c.jsx("div",{className:"text-xs",children:c.jsxs("span",{className:xe.type==="overdue"?"text-red-700 dark:text-red-300":"text-amber-700 dark:text-amber-300",children:[xe.service,": ",xe.type==="overdue"?`${xe.mileage} miles overdue`:`due in ${xe.mileage} miles`]})},he)),de.length>2&&c.jsxs("div",{className:"text-xs text-amber-600 dark:text-amber-400",children:["+",de.length-2," more alerts"]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-slate-600 dark:text-slate-400 block",children:"Make/Model"}),c.jsxs("span",{className:"font-medium",children:[K.make||"N/A"," ",K.model||"N/A"]})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-slate-600 dark:text-slate-400 block",children:"Year"}),c.jsx("span",{className:"font-medium",children:K.year||"N/A"})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-slate-600 dark:text-slate-400 block",children:"License"}),c.jsx("span",{className:"font-medium",children:K.licensePlate||"N/A"})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-slate-600 dark:text-slate-400 block",children:"Mileage"}),c.jsxs("span",{className:"font-medium",children:[(K.currentMileage||0).toLocaleString()," mi"]})]}),c.jsxs("div",{className:"col-span-2",children:[c.jsx("span",{className:"text-slate-600 dark:text-slate-400 block",children:"VIN"}),c.jsx("span",{className:"font-medium text-xs",children:K.vin||"N/A"})]})]})]},K.id)})}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-3",children:"Status"}),c.jsx("th",{className:"p-3",children:"Vehicle"}),c.jsx("th",{className:"p-3",children:"Make/Model"}),c.jsx("th",{className:"p-3",children:"Year"}),c.jsx("th",{className:"p-3",children:"License"}),c.jsx("th",{className:"p-3",children:"Mileage"}),c.jsx("th",{className:"p-3",children:"Alerts"}),c.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),c.jsx("tbody",{children:Z.map(K=>{const le=J(K),de=ie(K);return c.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50"+(R?" opacity-50":""),children:[c.jsx("td",{className:"p-3",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(le.icon,{size:16,className:le.color}),c.jsx("span",{className:"text-xs",children:le.label})]})}),c.jsx("td",{className:"p-3",children:c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:K.name||"Unnamed"}),K.vin&&c.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:["VIN: ",K.vin.slice(-6)]})]})}),c.jsxs("td",{className:"p-3",children:[K.make||"N/A"," ",K.model||"N/A"]}),c.jsx("td",{className:"p-3",children:K.year||"N/A"}),c.jsx("td",{className:"p-3",children:K.licensePlate||"N/A"}),c.jsx("td",{className:"p-3 font-mono",children:(K.currentMileage||0).toLocaleString()}),c.jsx("td",{className:"p-3",children:de.length>0?c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx($_,{size:14,className:"text-amber-500"}),c.jsxs("span",{className:"text-xs text-amber-600 dark:text-amber-400",children:[de.length," alert",de.length>1?"s":""]})]}):c.jsx("span",{className:"text-xs text-green-600 dark:text-green-400",children:" Up to date"})}),c.jsx("td",{className:"p-3",children:c.jsxs("div",{className:"flex items-center justify-center gap-1",children:[c.jsx("button",{onClick:()=>{M(K),j(!0)},className:"p-1 text-slate-500 hover:text-green-600 transition-colors",title:"Add Service",disabled:R,children:c.jsx(fa,{size:16})}),c.jsx("button",{onClick:()=>r("vehicle",K),className:"p-1 text-slate-500 hover:text-blue-600 transition-colors",title:"Edit Vehicle",disabled:R,children:c.jsx(cn,{size:16})}),c.jsx("button",{onClick:()=>ee(K.id,K.name||"Unnamed Vehicle"),className:"p-1 text-slate-500 hover:text-red-600 transition-colors",title:"Delete Vehicle",disabled:R,children:c.jsx(ar,{size:16})})]})})]},K.id)})})]})}):c.jsxs("div",{className:"text-center py-16",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-slate-100 dark:bg-slate-700 rounded-full mb-6",children:c.jsx(Rh,{size:40,className:"text-slate-400 dark:text-slate-500"})}),c.jsx("h3",{className:"text-xl font-medium text-slate-500 dark:text-slate-400 mb-3",children:"No vehicles in your fleet yet"}),c.jsx("p",{className:"text-slate-400 dark:text-slate-500 mb-6 max-w-md mx-auto",children:"Start building your fleet by adding your first vehicle. Track maintenance, costs, and manage your entire fleet from one place."}),c.jsx("button",{onClick:()=>r("vehicle"),className:"bg-blue-600 hover:bg-blue-500 text-white px-8 py-3 rounded-lg transition-colors font-medium text-lg",disabled:R,children:"Add Your First Vehicle"})]})]}):c.jsx(Y,{})})]}),c.jsx(q,{}),R&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),c.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"Deleting vehicle..."})]})})]})},Lie=({inventory:t,openModal:e,handleDelete:r,handleBulkDelete:n,searchTerm:i,setSearchTerm:a,selectedIds:o,setSelectedIds:u,handleImportCSV:d,handleExportCSV:f})=>{const p=[{key:"name",header:"Item Name",render:x=>c.jsx("span",{className:"font-medium",children:x.name})},{key:"quantity",header:"Quantity on Hand",className:"text-center",render:x=>c.jsx("span",{children:x.quantity})},{key:"cost",header:"Cost per Item",className:"text-right",render:x=>c.jsxs("span",{className:"font-mono",children:["$",(x.cost||0).toFixed(2)]})}],g=z.useMemo(()=>t.filter(x=>(x.name||"").toLowerCase().includes(i.toLowerCase())),[t,i]),y=x=>{x.target.checked?u(g.map(S=>S.id)):u([])};return c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Inventory Management"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"text",placeholder:"Search Inventory...",value:i,onChange:x=>a(x.target.value),className:"w-full md:w-auto bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white"}),o.length>0&&c.jsxs("button",{onClick:()=>n("inventory",o),className:"flex items-center gap-2 text-sm bg-red-600 hover:bg-red-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(ar,{size:16})," Delete (",o.length,")"]}),c.jsx("input",{type:"file",id:"csv-importer-inventory",className:"hidden",accept:".csv",onChange:x=>d(x.target.files[0],"inventory")}),c.jsxs("label",{htmlFor:"csv-importer-inventory",className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[c.jsx(Os,{size:16})," Import CSV"]}),c.jsxs("button",{onClick:()=>f(t,"inventory"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(kn,{size:16})," Export to CSV"]}),c.jsxs("button",{onClick:()=>e("inventory"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(xi,{size:16})," Add New"]})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-3",children:c.jsx("input",{type:"checkbox",onChange:y})}),p.map(x=>c.jsx("th",{className:`p-3 ${x.className||""}`,children:x.header},x.key)),c.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),c.jsx("tbody",{className:"text-sm",children:g.map(x=>c.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 text-slate-700 dark:text-slate-200",children:[c.jsx("td",{className:"p-3",children:c.jsx("input",{type:"checkbox",checked:o.includes(x.id),onChange:()=>{u(S=>S.includes(x.id)?S.filter(_=>_!==x.id):[...S,x.id])}})}),p.map(S=>c.jsx("td",{className:`p-3 ${S.className||""}`,children:S.render(x)},S.key)),c.jsxs("td",{className:"p-3 text-center",children:[c.jsx("button",{onClick:()=>e("inventory",x),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:c.jsx(cn,{size:16})}),c.jsx("button",{onClick:()=>r("inventory",x.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:c.jsx(ar,{size:16})})]})]},x.id))})]})})]})},$ie=({clients:t,jobs:e,bills:r,inventory:n})=>{const i=z.useMemo(()=>t.map(u=>{const d=e.filter(g=>g.clientId===u.id),f=d.reduce((g,y)=>g+(y.revenue||0),0),p=d.reduce((g,y)=>g+(y.materialCost||0)+(y.laborCost||0),0);return{name:u.name,netProfit:f-p}}).sort((u,d)=>d.netProfit-u.netProfit),[t,e]),a=z.useMemo(()=>{const u={},d=new Date;return d.setMonth(d.getMonth()-12),e.forEach(f=>{if(f.date&&new Date(f.date)>d){const p=new Date(f.date).toISOString().slice(0,7);u[p]||(u[p]={revenue:0,expenses:0}),u[p].revenue+=f.revenue||0}}),r.forEach(f=>{const p=f.createdAt?.toDate?f.createdAt.toDate():new Date;if(p>d){const g=p.toISOString().slice(0,7);u[g]||(u[g]={revenue:0,expenses:0}),u[g].expenses+=f.amount||0}}),Object.keys(u).map(f=>({month:f,Revenue:u[f].revenue,Expenses:u[f].expenses})).sort((f,p)=>f.month.localeCompare(p.month))},[e,r]),o=z.useMemo(()=>n.map(u=>({name:u.name,totalValue:(u.quantity||0)*(u.cost||0)})).sort((u,d)=>d.totalValue-u.totalValue),[n]);return c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Revenue vs. Expenses Trend (Last 12 Months)"}),c.jsx(yS,{width:"100%",height:300,children:c.jsxs(w3,{data:a,children:[c.jsx(rk,{strokeDasharray:"3 3"}),c.jsx(cf,{dataKey:"month",stroke:"#64748b"}),c.jsx(df,{stroke:"#64748b",tickFormatter:u=>`$${u/1e3}k`}),c.jsx(qn,{contentStyle:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0"},formatter:u=>`$${u.toLocaleString()}`}),c.jsx(ws,{}),c.jsx(Wi,{dataKey:"Revenue",fill:"#22c55e"}),c.jsx(Wi,{dataKey:"Expenses",fill:"#ef4444"})]})})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Client Profitability"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-3",children:"Client"}),c.jsx("th",{className:"p-3 text-right",children:"Net Profit"})]})}),c.jsx("tbody",{children:i.map(u=>c.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50",children:[c.jsx("td",{className:"p-3 font-medium",children:u.name}),c.jsxs("td",{className:`p-3 text-right font-mono ${u.netProfit>=0?"text-green-600 dark:text-green-400":"text-red-500"}`,children:["$",u.netProfit.toFixed(2)]})]},u.name))})]})})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Inventory Value"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-3",children:"Item"}),c.jsx("th",{className:"p-3 text-center",children:"Quantity"}),c.jsx("th",{className:"p-3 text-right",children:"Total Value"})]})}),c.jsx("tbody",{children:o.map(u=>c.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50",children:[c.jsx("td",{className:"p-3 font-medium",children:u.name}),c.jsx("td",{className:"p-3 text-center",children:n.find(d=>d.name===u.name)?.quantity}),c.jsxs("td",{className:"p-3 text-right font-mono",children:["$",u.totalValue.toFixed(2)]})]},u.name))})]})})]})]})},Fie=({bills:t,paidStatus:e,onClose:r})=>{const n=z.useMemo(()=>{const i=new Date,a=new Date;return a.setDate(i.getDate()+3),t.filter(o=>{if(e[o.id])return!1;const u=new Date(i.getFullYear(),i.getMonth(),o.dueDay);return u>=i&&u<=a})},[t,e]);return n.length===0?null:c.jsxs("div",{className:"bg-yellow-100 dark:bg-yellow-900/50 border border-yellow-400 dark:border-yellow-700 text-yellow-800 dark:text-yellow-200 px-4 py-3 rounded-lg relative mb-6",role:"alert",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx($_,{size:20,className:"mr-3"}),c.jsxs("div",{children:[c.jsx("strong",{className:"font-bold",children:"Upcoming Bills!"}),c.jsx("ul",{className:"list-disc list-inside mt-1",children:n.map(i=>c.jsxs("li",{children:[i.name," is due on day ",i.dueDay,"."]},i.id))})]})]}),c.jsx("button",{onClick:r,className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:c.jsx(Ou,{size:18})})]})},Vie=({data:t,onSliceClick:e})=>{const[r,n]=z.useState(0),i=z.useCallback((o,u)=>{n(u)},[n]),a=o=>{const{cx:u,cy:d,innerRadius:f,outerRadius:p,startAngle:g,endAngle:y,fill:x,payload:S}=o;return c.jsxs("g",{className:"cursor-pointer",onClick:()=>e(S.name),children:[c.jsx("text",{x:u,y:d,dy:8,textAnchor:"middle",fill:x,className:"font-bold text-lg",children:S.name}),c.jsx(zS,{cx:u,cy:d,innerRadius:f,outerRadius:p,startAngle:g,endAngle:y,fill:x})]})};return c.jsx(yS,{width:"100%",height:300,children:c.jsxs(Iie,{children:[c.jsx(qn,{contentStyle:{backgroundColor:"#334155",border:"1px solid #475569",borderRadius:"0.5rem"},labelStyle:{color:"#cbd5e1"},itemStyle:{color:"#f1f5f9"},formatter:o=>`$${o.toFixed(2)}`}),c.jsx(Ca,{activeIndex:r,activeShape:a,data:t,cx:"50%",cy:"50%",innerRadius:70,outerRadius:90,fill:"#8884d8",dataKey:"value",onMouseEnter:i,onClick:o=>e(o.name),children:t.map((o,u)=>c.jsx(Km,{fill:o.color},`cell-${u}`))})]})})},Uie=({invoices:t=[],bills:e=[],weeklyCosts:r=[],currentBankBalance:n=0,setCurrentBankBalance:i})=>{const a=x=>{if(x==null||x==="")return 0;const S=typeof x=="string"?parseFloat(x.replace(/[^0-9.-]/g,"")):Number(x);return isNaN(S)?0:S},o=t.filter(x=>x.status==="Unpaid"),u=o.reduce((x,S)=>x+a(S.grandTotal),0),d=e.reduce((x,S)=>x+a(S.amount),0),f=r.reduce((x,S)=>x+a(S.amount),0)*4.33,p=d+f,g=a(n)+u-p,y=()=>{const x=prompt("Enter current bank balance:",n);if(x!==null&&!isNaN(x)&&x.trim()!==""){const S=parseFloat(x);S>=0?i(S):alert("Please enter a positive number for the balance.")}};return c.jsx("div",{className:"space-y-6",children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-6",children:"Cash Flow Forecast"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[c.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400 font-medium",children:"Current Balance"}),c.jsxs("p",{className:"text-2xl font-bold text-blue-700 dark:text-blue-300",children:["$",a(n).toLocaleString()]})]}),c.jsx(un,{className:"text-blue-600 dark:text-blue-400",size:24})]}),c.jsx("button",{onClick:y,className:"mt-2 text-xs text-blue-600 dark:text-blue-400 hover:underline cursor-pointer",children:"Update Balance"}),c.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Click to update your current bank balance"})]}),c.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:"Pending Revenue"}),c.jsxs("p",{className:"text-2xl font-bold text-green-700 dark:text-green-300",children:["$",u.toLocaleString()]})]}),c.jsx(Ea,{className:"text-green-600 dark:text-green-400",size:24})]}),c.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:[o.length," unpaid invoices"]})]}),c.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-lg",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 font-medium",children:"Monthly Expenses"}),c.jsxs("p",{className:"text-2xl font-bold text-red-700 dark:text-red-300",children:["$",p.toLocaleString()]})]}),c.jsx(nD,{className:"text-red-600 dark:text-red-400",size:24})]}),c.jsx("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:"Bills + Weekly costs"})]}),c.jsxs("div",{className:`${g>=0?"bg-green-50 dark:bg-green-900/20":"bg-red-50 dark:bg-red-900/20"} p-4 rounded-lg`,children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:`text-sm font-medium ${g>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:"Projected Balance"}),c.jsxs("p",{className:`text-2xl font-bold ${g>=0?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:["$",g.toLocaleString()]})]}),g>=0?c.jsx(Ea,{className:"text-green-600 dark:text-green-400",size:24}):c.jsx(ru,{className:"text-red-600 dark:text-red-400",size:24})]}),c.jsx("p",{className:`text-xs mt-1 ${g>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:"After collections & expenses"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:"Pending Collections"}),c.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:o.length>0?o.map((x,S)=>c.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 dark:bg-slate-700 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-slate-800 dark:text-white",children:x.billTo||x.customer||"Unknown Client"}),c.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Due: ",x.dueDate||"No date"]})]}),c.jsxs("p",{className:"font-bold text-green-600 dark:text-green-400",children:["$",a(x.grandTotal).toLocaleString()]})]},S)):c.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-center py-4",children:"No pending invoices"})})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:"Monthly Obligations"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 dark:bg-slate-700 rounded-lg",children:[c.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Monthly Bills"}),c.jsxs("span",{className:"font-bold text-red-600 dark:text-red-400",children:["$",d.toLocaleString()]})]}),c.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 dark:bg-slate-700 rounded-lg",children:[c.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Weekly Costs (Monthly)"}),c.jsxs("span",{className:"font-bold text-red-600 dark:text-red-400",children:["$",f.toLocaleString()]})]}),c.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-100 dark:bg-slate-600 rounded-lg border-t-2 border-slate-300 dark:border-slate-500",children:[c.jsx("span",{className:"font-semibold text-slate-800 dark:text-white",children:"Total Expenses"}),c.jsxs("span",{className:"font-bold text-red-700 dark:text-red-300 text-lg",children:["$",p.toLocaleString()]})]})]})]})]}),g<0&&c.jsxs("div",{className:"mt-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ru,{className:"text-red-600 dark:text-red-400",size:20}),c.jsx("h4",{className:"font-semibold text-red-800 dark:text-red-200",children:"Cash Flow Alert"})]}),c.jsx("p",{className:"text-red-700 dark:text-red-300 mt-2",children:"Your projected balance is negative. Consider following up on pending invoices or reducing expenses."})]}),a(n)===0&&c.jsxs("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(un,{className:"text-blue-600 dark:text-blue-400",size:20}),c.jsx("h4",{className:"font-semibold text-blue-800 dark:text-blue-200",children:"Update Your Balance"})]}),c.jsx("p",{className:"text-blue-700 dark:text-blue-300 mt-2",children:'Click "Update Balance" above to enter your current bank balance for accurate cash flow forecasting.'})]})]})})},Bie=({title:t,data:e,columns:r,type:n,searchTerm:i,setSearchTerm:a,handleImportCSV:o,handleExportCSV:u,openModal:d,handleDelete:f,debtPayoffStrategies:p})=>c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-4 gap-4",children:[c.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:t}),c.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[c.jsx("input",{type:"text",placeholder:"Search...",value:i,onChange:g=>a(g.target.value),className:"w-full md:w-auto bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white"}),(n==="client"||n==="job"||n==="inventory"||n==="invoice")&&c.jsxs(c.Fragment,{children:[c.jsx("input",{type:"file",id:`csv-importer-${n}`,className:"hidden",accept:".csv",onChange:g=>o(g.target.files[0],n)}),c.jsxs("label",{htmlFor:`csv-importer-${n}`,className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[c.jsx(Os,{size:16})," Import CSV"]})]}),c.jsxs("button",{onClick:()=>u(e,n),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(kn,{size:16})," Export to CSV"]}),c.jsxs("button",{onClick:()=>d(n),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(xi,{size:16})," Add New"]})]})]}),n==="debt"&&p&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6 bg-slate-100 dark:bg-slate-800/50 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-lg text-cyan-600 dark:text-cyan-400 mb-2",children:"Avalanche Method"}),c.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mb-3",children:"Pay off debts with the highest interest rate first to save the most money over time."}),c.jsx("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:p.avalanche.map(g=>c.jsxs("li",{children:[g.name," ",c.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:["(",g.interestRate,"%)"]})]},g.id))})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-lg text-green-600 dark:text-green-400 mb-2",children:"Snowball Method"}),c.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mb-3",children:"Pay off debts with the smallest balance first for quick wins and motivation."}),c.jsx("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:p.snowball.map(g=>c.jsxs("li",{children:[g.name," ",c.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:["($",(g.totalAmount-g.paidAmount).toFixed(2),")"]})]},g.id))})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:c.jsxs("tr",{children:[r.map(g=>c.jsx("th",{className:`p-3 ${g.className||""}`,children:g.header},g.key)),c.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),c.jsx("tbody",{className:"text-sm",children:e.map(g=>c.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 text-slate-700 dark:text-slate-200",children:[r.map(y=>c.jsx("td",{className:`p-3 ${y.className||""}`,children:y.render(g)},y.key)),c.jsxs("td",{className:"p-3 text-center",children:[c.jsx("button",{onClick:()=>d(n,g),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:c.jsx(cn,{size:16})}),c.jsx("button",{onClick:()=>f(n,g.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:c.jsx(ar,{size:16})})]})]},g.id))})]})})]}),qie=({jobs:t,clients:e,openModal:r,handleDelete:n,searchTerm:i,setSearchTerm:a,handleImportCSV:o,handleExportCSV:u})=>{const d=[{key:"name",header:"Job/Client",render:f=>c.jsx("span",{className:"font-medium",children:f.name})},{key:"client",header:"Client",render:f=>c.jsx("span",{children:e.find(p=>p.id===f.clientId)?.name||"N/A"})},{key:"revenue",header:"Revenue",className:"text-right",render:f=>c.jsxs("span",{className:"font-mono text-green-600 dark:text-green-400",children:["$",(f.revenue||0).toFixed(2)]})},{key:"materialCost",header:"Material Cost",className:"text-right",render:f=>c.jsxs("span",{className:"font-mono text-orange-600 dark:text-orange-400",children:["$",(f.materialCost||0).toFixed(2)]})},{key:"laborCost",header:"Labor Cost",className:"text-right",render:f=>c.jsxs("span",{className:"font-mono text-orange-600 dark:text-orange-400",children:["$",(f.laborCost||0).toFixed(2)]})},{key:"netProfit",header:"Net Profit",className:"text-right font-bold",render:f=>c.jsxs("span",{className:"font-mono text-cyan-600 dark:text-cyan-400",children:["$",((f.revenue||0)-(f.materialCost||0)-(f.laborCost||0)).toFixed(2)]})}];return c.jsx(Bie,{title:"Job Profitability",data:t,columns:d,type:"job",searchTerm:i,setSearchTerm:a,handleImportCSV:o,handleExportCSV:u,openModal:r,handleDelete:n})},zie=({jobs:t,bills:e,weeklyCosts:r,reportingPeriod:n,dateRange:i})=>{const a=z.useMemo(()=>{const u=t.filter(N=>{if(!N.date)return!1;const O=new Date(N.date);return O>=i.start&&O<=i.end}),d=u.reduce((N,O)=>N+(O.revenue||0),0),f=u.reduce((N,O)=>N+(O.materialCost||0)+(O.laborCost||0),0),p=d-f,g=(i.end-i.start)/(1e3*60*60*24*30.44),y=e.reduce((N,O)=>{const M=O.category||"Uncategorized";return N[M]=(N[M]||0)+O.amount,N},{}),x=r.reduce((N,O)=>N+O.amount,0)*g;x>0&&(y["Weekly & Misc"]=(y["Weekly & Misc"]||0)+x);const S=Object.values(y).reduce((N,O)=>N+O,0),_=p-S,w=d>0?p/d*100:0,R=d>0?_/d*100:0;return{revenue:d,cogs:f,grossProfit:p,operatingExpenses:S,expensesByCategory:y,netProfit:_,grossProfitMargin:w,netProfitMargin:R}},[t,e,r,i]),o=()=>{const u={month:"long",year:"numeric"};if(n==="monthly")return`For the Month of ${i.start.toLocaleString("default",u)}`;if(n==="quarterly"){const d={month:"long",day:"numeric",year:"numeric"};return`For the Quarter Ending ${i.end.toLocaleDateString("default",d)}`}return n==="yearly"?`For the Year ${i.start.getFullYear()}`:""};return c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-2",children:"Profit & Loss Statement"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:o()}),c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("div",{className:"flex justify-between items-center p-3 font-semibold",children:[c.jsx("span",{children:"Total Revenue"}),c.jsxs("span",{className:"font-mono",children:["$",a.revenue.toFixed(2)]})]}),c.jsxs("div",{className:"flex justify-between items-center p-3 pl-8",children:[c.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Cost of Goods Sold (COGS)"}),c.jsxs("span",{className:"font-mono",children:["($",a.cogs.toFixed(2),")"]})]}),c.jsx("hr",{className:"border-slate-200 dark:border-slate-700 my-2"}),c.jsxs("div",{className:"flex justify-between items-center p-3 font-bold text-lg",children:[c.jsx("span",{children:"Gross Profit"}),c.jsxs("span",{className:"font-mono",children:["$",a.grossProfit.toFixed(2)]})]}),c.jsxs("div",{className:"flex justify-between items-center p-1 pl-8 text-xs text-slate-500",children:[c.jsx("span",{children:"Gross Profit Margin"}),c.jsxs("span",{className:"font-mono",children:[a.grossProfitMargin.toFixed(1),"%"]})]}),c.jsx("hr",{className:"border-slate-200 dark:border-slate-700 my-2"}),c.jsx("div",{className:"p-3 font-semibold",children:c.jsx("span",{children:"Operating Expenses"})}),Object.entries(a.expensesByCategory).map(([u,d])=>c.jsxs("div",{className:"flex justify-between items-center p-1 pl-8",children:[c.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:u}),c.jsxs("span",{className:"font-mono",children:["($",d.toFixed(2),")"]})]},u)),c.jsxs("div",{className:"flex justify-between items-center p-3 pl-8 font-semibold",children:[c.jsx("span",{children:"Total Operating Expenses"}),c.jsxs("span",{className:"font-mono",children:["($",a.operatingExpenses.toFixed(2),")"]})]}),c.jsx("hr",{className:"border-slate-300 dark:border-slate-600 my-2 border-2"}),c.jsxs("div",{className:"flex justify-between items-center p-3 font-bold text-xl",style:{color:a.netProfit>=0?"#22c55e":"#ef4444"},children:[c.jsx("span",{children:"Net Profit"}),c.jsx("span",{className:"font-mono",children:a.netProfit<0?`-$${Math.abs(a.netProfit).toFixed(2)}`:`$${a.netProfit.toFixed(2)}`})]}),c.jsxs("div",{className:"flex justify-between items-center p-1 pl-8 text-xs text-slate-500",children:[c.jsx("span",{children:"Net Profit Margin"}),c.jsxs("span",{className:"font-mono",children:[a.netProfitMargin.toFixed(1),"%"]})]})]})]})},Wie=({debts:t=[],openModal:e,handleDelete:r,searchTerm:n,setSearchTerm:i,handleImportCSV:a,handleExportCSV:o,debtPayoffStrategies:u={avalanche:[],snowball:[]}})=>{const[d,f]=z.useState("overview"),[p,g]=z.useState("avalanche"),[y,x]=z.useState(500),S=z.useMemo(()=>{const A=t.reduce((D,V)=>D+(V.totalAmount||0),0),j=t.reduce((D,V)=>D+(V.paidAmount||0),0),T=A-j,P=t.length>0?t.reduce((D,V)=>D+(V.interestRate||0),0)/t.length:0,L=Math.max(...t.map(D=>D.interestRate||0)),I=Math.min(...t.map(D=>(D.totalAmount||0)-(D.paidAmount||0)));return{totalDebt:A,totalPaid:j,totalRemaining:T,avgInterestRate:P,highestInterest:L,lowestBalance:I===1/0?0:I,payoffProgress:A>0?j/A*100:0}},[t]),_=A=>{const j=u[A]||[];let T=[],P=0,L=y;return j.forEach((I,D)=>{const V=(I.totalAmount||0)-(I.paidAmount||0),$=(I.interestRate||0)/100/12;if(V>0&&L>0){const ee=Math.ceil(Math.log(1+V*$/L)/Math.log(1+$));T.push({...I,monthsToPayoff:isFinite(ee)?ee:0,order:D+1,remaining:V}),P=Math.max(P,ee)}}),{timeline:T,totalMonthsToPayoff:P}},w=_("avalanche"),R=_("snowball"),N=z.useMemo(()=>n?t.filter(A=>A.name?.toLowerCase().includes(n.toLowerCase())||A.creditor?.toLowerCase().includes(n.toLowerCase())):t,[t,n]),O=A=>(A.totalAmount||0)-(A.paidAmount||0)<=0?"text-green-600 dark:text-green-400":A.interestRate>20?"text-red-600 dark:text-red-400":A.interestRate>10?"text-yellow-600 dark:text-yellow-400":"text-blue-600 dark:text-blue-400",M=A=>A.interestRate>20?c.jsx(ru,{className:"text-red-500",size:16}):A.interestRate>10?c.jsx(Ea,{className:"text-yellow-500",size:16}):c.jsx(mi,{className:"text-green-500",size:16});return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Debt Management"}),c.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Track debts, plan payoffs, and achieve financial freedom"})]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsxs("button",{onClick:()=>a&&a(),className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(Os,{size:16}),"Import"]}),c.jsxs("button",{onClick:()=>o&&o(t,"debts"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(eD,{size:16}),"Export"]}),c.jsxs("button",{onClick:()=>e("debt"),className:"flex items-center gap-2 bg-purple-600 hover:bg-purple-500 text-white px-4 py-2 rounded-lg transition-colors",children:[c.jsx(xi,{size:18}),"Add Debt"]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Total Debt"}),c.jsxs("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:["$",S.totalDebt.toLocaleString()]})]}),c.jsx(u0,{className:"text-red-600 dark:text-red-400",size:24})]}),c.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["Remaining: $",S.totalRemaining.toLocaleString()]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Paid Off"}),c.jsxs("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:["$",S.totalPaid.toLocaleString()]})]}),c.jsx(mi,{className:"text-green-600 dark:text-green-400",size:24})]}),c.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:[S.payoffProgress.toFixed(1),"% complete"]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Avg Interest"}),c.jsxs("p",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:[S.avgInterestRate.toFixed(1),"%"]})]}),c.jsx(rD,{className:"text-orange-600 dark:text-orange-400",size:24})]}),c.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["Highest: ",S.highestInterest,"%"]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Active Debts"}),c.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:t.filter(A=>A.totalAmount-A.paidAmount>0).length})]}),c.jsx(Cm,{className:"text-blue-600 dark:text-blue-400",size:24})]}),c.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["of ",t.length," total"]})]})]}),c.jsx("div",{className:"bg-white dark:bg-slate-800 p-1 rounded-lg border border-slate-200 dark:border-slate-700",children:c.jsxs("div",{className:"flex space-x-1",children:[c.jsxs("button",{onClick:()=>f("overview"),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${d==="overview"?"bg-purple-600 text-white shadow":"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white"}`,children:[c.jsx(u0,{size:16}),"Overview"]}),c.jsxs("button",{onClick:()=>f("strategies"),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${d==="strategies"?"bg-purple-600 text-white shadow":"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white"}`,children:[c.jsx(ad,{size:16}),"Payoff Strategies"]}),c.jsxs("button",{onClick:()=>f("calculator"),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${d==="calculator"?"bg-purple-600 text-white shadow":"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white"}`,children:[c.jsx(zT,{size:16}),"Calculator"]})]})}),d==="overview"&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"relative",children:[c.jsx(Ns,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),c.jsx("input",{type:"text",placeholder:"Search debts...",value:n,onChange:A=>i(A.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),c.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 overflow-hidden",children:N.length===0?c.jsxs("div",{className:"text-center py-12 text-slate-500 dark:text-slate-400",children:[c.jsx(u0,{size:48,className:"mx-auto mb-4 opacity-50"}),c.jsx("h4",{className:"text-lg font-semibold mb-2",children:"No debts found"}),c.jsx("p",{className:"mb-4",children:"Add your debts to start tracking and planning payoffs."}),c.jsx("button",{onClick:()=>e("debt"),className:"bg-purple-600 hover:bg-purple-500 text-white px-6 py-2 rounded-lg transition-colors",children:"Add First Debt"})]}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Debt Details"}),c.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Interest Rate"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Total Amount"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Paid"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Remaining"}),c.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Progress"}),c.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:N.map(A=>{const j=(A.totalAmount||0)-(A.paidAmount||0),T=A.totalAmount>0?(A.paidAmount||0)/A.totalAmount*100:0;return c.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[M(A),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-slate-900 dark:text-white",children:A.name}),A.creditor&&c.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:A.creditor})]})]})}),c.jsx("td",{className:"px-6 py-4 text-center",children:c.jsxs("span",{className:`font-mono font-semibold ${O(A)}`,children:[(A.interestRate||0).toFixed(1),"%"]})}),c.jsx("td",{className:"px-6 py-4 text-right",children:c.jsxs("span",{className:"font-mono text-slate-900 dark:text-white",children:["$",(A.totalAmount||0).toLocaleString()]})}),c.jsx("td",{className:"px-6 py-4 text-right",children:c.jsxs("span",{className:"font-mono text-green-600 dark:text-green-400",children:["$",(A.paidAmount||0).toLocaleString()]})}),c.jsx("td",{className:"px-6 py-4 text-right",children:c.jsxs("span",{className:"font-mono font-semibold text-orange-600 dark:text-orange-400",children:["$",j.toLocaleString()]})}),c.jsxs("td",{className:"px-6 py-4",children:[c.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-3",children:c.jsx("div",{className:"bg-gradient-to-r from-green-400 to-green-600 h-3 rounded-full transition-all duration-300",style:{width:`${Math.min(T,100)}%`}})}),c.jsxs("div",{className:"text-xs text-center mt-1 text-slate-500 dark:text-slate-400",children:[T.toFixed(1),"%"]})]}),c.jsx("td",{className:"px-6 py-4 text-center",children:c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c.jsx("button",{onClick:()=>e("debt",A),className:"text-slate-400 hover:text-blue-500 transition-colors",title:"Edit debt",children:c.jsx(cn,{size:16})}),c.jsx("button",{onClick:()=>r("debt",A.id),className:"text-slate-400 hover:text-red-500 transition-colors",title:"Delete debt",children:c.jsx(ar,{size:16})})]})})]},A.id)})})]})})})]}),d==="strategies"&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:"Debt Payoff Strategies"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:`p-4 rounded-lg border-2 cursor-pointer transition-colors ${p==="avalanche"?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-slate-200 dark:border-slate-700 hover:border-purple-300"}`,onClick:()=>g("avalanche"),children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx(nD,{className:"text-purple-600",size:20}),c.jsx("h4",{className:"font-semibold text-slate-800 dark:text-white",children:"Debt Avalanche"})]}),c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-3",children:"Pay off debts with highest interest rates first. Saves more money on interest."}),c.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-500",children:["Estimated timeline: ",w.totalMonthsToPayoff," months"]})]}),c.jsxs("div",{className:`p-4 rounded-lg border-2 cursor-pointer transition-colors ${p==="snowball"?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-slate-200 dark:border-slate-700 hover:border-purple-300"}`,onClick:()=>g("snowball"),children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx(f9,{className:"text-purple-600",size:20}),c.jsx("h4",{className:"font-semibold text-slate-800 dark:text-white",children:"Debt Snowball"})]}),c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-3",children:"Pay off smallest balances first. Builds momentum and motivation."}),c.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-500",children:["Estimated timeline: ",R.totalMonthsToPayoff," months"]})]})]}),c.jsxs("div",{className:"mt-6",children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Monthly Debt Payment Budget"}),c.jsxs("div",{className:"relative",children:[c.jsx(un,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),c.jsx("input",{type:"number",value:y,onChange:A=>x(parseFloat(A.target.value)||0),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"500"})]})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:[p==="avalanche"?"Avalanche":"Snowball"," Payoff Plan"]}),c.jsx("div",{className:"space-y-4",children:(p==="avalanche"?w.timeline:R.timeline).map((A,j)=>c.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[c.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-purple-600 text-white rounded-full flex items-center justify-center text-sm font-semibold",children:A.order}),c.jsxs("div",{className:"flex-grow",children:[c.jsx("div",{className:"font-medium text-slate-900 dark:text-white",children:A.name}),c.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:["$",A.remaining.toLocaleString()," remaining at ",A.interestRate,"%"]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"text-sm font-medium text-slate-900 dark:text-white",children:[A.monthsToPayoff," months"]}),c.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"to pay off"})]})]},A.id))})]})]}),d==="calculator"&&c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:"Debt Payoff Calculator"}),c.jsxs("div",{className:"text-center text-slate-500 dark:text-slate-400 py-12",children:[c.jsx(zT,{size:48,className:"mx-auto mb-4 opacity-50"}),c.jsx("p",{children:"Advanced debt calculator coming soon!"}),c.jsx("p",{className:"text-sm mt-2",children:"Calculate exact payoff dates, interest savings, and payment schedules."})]})]})]})},Hie=({incomes:t,openModal:e,handleDelete:r})=>{const[n,i]=z.useState(""),[a,o]=z.useState("all"),[u,d]=z.useState("all"),[f,p]=z.useState({key:"amount",direction:"desc"}),g=["all","monthly","weekly","quarterly","annually","one-time","project-based"],y=["all","active","pending","completed","paused"],x=z.useMemo(()=>t.filter(A=>{const j=A.name.toLowerCase().includes(n.toLowerCase())||A.notes&&A.notes.toLowerCase().includes(n.toLowerCase()),T=a==="all"||A.type===a,P=u==="all"||A.status===u;return j&&T&&P}).sort((A,j)=>{if(f.key==="amount"){const T=parseFloat(A.amount)||0,P=parseFloat(j.amount)||0;return f.direction==="asc"?T-P:P-T}return f.key==="name"?f.direction==="asc"?A.name.localeCompare(j.name):j.name.localeCompare(A.name):0}),[t,n,a,u,f]),S=z.useMemo(()=>{const M=t.filter(D=>D.status!=="completed"&&D.status!=="paused"),j=M.map(D=>{const V=parseFloat(D.amount)||0;switch(D.type){case"weekly":return V*4.33;case"quarterly":return V/3;case"annually":return V/12;case"monthly":default:return V}}).reduce((D,V)=>D+V,0),T=j*12,P=t.reduce((D,V)=>{const $=V.type||"monthly",ee=parseFloat(V.amount)||0;return D[$]=(D[$]||0)+ee,D},{}),L=t.reduce((D,V)=>{const $=V.status||"active";return D[$]=(D[$]||0)+1,D},{}),I=t.reduce((D,V)=>{const $=parseFloat(V.amount)||0;return $>D.amount?{name:V.name,amount:$}:D},{name:"None",amount:0});return{totalMonthlyIncome:j,totalAnnualIncome:T,typeBreakdown:P,statusBreakdown:L,highestIncome:I,activeCount:M.length,totalCount:t.length,averageIncome:M.length>0?j/M.length:0}},[t]),_=M=>{p(A=>({key:M,direction:A.key===M&&A.direction==="desc"?"asc":"desc"}))},w=M=>{switch(M){case"active":return c.jsx(mi,{size:14,className:"text-green-500"});case"pending":return c.jsx(Rm,{size:14,className:"text-yellow-500"});case"completed":return c.jsx(mi,{size:14,className:"text-blue-500"});case"paused":return c.jsx(ru,{size:14,className:"text-red-500"});default:return c.jsx(mi,{size:14,className:"text-green-500"})}},R=M=>{const A={monthly:"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200",weekly:"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200",quarterly:"bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-200",annually:"bg-orange-100 dark:bg-orange-900/30 text-orange-800 dark:text-orange-200","one-time":"bg-gray-100 dark:bg-gray-900/30 text-gray-800 dark:text-gray-200","project-based":"bg-cyan-100 dark:bg-cyan-900/30 text-cyan-800 dark:text-cyan-200"};return A[M]||A.monthly},N=(M,A)=>{const j=parseFloat(M)||0;switch(A){case"weekly":return j*4.33;case"quarterly":return j/3;case"annually":return j/12;case"monthly":default:return j}},O=()=>{if(t.length===0){alert("No income sources to export.");return}try{const M=["Source Name","Amount","Type","Monthly Equivalent","Annual Equivalent","Status","Recurring","Notes"],A=t.map(I=>[I.name||"",(parseFloat(I.amount)||0).toFixed(2),I.type||"monthly",N(I.amount,I.type).toFixed(2),(N(I.amount,I.type)*12).toFixed(2),I.status||"active",I.isRecurring?"Yes":"No",I.notes||""]),j=[M.join(","),...A.map(I=>I.map(D=>typeof D=="string"&&D.includes(",")?`"${D}"`:D).join(","))].join(`
`),T=new Blob([j],{type:"text/csv;charset=utf-8;"}),P=document.createElement("a"),L=URL.createObjectURL(T);P.setAttribute("href",L),P.setAttribute("download",`income_sources_${new Date().toISOString().split("T")[0]}.csv`),P.style.visibility="hidden",document.body.appendChild(P),P.click(),document.body.removeChild(P),alert(`Successfully exported ${t.length} income sources!`)}catch(M){console.error("Error exporting CSV:",M),alert("Failed to export CSV: "+M.message)}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Monthly Income"}),c.jsxs("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:["$",S.totalMonthlyIncome.toLocaleString()]})]}),c.jsx(un,{className:"text-green-600 dark:text-green-400",size:24})]}),c.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:[S.activeCount," active sources"]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Annual Projection"}),c.jsxs("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:["$",S.totalAnnualIncome.toLocaleString()]})]}),c.jsx(Ea,{className:"text-blue-600 dark:text-blue-400",size:24})]}),c.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Based on current rates"})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Average Income"}),c.jsxs("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:["$",S.averageIncome.toLocaleString()]})]}),c.jsx(Cm,{className:"text-purple-600 dark:text-purple-400",size:24})]}),c.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Per active source/month"})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Top Source"}),c.jsx("p",{className:"text-lg font-bold text-orange-600 dark:text-orange-400 truncate",children:S.highestIncome.name})]}),c.jsx(ad,{className:"text-orange-600 dark:text-orange-400",size:24})]}),c.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["$",S.highestIncome.amount.toLocaleString()]})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Income Sources"}),c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:"Track and manage your revenue streams and income sources"})]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsxs("button",{onClick:O,className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(kn,{size:16}),"Export CSV"]}),c.jsxs("button",{onClick:()=>e("income"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(xi,{size:16}),"Add Income Source"]})]})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[c.jsx("div",{className:"flex-1",children:c.jsxs("div",{className:"relative",children:[c.jsx(Ns,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),c.jsx("input",{type:"text",placeholder:"Search income sources...",value:n,onChange:M=>i(M.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm"})]})}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Zd,{className:"text-slate-400",size:16}),c.jsx("select",{value:a,onChange:M=>o(M.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",children:g.map(M=>c.jsx("option",{value:M,children:M==="all"?"All Types":M.charAt(0).toUpperCase()+M.slice(1).replace("-"," ")},M))}),c.jsx("select",{value:u,onChange:M=>d(M.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",children:y.map(M=>c.jsx("option",{value:M,children:M==="all"?"All Status":M.charAt(0).toUpperCase()+M.slice(1)},M))})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-3 cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",onClick:()=>_("name"),children:c.jsxs("div",{className:"flex items-center gap-1",children:["Income Source",f.key==="name"&&c.jsx("span",{children:f.direction==="asc"?"":""})]})}),c.jsx("th",{className:"p-3 text-right cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",onClick:()=>_("amount"),children:c.jsxs("div",{className:"flex items-center justify-end gap-1",children:["Amount",f.key==="amount"&&c.jsx("span",{children:f.direction==="asc"?"":""})]})}),c.jsx("th",{className:"p-3",children:"Type"}),c.jsx("th",{className:"p-3 text-right",children:"Monthly Equiv."}),c.jsx("th",{className:"p-3 text-right",children:"Annual Equiv."}),c.jsx("th",{className:"p-3",children:"Status"}),c.jsx("th",{className:"p-3",children:"Recurring"}),c.jsx("th",{className:"p-3",children:"Notes"}),c.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),c.jsx("tbody",{className:"text-sm",children:x.length>0?x.map(M=>{const A=parseFloat(M.amount)||0,j=N(A,M.type),T=j*12;return c.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[c.jsx("td",{className:"p-3",children:c.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:M.name})}),c.jsx("td",{className:"p-3 text-right",children:c.jsxs("span",{className:"font-mono font-bold text-green-600 dark:text-green-400",children:["$",A.toFixed(2)]})}),c.jsx("td",{className:"p-3",children:c.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${R(M.type)}`,children:(M.type||"monthly").replace("-"," ")})}),c.jsx("td",{className:"p-3 text-right",children:c.jsxs("span",{className:"font-mono text-blue-600 dark:text-blue-400",children:["$",j.toFixed(2)]})}),c.jsx("td",{className:"p-3 text-right",children:c.jsxs("span",{className:"font-mono text-purple-600 dark:text-purple-400",children:["$",T.toLocaleString()]})}),c.jsx("td",{className:"p-3",children:c.jsxs("div",{className:"flex items-center gap-1",children:[w(M.status),c.jsx("span",{className:"text-xs capitalize",children:M.status||"active"})]})}),c.jsx("td",{className:"p-3",children:c.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${M.isRecurring?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200":"bg-gray-100 dark:bg-gray-900/30 text-gray-800 dark:text-gray-200"}`,children:M.isRecurring?"Yes":"No"})}),c.jsx("td",{className:"p-3 max-w-xs",children:c.jsx("span",{className:"text-slate-600 dark:text-slate-400 truncate",children:M.notes&&M.notes.length>30?`${M.notes.substring(0,30)}...`:M.notes||""})}),c.jsx("td",{className:"p-3 text-center",children:c.jsxs("div",{className:"flex items-center justify-center gap-1",children:[c.jsx("button",{onClick:()=>e("income",M),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 p-1 rounded transition-colors",title:"Edit income source",children:c.jsx(cn,{size:16})}),c.jsx("button",{onClick:()=>r("income",M.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500 p-1 rounded transition-colors",title:"Delete income source",children:c.jsx(ar,{size:16})})]})})]},M.id)}):c.jsx("tr",{children:c.jsx("td",{colSpan:"9",className:"p-8 text-center text-slate-500 dark:text-slate-400",children:n||a!=="all"||u!=="all"?c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(Ns,{size:24,className:"text-slate-400"}),c.jsx("span",{children:"No income sources match your search criteria"}),c.jsx("button",{onClick:()=>{i(""),o("all"),d("all")},className:"text-cyan-600 hover:text-cyan-500 text-sm font-medium",children:"Clear filters"})]}):c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(un,{size:24,className:"text-slate-400"}),c.jsx("span",{children:"No income sources added yet"}),c.jsx("button",{onClick:()=>e("income"),className:"text-cyan-600 hover:text-cyan-500 text-sm font-medium",children:"Add your first income source"})]})})})})]})}),x.length>0&&c.jsx("div",{className:"mt-4 p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg border",children:c.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 text-sm",children:[c.jsx("div",{className:"flex items-center gap-4",children:c.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:["Showing ",x.length," of ",t.length," income sources"]})}),c.jsxs("div",{className:"flex items-center gap-6 font-medium",children:[c.jsxs("span",{className:"text-green-600 dark:text-green-400",children:["Monthly: $",x.reduce((M,A)=>M+N(A.amount,A.type),0).toFixed(2)]}),c.jsxs("span",{className:"text-blue-600 dark:text-blue-400",children:["Annual: $",(x.reduce((M,A)=>M+N(A.amount,A.type),0)*12).toLocaleString()]})]})]})})]}),S.totalCount>=1&&S.highestIncome.amount>S.totalMonthlyIncome*.7&&c.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ru,{className:"text-amber-600 dark:text-amber-400",size:20}),c.jsx("h4",{className:"font-semibold text-amber-800 dark:text-amber-200",children:"Income Diversification Alert"})]}),c.jsxs("p",{className:"text-amber-700 dark:text-amber-300 text-sm mt-2",children:["Your top income source (",S.highestIncome.name,") represents over 70% of your total income. Consider diversifying your income streams to reduce financial risk."]})]})]})},Gie=({goalsWithProgress:t=[],openModal:e,onDeleteGoal:r,onEditGoal:n})=>{const[i,a]=z.useState(null),[o,u]=z.useState(!1),[d,f]=z.useState({name:"",description:"",target:"",current:0,deadline:"",type:"savings"}),p=N=>{a(N)},g=N=>{r(N),a(null)},y=()=>{a(null)},x=N=>N>=100?"from-green-500 to-emerald-500":N>=80?"from-green-500 to-green-600":N>=50?"from-yellow-500 to-orange-500":N>=25?"from-orange-500 to-red-500":"from-red-500 to-red-600",S=N=>{const O=new Date,A=new Date(N)-O,j=Math.ceil(A/(1e3*60*60*24));return j<0?{text:"Overdue",color:"text-red-500",bgColor:"bg-red-100 dark:bg-red-900/20"}:j===0?{text:"Due Today",color:"text-orange-500",bgColor:"bg-orange-100 dark:bg-orange-900/20"}:j===1?{text:"1 day left",color:"text-orange-500",bgColor:"bg-orange-100 dark:bg-orange-900/20"}:j<=7?{text:`${j} days left`,color:"text-yellow-600",bgColor:"bg-yellow-100 dark:bg-yellow-900/20"}:j<=30?{text:`${j} days left`,color:"text-blue-600",bgColor:"bg-blue-100 dark:bg-blue-900/20"}:{text:`${j} days left`,color:"text-slate-600",bgColor:"bg-slate-100 dark:bg-slate-700"}},_=N=>{const O=N.target-N.current,M=Math.ceil((new Date(N.deadline)-new Date)/(1e3*60*60*24));return M>0?Math.ceil(O/M):0},w=(N,O)=>{console.log("Update goal progress:",N,O)},R=N=>{N.preventDefault(),d.name&&d.target&&d.deadline&&(e("goal",{name:d.name,description:d.description,targetValue:Number(d.target),current:Number(d.current),deadline:d.deadline,type:d.type}),f({name:"",description:"",target:"",current:0,deadline:"",type:"savings"}),u(!1))};return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-gradient-to-br from-cyan-100 to-blue-100 dark:from-cyan-900/30 dark:to-blue-900/30 rounded-lg",children:c.jsx(ad,{className:"w-6 h-6 text-cyan-600 dark:text-cyan-400"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Financial Goals"}),c.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:[t.filter(N=>N.progress>=100).length," of ",t.length," completed"]})]})]}),c.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 text-white px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 shadow-lg hover:shadow-xl",children:[c.jsx(wp,{size:16}),"Add Goal"]})]}),t.length>0&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[c.jsx("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 p-4 rounded-lg border border-green-200 dark:border-green-800",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-800 rounded-lg",children:c.jsx(mi,{className:"text-green-600 dark:text-green-400",size:20})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:"Completed"}),c.jsx("p",{className:"text-xl font-bold text-green-800 dark:text-green-200",children:t.filter(N=>N.progress>=100).length})]})]})}),c.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-800 rounded-lg",children:c.jsx(Ea,{className:"text-blue-600 dark:text-blue-400",size:20})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"In Progress"}),c.jsx("p",{className:"text-xl font-bold text-blue-800 dark:text-blue-200",children:t.filter(N=>N.progress>0&&N.progress<100).length})]})]})}),c.jsx("div",{className:"bg-gradient-to-br from-orange-50 to-red-50 dark:from-orange-900/20 dark:to-red-900/20 p-4 rounded-lg border border-orange-200 dark:border-orange-800",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-800 rounded-lg",children:c.jsx(Rm,{className:"text-orange-600 dark:text-orange-400",size:20})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-orange-700 dark:text-orange-300",children:"Total Value"}),c.jsxs("p",{className:"text-xl font-bold text-orange-800 dark:text-orange-200",children:["$",t.reduce((N,O)=>N+(O.targetValue||0),0).toLocaleString()]})]})]})})]}),c.jsx("div",{className:"space-y-4",children:t.length===0?c.jsxs("div",{className:"text-center py-12 text-slate-500 dark:text-slate-400",children:[c.jsx("div",{className:"bg-slate-100 dark:bg-slate-700 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4",children:c.jsx(ad,{size:32,className:"opacity-50"})}),c.jsx("h4",{className:"font-semibold text-lg mb-2",children:"No financial goals yet"}),c.jsx("p",{className:"text-sm mb-4",children:"Set your first goal and start tracking your financial progress!"}),c.jsx("button",{onClick:()=>u(!0),className:"bg-cyan-600 hover:bg-cyan-500 text-white px-6 py-2 rounded-lg text-sm font-medium transition-colors",children:"Create Your First Goal"})]}):t.map(N=>{const O=N.progress||0,M=O>=100,A=(N.targetValue||0)-(N.current||0),j=S(N.deadline),T=x(O),P=j.text==="Overdue",L=_({target:N.targetValue||0,current:N.current||0,deadline:N.deadline});return c.jsx("div",{className:`relative border rounded-lg p-5 transition-all duration-200 hover:shadow-md ${M?"border-green-200 dark:border-green-800 bg-gradient-to-r from-green-50/50 to-emerald-50/50 dark:from-green-900/10 dark:to-emerald-900/10":P?"border-red-200 dark:border-red-800 bg-gradient-to-r from-red-50/50 to-pink-50/50 dark:from-red-900/10 dark:to-pink-900/10":"border-slate-200 dark:border-slate-600 hover:border-cyan-300 dark:hover:border-cyan-700"}`,children:i!==N.id?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("h4",{className:"font-semibold text-slate-800 dark:text-white",children:N.name}),M&&c.jsx("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-800 text-green-800 dark:text-green-200 text-xs font-medium rounded-full",children:" Completed"}),N.type&&c.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${N.type==="savings"?"bg-blue-100 dark:bg-blue-800 text-blue-800 dark:text-blue-200":N.type==="debt"?"bg-red-100 dark:bg-red-800 text-red-800 dark:text-red-200":N.type==="investment"?"bg-purple-100 dark:bg-purple-800 text-purple-800 dark:text-purple-200":N.type==="purchase"?"bg-orange-100 dark:bg-orange-800 text-orange-800 dark:text-orange-200":"bg-cyan-100 dark:bg-cyan-800 text-cyan-800 dark:text-cyan-200"}`,children:N.type||"savings"}),c.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${j.bgColor} ${j.color}`,children:j.text})]}),N.description&&c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-3",children:N.description}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Current"}),c.jsxs("p",{className:"font-semibold text-slate-800 dark:text-white",children:["$",(N.current||0).toLocaleString()]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Target"}),c.jsxs("p",{className:"font-semibold text-slate-800 dark:text-white",children:["$",(N.targetValue||0).toLocaleString()]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Remaining"}),c.jsxs("p",{className:"font-semibold text-slate-800 dark:text-white",children:["$",A>0?A.toLocaleString():"0"]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Daily Need"}),c.jsxs("p",{className:"font-semibold text-slate-800 dark:text-white",children:["$",L>0?L.toLocaleString():"0"]})]})]})]}),c.jsxs("div",{className:"flex gap-2 ml-4",children:[c.jsx("button",{onClick:()=>w(N.id,(N.current||0)+(N.targetValue||0)*.1),className:"text-green-600 hover:text-green-500 p-2 rounded-lg hover:bg-green-50 dark:hover:bg-green-900/20 transition-colors",title:"Add 10%",children:c.jsx(wp,{size:18})}),c.jsx("button",{onClick:()=>w(N.id,Math.max(0,(N.current||0)-(N.targetValue||0)*.1)),className:"text-orange-600 hover:text-orange-500 p-2 rounded-lg hover:bg-orange-50 dark:hover:bg-orange-900/20 transition-colors",title:"Subtract 10%",children:c.jsx(l9,{size:18})}),c.jsx("button",{onClick:()=>p(N.id),className:"text-red-600 hover:text-red-500 p-2 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",title:"Delete Goal",children:c.jsx(ar,{size:18})})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex justify-between items-center text-sm",children:[c.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Progress"}),c.jsxs("span",{className:`font-bold ${M?"text-green-600":"text-cyan-600"}`,children:[O.toFixed(1),"%"]})]}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-4",children:c.jsx("div",{className:`h-4 rounded-full transition-all duration-700 relative overflow-hidden bg-gradient-to-r ${T}`,style:{width:`${Math.min(O,100)}%`},children:c.jsx("div",{className:"absolute inset-0 bg-white/20 animate-pulse"})})}),O>15&&c.jsx("div",{className:"absolute inset-0 flex items-center px-2",children:c.jsxs("span",{className:"text-xs font-medium text-white drop-shadow",children:["$",(N.current||0).toLocaleString()]})})]}),c.jsxs("div",{className:"flex justify-between text-xs text-slate-500 dark:text-slate-400",children:[c.jsxs("span",{children:["Deadline: ",new Date(N.deadline).toLocaleDateString()]}),!M&&A>0&&L>0&&c.jsxs("span",{children:["Need $",L.toLocaleString(),"/day"]})]})]})]}):c.jsx("div",{className:"flex items-center justify-center py-8",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"bg-red-100 dark:bg-red-900/30 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:c.jsx(ar,{className:"text-red-600 dark:text-red-400",size:24})}),c.jsxs("p",{className:"text-slate-800 dark:text-white font-medium mb-4",children:['Delete "',N.name,'"?']}),c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-6",children:"This action cannot be undone."}),c.jsxs("div",{className:"flex gap-3 justify-center",children:[c.jsx("button",{onClick:()=>g(N.id),className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors font-medium",children:"Delete Goal"}),c.jsx("button",{onClick:y,className:"px-4 py-2 bg-slate-300 hover:bg-slate-400 dark:bg-slate-600 dark:hover:bg-slate-500 text-slate-800 dark:text-white rounded-lg transition-colors font-medium",children:"Cancel"})]})]})})},N.id)})})]}),o&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 w-full max-w-lg border border-slate-200 dark:border-slate-700 shadow-2xl",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Create Financial Goal"}),c.jsx("button",{onClick:()=>u(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:c.jsx(Ou,{size:20})})]}),c.jsxs("form",{onSubmit:R,className:"space-y-5",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Goal Type"}),c.jsxs("select",{value:d.type,onChange:N=>f({...d,type:N.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[c.jsx("option",{value:"savings",children:" Savings Goal"}),c.jsx("option",{value:"debt",children:" Debt Payoff"}),c.jsx("option",{value:"investment",children:" Investment Target"}),c.jsx("option",{value:"purchase",children:" Large Purchase"}),c.jsx("option",{value:"emergency",children:" Emergency Fund"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Goal Name"}),c.jsx("input",{type:"text",value:d.name,onChange:N=>f({...d,name:N.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Emergency Fund, New Car, Pay off Credit Card",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Description"}),c.jsx("textarea",{value:d.description,onChange:N=>f({...d,description:N.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Brief description of your goal and why it matters to you",rows:"3"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Current Amount"}),c.jsx("input",{type:"number",value:d.current,onChange:N=>f({...d,current:Number(N.target.value)}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0",min:"0"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Target Amount"}),c.jsx("input",{type:"number",value:d.target,onChange:N=>f({...d,target:Number(N.target.value)}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"10000",required:!0,min:"1"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Target Deadline"}),c.jsx("input",{type:"date",value:d.deadline,onChange:N=>f({...d,deadline:N.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,min:new Date().toISOString().split("T")[0]})]}),d.target>0&&d.deadline&&c.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:[c.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 font-medium mb-1",children:"Goal Calculation:"}),c.jsxs("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:["To reach $",d.target.toLocaleString()," by ",new Date(d.deadline).toLocaleDateString(),", you need to save $",Math.ceil((d.target-d.current)/Math.max(1,Math.ceil((new Date(d.deadline)-new Date)/(1e3*60*60*24)))).toLocaleString()," per day."]})]}),c.jsxs("div",{className:"flex gap-3 pt-2",children:[c.jsx("button",{type:"button",onClick:()=>u(!1),className:"flex-1 px-4 py-2 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors font-medium",children:"Cancel"}),c.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500 text-white rounded-lg transition-all duration-200 font-medium shadow-lg hover:shadow-xl",children:"Create Goal"})]})]})]})})]})},Kie=({weeklyCosts:t,openModal:e,handleDelete:r})=>{const[n,i]=z.useState(""),[a,o]=z.useState("all"),[u,d]=z.useState({key:"amount",direction:"desc"}),f=["all","Payroll","Fuel & Maintenance","Equipment Rental","Utilities","Insurance","Marketing","Office Expenses","Supplies","Contractors","Other"],p=z.useMemo(()=>t.filter(_=>{const w=_.name.toLowerCase().includes(n.toLowerCase())||_.notes&&_.notes.toLowerCase().includes(n.toLowerCase()),R=a==="all"||_.category===a;return w&&R}).sort((_,w)=>{if(u.key==="amount"){const R=parseFloat(_.amount)||0,N=parseFloat(w.amount)||0;return u.direction==="asc"?R-N:N-R}return u.key==="name"?u.direction==="asc"?_.name.localeCompare(w.name):w.name.localeCompare(_.name):0}),[t,n,a,u]),g=z.useMemo(()=>{const S=t.reduce((A,j)=>A+(parseFloat(j.amount)||0),0),_=S*4.33,w=S*52,R=t.reduce((A,j)=>(parseFloat(j.amount)||0)>A?parseFloat(j.amount)||0:A,0),N=t.length>0?S/t.length:0,O=t.reduce((A,j)=>{const T=j.category||"Other";return A[T]=(A[T]||0)+(parseFloat(j.amount)||0),A},{}),M=Object.entries(O).reduce((A,[j,T])=>T>(A.amount||0)?{category:j,amount:T}:A,{category:"None",amount:0});return{totalWeekly:S,totalMonthly:_,totalAnnual:w,highestCost:R,averageCost:N,categoryTotals:O,topCategory:M,itemCount:t.length}},[t]),y=S=>{d(_=>({key:S,direction:_.key===S&&_.direction==="desc"?"asc":"desc"}))},x=()=>{if(t.length===0){alert("No weekly costs to export.");return}try{const S=["Name","Weekly Amount","Monthly Amount (4.33x)","Annual Amount (52x)","Category","Notes"],_=t.map(M=>[M.name||"",(parseFloat(M.amount)||0).toFixed(2),((parseFloat(M.amount)||0)*4.33).toFixed(2),((parseFloat(M.amount)||0)*52).toFixed(2),M.category||"Other",M.notes||""]),w=[S.join(","),..._.map(M=>M.map(A=>typeof A=="string"&&A.includes(",")?`"${A}"`:A).join(","))].join(`
`),R=new Blob([w],{type:"text/csv;charset=utf-8;"}),N=document.createElement("a"),O=URL.createObjectURL(R);N.setAttribute("href",O),N.setAttribute("download",`weekly_costs_${new Date().toISOString().split("T")[0]}.csv`),N.style.visibility="hidden",document.body.appendChild(N),N.click(),document.body.removeChild(N),alert(`Successfully exported ${t.length} weekly costs!`)}catch(S){console.error("Error exporting CSV:",S),alert("Failed to export CSV: "+S.message)}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Weekly Total"}),c.jsxs("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:["$",g.totalWeekly.toLocaleString()]})]}),c.jsx(Y1,{className:"text-red-600 dark:text-red-400",size:24})]}),c.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:[g.itemCount," cost items"]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Monthly Impact"}),c.jsxs("p",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:["$",g.totalMonthly.toLocaleString()]})]}),c.jsx(Ea,{className:"text-orange-600 dark:text-orange-400",size:24})]}),c.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"x4.33 weeks/month"})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Annual Impact"}),c.jsxs("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:["$",g.totalAnnual.toLocaleString()]})]}),c.jsx(Cm,{className:"text-purple-600 dark:text-purple-400",size:24})]}),c.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"x52 weeks/year"})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Top Category"}),c.jsx("p",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:g.topCategory.category})]}),c.jsx(un,{className:"text-blue-600 dark:text-blue-400",size:24})]}),c.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["$",g.topCategory.amount.toLocaleString(),"/week"]})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Recurring Weekly Costs"}),c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:"Track and manage your regular weekly business expenses"})]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsxs("button",{onClick:x,className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(kn,{size:16}),"Export CSV"]}),c.jsxs("button",{onClick:()=>e("weekly"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(xi,{size:16}),"Add Weekly Cost"]})]})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[c.jsx("div",{className:"flex-1",children:c.jsxs("div",{className:"relative",children:[c.jsx(Ns,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),c.jsx("input",{type:"text",placeholder:"Search weekly costs...",value:n,onChange:S=>i(S.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm"})]})}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Zd,{className:"text-slate-400",size:16}),c.jsx("select",{value:a,onChange:S=>o(S.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",children:f.map(S=>c.jsx("option",{value:S,children:S==="all"?"All Categories":S},S))})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-3 cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",onClick:()=>y("name"),children:c.jsxs("div",{className:"flex items-center gap-1",children:["Cost Item",u.key==="name"&&c.jsx("span",{children:u.direction==="asc"?"":""})]})}),c.jsx("th",{className:"p-3",children:"Category"}),c.jsx("th",{className:"p-3 text-right cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",onClick:()=>y("amount"),children:c.jsxs("div",{className:"flex items-center justify-end gap-1",children:["Weekly Amount",u.key==="amount"&&c.jsx("span",{children:u.direction==="asc"?"":""})]})}),c.jsx("th",{className:"p-3 text-right",children:"Monthly Impact"}),c.jsx("th",{className:"p-3 text-right",children:"Annual Impact"}),c.jsx("th",{className:"p-3",children:"Notes"}),c.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),c.jsx("tbody",{className:"text-sm",children:p.length>0?p.map(S=>{const _=parseFloat(S.amount)||0,w=_*4.33,R=_*52;return c.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[c.jsx("td",{className:"p-3",children:c.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:S.name})}),c.jsx("td",{className:"p-3",children:c.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200",children:S.category||"Other"})}),c.jsx("td",{className:"p-3 text-right",children:c.jsxs("span",{className:"font-mono font-bold text-red-600 dark:text-red-400",children:["$",_.toFixed(2)]})}),c.jsx("td",{className:"p-3 text-right",children:c.jsxs("span",{className:"font-mono text-orange-600 dark:text-orange-400",children:["$",w.toFixed(2)]})}),c.jsx("td",{className:"p-3 text-right",children:c.jsxs("span",{className:"font-mono text-purple-600 dark:text-purple-400",children:["$",R.toLocaleString()]})}),c.jsx("td",{className:"p-3 max-w-xs",children:c.jsx("span",{className:"text-slate-600 dark:text-slate-400 truncate",children:S.notes&&S.notes.length>50?`${S.notes.substring(0,50)}...`:S.notes||""})}),c.jsx("td",{className:"p-3 text-center",children:c.jsxs("div",{className:"flex items-center justify-center gap-1",children:[c.jsx("button",{onClick:()=>e("weekly",S),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 p-1 rounded transition-colors",title:"Edit cost",children:c.jsx(cn,{size:16})}),c.jsx("button",{onClick:()=>r("weekly",S.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500 p-1 rounded transition-colors",title:"Delete cost",children:c.jsx(ar,{size:16})})]})})]},S.id)}):c.jsx("tr",{children:c.jsx("td",{colSpan:"7",className:"p-8 text-center text-slate-500 dark:text-slate-400",children:n||a!=="all"?c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(Ns,{size:24,className:"text-slate-400"}),c.jsx("span",{children:"No weekly costs match your search criteria"}),c.jsx("button",{onClick:()=>{i(""),o("all")},className:"text-cyan-600 hover:text-cyan-500 text-sm font-medium",children:"Clear filters"})]}):c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(un,{size:24,className:"text-slate-400"}),c.jsx("span",{children:"No weekly costs added yet"}),c.jsx("button",{onClick:()=>e("weekly"),className:"text-cyan-600 hover:text-cyan-500 text-sm font-medium",children:"Add your first weekly cost"})]})})})})]})}),p.length>0&&c.jsx("div",{className:"mt-4 p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg border",children:c.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 text-sm",children:[c.jsx("div",{className:"flex items-center gap-4",children:c.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:["Showing ",p.length," of ",t.length," costs"]})}),c.jsxs("div",{className:"flex items-center gap-6 font-medium",children:[c.jsxs("span",{className:"text-red-600 dark:text-red-400",children:["Weekly: $",p.reduce((S,_)=>S+(parseFloat(_.amount)||0),0).toFixed(2)]}),c.jsxs("span",{className:"text-orange-600 dark:text-orange-400",children:["Monthly: $",(p.reduce((S,_)=>S+(parseFloat(_.amount)||0),0)*4.33).toFixed(2)]}),c.jsxs("span",{className:"text-purple-600 dark:text-purple-400",children:["Annual: $",(p.reduce((S,_)=>S+(parseFloat(_.amount)||0),0)*52).toLocaleString()]})]})]})})]}),g.highestCost>1e3&&c.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ef,{className:"text-amber-600 dark:text-amber-400",size:20}),c.jsx("h4",{className:"font-semibold text-amber-800 dark:text-amber-200",children:"High Weekly Cost Alert"})]}),c.jsxs("p",{className:"text-amber-700 dark:text-amber-300 text-sm mt-2",children:["You have a weekly cost of $",g.highestCost.toLocaleString(),", which amounts to $",(g.highestCost*52).toLocaleString()," annually. Consider reviewing this expense for potential savings opportunities."]})]})]})},Yie=({bills:t,paidStatus:e,selectedCategory:r,setSelectedCategory:n,handleTogglePaid:i,handleSort:a,openModal:o,handleDelete:u,handleEnhancedExportCSV:d})=>{const[f,p]=z.useState(""),[g,y]=z.useState("dueDay"),[x,S]=z.useState("asc"),[_,w]=z.useState("all"),[R,N]=z.useState("all"),[O,M]=z.useState("all"),[A,j]=z.useState(!1),T=new Date,P=new Date(T.getFullYear(),T.getMonth(),T.getDate()-T.getDay()),L=new Date(P.getTime()+6*24*60*60*1e3),I=new Date(L.getTime()+1*24*60*60*1e3),D=new Date(I.getTime()+6*24*60*60*1e3),V=new Date(T.getFullYear(),T.getMonth(),1),$=new Date(T.getFullYear(),T.getMonth()+1,0),ee=z.useMemo(()=>{let J=t.filter(se=>{if(r&&se.category!==r||f&&!se.name.toLowerCase().includes(f.toLowerCase())||_==="paid"&&!e[se.id]||_==="unpaid"&&e[se.id]||O==="under100"&&se.amount>=100||O==="100to500"&&(se.amount<100||se.amount>500)||O==="over500"&&se.amount<=500)return!1;if(R!=="all"&&se.dueDay){const q=new Date(T.getFullYear(),T.getMonth(),se.dueDay);switch(q<T&&q.setMonth(q.getMonth()+1),R){case"overdue":if(q>=T)return!1;break;case"thisWeek":if(q<P||q>L)return!1;break;case"nextWeek":if(q<I||q>D)return!1;break;case"thisMonth":if(q<V||q>$)return!1;break}}return!0});return J.sort((se,q)=>{let Y=se[g],K=q[g];g==="status"&&(Y=e[se.id]?"paid":"unpaid",K=e[q.id]?"paid":"unpaid"),typeof Y=="string"&&(Y=Y.toLowerCase(),K=K.toLowerCase());let le=0;return Y<K&&(le=-1),Y>K&&(le=1),x==="desc"?-le:le}),J},[t,r,f,_,R,O,g,x,e,T]),ne=J=>{g===J?S(x==="asc"?"desc":"asc"):(y(J),S("asc"))},Q=()=>{p(""),y("dueDay"),S("asc"),w("all"),N("all"),M("all"),n(null)},ie=z.useMemo(()=>{let J=0;return f&&J++,r&&J++,_!=="all"&&J++,R!=="all"&&J++,O!=="all"&&J++,J},[f,r,_,R,O]),Z=({type:J,label:se})=>{const q=G.useRef(null);return c.jsxs("div",{className:"inline-block",children:[c.jsx("input",{ref:q,type:"file",accept:".csv",onChange:Y=>{Y.target.files[0]&&(window.handleEnhancedCSVImport?.(Y.target.files[0],J),Y.target.value="")},style:{display:"none"}}),c.jsxs("button",{onClick:()=>q.current?.click(),className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(Os,{size:16}),se]})]})};return c.jsxs("div",{className:"lg:col-span-3 bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 mb-6",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Monthly Bills"}),r&&c.jsxs("button",{onClick:()=>n(null),className:"text-sm text-cyan-500 dark:text-cyan-400 hover:underline",children:["Clear Filter: ",r]}),ie>0&&c.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200",children:[ie," filter",ie!==1?"s":""," active"]})]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx(Z,{type:"bill",label:"Import"}),c.jsxs("button",{onClick:()=>d(ee,"bills"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(kn,{size:16})," Export"]})]})]}),c.jsxs("div",{className:"space-y-4 mb-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[c.jsxs("div",{className:"flex-1 relative",children:[c.jsx(Ns,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),c.jsx("input",{type:"text",placeholder:"Search bills by name...",value:f,onChange:J=>p(J.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm focus:ring-2 focus:ring-cyan-500 focus:border-transparent"}),f&&c.jsx("button",{onClick:()=>p(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600",children:c.jsx(Ou,{size:16})})]}),c.jsxs("button",{onClick:()=>j(!A),className:`flex items-center gap-2 px-4 py-2 rounded-md border transition-colors ${A?"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-700 text-blue-700 dark:text-blue-300":"border-slate-300 dark:border-slate-600 text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[c.jsx(Zd,{size:16}),"Filters",c.jsx(_p,{className:`transition-transform ${A?"rotate-180":""}`,size:16})]}),ie>0&&c.jsx("button",{onClick:Q,className:"px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-md transition-colors",children:"Clear All"})]}),A&&c.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-4 rounded-lg border border-slate-200 dark:border-slate-600",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Sort By"}),c.jsxs("select",{value:`${g}-${x}`,onChange:J=>{const[se,q]=J.target.value.split("-");y(se),S(q)},className:"w-full px-3 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[c.jsx("option",{value:"name-asc",children:"Name (A-Z)"}),c.jsx("option",{value:"name-desc",children:"Name (Z-A)"}),c.jsx("option",{value:"dueDay-asc",children:"Due Date (Early)"}),c.jsx("option",{value:"dueDay-desc",children:"Due Date (Late)"}),c.jsx("option",{value:"amount-asc",children:"Amount (Low-High)"}),c.jsx("option",{value:"amount-desc",children:"Amount (High-Low)"}),c.jsx("option",{value:"status-asc",children:"Status (Unpaid First)"}),c.jsx("option",{value:"status-desc",children:"Status (Paid First)"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Payment Status"}),c.jsxs("select",{value:_,onChange:J=>w(J.target.value),className:"w-full px-3 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[c.jsx("option",{value:"all",children:"All Bills"}),c.jsx("option",{value:"unpaid",children:"Unpaid Only"}),c.jsx("option",{value:"paid",children:"Paid Only"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Due Date"}),c.jsxs("select",{value:R,onChange:J=>N(J.target.value),className:"w-full px-3 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[c.jsx("option",{value:"all",children:"All Dates"}),c.jsx("option",{value:"overdue",children:"Overdue"}),c.jsx("option",{value:"thisWeek",children:"This Week"}),c.jsx("option",{value:"nextWeek",children:"Next Week"}),c.jsx("option",{value:"thisMonth",children:"This Month"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Amount Range"}),c.jsxs("select",{value:O,onChange:J=>M(J.target.value),className:"w-full px-3 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[c.jsx("option",{value:"all",children:"All Amounts"}),c.jsx("option",{value:"under100",children:"Under $100"}),c.jsx("option",{value:"100to500",children:"$100 - $500"}),c.jsx("option",{value:"over500",children:"Over $500"})]})]})]}),c.jsx("div",{className:"mt-3 pt-3 border-t border-slate-200 dark:border-slate-600",children:c.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Showing ",ee.length," of ",t.length," bills",ie>0&&` with ${ie} filter${ie!==1?"s":""} applied`]})})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-3",children:c.jsxs("button",{onClick:()=>ne("status"),className:"flex items-center gap-1 hover:text-slate-700 dark:hover:text-slate-300",children:["Status",g==="status"&&(x==="asc"?c.jsx(yo,{size:14}):c.jsx(vo,{size:14}))]})}),c.jsx("th",{className:"p-3",children:c.jsxs("button",{onClick:()=>ne("name"),className:"flex items-center gap-1 hover:text-slate-700 dark:hover:text-slate-300",children:["Name",g==="name"&&(x==="asc"?c.jsx(yo,{size:14}):c.jsx(vo,{size:14}))]})}),c.jsx("th",{className:"p-3",children:"Notes"}),c.jsx("th",{className:"p-3",children:"Receipt"}),c.jsx("th",{className:"p-3 text-right",children:c.jsxs("button",{onClick:()=>ne("amount"),className:"flex items-center gap-1 ml-auto hover:text-slate-700 dark:hover:text-slate-300",children:["Amount",g==="amount"&&(x==="asc"?c.jsx(yo,{size:14}):c.jsx(vo,{size:14}))]})}),c.jsx("th",{className:"p-3 text-center",children:c.jsxs("button",{onClick:()=>ne("dueDay"),className:"flex items-center gap-1 mx-auto hover:text-slate-700 dark:hover:text-slate-300",children:["Due Day",g==="dueDay"&&(x==="asc"?c.jsx(yo,{size:14}):c.jsx(vo,{size:14}))]})}),c.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),c.jsx("tbody",{children:ee.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:"7",className:"p-8 text-center text-slate-500 dark:text-slate-400",children:t.length===0?c.jsxs("div",{children:[c.jsx("p",{className:"text-lg font-medium mb-2",children:"No bills added yet"}),c.jsx("p",{className:"text-sm",children:'Click "Add New Bill" to get started'})]}):c.jsxs("div",{children:[c.jsx("p",{className:"text-lg font-medium mb-2",children:"No bills match your filters"}),c.jsx("p",{className:"text-sm",children:"Try adjusting your search or filter criteria"})]})})}):ee.map(J=>c.jsxs("tr",{className:`border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors ${e[J.id]?"text-slate-400 dark:text-slate-500":"text-slate-700 dark:text-slate-200"}`,children:[c.jsx("td",{className:"p-3",children:c.jsx("button",{onClick:()=>i(J.id),className:"hover:scale-110 transition-transform",children:e[J.id]?c.jsx(mi,{className:"text-green-500",size:20}):c.jsx(ZM,{className:"text-slate-400 dark:text-slate-600",size:20})})}),c.jsxs("td",{className:`p-3 font-medium ${e[J.id]?"line-through":""}`,children:[J.name,J.category&&c.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:J.category})]}),c.jsx("td",{className:"p-3 text-center",children:J.notes&&c.jsxs("div",{className:"group relative flex justify-center",children:[c.jsx(tD,{size:16,className:"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}),c.jsx("span",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 text-xs text-white bg-slate-700 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:J.notes})]})}),c.jsx("td",{className:"p-3 text-center",children:J.attachmentURL?c.jsx("a",{href:J.attachmentURL,target:"_blank",rel:"noopener noreferrer",className:"hover:scale-110 transition-transform inline-block",children:c.jsx(GT,{size:16,className:"text-cyan-500 dark:text-cyan-400"})}):c.jsx(GT,{size:16,className:"text-slate-400 dark:text-slate-600"})}),c.jsxs("td",{className:"p-3 text-right font-mono font-semibold",children:["$",(J.amount||0).toFixed(2)]}),c.jsx("td",{className:"p-3 text-center font-medium",children:J.dueDay}),c.jsx("td",{className:"p-3 text-center",children:c.jsxs("div",{className:"flex items-center justify-center gap-1",children:[c.jsx("button",{onClick:()=>o("bill",J),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 p-1 rounded transition-colors",title:"Edit bill",children:c.jsx(cn,{size:16})}),c.jsx("button",{onClick:()=>u("bill",J.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500 p-1 rounded transition-colors",title:"Delete bill",children:c.jsx(ar,{size:16})})]})})]},J.id))})]})}),c.jsxs("button",{onClick:()=>o("bill"),className:"mt-4 flex items-center gap-2 text-cyan-600 dark:text-cyan-400 hover:text-cyan-500 dark:hover:text-cyan-300 font-semibold transition-colors",children:[c.jsx(xi,{size:18}),"Add New Bill"]})]})},Xie=({type:t,label:e,acceptTypes:r=".csv"})=>{const n=G.useRef(null);return c.jsxs("div",{className:"inline-block",children:[c.jsx("input",{ref:n,type:"file",accept:r,onChange:i=>{i.target.files[0]&&(window.handleEnhancedCSVImport?.(i.target.files[0],t),i.target.value="")},style:{display:"none"}}),c.jsxs("button",{onClick:()=>n.current?.click(),className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(Os,{size:16}),e]})]})},Qie=({recurringWork:t,openModal:e,handleDelete:r,handleEnhancedExportCSV:n,searchTerm:i,setSearchTerm:a})=>{const o=G.useMemo(()=>t.filter(u=>Object.values(u).some(d=>String(d).toLowerCase().includes(i.toLowerCase()))),[t,i]);return c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Recurring Work Management"}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx(Xie,{type:"recurring",label:"Import"}),c.jsxs("button",{onClick:()=>n(t,"recurring_work",["name","clientId","revenue","frequency","nextDueDate","notes"]),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(kn,{size:16}),"Export"]}),c.jsxs("button",{onClick:()=>e("recurring"),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg transition-colors",children:[c.jsx(xi,{size:18}),"Add Recurring Work"]})]})]}),c.jsx("div",{className:"mb-4",children:c.jsx("input",{type:"text",placeholder:"Search recurring work...",value:i,onChange:u=>a(u.target.value),className:"w-full px-4 py-2 border rounded-md bg-white dark:bg-slate-700 border-slate-300 dark:border-slate-600 focus:ring-cyan-500 focus:border-cyan-500"})}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-3",children:"Work Name"}),c.jsx("th",{className:"p-3",children:"Client ID"}),c.jsx("th",{className:"p-3 text-right",children:"Revenue"}),c.jsx("th",{className:"p-3",children:"Frequency"}),c.jsx("th",{className:"p-3",children:"Next Due Date"}),c.jsx("th",{className:"p-3",children:"Notes"}),c.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),c.jsx("tbody",{children:o.length>0?o.map(u=>c.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[c.jsx("td",{className:"p-3 font-medium",children:u.name}),c.jsx("td",{className:"p-3",children:u.clientId}),c.jsxs("td",{className:"p-3 text-right font-mono",children:["$",(u.revenue||0).toFixed(2)]}),c.jsx("td",{className:"p-3",children:u.frequency}),c.jsx("td",{className:"p-3",children:u.nextDueDate}),c.jsx("td",{className:"p-3 text-sm text-slate-500",children:u.notes}),c.jsxs("td",{className:"p-3 text-center",children:[c.jsx("button",{onClick:()=>e("recurring",u),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:c.jsx(cn,{size:16})}),c.jsx("button",{onClick:()=>r("recurring",u.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:c.jsx(ar,{size:16})})]})]},u.id)):c.jsx("tr",{children:c.jsx("td",{colSpan:"7",className:"p-6 text-center text-slate-500",children:"No recurring work found."})})})]})})]})},Jie=({currentView:t,setCurrentView:e,onAddOrderClick:r})=>c.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-10",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[t!=="dashboard"?c.jsx("button",{onClick:()=>e("dashboard"),className:"p-2 rounded-full hover:bg-gray-100",children:c.jsx(Xq,{size:24})}):c.jsx(fa,{className:"h-8 w-8 text-blue-600"}),c.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"HVAC Dispatch"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("button",{onClick:()=>e("billing"),className:"flex items-center gap-2 text-gray-600 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[c.jsx(kn,{size:20})," Billing"]}),c.jsxs("button",{onClick:()=>e("reporting"),className:"flex items-center gap-2 text-gray-600 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[c.jsx(Zq,{size:20})," Reporting"]}),c.jsxs("button",{onClick:()=>e("route"),className:"flex items-center gap-2 text-gray-600 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[c.jsx(o9,{size:20})," Route"]}),c.jsxs("button",{onClick:()=>e("dispatch"),className:"flex items-center gap-2 text-gray-600 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[c.jsx(Y1,{size:20})," Dispatch"]}),c.jsxs("button",{onClick:()=>e("customers"),className:"flex items-center gap-2 text-gray-600 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[c.jsx(np,{size:20})," Customers"]}),c.jsxs("button",{onClick:()=>e("technicians"),className:"flex items-center gap-2 text-gray-600 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[c.jsx(d9,{size:20})," Technicians"]}),c.jsxs("button",{onClick:r,className:"flex items-center gap-2 bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:[c.jsx(xi,{size:20})," Add Work Order"]})]})]})})}),S3=t=>t&&typeof t=="number"?new Date(Math.round((t-25569)*86400*1e3)):null,k3=t=>t?t.getTime()/864e5+25569:null,Zie=t=>{const e=S3(t);return e?e.toISOString().split("T")[0]:""},eae=t=>t?k3(new Date(t+"T00:00:00")):null,tae=t=>t?new Date(t).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}):"",rae=t=>t==null?"N/A":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t),nae=t=>{const e=S3(t);return e?e.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):null},iae=t=>({emergency:"bg-red-100 text-red-800 border-red-500",urgent:"bg-orange-100 text-orange-800 border-orange-500",regular:"bg-blue-100 text-blue-800 border-blue-500",low:"bg-gray-100 text-gray-800 border-gray-500"})[t?.toLowerCase()]||"bg-gray-100 text-gray-800 border-gray-500",aae=({order:t,onClose:e,onUpdate:r,onAddNote:n,technicians:i})=>{if(!t)return null;const[a,o]=z.useState(t["Order Status"]),[u,d]=z.useState(t.technician||[]),[f,p]=z.useState(Zie(t["Schedule Date"])),[g,y]=z.useState(t.startTime||""),[x,S]=z.useState(t.endTime||""),[_,w]=z.useState(""),[R,N]=z.useState(t.clientWO||""),O=j=>{const T=u.includes(j)?u.filter(P=>P!==j):[...u,j];d(T)},M=()=>{const j={};a!==t["Order Status"]&&(j["Order Status"]=a,a==="Completed"&&!t["Completed Date"]&&(j["Completed Date"]=k3(new Date))),JSON.stringify(u)!==JSON.stringify(t.technician)&&(j.technician=u);const T=eae(f);(T!==t["Schedule Date"]||g!==t.startTime||x!==t.endTime)&&(j["Schedule Date"]=T,j.startTime=g,j.endTime=x,a==="Open"&&f&&(j["Order Status"]="Scheduled")),R!==t.clientWO&&(j.clientWO=R),Object.keys(j).length>0&&r(t.id,j)},A=[{label:"Work Order #",value:t["WO#"],icon:c.jsx(fa,{})},{label:"Client WO#",value:t.clientWO,icon:c.jsx(e9,{})},{label:"Location",value:`${t.Company} (#${t["Loc #"]})`,icon:c.jsx(F_,{})},{label:"Address",value:`${t.City}, ${t.State}`,icon:c.jsx(Mm,{})},{label:"Priority",value:t.Priority,icon:c.jsx(ef,{}),style:`${iae(t.Priority)} px-2 py-0.5 rounded-full text-xs font-semibold`},{label:"Task",value:t.Task},{label:"NTE Amount",value:rae(t.NTE)},{label:"Created Date",value:nae(t["Created Date"])}];return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-3xl max-h-[90vh] flex flex-col",children:[c.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Work Order Details"}),c.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:c.jsx(Ou,{size:28})})]}),c.jsxs("div",{className:"p-6 overflow-y-auto",children:[c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4",children:A.map(j=>c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-xs text-gray-500 font-medium",children:j.label}),c.jsxs("span",{className:`text-base text-gray-900 font-semibold flex items-center gap-2 mt-1 ${j.style||""}`,children:[j.icon&&c.jsx("span",{className:"text-gray-400",children:G.cloneElement(j.icon,{size:16})}),c.jsx("span",{className:j.style||"",children:j.value})]})]},j.label))}),c.jsxs("div",{className:"mt-6 pt-6 border-t",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-3",children:"Job Management"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Status"}),c.jsxs("select",{value:a,onChange:j=>o(j.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",children:[c.jsx("option",{children:"Open"}),c.jsx("option",{children:"Scheduled"}),c.jsx("option",{children:"In Progress"}),c.jsx("option",{children:"On Hold"}),c.jsx("option",{children:"Completed"}),c.jsx("option",{children:"Cancelled"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Assigned Technicians"}),c.jsx("div",{className:"border p-2 rounded-lg max-h-24 overflow-y-auto",children:i.filter(j=>j.name!=="Unassigned").map(j=>c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",id:`tech-${j.id}`,checked:u.includes(j.name),onChange:()=>O(j.name),className:"mr-2"}),c.jsx("label",{htmlFor:`tech-${j.id}`,children:j.name})]},j.id))})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Schedule Date"}),c.jsx("input",{type:"date",value:f,onChange:j=>p(j.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Start Time"}),c.jsx("input",{type:"time",value:g,onChange:j=>y(j.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"End Time"}),c.jsx("input",{type:"time",value:x,onChange:j=>S(j.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]})]}),c.jsxs("div",{className:"mt-4",children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Client WO#"}),c.jsx("input",{type:"text",value:R,onChange:j=>N(j.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),c.jsx("div",{className:"mt-4 flex justify-end",children:c.jsx("button",{onClick:M,className:"bg-blue-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-blue-700",children:"Save Changes"})})]}),c.jsxs("div",{className:"mt-6 pt-6 border-t",children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-700 mb-3 flex items-center",children:[c.jsx(tD,{size:20,className:"mr-2"}),"Work Notes"]}),c.jsx("div",{className:"space-y-3 max-h-48 overflow-y-auto bg-gray-50 p-3 rounded-lg",children:t.notes&&t.notes.length>0?t.notes.sort((j,T)=>new Date(T.timestamp)-new Date(j.timestamp)).map((j,T)=>c.jsxs("div",{className:"text-sm bg-white p-2 rounded shadow-sm",children:[c.jsx("p",{className:"text-gray-800",children:j.text}),c.jsx("p",{className:"text-xs text-gray-500 mt-1 text-right",children:tae(j.timestamp)})]},T)):c.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No notes for this job yet."})}),c.jsxs("div",{className:"mt-4",children:[c.jsx("textarea",{value:_,onChange:j=>w(j.target.value),placeholder:"Add a new note...",rows:"3",className:"w-full p-2 border border-gray-300 rounded-lg"}),c.jsx("div",{className:"flex justify-end mt-2",children:c.jsx("button",{onClick:()=>n(t.id,_,()=>w("")),disabled:!_.trim(),className:"bg-green-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:"Add Note"})})]})]})]})]})})},sae=t=>t?t.getTime()/864e5+25569:null,oae=t=>t?sae(new Date(t+"T00:00:00")):null,lae=({onClose:t,onAddOrder:e,customers:r})=>{const[n,i]=z.useState(r[0]?.id||""),[a,o]=z.useState(""),[u,d]=z.useState(""),[f,p]=z.useState("Regular"),[g,y]=z.useState("Heating & Cooling"),[x,S]=z.useState(""),[_,w]=z.useState(""),[R,N]=z.useState(""),[O,M]=z.useState(""),[A,j]=z.useState(""),T=z.useMemo(()=>r.find(I=>I.id===n),[n,r]);z.useEffect(()=>{if(T?.locations?.[0]){const I=T.locations[0];o(`${I.name}-${I.locNum}-0`)}else o("")},[T]);const P=I=>{o(I)},L=I=>{I.preventDefault();const[D,V]=a.split("-").slice(0,2),$=T.locations.find(ee=>ee.name===D&&ee.locNum===V);if(!n||!$||!u){alert("Please fill out all required fields.");return}e({Client:T.name,Company:$.name,"Loc #":$.locNum,Task:u,Priority:f,Category:g,City:$.city,State:$.state,NTE:parseFloat(x)||0,"Schedule Date":oae(_),startTime:R,endTime:O,clientWO:A})};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:c.jsxs("form",{onSubmit:L,className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[c.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Add New Work Order"}),c.jsx("button",{type:"button",onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:c.jsx(Ou,{size:28})})]}),c.jsxs("div",{className:"p-6 overflow-y-auto space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Client"}),c.jsx("select",{value:n,onChange:I=>i(parseInt(I.target.value)),className:"w-full p-2 border border-gray-300 rounded-lg",children:r.map(I=>c.jsx("option",{value:I.id,children:I.name},I.id))})]}),T&&c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Location"}),c.jsx("select",{value:a,onChange:I=>P(I.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",children:T.locations.map((I,D)=>c.jsxs("option",{value:`${I.name}-${I.locNum}-${D}`,children:[I.name," (#",I.locNum,")"]},`${I.name}-${I.locNum}-${D}`))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Client WO#"}),c.jsx("input",{type:"text",value:A,onChange:I=>j(I.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Task / Issue"}),c.jsx("textarea",{value:u,onChange:I=>d(I.target.value),rows:"3",className:"w-full p-2 border border-gray-300 rounded-lg",required:!0})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Priority"}),c.jsxs("select",{value:f,onChange:I=>p(I.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",children:[c.jsx("option",{children:"Regular"}),c.jsx("option",{children:"Low"}),c.jsx("option",{children:"Urgent"}),c.jsx("option",{children:"Emergency"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Category"}),c.jsxs("select",{value:g,onChange:I=>y(I.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",children:[c.jsx("option",{children:"Heating & Cooling"}),c.jsx("option",{children:"Refrigeration"}),c.jsx("option",{children:"Maintenance"}),c.jsx("option",{children:"Plumbing"}),c.jsx("option",{children:"Other"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"NTE Amount ($)"}),c.jsx("input",{type:"number",value:x,onChange:I=>S(I.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",placeholder:"e.g., 500"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Schedule Date"}),c.jsx("input",{type:"date",value:_,onChange:I=>w(I.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Start Time"}),c.jsx("input",{type:"time",value:R,onChange:I=>N(I.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"End Time"}),c.jsx("input",{type:"time",value:O,onChange:I=>M(I.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]})]})]}),c.jsx("div",{className:"p-6 bg-gray-50 border-t mt-auto",children:c.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-700",children:"Create Work Order"})})]})})},uae={apiKey:"AIzaSyAlev0GFpv3rzRYCJaMALOqlPwaowNfynI",authDomain:"hvac-finance-dashboard.firebaseapp.com",projectId:"hvac-finance-dashboard",storageBucket:"hvac-finance-dashboard.firebasestorage.app",messagingSenderId:"917610618621",appId:"1:917610618621:web:83c621d154c5f62c9be894"},z2="hvac-master-dashboard",nk=rR(uae),cae=FR(nk),W2=JB(nk);Bq(nk);const dae=()=>{const[t,e]=z.useState(null),[r,n]=z.useState(!0),[i,a]=z.useState("finance"),[o,u]=z.useState("dashboard"),[d,f]=z.useState([]),[p,g]=z.useState([]),[y,x]=z.useState([]),[S,_]=z.useState([]),[w,R]=z.useState([]),[N,O]=z.useState([]),[M,A]=z.useState([]),[j,T]=z.useState([]),[P,L]=z.useState([]),[I,D]=z.useState([]),[V,$]=z.useState([]),[ee,ne]=z.useState([]),[Q,ie]=z.useState([]),[Z,J]=z.useState([]),[se,q]=z.useState([]),[Y,K]=z.useState([]),[le,de]=z.useState([]),[xe,he]=z.useState(""),[ge,fe]=z.useState("All"),[Ee,Te]=z.useState(null),[W,pe]=z.useState(!1),[me,je]=z.useState("dashboard"),[$e,Dt]=z.useState(!1),[Xr,Fr]=z.useState(null),[Vr,Jt]=z.useState("bill"),[Qr,An]=z.useState({key:"dueDay",direction:"ascending"}),[Tn,Yn]=z.useState(""),[Ut,Lt]=z.useState(null),[_i,Wo]=z.useState(0),[Wt,Ra]=z.useState({start:new Date,end:new Date}),[Ma,Ho]=z.useState("monthly"),[Ls,$s]=z.useState(!0),[Da,Fs]=z.useState({});z.useEffect(()=>{const Ye=gF(cae,tt=>{e(tt?tt.uid:null),n(!1)});return()=>Ye()},[]);const wi=z.useMemo(()=>!Wt||!Wt.start?"":Wt.start.getFullYear()+"-"+String(Wt.start.getMonth()+1).padStart(2,"0"),[Wt]);z.useEffect(()=>{if(!t)return;const tt=Object.entries({bills:f,debts:g,incomes:x,weeklyCosts:_,jobs:R,tasks:O,invoices:A,taxPayments:T,goals:L,clients:J,inventory:D,vehicles:$,maintenanceLogs:ne,recurringWork:ie,workOrders:q,customers:K,technicians:de}).map(([rt,yt])=>LT(fq(XB(W2,"artifacts",z2,"users",t,rt)),Qn=>{yt(Qn.docs.map(Jr=>({id:Jr.id,...Jr.data()})))},Qn=>console.error(`Error fetching ${rt}:`,Qn))),vt=LT(QB(W2,"artifacts",z2,"users",t,"paidStatus",wi),rt=>{Fs(rt.exists()?rt.data().status:{})},rt=>console.error("Error fetching paid status:",rt));return()=>{tt.forEach(rt=>rt()),vt()}},[t,wi]);const fn=z.useMemo(()=>!Wt||!Wt.start||!Wt.end?[]:w.filter(Ye=>{if(!Ye.date)return!1;const tt=new Date(Ye.date);return tt>=Wt.start&&tt<=Wt.end}),[w,Wt]),jn=z.useMemo(()=>{const Ye=y.reduce((Jr,Ur)=>Jr+(Ur.amount||0),0),tt=d.reduce((Jr,Ur)=>Jr+(Ur.amount||0),0),vt=S.reduce((Jr,Ur)=>Jr+(Ur.amount||0),0)*4.33,rt=tt+vt,yt=Ye-rt,Qn=p.reduce((Jr,Ur)=>Jr+((Ur.totalAmount||0)-(Ur.paidAmount||0)),0);return{totalIncome:Ye,totalOutflow:rt,netCashFlow:yt,totalDebt:Qn}},[d,p,y,S]),or=z.useMemo(()=>{const Ye=fn.reduce((rt,yt)=>rt+(yt.revenue||0),0),tt=fn.reduce((rt,yt)=>rt+(yt.materialCost||0)+(yt.laborCost||0),0),vt=Ye-tt;return{revenue:Ye,cogs:tt,grossProfit:vt}},[fn]),Nn=z.useMemo(()=>{const Ye=d.reduce((vt,rt)=>{const yt=rt.category||"Uncategorized";return vt[yt]=(vt[yt]||0)+rt.amount,vt},{}),tt=["#0088FE","#00C49F","#FFBB28","#FF8042","#AF19FF","#FF1943","#19D4FF"];return Object.entries(Ye).map(([vt,rt],yt)=>({name:vt,value:rt,color:tt[yt%tt.length]})).sort((vt,rt)=>rt.value-vt.value)},[d]),La=z.useMemo(()=>P.map(Ye=>{let tt=0;if(Ye.type==="debt"){const vt=p.find(rt=>rt.id===Ye.targetId);vt&&(tt=vt.paidAmount/vt.totalAmount*100)}else Ye.type==="revenue"&&(tt=w.reduce((rt,yt)=>rt+(yt.revenue||0),0)/Ye.targetValue*100);return{...Ye,progress:Math.min(tt,100)}}),[P,p,w]),Pn=(Ye,tt)=>{},Vs=(Ye,tt,vt)=>{},Xi=Ye=>{},yr=async(Ye,tt)=>{},Xn=async Ye=>{},lr=(Ye,tt=null)=>{Jt(Ye),Fr(tt),Dt(!0)};z.useMemo(()=>se.filter(Ye=>(ge==="All"||Ye["Order Status"]===ge)&&Object.values(Ye).some(tt=>String(tt).toLowerCase().includes(xe.toLowerCase()))),[se,xe,ge]);const Ct=()=>c.jsxs("div",{className:"max-w-7xl mx-auto p-4 sm:p-6 lg:p-8",children:[c.jsx("header",{className:"flex flex-col sm:flex-row justify-between items-center mb-6",children:c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Business Financial Dashboard"}),c.jsx("p",{className:"text-slate-500 mt-1",children:"Manage your company's finances."})]})}),c.jsxs("nav",{className:"flex items-center border-b border-slate-200 mb-6 overflow-x-auto",children:[c.jsx("button",{onClick:()=>je("dashboard"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${me==="dashboard"?"text-cyan-600 border-b-2 border-cyan-500":"text-slate-500 hover:text-slate-800"}`,children:"Dashboard"}),c.jsx("button",{onClick:()=>je("reports"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${me==="reports"?"text-cyan-600 border-b-2 border-cyan-500":"text-slate-500 hover:text-slate-800"}`,children:"Reports"}),c.jsx("button",{onClick:()=>je("invoices"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${me==="invoices"?"text-cyan-600 border-b-2 border-cyan-500":"text-slate-500 hover:text-slate-800"}`,children:"Invoices"}),c.jsx("button",{onClick:()=>je("jobs"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${me==="jobs"?"text-cyan-600 border-b-2 border-cyan-500":"text-slate-500 hover:text-slate-800"}`,children:"Jobs"}),c.jsx("button",{onClick:()=>je("recurring"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${me==="recurring"?"text-cyan-600 border-b-2 border-cyan-500":"text-slate-500 hover:text-slate-800"}`,children:"Recurring"}),c.jsx("button",{onClick:()=>je("clients"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${me==="clients"?"text-cyan-600 border-b-2 border-cyan-500":"text-slate-500 hover:text-slate-800"}`,children:"Clients"}),c.jsx("button",{onClick:()=>je("vehicles"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${me==="vehicles"?"text-cyan-600 border-b-2 border-cyan-500":"text-slate-500 hover:text-slate-800"}`,children:"Vehicles"}),c.jsx("button",{onClick:()=>je("inventory"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${me==="inventory"?"text-cyan-600 border-b-2 border-cyan-500":"text-slate-500 hover:text-slate-800"}`,children:"Inventory"}),c.jsx("button",{onClick:()=>je("debts"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${me==="debts"?"text-cyan-600 border-b-2 border-cyan-500":"text-slate-500 hover:text-slate-800"}`,children:"Debt"}),c.jsx("button",{onClick:()=>je("incomes"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${me==="incomes"?"text-cyan-600 border-b-2 border-cyan-500":"text-slate-500 hover:text-slate-800"}`,children:"Income"}),c.jsx("button",{onClick:()=>je("weeklyCosts"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${me==="weeklyCosts"?"text-cyan-600 border-b-2 border-cyan-500":"text-slate-500 hover:text-slate-800"}`,children:"Weekly Costs"}),c.jsx("button",{onClick:()=>je("goals"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${me==="goals"?"text-cyan-600 border-b-2 border-cyan-500":"text-slate-500 hover:text-slate-800"}`,children:"Goals"}),c.jsx("button",{onClick:()=>je("pnl"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${me==="pnl"?"text-cyan-600 border-b-2 border-cyan-500":"text-slate-500 hover:text-slate-800"}`,children:"P&L"}),c.jsx("button",{onClick:()=>je("forecast"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${me==="forecast"?"text-cyan-600 border-b-2 border-cyan-500":"text-slate-500 hover:text-slate-800"}`,children:"Forecast"}),c.jsx("button",{onClick:()=>je("tax"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${me==="tax"?"text-cyan-600 border-b-2 border-cyan-500":"text-slate-500 hover:text-slate-800"}`,children:"Tax"})]}),c.jsxs("main",{children:[me==="dashboard"&&c.jsxs(c.Fragment,{children:[Ls&&c.jsx(Fie,{bills:d,paidStatus:Da,onClose:()=>$s(!1)}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[c.jsx(Oi,{title:"Total Monthly Income",value:`$${jn.totalIncome.toLocaleString()}`,icon:c.jsx(Jq,{size:24}),color:"green"}),c.jsx(Oi,{title:"Total Monthly Outflow",value:`$${jn.totalOutflow.toLocaleString()}`,icon:c.jsx(Yq,{size:24}),color:"red"}),c.jsx(Oi,{title:"Projected Net",value:`$${jn.netCashFlow.toLocaleString()}`,icon:c.jsx(un,{size:24}),color:jn.netCashFlow>=0?"cyan":"amber"}),c.jsx(Oi,{title:"Outstanding Debt",value:`$${jn.totalDebt.toLocaleString()}`,icon:c.jsx(ef,{size:24}),color:"orange"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[c.jsx(Oi,{title:"Gross Profit Margin",value:`${or.revenue>0?(or.grossProfit/or.revenue*100).toFixed(1):"0.0"}%`,icon:c.jsx(rD,{size:24}),color:"teal",subtext:"For selected period"}),c.jsx(Oi,{title:"Avg. Job Revenue",value:`$${(or.revenue/(fn.length||1)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:c.jsx(Ea,{size:24}),color:"indigo",subtext:`${fn.length} jobs`}),c.jsx(Oi,{title:"Avg. Job Profit",value:`$${(or.grossProfit/(fn.length||1)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:c.jsx(ad,{size:24}),color:"purple",subtext:"Gross profit per job"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[c.jsx(Yie,{bills:d,paidStatus:Da,selectedCategory:Ut,setSelectedCategory:Lt,handleTogglePaid:Xn,handleSort:An,openModal:lr,handleDelete:yr}),c.jsx("div",{className:"lg:col-span-2 space-y-6",children:c.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200",children:[c.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-4",children:"Expense Breakdown"}),c.jsx(Vie,{data:Nn,onSliceClick:Lt})]})})]})]}),me==="reports"&&c.jsx($ie,{clients:Z,jobs:w,bills:d,inventory:I}),me==="invoices"&&c.jsx(Rie,{invoices:M,openModal:lr,handleDelete:yr}),me==="jobs"&&c.jsx(qie,{jobs:w,clients:Z,openModal:lr,handleDelete:yr,searchTerm:Tn,setSearchTerm:Yn}),me==="recurring"&&c.jsx(Qie,{recurringWork:Q,openModal:lr,handleDelete:yr,searchTerm:Tn,setSearchTerm:Yn}),me==="clients"&&c.jsx(Mie,{clients:Z,openModal:lr,handleDelete:yr}),me==="vehicles"&&c.jsx(Die,{vehicles:V,maintenanceLogs:ee,openModal:lr,handleDelete:yr}),me==="inventory"&&c.jsx(Lie,{inventory:I,openModal:lr,handleDelete:yr}),me==="debts"&&c.jsx(Wie,{debts:p,openModal:lr,handleDelete:yr}),me==="incomes"&&c.jsx(Hie,{incomes:y,openModal:lr,handleDelete:yr}),me==="weeklyCosts"&&c.jsx(Kie,{weeklyCosts:S,openModal:lr,handleDelete:yr}),me==="goals"&&c.jsx(Gie,{goalsWithProgress:La,openModal:lr}),me==="pnl"&&c.jsx(zie,{jobs:w,bills:d,weeklyCosts:S}),me==="forecast"&&c.jsx(Uie,{invoices:M,bills:d,weeklyCosts:S}),me==="tax"&&c.jsx(Cie,{jobs:w,bills:d,weeklyCosts:S,taxPayments:j,openModal:lr,handleDelete:yr})]})]}),$a=()=>{};return r?c.jsx("div",{className:"bg-slate-900 text-white min-h-screen flex items-center justify-center",children:c.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-cyan-500"})}):t?c.jsxs("div",{className:"bg-gray-50 min-h-screen font-sans",children:[c.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-20",children:c.jsx("div",{className:"max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8 py-3",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx(fa,{className:"h-8 w-8 text-blue-600"}),c.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"HVAC Business Suite"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("button",{onClick:()=>a("finance"),className:`font-semibold py-2 px-4 rounded-lg flex items-center gap-2 ${i==="finance"?"bg-blue-600 text-white":"hover:bg-gray-100"}`,children:[c.jsx(un,{size:20})," Finance"]}),c.jsxs("button",{onClick:()=>a("dispatch"),className:`font-semibold py-2 px-4 rounded-lg flex items-center gap-2 ${i==="dispatch"?"bg-blue-600 text-white":"hover:bg-gray-100"}`,children:[c.jsx(Y1,{size:20})," Dispatch"]})]})]})})}),i==="dispatch"&&c.jsxs(c.Fragment,{children:[c.jsx(Jie,{currentView:o,setCurrentView:u,onAddOrderClick:()=>pe(!0)}),c.jsx("main",{className:"max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:$a()}),Ee&&c.jsx(aae,{order:Ee,onClose:()=>Te(null),onUpdate:Pn,onAddNote:Vs,technicians:le}),W&&c.jsx(lae,{customers:Y,onAddOrder:Xi,onClose:()=>pe(!1)})]}),i==="finance"&&Ct()]}):c.jsx(h9,{})};L$.createRoot(document.getElementById("root")).render(c.jsx(G.StrictMode,{children:c.jsx(dae,{})}));
