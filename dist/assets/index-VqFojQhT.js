(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Qh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xv={exports:{}},Fc={},wv={exports:{}},rt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HA;function LV(){if(HA)return rt;HA=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;function y(q){return q===null||typeof q!="object"?null:(q=m&&q[m]||q["@@iterator"],typeof q=="function"?q:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,w={};function x(q,K,fe){this.props=q,this.context=K,this.refs=w,this.updater=fe||v}x.prototype.isReactComponent={},x.prototype.setState=function(q,K){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,K,"setState")},x.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function O(){}O.prototype=x.prototype;function C(q,K,fe){this.props=q,this.context=K,this.refs=w,this.updater=fe||v}var R=C.prototype=new O;R.constructor=C,E(R,x.prototype),R.isPureReactComponent=!0;var $=Array.isArray,I=Object.prototype.hasOwnProperty,j={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function P(q,K,fe){var Ee,je={},xe=null,$e=null;if(K!=null)for(Ee in K.ref!==void 0&&($e=K.ref),K.key!==void 0&&(xe=""+K.key),K)I.call(K,Ee)&&!A.hasOwnProperty(Ee)&&(je[Ee]=K[Ee]);var Ve=arguments.length-2;if(Ve===1)je.children=fe;else if(1<Ve){for(var pe=Array(Ve),Ae=0;Ae<Ve;Ae++)pe[Ae]=arguments[Ae+2];je.children=pe}if(q&&q.defaultProps)for(Ee in Ve=q.defaultProps,Ve)je[Ee]===void 0&&(je[Ee]=Ve[Ee]);return{$$typeof:t,type:q,key:xe,ref:$e,props:je,_owner:j.current}}function N(q,K){return{$$typeof:t,type:q.type,key:K,ref:q.ref,props:q.props,_owner:q._owner}}function F(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function D(q){var K={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(fe){return K[fe]})}var V=/\/+/g;function M(q,K){return typeof q=="object"&&q!==null&&q.key!=null?D(""+q.key):K.toString(36)}function Z(q,K,fe,Ee,je){var xe=typeof q;(xe==="undefined"||xe==="boolean")&&(q=null);var $e=!1;if(q===null)$e=!0;else switch(xe){case"string":case"number":$e=!0;break;case"object":switch(q.$$typeof){case t:case e:$e=!0}}if($e)return $e=q,je=je($e),q=Ee===""?"."+M($e,0):Ee,$(je)?(fe="",q!=null&&(fe=q.replace(V,"$&/")+"/"),Z(je,K,fe,"",function(Ae){return Ae})):je!=null&&(F(je)&&(je=N(je,fe+(!je.key||$e&&$e.key===je.key?"":(""+je.key).replace(V,"$&/")+"/")+q)),K.push(je)),1;if($e=0,Ee=Ee===""?".":Ee+":",$(q))for(var Ve=0;Ve<q.length;Ve++){xe=q[Ve];var pe=Ee+M(xe,Ve);$e+=Z(xe,K,fe,pe,je)}else if(pe=y(q),typeof pe=="function")for(q=pe.call(q),Ve=0;!(xe=q.next()).done;)xe=xe.value,pe=Ee+M(xe,Ve++),$e+=Z(xe,K,fe,pe,je);else if(xe==="object")throw K=String(q),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return $e}function ee(q,K,fe){if(q==null)return q;var Ee=[],je=0;return Z(q,Ee,"","",function(xe){return K.call(fe,xe,je++)}),Ee}function re(q){if(q._status===-1){var K=q._result;K=K(),K.then(function(fe){(q._status===0||q._status===-1)&&(q._status=1,q._result=fe)},function(fe){(q._status===0||q._status===-1)&&(q._status=2,q._result=fe)}),q._status===-1&&(q._status=0,q._result=K)}if(q._status===1)return q._result.default;throw q._result}var oe={current:null},Q={transition:null},ae={ReactCurrentDispatcher:oe,ReactCurrentBatchConfig:Q,ReactCurrentOwner:j};function se(){throw Error("act(...) is not supported in production builds of React.")}return rt.Children={map:ee,forEach:function(q,K,fe){ee(q,function(){K.apply(this,arguments)},fe)},count:function(q){var K=0;return ee(q,function(){K++}),K},toArray:function(q){return ee(q,function(K){return K})||[]},only:function(q){if(!F(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},rt.Component=x,rt.Fragment=r,rt.Profiler=i,rt.PureComponent=C,rt.StrictMode=n,rt.Suspense=c,rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,rt.act=se,rt.cloneElement=function(q,K,fe){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var Ee=E({},q.props),je=q.key,xe=q.ref,$e=q._owner;if(K!=null){if(K.ref!==void 0&&(xe=K.ref,$e=j.current),K.key!==void 0&&(je=""+K.key),q.type&&q.type.defaultProps)var Ve=q.type.defaultProps;for(pe in K)I.call(K,pe)&&!A.hasOwnProperty(pe)&&(Ee[pe]=K[pe]===void 0&&Ve!==void 0?Ve[pe]:K[pe])}var pe=arguments.length-2;if(pe===1)Ee.children=fe;else if(1<pe){Ve=Array(pe);for(var Ae=0;Ae<pe;Ae++)Ve[Ae]=arguments[Ae+2];Ee.children=Ve}return{$$typeof:t,type:q.type,key:je,ref:xe,props:Ee,_owner:$e}},rt.createContext=function(q){return q={$$typeof:s,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:a,_context:q},q.Consumer=q},rt.createElement=P,rt.createFactory=function(q){var K=P.bind(null,q);return K.type=q,K},rt.createRef=function(){return{current:null}},rt.forwardRef=function(q){return{$$typeof:u,render:q}},rt.isValidElement=F,rt.lazy=function(q){return{$$typeof:h,_payload:{_status:-1,_result:q},_init:re}},rt.memo=function(q,K){return{$$typeof:f,type:q,compare:K===void 0?null:K}},rt.startTransition=function(q){var K=Q.transition;Q.transition={};try{q()}finally{Q.transition=K}},rt.unstable_act=se,rt.useCallback=function(q,K){return oe.current.useCallback(q,K)},rt.useContext=function(q){return oe.current.useContext(q)},rt.useDebugValue=function(){},rt.useDeferredValue=function(q){return oe.current.useDeferredValue(q)},rt.useEffect=function(q,K){return oe.current.useEffect(q,K)},rt.useId=function(){return oe.current.useId()},rt.useImperativeHandle=function(q,K,fe){return oe.current.useImperativeHandle(q,K,fe)},rt.useInsertionEffect=function(q,K){return oe.current.useInsertionEffect(q,K)},rt.useLayoutEffect=function(q,K){return oe.current.useLayoutEffect(q,K)},rt.useMemo=function(q,K){return oe.current.useMemo(q,K)},rt.useReducer=function(q,K,fe){return oe.current.useReducer(q,K,fe)},rt.useRef=function(q){return oe.current.useRef(q)},rt.useState=function(q){return oe.current.useState(q)},rt.useSyncExternalStore=function(q,K,fe){return oe.current.useSyncExternalStore(q,K,fe)},rt.useTransition=function(){return oe.current.useTransition()},rt.version="18.3.1",rt}var KA;function M1(){return KA||(KA=1,wv.exports=LV()),wv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GA;function $V(){if(GA)return Fc;GA=1;var t=M1(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function s(u,c,f){var h,m={},y=null,v=null;f!==void 0&&(y=""+f),c.key!==void 0&&(y=""+c.key),c.ref!==void 0&&(v=c.ref);for(h in c)n.call(c,h)&&!a.hasOwnProperty(h)&&(m[h]=c[h]);if(u&&u.defaultProps)for(h in c=u.defaultProps,c)m[h]===void 0&&(m[h]=c[h]);return{$$typeof:e,type:u,key:y,ref:v,props:m,_owner:i.current}}return Fc.Fragment=r,Fc.jsx=s,Fc.jsxs=s,Fc}var YA;function FV(){return YA||(YA=1,xv.exports=$V()),xv.exports}var b=FV(),G=M1();const z=vt(G);var Jh={},Ev={exports:{}},xn={},Sv={exports:{}},Tv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XA;function VV(){return XA||(XA=1,function(t){function e(Q,ae){var se=Q.length;Q.push(ae);e:for(;0<se;){var q=se-1>>>1,K=Q[q];if(0<i(K,ae))Q[q]=ae,Q[se]=K,se=q;else break e}}function r(Q){return Q.length===0?null:Q[0]}function n(Q){if(Q.length===0)return null;var ae=Q[0],se=Q.pop();if(se!==ae){Q[0]=se;e:for(var q=0,K=Q.length,fe=K>>>1;q<fe;){var Ee=2*(q+1)-1,je=Q[Ee],xe=Ee+1,$e=Q[xe];if(0>i(je,se))xe<K&&0>i($e,je)?(Q[q]=$e,Q[xe]=se,q=xe):(Q[q]=je,Q[Ee]=se,q=Ee);else if(xe<K&&0>i($e,se))Q[q]=$e,Q[xe]=se,q=xe;else break e}}return ae}function i(Q,ae){var se=Q.sortIndex-ae.sortIndex;return se!==0?se:Q.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],f=[],h=1,m=null,y=3,v=!1,E=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(Q){for(var ae=r(f);ae!==null;){if(ae.callback===null)n(f);else if(ae.startTime<=Q)n(f),ae.sortIndex=ae.expirationTime,e(c,ae);else break;ae=r(f)}}function $(Q){if(w=!1,R(Q),!E)if(r(c)!==null)E=!0,re(I);else{var ae=r(f);ae!==null&&oe($,ae.startTime-Q)}}function I(Q,ae){E=!1,w&&(w=!1,O(P),P=-1),v=!0;var se=y;try{for(R(ae),m=r(c);m!==null&&(!(m.expirationTime>ae)||Q&&!D());){var q=m.callback;if(typeof q=="function"){m.callback=null,y=m.priorityLevel;var K=q(m.expirationTime<=ae);ae=t.unstable_now(),typeof K=="function"?m.callback=K:m===r(c)&&n(c),R(ae)}else n(c);m=r(c)}if(m!==null)var fe=!0;else{var Ee=r(f);Ee!==null&&oe($,Ee.startTime-ae),fe=!1}return fe}finally{m=null,y=se,v=!1}}var j=!1,A=null,P=-1,N=5,F=-1;function D(){return!(t.unstable_now()-F<N)}function V(){if(A!==null){var Q=t.unstable_now();F=Q;var ae=!0;try{ae=A(!0,Q)}finally{ae?M():(j=!1,A=null)}}else j=!1}var M;if(typeof C=="function")M=function(){C(V)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,ee=Z.port2;Z.port1.onmessage=V,M=function(){ee.postMessage(null)}}else M=function(){x(V,0)};function re(Q){A=Q,j||(j=!0,M())}function oe(Q,ae){P=x(function(){Q(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){E||v||(E=!0,re(I))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(Q){switch(y){case 1:case 2:case 3:var ae=3;break;default:ae=y}var se=y;y=ae;try{return Q()}finally{y=se}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,ae){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var se=y;y=Q;try{return ae()}finally{y=se}},t.unstable_scheduleCallback=function(Q,ae,se){var q=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?q+se:q):se=q,Q){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=se+K,Q={id:h++,callback:ae,priorityLevel:Q,startTime:se,expirationTime:K,sortIndex:-1},se>q?(Q.sortIndex=se,e(f,Q),r(c)===null&&Q===r(f)&&(w?(O(P),P=-1):w=!0,oe($,se-q))):(Q.sortIndex=K,e(c,Q),E||v||(E=!0,re(I))),Q},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(Q){var ae=y;return function(){var se=y;y=ae;try{return Q.apply(this,arguments)}finally{y=se}}}}(Tv)),Tv}var QA;function UV(){return QA||(QA=1,Sv.exports=VV()),Sv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JA;function BV(){if(JA)return xn;JA=1;var t=M1(),e=UV();function r(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,d=1;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(o,l){s(o,l),s(o+"Capture",l)}function s(o,l){for(i[o]=l,o=0;o<l.length;o++)n.add(l[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},m={};function y(o){return c.call(m,o)?!0:c.call(h,o)?!1:f.test(o)?m[o]=!0:(h[o]=!0,!1)}function v(o,l,d,g){if(d!==null&&d.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return g?!1:d!==null?!d.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function E(o,l,d,g){if(l===null||typeof l>"u"||v(o,l,d,g))return!0;if(g)return!1;if(d!==null)switch(d.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function w(o,l,d,g,_,T,L){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=g,this.attributeNamespace=_,this.mustUseProperty=d,this.propertyName=o,this.type=l,this.sanitizeURL=T,this.removeEmptyString=L}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){x[o]=new w(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];x[l]=new w(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){x[o]=new w(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){x[o]=new w(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){x[o]=new w(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){x[o]=new w(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){x[o]=new w(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){x[o]=new w(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){x[o]=new w(o,5,!1,o.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function C(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(O,C);x[l]=new w(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(O,C);x[l]=new w(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(O,C);x[l]=new w(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){x[o]=new w(o,1,!1,o.toLowerCase(),null,!1,!1)}),x.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){x[o]=new w(o,1,!1,o.toLowerCase(),null,!0,!0)});function R(o,l,d,g){var _=x.hasOwnProperty(l)?x[l]:null;(_!==null?_.type!==0:g||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(E(l,d,_,g)&&(d=null),g||_===null?y(l)&&(d===null?o.removeAttribute(l):o.setAttribute(l,""+d)):_.mustUseProperty?o[_.propertyName]=d===null?_.type===3?!1:"":d:(l=_.attributeName,g=_.attributeNamespace,d===null?o.removeAttribute(l):(_=_.type,d=_===3||_===4&&d===!0?"":""+d,g?o.setAttributeNS(g,l,d):o.setAttribute(l,d))))}var $=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),j=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),D=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),oe=Symbol.for("react.offscreen"),Q=Symbol.iterator;function ae(o){return o===null||typeof o!="object"?null:(o=Q&&o[Q]||o["@@iterator"],typeof o=="function"?o:null)}var se=Object.assign,q;function K(o){if(q===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);q=l&&l[1]||""}return`
`+q+o}var fe=!1;function Ee(o,l){if(!o||fe)return"";fe=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(te){var g=te}Reflect.construct(o,[],l)}else{try{l.call()}catch(te){g=te}o.call(l.prototype)}else{try{throw Error()}catch(te){g=te}o()}}catch(te){if(te&&g&&typeof te.stack=="string"){for(var _=te.stack.split(`
`),T=g.stack.split(`
`),L=_.length-1,B=T.length-1;1<=L&&0<=B&&_[L]!==T[B];)B--;for(;1<=L&&0<=B;L--,B--)if(_[L]!==T[B]){if(L!==1||B!==1)do if(L--,B--,0>B||_[L]!==T[B]){var W=`
`+_[L].replace(" at new "," at ");return o.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",o.displayName)),W}while(1<=L&&0<=B);break}}}finally{fe=!1,Error.prepareStackTrace=d}return(o=o?o.displayName||o.name:"")?K(o):""}function je(o){switch(o.tag){case 5:return K(o.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return o=Ee(o.type,!1),o;case 11:return o=Ee(o.type.render,!1),o;case 1:return o=Ee(o.type,!0),o;default:return""}}function xe(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case A:return"Fragment";case j:return"Portal";case N:return"Profiler";case P:return"StrictMode";case M:return"Suspense";case Z:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case D:return(o.displayName||"Context")+".Consumer";case F:return(o._context.displayName||"Context")+".Provider";case V:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case ee:return l=o.displayName||null,l!==null?l:xe(o.type)||"Memo";case re:l=o._payload,o=o._init;try{return xe(o(l))}catch{}}return null}function $e(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=l.render,o=o.displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(l);case 8:return l===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Ve(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function pe(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Ae(o){var l=pe(o)?"checked":"value",d=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),g=""+o[l];if(!o.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var _=d.get,T=d.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return _.call(this)},set:function(L){g=""+L,T.call(this,L)}}),Object.defineProperty(o,l,{enumerable:d.enumerable}),{getValue:function(){return g},setValue:function(L){g=""+L},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function ze(o){o._valueTracker||(o._valueTracker=Ae(o))}function ue(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var d=l.getValue(),g="";return o&&(g=pe(o)?o.checked?"true":"false":o.value),o=g,o!==d?(l.setValue(o),!0):!1}function ut(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function He(o,l){var d=l.checked;return se({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??o._wrapperState.initialChecked})}function mt(o,l){var d=l.defaultValue==null?"":l.defaultValue,g=l.checked!=null?l.checked:l.defaultChecked;d=Ve(l.value!=null?l.value:d),o._wrapperState={initialChecked:g,initialValue:d,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function Tt(o,l){l=l.checked,l!=null&&R(o,"checked",l,!1)}function Yt(o,l){Tt(o,l);var d=Ve(l.value),g=l.type;if(d!=null)g==="number"?(d===0&&o.value===""||o.value!=d)&&(o.value=""+d):o.value!==""+d&&(o.value=""+d);else if(g==="submit"||g==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?Zr(o,l.type,d):l.hasOwnProperty("defaultValue")&&Zr(o,l.type,Ve(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function cr(o,l,d){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var g=l.type;if(!(g!=="submit"&&g!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,d||l===o.value||(o.value=l),o.defaultValue=l}d=o.name,d!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,d!==""&&(o.name=d)}function Zr(o,l,d){(l!=="number"||ut(o.ownerDocument)!==o)&&(d==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+d&&(o.defaultValue=""+d))}var Ut=Array.isArray;function Bt(o,l,d,g){if(o=o.options,l){l={};for(var _=0;_<d.length;_++)l["$"+d[_]]=!0;for(d=0;d<o.length;d++)_=l.hasOwnProperty("$"+o[d].value),o[d].selected!==_&&(o[d].selected=_),_&&g&&(o[d].defaultSelected=!0)}else{for(d=""+Ve(d),l=null,_=0;_<o.length;_++){if(o[_].value===d){o[_].selected=!0,g&&(o[_].defaultSelected=!0);return}l!==null||o[_].disabled||(l=o[_])}l!==null&&(l.selected=!0)}}function Cr(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(r(91));return se({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function en(o,l){var d=l.value;if(d==null){if(d=l.children,l=l.defaultValue,d!=null){if(l!=null)throw Error(r(92));if(Ut(d)){if(1<d.length)throw Error(r(93));d=d[0]}l=d}l==null&&(l=""),d=l}o._wrapperState={initialValue:Ve(d)}}function pi(o,l){var d=Ve(l.value),g=Ve(l.defaultValue);d!=null&&(d=""+d,d!==o.value&&(o.value=d),l.defaultValue==null&&o.defaultValue!==d&&(o.defaultValue=d)),g!=null&&(o.defaultValue=""+g)}function Ui(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}function Xt(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tr(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?Xt(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var mi,os=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,d,g,_){MSApp.execUnsafeLocalFunction(function(){return o(l,d,g,_)})}:o}(function(o,l){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=l;else{for(mi=mi||document.createElement("div"),mi.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=mi.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function Bi(o,l){if(l){var d=o.firstChild;if(d&&d===o.lastChild&&d.nodeType===3){d.nodeValue=l;return}}o.textContent=l}var Xn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dn=["Webkit","ms","Moz","O"];Object.keys(Xn).forEach(function(o){dn.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),Xn[l]=Xn[o]})});function so(o,l,d){return l==null||typeof l=="boolean"||l===""?"":d||typeof l!="number"||l===0||Xn.hasOwnProperty(o)&&Xn[o]?(""+l).trim():l+"px"}function gi(o,l){o=o.style;for(var d in l)if(l.hasOwnProperty(d)){var g=d.indexOf("--")===0,_=so(d,l[d],g);d==="float"&&(d="cssFloat"),g?o.setProperty(d,_):o[d]=_}}var Lt=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ss(o,l){if(l){if(Lt[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(r(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(r(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(r(61))}if(l.style!=null&&typeof l.style!="object")throw Error(r(62))}}function ya(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var va=null;function Tn(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var ba=null,Ur=null,Qn=null;function xr(o){if(o=Sc(o)){if(typeof ba!="function")throw Error(r(280));var l=o.stateNode;l&&(l=dh(l),ba(o.stateNode,o.type,l))}}function Jn(o){Ur?Qn?Qn.push(o):Qn=[o]:Ur=o}function An(){if(Ur){var o=Ur,l=Qn;if(Qn=Ur=null,xr(o),l)for(o=0;o<l.length;o++)xr(l[o])}}function Pn(o,l){return o(l)}function qi(){}var yi=!1;function _a(o,l,d){if(yi)return o(l,d);yi=!0;try{return Pn(o,l,d)}finally{yi=!1,(Ur!==null||Qn!==null)&&(qi(),An())}}function qt(o,l){var d=o.stateNode;if(d===null)return null;var g=dh(d);if(g===null)return null;d=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(o=o.type,g=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!g;break e;default:o=!1}if(o)return null;if(d&&typeof d!="function")throw Error(r(231,l,typeof d));return d}var vi=!1;if(u)try{var kn={};Object.defineProperty(kn,"passive",{get:function(){vi=!0}}),window.addEventListener("test",kn,kn),window.removeEventListener("test",kn,kn)}catch{vi=!1}function xa(o,l,d,g,_,T,L,B,W){var te=Array.prototype.slice.call(arguments,3);try{l.apply(d,te)}catch(he){this.onError(he)}}var wa=!1,lo=null,In=!1,ls=null,oc={onError:function(o){wa=!0,lo=o}};function ne(o,l,d,g,_,T,L,B,W){wa=!1,lo=null,xa.apply(oc,arguments)}function Se(o,l,d,g,_,T,L,B,W){if(ne.apply(this,arguments),wa){if(wa){var te=lo;wa=!1,lo=null}else throw Error(r(198));In||(In=!0,ls=te)}}function Ce(o){var l=o,d=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(d=l.return),o=l.return;while(o)}return l.tag===3?d:null}function be(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function we(o){if(Ce(o)!==o)throw Error(r(188))}function Me(o){var l=o.alternate;if(!l){if(l=Ce(o),l===null)throw Error(r(188));return l!==o?null:o}for(var d=o,g=l;;){var _=d.return;if(_===null)break;var T=_.alternate;if(T===null){if(g=_.return,g!==null){d=g;continue}break}if(_.child===T.child){for(T=_.child;T;){if(T===d)return we(_),o;if(T===g)return we(_),l;T=T.sibling}throw Error(r(188))}if(d.return!==g.return)d=_,g=T;else{for(var L=!1,B=_.child;B;){if(B===d){L=!0,d=_,g=T;break}if(B===g){L=!0,g=_,d=T;break}B=B.sibling}if(!L){for(B=T.child;B;){if(B===d){L=!0,d=T,g=_;break}if(B===g){L=!0,g=T,d=_;break}B=B.sibling}if(!L)throw Error(r(189))}}if(d.alternate!==g)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?o:l}function tt(o){return o=Me(o),o!==null?Le(o):null}function Le(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=Le(o);if(l!==null)return l;o=o.sibling}return null}var Et=e.unstable_scheduleCallback,zt=e.unstable_cancelCallback,us=e.unstable_shouldYield,sc=e.unstable_requestPaint,nt=e.unstable_now,uo=e.unstable_getCurrentPriorityLevel,hn=e.unstable_ImmediatePriority,On=e.unstable_UserBlockingPriority,Br=e.unstable_NormalPriority,Cn=e.unstable_LowPriority,Ud=e.unstable_IdlePriority,cs=null,Rn=null;function Bd(o){if(Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(cs,o,void 0,(o.current.flags&128)===128)}catch{}}var tn=Math.clz32?Math.clz32:zd,lc=Math.log,qd=Math.LN2;function zd(o){return o>>>=0,o===0?32:31-(lc(o)/qd|0)|0}var gl=64,yl=4194304;function co(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function fs(o,l){var d=o.pendingLanes;if(d===0)return 0;var g=0,_=o.suspendedLanes,T=o.pingedLanes,L=d&268435455;if(L!==0){var B=L&~_;B!==0?g=co(B):(T&=L,T!==0&&(g=co(T)))}else L=d&~_,L!==0?g=co(L):T!==0&&(g=co(T));if(g===0)return 0;if(l!==0&&l!==g&&(l&_)===0&&(_=g&-g,T=l&-l,_>=T||_===16&&(T&4194240)!==0))return l;if((g&4)!==0&&(g|=d&16),l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=g;0<l;)d=31-tn(l),_=1<<d,g|=o[d],l&=~_;return g}function Qg(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ea(o,l){for(var d=o.suspendedLanes,g=o.pingedLanes,_=o.expirationTimes,T=o.pendingLanes;0<T;){var L=31-tn(T),B=1<<L,W=_[L];W===-1?((B&d)===0||(B&g)!==0)&&(_[L]=Qg(B,l)):W<=l&&(o.expiredLanes|=B),T&=~B}}function Nn(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function ds(){var o=gl;return gl<<=1,(gl&4194240)===0&&(gl=64),o}function fo(o){for(var l=[],d=0;31>d;d++)l.push(o);return l}function ho(o,l,d){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,l=31-tn(l),o[l]=d}function At(o,l){var d=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l,l=o.entanglements;var g=o.eventTimes;for(o=o.expirationTimes;0<d;){var _=31-tn(d),T=1<<_;l[_]=0,g[_]=-1,o[_]=-1,d&=~T}}function po(o,l){var d=o.entangledLanes|=l;for(o=o.entanglements;d;){var g=31-tn(d),_=1<<g;_&l|o[g]&l&&(o[g]|=l),d&=~_}}var at=0;function mo(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Wd,vl,Hd,Kd,Gd,uc=!1,zi=[],Rr=null,bi=null,_i=null,go=new Map,Zn=new Map,Wi=[],Jg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yd(o,l){switch(o){case"focusin":case"focusout":Rr=null;break;case"dragenter":case"dragleave":bi=null;break;case"mouseover":case"mouseout":_i=null;break;case"pointerover":case"pointerout":go.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zn.delete(l.pointerId)}}function pn(o,l,d,g,_,T){return o===null||o.nativeEvent!==T?(o={blockedOn:l,domEventName:d,eventSystemFlags:g,nativeEvent:T,targetContainers:[_]},l!==null&&(l=Sc(l),l!==null&&vl(l)),o):(o.eventSystemFlags|=g,l=o.targetContainers,_!==null&&l.indexOf(_)===-1&&l.push(_),o)}function Zg(o,l,d,g,_){switch(l){case"focusin":return Rr=pn(Rr,o,l,d,g,_),!0;case"dragenter":return bi=pn(bi,o,l,d,g,_),!0;case"mouseover":return _i=pn(_i,o,l,d,g,_),!0;case"pointerover":var T=_.pointerId;return go.set(T,pn(go.get(T)||null,o,l,d,g,_)),!0;case"gotpointercapture":return T=_.pointerId,Zn.set(T,pn(Zn.get(T)||null,o,l,d,g,_)),!0}return!1}function Xd(o){var l=ys(o.target);if(l!==null){var d=Ce(l);if(d!==null){if(l=d.tag,l===13){if(l=be(d),l!==null){o.blockedOn=l,Gd(o.priority,function(){Hd(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){o.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Sa(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var d=bl(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(d===null){d=o.nativeEvent;var g=new d.constructor(d.type,d);va=g,d.target.dispatchEvent(g),va=null}else return l=Sc(d),l!==null&&vl(l),o.blockedOn=d,!1;l.shift()}return!0}function hs(o,l,d){Sa(o)&&d.delete(l)}function Qd(){uc=!1,Rr!==null&&Sa(Rr)&&(Rr=null),bi!==null&&Sa(bi)&&(bi=null),_i!==null&&Sa(_i)&&(_i=null),go.forEach(hs),Zn.forEach(hs)}function xi(o,l){o.blockedOn===l&&(o.blockedOn=null,uc||(uc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Qd)))}function wi(o){function l(_){return xi(_,o)}if(0<zi.length){xi(zi[0],o);for(var d=1;d<zi.length;d++){var g=zi[d];g.blockedOn===o&&(g.blockedOn=null)}}for(Rr!==null&&xi(Rr,o),bi!==null&&xi(bi,o),_i!==null&&xi(_i,o),go.forEach(l),Zn.forEach(l),d=0;d<Wi.length;d++)g=Wi[d],g.blockedOn===o&&(g.blockedOn=null);for(;0<Wi.length&&(d=Wi[0],d.blockedOn===null);)Xd(d),d.blockedOn===null&&Wi.shift()}var Ta=$.ReactCurrentBatchConfig,yo=!0;function $t(o,l,d,g){var _=at,T=Ta.transition;Ta.transition=null;try{at=1,cc(o,l,d,g)}finally{at=_,Ta.transition=T}}function ey(o,l,d,g){var _=at,T=Ta.transition;Ta.transition=null;try{at=4,cc(o,l,d,g)}finally{at=_,Ta.transition=T}}function cc(o,l,d,g){if(yo){var _=bl(o,l,d,g);if(_===null)fy(o,l,g,ps,d),Yd(o,g);else if(Zg(_,o,l,d,g))g.stopPropagation();else if(Yd(o,g),l&4&&-1<Jg.indexOf(o)){for(;_!==null;){var T=Sc(_);if(T!==null&&Wd(T),T=bl(o,l,d,g),T===null&&fy(o,l,g,ps,d),T===_)break;_=T}_!==null&&g.stopPropagation()}else fy(o,l,g,null,d)}}var ps=null;function bl(o,l,d,g){if(ps=null,o=Tn(g),o=ys(o),o!==null)if(l=Ce(o),l===null)o=null;else if(d=l.tag,d===13){if(o=be(l),o!==null)return o;o=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null);return ps=o,null}function fc(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uo()){case hn:return 1;case On:return 4;case Br:case Cn:return 16;case Ud:return 536870912;default:return 16}default:return 16}}var jn=null,_l=null,mn=null;function dc(){if(mn)return mn;var o,l=_l,d=l.length,g,_="value"in jn?jn.value:jn.textContent,T=_.length;for(o=0;o<d&&l[o]===_[o];o++);var L=d-o;for(g=1;g<=L&&l[d-g]===_[T-g];g++);return mn=_.slice(o,1<g?1-g:void 0)}function xl(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function Hi(){return!0}function hc(){return!1}function Nr(o){function l(d,g,_,T,L){this._reactName=d,this._targetInst=_,this.type=g,this.nativeEvent=T,this.target=L,this.currentTarget=null;for(var B in o)o.hasOwnProperty(B)&&(d=o[B],this[B]=d?d(T):T[B]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Hi:hc,this.isPropagationStopped=hc,this}return se(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Hi)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Hi)},persist:function(){},isPersistent:Hi}),l}var Ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wl=Nr(Ei),Ki=se({},Ei,{view:0,detail:0}),ty=Nr(Ki),El,Aa,vo,ms=se({},Ki,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gi,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==vo&&(vo&&o.type==="mousemove"?(El=o.screenX-vo.screenX,Aa=o.screenY-vo.screenY):Aa=El=0,vo=o),El)},movementY:function(o){return"movementY"in o?o.movementY:Aa}}),Sl=Nr(ms),pc=se({},ms,{dataTransfer:0}),Jd=Nr(pc),Tl=se({},Ki,{relatedTarget:0}),Al=Nr(Tl),Zd=se({},Ei,{animationName:0,elapsedTime:0,pseudoElement:0}),Pa=Nr(Zd),eh=se({},Ei,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),th=Nr(eh),rh=se({},Ei,{data:0}),mc=Nr(rh),Pl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ih(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=nh[o])?!!l[o]:!1}function Gi(){return ih}var p=se({},Ki,{key:function(o){if(o.key){var l=Pl[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=xl(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?rn[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gi,charCode:function(o){return o.type==="keypress"?xl(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?xl(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),S=Nr(p),k=se({},ms,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),U=Nr(k),Y=se({},Ki,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gi}),ie=Nr(Y),_e=se({},Ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),bt=Nr(_e),fr=se({},ms,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),st=Nr(fr),wr=[9,13,27,32],ir=u&&"CompositionEvent"in window,ei=null;u&&"documentMode"in document&&(ei=document.documentMode);var Mn=u&&"TextEvent"in window&&!ei,gs=u&&(!ir||ei&&8<ei&&11>=ei),kl=" ",VS=!1;function US(o,l){switch(o){case"keyup":return wr.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function BS(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Il=!1;function jF(o,l){switch(o){case"compositionend":return BS(l);case"keypress":return l.which!==32?null:(VS=!0,kl);case"textInput":return o=l.data,o===kl&&VS?null:o;default:return null}}function MF(o,l){if(Il)return o==="compositionend"||!ir&&US(o,l)?(o=dc(),mn=_l=jn=null,Il=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return gs&&l.locale!=="ko"?null:l.data;default:return null}}var DF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qS(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!DF[o.type]:l==="textarea"}function zS(o,l,d,g){Jn(g),l=uh(l,"onChange"),0<l.length&&(d=new wl("onChange","change",null,d,g),o.push({event:d,listeners:l}))}var gc=null,yc=null;function LF(o){lT(o,0)}function ah(o){var l=jl(o);if(ue(l))return o}function $F(o,l){if(o==="change")return l}var WS=!1;if(u){var ry;if(u){var ny="oninput"in document;if(!ny){var HS=document.createElement("div");HS.setAttribute("oninput","return;"),ny=typeof HS.oninput=="function"}ry=ny}else ry=!1;WS=ry&&(!document.documentMode||9<document.documentMode)}function KS(){gc&&(gc.detachEvent("onpropertychange",GS),yc=gc=null)}function GS(o){if(o.propertyName==="value"&&ah(yc)){var l=[];zS(l,yc,o,Tn(o)),_a(LF,l)}}function FF(o,l,d){o==="focusin"?(KS(),gc=l,yc=d,gc.attachEvent("onpropertychange",GS)):o==="focusout"&&KS()}function VF(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return ah(yc)}function UF(o,l){if(o==="click")return ah(l)}function BF(o,l){if(o==="input"||o==="change")return ah(l)}function qF(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var Si=typeof Object.is=="function"?Object.is:qF;function vc(o,l){if(Si(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var d=Object.keys(o),g=Object.keys(l);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var _=d[g];if(!c.call(l,_)||!Si(o[_],l[_]))return!1}return!0}function YS(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function XS(o,l){var d=YS(o);o=0;for(var g;d;){if(d.nodeType===3){if(g=o+d.textContent.length,o<=l&&g>=l)return{node:d,offset:l-o};o=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=YS(d)}}function QS(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?QS(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function JS(){for(var o=window,l=ut();l instanceof o.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)o=l.contentWindow;else break;l=ut(o.document)}return l}function iy(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function zF(o){var l=JS(),d=o.focusedElem,g=o.selectionRange;if(l!==d&&d&&d.ownerDocument&&QS(d.ownerDocument.documentElement,d)){if(g!==null&&iy(d)){if(l=g.start,o=g.end,o===void 0&&(o=l),"selectionStart"in d)d.selectionStart=l,d.selectionEnd=Math.min(o,d.value.length);else if(o=(l=d.ownerDocument||document)&&l.defaultView||window,o.getSelection){o=o.getSelection();var _=d.textContent.length,T=Math.min(g.start,_);g=g.end===void 0?T:Math.min(g.end,_),!o.extend&&T>g&&(_=g,g=T,T=_),_=XS(d,T);var L=XS(d,g);_&&L&&(o.rangeCount!==1||o.anchorNode!==_.node||o.anchorOffset!==_.offset||o.focusNode!==L.node||o.focusOffset!==L.offset)&&(l=l.createRange(),l.setStart(_.node,_.offset),o.removeAllRanges(),T>g?(o.addRange(l),o.extend(L.node,L.offset)):(l.setEnd(L.node,L.offset),o.addRange(l)))}}for(l=[],o=d;o=o.parentNode;)o.nodeType===1&&l.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<l.length;d++)o=l[d],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var WF=u&&"documentMode"in document&&11>=document.documentMode,Ol=null,ay=null,bc=null,oy=!1;function ZS(o,l,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;oy||Ol==null||Ol!==ut(g)||(g=Ol,"selectionStart"in g&&iy(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),bc&&vc(bc,g)||(bc=g,g=uh(ay,"onSelect"),0<g.length&&(l=new wl("onSelect","select",null,l,d),o.push({event:l,listeners:g}),l.target=Ol)))}function oh(o,l){var d={};return d[o.toLowerCase()]=l.toLowerCase(),d["Webkit"+o]="webkit"+l,d["Moz"+o]="moz"+l,d}var Cl={animationend:oh("Animation","AnimationEnd"),animationiteration:oh("Animation","AnimationIteration"),animationstart:oh("Animation","AnimationStart"),transitionend:oh("Transition","TransitionEnd")},sy={},eT={};u&&(eT=document.createElement("div").style,"AnimationEvent"in window||(delete Cl.animationend.animation,delete Cl.animationiteration.animation,delete Cl.animationstart.animation),"TransitionEvent"in window||delete Cl.transitionend.transition);function sh(o){if(sy[o])return sy[o];if(!Cl[o])return o;var l=Cl[o],d;for(d in l)if(l.hasOwnProperty(d)&&d in eT)return sy[o]=l[d];return o}var tT=sh("animationend"),rT=sh("animationiteration"),nT=sh("animationstart"),iT=sh("transitionend"),aT=new Map,oT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bo(o,l){aT.set(o,l),a(l,[o])}for(var ly=0;ly<oT.length;ly++){var uy=oT[ly],HF=uy.toLowerCase(),KF=uy[0].toUpperCase()+uy.slice(1);bo(HF,"on"+KF)}bo(tT,"onAnimationEnd"),bo(rT,"onAnimationIteration"),bo(nT,"onAnimationStart"),bo("dblclick","onDoubleClick"),bo("focusin","onFocus"),bo("focusout","onBlur"),bo(iT,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _c="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GF=new Set("cancel close invalid load scroll toggle".split(" ").concat(_c));function sT(o,l,d){var g=o.type||"unknown-event";o.currentTarget=d,Se(g,l,void 0,o),o.currentTarget=null}function lT(o,l){l=(l&4)!==0;for(var d=0;d<o.length;d++){var g=o[d],_=g.event;g=g.listeners;e:{var T=void 0;if(l)for(var L=g.length-1;0<=L;L--){var B=g[L],W=B.instance,te=B.currentTarget;if(B=B.listener,W!==T&&_.isPropagationStopped())break e;sT(_,B,te),T=W}else for(L=0;L<g.length;L++){if(B=g[L],W=B.instance,te=B.currentTarget,B=B.listener,W!==T&&_.isPropagationStopped())break e;sT(_,B,te),T=W}}}if(In)throw o=ls,In=!1,ls=null,o}function Rt(o,l){var d=l[yy];d===void 0&&(d=l[yy]=new Set);var g=o+"__bubble";d.has(g)||(uT(l,o,2,!1),d.add(g))}function cy(o,l,d){var g=0;l&&(g|=4),uT(d,o,g,l)}var lh="_reactListening"+Math.random().toString(36).slice(2);function xc(o){if(!o[lh]){o[lh]=!0,n.forEach(function(d){d!=="selectionchange"&&(GF.has(d)||cy(d,!1,o),cy(d,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[lh]||(l[lh]=!0,cy("selectionchange",!1,l))}}function uT(o,l,d,g){switch(fc(l)){case 1:var _=$t;break;case 4:_=ey;break;default:_=cc}d=_.bind(null,l,d,o),_=void 0,!vi||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(_=!0),g?_!==void 0?o.addEventListener(l,d,{capture:!0,passive:_}):o.addEventListener(l,d,!0):_!==void 0?o.addEventListener(l,d,{passive:_}):o.addEventListener(l,d,!1)}function fy(o,l,d,g,_){var T=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var L=g.tag;if(L===3||L===4){var B=g.stateNode.containerInfo;if(B===_||B.nodeType===8&&B.parentNode===_)break;if(L===4)for(L=g.return;L!==null;){var W=L.tag;if((W===3||W===4)&&(W=L.stateNode.containerInfo,W===_||W.nodeType===8&&W.parentNode===_))return;L=L.return}for(;B!==null;){if(L=ys(B),L===null)return;if(W=L.tag,W===5||W===6){g=T=L;continue e}B=B.parentNode}}g=g.return}_a(function(){var te=T,he=Tn(d),ge=[];e:{var de=aT.get(o);if(de!==void 0){var Te=wl,Oe=o;switch(o){case"keypress":if(xl(d)===0)break e;case"keydown":case"keyup":Te=S;break;case"focusin":Oe="focus",Te=Al;break;case"focusout":Oe="blur",Te=Al;break;case"beforeblur":case"afterblur":Te=Al;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Te=Sl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Te=Jd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Te=ie;break;case tT:case rT:case nT:Te=Pa;break;case iT:Te=bt;break;case"scroll":Te=ty;break;case"wheel":Te=st;break;case"copy":case"cut":case"paste":Te=th;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Te=U}var Re=(l&4)!==0,rr=!Re&&o==="scroll",X=Re?de!==null?de+"Capture":null:de;Re=[];for(var H=te,J;H!==null;){J=H;var ye=J.stateNode;if(J.tag===5&&ye!==null&&(J=ye,X!==null&&(ye=qt(H,X),ye!=null&&Re.push(wc(H,ye,J)))),rr)break;H=H.return}0<Re.length&&(de=new Te(de,Oe,null,d,he),ge.push({event:de,listeners:Re}))}}if((l&7)===0){e:{if(de=o==="mouseover"||o==="pointerover",Te=o==="mouseout"||o==="pointerout",de&&d!==va&&(Oe=d.relatedTarget||d.fromElement)&&(ys(Oe)||Oe[ka]))break e;if((Te||de)&&(de=he.window===he?he:(de=he.ownerDocument)?de.defaultView||de.parentWindow:window,Te?(Oe=d.relatedTarget||d.toElement,Te=te,Oe=Oe?ys(Oe):null,Oe!==null&&(rr=Ce(Oe),Oe!==rr||Oe.tag!==5&&Oe.tag!==6)&&(Oe=null)):(Te=null,Oe=te),Te!==Oe)){if(Re=Sl,ye="onMouseLeave",X="onMouseEnter",H="mouse",(o==="pointerout"||o==="pointerover")&&(Re=U,ye="onPointerLeave",X="onPointerEnter",H="pointer"),rr=Te==null?de:jl(Te),J=Oe==null?de:jl(Oe),de=new Re(ye,H+"leave",Te,d,he),de.target=rr,de.relatedTarget=J,ye=null,ys(he)===te&&(Re=new Re(X,H+"enter",Oe,d,he),Re.target=J,Re.relatedTarget=rr,ye=Re),rr=ye,Te&&Oe)t:{for(Re=Te,X=Oe,H=0,J=Re;J;J=Rl(J))H++;for(J=0,ye=X;ye;ye=Rl(ye))J++;for(;0<H-J;)Re=Rl(Re),H--;for(;0<J-H;)X=Rl(X),J--;for(;H--;){if(Re===X||X!==null&&Re===X.alternate)break t;Re=Rl(Re),X=Rl(X)}Re=null}else Re=null;Te!==null&&cT(ge,de,Te,Re,!1),Oe!==null&&rr!==null&&cT(ge,rr,Oe,Re,!0)}}e:{if(de=te?jl(te):window,Te=de.nodeName&&de.nodeName.toLowerCase(),Te==="select"||Te==="input"&&de.type==="file")var De=$F;else if(qS(de))if(WS)De=BF;else{De=VF;var Ue=FF}else(Te=de.nodeName)&&Te.toLowerCase()==="input"&&(de.type==="checkbox"||de.type==="radio")&&(De=UF);if(De&&(De=De(o,te))){zS(ge,De,d,he);break e}Ue&&Ue(o,de,te),o==="focusout"&&(Ue=de._wrapperState)&&Ue.controlled&&de.type==="number"&&Zr(de,"number",de.value)}switch(Ue=te?jl(te):window,o){case"focusin":(qS(Ue)||Ue.contentEditable==="true")&&(Ol=Ue,ay=te,bc=null);break;case"focusout":bc=ay=Ol=null;break;case"mousedown":oy=!0;break;case"contextmenu":case"mouseup":case"dragend":oy=!1,ZS(ge,d,he);break;case"selectionchange":if(WF)break;case"keydown":case"keyup":ZS(ge,d,he)}var Be;if(ir)e:{switch(o){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else Il?US(o,d)&&(Ge="onCompositionEnd"):o==="keydown"&&d.keyCode===229&&(Ge="onCompositionStart");Ge&&(gs&&d.locale!=="ko"&&(Il||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&Il&&(Be=dc()):(jn=he,_l="value"in jn?jn.value:jn.textContent,Il=!0)),Ue=uh(te,Ge),0<Ue.length&&(Ge=new mc(Ge,o,null,d,he),ge.push({event:Ge,listeners:Ue}),Be?Ge.data=Be:(Be=BS(d),Be!==null&&(Ge.data=Be)))),(Be=Mn?jF(o,d):MF(o,d))&&(te=uh(te,"onBeforeInput"),0<te.length&&(he=new mc("onBeforeInput","beforeinput",null,d,he),ge.push({event:he,listeners:te}),he.data=Be))}lT(ge,l)})}function wc(o,l,d){return{instance:o,listener:l,currentTarget:d}}function uh(o,l){for(var d=l+"Capture",g=[];o!==null;){var _=o,T=_.stateNode;_.tag===5&&T!==null&&(_=T,T=qt(o,d),T!=null&&g.unshift(wc(o,T,_)),T=qt(o,l),T!=null&&g.push(wc(o,T,_))),o=o.return}return g}function Rl(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function cT(o,l,d,g,_){for(var T=l._reactName,L=[];d!==null&&d!==g;){var B=d,W=B.alternate,te=B.stateNode;if(W!==null&&W===g)break;B.tag===5&&te!==null&&(B=te,_?(W=qt(d,T),W!=null&&L.unshift(wc(d,W,B))):_||(W=qt(d,T),W!=null&&L.push(wc(d,W,B)))),d=d.return}L.length!==0&&o.push({event:l,listeners:L})}var YF=/\r\n?/g,XF=/\u0000|\uFFFD/g;function fT(o){return(typeof o=="string"?o:""+o).replace(YF,`
`).replace(XF,"")}function ch(o,l,d){if(l=fT(l),fT(o)!==l&&d)throw Error(r(425))}function fh(){}var dy=null,hy=null;function py(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var my=typeof setTimeout=="function"?setTimeout:void 0,QF=typeof clearTimeout=="function"?clearTimeout:void 0,dT=typeof Promise=="function"?Promise:void 0,JF=typeof queueMicrotask=="function"?queueMicrotask:typeof dT<"u"?function(o){return dT.resolve(null).then(o).catch(ZF)}:my;function ZF(o){setTimeout(function(){throw o})}function gy(o,l){var d=l,g=0;do{var _=d.nextSibling;if(o.removeChild(d),_&&_.nodeType===8)if(d=_.data,d==="/$"){if(g===0){o.removeChild(_),wi(l);return}g--}else d!=="$"&&d!=="$?"&&d!=="$!"||g++;d=_}while(d);wi(l)}function _o(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return o}function hT(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return o;l--}else d==="/$"&&l++}o=o.previousSibling}return null}var Nl=Math.random().toString(36).slice(2),Yi="__reactFiber$"+Nl,Ec="__reactProps$"+Nl,ka="__reactContainer$"+Nl,yy="__reactEvents$"+Nl,eV="__reactListeners$"+Nl,tV="__reactHandles$"+Nl;function ys(o){var l=o[Yi];if(l)return l;for(var d=o.parentNode;d;){if(l=d[ka]||d[Yi]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(o=hT(o);o!==null;){if(d=o[Yi])return d;o=hT(o)}return l}o=d,d=o.parentNode}return null}function Sc(o){return o=o[Yi]||o[ka],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function jl(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(r(33))}function dh(o){return o[Ec]||null}var vy=[],Ml=-1;function xo(o){return{current:o}}function Nt(o){0>Ml||(o.current=vy[Ml],vy[Ml]=null,Ml--)}function kt(o,l){Ml++,vy[Ml]=o.current,o.current=l}var wo={},qr=xo(wo),gn=xo(!1),vs=wo;function Dl(o,l){var d=o.type.contextTypes;if(!d)return wo;var g=o.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===l)return g.__reactInternalMemoizedMaskedChildContext;var _={},T;for(T in d)_[T]=l[T];return g&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=_),_}function yn(o){return o=o.childContextTypes,o!=null}function hh(){Nt(gn),Nt(qr)}function pT(o,l,d){if(qr.current!==wo)throw Error(r(168));kt(qr,l),kt(gn,d)}function mT(o,l,d){var g=o.stateNode;if(l=l.childContextTypes,typeof g.getChildContext!="function")return d;g=g.getChildContext();for(var _ in g)if(!(_ in l))throw Error(r(108,$e(o)||"Unknown",_));return se({},d,g)}function ph(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||wo,vs=qr.current,kt(qr,o),kt(gn,gn.current),!0}function gT(o,l,d){var g=o.stateNode;if(!g)throw Error(r(169));d?(o=mT(o,l,vs),g.__reactInternalMemoizedMergedChildContext=o,Nt(gn),Nt(qr),kt(qr,o)):Nt(gn),kt(gn,d)}var Ia=null,mh=!1,by=!1;function yT(o){Ia===null?Ia=[o]:Ia.push(o)}function rV(o){mh=!0,yT(o)}function Eo(){if(!by&&Ia!==null){by=!0;var o=0,l=at;try{var d=Ia;for(at=1;o<d.length;o++){var g=d[o];do g=g(!0);while(g!==null)}Ia=null,mh=!1}catch(_){throw Ia!==null&&(Ia=Ia.slice(o+1)),Et(hn,Eo),_}finally{at=l,by=!1}}return null}var Ll=[],$l=0,gh=null,yh=0,ti=[],ri=0,bs=null,Oa=1,Ca="";function _s(o,l){Ll[$l++]=yh,Ll[$l++]=gh,gh=o,yh=l}function vT(o,l,d){ti[ri++]=Oa,ti[ri++]=Ca,ti[ri++]=bs,bs=o;var g=Oa;o=Ca;var _=32-tn(g)-1;g&=~(1<<_),d+=1;var T=32-tn(l)+_;if(30<T){var L=_-_%5;T=(g&(1<<L)-1).toString(32),g>>=L,_-=L,Oa=1<<32-tn(l)+_|d<<_|g,Ca=T+o}else Oa=1<<T|d<<_|g,Ca=o}function _y(o){o.return!==null&&(_s(o,1),vT(o,1,0))}function xy(o){for(;o===gh;)gh=Ll[--$l],Ll[$l]=null,yh=Ll[--$l],Ll[$l]=null;for(;o===bs;)bs=ti[--ri],ti[ri]=null,Ca=ti[--ri],ti[ri]=null,Oa=ti[--ri],ti[ri]=null}var Dn=null,Ln=null,Ft=!1,Ti=null;function bT(o,l){var d=oi(5,null,null,0);d.elementType="DELETED",d.stateNode=l,d.return=o,l=o.deletions,l===null?(o.deletions=[d],o.flags|=16):l.push(d)}function _T(o,l){switch(o.tag){case 5:var d=o.type;return l=l.nodeType!==1||d.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,Dn=o,Ln=_o(l.firstChild),!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,Dn=o,Ln=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(d=bs!==null?{id:Oa,overflow:Ca}:null,o.memoizedState={dehydrated:l,treeContext:d,retryLane:1073741824},d=oi(18,null,null,0),d.stateNode=l,d.return=o,o.child=d,Dn=o,Ln=null,!0):!1;default:return!1}}function wy(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Ey(o){if(Ft){var l=Ln;if(l){var d=l;if(!_T(o,l)){if(wy(o))throw Error(r(418));l=_o(d.nextSibling);var g=Dn;l&&_T(o,l)?bT(g,d):(o.flags=o.flags&-4097|2,Ft=!1,Dn=o)}}else{if(wy(o))throw Error(r(418));o.flags=o.flags&-4097|2,Ft=!1,Dn=o}}}function xT(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Dn=o}function vh(o){if(o!==Dn)return!1;if(!Ft)return xT(o),Ft=!0,!1;var l;if((l=o.tag!==3)&&!(l=o.tag!==5)&&(l=o.type,l=l!=="head"&&l!=="body"&&!py(o.type,o.memoizedProps)),l&&(l=Ln)){if(wy(o))throw wT(),Error(r(418));for(;l;)bT(o,l),l=_o(l.nextSibling)}if(xT(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="/$"){if(l===0){Ln=_o(o.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++}o=o.nextSibling}Ln=null}}else Ln=Dn?_o(o.stateNode.nextSibling):null;return!0}function wT(){for(var o=Ln;o;)o=_o(o.nextSibling)}function Fl(){Ln=Dn=null,Ft=!1}function Sy(o){Ti===null?Ti=[o]:Ti.push(o)}var nV=$.ReactCurrentBatchConfig;function Tc(o,l,d){if(o=d.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(r(309));var g=d.stateNode}if(!g)throw Error(r(147,o));var _=g,T=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===T?l.ref:(l=function(L){var B=_.refs;L===null?delete B[T]:B[T]=L},l._stringRef=T,l)}if(typeof o!="string")throw Error(r(284));if(!d._owner)throw Error(r(290,o))}return o}function bh(o,l){throw o=Object.prototype.toString.call(l),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function ET(o){var l=o._init;return l(o._payload)}function ST(o){function l(X,H){if(o){var J=X.deletions;J===null?(X.deletions=[H],X.flags|=16):J.push(H)}}function d(X,H){if(!o)return null;for(;H!==null;)l(X,H),H=H.sibling;return null}function g(X,H){for(X=new Map;H!==null;)H.key!==null?X.set(H.key,H):X.set(H.index,H),H=H.sibling;return X}function _(X,H){return X=Co(X,H),X.index=0,X.sibling=null,X}function T(X,H,J){return X.index=J,o?(J=X.alternate,J!==null?(J=J.index,J<H?(X.flags|=2,H):J):(X.flags|=2,H)):(X.flags|=1048576,H)}function L(X){return o&&X.alternate===null&&(X.flags|=2),X}function B(X,H,J,ye){return H===null||H.tag!==6?(H=mv(J,X.mode,ye),H.return=X,H):(H=_(H,J),H.return=X,H)}function W(X,H,J,ye){var De=J.type;return De===A?he(X,H,J.props.children,ye,J.key):H!==null&&(H.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===re&&ET(De)===H.type)?(ye=_(H,J.props),ye.ref=Tc(X,H,J),ye.return=X,ye):(ye=qh(J.type,J.key,J.props,null,X.mode,ye),ye.ref=Tc(X,H,J),ye.return=X,ye)}function te(X,H,J,ye){return H===null||H.tag!==4||H.stateNode.containerInfo!==J.containerInfo||H.stateNode.implementation!==J.implementation?(H=gv(J,X.mode,ye),H.return=X,H):(H=_(H,J.children||[]),H.return=X,H)}function he(X,H,J,ye,De){return H===null||H.tag!==7?(H=ks(J,X.mode,ye,De),H.return=X,H):(H=_(H,J),H.return=X,H)}function ge(X,H,J){if(typeof H=="string"&&H!==""||typeof H=="number")return H=mv(""+H,X.mode,J),H.return=X,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case I:return J=qh(H.type,H.key,H.props,null,X.mode,J),J.ref=Tc(X,null,H),J.return=X,J;case j:return H=gv(H,X.mode,J),H.return=X,H;case re:var ye=H._init;return ge(X,ye(H._payload),J)}if(Ut(H)||ae(H))return H=ks(H,X.mode,J,null),H.return=X,H;bh(X,H)}return null}function de(X,H,J,ye){var De=H!==null?H.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return De!==null?null:B(X,H,""+J,ye);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case I:return J.key===De?W(X,H,J,ye):null;case j:return J.key===De?te(X,H,J,ye):null;case re:return De=J._init,de(X,H,De(J._payload),ye)}if(Ut(J)||ae(J))return De!==null?null:he(X,H,J,ye,null);bh(X,J)}return null}function Te(X,H,J,ye,De){if(typeof ye=="string"&&ye!==""||typeof ye=="number")return X=X.get(J)||null,B(H,X,""+ye,De);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case I:return X=X.get(ye.key===null?J:ye.key)||null,W(H,X,ye,De);case j:return X=X.get(ye.key===null?J:ye.key)||null,te(H,X,ye,De);case re:var Ue=ye._init;return Te(X,H,J,Ue(ye._payload),De)}if(Ut(ye)||ae(ye))return X=X.get(J)||null,he(H,X,ye,De,null);bh(H,ye)}return null}function Oe(X,H,J,ye){for(var De=null,Ue=null,Be=H,Ge=H=0,Tr=null;Be!==null&&Ge<J.length;Ge++){Be.index>Ge?(Tr=Be,Be=null):Tr=Be.sibling;var ft=de(X,Be,J[Ge],ye);if(ft===null){Be===null&&(Be=Tr);break}o&&Be&&ft.alternate===null&&l(X,Be),H=T(ft,H,Ge),Ue===null?De=ft:Ue.sibling=ft,Ue=ft,Be=Tr}if(Ge===J.length)return d(X,Be),Ft&&_s(X,Ge),De;if(Be===null){for(;Ge<J.length;Ge++)Be=ge(X,J[Ge],ye),Be!==null&&(H=T(Be,H,Ge),Ue===null?De=Be:Ue.sibling=Be,Ue=Be);return Ft&&_s(X,Ge),De}for(Be=g(X,Be);Ge<J.length;Ge++)Tr=Te(Be,X,Ge,J[Ge],ye),Tr!==null&&(o&&Tr.alternate!==null&&Be.delete(Tr.key===null?Ge:Tr.key),H=T(Tr,H,Ge),Ue===null?De=Tr:Ue.sibling=Tr,Ue=Tr);return o&&Be.forEach(function(Ro){return l(X,Ro)}),Ft&&_s(X,Ge),De}function Re(X,H,J,ye){var De=ae(J);if(typeof De!="function")throw Error(r(150));if(J=De.call(J),J==null)throw Error(r(151));for(var Ue=De=null,Be=H,Ge=H=0,Tr=null,ft=J.next();Be!==null&&!ft.done;Ge++,ft=J.next()){Be.index>Ge?(Tr=Be,Be=null):Tr=Be.sibling;var Ro=de(X,Be,ft.value,ye);if(Ro===null){Be===null&&(Be=Tr);break}o&&Be&&Ro.alternate===null&&l(X,Be),H=T(Ro,H,Ge),Ue===null?De=Ro:Ue.sibling=Ro,Ue=Ro,Be=Tr}if(ft.done)return d(X,Be),Ft&&_s(X,Ge),De;if(Be===null){for(;!ft.done;Ge++,ft=J.next())ft=ge(X,ft.value,ye),ft!==null&&(H=T(ft,H,Ge),Ue===null?De=ft:Ue.sibling=ft,Ue=ft);return Ft&&_s(X,Ge),De}for(Be=g(X,Be);!ft.done;Ge++,ft=J.next())ft=Te(Be,X,Ge,ft.value,ye),ft!==null&&(o&&ft.alternate!==null&&Be.delete(ft.key===null?Ge:ft.key),H=T(ft,H,Ge),Ue===null?De=ft:Ue.sibling=ft,Ue=ft);return o&&Be.forEach(function(DV){return l(X,DV)}),Ft&&_s(X,Ge),De}function rr(X,H,J,ye){if(typeof J=="object"&&J!==null&&J.type===A&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case I:e:{for(var De=J.key,Ue=H;Ue!==null;){if(Ue.key===De){if(De=J.type,De===A){if(Ue.tag===7){d(X,Ue.sibling),H=_(Ue,J.props.children),H.return=X,X=H;break e}}else if(Ue.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===re&&ET(De)===Ue.type){d(X,Ue.sibling),H=_(Ue,J.props),H.ref=Tc(X,Ue,J),H.return=X,X=H;break e}d(X,Ue);break}else l(X,Ue);Ue=Ue.sibling}J.type===A?(H=ks(J.props.children,X.mode,ye,J.key),H.return=X,X=H):(ye=qh(J.type,J.key,J.props,null,X.mode,ye),ye.ref=Tc(X,H,J),ye.return=X,X=ye)}return L(X);case j:e:{for(Ue=J.key;H!==null;){if(H.key===Ue)if(H.tag===4&&H.stateNode.containerInfo===J.containerInfo&&H.stateNode.implementation===J.implementation){d(X,H.sibling),H=_(H,J.children||[]),H.return=X,X=H;break e}else{d(X,H);break}else l(X,H);H=H.sibling}H=gv(J,X.mode,ye),H.return=X,X=H}return L(X);case re:return Ue=J._init,rr(X,H,Ue(J._payload),ye)}if(Ut(J))return Oe(X,H,J,ye);if(ae(J))return Re(X,H,J,ye);bh(X,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,H!==null&&H.tag===6?(d(X,H.sibling),H=_(H,J),H.return=X,X=H):(d(X,H),H=mv(J,X.mode,ye),H.return=X,X=H),L(X)):d(X,H)}return rr}var Vl=ST(!0),TT=ST(!1),_h=xo(null),xh=null,Ul=null,Ty=null;function Ay(){Ty=Ul=xh=null}function Py(o){var l=_h.current;Nt(_h),o._currentValue=l}function ky(o,l,d){for(;o!==null;){var g=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),o===d)break;o=o.return}}function Bl(o,l){xh=o,Ty=Ul=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&l)!==0&&(vn=!0),o.firstContext=null)}function ni(o){var l=o._currentValue;if(Ty!==o)if(o={context:o,memoizedValue:l,next:null},Ul===null){if(xh===null)throw Error(r(308));Ul=o,xh.dependencies={lanes:0,firstContext:o}}else Ul=Ul.next=o;return l}var xs=null;function Iy(o){xs===null?xs=[o]:xs.push(o)}function AT(o,l,d,g){var _=l.interleaved;return _===null?(d.next=d,Iy(l)):(d.next=_.next,_.next=d),l.interleaved=d,Ra(o,g)}function Ra(o,l){o.lanes|=l;var d=o.alternate;for(d!==null&&(d.lanes|=l),d=o,o=o.return;o!==null;)o.childLanes|=l,d=o.alternate,d!==null&&(d.childLanes|=l),d=o,o=o.return;return d.tag===3?d.stateNode:null}var So=!1;function Oy(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function PT(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Na(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function To(o,l,d){var g=o.updateQueue;if(g===null)return null;if(g=g.shared,(ct&2)!==0){var _=g.pending;return _===null?l.next=l:(l.next=_.next,_.next=l),g.pending=l,Ra(o,d)}return _=g.interleaved,_===null?(l.next=l,Iy(g)):(l.next=_.next,_.next=l),g.interleaved=l,Ra(o,d)}function wh(o,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194240)!==0)){var g=l.lanes;g&=o.pendingLanes,d|=g,l.lanes=d,po(o,d)}}function kT(o,l){var d=o.updateQueue,g=o.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var _=null,T=null;if(d=d.firstBaseUpdate,d!==null){do{var L={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};T===null?_=T=L:T=T.next=L,d=d.next}while(d!==null);T===null?_=T=l:T=T.next=l}else _=T=l;d={baseState:g.baseState,firstBaseUpdate:_,lastBaseUpdate:T,shared:g.shared,effects:g.effects},o.updateQueue=d;return}o=d.lastBaseUpdate,o===null?d.firstBaseUpdate=l:o.next=l,d.lastBaseUpdate=l}function Eh(o,l,d,g){var _=o.updateQueue;So=!1;var T=_.firstBaseUpdate,L=_.lastBaseUpdate,B=_.shared.pending;if(B!==null){_.shared.pending=null;var W=B,te=W.next;W.next=null,L===null?T=te:L.next=te,L=W;var he=o.alternate;he!==null&&(he=he.updateQueue,B=he.lastBaseUpdate,B!==L&&(B===null?he.firstBaseUpdate=te:B.next=te,he.lastBaseUpdate=W))}if(T!==null){var ge=_.baseState;L=0,he=te=W=null,B=T;do{var de=B.lane,Te=B.eventTime;if((g&de)===de){he!==null&&(he=he.next={eventTime:Te,lane:0,tag:B.tag,payload:B.payload,callback:B.callback,next:null});e:{var Oe=o,Re=B;switch(de=l,Te=d,Re.tag){case 1:if(Oe=Re.payload,typeof Oe=="function"){ge=Oe.call(Te,ge,de);break e}ge=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=Re.payload,de=typeof Oe=="function"?Oe.call(Te,ge,de):Oe,de==null)break e;ge=se({},ge,de);break e;case 2:So=!0}}B.callback!==null&&B.lane!==0&&(o.flags|=64,de=_.effects,de===null?_.effects=[B]:de.push(B))}else Te={eventTime:Te,lane:de,tag:B.tag,payload:B.payload,callback:B.callback,next:null},he===null?(te=he=Te,W=ge):he=he.next=Te,L|=de;if(B=B.next,B===null){if(B=_.shared.pending,B===null)break;de=B,B=de.next,de.next=null,_.lastBaseUpdate=de,_.shared.pending=null}}while(!0);if(he===null&&(W=ge),_.baseState=W,_.firstBaseUpdate=te,_.lastBaseUpdate=he,l=_.shared.interleaved,l!==null){_=l;do L|=_.lane,_=_.next;while(_!==l)}else T===null&&(_.shared.lanes=0);Ss|=L,o.lanes=L,o.memoizedState=ge}}function IT(o,l,d){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var g=o[l],_=g.callback;if(_!==null){if(g.callback=null,g=d,typeof _!="function")throw Error(r(191,_));_.call(g)}}}var Ac={},Xi=xo(Ac),Pc=xo(Ac),kc=xo(Ac);function ws(o){if(o===Ac)throw Error(r(174));return o}function Cy(o,l){switch(kt(kc,l),kt(Pc,o),kt(Xi,Ac),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:tr(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=tr(l,o)}Nt(Xi),kt(Xi,l)}function ql(){Nt(Xi),Nt(Pc),Nt(kc)}function OT(o){ws(kc.current);var l=ws(Xi.current),d=tr(l,o.type);l!==d&&(kt(Pc,o),kt(Xi,d))}function Ry(o){Pc.current===o&&(Nt(Xi),Nt(Pc))}var Wt=xo(0);function Sh(o){for(var l=o;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Ny=[];function jy(){for(var o=0;o<Ny.length;o++)Ny[o]._workInProgressVersionPrimary=null;Ny.length=0}var Th=$.ReactCurrentDispatcher,My=$.ReactCurrentBatchConfig,Es=0,Ht=null,dr=null,Er=null,Ah=!1,Ic=!1,Oc=0,iV=0;function zr(){throw Error(r(321))}function Dy(o,l){if(l===null)return!1;for(var d=0;d<l.length&&d<o.length;d++)if(!Si(o[d],l[d]))return!1;return!0}function Ly(o,l,d,g,_,T){if(Es=T,Ht=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Th.current=o===null||o.memoizedState===null?lV:uV,o=d(g,_),Ic){T=0;do{if(Ic=!1,Oc=0,25<=T)throw Error(r(301));T+=1,Er=dr=null,l.updateQueue=null,Th.current=cV,o=d(g,_)}while(Ic)}if(Th.current=Ih,l=dr!==null&&dr.next!==null,Es=0,Er=dr=Ht=null,Ah=!1,l)throw Error(r(300));return o}function $y(){var o=Oc!==0;return Oc=0,o}function Qi(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Er===null?Ht.memoizedState=Er=o:Er=Er.next=o,Er}function ii(){if(dr===null){var o=Ht.alternate;o=o!==null?o.memoizedState:null}else o=dr.next;var l=Er===null?Ht.memoizedState:Er.next;if(l!==null)Er=l,dr=o;else{if(o===null)throw Error(r(310));dr=o,o={memoizedState:dr.memoizedState,baseState:dr.baseState,baseQueue:dr.baseQueue,queue:dr.queue,next:null},Er===null?Ht.memoizedState=Er=o:Er=Er.next=o}return Er}function Cc(o,l){return typeof l=="function"?l(o):l}function Fy(o){var l=ii(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=o;var g=dr,_=g.baseQueue,T=d.pending;if(T!==null){if(_!==null){var L=_.next;_.next=T.next,T.next=L}g.baseQueue=_=T,d.pending=null}if(_!==null){T=_.next,g=g.baseState;var B=L=null,W=null,te=T;do{var he=te.lane;if((Es&he)===he)W!==null&&(W=W.next={lane:0,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),g=te.hasEagerState?te.eagerState:o(g,te.action);else{var ge={lane:he,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null};W===null?(B=W=ge,L=g):W=W.next=ge,Ht.lanes|=he,Ss|=he}te=te.next}while(te!==null&&te!==T);W===null?L=g:W.next=B,Si(g,l.memoizedState)||(vn=!0),l.memoizedState=g,l.baseState=L,l.baseQueue=W,d.lastRenderedState=g}if(o=d.interleaved,o!==null){_=o;do T=_.lane,Ht.lanes|=T,Ss|=T,_=_.next;while(_!==o)}else _===null&&(d.lanes=0);return[l.memoizedState,d.dispatch]}function Vy(o){var l=ii(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=o;var g=d.dispatch,_=d.pending,T=l.memoizedState;if(_!==null){d.pending=null;var L=_=_.next;do T=o(T,L.action),L=L.next;while(L!==_);Si(T,l.memoizedState)||(vn=!0),l.memoizedState=T,l.baseQueue===null&&(l.baseState=T),d.lastRenderedState=T}return[T,g]}function CT(){}function RT(o,l){var d=Ht,g=ii(),_=l(),T=!Si(g.memoizedState,_);if(T&&(g.memoizedState=_,vn=!0),g=g.queue,Uy(MT.bind(null,d,g,o),[o]),g.getSnapshot!==l||T||Er!==null&&Er.memoizedState.tag&1){if(d.flags|=2048,Rc(9,jT.bind(null,d,g,_,l),void 0,null),Sr===null)throw Error(r(349));(Es&30)!==0||NT(d,l,_)}return _}function NT(o,l,d){o.flags|=16384,o={getSnapshot:l,value:d},l=Ht.updateQueue,l===null?(l={lastEffect:null,stores:null},Ht.updateQueue=l,l.stores=[o]):(d=l.stores,d===null?l.stores=[o]:d.push(o))}function jT(o,l,d,g){l.value=d,l.getSnapshot=g,DT(l)&&LT(o)}function MT(o,l,d){return d(function(){DT(l)&&LT(o)})}function DT(o){var l=o.getSnapshot;o=o.value;try{var d=l();return!Si(o,d)}catch{return!0}}function LT(o){var l=Ra(o,1);l!==null&&Ii(l,o,1,-1)}function $T(o){var l=Qi();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cc,lastRenderedState:o},l.queue=o,o=o.dispatch=sV.bind(null,Ht,o),[l.memoizedState,o]}function Rc(o,l,d,g){return o={tag:o,create:l,destroy:d,deps:g,next:null},l=Ht.updateQueue,l===null?(l={lastEffect:null,stores:null},Ht.updateQueue=l,l.lastEffect=o.next=o):(d=l.lastEffect,d===null?l.lastEffect=o.next=o:(g=d.next,d.next=o,o.next=g,l.lastEffect=o)),o}function FT(){return ii().memoizedState}function Ph(o,l,d,g){var _=Qi();Ht.flags|=o,_.memoizedState=Rc(1|l,d,void 0,g===void 0?null:g)}function kh(o,l,d,g){var _=ii();g=g===void 0?null:g;var T=void 0;if(dr!==null){var L=dr.memoizedState;if(T=L.destroy,g!==null&&Dy(g,L.deps)){_.memoizedState=Rc(l,d,T,g);return}}Ht.flags|=o,_.memoizedState=Rc(1|l,d,T,g)}function VT(o,l){return Ph(8390656,8,o,l)}function Uy(o,l){return kh(2048,8,o,l)}function UT(o,l){return kh(4,2,o,l)}function BT(o,l){return kh(4,4,o,l)}function qT(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function zT(o,l,d){return d=d!=null?d.concat([o]):null,kh(4,4,qT.bind(null,l,o),d)}function By(){}function WT(o,l){var d=ii();l=l===void 0?null:l;var g=d.memoizedState;return g!==null&&l!==null&&Dy(l,g[1])?g[0]:(d.memoizedState=[o,l],o)}function HT(o,l){var d=ii();l=l===void 0?null:l;var g=d.memoizedState;return g!==null&&l!==null&&Dy(l,g[1])?g[0]:(o=o(),d.memoizedState=[o,l],o)}function KT(o,l,d){return(Es&21)===0?(o.baseState&&(o.baseState=!1,vn=!0),o.memoizedState=d):(Si(d,l)||(d=ds(),Ht.lanes|=d,Ss|=d,o.baseState=!0),l)}function aV(o,l){var d=at;at=d!==0&&4>d?d:4,o(!0);var g=My.transition;My.transition={};try{o(!1),l()}finally{at=d,My.transition=g}}function GT(){return ii().memoizedState}function oV(o,l,d){var g=Io(o);if(d={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null},YT(o))XT(l,d);else if(d=AT(o,l,d,g),d!==null){var _=an();Ii(d,o,g,_),QT(d,l,g)}}function sV(o,l,d){var g=Io(o),_={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null};if(YT(o))XT(l,_);else{var T=o.alternate;if(o.lanes===0&&(T===null||T.lanes===0)&&(T=l.lastRenderedReducer,T!==null))try{var L=l.lastRenderedState,B=T(L,d);if(_.hasEagerState=!0,_.eagerState=B,Si(B,L)){var W=l.interleaved;W===null?(_.next=_,Iy(l)):(_.next=W.next,W.next=_),l.interleaved=_;return}}catch{}finally{}d=AT(o,l,_,g),d!==null&&(_=an(),Ii(d,o,g,_),QT(d,l,g))}}function YT(o){var l=o.alternate;return o===Ht||l!==null&&l===Ht}function XT(o,l){Ic=Ah=!0;var d=o.pending;d===null?l.next=l:(l.next=d.next,d.next=l),o.pending=l}function QT(o,l,d){if((d&4194240)!==0){var g=l.lanes;g&=o.pendingLanes,d|=g,l.lanes=d,po(o,d)}}var Ih={readContext:ni,useCallback:zr,useContext:zr,useEffect:zr,useImperativeHandle:zr,useInsertionEffect:zr,useLayoutEffect:zr,useMemo:zr,useReducer:zr,useRef:zr,useState:zr,useDebugValue:zr,useDeferredValue:zr,useTransition:zr,useMutableSource:zr,useSyncExternalStore:zr,useId:zr,unstable_isNewReconciler:!1},lV={readContext:ni,useCallback:function(o,l){return Qi().memoizedState=[o,l===void 0?null:l],o},useContext:ni,useEffect:VT,useImperativeHandle:function(o,l,d){return d=d!=null?d.concat([o]):null,Ph(4194308,4,qT.bind(null,l,o),d)},useLayoutEffect:function(o,l){return Ph(4194308,4,o,l)},useInsertionEffect:function(o,l){return Ph(4,2,o,l)},useMemo:function(o,l){var d=Qi();return l=l===void 0?null:l,o=o(),d.memoizedState=[o,l],o},useReducer:function(o,l,d){var g=Qi();return l=d!==void 0?d(l):l,g.memoizedState=g.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},g.queue=o,o=o.dispatch=oV.bind(null,Ht,o),[g.memoizedState,o]},useRef:function(o){var l=Qi();return o={current:o},l.memoizedState=o},useState:$T,useDebugValue:By,useDeferredValue:function(o){return Qi().memoizedState=o},useTransition:function(){var o=$T(!1),l=o[0];return o=aV.bind(null,o[1]),Qi().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,d){var g=Ht,_=Qi();if(Ft){if(d===void 0)throw Error(r(407));d=d()}else{if(d=l(),Sr===null)throw Error(r(349));(Es&30)!==0||NT(g,l,d)}_.memoizedState=d;var T={value:d,getSnapshot:l};return _.queue=T,VT(MT.bind(null,g,T,o),[o]),g.flags|=2048,Rc(9,jT.bind(null,g,T,d,l),void 0,null),d},useId:function(){var o=Qi(),l=Sr.identifierPrefix;if(Ft){var d=Ca,g=Oa;d=(g&~(1<<32-tn(g)-1)).toString(32)+d,l=":"+l+"R"+d,d=Oc++,0<d&&(l+="H"+d.toString(32)),l+=":"}else d=iV++,l=":"+l+"r"+d.toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},uV={readContext:ni,useCallback:WT,useContext:ni,useEffect:Uy,useImperativeHandle:zT,useInsertionEffect:UT,useLayoutEffect:BT,useMemo:HT,useReducer:Fy,useRef:FT,useState:function(){return Fy(Cc)},useDebugValue:By,useDeferredValue:function(o){var l=ii();return KT(l,dr.memoizedState,o)},useTransition:function(){var o=Fy(Cc)[0],l=ii().memoizedState;return[o,l]},useMutableSource:CT,useSyncExternalStore:RT,useId:GT,unstable_isNewReconciler:!1},cV={readContext:ni,useCallback:WT,useContext:ni,useEffect:Uy,useImperativeHandle:zT,useInsertionEffect:UT,useLayoutEffect:BT,useMemo:HT,useReducer:Vy,useRef:FT,useState:function(){return Vy(Cc)},useDebugValue:By,useDeferredValue:function(o){var l=ii();return dr===null?l.memoizedState=o:KT(l,dr.memoizedState,o)},useTransition:function(){var o=Vy(Cc)[0],l=ii().memoizedState;return[o,l]},useMutableSource:CT,useSyncExternalStore:RT,useId:GT,unstable_isNewReconciler:!1};function Ai(o,l){if(o&&o.defaultProps){l=se({},l),o=o.defaultProps;for(var d in o)l[d]===void 0&&(l[d]=o[d]);return l}return l}function qy(o,l,d,g){l=o.memoizedState,d=d(g,l),d=d==null?l:se({},l,d),o.memoizedState=d,o.lanes===0&&(o.updateQueue.baseState=d)}var Oh={isMounted:function(o){return(o=o._reactInternals)?Ce(o)===o:!1},enqueueSetState:function(o,l,d){o=o._reactInternals;var g=an(),_=Io(o),T=Na(g,_);T.payload=l,d!=null&&(T.callback=d),l=To(o,T,_),l!==null&&(Ii(l,o,_,g),wh(l,o,_))},enqueueReplaceState:function(o,l,d){o=o._reactInternals;var g=an(),_=Io(o),T=Na(g,_);T.tag=1,T.payload=l,d!=null&&(T.callback=d),l=To(o,T,_),l!==null&&(Ii(l,o,_,g),wh(l,o,_))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var d=an(),g=Io(o),_=Na(d,g);_.tag=2,l!=null&&(_.callback=l),l=To(o,_,g),l!==null&&(Ii(l,o,g,d),wh(l,o,g))}};function JT(o,l,d,g,_,T,L){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(g,T,L):l.prototype&&l.prototype.isPureReactComponent?!vc(d,g)||!vc(_,T):!0}function ZT(o,l,d){var g=!1,_=wo,T=l.contextType;return typeof T=="object"&&T!==null?T=ni(T):(_=yn(l)?vs:qr.current,g=l.contextTypes,T=(g=g!=null)?Dl(o,_):wo),l=new l(d,T),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Oh,o.stateNode=l,l._reactInternals=o,g&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=_,o.__reactInternalMemoizedMaskedChildContext=T),l}function eA(o,l,d,g){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,g),l.state!==o&&Oh.enqueueReplaceState(l,l.state,null)}function zy(o,l,d,g){var _=o.stateNode;_.props=d,_.state=o.memoizedState,_.refs={},Oy(o);var T=l.contextType;typeof T=="object"&&T!==null?_.context=ni(T):(T=yn(l)?vs:qr.current,_.context=Dl(o,T)),_.state=o.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(qy(o,l,T,d),_.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(l=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),l!==_.state&&Oh.enqueueReplaceState(_,_.state,null),Eh(o,d,_,g),_.state=o.memoizedState),typeof _.componentDidMount=="function"&&(o.flags|=4194308)}function zl(o,l){try{var d="",g=l;do d+=je(g),g=g.return;while(g);var _=d}catch(T){_=`
Error generating stack: `+T.message+`
`+T.stack}return{value:o,source:l,stack:_,digest:null}}function Wy(o,l,d){return{value:o,source:null,stack:d??null,digest:l??null}}function Hy(o,l){try{console.error(l.value)}catch(d){setTimeout(function(){throw d})}}var fV=typeof WeakMap=="function"?WeakMap:Map;function tA(o,l,d){d=Na(-1,d),d.tag=3,d.payload={element:null};var g=l.value;return d.callback=function(){Lh||(Lh=!0,sv=g),Hy(o,l)},d}function rA(o,l,d){d=Na(-1,d),d.tag=3;var g=o.type.getDerivedStateFromError;if(typeof g=="function"){var _=l.value;d.payload=function(){return g(_)},d.callback=function(){Hy(o,l)}}var T=o.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(d.callback=function(){Hy(o,l),typeof g!="function"&&(Po===null?Po=new Set([this]):Po.add(this));var L=l.stack;this.componentDidCatch(l.value,{componentStack:L!==null?L:""})}),d}function nA(o,l,d){var g=o.pingCache;if(g===null){g=o.pingCache=new fV;var _=new Set;g.set(l,_)}else _=g.get(l),_===void 0&&(_=new Set,g.set(l,_));_.has(d)||(_.add(d),o=TV.bind(null,o,l,d),l.then(o,o))}function iA(o){do{var l;if((l=o.tag===13)&&(l=o.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return o;o=o.return}while(o!==null);return null}function aA(o,l,d,g,_){return(o.mode&1)===0?(o===l?o.flags|=65536:(o.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(l=Na(-1,1),l.tag=2,To(d,l,1))),d.lanes|=1),o):(o.flags|=65536,o.lanes=_,o)}var dV=$.ReactCurrentOwner,vn=!1;function nn(o,l,d,g){l.child=o===null?TT(l,null,d,g):Vl(l,o.child,d,g)}function oA(o,l,d,g,_){d=d.render;var T=l.ref;return Bl(l,_),g=Ly(o,l,d,g,T,_),d=$y(),o!==null&&!vn?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~_,ja(o,l,_)):(Ft&&d&&_y(l),l.flags|=1,nn(o,l,g,_),l.child)}function sA(o,l,d,g,_){if(o===null){var T=d.type;return typeof T=="function"&&!pv(T)&&T.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(l.tag=15,l.type=T,lA(o,l,T,g,_)):(o=qh(d.type,null,g,l,l.mode,_),o.ref=l.ref,o.return=l,l.child=o)}if(T=o.child,(o.lanes&_)===0){var L=T.memoizedProps;if(d=d.compare,d=d!==null?d:vc,d(L,g)&&o.ref===l.ref)return ja(o,l,_)}return l.flags|=1,o=Co(T,g),o.ref=l.ref,o.return=l,l.child=o}function lA(o,l,d,g,_){if(o!==null){var T=o.memoizedProps;if(vc(T,g)&&o.ref===l.ref)if(vn=!1,l.pendingProps=g=T,(o.lanes&_)!==0)(o.flags&131072)!==0&&(vn=!0);else return l.lanes=o.lanes,ja(o,l,_)}return Ky(o,l,d,g,_)}function uA(o,l,d){var g=l.pendingProps,_=g.children,T=o!==null?o.memoizedState:null;if(g.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},kt(Hl,$n),$n|=d;else{if((d&1073741824)===0)return o=T!==null?T.baseLanes|d:d,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,kt(Hl,$n),$n|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=T!==null?T.baseLanes:d,kt(Hl,$n),$n|=g}else T!==null?(g=T.baseLanes|d,l.memoizedState=null):g=d,kt(Hl,$n),$n|=g;return nn(o,l,_,d),l.child}function cA(o,l){var d=l.ref;(o===null&&d!==null||o!==null&&o.ref!==d)&&(l.flags|=512,l.flags|=2097152)}function Ky(o,l,d,g,_){var T=yn(d)?vs:qr.current;return T=Dl(l,T),Bl(l,_),d=Ly(o,l,d,g,T,_),g=$y(),o!==null&&!vn?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~_,ja(o,l,_)):(Ft&&g&&_y(l),l.flags|=1,nn(o,l,d,_),l.child)}function fA(o,l,d,g,_){if(yn(d)){var T=!0;ph(l)}else T=!1;if(Bl(l,_),l.stateNode===null)Rh(o,l),ZT(l,d,g),zy(l,d,g,_),g=!0;else if(o===null){var L=l.stateNode,B=l.memoizedProps;L.props=B;var W=L.context,te=d.contextType;typeof te=="object"&&te!==null?te=ni(te):(te=yn(d)?vs:qr.current,te=Dl(l,te));var he=d.getDerivedStateFromProps,ge=typeof he=="function"||typeof L.getSnapshotBeforeUpdate=="function";ge||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(B!==g||W!==te)&&eA(l,L,g,te),So=!1;var de=l.memoizedState;L.state=de,Eh(l,g,L,_),W=l.memoizedState,B!==g||de!==W||gn.current||So?(typeof he=="function"&&(qy(l,d,he,g),W=l.memoizedState),(B=So||JT(l,d,B,g,de,W,te))?(ge||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(l.flags|=4194308)):(typeof L.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=W),L.props=g,L.state=W,L.context=te,g=B):(typeof L.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{L=l.stateNode,PT(o,l),B=l.memoizedProps,te=l.type===l.elementType?B:Ai(l.type,B),L.props=te,ge=l.pendingProps,de=L.context,W=d.contextType,typeof W=="object"&&W!==null?W=ni(W):(W=yn(d)?vs:qr.current,W=Dl(l,W));var Te=d.getDerivedStateFromProps;(he=typeof Te=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(B!==ge||de!==W)&&eA(l,L,g,W),So=!1,de=l.memoizedState,L.state=de,Eh(l,g,L,_);var Oe=l.memoizedState;B!==ge||de!==Oe||gn.current||So?(typeof Te=="function"&&(qy(l,d,Te,g),Oe=l.memoizedState),(te=So||JT(l,d,te,g,de,Oe,W)||!1)?(he||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(g,Oe,W),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(g,Oe,W)),typeof L.componentDidUpdate=="function"&&(l.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof L.componentDidUpdate!="function"||B===o.memoizedProps&&de===o.memoizedState||(l.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||B===o.memoizedProps&&de===o.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=Oe),L.props=g,L.state=Oe,L.context=W,g=te):(typeof L.componentDidUpdate!="function"||B===o.memoizedProps&&de===o.memoizedState||(l.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||B===o.memoizedProps&&de===o.memoizedState||(l.flags|=1024),g=!1)}return Gy(o,l,d,g,T,_)}function Gy(o,l,d,g,_,T){cA(o,l);var L=(l.flags&128)!==0;if(!g&&!L)return _&&gT(l,d,!1),ja(o,l,T);g=l.stateNode,dV.current=l;var B=L&&typeof d.getDerivedStateFromError!="function"?null:g.render();return l.flags|=1,o!==null&&L?(l.child=Vl(l,o.child,null,T),l.child=Vl(l,null,B,T)):nn(o,l,B,T),l.memoizedState=g.state,_&&gT(l,d,!0),l.child}function dA(o){var l=o.stateNode;l.pendingContext?pT(o,l.pendingContext,l.pendingContext!==l.context):l.context&&pT(o,l.context,!1),Cy(o,l.containerInfo)}function hA(o,l,d,g,_){return Fl(),Sy(_),l.flags|=256,nn(o,l,d,g),l.child}var Yy={dehydrated:null,treeContext:null,retryLane:0};function Xy(o){return{baseLanes:o,cachePool:null,transitions:null}}function pA(o,l,d){var g=l.pendingProps,_=Wt.current,T=!1,L=(l.flags&128)!==0,B;if((B=L)||(B=o!==null&&o.memoizedState===null?!1:(_&2)!==0),B?(T=!0,l.flags&=-129):(o===null||o.memoizedState!==null)&&(_|=1),kt(Wt,_&1),o===null)return Ey(l),o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((l.mode&1)===0?l.lanes=1:o.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(L=g.children,o=g.fallback,T?(g=l.mode,T=l.child,L={mode:"hidden",children:L},(g&1)===0&&T!==null?(T.childLanes=0,T.pendingProps=L):T=zh(L,g,0,null),o=ks(o,g,d,null),T.return=l,o.return=l,T.sibling=o,l.child=T,l.child.memoizedState=Xy(d),l.memoizedState=Yy,o):Qy(l,L));if(_=o.memoizedState,_!==null&&(B=_.dehydrated,B!==null))return hV(o,l,L,g,B,_,d);if(T){T=g.fallback,L=l.mode,_=o.child,B=_.sibling;var W={mode:"hidden",children:g.children};return(L&1)===0&&l.child!==_?(g=l.child,g.childLanes=0,g.pendingProps=W,l.deletions=null):(g=Co(_,W),g.subtreeFlags=_.subtreeFlags&14680064),B!==null?T=Co(B,T):(T=ks(T,L,d,null),T.flags|=2),T.return=l,g.return=l,g.sibling=T,l.child=g,g=T,T=l.child,L=o.child.memoizedState,L=L===null?Xy(d):{baseLanes:L.baseLanes|d,cachePool:null,transitions:L.transitions},T.memoizedState=L,T.childLanes=o.childLanes&~d,l.memoizedState=Yy,g}return T=o.child,o=T.sibling,g=Co(T,{mode:"visible",children:g.children}),(l.mode&1)===0&&(g.lanes=d),g.return=l,g.sibling=null,o!==null&&(d=l.deletions,d===null?(l.deletions=[o],l.flags|=16):d.push(o)),l.child=g,l.memoizedState=null,g}function Qy(o,l){return l=zh({mode:"visible",children:l},o.mode,0,null),l.return=o,o.child=l}function Ch(o,l,d,g){return g!==null&&Sy(g),Vl(l,o.child,null,d),o=Qy(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function hV(o,l,d,g,_,T,L){if(d)return l.flags&256?(l.flags&=-257,g=Wy(Error(r(422))),Ch(o,l,L,g)):l.memoizedState!==null?(l.child=o.child,l.flags|=128,null):(T=g.fallback,_=l.mode,g=zh({mode:"visible",children:g.children},_,0,null),T=ks(T,_,L,null),T.flags|=2,g.return=l,T.return=l,g.sibling=T,l.child=g,(l.mode&1)!==0&&Vl(l,o.child,null,L),l.child.memoizedState=Xy(L),l.memoizedState=Yy,T);if((l.mode&1)===0)return Ch(o,l,L,null);if(_.data==="$!"){if(g=_.nextSibling&&_.nextSibling.dataset,g)var B=g.dgst;return g=B,T=Error(r(419)),g=Wy(T,g,void 0),Ch(o,l,L,g)}if(B=(L&o.childLanes)!==0,vn||B){if(g=Sr,g!==null){switch(L&-L){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=(_&(g.suspendedLanes|L))!==0?0:_,_!==0&&_!==T.retryLane&&(T.retryLane=_,Ra(o,_),Ii(g,o,_,-1))}return hv(),g=Wy(Error(r(421))),Ch(o,l,L,g)}return _.data==="$?"?(l.flags|=128,l.child=o.child,l=AV.bind(null,o),_._reactRetry=l,null):(o=T.treeContext,Ln=_o(_.nextSibling),Dn=l,Ft=!0,Ti=null,o!==null&&(ti[ri++]=Oa,ti[ri++]=Ca,ti[ri++]=bs,Oa=o.id,Ca=o.overflow,bs=l),l=Qy(l,g.children),l.flags|=4096,l)}function mA(o,l,d){o.lanes|=l;var g=o.alternate;g!==null&&(g.lanes|=l),ky(o.return,l,d)}function Jy(o,l,d,g,_){var T=o.memoizedState;T===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:_}:(T.isBackwards=l,T.rendering=null,T.renderingStartTime=0,T.last=g,T.tail=d,T.tailMode=_)}function gA(o,l,d){var g=l.pendingProps,_=g.revealOrder,T=g.tail;if(nn(o,l,g.children,d),g=Wt.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&mA(o,d,l);else if(o.tag===19)mA(o,d,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}g&=1}if(kt(Wt,g),(l.mode&1)===0)l.memoizedState=null;else switch(_){case"forwards":for(d=l.child,_=null;d!==null;)o=d.alternate,o!==null&&Sh(o)===null&&(_=d),d=d.sibling;d=_,d===null?(_=l.child,l.child=null):(_=d.sibling,d.sibling=null),Jy(l,!1,_,d,T);break;case"backwards":for(d=null,_=l.child,l.child=null;_!==null;){if(o=_.alternate,o!==null&&Sh(o)===null){l.child=_;break}o=_.sibling,_.sibling=d,d=_,_=o}Jy(l,!0,d,null,T);break;case"together":Jy(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Rh(o,l){(l.mode&1)===0&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function ja(o,l,d){if(o!==null&&(l.dependencies=o.dependencies),Ss|=l.lanes,(d&l.childLanes)===0)return null;if(o!==null&&l.child!==o.child)throw Error(r(153));if(l.child!==null){for(o=l.child,d=Co(o,o.pendingProps),l.child=d,d.return=l;o.sibling!==null;)o=o.sibling,d=d.sibling=Co(o,o.pendingProps),d.return=l;d.sibling=null}return l.child}function pV(o,l,d){switch(l.tag){case 3:dA(l),Fl();break;case 5:OT(l);break;case 1:yn(l.type)&&ph(l);break;case 4:Cy(l,l.stateNode.containerInfo);break;case 10:var g=l.type._context,_=l.memoizedProps.value;kt(_h,g._currentValue),g._currentValue=_;break;case 13:if(g=l.memoizedState,g!==null)return g.dehydrated!==null?(kt(Wt,Wt.current&1),l.flags|=128,null):(d&l.child.childLanes)!==0?pA(o,l,d):(kt(Wt,Wt.current&1),o=ja(o,l,d),o!==null?o.sibling:null);kt(Wt,Wt.current&1);break;case 19:if(g=(d&l.childLanes)!==0,(o.flags&128)!==0){if(g)return gA(o,l,d);l.flags|=128}if(_=l.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),kt(Wt,Wt.current),g)break;return null;case 22:case 23:return l.lanes=0,uA(o,l,d)}return ja(o,l,d)}var yA,Zy,vA,bA;yA=function(o,l){for(var d=l.child;d!==null;){if(d.tag===5||d.tag===6)o.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Zy=function(){},vA=function(o,l,d,g){var _=o.memoizedProps;if(_!==g){o=l.stateNode,ws(Xi.current);var T=null;switch(d){case"input":_=He(o,_),g=He(o,g),T=[];break;case"select":_=se({},_,{value:void 0}),g=se({},g,{value:void 0}),T=[];break;case"textarea":_=Cr(o,_),g=Cr(o,g),T=[];break;default:typeof _.onClick!="function"&&typeof g.onClick=="function"&&(o.onclick=fh)}ss(d,g);var L;d=null;for(te in _)if(!g.hasOwnProperty(te)&&_.hasOwnProperty(te)&&_[te]!=null)if(te==="style"){var B=_[te];for(L in B)B.hasOwnProperty(L)&&(d||(d={}),d[L]="")}else te!=="dangerouslySetInnerHTML"&&te!=="children"&&te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&te!=="autoFocus"&&(i.hasOwnProperty(te)?T||(T=[]):(T=T||[]).push(te,null));for(te in g){var W=g[te];if(B=_?.[te],g.hasOwnProperty(te)&&W!==B&&(W!=null||B!=null))if(te==="style")if(B){for(L in B)!B.hasOwnProperty(L)||W&&W.hasOwnProperty(L)||(d||(d={}),d[L]="");for(L in W)W.hasOwnProperty(L)&&B[L]!==W[L]&&(d||(d={}),d[L]=W[L])}else d||(T||(T=[]),T.push(te,d)),d=W;else te==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,B=B?B.__html:void 0,W!=null&&B!==W&&(T=T||[]).push(te,W)):te==="children"?typeof W!="string"&&typeof W!="number"||(T=T||[]).push(te,""+W):te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&(i.hasOwnProperty(te)?(W!=null&&te==="onScroll"&&Rt("scroll",o),T||B===W||(T=[])):(T=T||[]).push(te,W))}d&&(T=T||[]).push("style",d);var te=T;(l.updateQueue=te)&&(l.flags|=4)}},bA=function(o,l,d,g){d!==g&&(l.flags|=4)};function Nc(o,l){if(!Ft)switch(o.tailMode){case"hidden":l=o.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o.tail=null:d.sibling=null;break;case"collapsed":d=o.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:g.sibling=null}}function Wr(o){var l=o.alternate!==null&&o.alternate.child===o.child,d=0,g=0;if(l)for(var _=o.child;_!==null;)d|=_.lanes|_.childLanes,g|=_.subtreeFlags&14680064,g|=_.flags&14680064,_.return=o,_=_.sibling;else for(_=o.child;_!==null;)d|=_.lanes|_.childLanes,g|=_.subtreeFlags,g|=_.flags,_.return=o,_=_.sibling;return o.subtreeFlags|=g,o.childLanes=d,l}function mV(o,l,d){var g=l.pendingProps;switch(xy(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wr(l),null;case 1:return yn(l.type)&&hh(),Wr(l),null;case 3:return g=l.stateNode,ql(),Nt(gn),Nt(qr),jy(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(o===null||o.child===null)&&(vh(l)?l.flags|=4:o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Ti!==null&&(cv(Ti),Ti=null))),Zy(o,l),Wr(l),null;case 5:Ry(l);var _=ws(kc.current);if(d=l.type,o!==null&&l.stateNode!=null)vA(o,l,d,g,_),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!g){if(l.stateNode===null)throw Error(r(166));return Wr(l),null}if(o=ws(Xi.current),vh(l)){g=l.stateNode,d=l.type;var T=l.memoizedProps;switch(g[Yi]=l,g[Ec]=T,o=(l.mode&1)!==0,d){case"dialog":Rt("cancel",g),Rt("close",g);break;case"iframe":case"object":case"embed":Rt("load",g);break;case"video":case"audio":for(_=0;_<_c.length;_++)Rt(_c[_],g);break;case"source":Rt("error",g);break;case"img":case"image":case"link":Rt("error",g),Rt("load",g);break;case"details":Rt("toggle",g);break;case"input":mt(g,T),Rt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!T.multiple},Rt("invalid",g);break;case"textarea":en(g,T),Rt("invalid",g)}ss(d,T),_=null;for(var L in T)if(T.hasOwnProperty(L)){var B=T[L];L==="children"?typeof B=="string"?g.textContent!==B&&(T.suppressHydrationWarning!==!0&&ch(g.textContent,B,o),_=["children",B]):typeof B=="number"&&g.textContent!==""+B&&(T.suppressHydrationWarning!==!0&&ch(g.textContent,B,o),_=["children",""+B]):i.hasOwnProperty(L)&&B!=null&&L==="onScroll"&&Rt("scroll",g)}switch(d){case"input":ze(g),cr(g,T,!0);break;case"textarea":ze(g),Ui(g);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(g.onclick=fh)}g=_,l.updateQueue=g,g!==null&&(l.flags|=4)}else{L=_.nodeType===9?_:_.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Xt(d)),o==="http://www.w3.org/1999/xhtml"?d==="script"?(o=L.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof g.is=="string"?o=L.createElement(d,{is:g.is}):(o=L.createElement(d),d==="select"&&(L=o,g.multiple?L.multiple=!0:g.size&&(L.size=g.size))):o=L.createElementNS(o,d),o[Yi]=l,o[Ec]=g,yA(o,l,!1,!1),l.stateNode=o;e:{switch(L=ya(d,g),d){case"dialog":Rt("cancel",o),Rt("close",o),_=g;break;case"iframe":case"object":case"embed":Rt("load",o),_=g;break;case"video":case"audio":for(_=0;_<_c.length;_++)Rt(_c[_],o);_=g;break;case"source":Rt("error",o),_=g;break;case"img":case"image":case"link":Rt("error",o),Rt("load",o),_=g;break;case"details":Rt("toggle",o),_=g;break;case"input":mt(o,g),_=He(o,g),Rt("invalid",o);break;case"option":_=g;break;case"select":o._wrapperState={wasMultiple:!!g.multiple},_=se({},g,{value:void 0}),Rt("invalid",o);break;case"textarea":en(o,g),_=Cr(o,g),Rt("invalid",o);break;default:_=g}ss(d,_),B=_;for(T in B)if(B.hasOwnProperty(T)){var W=B[T];T==="style"?gi(o,W):T==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,W!=null&&os(o,W)):T==="children"?typeof W=="string"?(d!=="textarea"||W!=="")&&Bi(o,W):typeof W=="number"&&Bi(o,""+W):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(i.hasOwnProperty(T)?W!=null&&T==="onScroll"&&Rt("scroll",o):W!=null&&R(o,T,W,L))}switch(d){case"input":ze(o),cr(o,g,!1);break;case"textarea":ze(o),Ui(o);break;case"option":g.value!=null&&o.setAttribute("value",""+Ve(g.value));break;case"select":o.multiple=!!g.multiple,T=g.value,T!=null?Bt(o,!!g.multiple,T,!1):g.defaultValue!=null&&Bt(o,!!g.multiple,g.defaultValue,!0);break;default:typeof _.onClick=="function"&&(o.onclick=fh)}switch(d){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Wr(l),null;case 6:if(o&&l.stateNode!=null)bA(o,l,o.memoizedProps,g);else{if(typeof g!="string"&&l.stateNode===null)throw Error(r(166));if(d=ws(kc.current),ws(Xi.current),vh(l)){if(g=l.stateNode,d=l.memoizedProps,g[Yi]=l,(T=g.nodeValue!==d)&&(o=Dn,o!==null))switch(o.tag){case 3:ch(g.nodeValue,d,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&ch(g.nodeValue,d,(o.mode&1)!==0)}T&&(l.flags|=4)}else g=(d.nodeType===9?d:d.ownerDocument).createTextNode(g),g[Yi]=l,l.stateNode=g}return Wr(l),null;case 13:if(Nt(Wt),g=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Ft&&Ln!==null&&(l.mode&1)!==0&&(l.flags&128)===0)wT(),Fl(),l.flags|=98560,T=!1;else if(T=vh(l),g!==null&&g.dehydrated!==null){if(o===null){if(!T)throw Error(r(318));if(T=l.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(r(317));T[Yi]=l}else Fl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Wr(l),T=!1}else Ti!==null&&(cv(Ti),Ti=null),T=!0;if(!T)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=d,l):(g=g!==null,g!==(o!==null&&o.memoizedState!==null)&&g&&(l.child.flags|=8192,(l.mode&1)!==0&&(o===null||(Wt.current&1)!==0?hr===0&&(hr=3):hv())),l.updateQueue!==null&&(l.flags|=4),Wr(l),null);case 4:return ql(),Zy(o,l),o===null&&xc(l.stateNode.containerInfo),Wr(l),null;case 10:return Py(l.type._context),Wr(l),null;case 17:return yn(l.type)&&hh(),Wr(l),null;case 19:if(Nt(Wt),T=l.memoizedState,T===null)return Wr(l),null;if(g=(l.flags&128)!==0,L=T.rendering,L===null)if(g)Nc(T,!1);else{if(hr!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(L=Sh(o),L!==null){for(l.flags|=128,Nc(T,!1),g=L.updateQueue,g!==null&&(l.updateQueue=g,l.flags|=4),l.subtreeFlags=0,g=d,d=l.child;d!==null;)T=d,o=g,T.flags&=14680066,L=T.alternate,L===null?(T.childLanes=0,T.lanes=o,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=L.childLanes,T.lanes=L.lanes,T.child=L.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=L.memoizedProps,T.memoizedState=L.memoizedState,T.updateQueue=L.updateQueue,T.type=L.type,o=L.dependencies,T.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),d=d.sibling;return kt(Wt,Wt.current&1|2),l.child}o=o.sibling}T.tail!==null&&nt()>Kl&&(l.flags|=128,g=!0,Nc(T,!1),l.lanes=4194304)}else{if(!g)if(o=Sh(L),o!==null){if(l.flags|=128,g=!0,d=o.updateQueue,d!==null&&(l.updateQueue=d,l.flags|=4),Nc(T,!0),T.tail===null&&T.tailMode==="hidden"&&!L.alternate&&!Ft)return Wr(l),null}else 2*nt()-T.renderingStartTime>Kl&&d!==1073741824&&(l.flags|=128,g=!0,Nc(T,!1),l.lanes=4194304);T.isBackwards?(L.sibling=l.child,l.child=L):(d=T.last,d!==null?d.sibling=L:l.child=L,T.last=L)}return T.tail!==null?(l=T.tail,T.rendering=l,T.tail=l.sibling,T.renderingStartTime=nt(),l.sibling=null,d=Wt.current,kt(Wt,g?d&1|2:d&1),l):(Wr(l),null);case 22:case 23:return dv(),g=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==g&&(l.flags|=8192),g&&(l.mode&1)!==0?($n&1073741824)!==0&&(Wr(l),l.subtreeFlags&6&&(l.flags|=8192)):Wr(l),null;case 24:return null;case 25:return null}throw Error(r(156,l.tag))}function gV(o,l){switch(xy(l),l.tag){case 1:return yn(l.type)&&hh(),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return ql(),Nt(gn),Nt(qr),jy(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 5:return Ry(l),null;case 13:if(Nt(Wt),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Fl()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return Nt(Wt),null;case 4:return ql(),null;case 10:return Py(l.type._context),null;case 22:case 23:return dv(),null;case 24:return null;default:return null}}var Nh=!1,Hr=!1,yV=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function Wl(o,l){var d=o.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(g){Qt(o,l,g)}else d.current=null}function ev(o,l,d){try{d()}catch(g){Qt(o,l,g)}}var _A=!1;function vV(o,l){if(dy=yo,o=JS(),iy(o)){if("selectionStart"in o)var d={start:o.selectionStart,end:o.selectionEnd};else e:{d=(d=o.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var _=g.anchorOffset,T=g.focusNode;g=g.focusOffset;try{d.nodeType,T.nodeType}catch{d=null;break e}var L=0,B=-1,W=-1,te=0,he=0,ge=o,de=null;t:for(;;){for(var Te;ge!==d||_!==0&&ge.nodeType!==3||(B=L+_),ge!==T||g!==0&&ge.nodeType!==3||(W=L+g),ge.nodeType===3&&(L+=ge.nodeValue.length),(Te=ge.firstChild)!==null;)de=ge,ge=Te;for(;;){if(ge===o)break t;if(de===d&&++te===_&&(B=L),de===T&&++he===g&&(W=L),(Te=ge.nextSibling)!==null)break;ge=de,de=ge.parentNode}ge=Te}d=B===-1||W===-1?null:{start:B,end:W}}else d=null}d=d||{start:0,end:0}}else d=null;for(hy={focusedElem:o,selectionRange:d},yo=!1,Pe=l;Pe!==null;)if(l=Pe,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,Pe=o;else for(;Pe!==null;){l=Pe;try{var Oe=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Oe!==null){var Re=Oe.memoizedProps,rr=Oe.memoizedState,X=l.stateNode,H=X.getSnapshotBeforeUpdate(l.elementType===l.type?Re:Ai(l.type,Re),rr);X.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var J=l.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ye){Qt(l,l.return,ye)}if(o=l.sibling,o!==null){o.return=l.return,Pe=o;break}Pe=l.return}return Oe=_A,_A=!1,Oe}function jc(o,l,d){var g=l.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var _=g=g.next;do{if((_.tag&o)===o){var T=_.destroy;_.destroy=void 0,T!==void 0&&ev(l,d,T)}_=_.next}while(_!==g)}}function jh(o,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&o)===o){var g=d.create;d.destroy=g()}d=d.next}while(d!==l)}}function tv(o){var l=o.ref;if(l!==null){var d=o.stateNode;switch(o.tag){case 5:o=d;break;default:o=d}typeof l=="function"?l(o):l.current=o}}function xA(o){var l=o.alternate;l!==null&&(o.alternate=null,xA(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&(delete l[Yi],delete l[Ec],delete l[yy],delete l[eV],delete l[tV])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function wA(o){return o.tag===5||o.tag===3||o.tag===4}function EA(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||wA(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function rv(o,l,d){var g=o.tag;if(g===5||g===6)o=o.stateNode,l?d.nodeType===8?d.parentNode.insertBefore(o,l):d.insertBefore(o,l):(d.nodeType===8?(l=d.parentNode,l.insertBefore(o,d)):(l=d,l.appendChild(o)),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=fh));else if(g!==4&&(o=o.child,o!==null))for(rv(o,l,d),o=o.sibling;o!==null;)rv(o,l,d),o=o.sibling}function nv(o,l,d){var g=o.tag;if(g===5||g===6)o=o.stateNode,l?d.insertBefore(o,l):d.appendChild(o);else if(g!==4&&(o=o.child,o!==null))for(nv(o,l,d),o=o.sibling;o!==null;)nv(o,l,d),o=o.sibling}var jr=null,Pi=!1;function Ao(o,l,d){for(d=d.child;d!==null;)SA(o,l,d),d=d.sibling}function SA(o,l,d){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(cs,d)}catch{}switch(d.tag){case 5:Hr||Wl(d,l);case 6:var g=jr,_=Pi;jr=null,Ao(o,l,d),jr=g,Pi=_,jr!==null&&(Pi?(o=jr,d=d.stateNode,o.nodeType===8?o.parentNode.removeChild(d):o.removeChild(d)):jr.removeChild(d.stateNode));break;case 18:jr!==null&&(Pi?(o=jr,d=d.stateNode,o.nodeType===8?gy(o.parentNode,d):o.nodeType===1&&gy(o,d),wi(o)):gy(jr,d.stateNode));break;case 4:g=jr,_=Pi,jr=d.stateNode.containerInfo,Pi=!0,Ao(o,l,d),jr=g,Pi=_;break;case 0:case 11:case 14:case 15:if(!Hr&&(g=d.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){_=g=g.next;do{var T=_,L=T.destroy;T=T.tag,L!==void 0&&((T&2)!==0||(T&4)!==0)&&ev(d,l,L),_=_.next}while(_!==g)}Ao(o,l,d);break;case 1:if(!Hr&&(Wl(d,l),g=d.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=d.memoizedProps,g.state=d.memoizedState,g.componentWillUnmount()}catch(B){Qt(d,l,B)}Ao(o,l,d);break;case 21:Ao(o,l,d);break;case 22:d.mode&1?(Hr=(g=Hr)||d.memoizedState!==null,Ao(o,l,d),Hr=g):Ao(o,l,d);break;default:Ao(o,l,d)}}function TA(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var d=o.stateNode;d===null&&(d=o.stateNode=new yV),l.forEach(function(g){var _=PV.bind(null,o,g);d.has(g)||(d.add(g),g.then(_,_))})}}function ki(o,l){var d=l.deletions;if(d!==null)for(var g=0;g<d.length;g++){var _=d[g];try{var T=o,L=l,B=L;e:for(;B!==null;){switch(B.tag){case 5:jr=B.stateNode,Pi=!1;break e;case 3:jr=B.stateNode.containerInfo,Pi=!0;break e;case 4:jr=B.stateNode.containerInfo,Pi=!0;break e}B=B.return}if(jr===null)throw Error(r(160));SA(T,L,_),jr=null,Pi=!1;var W=_.alternate;W!==null&&(W.return=null),_.return=null}catch(te){Qt(_,l,te)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)AA(l,o),l=l.sibling}function AA(o,l){var d=o.alternate,g=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(ki(l,o),Ji(o),g&4){try{jc(3,o,o.return),jh(3,o)}catch(Re){Qt(o,o.return,Re)}try{jc(5,o,o.return)}catch(Re){Qt(o,o.return,Re)}}break;case 1:ki(l,o),Ji(o),g&512&&d!==null&&Wl(d,d.return);break;case 5:if(ki(l,o),Ji(o),g&512&&d!==null&&Wl(d,d.return),o.flags&32){var _=o.stateNode;try{Bi(_,"")}catch(Re){Qt(o,o.return,Re)}}if(g&4&&(_=o.stateNode,_!=null)){var T=o.memoizedProps,L=d!==null?d.memoizedProps:T,B=o.type,W=o.updateQueue;if(o.updateQueue=null,W!==null)try{B==="input"&&T.type==="radio"&&T.name!=null&&Tt(_,T),ya(B,L);var te=ya(B,T);for(L=0;L<W.length;L+=2){var he=W[L],ge=W[L+1];he==="style"?gi(_,ge):he==="dangerouslySetInnerHTML"?os(_,ge):he==="children"?Bi(_,ge):R(_,he,ge,te)}switch(B){case"input":Yt(_,T);break;case"textarea":pi(_,T);break;case"select":var de=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!T.multiple;var Te=T.value;Te!=null?Bt(_,!!T.multiple,Te,!1):de!==!!T.multiple&&(T.defaultValue!=null?Bt(_,!!T.multiple,T.defaultValue,!0):Bt(_,!!T.multiple,T.multiple?[]:"",!1))}_[Ec]=T}catch(Re){Qt(o,o.return,Re)}}break;case 6:if(ki(l,o),Ji(o),g&4){if(o.stateNode===null)throw Error(r(162));_=o.stateNode,T=o.memoizedProps;try{_.nodeValue=T}catch(Re){Qt(o,o.return,Re)}}break;case 3:if(ki(l,o),Ji(o),g&4&&d!==null&&d.memoizedState.isDehydrated)try{wi(l.containerInfo)}catch(Re){Qt(o,o.return,Re)}break;case 4:ki(l,o),Ji(o);break;case 13:ki(l,o),Ji(o),_=o.child,_.flags&8192&&(T=_.memoizedState!==null,_.stateNode.isHidden=T,!T||_.alternate!==null&&_.alternate.memoizedState!==null||(ov=nt())),g&4&&TA(o);break;case 22:if(he=d!==null&&d.memoizedState!==null,o.mode&1?(Hr=(te=Hr)||he,ki(l,o),Hr=te):ki(l,o),Ji(o),g&8192){if(te=o.memoizedState!==null,(o.stateNode.isHidden=te)&&!he&&(o.mode&1)!==0)for(Pe=o,he=o.child;he!==null;){for(ge=Pe=he;Pe!==null;){switch(de=Pe,Te=de.child,de.tag){case 0:case 11:case 14:case 15:jc(4,de,de.return);break;case 1:Wl(de,de.return);var Oe=de.stateNode;if(typeof Oe.componentWillUnmount=="function"){g=de,d=de.return;try{l=g,Oe.props=l.memoizedProps,Oe.state=l.memoizedState,Oe.componentWillUnmount()}catch(Re){Qt(g,d,Re)}}break;case 5:Wl(de,de.return);break;case 22:if(de.memoizedState!==null){IA(ge);continue}}Te!==null?(Te.return=de,Pe=Te):IA(ge)}he=he.sibling}e:for(he=null,ge=o;;){if(ge.tag===5){if(he===null){he=ge;try{_=ge.stateNode,te?(T=_.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):(B=ge.stateNode,W=ge.memoizedProps.style,L=W!=null&&W.hasOwnProperty("display")?W.display:null,B.style.display=so("display",L))}catch(Re){Qt(o,o.return,Re)}}}else if(ge.tag===6){if(he===null)try{ge.stateNode.nodeValue=te?"":ge.memoizedProps}catch(Re){Qt(o,o.return,Re)}}else if((ge.tag!==22&&ge.tag!==23||ge.memoizedState===null||ge===o)&&ge.child!==null){ge.child.return=ge,ge=ge.child;continue}if(ge===o)break e;for(;ge.sibling===null;){if(ge.return===null||ge.return===o)break e;he===ge&&(he=null),ge=ge.return}he===ge&&(he=null),ge.sibling.return=ge.return,ge=ge.sibling}}break;case 19:ki(l,o),Ji(o),g&4&&TA(o);break;case 21:break;default:ki(l,o),Ji(o)}}function Ji(o){var l=o.flags;if(l&2){try{e:{for(var d=o.return;d!==null;){if(wA(d)){var g=d;break e}d=d.return}throw Error(r(160))}switch(g.tag){case 5:var _=g.stateNode;g.flags&32&&(Bi(_,""),g.flags&=-33);var T=EA(o);nv(o,T,_);break;case 3:case 4:var L=g.stateNode.containerInfo,B=EA(o);rv(o,B,L);break;default:throw Error(r(161))}}catch(W){Qt(o,o.return,W)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function bV(o,l,d){Pe=o,PA(o)}function PA(o,l,d){for(var g=(o.mode&1)!==0;Pe!==null;){var _=Pe,T=_.child;if(_.tag===22&&g){var L=_.memoizedState!==null||Nh;if(!L){var B=_.alternate,W=B!==null&&B.memoizedState!==null||Hr;B=Nh;var te=Hr;if(Nh=L,(Hr=W)&&!te)for(Pe=_;Pe!==null;)L=Pe,W=L.child,L.tag===22&&L.memoizedState!==null?OA(_):W!==null?(W.return=L,Pe=W):OA(_);for(;T!==null;)Pe=T,PA(T),T=T.sibling;Pe=_,Nh=B,Hr=te}kA(o)}else(_.subtreeFlags&8772)!==0&&T!==null?(T.return=_,Pe=T):kA(o)}}function kA(o){for(;Pe!==null;){var l=Pe;if((l.flags&8772)!==0){var d=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Hr||jh(5,l);break;case 1:var g=l.stateNode;if(l.flags&4&&!Hr)if(d===null)g.componentDidMount();else{var _=l.elementType===l.type?d.memoizedProps:Ai(l.type,d.memoizedProps);g.componentDidUpdate(_,d.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var T=l.updateQueue;T!==null&&IT(l,T,g);break;case 3:var L=l.updateQueue;if(L!==null){if(d=null,l.child!==null)switch(l.child.tag){case 5:d=l.child.stateNode;break;case 1:d=l.child.stateNode}IT(l,L,d)}break;case 5:var B=l.stateNode;if(d===null&&l.flags&4){d=B;var W=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":W.autoFocus&&d.focus();break;case"img":W.src&&(d.src=W.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var te=l.alternate;if(te!==null){var he=te.memoizedState;if(he!==null){var ge=he.dehydrated;ge!==null&&wi(ge)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Hr||l.flags&512&&tv(l)}catch(de){Qt(l,l.return,de)}}if(l===o){Pe=null;break}if(d=l.sibling,d!==null){d.return=l.return,Pe=d;break}Pe=l.return}}function IA(o){for(;Pe!==null;){var l=Pe;if(l===o){Pe=null;break}var d=l.sibling;if(d!==null){d.return=l.return,Pe=d;break}Pe=l.return}}function OA(o){for(;Pe!==null;){var l=Pe;try{switch(l.tag){case 0:case 11:case 15:var d=l.return;try{jh(4,l)}catch(W){Qt(l,d,W)}break;case 1:var g=l.stateNode;if(typeof g.componentDidMount=="function"){var _=l.return;try{g.componentDidMount()}catch(W){Qt(l,_,W)}}var T=l.return;try{tv(l)}catch(W){Qt(l,T,W)}break;case 5:var L=l.return;try{tv(l)}catch(W){Qt(l,L,W)}}}catch(W){Qt(l,l.return,W)}if(l===o){Pe=null;break}var B=l.sibling;if(B!==null){B.return=l.return,Pe=B;break}Pe=l.return}}var _V=Math.ceil,Mh=$.ReactCurrentDispatcher,iv=$.ReactCurrentOwner,ai=$.ReactCurrentBatchConfig,ct=0,Sr=null,ar=null,Mr=0,$n=0,Hl=xo(0),hr=0,Mc=null,Ss=0,Dh=0,av=0,Dc=null,bn=null,ov=0,Kl=1/0,Ma=null,Lh=!1,sv=null,Po=null,$h=!1,ko=null,Fh=0,Lc=0,lv=null,Vh=-1,Uh=0;function an(){return(ct&6)!==0?nt():Vh!==-1?Vh:Vh=nt()}function Io(o){return(o.mode&1)===0?1:(ct&2)!==0&&Mr!==0?Mr&-Mr:nV.transition!==null?(Uh===0&&(Uh=ds()),Uh):(o=at,o!==0||(o=window.event,o=o===void 0?16:fc(o.type)),o)}function Ii(o,l,d,g){if(50<Lc)throw Lc=0,lv=null,Error(r(185));ho(o,d,g),((ct&2)===0||o!==Sr)&&(o===Sr&&((ct&2)===0&&(Dh|=d),hr===4&&Oo(o,Mr)),_n(o,g),d===1&&ct===0&&(l.mode&1)===0&&(Kl=nt()+500,mh&&Eo()))}function _n(o,l){var d=o.callbackNode;Ea(o,l);var g=fs(o,o===Sr?Mr:0);if(g===0)d!==null&&zt(d),o.callbackNode=null,o.callbackPriority=0;else if(l=g&-g,o.callbackPriority!==l){if(d!=null&&zt(d),l===1)o.tag===0?rV(RA.bind(null,o)):yT(RA.bind(null,o)),JF(function(){(ct&6)===0&&Eo()}),d=null;else{switch(mo(g)){case 1:d=hn;break;case 4:d=On;break;case 16:d=Br;break;case 536870912:d=Ud;break;default:d=Br}d=VA(d,CA.bind(null,o))}o.callbackPriority=l,o.callbackNode=d}}function CA(o,l){if(Vh=-1,Uh=0,(ct&6)!==0)throw Error(r(327));var d=o.callbackNode;if(Gl()&&o.callbackNode!==d)return null;var g=fs(o,o===Sr?Mr:0);if(g===0)return null;if((g&30)!==0||(g&o.expiredLanes)!==0||l)l=Bh(o,g);else{l=g;var _=ct;ct|=2;var T=jA();(Sr!==o||Mr!==l)&&(Ma=null,Kl=nt()+500,As(o,l));do try{EV();break}catch(B){NA(o,B)}while(!0);Ay(),Mh.current=T,ct=_,ar!==null?l=0:(Sr=null,Mr=0,l=hr)}if(l!==0){if(l===2&&(_=Nn(o),_!==0&&(g=_,l=uv(o,_))),l===1)throw d=Mc,As(o,0),Oo(o,g),_n(o,nt()),d;if(l===6)Oo(o,g);else{if(_=o.current.alternate,(g&30)===0&&!xV(_)&&(l=Bh(o,g),l===2&&(T=Nn(o),T!==0&&(g=T,l=uv(o,T))),l===1))throw d=Mc,As(o,0),Oo(o,g),_n(o,nt()),d;switch(o.finishedWork=_,o.finishedLanes=g,l){case 0:case 1:throw Error(r(345));case 2:Ps(o,bn,Ma);break;case 3:if(Oo(o,g),(g&130023424)===g&&(l=ov+500-nt(),10<l)){if(fs(o,0)!==0)break;if(_=o.suspendedLanes,(_&g)!==g){an(),o.pingedLanes|=o.suspendedLanes&_;break}o.timeoutHandle=my(Ps.bind(null,o,bn,Ma),l);break}Ps(o,bn,Ma);break;case 4:if(Oo(o,g),(g&4194240)===g)break;for(l=o.eventTimes,_=-1;0<g;){var L=31-tn(g);T=1<<L,L=l[L],L>_&&(_=L),g&=~T}if(g=_,g=nt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*_V(g/1960))-g,10<g){o.timeoutHandle=my(Ps.bind(null,o,bn,Ma),g);break}Ps(o,bn,Ma);break;case 5:Ps(o,bn,Ma);break;default:throw Error(r(329))}}}return _n(o,nt()),o.callbackNode===d?CA.bind(null,o):null}function uv(o,l){var d=Dc;return o.current.memoizedState.isDehydrated&&(As(o,l).flags|=256),o=Bh(o,l),o!==2&&(l=bn,bn=d,l!==null&&cv(l)),o}function cv(o){bn===null?bn=o:bn.push.apply(bn,o)}function xV(o){for(var l=o;;){if(l.flags&16384){var d=l.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var g=0;g<d.length;g++){var _=d[g],T=_.getSnapshot;_=_.value;try{if(!Si(T(),_))return!1}catch{return!1}}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Oo(o,l){for(l&=~av,l&=~Dh,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var d=31-tn(l),g=1<<d;o[d]=-1,l&=~g}}function RA(o){if((ct&6)!==0)throw Error(r(327));Gl();var l=fs(o,0);if((l&1)===0)return _n(o,nt()),null;var d=Bh(o,l);if(o.tag!==0&&d===2){var g=Nn(o);g!==0&&(l=g,d=uv(o,g))}if(d===1)throw d=Mc,As(o,0),Oo(o,l),_n(o,nt()),d;if(d===6)throw Error(r(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,Ps(o,bn,Ma),_n(o,nt()),null}function fv(o,l){var d=ct;ct|=1;try{return o(l)}finally{ct=d,ct===0&&(Kl=nt()+500,mh&&Eo())}}function Ts(o){ko!==null&&ko.tag===0&&(ct&6)===0&&Gl();var l=ct;ct|=1;var d=ai.transition,g=at;try{if(ai.transition=null,at=1,o)return o()}finally{at=g,ai.transition=d,ct=l,(ct&6)===0&&Eo()}}function dv(){$n=Hl.current,Nt(Hl)}function As(o,l){o.finishedWork=null,o.finishedLanes=0;var d=o.timeoutHandle;if(d!==-1&&(o.timeoutHandle=-1,QF(d)),ar!==null)for(d=ar.return;d!==null;){var g=d;switch(xy(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&hh();break;case 3:ql(),Nt(gn),Nt(qr),jy();break;case 5:Ry(g);break;case 4:ql();break;case 13:Nt(Wt);break;case 19:Nt(Wt);break;case 10:Py(g.type._context);break;case 22:case 23:dv()}d=d.return}if(Sr=o,ar=o=Co(o.current,null),Mr=$n=l,hr=0,Mc=null,av=Dh=Ss=0,bn=Dc=null,xs!==null){for(l=0;l<xs.length;l++)if(d=xs[l],g=d.interleaved,g!==null){d.interleaved=null;var _=g.next,T=d.pending;if(T!==null){var L=T.next;T.next=_,g.next=L}d.pending=g}xs=null}return o}function NA(o,l){do{var d=ar;try{if(Ay(),Th.current=Ih,Ah){for(var g=Ht.memoizedState;g!==null;){var _=g.queue;_!==null&&(_.pending=null),g=g.next}Ah=!1}if(Es=0,Er=dr=Ht=null,Ic=!1,Oc=0,iv.current=null,d===null||d.return===null){hr=1,Mc=l,ar=null;break}e:{var T=o,L=d.return,B=d,W=l;if(l=Mr,B.flags|=32768,W!==null&&typeof W=="object"&&typeof W.then=="function"){var te=W,he=B,ge=he.tag;if((he.mode&1)===0&&(ge===0||ge===11||ge===15)){var de=he.alternate;de?(he.updateQueue=de.updateQueue,he.memoizedState=de.memoizedState,he.lanes=de.lanes):(he.updateQueue=null,he.memoizedState=null)}var Te=iA(L);if(Te!==null){Te.flags&=-257,aA(Te,L,B,T,l),Te.mode&1&&nA(T,te,l),l=Te,W=te;var Oe=l.updateQueue;if(Oe===null){var Re=new Set;Re.add(W),l.updateQueue=Re}else Oe.add(W);break e}else{if((l&1)===0){nA(T,te,l),hv();break e}W=Error(r(426))}}else if(Ft&&B.mode&1){var rr=iA(L);if(rr!==null){(rr.flags&65536)===0&&(rr.flags|=256),aA(rr,L,B,T,l),Sy(zl(W,B));break e}}T=W=zl(W,B),hr!==4&&(hr=2),Dc===null?Dc=[T]:Dc.push(T),T=L;do{switch(T.tag){case 3:T.flags|=65536,l&=-l,T.lanes|=l;var X=tA(T,W,l);kT(T,X);break e;case 1:B=W;var H=T.type,J=T.stateNode;if((T.flags&128)===0&&(typeof H.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(Po===null||!Po.has(J)))){T.flags|=65536,l&=-l,T.lanes|=l;var ye=rA(T,B,l);kT(T,ye);break e}}T=T.return}while(T!==null)}DA(d)}catch(De){l=De,ar===d&&d!==null&&(ar=d=d.return);continue}break}while(!0)}function jA(){var o=Mh.current;return Mh.current=Ih,o===null?Ih:o}function hv(){(hr===0||hr===3||hr===2)&&(hr=4),Sr===null||(Ss&268435455)===0&&(Dh&268435455)===0||Oo(Sr,Mr)}function Bh(o,l){var d=ct;ct|=2;var g=jA();(Sr!==o||Mr!==l)&&(Ma=null,As(o,l));do try{wV();break}catch(_){NA(o,_)}while(!0);if(Ay(),ct=d,Mh.current=g,ar!==null)throw Error(r(261));return Sr=null,Mr=0,hr}function wV(){for(;ar!==null;)MA(ar)}function EV(){for(;ar!==null&&!us();)MA(ar)}function MA(o){var l=FA(o.alternate,o,$n);o.memoizedProps=o.pendingProps,l===null?DA(o):ar=l,iv.current=null}function DA(o){var l=o;do{var d=l.alternate;if(o=l.return,(l.flags&32768)===0){if(d=mV(d,l,$n),d!==null){ar=d;return}}else{if(d=gV(d,l),d!==null){d.flags&=32767,ar=d;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{hr=6,ar=null;return}}if(l=l.sibling,l!==null){ar=l;return}ar=l=o}while(l!==null);hr===0&&(hr=5)}function Ps(o,l,d){var g=at,_=ai.transition;try{ai.transition=null,at=1,SV(o,l,d,g)}finally{ai.transition=_,at=g}return null}function SV(o,l,d,g){do Gl();while(ko!==null);if((ct&6)!==0)throw Error(r(327));d=o.finishedWork;var _=o.finishedLanes;if(d===null)return null;if(o.finishedWork=null,o.finishedLanes=0,d===o.current)throw Error(r(177));o.callbackNode=null,o.callbackPriority=0;var T=d.lanes|d.childLanes;if(At(o,T),o===Sr&&(ar=Sr=null,Mr=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||$h||($h=!0,VA(Br,function(){return Gl(),null})),T=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||T){T=ai.transition,ai.transition=null;var L=at;at=1;var B=ct;ct|=4,iv.current=null,vV(o,d),AA(d,o),zF(hy),yo=!!dy,hy=dy=null,o.current=d,bV(d),sc(),ct=B,at=L,ai.transition=T}else o.current=d;if($h&&($h=!1,ko=o,Fh=_),T=o.pendingLanes,T===0&&(Po=null),Bd(d.stateNode),_n(o,nt()),l!==null)for(g=o.onRecoverableError,d=0;d<l.length;d++)_=l[d],g(_.value,{componentStack:_.stack,digest:_.digest});if(Lh)throw Lh=!1,o=sv,sv=null,o;return(Fh&1)!==0&&o.tag!==0&&Gl(),T=o.pendingLanes,(T&1)!==0?o===lv?Lc++:(Lc=0,lv=o):Lc=0,Eo(),null}function Gl(){if(ko!==null){var o=mo(Fh),l=ai.transition,d=at;try{if(ai.transition=null,at=16>o?16:o,ko===null)var g=!1;else{if(o=ko,ko=null,Fh=0,(ct&6)!==0)throw Error(r(331));var _=ct;for(ct|=4,Pe=o.current;Pe!==null;){var T=Pe,L=T.child;if((Pe.flags&16)!==0){var B=T.deletions;if(B!==null){for(var W=0;W<B.length;W++){var te=B[W];for(Pe=te;Pe!==null;){var he=Pe;switch(he.tag){case 0:case 11:case 15:jc(8,he,T)}var ge=he.child;if(ge!==null)ge.return=he,Pe=ge;else for(;Pe!==null;){he=Pe;var de=he.sibling,Te=he.return;if(xA(he),he===te){Pe=null;break}if(de!==null){de.return=Te,Pe=de;break}Pe=Te}}}var Oe=T.alternate;if(Oe!==null){var Re=Oe.child;if(Re!==null){Oe.child=null;do{var rr=Re.sibling;Re.sibling=null,Re=rr}while(Re!==null)}}Pe=T}}if((T.subtreeFlags&2064)!==0&&L!==null)L.return=T,Pe=L;else e:for(;Pe!==null;){if(T=Pe,(T.flags&2048)!==0)switch(T.tag){case 0:case 11:case 15:jc(9,T,T.return)}var X=T.sibling;if(X!==null){X.return=T.return,Pe=X;break e}Pe=T.return}}var H=o.current;for(Pe=H;Pe!==null;){L=Pe;var J=L.child;if((L.subtreeFlags&2064)!==0&&J!==null)J.return=L,Pe=J;else e:for(L=H;Pe!==null;){if(B=Pe,(B.flags&2048)!==0)try{switch(B.tag){case 0:case 11:case 15:jh(9,B)}}catch(De){Qt(B,B.return,De)}if(B===L){Pe=null;break e}var ye=B.sibling;if(ye!==null){ye.return=B.return,Pe=ye;break e}Pe=B.return}}if(ct=_,Eo(),Rn&&typeof Rn.onPostCommitFiberRoot=="function")try{Rn.onPostCommitFiberRoot(cs,o)}catch{}g=!0}return g}finally{at=d,ai.transition=l}}return!1}function LA(o,l,d){l=zl(d,l),l=tA(o,l,1),o=To(o,l,1),l=an(),o!==null&&(ho(o,1,l),_n(o,l))}function Qt(o,l,d){if(o.tag===3)LA(o,o,d);else for(;l!==null;){if(l.tag===3){LA(l,o,d);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Po===null||!Po.has(g))){o=zl(d,o),o=rA(l,o,1),l=To(l,o,1),o=an(),l!==null&&(ho(l,1,o),_n(l,o));break}}l=l.return}}function TV(o,l,d){var g=o.pingCache;g!==null&&g.delete(l),l=an(),o.pingedLanes|=o.suspendedLanes&d,Sr===o&&(Mr&d)===d&&(hr===4||hr===3&&(Mr&130023424)===Mr&&500>nt()-ov?As(o,0):av|=d),_n(o,l)}function $A(o,l){l===0&&((o.mode&1)===0?l=1:(l=yl,yl<<=1,(yl&130023424)===0&&(yl=4194304)));var d=an();o=Ra(o,l),o!==null&&(ho(o,l,d),_n(o,d))}function AV(o){var l=o.memoizedState,d=0;l!==null&&(d=l.retryLane),$A(o,d)}function PV(o,l){var d=0;switch(o.tag){case 13:var g=o.stateNode,_=o.memoizedState;_!==null&&(d=_.retryLane);break;case 19:g=o.stateNode;break;default:throw Error(r(314))}g!==null&&g.delete(l),$A(o,d)}var FA;FA=function(o,l,d){if(o!==null)if(o.memoizedProps!==l.pendingProps||gn.current)vn=!0;else{if((o.lanes&d)===0&&(l.flags&128)===0)return vn=!1,pV(o,l,d);vn=(o.flags&131072)!==0}else vn=!1,Ft&&(l.flags&1048576)!==0&&vT(l,yh,l.index);switch(l.lanes=0,l.tag){case 2:var g=l.type;Rh(o,l),o=l.pendingProps;var _=Dl(l,qr.current);Bl(l,d),_=Ly(null,l,g,o,_,d);var T=$y();return l.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,yn(g)?(T=!0,ph(l)):T=!1,l.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,Oy(l),_.updater=Oh,l.stateNode=_,_._reactInternals=l,zy(l,g,o,d),l=Gy(null,l,g,!0,T,d)):(l.tag=0,Ft&&T&&_y(l),nn(null,l,_,d),l=l.child),l;case 16:g=l.elementType;e:{switch(Rh(o,l),o=l.pendingProps,_=g._init,g=_(g._payload),l.type=g,_=l.tag=IV(g),o=Ai(g,o),_){case 0:l=Ky(null,l,g,o,d);break e;case 1:l=fA(null,l,g,o,d);break e;case 11:l=oA(null,l,g,o,d);break e;case 14:l=sA(null,l,g,Ai(g.type,o),d);break e}throw Error(r(306,g,""))}return l;case 0:return g=l.type,_=l.pendingProps,_=l.elementType===g?_:Ai(g,_),Ky(o,l,g,_,d);case 1:return g=l.type,_=l.pendingProps,_=l.elementType===g?_:Ai(g,_),fA(o,l,g,_,d);case 3:e:{if(dA(l),o===null)throw Error(r(387));g=l.pendingProps,T=l.memoizedState,_=T.element,PT(o,l),Eh(l,g,null,d);var L=l.memoizedState;if(g=L.element,T.isDehydrated)if(T={element:g,isDehydrated:!1,cache:L.cache,pendingSuspenseBoundaries:L.pendingSuspenseBoundaries,transitions:L.transitions},l.updateQueue.baseState=T,l.memoizedState=T,l.flags&256){_=zl(Error(r(423)),l),l=hA(o,l,g,d,_);break e}else if(g!==_){_=zl(Error(r(424)),l),l=hA(o,l,g,d,_);break e}else for(Ln=_o(l.stateNode.containerInfo.firstChild),Dn=l,Ft=!0,Ti=null,d=TT(l,null,g,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Fl(),g===_){l=ja(o,l,d);break e}nn(o,l,g,d)}l=l.child}return l;case 5:return OT(l),o===null&&Ey(l),g=l.type,_=l.pendingProps,T=o!==null?o.memoizedProps:null,L=_.children,py(g,_)?L=null:T!==null&&py(g,T)&&(l.flags|=32),cA(o,l),nn(o,l,L,d),l.child;case 6:return o===null&&Ey(l),null;case 13:return pA(o,l,d);case 4:return Cy(l,l.stateNode.containerInfo),g=l.pendingProps,o===null?l.child=Vl(l,null,g,d):nn(o,l,g,d),l.child;case 11:return g=l.type,_=l.pendingProps,_=l.elementType===g?_:Ai(g,_),oA(o,l,g,_,d);case 7:return nn(o,l,l.pendingProps,d),l.child;case 8:return nn(o,l,l.pendingProps.children,d),l.child;case 12:return nn(o,l,l.pendingProps.children,d),l.child;case 10:e:{if(g=l.type._context,_=l.pendingProps,T=l.memoizedProps,L=_.value,kt(_h,g._currentValue),g._currentValue=L,T!==null)if(Si(T.value,L)){if(T.children===_.children&&!gn.current){l=ja(o,l,d);break e}}else for(T=l.child,T!==null&&(T.return=l);T!==null;){var B=T.dependencies;if(B!==null){L=T.child;for(var W=B.firstContext;W!==null;){if(W.context===g){if(T.tag===1){W=Na(-1,d&-d),W.tag=2;var te=T.updateQueue;if(te!==null){te=te.shared;var he=te.pending;he===null?W.next=W:(W.next=he.next,he.next=W),te.pending=W}}T.lanes|=d,W=T.alternate,W!==null&&(W.lanes|=d),ky(T.return,d,l),B.lanes|=d;break}W=W.next}}else if(T.tag===10)L=T.type===l.type?null:T.child;else if(T.tag===18){if(L=T.return,L===null)throw Error(r(341));L.lanes|=d,B=L.alternate,B!==null&&(B.lanes|=d),ky(L,d,l),L=T.sibling}else L=T.child;if(L!==null)L.return=T;else for(L=T;L!==null;){if(L===l){L=null;break}if(T=L.sibling,T!==null){T.return=L.return,L=T;break}L=L.return}T=L}nn(o,l,_.children,d),l=l.child}return l;case 9:return _=l.type,g=l.pendingProps.children,Bl(l,d),_=ni(_),g=g(_),l.flags|=1,nn(o,l,g,d),l.child;case 14:return g=l.type,_=Ai(g,l.pendingProps),_=Ai(g.type,_),sA(o,l,g,_,d);case 15:return lA(o,l,l.type,l.pendingProps,d);case 17:return g=l.type,_=l.pendingProps,_=l.elementType===g?_:Ai(g,_),Rh(o,l),l.tag=1,yn(g)?(o=!0,ph(l)):o=!1,Bl(l,d),ZT(l,g,_),zy(l,g,_,d),Gy(null,l,g,!0,o,d);case 19:return gA(o,l,d);case 22:return uA(o,l,d)}throw Error(r(156,l.tag))};function VA(o,l){return Et(o,l)}function kV(o,l,d,g){this.tag=o,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function oi(o,l,d,g){return new kV(o,l,d,g)}function pv(o){return o=o.prototype,!(!o||!o.isReactComponent)}function IV(o){if(typeof o=="function")return pv(o)?1:0;if(o!=null){if(o=o.$$typeof,o===V)return 11;if(o===ee)return 14}return 2}function Co(o,l){var d=o.alternate;return d===null?(d=oi(o.tag,l,o.key,o.mode),d.elementType=o.elementType,d.type=o.type,d.stateNode=o.stateNode,d.alternate=o,o.alternate=d):(d.pendingProps=l,d.type=o.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=o.flags&14680064,d.childLanes=o.childLanes,d.lanes=o.lanes,d.child=o.child,d.memoizedProps=o.memoizedProps,d.memoizedState=o.memoizedState,d.updateQueue=o.updateQueue,l=o.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=o.sibling,d.index=o.index,d.ref=o.ref,d}function qh(o,l,d,g,_,T){var L=2;if(g=o,typeof o=="function")pv(o)&&(L=1);else if(typeof o=="string")L=5;else e:switch(o){case A:return ks(d.children,_,T,l);case P:L=8,_|=8;break;case N:return o=oi(12,d,l,_|2),o.elementType=N,o.lanes=T,o;case M:return o=oi(13,d,l,_),o.elementType=M,o.lanes=T,o;case Z:return o=oi(19,d,l,_),o.elementType=Z,o.lanes=T,o;case oe:return zh(d,_,T,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case F:L=10;break e;case D:L=9;break e;case V:L=11;break e;case ee:L=14;break e;case re:L=16,g=null;break e}throw Error(r(130,o==null?o:typeof o,""))}return l=oi(L,d,l,_),l.elementType=o,l.type=g,l.lanes=T,l}function ks(o,l,d,g){return o=oi(7,o,g,l),o.lanes=d,o}function zh(o,l,d,g){return o=oi(22,o,g,l),o.elementType=oe,o.lanes=d,o.stateNode={isHidden:!1},o}function mv(o,l,d){return o=oi(6,o,null,l),o.lanes=d,o}function gv(o,l,d){return l=oi(4,o.children!==null?o.children:[],o.key,l),l.lanes=d,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function OV(o,l,d,g,_){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fo(0),this.expirationTimes=fo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fo(0),this.identifierPrefix=g,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function yv(o,l,d,g,_,T,L,B,W){return o=new OV(o,l,d,B,W),l===1?(l=1,T===!0&&(l|=8)):l=0,T=oi(3,null,null,l),o.current=T,T.stateNode=o,T.memoizedState={element:g,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oy(T),o}function CV(o,l,d){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:j,key:g==null?null:""+g,children:o,containerInfo:l,implementation:d}}function UA(o){if(!o)return wo;o=o._reactInternals;e:{if(Ce(o)!==o||o.tag!==1)throw Error(r(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(yn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(r(171))}if(o.tag===1){var d=o.type;if(yn(d))return mT(o,d,l)}return l}function BA(o,l,d,g,_,T,L,B,W){return o=yv(d,g,!0,o,_,T,L,B,W),o.context=UA(null),d=o.current,g=an(),_=Io(d),T=Na(g,_),T.callback=l??null,To(d,T,_),o.current.lanes=_,ho(o,_,g),_n(o,g),o}function Wh(o,l,d,g){var _=l.current,T=an(),L=Io(_);return d=UA(d),l.context===null?l.context=d:l.pendingContext=d,l=Na(T,L),l.payload={element:o},g=g===void 0?null:g,g!==null&&(l.callback=g),o=To(_,l,L),o!==null&&(Ii(o,_,L,T),wh(o,_,L)),L}function Hh(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function qA(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var d=o.retryLane;o.retryLane=d!==0&&d<l?d:l}}function vv(o,l){qA(o,l),(o=o.alternate)&&qA(o,l)}function RV(){return null}var zA=typeof reportError=="function"?reportError:function(o){console.error(o)};function bv(o){this._internalRoot=o}Kh.prototype.render=bv.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(r(409));Wh(o,l,null,null)},Kh.prototype.unmount=bv.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;Ts(function(){Wh(null,o,null,null)}),l[ka]=null}};function Kh(o){this._internalRoot=o}Kh.prototype.unstable_scheduleHydration=function(o){if(o){var l=Kd();o={blockedOn:null,target:o,priority:l};for(var d=0;d<Wi.length&&l!==0&&l<Wi[d].priority;d++);Wi.splice(d,0,o),d===0&&Xd(o)}};function _v(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Gh(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function WA(){}function NV(o,l,d,g,_){if(_){if(typeof g=="function"){var T=g;g=function(){var te=Hh(L);T.call(te)}}var L=BA(l,g,o,0,null,!1,!1,"",WA);return o._reactRootContainer=L,o[ka]=L.current,xc(o.nodeType===8?o.parentNode:o),Ts(),L}for(;_=o.lastChild;)o.removeChild(_);if(typeof g=="function"){var B=g;g=function(){var te=Hh(W);B.call(te)}}var W=yv(o,0,!1,null,null,!1,!1,"",WA);return o._reactRootContainer=W,o[ka]=W.current,xc(o.nodeType===8?o.parentNode:o),Ts(function(){Wh(l,W,d,g)}),W}function Yh(o,l,d,g,_){var T=d._reactRootContainer;if(T){var L=T;if(typeof _=="function"){var B=_;_=function(){var W=Hh(L);B.call(W)}}Wh(l,L,o,_)}else L=NV(d,l,o,_,g);return Hh(L)}Wd=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var d=co(l.pendingLanes);d!==0&&(po(l,d|1),_n(l,nt()),(ct&6)===0&&(Kl=nt()+500,Eo()))}break;case 13:Ts(function(){var g=Ra(o,1);if(g!==null){var _=an();Ii(g,o,1,_)}}),vv(o,1)}},vl=function(o){if(o.tag===13){var l=Ra(o,134217728);if(l!==null){var d=an();Ii(l,o,134217728,d)}vv(o,134217728)}},Hd=function(o){if(o.tag===13){var l=Io(o),d=Ra(o,l);if(d!==null){var g=an();Ii(d,o,l,g)}vv(o,l)}},Kd=function(){return at},Gd=function(o,l){var d=at;try{return at=o,l()}finally{at=d}},ba=function(o,l,d){switch(l){case"input":if(Yt(o,d),l=d.name,d.type==="radio"&&l!=null){for(d=o;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<d.length;l++){var g=d[l];if(g!==o&&g.form===o.form){var _=dh(g);if(!_)throw Error(r(90));ue(g),Yt(g,_)}}}break;case"textarea":pi(o,d);break;case"select":l=d.value,l!=null&&Bt(o,!!d.multiple,l,!1)}},Pn=fv,qi=Ts;var jV={usingClientEntryPoint:!1,Events:[Sc,jl,dh,Jn,An,fv]},$c={findFiberByHostInstance:ys,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},MV={bundleType:$c.bundleType,version:$c.version,rendererPackageName:$c.rendererPackageName,rendererConfig:$c.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=tt(o),o===null?null:o.stateNode},findFiberByHostInstance:$c.findFiberByHostInstance||RV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xh.isDisabled&&Xh.supportsFiber)try{cs=Xh.inject(MV),Rn=Xh}catch{}}return xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jV,xn.createPortal=function(o,l){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_v(l))throw Error(r(200));return CV(o,l,null,d)},xn.createRoot=function(o,l){if(!_v(o))throw Error(r(299));var d=!1,g="",_=zA;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(_=l.onRecoverableError)),l=yv(o,1,!1,null,null,d,!1,g,_),o[ka]=l.current,xc(o.nodeType===8?o.parentNode:o),new bv(l)},xn.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=tt(l),o=o===null?null:o.stateNode,o},xn.flushSync=function(o){return Ts(o)},xn.hydrate=function(o,l,d){if(!Gh(l))throw Error(r(200));return Yh(null,o,l,!0,d)},xn.hydrateRoot=function(o,l,d){if(!_v(o))throw Error(r(405));var g=d!=null&&d.hydratedSources||null,_=!1,T="",L=zA;if(d!=null&&(d.unstable_strictMode===!0&&(_=!0),d.identifierPrefix!==void 0&&(T=d.identifierPrefix),d.onRecoverableError!==void 0&&(L=d.onRecoverableError)),l=BA(l,null,o,1,d??null,_,!1,T,L),o[ka]=l.current,xc(o),g)for(o=0;o<g.length;o++)d=g[o],_=d._getVersion,_=_(d._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[d,_]:l.mutableSourceEagerHydrationData.push(d,_);return new Kh(l)},xn.render=function(o,l,d){if(!Gh(l))throw Error(r(200));return Yh(null,o,l,!1,d)},xn.unmountComponentAtNode=function(o){if(!Gh(o))throw Error(r(40));return o._reactRootContainer?(Ts(function(){Yh(null,null,o,!1,function(){o._reactRootContainer=null,o[ka]=null})}),!0):!1},xn.unstable_batchedUpdates=fv,xn.unstable_renderSubtreeIntoContainer=function(o,l,d,g){if(!Gh(d))throw Error(r(200));if(o==null||o._reactInternals===void 0)throw Error(r(38));return Yh(o,l,d,!1,g)},xn.version="18.3.1-next-f1338f8080-20240426",xn}var ZA;function qV(){if(ZA)return Ev.exports;ZA=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ev.exports=BV(),Ev.exports}var eP;function zV(){if(eP)return Jh;eP=1;var t=qV();return Jh.createRoot=t.createRoot,Jh.hydrateRoot=t.hydrateRoot,Jh}var WV=zV();const HV=vt(WV);var tP={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},KV=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],s=t[r++],u=t[r++],c=((i&7)<<18|(a&63)<<12|(s&63)<<6|u&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const a=t[r++],s=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},O2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,u=s?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,h=a>>2,m=(a&3)<<4|u>>4;let y=(u&15)<<2|f>>6,v=f&63;c||(v=64,s||(y=64)),n.push(r[h],r[m],r[y],r[v])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(I2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):KV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],u=i<t.length?r[t.charAt(i)]:0;++i;const f=i<t.length?r[t.charAt(i)]:64;++i;const m=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||u==null||f==null||m==null)throw new GV;const y=a<<2|u>>4;if(n.push(y),f!==64){const v=u<<4&240|f>>2;if(n.push(v),m!==64){const E=f<<6&192|m;n.push(E)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class GV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YV=function(t){const e=I2(t);return O2.encodeByteArray(e,!0)},Op=function(t){return YV(t).replace(/\./g,"")},C2=function(t){try{return O2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV=()=>XV().__FIREBASE_DEFAULTS__,JV=()=>{if(typeof process>"u"||typeof tP>"u")return;const t=tP.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ZV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&C2(t[1]);return e&&JSON.parse(e)},Wm=()=>{try{return QV()||JV()||ZV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},R2=t=>{var e,r;return(r=(e=Wm())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},N2=t=>{const e=R2(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},j2=()=>{var t;return(t=Wm())===null||t===void 0?void 0:t.config},M2=t=>{var e;return(e=Wm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Op(JSON.stringify(r)),Op(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function t3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jr())}function r3(){var t;const e=(t=Wm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function n3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function i3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function a3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function o3(){const t=Jr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function s3(){return!r3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function l3(){try{return typeof indexedDB=="object"}catch{return!1}}function u3(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3="FirebaseError";class pa extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=c3,Object.setPrototypeOf(this,pa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pd.prototype.create)}}class pd{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?f3(a,n):"Error",u=`${this.serviceName}: ${s} (${i}).`;return new pa(i,u,n)}}function f3(t,e){return t.replace(d3,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const d3=/\{\$([^}]+)}/g;function h3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Cp(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],s=e[i];if(rP(a)&&rP(s)){if(!Cp(a,s))return!1}else if(a!==s)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function rP(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Qc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Jc(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function p3(t,e){const r=new m3(t,e);return r.subscribe.bind(r)}class m3{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");g3(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=Av),i.error===void 0&&(i.error=Av),i.complete===void 0&&(i.complete=Av);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function g3(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function Av(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(t){return t&&t._delegate?t._delegate:t}class Go{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new e3;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e?.identifier),i=(r=e?.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(b3(e))try{this.getOrInitializeService({instanceIdentifier:Rs})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=Rs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Rs){return this.instances.has(e)}getOptions(e=Rs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);n===u&&s.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(i,a);const s=this.instances.get(i);return s&&e(s,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:v3(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Rs){return this.component?this.component.multipleInstances?e:Rs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function v3(t){return t===Rs?void 0:t}function b3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new y3(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ot||(ot={}));const x3={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},w3=ot.INFO,E3={[ot.DEBUG]:"log",[ot.VERBOSE]:"log",[ot.INFO]:"info",[ot.WARN]:"warn",[ot.ERROR]:"error"},S3=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=E3[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class D1{constructor(e){this.name=e,this._logLevel=w3,this._logHandler=S3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?x3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ot.DEBUG,...e),this._logHandler(this,ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ot.VERBOSE,...e),this._logHandler(this,ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ot.INFO,...e),this._logHandler(this,ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ot.WARN,...e),this._logHandler(this,ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ot.ERROR,...e),this._logHandler(this,ot.ERROR,...e)}}const T3=(t,e)=>e.some(r=>t instanceof r);let nP,iP;function A3(){return nP||(nP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function P3(){return iP||(iP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const L2=new WeakMap,Ux=new WeakMap,$2=new WeakMap,Pv=new WeakMap,L1=new WeakMap;function k3(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{r(qo(t.result)),i()},s=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(r=>{r instanceof IDBCursor&&L2.set(r,t)}).catch(()=>{}),L1.set(e,t),e}function I3(t){if(Ux.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{r(),i()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});Ux.set(t,e)}let Bx={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Ux.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$2.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return qo(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function O3(t){Bx=t(Bx)}function C3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(kv(this),e,...r);return $2.set(n,e.sort?e.sort():[e]),qo(n)}:P3().includes(t)?function(...e){return t.apply(kv(this),e),qo(L2.get(this))}:function(...e){return qo(t.apply(kv(this),e))}}function R3(t){return typeof t=="function"?C3(t):(t instanceof IDBTransaction&&I3(t),T3(t,A3())?new Proxy(t,Bx):t)}function qo(t){if(t instanceof IDBRequest)return k3(t);if(Pv.has(t))return Pv.get(t);const e=R3(t);return e!==t&&(Pv.set(t,e),L1.set(e,t)),e}const kv=t=>L1.get(t);function N3(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),u=qo(s);return n&&s.addEventListener("upgradeneeded",c=>{n(qo(s.result),c.oldVersion,c.newVersion,qo(s.transaction),c)}),r&&s.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),u.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const j3=["get","getKey","getAll","getAllKeys","count"],M3=["put","add","delete","clear"],Iv=new Map;function aP(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Iv.get(e))return Iv.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=M3.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||j3.includes(r)))return;const a=async function(s,...u){const c=this.transaction(s,i?"readwrite":"readonly");let f=c.store;return n&&(f=f.index(u.shift())),(await Promise.all([f[r](...u),i&&c.done]))[0]};return Iv.set(e,a),a}O3(t=>({...t,get:(e,r,n)=>aP(e,r)||t.get(e,r,n),has:(e,r)=>!!aP(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(L3(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function L3(t){const e=t.getComponent();return e?.type==="VERSION"}const qx="@firebase/app",oP="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya=new D1("@firebase/app"),$3="@firebase/app-compat",F3="@firebase/analytics-compat",V3="@firebase/analytics",U3="@firebase/app-check-compat",B3="@firebase/app-check",q3="@firebase/auth",z3="@firebase/auth-compat",W3="@firebase/database",H3="@firebase/data-connect",K3="@firebase/database-compat",G3="@firebase/functions",Y3="@firebase/functions-compat",X3="@firebase/installations",Q3="@firebase/installations-compat",J3="@firebase/messaging",Z3="@firebase/messaging-compat",e6="@firebase/performance",t6="@firebase/performance-compat",r6="@firebase/remote-config",n6="@firebase/remote-config-compat",i6="@firebase/storage",a6="@firebase/storage-compat",o6="@firebase/firestore",s6="@firebase/vertexai-preview",l6="@firebase/firestore-compat",u6="firebase",c6="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx="[DEFAULT]",f6={[qx]:"fire-core",[$3]:"fire-core-compat",[V3]:"fire-analytics",[F3]:"fire-analytics-compat",[B3]:"fire-app-check",[U3]:"fire-app-check-compat",[q3]:"fire-auth",[z3]:"fire-auth-compat",[W3]:"fire-rtdb",[H3]:"fire-data-connect",[K3]:"fire-rtdb-compat",[G3]:"fire-fn",[Y3]:"fire-fn-compat",[X3]:"fire-iid",[Q3]:"fire-iid-compat",[J3]:"fire-fcm",[Z3]:"fire-fcm-compat",[e6]:"fire-perf",[t6]:"fire-perf-compat",[r6]:"fire-rc",[n6]:"fire-rc-compat",[i6]:"fire-gcs",[a6]:"fire-gcs-compat",[o6]:"fire-fst",[l6]:"fire-fst-compat",[s6]:"fire-vertex","fire-js":"fire-js",[u6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp=new Map,d6=new Map,Wx=new Map;function sP(t,e){try{t.container.addComponent(e)}catch(r){Ya.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Ws(t){const e=t.name;if(Wx.has(e))return Ya.debug(`There were multiple attempts to register component ${e}.`),!1;Wx.set(e,t);for(const r of Rp.values())sP(r,t);for(const r of d6.values())sP(r,t);return!0}function Hm(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function ea(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zo=new pd("app","Firebase",h6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Go("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const il=c6;function F2(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:zx,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw zo.create("bad-app-name",{appName:String(i)});if(r||(r=j2()),!r)throw zo.create("no-options");const a=Rp.get(i);if(a){if(Cp(r,a.options)&&Cp(n,a.config))return a;throw zo.create("duplicate-app",{appName:i})}const s=new _3(i);for(const c of Wx.values())s.addComponent(c);const u=new p6(r,n,s);return Rp.set(i,u),u}function $1(t=zx){const e=Rp.get(t);if(!e&&t===zx&&j2())return F2();if(!e)throw zo.create("no-app",{appName:t});return e}function na(t,e,r){var n;let i=(n=f6[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&u.push("and"),s&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ya.warn(u.join(" "));return}Ws(new Go(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m6="firebase-heartbeat-database",g6=1,wf="firebase-heartbeat-store";let Ov=null;function V2(){return Ov||(Ov=N3(m6,g6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(wf)}catch(r){console.warn(r)}}}}).catch(t=>{throw zo.create("idb-open",{originalErrorMessage:t.message})})),Ov}async function y6(t){try{const r=(await V2()).transaction(wf),n=await r.objectStore(wf).get(U2(t));return await r.done,n}catch(e){if(e instanceof pa)Ya.warn(e.message);else{const r=zo.create("idb-get",{originalErrorMessage:e?.message});Ya.warn(r.message)}}}async function lP(t,e){try{const n=(await V2()).transaction(wf,"readwrite");await n.objectStore(wf).put(e,U2(t)),await n.done}catch(r){if(r instanceof pa)Ya.warn(r.message);else{const n=zo.create("idb-set",{originalErrorMessage:r?.message});Ya.warn(n.message)}}}function U2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6=1024,b6=30*24*60*60*1e3;class _6{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new w6(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=uP();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const u=new Date(s.date).valueOf();return Date.now()-u<=b6}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Ya.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=uP(),{heartbeatsToSend:n,unsentEntries:i}=x6(this._heartbeatsCache.heartbeats),a=Op(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return Ya.warn(r),""}}}function uP(){return new Date().toISOString().substring(0,10)}function x6(t,e=v6){const r=[];let n=t.slice();for(const i of t){const a=r.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),cP(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),cP(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class w6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return l3()?u3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await y6(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return lP(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return lP(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function cP(t){return Op(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E6(t){Ws(new Go("platform-logger",e=>new D3(e),"PRIVATE")),Ws(new Go("heartbeat",e=>new _6(e),"PRIVATE")),na(qx,oP,t),na(qx,oP,"esm2017"),na("fire-js","")}E6("");var S6="firebase",T6="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */na(S6,T6,"app");function F1(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function B2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const A6=B2,q2=new pd("auth","Firebase",B2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np=new D1("@firebase/auth");function P6(t,...e){Np.logLevel<=ot.WARN&&Np.warn(`Auth (${il}): ${t}`,...e)}function _p(t,...e){Np.logLevel<=ot.ERROR&&Np.error(`Auth (${il}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(t,...e){throw V1(t,...e)}function ia(t,...e){return V1(t,...e)}function z2(t,e,r){const n=Object.assign(Object.assign({},A6()),{[e]:r});return new pd("auth","Firebase",n).create(e,{appName:t.name})}function za(t){return z2(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function V1(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return q2.create(t,...e)}function Ke(t,e,...r){if(!t)throw V1(e,...r)}function $a(t){const e="INTERNAL ASSERTION FAILED: "+t;throw _p(e),new Error(e)}function Xa(t,e){t||$a(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function k6(){return fP()==="http:"||fP()==="https:"}function fP(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(k6()||i3()||"connection"in navigator)?navigator.onLine:!0}function O6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e,r){this.shortDelay=e,this.longDelay=r,Xa(r>e,"Short delay should be less than long delay!"),this.isMobile=t3()||a3()}get(){return I6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(t,e){Xa(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$a("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$a("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$a("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6=new gd(3e4,6e4);function Zo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function es(t,e,r,n,i={}){return H2(t,i,async()=>{let a={},s={};n&&(e==="GET"?s=n:a={body:JSON.stringify(n)});const u=md(Object.assign({key:t.config.apiKey},s)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const f=Object.assign({method:e,headers:c},a);return n3()||(f.referrerPolicy="no-referrer"),W2.fetch()(K2(t,t.config.apiHost,r,u),f)})}async function H2(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},C6),e);try{const i=new j6(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw Zh(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const u=a.ok?s.errorMessage:s.error.message,[c,f]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zh(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Zh(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw Zh(t,"user-disabled",s);const h=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw z2(t,h,f);Li(t,h)}}catch(i){if(i instanceof pa)throw i;Li(t,"network-request-failed",{message:String(i)})}}async function yd(t,e,r,n,i={}){const a=await es(t,e,r,n,i);return"mfaPendingCredential"in a&&Li(t,"multi-factor-auth-required",{_serverResponse:a}),a}function K2(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?U1(t.config,i):`${t.config.apiScheme}://${i}`}function N6(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class j6{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(ia(this.auth,"network-request-failed")),R6.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Zh(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=ia(t,e,n);return i.customData._tokenResponse=r,i}function dP(t){return t!==void 0&&t.enterprise!==void 0}class M6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return N6(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function D6(t,e){return es(t,"GET","/v2/recaptchaConfig",Zo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L6(t,e){return es(t,"POST","/v1/accounts:delete",e)}async function G2(t,e){return es(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $6(t,e=!1){const r=Dt(t),n=await r.getIdToken(e),i=B1(n);Ke(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a?.sign_in_provider;return{claims:i,token:n,authTime:lf(Cv(i.auth_time)),issuedAtTime:lf(Cv(i.iat)),expirationTime:lf(Cv(i.exp)),signInProvider:s||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Cv(t){return Number(t)*1e3}function B1(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return _p("JWT malformed, contained fewer than 3 sections"),null;try{const i=C2(r);return i?JSON.parse(i):(_p("Failed to decode base64 JWT payload"),null)}catch(i){return _p("Caught error parsing JWT payload as JSON",i?.toString()),null}}function hP(t){const e=B1(t);return Ke(e,"internal-error"),Ke(typeof e.exp<"u","internal-error"),Ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ef(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof pa&&F6(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function F6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=lf(this.lastLoginAt),this.creationTime=lf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jp(t){var e;const r=t.auth,n=await t.getIdToken(),i=await Ef(t,G2(r,{idToken:n}));Ke(i?.users.length,r,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const s=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?Y2(a.providerUserInfo):[],u=B6(t.providerData,s),c=t.isAnonymous,f=!(t.email&&a.passwordHash)&&!u?.length,h=c?f:!1,m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Kx(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(t,m)}async function U6(t){const e=Dt(t);await jp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function B6(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function Y2(t){return t.map(e=>{var{providerId:r}=e,n=F1(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q6(t,e){const r=await H2(t,{},async()=>{const n=md({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=K2(t,i,"/v1/token",`key=${a}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",W2.fetch()(s,{method:"POST",headers:u,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function z6(t,e){return es(t,"POST","/v2/accounts:revokeToken",Zo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ke(e.idToken,"internal-error"),Ke(typeof e.idToken<"u","internal-error"),Ke(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Ke(e.length!==0,"internal-error");const r=hP(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await q6(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,s=new lu;return n&&(Ke(typeof n=="string","internal-error",{appName:e}),s.refreshToken=n),i&&(Ke(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(Ke(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new lu,this.toJSON())}_performRefresh(){return $a("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function No(t,e){Ke(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Fa{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,a=F1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new V6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Kx(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const r=await Ef(this,this.stsTokenManager.getToken(this.auth,e));return Ke(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return $6(this,e)}reload(){return U6(this)}_assign(e){this!==e&&(Ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Fa(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await jp(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ea(this.auth.app))return Promise.reject(za(this.auth));const e=await this.getIdToken();return await Ef(this,L6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,a,s,u,c,f,h;const m=(n=r.displayName)!==null&&n!==void 0?n:void 0,y=(i=r.email)!==null&&i!==void 0?i:void 0,v=(a=r.phoneNumber)!==null&&a!==void 0?a:void 0,E=(s=r.photoURL)!==null&&s!==void 0?s:void 0,w=(u=r.tenantId)!==null&&u!==void 0?u:void 0,x=(c=r._redirectEventId)!==null&&c!==void 0?c:void 0,O=(f=r.createdAt)!==null&&f!==void 0?f:void 0,C=(h=r.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:R,emailVerified:$,isAnonymous:I,providerData:j,stsTokenManager:A}=r;Ke(R&&A,e,"internal-error");const P=lu.fromJSON(this.name,A);Ke(typeof R=="string",e,"internal-error"),No(m,e.name),No(y,e.name),Ke(typeof $=="boolean",e,"internal-error"),Ke(typeof I=="boolean",e,"internal-error"),No(v,e.name),No(E,e.name),No(w,e.name),No(x,e.name),No(O,e.name),No(C,e.name);const N=new Fa({uid:R,auth:e,email:y,emailVerified:$,displayName:m,isAnonymous:I,photoURL:E,phoneNumber:v,tenantId:w,stsTokenManager:P,createdAt:O,lastLoginAt:C});return j&&Array.isArray(j)&&(N.providerData=j.map(F=>Object.assign({},F))),x&&(N._redirectEventId=x),N}static async _fromIdTokenResponse(e,r,n=!1){const i=new lu;i.updateFromServerResponse(r);const a=new Fa({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await jp(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];Ke(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?Y2(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!a?.length,u=new lu;u.updateFromIdToken(n);const c=new Fa({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:s}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Kx(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(c,f),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP=new Map;function Va(t){Xa(t instanceof Function,"Expected a class definition");let e=pP.get(t);return e?(Xa(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,pP.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}X2.type="NONE";const mP=X2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(t,e,r){return`firebase:${t}:${e}:${r}`}class uu{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=xp(this.userKey,i.apiKey,a),this.fullPersistenceKey=xp("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Fa._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new uu(Va(mP),e,n);const i=(await Promise.all(r.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=i[0]||Va(mP);const s=xp(n,e.config.apiKey,e.name);let u=null;for(const f of r)try{const h=await f._get(s);if(h){const m=Fa._fromJSON(e,h);f!==a&&(u=m),a=f;break}}catch{}const c=i.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new uu(a,e,n):(a=c[0],u&&await a._set(s,u.toJSON()),await Promise.all(r.map(async f=>{if(f!==a)try{await f._remove(s)}catch{}})),new uu(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(eM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Q2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rM(e))return"Blackberry";if(nM(e))return"Webos";if(J2(e))return"Safari";if((e.includes("chrome/")||Z2(e))&&!e.includes("edge/"))return"Chrome";if(tM(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if(n?.length===2)return n[1]}return"Other"}function Q2(t=Jr()){return/firefox\//i.test(t)}function J2(t=Jr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Z2(t=Jr()){return/crios\//i.test(t)}function eM(t=Jr()){return/iemobile/i.test(t)}function tM(t=Jr()){return/android/i.test(t)}function rM(t=Jr()){return/blackberry/i.test(t)}function nM(t=Jr()){return/webos/i.test(t)}function q1(t=Jr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function W6(t=Jr()){var e;return q1(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function H6(){return o3()&&document.documentMode===10}function iM(t=Jr()){return q1(t)||tM(t)||nM(t)||rM(t)||/windows phone/i.test(t)||eM(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(t,e=[]){let r;switch(t){case"Browser":r=gP(Jr());break;case"Worker":r=`${gP(Jr())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${il}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((s,u)=>{try{const c=e(a);s(c)}catch(c){u(c)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G6(t,e={}){return es(t,"GET","/v2/passwordPolicy",Zo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y6=6;class X6{constructor(e){var r,n,i,a;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=s.minPasswordLength)!==null&&r!==void 0?r:Y6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,a,s,u;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(r=c.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(n=c.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(a=c.containsUppercaseLetter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(u=c.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),c}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yP(this),this.idTokenSubscription=new yP(this),this.beforeStateQueue=new K6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=q2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Va(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await uu.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await G2(this,{idToken:e}),n=await Fa._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(ea(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,u=i?._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===u)&&c?.user&&(i=c.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await jp(e)}catch(r){if(r?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=O6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ea(this.app))return Promise.reject(za(this));const r=e?Dt(e):null;return r&&Ke(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ea(this.app)?Promise.reject(za(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ea(this.app)?Promise.reject(za(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Va(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await G6(this),r=new X6(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new pd("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await z6(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Va(e)||this._popupRedirectResolver;Ke(r,this,"argument-error"),this.redirectPersistenceManager=await uu.create(this,[Va(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let s=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ke(u,this,"internal-error"),u.then(()=>{s||a(this.currentUser)}),typeof r=="function"){const c=e.addObserver(r,n,i);return()=>{s=!0,c()}}else{const c=e.addObserver(r);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r?.error&&P6(`Error while retrieving App Check token: ${r.error}`),r?.token}}function al(t){return Dt(t)}class yP{constructor(e){this.auth=e,this.observer=null,this.addObserver=p3(r=>this.observer=r)}get next(){return Ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Km={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function J6(t){Km=t}function oM(t){return Km.loadJS(t)}function Z6(){return Km.recaptchaEnterpriseScript}function eU(){return Km.gapiScript}function tU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const rU="recaptcha-enterprise",nU="NO_RECAPTCHA";class iU{constructor(e){this.type=rU,this.auth=al(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,u)=>{D6(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new M6(c);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,s(f.siteKey)}}).catch(c=>{u(c)})})}function i(a,s,u){const c=window.grecaptcha;dP(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(f=>{s(f)}).catch(()=>{s(nU)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,s)=>{n(this.auth).then(u=>{if(!r&&dP(window.grecaptcha))i(u,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=Z6();c.length!==0&&(c+=u),oM(c).then(()=>{i(u,a,s)}).catch(f=>{s(f)})}}).catch(u=>{s(u)})})}}async function vP(t,e,r,n=!1){const i=new iU(t);let a;try{a=await i.verify(r)}catch{a=await i.verify(r,!0)}const s=Object.assign({},e);return n?Object.assign(s,{captchaResp:a}):Object.assign(s,{captchaResponse:a}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Gx(t,e,r,n){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await vP(t,e,r,r==="getOobCode");return n(t,a)}else return n(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await vP(t,e,r,r==="getOobCode");return n(t,s)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aU(t,e){const r=Hm(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(Cp(a,e??{}))return i;Li(i,"already-initialized")}return r.initialize({options:e})}function oU(t,e){const r=e?.persistence||[],n=(Array.isArray(r)?r:[r]).map(Va);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e?.popupRedirectResolver)}function sU(t,e,r){const n=al(t);Ke(n._canInitEmulator,n,"emulator-config-failed"),Ke(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=sM(e),{host:s,port:u}=lU(e),c=u===null?"":`:${u}`;n.config.emulator={url:`${a}//${s}${c}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),uU()}function sM(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function lU(t){const e=sM(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:bP(n.substr(a.length+1))}}else{const[a,s]=n.split(":");return{host:a,port:bP(s)}}}function bP(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function uU(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return $a("not implemented")}_getIdTokenResponse(e){return $a("not implemented")}_linkToIdToken(e,r){return $a("not implemented")}_getReauthenticationResolver(e){return $a("not implemented")}}async function cU(t,e){return es(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fU(t,e){return yd(t,"POST","/v1/accounts:signInWithPassword",Zo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dU(t,e){return yd(t,"POST","/v1/accounts:signInWithEmailLink",Zo(t,e))}async function hU(t,e){return yd(t,"POST","/v1/accounts:signInWithEmailLink",Zo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf extends z1{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new Sf(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new Sf(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r?.email&&r?.password){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gx(e,r,"signInWithPassword",fU);case"emailLink":return dU(e,{email:this._email,oobCode:this._password});default:Li(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gx(e,n,"signUpPassword",cU);case"emailLink":return hU(e,{idToken:r,email:this._email,oobCode:this._password});default:Li(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cu(t,e){return yd(t,"POST","/v1/accounts:signInWithIdp",Zo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pU="http://localhost";class Hs extends z1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Hs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Li("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,a=F1(r,["providerId","signInMethod"]);if(!n||!i)return null;const s=new Hs(n,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const r=this.buildRequest();return cu(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,cu(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,cu(e,r)}buildRequest(){const e={requestUri:pU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=md(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function gU(t){const e=Qc(Jc(t)).link,r=e?Qc(Jc(e)).deep_link_id:null,n=Qc(Jc(t)).deep_link_id;return(n?Qc(Jc(n)).link:null)||n||r||e||t}class W1{constructor(e){var r,n,i,a,s,u;const c=Qc(Jc(e)),f=(r=c.apiKey)!==null&&r!==void 0?r:null,h=(n=c.oobCode)!==null&&n!==void 0?n:null,m=mU((i=c.mode)!==null&&i!==void 0?i:null);Ke(f&&h&&m,"argument-error"),this.apiKey=f,this.operation=m,this.code=h,this.continueUrl=(a=c.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(s=c.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(u=c.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const r=gU(e);try{return new W1(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(){this.providerId=Gu.PROVIDER_ID}static credential(e,r){return Sf._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=W1.parseLink(r);return Ke(n,"argument-error"),Sf._fromEmailAndCode(e,n.code,n.tenantId)}}Gu.PROVIDER_ID="password";Gu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Gu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd extends lM{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo extends vd{constructor(){super("facebook.com")}static credential(e){return Hs._fromParams({providerId:Mo.PROVIDER_ID,signInMethod:Mo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mo.credentialFromTaggedObject(e)}static credentialFromError(e){return Mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mo.credential(e.oauthAccessToken)}catch{return null}}}Mo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Mo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do extends vd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Hs._fromParams({providerId:Do.PROVIDER_ID,signInMethod:Do.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Do.credentialFromTaggedObject(e)}static credentialFromError(e){return Do.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Do.credential(r,n)}catch{return null}}}Do.GOOGLE_SIGN_IN_METHOD="google.com";Do.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo extends vd{constructor(){super("github.com")}static credential(e){return Hs._fromParams({providerId:Lo.PROVIDER_ID,signInMethod:Lo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lo.credentialFromTaggedObject(e)}static credentialFromError(e){return Lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lo.credential(e.oauthAccessToken)}catch{return null}}}Lo.GITHUB_SIGN_IN_METHOD="github.com";Lo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o extends vd{constructor(){super("twitter.com")}static credential(e,r){return Hs._fromParams({providerId:$o.PROVIDER_ID,signInMethod:$o.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return $o.credentialFromTaggedObject(e)}static credentialFromError(e){return $o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return $o.credential(r,n)}catch{return null}}}$o.TWITTER_SIGN_IN_METHOD="twitter.com";$o.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yU(t,e){return yd(t,"POST","/v1/accounts:signUp",Zo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await Fa._fromIdTokenResponse(e,n,i),s=_P(n);return new Ks({user:a,providerId:s,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=_P(n);return new Ks({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function _P(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp extends pa{constructor(e,r,n,i){var a;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Mp.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Mp(e,r,n,i)}}function uM(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Mp._fromErrorAndOperation(t,a,e,n):a})}async function vU(t,e,r=!1){const n=await Ef(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Ks._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bU(t,e,r=!1){const{auth:n}=t;if(ea(n.app))return Promise.reject(za(n));const i="reauthenticate";try{const a=await Ef(t,uM(n,i,e,t),r);Ke(a.idToken,n,"internal-error");const s=B1(a.idToken);Ke(s,n,"internal-error");const{sub:u}=s;return Ke(t.uid===u,n,"user-mismatch"),Ks._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&Li(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cM(t,e,r=!1){if(ea(t.app))return Promise.reject(za(t));const n="signIn",i=await uM(t,n,e),a=await Ks._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}async function _U(t,e){return cM(al(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fM(t){const e=al(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function xU(t,e,r){if(ea(t.app))return Promise.reject(za(t));const n=al(t),s=await Gx(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yU).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&fM(t),c}),u=await Ks._fromIdTokenResponse(n,"signIn",s);return await n._updateCurrentUser(u.user),u}function wU(t,e,r){return ea(t.app)?Promise.reject(za(t)):_U(Dt(t),Gu.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&fM(t),n})}function EU(t,e,r,n){return Dt(t).onIdTokenChanged(e,r,n)}function SU(t,e,r){return Dt(t).beforeAuthStateChanged(e,r)}function TU(t,e,r,n){return Dt(t).onAuthStateChanged(e,r,n)}function AU(t){return Dt(t).signOut()}const Dp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Dp,"1"),this.storage.removeItem(Dp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PU=1e3,kU=10;class hM extends dM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iM(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((s,u,c)=>{this.notifyListeners(s,c)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(n);!r&&this.localCache[n]===s||this.notifyListeners(n,s)},a=this.storage.getItem(n);H6()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,kU):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},PU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}hM.type="LOCAL";const IU=hM;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM extends dM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}pM.type="SESSION";const mM=pM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new Gm(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,s=this.handlersMap[i];if(!s?.size)return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const u=Array.from(s).map(async f=>f(r.origin,a)),c=await OU(u);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:c})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((u,c)=>{const f=H1("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},n);s={messageChannel:i,onMessage(m){const y=m;if(y.data.eventId===f)switch(y.data.status){case"ack":clearTimeout(h),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(y.data.response);break;default:clearTimeout(h),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:f,data:r},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aa(){return window}function RU(t){aa().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(){return typeof aa().WorkerGlobalScope<"u"&&typeof aa().importScripts=="function"}async function NU(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jU(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function MU(){return gM()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM="firebaseLocalStorageDb",DU=1,Lp="firebaseLocalStorage",vM="fbase_key";class bd{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Ym(t,e){return t.transaction([Lp],e?"readwrite":"readonly").objectStore(Lp)}function LU(){const t=indexedDB.deleteDatabase(yM);return new bd(t).toPromise()}function Yx(){const t=indexedDB.open(yM,DU);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Lp,{keyPath:vM})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Lp)?e(n):(n.close(),await LU(),e(await Yx()))})})}async function xP(t,e,r){const n=Ym(t,!0).put({[vM]:e,value:r});return new bd(n).toPromise()}async function $U(t,e){const r=Ym(t,!1).get(e),n=await new bd(r).toPromise();return n===void 0?null:n.value}function wP(t,e){const r=Ym(t,!0).delete(e);return new bd(r).toPromise()}const FU=800,VU=3;class bM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Yx(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>VU)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gm._getInstance(MU()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await NU(),!this.activeServiceWorker)return;this.sender=new CU(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Yx();return await xP(e,Dp,"1"),await wP(e,Dp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>xP(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>$U(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>wP(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Ym(i,!1).getAll();return new bd(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),FU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bM.type="LOCAL";const UU=bM;new gd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BU(t,e){return e?Va(e):(Ke(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1 extends z1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return cu(e,this._buildIdpRequest())}_linkToIdToken(e,r){return cu(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return cu(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function qU(t){return cM(t.auth,new K1(t),t.bypassAuthState)}function zU(t){const{auth:e,user:r}=t;return Ke(r,e,"internal-error"),bU(r,new K1(t),t.bypassAuthState)}async function WU(t){const{auth:e,user:r}=t;return Ke(r,e,"internal-error"),vU(r,new K1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:s,type:u}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qU;case"linkViaPopup":case"linkViaRedirect":return WU;case"reauthViaPopup":case"reauthViaRedirect":return zU;default:Li(this.auth,"internal-error")}}resolve(e){Xa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HU=new gd(2e3,1e4);class ru extends _M{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,ru.currentPopupAction&&ru.currentPopupAction.cancel(),ru.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ke(e,this.auth,"internal-error"),e}async onExecution(){Xa(this.filter.length===1,"Popup operations only handle one event");const e=H1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(ia(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ia(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ru.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ia(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,HU.get())};e()}}ru.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KU="pendingRedirect",wp=new Map;class GU extends _M{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=wp.get(this.auth._key());if(!e){try{const n=await YU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}wp.set(this.auth._key(),e)}return this.bypassAuthState||wp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function YU(t,e){const r=JU(e),n=QU(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function XU(t,e){wp.set(t._key(),e)}function QU(t){return Va(t._redirectPersistence)}function JU(t){return xp(KU,t.config.apiKey,t.name)}async function ZU(t,e,r=!1){if(ea(t.app))return Promise.reject(za(t));const n=al(t),i=BU(n,e),s=await new GU(n,i,r).execute();return s&&!r&&(delete s.user._redirectEventId,await n._persistUserIfCurrent(s.user),await n._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eB=10*60*1e3;class tB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rB(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!xM(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(ia(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=eB&&this.cachedEventUids.clear(),this.cachedEventUids.has(EP(e))}saveEventToCache(e){this.cachedEventUids.add(EP(e)),this.lastProcessedEventTime=Date.now()}}function EP(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function xM({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function rB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xM(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nB(t,e={}){return es(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aB=/^https?/;async function oB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await nB(t);for(const r of e)try{if(sB(r))return}catch{}Li(t,"unauthorized-domain")}function sB(t){const e=Hx(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&s.hostname===n}if(!aB.test(r))return!1;if(iB.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lB=new gd(3e4,6e4);function SP(){const t=aa().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function uB(t){return new Promise((e,r)=>{var n,i,a;function s(){SP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{SP(),r(ia(t,"network-request-failed"))},timeout:lB.get()})}if(!((i=(n=aa().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=aa().gapi)===null||a===void 0)&&a.load)s();else{const u=tU("iframefcb");return aa()[u]=()=>{gapi.load?s():r(ia(t,"network-request-failed"))},oM(`${eU()}?onload=${u}`).catch(c=>r(c))}}).catch(e=>{throw Ep=null,e})}let Ep=null;function cB(t){return Ep=Ep||uB(t),Ep}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fB=new gd(5e3,15e3),dB="__/auth/iframe",hB="emulator/auth/iframe",pB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gB(t){const e=t.config;Ke(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?U1(e,hB):`https://${t.config.authDomain}/${dB}`,n={apiKey:e.apiKey,appName:t.name,v:il},i=mB.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${md(n).slice(1)}`}async function yB(t){const e=await cB(t),r=aa().gapi;return Ke(r,t,"internal-error"),e.open({where:document.body,url:gB(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pB,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const s=ia(t,"network-request-failed"),u=aa().setTimeout(()=>{a(s)},fB.get());function c(){aa().clearTimeout(u),i(n)}n.ping(c).then(c,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bB=500,_B=600,xB="_blank",wB="http://localhost";class TP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function EB(t,e,r,n=bB,i=_B){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString();let u="";const c=Object.assign(Object.assign({},vB),{width:n.toString(),height:i.toString(),top:a,left:s}),f=Jr().toLowerCase();r&&(u=Z2(f)?xB:r),Q2(f)&&(e=e||wB,c.scrollbars="yes");const h=Object.entries(c).reduce((y,[v,E])=>`${y}${v}=${E},`,"");if(W6(f)&&u!=="_self")return SB(e||"",u),new TP(null);const m=window.open(e||"",u,h);Ke(m,t,"popup-blocked");try{m.focus()}catch{}return new TP(m)}function SB(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TB="__/auth/handler",AB="emulator/auth/handler",PB=encodeURIComponent("fac");async function AP(t,e,r,n,i,a){Ke(t.config.authDomain,t,"auth-domain-config-required"),Ke(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:il,eventId:i};if(e instanceof lM){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",h3(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,m]of Object.entries({}))s[h]=m}if(e instanceof vd){const h=e.getScopes().filter(m=>m!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);const u=s;for(const h of Object.keys(u))u[h]===void 0&&delete u[h];const c=await t._getAppCheckToken(),f=c?`#${PB}=${encodeURIComponent(c)}`:"";return`${kB(t)}?${md(u).slice(1)}${f}`}function kB({config:t}){return t.emulator?U1(t,AB):`https://${t.authDomain}/${TB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="webStorageSupport";class IB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mM,this._completeRedirectFn=ZU,this._overrideRedirectResult=XU}async _openPopup(e,r,n,i){var a;Xa((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await AP(e,r,n,Hx(),i);return EB(e,s,H1())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await AP(e,r,n,Hx(),i);return RU(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(Xa(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await yB(e),n=new tB(e);return r.register("authEvent",i=>(Ke(i?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Rv,{type:Rv},i=>{var a;const s=(a=i?.[0])===null||a===void 0?void 0:a[Rv];s!==void 0&&r(!!s),Li(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=oB(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return iM()||J2()||q1()}}const OB=IB;var PP="@firebase/auth",kP="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function NB(t){Ws(new Go("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:u}=n.options;Ke(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:s,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aM(t)},f=new Q6(n,i,a,c);return oU(f,r),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Ws(new Go("auth-internal",e=>{const r=al(e.getProvider("auth").getImmediate());return(n=>new CB(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),na(PP,kP,RB(t)),na(PP,kP,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jB=5*60,MB=M2("authIdTokenMaxAge")||jB;let IP=null;const DB=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>MB)return;const i=r?.token;IP!==i&&(IP=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function wM(t=$1()){const e=Hm(t,"auth");if(e.isInitialized())return e.getImmediate();const r=aU(t,{popupRedirectResolver:OB,persistence:[UU,IU,mM]}),n=M2("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const s=DB(a.toString());SU(r,s,()=>s(r.currentUser)),EU(r,u=>s(u))}}const i=R2("auth");return i&&sU(r,`http://${i}`),r}function LB(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}J6({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=ia("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",LB().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});NB("Browser");var OP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Us,EM;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,P){function N(){}N.prototype=P.prototype,A.D=P.prototype,A.prototype=new N,A.prototype.constructor=A,A.C=function(F,D,V){for(var M=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)M[Z-2]=arguments[Z];return P.prototype[D].apply(F,M)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,P,N){N||(N=0);var F=Array(16);if(typeof P=="string")for(var D=0;16>D;++D)F[D]=P.charCodeAt(N++)|P.charCodeAt(N++)<<8|P.charCodeAt(N++)<<16|P.charCodeAt(N++)<<24;else for(D=0;16>D;++D)F[D]=P[N++]|P[N++]<<8|P[N++]<<16|P[N++]<<24;P=A.g[0],N=A.g[1],D=A.g[2];var V=A.g[3],M=P+(V^N&(D^V))+F[0]+3614090360&4294967295;P=N+(M<<7&4294967295|M>>>25),M=V+(D^P&(N^D))+F[1]+3905402710&4294967295,V=P+(M<<12&4294967295|M>>>20),M=D+(N^V&(P^N))+F[2]+606105819&4294967295,D=V+(M<<17&4294967295|M>>>15),M=N+(P^D&(V^P))+F[3]+3250441966&4294967295,N=D+(M<<22&4294967295|M>>>10),M=P+(V^N&(D^V))+F[4]+4118548399&4294967295,P=N+(M<<7&4294967295|M>>>25),M=V+(D^P&(N^D))+F[5]+1200080426&4294967295,V=P+(M<<12&4294967295|M>>>20),M=D+(N^V&(P^N))+F[6]+2821735955&4294967295,D=V+(M<<17&4294967295|M>>>15),M=N+(P^D&(V^P))+F[7]+4249261313&4294967295,N=D+(M<<22&4294967295|M>>>10),M=P+(V^N&(D^V))+F[8]+1770035416&4294967295,P=N+(M<<7&4294967295|M>>>25),M=V+(D^P&(N^D))+F[9]+2336552879&4294967295,V=P+(M<<12&4294967295|M>>>20),M=D+(N^V&(P^N))+F[10]+4294925233&4294967295,D=V+(M<<17&4294967295|M>>>15),M=N+(P^D&(V^P))+F[11]+2304563134&4294967295,N=D+(M<<22&4294967295|M>>>10),M=P+(V^N&(D^V))+F[12]+1804603682&4294967295,P=N+(M<<7&4294967295|M>>>25),M=V+(D^P&(N^D))+F[13]+4254626195&4294967295,V=P+(M<<12&4294967295|M>>>20),M=D+(N^V&(P^N))+F[14]+2792965006&4294967295,D=V+(M<<17&4294967295|M>>>15),M=N+(P^D&(V^P))+F[15]+1236535329&4294967295,N=D+(M<<22&4294967295|M>>>10),M=P+(D^V&(N^D))+F[1]+4129170786&4294967295,P=N+(M<<5&4294967295|M>>>27),M=V+(N^D&(P^N))+F[6]+3225465664&4294967295,V=P+(M<<9&4294967295|M>>>23),M=D+(P^N&(V^P))+F[11]+643717713&4294967295,D=V+(M<<14&4294967295|M>>>18),M=N+(V^P&(D^V))+F[0]+3921069994&4294967295,N=D+(M<<20&4294967295|M>>>12),M=P+(D^V&(N^D))+F[5]+3593408605&4294967295,P=N+(M<<5&4294967295|M>>>27),M=V+(N^D&(P^N))+F[10]+38016083&4294967295,V=P+(M<<9&4294967295|M>>>23),M=D+(P^N&(V^P))+F[15]+3634488961&4294967295,D=V+(M<<14&4294967295|M>>>18),M=N+(V^P&(D^V))+F[4]+3889429448&4294967295,N=D+(M<<20&4294967295|M>>>12),M=P+(D^V&(N^D))+F[9]+568446438&4294967295,P=N+(M<<5&4294967295|M>>>27),M=V+(N^D&(P^N))+F[14]+3275163606&4294967295,V=P+(M<<9&4294967295|M>>>23),M=D+(P^N&(V^P))+F[3]+4107603335&4294967295,D=V+(M<<14&4294967295|M>>>18),M=N+(V^P&(D^V))+F[8]+1163531501&4294967295,N=D+(M<<20&4294967295|M>>>12),M=P+(D^V&(N^D))+F[13]+2850285829&4294967295,P=N+(M<<5&4294967295|M>>>27),M=V+(N^D&(P^N))+F[2]+4243563512&4294967295,V=P+(M<<9&4294967295|M>>>23),M=D+(P^N&(V^P))+F[7]+1735328473&4294967295,D=V+(M<<14&4294967295|M>>>18),M=N+(V^P&(D^V))+F[12]+2368359562&4294967295,N=D+(M<<20&4294967295|M>>>12),M=P+(N^D^V)+F[5]+4294588738&4294967295,P=N+(M<<4&4294967295|M>>>28),M=V+(P^N^D)+F[8]+2272392833&4294967295,V=P+(M<<11&4294967295|M>>>21),M=D+(V^P^N)+F[11]+1839030562&4294967295,D=V+(M<<16&4294967295|M>>>16),M=N+(D^V^P)+F[14]+4259657740&4294967295,N=D+(M<<23&4294967295|M>>>9),M=P+(N^D^V)+F[1]+2763975236&4294967295,P=N+(M<<4&4294967295|M>>>28),M=V+(P^N^D)+F[4]+1272893353&4294967295,V=P+(M<<11&4294967295|M>>>21),M=D+(V^P^N)+F[7]+4139469664&4294967295,D=V+(M<<16&4294967295|M>>>16),M=N+(D^V^P)+F[10]+3200236656&4294967295,N=D+(M<<23&4294967295|M>>>9),M=P+(N^D^V)+F[13]+681279174&4294967295,P=N+(M<<4&4294967295|M>>>28),M=V+(P^N^D)+F[0]+3936430074&4294967295,V=P+(M<<11&4294967295|M>>>21),M=D+(V^P^N)+F[3]+3572445317&4294967295,D=V+(M<<16&4294967295|M>>>16),M=N+(D^V^P)+F[6]+76029189&4294967295,N=D+(M<<23&4294967295|M>>>9),M=P+(N^D^V)+F[9]+3654602809&4294967295,P=N+(M<<4&4294967295|M>>>28),M=V+(P^N^D)+F[12]+3873151461&4294967295,V=P+(M<<11&4294967295|M>>>21),M=D+(V^P^N)+F[15]+530742520&4294967295,D=V+(M<<16&4294967295|M>>>16),M=N+(D^V^P)+F[2]+3299628645&4294967295,N=D+(M<<23&4294967295|M>>>9),M=P+(D^(N|~V))+F[0]+4096336452&4294967295,P=N+(M<<6&4294967295|M>>>26),M=V+(N^(P|~D))+F[7]+1126891415&4294967295,V=P+(M<<10&4294967295|M>>>22),M=D+(P^(V|~N))+F[14]+2878612391&4294967295,D=V+(M<<15&4294967295|M>>>17),M=N+(V^(D|~P))+F[5]+4237533241&4294967295,N=D+(M<<21&4294967295|M>>>11),M=P+(D^(N|~V))+F[12]+1700485571&4294967295,P=N+(M<<6&4294967295|M>>>26),M=V+(N^(P|~D))+F[3]+2399980690&4294967295,V=P+(M<<10&4294967295|M>>>22),M=D+(P^(V|~N))+F[10]+4293915773&4294967295,D=V+(M<<15&4294967295|M>>>17),M=N+(V^(D|~P))+F[1]+2240044497&4294967295,N=D+(M<<21&4294967295|M>>>11),M=P+(D^(N|~V))+F[8]+1873313359&4294967295,P=N+(M<<6&4294967295|M>>>26),M=V+(N^(P|~D))+F[15]+4264355552&4294967295,V=P+(M<<10&4294967295|M>>>22),M=D+(P^(V|~N))+F[6]+2734768916&4294967295,D=V+(M<<15&4294967295|M>>>17),M=N+(V^(D|~P))+F[13]+1309151649&4294967295,N=D+(M<<21&4294967295|M>>>11),M=P+(D^(N|~V))+F[4]+4149444226&4294967295,P=N+(M<<6&4294967295|M>>>26),M=V+(N^(P|~D))+F[11]+3174756917&4294967295,V=P+(M<<10&4294967295|M>>>22),M=D+(P^(V|~N))+F[2]+718787259&4294967295,D=V+(M<<15&4294967295|M>>>17),M=N+(V^(D|~P))+F[9]+3951481745&4294967295,A.g[0]=A.g[0]+P&4294967295,A.g[1]=A.g[1]+(D+(M<<21&4294967295|M>>>11))&4294967295,A.g[2]=A.g[2]+D&4294967295,A.g[3]=A.g[3]+V&4294967295}n.prototype.u=function(A,P){P===void 0&&(P=A.length);for(var N=P-this.blockSize,F=this.B,D=this.h,V=0;V<P;){if(D==0)for(;V<=N;)i(this,A,V),V+=this.blockSize;if(typeof A=="string"){for(;V<P;)if(F[D++]=A.charCodeAt(V++),D==this.blockSize){i(this,F),D=0;break}}else for(;V<P;)if(F[D++]=A[V++],D==this.blockSize){i(this,F),D=0;break}}this.h=D,this.o+=P},n.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var P=1;P<A.length-8;++P)A[P]=0;var N=8*this.o;for(P=A.length-8;P<A.length;++P)A[P]=N&255,N/=256;for(this.u(A),A=Array(16),P=N=0;4>P;++P)for(var F=0;32>F;F+=8)A[N++]=this.g[P]>>>F&255;return A};function a(A,P){var N=u;return Object.prototype.hasOwnProperty.call(N,A)?N[A]:N[A]=P(A)}function s(A,P){this.h=P;for(var N=[],F=!0,D=A.length-1;0<=D;D--){var V=A[D]|0;F&&V==P||(N[D]=V,F=!1)}this.g=N}var u={};function c(A){return-128<=A&&128>A?a(A,function(P){return new s([P|0],0>P?-1:0)}):new s([A|0],0>A?-1:0)}function f(A){if(isNaN(A)||!isFinite(A))return m;if(0>A)return x(f(-A));for(var P=[],N=1,F=0;A>=N;F++)P[F]=A/N|0,N*=4294967296;return new s(P,0)}function h(A,P){if(A.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(A.charAt(0)=="-")return x(h(A.substring(1),P));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=f(Math.pow(P,8)),F=m,D=0;D<A.length;D+=8){var V=Math.min(8,A.length-D),M=parseInt(A.substring(D,D+V),P);8>V?(V=f(Math.pow(P,V)),F=F.j(V).add(f(M))):(F=F.j(N),F=F.add(f(M)))}return F}var m=c(0),y=c(1),v=c(16777216);t=s.prototype,t.m=function(){if(w(this))return-x(this).m();for(var A=0,P=1,N=0;N<this.g.length;N++){var F=this.i(N);A+=(0<=F?F:4294967296+F)*P,P*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(E(this))return"0";if(w(this))return"-"+x(this).toString(A);for(var P=f(Math.pow(A,6)),N=this,F="";;){var D=$(N,P).g;N=O(N,D.j(P));var V=((0<N.g.length?N.g[0]:N.h)>>>0).toString(A);if(N=D,E(N))return V+F;for(;6>V.length;)V="0"+V;F=V+F}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function E(A){if(A.h!=0)return!1;for(var P=0;P<A.g.length;P++)if(A.g[P]!=0)return!1;return!0}function w(A){return A.h==-1}t.l=function(A){return A=O(this,A),w(A)?-1:E(A)?0:1};function x(A){for(var P=A.g.length,N=[],F=0;F<P;F++)N[F]=~A.g[F];return new s(N,~A.h).add(y)}t.abs=function(){return w(this)?x(this):this},t.add=function(A){for(var P=Math.max(this.g.length,A.g.length),N=[],F=0,D=0;D<=P;D++){var V=F+(this.i(D)&65535)+(A.i(D)&65535),M=(V>>>16)+(this.i(D)>>>16)+(A.i(D)>>>16);F=M>>>16,V&=65535,M&=65535,N[D]=M<<16|V}return new s(N,N[N.length-1]&-2147483648?-1:0)};function O(A,P){return A.add(x(P))}t.j=function(A){if(E(this)||E(A))return m;if(w(this))return w(A)?x(this).j(x(A)):x(x(this).j(A));if(w(A))return x(this.j(x(A)));if(0>this.l(v)&&0>A.l(v))return f(this.m()*A.m());for(var P=this.g.length+A.g.length,N=[],F=0;F<2*P;F++)N[F]=0;for(F=0;F<this.g.length;F++)for(var D=0;D<A.g.length;D++){var V=this.i(F)>>>16,M=this.i(F)&65535,Z=A.i(D)>>>16,ee=A.i(D)&65535;N[2*F+2*D]+=M*ee,C(N,2*F+2*D),N[2*F+2*D+1]+=V*ee,C(N,2*F+2*D+1),N[2*F+2*D+1]+=M*Z,C(N,2*F+2*D+1),N[2*F+2*D+2]+=V*Z,C(N,2*F+2*D+2)}for(F=0;F<P;F++)N[F]=N[2*F+1]<<16|N[2*F];for(F=P;F<2*P;F++)N[F]=0;return new s(N,0)};function C(A,P){for(;(A[P]&65535)!=A[P];)A[P+1]+=A[P]>>>16,A[P]&=65535,P++}function R(A,P){this.g=A,this.h=P}function $(A,P){if(E(P))throw Error("division by zero");if(E(A))return new R(m,m);if(w(A))return P=$(x(A),P),new R(x(P.g),x(P.h));if(w(P))return P=$(A,x(P)),new R(x(P.g),P.h);if(30<A.g.length){if(w(A)||w(P))throw Error("slowDivide_ only works with positive integers.");for(var N=y,F=P;0>=F.l(A);)N=I(N),F=I(F);var D=j(N,1),V=j(F,1);for(F=j(F,2),N=j(N,2);!E(F);){var M=V.add(F);0>=M.l(A)&&(D=D.add(N),V=M),F=j(F,1),N=j(N,1)}return P=O(A,D.j(P)),new R(D,P)}for(D=m;0<=A.l(P);){for(N=Math.max(1,Math.floor(A.m()/P.m())),F=Math.ceil(Math.log(N)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),V=f(N),M=V.j(P);w(M)||0<M.l(A);)N-=F,V=f(N),M=V.j(P);E(V)&&(V=y),D=D.add(V),A=O(A,M)}return new R(D,A)}t.A=function(A){return $(this,A).h},t.and=function(A){for(var P=Math.max(this.g.length,A.g.length),N=[],F=0;F<P;F++)N[F]=this.i(F)&A.i(F);return new s(N,this.h&A.h)},t.or=function(A){for(var P=Math.max(this.g.length,A.g.length),N=[],F=0;F<P;F++)N[F]=this.i(F)|A.i(F);return new s(N,this.h|A.h)},t.xor=function(A){for(var P=Math.max(this.g.length,A.g.length),N=[],F=0;F<P;F++)N[F]=this.i(F)^A.i(F);return new s(N,this.h^A.h)};function I(A){for(var P=A.g.length+1,N=[],F=0;F<P;F++)N[F]=A.i(F)<<1|A.i(F-1)>>>31;return new s(N,A.h)}function j(A,P){var N=P>>5;P%=32;for(var F=A.g.length-N,D=[],V=0;V<F;V++)D[V]=0<P?A.i(V+N)>>>P|A.i(V+N+1)<<32-P:A.i(V+N);return new s(D,A.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,EM=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=f,s.fromString=h,Us=s}).apply(typeof OP<"u"?OP:typeof self<"u"?self:typeof window<"u"?window:{});var ep=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var SM,Zc,TM,Sp,Xx,AM,PM,kM;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,S,k){return p==Array.prototype||p==Object.prototype||(p[S]=k.value),p};function r(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof ep=="object"&&ep];for(var S=0;S<p.length;++S){var k=p[S];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var n=r(this);function i(p,S){if(S)e:{var k=n;p=p.split(".");for(var U=0;U<p.length-1;U++){var Y=p[U];if(!(Y in k))break e;k=k[Y]}p=p[p.length-1],U=k[p],S=S(U),S!=U&&S!=null&&e(k,p,{configurable:!0,writable:!0,value:S})}}function a(p,S){p instanceof String&&(p+="");var k=0,U=!1,Y={next:function(){if(!U&&k<p.length){var ie=k++;return{value:S(ie,p[ie]),done:!1}}return U=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}i("Array.prototype.values",function(p){return p||function(){return a(this,function(S,k){return k})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},u=this||self;function c(p){var S=typeof p;return S=S!="object"?S:p?Array.isArray(p)?"array":S:"null",S=="array"||S=="object"&&typeof p.length=="number"}function f(p){var S=typeof p;return S=="object"&&p!=null||S=="function"}function h(p,S,k){return p.call.apply(p.bind,arguments)}function m(p,S,k){if(!p)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,U),p.apply(S,Y)}}return function(){return p.apply(S,arguments)}}function y(p,S,k){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:m,y.apply(null,arguments)}function v(p,S){var k=Array.prototype.slice.call(arguments,1);return function(){var U=k.slice();return U.push.apply(U,arguments),p.apply(this,U)}}function E(p,S){function k(){}k.prototype=S.prototype,p.aa=S.prototype,p.prototype=new k,p.prototype.constructor=p,p.Qb=function(U,Y,ie){for(var _e=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)_e[bt-2]=arguments[bt];return S.prototype[Y].apply(U,_e)}}function w(p){const S=p.length;if(0<S){const k=Array(S);for(let U=0;U<S;U++)k[U]=p[U];return k}return[]}function x(p,S){for(let k=1;k<arguments.length;k++){const U=arguments[k];if(c(U)){const Y=p.length||0,ie=U.length||0;p.length=Y+ie;for(let _e=0;_e<ie;_e++)p[Y+_e]=U[_e]}else p.push(U)}}class O{constructor(S,k){this.i=S,this.j=k,this.h=0,this.g=null}get(){let S;return 0<this.h?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function C(p){return/^[\s\xa0]*$/.test(p)}function R(){var p=u.navigator;return p&&(p=p.userAgent)?p:""}function $(p){return $[" "](p),p}$[" "]=function(){};var I=R().indexOf("Gecko")!=-1&&!(R().toLowerCase().indexOf("webkit")!=-1&&R().indexOf("Edge")==-1)&&!(R().indexOf("Trident")!=-1||R().indexOf("MSIE")!=-1)&&R().indexOf("Edge")==-1;function j(p,S,k){for(const U in p)S.call(k,p[U],U,p)}function A(p,S){for(const k in p)S.call(void 0,p[k],k,p)}function P(p){const S={};for(const k in p)S[k]=p[k];return S}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(p,S){let k,U;for(let Y=1;Y<arguments.length;Y++){U=arguments[Y];for(k in U)p[k]=U[k];for(let ie=0;ie<N.length;ie++)k=N[ie],Object.prototype.hasOwnProperty.call(U,k)&&(p[k]=U[k])}}function D(p){var S=1;p=p.split(":");const k=[];for(;0<S&&p.length;)k.push(p.shift()),S--;return p.length&&k.push(p.join(":")),k}function V(p){u.setTimeout(()=>{throw p},0)}function M(){var p=ae;let S=null;return p.g&&(S=p.g,p.g=p.g.next,p.g||(p.h=null),S.next=null),S}class Z{constructor(){this.h=this.g=null}add(S,k){const U=ee.get();U.set(S,k),this.h?this.h.next=U:this.g=U,this.h=U}}var ee=new O(()=>new re,p=>p.reset());class re{constructor(){this.next=this.g=this.h=null}set(S,k){this.h=S,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,Q=!1,ae=new Z,se=()=>{const p=u.Promise.resolve(void 0);oe=()=>{p.then(q)}};var q=()=>{for(var p;p=M();){try{p.h.call(p.g)}catch(k){V(k)}var S=ee;S.j(p),100>S.h&&(S.h++,p.next=S.g,S.g=p)}Q=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(p,S){this.type=p,this.g=this.target=S,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var Ee=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var p=!1,S=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const k=()=>{};u.addEventListener("test",k,S),u.removeEventListener("test",k,S)}catch{}return p}();function je(p,S){if(fe.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var k=this.type=p.type,U=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=S,S=p.relatedTarget){if(I){e:{try{$(S.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(S=null)}}else k=="mouseover"?S=p.fromElement:k=="mouseout"&&(S=p.toElement);this.relatedTarget=S,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:xe[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&je.aa.h.call(this)}}E(je,fe);var xe={2:"touch",3:"pen",4:"mouse"};je.prototype.h=function(){je.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var $e="closure_listenable_"+(1e6*Math.random()|0),Ve=0;function pe(p,S,k,U,Y){this.listener=p,this.proxy=null,this.src=S,this.type=k,this.capture=!!U,this.ha=Y,this.key=++Ve,this.da=this.fa=!1}function Ae(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function ze(p){this.src=p,this.g={},this.h=0}ze.prototype.add=function(p,S,k,U,Y){var ie=p.toString();p=this.g[ie],p||(p=this.g[ie]=[],this.h++);var _e=ut(p,S,U,Y);return-1<_e?(S=p[_e],k||(S.fa=!1)):(S=new pe(S,this.src,ie,!!U,Y),S.fa=k,p.push(S)),S};function ue(p,S){var k=S.type;if(k in p.g){var U=p.g[k],Y=Array.prototype.indexOf.call(U,S,void 0),ie;(ie=0<=Y)&&Array.prototype.splice.call(U,Y,1),ie&&(Ae(S),p.g[k].length==0&&(delete p.g[k],p.h--))}}function ut(p,S,k,U){for(var Y=0;Y<p.length;++Y){var ie=p[Y];if(!ie.da&&ie.listener==S&&ie.capture==!!k&&ie.ha==U)return Y}return-1}var He="closure_lm_"+(1e6*Math.random()|0),mt={};function Tt(p,S,k,U,Y){if(Array.isArray(S)){for(var ie=0;ie<S.length;ie++)Tt(p,S[ie],k,U,Y);return null}return k=Ui(k),p&&p[$e]?p.K(S,k,f(U)?!!U.capture:!1,Y):Yt(p,S,k,!1,U,Y)}function Yt(p,S,k,U,Y,ie){if(!S)throw Error("Invalid event type");var _e=f(Y)?!!Y.capture:!!Y,bt=en(p);if(bt||(p[He]=bt=new ze(p)),k=bt.add(S,k,U,_e,ie),k.proxy)return k;if(U=cr(),k.proxy=U,U.src=p,U.listener=k,p.addEventListener)Ee||(Y=_e),Y===void 0&&(Y=!1),p.addEventListener(S.toString(),U,Y);else if(p.attachEvent)p.attachEvent(Bt(S.toString()),U);else if(p.addListener&&p.removeListener)p.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return k}function cr(){function p(k){return S.call(p.src,p.listener,k)}const S=Cr;return p}function Zr(p,S,k,U,Y){if(Array.isArray(S))for(var ie=0;ie<S.length;ie++)Zr(p,S[ie],k,U,Y);else U=f(U)?!!U.capture:!!U,k=Ui(k),p&&p[$e]?(p=p.i,S=String(S).toString(),S in p.g&&(ie=p.g[S],k=ut(ie,k,U,Y),-1<k&&(Ae(ie[k]),Array.prototype.splice.call(ie,k,1),ie.length==0&&(delete p.g[S],p.h--)))):p&&(p=en(p))&&(S=p.g[S.toString()],p=-1,S&&(p=ut(S,k,U,Y)),(k=-1<p?S[p]:null)&&Ut(k))}function Ut(p){if(typeof p!="number"&&p&&!p.da){var S=p.src;if(S&&S[$e])ue(S.i,p);else{var k=p.type,U=p.proxy;S.removeEventListener?S.removeEventListener(k,U,p.capture):S.detachEvent?S.detachEvent(Bt(k),U):S.addListener&&S.removeListener&&S.removeListener(U),(k=en(S))?(ue(k,p),k.h==0&&(k.src=null,S[He]=null)):Ae(p)}}}function Bt(p){return p in mt?mt[p]:mt[p]="on"+p}function Cr(p,S){if(p.da)p=!0;else{S=new je(S,this);var k=p.listener,U=p.ha||p.src;p.fa&&Ut(p),p=k.call(U,S)}return p}function en(p){return p=p[He],p instanceof ze?p:null}var pi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ui(p){return typeof p=="function"?p:(p[pi]||(p[pi]=function(S){return p.handleEvent(S)}),p[pi])}function Xt(){K.call(this),this.i=new ze(this),this.M=this,this.F=null}E(Xt,K),Xt.prototype[$e]=!0,Xt.prototype.removeEventListener=function(p,S,k,U){Zr(this,p,S,k,U)};function tr(p,S){var k,U=p.F;if(U)for(k=[];U;U=U.F)k.push(U);if(p=p.M,U=S.type||S,typeof S=="string")S=new fe(S,p);else if(S instanceof fe)S.target=S.target||p;else{var Y=S;S=new fe(U,p),F(S,Y)}if(Y=!0,k)for(var ie=k.length-1;0<=ie;ie--){var _e=S.g=k[ie];Y=mi(_e,U,!0,S)&&Y}if(_e=S.g=p,Y=mi(_e,U,!0,S)&&Y,Y=mi(_e,U,!1,S)&&Y,k)for(ie=0;ie<k.length;ie++)_e=S.g=k[ie],Y=mi(_e,U,!1,S)&&Y}Xt.prototype.N=function(){if(Xt.aa.N.call(this),this.i){var p=this.i,S;for(S in p.g){for(var k=p.g[S],U=0;U<k.length;U++)Ae(k[U]);delete p.g[S],p.h--}}this.F=null},Xt.prototype.K=function(p,S,k,U){return this.i.add(String(p),S,!1,k,U)},Xt.prototype.L=function(p,S,k,U){return this.i.add(String(p),S,!0,k,U)};function mi(p,S,k,U){if(S=p.i.g[String(S)],!S)return!0;S=S.concat();for(var Y=!0,ie=0;ie<S.length;++ie){var _e=S[ie];if(_e&&!_e.da&&_e.capture==k){var bt=_e.listener,fr=_e.ha||_e.src;_e.fa&&ue(p.i,_e),Y=bt.call(fr,U)!==!1&&Y}}return Y&&!U.defaultPrevented}function os(p,S,k){if(typeof p=="function")k&&(p=y(p,k));else if(p&&typeof p.handleEvent=="function")p=y(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(S)?-1:u.setTimeout(p,S||0)}function Bi(p){p.g=os(()=>{p.g=null,p.i&&(p.i=!1,Bi(p))},p.l);const S=p.h;p.h=null,p.m.apply(null,S)}class Xn extends K{constructor(S,k){super(),this.m=S,this.l=k,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:Bi(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dn(p){K.call(this),this.h=p,this.g={}}E(dn,K);var so=[];function gi(p){j(p.g,function(S,k){this.g.hasOwnProperty(k)&&Ut(S)},p),p.g={}}dn.prototype.N=function(){dn.aa.N.call(this),gi(this)},dn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Lt=u.JSON.stringify,ss=u.JSON.parse,ya=class{stringify(p){return u.JSON.stringify(p,void 0)}parse(p){return u.JSON.parse(p,void 0)}};function va(){}va.prototype.h=null;function Tn(p){return p.h||(p.h=p.i())}function ba(){}var Ur={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qn(){fe.call(this,"d")}E(Qn,fe);function xr(){fe.call(this,"c")}E(xr,fe);var Jn={},An=null;function Pn(){return An=An||new Xt}Jn.La="serverreachability";function qi(p){fe.call(this,Jn.La,p)}E(qi,fe);function yi(p){const S=Pn();tr(S,new qi(S))}Jn.STAT_EVENT="statevent";function _a(p,S){fe.call(this,Jn.STAT_EVENT,p),this.stat=S}E(_a,fe);function qt(p){const S=Pn();tr(S,new _a(S,p))}Jn.Ma="timingevent";function vi(p,S){fe.call(this,Jn.Ma,p),this.size=S}E(vi,fe);function kn(p,S){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){p()},S)}function xa(){this.g=!0}xa.prototype.xa=function(){this.g=!1};function wa(p,S,k,U,Y,ie){p.info(function(){if(p.g)if(ie)for(var _e="",bt=ie.split("&"),fr=0;fr<bt.length;fr++){var st=bt[fr].split("=");if(1<st.length){var wr=st[0];st=st[1];var ir=wr.split("_");_e=2<=ir.length&&ir[1]=="type"?_e+(wr+"="+st+"&"):_e+(wr+"=redacted&")}}else _e=null;else _e=ie;return"XMLHTTP REQ ("+U+") [attempt "+Y+"]: "+S+`
`+k+`
`+_e})}function lo(p,S,k,U,Y,ie,_e){p.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+Y+"]: "+S+`
`+k+`
`+ie+" "+_e})}function In(p,S,k,U){p.info(function(){return"XMLHTTP TEXT ("+S+"): "+oc(p,k)+(U?" "+U:"")})}function ls(p,S){p.info(function(){return"TIMEOUT: "+S})}xa.prototype.info=function(){};function oc(p,S){if(!p.g)return S;if(!S)return null;try{var k=JSON.parse(S);if(k){for(p=0;p<k.length;p++)if(Array.isArray(k[p])){var U=k[p];if(!(2>U.length)){var Y=U[1];if(Array.isArray(Y)&&!(1>Y.length)){var ie=Y[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var _e=1;_e<Y.length;_e++)Y[_e]=""}}}}return Lt(k)}catch{return S}}var ne={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Se={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ce;function be(){}E(be,va),be.prototype.g=function(){return new XMLHttpRequest},be.prototype.i=function(){return{}},Ce=new be;function we(p,S,k,U){this.j=p,this.i=S,this.l=k,this.R=U||1,this.U=new dn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Me}function Me(){this.i=null,this.g="",this.h=!1}var tt={},Le={};function Et(p,S,k){p.L=1,p.v=po(Nn(S)),p.m=k,p.P=!0,zt(p,null)}function zt(p,S){p.F=Date.now(),nt(p),p.A=Nn(p.v);var k=p.A,U=p.R;Array.isArray(U)||(U=[String(U)]),go(k.i,"t",U),p.C=0,k=p.j.J,p.h=new Me,p.g=rh(p.j,k?S:null,!p.m),0<p.O&&(p.M=new Xn(y(p.Y,p,p.g),p.O)),S=p.U,k=p.g,U=p.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(so[0]=Y.toString()),Y=so);for(var ie=0;ie<Y.length;ie++){var _e=Tt(k,Y[ie],U||S.handleEvent,!1,S.h||S);if(!_e)break;S.g[_e.key]=_e}S=p.H?P(p.H):{},p.m?(p.u||(p.u="POST"),S["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,S)):(p.u="GET",p.g.ea(p.A,p.u,null,S)),yi(),wa(p.i,p.u,p.A,p.l,p.R,p.m)}we.prototype.ca=function(p){p=p.target;const S=this.M;S&&mn(p)==3?S.j():this.Y(p)},we.prototype.Y=function(p){try{if(p==this.g)e:{const ir=mn(this.g);var S=this.g.Ba();const ei=this.g.Z();if(!(3>ir)&&(ir!=3||this.g&&(this.h.h||this.g.oa()||dc(this.g)))){this.J||ir!=4||S==7||(S==8||0>=ei?yi(3):yi(2)),hn(this);var k=this.g.Z();this.X=k;t:if(us(this)){var U=dc(this.g);p="";var Y=U.length,ie=mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Br(this),On(this);var _e="";break t}this.h.i=new u.TextDecoder}for(S=0;S<Y;S++)this.h.h=!0,p+=this.h.i.decode(U[S],{stream:!(ie&&S==Y-1)});U.length=0,this.h.g+=p,this.C=0,_e=this.h.g}else _e=this.g.oa();if(this.o=k==200,lo(this.i,this.u,this.A,this.l,this.R,ir,k),this.o){if(this.T&&!this.K){t:{if(this.g){var bt,fr=this.g;if((bt=fr.g?fr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(bt)){var st=bt;break t}}st=null}if(k=st)In(this.i,this.l,k,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Cn(this,k);else{this.o=!1,this.s=3,qt(12),Br(this),On(this);break e}}if(this.P){k=!0;let Mn;for(;!this.J&&this.C<_e.length;)if(Mn=sc(this,_e),Mn==Le){ir==4&&(this.s=4,qt(14),k=!1),In(this.i,this.l,null,"[Incomplete Response]");break}else if(Mn==tt){this.s=4,qt(15),In(this.i,this.l,_e,"[Invalid Chunk]"),k=!1;break}else In(this.i,this.l,Mn,null),Cn(this,Mn);if(us(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ir!=4||_e.length!=0||this.h.h||(this.s=1,qt(16),k=!1),this.o=this.o&&k,!k)In(this.i,this.l,_e,"[Invalid Chunked Response]"),Br(this),On(this);else if(0<_e.length&&!this.W){this.W=!0;var wr=this.j;wr.g==this&&wr.ba&&!wr.M&&(wr.j.info("Great, no buffering proxy detected. Bytes received: "+_e.length),pc(wr),wr.M=!0,qt(11))}}else In(this.i,this.l,_e,null),Cn(this,_e);ir==4&&Br(this),this.o&&!this.J&&(ir==4?Al(this.j,this):(this.o=!1,nt(this)))}else xl(this.g),k==400&&0<_e.indexOf("Unknown SID")?(this.s=3,qt(12)):(this.s=0,qt(13)),Br(this),On(this)}}}catch{}finally{}};function us(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function sc(p,S){var k=p.C,U=S.indexOf(`
`,k);return U==-1?Le:(k=Number(S.substring(k,U)),isNaN(k)?tt:(U+=1,U+k>S.length?Le:(S=S.slice(U,U+k),p.C=U+k,S)))}we.prototype.cancel=function(){this.J=!0,Br(this)};function nt(p){p.S=Date.now()+p.I,uo(p,p.I)}function uo(p,S){if(p.B!=null)throw Error("WatchDog timer not null");p.B=kn(y(p.ba,p),S)}function hn(p){p.B&&(u.clearTimeout(p.B),p.B=null)}we.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(ls(this.i,this.A),this.L!=2&&(yi(),qt(17)),Br(this),this.s=2,On(this)):uo(this,this.S-p)};function On(p){p.j.G==0||p.J||Al(p.j,p)}function Br(p){hn(p);var S=p.M;S&&typeof S.ma=="function"&&S.ma(),p.M=null,gi(p.U),p.g&&(S=p.g,p.g=null,S.abort(),S.ma())}function Cn(p,S){try{var k=p.j;if(k.G!=0&&(k.g==p||tn(k.h,p))){if(!p.K&&tn(k.h,p)&&k.G==3){try{var U=k.Da.g.parse(S)}catch{U=null}if(Array.isArray(U)&&U.length==3){var Y=U;if(Y[0]==0){e:if(!k.u){if(k.g)if(k.g.F+3e3<p.F)Tl(k),Ei(k);else break e;Sl(k),qt(18)}}else k.za=Y[1],0<k.za-k.T&&37500>Y[2]&&k.F&&k.v==0&&!k.C&&(k.C=kn(y(k.Za,k),6e3));if(1>=Bd(k.h)&&k.ca){try{k.ca()}catch{}k.ca=void 0}}else Pa(k,11)}else if((p.K||k.g==p)&&Tl(k),!C(S))for(Y=k.Da.g.parse(S),S=0;S<Y.length;S++){let st=Y[S];if(k.T=st[0],st=st[1],k.G==2)if(st[0]=="c"){k.K=st[1],k.ia=st[2];const wr=st[3];wr!=null&&(k.la=wr,k.j.info("VER="+k.la));const ir=st[4];ir!=null&&(k.Aa=ir,k.j.info("SVER="+k.Aa));const ei=st[5];ei!=null&&typeof ei=="number"&&0<ei&&(U=1.5*ei,k.L=U,k.j.info("backChannelRequestTimeoutMs_="+U)),U=k;const Mn=p.g;if(Mn){const gs=Mn.g?Mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gs){var ie=U.h;ie.g||gs.indexOf("spdy")==-1&&gs.indexOf("quic")==-1&&gs.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(lc(ie,ie.h),ie.h=null))}if(U.D){const kl=Mn.g?Mn.g.getResponseHeader("X-HTTP-Session-Id"):null;kl&&(U.ya=kl,At(U.I,U.D,kl))}}k.G=3,k.l&&k.l.ua(),k.ba&&(k.R=Date.now()-p.F,k.j.info("Handshake RTT: "+k.R+"ms")),U=k;var _e=p;if(U.qa=th(U,U.J?U.ia:null,U.W),_e.K){qd(U.h,_e);var bt=_e,fr=U.L;fr&&(bt.I=fr),bt.B&&(hn(bt),nt(bt)),U.g=_e}else ms(U);0<k.i.length&&Ki(k)}else st[0]!="stop"&&st[0]!="close"||Pa(k,7);else k.G==3&&(st[0]=="stop"||st[0]=="close"?st[0]=="stop"?Pa(k,7):Nr(k):st[0]!="noop"&&k.l&&k.l.ta(st),k.v=0)}}yi(4)}catch{}}var Ud=class{constructor(p,S){this.g=p,this.map=S}};function cs(p){this.l=p||10,u.PerformanceNavigationTiming?(p=u.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Rn(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Bd(p){return p.h?1:p.g?p.g.size:0}function tn(p,S){return p.h?p.h==S:p.g?p.g.has(S):!1}function lc(p,S){p.g?p.g.add(S):p.h=S}function qd(p,S){p.h&&p.h==S?p.h=null:p.g&&p.g.has(S)&&p.g.delete(S)}cs.prototype.cancel=function(){if(this.i=zd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function zd(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let S=p.i;for(const k of p.g.values())S=S.concat(k.D);return S}return w(p.i)}function gl(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(c(p)){for(var S=[],k=p.length,U=0;U<k;U++)S.push(p[U]);return S}S=[],k=0;for(U in p)S[k++]=p[U];return S}function yl(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(c(p)||typeof p=="string"){var S=[];p=p.length;for(var k=0;k<p;k++)S.push(k);return S}S=[],k=0;for(const U in p)S[k++]=U;return S}}}function co(p,S){if(p.forEach&&typeof p.forEach=="function")p.forEach(S,void 0);else if(c(p)||typeof p=="string")Array.prototype.forEach.call(p,S,void 0);else for(var k=yl(p),U=gl(p),Y=U.length,ie=0;ie<Y;ie++)S.call(void 0,U[ie],k&&k[ie],p)}var fs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qg(p,S){if(p){p=p.split("&");for(var k=0;k<p.length;k++){var U=p[k].indexOf("="),Y=null;if(0<=U){var ie=p[k].substring(0,U);Y=p[k].substring(U+1)}else ie=p[k];S(ie,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Ea(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof Ea){this.h=p.h,ds(this,p.j),this.o=p.o,this.g=p.g,fo(this,p.s),this.l=p.l;var S=p.i,k=new zi;k.i=S.i,S.g&&(k.g=new Map(S.g),k.h=S.h),ho(this,k),this.m=p.m}else p&&(S=String(p).match(fs))?(this.h=!1,ds(this,S[1]||"",!0),this.o=at(S[2]||""),this.g=at(S[3]||"",!0),fo(this,S[4]),this.l=at(S[5]||"",!0),ho(this,S[6]||"",!0),this.m=at(S[7]||"")):(this.h=!1,this.i=new zi(null,this.h))}Ea.prototype.toString=function(){var p=[],S=this.j;S&&p.push(mo(S,vl,!0),":");var k=this.g;return(k||S=="file")&&(p.push("//"),(S=this.o)&&p.push(mo(S,vl,!0),"@"),p.push(encodeURIComponent(String(k)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.s,k!=null&&p.push(":",String(k))),(k=this.l)&&(this.g&&k.charAt(0)!="/"&&p.push("/"),p.push(mo(k,k.charAt(0)=="/"?Kd:Hd,!0))),(k=this.i.toString())&&p.push("?",k),(k=this.m)&&p.push("#",mo(k,uc)),p.join("")};function Nn(p){return new Ea(p)}function ds(p,S,k){p.j=k?at(S,!0):S,p.j&&(p.j=p.j.replace(/:$/,""))}function fo(p,S){if(S){if(S=Number(S),isNaN(S)||0>S)throw Error("Bad port number "+S);p.s=S}else p.s=null}function ho(p,S,k){S instanceof zi?(p.i=S,Wi(p.i,p.h)):(k||(S=mo(S,Gd)),p.i=new zi(S,p.h))}function At(p,S,k){p.i.set(S,k)}function po(p){return At(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function at(p,S){return p?S?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function mo(p,S,k){return typeof p=="string"?(p=encodeURI(p).replace(S,Wd),k&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Wd(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var vl=/[#\/\?@]/g,Hd=/[#\?:]/g,Kd=/[#\?]/g,Gd=/[#\?@]/g,uc=/#/g;function zi(p,S){this.h=this.g=null,this.i=p||null,this.j=!!S}function Rr(p){p.g||(p.g=new Map,p.h=0,p.i&&Qg(p.i,function(S,k){p.add(decodeURIComponent(S.replace(/\+/g," ")),k)}))}t=zi.prototype,t.add=function(p,S){Rr(this),this.i=null,p=Zn(this,p);var k=this.g.get(p);return k||this.g.set(p,k=[]),k.push(S),this.h+=1,this};function bi(p,S){Rr(p),S=Zn(p,S),p.g.has(S)&&(p.i=null,p.h-=p.g.get(S).length,p.g.delete(S))}function _i(p,S){return Rr(p),S=Zn(p,S),p.g.has(S)}t.forEach=function(p,S){Rr(this),this.g.forEach(function(k,U){k.forEach(function(Y){p.call(S,Y,U,this)},this)},this)},t.na=function(){Rr(this);const p=Array.from(this.g.values()),S=Array.from(this.g.keys()),k=[];for(let U=0;U<S.length;U++){const Y=p[U];for(let ie=0;ie<Y.length;ie++)k.push(S[U])}return k},t.V=function(p){Rr(this);let S=[];if(typeof p=="string")_i(this,p)&&(S=S.concat(this.g.get(Zn(this,p))));else{p=Array.from(this.g.values());for(let k=0;k<p.length;k++)S=S.concat(p[k])}return S},t.set=function(p,S){return Rr(this),this.i=null,p=Zn(this,p),_i(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[S]),this.h+=1,this},t.get=function(p,S){return p?(p=this.V(p),0<p.length?String(p[0]):S):S};function go(p,S,k){bi(p,S),0<k.length&&(p.i=null,p.g.set(Zn(p,S),w(k)),p.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],S=Array.from(this.g.keys());for(var k=0;k<S.length;k++){var U=S[k];const ie=encodeURIComponent(String(U)),_e=this.V(U);for(U=0;U<_e.length;U++){var Y=ie;_e[U]!==""&&(Y+="="+encodeURIComponent(String(_e[U]))),p.push(Y)}}return this.i=p.join("&")};function Zn(p,S){return S=String(S),p.j&&(S=S.toLowerCase()),S}function Wi(p,S){S&&!p.j&&(Rr(p),p.i=null,p.g.forEach(function(k,U){var Y=U.toLowerCase();U!=Y&&(bi(this,U),go(this,Y,k))},p)),p.j=S}function Jg(p,S){const k=new xa;if(u.Image){const U=new Image;U.onload=v(pn,k,"TestLoadImage: loaded",!0,S,U),U.onerror=v(pn,k,"TestLoadImage: error",!1,S,U),U.onabort=v(pn,k,"TestLoadImage: abort",!1,S,U),U.ontimeout=v(pn,k,"TestLoadImage: timeout",!1,S,U),u.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=p}else S(!1)}function Yd(p,S){const k=new xa,U=new AbortController,Y=setTimeout(()=>{U.abort(),pn(k,"TestPingServer: timeout",!1,S)},1e4);fetch(p,{signal:U.signal}).then(ie=>{clearTimeout(Y),ie.ok?pn(k,"TestPingServer: ok",!0,S):pn(k,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(Y),pn(k,"TestPingServer: error",!1,S)})}function pn(p,S,k,U,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),U(k)}catch{}}function Zg(){this.g=new ya}function Xd(p,S,k){const U=k||"";try{co(p,function(Y,ie){let _e=Y;f(Y)&&(_e=Lt(Y)),S.push(U+ie+"="+encodeURIComponent(_e))})}catch(Y){throw S.push(U+"type="+encodeURIComponent("_badmap")),Y}}function Sa(p){this.l=p.Ub||null,this.j=p.eb||!1}E(Sa,va),Sa.prototype.g=function(){return new hs(this.l,this.j)},Sa.prototype.i=function(p){return function(){return p}}({});function hs(p,S){Xt.call(this),this.D=p,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(hs,Xt),t=hs.prototype,t.open=function(p,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=S,this.readyState=1,wi(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const S={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(S.body=p),(this.D||u).fetch(new Request(this.A,S)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xi(this)),this.readyState=0},t.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,wi(this)),this.g&&(this.readyState=3,wi(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qd(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qd(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}t.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var S=p.value?p.value:new Uint8Array(0);(S=this.v.decode(S,{stream:!p.done}))&&(this.response=this.responseText+=S)}p.done?xi(this):wi(this),this.readyState==3&&Qd(this)}},t.Ra=function(p){this.g&&(this.response=this.responseText=p,xi(this))},t.Qa=function(p){this.g&&(this.response=p,xi(this))},t.ga=function(){this.g&&xi(this)};function xi(p){p.readyState=4,p.l=null,p.j=null,p.v=null,wi(p)}t.setRequestHeader=function(p,S){this.u.append(p,S)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],S=this.h.entries();for(var k=S.next();!k.done;)k=k.value,p.push(k[0]+": "+k[1]),k=S.next();return p.join(`\r
`)};function wi(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(hs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Ta(p){let S="";return j(p,function(k,U){S+=U,S+=":",S+=k,S+=`\r
`}),S}function yo(p,S,k){e:{for(U in k){var U=!1;break e}U=!0}U||(k=Ta(k),typeof p=="string"?k!=null&&encodeURIComponent(String(k)):At(p,S,k))}function $t(p){Xt.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E($t,Xt);var ey=/^https?$/i,cc=["POST","PUT"];t=$t.prototype,t.Ha=function(p){this.J=p},t.ea=function(p,S,k,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);S=S?S.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ce.g(),this.v=this.o?Tn(this.o):Tn(Ce),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(S,String(p),!0),this.B=!1}catch(ie){ps(this,ie);return}if(p=k||"",k=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var Y in U)k.set(Y,U[Y]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const ie of U.keys())k.set(ie,U.get(ie));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(k.keys()).find(ie=>ie.toLowerCase()=="content-type"),Y=u.FormData&&p instanceof u.FormData,!(0<=Array.prototype.indexOf.call(cc,S,void 0))||U||Y||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,_e]of k)this.g.setRequestHeader(ie,_e);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_l(this),this.u=!0,this.g.send(p),this.u=!1}catch(ie){ps(this,ie)}};function ps(p,S){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=S,p.m=5,bl(p),jn(p)}function bl(p){p.A||(p.A=!0,tr(p,"complete"),tr(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,tr(this,"complete"),tr(this,"abort"),jn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jn(this,!0)),$t.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?fc(this):this.bb())},t.bb=function(){fc(this)};function fc(p){if(p.h&&typeof s<"u"&&(!p.v[1]||mn(p)!=4||p.Z()!=2)){if(p.u&&mn(p)==4)os(p.Ea,0,p);else if(tr(p,"readystatechange"),mn(p)==4){p.h=!1;try{const _e=p.Z();e:switch(_e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var k;if(!(k=S)){var U;if(U=_e===0){var Y=String(p.D).match(fs)[1]||null;!Y&&u.self&&u.self.location&&(Y=u.self.location.protocol.slice(0,-1)),U=!ey.test(Y?Y.toLowerCase():"")}k=U}if(k)tr(p,"complete"),tr(p,"success");else{p.m=6;try{var ie=2<mn(p)?p.g.statusText:""}catch{ie=""}p.l=ie+" ["+p.Z()+"]",bl(p)}}finally{jn(p)}}}}function jn(p,S){if(p.g){_l(p);const k=p.g,U=p.v[0]?()=>{}:null;p.g=null,p.v=null,S||tr(p,"ready");try{k.onreadystatechange=U}catch{}}}function _l(p){p.I&&(u.clearTimeout(p.I),p.I=null)}t.isActive=function(){return!!this.g};function mn(p){return p.g?p.g.readyState:0}t.Z=function(){try{return 2<mn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(p){if(this.g){var S=this.g.responseText;return p&&S.indexOf(p)==0&&(S=S.substring(p.length)),ss(S)}};function dc(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function xl(p){const S={};p=(p.g&&2<=mn(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<p.length;U++){if(C(p[U]))continue;var k=D(p[U]);const Y=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const ie=S[Y]||[];S[Y]=ie,ie.push(k)}A(S,function(U){return U.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hi(p,S,k){return k&&k.internalChannelParams&&k.internalChannelParams[p]||S}function hc(p){this.Aa=0,this.i=[],this.j=new xa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Hi("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Hi("baseRetryDelayMs",5e3,p),this.cb=Hi("retryDelaySeedMs",1e4,p),this.Wa=Hi("forwardChannelMaxRetries",2,p),this.wa=Hi("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new cs(p&&p.concurrentRequestLimit),this.Da=new Zg,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=hc.prototype,t.la=8,t.G=1,t.connect=function(p,S,k,U){qt(0),this.W=p,this.H=S||{},k&&U!==void 0&&(this.H.OSID=k,this.H.OAID=U),this.F=this.X,this.I=th(this,null,this.W),Ki(this)};function Nr(p){if(wl(p),p.G==3){var S=p.U++,k=Nn(p.I);if(At(k,"SID",p.K),At(k,"RID",S),At(k,"TYPE","terminate"),Aa(p,k),S=new we(p,p.j,S),S.L=2,S.v=po(Nn(k)),k=!1,u.navigator&&u.navigator.sendBeacon)try{k=u.navigator.sendBeacon(S.v.toString(),"")}catch{}!k&&u.Image&&(new Image().src=S.v,k=!0),k||(S.g=rh(S.j,null),S.g.ea(S.v)),S.F=Date.now(),nt(S)}eh(p)}function Ei(p){p.g&&(pc(p),p.g.cancel(),p.g=null)}function wl(p){Ei(p),p.u&&(u.clearTimeout(p.u),p.u=null),Tl(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&u.clearTimeout(p.s),p.s=null)}function Ki(p){if(!Rn(p.h)&&!p.s){p.s=!0;var S=p.Ga;oe||se(),Q||(oe(),Q=!0),ae.add(S,p),p.B=0}}function ty(p,S){return Bd(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=S.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=kn(y(p.Ga,p,S),Zd(p,p.B)),p.B++,!0)}t.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const Y=new we(this,this.j,p);let ie=this.o;if(this.S&&(ie?(ie=P(ie),F(ie,this.S)):ie=this.S),this.m!==null||this.O||(Y.H=ie,ie=null),this.P)e:{for(var S=0,k=0;k<this.i.length;k++){t:{var U=this.i[k];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(S+=U,4096<S){S=k;break e}if(S===4096||k===this.i.length-1){S=k+1;break e}}S=1e3}else S=1e3;S=vo(this,Y,S),k=Nn(this.I),At(k,"RID",p),At(k,"CVER",22),this.D&&At(k,"X-HTTP-Session-Id",this.D),Aa(this,k),ie&&(this.O?S="headers="+encodeURIComponent(String(Ta(ie)))+"&"+S:this.m&&yo(k,this.m,ie)),lc(this.h,Y),this.Ua&&At(k,"TYPE","init"),this.P?(At(k,"$req",S),At(k,"SID","null"),Y.T=!0,Et(Y,k,null)):Et(Y,k,S),this.G=2}}else this.G==3&&(p?El(this,p):this.i.length==0||Rn(this.h)||El(this))};function El(p,S){var k;S?k=S.l:k=p.U++;const U=Nn(p.I);At(U,"SID",p.K),At(U,"RID",k),At(U,"AID",p.T),Aa(p,U),p.m&&p.o&&yo(U,p.m,p.o),k=new we(p,p.j,k,p.B+1),p.m===null&&(k.H=p.o),S&&(p.i=S.D.concat(p.i)),S=vo(p,k,1e3),k.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),lc(p.h,k),Et(k,U,S)}function Aa(p,S){p.H&&j(p.H,function(k,U){At(S,U,k)}),p.l&&co({},function(k,U){At(S,U,k)})}function vo(p,S,k){k=Math.min(p.i.length,k);var U=p.l?y(p.l.Na,p.l,p):null;e:{var Y=p.i;let ie=-1;for(;;){const _e=["count="+k];ie==-1?0<k?(ie=Y[0].g,_e.push("ofs="+ie)):ie=0:_e.push("ofs="+ie);let bt=!0;for(let fr=0;fr<k;fr++){let st=Y[fr].g;const wr=Y[fr].map;if(st-=ie,0>st)ie=Math.max(0,Y[fr].g-100),bt=!1;else try{Xd(wr,_e,"req"+st+"_")}catch{U&&U(wr)}}if(bt){U=_e.join("&");break e}}}return p=p.i.splice(0,k),S.D=p,U}function ms(p){if(!p.g&&!p.u){p.Y=1;var S=p.Fa;oe||se(),Q||(oe(),Q=!0),ae.add(S,p),p.v=0}}function Sl(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=kn(y(p.Fa,p),Zd(p,p.v)),p.v++,!0)}t.Fa=function(){if(this.u=null,Jd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=kn(y(this.ab,this),p)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,qt(10),Ei(this),Jd(this))};function pc(p){p.A!=null&&(u.clearTimeout(p.A),p.A=null)}function Jd(p){p.g=new we(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var S=Nn(p.qa);At(S,"RID","rpc"),At(S,"SID",p.K),At(S,"AID",p.T),At(S,"CI",p.F?"0":"1"),!p.F&&p.ja&&At(S,"TO",p.ja),At(S,"TYPE","xmlhttp"),Aa(p,S),p.m&&p.o&&yo(S,p.m,p.o),p.L&&(p.g.I=p.L);var k=p.g;p=p.ia,k.L=1,k.v=po(Nn(S)),k.m=null,k.P=!0,zt(k,p)}t.Za=function(){this.C!=null&&(this.C=null,Ei(this),Sl(this),qt(19))};function Tl(p){p.C!=null&&(u.clearTimeout(p.C),p.C=null)}function Al(p,S){var k=null;if(p.g==S){Tl(p),pc(p),p.g=null;var U=2}else if(tn(p.h,S))k=S.D,qd(p.h,S),U=1;else return;if(p.G!=0){if(S.o)if(U==1){k=S.m?S.m.length:0,S=Date.now()-S.F;var Y=p.B;U=Pn(),tr(U,new vi(U,k)),Ki(p)}else ms(p);else if(Y=S.s,Y==3||Y==0&&0<S.X||!(U==1&&ty(p,S)||U==2&&Sl(p)))switch(k&&0<k.length&&(S=p.h,S.i=S.i.concat(k)),Y){case 1:Pa(p,5);break;case 4:Pa(p,10);break;case 3:Pa(p,6);break;default:Pa(p,2)}}}function Zd(p,S){let k=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(k*=2),k*S}function Pa(p,S){if(p.j.info("Error code "+S),S==2){var k=y(p.fb,p),U=p.Xa;const Y=!U;U=new Ea(U||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||ds(U,"https"),po(U),Y?Jg(U.toString(),k):Yd(U.toString(),k)}else qt(2);p.G=0,p.l&&p.l.sa(S),eh(p),wl(p)}t.fb=function(p){p?(this.j.info("Successfully pinged google.com"),qt(2)):(this.j.info("Failed to ping google.com"),qt(1))};function eh(p){if(p.G=0,p.ka=[],p.l){const S=zd(p.h);(S.length!=0||p.i.length!=0)&&(x(p.ka,S),x(p.ka,p.i),p.h.i.length=0,w(p.i),p.i.length=0),p.l.ra()}}function th(p,S,k){var U=k instanceof Ea?Nn(k):new Ea(k);if(U.g!="")S&&(U.g=S+"."+U.g),fo(U,U.s);else{var Y=u.location;U=Y.protocol,S=S?S+"."+Y.hostname:Y.hostname,Y=+Y.port;var ie=new Ea(null);U&&ds(ie,U),S&&(ie.g=S),Y&&fo(ie,Y),k&&(ie.l=k),U=ie}return k=p.D,S=p.ya,k&&S&&At(U,k,S),At(U,"VER",p.la),Aa(p,U),U}function rh(p,S,k){if(S&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return S=p.Ca&&!p.pa?new $t(new Sa({eb:k})):new $t(p.pa),S.Ha(p.J),S}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function mc(){}t=mc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Pl(){}Pl.prototype.g=function(p,S){return new rn(p,S)};function rn(p,S){Xt.call(this),this.g=new hc(S),this.l=p,this.h=S&&S.messageUrlParams||null,p=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(p?p["X-WebChannel-Content-Type"]=S.messageContentType:p={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.va&&(p?p["X-WebChannel-Client-Profile"]=S.va:p={"X-WebChannel-Client-Profile":S.va}),this.g.S=p,(p=S&&S.Sb)&&!C(p)&&(this.g.m=p),this.v=S&&S.supportsCrossDomainXhr||!1,this.u=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!C(S)&&(this.g.D=S,p=this.h,p!==null&&S in p&&(p=this.h,S in p&&delete p[S])),this.j=new Gi(this)}E(rn,Xt),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Nr(this.g)},rn.prototype.o=function(p){var S=this.g;if(typeof p=="string"){var k={};k.__data__=p,p=k}else this.u&&(k={},k.__data__=Lt(p),p=k);S.i.push(new Ud(S.Ya++,p)),S.G==3&&Ki(S)},rn.prototype.N=function(){this.g.l=null,delete this.j,Nr(this.g),delete this.g,rn.aa.N.call(this)};function nh(p){Qn.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var S=p.__sm__;if(S){e:{for(const k in S){p=k;break e}p=void 0}(this.i=p)&&(p=this.i,S=S!==null&&p in S?S[p]:void 0),this.data=S}else this.data=p}E(nh,Qn);function ih(){xr.call(this),this.status=1}E(ih,xr);function Gi(p){this.g=p}E(Gi,mc),Gi.prototype.ua=function(){tr(this.g,"a")},Gi.prototype.ta=function(p){tr(this.g,new nh(p))},Gi.prototype.sa=function(p){tr(this.g,new ih)},Gi.prototype.ra=function(){tr(this.g,"b")},Pl.prototype.createWebChannel=Pl.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,kM=function(){return new Pl},PM=function(){return Pn()},AM=Jn,Xx={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ne.NO_ERROR=0,ne.TIMEOUT=8,ne.HTTP_ERROR=6,Sp=ne,Se.COMPLETE="complete",TM=Se,ba.EventType=Ur,Ur.OPEN="a",Ur.CLOSE="b",Ur.ERROR="c",Ur.MESSAGE="d",Xt.prototype.listen=Xt.prototype.K,Zc=ba,$t.prototype.listenOnce=$t.prototype.L,$t.prototype.getLastError=$t.prototype.Ka,$t.prototype.getLastErrorCode=$t.prototype.Ba,$t.prototype.getStatus=$t.prototype.Z,$t.prototype.getResponseJson=$t.prototype.Oa,$t.prototype.getResponseText=$t.prototype.oa,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Ha,SM=$t}).apply(typeof ep<"u"?ep:typeof self<"u"?self:typeof window<"u"?window:{});const CP="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yr.UNAUTHENTICATED=new Yr(null),Yr.GOOGLE_CREDENTIALS=new Yr("google-credentials-uid"),Yr.FIRST_PARTY=new Yr("first-party-uid"),Yr.MOCK_USER=new Yr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yu="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=new D1("@firebase/firestore");function Vc(){return Gs.logLevel}function Ne(t,...e){if(Gs.logLevel<=ot.DEBUG){const r=e.map(G1);Gs.debug(`Firestore (${Yu}): ${t}`,...r)}}function Qa(t,...e){if(Gs.logLevel<=ot.ERROR){const r=e.map(G1);Gs.error(`Firestore (${Yu}): ${t}`,...r)}}function gu(t,...e){if(Gs.logLevel<=ot.WARN){const r=e.map(G1);Gs.warn(`Firestore (${Yu}): ${t}`,...r)}}function G1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(t="Unexpected state"){const e=`FIRESTORE (${Yu}) INTERNAL ASSERTION FAILED: `+t;throw Qa(e),new Error(e)}function xt(t,e){t||Xe()}function Ze(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ke extends pa{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $B{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Yr.UNAUTHENTICATED))}shutdown(){}}class FB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class VB{constructor(e){this.t=e,this.currentUser=Yr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){xt(this.o===void 0);let n=this.i;const i=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let a=new Wo;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Wo,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const c=a;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},u=c=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Wo)}},0),s()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(xt(typeof n.accessToken=="string"),new IM(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xt(e===null||typeof e=="string"),new Yr(e)}}class UB{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=Yr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class BB{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new UB(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Yr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zB{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){xt(this.o===void 0);const n=a=>{a.error!=null&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.R;return this.R=a.token,Ne("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(xt(typeof r.token=="string"),this.R=r.token,new qB(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WB(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=WB(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%e.length))}return n}}function dt(t,e){return t<e?-1:t>e?1:0}function yu(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new ke(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ke(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new ke(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ke(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return br.fromMillis(Date.now())}static fromDate(e){return br.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new br(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?dt(this.nanoseconds,e.nanoseconds):dt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Qe(e)}static min(){return new Qe(new br(0,0))}static max(){return new Qe(new br(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,r,n){r===void 0?r=0:r>e.length&&Xe(),n===void 0?n=e.length-r:n>e.length-r&&Xe(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Tf.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Tf?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=e.get(i),s=r.get(i);if(a<s)return-1;if(a>s)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Mt extends Tf{construct(e,r,n){return new Mt(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new ke(ce.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new Mt(r)}static emptyPath(){return new Mt([])}}const HB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $r extends Tf{construct(e,r,n){return new $r(e,r,n)}static isValidIdentifier(e){return HB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$r.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new $r(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new ke(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new ke(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ke(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=c,i+=2}else u==="`"?(s=!s,i++):u!=="."||s?(n+=u,i++):(a(),i++)}if(a(),s)throw new ke(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $r(r)}static emptyPath(){return new $r([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.path=e}static fromPath(e){return new Fe(Mt.fromString(e))}static fromName(e){return new Fe(Mt.fromString(e).popFirst(5))}static empty(){return new Fe(Mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Mt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Fe(new Mt(e.slice()))}}function KB(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Qe.fromTimestamp(n===1e9?new br(r+1,0):new br(r,n));return new Yo(i,Fe.empty(),e)}function GB(t){return new Yo(t.readTime,t.key,-1)}class Yo{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Yo(Qe.min(),Fe.empty(),-1)}static max(){return new Yo(Qe.max(),Fe.empty(),-1)}}function YB(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Fe.comparator(t.documentKey,e.documentKey),r!==0?r:dt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _d(t){if(t.code!==ce.FAILED_PRECONDITION||t.message!==XB)throw t;Ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new me((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof me?r:me.resolve(r)}catch(r){return me.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):me.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):me.reject(r)}static resolve(e){return new me((r,n)=>{r(e)})}static reject(e){return new me((r,n)=>{n(e)})}static waitFor(e){return new me((r,n)=>{let i=0,a=0,s=!1;e.forEach(u=>{++i,u.next(()=>{++a,s&&a===i&&r()},c=>n(c))}),s=!0,a===i&&r()})}static or(e){let r=me.resolve(!1);for(const n of e)r=r.next(i=>i?me.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(e,r){return new me((n,i)=>{const a=e.length,s=new Array(a);let u=0;for(let c=0;c<a;c++){const f=c;r(e[f]).next(h=>{s[f]=h,++u,u===a&&n(s)},h=>i(h))}})}static doWhile(e,r){return new me((n,i)=>{const a=()=>{e()===!0?r().next(()=>{a()},i):n()};a()})}}function JB(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function xd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Y1.oe=-1;function Xm(t){return t==null}function $p(t){return t===0&&1/t==-1/0}function ZB(t){return typeof t=="number"&&Number.isInteger(t)&&!$p(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RP(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function ol(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function CM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,r){this.comparator=e,this.root=r||Lr.EMPTY}insert(e,r){return new Gt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Lr.BLACK,null,null))}remove(e){return new Gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tp(this.root,e,this.comparator,!1)}getReverseIterator(){return new tp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tp(this.root,e,this.comparator,!0)}}class tp{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lr{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??Lr.RED,this.left=i??Lr.EMPTY,this.right=a??Lr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new Lr(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Lr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return Lr.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Xe();const e=this.left.check();if(e!==this.right.check())throw Xe();return e+(this.isRed()?0:1)}}Lr.EMPTY=null,Lr.RED=!0,Lr.BLACK=!1;Lr.EMPTY=new class{constructor(){this.size=0}get key(){throw Xe()}get value(){throw Xe()}get color(){throw Xe()}get left(){throw Xe()}get right(){throw Xe()}copy(e,r,n,i,a){return this}insert(e,r,n){return new Lr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e){this.comparator=e,this.data=new Gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new NP(this.data.getIterator())}getIteratorFrom(e){return new NP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof Fr)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Fr(this.comparator);return r.data=e,r}}class NP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.fields=e,e.sort($r.comparator)}static empty(){return new Wn([])}unionWith(e){let r=new Fr($r.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Wn(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return yu(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new RM("Invalid base64 string: "+a):a}}(e);return new Vr(r)}static fromUint8Array(e){const r=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new Vr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return dt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vr.EMPTY_BYTE_STRING=new Vr("");const eq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xo(t){if(xt(!!t),typeof t=="string"){let e=0;const r=eq.exec(t);if(xt(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:nr(t.seconds),nanos:nr(t.nanos)}}function nr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ys(t){return typeof t=="string"?Vr.fromBase64String(t):Vr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(t){var e,r;return((r=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function Q1(t){const e=t.mapValue.fields.__previous_value__;return X1(e)?Q1(e):e}function Af(t){const e=Xo(t.mapValue.fields.__local_write_time__.timestampValue);return new br(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tq{constructor(e,r,n,i,a,s,u,c,f){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=f}}class Pf{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Pf("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Pf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp={mapValue:{}};function Xs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?X1(t)?4:nq(t)?9007199254740991:rq(t)?10:11:Xe()}function ca(t,e){if(t===e)return!0;const r=Xs(t);if(r!==Xs(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Af(t).isEqual(Af(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=Xo(i.timestampValue),u=Xo(a.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Ys(i.bytesValue).isEqual(Ys(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return nr(i.geoPointValue.latitude)===nr(a.geoPointValue.latitude)&&nr(i.geoPointValue.longitude)===nr(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return nr(i.integerValue)===nr(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=nr(i.doubleValue),u=nr(a.doubleValue);return s===u?$p(s)===$p(u):isNaN(s)&&isNaN(u)}return!1}(t,e);case 9:return yu(t.arrayValue.values||[],e.arrayValue.values||[],ca);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},u=a.mapValue.fields||{};if(RP(s)!==RP(u))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(u[c]===void 0||!ca(s[c],u[c])))return!1;return!0}(t,e);default:return Xe()}}function kf(t,e){return(t.values||[]).find(r=>ca(r,e))!==void 0}function vu(t,e){if(t===e)return 0;const r=Xs(t),n=Xs(e);if(r!==n)return dt(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return dt(t.booleanValue,e.booleanValue);case 2:return function(a,s){const u=nr(a.integerValue||a.doubleValue),c=nr(s.integerValue||s.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1}(t,e);case 3:return jP(t.timestampValue,e.timestampValue);case 4:return jP(Af(t),Af(e));case 5:return dt(t.stringValue,e.stringValue);case 6:return function(a,s){const u=Ys(a),c=Ys(s);return u.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(a,s){const u=a.split("/"),c=s.split("/");for(let f=0;f<u.length&&f<c.length;f++){const h=dt(u[f],c[f]);if(h!==0)return h}return dt(u.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,s){const u=dt(nr(a.latitude),nr(s.latitude));return u!==0?u:dt(nr(a.longitude),nr(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return MP(t.arrayValue,e.arrayValue);case 10:return function(a,s){var u,c,f,h;const m=a.fields||{},y=s.fields||{},v=(u=m.value)===null||u===void 0?void 0:u.arrayValue,E=(c=y.value)===null||c===void 0?void 0:c.arrayValue,w=dt(((f=v?.values)===null||f===void 0?void 0:f.length)||0,((h=E?.values)===null||h===void 0?void 0:h.length)||0);return w!==0?w:MP(v,E)}(t.mapValue,e.mapValue);case 11:return function(a,s){if(a===rp.mapValue&&s===rp.mapValue)return 0;if(a===rp.mapValue)return 1;if(s===rp.mapValue)return-1;const u=a.fields||{},c=Object.keys(u),f=s.fields||{},h=Object.keys(f);c.sort(),h.sort();for(let m=0;m<c.length&&m<h.length;++m){const y=dt(c[m],h[m]);if(y!==0)return y;const v=vu(u[c[m]],f[h[m]]);if(v!==0)return v}return dt(c.length,h.length)}(t.mapValue,e.mapValue);default:throw Xe()}}function jP(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return dt(t,e);const r=Xo(t),n=Xo(e),i=dt(r.seconds,n.seconds);return i!==0?i:dt(r.nanos,n.nanos)}function MP(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=vu(r[i],n[i]);if(a)return a}return dt(r.length,n.length)}function bu(t){return Qx(t)}function Qx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=Xo(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Ys(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return Fe.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=Qx(a);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const s of n)a?a=!1:i+=",",i+=`${s}:${Qx(r.fields[s])}`;return i+"}"}(t.mapValue):Xe()}function DP(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Jx(t){return!!t&&"integerValue"in t}function J1(t){return!!t&&"arrayValue"in t}function LP(t){return!!t&&"nullValue"in t}function $P(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Tp(t){return!!t&&"mapValue"in t}function rq(t){var e,r;return((r=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function uf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ol(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=uf(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=uf(t.arrayValue.values[r]);return e}return Object.assign({},t)}function nq(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!Tp(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=uf(r)}setAll(e){let r=$r.emptyPath(),n={},i=[];e.forEach((s,u)=>{if(!r.isImmediateParentOf(u)){const c=this.getFieldsMap(r);this.applyChanges(c,n,i),n={},i=[],r=u.popLast()}s?n[u.lastSegment()]=uf(s):i.push(u.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());Tp(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return ca(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];Tp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){ol(r,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new wn(uf(this.value))}}function NM(t){const e=[];return ol(t.fields,(r,n)=>{const i=new $r([r]);if(Tp(n)){const a=NM(n.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new Wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,r,n,i,a,s,u){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=s,this.documentState=u}static newInvalidDocument(e){return new Xr(e,0,Qe.min(),Qe.min(),Qe.min(),wn.empty(),0)}static newFoundDocument(e,r,n,i){return new Xr(e,1,r,Qe.min(),n,i,0)}static newNoDocument(e,r){return new Xr(e,2,r,Qe.min(),Qe.min(),wn.empty(),0)}static newUnknownDocument(e,r){return new Xr(e,3,r,Qe.min(),Qe.min(),wn.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,r){this.position=e,this.inclusive=r}}function FP(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?n=Fe.comparator(Fe.fromName(s.referenceValue),r.key):n=vu(s,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function VP(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!ca(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e,r="asc"){this.field=e,this.dir=r}}function iq(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{}class lr extends jM{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new oq(e,r,n):r==="array-contains"?new uq(e,n):r==="in"?new cq(e,n):r==="not-in"?new fq(e,n):r==="array-contains-any"?new dq(e,n):new lr(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new sq(e,n):new lq(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(vu(r,this.value)):r!==null&&Xs(this.value)===Xs(r)&&this.matchesComparison(vu(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $i extends jM{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new $i(e,r)}matches(e){return MM(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function MM(t){return t.op==="and"}function DM(t){return aq(t)&&MM(t)}function aq(t){for(const e of t.filters)if(e instanceof $i)return!1;return!0}function Zx(t){if(t instanceof lr)return t.field.canonicalString()+t.op.toString()+bu(t.value);if(DM(t))return t.filters.map(e=>Zx(e)).join(",");{const e=t.filters.map(r=>Zx(r)).join(",");return`${t.op}(${e})`}}function LM(t,e){return t instanceof lr?function(n,i){return i instanceof lr&&n.op===i.op&&n.field.isEqual(i.field)&&ca(n.value,i.value)}(t,e):t instanceof $i?function(n,i){return i instanceof $i&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,s,u)=>a&&LM(s,i.filters[u]),!0):!1}(t,e):void Xe()}function $M(t){return t instanceof lr?function(r){return`${r.field.canonicalString()} ${r.op} ${bu(r.value)}`}(t):t instanceof $i?function(r){return r.op.toString()+" {"+r.getFilters().map($M).join(" ,")+"}"}(t):"Filter"}class oq extends lr{constructor(e,r,n){super(e,r,n),this.key=Fe.fromName(n.referenceValue)}matches(e){const r=Fe.comparator(e.key,this.key);return this.matchesComparison(r)}}class sq extends lr{constructor(e,r){super(e,"in",r),this.keys=FM("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class lq extends lr{constructor(e,r){super(e,"not-in",r),this.keys=FM("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function FM(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>Fe.fromName(n.referenceValue))}class uq extends lr{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return J1(r)&&kf(r.arrayValue,this.value)}}class cq extends lr{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&kf(this.value.arrayValue,r)}}class fq extends lr{constructor(e,r){super(e,"not-in",r)}matches(e){if(kf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!kf(this.value.arrayValue,r)}}class dq extends lr{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!J1(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>kf(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hq{constructor(e,r=null,n=[],i=[],a=null,s=null,u=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=s,this.endAt=u,this.ue=null}}function UP(t,e=null,r=[],n=[],i=null,a=null,s=null){return new hq(t,e,r,n,i,a,s)}function Z1(t){const e=Ze(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>Zx(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),Xm(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>bu(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>bu(n)).join(",")),e.ue=r}return e.ue}function eE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!iq(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!LM(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!VP(t.startAt,e.startAt)&&VP(t.endAt,e.endAt)}function ew(t){return Fe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,r=null,n=[],i=[],a=null,s="F",u=null,c=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=s,this.startAt=u,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function pq(t,e,r,n,i,a,s,u){return new wd(t,e,r,n,i,a,s,u)}function tE(t){return new wd(t)}function BP(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function VM(t){return t.collectionGroup!==null}function cf(t){const e=Ze(t);if(e.ce===null){e.ce=[];const r=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let u=new Fr($r.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(e).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Vp(a,n))}),r.has($r.keyField().canonicalString())||e.ce.push(new Vp($r.keyField(),n))}return e.ce}function oa(t){const e=Ze(t);return e.le||(e.le=mq(e,cf(t))),e.le}function mq(t,e){if(t.limitType==="F")return UP(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Vp(i.field,a)});const r=t.endAt?new Fp(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Fp(t.startAt.position,t.startAt.inclusive):null;return UP(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function tw(t,e){const r=t.filters.concat([e]);return new wd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function rw(t,e,r){return new wd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Qm(t,e){return eE(oa(t),oa(e))&&t.limitType===e.limitType}function UM(t){return`${Z1(oa(t))}|lt:${t.limitType}`}function Zl(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>$M(i)).join(", ")}]`),Xm(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>bu(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>bu(i)).join(",")),`Target(${n})`}(oa(t))}; limitType=${t.limitType})`}function Jm(t,e){return e.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):Fe.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(t,e)&&function(n,i){for(const a of cf(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(s,u,c){const f=FP(s,u,c);return s.inclusive?f<=0:f<0}(n.startAt,cf(n),i)||n.endAt&&!function(s,u,c){const f=FP(s,u,c);return s.inclusive?f>=0:f>0}(n.endAt,cf(n),i))}(t,e)}function gq(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function BM(t){return(e,r)=>{let n=!1;for(const i of cf(t)){const a=yq(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function yq(t,e,r){const n=t.field.isKeyField()?Fe.comparator(e.key,r.key):function(a,s,u){const c=s.data.field(a),f=u.data.field(a);return c!==null&&f!==null?vu(c,f):Xe()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Xe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ol(this.inner,(r,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return CM(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vq=new Gt(Fe.comparator);function Ja(){return vq}const qM=new Gt(Fe.comparator);function ef(...t){let e=qM;for(const r of t)e=e.insert(r.key,r);return e}function zM(t){let e=qM;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function Ds(){return ff()}function WM(){return ff()}function ff(){return new Xu(t=>t.toString(),(t,e)=>t.isEqual(e))}const bq=new Gt(Fe.comparator),_q=new Fr(Fe.comparator);function it(...t){let e=_q;for(const r of t)e=e.add(r);return e}const xq=new Fr(dt);function wq(){return xq}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$p(e)?"-0":e}}function HM(t){return{integerValue:""+t}}function Eq(t,e){return ZB(e)?HM(e):rE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(){this._=void 0}}function Sq(t,e,r){return t instanceof If?function(i,a){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&X1(a)&&(a=Q1(a)),a&&(s.fields.__previous_value__=a),{mapValue:s}}(r,e):t instanceof Of?GM(t,e):t instanceof Cf?YM(t,e):function(i,a){const s=KM(i,a),u=qP(s)+qP(i.Pe);return Jx(s)&&Jx(i.Pe)?HM(u):rE(i.serializer,u)}(t,e)}function Tq(t,e,r){return t instanceof Of?GM(t,e):t instanceof Cf?YM(t,e):r}function KM(t,e){return t instanceof Up?function(n){return Jx(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class If extends Zm{}class Of extends Zm{constructor(e){super(),this.elements=e}}function GM(t,e){const r=XM(e);for(const n of t.elements)r.some(i=>ca(i,n))||r.push(n);return{arrayValue:{values:r}}}class Cf extends Zm{constructor(e){super(),this.elements=e}}function YM(t,e){let r=XM(e);for(const n of t.elements)r=r.filter(i=>!ca(i,n));return{arrayValue:{values:r}}}class Up extends Zm{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function qP(t){return nr(t.integerValue||t.doubleValue)}function XM(t){return J1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aq{constructor(e,r){this.field=e,this.transform=r}}function Pq(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof Of&&i instanceof Of||n instanceof Cf&&i instanceof Cf?yu(n.elements,i.elements,ca):n instanceof Up&&i instanceof Up?ca(n.Pe,i.Pe):n instanceof If&&i instanceof If}(t.transform,e.transform)}class kq{constructor(e,r){this.version=e,this.transformResults=r}}class cn{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new cn}static exists(e){return new cn(void 0,e)}static updateTime(e){return new cn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ap(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class eg{}function QM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new tg(t.key,cn.none()):new Ed(t.key,t.data,cn.none());{const r=t.data,n=wn.empty();let i=new Fr($r.comparator);for(let a of e.fields)if(!i.has(a)){let s=r.field(a);s===null&&a.length>1&&(a=a.popLast(),s=r.field(a)),s===null?n.delete(a):n.set(a,s),i=i.add(a)}return new ts(t.key,n,new Wn(i.toArray()),cn.none())}}function Iq(t,e,r){t instanceof Ed?function(i,a,s){const u=i.value.clone(),c=WP(i.fieldTransforms,a,s.transformResults);u.setAll(c),a.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,r):t instanceof ts?function(i,a,s){if(!Ap(i.precondition,a))return void a.convertToUnknownDocument(s.version);const u=WP(i.fieldTransforms,a,s.transformResults),c=a.data;c.setAll(JM(i)),c.setAll(u),a.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,r):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,r)}function df(t,e,r,n){return t instanceof Ed?function(a,s,u,c){if(!Ap(a.precondition,s))return u;const f=a.value.clone(),h=HP(a.fieldTransforms,c,s);return f.setAll(h),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null}(t,e,r,n):t instanceof ts?function(a,s,u,c){if(!Ap(a.precondition,s))return u;const f=HP(a.fieldTransforms,c,s),h=s.data;return h.setAll(JM(a)),h.setAll(f),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(m=>m.field))}(t,e,r,n):function(a,s,u){return Ap(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):u}(t,e,r)}function Oq(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=KM(n.transform,i||null);a!=null&&(r===null&&(r=wn.empty()),r.set(n.field,a))}return r||null}function zP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&yu(n,i,(a,s)=>Pq(a,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ed extends eg{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ts extends eg{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function JM(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function WP(t,e,r){const n=new Map;xt(t.length===r.length);for(let i=0;i<r.length;i++){const a=t[i],s=a.transform,u=e.data.field(a.field);n.set(a.field,Tq(s,u,r[i]))}return n}function HP(t,e,r){const n=new Map;for(const i of t){const a=i.transform,s=r.data.field(i.field);n.set(i.field,Sq(a,s,e))}return n}class tg extends eg{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Cq extends eg{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rq{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&Iq(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=df(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=df(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=WM();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let u=this.applyToLocalView(s,a.mutatedFields);u=r.has(i.key)?null:u;const c=QM(s,u);c!==null&&n.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Qe.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),it())}isEqual(e){return this.batchId===e.batchId&&yu(this.mutations,e.mutations,(r,n)=>zP(r,n))&&yu(this.baseMutations,e.baseMutations,(r,n)=>zP(r,n))}}class nE{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){xt(e.mutations.length===n.length);let i=function(){return bq}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,n[s].version);return new nE(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nq{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jq{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var or,lt;function Mq(t){switch(t){default:return Xe();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0}}function ZM(t){if(t===void 0)return Qa("GRPC error has no .code"),ce.UNKNOWN;switch(t){case or.OK:return ce.OK;case or.CANCELLED:return ce.CANCELLED;case or.UNKNOWN:return ce.UNKNOWN;case or.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case or.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case or.INTERNAL:return ce.INTERNAL;case or.UNAVAILABLE:return ce.UNAVAILABLE;case or.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case or.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case or.NOT_FOUND:return ce.NOT_FOUND;case or.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case or.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case or.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case or.ABORTED:return ce.ABORTED;case or.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case or.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case or.DATA_LOSS:return ce.DATA_LOSS;default:return Xe()}}(lt=or||(or={}))[lt.OK=0]="OK",lt[lt.CANCELLED=1]="CANCELLED",lt[lt.UNKNOWN=2]="UNKNOWN",lt[lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",lt[lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",lt[lt.NOT_FOUND=5]="NOT_FOUND",lt[lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",lt[lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",lt[lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",lt[lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",lt[lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",lt[lt.ABORTED=10]="ABORTED",lt[lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",lt[lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",lt[lt.INTERNAL=13]="INTERNAL",lt[lt.UNAVAILABLE=14]="UNAVAILABLE",lt[lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dq(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lq=new Us([4294967295,4294967295],0);function KP(t){const e=Dq().encode(t),r=new EM;return r.update(e),new Uint8Array(r.digest())}function GP(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Us([r,n],0),new Us([i,a],0)]}class iE{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new tf(`Invalid padding: ${r}`);if(n<0)throw new tf(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new tf(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new tf(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Us.fromNumber(this.Ie)}Ee(e,r,n){let i=e.add(r.multiply(Us.fromNumber(n)));return i.compare(Lq)===1&&(i=new Us([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=KP(e),[n,i]=GP(r);for(let a=0;a<this.hashCount;a++){const s=this.Ee(n,i,a);if(!this.de(s))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new iE(a,i,r);return n.forEach(u=>s.insert(u)),s}insert(e){if(this.Ie===0)return;const r=KP(e),[n,i]=GP(r);for(let a=0;a<this.hashCount;a++){const s=this.Ee(n,i,a);this.Ae(s)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class tf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,Sd.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new rg(Qe.min(),i,new Gt(dt),Ja(),it())}}class Sd{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Sd(n,r,it(),it(),it())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,r,n,i){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=i}}class eD{constructor(e,r){this.targetId=e,this.me=r}}class tD{constructor(e,r,n=Vr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class YP{constructor(){this.fe=0,this.ge=QP(),this.pe=Vr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=it(),r=it(),n=it();return this.ge.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:Xe()}}),new Sd(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=QP()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,xt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class $q{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ja(),this.qe=XP(),this.Qe=new Gt(dt)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:Xe()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,i)=>{this.ze(i)&&r(i)})}He(e){const r=e.targetId,n=e.me.count,i=this.Je(r);if(i){const a=i.target;if(ew(a))if(n===0){const s=new Fe(a.path);this.Ue(r,s,Xr.newNoDocument(s,Qe.min()))}else xt(n===1);else{const s=this.Ye(r);if(s!==n){const u=this.Ze(e),c=u?this.Xe(u,e,s):1;if(c!==0){this.je(r);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,f)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let s,u;try{s=Ys(n).toUint8Array()}catch(c){if(c instanceof RM)return gu("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new iE(s,i,a)}catch(c){return gu(c instanceof tf?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.Ie===0?null:u}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const s=this.Le.tt(),u=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.Ue(r,a,null),i++)}),i}rt(e){const r=new Map;this.Be.forEach((a,s)=>{const u=this.Je(s);if(u){if(a.current&&ew(u.target)){const c=new Fe(u.target.path);this.ke.get(c)!==null||this.it(s,c)||this.Ue(s,c,Xr.newNoDocument(c,e))}a.be&&(r.set(s,a.ve()),a.Ce())}});let n=it();this.qe.forEach((a,s)=>{let u=!0;s.forEachWhile(c=>{const f=this.Je(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(n=n.add(a))}),this.ke.forEach((a,s)=>s.setReadTime(e));const i=new rg(e,r,this.Qe,this.ke,n);return this.ke=Ja(),this.qe=XP(),this.Qe=new Gt(dt),i}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new YP,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Fr(dt),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||Ne("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new YP),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function XP(){return new Gt(Fe.comparator)}function QP(){return new Gt(Fe.comparator)}const Fq={asc:"ASCENDING",desc:"DESCENDING"},Vq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Uq={and:"AND",or:"OR"};class Bq{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function nw(t,e){return t.useProto3Json||Xm(e)?e:{value:e}}function Bp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rD(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function qq(t,e){return Bp(t,e.toTimestamp())}function sa(t){return xt(!!t),Qe.fromTimestamp(function(r){const n=Xo(r);return new br(n.seconds,n.nanos)}(t))}function aE(t,e){return iw(t,e).canonicalString()}function iw(t,e){const r=function(i){return new Mt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function nD(t){const e=Mt.fromString(t);return xt(lD(e)),e}function aw(t,e){return aE(t.databaseId,e.path)}function Nv(t,e){const r=nD(e);if(r.get(1)!==t.databaseId.projectId)throw new ke(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new ke(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Fe(aD(r))}function iD(t,e){return aE(t.databaseId,e)}function zq(t){const e=nD(t);return e.length===4?Mt.emptyPath():aD(e)}function ow(t){return new Mt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function aD(t){return xt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function JP(t,e,r){return{name:aw(t,e),fields:r.value.mapValue.fields}}function Wq(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Xe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(f,h){return f.useProto3Json?(xt(h===void 0||typeof h=="string"),Vr.fromBase64String(h||"")):(xt(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Vr.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,u=s&&function(f){const h=f.code===void 0?ce.UNKNOWN:ZM(f.code);return new ke(h,f.message||"")}(s);r=new tD(n,i,a,u||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=Nv(t,n.document.name),a=sa(n.document.updateTime),s=n.document.createTime?sa(n.document.createTime):Qe.min(),u=new wn({mapValue:{fields:n.document.fields}}),c=Xr.newFoundDocument(i,a,s,u),f=n.targetIds||[],h=n.removedTargetIds||[];r=new Pp(f,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=Nv(t,n.document),a=n.readTime?sa(n.readTime):Qe.min(),s=Xr.newNoDocument(i,a),u=n.removedTargetIds||[];r=new Pp([],u,s.key,s)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=Nv(t,n.document),a=n.removedTargetIds||[];r=new Pp([],a,i,null)}else{if(!("filter"in e))return Xe();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,s=new jq(i,a),u=n.targetId;r=new eD(u,s)}}return r}function Hq(t,e){let r;if(e instanceof Ed)r={update:JP(t,e.key,e.value)};else if(e instanceof tg)r={delete:aw(t,e.key)};else if(e instanceof ts)r={update:JP(t,e.key,e.data),updateMask:t5(e.fieldMask)};else{if(!(e instanceof Cq))return Xe();r={verify:aw(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(a,s){const u=s.transform;if(u instanceof If)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Of)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Cf)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Up)return{fieldPath:s.field.canonicalString(),increment:u.Pe};throw Xe()}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:qq(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Xe()}(t,e.precondition)),r}function Kq(t,e){return t&&t.length>0?(xt(e!==void 0),t.map(r=>function(i,a){let s=i.updateTime?sa(i.updateTime):sa(a);return s.isEqual(Qe.min())&&(s=sa(a)),new kq(s,i.transformResults||[])}(r,e))):[]}function Gq(t,e){return{documents:[iD(t,e.path)]}}function Yq(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=iD(t,i);const a=function(f){if(f.length!==0)return sD($i.create(f,"and"))}(e.filters);a&&(r.structuredQuery.where=a);const s=function(f){if(f.length!==0)return f.map(h=>function(y){return{field:eu(y.field),direction:Jq(y.dir)}}(h))}(e.orderBy);s&&(r.structuredQuery.orderBy=s);const u=nw(t,e.limit);return u!==null&&(r.structuredQuery.limit=u),e.startAt&&(r.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{_t:r,parent:i}}function Xq(t){let e=zq(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){xt(n===1);const h=r.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let a=[];r.where&&(a=function(m){const y=oD(m);return y instanceof $i&&DM(y)?y.getFilters():[y]}(r.where));let s=[];r.orderBy&&(s=function(m){return m.map(y=>function(E){return new Vp(tu(E.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(y))}(r.orderBy));let u=null;r.limit&&(u=function(m){let y;return y=typeof m=="object"?m.value:m,Xm(y)?null:y}(r.limit));let c=null;r.startAt&&(c=function(m){const y=!!m.before,v=m.values||[];return new Fp(v,y)}(r.startAt));let f=null;return r.endAt&&(f=function(m){const y=!m.before,v=m.values||[];return new Fp(v,y)}(r.endAt)),pq(e,i,s,a,u,"F",c,f)}function Qq(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xe()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function oD(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=tu(r.unaryFilter.field);return lr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=tu(r.unaryFilter.field);return lr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=tu(r.unaryFilter.field);return lr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=tu(r.unaryFilter.field);return lr.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Xe()}}(t):t.fieldFilter!==void 0?function(r){return lr.create(tu(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xe()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return $i.create(r.compositeFilter.filters.map(n=>oD(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Xe()}}(r.compositeFilter.op))}(t):Xe()}function Jq(t){return Fq[t]}function Zq(t){return Vq[t]}function e5(t){return Uq[t]}function eu(t){return{fieldPath:t.canonicalString()}}function tu(t){return $r.fromServerFormat(t.fieldPath)}function sD(t){return t instanceof lr?function(r){if(r.op==="=="){if($P(r.value))return{unaryFilter:{field:eu(r.field),op:"IS_NAN"}};if(LP(r.value))return{unaryFilter:{field:eu(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if($P(r.value))return{unaryFilter:{field:eu(r.field),op:"IS_NOT_NAN"}};if(LP(r.value))return{unaryFilter:{field:eu(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eu(r.field),op:Zq(r.op),value:r.value}}}(t):t instanceof $i?function(r){const n=r.getFilters().map(i=>sD(i));return n.length===1?n[0]:{compositeFilter:{op:e5(r.op),filters:n}}}(t):Xe()}function t5(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function lD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,r,n,i,a=Qe.min(),s=Qe.min(),u=Vr.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new Uo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Uo(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Uo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Uo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(e){this.ct=e}}function n5(t){const e=Xq({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?rw(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(){this.un=new a5}addToCollectionParentIndex(e,r){return this.un.add(r),me.resolve()}getCollectionParents(e,r){return me.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return me.resolve()}deleteFieldIndex(e,r){return me.resolve()}deleteAllFieldIndexes(e){return me.resolve()}createTargetIndexes(e,r){return me.resolve()}getDocumentsMatchingTarget(e,r){return me.resolve(null)}getIndexType(e,r){return me.resolve(0)}getFieldIndexes(e,r){return me.resolve([])}getNextCollectionGroupToUpdate(e){return me.resolve(null)}getMinOffset(e,r){return me.resolve(Yo.min())}getMinOffsetFromCollectionGroup(e,r){return me.resolve(Yo.min())}updateCollectionGroup(e,r,n){return me.resolve()}updateIndexEntries(e,r){return me.resolve()}}class a5{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new Fr(Mt.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Fr(Mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new _u(0)}static kn(){return new _u(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(){this.changes=new Xu(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Xr.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?me.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&df(n.mutation,i,Wn.empty(),br.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,it()).next(()=>n))}getLocalViewOfDocuments(e,r,n=it()){const i=Ds();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(a=>{let s=ef();return a.forEach((u,c)=>{s=s.insert(u,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,r){const n=Ds();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,it()))}populateOverlays(e,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,u)=>{r.set(s,u)})})}computeViews(e,r,n,i){let a=Ja();const s=ff(),u=function(){return ff()}();return r.forEach((c,f)=>{const h=n.get(f.key);i.has(f.key)&&(h===void 0||h.mutation instanceof ts)?a=a.insert(f.key,f):h!==void 0?(s.set(f.key,h.mutation.getFieldMask()),df(h.mutation,f,h.mutation.getFieldMask(),br.now())):s.set(f.key,Wn.empty())}),this.recalculateAndSaveOverlays(e,a).next(c=>(c.forEach((f,h)=>s.set(f,h)),r.forEach((f,h)=>{var m;return u.set(f,new s5(h,(m=s.get(f))!==null&&m!==void 0?m:null))}),u))}recalculateAndSaveOverlays(e,r){const n=ff();let i=new Gt((s,u)=>s-u),a=it();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(s=>{for(const u of s)u.keys().forEach(c=>{const f=r.get(c);if(f===null)return;let h=n.get(c)||Wn.empty();h=u.applyToLocalView(f,h),n.set(c,h);const m=(i.get(u.batchId)||it()).add(c);i=i.insert(u.batchId,m)})}).next(()=>{const s=[],u=i.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),f=c.key,h=c.value,m=WM();h.forEach(y=>{if(!a.has(y)){const v=QM(r.get(y),n.get(y));v!==null&&m.set(y,v),a=a.add(y)}}),s.push(this.documentOverlayCache.saveOverlays(e,f,m))}return me.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(s){return Fe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):VM(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):me.resolve(Ds());let u=-1,c=a;return s.next(f=>me.forEach(f,(h,m)=>(u<m.largestBatchId&&(u=m.largestBatchId),a.get(h)?me.resolve():this.remoteDocumentCache.getEntry(e,h).next(y=>{c=c.insert(h,y)}))).next(()=>this.populateOverlays(e,f,a)).next(()=>this.computeViews(e,c,f,it())).next(h=>({batchId:u,changes:zM(h)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Fe(r)).next(n=>{let i=ef();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let s=ef();return this.indexManager.getCollectionParents(e,a).next(u=>me.forEach(u,c=>{const f=function(m,y){return new wd(y,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(r,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,n,i).next(h=>{h.forEach((m,y)=>{s=s.insert(m,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i))).next(s=>{a.forEach((c,f)=>{const h=f.getKey();s.get(h)===null&&(s=s.insert(h,Xr.newInvalidDocument(h)))});let u=ef();return s.forEach((c,f)=>{const h=a.get(c);h!==void 0&&df(h.mutation,f,Wn.empty(),br.now()),Jm(r,f)&&(u=u.insert(c,f))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return me.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:sa(i.createTime)}}(r)),me.resolve()}getNamedQuery(e,r){return me.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(i){return{name:i.name,query:n5(i.bundledQuery),readTime:sa(i.readTime)}}(r)),me.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{constructor(){this.overlays=new Gt(Fe.comparator),this.Ir=new Map}getOverlay(e,r){return me.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Ds();return me.forEach(r,i=>this.getOverlay(e,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,a)=>{this.ht(e,r,a)}),me.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(n)),me.resolve()}getOverlaysForCollection(e,r,n){const i=Ds(),a=r.length+1,s=new Fe(r.child("")),u=this.overlays.getIteratorFrom(s);for(;u.hasNext();){const c=u.getNext().value,f=c.getKey();if(!r.isPrefixOf(f.path))break;f.path.length===a&&c.largestBatchId>n&&i.set(c.getKey(),c)}return me.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new Gt((f,h)=>f-h);const s=this.overlays.getIterator();for(;s.hasNext();){const f=s.getNext().value;if(f.getKey().getCollectionGroup()===r&&f.largestBatchId>n){let h=a.get(f.largestBatchId);h===null&&(h=Ds(),a=a.insert(f.largestBatchId,h)),h.set(f.getKey(),f)}}const u=Ds(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((f,h)=>u.set(f,h)),!(u.size()>=i)););return me.resolve(u)}ht(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new Nq(r,n));let a=this.Ir.get(r);a===void 0&&(a=it(),this.Ir.set(r,a)),this.Ir.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{constructor(){this.sessionToken=Vr.EMPTY_BYTE_STRING}getSessionToken(e){return me.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,me.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(){this.Tr=new Fr(Pr.Er),this.dr=new Fr(Pr.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new Pr(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new Pr(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new Fe(new Mt([])),n=new Pr(r,e),i=new Pr(r,e+1),a=[];return this.dr.forEachInRange([n,i],s=>{this.Vr(s),a.push(s.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new Fe(new Mt([])),n=new Pr(r,e),i=new Pr(r,e+1);let a=it();return this.dr.forEachInRange([n,i],s=>{a=a.add(s.key)}),a}containsKey(e){const r=new Pr(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Pr{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return Fe.comparator(e.key,r.key)||dt(e.wr,r.wr)}static Ar(e,r){return dt(e.wr,r.wr)||Fe.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new Fr(Pr.Er)}checkEmpty(e){return me.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Rq(a,r,n,i);this.mutationQueue.push(s);for(const u of i)this.br=this.br.add(new Pr(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return me.resolve(s)}lookupMutationBatch(e,r){return me.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.vr(n),a=i<0?0:i;return me.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Pr(r,0),i=new Pr(r,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([n,i],s=>{const u=this.Dr(s.wr);a.push(u)}),me.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Fr(dt);return r.forEach(i=>{const a=new Pr(i,0),s=new Pr(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,s],u=>{n=n.add(u.wr)})}),me.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;Fe.isDocumentKey(a)||(a=a.child(""));const s=new Pr(new Fe(a),0);let u=new Fr(dt);return this.br.forEachWhile(c=>{const f=c.key.path;return!!n.isPrefixOf(f)&&(f.length===i&&(u=u.add(c.wr)),!0)},s),me.resolve(this.Cr(u))}Cr(e){const r=[];return e.forEach(n=>{const i=this.Dr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){xt(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return me.forEach(r.mutations,i=>{const a=new Pr(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new Pr(r,0),i=this.br.firstAfterOrEqual(n);return me.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,me.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(e){this.Mr=e,this.docs=function(){return new Gt(Fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,s=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return me.resolve(n?n.document.mutableCopy():Xr.newInvalidDocument(r))}getEntries(e,r){let n=Ja();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():Xr.newInvalidDocument(i))}),me.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=Ja();const s=r.path,u=new Fe(s.child("")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:f,value:{document:h}}=c.getNext();if(!s.isPrefixOf(f.path))break;f.path.length>s.length+1||YB(GB(h),n)<=0||(i.has(h.key)||Jm(r,h))&&(a=a.insert(h.key,h.mutableCopy()))}return me.resolve(a)}getAllFromCollectionGroup(e,r,n,i){Xe()}Or(e,r){return me.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new p5(this)}getSize(e){return me.resolve(this.size)}}class p5 extends o5{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)}),me.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(e){this.persistence=e,this.Nr=new Xu(r=>Z1(r),eE),this.lastRemoteSnapshotVersion=Qe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new oE,this.targetCount=0,this.kr=_u.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,i)=>r(i)),me.resolve()}getLastRemoteSnapshotVersion(e){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return me.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),me.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new _u(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,me.resolve()}updateTargetData(e,r){return this.Kn(r),me.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,me.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.Nr.forEach((s,u)=>{u.sequenceNumber<=r&&n.get(u.targetId)===null&&(this.Nr.delete(s),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),me.waitFor(a).next(()=>i)}getTargetCount(e){return me.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return me.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),me.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),me.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),me.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return me.resolve(n)}containsKey(e,r){return me.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(e,r){this.qr={},this.overlays={},this.Qr=new Y1(0),this.Kr=!1,this.Kr=!0,this.$r=new f5,this.referenceDelegate=e(this),this.Ur=new m5(this),this.indexManager=new i5,this.remoteDocumentCache=function(i){return new h5(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new r5(r),this.Gr=new u5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new c5,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new d5(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){Ne("MemoryPersistence","Starting transaction:",e);const i=new y5(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(a=>this.referenceDelegate.jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Hr(e,r){return me.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class y5 extends QB{constructor(e){super(),this.currentSequenceNumber=e}}class sE{constructor(e){this.persistence=e,this.Jr=new oE,this.Yr=null}static Zr(e){return new sE(e)}get Xr(){if(this.Yr)return this.Yr;throw Xe()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),me.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),me.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),me.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(a=>this.Xr.add(a.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.Xr,n=>{const i=Fe.fromPath(n);return this.ei(e,i).next(a=>{a||r.removeEntry(i,Qe.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return me.or([()=>me.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(e,r){let n=it(),i=it();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new lE(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return s3()?8:JB(Jr())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.Yi(e,r).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.Zi(e,r,i,n).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new v5;return this.Xi(e,r,s).next(u=>{if(a.result=u,this.zi)return this.es(e,r,s,u.size)})}).next(()=>a.result)}es(e,r,n,i){return n.documentReadCount<this.ji?(Vc()<=ot.DEBUG&&Ne("QueryEngine","SDK will not create cache indexes for query:",Zl(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),me.resolve()):(Vc()<=ot.DEBUG&&Ne("QueryEngine","Query:",Zl(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(Vc()<=ot.DEBUG&&Ne("QueryEngine","The SDK decides to create cache indexes for query:",Zl(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,oa(r))):me.resolve())}Yi(e,r){if(BP(r))return me.resolve(null);let n=oa(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=rw(r,null,"F"),n=oa(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const s=it(...a);return this.Ji.getDocuments(e,s).next(u=>this.indexManager.getMinOffset(e,n).next(c=>{const f=this.ts(r,u);return this.ns(r,f,s,c.readTime)?this.Yi(e,rw(r,null,"F")):this.rs(e,f,r,c)}))})))}Zi(e,r,n,i){return BP(r)||i.isEqual(Qe.min())?me.resolve(null):this.Ji.getDocuments(e,n).next(a=>{const s=this.ts(r,a);return this.ns(r,s,n,i)?me.resolve(null):(Vc()<=ot.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Zl(r)),this.rs(e,s,r,KB(i,-1)).next(u=>u))})}ts(e,r){let n=new Fr(BM(e));return r.forEach((i,a)=>{Jm(e,a)&&(n=n.add(a))}),n}ns(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(e,r,n){return Vc()<=ot.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",Zl(r)),this.Ji.getDocumentsMatchingQuery(e,r,Yo.min(),n)}rs(e,r,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next(a=>(r.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(e,r,n,i){this.persistence=e,this.ss=r,this.serializer=i,this.os=new Gt(dt),this._s=new Xu(a=>Z1(a),eE),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new l5(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function x5(t,e,r,n){return new _5(t,e,r,n)}async function uD(t,e){const r=Ze(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const s=[],u=[];let c=it();for(const f of i){s.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}for(const f of a){u.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}return r.localDocuments.getDocuments(n,c).next(f=>({hs:f,removedBatchIds:s,addedBatchIds:u}))})})}function w5(t,e){const r=Ze(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),a=r.cs.newChangeBuffer({trackRemovals:!0});return function(u,c,f,h){const m=f.batch,y=m.keys();let v=me.resolve();return y.forEach(E=>{v=v.next(()=>h.getEntry(c,E)).next(w=>{const x=f.docVersions.get(E);xt(x!==null),w.version.compareTo(x)<0&&(m.applyToRemoteDocument(w,f),w.isValidDocument()&&(w.setReadTime(f.commitVersion),h.addEntry(w)))})}),v.next(()=>u.mutationQueue.removeMutationBatch(c,m))}(r,n,e,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(u){let c=it();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(c=c.add(u.batch.mutations[f].key));return c}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function cD(t){const e=Ze(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function E5(t,e){const r=Ze(t),n=e.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const u=[];e.targetChanges.forEach((h,m)=>{const y=i.get(m);if(!y)return;u.push(r.Ur.removeMatchingKeys(a,h.removedDocuments,m).next(()=>r.Ur.addMatchingKeys(a,h.addedDocuments,m)));let v=y.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(m)!==null?v=v.withResumeToken(Vr.EMPTY_BYTE_STRING,Qe.min()).withLastLimboFreeSnapshotVersion(Qe.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,n)),i=i.insert(m,v),function(w,x,O){return w.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(y,v,h)&&u.push(r.Ur.updateTargetData(a,v))});let c=Ja(),f=it();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&u.push(r.persistence.referenceDelegate.updateLimboDocument(a,h))}),u.push(S5(a,s,e.documentUpdates).next(h=>{c=h.Ps,f=h.Is})),!n.isEqual(Qe.min())){const h=r.Ur.getLastRemoteSnapshotVersion(a).next(m=>r.Ur.setTargetsMetadata(a,a.currentSequenceNumber,n));u.push(h)}return me.waitFor(u).next(()=>s.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,c,f)).next(()=>c)}).then(a=>(r.os=i,a))}function S5(t,e,r){let n=it(),i=it();return r.forEach(a=>n=n.add(a)),e.getEntries(t,n).next(a=>{let s=Ja();return r.forEach((u,c)=>{const f=a.get(u);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(u)),c.isNoDocument()&&c.version.isEqual(Qe.min())?(e.removeEntry(u,c.readTime),s=s.insert(u,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),s=s.insert(u,c)):Ne("LocalStore","Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",c.version)}),{Ps:s,Is:i}})}function T5(t,e){const r=Ze(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function A5(t,e){const r=Ze(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Ur.getTargetData(n,e).next(a=>a?(i=a,me.resolve(i)):r.Ur.allocateTargetId(n).next(s=>(i=new Uo(e,s,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function sw(t,e,r){const n=Ze(t),i=n.os.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,s=>n.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!xd(s))throw s;Ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function ZP(t,e,r){const n=Ze(t);let i=Qe.min(),a=it();return n.persistence.runTransaction("Execute query","readwrite",s=>function(c,f,h){const m=Ze(c),y=m._s.get(h);return y!==void 0?me.resolve(m.os.get(y)):m.Ur.getTargetData(f,h)}(n,s,oa(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(s,u.targetId).next(c=>{a=c})}).next(()=>n.ss.getDocumentsMatchingQuery(s,e,r?i:Qe.min(),r?a:it())).next(u=>(P5(n,gq(e),u),{documents:u,Ts:a})))}function P5(t,e,r){let n=t.us.get(e)||Qe.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),t.us.set(e,n)}class ek{constructor(){this.activeTargetIds=wq()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class k5{constructor(){this.so=new ek,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new ek,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let np=null;function jv(){return np===null?np=function(){return 268435456+Math.round(2147483648*Math.random())}():np++,"0x"+np.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr="WebChannelConnection";class R5 extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(r,n,i,a,s){const u=jv(),c=this.xo(r,n.toUriEncodedString());Ne("RestConnection",`Sending RPC '${r}' ${u}:`,c,i);const f={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(f,a,s),this.No(r,c,f,i).then(h=>(Ne("RestConnection",`Received RPC '${r}' ${u}: `,h),h),h=>{throw gu("RestConnection",`RPC '${r}' ${u} failed with error: `,h,"url: ",c,"request:",i),h})}Lo(r,n,i,a,s,u){return this.Mo(r,n,i,a,s)}Oo(r,n,i){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Yu}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,s)=>r[s]=a),i&&i.headers.forEach((a,s)=>r[s]=a)}xo(r,n){const i=O5[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,i){const a=jv();return new Promise((s,u)=>{const c=new SM;c.setWithCredentials(!0),c.listenOnce(TM.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Sp.NO_ERROR:const h=c.getResponseJson();Ne(Kr,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(h)),s(h);break;case Sp.TIMEOUT:Ne(Kr,`RPC '${e}' ${a} timed out`),u(new ke(ce.DEADLINE_EXCEEDED,"Request time out"));break;case Sp.HTTP_ERROR:const m=c.getStatus();if(Ne(Kr,`RPC '${e}' ${a} failed with status:`,m,"response text:",c.getResponseText()),m>0){let y=c.getResponseJson();Array.isArray(y)&&(y=y[0]);const v=y?.error;if(v&&v.status&&v.message){const E=function(x){const O=x.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(O)>=0?O:ce.UNKNOWN}(v.status);u(new ke(E,v.message))}else u(new ke(ce.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new ke(ce.UNAVAILABLE,"Connection failed."));break;default:Xe()}}finally{Ne(Kr,`RPC '${e}' ${a} completed.`)}});const f=JSON.stringify(i);Ne(Kr,`RPC '${e}' ${a} sending request:`,i),c.send(r,"POST",f,n,15)})}Bo(e,r,n){const i=jv(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=kM(),u=PM(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,r,n),c.encodeInitMessageHeaders=!0;const h=a.join("");Ne(Kr,`Creating RPC '${e}' stream ${i}: ${h}`,c);const m=s.createWebChannel(h,c);let y=!1,v=!1;const E=new C5({Io:x=>{v?Ne(Kr,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(y||(Ne(Kr,`Opening RPC '${e}' stream ${i} transport.`),m.open(),y=!0),Ne(Kr,`RPC '${e}' stream ${i} sending:`,x),m.send(x))},To:()=>m.close()}),w=(x,O,C)=>{x.listen(O,R=>{try{C(R)}catch($){setTimeout(()=>{throw $},0)}})};return w(m,Zc.EventType.OPEN,()=>{v||(Ne(Kr,`RPC '${e}' stream ${i} transport opened.`),E.yo())}),w(m,Zc.EventType.CLOSE,()=>{v||(v=!0,Ne(Kr,`RPC '${e}' stream ${i} transport closed`),E.So())}),w(m,Zc.EventType.ERROR,x=>{v||(v=!0,gu(Kr,`RPC '${e}' stream ${i} transport errored:`,x),E.So(new ke(ce.UNAVAILABLE,"The operation could not be completed")))}),w(m,Zc.EventType.MESSAGE,x=>{var O;if(!v){const C=x.data[0];xt(!!C);const R=C,$=R.error||((O=R[0])===null||O===void 0?void 0:O.error);if($){Ne(Kr,`RPC '${e}' stream ${i} received error:`,$);const I=$.status;let j=function(N){const F=or[N];if(F!==void 0)return ZM(F)}(I),A=$.message;j===void 0&&(j=ce.INTERNAL,A="Unknown error status: "+I+" with message "+$.message),v=!0,E.So(new ke(j,A)),m.close()}else Ne(Kr,`RPC '${e}' stream ${i} received:`,C),E.bo(C)}}),w(u,AM.STAT_EVENT,x=>{x.stat===Xx.PROXY?Ne(Kr,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===Xx.NOPROXY&&Ne(Kr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.wo()},0),E}}function Mv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(t){return new Bq(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e,r,n=1e3,i=1.5,a=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&Ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e,r,n,i,a,s,u,c){this.ui=e,this.Ho=n,this.Jo=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new fD(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===ce.RESOURCE_EXHAUSTED?(Qa(r.toString()),Qa("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===r&&this.P_(n,i)},n=>{e(()=>{const i=new ke(ce.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(Ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class N5 extends dD{constructor(e,r,n,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=Wq(this.serializer,e),n=function(a){if(!("targetChange"in a))return Qe.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?Qe.min():s.readTime?sa(s.readTime):Qe.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=ow(this.serializer),r.addTarget=function(a,s){let u;const c=s.target;if(u=ew(c)?{documents:Gq(a,c)}:{query:Yq(a,c)._t},u.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){u.resumeToken=rD(a,s.resumeToken);const f=nw(a,s.expectedCount);f!==null&&(u.expectedCount=f)}else if(s.snapshotVersion.compareTo(Qe.min())>0){u.readTime=Bp(a,s.snapshotVersion.toTimestamp());const f=nw(a,s.expectedCount);f!==null&&(u.expectedCount=f)}return u}(this.serializer,e);const n=Qq(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=ow(this.serializer),r.removeTarget=e,this.a_(r)}}class j5 extends dD{constructor(e,r,n,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return xt(!!e.streamToken),this.lastStreamToken=e.streamToken,xt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){xt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=Kq(e.writeResults,e.commitTime),n=sa(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=ow(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>Hq(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5 extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ke(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Mo(e,iw(r,n),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ke(ce.UNKNOWN,a.toString())})}Lo(e,r,n,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection.Lo(e,iw(r,n),i,s,u,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ke(ce.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class D5{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Qa(r),this.D_=!1):Ne("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(s=>{n.enqueueAndForget(async()=>{sl(this)&&(Ne("RemoteStore","Restarting streams for network reachability change."),await async function(c){const f=Ze(c);f.L_.add(4),await Td(f),f.q_.set("Unknown"),f.L_.delete(4),await ig(f)}(this))})}),this.q_=new D5(n,i)}}async function ig(t){if(sl(t))for(const e of t.B_)await e(!0)}async function Td(t){for(const e of t.B_)await e(!1)}function hD(t,e){const r=Ze(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),dE(r)?fE(r):Qu(r).r_()&&cE(r,e))}function uE(t,e){const r=Ze(t),n=Qu(r);r.N_.delete(e),n.r_()&&pD(r,e),r.N_.size===0&&(n.r_()?n.o_():sl(r)&&r.q_.set("Unknown"))}function cE(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Qe.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Qu(t).A_(e)}function pD(t,e){t.Q_.xe(e),Qu(t).R_(e)}function fE(t){t.Q_=new $q({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Qu(t).start(),t.q_.v_()}function dE(t){return sl(t)&&!Qu(t).n_()&&t.N_.size>0}function sl(t){return Ze(t).L_.size===0}function mD(t){t.Q_=void 0}async function $5(t){t.q_.set("Online")}async function F5(t){t.N_.forEach((e,r)=>{cE(t,e)})}async function V5(t,e){mD(t),dE(t)?(t.q_.M_(e),fE(t)):t.q_.set("Unknown")}async function U5(t,e,r){if(t.q_.set("Online"),e instanceof tD&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const u of a.targetIds)i.N_.has(u)&&(await i.remoteSyncer.rejectListen(u,s),i.N_.delete(u),i.Q_.removeTarget(u))}(t,e)}catch(n){Ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await qp(t,n)}else if(e instanceof Pp?t.Q_.Ke(e):e instanceof eD?t.Q_.He(e):t.Q_.We(e),!r.isEqual(Qe.min()))try{const n=await cD(t.localStore);r.compareTo(n)>=0&&await function(a,s){const u=a.Q_.rt(s);return u.targetChanges.forEach((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const h=a.N_.get(f);h&&a.N_.set(f,h.withResumeToken(c.resumeToken,s))}}),u.targetMismatches.forEach((c,f)=>{const h=a.N_.get(c);if(!h)return;a.N_.set(c,h.withResumeToken(Vr.EMPTY_BYTE_STRING,h.snapshotVersion)),pD(a,c);const m=new Uo(h.target,c,f,h.sequenceNumber);cE(a,m)}),a.remoteSyncer.applyRemoteEvent(u)}(t,r)}catch(n){Ne("RemoteStore","Failed to raise snapshot:",n),await qp(t,n)}}async function qp(t,e,r){if(!xd(e))throw e;t.L_.add(1),await Td(t),t.q_.set("Offline"),r||(r=()=>cD(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ne("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await ig(t)})}function gD(t,e){return e().catch(r=>qp(t,r,e))}async function ag(t){const e=Ze(t),r=Qo(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;B5(e);)try{const i=await T5(e.localStore,n);if(i===null){e.O_.length===0&&r.o_();break}n=i.batchId,q5(e,i)}catch(i){await qp(e,i)}yD(e)&&vD(e)}function B5(t){return sl(t)&&t.O_.length<10}function q5(t,e){t.O_.push(e);const r=Qo(t);r.r_()&&r.V_&&r.m_(e.mutations)}function yD(t){return sl(t)&&!Qo(t).n_()&&t.O_.length>0}function vD(t){Qo(t).start()}async function z5(t){Qo(t).p_()}async function W5(t){const e=Qo(t);for(const r of t.O_)e.m_(r.mutations)}async function H5(t,e,r){const n=t.O_.shift(),i=nE.from(n,e,r);await gD(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ag(t)}async function K5(t,e){e&&Qo(t).V_&&await async function(n,i){if(function(s){return Mq(s)&&s!==ce.ABORTED}(i.code)){const a=n.O_.shift();Qo(n).s_(),await gD(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await ag(n)}}(t,e),yD(t)&&vD(t)}async function rk(t,e){const r=Ze(t);r.asyncQueue.verifyOperationInProgress(),Ne("RemoteStore","RemoteStore received new credentials");const n=sl(r);r.L_.add(3),await Td(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await ig(r)}async function G5(t,e){const r=Ze(t);e?(r.L_.delete(2),await ig(r)):e||(r.L_.add(2),await Td(r),r.q_.set("Unknown"))}function Qu(t){return t.K_||(t.K_=function(r,n,i){const a=Ze(r);return a.w_(),new N5(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:$5.bind(null,t),Ro:F5.bind(null,t),mo:V5.bind(null,t),d_:U5.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),dE(t)?fE(t):t.q_.set("Unknown")):(await t.K_.stop(),mD(t))})),t.K_}function Qo(t){return t.U_||(t.U_=function(r,n,i){const a=Ze(r);return a.w_(),new j5(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:z5.bind(null,t),mo:K5.bind(null,t),f_:W5.bind(null,t),g_:H5.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await ag(t)):(await t.U_.stop(),t.O_.length>0&&(Ne("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new Wo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const s=Date.now()+n,u=new hE(e,r,s,i,a);return u.start(n),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ke(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pE(t,e){if(Qa("AsyncQueue",`${e}: ${t}`),xd(t))return new ke(ce.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e){this.comparator=e?(r,n)=>e(r,n)||Fe.comparator(r.key,n.key):(r,n)=>Fe.comparator(r.key,n.key),this.keyedMap=ef(),this.sortedSet=new Gt(this.comparator)}static emptySet(e){return new fu(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof fu)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new fu;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(){this.W_=new Gt(Fe.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):Xe():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class xu{constructor(e,r,n,i,a,s,u,c,f){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,r,n,i,a){const s=[];return r.forEach(u=>{s.push({type:0,doc:u})}),new xu(e,r,fu.emptySet(r),s,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class X5{constructor(){this.queries=ik(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=Ze(r),a=i.queries;i.queries=ik(),a.forEach((s,u)=>{for(const c of u.j_)c.onError(n)})})(this,new ke(ce.ABORTED,"Firestore shutting down"))}}function ik(){return new Xu(t=>UM(t),Qm)}async function bD(t,e){const r=Ze(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.H_()&&e.J_()&&(n=2):(a=new Y5,n=e.J_()?0:1);try{switch(n){case 0:a.z_=await r.onListen(i,!0);break;case 1:a.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(s){const u=pE(s,`Initialization of query '${Zl(e.query)}' failed`);return void e.onError(u)}r.queries.set(i,a),a.j_.push(e),e.Z_(r.onlineState),a.z_&&e.X_(a.z_)&&mE(r)}async function _D(t,e){const r=Ze(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const s=a.j_.indexOf(e);s>=0&&(a.j_.splice(s,1),a.j_.length===0?i=e.J_()?0:1:!a.H_()&&e.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function Q5(t,e){const r=Ze(t);let n=!1;for(const i of e){const a=i.query,s=r.queries.get(a);if(s){for(const u of s.j_)u.X_(i)&&(n=!0);s.z_=i}}n&&mE(r)}function J5(t,e,r){const n=Ze(t),i=n.queries.get(e);if(i)for(const a of i.j_)a.onError(r);n.queries.delete(e)}function mE(t){t.Y_.forEach(e=>{e.next()})}var lw,ak;(ak=lw||(lw={})).ea="default",ak.Cache="cache";class xD{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new xu(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=xu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==lw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e){this.key=e}}class ED{constructor(e){this.key=e}}class Z5{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=it(),this.mutatedKeys=it(),this.Aa=BM(e),this.Ra=new fu(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new nk,i=r?r.Ra:this.Ra;let a=r?r.mutatedKeys:this.mutatedKeys,s=i,u=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,m)=>{const y=i.get(h),v=Jm(this.query,m)?m:null,E=!!y&&this.mutatedKeys.has(y.key),w=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let x=!1;y&&v?y.data.isEqual(v.data)?E!==w&&(n.track({type:3,doc:v}),x=!0):this.ga(y,v)||(n.track({type:2,doc:v}),x=!0,(c&&this.Aa(v,c)>0||f&&this.Aa(v,f)<0)&&(u=!0)):!y&&v?(n.track({type:0,doc:v}),x=!0):y&&!v&&(n.track({type:1,doc:y}),x=!0,(c||f)&&(u=!0)),x&&(v?(s=s.add(v),a=w?a.add(h):a.delete(h)):(s=s.delete(h),a=a.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),a=a.delete(h.key),n.track({type:1,doc:h})}return{Ra:s,fa:n,ns:u,mutatedKeys:a}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((h,m)=>function(v,E){const w=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xe()}};return w(v)-w(E)}(h.type,m.type)||this.Aa(h.doc,m.doc)),this.pa(n),i=i!=null&&i;const u=r&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,f=c!==this.Ea;return this.Ea=c,s.length!==0||f?{snapshot:new xu(this.query,e.Ra,a,s,e.mutatedKeys,c===0,f,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:u}:{wa:u}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new nk,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=it(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new ED(n))}),this.da.forEach(n=>{e.has(n)||r.push(new wD(n))}),r}ba(e){this.Ta=e.Ts,this.da=it();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return xu.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class e9{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class t9{constructor(e){this.key=e,this.va=!1}}class r9{constructor(e,r,n,i,a,s){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Xu(u=>UM(u),Qm),this.Ma=new Map,this.xa=new Set,this.Oa=new Gt(Fe.comparator),this.Na=new Map,this.La=new oE,this.Ba={},this.ka=new Map,this.qa=_u.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function n9(t,e,r=!0){const n=ID(t);let i;const a=n.Fa.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await SD(n,e,r,!0),i}async function i9(t,e){const r=ID(t);await SD(r,e,!0,!1)}async function SD(t,e,r,n){const i=await A5(t.localStore,oa(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,r);let u;return n&&(u=await a9(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&r&&hD(t.remoteStore,i),u}async function a9(t,e,r,n,i){t.Ka=(m,y,v)=>async function(w,x,O,C){let R=x.view.ma(O);R.ns&&(R=await ZP(w.localStore,x.query,!1).then(({documents:A})=>x.view.ma(A,R)));const $=C&&C.targetChanges.get(x.targetId),I=C&&C.targetMismatches.get(x.targetId)!=null,j=x.view.applyChanges(R,w.isPrimaryClient,$,I);return sk(w,x.targetId,j.wa),j.snapshot}(t,m,y,v);const a=await ZP(t.localStore,e,!0),s=new Z5(e,a.Ts),u=s.ma(a.documents),c=Sd.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),f=s.applyChanges(u,t.isPrimaryClient,c);sk(t,r,f.wa);const h=new e9(e,r,s);return t.Fa.set(e,h),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),f.snapshot}async function o9(t,e,r){const n=Ze(t),i=n.Fa.get(e),a=n.Ma.get(i.targetId);if(a.length>1)return n.Ma.set(i.targetId,a.filter(s=>!Qm(s,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await sw(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&uE(n.remoteStore,i.targetId),uw(n,i.targetId)}).catch(_d)):(uw(n,i.targetId),await sw(n.localStore,i.targetId,!0))}async function s9(t,e){const r=Ze(t),n=r.Fa.get(e),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),uE(r.remoteStore,n.targetId))}async function l9(t,e,r){const n=m9(t);try{const i=await function(s,u){const c=Ze(s),f=br.now(),h=u.reduce((v,E)=>v.add(E.key),it());let m,y;return c.persistence.runTransaction("Locally write mutations","readwrite",v=>{let E=Ja(),w=it();return c.cs.getEntries(v,h).next(x=>{E=x,E.forEach((O,C)=>{C.isValidDocument()||(w=w.add(O))})}).next(()=>c.localDocuments.getOverlayedDocuments(v,E)).next(x=>{m=x;const O=[];for(const C of u){const R=Oq(C,m.get(C.key).overlayedDocument);R!=null&&O.push(new ts(C.key,R,NM(R.value.mapValue),cn.exists(!0)))}return c.mutationQueue.addMutationBatch(v,f,O,u)}).next(x=>{y=x;const O=x.applyToLocalDocumentSet(m,w);return c.documentOverlayCache.saveOverlays(v,x.batchId,O)})}).then(()=>({batchId:y.batchId,changes:zM(m)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(s,u,c){let f=s.Ba[s.currentUser.toKey()];f||(f=new Gt(dt)),f=f.insert(u,c),s.Ba[s.currentUser.toKey()]=f}(n,i.batchId,r),await Ad(n,i.changes),await ag(n.remoteStore)}catch(i){const a=pE(i,"Failed to persist write");r.reject(a)}}async function TD(t,e){const r=Ze(t);try{const n=await E5(r.localStore,e);e.targetChanges.forEach((i,a)=>{const s=r.Na.get(a);s&&(xt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?xt(s.va):i.removedDocuments.size>0&&(xt(s.va),s.va=!1))}),await Ad(r,n,e)}catch(n){await _d(n)}}function ok(t,e,r){const n=Ze(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach((a,s)=>{const u=s.view.Z_(e);u.snapshot&&i.push(u.snapshot)}),function(s,u){const c=Ze(s);c.onlineState=u;let f=!1;c.queries.forEach((h,m)=>{for(const y of m.j_)y.Z_(u)&&(f=!0)}),f&&mE(c)}(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function u9(t,e,r){const n=Ze(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Na.get(e),a=i&&i.key;if(a){let s=new Gt(Fe.comparator);s=s.insert(a,Xr.newNoDocument(a,Qe.min()));const u=it().add(a),c=new rg(Qe.min(),new Map,new Gt(dt),s,u);await TD(n,c),n.Oa=n.Oa.remove(a),n.Na.delete(e),gE(n)}else await sw(n.localStore,e,!1).then(()=>uw(n,e,r)).catch(_d)}async function c9(t,e){const r=Ze(t),n=e.batch.batchId;try{const i=await w5(r.localStore,e);PD(r,n,null),AD(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Ad(r,i)}catch(i){await _d(i)}}async function f9(t,e,r){const n=Ze(t);try{const i=await function(s,u){const c=Ze(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let h;return c.mutationQueue.lookupMutationBatch(f,u).next(m=>(xt(m!==null),h=m.keys(),c.mutationQueue.removeMutationBatch(f,m))).next(()=>c.mutationQueue.performConsistencyCheck(f)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(f,h,u)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,h)).next(()=>c.localDocuments.getDocuments(f,h))})}(n.localStore,e);PD(n,e,r),AD(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Ad(n,i)}catch(i){await _d(i)}}function AD(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function PD(t,e,r){const n=Ze(t);let i=n.Ba[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function uw(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||kD(t,n)})}function kD(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(uE(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),gE(t))}function sk(t,e,r){for(const n of r)n instanceof wD?(t.La.addReference(n.key,e),d9(t,n)):n instanceof ED?(Ne("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||kD(t,n.key)):Xe()}function d9(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(Ne("SyncEngine","New document in limbo: "+r),t.xa.add(n),gE(t))}function gE(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new Fe(Mt.fromString(e)),n=t.qa.next();t.Na.set(n,new t9(r)),t.Oa=t.Oa.insert(r,n),hD(t.remoteStore,new Uo(oa(tE(r.path)),n,"TargetPurposeLimboResolution",Y1.oe))}}async function Ad(t,e,r){const n=Ze(t),i=[],a=[],s=[];n.Fa.isEmpty()||(n.Fa.forEach((u,c)=>{s.push(n.Ka(c,e,r).then(f=>{var h;if((f||r)&&n.isPrimaryClient){const m=f?!f.fromCache:(h=r?.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;n.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(f){i.push(f);const m=lE.Wi(c.targetId,f);a.push(m)}}))}),await Promise.all(s),n.Ca.d_(i),await async function(c,f){const h=Ze(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>me.forEach(f,y=>me.forEach(y.$i,v=>h.persistence.referenceDelegate.addReference(m,y.targetId,v)).next(()=>me.forEach(y.Ui,v=>h.persistence.referenceDelegate.removeReference(m,y.targetId,v)))))}catch(m){if(!xd(m))throw m;Ne("LocalStore","Failed to update sequence numbers: "+m)}for(const m of f){const y=m.targetId;if(!m.fromCache){const v=h.os.get(y),E=v.snapshotVersion,w=v.withLastLimboFreeSnapshotVersion(E);h.os=h.os.insert(y,w)}}}(n.localStore,a))}async function h9(t,e){const r=Ze(t);if(!r.currentUser.isEqual(e)){Ne("SyncEngine","User change. New user:",e.toKey());const n=await uD(r.localStore,e);r.currentUser=e,function(a,s){a.ka.forEach(u=>{u.forEach(c=>{c.reject(new ke(ce.CANCELLED,s))})}),a.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Ad(r,n.hs)}}function p9(t,e){const r=Ze(t),n=r.Na.get(e);if(n&&n.va)return it().add(n.key);{let i=it();const a=r.Ma.get(e);if(!a)return i;for(const s of a){const u=r.Fa.get(s);i=i.unionWith(u.view.Va)}return i}}function ID(t){const e=Ze(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=TD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=p9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=u9.bind(null,e),e.Ca.d_=Q5.bind(null,e.eventManager),e.Ca.$a=J5.bind(null,e.eventManager),e}function m9(t){const e=Ze(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=c9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=f9.bind(null,e),e}class zp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ng(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return x5(this.persistence,new b5,e.initialUser,this.serializer)}Ga(e){return new g5(sE.Zr,this.serializer)}Wa(e){return new k5}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zp.provider={build:()=>new zp};class cw{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>ok(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=h9.bind(null,this.syncEngine),await G5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new X5}()}createDatastore(e){const r=ng(e.databaseInfo.databaseId),n=function(a){return new R5(a)}(e.databaseInfo);return function(a,s,u,c){return new M5(a,s,u,c)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,a,s,u){return new L5(n,i,a,s,u)}(this.localStore,this.datastore,e.asyncQueue,r=>ok(this.syncEngine,r,0),function(){return tk.D()?new tk:new I5}())}createSyncEngine(e,r){return function(i,a,s,u,c,f,h){const m=new r9(i,a,s,u,c,f);return h&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const a=Ze(i);Ne("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await Td(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}cw.provider={build:()=>new cw};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Qa("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=Yr.UNAUTHENTICATED,this.clientId=OM.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async s=>{Ne("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(Ne("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=pE(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Dv(t,e){t.asyncQueue.verifyOperationInProgress(),Ne("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await uD(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function lk(t,e){t.asyncQueue.verifyOperationInProgress();const r=await y9(t);Ne("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>rk(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>rk(e.remoteStore,i)),t._onlineComponents=e}async function y9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ne("FirestoreClient","Using user provided OfflineComponentProvider");try{await Dv(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===ce.FAILED_PRECONDITION||i.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;gu("Error using user provided cache. Falling back to memory cache: "+r),await Dv(t,new zp)}}else Ne("FirestoreClient","Using default OfflineComponentProvider"),await Dv(t,new zp);return t._offlineComponents}async function CD(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ne("FirestoreClient","Using user provided OnlineComponentProvider"),await lk(t,t._uninitializedComponentsProvider._online)):(Ne("FirestoreClient","Using default OnlineComponentProvider"),await lk(t,new cw))),t._onlineComponents}function v9(t){return CD(t).then(e=>e.syncEngine)}async function fw(t){const e=await CD(t),r=e.eventManager;return r.onListen=n9.bind(null,e.syncEngine),r.onUnlisten=o9.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=i9.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=s9.bind(null,e.syncEngine),r}function b9(t,e,r={}){const n=new Wo;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,u,c,f){const h=new OD({next:y=>{h.Za(),s.enqueueAndForget(()=>_D(a,m)),y.fromCache&&c.source==="server"?f.reject(new ke(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(y)},error:y=>f.reject(y)}),m=new xD(u,h,{includeMetadataChanges:!0,_a:!0});return bD(a,m)}(await fw(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(t,e,r){if(!r)throw new ke(ce.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function _9(t,e,r,n){if(e===!0&&n===!0)throw new ke(ce.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function ck(t){if(!Fe.isDocumentKey(t))throw new ke(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function fk(t){if(Fe.isDocumentKey(t))throw new ke(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function og(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Xe()}function Kn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ke(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=og(t);throw new ke(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new ke(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ke(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RD((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ke(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ke(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ke(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sg{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dk({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ke(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ke(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dk(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new $B;switch(n.type){case"firstParty":return new BB(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ke(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=uk.get(r);n&&(Ne("ComponentProvider","Removing Datastore"),uk.delete(r),n.terminate())}(this),Promise.resolve()}}function x9(t,e,r,n={}){var i;const a=(t=Kn(t,sg))._getSettings(),s=`${e}:${r}`;if(a.host!=="firestore.googleapis.com"&&a.host!==s&&gu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:s,ssl:!1})),n.mockUserToken){let u,c;if(typeof n.mockUserToken=="string")u=n.mockUserToken,c=Yr.MOCK_USER;else{u=D2(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=n.mockUserToken.sub||n.mockUserToken.user_id;if(!f)throw new ke(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Yr(f)}t._authCredentials=new FB(new IM(u,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new ll(this.firestore,e,this._query)}}class fn{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ho(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fn(this.firestore,e,this._key)}}class Ho extends ll{constructor(e,r,n){super(e,r,tE(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new Fe(e))}withConverter(e){return new Ho(this.firestore,e,this._path)}}function pr(t,e,...r){if(t=Dt(t),ND("collection","path",e),t instanceof sg){const n=Mt.fromString(e,...r);return fk(n),new Ho(t,null,n)}{if(!(t instanceof fn||t instanceof Ho))throw new ke(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Mt.fromString(e,...r));return fk(n),new Ho(t.firestore,null,n)}}function Kt(t,e,...r){if(t=Dt(t),arguments.length===1&&(e=OM.newId()),ND("doc","path",e),t instanceof sg){const n=Mt.fromString(e,...r);return ck(n),new fn(t,null,new Fe(n))}{if(!(t instanceof fn||t instanceof Ho))throw new ke(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Mt.fromString(e,...r));return ck(n),new fn(t.firestore,t instanceof Ho?t.converter:null,new Fe(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new fD(this,"async_queue_retry"),this.Vu=()=>{const n=Mv();n&&Ne("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=Mv();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=Mv();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new Wo;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!xd(e))throw e;Ne("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const i=function(s){let u=s.message||"";return s.stack&&(u=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),u}(n);throw Qa("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const i=hE.createAndSchedule(this,e,r,n,a=>this.yu(a));return this.Tu.push(i),i}fu(){this.Eu&&Xe()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function pk(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class Za extends sg{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new hk,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new hk(e),this._firestoreClient=void 0,await e}}}function w9(t,e){const r=typeof t=="object"?t:$1(),n=typeof t=="string"?t:"(default)",i=Hm(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=N2("firestore");a&&x9(i,...a)}return i}function lg(t){if(t._terminated)throw new ke(ce.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||E9(t),t._firestoreClient}function E9(t){var e,r,n;const i=t._freezeSettings(),a=function(u,c,f,h){return new tq(u,c,f,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,RD(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new g9(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(u){const c=u?._online.build();return{_offline:u?._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wu(Vr.fromBase64String(e))}catch(r){throw new ke(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new wu(Vr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new ke(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $r(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new ke(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new ke(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return dt(this._lat,e._lat)||dt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S9=/^__.*__$/;class T9{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new ts(e,this.data,this.fieldMask,r,this.fieldTransforms):new Ed(e,this.data,r,this.fieldTransforms)}}class jD{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new ts(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function MD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xe()}}class bE{constructor(e,r,n,i,a,s){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new bE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Wp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(MD(this.Cu)&&S9.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class A9{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||ng(e)}Qu(e,r,n,i=!1){return new bE({Cu:e,methodName:r,qu:n,path:$r.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kd(t){const e=t._freezeSettings(),r=ng(t._databaseId);return new A9(t._databaseId,!!e.ignoreUndefinedProperties,r)}function _E(t,e,r,n,i,a={}){const s=t.Qu(a.merge||a.mergeFields?2:0,e,r,i);wE("Data must be an object, but it was:",s,n);const u=$D(n,s);let c,f;if(a.merge)c=new Wn(s.fieldMask),f=s.fieldTransforms;else if(a.mergeFields){const h=[];for(const m of a.mergeFields){const y=dw(e,m,r);if(!s.contains(y))throw new ke(ce.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);VD(h,y)||h.push(y)}c=new Wn(h),f=s.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,f=s.fieldTransforms;return new T9(new wn(u),c,f)}class cg extends ug{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof cg}}class xE extends ug{_toFieldTransform(e){return new Aq(e.path,new If)}isEqual(e){return e instanceof xE}}function DD(t,e,r,n){const i=t.Qu(1,e,r);wE("Data must be an object, but it was:",i,n);const a=[],s=wn.empty();ol(n,(c,f)=>{const h=EE(e,c,r);f=Dt(f);const m=i.Nu(h);if(f instanceof cg)a.push(h);else{const y=Id(f,m);y!=null&&(a.push(h),s.set(h,y))}});const u=new Wn(a);return new jD(s,u,i.fieldTransforms)}function LD(t,e,r,n,i,a){const s=t.Qu(1,e,r),u=[dw(e,n,r)],c=[i];if(a.length%2!=0)throw new ke(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<a.length;y+=2)u.push(dw(e,a[y])),c.push(a[y+1]);const f=[],h=wn.empty();for(let y=u.length-1;y>=0;--y)if(!VD(f,u[y])){const v=u[y];let E=c[y];E=Dt(E);const w=s.Nu(v);if(E instanceof cg)f.push(v);else{const x=Id(E,w);x!=null&&(f.push(v),h.set(v,x))}}const m=new Wn(f);return new jD(h,m,s.fieldTransforms)}function P9(t,e,r,n=!1){return Id(r,t.Qu(n?4:3,e))}function Id(t,e){if(FD(t=Dt(t)))return wE("Unsupported field value:",e,t),$D(t,e);if(t instanceof ug)return function(n,i){if(!MD(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,i){const a=[];let s=0;for(const u of n){let c=Id(u,i.Lu(s));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),s++}return{arrayValue:{values:a}}}(t,e)}return function(n,i){if((n=Dt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Eq(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=br.fromDate(n);return{timestampValue:Bp(i.serializer,a)}}if(n instanceof br){const a=new br(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Bp(i.serializer,a)}}if(n instanceof yE)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof wu)return{bytesValue:rD(i.serializer,n._byteString)};if(n instanceof fn){const a=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(a))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:aE(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof vE)return function(s,u){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw u.Bu("VectorValues must only contain numeric values.");return rE(u.serializer,c)})}}}}}}(n,i);throw i.Bu(`Unsupported field value: ${og(n)}`)}(t,e)}function $D(t,e){const r={};return CM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ol(t,(n,i)=>{const a=Id(i,e.Mu(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function FD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof br||t instanceof yE||t instanceof wu||t instanceof fn||t instanceof ug||t instanceof vE)}function wE(t,e,r){if(!FD(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=og(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function dw(t,e,r){if((e=Dt(e))instanceof Pd)return e._internalPath;if(typeof e=="string")return EE(t,e);throw Wp("Field path arguments must be of type string or ",t,!1,void 0,r)}const k9=new RegExp("[~\\*/\\[\\]]");function EE(t,e,r){if(e.search(k9)>=0)throw Wp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Pd(...e.split("."))._internalPath}catch{throw Wp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Wp(t,e,r,n,i){const a=n&&!n.isEmpty(),s=i!==void 0;let u=`Function ${e}() called with invalid data`;r&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(a||s)&&(c+=" (found",a&&(c+=` in field ${n}`),s&&(c+=` in document ${i}`),c+=")"),new ke(ce.INVALID_ARGUMENT,u+t+c)}function VD(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new I9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(BD("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class I9 extends UD{data(){return super.data()}}function BD(t,e){return typeof e=="string"?EE(t,e):e instanceof Pd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ke(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class SE{}class O9 extends SE{}function C9(t,e,...r){let n=[];e instanceof SE&&n.push(e),n=n.concat(r),function(a){const s=a.filter(c=>c instanceof AE).length,u=a.filter(c=>c instanceof TE).length;if(s>1||s>0&&u>0)throw new ke(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class TE extends O9{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new TE(e,r,n)}_apply(e){const r=this._parse(e);return zD(e._query,r),new ll(e.firestore,e.converter,tw(e._query,r))}_parse(e){const r=kd(e.firestore);return function(a,s,u,c,f,h,m){let y;if(f.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new ke(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){gk(m,h);const v=[];for(const E of m)v.push(mk(c,a,E));y={arrayValue:{values:v}}}else y=mk(c,a,m)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||gk(m,h),y=P9(u,s,m,h==="in"||h==="not-in");return lr.create(f,h,y)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}class AE extends SE{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new AE(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:$i.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,a){let s=i;const u=a.getFlattenedFilters();for(const c of u)zD(s,c),s=tw(s,c)}(e._query,r),new ll(e.firestore,e.converter,tw(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function mk(t,e,r){if(typeof(r=Dt(r))=="string"){if(r==="")throw new ke(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!VM(e)&&r.indexOf("/")!==-1)throw new ke(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Mt.fromString(r));if(!Fe.isDocumentKey(n))throw new ke(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return DP(t,new Fe(n))}if(r instanceof fn)return DP(t,r._key);throw new ke(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${og(r)}.`)}function gk(t,e){if(!Array.isArray(t)||t.length===0)throw new ke(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zD(t,e){const r=function(i,a){for(const s of i)for(const u of s.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new ke(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ke(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class R9{convertValue(e,r="none"){switch(Xs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Xe()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return ol(e,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(e){var r,n,i;const a=(i=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(s=>nr(s.doubleValue));return new vE(a)}convertGeoPoint(e){return new yE(nr(e.latitude),nr(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=Q1(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Af(e));default:return null}}convertTimestamp(e){const r=Xo(e);return new br(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Mt.fromString(e);xt(lD(n));const i=new Pf(n.get(1),n.get(3)),a=new Fe(n.popFirst(5));return i.isEqual(r)||Qa(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class WD extends UD{constructor(e,r,n,i,a,s){super(e,r,n,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new kp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(BD("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class kp extends WD{data(e={}){return super.data(e)}}class HD{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new rf(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new kp(this._firestore,this._userDataWriter,n.key,n,new rf(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ke(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(u=>{const c=new kp(i._firestore,i._userDataWriter,u.doc.key,u.doc,new rf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>a||u.type!==3).map(u=>{const c=new kp(i._firestore,i._userDataWriter,u.doc.key,u.doc,new rf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,h=-1;return u.type!==0&&(f=s.indexOf(u.doc.key),s=s.delete(u.doc.key)),u.type!==1&&(s=s.add(u.doc),h=s.indexOf(u.doc.key)),{type:N9(u.type),doc:c,oldIndex:f,newIndex:h}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function N9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xe()}}class kE extends R9{constructor(e){super(),this.firestore=e}convertBytes(e){return new wu(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,r)}}function j9(t){t=Kn(t,ll);const e=Kn(t.firestore,Za),r=lg(e),n=new kE(e);return qD(t._query),b9(r,t._query).then(i=>new HD(e,n,t,i))}function M9(t,e,r){t=Kn(t,fn);const n=Kn(t.firestore,Za),i=PE(t.converter,e,r);return Od(n,[_E(kd(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,cn.none())])}function D9(t,e,r,...n){t=Kn(t,fn);const i=Kn(t.firestore,Za),a=kd(i);let s;return s=typeof(e=Dt(e))=="string"||e instanceof Pd?LD(a,"updateDoc",t._key,e,r,n):DD(a,"updateDoc",t._key,e),Od(i,[s.toMutation(t._key,cn.exists(!0))])}function L9(t){return Od(Kn(t.firestore,Za),[new tg(t._key,cn.none())])}function $9(t,e){const r=Kn(t.firestore,Za),n=Kt(t),i=PE(t.converter,e);return Od(r,[_E(kd(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,cn.exists(!1))]).then(()=>n)}function yk(t,...e){var r,n,i;t=Dt(t);let a={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||pk(e[s])||(a=e[s],s++);const u={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(pk(e[s])){const m=e[s];e[s]=(r=m.next)===null||r===void 0?void 0:r.bind(m),e[s+1]=(n=m.error)===null||n===void 0?void 0:n.bind(m),e[s+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let c,f,h;if(t instanceof fn)f=Kn(t.firestore,Za),h=tE(t._key.path),c={next:m=>{e[s]&&e[s](F9(f,t,m))},error:e[s+1],complete:e[s+2]};else{const m=Kn(t,ll);f=Kn(m.firestore,Za),h=m._query;const y=new kE(f);c={next:v=>{e[s]&&e[s](new HD(f,y,m,v))},error:e[s+1],complete:e[s+2]},qD(t._query)}return function(y,v,E,w){const x=new OD(w),O=new xD(v,x,E);return y.asyncQueue.enqueueAndForget(async()=>bD(await fw(y),O)),()=>{x.Za(),y.asyncQueue.enqueueAndForget(async()=>_D(await fw(y),O))}}(lg(f),h,u,c)}function Od(t,e){return function(n,i){const a=new Wo;return n.asyncQueue.enqueueAndForget(async()=>l9(await v9(n),i,a)),a.promise}(lg(t),e)}function F9(t,e,r){const n=r.docs.get(e._key),i=new kE(t);return new WD(t,i,e._key,n,new rf(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V9{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=kd(e)}set(e,r,n){this._verifyNotCommitted();const i=Lv(e,this._firestore),a=PE(i.converter,r,n),s=_E(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,n);return this._mutations.push(s.toMutation(i._key,cn.none())),this}update(e,r,n,...i){this._verifyNotCommitted();const a=Lv(e,this._firestore);let s;return s=typeof(r=Dt(r))=="string"||r instanceof Pd?LD(this._dataReader,"WriteBatch.update",a._key,r,n,i):DD(this._dataReader,"WriteBatch.update",a._key,r),this._mutations.push(s.toMutation(a._key,cn.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=Lv(e,this._firestore);return this._mutations=this._mutations.concat(new tg(r._key,cn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ke(ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Lv(t,e){if((t=Dt(t)).firestore!==e)throw new ke(ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Ar(){return new xE("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ip(t){return lg(t=Kn(t,Za)),new V9(t,e=>Od(t,e))}(function(e,r=!0){(function(i){Yu=i})(il),Ws(new Go("firestore",(n,{instanceIdentifier:i,options:a})=>{const s=n.getProvider("app").getImmediate(),u=new Za(new VB(n.getProvider("auth-internal")),new zB(n.getProvider("app-check-internal")),function(f,h){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new ke(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pf(f.options.projectId,h)}(s,i),s);return a=Object.assign({useFetchStreams:r},a),u._setSettings(a),u},"PUBLIC").setMultipleInstances(!0)),na(CP,"4.7.3",e),na(CP,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD="firebasestorage.googleapis.com",GD="storageBucket",U9=2*60*1e3,B9=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er extends pa{constructor(e,r,n=0){super($v(e),`Firebase Storage: ${r} (${$v(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,er.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return $v(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Zt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Zt||(Zt={}));function $v(t){return"storage/"+t}function IE(){const t="An unknown error occurred, please check the error payload for server response.";return new er(Zt.UNKNOWN,t)}function q9(t){return new er(Zt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function z9(t){return new er(Zt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function W9(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new er(Zt.UNAUTHENTICATED,t)}function H9(){return new er(Zt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function K9(t){return new er(Zt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function G9(){return new er(Zt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Y9(){return new er(Zt.CANCELED,"User canceled the upload/download.")}function X9(t){return new er(Zt.INVALID_URL,"Invalid URL '"+t+"'.")}function Q9(t){return new er(Zt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function J9(){return new er(Zt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+GD+"' property when initializing the app?")}function Z9(){return new er(Zt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function ez(){return new er(Zt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function tz(t){return new er(Zt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function hw(t){return new er(Zt.INVALID_ARGUMENT,t)}function YD(){return new er(Zt.APP_DELETED,"The Firebase app was deleted.")}function rz(t){return new er(Zt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function hf(t,e){return new er(Zt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Uc(t){throw new er(Zt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=Hn.makeFromUrl(e,r)}catch{return new Hn(e,"")}if(n.path==="")return n;throw Q9(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function a($){$.path.charAt($.path.length-1)==="/"&&($.path_=$.path_.slice(0,-1))}const s="(/(.*))?$",u=new RegExp("^gs://"+i+s,"i"),c={bucket:1,path:3};function f($){$.path_=decodeURIComponent($.path)}const h="v[A-Za-z0-9_]+",m=r.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",v=new RegExp(`^https?://${m}/${h}/b/${i}/o${y}`,"i"),E={bucket:1,path:3},w=r===KD?"(?:storage.googleapis.com|storage.cloud.google.com)":r,x="([^?#]*)",O=new RegExp(`^https?://${w}/${i}/${x}`,"i"),R=[{regex:u,indices:c,postModify:a},{regex:v,indices:E,postModify:f},{regex:O,indices:{bucket:1,path:2},postModify:f}];for(let $=0;$<R.length;$++){const I=R[$],j=I.regex.exec(e);if(j){const A=j[I.indices.bucket];let P=j[I.indices.path];P||(P=""),n=new Hn(A,P),I.postModify(n);break}}if(n==null)throw X9(e);return n}}class nz{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iz(t,e,r){let n=1,i=null,a=null,s=!1,u=0;function c(){return u===2}let f=!1;function h(...x){f||(f=!0,e.apply(null,x))}function m(x){i=setTimeout(()=>{i=null,t(v,c())},x)}function y(){a&&clearTimeout(a)}function v(x,...O){if(f){y();return}if(x){y(),h.call(null,x,...O);return}if(c()||s){y(),h.call(null,x,...O);return}n<64&&(n*=2);let R;u===1?(u=2,R=0):R=(n+Math.random())*1e3,m(R)}let E=!1;function w(x){E||(E=!0,y(),!f&&(i!==null?(x||(u=2),clearTimeout(i),m(0)):x||(u=1)))}return m(0),a=setTimeout(()=>{s=!0,w(!0)},r),w}function az(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oz(t){return t!==void 0}function sz(t){return typeof t=="object"&&!Array.isArray(t)}function OE(t){return typeof t=="string"||t instanceof String}function vk(t){return CE()&&t instanceof Blob}function CE(){return typeof Blob<"u"}function bk(t,e,r,n){if(n<e)throw hw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw hw(`Invalid value for '${t}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(t,e,r){let n=e;return r==null&&(n=`https://${e}`),`${r}://${n}/v0${t}`}function XD(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var Bs;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Bs||(Bs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lz(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return r||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uz{constructor(e,r,n,i,a,s,u,c,f,h,m,y=!0){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=u,this.errorCallback_=c,this.timeout_=f,this.progressCallback_=h,this.connectionFactory_=m,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,E)=>{this.resolve_=v,this.reject_=E,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new ap(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const s=u=>{const c=u.loaded,f=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,f)};this.progressCallback_!==null&&a.addUploadProgressListener(s),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(s),this.pendingConnection_=null;const u=a.getErrorCode()===Bs.NO_ERROR,c=a.getStatus();if(!u||lz(c,this.additionalRetryCodes_)&&this.retry){const h=a.getErrorCode()===Bs.ABORT;n(!1,new ap(!1,null,h));return}const f=this.successCodes_.indexOf(c)!==-1;n(!0,new ap(f,a))})},r=(n,i)=>{const a=this.resolve_,s=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(u,u.getResponse());oz(c)?a(c):a()}catch(c){s(c)}else if(u!==null){const c=IE();c.serverResponse=u.getErrorText(),this.errorCallback_?s(this.errorCallback_(u,c)):s(c)}else if(i.canceled){const c=this.appDelete_?YD():Y9();s(c)}else{const c=G9();s(c)}};this.canceled_?r(!1,new ap(!1,null,!0)):this.backoffId_=iz(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&az(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ap{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function cz(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function fz(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function dz(t,e){e&&(t["X-Firebase-GMPID"]=e)}function hz(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function pz(t,e,r,n,i,a,s=!0){const u=XD(t.urlParams),c=t.url+u,f=Object.assign({},t.headers);return dz(f,e),cz(f,r),fz(f,a),hz(f,n),new uz(c,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mz(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function gz(...t){const e=mz();if(e!==void 0){const r=new e;for(let n=0;n<t.length;n++)r.append(t[n]);return r.getBlob()}else{if(CE())return new Blob(t);throw new er(Zt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function yz(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.mozSlice?t.mozSlice(e,r):t.slice?t.slice(e,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vz(t){if(typeof atob>"u")throw tz("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Fv{constructor(e,r){this.data=e,this.contentType=r||null}}function bz(t,e){switch(t){case ta.RAW:return new Fv(QD(e));case ta.BASE64:case ta.BASE64URL:return new Fv(JD(t,e));case ta.DATA_URL:return new Fv(xz(e),wz(e))}throw IE()}function QD(t){const e=[];for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(r<t.length-1&&(t.charCodeAt(r+1)&64512)===56320))e.push(239,191,189);else{const a=n,s=t.charCodeAt(++r);n=65536|(a&1023)<<10|s&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function _z(t){let e;try{e=decodeURIComponent(t)}catch{throw hf(ta.DATA_URL,"Malformed data URL.")}return QD(e)}function JD(t,e){switch(t){case ta.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw hf(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ta.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw hf(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=vz(e)}catch(i){throw i.message.includes("polyfill")?i:hf(t,"Invalid character found")}const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}class ZD{constructor(e){this.base64=!1,this.contentType=null;const r=e.match(/^data:([^,]+)?,/);if(r===null)throw hf(ta.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=r[1]||null;n!=null&&(this.base64=Ez(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function xz(t){const e=new ZD(t);return e.base64?JD(ta.BASE64,e.rest):_z(e.rest)}function wz(t){return new ZD(t).contentType}function Ez(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,r){let n=0,i="";vk(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,r){if(vk(this.data_)){const n=this.data_,i=yz(n,e,r);return i===null?null:new Fo(i)}else{const n=new Uint8Array(this.data_.buffer,e,r-e);return new Fo(n,!0)}}static getBlob(...e){if(CE()){const r=e.map(n=>n instanceof Fo?n.data_:n);return new Fo(gz.apply(null,r))}else{const r=e.map(s=>OE(s)?bz(ta.RAW,s).data:s.data_);let n=0;r.forEach(s=>{n+=s.byteLength});const i=new Uint8Array(n);let a=0;return r.forEach(s=>{for(let u=0;u<s.length;u++)i[a++]=s[u]}),new Fo(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eL(t){let e;try{e=JSON.parse(t)}catch{return null}return sz(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sz(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Tz(t,e){const r=e.split("/").filter(n=>n.length>0).join("/");return t.length===0?r:t+"/"+r}function tL(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Az(t,e){return e}class on{constructor(e,r,n,i){this.server=e,this.local=r||e,this.writable=!!n,this.xform=i||Az}}let op=null;function Pz(t){return!OE(t)||t.length<2?t:tL(t)}function rL(){if(op)return op;const t=[];t.push(new on("bucket")),t.push(new on("generation")),t.push(new on("metageneration")),t.push(new on("name","fullPath",!0));function e(a,s){return Pz(s)}const r=new on("name");r.xform=e,t.push(r);function n(a,s){return s!==void 0?Number(s):s}const i=new on("size");return i.xform=n,t.push(i),t.push(new on("timeCreated")),t.push(new on("updated")),t.push(new on("md5Hash",null,!0)),t.push(new on("cacheControl",null,!0)),t.push(new on("contentDisposition",null,!0)),t.push(new on("contentEncoding",null,!0)),t.push(new on("contentLanguage",null,!0)),t.push(new on("contentType",null,!0)),t.push(new on("metadata","customMetadata",!0)),op=t,op}function kz(t,e){function r(){const n=t.bucket,i=t.fullPath,a=new Hn(n,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:r})}function Iz(t,e,r){const n={};n.type="file";const i=r.length;for(let a=0;a<i;a++){const s=r[a];n[s.local]=s.xform(n,e[s.server])}return kz(n,t),n}function nL(t,e,r){const n=eL(e);return n===null?null:Iz(t,n,r)}function Oz(t,e,r,n){const i=eL(e);if(i===null||!OE(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const s=encodeURIComponent;return a.split(",").map(f=>{const h=t.bucket,m=t.fullPath,y="/b/"+s(h)+"/o/"+s(m),v=RE(y,r,n),E=XD({alt:"media",token:f});return v+E})[0]}function Cz(t,e){const r={},n=e.length;for(let i=0;i<n;i++){const a=e[i];a.writable&&(r[a.server]=t[a.local])}return JSON.stringify(r)}class iL{constructor(e,r,n,i){this.url=e,this.method=r,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aL(t){if(!t)throw IE()}function Rz(t,e){function r(n,i){const a=nL(t,i,e);return aL(a!==null),a}return r}function Nz(t,e){function r(n,i){const a=nL(t,i,e);return aL(a!==null),Oz(a,i,t.host,t._protocol)}return r}function oL(t){function e(r,n){let i;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?i=H9():i=W9():r.getStatus()===402?i=z9(t.bucket):r.getStatus()===403?i=K9(t.path):i=n,i.status=r.getStatus(),i.serverResponse=n.serverResponse,i}return e}function jz(t){const e=oL(t);function r(n,i){let a=e(n,i);return n.getStatus()===404&&(a=q9(t.path)),a.serverResponse=i.serverResponse,a}return r}function Mz(t,e,r){const n=e.fullServerUrl(),i=RE(n,t.host,t._protocol),a="GET",s=t.maxOperationRetryTime,u=new iL(i,a,Nz(t,r),s);return u.errorHandler=jz(e),u}function Dz(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Lz(t,e,r){const n=Object.assign({},r);return n.fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=Dz(null,e)),n}function $z(t,e,r,n,i){const a=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function u(){let R="";for(let $=0;$<2;$++)R=R+Math.random().toString().slice(2);return R}const c=u();s["Content-Type"]="multipart/related; boundary="+c;const f=Lz(e,n,i),h=Cz(f,r),m="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+c+`\r
Content-Type: `+f.contentType+`\r
\r
`,y=`\r
--`+c+"--",v=Fo.getBlob(m,n,y);if(v===null)throw Z9();const E={name:f.fullPath},w=RE(a,t.host,t._protocol),x="POST",O=t.maxUploadRetryTime,C=new iL(w,x,Rz(t,r),O);return C.urlParams=E,C.headers=s,C.body=v.uploadData(),C.errorHandler=oL(e),C}class Fz{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Bs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Bs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Bs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,n,i){if(this.sent_)throw Uc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,e,!0),i!==void 0)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return n!==void 0?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Uc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Uc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Uc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Uc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Vz extends Fz{initXhr(){this.xhr_.responseType="text"}}function sL(){return new Vz}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,r){this._service=e,r instanceof Hn?this._location=r:this._location=Hn.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new Qs(e,r)}get root(){const e=new Hn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return tL(this._location.path)}get storage(){return this._service}get parent(){const e=Sz(this._location.path);if(e===null)return null;const r=new Hn(this._location.bucket,e);return new Qs(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw rz(e)}}function Uz(t,e,r){t._throwIfRoot("uploadBytes");const n=$z(t.storage,t._location,rL(),new Fo(e,!0),r);return t.storage.makeRequestWithTokens(n,sL).then(i=>({metadata:i,ref:t}))}function Bz(t){t._throwIfRoot("getDownloadURL");const e=Mz(t.storage,t._location,rL());return t.storage.makeRequestWithTokens(e,sL).then(r=>{if(r===null)throw ez();return r})}function qz(t,e){const r=Tz(t._location.path,e),n=new Hn(t._location.bucket,r);return new Qs(t.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zz(t){return/^[A-Za-z]+:\/\//.test(t)}function Wz(t,e){return new Qs(t,e)}function lL(t,e){if(t instanceof NE){const r=t;if(r._bucket==null)throw J9();const n=new Qs(r,r._bucket);return e!=null?lL(n,e):n}else return e!==void 0?qz(t,e):t}function Hz(t,e){if(e&&zz(e)){if(t instanceof NE)return Wz(t,e);throw hw("To use ref(service, url), the first argument must be a Storage instance.")}else return lL(t,e)}function _k(t,e){const r=e?.[GD];return r==null?null:Hn.makeFromBucketSpec(r,t)}function Kz(t,e,r,n={}){t.host=`${e}:${r}`,t._protocol="http";const{mockUserToken:i}=n;i&&(t._overrideAuthToken=typeof i=="string"?i:D2(i,t.app.options.projectId))}class NE{constructor(e,r,n,i,a){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=KD,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=U9,this._maxUploadRetryTime=B9,this._requests=new Set,i!=null?this._bucket=Hn.makeFromBucketSpec(i,this._host):this._bucket=_k(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Hn.makeFromBucketSpec(this._url,e):this._bucket=_k(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){bk("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){bk("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Qs(this,e)}_makeRequest(e,r,n,i,a=!0){if(this._deleted)return new nz(YD());{const s=pz(e,this._appId,n,i,r,this._firebaseVersion,a);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const xk="@firebase/storage",wk="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL="storage";function Gz(t,e,r){return t=Dt(t),Uz(t,e,r)}function Yz(t){return t=Dt(t),Bz(t)}function Xz(t,e){return t=Dt(t),Hz(t,e)}function Qz(t=$1(),e){t=Dt(t);const n=Hm(t,uL).getImmediate({identifier:e}),i=N2("storage");return i&&Jz(n,...i),n}function Jz(t,e,r,n={}){Kz(t,e,r,n)}function Zz(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new NE(r,n,i,e,il)}function e8(){Ws(new Go(uL,Zz,"PUBLIC").setMultipleInstances(!0)),na(xk,wk,""),na(xk,wk,"esm2017")}e8();function cL(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=cL(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function et(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=cL(t))&&(n&&(n+=" "),n+=e);return n}var Vv,Ek;function Sn(){if(Ek)return Vv;Ek=1;var t=Array.isArray;return Vv=t,Vv}var Uv,Sk;function fL(){if(Sk)return Uv;Sk=1;var t=typeof Qh=="object"&&Qh&&Qh.Object===Object&&Qh;return Uv=t,Uv}var Bv,Tk;function ma(){if(Tk)return Bv;Tk=1;var t=fL(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return Bv=r,Bv}var qv,Ak;function Cd(){if(Ak)return qv;Ak=1;var t=ma(),e=t.Symbol;return qv=e,qv}var zv,Pk;function t8(){if(Pk)return zv;Pk=1;var t=Cd(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function a(s){var u=r.call(s,i),c=s[i];try{s[i]=void 0;var f=!0}catch{}var h=n.call(s);return f&&(u?s[i]=c:delete s[i]),h}return zv=a,zv}var Wv,kk;function r8(){if(kk)return Wv;kk=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return Wv=r,Wv}var Hv,Ik;function no(){if(Ik)return Hv;Ik=1;var t=Cd(),e=t8(),r=r8(),n="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function s(u){return u==null?u===void 0?i:n:a&&a in Object(u)?e(u):r(u)}return Hv=s,Hv}var Kv,Ok;function io(){if(Ok)return Kv;Ok=1;function t(e){return e!=null&&typeof e=="object"}return Kv=t,Kv}var Gv,Ck;function Ju(){if(Ck)return Gv;Ck=1;var t=no(),e=io(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return Gv=n,Gv}var Yv,Rk;function jE(){if(Rk)return Yv;Rk=1;var t=Sn(),e=Ju(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){if(t(a))return!1;var u=typeof a;return u=="number"||u=="symbol"||u=="boolean"||a==null||e(a)?!0:n.test(a)||!r.test(a)||s!=null&&a in Object(s)}return Yv=i,Yv}var Xv,Nk;function rs(){if(Nk)return Xv;Nk=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return Xv=t,Xv}var Qv,jk;function ME(){if(jk)return Qv;jk=1;var t=no(),e=rs(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function s(u){if(!e(u))return!1;var c=t(u);return c==n||c==i||c==r||c==a}return Qv=s,Qv}var Jv,Mk;function n8(){if(Mk)return Jv;Mk=1;var t=ma(),e=t["__core-js_shared__"];return Jv=e,Jv}var Zv,Dk;function i8(){if(Dk)return Zv;Dk=1;var t=n8(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!e&&e in n}return Zv=r,Zv}var e0,Lk;function dL(){if(Lk)return e0;Lk=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return e0=r,e0}var t0,$k;function a8(){if($k)return t0;$k=1;var t=ME(),e=i8(),r=rs(),n=dL(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,s=Function.prototype,u=Object.prototype,c=s.toString,f=u.hasOwnProperty,h=RegExp("^"+c.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(y){if(!r(y)||e(y))return!1;var v=t(y)?h:a;return v.test(n(y))}return t0=m,t0}var r0,Fk;function o8(){if(Fk)return r0;Fk=1;function t(e,r){return e?.[r]}return r0=t,r0}var n0,Vk;function ul(){if(Vk)return n0;Vk=1;var t=a8(),e=o8();function r(n,i){var a=e(n,i);return t(a)?a:void 0}return n0=r,n0}var i0,Uk;function fg(){if(Uk)return i0;Uk=1;var t=ul(),e=t(Object,"create");return i0=e,i0}var a0,Bk;function s8(){if(Bk)return a0;Bk=1;var t=fg();function e(){this.__data__=t?t(null):{},this.size=0}return a0=e,a0}var o0,qk;function l8(){if(qk)return o0;qk=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return o0=t,o0}var s0,zk;function u8(){if(zk)return s0;zk=1;var t=fg(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(a){var s=this.__data__;if(t){var u=s[a];return u===e?void 0:u}return n.call(s,a)?s[a]:void 0}return s0=i,s0}var l0,Wk;function c8(){if(Wk)return l0;Wk=1;var t=fg(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var a=this.__data__;return t?a[i]!==void 0:r.call(a,i)}return l0=n,l0}var u0,Hk;function f8(){if(Hk)return u0;Hk=1;var t=fg(),e="__lodash_hash_undefined__";function r(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=t&&i===void 0?e:i,this}return u0=r,u0}var c0,Kk;function d8(){if(Kk)return c0;Kk=1;var t=s8(),e=l8(),r=u8(),n=c8(),i=f8();function a(s){var u=-1,c=s==null?0:s.length;for(this.clear();++u<c;){var f=s[u];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,c0=a,c0}var f0,Gk;function h8(){if(Gk)return f0;Gk=1;function t(){this.__data__=[],this.size=0}return f0=t,f0}var d0,Yk;function DE(){if(Yk)return d0;Yk=1;function t(e,r){return e===r||e!==e&&r!==r}return d0=t,d0}var h0,Xk;function dg(){if(Xk)return h0;Xk=1;var t=DE();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return h0=e,h0}var p0,Qk;function p8(){if(Qk)return p0;Qk=1;var t=dg(),e=Array.prototype,r=e.splice;function n(i){var a=this.__data__,s=t(a,i);if(s<0)return!1;var u=a.length-1;return s==u?a.pop():r.call(a,s,1),--this.size,!0}return p0=n,p0}var m0,Jk;function m8(){if(Jk)return m0;Jk=1;var t=dg();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return m0=e,m0}var g0,Zk;function g8(){if(Zk)return g0;Zk=1;var t=dg();function e(r){return t(this.__data__,r)>-1}return g0=e,g0}var y0,eI;function y8(){if(eI)return y0;eI=1;var t=dg();function e(r,n){var i=this.__data__,a=t(i,r);return a<0?(++this.size,i.push([r,n])):i[a][1]=n,this}return y0=e,y0}var v0,tI;function hg(){if(tI)return v0;tI=1;var t=h8(),e=p8(),r=m8(),n=g8(),i=y8();function a(s){var u=-1,c=s==null?0:s.length;for(this.clear();++u<c;){var f=s[u];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,v0=a,v0}var b0,rI;function LE(){if(rI)return b0;rI=1;var t=ul(),e=ma(),r=t(e,"Map");return b0=r,b0}var _0,nI;function v8(){if(nI)return _0;nI=1;var t=d8(),e=hg(),r=LE();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return _0=n,_0}var x0,iI;function b8(){if(iI)return x0;iI=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return x0=t,x0}var w0,aI;function pg(){if(aI)return w0;aI=1;var t=b8();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return w0=e,w0}var E0,oI;function _8(){if(oI)return E0;oI=1;var t=pg();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return E0=e,E0}var S0,sI;function x8(){if(sI)return S0;sI=1;var t=pg();function e(r){return t(this,r).get(r)}return S0=e,S0}var T0,lI;function w8(){if(lI)return T0;lI=1;var t=pg();function e(r){return t(this,r).has(r)}return T0=e,T0}var A0,uI;function E8(){if(uI)return A0;uI=1;var t=pg();function e(r,n){var i=t(this,r),a=i.size;return i.set(r,n),this.size+=i.size==a?0:1,this}return A0=e,A0}var P0,cI;function $E(){if(cI)return P0;cI=1;var t=v8(),e=_8(),r=x8(),n=w8(),i=E8();function a(s){var u=-1,c=s==null?0:s.length;for(this.clear();++u<c;){var f=s[u];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,P0=a,P0}var k0,fI;function hL(){if(fI)return k0;fI=1;var t=$E(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var s=arguments,u=i?i.apply(this,s):s[0],c=a.cache;if(c.has(u))return c.get(u);var f=n.apply(this,s);return a.cache=c.set(u,f)||c,f};return a.cache=new(r.Cache||t),a}return r.Cache=t,k0=r,k0}var I0,dI;function S8(){if(dI)return I0;dI=1;var t=hL(),e=500;function r(n){var i=t(n,function(s){return a.size===e&&a.clear(),s}),a=i.cache;return i}return I0=r,I0}var O0,hI;function T8(){if(hI)return O0;hI=1;var t=S8(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(s,u,c,f){a.push(c?f.replace(r,"$1"):u||s)}),a});return O0=n,O0}var C0,pI;function FE(){if(pI)return C0;pI=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=Array(i);++n<i;)a[n]=r(e[n],n,e);return a}return C0=t,C0}var R0,mI;function A8(){if(mI)return R0;mI=1;var t=Cd(),e=FE(),r=Sn(),n=Ju(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function s(u){if(typeof u=="string")return u;if(r(u))return e(u,s)+"";if(n(u))return a?a.call(u):"";var c=u+"";return c=="0"&&1/u==-1/0?"-0":c}return R0=s,R0}var N0,gI;function pL(){if(gI)return N0;gI=1;var t=A8();function e(r){return r==null?"":t(r)}return N0=e,N0}var j0,yI;function mL(){if(yI)return j0;yI=1;var t=Sn(),e=jE(),r=T8(),n=pL();function i(a,s){return t(a)?a:e(a,s)?[a]:r(n(a))}return j0=i,j0}var M0,vI;function mg(){if(vI)return M0;vI=1;var t=Ju();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return M0=e,M0}var D0,bI;function VE(){if(bI)return D0;bI=1;var t=mL(),e=mg();function r(n,i){i=t(i,n);for(var a=0,s=i.length;n!=null&&a<s;)n=n[e(i[a++])];return a&&a==s?n:void 0}return D0=r,D0}var L0,_I;function gL(){if(_I)return L0;_I=1;var t=VE();function e(r,n,i){var a=r==null?void 0:t(r,n);return a===void 0?i:a}return L0=e,L0}var P8=gL();const Gn=vt(P8);var $0,xI;function k8(){if(xI)return $0;xI=1;function t(e){return e==null}return $0=t,$0}var I8=k8();const Je=vt(I8);var F0,wI;function O8(){if(wI)return F0;wI=1;var t=no(),e=Sn(),r=io(),n="[object String]";function i(a){return typeof a=="string"||!e(a)&&r(a)&&t(a)==n}return F0=i,F0}var C8=O8();const Js=vt(C8);var R8=ME();const Ye=vt(R8);var N8=rs();const Zu=vt(N8);var V0={exports:{}},gt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EI;function j8(){if(EI)return gt;EI=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),u=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),E;E=Symbol.for("react.module.reference");function w(x){if(typeof x=="object"&&x!==null){var O=x.$$typeof;switch(O){case t:switch(x=x.type,x){case r:case i:case n:case f:case h:return x;default:switch(x=x&&x.$$typeof,x){case u:case s:case c:case y:case m:case a:return x;default:return O}}case e:return O}}}return gt.ContextConsumer=s,gt.ContextProvider=a,gt.Element=t,gt.ForwardRef=c,gt.Fragment=r,gt.Lazy=y,gt.Memo=m,gt.Portal=e,gt.Profiler=i,gt.StrictMode=n,gt.Suspense=f,gt.SuspenseList=h,gt.isAsyncMode=function(){return!1},gt.isConcurrentMode=function(){return!1},gt.isContextConsumer=function(x){return w(x)===s},gt.isContextProvider=function(x){return w(x)===a},gt.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===t},gt.isForwardRef=function(x){return w(x)===c},gt.isFragment=function(x){return w(x)===r},gt.isLazy=function(x){return w(x)===y},gt.isMemo=function(x){return w(x)===m},gt.isPortal=function(x){return w(x)===e},gt.isProfiler=function(x){return w(x)===i},gt.isStrictMode=function(x){return w(x)===n},gt.isSuspense=function(x){return w(x)===f},gt.isSuspenseList=function(x){return w(x)===h},gt.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===r||x===i||x===n||x===f||x===h||x===v||typeof x=="object"&&x!==null&&(x.$$typeof===y||x.$$typeof===m||x.$$typeof===a||x.$$typeof===s||x.$$typeof===c||x.$$typeof===E||x.getModuleId!==void 0)},gt.typeOf=w,gt}var SI;function M8(){return SI||(SI=1,V0.exports=j8()),V0.exports}var D8=M8(),U0,TI;function yL(){if(TI)return U0;TI=1;var t=no(),e=io(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return U0=n,U0}var B0,AI;function L8(){if(AI)return B0;AI=1;var t=yL();function e(r){return t(r)&&r!=+r}return B0=e,B0}var $8=L8();const Rd=vt($8);var F8=yL();const V8=vt(F8);var sn=function(e){return e===0?0:e>0?1:-1},Ls=function(e){return Js(e)&&e.indexOf("%")===e.length-1},ve=function(e){return V8(e)&&!Rd(e)},U8=function(e){return Je(e)},vr=function(e){return ve(e)||Js(e)},B8=0,ec=function(e){var r=++B8;return"".concat(e||"").concat(r)},ln=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ve(e)&&!Js(e))return n;var a;if(Ls(e)){var s=e.indexOf("%");a=r*parseFloat(e.slice(0,s))/100}else a=+e;return Rd(a)&&(a=n),i&&a>r&&(a=r),a},Vo=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},q8=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},qn=function(e,r){return ve(e)&&ve(r)?function(n){return e+n*(r-e)}:function(){return r}};function Hp(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Gn(n,e))===r})}var z8=function(e,r){return ve(e)&&ve(r)?e-r:Js(e)&&Js(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function du(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function pw(t){"@babel/helpers - typeof";return pw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pw(t)}var W8=["viewBox","children"],H8=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],PI=["points","pathLength"],q0={svg:W8,polygon:PI,polyline:PI},UE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Kp=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(G.isValidElement(e)&&(n=e.props),!Zu(n))return null;var i={};return Object.keys(n).forEach(function(a){UE.includes(a)&&(i[a]=r||function(s){return n[a](n,s)})}),i},K8=function(e,r,n){return function(i){return e(r,n,i),null}},Zs=function(e,r,n){if(!Zu(e)||pw(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];UE.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=K8(s,r,n))}),i},G8=["children"],Y8=["children"];function kI(t,e){if(t==null)return{};var r=X8(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function X8(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function mw(t){"@babel/helpers - typeof";return mw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mw(t)}var II={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Wa=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},OI=null,z0=null,BE=function t(e){if(e===OI&&Array.isArray(z0))return z0;var r=[];return G.Children.forEach(e,function(n){Je(n)||(D8.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),z0=r,OI=e,r};function Yn(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Wa(i)}):n=[Wa(e)],BE(t).forEach(function(i){var a=Gn(i,"type.displayName")||Gn(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function Un(t,e){var r=Yn(t,e);return r&&r[0]}var CI=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!ve(n)||n<=0||!ve(i)||i<=0)},Q8=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],J8=function(e){return e&&e.type&&Js(e.type)&&Q8.indexOf(e.type)>=0},Z8=function(e){return e&&mw(e)==="object"&&"clipDot"in e},e7=function(e,r,n,i){var a,s=(a=q0?.[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!Ye(e)&&(i&&s.includes(r)||H8.includes(r))||n&&UE.includes(r)},qe=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(G.isValidElement(e)&&(i=e.props),!Zu(i))return null;var a={};return Object.keys(i).forEach(function(s){var u;e7((u=i)===null||u===void 0?void 0:u[s],s,r,n)&&(a[s]=i[s])}),a},gw=function t(e,r){if(e===r)return!0;var n=G.Children.count(e);if(n!==G.Children.count(r))return!1;if(n===0)return!0;if(n===1)return RI(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],s=r[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!RI(a,s))return!1}return!0},RI=function(e,r){if(Je(e)&&Je(r))return!0;if(!Je(e)&&!Je(r)){var n=e.props||{},i=n.children,a=kI(n,G8),s=r.props||{},u=s.children,c=kI(s,Y8);return i&&u?du(a,c)&&gw(i,u):!i&&!u?du(a,c):!1}return!1},NI=function(e,r){var n=[],i={};return BE(e).forEach(function(a,s){if(J8(a))n.push(a);else if(a){var u=Wa(a.type),c=r[u]||{},f=c.handler,h=c.once;if(f&&(!h||!i[u])){var m=f(a,u,s);n.push(m),i[u]=!0}}}),n},t7=function(e){var r=e&&e.type;return r&&II[r]?II[r]:null},r7=function(e,r){return BE(r).indexOf(e)},n7=["children","width","height","viewBox","className","style","title","desc"];function yw(){return yw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yw.apply(this,arguments)}function i7(t,e){if(t==null)return{};var r=a7(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function a7(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function vw(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,s=t.style,u=t.title,c=t.desc,f=i7(t,n7),h=i||{width:r,height:n,x:0,y:0},m=et("recharts-surface",a);return z.createElement("svg",yw({},qe(f,!0,"svg"),{className:m,width:r,height:n,style:s,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),z.createElement("title",null,u),z.createElement("desc",null,c),e)}var o7=["children","className"];function bw(){return bw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bw.apply(this,arguments)}function s7(t,e){if(t==null)return{};var r=l7(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function l7(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var ht=z.forwardRef(function(t,e){var r=t.children,n=t.className,i=s7(t,o7),a=et("recharts-layer",n);return z.createElement("g",bw({className:a},qe(i,!0),{ref:e}),r)}),Mi=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]},W0,jI;function u7(){if(jI)return W0;jI=1;function t(e,r,n){var i=-1,a=e.length;r<0&&(r=-r>a?0:a+r),n=n>a?a:n,n<0&&(n+=a),a=r>n?0:n-r>>>0,r>>>=0;for(var s=Array(a);++i<a;)s[i]=e[i+r];return s}return W0=t,W0}var H0,MI;function c7(){if(MI)return H0;MI=1;var t=u7();function e(r,n,i){var a=r.length;return i=i===void 0?a:i,!n&&i>=a?r:t(r,n,i)}return H0=e,H0}var K0,DI;function vL(){if(DI)return K0;DI=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",s="\\u200d",u=RegExp("["+s+t+i+a+"]");function c(f){return u.test(f)}return K0=c,K0}var G0,LI;function f7(){if(LI)return G0;LI=1;function t(e){return e.split("")}return G0=t,G0}var Y0,$I;function d7(){if($I)return Y0;$I=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",s="["+t+"]",u="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",f="(?:"+u+"|"+c+")",h="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",E=f+"?",w="["+a+"]?",x="(?:"+v+"(?:"+[h,m,y].join("|")+")"+w+E+")*",O=w+E+x,C="(?:"+[h+u+"?",u,m,y,s].join("|")+")",R=RegExp(c+"(?="+c+")|"+C+O,"g");function $(I){return I.match(R)||[]}return Y0=$,Y0}var X0,FI;function h7(){if(FI)return X0;FI=1;var t=f7(),e=vL(),r=d7();function n(i){return e(i)?r(i):t(i)}return X0=n,X0}var Q0,VI;function p7(){if(VI)return Q0;VI=1;var t=c7(),e=vL(),r=h7(),n=pL();function i(a){return function(s){s=n(s);var u=e(s)?r(s):void 0,c=u?u[0]:s.charAt(0),f=u?t(u,1).join(""):s.slice(1);return c[a]()+f}}return Q0=i,Q0}var J0,UI;function m7(){if(UI)return J0;UI=1;var t=p7(),e=t("toUpperCase");return J0=e,J0}var g7=m7();const gg=vt(g7);function Ot(t){return function(){return t}}const bL=Math.cos,Gp=Math.sin,Vi=Math.sqrt,Yp=Math.PI,yg=2*Yp,_w=Math.PI,xw=2*_w,Ns=1e-6,y7=xw-Ns;function _L(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function v7(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return _L;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class b7{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?_L:v7(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,s){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,u=this._y1,c=n-e,f=i-r,h=s-e,m=u-r,y=h*h+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(y>Ns)if(!(Math.abs(m*c-f*h)>Ns)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let v=n-s,E=i-u,w=c*c+f*f,x=v*v+E*E,O=Math.sqrt(w),C=Math.sqrt(y),R=a*Math.tan((_w-Math.acos((w+y-x)/(2*O*C)))/2),$=R/C,I=R/O;Math.abs($-1)>Ns&&this._append`L${e+$*h},${r+$*m}`,this._append`A${a},${a},0,0,${+(m*v>h*E)},${this._x1=e+I*c},${this._y1=r+I*f}`}}arc(e,r,n,i,a,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(i),c=n*Math.sin(i),f=e+u,h=r+c,m=1^s,y=s?i-a:a-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>Ns||Math.abs(this._y1-h)>Ns)&&this._append`L${f},${h}`,n&&(y<0&&(y=y%xw+xw),y>y7?this._append`A${n},${n},0,1,${m},${e-u},${r-c}A${n},${n},0,1,${m},${this._x1=f},${this._y1=h}`:y>Ns&&this._append`A${n},${n},0,${+(y>=_w)},${m},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function qE(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new b7(e)}function zE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function xL(t){this._context=t}xL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function vg(t){return new xL(t)}function wL(t){return t[0]}function EL(t){return t[1]}function SL(t,e){var r=Ot(!0),n=null,i=vg,a=null,s=qE(u);t=typeof t=="function"?t:t===void 0?wL:Ot(t),e=typeof e=="function"?e:e===void 0?EL:Ot(e);function u(c){var f,h=(c=zE(c)).length,m,y=!1,v;for(n==null&&(a=i(v=s())),f=0;f<=h;++f)!(f<h&&r(m=c[f],f,c))===y&&((y=!y)?a.lineStart():a.lineEnd()),y&&a.point(+t(m,f,c),+e(m,f,c));if(v)return a=null,v+""||null}return u.x=function(c){return arguments.length?(t=typeof c=="function"?c:Ot(+c),u):t},u.y=function(c){return arguments.length?(e=typeof c=="function"?c:Ot(+c),u):e},u.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ot(!!c),u):r},u.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),u):i},u.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),u):n},u}function sp(t,e,r){var n=null,i=Ot(!0),a=null,s=vg,u=null,c=qE(f);t=typeof t=="function"?t:t===void 0?wL:Ot(+t),e=typeof e=="function"?e:Ot(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?EL:Ot(+r);function f(m){var y,v,E,w=(m=zE(m)).length,x,O=!1,C,R=new Array(w),$=new Array(w);for(a==null&&(u=s(C=c())),y=0;y<=w;++y){if(!(y<w&&i(x=m[y],y,m))===O)if(O=!O)v=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),E=y-1;E>=v;--E)u.point(R[E],$[E]);u.lineEnd(),u.areaEnd()}O&&(R[y]=+t(x,y,m),$[y]=+e(x,y,m),u.point(n?+n(x,y,m):R[y],r?+r(x,y,m):$[y]))}if(C)return u=null,C+""||null}function h(){return SL().defined(i).curve(s).context(a)}return f.x=function(m){return arguments.length?(t=typeof m=="function"?m:Ot(+m),n=null,f):t},f.x0=function(m){return arguments.length?(t=typeof m=="function"?m:Ot(+m),f):t},f.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Ot(+m),f):n},f.y=function(m){return arguments.length?(e=typeof m=="function"?m:Ot(+m),r=null,f):e},f.y0=function(m){return arguments.length?(e=typeof m=="function"?m:Ot(+m),f):e},f.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Ot(+m),f):r},f.lineX0=f.lineY0=function(){return h().x(t).y(e)},f.lineY1=function(){return h().x(t).y(r)},f.lineX1=function(){return h().x(n).y(e)},f.defined=function(m){return arguments.length?(i=typeof m=="function"?m:Ot(!!m),f):i},f.curve=function(m){return arguments.length?(s=m,a!=null&&(u=s(a)),f):s},f.context=function(m){return arguments.length?(m==null?a=u=null:u=s(a=m),f):a},f}class TL{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function _7(t){return new TL(t,!0)}function x7(t){return new TL(t,!1)}const WE={draw(t,e){const r=Vi(e/Yp);t.moveTo(r,0),t.arc(0,0,r,0,yg)}},w7={draw(t,e){const r=Vi(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},AL=Vi(1/3),E7=AL*2,S7={draw(t,e){const r=Vi(e/E7),n=r*AL;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},T7={draw(t,e){const r=Vi(e),n=-r/2;t.rect(n,n,r,r)}},A7=.8908130915292852,PL=Gp(Yp/10)/Gp(7*Yp/10),P7=Gp(yg/10)*PL,k7=-bL(yg/10)*PL,I7={draw(t,e){const r=Vi(e*A7),n=P7*r,i=k7*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const s=yg*a/5,u=bL(s),c=Gp(s);t.lineTo(c*r,-u*r),t.lineTo(u*n-c*i,c*n+u*i)}t.closePath()}},Z0=Vi(3),O7={draw(t,e){const r=-Vi(e/(Z0*3));t.moveTo(0,r*2),t.lineTo(-Z0*r,-r),t.lineTo(Z0*r,-r),t.closePath()}},si=-.5,li=Vi(3)/2,ww=1/Vi(12),C7=(ww/2+1)*3,R7={draw(t,e){const r=Vi(e/C7),n=r/2,i=r*ww,a=n,s=r*ww+r,u=-a,c=s;t.moveTo(n,i),t.lineTo(a,s),t.lineTo(u,c),t.lineTo(si*n-li*i,li*n+si*i),t.lineTo(si*a-li*s,li*a+si*s),t.lineTo(si*u-li*c,li*u+si*c),t.lineTo(si*n+li*i,si*i-li*n),t.lineTo(si*a+li*s,si*s-li*a),t.lineTo(si*u+li*c,si*c-li*u),t.closePath()}};function N7(t,e){let r=null,n=qE(i);t=typeof t=="function"?t:Ot(t||WE),e=typeof e=="function"?e:Ot(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Ot(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Ot(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Xp(){}function Qp(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function kL(t){this._context=t}kL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Qp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Qp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function j7(t){return new kL(t)}function IL(t){this._context=t}IL.prototype={areaStart:Xp,areaEnd:Xp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Qp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function M7(t){return new IL(t)}function OL(t){this._context=t}OL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Qp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function D7(t){return new OL(t)}function CL(t){this._context=t}CL.prototype={areaStart:Xp,areaEnd:Xp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function L7(t){return new CL(t)}function BI(t){return t<0?-1:1}function qI(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),s=(r-t._y1)/(i||n<0&&-0),u=(a*i+s*n)/(n+i);return(BI(a)+BI(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(u))||0}function zI(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function eb(t,e,r){var n=t._x0,i=t._y0,a=t._x1,s=t._y1,u=(a-n)/3;t._context.bezierCurveTo(n+u,i+u*e,a-u,s-u*r,a,s)}function Jp(t){this._context=t}Jp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:eb(this,this._t0,zI(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,eb(this,zI(this,r=qI(this,t,e)),r);break;default:eb(this,this._t0,r=qI(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function RL(t){this._context=new NL(t)}(RL.prototype=Object.create(Jp.prototype)).point=function(t,e){Jp.prototype.point.call(this,e,t)};function NL(t){this._context=t}NL.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function $7(t){return new Jp(t)}function F7(t){return new RL(t)}function jL(t){this._context=t}jL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=WI(t),i=WI(e),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function WI(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,s[e]-=n*s[e-1];for(i[r-1]=s[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function V7(t){return new jL(t)}function bg(t,e){this._context=t,this._t=e}bg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function U7(t){return new bg(t,.5)}function B7(t){return new bg(t,0)}function q7(t){return new bg(t,1)}function Eu(t,e){if((s=t.length)>1)for(var r=1,n,i,a=t[e[0]],s,u=a.length;r<s;++r)for(i=a,a=t[e[r]],n=0;n<u;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Ew(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function z7(t,e){return t[e]}function W7(t){const e=[];return e.key=t,e}function H7(){var t=Ot([]),e=Ew,r=Eu,n=z7;function i(a){var s=Array.from(t.apply(this,arguments),W7),u,c=s.length,f=-1,h;for(const m of a)for(u=0,++f;u<c;++u)(s[u][f]=[0,+n(m,s[u].key,f,a)]).data=m;for(u=0,h=zE(e(s));u<c;++u)s[h[u]].index=u;return r(s,h),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Ot(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Ot(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?Ew:typeof a=="function"?a:Ot(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??Eu,i):r},i}function K7(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=t[r][i][1]||0;if(s)for(r=0;r<n;++r)t[r][i][1]/=s}Eu(t,e)}}function G7(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var s=0,u=0;s<i;++s)u+=t[s][r][1]||0;n[r][1]+=n[r][0]=-u/2}Eu(t,e)}}function Y7(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var u=0,c=0,f=0;u<s;++u){for(var h=t[e[u]],m=h[n][1]||0,y=h[n-1][1]||0,v=(m-y)/2,E=0;E<u;++E){var w=t[e[E]],x=w[n][1]||0,O=w[n-1][1]||0;v+=x-O}c+=m,f+=v*m}i[n-1][1]+=i[n-1][0]=r,c&&(r-=f/c)}i[n-1][1]+=i[n-1][0]=r,Eu(t,e)}}function Rf(t){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rf(t)}var X7=["type","size","sizeType"];function Sw(){return Sw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sw.apply(this,arguments)}function HI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function KI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HI(Object(r),!0).forEach(function(n){Q7(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Q7(t,e,r){return e=J7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function J7(t){var e=Z7(t,"string");return Rf(e)=="symbol"?e:e+""}function Z7(t,e){if(Rf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eW(t,e){if(t==null)return{};var r=tW(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var ML={symbolCircle:WE,symbolCross:w7,symbolDiamond:S7,symbolSquare:T7,symbolStar:I7,symbolTriangle:O7,symbolWye:R7},rW=Math.PI/180,nW=function(e){var r="symbol".concat(gg(e));return ML[r]||WE},iW=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*rW;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},aW=function(e,r){ML["symbol".concat(gg(e))]=r},HE=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,s=e.sizeType,u=s===void 0?"area":s,c=eW(e,X7),f=KI(KI({},c),{},{type:n,size:a,sizeType:u}),h=function(){var x=nW(n),O=N7().type(x).size(iW(a,u,n));return O()},m=f.className,y=f.cx,v=f.cy,E=qe(f,!0);return y===+y&&v===+v&&a===+a?z.createElement("path",Sw({},E,{className:et("recharts-symbols",m),transform:"translate(".concat(y,", ").concat(v,")"),d:h()})):null};HE.registerSymbol=aW;function Su(t){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Su(t)}function Tw(){return Tw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tw.apply(this,arguments)}function GI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function oW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GI(Object(r),!0).forEach(function(n){Nf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,LL(n.key),n)}}function uW(t,e,r){return e&&lW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cW(t,e,r){return e=Zp(e),fW(t,DL()?Reflect.construct(e,r||[],Zp(t).constructor):e.apply(t,r))}function fW(t,e){if(e&&(Su(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dW(t)}function dW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DL=function(){return!!t})()}function Zp(t){return Zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zp(t)}function hW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Aw(t,e)}function Aw(t,e){return Aw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Aw(t,e)}function Nf(t,e,r){return e=LL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LL(t){var e=pW(t,"string");return Su(e)=="symbol"?e:e+""}function pW(t,e){if(Su(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ui=32,KE=function(t){function e(){return sW(this,e),cW(this,e,arguments)}return hW(e,t),uW(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=ui/2,s=ui/6,u=ui/3,c=n.inactive?i:n.color;if(n.type==="plainline")return z.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:ui,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return z.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(u,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*u,",").concat(a,`
            H`).concat(ui,"M").concat(2*u,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(u,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return z.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ui/8,"h").concat(ui,"v").concat(ui*3/4,"h").concat(-ui,"z"),className:"recharts-legend-icon"});if(z.isValidElement(n.legendIcon)){var f=oW({},n);return delete f.legendIcon,z.cloneElement(n.legendIcon,f)}return z.createElement(HE,{fill:c,cx:a,cy:a,size:ui,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,s=i.iconSize,u=i.layout,c=i.formatter,f=i.inactiveColor,h={x:0,y:0,width:ui,height:ui},m={display:u==="horizontal"?"inline-block":"block",marginRight:10},y={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(v,E){var w=v.formatter||c,x=et(Nf(Nf({"recharts-legend-item":!0},"legend-item-".concat(E),!0),"inactive",v.inactive));if(v.type==="none")return null;var O=Ye(v.value)?null:v.value;Mi(!Ye(v.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var C=v.inactive?f:v.color;return z.createElement("li",Tw({className:x,style:m,key:"legend-item-".concat(E)},Zs(n.props,v,E)),z.createElement(vw,{width:s,height:s,viewBox:h,style:y},n.renderIcon(v)),z.createElement("span",{className:"recharts-legend-item-text",style:{color:C}},w?w(O,v,E):O))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,s=n.align;if(!i||!i.length)return null;var u={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return z.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])}(G.PureComponent);Nf(KE,"displayName","Legend");Nf(KE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var tb,YI;function mW(){if(YI)return tb;YI=1;var t=hg();function e(){this.__data__=new t,this.size=0}return tb=e,tb}var rb,XI;function gW(){if(XI)return rb;XI=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return rb=t,rb}var nb,QI;function yW(){if(QI)return nb;QI=1;function t(e){return this.__data__.get(e)}return nb=t,nb}var ib,JI;function vW(){if(JI)return ib;JI=1;function t(e){return this.__data__.has(e)}return ib=t,ib}var ab,ZI;function bW(){if(ZI)return ab;ZI=1;var t=hg(),e=LE(),r=$E(),n=200;function i(a,s){var u=this.__data__;if(u instanceof t){var c=u.__data__;if(!e||c.length<n-1)return c.push([a,s]),this.size=++u.size,this;u=this.__data__=new r(c)}return u.set(a,s),this.size=u.size,this}return ab=i,ab}var ob,eO;function $L(){if(eO)return ob;eO=1;var t=hg(),e=mW(),r=gW(),n=yW(),i=vW(),a=bW();function s(u){var c=this.__data__=new t(u);this.size=c.size}return s.prototype.clear=e,s.prototype.delete=r,s.prototype.get=n,s.prototype.has=i,s.prototype.set=a,ob=s,ob}var sb,tO;function _W(){if(tO)return sb;tO=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return sb=e,sb}var lb,rO;function xW(){if(rO)return lb;rO=1;function t(e){return this.__data__.has(e)}return lb=t,lb}var ub,nO;function FL(){if(nO)return ub;nO=1;var t=$E(),e=_W(),r=xW();function n(i){var a=-1,s=i==null?0:i.length;for(this.__data__=new t;++a<s;)this.add(i[a])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,ub=n,ub}var cb,iO;function VL(){if(iO)return cb;iO=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return cb=t,cb}var fb,aO;function UL(){if(aO)return fb;aO=1;function t(e,r){return e.has(r)}return fb=t,fb}var db,oO;function BL(){if(oO)return db;oO=1;var t=FL(),e=VL(),r=UL(),n=1,i=2;function a(s,u,c,f,h,m){var y=c&n,v=s.length,E=u.length;if(v!=E&&!(y&&E>v))return!1;var w=m.get(s),x=m.get(u);if(w&&x)return w==u&&x==s;var O=-1,C=!0,R=c&i?new t:void 0;for(m.set(s,u),m.set(u,s);++O<v;){var $=s[O],I=u[O];if(f)var j=y?f(I,$,O,u,s,m):f($,I,O,s,u,m);if(j!==void 0){if(j)continue;C=!1;break}if(R){if(!e(u,function(A,P){if(!r(R,P)&&($===A||h($,A,c,f,m)))return R.push(P)})){C=!1;break}}else if(!($===I||h($,I,c,f,m))){C=!1;break}}return m.delete(s),m.delete(u),C}return db=a,db}var hb,sO;function wW(){if(sO)return hb;sO=1;var t=ma(),e=t.Uint8Array;return hb=e,hb}var pb,lO;function EW(){if(lO)return pb;lO=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,a){n[++r]=[a,i]}),n}return pb=t,pb}var mb,uO;function GE(){if(uO)return mb;uO=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return mb=t,mb}var gb,cO;function SW(){if(cO)return gb;cO=1;var t=Cd(),e=wW(),r=DE(),n=BL(),i=EW(),a=GE(),s=1,u=2,c="[object Boolean]",f="[object Date]",h="[object Error]",m="[object Map]",y="[object Number]",v="[object RegExp]",E="[object Set]",w="[object String]",x="[object Symbol]",O="[object ArrayBuffer]",C="[object DataView]",R=t?t.prototype:void 0,$=R?R.valueOf:void 0;function I(j,A,P,N,F,D,V){switch(P){case C:if(j.byteLength!=A.byteLength||j.byteOffset!=A.byteOffset)return!1;j=j.buffer,A=A.buffer;case O:return!(j.byteLength!=A.byteLength||!D(new e(j),new e(A)));case c:case f:case y:return r(+j,+A);case h:return j.name==A.name&&j.message==A.message;case v:case w:return j==A+"";case m:var M=i;case E:var Z=N&s;if(M||(M=a),j.size!=A.size&&!Z)return!1;var ee=V.get(j);if(ee)return ee==A;N|=u,V.set(j,A);var re=n(M(j),M(A),N,F,D,V);return V.delete(j),re;case x:if($)return $.call(j)==$.call(A)}return!1}return gb=I,gb}var yb,fO;function qL(){if(fO)return yb;fO=1;function t(e,r){for(var n=-1,i=r.length,a=e.length;++n<i;)e[a+n]=r[n];return e}return yb=t,yb}var vb,dO;function TW(){if(dO)return vb;dO=1;var t=qL(),e=Sn();function r(n,i,a){var s=i(n);return e(n)?s:t(s,a(n))}return vb=r,vb}var bb,hO;function AW(){if(hO)return bb;hO=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=0,s=[];++n<i;){var u=e[n];r(u,n,e)&&(s[a++]=u)}return s}return bb=t,bb}var _b,pO;function PW(){if(pO)return _b;pO=1;function t(){return[]}return _b=t,_b}var xb,mO;function kW(){if(mO)return xb;mO=1;var t=AW(),e=PW(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(s){return s==null?[]:(s=Object(s),t(i(s),function(u){return n.call(s,u)}))}:e;return xb=a,xb}var wb,gO;function IW(){if(gO)return wb;gO=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return wb=t,wb}var Eb,yO;function OW(){if(yO)return Eb;yO=1;var t=no(),e=io(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return Eb=n,Eb}var Sb,vO;function YE(){if(vO)return Sb;vO=1;var t=OW(),e=io(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,a=t(function(){return arguments}())?t:function(s){return e(s)&&n.call(s,"callee")&&!i.call(s,"callee")};return Sb=a,Sb}var nf={exports:{}},Tb,bO;function CW(){if(bO)return Tb;bO=1;function t(){return!1}return Tb=t,Tb}nf.exports;var _O;function zL(){return _O||(_O=1,function(t,e){var r=ma(),n=CW(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,u=s?r.Buffer:void 0,c=u?u.isBuffer:void 0,f=c||n;t.exports=f}(nf,nf.exports)),nf.exports}var Ab,xO;function XE(){if(xO)return Ab;xO=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var a=typeof n;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return Ab=r,Ab}var Pb,wO;function QE(){if(wO)return Pb;wO=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return Pb=e,Pb}var kb,EO;function RW(){if(EO)return kb;EO=1;var t=no(),e=QE(),r=io(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",s="[object Date]",u="[object Error]",c="[object Function]",f="[object Map]",h="[object Number]",m="[object Object]",y="[object RegExp]",v="[object Set]",E="[object String]",w="[object WeakMap]",x="[object ArrayBuffer]",O="[object DataView]",C="[object Float32Array]",R="[object Float64Array]",$="[object Int8Array]",I="[object Int16Array]",j="[object Int32Array]",A="[object Uint8Array]",P="[object Uint8ClampedArray]",N="[object Uint16Array]",F="[object Uint32Array]",D={};D[C]=D[R]=D[$]=D[I]=D[j]=D[A]=D[P]=D[N]=D[F]=!0,D[n]=D[i]=D[x]=D[a]=D[O]=D[s]=D[u]=D[c]=D[f]=D[h]=D[m]=D[y]=D[v]=D[E]=D[w]=!1;function V(M){return r(M)&&e(M.length)&&!!D[t(M)]}return kb=V,kb}var Ib,SO;function WL(){if(SO)return Ib;SO=1;function t(e){return function(r){return e(r)}}return Ib=t,Ib}var af={exports:{}};af.exports;var TO;function NW(){return TO||(TO=1,function(t,e){var r=fL(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,s=a&&r.process,u=function(){try{var c=i&&i.require&&i.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();t.exports=u}(af,af.exports)),af.exports}var Ob,AO;function HL(){if(AO)return Ob;AO=1;var t=RW(),e=WL(),r=NW(),n=r&&r.isTypedArray,i=n?e(n):t;return Ob=i,Ob}var Cb,PO;function jW(){if(PO)return Cb;PO=1;var t=IW(),e=YE(),r=Sn(),n=zL(),i=XE(),a=HL(),s=Object.prototype,u=s.hasOwnProperty;function c(f,h){var m=r(f),y=!m&&e(f),v=!m&&!y&&n(f),E=!m&&!y&&!v&&a(f),w=m||y||v||E,x=w?t(f.length,String):[],O=x.length;for(var C in f)(h||u.call(f,C))&&!(w&&(C=="length"||v&&(C=="offset"||C=="parent")||E&&(C=="buffer"||C=="byteLength"||C=="byteOffset")||i(C,O)))&&x.push(C);return x}return Cb=c,Cb}var Rb,kO;function MW(){if(kO)return Rb;kO=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return Rb=e,Rb}var Nb,IO;function KL(){if(IO)return Nb;IO=1;function t(e,r){return function(n){return e(r(n))}}return Nb=t,Nb}var jb,OO;function DW(){if(OO)return jb;OO=1;var t=KL(),e=t(Object.keys,Object);return jb=e,jb}var Mb,CO;function LW(){if(CO)return Mb;CO=1;var t=MW(),e=DW(),r=Object.prototype,n=r.hasOwnProperty;function i(a){if(!t(a))return e(a);var s=[];for(var u in Object(a))n.call(a,u)&&u!="constructor"&&s.push(u);return s}return Mb=i,Mb}var Db,RO;function Nd(){if(RO)return Db;RO=1;var t=ME(),e=QE();function r(n){return n!=null&&e(n.length)&&!t(n)}return Db=r,Db}var Lb,NO;function _g(){if(NO)return Lb;NO=1;var t=jW(),e=LW(),r=Nd();function n(i){return r(i)?t(i):e(i)}return Lb=n,Lb}var $b,jO;function $W(){if(jO)return $b;jO=1;var t=TW(),e=kW(),r=_g();function n(i){return t(i,r,e)}return $b=n,$b}var Fb,MO;function FW(){if(MO)return Fb;MO=1;var t=$W(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(a,s,u,c,f,h){var m=u&e,y=t(a),v=y.length,E=t(s),w=E.length;if(v!=w&&!m)return!1;for(var x=v;x--;){var O=y[x];if(!(m?O in s:n.call(s,O)))return!1}var C=h.get(a),R=h.get(s);if(C&&R)return C==s&&R==a;var $=!0;h.set(a,s),h.set(s,a);for(var I=m;++x<v;){O=y[x];var j=a[O],A=s[O];if(c)var P=m?c(A,j,O,s,a,h):c(j,A,O,a,s,h);if(!(P===void 0?j===A||f(j,A,u,c,h):P)){$=!1;break}I||(I=O=="constructor")}if($&&!I){var N=a.constructor,F=s.constructor;N!=F&&"constructor"in a&&"constructor"in s&&!(typeof N=="function"&&N instanceof N&&typeof F=="function"&&F instanceof F)&&($=!1)}return h.delete(a),h.delete(s),$}return Fb=i,Fb}var Vb,DO;function VW(){if(DO)return Vb;DO=1;var t=ul(),e=ma(),r=t(e,"DataView");return Vb=r,Vb}var Ub,LO;function UW(){if(LO)return Ub;LO=1;var t=ul(),e=ma(),r=t(e,"Promise");return Ub=r,Ub}var Bb,$O;function GL(){if($O)return Bb;$O=1;var t=ul(),e=ma(),r=t(e,"Set");return Bb=r,Bb}var qb,FO;function BW(){if(FO)return qb;FO=1;var t=ul(),e=ma(),r=t(e,"WeakMap");return qb=r,qb}var zb,VO;function qW(){if(VO)return zb;VO=1;var t=VW(),e=LE(),r=UW(),n=GL(),i=BW(),a=no(),s=dL(),u="[object Map]",c="[object Object]",f="[object Promise]",h="[object Set]",m="[object WeakMap]",y="[object DataView]",v=s(t),E=s(e),w=s(r),x=s(n),O=s(i),C=a;return(t&&C(new t(new ArrayBuffer(1)))!=y||e&&C(new e)!=u||r&&C(r.resolve())!=f||n&&C(new n)!=h||i&&C(new i)!=m)&&(C=function(R){var $=a(R),I=$==c?R.constructor:void 0,j=I?s(I):"";if(j)switch(j){case v:return y;case E:return u;case w:return f;case x:return h;case O:return m}return $}),zb=C,zb}var Wb,UO;function zW(){if(UO)return Wb;UO=1;var t=$L(),e=BL(),r=SW(),n=FW(),i=qW(),a=Sn(),s=zL(),u=HL(),c=1,f="[object Arguments]",h="[object Array]",m="[object Object]",y=Object.prototype,v=y.hasOwnProperty;function E(w,x,O,C,R,$){var I=a(w),j=a(x),A=I?h:i(w),P=j?h:i(x);A=A==f?m:A,P=P==f?m:P;var N=A==m,F=P==m,D=A==P;if(D&&s(w)){if(!s(x))return!1;I=!0,N=!1}if(D&&!N)return $||($=new t),I||u(w)?e(w,x,O,C,R,$):r(w,x,A,O,C,R,$);if(!(O&c)){var V=N&&v.call(w,"__wrapped__"),M=F&&v.call(x,"__wrapped__");if(V||M){var Z=V?w.value():w,ee=M?x.value():x;return $||($=new t),R(Z,ee,O,C,$)}}return D?($||($=new t),n(w,x,O,C,R,$)):!1}return Wb=E,Wb}var Hb,BO;function JE(){if(BO)return Hb;BO=1;var t=zW(),e=io();function r(n,i,a,s,u){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,a,s,r,u)}return Hb=r,Hb}var Kb,qO;function WW(){if(qO)return Kb;qO=1;var t=$L(),e=JE(),r=1,n=2;function i(a,s,u,c){var f=u.length,h=f,m=!c;if(a==null)return!h;for(a=Object(a);f--;){var y=u[f];if(m&&y[2]?y[1]!==a[y[0]]:!(y[0]in a))return!1}for(;++f<h;){y=u[f];var v=y[0],E=a[v],w=y[1];if(m&&y[2]){if(E===void 0&&!(v in a))return!1}else{var x=new t;if(c)var O=c(E,w,v,a,s,x);if(!(O===void 0?e(w,E,r|n,c,x):O))return!1}}return!0}return Kb=i,Kb}var Gb,zO;function YL(){if(zO)return Gb;zO=1;var t=rs();function e(r){return r===r&&!t(r)}return Gb=e,Gb}var Yb,WO;function HW(){if(WO)return Yb;WO=1;var t=YL(),e=_g();function r(n){for(var i=e(n),a=i.length;a--;){var s=i[a],u=n[s];i[a]=[s,u,t(u)]}return i}return Yb=r,Yb}var Xb,HO;function XL(){if(HO)return Xb;HO=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return Xb=t,Xb}var Qb,KO;function KW(){if(KO)return Qb;KO=1;var t=WW(),e=HW(),r=XL();function n(i){var a=e(i);return a.length==1&&a[0][2]?r(a[0][0],a[0][1]):function(s){return s===i||t(s,i,a)}}return Qb=n,Qb}var Jb,GO;function GW(){if(GO)return Jb;GO=1;function t(e,r){return e!=null&&r in Object(e)}return Jb=t,Jb}var Zb,YO;function YW(){if(YO)return Zb;YO=1;var t=mL(),e=YE(),r=Sn(),n=XE(),i=QE(),a=mg();function s(u,c,f){c=t(c,u);for(var h=-1,m=c.length,y=!1;++h<m;){var v=a(c[h]);if(!(y=u!=null&&f(u,v)))break;u=u[v]}return y||++h!=m?y:(m=u==null?0:u.length,!!m&&i(m)&&n(v,m)&&(r(u)||e(u)))}return Zb=s,Zb}var e_,XO;function XW(){if(XO)return e_;XO=1;var t=GW(),e=YW();function r(n,i){return n!=null&&e(n,i,t)}return e_=r,e_}var t_,QO;function QW(){if(QO)return t_;QO=1;var t=JE(),e=gL(),r=XW(),n=jE(),i=YL(),a=XL(),s=mg(),u=1,c=2;function f(h,m){return n(h)&&i(m)?a(s(h),m):function(y){var v=e(y,h);return v===void 0&&v===m?r(y,h):t(m,v,u|c)}}return t_=f,t_}var r_,JO;function tc(){if(JO)return r_;JO=1;function t(e){return e}return r_=t,r_}var n_,ZO;function JW(){if(ZO)return n_;ZO=1;function t(e){return function(r){return r?.[e]}}return n_=t,n_}var i_,eC;function ZW(){if(eC)return i_;eC=1;var t=VE();function e(r){return function(n){return t(n,r)}}return i_=e,i_}var a_,tC;function eH(){if(tC)return a_;tC=1;var t=JW(),e=ZW(),r=jE(),n=mg();function i(a){return r(a)?t(n(a)):e(a)}return a_=i,a_}var o_,rC;function ga(){if(rC)return o_;rC=1;var t=KW(),e=QW(),r=tc(),n=Sn(),i=eH();function a(s){return typeof s=="function"?s:s==null?r:typeof s=="object"?n(s)?e(s[0],s[1]):t(s):i(s)}return o_=a,o_}var s_,nC;function QL(){if(nC)return s_;nC=1;function t(e,r,n,i){for(var a=e.length,s=n+(i?1:-1);i?s--:++s<a;)if(r(e[s],s,e))return s;return-1}return s_=t,s_}var l_,iC;function tH(){if(iC)return l_;iC=1;function t(e){return e!==e}return l_=t,l_}var u_,aC;function rH(){if(aC)return u_;aC=1;function t(e,r,n){for(var i=n-1,a=e.length;++i<a;)if(e[i]===r)return i;return-1}return u_=t,u_}var c_,oC;function nH(){if(oC)return c_;oC=1;var t=QL(),e=tH(),r=rH();function n(i,a,s){return a===a?r(i,a,s):t(i,e,s)}return c_=n,c_}var f_,sC;function iH(){if(sC)return f_;sC=1;var t=nH();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return f_=e,f_}var d_,lC;function aH(){if(lC)return d_;lC=1;function t(e,r,n){for(var i=-1,a=e==null?0:e.length;++i<a;)if(n(r,e[i]))return!0;return!1}return d_=t,d_}var h_,uC;function oH(){if(uC)return h_;uC=1;function t(){}return h_=t,h_}var p_,cC;function sH(){if(cC)return p_;cC=1;var t=GL(),e=oH(),r=GE(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(a){return new t(a)}:e;return p_=i,p_}var m_,fC;function lH(){if(fC)return m_;fC=1;var t=FL(),e=iH(),r=aH(),n=UL(),i=sH(),a=GE(),s=200;function u(c,f,h){var m=-1,y=e,v=c.length,E=!0,w=[],x=w;if(h)E=!1,y=r;else if(v>=s){var O=f?null:i(c);if(O)return a(O);E=!1,y=n,x=new t}else x=f?[]:w;e:for(;++m<v;){var C=c[m],R=f?f(C):C;if(C=h||C!==0?C:0,E&&R===R){for(var $=x.length;$--;)if(x[$]===R)continue e;f&&x.push(R),w.push(C)}else y(x,R,h)||(x!==w&&x.push(R),w.push(C))}return w}return m_=u,m_}var g_,dC;function uH(){if(dC)return g_;dC=1;var t=ga(),e=lH();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return g_=r,g_}var cH=uH();const hC=vt(cH);function JL(t,e,r){return e===!0?hC(t,r):Ye(e)?hC(t,e):t}function Tu(t){"@babel/helpers - typeof";return Tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tu(t)}var fH=["ref"];function pC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Da(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pC(Object(r),!0).forEach(function(n){xg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mC(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,e$(n.key),n)}}function hH(t,e,r){return e&&mC(t.prototype,e),r&&mC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function pH(t,e,r){return e=em(e),mH(t,ZL()?Reflect.construct(e,r||[],em(t).constructor):e.apply(t,r))}function mH(t,e){if(e&&(Tu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gH(t)}function gH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZL=function(){return!!t})()}function em(t){return em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},em(t)}function yH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pw(t,e)}function Pw(t,e){return Pw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Pw(t,e)}function xg(t,e,r){return e=e$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function e$(t){var e=vH(t,"string");return Tu(e)=="symbol"?e:e+""}function vH(t,e){if(Tu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function bH(t,e){if(t==null)return{};var r=_H(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _H(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function xH(t){return t.value}function wH(t,e){if(z.isValidElement(t))return z.cloneElement(t,e);if(typeof t=="function")return z.createElement(t,e);e.ref;var r=bH(e,fH);return z.createElement(KE,r)}var gC=1,Ha=function(t){function e(){var r;dH(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=pH(this,e,[].concat(i)),xg(r,"lastBoundingBox",{width:-1,height:-1}),r}return yH(e,t),hH(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>gC||Math.abs(i.height-this.lastBoundingBox.height)>gC)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Da({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,s=i.align,u=i.verticalAlign,c=i.margin,f=i.chartWidth,h=i.chartHeight,m,y;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&a==="vertical"){var v=this.getBBoxSnapshot();m={left:((f||0)-v.width)/2}}else m=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(u==="middle"){var E=this.getBBoxSnapshot();y={top:((h||0)-E.height)/2}}else y=u==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Da(Da({},m),y)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,s=i.width,u=i.height,c=i.wrapperStyle,f=i.payloadUniqBy,h=i.payload,m=Da(Da({position:"absolute",width:s||"auto",height:u||"auto"},this.getDefaultPosition(c)),c);return z.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(v){n.wrapperNode=v}},wH(a,Da(Da({},this.props),{},{payload:JL(h,f,xH)})))}}],[{key:"getWithHeight",value:function(n,i){var a=Da(Da({},this.defaultProps),n.props),s=a.layout;return s==="vertical"&&ve(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||i}:null}}])}(G.PureComponent);xg(Ha,"displayName","Legend");xg(Ha,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var y_,yC;function EH(){if(yC)return y_;yC=1;var t=Cd(),e=YE(),r=Sn(),n=t?t.isConcatSpreadable:void 0;function i(a){return r(a)||e(a)||!!(n&&a&&a[n])}return y_=i,y_}var v_,vC;function t$(){if(vC)return v_;vC=1;var t=qL(),e=EH();function r(n,i,a,s,u){var c=-1,f=n.length;for(a||(a=e),u||(u=[]);++c<f;){var h=n[c];i>0&&a(h)?i>1?r(h,i-1,a,s,u):t(u,h):s||(u[u.length]=h)}return u}return v_=r,v_}var b_,bC;function SH(){if(bC)return b_;bC=1;function t(e){return function(r,n,i){for(var a=-1,s=Object(r),u=i(r),c=u.length;c--;){var f=u[e?c:++a];if(n(s[f],f,s)===!1)break}return r}}return b_=t,b_}var __,_C;function TH(){if(_C)return __;_C=1;var t=SH(),e=t();return __=e,__}var x_,xC;function r$(){if(xC)return x_;xC=1;var t=TH(),e=_g();function r(n,i){return n&&t(n,i,e)}return x_=r,x_}var w_,wC;function AH(){if(wC)return w_;wC=1;var t=Nd();function e(r,n){return function(i,a){if(i==null)return i;if(!t(i))return r(i,a);for(var s=i.length,u=n?s:-1,c=Object(i);(n?u--:++u<s)&&a(c[u],u,c)!==!1;);return i}}return w_=e,w_}var E_,EC;function ZE(){if(EC)return E_;EC=1;var t=r$(),e=AH(),r=e(t);return E_=r,E_}var S_,SC;function n$(){if(SC)return S_;SC=1;var t=ZE(),e=Nd();function r(n,i){var a=-1,s=e(n)?Array(n.length):[];return t(n,function(u,c,f){s[++a]=i(u,c,f)}),s}return S_=r,S_}var T_,TC;function PH(){if(TC)return T_;TC=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return T_=t,T_}var A_,AC;function kH(){if(AC)return A_;AC=1;var t=Ju();function e(r,n){if(r!==n){var i=r!==void 0,a=r===null,s=r===r,u=t(r),c=n!==void 0,f=n===null,h=n===n,m=t(n);if(!f&&!m&&!u&&r>n||u&&c&&h&&!f&&!m||a&&c&&h||!i&&h||!s)return 1;if(!a&&!u&&!m&&r<n||m&&i&&s&&!a&&!u||f&&i&&s||!c&&s||!h)return-1}return 0}return A_=e,A_}var P_,PC;function IH(){if(PC)return P_;PC=1;var t=kH();function e(r,n,i){for(var a=-1,s=r.criteria,u=n.criteria,c=s.length,f=i.length;++a<c;){var h=t(s[a],u[a]);if(h){if(a>=f)return h;var m=i[a];return h*(m=="desc"?-1:1)}}return r.index-n.index}return P_=e,P_}var k_,kC;function OH(){if(kC)return k_;kC=1;var t=FE(),e=VE(),r=ga(),n=n$(),i=PH(),a=WL(),s=IH(),u=tc(),c=Sn();function f(h,m,y){m.length?m=t(m,function(w){return c(w)?function(x){return e(x,w.length===1?w[0]:w)}:w}):m=[u];var v=-1;m=t(m,a(r));var E=n(h,function(w,x,O){var C=t(m,function(R){return R(w)});return{criteria:C,index:++v,value:w}});return i(E,function(w,x){return s(w,x,y)})}return k_=f,k_}var I_,IC;function CH(){if(IC)return I_;IC=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return I_=t,I_}var O_,OC;function RH(){if(OC)return O_;OC=1;var t=CH(),e=Math.max;function r(n,i,a){return i=e(i===void 0?n.length-1:i,0),function(){for(var s=arguments,u=-1,c=e(s.length-i,0),f=Array(c);++u<c;)f[u]=s[i+u];u=-1;for(var h=Array(i+1);++u<i;)h[u]=s[u];return h[i]=a(f),t(n,this,h)}}return O_=r,O_}var C_,CC;function NH(){if(CC)return C_;CC=1;function t(e){return function(){return e}}return C_=t,C_}var R_,RC;function i$(){if(RC)return R_;RC=1;var t=ul(),e=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return R_=e,R_}var N_,NC;function jH(){if(NC)return N_;NC=1;var t=NH(),e=i$(),r=tc(),n=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:r;return N_=n,N_}var j_,jC;function MH(){if(jC)return j_;jC=1;var t=800,e=16,r=Date.now;function n(i){var a=0,s=0;return function(){var u=r(),c=e-(u-s);if(s=u,c>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return j_=n,j_}var M_,MC;function DH(){if(MC)return M_;MC=1;var t=jH(),e=MH(),r=e(t);return M_=r,M_}var D_,DC;function LH(){if(DC)return D_;DC=1;var t=tc(),e=RH(),r=DH();function n(i,a){return r(e(i,a,t),i+"")}return D_=n,D_}var L_,LC;function wg(){if(LC)return L_;LC=1;var t=DE(),e=Nd(),r=XE(),n=rs();function i(a,s,u){if(!n(u))return!1;var c=typeof s;return(c=="number"?e(u)&&r(s,u.length):c=="string"&&s in u)?t(u[s],a):!1}return L_=i,L_}var $_,$C;function $H(){if($C)return $_;$C=1;var t=t$(),e=OH(),r=LH(),n=wg(),i=r(function(a,s){if(a==null)return[];var u=s.length;return u>1&&n(a,s[0],s[1])?s=[]:u>2&&n(s[0],s[1],s[2])&&(s=[s[0]]),e(a,t(s,1),[])});return $_=i,$_}var FH=$H();const eS=vt(FH);function jf(t){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jf(t)}function kw(){return kw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kw.apply(this,arguments)}function VH(t,e){return zH(t)||qH(t,e)||BH(t,e)||UH()}function UH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BH(t,e){if(t){if(typeof t=="string")return FC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FC(t,e)}}function FC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qH(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function zH(t){if(Array.isArray(t))return t}function VC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function F_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VC(Object(r),!0).forEach(function(n){WH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WH(t,e,r){return e=HH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HH(t){var e=KH(t,"string");return jf(e)=="symbol"?e:e+""}function KH(t,e){if(jf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GH(t){return Array.isArray(t)&&vr(t[0])&&vr(t[1])?t.join(" ~ "):t}var YH=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,u=s===void 0?{}:s,c=e.labelStyle,f=c===void 0?{}:c,h=e.payload,m=e.formatter,y=e.itemSorter,v=e.wrapperClassName,E=e.labelClassName,w=e.label,x=e.labelFormatter,O=e.accessibilityLayer,C=O===void 0?!1:O,R=function(){if(h&&h.length){var V={padding:0,margin:0},M=(y?eS(h,y):h).map(function(Z,ee){if(Z.type==="none")return null;var re=F_({display:"block",paddingTop:4,paddingBottom:4,color:Z.color||"#000"},u),oe=Z.formatter||m||GH,Q=Z.value,ae=Z.name,se=Q,q=ae;if(oe&&se!=null&&q!=null){var K=oe(Q,ae,Z,ee,h);if(Array.isArray(K)){var fe=VH(K,2);se=fe[0],q=fe[1]}else se=K}return z.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(ee),style:re},vr(q)?z.createElement("span",{className:"recharts-tooltip-item-name"},q):null,vr(q)?z.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,z.createElement("span",{className:"recharts-tooltip-item-value"},se),z.createElement("span",{className:"recharts-tooltip-item-unit"},Z.unit||""))});return z.createElement("ul",{className:"recharts-tooltip-item-list",style:V},M)}return null},$=F_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),I=F_({margin:0},f),j=!Je(w),A=j?w:"",P=et("recharts-default-tooltip",v),N=et("recharts-tooltip-label",E);j&&x&&h!==void 0&&h!==null&&(A=x(w,h));var F=C?{role:"status","aria-live":"assertive"}:{};return z.createElement("div",kw({className:P,style:$},F),z.createElement("p",{className:N,style:I},z.isValidElement(A)?A:"".concat(A)),R())};function Mf(t){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mf(t)}function lp(t,e,r){return e=XH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XH(t){var e=QH(t,"string");return Mf(e)=="symbol"?e:e+""}function QH(t,e){if(Mf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bc="recharts-tooltip-wrapper",JH={visibility:"hidden"};function ZH(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return et(Bc,lp(lp(lp(lp({},"".concat(Bc,"-right"),ve(r)&&e&&ve(e.x)&&r>=e.x),"".concat(Bc,"-left"),ve(r)&&e&&ve(e.x)&&r<e.x),"".concat(Bc,"-bottom"),ve(n)&&e&&ve(e.y)&&n>=e.y),"".concat(Bc,"-top"),ve(n)&&e&&ve(e.y)&&n<e.y))}function UC(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,u=t.tooltipDimension,c=t.viewBox,f=t.viewBoxDimension;if(a&&ve(a[n]))return a[n];var h=r[n]-u-i,m=r[n]+i;if(e[n])return s[n]?h:m;if(s[n]){var y=h,v=c[n];return y<v?Math.max(m,c[n]):Math.max(h,c[n])}var E=m+u,w=c[n]+f;return E>w?Math.max(h,c[n]):Math.max(m,c[n])}function eK(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function tK(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,u=t.useTranslate3d,c=t.viewBox,f,h,m;return s.height>0&&s.width>0&&r?(h=UC({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),m=UC({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),f=eK({translateX:h,translateY:m,useTranslate3d:u})):f=JH,{cssProperties:f,cssClasses:ZH({translateX:h,translateY:m,coordinate:r})}}function Au(t){"@babel/helpers - typeof";return Au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Au(t)}function BC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BC(Object(r),!0).forEach(function(n){Ow(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,o$(n.key),n)}}function iK(t,e,r){return e&&nK(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function aK(t,e,r){return e=tm(e),oK(t,a$()?Reflect.construct(e,r||[],tm(t).constructor):e.apply(t,r))}function oK(t,e){if(e&&(Au(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sK(t)}function sK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a$=function(){return!!t})()}function tm(t){return tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tm(t)}function lK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Iw(t,e)}function Iw(t,e){return Iw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Iw(t,e)}function Ow(t,e,r){return e=o$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o$(t){var e=uK(t,"string");return Au(e)=="symbol"?e:e+""}function uK(t,e){if(Au(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Au(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zC=1,cK=function(t){function e(){var r;rK(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=aK(this,e,[].concat(i)),Ow(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Ow(r,"handleKeyDown",function(s){if(s.key==="Escape"){var u,c,f,h;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&u!==void 0?u:0,y:(f=(h=r.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&f!==void 0?f:0}})}}),r}return lK(e,t),iK(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>zC||Math.abs(n.height-this.state.lastBoundingBox.height)>zC)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,u=i.animationDuration,c=i.animationEasing,f=i.children,h=i.coordinate,m=i.hasPayload,y=i.isAnimationActive,v=i.offset,E=i.position,w=i.reverseDirection,x=i.useTranslate3d,O=i.viewBox,C=i.wrapperStyle,R=tK({allowEscapeViewBox:s,coordinate:h,offsetTopLeft:v,position:E,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:O}),$=R.cssClasses,I=R.cssProperties,j=qC(qC({transition:y&&a?"transform ".concat(u,"ms ").concat(c):void 0},I),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&m?"visible":"hidden",position:"absolute",top:0,left:0},C);return z.createElement("div",{tabIndex:-1,className:$,style:j,ref:function(P){n.wrapperNode=P}},f)}}])}(G.PureComponent),fK=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},cl={isSsr:fK()};function Pu(t){"@babel/helpers - typeof";return Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pu(t)}function WC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function HC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WC(Object(r),!0).forEach(function(n){tS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,l$(n.key),n)}}function pK(t,e,r){return e&&hK(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mK(t,e,r){return e=rm(e),gK(t,s$()?Reflect.construct(e,r||[],rm(t).constructor):e.apply(t,r))}function gK(t,e){if(e&&(Pu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yK(t)}function yK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s$=function(){return!!t})()}function rm(t){return rm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rm(t)}function vK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cw(t,e)}function Cw(t,e){return Cw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Cw(t,e)}function tS(t,e,r){return e=l$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l$(t){var e=bK(t,"string");return Pu(e)=="symbol"?e:e+""}function bK(t,e){if(Pu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function _K(t){return t.dataKey}function xK(t,e){return z.isValidElement(t)?z.cloneElement(t,e):typeof t=="function"?z.createElement(t,e):z.createElement(YH,e)}var Bn=function(t){function e(){return dK(this,e),mK(this,e,arguments)}return vK(e,t),pK(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,u=i.animationDuration,c=i.animationEasing,f=i.content,h=i.coordinate,m=i.filterNull,y=i.isAnimationActive,v=i.offset,E=i.payload,w=i.payloadUniqBy,x=i.position,O=i.reverseDirection,C=i.useTranslate3d,R=i.viewBox,$=i.wrapperStyle,I=E??[];m&&I.length&&(I=JL(E.filter(function(A){return A.value!=null&&(A.hide!==!0||n.props.includeHidden)}),w,_K));var j=I.length>0;return z.createElement(cK,{allowEscapeViewBox:s,animationDuration:u,animationEasing:c,isAnimationActive:y,active:a,coordinate:h,hasPayload:j,offset:v,position:x,reverseDirection:O,useTranslate3d:C,viewBox:R,wrapperStyle:$},xK(f,HC(HC({},this.props),{},{payload:I})))}}])}(G.PureComponent);tS(Bn,"displayName","Tooltip");tS(Bn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!cl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var V_,KC;function wK(){if(KC)return V_;KC=1;var t=ma(),e=function(){return t.Date.now()};return V_=e,V_}var U_,GC;function EK(){if(GC)return U_;GC=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return U_=e,U_}var B_,YC;function SK(){if(YC)return B_;YC=1;var t=EK(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return B_=r,B_}var q_,XC;function u$(){if(XC)return q_;XC=1;var t=SK(),e=rs(),r=Ju(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,u=parseInt;function c(f){if(typeof f=="number")return f;if(r(f))return n;if(e(f)){var h=typeof f.valueOf=="function"?f.valueOf():f;f=e(h)?h+"":h}if(typeof f!="string")return f===0?f:+f;f=t(f);var m=a.test(f);return m||s.test(f)?u(f.slice(2),m?2:8):i.test(f)?n:+f}return q_=c,q_}var z_,QC;function TK(){if(QC)return z_;QC=1;var t=rs(),e=wK(),r=u$(),n="Expected a function",i=Math.max,a=Math.min;function s(u,c,f){var h,m,y,v,E,w,x=0,O=!1,C=!1,R=!0;if(typeof u!="function")throw new TypeError(n);c=r(c)||0,t(f)&&(O=!!f.leading,C="maxWait"in f,y=C?i(r(f.maxWait)||0,c):y,R="trailing"in f?!!f.trailing:R);function $(M){var Z=h,ee=m;return h=m=void 0,x=M,v=u.apply(ee,Z),v}function I(M){return x=M,E=setTimeout(P,c),O?$(M):v}function j(M){var Z=M-w,ee=M-x,re=c-Z;return C?a(re,y-ee):re}function A(M){var Z=M-w,ee=M-x;return w===void 0||Z>=c||Z<0||C&&ee>=y}function P(){var M=e();if(A(M))return N(M);E=setTimeout(P,j(M))}function N(M){return E=void 0,R&&h?$(M):(h=m=void 0,v)}function F(){E!==void 0&&clearTimeout(E),x=0,h=w=m=E=void 0}function D(){return E===void 0?v:N(e())}function V(){var M=e(),Z=A(M);if(h=arguments,m=this,w=M,Z){if(E===void 0)return I(w);if(C)return clearTimeout(E),E=setTimeout(P,c),$(w)}return E===void 0&&(E=setTimeout(P,c)),v}return V.cancel=F,V.flush=D,V}return z_=s,z_}var W_,JC;function AK(){if(JC)return W_;JC=1;var t=TK(),e=rs(),r="Expected a function";function n(i,a,s){var u=!0,c=!0;if(typeof i!="function")throw new TypeError(r);return e(s)&&(u="leading"in s?!!s.leading:u,c="trailing"in s?!!s.trailing:c),t(i,a,{leading:u,maxWait:a,trailing:c})}return W_=n,W_}var PK=AK();const c$=vt(PK);function Df(t){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Df(t)}function ZC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function up(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZC(Object(r),!0).forEach(function(n){kK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kK(t,e,r){return e=IK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function IK(t){var e=OK(t,"string");return Df(e)=="symbol"?e:e+""}function OK(t,e){if(Df(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CK(t,e){return MK(t)||jK(t,e)||NK(t,e)||RK()}function RK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NK(t,e){if(t){if(typeof t=="string")return eR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eR(t,e)}}function eR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function jK(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function MK(t){if(Array.isArray(t))return t}var Eg=G.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,s=a===void 0?"100%":a,u=t.height,c=u===void 0?"100%":u,f=t.minWidth,h=f===void 0?0:f,m=t.minHeight,y=t.maxHeight,v=t.children,E=t.debounce,w=E===void 0?0:E,x=t.id,O=t.className,C=t.onResize,R=t.style,$=R===void 0?{}:R,I=G.useRef(null),j=G.useRef();j.current=C,G.useImperativeHandle(e,function(){return Object.defineProperty(I.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),I.current},configurable:!0})});var A=G.useState({containerWidth:i.width,containerHeight:i.height}),P=CK(A,2),N=P[0],F=P[1],D=G.useCallback(function(M,Z){F(function(ee){var re=Math.round(M),oe=Math.round(Z);return ee.containerWidth===re&&ee.containerHeight===oe?ee:{containerWidth:re,containerHeight:oe}})},[]);G.useEffect(function(){var M=function(ae){var se,q=ae[0].contentRect,K=q.width,fe=q.height;D(K,fe),(se=j.current)===null||se===void 0||se.call(j,K,fe)};w>0&&(M=c$(M,w,{trailing:!0,leading:!1}));var Z=new ResizeObserver(M),ee=I.current.getBoundingClientRect(),re=ee.width,oe=ee.height;return D(re,oe),Z.observe(I.current),function(){Z.disconnect()}},[D,w]);var V=G.useMemo(function(){var M=N.containerWidth,Z=N.containerHeight;if(M<0||Z<0)return null;Mi(Ls(s)||Ls(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),Mi(!r||r>0,"The aspect(%s) must be greater than zero.",r);var ee=Ls(s)?M:s,re=Ls(c)?Z:c;r&&r>0&&(ee?re=ee/r:re&&(ee=re*r),y&&re>y&&(re=y)),Mi(ee>0||re>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,ee,re,s,c,h,m,r);var oe=!Array.isArray(v)&&Wa(v.type).endsWith("Chart");return z.Children.map(v,function(Q){return z.isValidElement(Q)?G.cloneElement(Q,up({width:ee,height:re},oe?{style:up({height:"100%",width:"100%",maxHeight:re,maxWidth:ee},Q.props.style)}:{})):Q})},[r,v,c,y,m,h,N,s]);return z.createElement("div",{id:x?"".concat(x):void 0,className:et("recharts-responsive-container",O),style:up(up({},$),{},{width:s,height:c,minWidth:h,minHeight:m,maxHeight:y}),ref:I},V)}),Sg=function(e){return null};Sg.displayName="Cell";function Lf(t){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lf(t)}function tR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Rw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tR(Object(r),!0).forEach(function(n){DK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DK(t,e,r){return e=LK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LK(t){var e=$K(t,"string");return Lf(e)=="symbol"?e:e+""}function $K(t,e){if(Lf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yl={widthCache:{},cacheCount:0},FK=2e3,VK={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},rR="recharts_measurement_span";function UK(t){var e=Rw({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var pf=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||cl.isSsr)return{width:0,height:0};var n=UK(r),i=JSON.stringify({text:e,copyStyle:n});if(Yl.widthCache[i])return Yl.widthCache[i];try{var a=document.getElementById(rR);a||(a=document.createElement("span"),a.setAttribute("id",rR),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=Rw(Rw({},VK),n);Object.assign(a.style,s),a.textContent="".concat(e);var u=a.getBoundingClientRect(),c={width:u.width,height:u.height};return Yl.widthCache[i]=c,++Yl.cacheCount>FK&&(Yl.cacheCount=0,Yl.widthCache={}),c}catch{return{width:0,height:0}}},BK=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function $f(t){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$f(t)}function nm(t,e){return HK(t)||WK(t,e)||zK(t,e)||qK()}function qK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zK(t,e){if(t){if(typeof t=="string")return nR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nR(t,e)}}function nR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function WK(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function HK(t){if(Array.isArray(t))return t}function KK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,YK(n.key),n)}}function GK(t,e,r){return e&&iR(t.prototype,e),r&&iR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function YK(t){var e=XK(t,"string");return $f(e)=="symbol"?e:e+""}function XK(t,e){if($f(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var aR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,oR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,QK=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,JK=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,f$={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},ZK=Object.keys(f$),nu="NaN";function eG(t,e){return t*f$[e]}var cp=function(){function t(e,r){KK(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!QK.test(r)&&(this.num=NaN,this.unit=""),ZK.includes(r)&&(this.num=eG(e,r),this.unit="px")}return GK(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=JK.exec(r))!==null&&n!==void 0?n:[],a=nm(i,3),s=a[1],u=a[2];return new t(parseFloat(s),u??"")}}])}();function d$(t){if(t.includes(nu))return nu;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=aR.exec(e))!==null&&r!==void 0?r:[],i=nm(n,4),a=i[1],s=i[2],u=i[3],c=cp.parse(a??""),f=cp.parse(u??""),h=s==="*"?c.multiply(f):c.divide(f);if(h.isNaN())return nu;e=e.replace(aR,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,y=(m=oR.exec(e))!==null&&m!==void 0?m:[],v=nm(y,4),E=v[1],w=v[2],x=v[3],O=cp.parse(E??""),C=cp.parse(x??""),R=w==="+"?O.add(C):O.subtract(C);if(R.isNaN())return nu;e=e.replace(oR,R.toString())}return e}var sR=/\(([^()]*)\)/;function tG(t){for(var e=t;e.includes("(");){var r=sR.exec(e),n=nm(r,2),i=n[1];e=e.replace(sR,d$(i))}return e}function rG(t){var e=t.replace(/\s+/g,"");return e=tG(e),e=d$(e),e}function nG(t){try{return rG(t)}catch{return nu}}function H_(t){var e=nG(t.slice(5,-1));return e===nu?"":e}var iG=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],aG=["dx","dy","angle","className","breakAll"];function Nw(){return Nw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nw.apply(this,arguments)}function lR(t,e){if(t==null)return{};var r=oG(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function oG(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function uR(t,e){return cG(t)||uG(t,e)||lG(t,e)||sG()}function sG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lG(t,e){if(t){if(typeof t=="string")return cR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cR(t,e)}}function cR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function uG(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function cG(t){if(Array.isArray(t))return t}var h$=/[ \f\n\r\t\v\u2028\u2029]+/,p$=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];Je(r)||(n?a=r.toString().split(""):a=r.toString().split(h$));var s=a.map(function(c){return{word:c,width:pf(c,i).width}}),u=n?0:pf(" ",i).width;return{wordsWithComputedWidth:s,spaceWidth:u}}catch{return null}},fG=function(e,r,n,i,a){var s=e.maxLines,u=e.children,c=e.style,f=e.breakAll,h=ve(s),m=u,y=function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ee.reduce(function(re,oe){var Q=oe.word,ae=oe.width,se=re[re.length-1];if(se&&(i==null||a||se.width+ae+n<Number(i)))se.words.push(Q),se.width+=ae+n;else{var q={words:[Q],width:ae};re.push(q)}return re},[])},v=y(r),E=function(ee){return ee.reduce(function(re,oe){return re.width>oe.width?re:oe})};if(!h)return v;for(var w="…",x=function(ee){var re=m.slice(0,ee),oe=p$({breakAll:f,style:c,children:re+w}).wordsWithComputedWidth,Q=y(oe),ae=Q.length>s||E(Q).width>Number(i);return[ae,Q]},O=0,C=m.length-1,R=0,$;O<=C&&R<=m.length-1;){var I=Math.floor((O+C)/2),j=I-1,A=x(j),P=uR(A,2),N=P[0],F=P[1],D=x(I),V=uR(D,1),M=V[0];if(!N&&!M&&(O=I+1),N&&M&&(C=I-1),!N&&M){$=F;break}R++}return $||v},fR=function(e){var r=Je(e)?[]:e.toString().split(h$);return[{words:r}]},dG=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,u=e.maxLines;if((r||n)&&!cl.isSsr){var c,f,h=p$({breakAll:s,children:i,style:a});if(h){var m=h.wordsWithComputedWidth,y=h.spaceWidth;c=m,f=y}else return fR(i);return fG({breakAll:s,children:i,maxLines:u,style:a},c,f,r,n)}return fR(i)},dR="#808080",el=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.lineHeight,u=s===void 0?"1em":s,c=e.capHeight,f=c===void 0?"0.71em":c,h=e.scaleToFit,m=h===void 0?!1:h,y=e.textAnchor,v=y===void 0?"start":y,E=e.verticalAnchor,w=E===void 0?"end":E,x=e.fill,O=x===void 0?dR:x,C=lR(e,iG),R=G.useMemo(function(){return dG({breakAll:C.breakAll,children:C.children,maxLines:C.maxLines,scaleToFit:m,style:C.style,width:C.width})},[C.breakAll,C.children,C.maxLines,m,C.style,C.width]),$=C.dx,I=C.dy,j=C.angle,A=C.className,P=C.breakAll,N=lR(C,aG);if(!vr(n)||!vr(a))return null;var F=n+(ve($)?$:0),D=a+(ve(I)?I:0),V;switch(w){case"start":V=H_("calc(".concat(f,")"));break;case"middle":V=H_("calc(".concat((R.length-1)/2," * -").concat(u," + (").concat(f," / 2))"));break;default:V=H_("calc(".concat(R.length-1," * -").concat(u,")"));break}var M=[];if(m){var Z=R[0].width,ee=C.width;M.push("scale(".concat((ve(ee)?ee/Z:1)/Z,")"))}return j&&M.push("rotate(".concat(j,", ").concat(F,", ").concat(D,")")),M.length&&(N.transform=M.join(" ")),z.createElement("text",Nw({},qe(N,!0),{x:F,y:D,className:et("recharts-text",A),textAnchor:v,fill:O.includes("url")?dR:O}),R.map(function(re,oe){var Q=re.words.join(P?"":" ");return z.createElement("tspan",{x:F,dy:oe===0?V:u,key:"".concat(Q,"-").concat(oe)},Q)}))};function Ko(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function hG(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function rS(t){let e,r,n;t.length!==2?(e=Ko,r=(u,c)=>Ko(t(u),c),n=(u,c)=>t(u)-c):(e=t===Ko||t===hG?t:pG,r=t,n=t);function i(u,c,f=0,h=u.length){if(f<h){if(e(c,c)!==0)return h;do{const m=f+h>>>1;r(u[m],c)<0?f=m+1:h=m}while(f<h)}return f}function a(u,c,f=0,h=u.length){if(f<h){if(e(c,c)!==0)return h;do{const m=f+h>>>1;r(u[m],c)<=0?f=m+1:h=m}while(f<h)}return f}function s(u,c,f=0,h=u.length){const m=i(u,c,f,h-1);return m>f&&n(u[m-1],c)>-n(u[m],c)?m-1:m}return{left:i,center:s,right:a}}function pG(){return 0}function m$(t){return t===null?NaN:+t}function*mG(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const gG=rS(Ko),jd=gG.right;rS(m$).center;class hR extends Map{constructor(e,r=bG){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(pR(this,e))}has(e){return super.has(pR(this,e))}set(e,r){return super.set(yG(this,e),r)}delete(e){return super.delete(vG(this,e))}}function pR({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function yG({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function vG({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function bG(t){return t!==null&&typeof t=="object"?t.valueOf():t}function _G(t=Ko){if(t===Ko)return g$;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function g$(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const xG=Math.sqrt(50),wG=Math.sqrt(10),EG=Math.sqrt(2);function im(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=xG?10:a>=wG?5:a>=EG?2:1;let u,c,f;return i<0?(f=Math.pow(10,-i)/s,u=Math.round(t*f),c=Math.round(e*f),u/f<t&&++u,c/f>e&&--c,f=-f):(f=Math.pow(10,i)*s,u=Math.round(t/f),c=Math.round(e/f),u*f<t&&++u,c*f>e&&--c),c<u&&.5<=r&&r<2?im(t,e,r*2):[u,c,f]}function jw(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,s]=n?im(e,t,r):im(t,e,r);if(!(a>=i))return[];const u=a-i+1,c=new Array(u);if(n)if(s<0)for(let f=0;f<u;++f)c[f]=(a-f)/-s;else for(let f=0;f<u;++f)c[f]=(a-f)*s;else if(s<0)for(let f=0;f<u;++f)c[f]=(i+f)/-s;else for(let f=0;f<u;++f)c[f]=(i+f)*s;return c}function Mw(t,e,r){return e=+e,t=+t,r=+r,im(t,e,r)[2]}function Dw(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?Mw(e,t,r):Mw(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function mR(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function gR(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function y$(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?g$:_G(i);n>r;){if(n-r>600){const c=n-r+1,f=e-r+1,h=Math.log(c),m=.5*Math.exp(2*h/3),y=.5*Math.sqrt(h*m*(c-m)/c)*(f-c/2<0?-1:1),v=Math.max(r,Math.floor(e-f*m/c+y)),E=Math.min(n,Math.floor(e+(c-f)*m/c+y));y$(t,e,v,E,i)}const a=t[e];let s=r,u=n;for(qc(t,r,e),i(t[n],a)>0&&qc(t,r,n);s<u;){for(qc(t,s,u),++s,--u;i(t[s],a)<0;)++s;for(;i(t[u],a)>0;)--u}i(t[r],a)===0?qc(t,r,u):(++u,qc(t,u,n)),u<=e&&(r=u+1),e<=u&&(n=u-1)}return t}function qc(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function SG(t,e,r){if(t=Float64Array.from(mG(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return gR(t);if(e>=1)return mR(t);var n,i=(n-1)*e,a=Math.floor(i),s=mR(y$(t,a).subarray(0,a+1)),u=gR(t.subarray(a+1));return s+(u-s)*(i-a)}}function TG(t,e,r=m$){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),s=+r(t[a],a,t),u=+r(t[a+1],a+1,t);return s+(u-s)*(i-a)}}function AG(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function hi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ao(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Lw=Symbol("implicit");function nS(){var t=new hR,e=[],r=[],n=Lw;function i(a){let s=t.get(a);if(s===void 0){if(n!==Lw)return n;t.set(a,s=e.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new hR;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return nS(e,r).unknown(n)},hi.apply(i,arguments),i}function Ff(){var t=nS().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,s,u=!1,c=0,f=0,h=.5;delete t.unknown;function m(){var y=e().length,v=i<n,E=v?i:n,w=v?n:i;a=(w-E)/Math.max(1,y-c+f*2),u&&(a=Math.floor(a)),E+=(w-E-a*(y-c))*h,s=a*(1-c),u&&(E=Math.round(E),s=Math.round(s));var x=AG(y).map(function(O){return E+a*O});return r(v?x.reverse():x)}return t.domain=function(y){return arguments.length?(e(y),m()):e()},t.range=function(y){return arguments.length?([n,i]=y,n=+n,i=+i,m()):[n,i]},t.rangeRound=function(y){return[n,i]=y,n=+n,i=+i,u=!0,m()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(y){return arguments.length?(u=!!y,m()):u},t.padding=function(y){return arguments.length?(c=Math.min(1,f=+y),m()):c},t.paddingInner=function(y){return arguments.length?(c=Math.min(1,y),m()):c},t.paddingOuter=function(y){return arguments.length?(f=+y,m()):f},t.align=function(y){return arguments.length?(h=Math.max(0,Math.min(1,y)),m()):h},t.copy=function(){return Ff(e(),[n,i]).round(u).paddingInner(c).paddingOuter(f).align(h)},hi.apply(m(),arguments)}function v$(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return v$(e())},t}function mf(){return v$(Ff.apply(null,arguments).paddingInner(1))}function iS(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function b$(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Md(){}var Vf=.7,am=1/Vf,hu="\\s*([+-]?\\d+)\\s*",Uf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",la="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",PG=/^#([0-9a-f]{3,8})$/,kG=new RegExp(`^rgb\\(${hu},${hu},${hu}\\)$`),IG=new RegExp(`^rgb\\(${la},${la},${la}\\)$`),OG=new RegExp(`^rgba\\(${hu},${hu},${hu},${Uf}\\)$`),CG=new RegExp(`^rgba\\(${la},${la},${la},${Uf}\\)$`),RG=new RegExp(`^hsl\\(${Uf},${la},${la}\\)$`),NG=new RegExp(`^hsla\\(${Uf},${la},${la},${Uf}\\)$`),yR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};iS(Md,Bf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:vR,formatHex:vR,formatHex8:jG,formatHsl:MG,formatRgb:bR,toString:bR});function vR(){return this.rgb().formatHex()}function jG(){return this.rgb().formatHex8()}function MG(){return _$(this).formatHsl()}function bR(){return this.rgb().formatRgb()}function Bf(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=PG.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?_R(e):r===3?new En(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?fp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?fp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=kG.exec(t))?new En(e[1],e[2],e[3],1):(e=IG.exec(t))?new En(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=OG.exec(t))?fp(e[1],e[2],e[3],e[4]):(e=CG.exec(t))?fp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=RG.exec(t))?ER(e[1],e[2]/100,e[3]/100,1):(e=NG.exec(t))?ER(e[1],e[2]/100,e[3]/100,e[4]):yR.hasOwnProperty(t)?_R(yR[t]):t==="transparent"?new En(NaN,NaN,NaN,0):null}function _R(t){return new En(t>>16&255,t>>8&255,t&255,1)}function fp(t,e,r,n){return n<=0&&(t=e=r=NaN),new En(t,e,r,n)}function DG(t){return t instanceof Md||(t=Bf(t)),t?(t=t.rgb(),new En(t.r,t.g,t.b,t.opacity)):new En}function $w(t,e,r,n){return arguments.length===1?DG(t):new En(t,e,r,n??1)}function En(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}iS(En,$w,b$(Md,{brighter(t){return t=t==null?am:Math.pow(am,t),new En(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Vf:Math.pow(Vf,t),new En(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new En(qs(this.r),qs(this.g),qs(this.b),om(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xR,formatHex:xR,formatHex8:LG,formatRgb:wR,toString:wR}));function xR(){return`#${$s(this.r)}${$s(this.g)}${$s(this.b)}`}function LG(){return`#${$s(this.r)}${$s(this.g)}${$s(this.b)}${$s((isNaN(this.opacity)?1:this.opacity)*255)}`}function wR(){const t=om(this.opacity);return`${t===1?"rgb(":"rgba("}${qs(this.r)}, ${qs(this.g)}, ${qs(this.b)}${t===1?")":`, ${t})`}`}function om(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function qs(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function $s(t){return t=qs(t),(t<16?"0":"")+t.toString(16)}function ER(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new ji(t,e,r,n)}function _$(t){if(t instanceof ji)return new ji(t.h,t.s,t.l,t.opacity);if(t instanceof Md||(t=Bf(t)),!t)return new ji;if(t instanceof ji)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),s=NaN,u=a-i,c=(a+i)/2;return u?(e===a?s=(r-n)/u+(r<n)*6:r===a?s=(n-e)/u+2:s=(e-r)/u+4,u/=c<.5?a+i:2-a-i,s*=60):u=c>0&&c<1?0:s,new ji(s,u,c,t.opacity)}function $G(t,e,r,n){return arguments.length===1?_$(t):new ji(t,e,r,n??1)}function ji(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}iS(ji,$G,b$(Md,{brighter(t){return t=t==null?am:Math.pow(am,t),new ji(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Vf:Math.pow(Vf,t),new ji(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new En(K_(t>=240?t-240:t+120,i,n),K_(t,i,n),K_(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new ji(SR(this.h),dp(this.s),dp(this.l),om(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=om(this.opacity);return`${t===1?"hsl(":"hsla("}${SR(this.h)}, ${dp(this.s)*100}%, ${dp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function SR(t){return t=(t||0)%360,t<0?t+360:t}function dp(t){return Math.max(0,Math.min(1,t||0))}function K_(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const aS=t=>()=>t;function FG(t,e){return function(r){return t+r*e}}function VG(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function UG(t){return(t=+t)==1?x$:function(e,r){return r-e?VG(e,r,t):aS(isNaN(e)?r:e)}}function x$(t,e){var r=e-t;return r?FG(t,r):aS(isNaN(t)?e:t)}const TR=function t(e){var r=UG(e);function n(i,a){var s=r((i=$w(i)).r,(a=$w(a)).r),u=r(i.g,a.g),c=r(i.b,a.b),f=x$(i.opacity,a.opacity);return function(h){return i.r=s(h),i.g=u(h),i.b=c(h),i.opacity=f(h),i+""}}return n.gamma=t,n}(1);function BG(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function qG(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function zG(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=rc(t[s],e[s]);for(;s<r;++s)a[s]=e[s];return function(u){for(s=0;s<n;++s)a[s]=i[s](u);return a}}function WG(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function sm(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function HG(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=rc(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Fw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,G_=new RegExp(Fw.source,"g");function KG(t){return function(){return t}}function GG(t){return function(e){return t(e)+""}}function YG(t,e){var r=Fw.lastIndex=G_.lastIndex=0,n,i,a,s=-1,u=[],c=[];for(t=t+"",e=e+"";(n=Fw.exec(t))&&(i=G_.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),u[s]?u[s]+=a:u[++s]=a),(n=n[0])===(i=i[0])?u[s]?u[s]+=i:u[++s]=i:(u[++s]=null,c.push({i:s,x:sm(n,i)})),r=G_.lastIndex;return r<e.length&&(a=e.slice(r),u[s]?u[s]+=a:u[++s]=a),u.length<2?c[0]?GG(c[0].x):KG(e):(e=c.length,function(f){for(var h=0,m;h<e;++h)u[(m=c[h]).i]=m.x(f);return u.join("")})}function rc(t,e){var r=typeof e,n;return e==null||r==="boolean"?aS(e):(r==="number"?sm:r==="string"?(n=Bf(e))?(e=n,TR):YG:e instanceof Bf?TR:e instanceof Date?WG:qG(e)?BG:Array.isArray(e)?zG:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?HG:sm)(t,e)}function oS(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function XG(t,e){e===void 0&&(e=t,t=rc);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(s){var u=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[u](s-u)}}function QG(t){return function(){return t}}function lm(t){return+t}var AR=[0,1];function un(t){return t}function Vw(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:QG(isNaN(e)?NaN:.5)}function JG(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function ZG(t,e,r){var n=t[0],i=t[1],a=e[0],s=e[1];return i<n?(n=Vw(i,n),a=r(s,a)):(n=Vw(n,i),a=r(a,s)),function(u){return a(n(u))}}function eY(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)i[s]=Vw(t[s],t[s+1]),a[s]=r(e[s],e[s+1]);return function(u){var c=jd(t,u,1,n)-1;return a[c](i[c](u))}}function Dd(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Tg(){var t=AR,e=AR,r=rc,n,i,a,s=un,u,c,f;function h(){var y=Math.min(t.length,e.length);return s!==un&&(s=JG(t[0],t[y-1])),u=y>2?eY:ZG,c=f=null,m}function m(y){return y==null||isNaN(y=+y)?a:(c||(c=u(t.map(n),e,r)))(n(s(y)))}return m.invert=function(y){return s(i((f||(f=u(e,t.map(n),sm)))(y)))},m.domain=function(y){return arguments.length?(t=Array.from(y,lm),h()):t.slice()},m.range=function(y){return arguments.length?(e=Array.from(y),h()):e.slice()},m.rangeRound=function(y){return e=Array.from(y),r=oS,h()},m.clamp=function(y){return arguments.length?(s=y?!0:un,h()):s!==un},m.interpolate=function(y){return arguments.length?(r=y,h()):r},m.unknown=function(y){return arguments.length?(a=y,m):a},function(y,v){return n=y,i=v,h()}}function sS(){return Tg()(un,un)}function tY(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function um(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function ku(t){return t=um(Math.abs(t)),t?t[1]:NaN}function rY(t,e){return function(r,n){for(var i=r.length,a=[],s=0,u=t[0],c=0;i>0&&u>0&&(c+u+1>n&&(u=Math.max(1,n-c)),a.push(r.substring(i-=u,i+u)),!((c+=u+1)>n));)u=t[s=(s+1)%t.length];return a.reverse().join(e)}}function nY(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var iY=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function qf(t){if(!(e=iY.exec(t)))throw new Error("invalid format: "+t);var e;return new lS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}qf.prototype=lS.prototype;function lS(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}lS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function aY(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var w$;function oY(t,e){var r=um(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(w$=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+um(t,Math.max(0,e+a-1))[0]}function PR(t,e){var r=um(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const kR={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:tY,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>PR(t*100,e),r:PR,s:oY,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function IR(t){return t}var OR=Array.prototype.map,CR=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function sY(t){var e=t.grouping===void 0||t.thousands===void 0?IR:rY(OR.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?IR:nY(OR.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(m){m=qf(m);var y=m.fill,v=m.align,E=m.sign,w=m.symbol,x=m.zero,O=m.width,C=m.comma,R=m.precision,$=m.trim,I=m.type;I==="n"?(C=!0,I="g"):kR[I]||(R===void 0&&(R=12),$=!0,I="g"),(x||y==="0"&&v==="=")&&(x=!0,y="0",v="=");var j=w==="$"?r:w==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",A=w==="$"?n:/[%p]/.test(I)?s:"",P=kR[I],N=/[defgprs%]/.test(I);R=R===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,R)):Math.max(0,Math.min(20,R));function F(D){var V=j,M=A,Z,ee,re;if(I==="c")M=P(D)+M,D="";else{D=+D;var oe=D<0||1/D<0;if(D=isNaN(D)?c:P(Math.abs(D),R),$&&(D=aY(D)),oe&&+D==0&&E!=="+"&&(oe=!1),V=(oe?E==="("?E:u:E==="-"||E==="("?"":E)+V,M=(I==="s"?CR[8+w$/3]:"")+M+(oe&&E==="("?")":""),N){for(Z=-1,ee=D.length;++Z<ee;)if(re=D.charCodeAt(Z),48>re||re>57){M=(re===46?i+D.slice(Z+1):D.slice(Z))+M,D=D.slice(0,Z);break}}}C&&!x&&(D=e(D,1/0));var Q=V.length+D.length+M.length,ae=Q<O?new Array(O-Q+1).join(y):"";switch(C&&x&&(D=e(ae+D,ae.length?O-M.length:1/0),ae=""),v){case"<":D=V+D+M+ae;break;case"=":D=V+ae+D+M;break;case"^":D=ae.slice(0,Q=ae.length>>1)+V+D+M+ae.slice(Q);break;default:D=ae+V+D+M;break}return a(D)}return F.toString=function(){return m+""},F}function h(m,y){var v=f((m=qf(m),m.type="f",m)),E=Math.max(-8,Math.min(8,Math.floor(ku(y)/3)))*3,w=Math.pow(10,-E),x=CR[8+E/3];return function(O){return v(w*O)+x}}return{format:f,formatPrefix:h}}var hp,uS,E$;lY({thousands:",",grouping:[3],currency:["$",""]});function lY(t){return hp=sY(t),uS=hp.format,E$=hp.formatPrefix,hp}function uY(t){return Math.max(0,-ku(Math.abs(t)))}function cY(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ku(e)/3)))*3-ku(Math.abs(t)))}function fY(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ku(e)-ku(t))+1}function S$(t,e,r,n){var i=Dw(t,e,r),a;switch(n=qf(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=cY(i,s))&&(n.precision=a),E$(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=fY(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=uY(i))&&(n.precision=a-(n.type==="%")*2);break}}return uS(n)}function ns(t){var e=t.domain;return t.ticks=function(r){var n=e();return jw(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return S$(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,s=n[i],u=n[a],c,f,h=10;for(u<s&&(f=s,s=u,u=f,f=i,i=a,a=f);h-- >0;){if(f=Mw(s,u,r),f===c)return n[i]=s,n[a]=u,e(n);if(f>0)s=Math.floor(s/f)*f,u=Math.ceil(u/f)*f;else if(f<0)s=Math.ceil(s*f)/f,u=Math.floor(u*f)/f;else break;c=f}return t},t}function cm(){var t=sS();return t.copy=function(){return Dd(t,cm())},hi.apply(t,arguments),ns(t)}function T$(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,lm),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return T$(t).unknown(e)},t=arguments.length?Array.from(t,lm):[0,1],ns(r)}function A$(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),t[r]=e.floor(i),t[n]=e.ceil(a),t}function RR(t){return Math.log(t)}function NR(t){return Math.exp(t)}function dY(t){return-Math.log(-t)}function hY(t){return-Math.exp(-t)}function pY(t){return isFinite(t)?+("1e"+t):t<0?0:t}function mY(t){return t===10?pY:t===Math.E?Math.exp:e=>Math.pow(t,e)}function gY(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function jR(t){return(e,r)=>-t(-e,r)}function cS(t){const e=t(RR,NR),r=e.domain;let n=10,i,a;function s(){return i=gY(n),a=mY(n),r()[0]<0?(i=jR(i),a=jR(a),t(dY,hY)):t(RR,NR),e}return e.base=function(u){return arguments.length?(n=+u,s()):n},e.domain=function(u){return arguments.length?(r(u),s()):r()},e.ticks=u=>{const c=r();let f=c[0],h=c[c.length-1];const m=h<f;m&&([f,h]=[h,f]);let y=i(f),v=i(h),E,w;const x=u==null?10:+u;let O=[];if(!(n%1)&&v-y<x){if(y=Math.floor(y),v=Math.ceil(v),f>0){for(;y<=v;++y)for(E=1;E<n;++E)if(w=y<0?E/a(-y):E*a(y),!(w<f)){if(w>h)break;O.push(w)}}else for(;y<=v;++y)for(E=n-1;E>=1;--E)if(w=y>0?E/a(-y):E*a(y),!(w<f)){if(w>h)break;O.push(w)}O.length*2<x&&(O=jw(f,h,x))}else O=jw(y,v,Math.min(v-y,x)).map(a);return m?O.reverse():O},e.tickFormat=(u,c)=>{if(u==null&&(u=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=qf(c)).precision==null&&(c.trim=!0),c=uS(c)),u===1/0)return c;const f=Math.max(1,n*u/e.ticks().length);return h=>{let m=h/a(Math.round(i(h)));return m*n<n-.5&&(m*=n),m<=f?c(h):""}},e.nice=()=>r(A$(r(),{floor:u=>a(Math.floor(i(u))),ceil:u=>a(Math.ceil(i(u)))})),e}function P$(){const t=cS(Tg()).domain([1,10]);return t.copy=()=>Dd(t,P$()).base(t.base()),hi.apply(t,arguments),t}function MR(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function DR(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function fS(t){var e=1,r=t(MR(e),DR(e));return r.constant=function(n){return arguments.length?t(MR(e=+n),DR(e)):e},ns(r)}function k$(){var t=fS(Tg());return t.copy=function(){return Dd(t,k$()).constant(t.constant())},hi.apply(t,arguments)}function LR(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function yY(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function vY(t){return t<0?-t*t:t*t}function dS(t){var e=t(un,un),r=1;function n(){return r===1?t(un,un):r===.5?t(yY,vY):t(LR(r),LR(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},ns(e)}function hS(){var t=dS(Tg());return t.copy=function(){return Dd(t,hS()).exponent(t.exponent())},hi.apply(t,arguments),t}function bY(){return hS.apply(null,arguments).exponent(.5)}function $R(t){return Math.sign(t)*t*t}function _Y(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function I$(){var t=sS(),e=[0,1],r=!1,n;function i(a){var s=_Y(t(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return t.invert($R(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,lm)).map($R)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return I$(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},hi.apply(i,arguments),ns(i)}function O$(){var t=[],e=[],r=[],n;function i(){var s=0,u=Math.max(1,e.length);for(r=new Array(u-1);++s<u;)r[s-1]=TG(t,s/u);return a}function a(s){return s==null||isNaN(s=+s)?n:e[jd(r,s)]}return a.invertExtent=function(s){var u=e.indexOf(s);return u<0?[NaN,NaN]:[u>0?r[u-1]:t[0],u<r.length?r[u]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let u of s)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Ko),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return O$().domain(t).range(e).unknown(n)},hi.apply(a,arguments)}function C$(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[jd(n,c,0,r)]:a}function u(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,u()):[t,e]},s.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,u()):i.slice()},s.invertExtent=function(c){var f=i.indexOf(c);return f<0?[NaN,NaN]:f<1?[t,n[0]]:f>=r?[n[r-1],e]:[n[f-1],n[f]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return C$().domain([t,e]).range(i).unknown(a)},hi.apply(ns(s),arguments)}function R$(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[jd(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return R$().domain(t).range(e).unknown(r)},hi.apply(i,arguments)}const Y_=new Date,X_=new Date;function _r(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),u=i.ceil(a);return a-s<u-a?s:u},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,u)=>{const c=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<s)||!(u>0))return c;let f;do c.push(f=new Date(+a)),e(a,u),t(a);while(f<a&&a<s);return c},i.filter=a=>_r(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,u)=>{if(s>=s)if(u<0)for(;++u<=0;)for(;e(s,-1),!a(s););else for(;--u>=0;)for(;e(s,1),!a(s););}),r&&(i.count=(a,s)=>(Y_.setTime(+a),X_.setTime(+s),t(Y_),t(X_),Math.floor(r(Y_,X_))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const fm=_r(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);fm.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?_r(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):fm);fm.range;const Ua=1e3,fi=Ua*60,Ba=fi*60,eo=Ba*24,pS=eo*7,FR=eo*30,Q_=eo*365,Fs=_r(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ua)},(t,e)=>(e-t)/Ua,t=>t.getUTCSeconds());Fs.range;const mS=_r(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ua)},(t,e)=>{t.setTime(+t+e*fi)},(t,e)=>(e-t)/fi,t=>t.getMinutes());mS.range;const gS=_r(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*fi)},(t,e)=>(e-t)/fi,t=>t.getUTCMinutes());gS.range;const yS=_r(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ua-t.getMinutes()*fi)},(t,e)=>{t.setTime(+t+e*Ba)},(t,e)=>(e-t)/Ba,t=>t.getHours());yS.range;const vS=_r(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ba)},(t,e)=>(e-t)/Ba,t=>t.getUTCHours());vS.range;const Ld=_r(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*fi)/eo,t=>t.getDate()-1);Ld.range;const Ag=_r(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/eo,t=>t.getUTCDate()-1);Ag.range;const N$=_r(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/eo,t=>Math.floor(t/eo));N$.range;function fl(t){return _r(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*fi)/pS)}const Pg=fl(0),dm=fl(1),xY=fl(2),wY=fl(3),Iu=fl(4),EY=fl(5),SY=fl(6);Pg.range;dm.range;xY.range;wY.range;Iu.range;EY.range;SY.range;function dl(t){return _r(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/pS)}const kg=dl(0),hm=dl(1),TY=dl(2),AY=dl(3),Ou=dl(4),PY=dl(5),kY=dl(6);kg.range;hm.range;TY.range;AY.range;Ou.range;PY.range;kY.range;const bS=_r(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());bS.range;const _S=_r(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());_S.range;const to=_r(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());to.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:_r(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});to.range;const ro=_r(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ro.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:_r(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});ro.range;function j$(t,e,r,n,i,a){const s=[[Fs,1,Ua],[Fs,5,5*Ua],[Fs,15,15*Ua],[Fs,30,30*Ua],[a,1,fi],[a,5,5*fi],[a,15,15*fi],[a,30,30*fi],[i,1,Ba],[i,3,3*Ba],[i,6,6*Ba],[i,12,12*Ba],[n,1,eo],[n,2,2*eo],[r,1,pS],[e,1,FR],[e,3,3*FR],[t,1,Q_]];function u(f,h,m){const y=h<f;y&&([f,h]=[h,f]);const v=m&&typeof m.range=="function"?m:c(f,h,m),E=v?v.range(f,+h+1):[];return y?E.reverse():E}function c(f,h,m){const y=Math.abs(h-f)/m,v=rS(([,,x])=>x).right(s,y);if(v===s.length)return t.every(Dw(f/Q_,h/Q_,m));if(v===0)return fm.every(Math.max(Dw(f,h,m),1));const[E,w]=s[y/s[v-1][2]<s[v][2]/y?v-1:v];return E.every(w)}return[u,c]}const[IY,OY]=j$(ro,_S,kg,N$,vS,gS),[CY,RY]=j$(to,bS,Pg,Ld,yS,mS);function J_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Z_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function zc(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function NY(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,s=t.shortDays,u=t.months,c=t.shortMonths,f=Wc(i),h=Hc(i),m=Wc(a),y=Hc(a),v=Wc(s),E=Hc(s),w=Wc(u),x=Hc(u),O=Wc(c),C=Hc(c),R={a:oe,A:Q,b:ae,B:se,c:null,d:WR,e:WR,f:rX,g:dX,G:pX,H:ZY,I:eX,j:tX,L:M$,m:nX,M:iX,p:q,q:K,Q:GR,s:YR,S:aX,u:oX,U:sX,V:lX,w:uX,W:cX,x:null,X:null,y:fX,Y:hX,Z:mX,"%":KR},$={a:fe,A:Ee,b:je,B:xe,c:null,d:HR,e:HR,f:bX,g:IX,G:CX,H:gX,I:yX,j:vX,L:L$,m:_X,M:xX,p:$e,q:Ve,Q:GR,s:YR,S:wX,u:EX,U:SX,V:TX,w:AX,W:PX,x:null,X:null,y:kX,Y:OX,Z:RX,"%":KR},I={a:F,A:D,b:V,B:M,c:Z,d:qR,e:qR,f:YY,g:BR,G:UR,H:zR,I:zR,j:WY,L:GY,m:zY,M:HY,p:N,q:qY,Q:QY,s:JY,S:KY,u:$Y,U:FY,V:VY,w:LY,W:UY,x:ee,X:re,y:BR,Y:UR,Z:BY,"%":XY};R.x=j(r,R),R.X=j(n,R),R.c=j(e,R),$.x=j(r,$),$.X=j(n,$),$.c=j(e,$);function j(pe,Ae){return function(ze){var ue=[],ut=-1,He=0,mt=pe.length,Tt,Yt,cr;for(ze instanceof Date||(ze=new Date(+ze));++ut<mt;)pe.charCodeAt(ut)===37&&(ue.push(pe.slice(He,ut)),(Yt=VR[Tt=pe.charAt(++ut)])!=null?Tt=pe.charAt(++ut):Yt=Tt==="e"?" ":"0",(cr=Ae[Tt])&&(Tt=cr(ze,Yt)),ue.push(Tt),He=ut+1);return ue.push(pe.slice(He,ut)),ue.join("")}}function A(pe,Ae){return function(ze){var ue=zc(1900,void 0,1),ut=P(ue,pe,ze+="",0),He,mt;if(ut!=ze.length)return null;if("Q"in ue)return new Date(ue.Q);if("s"in ue)return new Date(ue.s*1e3+("L"in ue?ue.L:0));if(Ae&&!("Z"in ue)&&(ue.Z=0),"p"in ue&&(ue.H=ue.H%12+ue.p*12),ue.m===void 0&&(ue.m="q"in ue?ue.q:0),"V"in ue){if(ue.V<1||ue.V>53)return null;"w"in ue||(ue.w=1),"Z"in ue?(He=Z_(zc(ue.y,0,1)),mt=He.getUTCDay(),He=mt>4||mt===0?hm.ceil(He):hm(He),He=Ag.offset(He,(ue.V-1)*7),ue.y=He.getUTCFullYear(),ue.m=He.getUTCMonth(),ue.d=He.getUTCDate()+(ue.w+6)%7):(He=J_(zc(ue.y,0,1)),mt=He.getDay(),He=mt>4||mt===0?dm.ceil(He):dm(He),He=Ld.offset(He,(ue.V-1)*7),ue.y=He.getFullYear(),ue.m=He.getMonth(),ue.d=He.getDate()+(ue.w+6)%7)}else("W"in ue||"U"in ue)&&("w"in ue||(ue.w="u"in ue?ue.u%7:"W"in ue?1:0),mt="Z"in ue?Z_(zc(ue.y,0,1)).getUTCDay():J_(zc(ue.y,0,1)).getDay(),ue.m=0,ue.d="W"in ue?(ue.w+6)%7+ue.W*7-(mt+5)%7:ue.w+ue.U*7-(mt+6)%7);return"Z"in ue?(ue.H+=ue.Z/100|0,ue.M+=ue.Z%100,Z_(ue)):J_(ue)}}function P(pe,Ae,ze,ue){for(var ut=0,He=Ae.length,mt=ze.length,Tt,Yt;ut<He;){if(ue>=mt)return-1;if(Tt=Ae.charCodeAt(ut++),Tt===37){if(Tt=Ae.charAt(ut++),Yt=I[Tt in VR?Ae.charAt(ut++):Tt],!Yt||(ue=Yt(pe,ze,ue))<0)return-1}else if(Tt!=ze.charCodeAt(ue++))return-1}return ue}function N(pe,Ae,ze){var ue=f.exec(Ae.slice(ze));return ue?(pe.p=h.get(ue[0].toLowerCase()),ze+ue[0].length):-1}function F(pe,Ae,ze){var ue=v.exec(Ae.slice(ze));return ue?(pe.w=E.get(ue[0].toLowerCase()),ze+ue[0].length):-1}function D(pe,Ae,ze){var ue=m.exec(Ae.slice(ze));return ue?(pe.w=y.get(ue[0].toLowerCase()),ze+ue[0].length):-1}function V(pe,Ae,ze){var ue=O.exec(Ae.slice(ze));return ue?(pe.m=C.get(ue[0].toLowerCase()),ze+ue[0].length):-1}function M(pe,Ae,ze){var ue=w.exec(Ae.slice(ze));return ue?(pe.m=x.get(ue[0].toLowerCase()),ze+ue[0].length):-1}function Z(pe,Ae,ze){return P(pe,e,Ae,ze)}function ee(pe,Ae,ze){return P(pe,r,Ae,ze)}function re(pe,Ae,ze){return P(pe,n,Ae,ze)}function oe(pe){return s[pe.getDay()]}function Q(pe){return a[pe.getDay()]}function ae(pe){return c[pe.getMonth()]}function se(pe){return u[pe.getMonth()]}function q(pe){return i[+(pe.getHours()>=12)]}function K(pe){return 1+~~(pe.getMonth()/3)}function fe(pe){return s[pe.getUTCDay()]}function Ee(pe){return a[pe.getUTCDay()]}function je(pe){return c[pe.getUTCMonth()]}function xe(pe){return u[pe.getUTCMonth()]}function $e(pe){return i[+(pe.getUTCHours()>=12)]}function Ve(pe){return 1+~~(pe.getUTCMonth()/3)}return{format:function(pe){var Ae=j(pe+="",R);return Ae.toString=function(){return pe},Ae},parse:function(pe){var Ae=A(pe+="",!1);return Ae.toString=function(){return pe},Ae},utcFormat:function(pe){var Ae=j(pe+="",$);return Ae.toString=function(){return pe},Ae},utcParse:function(pe){var Ae=A(pe+="",!0);return Ae.toString=function(){return pe},Ae}}}var VR={"-":"",_:" ",0:"0"},Or=/^\s*\d+/,jY=/^%/,MY=/[\\^$*+?|[\]().{}]/g;function pt(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function DY(t){return t.replace(MY,"\\$&")}function Wc(t){return new RegExp("^(?:"+t.map(DY).join("|")+")","i")}function Hc(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function LY(t,e,r){var n=Or.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function $Y(t,e,r){var n=Or.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function FY(t,e,r){var n=Or.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function VY(t,e,r){var n=Or.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function UY(t,e,r){var n=Or.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function UR(t,e,r){var n=Or.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function BR(t,e,r){var n=Or.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function BY(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function qY(t,e,r){var n=Or.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function zY(t,e,r){var n=Or.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function qR(t,e,r){var n=Or.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function WY(t,e,r){var n=Or.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function zR(t,e,r){var n=Or.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function HY(t,e,r){var n=Or.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function KY(t,e,r){var n=Or.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function GY(t,e,r){var n=Or.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function YY(t,e,r){var n=Or.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function XY(t,e,r){var n=jY.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function QY(t,e,r){var n=Or.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function JY(t,e,r){var n=Or.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function WR(t,e){return pt(t.getDate(),e,2)}function ZY(t,e){return pt(t.getHours(),e,2)}function eX(t,e){return pt(t.getHours()%12||12,e,2)}function tX(t,e){return pt(1+Ld.count(to(t),t),e,3)}function M$(t,e){return pt(t.getMilliseconds(),e,3)}function rX(t,e){return M$(t,e)+"000"}function nX(t,e){return pt(t.getMonth()+1,e,2)}function iX(t,e){return pt(t.getMinutes(),e,2)}function aX(t,e){return pt(t.getSeconds(),e,2)}function oX(t){var e=t.getDay();return e===0?7:e}function sX(t,e){return pt(Pg.count(to(t)-1,t),e,2)}function D$(t){var e=t.getDay();return e>=4||e===0?Iu(t):Iu.ceil(t)}function lX(t,e){return t=D$(t),pt(Iu.count(to(t),t)+(to(t).getDay()===4),e,2)}function uX(t){return t.getDay()}function cX(t,e){return pt(dm.count(to(t)-1,t),e,2)}function fX(t,e){return pt(t.getFullYear()%100,e,2)}function dX(t,e){return t=D$(t),pt(t.getFullYear()%100,e,2)}function hX(t,e){return pt(t.getFullYear()%1e4,e,4)}function pX(t,e){var r=t.getDay();return t=r>=4||r===0?Iu(t):Iu.ceil(t),pt(t.getFullYear()%1e4,e,4)}function mX(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+pt(e/60|0,"0",2)+pt(e%60,"0",2)}function HR(t,e){return pt(t.getUTCDate(),e,2)}function gX(t,e){return pt(t.getUTCHours(),e,2)}function yX(t,e){return pt(t.getUTCHours()%12||12,e,2)}function vX(t,e){return pt(1+Ag.count(ro(t),t),e,3)}function L$(t,e){return pt(t.getUTCMilliseconds(),e,3)}function bX(t,e){return L$(t,e)+"000"}function _X(t,e){return pt(t.getUTCMonth()+1,e,2)}function xX(t,e){return pt(t.getUTCMinutes(),e,2)}function wX(t,e){return pt(t.getUTCSeconds(),e,2)}function EX(t){var e=t.getUTCDay();return e===0?7:e}function SX(t,e){return pt(kg.count(ro(t)-1,t),e,2)}function $$(t){var e=t.getUTCDay();return e>=4||e===0?Ou(t):Ou.ceil(t)}function TX(t,e){return t=$$(t),pt(Ou.count(ro(t),t)+(ro(t).getUTCDay()===4),e,2)}function AX(t){return t.getUTCDay()}function PX(t,e){return pt(hm.count(ro(t)-1,t),e,2)}function kX(t,e){return pt(t.getUTCFullYear()%100,e,2)}function IX(t,e){return t=$$(t),pt(t.getUTCFullYear()%100,e,2)}function OX(t,e){return pt(t.getUTCFullYear()%1e4,e,4)}function CX(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Ou(t):Ou.ceil(t),pt(t.getUTCFullYear()%1e4,e,4)}function RX(){return"+0000"}function KR(){return"%"}function GR(t){return+t}function YR(t){return Math.floor(+t/1e3)}var Xl,F$,V$;NX({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function NX(t){return Xl=NY(t),F$=Xl.format,Xl.parse,V$=Xl.utcFormat,Xl.utcParse,Xl}function jX(t){return new Date(t)}function MX(t){return t instanceof Date?+t:+new Date(+t)}function xS(t,e,r,n,i,a,s,u,c,f){var h=sS(),m=h.invert,y=h.domain,v=f(".%L"),E=f(":%S"),w=f("%I:%M"),x=f("%I %p"),O=f("%a %d"),C=f("%b %d"),R=f("%B"),$=f("%Y");function I(j){return(c(j)<j?v:u(j)<j?E:s(j)<j?w:a(j)<j?x:n(j)<j?i(j)<j?O:C:r(j)<j?R:$)(j)}return h.invert=function(j){return new Date(m(j))},h.domain=function(j){return arguments.length?y(Array.from(j,MX)):y().map(jX)},h.ticks=function(j){var A=y();return t(A[0],A[A.length-1],j??10)},h.tickFormat=function(j,A){return A==null?I:f(A)},h.nice=function(j){var A=y();return(!j||typeof j.range!="function")&&(j=e(A[0],A[A.length-1],j??10)),j?y(A$(A,j)):h},h.copy=function(){return Dd(h,xS(t,e,r,n,i,a,s,u,c,f))},h}function DX(){return hi.apply(xS(CY,RY,to,bS,Pg,Ld,yS,mS,Fs,F$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function LX(){return hi.apply(xS(IY,OY,ro,_S,kg,Ag,vS,gS,Fs,V$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ig(){var t=0,e=1,r,n,i,a,s=un,u=!1,c;function f(m){return m==null||isNaN(m=+m)?c:s(i===0?.5:(m=(a(m)-r)*i,u?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([t,e]=m,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),f):[t,e]},f.clamp=function(m){return arguments.length?(u=!!m,f):u},f.interpolator=function(m){return arguments.length?(s=m,f):s};function h(m){return function(y){var v,E;return arguments.length?([v,E]=y,s=m(v,E),f):[s(0),s(1)]}}return f.range=h(rc),f.rangeRound=h(oS),f.unknown=function(m){return arguments.length?(c=m,f):c},function(m){return a=m,r=m(t),n=m(e),i=r===n?0:1/(n-r),f}}function is(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function U$(){var t=ns(Ig()(un));return t.copy=function(){return is(t,U$())},ao.apply(t,arguments)}function B$(){var t=cS(Ig()).domain([1,10]);return t.copy=function(){return is(t,B$()).base(t.base())},ao.apply(t,arguments)}function q$(){var t=fS(Ig());return t.copy=function(){return is(t,q$()).constant(t.constant())},ao.apply(t,arguments)}function wS(){var t=dS(Ig());return t.copy=function(){return is(t,wS()).exponent(t.exponent())},ao.apply(t,arguments)}function $X(){return wS.apply(null,arguments).exponent(.5)}function z$(){var t=[],e=un;function r(n){if(n!=null&&!isNaN(n=+n))return e((jd(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ko),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>SG(t,a/n))},r.copy=function(){return z$(e).domain(t)},ao.apply(r,arguments)}function Og(){var t=0,e=.5,r=1,n=1,i,a,s,u,c,f=un,h,m=!1,y;function v(w){return isNaN(w=+w)?y:(w=.5+((w=+h(w))-a)*(n*w<n*a?u:c),f(m?Math.max(0,Math.min(1,w)):w))}v.domain=function(w){return arguments.length?([t,e,r]=w,i=h(t=+t),a=h(e=+e),s=h(r=+r),u=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,v):[t,e,r]},v.clamp=function(w){return arguments.length?(m=!!w,v):m},v.interpolator=function(w){return arguments.length?(f=w,v):f};function E(w){return function(x){var O,C,R;return arguments.length?([O,C,R]=x,f=XG(w,[O,C,R]),v):[f(0),f(.5),f(1)]}}return v.range=E(rc),v.rangeRound=E(oS),v.unknown=function(w){return arguments.length?(y=w,v):y},function(w){return h=w,i=w(t),a=w(e),s=w(r),u=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,v}}function W$(){var t=ns(Og()(un));return t.copy=function(){return is(t,W$())},ao.apply(t,arguments)}function H$(){var t=cS(Og()).domain([.1,1,10]);return t.copy=function(){return is(t,H$()).base(t.base())},ao.apply(t,arguments)}function K$(){var t=fS(Og());return t.copy=function(){return is(t,K$()).constant(t.constant())},ao.apply(t,arguments)}function ES(){var t=dS(Og());return t.copy=function(){return is(t,ES()).exponent(t.exponent())},ao.apply(t,arguments)}function FX(){return ES.apply(null,arguments).exponent(.5)}const XR=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ff,scaleDiverging:W$,scaleDivergingLog:H$,scaleDivergingPow:ES,scaleDivergingSqrt:FX,scaleDivergingSymlog:K$,scaleIdentity:T$,scaleImplicit:Lw,scaleLinear:cm,scaleLog:P$,scaleOrdinal:nS,scalePoint:mf,scalePow:hS,scaleQuantile:O$,scaleQuantize:C$,scaleRadial:I$,scaleSequential:U$,scaleSequentialLog:B$,scaleSequentialPow:wS,scaleSequentialQuantile:z$,scaleSequentialSqrt:$X,scaleSequentialSymlog:q$,scaleSqrt:bY,scaleSymlog:k$,scaleThreshold:R$,scaleTime:DX,scaleUtc:LX,tickFormat:S$},Symbol.toStringTag,{value:"Module"}));var ex,QR;function Cg(){if(QR)return ex;QR=1;var t=Ju();function e(r,n,i){for(var a=-1,s=r.length;++a<s;){var u=r[a],c=n(u);if(c!=null&&(f===void 0?c===c&&!t(c):i(c,f)))var f=c,h=u}return h}return ex=e,ex}var tx,JR;function G$(){if(JR)return tx;JR=1;function t(e,r){return e>r}return tx=t,tx}var rx,ZR;function VX(){if(ZR)return rx;ZR=1;var t=Cg(),e=G$(),r=tc();function n(i){return i&&i.length?t(i,r,e):void 0}return rx=n,rx}var UX=VX();const Rg=vt(UX);var nx,eN;function Y$(){if(eN)return nx;eN=1;function t(e,r){return e<r}return nx=t,nx}var ix,tN;function BX(){if(tN)return ix;tN=1;var t=Cg(),e=Y$(),r=tc();function n(i){return i&&i.length?t(i,r,e):void 0}return ix=n,ix}var qX=BX();const Ng=vt(qX);var ax,rN;function zX(){if(rN)return ax;rN=1;var t=FE(),e=ga(),r=n$(),n=Sn();function i(a,s){var u=n(a)?t:r;return u(a,e(s,3))}return ax=i,ax}var ox,nN;function WX(){if(nN)return ox;nN=1;var t=t$(),e=zX();function r(n,i){return t(e(n,i),1)}return ox=r,ox}var HX=WX();const KX=vt(HX);var sx,iN;function GX(){if(iN)return sx;iN=1;var t=JE();function e(r,n){return t(r,n)}return sx=e,sx}var YX=GX();const $d=vt(YX);var nc=1e9,XX={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},TS,Vt=!0,di="[DecimalError] ",zs=di+"Invalid argument: ",SS=di+"Exponent out of range: ",ic=Math.floor,js=Math.pow,QX=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,zn,kr=1e7,jt=7,X$=9007199254740991,pm=ic(X$/jt),Ie={};Ie.absoluteValue=Ie.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ie.comparedTo=Ie.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Ie.decimalPlaces=Ie.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*jt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Ie.dividedBy=Ie.div=function(t){return Ka(this,new this.constructor(t))};Ie.dividedToIntegerBy=Ie.idiv=function(t){var e=this,r=e.constructor;return Pt(Ka(e,new r(t),0,1),r.precision)};Ie.equals=Ie.eq=function(t){return!this.cmp(t)};Ie.exponent=function(){return ur(this)};Ie.greaterThan=Ie.gt=function(t){return this.cmp(t)>0};Ie.greaterThanOrEqualTo=Ie.gte=function(t){return this.cmp(t)>=0};Ie.isInteger=Ie.isint=function(){return this.e>this.d.length-2};Ie.isNegative=Ie.isneg=function(){return this.s<0};Ie.isPositive=Ie.ispos=function(){return this.s>0};Ie.isZero=function(){return this.s===0};Ie.lessThan=Ie.lt=function(t){return this.cmp(t)<0};Ie.lessThanOrEqualTo=Ie.lte=function(t){return this.cmp(t)<1};Ie.logarithm=Ie.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(zn))throw Error(di+"NaN");if(r.s<1)throw Error(di+(r.s?"NaN":"-Infinity"));return r.eq(zn)?new n(0):(Vt=!1,e=Ka(zf(r,a),zf(t,a),a),Vt=!0,Pt(e,i))};Ie.minus=Ie.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Z$(e,t):Q$(e,(t.s=-t.s,t))};Ie.modulo=Ie.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(di+"NaN");return r.s?(Vt=!1,e=Ka(r,t,0,1).times(t),Vt=!0,r.minus(e)):Pt(new n(r),i)};Ie.naturalExponential=Ie.exp=function(){return J$(this)};Ie.naturalLogarithm=Ie.ln=function(){return zf(this)};Ie.negated=Ie.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ie.plus=Ie.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Q$(e,t):Z$(e,(t.s=-t.s,t))};Ie.precision=Ie.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(zs+t);if(e=ur(i)+1,n=i.d.length-1,r=n*jt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Ie.squareRoot=Ie.sqrt=function(){var t,e,r,n,i,a,s,u=this,c=u.constructor;if(u.s<1){if(!u.s)return new c(0);throw Error(di+"NaN")}for(t=ur(u),Vt=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=ra(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=ic((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(i.toString()),r=c.precision,i=s=r+3;;)if(a=n,n=a.plus(Ka(u,a,s+2)).times(.5),ra(a.d).slice(0,s)===(e=ra(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Pt(a,r+1,0),a.times(a).eq(u)){n=a;break}}else if(e!="9999")break;s+=4}return Vt=!0,Pt(n,r)};Ie.times=Ie.mul=function(t){var e,r,n,i,a,s,u,c,f,h=this,m=h.constructor,y=h.d,v=(t=new m(t)).d;if(!h.s||!t.s)return new m(0);for(t.s*=h.s,r=h.e+t.e,c=y.length,f=v.length,c<f&&(a=y,y=v,v=a,s=c,c=f,f=s),a=[],s=c+f,n=s;n--;)a.push(0);for(n=f;--n>=0;){for(e=0,i=c+n;i>n;)u=a[i]+v[n]*y[i-n-1]+e,a[i--]=u%kr|0,e=u/kr|0;a[i]=(a[i]+e)%kr|0}for(;!a[--s];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,Vt?Pt(t,m.precision):t};Ie.toDecimalPlaces=Ie.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(fa(t,0,nc),e===void 0?e=n.rounding:fa(e,0,8),Pt(r,t+ur(r)+1,e))};Ie.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=tl(n,!0):(fa(t,0,nc),e===void 0?e=i.rounding:fa(e,0,8),n=Pt(new i(n),t+1,e),r=tl(n,!0,t+1)),r};Ie.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?tl(i):(fa(t,0,nc),e===void 0?e=a.rounding:fa(e,0,8),n=Pt(new a(i),t+ur(i)+1,e),r=tl(n.abs(),!1,t+ur(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Ie.toInteger=Ie.toint=function(){var t=this,e=t.constructor;return Pt(new e(t),ur(t)+1,e.rounding)};Ie.toNumber=function(){return+this};Ie.toPower=Ie.pow=function(t){var e,r,n,i,a,s,u=this,c=u.constructor,f=12,h=+(t=new c(t));if(!t.s)return new c(zn);if(u=new c(u),!u.s){if(t.s<1)throw Error(di+"Infinity");return u}if(u.eq(zn))return u;if(n=c.precision,t.eq(zn))return Pt(u,n);if(e=t.e,r=t.d.length-1,s=e>=r,a=u.s,s){if((r=h<0?-h:h)<=X$){for(i=new c(zn),e=Math.ceil(n/jt+4),Vt=!1;r%2&&(i=i.times(u),oN(i.d,e)),r=ic(r/2),r!==0;)u=u.times(u),oN(u.d,e);return Vt=!0,t.s<0?new c(zn).div(i):Pt(i,n)}}else if(a<0)throw Error(di+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,u.s=1,Vt=!1,i=t.times(zf(u,n+f)),Vt=!0,i=J$(i),i.s=a,i};Ie.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=ur(i),n=tl(i,r<=a.toExpNeg||r>=a.toExpPos)):(fa(t,1,nc),e===void 0?e=a.rounding:fa(e,0,8),i=Pt(new a(i),t,e),r=ur(i),n=tl(i,t<=r||r<=a.toExpNeg,t)),n};Ie.toSignificantDigits=Ie.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(fa(t,1,nc),e===void 0?e=n.rounding:fa(e,0,8)),Pt(new n(r),t,e)};Ie.toString=Ie.valueOf=Ie.val=Ie.toJSON=Ie[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=ur(t),r=t.constructor;return tl(t,e<=r.toExpNeg||e>=r.toExpPos)};function Q$(t,e){var r,n,i,a,s,u,c,f,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),Vt?Pt(e,m):e;if(c=t.d,f=e.d,s=t.e,i=e.e,c=c.slice(),a=s-i,a){for(a<0?(n=c,a=-a,u=f.length):(n=f,i=s,u=c.length),s=Math.ceil(m/jt),u=s>u?s+1:u+1,a>u&&(a=u,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(u=c.length,a=f.length,u-a<0&&(a=u,n=f,f=c,c=n),r=0;a;)r=(c[--a]=c[a]+f[a]+r)/kr|0,c[a]%=kr;for(r&&(c.unshift(r),++i),u=c.length;c[--u]==0;)c.pop();return e.d=c,e.e=i,Vt?Pt(e,m):e}function fa(t,e,r){if(t!==~~t||t<e||t>r)throw Error(zs+t)}function ra(t){var e,r,n,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)n=t[e]+"",r=jt-n.length,r&&(a+=jo(r)),a+=n;s=t[e],n=s+"",r=jt-n.length,r&&(a+=jo(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Ka=function(){function t(n,i){var a,s=0,u=n.length;for(n=n.slice();u--;)a=n[u]*i+s,n[u]=a%kr|0,s=a/kr|0;return s&&n.unshift(s),n}function e(n,i,a,s){var u,c;if(a!=s)c=a>s?1:-1;else for(u=c=0;u<a;u++)if(n[u]!=i[u]){c=n[u]>i[u]?1:-1;break}return c}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*kr+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var u,c,f,h,m,y,v,E,w,x,O,C,R,$,I,j,A,P,N=n.constructor,F=n.s==i.s?1:-1,D=n.d,V=i.d;if(!n.s)return new N(n);if(!i.s)throw Error(di+"Division by zero");for(c=n.e-i.e,A=V.length,I=D.length,v=new N(F),E=v.d=[],f=0;V[f]==(D[f]||0);)++f;if(V[f]>(D[f]||0)&&--c,a==null?C=a=N.precision:s?C=a+(ur(n)-ur(i))+1:C=a,C<0)return new N(0);if(C=C/jt+2|0,f=0,A==1)for(h=0,V=V[0],C++;(f<I||h)&&C--;f++)R=h*kr+(D[f]||0),E[f]=R/V|0,h=R%V|0;else{for(h=kr/(V[0]+1)|0,h>1&&(V=t(V,h),D=t(D,h),A=V.length,I=D.length),$=A,w=D.slice(0,A),x=w.length;x<A;)w[x++]=0;P=V.slice(),P.unshift(0),j=V[0],V[1]>=kr/2&&++j;do h=0,u=e(V,w,A,x),u<0?(O=w[0],A!=x&&(O=O*kr+(w[1]||0)),h=O/j|0,h>1?(h>=kr&&(h=kr-1),m=t(V,h),y=m.length,x=w.length,u=e(m,w,y,x),u==1&&(h--,r(m,A<y?P:V,y))):(h==0&&(u=h=1),m=V.slice()),y=m.length,y<x&&m.unshift(0),r(w,m,x),u==-1&&(x=w.length,u=e(V,w,A,x),u<1&&(h++,r(w,A<x?P:V,x))),x=w.length):u===0&&(h++,w=[0]),E[f++]=h,u&&w[0]?w[x++]=D[$]||0:(w=[D[$]],x=1);while(($++<I||w[0]!==void 0)&&C--)}return E[0]||E.shift(),v.e=c,Pt(v,s?a+ur(v)+1:a)}}();function J$(t,e){var r,n,i,a,s,u,c=0,f=0,h=t.constructor,m=h.precision;if(ur(t)>16)throw Error(SS+ur(t));if(!t.s)return new h(zn);for(Vt=!1,u=m,s=new h(.03125);t.abs().gte(.1);)t=t.times(s),f+=5;for(n=Math.log(js(2,f))/Math.LN10*2+5|0,u+=n,r=i=a=new h(zn),h.precision=u;;){if(i=Pt(i.times(t),u),r=r.times(++c),s=a.plus(Ka(i,r,u)),ra(s.d).slice(0,u)===ra(a.d).slice(0,u)){for(;f--;)a=Pt(a.times(a),u);return h.precision=m,e==null?(Vt=!0,Pt(a,m)):a}a=s}}function ur(t){for(var e=t.e*jt,r=t.d[0];r>=10;r/=10)e++;return e}function lx(t,e,r){if(e>t.LN10.sd())throw Vt=!0,r&&(t.precision=r),Error(di+"LN10 precision limit exceeded");return Pt(new t(t.LN10),e)}function jo(t){for(var e="";t--;)e+="0";return e}function zf(t,e){var r,n,i,a,s,u,c,f,h,m=1,y=10,v=t,E=v.d,w=v.constructor,x=w.precision;if(v.s<1)throw Error(di+(v.s?"NaN":"-Infinity"));if(v.eq(zn))return new w(0);if(e==null?(Vt=!1,f=x):f=e,v.eq(10))return e==null&&(Vt=!0),lx(w,f);if(f+=y,w.precision=f,r=ra(E),n=r.charAt(0),a=ur(v),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)v=v.times(t),r=ra(v.d),n=r.charAt(0),m++;a=ur(v),n>1?(v=new w("0."+r),a++):v=new w(n+"."+r.slice(1))}else return c=lx(w,f+2,x).times(a+""),v=zf(new w(n+"."+r.slice(1)),f-y).plus(c),w.precision=x,e==null?(Vt=!0,Pt(v,x)):v;for(u=s=v=Ka(v.minus(zn),v.plus(zn),f),h=Pt(v.times(v),f),i=3;;){if(s=Pt(s.times(h),f),c=u.plus(Ka(s,new w(i),f)),ra(c.d).slice(0,f)===ra(u.d).slice(0,f))return u=u.times(2),a!==0&&(u=u.plus(lx(w,f+2,x).times(a+""))),u=Ka(u,new w(m),f),w.precision=x,e==null?(Vt=!0,Pt(u,x)):u;u=c,i+=2}}function aN(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=ic(r/jt),t.d=[],n=(r+1)%jt,r<0&&(n+=jt),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=jt;n<i;)t.d.push(+e.slice(n,n+=jt));e=e.slice(n),n=jt-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Vt&&(t.e>pm||t.e<-pm))throw Error(SS+r)}else t.s=0,t.e=0,t.d=[0];return t}function Pt(t,e,r){var n,i,a,s,u,c,f,h,m=t.d;for(s=1,a=m[0];a>=10;a/=10)s++;if(n=e-s,n<0)n+=jt,i=e,f=m[h=0];else{if(h=Math.ceil((n+1)/jt),a=m.length,h>=a)return t;for(f=a=m[h],s=1;a>=10;a/=10)s++;n%=jt,i=n-jt+s}if(r!==void 0&&(a=js(10,s-i-1),u=f/a%10|0,c=e<0||m[h+1]!==void 0||f%a,c=r<4?(u||c)&&(r==0||r==(t.s<0?3:2)):u>5||u==5&&(r==4||c||r==6&&(n>0?i>0?f/js(10,s-i):0:m[h-1])%10&1||r==(t.s<0?8:7))),e<1||!m[0])return c?(a=ur(t),m.length=1,e=e-a-1,m[0]=js(10,(jt-e%jt)%jt),t.e=ic(-e/jt)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(n==0?(m.length=h,a=1,h--):(m.length=h+1,a=js(10,jt-n),m[h]=i>0?(f/js(10,s-i)%js(10,i)|0)*a:0),c)for(;;)if(h==0){(m[0]+=a)==kr&&(m[0]=1,++t.e);break}else{if(m[h]+=a,m[h]!=kr)break;m[h--]=0,a=1}for(n=m.length;m[--n]===0;)m.pop();if(Vt&&(t.e>pm||t.e<-pm))throw Error(SS+ur(t));return t}function Z$(t,e){var r,n,i,a,s,u,c,f,h,m,y=t.constructor,v=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),Vt?Pt(e,v):e;if(c=t.d,m=e.d,n=e.e,f=t.e,c=c.slice(),s=f-n,s){for(h=s<0,h?(r=c,s=-s,u=m.length):(r=m,n=f,u=c.length),i=Math.max(Math.ceil(v/jt),u)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=c.length,u=m.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(c[i]!=m[i]){h=c[i]<m[i];break}s=0}for(h&&(r=c,c=m,m=r,e.s=-e.s),u=c.length,i=m.length-u;i>0;--i)c[u++]=0;for(i=m.length;i>s;){if(c[--i]<m[i]){for(a=i;a&&c[--a]===0;)c[a]=kr-1;--c[a],c[i]+=kr}c[i]-=m[i]}for(;c[--u]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Vt?Pt(e,v):e):new y(0)}function tl(t,e,r){var n,i=ur(t),a=ra(t.d),s=a.length;return e?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+jo(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+jo(-i-1)+a,r&&(n=r-s)>0&&(a+=jo(n))):i>=s?(a+=jo(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+jo(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=jo(n))),t.s<0?"-"+a:a}function oN(t,e){if(t.length>e)return t.length=e,!0}function e4(t){var e,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(zs+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return aN(s,a.toString())}else if(typeof a!="string")throw Error(zs+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,QX.test(a))aN(s,a);else throw Error(zs+a)}if(i.prototype=Ie,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=e4,i.config=i.set=JX,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function JX(t){if(!t||typeof t!="object")throw Error(di+"Object expected");var e,r,n,i=["precision",1,nc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(ic(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(zs+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(zs+r+": "+n);return this}var TS=e4(XX);zn=new TS(1);const St=TS;function ZX(t){return nQ(t)||rQ(t)||tQ(t)||eQ()}function eQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tQ(t,e){if(t){if(typeof t=="string")return Uw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Uw(t,e)}}function rQ(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function nQ(t){if(Array.isArray(t))return Uw(t)}function Uw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var iQ=function(e){return e},t4={},r4=function(e){return e===t4},sN=function(e){return function r(){return arguments.length===0||arguments.length===1&&r4(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},aQ=function t(e,r){return e===1?r:sN(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var s=i.filter(function(u){return u!==t4}).length;return s>=e?r.apply(void 0,i):t(e-s,sN(function(){for(var u=arguments.length,c=new Array(u),f=0;f<u;f++)c[f]=arguments[f];var h=i.map(function(m){return r4(m)?c.shift():m});return r.apply(void 0,ZX(h).concat(c))}))})},jg=function(e){return aQ(e.length,e)},Bw=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},oQ=jg(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),sQ=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return iQ;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(u,c){return c(u)},a.apply(void 0,arguments))}},qw=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},n4=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r&&a.every(function(u,c){return u===r[c]})||(r=a,n=e.apply(void 0,a)),n}};function lQ(t){var e;return t===0?e=1:e=Math.floor(new St(t).abs().log(10).toNumber())+1,e}function uQ(t,e,r){for(var n=new St(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var cQ=jg(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),fQ=jg(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),dQ=jg(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const Mg={rangeStep:uQ,getDigitCount:lQ,interpolateNumber:cQ,uninterpolateNumber:fQ,uninterpolateTruncation:dQ};function zw(t){return mQ(t)||pQ(t)||i4(t)||hQ()}function hQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pQ(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function mQ(t){if(Array.isArray(t))return Ww(t)}function Wf(t,e){return vQ(t)||yQ(t,e)||i4(t,e)||gQ()}function gQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i4(t,e){if(t){if(typeof t=="string")return Ww(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ww(t,e)}}function Ww(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function yQ(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),u;!(n=(u=s.next()).done)&&(r.push(u.value),!(e&&r.length===e));n=!0);}catch(c){i=!0,a=c}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw a}}return r}}function vQ(t){if(Array.isArray(t))return t}function a4(t){var e=Wf(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function o4(t,e,r){if(t.lte(0))return new St(0);var n=Mg.getDigitCount(t.toNumber()),i=new St(10).pow(n),a=t.div(i),s=n!==1?.05:.1,u=new St(Math.ceil(a.div(s).toNumber())).add(r).mul(s),c=u.mul(i);return e?c:new St(Math.ceil(c))}function bQ(t,e,r){var n=1,i=new St(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new St(10).pow(Mg.getDigitCount(t)-1),i=new St(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new St(Math.floor(t)))}else t===0?i=new St(Math.floor((e-1)/2)):r||(i=new St(Math.floor(t)));var s=Math.floor((e-1)/2),u=sQ(oQ(function(c){return i.add(new St(c-s).mul(n)).toNumber()}),Bw);return u(0,e)}function s4(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new St(0),tickMin:new St(0),tickMax:new St(0)};var a=o4(new St(e).sub(t).div(r-1),n,i),s;t<=0&&e>=0?s=new St(0):(s=new St(t).add(e).div(2),s=s.sub(new St(s).mod(a)));var u=Math.ceil(s.sub(t).div(a).toNumber()),c=Math.ceil(new St(e).sub(s).div(a).toNumber()),f=u+c+1;return f>r?s4(t,e,r,n,i+1):(f<r&&(c=e>0?c+(r-f):c,u=e>0?u:u+(r-f)),{step:a,tickMin:s.sub(new St(u).mul(a)),tickMax:s.add(new St(c).mul(a))})}function _Q(t){var e=Wf(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),u=a4([r,n]),c=Wf(u,2),f=c[0],h=c[1];if(f===-1/0||h===1/0){var m=h===1/0?[f].concat(zw(Bw(0,i-1).map(function(){return 1/0}))):[].concat(zw(Bw(0,i-1).map(function(){return-1/0})),[h]);return r>n?qw(m):m}if(f===h)return bQ(f,i,a);var y=s4(f,h,s,a),v=y.step,E=y.tickMin,w=y.tickMax,x=Mg.rangeStep(E,w.add(new St(.1).mul(v)),v);return r>n?qw(x):x}function xQ(t,e){var r=Wf(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=a4([n,i]),u=Wf(s,2),c=u[0],f=u[1];if(c===-1/0||f===1/0)return[n,i];if(c===f)return[c];var h=Math.max(e,2),m=o4(new St(f).sub(c).div(h-1),a,0),y=[].concat(zw(Mg.rangeStep(new St(c),new St(f).sub(new St(.99).mul(m)),m)),[f]);return n>i?qw(y):y}var wQ=n4(_Q),EQ=n4(xQ),SQ="Invariant failed";function rl(t,e){throw new Error(SQ)}var TQ=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Cu(t){"@babel/helpers - typeof";return Cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cu(t)}function mm(){return mm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mm.apply(this,arguments)}function AQ(t,e){return OQ(t)||IQ(t,e)||kQ(t,e)||PQ()}function PQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kQ(t,e){if(t){if(typeof t=="string")return lN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lN(t,e)}}function lN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function IQ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function OQ(t){if(Array.isArray(t))return t}function CQ(t,e){if(t==null)return{};var r=RQ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function RQ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function NQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c4(n.key),n)}}function MQ(t,e,r){return e&&jQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function DQ(t,e,r){return e=gm(e),LQ(t,l4()?Reflect.construct(e,r||[],gm(t).constructor):e.apply(t,r))}function LQ(t,e){if(e&&(Cu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Q(t)}function $Q(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l4=function(){return!!t})()}function gm(t){return gm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gm(t)}function FQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hw(t,e)}function Hw(t,e){return Hw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Hw(t,e)}function u4(t,e,r){return e=c4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c4(t){var e=VQ(t,"string");return Cu(e)=="symbol"?e:e+""}function VQ(t,e){if(Cu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Fd=function(t){function e(){return NQ(this,e),DQ(this,e,arguments)}return FQ(e,t),MQ(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,s=n.width,u=n.dataKey,c=n.data,f=n.dataPointFormatter,h=n.xAxis,m=n.yAxis,y=CQ(n,TQ),v=qe(y,!1);this.props.direction==="x"&&h.type!=="number"&&rl();var E=c.map(function(w){var x=f(w,u),O=x.x,C=x.y,R=x.value,$=x.errorVal;if(!$)return null;var I=[],j,A;if(Array.isArray($)){var P=AQ($,2);j=P[0],A=P[1]}else j=A=$;if(a==="vertical"){var N=h.scale,F=C+i,D=F+s,V=F-s,M=N(R-j),Z=N(R+A);I.push({x1:Z,y1:D,x2:Z,y2:V}),I.push({x1:M,y1:F,x2:Z,y2:F}),I.push({x1:M,y1:D,x2:M,y2:V})}else if(a==="horizontal"){var ee=m.scale,re=O+i,oe=re-s,Q=re+s,ae=ee(R-j),se=ee(R+A);I.push({x1:oe,y1:se,x2:Q,y2:se}),I.push({x1:re,y1:ae,x2:re,y2:se}),I.push({x1:oe,y1:ae,x2:Q,y2:ae})}return z.createElement(ht,mm({className:"recharts-errorBar",key:"bar-".concat(I.map(function(q){return"".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))},v),I.map(function(q){return z.createElement("line",mm({},q,{key:"line-".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))}))});return z.createElement(ht,{className:"recharts-errorBars"},E)}}])}(z.Component);u4(Fd,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});u4(Fd,"displayName","ErrorBar");function Hf(t){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf(t)}function uN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Is(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uN(Object(r),!0).forEach(function(n){UQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UQ(t,e,r){return e=BQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BQ(t){var e=qQ(t,"string");return Hf(e)=="symbol"?e:e+""}function qQ(t,e){if(Hf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var f4=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=Un(r,Ha);if(!s)return null;var u=Ha.defaultProps,c=u!==void 0?Is(Is({},u),s.props):{},f;return s.props&&s.props.payload?f=s.props&&s.props.payload:a==="children"?f=(n||[]).reduce(function(h,m){var y=m.item,v=m.props,E=v.sectors||v.data||[];return h.concat(E.map(function(w){return{type:s.props.iconType||y.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):f=(n||[]).map(function(h){var m=h.item,y=m.type.defaultProps,v=y!==void 0?Is(Is({},y),m.props):{},E=v.dataKey,w=v.name,x=v.legendType,O=v.hide;return{inactive:O,dataKey:E,type:c.iconType||x||"square",color:AS(m),value:w||E,payload:v}}),Is(Is(Is({},c),Ha.getWithHeight(s,i)),{},{payload:f,item:s})};function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}function cN(t){return KQ(t)||HQ(t)||WQ(t)||zQ()}function zQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WQ(t,e){if(t){if(typeof t=="string")return Kw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kw(t,e)}}function HQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function KQ(t){if(Array.isArray(t))return Kw(t)}function Kw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Jt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fN(Object(r),!0).forEach(function(n){pu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pu(t,e,r){return e=GQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GQ(t){var e=YQ(t,"string");return Kf(e)=="symbol"?e:e+""}function YQ(t,e){if(Kf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yr(t,e,r){return Je(t)||Je(e)?r:vr(e)?Gn(t,e,r):Ye(e)?e(t):r}function gf(t,e,r,n){var i=KX(t,function(u){return yr(u,e)});if(r==="number"){var a=i.filter(function(u){return ve(u)||parseFloat(u)});return a.length?[Ng(a),Rg(a)]:[1/0,-1/0]}var s=n?i.filter(function(u){return!Je(u)}):i;return s.map(function(u){return vr(u)||u instanceof Date?u:""})}var XQ=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,u=(r=n?.length)!==null&&r!==void 0?r:0;if(u<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,f=0;f<u;f++){var h=f>0?i[f-1].coordinate:i[u-1].coordinate,m=i[f].coordinate,y=f>=u-1?i[0].coordinate:i[f+1].coordinate,v=void 0;if(sn(m-h)!==sn(y-m)){var E=[];if(sn(y-m)===sn(c[1]-c[0])){v=y;var w=m+c[1]-c[0];E[0]=Math.min(w,(w+h)/2),E[1]=Math.max(w,(w+h)/2)}else{v=h;var x=y+c[1]-c[0];E[0]=Math.min(m,(x+m)/2),E[1]=Math.max(m,(x+m)/2)}var O=[Math.min(m,(v+m)/2),Math.max(m,(v+m)/2)];if(e>O[0]&&e<=O[1]||e>=E[0]&&e<=E[1]){s=i[f].index;break}}else{var C=Math.min(h,y),R=Math.max(h,y);if(e>(C+m)/2&&e<=(R+m)/2){s=i[f].index;break}}}else for(var $=0;$<u;$++)if($===0&&e<=(n[$].coordinate+n[$+1].coordinate)/2||$>0&&$<u-1&&e>(n[$].coordinate+n[$-1].coordinate)/2&&e<=(n[$].coordinate+n[$+1].coordinate)/2||$===u-1&&e>(n[$].coordinate+n[$-1].coordinate)/2){s=n[$].index;break}return s},AS=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Jt(Jt({},e.type.defaultProps),e.props):e.props,s=a.stroke,u=a.fill,c;switch(i){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:u;break;default:c=u;break}return c},QQ=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},u=Object.keys(a),c=0,f=u.length;c<f;c++)for(var h=a[u[c]].stackGroups,m=Object.keys(h),y=0,v=m.length;y<v;y++){var E=h[m[y]],w=E.items,x=E.cateAxisId,O=w.filter(function(A){return Wa(A.type).indexOf("Bar")>=0});if(O&&O.length){var C=O[0].type.defaultProps,R=C!==void 0?Jt(Jt({},C),O[0].props):O[0].props,$=R.barSize,I=R[x];s[I]||(s[I]=[]);var j=Je($)?r:$;s[I].push({item:O[0],stackList:O.slice(1),barSize:Je(j)?void 0:ln(j,n,0)})}}return s},JQ=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,u=e.maxBarSize,c=s.length;if(c<1)return null;var f=ln(r,i,0,!0),h,m=[];if(s[0].barSize===+s[0].barSize){var y=!1,v=i/c,E=s.reduce(function($,I){return $+I.barSize||0},0);E+=(c-1)*f,E>=i&&(E-=(c-1)*f,f=0),E>=i&&v>0&&(y=!0,v*=.9,E=c*v);var w=(i-E)/2>>0,x={offset:w-f,size:0};h=s.reduce(function($,I){var j={item:I.item,position:{offset:x.offset+x.size+f,size:y?v:I.barSize}},A=[].concat(cN($),[j]);return x=A[A.length-1].position,I.stackList&&I.stackList.length&&I.stackList.forEach(function(P){A.push({item:P,position:x})}),A},m)}else{var O=ln(n,i,0,!0);i-2*O-(c-1)*f<=0&&(f=0);var C=(i-2*O-(c-1)*f)/c;C>1&&(C>>=0);var R=u===+u?Math.min(C,u):C;h=s.reduce(function($,I,j){var A=[].concat(cN($),[{item:I.item,position:{offset:O+(C+f)*j+(C-R)/2,size:R}}]);return I.stackList&&I.stackList.length&&I.stackList.forEach(function(P){A.push({item:P,position:A[A.length-1].position})}),A},m)}return h},ZQ=function(e,r,n,i){var a=n.children,s=n.width,u=n.margin,c=s-(u.left||0)-(u.right||0),f=f4({children:a,legendWidth:c});if(f){var h=i||{},m=h.width,y=h.height,v=f.align,E=f.verticalAlign,w=f.layout;if((w==="vertical"||w==="horizontal"&&E==="middle")&&v!=="center"&&ve(e[v]))return Jt(Jt({},e),{},pu({},v,e[v]+(m||0)));if((w==="horizontal"||w==="vertical"&&v==="center")&&E!=="middle"&&ve(e[E]))return Jt(Jt({},e),{},pu({},E,e[E]+(y||0)))}return e},eJ=function(e,r,n){return Je(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},d4=function(e,r,n,i,a){var s=r.props.children,u=Yn(s,Fd).filter(function(f){return eJ(i,a,f.props.direction)});if(u&&u.length){var c=u.map(function(f){return f.props.dataKey});return e.reduce(function(f,h){var m=yr(h,n);if(Je(m))return f;var y=Array.isArray(m)?[Ng(m),Rg(m)]:[m,m],v=c.reduce(function(E,w){var x=yr(h,w,0),O=y[0]-Math.abs(Array.isArray(x)?x[0]:x),C=y[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(O,E[0]),Math.max(C,E[1])]},[1/0,-1/0]);return[Math.min(v[0],f[0]),Math.max(v[1],f[1])]},[1/0,-1/0])}return null},tJ=function(e,r,n,i,a){var s=r.map(function(u){return d4(e,u,n,a,i)}).filter(function(u){return!Je(u)});return s&&s.length?s.reduce(function(u,c){return[Math.min(u[0],c[0]),Math.max(u[1],c[1])]},[1/0,-1/0]):null},h4=function(e,r,n,i,a){var s=r.map(function(c){var f=c.props.dataKey;return n==="number"&&f&&d4(e,c,f,i)||gf(e,f,n,a)});if(n==="number")return s.reduce(function(c,f){return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);var u={};return s.reduce(function(c,f){for(var h=0,m=f.length;h<m;h++)u[f[h]]||(u[f[h]]=!0,c.push(f[h]));return c},[])},p4=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},m4=function(e,r,n,i){if(i)return e.map(function(c){return c.coordinate});var a,s,u=e.map(function(c){return c.coordinate===r&&(a=!0),c.coordinate===n&&(s=!0),c.coordinate});return a||u.push(r),s||u.push(n),u},qa=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,u=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(r||n)&&s==="category"&&i.bandwidth?i.bandwidth()/c:0;if(f=e.axisType==="angleAxis"&&u?.length>=2?sn(u[0]-u[1])*2*f:f,r&&(e.ticks||e.niceTicks)){var h=(e.ticks||e.niceTicks).map(function(m){var y=a?a.indexOf(m):m;return{coordinate:i(y)+f,value:m,offset:f}});return h.filter(function(m){return!Rd(m.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(m,y){return{coordinate:i(m)+f,value:m,index:y,offset:f}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(m){return{coordinate:i(m)+f,value:m,offset:f}}):i.domain().map(function(m,y){return{coordinate:i(m)+f,value:a?a[m]:m,index:y,offset:f}})},ux=new WeakMap,pp=function(e,r){if(typeof r!="function")return e;ux.has(e)||ux.set(e,new WeakMap);var n=ux.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},g4=function(e,r,n){var i=e.scale,a=e.type,s=e.layout,u=e.axisType;if(i==="auto")return s==="radial"&&u==="radiusAxis"?{scale:Ff(),realScaleType:"band"}:s==="radial"&&u==="angleAxis"?{scale:cm(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:mf(),realScaleType:"point"}:a==="category"?{scale:Ff(),realScaleType:"band"}:{scale:cm(),realScaleType:"linear"};if(Js(i)){var c="scale".concat(gg(i));return{scale:(XR[c]||mf)(),realScaleType:XR[c]?c:"point"}}return Ye(i)?{scale:i}:{scale:mf(),realScaleType:"point"}},dN=1e-4,y4=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-dN,s=Math.max(i[0],i[1])+dN,u=e(r[0]),c=e(r[n-1]);(u<a||u>s||c<a||c>s)&&e.domain([r[0],r[n-1]])}},rJ=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},nJ=function(e,r){if(!r||r.length!==2||!ve(r[0])||!ve(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!ve(e[0])||e[0]<n)&&(a[0]=n),(!ve(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},iJ=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0,u=0;u<r;++u){var c=Rd(e[u][n][1])?e[u][n][0]:e[u][n][1];c>=0?(e[u][n][0]=a,e[u][n][1]=a+c,a=e[u][n][1]):(e[u][n][0]=s,e[u][n][1]=s+c,s=e[u][n][1])}},aJ=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0;s<r;++s){var u=Rd(e[s][n][1])?e[s][n][0]:e[s][n][1];u>=0?(e[s][n][0]=a,e[s][n][1]=a+u,a=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},oJ={sign:iJ,expand:K7,none:Eu,silhouette:G7,wiggle:Y7,positive:aJ},sJ=function(e,r,n){var i=r.map(function(u){return u.props.dataKey}),a=oJ[n],s=H7().keys(i).value(function(u,c){return+yr(u,c,0)}).order(Ew).offset(a);return s(e)},lJ=function(e,r,n,i,a,s){if(!e)return null;var u=s?r.reverse():r,c={},f=u.reduce(function(m,y){var v,E=(v=y.type)!==null&&v!==void 0&&v.defaultProps?Jt(Jt({},y.type.defaultProps),y.props):y.props,w=E.stackId,x=E.hide;if(x)return m;var O=E[n],C=m[O]||{hasStack:!1,stackGroups:{}};if(vr(w)){var R=C.stackGroups[w]||{numericAxisId:n,cateAxisId:i,items:[]};R.items.push(y),C.hasStack=!0,C.stackGroups[w]=R}else C.stackGroups[ec("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[y]};return Jt(Jt({},m),{},pu({},O,C))},c),h={};return Object.keys(f).reduce(function(m,y){var v=f[y];if(v.hasStack){var E={};v.stackGroups=Object.keys(v.stackGroups).reduce(function(w,x){var O=v.stackGroups[x];return Jt(Jt({},w),{},pu({},x,{numericAxisId:n,cateAxisId:i,items:O.items,stackedData:sJ(e,O.items,a)}))},E)}return Jt(Jt({},m),{},pu({},y,v))},h)},v4=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,s=r.originalDomain,u=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var f=e.domain();if(!f.length)return null;var h=wQ(f,a,u);return e.domain([Ng(h),Rg(h)]),{niceTicks:h}}if(a&&i==="number"){var m=e.domain(),y=EQ(m,a,u);return{niceTicks:y}}return null};function hN(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,a=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Je(i[e.dataKey])){var u=Hp(r,"value",i[e.dataKey]);if(u)return u.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var c=yr(i,Je(s)?e.dataKey:s);return Je(c)?null:e.scale(c)}var pN=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,u=e.index;if(r.type==="category")return n[u]?n[u].coordinate+i:null;var c=yr(s,r.dataKey,r.domain[u]);return Je(c)?null:r.scale(c)-a/2+i},uJ=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},cJ=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Jt(Jt({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(vr(a)){var s=r[a];if(s){var u=s.items.indexOf(e);return u>=0?s.stackedData[u]:null}}return null},fJ=function(e){return e.reduce(function(r,n){return[Ng(n.concat([r[0]]).filter(ve)),Rg(n.concat([r[1]]).filter(ve))]},[1/0,-1/0])},b4=function(e,r,n){return Object.keys(e).reduce(function(i,a){var s=e[a],u=s.stackedData,c=u.reduce(function(f,h){var m=fJ(h.slice(r,n+1));return[Math.min(f[0],m[0]),Math.max(f[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},mN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,gN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Gw=function(e,r,n){if(Ye(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(ve(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(mN.test(e[0])){var a=+mN.exec(e[0])[1];i[0]=r[0]-a}else Ye(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(ve(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(gN.test(e[1])){var s=+gN.exec(e[1])[1];i[1]=r[1]+s}else Ye(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},ym=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=eS(r,function(m){return m.coordinate}),s=1/0,u=1,c=a.length;u<c;u++){var f=a[u],h=a[u-1];s=Math.min((f.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},yN=function(e,r,n){return!e||!e.length||$d(e,Gn(n,"type.defaultProps.domain"))?r:e},_4=function(e,r){var n=e.type.defaultProps?Jt(Jt({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,s=n.unit,u=n.formatter,c=n.tooltipType,f=n.chartType,h=n.hide;return Jt(Jt({},qe(e,!1)),{},{dataKey:i,unit:s,formatter:u,name:a||i,color:AS(e),value:yr(r,i),type:c,payload:r,chartType:f,hide:h})};function Gf(t){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf(t)}function vN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function La(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vN(Object(r),!0).forEach(function(n){x4(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function x4(t,e,r){return e=dJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dJ(t){var e=hJ(t,"string");return Gf(e)=="symbol"?e:e+""}function hJ(t,e){if(Gf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pJ(t,e){return vJ(t)||yJ(t,e)||gJ(t,e)||mJ()}function mJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gJ(t,e){if(t){if(typeof t=="string")return bN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bN(t,e)}}function bN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function yJ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function vJ(t){if(Array.isArray(t))return t}var vm=Math.PI/180,bJ=function(e){return e*180/Math.PI},Ct=function(e,r,n,i){return{x:e+Math.cos(-vm*i)*n,y:r+Math.sin(-vm*i)*n}},w4=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},_J=function(e,r,n,i,a){var s=e.width,u=e.height,c=e.startAngle,f=e.endAngle,h=ln(e.cx,s,s/2),m=ln(e.cy,u,u/2),y=w4(s,u,n),v=ln(e.innerRadius,y,0),E=ln(e.outerRadius,y,y*.8),w=Object.keys(r);return w.reduce(function(x,O){var C=r[O],R=C.domain,$=C.reversed,I;if(Je(C.range))i==="angleAxis"?I=[c,f]:i==="radiusAxis"&&(I=[v,E]),$&&(I=[I[1],I[0]]);else{I=C.range;var j=I,A=pJ(j,2);c=A[0],f=A[1]}var P=g4(C,a),N=P.realScaleType,F=P.scale;F.domain(R).range(I),y4(F);var D=v4(F,La(La({},C),{},{realScaleType:N})),V=La(La(La({},C),D),{},{range:I,radius:E,realScaleType:N,scale:F,cx:h,cy:m,innerRadius:v,outerRadius:E,startAngle:c,endAngle:f});return La(La({},x),{},x4({},O,V))},{})},xJ=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-s,2))},wJ=function(e,r){var n=e.x,i=e.y,a=r.cx,s=r.cy,u=xJ({x:n,y:i},{x:a,y:s});if(u<=0)return{radius:u};var c=(n-a)/u,f=Math.acos(c);return i>s&&(f=2*Math.PI-f),{radius:u,angle:bJ(f),angleInRadian:f}},EJ=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return{startAngle:r-s*360,endAngle:n-s*360}},SJ=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),s=Math.floor(i/360),u=Math.min(a,s);return e+u*360},_N=function(e,r){var n=e.x,i=e.y,a=wJ({x:n,y:i},r),s=a.radius,u=a.angle,c=r.innerRadius,f=r.outerRadius;if(s<c||s>f)return!1;if(s===0)return!0;var h=EJ(r),m=h.startAngle,y=h.endAngle,v=u,E;if(m<=y){for(;v>y;)v-=360;for(;v<m;)v+=360;E=v>=m&&v<=y}else{for(;v>m;)v-=360;for(;v<y;)v+=360;E=v>=y&&v<=m}return E?La(La({},r),{},{radius:s,angle:SJ(v,r)}):null},E4=function(e){return!G.isValidElement(e)&&!Ye(e)&&typeof e!="boolean"?e.className:""};function Yf(t){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yf(t)}var TJ=["offset"];function AJ(t){return OJ(t)||IJ(t)||kJ(t)||PJ()}function PJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kJ(t,e){if(t){if(typeof t=="string")return Yw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yw(t,e)}}function IJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function OJ(t){if(Array.isArray(t))return Yw(t)}function Yw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function CJ(t,e){if(t==null)return{};var r=RJ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function RJ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function xN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xN(Object(r),!0).forEach(function(n){NJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NJ(t,e,r){return e=jJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jJ(t){var e=MJ(t,"string");return Yf(e)=="symbol"?e:e+""}function MJ(t,e){if(Yf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xf(){return Xf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xf.apply(this,arguments)}var DJ=function(e){var r=e.value,n=e.formatter,i=Je(e.children)?r:e.children;return Ye(n)?n(i):i},LJ=function(e,r){var n=sn(r-e),i=Math.min(Math.abs(r-e),360);return n*i},$J=function(e,r,n){var i=e.position,a=e.viewBox,s=e.offset,u=e.className,c=a,f=c.cx,h=c.cy,m=c.innerRadius,y=c.outerRadius,v=c.startAngle,E=c.endAngle,w=c.clockWise,x=(m+y)/2,O=LJ(v,E),C=O>=0?1:-1,R,$;i==="insideStart"?(R=v+C*s,$=w):i==="insideEnd"?(R=E-C*s,$=!w):i==="end"&&(R=E+C*s,$=w),$=O<=0?$:!$;var I=Ct(f,h,x,R),j=Ct(f,h,x,R+($?1:-1)*359),A="M".concat(I.x,",").concat(I.y,`
    A`).concat(x,",").concat(x,",0,1,").concat($?0:1,`,
    `).concat(j.x,",").concat(j.y),P=Je(e.id)?ec("recharts-radial-line-"):e.id;return z.createElement("text",Xf({},n,{dominantBaseline:"central",className:et("recharts-radial-bar-label",u)}),z.createElement("defs",null,z.createElement("path",{id:P,d:A})),z.createElement("textPath",{xlinkHref:"#".concat(P)},r))},FJ=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,s=a.cx,u=a.cy,c=a.innerRadius,f=a.outerRadius,h=a.startAngle,m=a.endAngle,y=(h+m)/2;if(i==="outside"){var v=Ct(s,u,f+n,y),E=v.x,w=v.y;return{x:E,y:w,textAnchor:E>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:u,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:u,textAnchor:"middle",verticalAnchor:"end"};var x=(c+f)/2,O=Ct(s,u,x,y),C=O.x,R=O.y;return{x:C,y:R,textAnchor:"middle",verticalAnchor:"middle"}},VJ=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,s=r,u=s.x,c=s.y,f=s.width,h=s.height,m=h>=0?1:-1,y=m*i,v=m>0?"end":"start",E=m>0?"start":"end",w=f>=0?1:-1,x=w*i,O=w>0?"end":"start",C=w>0?"start":"end";if(a==="top"){var R={x:u+f/2,y:c-m*i,textAnchor:"middle",verticalAnchor:v};return gr(gr({},R),n?{height:Math.max(c-n.y,0),width:f}:{})}if(a==="bottom"){var $={x:u+f/2,y:c+h+y,textAnchor:"middle",verticalAnchor:E};return gr(gr({},$),n?{height:Math.max(n.y+n.height-(c+h),0),width:f}:{})}if(a==="left"){var I={x:u-x,y:c+h/2,textAnchor:O,verticalAnchor:"middle"};return gr(gr({},I),n?{width:Math.max(I.x-n.x,0),height:h}:{})}if(a==="right"){var j={x:u+f+x,y:c+h/2,textAnchor:C,verticalAnchor:"middle"};return gr(gr({},j),n?{width:Math.max(n.x+n.width-j.x,0),height:h}:{})}var A=n?{width:f,height:h}:{};return a==="insideLeft"?gr({x:u+x,y:c+h/2,textAnchor:C,verticalAnchor:"middle"},A):a==="insideRight"?gr({x:u+f-x,y:c+h/2,textAnchor:O,verticalAnchor:"middle"},A):a==="insideTop"?gr({x:u+f/2,y:c+y,textAnchor:"middle",verticalAnchor:E},A):a==="insideBottom"?gr({x:u+f/2,y:c+h-y,textAnchor:"middle",verticalAnchor:v},A):a==="insideTopLeft"?gr({x:u+x,y:c+y,textAnchor:C,verticalAnchor:E},A):a==="insideTopRight"?gr({x:u+f-x,y:c+y,textAnchor:O,verticalAnchor:E},A):a==="insideBottomLeft"?gr({x:u+x,y:c+h-y,textAnchor:C,verticalAnchor:v},A):a==="insideBottomRight"?gr({x:u+f-x,y:c+h-y,textAnchor:O,verticalAnchor:v},A):Zu(a)&&(ve(a.x)||Ls(a.x))&&(ve(a.y)||Ls(a.y))?gr({x:u+ln(a.x,f),y:c+ln(a.y,h),textAnchor:"end",verticalAnchor:"end"},A):gr({x:u+f/2,y:c+h/2,textAnchor:"middle",verticalAnchor:"middle"},A)},UJ=function(e){return"cx"in e&&ve(e.cx)};function Ir(t){var e=t.offset,r=e===void 0?5:e,n=CJ(t,TJ),i=gr({offset:r},n),a=i.viewBox,s=i.position,u=i.value,c=i.children,f=i.content,h=i.className,m=h===void 0?"":h,y=i.textBreakAll;if(!a||Je(u)&&Je(c)&&!G.isValidElement(f)&&!Ye(f))return null;if(G.isValidElement(f))return G.cloneElement(f,i);var v;if(Ye(f)){if(v=G.createElement(f,i),G.isValidElement(v))return v}else v=DJ(i);var E=UJ(a),w=qe(i,!0);if(E&&(s==="insideStart"||s==="insideEnd"||s==="end"))return $J(i,v,w);var x=E?FJ(i):VJ(i);return z.createElement(el,Xf({className:et("recharts-label",m)},w,x,{breakAll:y}),v)}Ir.displayName="Label";var S4=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,u=e.r,c=e.radius,f=e.innerRadius,h=e.outerRadius,m=e.x,y=e.y,v=e.top,E=e.left,w=e.width,x=e.height,O=e.clockWise,C=e.labelViewBox;if(C)return C;if(ve(w)&&ve(x)){if(ve(m)&&ve(y))return{x:m,y,width:w,height:x};if(ve(v)&&ve(E))return{x:v,y:E,width:w,height:x}}return ve(m)&&ve(y)?{x:m,y,width:0,height:0}:ve(r)&&ve(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:s||i||0,innerRadius:f||0,outerRadius:h||c||u||0,clockWise:O}:e.viewBox?e.viewBox:{}},BJ=function(e,r){return e?e===!0?z.createElement(Ir,{key:"label-implicit",viewBox:r}):vr(e)?z.createElement(Ir,{key:"label-implicit",viewBox:r,value:e}):G.isValidElement(e)?e.type===Ir?G.cloneElement(e,{key:"label-implicit",viewBox:r}):z.createElement(Ir,{key:"label-implicit",content:e,viewBox:r}):Ye(e)?z.createElement(Ir,{key:"label-implicit",content:e,viewBox:r}):Zu(e)?z.createElement(Ir,Xf({viewBox:r},e,{key:"label-implicit"})):null:null},qJ=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=S4(e),s=Yn(i,Ir).map(function(c,f){return G.cloneElement(c,{viewBox:r||a,key:"label-".concat(f)})});if(!n)return s;var u=BJ(e.label,r||a);return[u].concat(AJ(s))};Ir.parseViewBox=S4;Ir.renderCallByParent=qJ;var cx,wN;function zJ(){if(wN)return cx;wN=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return cx=t,cx}var WJ=zJ();const HJ=vt(WJ);function Qf(t){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qf(t)}var KJ=["valueAccessor"],GJ=["data","dataKey","clockWise","id","textBreakAll"];function YJ(t){return ZJ(t)||JJ(t)||QJ(t)||XJ()}function XJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QJ(t,e){if(t){if(typeof t=="string")return Xw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xw(t,e)}}function JJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ZJ(t){if(Array.isArray(t))return Xw(t)}function Xw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function bm(){return bm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bm.apply(this,arguments)}function EN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function SN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EN(Object(r),!0).forEach(function(n){eZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eZ(t,e,r){return e=tZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tZ(t){var e=rZ(t,"string");return Qf(e)=="symbol"?e:e+""}function rZ(t,e){if(Qf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TN(t,e){if(t==null)return{};var r=nZ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nZ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var iZ=function(e){return Array.isArray(e.value)?HJ(e.value):e.value};function Ga(t){var e=t.valueAccessor,r=e===void 0?iZ:e,n=TN(t,KJ),i=n.data,a=n.dataKey,s=n.clockWise,u=n.id,c=n.textBreakAll,f=TN(n,GJ);return!i||!i.length?null:z.createElement(ht,{className:"recharts-label-list"},i.map(function(h,m){var y=Je(a)?r(h,m):yr(h&&h.payload,a),v=Je(u)?{}:{id:"".concat(u,"-").concat(m)};return z.createElement(Ir,bm({},qe(h,!0),f,v,{parentViewBox:h.parentViewBox,value:y,textBreakAll:c,viewBox:Ir.parseViewBox(Je(s)?h:SN(SN({},h),{},{clockWise:s})),key:"label-".concat(m),index:m}))}))}Ga.displayName="LabelList";function aZ(t,e){return t?t===!0?z.createElement(Ga,{key:"labelList-implicit",data:e}):z.isValidElement(t)||Ye(t)?z.createElement(Ga,{key:"labelList-implicit",data:e,content:t}):Zu(t)?z.createElement(Ga,bm({data:e},t,{key:"labelList-implicit"})):null:null}function oZ(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Yn(n,Ga).map(function(s,u){return G.cloneElement(s,{data:e,key:"labelList-".concat(u)})});if(!r)return i;var a=aZ(t.label,e);return[a].concat(YJ(i))}Ga.renderCallByParent=oZ;function Jf(t){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jf(t)}function Qw(){return Qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qw.apply(this,arguments)}function AN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function PN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AN(Object(r),!0).forEach(function(n){sZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sZ(t,e,r){return e=lZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lZ(t){var e=uZ(t,"string");return Jf(e)=="symbol"?e:e+""}function uZ(t,e){if(Jf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cZ=function(e,r){var n=sn(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},mp=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,s=e.sign,u=e.isExternal,c=e.cornerRadius,f=e.cornerIsExternal,h=c*(u?1:-1)+i,m=Math.asin(c/h)/vm,y=f?a:a+s*m,v=Ct(r,n,h,y),E=Ct(r,n,i,y),w=f?a-s*m:a,x=Ct(r,n,h*Math.cos(m*vm),w);return{center:v,circleTangency:E,lineTangency:x,theta:m}},T4=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,u=e.endAngle,c=cZ(s,u),f=s+c,h=Ct(r,n,a,s),m=Ct(r,n,a,f),y="M ".concat(h.x,",").concat(h.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>f),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(i>0){var v=Ct(r,n,i,s),E=Ct(r,n,i,f);y+="L ".concat(E.x,",").concat(E.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=f),`,
            `).concat(v.x,",").concat(v.y," Z")}else y+="L ".concat(r,",").concat(n," Z");return y},fZ=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,u=e.forceCornerRadius,c=e.cornerIsExternal,f=e.startAngle,h=e.endAngle,m=sn(h-f),y=mp({cx:r,cy:n,radius:a,angle:f,sign:m,cornerRadius:s,cornerIsExternal:c}),v=y.circleTangency,E=y.lineTangency,w=y.theta,x=mp({cx:r,cy:n,radius:a,angle:h,sign:-m,cornerRadius:s,cornerIsExternal:c}),O=x.circleTangency,C=x.lineTangency,R=x.theta,$=c?Math.abs(f-h):Math.abs(f-h)-w-R;if($<0)return u?"M ".concat(E.x,",").concat(E.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):T4({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:f,endAngle:h});var I="M ".concat(E.x,",").concat(E.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,").concat(+($>180),",").concat(+(m<0),",").concat(O.x,",").concat(O.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(C.x,",").concat(C.y,`
  `);if(i>0){var j=mp({cx:r,cy:n,radius:i,angle:f,sign:m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),A=j.circleTangency,P=j.lineTangency,N=j.theta,F=mp({cx:r,cy:n,radius:i,angle:h,sign:-m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),D=F.circleTangency,V=F.lineTangency,M=F.theta,Z=c?Math.abs(f-h):Math.abs(f-h)-N-M;if(Z<0&&s===0)return"".concat(I,"L").concat(r,",").concat(n,"Z");I+="L".concat(V.x,",").concat(V.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(Z>180),",").concat(+(m>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(P.x,",").concat(P.y,"Z")}else I+="L".concat(r,",").concat(n,"Z");return I},dZ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},PS=function(e){var r=PN(PN({},dZ),e),n=r.cx,i=r.cy,a=r.innerRadius,s=r.outerRadius,u=r.cornerRadius,c=r.forceCornerRadius,f=r.cornerIsExternal,h=r.startAngle,m=r.endAngle,y=r.className;if(s<a||h===m)return null;var v=et("recharts-sector",y),E=s-a,w=ln(u,E,0,!0),x;return w>0&&Math.abs(h-m)<360?x=fZ({cx:n,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(w,E/2),forceCornerRadius:c,cornerIsExternal:f,startAngle:h,endAngle:m}):x=T4({cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:h,endAngle:m}),z.createElement("path",Qw({},qe(r,!0),{className:v,d:x,role:"img"}))};function Zf(t){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zf(t)}function Jw(){return Jw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jw.apply(this,arguments)}function kN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function IN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kN(Object(r),!0).forEach(function(n){hZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hZ(t,e,r){return e=pZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pZ(t){var e=mZ(t,"string");return Zf(e)=="symbol"?e:e+""}function mZ(t,e){if(Zf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ON={curveBasisClosed:M7,curveBasisOpen:D7,curveBasis:j7,curveBumpX:_7,curveBumpY:x7,curveLinearClosed:L7,curveLinear:vg,curveMonotoneX:$7,curveMonotoneY:F7,curveNatural:V7,curveStep:U7,curveStepAfter:q7,curveStepBefore:B7},gp=function(e){return e.x===+e.x&&e.y===+e.y},Kc=function(e){return e.x},Gc=function(e){return e.y},gZ=function(e,r){if(Ye(e))return e;var n="curve".concat(gg(e));return(n==="curveMonotone"||n==="curveBump")&&r?ON["".concat(n).concat(r==="vertical"?"Y":"X")]:ON[n]||vg},yZ=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,s=e.baseLine,u=e.layout,c=e.connectNulls,f=c===void 0?!1:c,h=gZ(n,u),m=f?a.filter(function(w){return gp(w)}):a,y;if(Array.isArray(s)){var v=f?s.filter(function(w){return gp(w)}):s,E=m.map(function(w,x){return IN(IN({},w),{},{base:v[x]})});return u==="vertical"?y=sp().y(Gc).x1(Kc).x0(function(w){return w.base.x}):y=sp().x(Kc).y1(Gc).y0(function(w){return w.base.y}),y.defined(gp).curve(h),y(E)}return u==="vertical"&&ve(s)?y=sp().y(Gc).x1(Kc).x0(s):ve(s)?y=sp().x(Kc).y1(Gc).y0(s):y=SL().x(Kc).y(Gc),y.defined(gp).curve(h),y(m)},_m=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?yZ(e):i;return G.createElement("path",Jw({},qe(e,!1),Kp(e),{className:et("recharts-curve",r),d:s,ref:a}))},fx={exports:{}},dx,CN;function vZ(){if(CN)return dx;CN=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return dx=t,dx}var hx,RN;function bZ(){if(RN)return hx;RN=1;var t=vZ();function e(){}function r(){}return r.resetWarningCache=e,hx=function(){function n(s,u,c,f,h,m){if(m!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return a.PropTypes=a,a},hx}var NN;function _Z(){return NN||(NN=1,fx.exports=bZ()()),fx.exports}var xZ=_Z();const yt=vt(xZ);var wZ=Object.getOwnPropertyNames,EZ=Object.getOwnPropertySymbols,SZ=Object.prototype.hasOwnProperty;function jN(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function yp(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,s=a.get(r),u=a.get(n);if(s&&u)return s===n&&u===r;a.set(r,n),a.set(n,r);var c=t(r,n,i);return a.delete(r),a.delete(n),c}}function MN(t){return wZ(t).concat(EZ(t))}var TZ=Object.hasOwn||function(t,e){return SZ.call(t,e)};function hl(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var AZ="__v",PZ="__o",kZ="_owner",DN=Object.getOwnPropertyDescriptor,LN=Object.keys;function IZ(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function OZ(t,e){return hl(t.getTime(),e.getTime())}function CZ(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function RZ(t,e){return t===e}function $N(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.entries(),s,u,c=0;(s=a.next())&&!s.done;){for(var f=e.entries(),h=!1,m=0;(u=f.next())&&!u.done;){if(i[m]){m++;continue}var y=s.value,v=u.value;if(r.equals(y[0],v[0],c,m,t,e,r)&&r.equals(y[1],v[1],y[0],v[0],t,e,r)){h=i[m]=!0;break}m++}if(!h)return!1;c++}return!0}var NZ=hl;function jZ(t,e,r){var n=LN(t),i=n.length;if(LN(e).length!==i)return!1;for(;i-- >0;)if(!A4(t,e,r,n[i]))return!1;return!0}function Yc(t,e,r){var n=MN(t),i=n.length;if(MN(e).length!==i)return!1;for(var a,s,u;i-- >0;)if(a=n[i],!A4(t,e,r,a)||(s=DN(t,a),u=DN(e,a),(s||u)&&(!s||!u||s.configurable!==u.configurable||s.enumerable!==u.enumerable||s.writable!==u.writable)))return!1;return!0}function MZ(t,e){return hl(t.valueOf(),e.valueOf())}function DZ(t,e){return t.source===e.source&&t.flags===e.flags}function FN(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.values(),s,u;(s=a.next())&&!s.done;){for(var c=e.values(),f=!1,h=0;(u=c.next())&&!u.done;){if(!i[h]&&r.equals(s.value,u.value,s.value,u.value,t,e,r)){f=i[h]=!0;break}h++}if(!f)return!1}return!0}function LZ(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function $Z(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function A4(t,e,r,n){return(n===kZ||n===PZ||n===AZ)&&(t.$$typeof||e.$$typeof)?!0:TZ(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var FZ="[object Arguments]",VZ="[object Boolean]",UZ="[object Date]",BZ="[object Error]",qZ="[object Map]",zZ="[object Number]",WZ="[object Object]",HZ="[object RegExp]",KZ="[object Set]",GZ="[object String]",YZ="[object URL]",XZ=Array.isArray,VN=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,UN=Object.assign,QZ=Object.prototype.toString.call.bind(Object.prototype.toString);function JZ(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,s=t.areNumbersEqual,u=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,f=t.areRegExpsEqual,h=t.areSetsEqual,m=t.areTypedArraysEqual,y=t.areUrlsEqual;return function(E,w,x){if(E===w)return!0;if(E==null||w==null)return!1;var O=typeof E;if(O!==typeof w)return!1;if(O!=="object")return O==="number"?s(E,w,x):O==="function"?i(E,w,x):!1;var C=E.constructor;if(C!==w.constructor)return!1;if(C===Object)return u(E,w,x);if(XZ(E))return e(E,w,x);if(VN!=null&&VN(E))return m(E,w,x);if(C===Date)return r(E,w,x);if(C===RegExp)return f(E,w,x);if(C===Map)return a(E,w,x);if(C===Set)return h(E,w,x);var R=QZ(E);return R===UZ?r(E,w,x):R===HZ?f(E,w,x):R===qZ?a(E,w,x):R===KZ?h(E,w,x):R===WZ?typeof E.then!="function"&&typeof w.then!="function"&&u(E,w,x):R===YZ?y(E,w,x):R===BZ?n(E,w,x):R===FZ?u(E,w,x):R===VZ||R===zZ||R===GZ?c(E,w,x):!1}}function ZZ(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?Yc:IZ,areDatesEqual:OZ,areErrorsEqual:CZ,areFunctionsEqual:RZ,areMapsEqual:n?jN($N,Yc):$N,areNumbersEqual:NZ,areObjectsEqual:n?Yc:jZ,arePrimitiveWrappersEqual:MZ,areRegExpsEqual:DZ,areSetsEqual:n?jN(FN,Yc):FN,areTypedArraysEqual:n?Yc:LZ,areUrlsEqual:$Z};if(r&&(i=UN({},i,r(i))),e){var a=yp(i.areArraysEqual),s=yp(i.areMapsEqual),u=yp(i.areObjectsEqual),c=yp(i.areSetsEqual);i=UN({},i,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:u,areSetsEqual:c})}return i}function eee(t){return function(e,r,n,i,a,s,u){return t(e,r,u)}}function tee(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(c,f){var h=n(),m=h.cache,y=m===void 0?e?new WeakMap:void 0:m,v=h.meta;return r(c,f,{cache:y,equals:i,meta:v,strict:a})};if(e)return function(c,f){return r(c,f,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var s={cache:void 0,equals:i,meta:void 0,strict:a};return function(c,f){return r(c,f,s)}}var ree=as();as({strict:!0});as({circular:!0});as({circular:!0,strict:!0});as({createInternalComparator:function(){return hl}});as({strict:!0,createInternalComparator:function(){return hl}});as({circular:!0,createInternalComparator:function(){return hl}});as({circular:!0,createInternalComparator:function(){return hl},strict:!0});function as(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,s=a===void 0?!1:a,u=ZZ(t),c=JZ(u),f=n?n(c):eee(c);return tee({circular:r,comparator:c,createState:i,equals:f,strict:s})}function nee(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function BN(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):nee(i)};requestAnimationFrame(n)}function Zw(t){"@babel/helpers - typeof";return Zw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zw(t)}function iee(t){return lee(t)||see(t)||oee(t)||aee()}function aee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oee(t,e){if(t){if(typeof t=="string")return qN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qN(t,e)}}function qN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function see(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lee(t){if(Array.isArray(t))return t}function uee(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var s=a,u=iee(s),c=u[0],f=u.slice(1);if(typeof c=="number"){BN(i.bind(null,f),c);return}i(c),BN(i.bind(null,f));return}Zw(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function ed(t){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ed(t)}function zN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function WN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zN(Object(r),!0).forEach(function(n){P4(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function P4(t,e,r){return e=cee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cee(t){var e=fee(t,"string");return ed(e)==="symbol"?e:String(e)}function fee(t,e){if(ed(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ed(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dee=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},hee=function(e){return e},pee=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},yf=function(e,r){return Object.keys(r).reduce(function(n,i){return WN(WN({},n),{},P4({},i,e(i,r[i])))},{})},HN=function(e,r,n){return e.map(function(i){return"".concat(pee(i)," ").concat(r,"ms ").concat(n)}).join(",")};function mee(t,e){return vee(t)||yee(t,e)||k4(t,e)||gee()}function gee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yee(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function vee(t){if(Array.isArray(t))return t}function bee(t){return wee(t)||xee(t)||k4(t)||_ee()}function _ee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k4(t,e){if(t){if(typeof t=="string")return e1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e1(t,e)}}function xee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wee(t){if(Array.isArray(t))return e1(t)}function e1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var xm=1e-4,I4=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},O4=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},KN=function(e,r){return function(n){var i=I4(e,r);return O4(i,n)}},Eee=function(e,r){return function(n){var i=I4(e,r),a=[].concat(bee(i.map(function(s,u){return s*u}).slice(1)),[0]);return O4(a,n)}},GN=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],s=r[2],u=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,s=1,u=1;break;case"ease":i=.25,a=.1,s=.25,u=1;break;case"ease-in":i=.42,a=0,s=1,u=1;break;case"ease-out":i=.42,a=0,s=.58,u=1;break;case"ease-in-out":i=0,a=0,s=.58,u=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var f=c[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),h=mee(f,4);i=h[0],a=h[1],s=h[2],u=h[3]}}}var m=KN(i,s),y=KN(a,u),v=Eee(i,s),E=function(O){return O>1?1:O<0?0:O},w=function(O){for(var C=O>1?1:O,R=C,$=0;$<8;++$){var I=m(R)-C,j=v(R);if(Math.abs(I-C)<xm||j<xm)return y(R);R=E(R-I/j)}return y(R)};return w.isStepper=!1,w},See=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,s=e.dt,u=s===void 0?17:s,c=function(h,m,y){var v=-(h-m)*n,E=y*a,w=y+(v-E)*u/1e3,x=y*u/1e3+h;return Math.abs(x-m)<xm&&Math.abs(w)<xm?[m,0]:[x,w]};return c.isStepper=!0,c.dt=u,c},Tee=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return GN(i);case"spring":return See();default:if(i.split("(")[0]==="cubic-bezier")return GN(i)}return typeof i=="function"?i:null};function td(t){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},td(t)}function YN(t){return kee(t)||Pee(t)||C4(t)||Aee()}function Aee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kee(t){if(Array.isArray(t))return r1(t)}function XN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Dr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XN(Object(r),!0).forEach(function(n){t1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function t1(t,e,r){return e=Iee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Iee(t){var e=Oee(t,"string");return td(e)==="symbol"?e:String(e)}function Oee(t,e){if(td(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(td(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cee(t,e){return jee(t)||Nee(t,e)||C4(t,e)||Ree()}function Ree(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C4(t,e){if(t){if(typeof t=="string")return r1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r1(t,e)}}function r1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Nee(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function jee(t){if(Array.isArray(t))return t}var wm=function(e,r,n){return e+(r-e)*n},n1=function(e){var r=e.from,n=e.to;return r!==n},Mee=function t(e,r,n){var i=yf(function(a,s){if(n1(s)){var u=e(s.from,s.to,s.velocity),c=Cee(u,2),f=c[0],h=c[1];return Dr(Dr({},s),{},{from:f,velocity:h})}return s},r);return n<1?yf(function(a,s){return n1(s)?Dr(Dr({},s),{},{velocity:wm(s.velocity,i[a].velocity,n),from:wm(s.from,i[a].from,n)}):s},r):t(e,i,n-1)};const Dee=function(t,e,r,n,i){var a=dee(t,e),s=a.reduce(function(x,O){return Dr(Dr({},x),{},t1({},O,[t[O],e[O]]))},{}),u=a.reduce(function(x,O){return Dr(Dr({},x),{},t1({},O,{from:t[O],velocity:0,to:e[O]}))},{}),c=-1,f,h,m=function(){return null},y=function(){return yf(function(O,C){return C.from},u)},v=function(){return!Object.values(u).filter(n1).length},E=function(O){f||(f=O);var C=O-f,R=C/r.dt;u=Mee(r,u,R),i(Dr(Dr(Dr({},t),e),y())),f=O,v()||(c=requestAnimationFrame(m))},w=function(O){h||(h=O);var C=(O-h)/n,R=yf(function(I,j){return wm.apply(void 0,YN(j).concat([r(C)]))},s);if(i(Dr(Dr(Dr({},t),e),R)),C<1)c=requestAnimationFrame(m);else{var $=yf(function(I,j){return wm.apply(void 0,YN(j).concat([r(1)]))},s);i(Dr(Dr(Dr({},t),e),$))}};return m=r.isStepper?E:w,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(c)}}};function Ru(t){"@babel/helpers - typeof";return Ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ru(t)}var Lee=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function $ee(t,e){if(t==null)return{};var r=Fee(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Fee(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function px(t){return qee(t)||Bee(t)||Uee(t)||Vee()}function Vee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uee(t,e){if(t){if(typeof t=="string")return i1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i1(t,e)}}function Bee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qee(t){if(Array.isArray(t))return i1(t)}function i1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function QN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Oi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QN(Object(r),!0).forEach(function(n){of(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function of(t,e,r){return e=R4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wee(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,R4(n.key),n)}}function Hee(t,e,r){return e&&Wee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function R4(t){var e=Kee(t,"string");return Ru(e)==="symbol"?e:String(e)}function Kee(t,e){if(Ru(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ru(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a1(t,e)}function a1(t,e){return a1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},a1(t,e)}function Yee(t){var e=Xee();return function(){var n=Em(t),i;if(e){var a=Em(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return o1(this,i)}}function o1(t,e){if(e&&(Ru(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s1(t)}function s1(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xee(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Em(t){return Em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Em(t)}var da=function(t){Gee(r,t);var e=Yee(r);function r(n,i){var a;zee(this,r),a=e.call(this,n,i);var s=a.props,u=s.isActive,c=s.attributeName,f=s.from,h=s.to,m=s.steps,y=s.children,v=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(s1(a)),a.changeStyle=a.changeStyle.bind(s1(a)),!u||v<=0)return a.state={style:{}},typeof y=="function"&&(a.state={style:h}),o1(a);if(m&&m.length)a.state={style:m[0].style};else if(f){if(typeof y=="function")return a.state={style:f},o1(a);a.state={style:c?of({},c,f):f}}else a.state={style:{}};return a}return Hee(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,u=a.canBegin,c=a.attributeName,f=a.shouldReAnimate,h=a.to,m=a.from,y=this.state.style;if(u){if(!s){var v={style:c?of({},c,h):h};this.state&&y&&(c&&y[c]!==h||!c&&y!==h)&&this.setState(v);return}if(!(ree(i.to,h)&&i.canBegin&&i.isActive)){var E=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=E||f?m:i.to;if(this.state&&y){var x={style:c?of({},c,w):w};(c&&y[c]!==w||!c&&y!==w)&&this.setState(x)}this.runAnimation(Oi(Oi({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,u=i.to,c=i.duration,f=i.easing,h=i.begin,m=i.onAnimationEnd,y=i.onAnimationStart,v=Dee(s,u,Tee(f),c,this.changeStyle),E=function(){a.stopJSAnimation=v()};this.manager.start([y,h,E,c,m])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,u=i.begin,c=i.onAnimationStart,f=s[0],h=f.style,m=f.duration,y=m===void 0?0:m,v=function(w,x,O){if(O===0)return w;var C=x.duration,R=x.easing,$=R===void 0?"ease":R,I=x.style,j=x.properties,A=x.onAnimationEnd,P=O>0?s[O-1]:x,N=j||Object.keys(I);if(typeof $=="function"||$==="spring")return[].concat(px(w),[a.runJSAnimation.bind(a,{from:P.style,to:I,duration:C,easing:$}),C]);var F=HN(N,C,$),D=Oi(Oi(Oi({},P.style),I),{},{transition:F});return[].concat(px(w),[D,C,A]).filter(hee)};return this.manager.start([c].concat(px(s.reduce(v,[h,Math.max(y,u)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=uee());var a=i.begin,s=i.duration,u=i.attributeName,c=i.to,f=i.easing,h=i.onAnimationStart,m=i.onAnimationEnd,y=i.steps,v=i.children,E=this.manager;if(this.unSubscribe=E.subscribe(this.handleStyleChange),typeof f=="function"||typeof v=="function"||f==="spring"){this.runJSAnimation(i);return}if(y.length>1){this.runStepAnimation(i);return}var w=u?of({},u,c):c,x=HN(Object.keys(w),s,f);E.start([h,a,Oi(Oi({},w),{},{transition:x}),s,m])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var u=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=$ee(i,Lee),f=G.Children.count(a),h=this.state.style;if(typeof a=="function")return a(h);if(!u||f===0||s<=0)return a;var m=function(v){var E=v.props,w=E.style,x=w===void 0?{}:w,O=E.className,C=G.cloneElement(v,Oi(Oi({},c),{},{style:Oi(Oi({},x),h),className:O}));return C};return f===1?m(G.Children.only(a)):z.createElement("div",null,G.Children.map(a,function(y){return m(y)}))}}]),r}(G.PureComponent);da.displayName="Animate";da.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};da.propTypes={from:yt.oneOfType([yt.object,yt.string]),to:yt.oneOfType([yt.object,yt.string]),attributeName:yt.string,duration:yt.number,begin:yt.number,easing:yt.oneOfType([yt.string,yt.func]),steps:yt.arrayOf(yt.shape({duration:yt.number.isRequired,style:yt.object.isRequired,easing:yt.oneOfType([yt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),yt.func]),properties:yt.arrayOf("string"),onAnimationEnd:yt.func})),children:yt.oneOfType([yt.node,yt.func]),isActive:yt.bool,canBegin:yt.bool,onAnimationEnd:yt.func,shouldReAnimate:yt.bool,onAnimationStart:yt.func,onAnimationReStart:yt.func};function rd(t){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rd(t)}function Sm(){return Sm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sm.apply(this,arguments)}function Qee(t,e){return tte(t)||ete(t,e)||Zee(t,e)||Jee()}function Jee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zee(t,e){if(t){if(typeof t=="string")return JN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JN(t,e)}}function JN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ete(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function tte(t){if(Array.isArray(t))return t}function ZN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ej(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZN(Object(r),!0).forEach(function(n){rte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rte(t,e,r){return e=nte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nte(t){var e=ite(t,"string");return rd(e)=="symbol"?e:e+""}function ite(t,e){if(rd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tj=function(e,r,n,i,a){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),u=i>=0?1:-1,c=n>=0?1:-1,f=i>=0&&n>=0||i<0&&n<0?1:0,h;if(s>0&&a instanceof Array){for(var m=[0,0,0,0],y=0,v=4;y<v;y++)m[y]=a[y]>s?s:a[y];h="M".concat(e,",").concat(r+u*m[0]),m[0]>0&&(h+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(f,",").concat(e+c*m[0],",").concat(r)),h+="L ".concat(e+n-c*m[1],",").concat(r),m[1]>0&&(h+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(f,`,
        `).concat(e+n,",").concat(r+u*m[1])),h+="L ".concat(e+n,",").concat(r+i-u*m[2]),m[2]>0&&(h+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(f,`,
        `).concat(e+n-c*m[2],",").concat(r+i)),h+="L ".concat(e+c*m[3],",").concat(r+i),m[3]>0&&(h+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(r+i-u*m[3])),h+="Z"}else if(s>0&&a===+a&&a>0){var E=Math.min(s,a);h="M ".concat(e,",").concat(r+u*E,`
            A `).concat(E,",").concat(E,",0,0,").concat(f,",").concat(e+c*E,",").concat(r,`
            L `).concat(e+n-c*E,",").concat(r,`
            A `).concat(E,",").concat(E,",0,0,").concat(f,",").concat(e+n,",").concat(r+u*E,`
            L `).concat(e+n,",").concat(r+i-u*E,`
            A `).concat(E,",").concat(E,",0,0,").concat(f,",").concat(e+n-c*E,",").concat(r+i,`
            L `).concat(e+c*E,",").concat(r+i,`
            A `).concat(E,",").concat(E,",0,0,").concat(f,",").concat(e,",").concat(r+i-u*E," Z")}else h="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return h},ate=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,s=r.y,u=r.width,c=r.height;if(Math.abs(u)>0&&Math.abs(c)>0){var f=Math.min(a,a+u),h=Math.max(a,a+u),m=Math.min(s,s+c),y=Math.max(s,s+c);return n>=f&&n<=h&&i>=m&&i<=y}return!1},ote={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},kS=function(e){var r=ej(ej({},ote),e),n=G.useRef(),i=G.useState(-1),a=Qee(i,2),s=a[0],u=a[1];G.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var $=n.current.getTotalLength();$&&u($)}catch{}},[]);var c=r.x,f=r.y,h=r.width,m=r.height,y=r.radius,v=r.className,E=r.animationEasing,w=r.animationDuration,x=r.animationBegin,O=r.isAnimationActive,C=r.isUpdateAnimationActive;if(c!==+c||f!==+f||h!==+h||m!==+m||h===0||m===0)return null;var R=et("recharts-rectangle",v);return C?z.createElement(da,{canBegin:s>0,from:{width:h,height:m,x:c,y:f},to:{width:h,height:m,x:c,y:f},duration:w,animationEasing:E,isActive:C},function($){var I=$.width,j=$.height,A=$.x,P=$.y;return z.createElement(da,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:w,isActive:O,easing:E},z.createElement("path",Sm({},qe(r,!0),{className:R,d:tj(A,P,I,j,y),ref:n})))}):z.createElement("path",Sm({},qe(r,!0),{className:R,d:tj(c,f,h,m,y)}))},ste=["points","className","baseLinePoints","connectNulls"];function iu(){return iu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},iu.apply(this,arguments)}function lte(t,e){if(t==null)return{};var r=ute(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ute(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function rj(t){return hte(t)||dte(t)||fte(t)||cte()}function cte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fte(t,e){if(t){if(typeof t=="string")return l1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l1(t,e)}}function dte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hte(t){if(Array.isArray(t))return l1(t)}function l1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var nj=function(e){return e&&e.x===+e.x&&e.y===+e.y},pte=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){nj(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),nj(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},vf=function(e,r){var n=pte(e);r&&(n=[n.reduce(function(a,s){return[].concat(rj(a),rj(s))},[])]);var i=n.map(function(a){return a.reduce(function(s,u,c){return"".concat(s).concat(c===0?"M":"L").concat(u.x,",").concat(u.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},mte=function(e,r,n){var i=vf(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(vf(r.reverse(),n).slice(1))},gte=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,s=lte(e,ste);if(!r||!r.length)return null;var u=et("recharts-polygon",n);if(i&&i.length){var c=s.stroke&&s.stroke!=="none",f=mte(r,i,a);return z.createElement("g",{className:u},z.createElement("path",iu({},qe(s,!0),{fill:f.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:f})),c?z.createElement("path",iu({},qe(s,!0),{fill:"none",d:vf(r,a)})):null,c?z.createElement("path",iu({},qe(s,!0),{fill:"none",d:vf(i,a)})):null)}var h=vf(r,a);return z.createElement("path",iu({},qe(s,!0),{fill:h.slice(-1)==="Z"?s.fill:"none",className:u,d:h}))};function u1(){return u1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},u1.apply(this,arguments)}var Dg=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,s=et("recharts-dot",a);return r===+r&&n===+n&&i===+i?G.createElement("circle",u1({},qe(e,!1),Kp(e),{className:s,cx:r,cy:n,r:i})):null};function nd(t){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nd(t)}var yte=["x","y","top","left","width","height","className"];function c1(){return c1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},c1.apply(this,arguments)}function ij(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vte(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ij(Object(r),!0).forEach(function(n){bte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ij(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bte(t,e,r){return e=_te(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _te(t){var e=xte(t,"string");return nd(e)=="symbol"?e:e+""}function xte(t,e){if(nd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wte(t,e){if(t==null)return{};var r=Ete(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ete(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Ste=function(e,r,n,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(r,"h").concat(n)},Tte=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.top,u=s===void 0?0:s,c=e.left,f=c===void 0?0:c,h=e.width,m=h===void 0?0:h,y=e.height,v=y===void 0?0:y,E=e.className,w=wte(e,yte),x=vte({x:n,y:a,top:u,left:f,width:m,height:v},w);return!ve(n)||!ve(a)||!ve(m)||!ve(v)||!ve(u)||!ve(f)?null:z.createElement("path",c1({},qe(x,!0),{className:et("recharts-cross",E),d:Ste(n,a,m,v,u,f)}))},mx,aj;function Ate(){if(aj)return mx;aj=1;var t=Cg(),e=G$(),r=ga();function n(i,a){return i&&i.length?t(i,r(a,2),e):void 0}return mx=n,mx}var Pte=Ate();const kte=vt(Pte);var gx,oj;function Ite(){if(oj)return gx;oj=1;var t=Cg(),e=ga(),r=Y$();function n(i,a){return i&&i.length?t(i,e(a,2),r):void 0}return gx=n,gx}var Ote=Ite();const Cte=vt(Ote);var Rte=["cx","cy","angle","ticks","axisLine"],Nte=["ticks","tick","angle","tickFormatter","stroke"];function Nu(t){"@babel/helpers - typeof";return Nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nu(t)}function bf(){return bf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bf.apply(this,arguments)}function sj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Os(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sj(Object(r),!0).forEach(function(n){Lg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lj(t,e){if(t==null)return{};var r=jte(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function jte(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Mte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uj(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,j4(n.key),n)}}function Dte(t,e,r){return e&&uj(t.prototype,e),r&&uj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lte(t,e,r){return e=Tm(e),$te(t,N4()?Reflect.construct(e,r||[],Tm(t).constructor):e.apply(t,r))}function $te(t,e){if(e&&(Nu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fte(t)}function Fte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N4=function(){return!!t})()}function Tm(t){return Tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tm(t)}function Vte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f1(t,e)}function f1(t,e){return f1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},f1(t,e)}function Lg(t,e,r){return e=j4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function j4(t){var e=Ute(t,"string");return Nu(e)=="symbol"?e:e+""}function Ute(t,e){if(Nu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $g=function(t){function e(){return Mte(this,e),Lte(this,e,arguments)}return Vte(e,t),Dte(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,s=a.angle,u=a.cx,c=a.cy;return Ct(u,c,i,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,u=n.ticks,c=kte(u,function(h){return h.coordinate||0}),f=Cte(u,function(h){return h.coordinate||0});return{cx:i,cy:a,startAngle:s,endAngle:s,innerRadius:f.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,u=n.ticks,c=n.axisLine,f=lj(n,Rte),h=u.reduce(function(E,w){return[Math.min(E[0],w.coordinate),Math.max(E[1],w.coordinate)]},[1/0,-1/0]),m=Ct(i,a,h[0],s),y=Ct(i,a,h[1],s),v=Os(Os(Os({},qe(f,!1)),{},{fill:"none"},qe(c,!1)),{},{x1:m.x,y1:m.y,x2:y.x,y2:y.y});return z.createElement("line",bf({className:"recharts-polar-radius-axis-line"},v))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,u=i.angle,c=i.tickFormatter,f=i.stroke,h=lj(i,Nte),m=this.getTickTextAnchor(),y=qe(h,!1),v=qe(s,!1),E=a.map(function(w,x){var O=n.getTickValueCoord(w),C=Os(Os(Os(Os({textAnchor:m,transform:"rotate(".concat(90-u,", ").concat(O.x,", ").concat(O.y,")")},y),{},{stroke:"none",fill:f},v),{},{index:x},O),{},{payload:w});return z.createElement(ht,bf({className:et("recharts-polar-radius-axis-tick",E4(s)),key:"tick-".concat(w.coordinate)},Zs(n.props,w,x)),e.renderTickItem(s,C,c?c(w.value,x):w.value))});return z.createElement(ht,{className:"recharts-polar-radius-axis-ticks"},E)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,s=n.tick;return!i||!i.length?null:z.createElement(ht,{className:et("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),s&&this.renderTicks(),Ir.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var s;return z.isValidElement(n)?s=z.cloneElement(n,i):Ye(n)?s=n(i):s=z.createElement(el,bf({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),s}}])}(G.PureComponent);Lg($g,"displayName","PolarRadiusAxis");Lg($g,"axisType","radiusAxis");Lg($g,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function ju(t){"@babel/helpers - typeof";return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ju(t)}function Ms(){return Ms=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ms.apply(this,arguments)}function cj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Cs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cj(Object(r),!0).forEach(function(n){Fg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fj(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,D4(n.key),n)}}function qte(t,e,r){return e&&fj(t.prototype,e),r&&fj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function zte(t,e,r){return e=Am(e),Wte(t,M4()?Reflect.construct(e,r||[],Am(t).constructor):e.apply(t,r))}function Wte(t,e){if(e&&(ju(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hte(t)}function Hte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M4=function(){return!!t})()}function Am(t){return Am=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Am(t)}function Kte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d1(t,e)}function d1(t,e){return d1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},d1(t,e)}function Fg(t,e,r){return e=D4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function D4(t){var e=Gte(t,"string");return ju(e)=="symbol"?e:e+""}function Gte(t,e){if(ju(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ju(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Yte=Math.PI/180,dj=1e-5,Vg=function(t){function e(){return Bte(this,e),zte(this,e,arguments)}return Kte(e,t),qte(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,s=i.cy,u=i.radius,c=i.orientation,f=i.tickSize,h=f||8,m=Ct(a,s,u,n.coordinate),y=Ct(a,s,u+(c==="inner"?-1:1)*h,n.coordinate);return{x1:m.x,y1:m.y,x2:y.x,y2:y.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*Yte),s;return a>dj?s=i==="outer"?"start":"end":a<-dj?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.radius,u=n.axisLine,c=n.axisLineType,f=Cs(Cs({},qe(this.props,!1)),{},{fill:"none"},qe(u,!1));if(c==="circle")return z.createElement(Dg,Ms({className:"recharts-polar-angle-axis-line"},f,{cx:i,cy:a,r:s}));var h=this.props.ticks,m=h.map(function(y){return Ct(i,a,s,y.coordinate)});return z.createElement(gte,Ms({className:"recharts-polar-angle-axis-line"},f,{points:m}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,u=i.tickLine,c=i.tickFormatter,f=i.stroke,h=qe(this.props,!1),m=qe(s,!1),y=Cs(Cs({},h),{},{fill:"none"},qe(u,!1)),v=a.map(function(E,w){var x=n.getTickLineCoord(E),O=n.getTickTextAnchor(E),C=Cs(Cs(Cs({textAnchor:O},h),{},{stroke:"none",fill:f},m),{},{index:w,payload:E,x:x.x2,y:x.y2});return z.createElement(ht,Ms({className:et("recharts-polar-angle-axis-tick",E4(s)),key:"tick-".concat(E.coordinate)},Zs(n.props,E,w)),u&&z.createElement("line",Ms({className:"recharts-polar-angle-axis-tick-line"},y,x)),s&&e.renderTickItem(s,C,c?c(E.value,w):E.value))});return z.createElement(ht,{className:"recharts-polar-angle-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,s=n.axisLine;return a<=0||!i||!i.length?null:z.createElement(ht,{className:et("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var s;return z.isValidElement(n)?s=z.cloneElement(n,i):Ye(n)?s=n(i):s=z.createElement(el,Ms({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),s}}])}(G.PureComponent);Fg(Vg,"displayName","PolarAngleAxis");Fg(Vg,"axisType","angleAxis");Fg(Vg,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var yx,hj;function Xte(){if(hj)return yx;hj=1;var t=KL(),e=t(Object.getPrototypeOf,Object);return yx=e,yx}var vx,pj;function Qte(){if(pj)return vx;pj=1;var t=no(),e=Xte(),r=io(),n="[object Object]",i=Function.prototype,a=Object.prototype,s=i.toString,u=a.hasOwnProperty,c=s.call(Object);function f(h){if(!r(h)||t(h)!=n)return!1;var m=e(h);if(m===null)return!0;var y=u.call(m,"constructor")&&m.constructor;return typeof y=="function"&&y instanceof y&&s.call(y)==c}return vx=f,vx}var Jte=Qte();const Zte=vt(Jte);var bx,mj;function ere(){if(mj)return bx;mj=1;var t=no(),e=io(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return bx=n,bx}var tre=ere();const rre=vt(tre);function id(t){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},id(t)}function Pm(){return Pm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pm.apply(this,arguments)}function nre(t,e){return sre(t)||ore(t,e)||are(t,e)||ire()}function ire(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function are(t,e){if(t){if(typeof t=="string")return gj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gj(t,e)}}function gj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ore(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function sre(t){if(Array.isArray(t))return t}function yj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yj(Object(r),!0).forEach(function(n){lre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lre(t,e,r){return e=ure(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ure(t){var e=cre(t,"string");return id(e)=="symbol"?e:e+""}function cre(t,e){if(id(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bj=function(e,r,n,i,a){var s=n-i,u;return u="M ".concat(e,",").concat(r),u+="L ".concat(e+n,",").concat(r),u+="L ".concat(e+n-s/2,",").concat(r+a),u+="L ".concat(e+n-s/2-i,",").concat(r+a),u+="L ".concat(e,",").concat(r," Z"),u},fre={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},dre=function(e){var r=vj(vj({},fre),e),n=G.useRef(),i=G.useState(-1),a=nre(i,2),s=a[0],u=a[1];G.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var R=n.current.getTotalLength();R&&u(R)}catch{}},[]);var c=r.x,f=r.y,h=r.upperWidth,m=r.lowerWidth,y=r.height,v=r.className,E=r.animationEasing,w=r.animationDuration,x=r.animationBegin,O=r.isUpdateAnimationActive;if(c!==+c||f!==+f||h!==+h||m!==+m||y!==+y||h===0&&m===0||y===0)return null;var C=et("recharts-trapezoid",v);return O?z.createElement(da,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:y,x:c,y:f},to:{upperWidth:h,lowerWidth:m,height:y,x:c,y:f},duration:w,animationEasing:E,isActive:O},function(R){var $=R.upperWidth,I=R.lowerWidth,j=R.height,A=R.x,P=R.y;return z.createElement(da,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:w,easing:E},z.createElement("path",Pm({},qe(r,!0),{className:C,d:bj(A,P,$,I,j),ref:n})))}):z.createElement("g",null,z.createElement("path",Pm({},qe(r,!0),{className:C,d:bj(c,f,h,m,y)})))},hre=["option","shapeType","propTransformer","activeClassName","isActive"];function ad(t){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ad(t)}function pre(t,e){if(t==null)return{};var r=mre(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mre(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function _j(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function km(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_j(Object(r),!0).forEach(function(n){gre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_j(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gre(t,e,r){return e=yre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yre(t){var e=vre(t,"string");return ad(e)=="symbol"?e:e+""}function vre(t,e){if(ad(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bre(t,e){return km(km({},e),t)}function _re(t,e){return t==="symbols"}function xj(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return z.createElement(kS,r);case"trapezoid":return z.createElement(dre,r);case"sector":return z.createElement(PS,r);case"symbols":if(_re(e))return z.createElement(HE,r);break;default:return null}}function xre(t){return G.isValidElement(t)?t.props:t}function L4(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?bre:n,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,u=t.isActive,c=pre(t,hre),f;if(G.isValidElement(e))f=G.cloneElement(e,km(km({},c),xre(e)));else if(Ye(e))f=e(c);else if(Zte(e)&&!rre(e)){var h=i(e,c);f=z.createElement(xj,{shapeType:r,elementProps:h})}else{var m=c;f=z.createElement(xj,{shapeType:r,elementProps:m})}return u?z.createElement(ht,{className:s},f):f}function Ug(t,e){return e!=null&&"trapezoids"in t.props}function Bg(t,e){return e!=null&&"sectors"in t.props}function od(t,e){return e!=null&&"points"in t.props}function wre(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function Ere(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function Sre(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function Tre(t,e){var r;return Ug(t,e)?r=wre:Bg(t,e)?r=Ere:od(t,e)&&(r=Sre),r}function Are(t,e){var r;return Ug(t,e)?r="trapezoids":Bg(t,e)?r="sectors":od(t,e)&&(r="points"),r}function Pre(t,e){if(Ug(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Bg(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return od(t,e)?e.payload:{}}function kre(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=Are(r,e),a=Pre(r,e),s=n.filter(function(c,f){var h=$d(a,c),m=r.props[i].filter(function(E){var w=Tre(r,e);return w(E,e)}),y=r.props[i].indexOf(m[m.length-1]),v=f===y;return h&&v}),u=n.indexOf(s[s.length-1]);return u}var Ip;function Mu(t){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mu(t)}function au(){return au=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},au.apply(this,arguments)}function wj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function It(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wj(Object(r),!0).forEach(function(n){ci(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ire(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ej(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,F4(n.key),n)}}function Ore(t,e,r){return e&&Ej(t.prototype,e),r&&Ej(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cre(t,e,r){return e=Im(e),Rre(t,$4()?Reflect.construct(e,r||[],Im(t).constructor):e.apply(t,r))}function Rre(t,e){if(e&&(Mu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nre(t)}function Nre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($4=function(){return!!t})()}function Im(t){return Im=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Im(t)}function jre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h1(t,e)}function h1(t,e){return h1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},h1(t,e)}function ci(t,e,r){return e=F4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function F4(t){var e=Mre(t,"string");return Mu(e)=="symbol"?e:e+""}function Mre(t,e){if(Mu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var oo=function(t){function e(r){var n;return Ire(this,e),n=Cre(this,e,[r]),ci(n,"pieRef",null),ci(n,"sectorRefs",[]),ci(n,"id",ec("recharts-pie-")),ci(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ye(i)&&i()}),ci(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ye(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return jre(e,t),Ore(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.label,u=a.labelLine,c=a.dataKey,f=a.valueKey,h=qe(this.props,!1),m=qe(s,!1),y=qe(u,!1),v=s&&s.offsetRadius||20,E=n.map(function(w,x){var O=(w.startAngle+w.endAngle)/2,C=Ct(w.cx,w.cy,w.outerRadius+v,O),R=It(It(It(It({},h),w),{},{stroke:"none"},m),{},{index:x,textAnchor:e.getTextAnchor(C.x,w.cx)},C),$=It(It(It(It({},h),w),{},{fill:"none",stroke:w.fill},y),{},{index:x,points:[Ct(w.cx,w.cy,w.outerRadius,O),C]}),I=c;return Je(c)&&Je(f)?I="value":Je(c)&&(I=f),z.createElement(ht,{key:"label-".concat(w.startAngle,"-").concat(w.endAngle,"-").concat(w.midAngle,"-").concat(x)},u&&e.renderLabelLineItem(u,$,"line"),e.renderLabelItem(s,R,yr(w,I)))});return z.createElement(ht,{className:"recharts-pie-labels"},E)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,s=a.activeShape,u=a.blendStroke,c=a.inactiveShape;return n.map(function(f,h){if(f?.startAngle===0&&f?.endAngle===0&&n.length!==1)return null;var m=i.isActiveIndex(h),y=c&&i.hasActiveIndex()?c:null,v=m?s:y,E=It(It({},f),{},{stroke:u?f.fill:f.stroke,tabIndex:-1});return z.createElement(ht,au({ref:function(x){x&&!i.sectorRefs.includes(x)&&i.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},Zs(i.props,f,h),{key:"sector-".concat(f?.startAngle,"-").concat(f?.endAngle,"-").concat(f.midAngle,"-").concat(h)}),z.createElement(L4,au({option:v,isActive:m,shapeType:"sector"},E)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,s=i.isAnimationActive,u=i.animationBegin,c=i.animationDuration,f=i.animationEasing,h=i.animationId,m=this.state,y=m.prevSectors,v=m.prevIsAnimationActive;return z.createElement(da,{begin:u,duration:c,isActive:s,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(h,"-").concat(v),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(E){var w=E.t,x=[],O=a&&a[0],C=O.startAngle;return a.forEach(function(R,$){var I=y&&y[$],j=$>0?Gn(R,"paddingAngle",0):0;if(I){var A=qn(I.endAngle-I.startAngle,R.endAngle-R.startAngle),P=It(It({},R),{},{startAngle:C+j,endAngle:C+A(w)+j});x.push(P),C=P.endAngle}else{var N=R.endAngle,F=R.startAngle,D=qn(0,N-F),V=D(w),M=It(It({},R),{},{startAngle:C+j,endAngle:C+V+j});x.push(M),C=M.endAngle}}),z.createElement(ht,null,n.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var u=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[u].focus(),i.setState({sectorToFocus:u});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,s=this.state.prevSectors;return a&&i&&i.length&&(!s||!$d(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,s=i.sectors,u=i.className,c=i.label,f=i.cx,h=i.cy,m=i.innerRadius,y=i.outerRadius,v=i.isAnimationActive,E=this.state.isAnimationFinished;if(a||!s||!s.length||!ve(f)||!ve(h)||!ve(m)||!ve(y))return null;var w=et("recharts-pie",u);return z.createElement(ht,{tabIndex:this.props.rootTabIndex,className:w,ref:function(O){n.pieRef=O}},this.renderSectors(),c&&this.renderLabels(s),Ir.renderCallByParent(this.props,null,!1),(!v||E)&&Ga.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(z.isValidElement(n))return z.cloneElement(n,i);if(Ye(n))return n(i);var s=et("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return z.createElement(_m,au({},i,{key:a,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,i,a){if(z.isValidElement(n))return z.cloneElement(n,i);var s=a;if(Ye(n)&&(s=n(i),z.isValidElement(s)))return s;var u=et("recharts-pie-label-text",typeof n!="boolean"&&!Ye(n)?n.className:"");return z.createElement(el,au({},i,{alignmentBaseline:"middle",className:u}),s)}}])}(G.PureComponent);Ip=oo;ci(oo,"displayName","Pie");ci(oo,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!cl.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ci(oo,"parseDeltaAngle",function(t,e){var r=sn(e-t),n=Math.min(Math.abs(e-t),360);return r*n});ci(oo,"getRealPieData",function(t){var e=t.data,r=t.children,n=qe(t,!1),i=Yn(r,Sg);return e&&e.length?e.map(function(a,s){return It(It(It({payload:a},n),a),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(a){return It(It({},n),a.props)}):[]});ci(oo,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,a=e.height,s=w4(i,a),u=n+ln(t.cx,i,i/2),c=r+ln(t.cy,a,a/2),f=ln(t.innerRadius,s,0),h=ln(t.outerRadius,s,s*.8),m=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:u,cy:c,innerRadius:f,outerRadius:h,maxRadius:m}});ci(oo,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?It(It({},e.type.defaultProps),e.props):e.props,i=Ip.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,s=n.startAngle,u=n.endAngle,c=n.paddingAngle,f=n.dataKey,h=n.nameKey,m=n.valueKey,y=n.tooltipType,v=Math.abs(n.minAngle),E=Ip.parseCoordinateOfPie(n,r),w=Ip.parseDeltaAngle(s,u),x=Math.abs(w),O=f;Je(f)&&Je(m)?(Mi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),O="value"):Je(f)&&(Mi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),O=m);var C=i.filter(function(P){return yr(P,O,0)!==0}).length,R=(x>=360?C:C-1)*c,$=x-C*v-R,I=i.reduce(function(P,N){var F=yr(N,O,0);return P+(ve(F)?F:0)},0),j;if(I>0){var A;j=i.map(function(P,N){var F=yr(P,O,0),D=yr(P,h,N),V=(ve(F)?F:0)/I,M;N?M=A.endAngle+sn(w)*c*(F!==0?1:0):M=s;var Z=M+sn(w)*((F!==0?v:0)+V*$),ee=(M+Z)/2,re=(E.innerRadius+E.outerRadius)/2,oe=[{name:D,value:F,payload:P,dataKey:O,type:y}],Q=Ct(E.cx,E.cy,re,ee);return A=It(It(It({percent:V,cornerRadius:a,name:D,tooltipPayload:oe,midAngle:ee,middleRadius:re,tooltipPosition:Q},P),E),{},{value:yr(P,O),startAngle:M,endAngle:Z,payload:P,paddingAngle:sn(w)*c}),A})}return It(It({},E),{},{sectors:j,data:i})});var _x,Sj;function Dre(){if(Sj)return _x;Sj=1;var t=Math.ceil,e=Math.max;function r(n,i,a,s){for(var u=-1,c=e(t((i-n)/(a||1)),0),f=Array(c);c--;)f[s?c:++u]=n,n+=a;return f}return _x=r,_x}var xx,Tj;function V4(){if(Tj)return xx;Tj=1;var t=u$(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var a=i<0?-1:1;return a*r}return i===i?i:0}return xx=n,xx}var wx,Aj;function Lre(){if(Aj)return wx;Aj=1;var t=Dre(),e=wg(),r=V4();function n(i){return function(a,s,u){return u&&typeof u!="number"&&e(a,s,u)&&(s=u=void 0),a=r(a),s===void 0?(s=a,a=0):s=r(s),u=u===void 0?a<s?1:-1:r(u),t(a,s,u,i)}}return wx=n,wx}var Ex,Pj;function $re(){if(Pj)return Ex;Pj=1;var t=Lre(),e=t();return Ex=e,Ex}var Fre=$re();const Om=vt(Fre);function sd(t){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sd(t)}function kj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ij(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kj(Object(r),!0).forEach(function(n){U4(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function U4(t,e,r){return e=Vre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vre(t){var e=Ure(t,"string");return sd(e)=="symbol"?e:e+""}function Ure(t,e){if(sd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bre=["Webkit","Moz","O","ms"],qre=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Bre.reduce(function(a,s){return Ij(Ij({},a),{},U4({},s+n,r))},{});return i[e]=r,i};function Du(t){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Du(t)}function Cm(){return Cm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cm.apply(this,arguments)}function Oj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Sx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Oj(Object(r),!0).forEach(function(n){Vn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Oj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cj(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,q4(n.key),n)}}function Wre(t,e,r){return e&&Cj(t.prototype,e),r&&Cj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hre(t,e,r){return e=Rm(e),Kre(t,B4()?Reflect.construct(e,r||[],Rm(t).constructor):e.apply(t,r))}function Kre(t,e){if(e&&(Du(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gre(t)}function Gre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B4=function(){return!!t})()}function Rm(t){return Rm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rm(t)}function Yre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p1(t,e)}function p1(t,e){return p1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},p1(t,e)}function Vn(t,e,r){return e=q4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function q4(t){var e=Xre(t,"string");return Du(e)=="symbol"?e:e+""}function Xre(t,e){if(Du(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Qre=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,s=e.width,u=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,f=mf().domain(Om(0,c)).range([a,a+s-u]),h=f.domain().map(function(m){return f(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(n),endX:f(i),scale:f,scaleValues:h}},Rj=function(e){return e.changedTouches&&!!e.changedTouches.length},Lu=function(t){function e(r){var n;return zre(this,e),n=Hre(this,e,[r]),Vn(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Vn(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Vn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,s=i.onDragEnd,u=i.startIndex;s?.({endIndex:a,startIndex:u})}),n.detachDragEndListener()}),Vn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Vn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Vn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Vn(n,"handleSlideDragStart",function(i){var a=Rj(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Yre(e,t),Wre(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,s=this.state.scaleValues,u=this.props,c=u.gap,f=u.data,h=f.length-1,m=Math.min(i,a),y=Math.max(i,a),v=e.getIndexInRange(s,m),E=e.getIndexInRange(s,y);return{startIndex:v-v%c,endIndex:E===h?h:E-E%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,s=i.tickFormatter,u=i.dataKey,c=yr(a[n],u,n);return Ye(s)?s(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,s=i.startX,u=i.endX,c=this.props,f=c.x,h=c.width,m=c.travellerWidth,y=c.startIndex,v=c.endIndex,E=c.onChange,w=n.pageX-a;w>0?w=Math.min(w,f+h-m-u,f+h-m-s):w<0&&(w=Math.max(w,f-s,f-u));var x=this.getIndex({startX:s+w,endX:u+w});(x.startIndex!==y||x.endIndex!==v)&&E&&E(x),this.setState({startX:s+w,endX:u+w,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=Rj(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,u=i.endX,c=i.startX,f=this.state[s],h=this.props,m=h.x,y=h.width,v=h.travellerWidth,E=h.onChange,w=h.gap,x=h.data,O={startX:this.state.startX,endX:this.state.endX},C=n.pageX-a;C>0?C=Math.min(C,m+y-v-f):C<0&&(C=Math.max(C,m-f)),O[s]=f+C;var R=this.getIndex(O),$=R.startIndex,I=R.endIndex,j=function(){var P=x.length-1;return s==="startX"&&(u>c?$%w===0:I%w===0)||u<c&&I===P||s==="endX"&&(u>c?I%w===0:$%w===0)||u>c&&I===P};this.setState(Vn(Vn({},s,f+C),"brushMoveStartX",n.pageX),function(){E&&j()&&E(R)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,s=this.state,u=s.scaleValues,c=s.startX,f=s.endX,h=this.state[i],m=u.indexOf(h);if(m!==-1){var y=m+n;if(!(y===-1||y>=u.length)){var v=u[y];i==="startX"&&v>=f||i==="endX"&&v<=c||this.setState(Vn({},i,v),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,u=n.height,c=n.fill,f=n.stroke;return z.createElement("rect",{stroke:f,fill:c,x:i,y:a,width:s,height:u})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,u=n.height,c=n.data,f=n.children,h=n.padding,m=G.Children.only(f);return m?z.cloneElement(m,{x:i,y:a,width:s,height:u,margin:h,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,s,u=this,c=this.props,f=c.y,h=c.travellerWidth,m=c.height,y=c.traveller,v=c.ariaLabel,E=c.data,w=c.startIndex,x=c.endIndex,O=Math.max(n,this.props.x),C=Sx(Sx({},qe(this.props,!1)),{},{x:O,y:f,width:h,height:m}),R=v||"Min value: ".concat((a=E[w])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=E[x])===null||s===void 0?void 0:s.name);return z.createElement(ht,{tabIndex:0,role:"slider","aria-label":R,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(I){["ArrowLeft","ArrowRight"].includes(I.key)&&(I.preventDefault(),I.stopPropagation(),u.handleTravellerMoveKeyboard(I.key==="ArrowRight"?1:-1,i))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(y,C))}},{key:"renderSlide",value:function(n,i){var a=this.props,s=a.y,u=a.height,c=a.stroke,f=a.travellerWidth,h=Math.min(n,i)+f,m=Math.max(Math.abs(i-n)-f,0);return z.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:h,y:s,width:m,height:u})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,s=n.y,u=n.height,c=n.travellerWidth,f=n.stroke,h=this.state,m=h.startX,y=h.endX,v=5,E={pointerEvents:"none",fill:f};return z.createElement(ht,{className:"recharts-brush-texts"},z.createElement(el,Cm({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,y)-v,y:s+u/2},E),this.getTextOfTick(i)),z.createElement(el,Cm({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,y)+c+v,y:s+u/2},E),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,s=n.children,u=n.x,c=n.y,f=n.width,h=n.height,m=n.alwaysShowText,y=this.state,v=y.startX,E=y.endX,w=y.isTextActive,x=y.isSlideMoving,O=y.isTravellerMoving,C=y.isTravellerFocused;if(!i||!i.length||!ve(u)||!ve(c)||!ve(f)||!ve(h)||f<=0||h<=0)return null;var R=et("recharts-brush",a),$=z.Children.count(s)===1,I=qre("userSelect","none");return z.createElement(ht,{className:R,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:I},this.renderBackground(),$&&this.renderPanorama(),this.renderSlide(v,E),this.renderTravellerLayer(v,"startX"),this.renderTravellerLayer(E,"endX"),(w||x||O||C||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,s=n.width,u=n.height,c=n.stroke,f=Math.floor(a+u/2)-1;return z.createElement(z.Fragment,null,z.createElement("rect",{x:i,y:a,width:s,height:u,fill:c,stroke:"none"}),z.createElement("line",{x1:i+1,y1:f,x2:i+s-1,y2:f,fill:"none",stroke:"#fff"}),z.createElement("line",{x1:i+1,y1:f+2,x2:i+s-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return z.isValidElement(n)?a=z.cloneElement(n,i):Ye(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,s=n.width,u=n.x,c=n.travellerWidth,f=n.updateId,h=n.startIndex,m=n.endIndex;if(a!==i.prevData||f!==i.prevUpdateId)return Sx({prevData:a,prevTravellerWidth:c,prevUpdateId:f,prevX:u,prevWidth:s},a&&a.length?Qre({data:a,width:s,x:u,travellerWidth:c,startIndex:h,endIndex:m}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||u!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([u,u+s-c]);var y=i.scale.domain().map(function(v){return i.scale(v)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:f,prevX:u,prevWidth:s,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:y}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,s=0,u=a-1;u-s>1;){var c=Math.floor((s+u)/2);n[c]>i?u=c:s=c}return i>=n[u]?u:s}}])}(G.PureComponent);Vn(Lu,"displayName","Brush");Vn(Lu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Tx,Nj;function Jre(){if(Nj)return Tx;Nj=1;var t=ZE();function e(r,n){var i;return t(r,function(a,s,u){return i=n(a,s,u),!i}),!!i}return Tx=e,Tx}var Ax,jj;function Zre(){if(jj)return Ax;jj=1;var t=VL(),e=ga(),r=Jre(),n=Sn(),i=wg();function a(s,u,c){var f=n(s)?t:r;return c&&i(s,u,c)&&(u=void 0),f(s,e(u,3))}return Ax=a,Ax}var ene=Zre();const tne=vt(ene);var ua=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},Px,Mj;function rne(){if(Mj)return Px;Mj=1;var t=i$();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return Px=e,Px}var kx,Dj;function nne(){if(Dj)return kx;Dj=1;var t=rne(),e=r$(),r=ga();function n(i,a){var s={};return a=r(a,3),e(i,function(u,c,f){t(s,c,a(u,c,f))}),s}return kx=n,kx}var ine=nne();const ane=vt(ine);var Ix,Lj;function one(){if(Lj)return Ix;Lj=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return Ix=t,Ix}var Ox,$j;function sne(){if($j)return Ox;$j=1;var t=ZE();function e(r,n){var i=!0;return t(r,function(a,s,u){return i=!!n(a,s,u),i}),i}return Ox=e,Ox}var Cx,Fj;function lne(){if(Fj)return Cx;Fj=1;var t=one(),e=sne(),r=ga(),n=Sn(),i=wg();function a(s,u,c){var f=n(s)?t:e;return c&&i(s,u,c)&&(u=void 0),f(s,r(u,3))}return Cx=a,Cx}var une=lne();const z4=vt(une);var cne=["x","y"];function ld(t){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ld(t)}function m1(){return m1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},m1.apply(this,arguments)}function Vj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Vj(Object(r),!0).forEach(function(n){fne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Vj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fne(t,e,r){return e=dne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dne(t){var e=hne(t,"string");return ld(e)=="symbol"?e:e+""}function hne(t,e){if(ld(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pne(t,e){if(t==null)return{};var r=mne(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mne(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function gne(t,e){var r=t.x,n=t.y,i=pne(t,cne),a="".concat(r),s=parseInt(a,10),u="".concat(n),c=parseInt(u,10),f="".concat(e.height||i.height),h=parseInt(f,10),m="".concat(e.width||i.width),y=parseInt(m,10);return Xc(Xc(Xc(Xc(Xc({},e),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:h,width:y,name:e.name,radius:e.radius})}function Uj(t){return z.createElement(L4,m1({shapeType:"rectangle",propTransformer:gne,activeClassName:"recharts-active-bar"},t))}var yne=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=ve(n)||U8(n);return a?e(n,i):(a||rl(),r)}},vne=["value","background"],W4;function $u(t){"@babel/helpers - typeof";return $u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$u(t)}function bne(t,e){if(t==null)return{};var r=_ne(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _ne(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Nm(){return Nm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nm.apply(this,arguments)}function Bj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Bj(Object(r),!0).forEach(function(n){Bo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Bj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qj(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,K4(n.key),n)}}function wne(t,e,r){return e&&qj(t.prototype,e),r&&qj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ene(t,e,r){return e=jm(e),Sne(t,H4()?Reflect.construct(e,r||[],jm(t).constructor):e.apply(t,r))}function Sne(t,e){if(e&&($u(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tne(t)}function Tne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H4=function(){return!!t})()}function jm(t){return jm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jm(t)}function Ane(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g1(t,e)}function g1(t,e){return g1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},g1(t,e)}function Bo(t,e,r){return e=K4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function K4(t){var e=Pne(t,"string");return $u(e)=="symbol"?e:e+""}function Pne(t,e){if($u(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($u(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ha=function(t){function e(){var r;xne(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Ene(this,e,[].concat(i)),Bo(r,"state",{isAnimationFinished:!1}),Bo(r,"id",ec("recharts-bar-")),Bo(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),Bo(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return Ane(e,t),wne(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,s=a.shape,u=a.dataKey,c=a.activeIndex,f=a.activeBar,h=qe(this.props,!1);return n&&n.map(function(m,y){var v=y===c,E=v?f:s,w=sr(sr(sr({},h),m),{},{isActive:v,option:E,index:y,dataKey:u,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return z.createElement(ht,Nm({className:"recharts-bar-rectangle"},Zs(i.props,m,y),{key:"rectangle-".concat(m?.x,"-").concat(m?.y,"-").concat(m?.value,"-").concat(y)}),z.createElement(Uj,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,s=i.layout,u=i.isAnimationActive,c=i.animationBegin,f=i.animationDuration,h=i.animationEasing,m=i.animationId,y=this.state.prevData;return z.createElement(da,{begin:c,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var E=v.t,w=a.map(function(x,O){var C=y&&y[O];if(C){var R=qn(C.x,x.x),$=qn(C.y,x.y),I=qn(C.width,x.width),j=qn(C.height,x.height);return sr(sr({},x),{},{x:R(E),y:$(E),width:I(E),height:j(E)})}if(s==="horizontal"){var A=qn(0,x.height),P=A(E);return sr(sr({},x),{},{y:x.y+x.height-P,height:P})}var N=qn(0,x.width),F=N(E);return sr(sr({},x),{},{width:F})});return z.createElement(ht,null,n.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!$d(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,s=i.dataKey,u=i.activeIndex,c=qe(this.props.background,!1);return a.map(function(f,h){f.value;var m=f.background,y=bne(f,vne);if(!m)return null;var v=sr(sr(sr(sr(sr({},y),{},{fill:"#eee"},m),c),Zs(n.props,f,h)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:h,className:"recharts-bar-background-rectangle"});return z.createElement(Uj,Nm({key:"background-bar-".concat(h),option:n.props.background,isActive:h===u},v))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,u=a.xAxis,c=a.yAxis,f=a.layout,h=a.children,m=Yn(h,Fd);if(!m)return null;var y=f==="vertical"?s[0].height/2:s[0].width/2,v=function(x,O){var C=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:C,errorVal:yr(x,O)}},E={clipPath:n?"url(#clipPath-".concat(i,")"):null};return z.createElement(ht,E,m.map(function(w){return z.cloneElement(w,{key:"error-bar-".concat(i,"-").concat(w.props.dataKey),data:s,xAxis:u,yAxis:c,layout:f,offset:y,dataPointFormatter:v})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,s=n.className,u=n.xAxis,c=n.yAxis,f=n.left,h=n.top,m=n.width,y=n.height,v=n.isAnimationActive,E=n.background,w=n.id;if(i||!a||!a.length)return null;var x=this.state.isAnimationFinished,O=et("recharts-bar",s),C=u&&u.allowDataOverflow,R=c&&c.allowDataOverflow,$=C||R,I=Je(w)?this.id:w;return z.createElement(ht,{className:O},C||R?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(I)},z.createElement("rect",{x:C?f:f-m/2,y:R?h:h-y/2,width:C?m:m*2,height:R?y:y*2}))):null,z.createElement(ht,{className:"recharts-bar-rectangles",clipPath:$?"url(#clipPath-".concat(I,")"):null},E?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar($,I),(!v||x)&&Ga.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(G.PureComponent);W4=ha;Bo(ha,"displayName","Bar");Bo(ha,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!cl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Bo(ha,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,u=t.xAxisTicks,c=t.yAxisTicks,f=t.stackedData,h=t.dataStartIndex,m=t.displayedData,y=t.offset,v=rJ(n,r);if(!v)return null;var E=e.layout,w=r.type.defaultProps,x=w!==void 0?sr(sr({},w),r.props):r.props,O=x.dataKey,C=x.children,R=x.minPointSize,$=E==="horizontal"?s:a,I=f?$.scale.domain():null,j=uJ({numericAxis:$}),A=Yn(C,Sg),P=m.map(function(N,F){var D,V,M,Z,ee,re;f?D=nJ(f[h+F],I):(D=yr(N,O),Array.isArray(D)||(D=[j,D]));var oe=yne(R,W4.defaultProps.minPointSize)(D[1],F);if(E==="horizontal"){var Q,ae=[s.scale(D[0]),s.scale(D[1])],se=ae[0],q=ae[1];V=pN({axis:a,ticks:u,bandSize:i,offset:v.offset,entry:N,index:F}),M=(Q=q??se)!==null&&Q!==void 0?Q:void 0,Z=v.size;var K=se-q;if(ee=Number.isNaN(K)?0:K,re={x:V,y:s.y,width:Z,height:s.height},Math.abs(oe)>0&&Math.abs(ee)<Math.abs(oe)){var fe=sn(ee||oe)*(Math.abs(oe)-Math.abs(ee));M-=fe,ee+=fe}}else{var Ee=[a.scale(D[0]),a.scale(D[1])],je=Ee[0],xe=Ee[1];if(V=je,M=pN({axis:s,ticks:c,bandSize:i,offset:v.offset,entry:N,index:F}),Z=xe-je,ee=v.size,re={x:a.x,y:M,width:a.width,height:ee},Math.abs(oe)>0&&Math.abs(Z)<Math.abs(oe)){var $e=sn(Z||oe)*(Math.abs(oe)-Math.abs(Z));Z+=$e}}return sr(sr(sr({},N),{},{x:V,y:M,width:Z,height:ee,value:f?D:D[1],payload:N,background:re},A&&A[F]&&A[F].props),{},{tooltipPayload:[_4(r,N)],tooltipPosition:{x:V+Z/2,y:M+ee/2}})});return sr({data:P,layout:E},y)});function ud(t){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ud(t)}function kne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zj(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,G4(n.key),n)}}function Ine(t,e,r){return e&&zj(t.prototype,e),r&&zj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ri(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Wj(Object(r),!0).forEach(function(n){qg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Wj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qg(t,e,r){return e=G4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function G4(t){var e=One(t,"string");return ud(e)=="symbol"?e:e+""}function One(t,e){if(ud(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Y4=function(e,r,n,i,a){var s=e.width,u=e.height,c=e.layout,f=e.children,h=Object.keys(r),m={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:u-n.bottom,bottomMirror:u-n.bottom},y=!!Un(f,ha);return h.reduce(function(v,E){var w=r[E],x=w.orientation,O=w.domain,C=w.padding,R=C===void 0?{}:C,$=w.mirror,I=w.reversed,j="".concat(x).concat($?"Mirror":""),A,P,N,F,D;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var V=O[1]-O[0],M=1/0,Z=w.categoricalDomain.sort(z8);if(Z.forEach(function(Ee,je){je>0&&(M=Math.min((Ee||0)-(Z[je-1]||0),M))}),Number.isFinite(M)){var ee=M/V,re=w.layout==="vertical"?n.height:n.width;if(w.padding==="gap"&&(A=ee*re/2),w.padding==="no-gap"){var oe=ln(e.barCategoryGap,ee*re),Q=ee*re/2;A=Q-oe-(Q-oe)/re*oe}}}i==="xAxis"?P=[n.left+(R.left||0)+(A||0),n.left+n.width-(R.right||0)-(A||0)]:i==="yAxis"?P=c==="horizontal"?[n.top+n.height-(R.bottom||0),n.top+(R.top||0)]:[n.top+(R.top||0)+(A||0),n.top+n.height-(R.bottom||0)-(A||0)]:P=w.range,I&&(P=[P[1],P[0]]);var ae=g4(w,a,y),se=ae.scale,q=ae.realScaleType;se.domain(O).range(P),y4(se);var K=v4(se,Ri(Ri({},w),{},{realScaleType:q}));i==="xAxis"?(D=x==="top"&&!$||x==="bottom"&&$,N=n.left,F=m[j]-D*w.height):i==="yAxis"&&(D=x==="left"&&!$||x==="right"&&$,N=m[j]-D*w.width,F=n.top);var fe=Ri(Ri(Ri({},w),K),{},{realScaleType:q,x:N,y:F,scale:se,width:i==="xAxis"?n.width:w.width,height:i==="yAxis"?n.height:w.height});return fe.bandSize=ym(fe,K),!w.hide&&i==="xAxis"?m[j]+=(D?-1:1)*fe.height:w.hide||(m[j]+=(D?-1:1)*fe.width),Ri(Ri({},v),{},qg({},E,fe))},{})},X4=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return{x:Math.min(n,a),y:Math.min(i,s),width:Math.abs(a-n),height:Math.abs(s-i)}},Cne=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return X4({x:r,y:n},{x:i,y:a})},Q4=function(){function t(e){kne(this,t),this.scale=e}return Ine(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(r)+u}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();qg(Q4,"EPS",1e-4);var IS=function(e){var r=Object.keys(e).reduce(function(n,i){return Ri(Ri({},n),{},qg({},i,Q4.create(e[i])))},{});return Ri(Ri({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,u=a.position;return ane(i,function(c,f){return r[f].apply(c,{bandAware:s,position:u})})},isInRange:function(i){return z4(i,function(a,s){return r[s].isInRange(a)})}})};function Rne(t){return(t%180+180)%180}var Nne=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Rne(i),s=a*Math.PI/180,u=Math.atan(n/r),c=s>u&&s<Math.PI-u?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},Rx,Hj;function jne(){if(Hj)return Rx;Hj=1;var t=ga(),e=Nd(),r=_g();function n(i){return function(a,s,u){var c=Object(a);if(!e(a)){var f=t(s,3);a=r(a),s=function(m){return f(c[m],m,c)}}var h=i(a,s,u);return h>-1?c[f?a[h]:h]:void 0}}return Rx=n,Rx}var Nx,Kj;function Mne(){if(Kj)return Nx;Kj=1;var t=V4();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return Nx=e,Nx}var jx,Gj;function Dne(){if(Gj)return jx;Gj=1;var t=QL(),e=ga(),r=Mne(),n=Math.max;function i(a,s,u){var c=a==null?0:a.length;if(!c)return-1;var f=u==null?0:r(u);return f<0&&(f=n(c+f,0)),t(a,e(s,3),f)}return jx=i,jx}var Mx,Yj;function Lne(){if(Yj)return Mx;Yj=1;var t=jne(),e=Dne(),r=t(e);return Mx=r,Mx}var $ne=Lne();const Fne=vt($ne);var Vne=hL();const Une=vt(Vne);var Bne=Une(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),OS=G.createContext(void 0),CS=G.createContext(void 0),J4=G.createContext(void 0),Z4=G.createContext({}),eF=G.createContext(void 0),tF=G.createContext(0),rF=G.createContext(0),Xj=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,s=e.clipPathId,u=e.children,c=e.width,f=e.height,h=Bne(a);return z.createElement(OS.Provider,{value:n},z.createElement(CS.Provider,{value:i},z.createElement(Z4.Provider,{value:a},z.createElement(J4.Provider,{value:h},z.createElement(eF.Provider,{value:s},z.createElement(tF.Provider,{value:f},z.createElement(rF.Provider,{value:c},u)))))))},qne=function(){return G.useContext(eF)},nF=function(e){var r=G.useContext(OS);r==null&&rl();var n=r[e];return n==null&&rl(),n},zne=function(){var e=G.useContext(OS);return Vo(e)},Wne=function(){var e=G.useContext(CS),r=Fne(e,function(n){return z4(n.domain,Number.isFinite)});return r||Vo(e)},iF=function(e){var r=G.useContext(CS);r==null&&rl();var n=r[e];return n==null&&rl(),n},Hne=function(){var e=G.useContext(J4);return e},Kne=function(){return G.useContext(Z4)},RS=function(){return G.useContext(rF)},NS=function(){return G.useContext(tF)};function Fu(t){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fu(t)}function Gne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yne(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oF(n.key),n)}}function Xne(t,e,r){return e&&Yne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qne(t,e,r){return e=Mm(e),Jne(t,aF()?Reflect.construct(e,r||[],Mm(t).constructor):e.apply(t,r))}function Jne(t,e){if(e&&(Fu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zne(t)}function Zne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aF=function(){return!!t})()}function Mm(t){return Mm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mm(t)}function eie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y1(t,e)}function y1(t,e){return y1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},y1(t,e)}function Qj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Jj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Qj(Object(r),!0).forEach(function(n){jS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Qj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jS(t,e,r){return e=oF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oF(t){var e=tie(t,"string");return Fu(e)=="symbol"?e:e+""}function tie(t,e){if(Fu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function rie(t,e){return oie(t)||aie(t,e)||iie(t,e)||nie()}function nie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iie(t,e){if(t){if(typeof t=="string")return Zj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zj(t,e)}}function Zj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function aie(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function oie(t){if(Array.isArray(t))return t}function v1(){return v1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},v1.apply(this,arguments)}var sie=function(e,r){var n;return z.isValidElement(e)?n=z.cloneElement(e,r):Ye(e)?n=e(r):n=z.createElement("line",v1({},r,{className:"recharts-reference-line-line"})),n},lie=function(e,r,n,i,a,s,u,c,f){var h=a.x,m=a.y,y=a.width,v=a.height;if(n){var E=f.y,w=e.y.apply(E,{position:s});if(ua(f,"discard")&&!e.y.isInRange(w))return null;var x=[{x:h+y,y:w},{x:h,y:w}];return c==="left"?x.reverse():x}if(r){var O=f.x,C=e.x.apply(O,{position:s});if(ua(f,"discard")&&!e.x.isInRange(C))return null;var R=[{x:C,y:m+v},{x:C,y:m}];return u==="top"?R.reverse():R}if(i){var $=f.segment,I=$.map(function(j){return e.apply(j,{position:s})});return ua(f,"discard")&&tne(I,function(j){return!e.isInRange(j)})?null:I}return null};function uie(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,u=t.className,c=t.alwaysShow,f=qne(),h=nF(i),m=iF(a),y=Hne();if(!f||!y)return null;Mi(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=IS({x:h.scale,y:m.scale}),E=vr(e),w=vr(r),x=n&&n.length===2,O=lie(v,E,w,x,y,t.position,h.orientation,m.orientation,t);if(!O)return null;var C=rie(O,2),R=C[0],$=R.x,I=R.y,j=C[1],A=j.x,P=j.y,N=ua(t,"hidden")?"url(#".concat(f,")"):void 0,F=Jj(Jj({clipPath:N},qe(t,!0)),{},{x1:$,y1:I,x2:A,y2:P});return z.createElement(ht,{className:et("recharts-reference-line",u)},sie(s,F),Ir.renderCallByParent(t,Cne({x1:$,y1:I,x2:A,y2:P})))}var MS=function(t){function e(){return Gne(this,e),Qne(this,e,arguments)}return eie(e,t),Xne(e,[{key:"render",value:function(){return z.createElement(uie,this.props)}}])}(z.Component);jS(MS,"displayName","ReferenceLine");jS(MS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function b1(){return b1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},b1.apply(this,arguments)}function Vu(t){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vu(t)}function e2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function t2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?e2(Object(r),!0).forEach(function(n){zg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lF(n.key),n)}}function die(t,e,r){return e&&fie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hie(t,e,r){return e=Dm(e),pie(t,sF()?Reflect.construct(e,r||[],Dm(t).constructor):e.apply(t,r))}function pie(t,e){if(e&&(Vu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mie(t)}function mie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sF=function(){return!!t})()}function Dm(t){return Dm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dm(t)}function gie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_1(t,e)}function _1(t,e){return _1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_1(t,e)}function zg(t,e,r){return e=lF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lF(t){var e=yie(t,"string");return Vu(e)=="symbol"?e:e+""}function yie(t,e){if(Vu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vie=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,s=IS({x:i.scale,y:a.scale}),u=s.apply({x:r,y:n},{bandAware:!0});return ua(e,"discard")&&!s.isInRange(u)?null:u},Wg=function(t){function e(){return cie(this,e),hie(this,e,arguments)}return gie(e,t),die(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,s=n.r,u=n.alwaysShow,c=n.clipPathId,f=vr(i),h=vr(a);if(Mi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!h)return null;var m=vie(this.props);if(!m)return null;var y=m.x,v=m.y,E=this.props,w=E.shape,x=E.className,O=ua(this.props,"hidden")?"url(#".concat(c,")"):void 0,C=t2(t2({clipPath:O},qe(this.props,!0)),{},{cx:y,cy:v});return z.createElement(ht,{className:et("recharts-reference-dot",x)},e.renderDot(w,C),Ir.renderCallByParent(this.props,{x:y-s,y:v-s,width:2*s,height:2*s}))}}])}(z.Component);zg(Wg,"displayName","ReferenceDot");zg(Wg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});zg(Wg,"renderDot",function(t,e){var r;return z.isValidElement(t)?r=z.cloneElement(t,e):Ye(t)?r=t(e):r=z.createElement(Dg,b1({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function x1(){return x1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},x1.apply(this,arguments)}function Uu(t){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uu(t)}function r2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function n2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?r2(Object(r),!0).forEach(function(n){Hg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):r2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _ie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cF(n.key),n)}}function xie(t,e,r){return e&&_ie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wie(t,e,r){return e=Lm(e),Eie(t,uF()?Reflect.construct(e,r||[],Lm(t).constructor):e.apply(t,r))}function Eie(t,e){if(e&&(Uu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sie(t)}function Sie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uF=function(){return!!t})()}function Lm(t){return Lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lm(t)}function Tie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w1(t,e)}function w1(t,e){return w1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},w1(t,e)}function Hg(t,e,r){return e=cF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cF(t){var e=Aie(t,"string");return Uu(e)=="symbol"?e:e+""}function Aie(t,e){if(Uu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Pie=function(e,r,n,i,a){var s=a.x1,u=a.x2,c=a.y1,f=a.y2,h=a.xAxis,m=a.yAxis;if(!h||!m)return null;var y=IS({x:h.scale,y:m.scale}),v={x:e?y.x.apply(s,{position:"start"}):y.x.rangeMin,y:n?y.y.apply(c,{position:"start"}):y.y.rangeMin},E={x:r?y.x.apply(u,{position:"end"}):y.x.rangeMax,y:i?y.y.apply(f,{position:"end"}):y.y.rangeMax};return ua(a,"discard")&&(!y.isInRange(v)||!y.isInRange(E))?null:X4(v,E)},Kg=function(t){function e(){return bie(this,e),wie(this,e,arguments)}return Tie(e,t),xie(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,s=n.y1,u=n.y2,c=n.className,f=n.alwaysShow,h=n.clipPathId;Mi(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=vr(i),y=vr(a),v=vr(s),E=vr(u),w=this.props.shape;if(!m&&!y&&!v&&!E&&!w)return null;var x=Pie(m,y,v,E,this.props);if(!x&&!w)return null;var O=ua(this.props,"hidden")?"url(#".concat(h,")"):void 0;return z.createElement(ht,{className:et("recharts-reference-area",c)},e.renderRect(w,n2(n2({clipPath:O},qe(this.props,!0)),x)),Ir.renderCallByParent(this.props,x))}}])}(z.Component);Hg(Kg,"displayName","ReferenceArea");Hg(Kg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Hg(Kg,"renderRect",function(t,e){var r;return z.isValidElement(t)?r=z.cloneElement(t,e):Ye(t)?r=t(e):r=z.createElement(kS,x1({},e,{className:"recharts-reference-area-rect"})),r});function fF(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function kie(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Nne(n,r)}function Iie(t,e,r){var n=r==="width",i=t.x,a=t.y,s=t.width,u=t.height;return e===1?{start:n?i:a,end:n?i+s:a+u}:{start:n?i+s:a+u,end:n?i:a}}function $m(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function Oie(t,e){return fF(t,e+1)}function Cie(t,e,r,n,i){for(var a=(n||[]).slice(),s=e.start,u=e.end,c=0,f=1,h=s,m=function(){var E=n?.[c];if(E===void 0)return{v:fF(n,f)};var w=c,x,O=function(){return x===void 0&&(x=r(E,w)),x},C=E.coordinate,R=c===0||$m(t,C,O,h,u);R||(c=0,h=s,f+=1),R&&(h=C+t*(O()/2+i),c+=f)},y;f<=a.length;)if(y=m(),y)return y.v;return[]}function cd(t){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cd(t)}function i2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Gr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?i2(Object(r),!0).forEach(function(n){Rie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rie(t,e,r){return e=Nie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nie(t){var e=jie(t,"string");return cd(e)=="symbol"?e:e+""}function jie(t,e){if(cd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mie(t,e,r,n,i){for(var a=(n||[]).slice(),s=a.length,u=e.start,c=e.end,f=function(y){var v=a[y],E,w=function(){return E===void 0&&(E=r(v,y)),E};if(y===s-1){var x=t*(v.coordinate+t*w()/2-c);a[y]=v=Gr(Gr({},v),{},{tickCoord:x>0?v.coordinate-x*t:v.coordinate})}else a[y]=v=Gr(Gr({},v),{},{tickCoord:v.coordinate});var O=$m(t,v.tickCoord,w,u,c);O&&(c=v.tickCoord-t*(w()/2+i),a[y]=Gr(Gr({},v),{},{isShow:!0}))},h=s-1;h>=0;h--)f(h);return a}function Die(t,e,r,n,i,a){var s=(n||[]).slice(),u=s.length,c=e.start,f=e.end;if(a){var h=n[u-1],m=r(h,u-1),y=t*(h.coordinate+t*m/2-f);s[u-1]=h=Gr(Gr({},h),{},{tickCoord:y>0?h.coordinate-y*t:h.coordinate});var v=$m(t,h.tickCoord,function(){return m},c,f);v&&(f=h.tickCoord-t*(m/2+i),s[u-1]=Gr(Gr({},h),{},{isShow:!0}))}for(var E=a?u-1:u,w=function(C){var R=s[C],$,I=function(){return $===void 0&&($=r(R,C)),$};if(C===0){var j=t*(R.coordinate-t*I()/2-c);s[C]=R=Gr(Gr({},R),{},{tickCoord:j<0?R.coordinate-j*t:R.coordinate})}else s[C]=R=Gr(Gr({},R),{},{tickCoord:R.coordinate});var A=$m(t,R.tickCoord,I,c,f);A&&(c=R.tickCoord+t*(I()/2+i),s[C]=Gr(Gr({},R),{},{isShow:!0}))},x=0;x<E;x++)w(x);return s}function DS(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,u=t.orientation,c=t.interval,f=t.tickFormatter,h=t.unit,m=t.angle;if(!i||!i.length||!n)return[];if(ve(c)||cl.isSsr)return Oie(i,typeof c=="number"&&ve(c)?c:0);var y=[],v=u==="top"||u==="bottom"?"width":"height",E=h&&v==="width"?pf(h,{fontSize:e,letterSpacing:r}):{width:0,height:0},w=function(R,$){var I=Ye(f)?f(R.value,$):R.value;return v==="width"?kie(pf(I,{fontSize:e,letterSpacing:r}),E,m):pf(I,{fontSize:e,letterSpacing:r})[v]},x=i.length>=2?sn(i[1].coordinate-i[0].coordinate):1,O=Iie(a,x,v);return c==="equidistantPreserveStart"?Cie(x,O,w,i,s):(c==="preserveStart"||c==="preserveStartEnd"?y=Die(x,O,w,i,s,c==="preserveStartEnd"):y=Mie(x,O,w,i,s),y.filter(function(C){return C.isShow}))}var Lie=["viewBox"],$ie=["viewBox"],Fie=["ticks"];function Bu(t){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bu(t)}function ou(){return ou=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ou.apply(this,arguments)}function a2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?a2(Object(r),!0).forEach(function(n){LS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Dx(t,e){if(t==null)return{};var r=Vie(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Vie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Uie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hF(n.key),n)}}function Bie(t,e,r){return e&&o2(t.prototype,e),r&&o2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function qie(t,e,r){return e=Fm(e),zie(t,dF()?Reflect.construct(e,r||[],Fm(t).constructor):e.apply(t,r))}function zie(t,e){if(e&&(Bu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wie(t)}function Wie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dF=function(){return!!t})()}function Fm(t){return Fm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fm(t)}function Hie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E1(t,e)}function E1(t,e){return E1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},E1(t,e)}function LS(t,e,r){return e=hF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hF(t){var e=Kie(t,"string");return Bu(e)=="symbol"?e:e+""}function Kie(t,e){if(Bu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ac=function(t){function e(r){var n;return Uie(this,e),n=qie(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return Hie(e,t),Bie(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,s=Dx(n,Lie),u=this.props,c=u.viewBox,f=Dx(u,$ie);return!du(a,c)||!du(s,f)||!du(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,s=i.y,u=i.width,c=i.height,f=i.orientation,h=i.tickSize,m=i.mirror,y=i.tickMargin,v,E,w,x,O,C,R=m?-1:1,$=n.tickSize||h,I=ve(n.tickCoord)?n.tickCoord:n.coordinate;switch(f){case"top":v=E=n.coordinate,x=s+ +!m*c,w=x-R*$,C=w-R*y,O=I;break;case"left":w=x=n.coordinate,E=a+ +!m*u,v=E-R*$,O=v-R*y,C=I;break;case"right":w=x=n.coordinate,E=a+ +m*u,v=E+R*$,O=v+R*y,C=I;break;default:v=E=n.coordinate,x=s+ +m*c,w=x+R*$,C=w+R*y,O=I;break}return{line:{x1:v,y1:w,x2:E,y2:x},tick:{x:O,y:C}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,u=n.height,c=n.orientation,f=n.mirror,h=n.axisLine,m=mr(mr(mr({},qe(this.props,!1)),qe(h,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var y=+(c==="top"&&!f||c==="bottom"&&f);m=mr(mr({},m),{},{x1:i,y1:a+y*u,x2:i+s,y2:a+y*u})}else{var v=+(c==="left"&&!f||c==="right"&&f);m=mr(mr({},m),{},{x1:i+v*s,y1:a,x2:i+v*s,y2:a+u})}return z.createElement("line",ou({},m,{className:et("recharts-cartesian-axis-line",Gn(h,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var s=this,u=this.props,c=u.tickLine,f=u.stroke,h=u.tick,m=u.tickFormatter,y=u.unit,v=DS(mr(mr({},this.props),{},{ticks:n}),i,a),E=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),x=qe(this.props,!1),O=qe(h,!1),C=mr(mr({},x),{},{fill:"none"},qe(c,!1)),R=v.map(function($,I){var j=s.getTickLineCoord($),A=j.line,P=j.tick,N=mr(mr(mr(mr({textAnchor:E,verticalAnchor:w},x),{},{stroke:"none",fill:f},O),P),{},{index:I,payload:$,visibleTicksCount:v.length,tickFormatter:m});return z.createElement(ht,ou({className:"recharts-cartesian-axis-tick",key:"tick-".concat($.value,"-").concat($.coordinate,"-").concat($.tickCoord)},Zs(s.props,$,I)),c&&z.createElement("line",ou({},C,A,{className:et("recharts-cartesian-axis-tick-line",Gn(c,"className"))})),h&&e.renderTickItem(h,N,"".concat(Ye(m)?m($.value,I):$.value).concat(y||"")))});return z.createElement("g",{className:"recharts-cartesian-axis-ticks"},R)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,s=i.width,u=i.height,c=i.ticksGenerator,f=i.className,h=i.hide;if(h)return null;var m=this.props,y=m.ticks,v=Dx(m,Fie),E=y;return Ye(c)&&(E=y&&y.length>0?c(this.props):c(v)),s<=0||u<=0||!E||!E.length?null:z.createElement(ht,{className:et("recharts-cartesian-axis",f),ref:function(x){n.layerReference=x}},a&&this.renderAxisLine(),this.renderTicks(E,this.state.fontSize,this.state.letterSpacing),Ir.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var s,u=et(i.className,"recharts-cartesian-axis-tick-value");return z.isValidElement(n)?s=z.cloneElement(n,mr(mr({},i),{},{className:u})):Ye(n)?s=n(mr(mr({},i),{},{className:u})):s=z.createElement(el,ou({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(G.Component);LS(ac,"displayName","CartesianAxis");LS(ac,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Gie=["x1","y1","x2","y2","key"],Yie=["offset"];function nl(t){"@babel/helpers - typeof";return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nl(t)}function s2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?s2(Object(r),!0).forEach(function(n){Xie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xie(t,e,r){return e=Qie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qie(t){var e=Jie(t,"string");return nl(e)=="symbol"?e:e+""}function Jie(t,e){if(nl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vs(){return Vs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vs.apply(this,arguments)}function l2(t,e){if(t==null)return{};var r=Zie(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Zie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var eae=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,s=e.width,u=e.height,c=e.ry;return z.createElement("rect",{x:i,y:a,ry:c,width:s,height:u,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function pF(t,e){var r;if(z.isValidElement(t))r=z.cloneElement(t,e);else if(Ye(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,s=e.y2,u=e.key,c=l2(e,Gie),f=qe(c,!1);f.offset;var h=l2(f,Yie);r=z.createElement("line",Vs({},h,{x1:n,y1:i,x2:a,y2:s,fill:"none",key:u}))}return r}function tae(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(u,c){var f=Qr(Qr({},t),{},{x1:e,y1:u,x2:e+r,y2:u,key:"line-".concat(c),index:c});return pF(i,f)});return z.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function rae(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(u,c){var f=Qr(Qr({},t),{},{x1:u,y1:e,x2:u,y2:e+r,key:"line-".concat(c),index:c});return pF(i,f)});return z.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function nae(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,s=t.height,u=t.horizontalPoints,c=t.horizontal,f=c===void 0?!0:c;if(!f||!e||!e.length)return null;var h=u.map(function(y){return Math.round(y+i-i)}).sort(function(y,v){return y-v});i!==h[0]&&h.unshift(0);var m=h.map(function(y,v){var E=!h[v+1],w=E?i+s-y:h[v+1]-y;if(w<=0)return null;var x=v%e.length;return z.createElement("rect",{key:"react-".concat(v),y,x:n,height:w,width:a,stroke:"none",fill:e[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function iae(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,u=t.width,c=t.height,f=t.verticalPoints;if(!r||!n||!n.length)return null;var h=f.map(function(y){return Math.round(y+a-a)}).sort(function(y,v){return y-v});a!==h[0]&&h.unshift(0);var m=h.map(function(y,v){var E=!h[v+1],w=E?a+u-y:h[v+1]-y;if(w<=0)return null;var x=v%n.length;return z.createElement("rect",{key:"react-".concat(v),x:y,y:s,width:w,height:c,stroke:"none",fill:n[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var aae=function(e,r){var n=e.xAxis,i=e.width,a=e.height,s=e.offset;return m4(DS(Qr(Qr(Qr({},ac.defaultProps),n),{},{ticks:qa(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,r)},oae=function(e,r){var n=e.yAxis,i=e.width,a=e.height,s=e.offset;return m4(DS(Qr(Qr(Qr({},ac.defaultProps),n),{},{ticks:qa(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,r)},Ql={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Gg(t){var e,r,n,i,a,s,u=RS(),c=NS(),f=Kne(),h=Qr(Qr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Ql.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Ql.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Ql.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Ql.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Ql.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Ql.verticalFill,x:ve(t.x)?t.x:f.left,y:ve(t.y)?t.y:f.top,width:ve(t.width)?t.width:f.width,height:ve(t.height)?t.height:f.height}),m=h.x,y=h.y,v=h.width,E=h.height,w=h.syncWithTicks,x=h.horizontalValues,O=h.verticalValues,C=zne(),R=Wne();if(!ve(v)||v<=0||!ve(E)||E<=0||!ve(m)||m!==+m||!ve(y)||y!==+y)return null;var $=h.verticalCoordinatesGenerator||aae,I=h.horizontalCoordinatesGenerator||oae,j=h.horizontalPoints,A=h.verticalPoints;if((!j||!j.length)&&Ye(I)){var P=x&&x.length,N=I({yAxis:R?Qr(Qr({},R),{},{ticks:P?x:R.ticks}):void 0,width:u,height:c,offset:f},P?!0:w);Mi(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(nl(N),"]")),Array.isArray(N)&&(j=N)}if((!A||!A.length)&&Ye($)){var F=O&&O.length,D=$({xAxis:C?Qr(Qr({},C),{},{ticks:F?O:C.ticks}):void 0,width:u,height:c,offset:f},F?!0:w);Mi(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(nl(D),"]")),Array.isArray(D)&&(A=D)}return z.createElement("g",{className:"recharts-cartesian-grid"},z.createElement(eae,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),z.createElement(tae,Vs({},h,{offset:f,horizontalPoints:j,xAxis:C,yAxis:R})),z.createElement(rae,Vs({},h,{offset:f,verticalPoints:A,xAxis:C,yAxis:R})),z.createElement(nae,Vs({},h,{horizontalPoints:j})),z.createElement(iae,Vs({},h,{verticalPoints:A})))}Gg.displayName="CartesianGrid";var sae=["type","layout","connectNulls","ref"],lae=["key"];function qu(t){"@babel/helpers - typeof";return qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qu(t)}function u2(t,e){if(t==null)return{};var r=uae(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function uae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function _f(){return _f=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_f.apply(this,arguments)}function c2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?c2(Object(r),!0).forEach(function(n){Ni(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jl(t){return hae(t)||dae(t)||fae(t)||cae()}function cae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fae(t,e){if(t){if(typeof t=="string")return S1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S1(t,e)}}function dae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hae(t){if(Array.isArray(t))return S1(t)}function S1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gF(n.key),n)}}function mae(t,e,r){return e&&f2(t.prototype,e),r&&f2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function gae(t,e,r){return e=Vm(e),yae(t,mF()?Reflect.construct(e,r||[],Vm(t).constructor):e.apply(t,r))}function yae(t,e){if(e&&(qu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vae(t)}function vae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mF=function(){return!!t})()}function Vm(t){return Vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vm(t)}function bae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T1(t,e)}function T1(t,e){return T1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},T1(t,e)}function Ni(t,e,r){return e=gF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gF(t){var e=_ae(t,"string");return qu(e)=="symbol"?e:e+""}function _ae(t,e){if(qu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vd=function(t){function e(){var r;pae(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=gae(this,e,[].concat(i)),Ni(r,"state",{isAnimationFinished:!0,totalLength:0}),Ni(r,"generateSimpleStrokeDasharray",function(s,u){return"".concat(u,"px ").concat(s-u,"px")}),Ni(r,"getStrokeDasharray",function(s,u,c){var f=c.reduce(function(O,C){return O+C});if(!f)return r.generateSimpleStrokeDasharray(u,s);for(var h=Math.floor(s/f),m=s%f,y=u-s,v=[],E=0,w=0;E<c.length;w+=c[E],++E)if(w+c[E]>m){v=[].concat(Jl(c.slice(0,E)),[m-w]);break}var x=v.length%2===0?[0,y]:[y];return[].concat(Jl(e.repeat(c,h)),Jl(v),x).map(function(O){return"".concat(O,"px")}).join(", ")}),Ni(r,"id",ec("recharts-line-")),Ni(r,"pathRef",function(s){r.mainCurve=s}),Ni(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Ni(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return bae(e,t),mae(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,u=a.xAxis,c=a.yAxis,f=a.layout,h=a.children,m=Yn(h,Fd);if(!m)return null;var y=function(w,x){return{x:w.x,y:w.y,value:w.value,errorVal:yr(w.payload,x)}},v={clipPath:n?"url(#clipPath-".concat(i,")"):null};return z.createElement(ht,v,m.map(function(E){return z.cloneElement(E,{key:"bar-".concat(E.props.dataKey),data:s,xAxis:u,yAxis:c,layout:f,dataPointFormatter:y})}))}},{key:"renderDots",value:function(n,i,a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var u=this.props,c=u.dot,f=u.points,h=u.dataKey,m=qe(this.props,!1),y=qe(c,!0),v=f.map(function(w,x){var O=Fn(Fn(Fn({key:"dot-".concat(x),r:3},m),y),{},{index:x,cx:w.x,cy:w.y,value:w.value,dataKey:h,payload:w.payload,points:f});return e.renderDotItem(c,O)}),E={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return z.createElement(ht,_f({className:"recharts-line-dots",key:"dots"},E),v)}},{key:"renderCurveStatically",value:function(n,i,a,s){var u=this.props,c=u.type,f=u.layout,h=u.connectNulls;u.ref;var m=u2(u,sae),y=Fn(Fn(Fn({},qe(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},s),{},{type:c,layout:f,connectNulls:h});return z.createElement(_m,_f({},y,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,s=this.props,u=s.points,c=s.strokeDasharray,f=s.isAnimationActive,h=s.animationBegin,m=s.animationDuration,y=s.animationEasing,v=s.animationId,E=s.animateNewValues,w=s.width,x=s.height,O=this.state,C=O.prevPoints,R=O.totalLength;return z.createElement(da,{begin:h,duration:m,isActive:f,easing:y,from:{t:0},to:{t:1},key:"line-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function($){var I=$.t;if(C){var j=C.length/u.length,A=u.map(function(V,M){var Z=Math.floor(M*j);if(C[Z]){var ee=C[Z],re=qn(ee.x,V.x),oe=qn(ee.y,V.y);return Fn(Fn({},V),{},{x:re(I),y:oe(I)})}if(E){var Q=qn(w*2,V.x),ae=qn(x/2,V.y);return Fn(Fn({},V),{},{x:Q(I),y:ae(I)})}return Fn(Fn({},V),{},{x:V.x,y:V.y})});return a.renderCurveStatically(A,n,i)}var P=qn(0,R),N=P(I),F;if(c){var D="".concat(c).split(/[,\s]+/gim).map(function(V){return parseFloat(V)});F=a.getStrokeDasharray(N,R,D)}else F=a.generateSimpleStrokeDasharray(R,N);return a.renderCurveStatically(u,n,i,{strokeDasharray:F})})}},{key:"renderCurve",value:function(n,i){var a=this.props,s=a.points,u=a.isAnimationActive,c=this.state,f=c.prevPoints,h=c.totalLength;return u&&s&&s.length&&(!f&&h>0||!$d(f,s))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(s,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,s=i.dot,u=i.points,c=i.className,f=i.xAxis,h=i.yAxis,m=i.top,y=i.left,v=i.width,E=i.height,w=i.isAnimationActive,x=i.id;if(a||!u||!u.length)return null;var O=this.state.isAnimationFinished,C=u.length===1,R=et("recharts-line",c),$=f&&f.allowDataOverflow,I=h&&h.allowDataOverflow,j=$||I,A=Je(x)?this.id:x,P=(n=qe(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},N=P.r,F=N===void 0?3:N,D=P.strokeWidth,V=D===void 0?2:D,M=Z8(s)?s:{},Z=M.clipDot,ee=Z===void 0?!0:Z,re=F*2+V;return z.createElement(ht,{className:R},$||I?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(A)},z.createElement("rect",{x:$?y:y-v/2,y:I?m:m-E/2,width:$?v:v*2,height:I?E:E*2})),!ee&&z.createElement("clipPath",{id:"clipPath-dots-".concat(A)},z.createElement("rect",{x:y-re/2,y:m-re/2,width:v+re,height:E+re}))):null,!C&&this.renderCurve(j,A),this.renderErrorBar(j,A),(C||s)&&this.renderDots(j,ee,A),(!w||O)&&Ga.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(Jl(n),[0]):n,s=[],u=0;u<i;++u)s=[].concat(Jl(s),Jl(a));return s}},{key:"renderDotItem",value:function(n,i){var a;if(z.isValidElement(n))a=z.cloneElement(n,i);else if(Ye(n))a=n(i);else{var s=i.key,u=u2(i,lae),c=et("recharts-line-dot",typeof n!="boolean"?n.className:"");a=z.createElement(Dg,_f({key:s},u,{className:c}))}return a}}])}(G.PureComponent);Ni(Vd,"displayName","Line");Ni(Vd,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!cl.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ni(Vd,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,s=t.dataKey,u=t.bandSize,c=t.displayedData,f=t.offset,h=e.layout,m=c.map(function(y,v){var E=yr(y,s);return h==="horizontal"?{x:hN({axis:r,ticks:i,bandSize:u,entry:y,index:v}),y:Je(E)?null:n.scale(E),value:E,payload:y}:{x:Je(E)?null:r.scale(E),y:hN({axis:n,ticks:a,bandSize:u,entry:y,index:v}),value:E,payload:y}});return Fn({points:m,layout:h},f)});function zu(t){"@babel/helpers - typeof";return zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zu(t)}function xae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wae(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bF(n.key),n)}}function Eae(t,e,r){return e&&wae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sae(t,e,r){return e=Um(e),Tae(t,yF()?Reflect.construct(e,r||[],Um(t).constructor):e.apply(t,r))}function Tae(t,e){if(e&&(zu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Aae(t)}function Aae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yF=function(){return!!t})()}function Um(t){return Um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Um(t)}function Pae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A1(t,e)}function A1(t,e){return A1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},A1(t,e)}function vF(t,e,r){return e=bF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bF(t){var e=kae(t,"string");return zu(e)=="symbol"?e:e+""}function kae(t,e){if(zu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function P1(){return P1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},P1.apply(this,arguments)}function Iae(t){var e=t.xAxisId,r=RS(),n=NS(),i=nF(e);return i==null?null:G.createElement(ac,P1({},i,{className:et("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return qa(s,!0)}}))}var pl=function(t){function e(){return xae(this,e),Sae(this,e,arguments)}return Pae(e,t),Eae(e,[{key:"render",value:function(){return G.createElement(Iae,this.props)}}])}(G.Component);vF(pl,"displayName","XAxis");vF(pl,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Wu(t){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wu(t)}function Oae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cae(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wF(n.key),n)}}function Rae(t,e,r){return e&&Cae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nae(t,e,r){return e=Bm(e),jae(t,_F()?Reflect.construct(e,r||[],Bm(t).constructor):e.apply(t,r))}function jae(t,e){if(e&&(Wu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mae(t)}function Mae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _F(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_F=function(){return!!t})()}function Bm(t){return Bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bm(t)}function Dae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k1(t,e)}function k1(t,e){return k1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},k1(t,e)}function xF(t,e,r){return e=wF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wF(t){var e=Lae(t,"string");return Wu(e)=="symbol"?e:e+""}function Lae(t,e){if(Wu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function I1(){return I1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},I1.apply(this,arguments)}var $ae=function(e){var r=e.yAxisId,n=RS(),i=NS(),a=iF(r);return a==null?null:G.createElement(ac,I1({},a,{className:et("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(u){return qa(u,!0)}}))},ml=function(t){function e(){return Oae(this,e),Nae(this,e,arguments)}return Dae(e,t),Rae(e,[{key:"render",value:function(){return G.createElement($ae,this.props)}}])}(G.Component);xF(ml,"displayName","YAxis");xF(ml,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function d2(t){return Bae(t)||Uae(t)||Vae(t)||Fae()}function Fae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vae(t,e){if(t){if(typeof t=="string")return O1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O1(t,e)}}function Uae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Bae(t){if(Array.isArray(t))return O1(t)}function O1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var C1=function(e,r,n,i,a){var s=Yn(e,MS),u=Yn(e,Wg),c=[].concat(d2(s),d2(u)),f=Yn(e,Kg),h="".concat(i,"Id"),m=i[0],y=r;if(c.length&&(y=c.reduce(function(w,x){if(x.props[h]===n&&ua(x.props,"extendDomain")&&ve(x.props[m])){var O=x.props[m];return[Math.min(w[0],O),Math.max(w[1],O)]}return w},y)),f.length){var v="".concat(m,"1"),E="".concat(m,"2");y=f.reduce(function(w,x){if(x.props[h]===n&&ua(x.props,"extendDomain")&&ve(x.props[v])&&ve(x.props[E])){var O=x.props[v],C=x.props[E];return[Math.min(w[0],O,C),Math.max(w[1],O,C)]}return w},y)}return a&&a.length&&(y=a.reduce(function(w,x){return ve(x)?[Math.min(w[0],x),Math.max(w[1],x)]:w},y)),y},Lx={exports:{}},h2;function qae(){return h2||(h2=1,function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,f,h){this.fn=c,this.context=f,this.once=h||!1}function a(c,f,h,m,y){if(typeof h!="function")throw new TypeError("The listener must be a function");var v=new i(h,m||c,y),E=r?r+f:f;return c._events[E]?c._events[E].fn?c._events[E]=[c._events[E],v]:c._events[E].push(v):(c._events[E]=v,c._eventsCount++),c}function s(c,f){--c._eventsCount===0?c._events=new n:delete c._events[f]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],h,m;if(this._eventsCount===0)return f;for(m in h=this._events)e.call(h,m)&&f.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},u.prototype.listeners=function(f){var h=r?r+f:f,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var y=0,v=m.length,E=new Array(v);y<v;y++)E[y]=m[y].fn;return E},u.prototype.listenerCount=function(f){var h=r?r+f:f,m=this._events[h];return m?m.fn?1:m.length:0},u.prototype.emit=function(f,h,m,y,v,E){var w=r?r+f:f;if(!this._events[w])return!1;var x=this._events[w],O=arguments.length,C,R;if(x.fn){switch(x.once&&this.removeListener(f,x.fn,void 0,!0),O){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,h),!0;case 3:return x.fn.call(x.context,h,m),!0;case 4:return x.fn.call(x.context,h,m,y),!0;case 5:return x.fn.call(x.context,h,m,y,v),!0;case 6:return x.fn.call(x.context,h,m,y,v,E),!0}for(R=1,C=new Array(O-1);R<O;R++)C[R-1]=arguments[R];x.fn.apply(x.context,C)}else{var $=x.length,I;for(R=0;R<$;R++)switch(x[R].once&&this.removeListener(f,x[R].fn,void 0,!0),O){case 1:x[R].fn.call(x[R].context);break;case 2:x[R].fn.call(x[R].context,h);break;case 3:x[R].fn.call(x[R].context,h,m);break;case 4:x[R].fn.call(x[R].context,h,m,y);break;default:if(!C)for(I=1,C=new Array(O-1);I<O;I++)C[I-1]=arguments[I];x[R].fn.apply(x[R].context,C)}}return!0},u.prototype.on=function(f,h,m){return a(this,f,h,m,!1)},u.prototype.once=function(f,h,m){return a(this,f,h,m,!0)},u.prototype.removeListener=function(f,h,m,y){var v=r?r+f:f;if(!this._events[v])return this;if(!h)return s(this,v),this;var E=this._events[v];if(E.fn)E.fn===h&&(!y||E.once)&&(!m||E.context===m)&&s(this,v);else{for(var w=0,x=[],O=E.length;w<O;w++)(E[w].fn!==h||y&&!E[w].once||m&&E[w].context!==m)&&x.push(E[w]);x.length?this._events[v]=x.length===1?x[0]:x:s(this,v)}return this},u.prototype.removeAllListeners=function(f){var h;return f?(h=r?r+f:f,this._events[h]&&s(this,h)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,t.exports=u}(Lx)),Lx.exports}var zae=qae();const Wae=vt(zae);var $x=new Wae,Fx="recharts.syncMouseEvents";function fd(t){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fd(t)}function Hae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kae(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,EF(n.key),n)}}function Gae(t,e,r){return e&&Kae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vx(t,e,r){return e=EF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EF(t){var e=Yae(t,"string");return fd(e)=="symbol"?e:e+""}function Yae(t,e){if(fd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Xae=function(){function t(){Hae(this,t),Vx(this,"activeIndex",0),Vx(this,"coordinateList",[]),Vx(this,"layout","horizontal")}return Gae(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,s=r.container,u=s===void 0?null:s,c=r.layout,f=c===void 0?null:c,h=r.offset,m=h===void 0?null:h,y=r.mouseHandlerCallback,v=y===void 0?null:y;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=u??this.container,this.layout=f??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=v??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,u=i.height,c=this.coordinateList[this.activeIndex].coordinate,f=((r=window)===null||r===void 0?void 0:r.scrollX)||0,h=((n=window)===null||n===void 0?void 0:n.scrollY)||0,m=a+c+f,y=s+this.offset.top+u/2+h;this.mouseHandlerCallback({pageX:m,pageY:y})}}}])}();function Qae(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t?.[0],i=t?.[1];if(n&&i&&ve(n)&&ve(i))return!0}return!1}function Jae(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function SF(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,s=Ct(e,r,n,i),u=Ct(e,r,n,a);return{points:[s,u],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function Zae(t,e,r){var n,i,a,s;if(t==="horizontal")n=e.x,a=n,i=r.top,s=r.top+r.height;else if(t==="vertical")i=e.y,s=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var u=e.cx,c=e.cy,f=e.innerRadius,h=e.outerRadius,m=e.angle,y=Ct(u,c,f,m),v=Ct(u,c,h,m);n=y.x,i=y.y,a=v.x,s=v.y}else return SF(e);return[{x:n,y:i},{x:a,y:s}]}function dd(t){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dd(t)}function p2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?p2(Object(r),!0).forEach(function(n){eoe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eoe(t,e,r){return e=toe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function toe(t){var e=roe(t,"string");return dd(e)=="symbol"?e:e+""}function roe(t,e){if(dd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function noe(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,u=t.activePayload,c=t.offset,f=t.activeTooltipIndex,h=t.tooltipAxisBandSize,m=t.layout,y=t.chartName,v=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!v||!a||!s||y!=="ScatterChart"&&i!=="axis")return null;var E,w=_m;if(y==="ScatterChart")E=s,w=Tte;else if(y==="BarChart")E=Jae(m,s,c,h),w=kS;else if(m==="radial"){var x=SF(s),O=x.cx,C=x.cy,R=x.radius,$=x.startAngle,I=x.endAngle;E={cx:O,cy:C,startAngle:$,endAngle:I,innerRadius:R,outerRadius:R},w=PS}else E={points:Zae(m,s,c)},w=_m;var j=vp(vp(vp(vp({stroke:"#ccc",pointerEvents:"none"},c),E),qe(v,!1)),{},{payload:u,payloadIndex:f,className:et("recharts-tooltip-cursor",v.className)});return G.isValidElement(v)?G.cloneElement(v,j):G.createElement(w,j)}var ioe=["item"],aoe=["children","className","width","height","style","compact","title","desc"];function Hu(t){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hu(t)}function su(){return su=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},su.apply(this,arguments)}function m2(t,e){return loe(t)||soe(t,e)||AF(t,e)||ooe()}function ooe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function soe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function loe(t){if(Array.isArray(t))return t}function g2(t,e){if(t==null)return{};var r=uoe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function uoe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function coe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function foe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,PF(n.key),n)}}function doe(t,e,r){return e&&foe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hoe(t,e,r){return e=qm(e),poe(t,TF()?Reflect.construct(e,r||[],qm(t).constructor):e.apply(t,r))}function poe(t,e){if(e&&(Hu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return moe(t)}function moe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TF=function(){return!!t})()}function qm(t){return qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qm(t)}function goe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R1(t,e)}function R1(t,e){return R1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},R1(t,e)}function Ku(t){return boe(t)||voe(t)||AF(t)||yoe()}function yoe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AF(t,e){if(t){if(typeof t=="string")return N1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N1(t,e)}}function voe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function boe(t){if(Array.isArray(t))return N1(t)}function N1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function y2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function le(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?y2(Object(r),!0).forEach(function(n){We(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function We(t,e,r){return e=PF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PF(t){var e=_oe(t,"string");return Hu(e)=="symbol"?e:e+""}function _oe(t,e){if(Hu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xoe={xAxis:["bottom","top"],yAxis:["left","right"]},woe={width:"100%",height:"100%"},kF={x:0,y:0};function bp(t){return t}var Eoe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},Soe=function(e,r,n,i){var a=r.find(function(h){return h&&h.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,u=i.radius;return le(le(le({},i),Ct(i.cx,i.cy,u,s)),{},{angle:s,radius:u})}var c=a.coordinate,f=i.angle;return le(le(le({},i),Ct(i.cx,i.cy,c,f)),{},{angle:f,radius:c})}return kF},Yg=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,s=(n??[]).reduce(function(u,c){var f=c.props.data;return f&&f.length?[].concat(Ku(u),Ku(f)):u},[]);return s.length>0?s:e&&e.length&&ve(i)&&ve(a)?e.slice(i,a+1):[]};function IF(t){return t==="number"?[0,"auto"]:void 0}var j1=function(e,r,n,i){var a=e.graphicalItems,s=e.tooltipAxis,u=Yg(r,e);return n<0||!a||!a.length||n>=u.length?null:a.reduce(function(c,f){var h,m=(h=f.props.data)!==null&&h!==void 0?h:r;m&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(m=m.slice(e.dataStartIndex,e.dataEndIndex+1));var y;if(s.dataKey&&!s.allowDuplicatedCategory){var v=m===void 0?u:m;y=Hp(v,s.dataKey,i)}else y=m&&m[n]||u[n];return y?[].concat(Ku(c),[_4(f,y)]):c},[])},v2=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},s=Eoe(a,n),u=e.orderedTooltipTicks,c=e.tooltipAxis,f=e.tooltipTicks,h=XQ(s,u,f,c);if(h>=0&&f){var m=f[h]&&f[h].value,y=j1(e,r,h,m),v=Soe(n,u,h,a);return{activeTooltipIndex:h,activeLabel:m,activePayload:y,activeCoordinate:v}}return null},Toe=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,s=r.axisIdKey,u=r.stackGroups,c=r.dataStartIndex,f=r.dataEndIndex,h=e.layout,m=e.children,y=e.stackOffset,v=p4(h,a);return n.reduce(function(E,w){var x,O=w.type.defaultProps!==void 0?le(le({},w.type.defaultProps),w.props):w.props,C=O.type,R=O.dataKey,$=O.allowDataOverflow,I=O.allowDuplicatedCategory,j=O.scale,A=O.ticks,P=O.includeHidden,N=O[s];if(E[N])return E;var F=Yg(e.data,{graphicalItems:i.filter(function(K){var fe,Ee=s in K.props?K.props[s]:(fe=K.type.defaultProps)===null||fe===void 0?void 0:fe[s];return Ee===N}),dataStartIndex:c,dataEndIndex:f}),D=F.length,V,M,Z;Qae(O.domain,$,C)&&(V=Gw(O.domain,null,$),v&&(C==="number"||j!=="auto")&&(Z=gf(F,R,"category")));var ee=IF(C);if(!V||V.length===0){var re,oe=(re=O.domain)!==null&&re!==void 0?re:ee;if(R){if(V=gf(F,R,C),C==="category"&&v){var Q=q8(V);I&&Q?(M=V,V=Om(0,D)):I||(V=yN(oe,V,w).reduce(function(K,fe){return K.indexOf(fe)>=0?K:[].concat(Ku(K),[fe])},[]))}else if(C==="category")I?V=V.filter(function(K){return K!==""&&!Je(K)}):V=yN(oe,V,w).reduce(function(K,fe){return K.indexOf(fe)>=0||fe===""||Je(fe)?K:[].concat(Ku(K),[fe])},[]);else if(C==="number"){var ae=tJ(F,i.filter(function(K){var fe,Ee,je=s in K.props?K.props[s]:(fe=K.type.defaultProps)===null||fe===void 0?void 0:fe[s],xe="hide"in K.props?K.props.hide:(Ee=K.type.defaultProps)===null||Ee===void 0?void 0:Ee.hide;return je===N&&(P||!xe)}),R,a,h);ae&&(V=ae)}v&&(C==="number"||j!=="auto")&&(Z=gf(F,R,"category"))}else v?V=Om(0,D):u&&u[N]&&u[N].hasStack&&C==="number"?V=y==="expand"?[0,1]:b4(u[N].stackGroups,c,f):V=h4(F,i.filter(function(K){var fe=s in K.props?K.props[s]:K.type.defaultProps[s],Ee="hide"in K.props?K.props.hide:K.type.defaultProps.hide;return fe===N&&(P||!Ee)}),C,h,!0);if(C==="number")V=C1(m,V,N,a,A),oe&&(V=Gw(oe,V,$));else if(C==="category"&&oe){var se=oe,q=V.every(function(K){return se.indexOf(K)>=0});q&&(V=se)}}return le(le({},E),{},We({},N,le(le({},O),{},{axisType:a,domain:V,categoricalDomain:Z,duplicateDomain:M,originalDomain:(x=O.domain)!==null&&x!==void 0?x:ee,isCategorical:v,layout:h})))},{})},Aoe=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,s=r.axisIdKey,u=r.stackGroups,c=r.dataStartIndex,f=r.dataEndIndex,h=e.layout,m=e.children,y=Yg(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:f}),v=y.length,E=p4(h,a),w=-1;return n.reduce(function(x,O){var C=O.type.defaultProps!==void 0?le(le({},O.type.defaultProps),O.props):O.props,R=C[s],$=IF("number");if(!x[R]){w++;var I;return E?I=Om(0,v):u&&u[R]&&u[R].hasStack?(I=b4(u[R].stackGroups,c,f),I=C1(m,I,R,a)):(I=Gw($,h4(y,n.filter(function(j){var A,P,N=s in j.props?j.props[s]:(A=j.type.defaultProps)===null||A===void 0?void 0:A[s],F="hide"in j.props?j.props.hide:(P=j.type.defaultProps)===null||P===void 0?void 0:P.hide;return N===R&&!F}),"number",h),i.defaultProps.allowDataOverflow),I=C1(m,I,R,a)),le(le({},x),{},We({},R,le(le({axisType:a},i.defaultProps),{},{hide:!0,orientation:Gn(xoe,"".concat(a,".").concat(w%2),null),domain:I,originalDomain:$,isCategorical:E,layout:h})))}return x},{})},Poe=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,s=r.graphicalItems,u=r.stackGroups,c=r.dataStartIndex,f=r.dataEndIndex,h=e.children,m="".concat(i,"Id"),y=Yn(h,a),v={};return y&&y.length?v=Toe(e,{axes:y,graphicalItems:s,axisType:i,axisIdKey:m,stackGroups:u,dataStartIndex:c,dataEndIndex:f}):s&&s.length&&(v=Aoe(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:m,stackGroups:u,dataStartIndex:c,dataEndIndex:f})),v},koe=function(e){var r=Vo(e),n=qa(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:eS(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:ym(r,n)}},b2=function(e){var r=e.children,n=e.defaultShowTooltip,i=Un(r,Lu),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},Ioe=function(e){return!e||!e.length?!1:e.some(function(r){var n=Wa(r&&r.type);return n&&n.indexOf("Bar")>=0})},_2=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Ooe=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,u=e.yAxisMap,c=u===void 0?{}:u,f=n.width,h=n.height,m=n.children,y=n.margin||{},v=Un(m,Lu),E=Un(m,Ha),w=Object.keys(c).reduce(function(I,j){var A=c[j],P=A.orientation;return!A.mirror&&!A.hide?le(le({},I),{},We({},P,I[P]+A.width)):I},{left:y.left||0,right:y.right||0}),x=Object.keys(s).reduce(function(I,j){var A=s[j],P=A.orientation;return!A.mirror&&!A.hide?le(le({},I),{},We({},P,Gn(I,"".concat(P))+A.height)):I},{top:y.top||0,bottom:y.bottom||0}),O=le(le({},x),w),C=O.bottom;v&&(O.bottom+=v.props.height||Lu.defaultProps.height),E&&r&&(O=ZQ(O,i,n,r));var R=f-O.left-O.right,$=h-O.top-O.bottom;return le(le({brushBottom:C},O),{},{width:Math.max(R,0),height:Math.max($,0)})},Coe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},$S=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,u=s===void 0?["axis"]:s,c=e.axisComponents,f=e.legendContent,h=e.formatAxisMap,m=e.defaultProps,y=function(O,C){var R=C.graphicalItems,$=C.stackGroups,I=C.offset,j=C.updateId,A=C.dataStartIndex,P=C.dataEndIndex,N=O.barSize,F=O.layout,D=O.barGap,V=O.barCategoryGap,M=O.maxBarSize,Z=_2(F),ee=Z.numericAxisName,re=Z.cateAxisName,oe=Ioe(R),Q=[];return R.forEach(function(ae,se){var q=Yg(O.data,{graphicalItems:[ae],dataStartIndex:A,dataEndIndex:P}),K=ae.type.defaultProps!==void 0?le(le({},ae.type.defaultProps),ae.props):ae.props,fe=K.dataKey,Ee=K.maxBarSize,je=K["".concat(ee,"Id")],xe=K["".concat(re,"Id")],$e={},Ve=c.reduce(function(Bt,Cr){var en=C["".concat(Cr.axisType,"Map")],pi=K["".concat(Cr.axisType,"Id")];en&&en[pi]||Cr.axisType==="zAxis"||rl();var Ui=en[pi];return le(le({},Bt),{},We(We({},Cr.axisType,Ui),"".concat(Cr.axisType,"Ticks"),qa(Ui)))},$e),pe=Ve[re],Ae=Ve["".concat(re,"Ticks")],ze=$&&$[je]&&$[je].hasStack&&cJ(ae,$[je].stackGroups),ue=Wa(ae.type).indexOf("Bar")>=0,ut=ym(pe,Ae),He=[],mt=oe&&QQ({barSize:N,stackGroups:$,totalSize:Coe(Ve,re)});if(ue){var Tt,Yt,cr=Je(Ee)?M:Ee,Zr=(Tt=(Yt=ym(pe,Ae,!0))!==null&&Yt!==void 0?Yt:cr)!==null&&Tt!==void 0?Tt:0;He=JQ({barGap:D,barCategoryGap:V,bandSize:Zr!==ut?Zr:ut,sizeList:mt[xe],maxBarSize:cr}),Zr!==ut&&(He=He.map(function(Bt){return le(le({},Bt),{},{position:le(le({},Bt.position),{},{offset:Bt.position.offset-Zr/2})})}))}var Ut=ae&&ae.type&&ae.type.getComposedData;Ut&&Q.push({props:le(le({},Ut(le(le({},Ve),{},{displayedData:q,props:O,dataKey:fe,item:ae,bandSize:ut,barPosition:He,offset:I,stackedData:ze,layout:F,dataStartIndex:A,dataEndIndex:P}))),{},We(We(We({key:ae.key||"item-".concat(se)},ee,Ve[ee]),re,Ve[re]),"animationId",j)),childIndex:r7(ae,O.children),item:ae})}),Q},v=function(O,C){var R=O.props,$=O.dataStartIndex,I=O.dataEndIndex,j=O.updateId;if(!CI({props:R}))return null;var A=R.children,P=R.layout,N=R.stackOffset,F=R.data,D=R.reverseStackOrder,V=_2(P),M=V.numericAxisName,Z=V.cateAxisName,ee=Yn(A,n),re=lJ(F,ee,"".concat(M,"Id"),"".concat(Z,"Id"),N,D),oe=c.reduce(function(K,fe){var Ee="".concat(fe.axisType,"Map");return le(le({},K),{},We({},Ee,Poe(R,le(le({},fe),{},{graphicalItems:ee,stackGroups:fe.axisType===M&&re,dataStartIndex:$,dataEndIndex:I}))))},{}),Q=Ooe(le(le({},oe),{},{props:R,graphicalItems:ee}),C?.legendBBox);Object.keys(oe).forEach(function(K){oe[K]=h(R,oe[K],Q,K.replace("Map",""),r)});var ae=oe["".concat(Z,"Map")],se=koe(ae),q=y(R,le(le({},oe),{},{dataStartIndex:$,dataEndIndex:I,updateId:j,graphicalItems:ee,stackGroups:re,offset:Q}));return le(le({formattedGraphicalItems:q,graphicalItems:ee,offset:Q,stackGroups:re},se),oe)},E=function(x){function O(C){var R,$,I;return coe(this,O),I=hoe(this,O,[C]),We(I,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),We(I,"accessibilityManager",new Xae),We(I,"handleLegendBBoxUpdate",function(j){if(j){var A=I.state,P=A.dataStartIndex,N=A.dataEndIndex,F=A.updateId;I.setState(le({legendBBox:j},v({props:I.props,dataStartIndex:P,dataEndIndex:N,updateId:F},le(le({},I.state),{},{legendBBox:j}))))}}),We(I,"handleReceiveSyncEvent",function(j,A,P){if(I.props.syncId===j){if(P===I.eventEmitterSymbol&&typeof I.props.syncMethod!="function")return;I.applySyncEvent(A)}}),We(I,"handleBrushChange",function(j){var A=j.startIndex,P=j.endIndex;if(A!==I.state.dataStartIndex||P!==I.state.dataEndIndex){var N=I.state.updateId;I.setState(function(){return le({dataStartIndex:A,dataEndIndex:P},v({props:I.props,dataStartIndex:A,dataEndIndex:P,updateId:N},I.state))}),I.triggerSyncEvent({dataStartIndex:A,dataEndIndex:P})}}),We(I,"handleMouseEnter",function(j){var A=I.getMouseInfo(j);if(A){var P=le(le({},A),{},{isTooltipActive:!0});I.setState(P),I.triggerSyncEvent(P);var N=I.props.onMouseEnter;Ye(N)&&N(P,j)}}),We(I,"triggeredAfterMouseMove",function(j){var A=I.getMouseInfo(j),P=A?le(le({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};I.setState(P),I.triggerSyncEvent(P);var N=I.props.onMouseMove;Ye(N)&&N(P,j)}),We(I,"handleItemMouseEnter",function(j){I.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),We(I,"handleItemMouseLeave",function(){I.setState(function(){return{isTooltipActive:!1}})}),We(I,"handleMouseMove",function(j){j.persist(),I.throttleTriggeredAfterMouseMove(j)}),We(I,"handleMouseLeave",function(j){I.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};I.setState(A),I.triggerSyncEvent(A);var P=I.props.onMouseLeave;Ye(P)&&P(A,j)}),We(I,"handleOuterEvent",function(j){var A=t7(j),P=Gn(I.props,"".concat(A));if(A&&Ye(P)){var N,F;/.*touch.*/i.test(A)?F=I.getMouseInfo(j.changedTouches[0]):F=I.getMouseInfo(j),P((N=F)!==null&&N!==void 0?N:{},j)}}),We(I,"handleClick",function(j){var A=I.getMouseInfo(j);if(A){var P=le(le({},A),{},{isTooltipActive:!0});I.setState(P),I.triggerSyncEvent(P);var N=I.props.onClick;Ye(N)&&N(P,j)}}),We(I,"handleMouseDown",function(j){var A=I.props.onMouseDown;if(Ye(A)){var P=I.getMouseInfo(j);A(P,j)}}),We(I,"handleMouseUp",function(j){var A=I.props.onMouseUp;if(Ye(A)){var P=I.getMouseInfo(j);A(P,j)}}),We(I,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&I.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),We(I,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&I.handleMouseDown(j.changedTouches[0])}),We(I,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&I.handleMouseUp(j.changedTouches[0])}),We(I,"handleDoubleClick",function(j){var A=I.props.onDoubleClick;if(Ye(A)){var P=I.getMouseInfo(j);A(P,j)}}),We(I,"handleContextMenu",function(j){var A=I.props.onContextMenu;if(Ye(A)){var P=I.getMouseInfo(j);A(P,j)}}),We(I,"triggerSyncEvent",function(j){I.props.syncId!==void 0&&$x.emit(Fx,I.props.syncId,j,I.eventEmitterSymbol)}),We(I,"applySyncEvent",function(j){var A=I.props,P=A.layout,N=A.syncMethod,F=I.state.updateId,D=j.dataStartIndex,V=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)I.setState(le({dataStartIndex:D,dataEndIndex:V},v({props:I.props,dataStartIndex:D,dataEndIndex:V,updateId:F},I.state)));else if(j.activeTooltipIndex!==void 0){var M=j.chartX,Z=j.chartY,ee=j.activeTooltipIndex,re=I.state,oe=re.offset,Q=re.tooltipTicks;if(!oe)return;if(typeof N=="function")ee=N(Q,j);else if(N==="value"){ee=-1;for(var ae=0;ae<Q.length;ae++)if(Q[ae].value===j.activeLabel){ee=ae;break}}var se=le(le({},oe),{},{x:oe.left,y:oe.top}),q=Math.min(M,se.x+se.width),K=Math.min(Z,se.y+se.height),fe=Q[ee]&&Q[ee].value,Ee=j1(I.state,I.props.data,ee),je=Q[ee]?{x:P==="horizontal"?Q[ee].coordinate:q,y:P==="horizontal"?K:Q[ee].coordinate}:kF;I.setState(le(le({},j),{},{activeLabel:fe,activeCoordinate:je,activePayload:Ee,activeTooltipIndex:ee}))}else I.setState(j)}),We(I,"renderCursor",function(j){var A,P=I.state,N=P.isTooltipActive,F=P.activeCoordinate,D=P.activePayload,V=P.offset,M=P.activeTooltipIndex,Z=P.tooltipAxisBandSize,ee=I.getTooltipEventType(),re=(A=j.props.active)!==null&&A!==void 0?A:N,oe=I.props.layout,Q=j.key||"_recharts-cursor";return z.createElement(noe,{key:Q,activeCoordinate:F,activePayload:D,activeTooltipIndex:M,chartName:r,element:j,isActive:re,layout:oe,offset:V,tooltipAxisBandSize:Z,tooltipEventType:ee})}),We(I,"renderPolarAxis",function(j,A,P){var N=Gn(j,"type.axisType"),F=Gn(I.state,"".concat(N,"Map")),D=j.type.defaultProps,V=D!==void 0?le(le({},D),j.props):j.props,M=F&&F[V["".concat(N,"Id")]];return G.cloneElement(j,le(le({},M),{},{className:et(N,M.className),key:j.key||"".concat(A,"-").concat(P),ticks:qa(M,!0)}))}),We(I,"renderPolarGrid",function(j){var A=j.props,P=A.radialLines,N=A.polarAngles,F=A.polarRadius,D=I.state,V=D.radiusAxisMap,M=D.angleAxisMap,Z=Vo(V),ee=Vo(M),re=ee.cx,oe=ee.cy,Q=ee.innerRadius,ae=ee.outerRadius;return G.cloneElement(j,{polarAngles:Array.isArray(N)?N:qa(ee,!0).map(function(se){return se.coordinate}),polarRadius:Array.isArray(F)?F:qa(Z,!0).map(function(se){return se.coordinate}),cx:re,cy:oe,innerRadius:Q,outerRadius:ae,key:j.key||"polar-grid",radialLines:P})}),We(I,"renderLegend",function(){var j=I.state.formattedGraphicalItems,A=I.props,P=A.children,N=A.width,F=A.height,D=I.props.margin||{},V=N-(D.left||0)-(D.right||0),M=f4({children:P,formattedGraphicalItems:j,legendWidth:V,legendContent:f});if(!M)return null;var Z=M.item,ee=g2(M,ioe);return G.cloneElement(Z,le(le({},ee),{},{chartWidth:N,chartHeight:F,margin:D,onBBoxUpdate:I.handleLegendBBoxUpdate}))}),We(I,"renderTooltip",function(){var j,A=I.props,P=A.children,N=A.accessibilityLayer,F=Un(P,Bn);if(!F)return null;var D=I.state,V=D.isTooltipActive,M=D.activeCoordinate,Z=D.activePayload,ee=D.activeLabel,re=D.offset,oe=(j=F.props.active)!==null&&j!==void 0?j:V;return G.cloneElement(F,{viewBox:le(le({},re),{},{x:re.left,y:re.top}),active:oe,label:ee,payload:oe?Z:[],coordinate:M,accessibilityLayer:N})}),We(I,"renderBrush",function(j){var A=I.props,P=A.margin,N=A.data,F=I.state,D=F.offset,V=F.dataStartIndex,M=F.dataEndIndex,Z=F.updateId;return G.cloneElement(j,{key:j.key||"_recharts-brush",onChange:pp(I.handleBrushChange,j.props.onChange),data:N,x:ve(j.props.x)?j.props.x:D.left,y:ve(j.props.y)?j.props.y:D.top+D.height+D.brushBottom-(P.bottom||0),width:ve(j.props.width)?j.props.width:D.width,startIndex:V,endIndex:M,updateId:"brush-".concat(Z)})}),We(I,"renderReferenceElement",function(j,A,P){if(!j)return null;var N=I,F=N.clipPathId,D=I.state,V=D.xAxisMap,M=D.yAxisMap,Z=D.offset,ee=j.type.defaultProps||{},re=j.props,oe=re.xAxisId,Q=oe===void 0?ee.xAxisId:oe,ae=re.yAxisId,se=ae===void 0?ee.yAxisId:ae;return G.cloneElement(j,{key:j.key||"".concat(A,"-").concat(P),xAxis:V[Q],yAxis:M[se],viewBox:{x:Z.left,y:Z.top,width:Z.width,height:Z.height},clipPathId:F})}),We(I,"renderActivePoints",function(j){var A=j.item,P=j.activePoint,N=j.basePoint,F=j.childIndex,D=j.isRange,V=[],M=A.props.key,Z=A.item.type.defaultProps!==void 0?le(le({},A.item.type.defaultProps),A.item.props):A.item.props,ee=Z.activeDot,re=Z.dataKey,oe=le(le({index:F,dataKey:re,cx:P.x,cy:P.y,r:4,fill:AS(A.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},qe(ee,!1)),Kp(ee));return V.push(O.renderActiveDot(ee,oe,"".concat(M,"-activePoint-").concat(F))),N?V.push(O.renderActiveDot(ee,le(le({},oe),{},{cx:N.x,cy:N.y}),"".concat(M,"-basePoint-").concat(F))):D&&V.push(null),V}),We(I,"renderGraphicChild",function(j,A,P){var N=I.filterFormatItem(j,A,P);if(!N)return null;var F=I.getTooltipEventType(),D=I.state,V=D.isTooltipActive,M=D.tooltipAxis,Z=D.activeTooltipIndex,ee=D.activeLabel,re=I.props.children,oe=Un(re,Bn),Q=N.props,ae=Q.points,se=Q.isRange,q=Q.baseLine,K=N.item.type.defaultProps!==void 0?le(le({},N.item.type.defaultProps),N.item.props):N.item.props,fe=K.activeDot,Ee=K.hide,je=K.activeBar,xe=K.activeShape,$e=!!(!Ee&&V&&oe&&(fe||je||xe)),Ve={};F!=="axis"&&oe&&oe.props.trigger==="click"?Ve={onClick:pp(I.handleItemMouseEnter,j.props.onClick)}:F!=="axis"&&(Ve={onMouseLeave:pp(I.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:pp(I.handleItemMouseEnter,j.props.onMouseEnter)});var pe=G.cloneElement(j,le(le({},N.props),Ve));function Ae(Cr){return typeof M.dataKey=="function"?M.dataKey(Cr.payload):null}if($e)if(Z>=0){var ze,ue;if(M.dataKey&&!M.allowDuplicatedCategory){var ut=typeof M.dataKey=="function"?Ae:"payload.".concat(M.dataKey.toString());ze=Hp(ae,ut,ee),ue=se&&q&&Hp(q,ut,ee)}else ze=ae?.[Z],ue=se&&q&&q[Z];if(xe||je){var He=j.props.activeIndex!==void 0?j.props.activeIndex:Z;return[G.cloneElement(j,le(le(le({},N.props),Ve),{},{activeIndex:He})),null,null]}if(!Je(ze))return[pe].concat(Ku(I.renderActivePoints({item:N,activePoint:ze,basePoint:ue,childIndex:Z,isRange:se})))}else{var mt,Tt=(mt=I.getItemByXY(I.state.activeCoordinate))!==null&&mt!==void 0?mt:{graphicalItem:pe},Yt=Tt.graphicalItem,cr=Yt.item,Zr=cr===void 0?j:cr,Ut=Yt.childIndex,Bt=le(le(le({},N.props),Ve),{},{activeIndex:Ut});return[G.cloneElement(Zr,Bt),null,null]}return se?[pe,null,null]:[pe,null]}),We(I,"renderCustomized",function(j,A,P){return G.cloneElement(j,le(le({key:"recharts-customized-".concat(P)},I.props),I.state))}),We(I,"renderMap",{CartesianGrid:{handler:bp,once:!0},ReferenceArea:{handler:I.renderReferenceElement},ReferenceLine:{handler:bp},ReferenceDot:{handler:I.renderReferenceElement},XAxis:{handler:bp},YAxis:{handler:bp},Brush:{handler:I.renderBrush,once:!0},Bar:{handler:I.renderGraphicChild},Line:{handler:I.renderGraphicChild},Area:{handler:I.renderGraphicChild},Radar:{handler:I.renderGraphicChild},RadialBar:{handler:I.renderGraphicChild},Scatter:{handler:I.renderGraphicChild},Pie:{handler:I.renderGraphicChild},Funnel:{handler:I.renderGraphicChild},Tooltip:{handler:I.renderCursor,once:!0},PolarGrid:{handler:I.renderPolarGrid,once:!0},PolarAngleAxis:{handler:I.renderPolarAxis},PolarRadiusAxis:{handler:I.renderPolarAxis},Customized:{handler:I.renderCustomized}}),I.clipPathId="".concat((R=C.id)!==null&&R!==void 0?R:ec("recharts"),"-clip"),I.throttleTriggeredAfterMouseMove=c$(I.triggeredAfterMouseMove,($=C.throttleDelay)!==null&&$!==void 0?$:1e3/60),I.state={},I}return goe(O,x),doe(O,[{key:"componentDidMount",value:function(){var R,$;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(R=this.props.margin.left)!==null&&R!==void 0?R:0,top:($=this.props.margin.top)!==null&&$!==void 0?$:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var R=this.props,$=R.children,I=R.data,j=R.height,A=R.layout,P=Un($,Bn);if(P){var N=P.props.defaultIndex;if(!(typeof N!="number"||N<0||N>this.state.tooltipTicks.length-1)){var F=this.state.tooltipTicks[N]&&this.state.tooltipTicks[N].value,D=j1(this.state,I,N,F),V=this.state.tooltipTicks[N].coordinate,M=(this.state.offset.top+j)/2,Z=A==="horizontal",ee=Z?{x:V,y:M}:{y:V,x:M},re=this.state.formattedGraphicalItems.find(function(Q){var ae=Q.item;return ae.type.name==="Scatter"});re&&(ee=le(le({},ee),re.props.points[N].tooltipPosition),D=re.props.points[N].tooltipPayload);var oe={activeTooltipIndex:N,isTooltipActive:!0,activeLabel:F,activePayload:D,activeCoordinate:ee};this.setState(oe),this.renderCursor(P),this.accessibilityManager.setIndex(N)}}}},{key:"getSnapshotBeforeUpdate",value:function(R,$){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==$.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==R.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==R.margin){var I,j;this.accessibilityManager.setDetails({offset:{left:(I=this.props.margin.left)!==null&&I!==void 0?I:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(R){gw([Un(R.children,Bn)],[Un(this.props.children,Bn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var R=Un(this.props.children,Bn);if(R&&typeof R.props.shared=="boolean"){var $=R.props.shared?"axis":"item";return u.indexOf($)>=0?$:a}return a}},{key:"getMouseInfo",value:function(R){if(!this.container)return null;var $=this.container,I=$.getBoundingClientRect(),j=BK(I),A={chartX:Math.round(R.pageX-j.left),chartY:Math.round(R.pageY-j.top)},P=I.width/$.offsetWidth||1,N=this.inRange(A.chartX,A.chartY,P);if(!N)return null;var F=this.state,D=F.xAxisMap,V=F.yAxisMap,M=this.getTooltipEventType(),Z=v2(this.state,this.props.data,this.props.layout,N);if(M!=="axis"&&D&&V){var ee=Vo(D).scale,re=Vo(V).scale,oe=ee&&ee.invert?ee.invert(A.chartX):null,Q=re&&re.invert?re.invert(A.chartY):null;return le(le({},A),{},{xValue:oe,yValue:Q},Z)}return Z?le(le({},A),Z):null}},{key:"inRange",value:function(R,$){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,A=R/I,P=$/I;if(j==="horizontal"||j==="vertical"){var N=this.state.offset,F=A>=N.left&&A<=N.left+N.width&&P>=N.top&&P<=N.top+N.height;return F?{x:A,y:P}:null}var D=this.state,V=D.angleAxisMap,M=D.radiusAxisMap;if(V&&M){var Z=Vo(V);return _N({x:A,y:P},Z)}return null}},{key:"parseEventsOfWrapper",value:function(){var R=this.props.children,$=this.getTooltipEventType(),I=Un(R,Bn),j={};I&&$==="axis"&&(I.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=Kp(this.props,this.handleOuterEvent);return le(le({},A),j)}},{key:"addListener",value:function(){$x.on(Fx,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){$x.removeListener(Fx,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(R,$,I){for(var j=this.state.formattedGraphicalItems,A=0,P=j.length;A<P;A++){var N=j[A];if(N.item===R||N.props.key===R.key||$===Wa(N.item.type)&&I===N.childIndex)return N}return null}},{key:"renderClipPath",value:function(){var R=this.clipPathId,$=this.state.offset,I=$.left,j=$.top,A=$.height,P=$.width;return z.createElement("defs",null,z.createElement("clipPath",{id:R},z.createElement("rect",{x:I,y:j,height:A,width:P})))}},{key:"getXScales",value:function(){var R=this.state.xAxisMap;return R?Object.entries(R).reduce(function($,I){var j=m2(I,2),A=j[0],P=j[1];return le(le({},$),{},We({},A,P.scale))},{}):null}},{key:"getYScales",value:function(){var R=this.state.yAxisMap;return R?Object.entries(R).reduce(function($,I){var j=m2(I,2),A=j[0],P=j[1];return le(le({},$),{},We({},A,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(R){var $;return($=this.state.xAxisMap)===null||$===void 0||($=$[R])===null||$===void 0?void 0:$.scale}},{key:"getYScaleByAxisId",value:function(R){var $;return($=this.state.yAxisMap)===null||$===void 0||($=$[R])===null||$===void 0?void 0:$.scale}},{key:"getItemByXY",value:function(R){var $=this.state,I=$.formattedGraphicalItems,j=$.activeItem;if(I&&I.length)for(var A=0,P=I.length;A<P;A++){var N=I[A],F=N.props,D=N.item,V=D.type.defaultProps!==void 0?le(le({},D.type.defaultProps),D.props):D.props,M=Wa(D.type);if(M==="Bar"){var Z=(F.data||[]).find(function(Q){return ate(R,Q)});if(Z)return{graphicalItem:N,payload:Z}}else if(M==="RadialBar"){var ee=(F.data||[]).find(function(Q){return _N(R,Q)});if(ee)return{graphicalItem:N,payload:ee}}else if(Ug(N,j)||Bg(N,j)||od(N,j)){var re=kre({graphicalItem:N,activeTooltipItem:j,itemData:V.data}),oe=V.activeIndex===void 0?re:V.activeIndex;return{graphicalItem:le(le({},N),{},{childIndex:oe}),payload:od(N,j)?V.data[re]:N.props.data[re]}}}return null}},{key:"render",value:function(){var R=this;if(!CI(this))return null;var $=this.props,I=$.children,j=$.className,A=$.width,P=$.height,N=$.style,F=$.compact,D=$.title,V=$.desc,M=g2($,aoe),Z=qe(M,!1);if(F)return z.createElement(Xj,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement(vw,su({},Z,{width:A,height:P,title:D,desc:V}),this.renderClipPath(),NI(I,this.renderMap)));if(this.props.accessibilityLayer){var ee,re;Z.tabIndex=(ee=this.props.tabIndex)!==null&&ee!==void 0?ee:0,Z.role=(re=this.props.role)!==null&&re!==void 0?re:"application",Z.onKeyDown=function(Q){R.accessibilityManager.keyboardEvent(Q)},Z.onFocus=function(){R.accessibilityManager.focus()}}var oe=this.parseEventsOfWrapper();return z.createElement(Xj,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement("div",su({className:et("recharts-wrapper",j),style:le({position:"relative",cursor:"default",width:A,height:P},N)},oe,{ref:function(ae){R.container=ae}}),z.createElement(vw,su({},Z,{width:A,height:P,title:D,desc:V,style:woe}),this.renderClipPath(),NI(I,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(G.Component);We(E,"displayName",r),We(E,"defaultProps",le({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),We(E,"getDerivedStateFromProps",function(x,O){var C=x.dataKey,R=x.data,$=x.children,I=x.width,j=x.height,A=x.layout,P=x.stackOffset,N=x.margin,F=O.dataStartIndex,D=O.dataEndIndex;if(O.updateId===void 0){var V=b2(x);return le(le(le({},V),{},{updateId:0},v(le(le({props:x},V),{},{updateId:0}),O)),{},{prevDataKey:C,prevData:R,prevWidth:I,prevHeight:j,prevLayout:A,prevStackOffset:P,prevMargin:N,prevChildren:$})}if(C!==O.prevDataKey||R!==O.prevData||I!==O.prevWidth||j!==O.prevHeight||A!==O.prevLayout||P!==O.prevStackOffset||!du(N,O.prevMargin)){var M=b2(x),Z={chartX:O.chartX,chartY:O.chartY,isTooltipActive:O.isTooltipActive},ee=le(le({},v2(O,R,A)),{},{updateId:O.updateId+1}),re=le(le(le({},M),Z),ee);return le(le(le({},re),v(le({props:x},re),O)),{},{prevDataKey:C,prevData:R,prevWidth:I,prevHeight:j,prevLayout:A,prevStackOffset:P,prevMargin:N,prevChildren:$})}if(!gw($,O.prevChildren)){var oe,Q,ae,se,q=Un($,Lu),K=q&&(oe=(Q=q.props)===null||Q===void 0?void 0:Q.startIndex)!==null&&oe!==void 0?oe:F,fe=q&&(ae=(se=q.props)===null||se===void 0?void 0:se.endIndex)!==null&&ae!==void 0?ae:D,Ee=K!==F||fe!==D,je=!Je(R),xe=je&&!Ee?O.updateId:O.updateId+1;return le(le({updateId:xe},v(le(le({props:x},O),{},{updateId:xe,dataStartIndex:K,dataEndIndex:fe}),O)),{},{prevChildren:$,dataStartIndex:K,dataEndIndex:fe})}return null}),We(E,"renderActiveDot",function(x,O,C){var R;return G.isValidElement(x)?R=G.cloneElement(x,O):Ye(x)?R=x(O):R=z.createElement(Dg,O),z.createElement(ht,{className:"recharts-active-dot",key:C},R)});var w=G.forwardRef(function(O,C){return z.createElement(E,su({},O,{ref:C}))});return w.displayName=E.displayName,w},Roe=$S({chartName:"LineChart",GraphicalChild:Vd,axisComponents:[{axisType:"xAxis",AxisComp:pl},{axisType:"yAxis",AxisComp:ml}],formatAxisMap:Y4}),OF=$S({chartName:"BarChart",GraphicalChild:ha,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:pl},{axisType:"yAxis",AxisComp:ml}],formatAxisMap:Y4}),Noe=$S({chartName:"PieChart",GraphicalChild:oo,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Vg},{axisType:"radiusAxis",AxisComp:$g}],formatAxisMap:_J,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function x2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?x2(Object(r),!0).forEach(function(n){CF(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CF(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function joe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Moe(t,e){if(t==null)return{};var r=joe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mu(t,e){return Doe(t)||Loe(t,e)||$oe(t,e)||Foe()}function Doe(t){if(Array.isArray(t))return t}function Loe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,s,u;try{for(r=r.call(t);!(i=(s=r.next()).done)&&(n.push(s.value),!(e&&n.length===e));i=!0);}catch(c){a=!0,u=c}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw u}}return n}}function $oe(t,e){if(t){if(typeof t=="string")return w2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w2(t,e)}}function w2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Foe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Voe=["src","checkForExisting"],sf={},E2=function(e){var r=document.querySelector('script[src="'.concat(e,'"]'));if(r)return sf[e]={loading:!1,error:null,scriptEl:r}},S2=typeof window<"u"&&typeof window.document<"u";function Uoe(t){var e=t.src,r=t.checkForExisting,n=r===void 0?!1:r,i=Moe(t,Voe),a=e?sf[e]:void 0;!a&&n&&e&&S2&&(a=E2(e));var s=G.useState(a?a.loading:!!e),u=mu(s,2),c=u[0],f=u[1],h=G.useState(a?a.error:null),m=mu(h,2),y=m[0],v=m[1],E=G.useState(!1),w=mu(E,2),x=w[0],O=w[1];return G.useEffect(function(){if(!(!S2||!e||x||y)){a=sf[e],!a&&n&&(a=E2(e));var C;a?C=a.scriptEl:(C=document.createElement("script"),C.src=e,Object.keys(i).forEach(function(I){C[I]===void 0?C.setAttribute(I,i[I]):C[I]=i[I]}),a=sf[e]={loading:!0,error:null,scriptEl:C});var R=function(){a&&(a.loading=!1),f(!1),O(!0)},$=function(j){a&&(a.error=j),v(j)};return C.addEventListener("load",R),C.addEventListener("error",$),document.body.appendChild(C),function(){C.removeEventListener("load",R),C.removeEventListener("error",$),a&&a.loading&&(C.remove(),delete sf[e])}}},[e]),[c,y]}var Boe=function(e,r,n){var i={};return delete Object.assign(i,e,CF({},n,e[r]))[r],i},qoe=function(e,r){var n={plaid:null,open:!1,onExitCallback:null};if(typeof window>"u"||!window.Plaid)throw new Error("Plaid not loaded");n.plaid=r(zm(zm({},e),{},{onExit:function(f,h){n.open=!1,e.onExit&&e.onExit(f,h),n.onExitCallback&&n.onExitCallback()}}));var i=function(){n.plaid&&(n.open=!0,n.onExitCallback=null,n.plaid.open())},a=function(f){n.plaid&&n.plaid.submit(f)},s=function(f,h){if(!n.open||!n.plaid){h&&h();return}n.onExitCallback=h,n.plaid.exit(f),f&&f.force&&(n.open=!1)},u=function(){n.plaid&&(n.plaid.destroy(),n.plaid=null)};return{open:i,submit:a,exit:s,destroy:u}},zoe=function(e,r){var n=Boe(e,"publicKey","key");return qoe(n,r)},Woe="https://cdn.plaid.com/link/v2/stable/link-initialize.js",T2=function(){},Hoe=function(e){var r=Uoe({src:Woe,checkForExisting:!0}),n=mu(r,2),i=n[0],a=n[1],s=G.useState(null),u=mu(s,2),c=u[0],f=u[1],h=G.useState(!1),m=mu(h,2),y=m[0],v=m[1],E=(e.product||[]).slice().sort().join(",");G.useEffect(function(){if(!i&&!(!e.token&&!e.publicKey&&!e.receivedRedirectUri)){if(a||!window.Plaid){console.error("Error loading Plaid",a);return}c?.exit({force:!0},function(){return c.destroy()});var O=zoe(zm(zm({},e),{},{onLoad:function(){v(!0),e.onLoad&&e.onLoad()}}),window.Plaid.create);return f(O),function(){return O.exit({force:!0},function(){return O.destroy()})}}},[i,a,e.publicKey,e.token,E]);var w=c!=null&&(!i||y),x=function(){e.token||console.warn("react-plaid-link: You cannot call open() without a valid token supplied to usePlaidLink. This is a no-op.")};return{error:a,ready:w,submit:c?c.submit:T2,exit:c?c.exit:T2,open:c?c.open:x}},A2;(function(t){t.OPEN="OPEN",t.EXIT="EXIT",t.HANDOFF="HANDOFF",t.SELECT_INSTITUTION="SELECT_INSTITUTION",t.ERROR="ERROR",t.BANK_INCOME_INSIGHTS_COMPLETED="BANK_INCOME_INSIGHTS_COMPLETED",t.IDENTITY_VERIFICATION_PASS_SESSION="IDENTITY_VERIFICATION_PASS_SESSION",t.IDENTITY_VERIFICATION_FAIL_SESSION="IDENTITY_VERIFICATION_FAIL_SESSION"})(A2||(A2={}));/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Koe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),RF=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Goe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yoe=G.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:s,...u},c)=>G.createElement("svg",{ref:c,...Goe,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:RF("lucide",i),...u},[...s.map(([f,h])=>G.createElement(f,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=(t,e)=>{const r=G.forwardRef(({className:n,...i},a)=>G.createElement(Yoe,{ref:a,iconNode:e,className:RF(`lucide-${Koe(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xoe=wt("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qoe=wt("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Joe=wt("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NF=wt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zoe=wt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ese=wt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tse=wt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rse=wt("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=wt("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nse=wt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=wt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=wt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ise=wt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ase=wt("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ose=wt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sse=wt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lse=wt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=wt("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const use=wt("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cse=wt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fse=wt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=wt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dse=wt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hse=wt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=wt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pse=wt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mse=wt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xg=wt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gse=wt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),yse=({setUserId:t})=>{const[e,r]=G.useState(!0),[n,i]=G.useState(""),[a,s]=G.useState(""),[u,c]=G.useState(""),[f,h]=G.useState(!1),m=wM(),y=async v=>{v.preventDefault(),c(""),h(!0);try{e?await wU(m,n,a):await xU(m,n,a)}catch(E){c(E.message)}finally{h(!1)}};return b.jsx("div",{className:"min-h-screen bg-slate-100 dark:bg-slate-900 flex flex-col justify-center items-center p-4",children:b.jsxs("div",{className:"w-full max-w-md",children:[b.jsxs("div",{className:"text-center mb-8",children:[b.jsx(xf,{className:"mx-auto h-12 w-auto text-cyan-500"}),b.jsx("h2",{className:"mt-6 text-3xl font-bold tracking-tight text-slate-900 dark:text-white",children:e?"Sign in to your account":"Create a new account"})]}),b.jsxs("div",{className:"bg-white dark:bg-slate-800 shadow-xl rounded-2xl p-8",children:[b.jsxs("form",{className:"space-y-6",onSubmit:y,children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Email address"}),b.jsx("div",{className:"mt-1",children:b.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:v=>i(v.target.value),className:"block w-full appearance-none rounded-md border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 px-3 py-2 placeholder-slate-400 dark:placeholder-slate-500 shadow-sm focus:border-cyan-500 focus:outline-none focus:ring-cyan-500 sm:text-sm"})})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Password"}),b.jsx("div",{className:"mt-1",children:b.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:a,onChange:v=>s(v.target.value),className:"block w-full appearance-none rounded-md border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 px-3 py-2 placeholder-slate-400 dark:placeholder-slate-500 shadow-sm focus:border-cyan-500 focus:outline-none focus:ring-cyan-500 sm:text-sm"})})]}),u&&b.jsx("div",{className:"rounded-md bg-red-50 p-4",children:b.jsx("p",{className:"text-sm text-red-700",children:u})}),b.jsx("div",{children:b.jsx("button",{type:"submit",disabled:f,className:"flex w-full justify-center rounded-md border border-transparent bg-cyan-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-cyan-700 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2 disabled:bg-slate-400",children:f?"Processing...":e?"Sign in":"Create account"})})]}),b.jsx("div",{className:"mt-6",children:b.jsxs("p",{className:"text-center text-sm text-slate-500 dark:text-slate-400",children:[e?"Don't have an account?":"Already have an account?",b.jsx("button",{onClick:()=>r(!e),className:"font-medium text-cyan-600 hover:text-cyan-500 ml-1",children:e?"Sign up":"Sign in"})]})})]})]})})},Zi=({title:t,value:e,icon:r,color:n,subtext:i})=>b.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl border border-slate-200 dark:border-slate-700 shadow-lg flex flex-col justify-between",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("h3",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:t}),b.jsx("div",{className:`text-${n}-500 dark:text-${n}-400`,children:r})]}),b.jsxs("div",{children:[b.jsx("p",{className:"text-3xl font-bold text-slate-800 dark:text-white mt-2",children:e}),i&&b.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500 mt-1",children:i})]})]}),vse={"single-member-llc":20,"s-corp":20,"c-corp":21,partnership:20},bse=({jobs:t,bills:e,weeklyCosts:r,taxPayments:n,openModal:i,handleDelete:a})=>{const[s,u]=G.useState(20),[c,f]=G.useState("single-member-llc"),[h,m]=G.useState("quarterly"),[y,v]=G.useState(!1);G.useEffect(()=>{u(vse[c])},[c]);const E=G.useMemo(()=>{const R=new Date;let $,I;switch(h){case"weekly":$=new Date(R.setDate(R.getDate()-R.getDay())),I=new Date(R.setDate(R.getDate()-R.getDay()+6));break;case"monthly":$=new Date(R.getFullYear(),R.getMonth(),1),I=new Date(R.getFullYear(),R.getMonth()+1,0);break;case"quarterly":const j=Math.floor(R.getMonth()/3);$=new Date(R.getFullYear(),j*3,1),I=new Date(R.getFullYear(),j*3+3,0);break;case"yearly":$=new Date(R.getFullYear(),0,1),I=new Date(R.getFullYear(),11,31);break;default:$=new Date,I=new Date}return{start:$,end:I}},[h]),w=G.useMemo(()=>{const R=t.filter(V=>{if(!V.date)return!1;const M=new Date(V.date);return M>=E.start&&M<=E.end}),$=e.reduce((V,M)=>V+M.amount,0)+r.reduce((V,M)=>V+M.amount,0)*4.33,I=(E.end-E.start)/(1e3*60*60*24*30.44),j=$*I,A=R.reduce((V,M)=>V+(M.revenue||0),0),P=R.reduce((V,M)=>V+(M.materialCost||0)+(M.laborCost||0),0),N=A-P,F=N-j,D=F>0?F*(s/100):0;return{netProfit:F,estimatedTax:D,grossProfit:N,periodOperatingExpenses:j}},[t,e,r,s,E]),x=G.useMemo(()=>n.filter(R=>{const $=new Date(R.date);return $>=E.start&&$<=E.end}).reduce((R,$)=>R+($.amount||0),0),[n,E]),O=w.estimatedTax-x,C=[{name:"Tax Liability","Estimated Tax":w.estimatedTax,"Taxes Paid":x}];return b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[b.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Tax Estimation"}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 items-end",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"filingStatus",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Filing Status"}),b.jsxs("select",{id:"filingStatus",value:c,onChange:R=>f(R.target.value),className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",children:[b.jsx("option",{value:"single-member-llc",children:"Single-Member LLC"}),b.jsx("option",{value:"s-corp",children:"S-Corporation"}),b.jsx("option",{value:"c-corp",children:"C-Corporation"}),b.jsx("option",{value:"partnership",children:"Partnership"})]}),(c==="llc"||c==="single-member-llc")&&b.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"LLC tax rates vary. Consult a tax professional."})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"taxRate",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Estimated Tax Rate (%)"}),b.jsx("input",{id:"taxRate",type:"number",value:s,onChange:R=>u(parseFloat(R.target.value)||0),className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Estimation Period"}),b.jsxs("div",{className:"flex items-center gap-1 bg-slate-100 dark:bg-slate-700 rounded-md p-1",children:[b.jsx("button",{onClick:()=>m("weekly"),className:`w-full px-2 py-1 text-xs rounded ${h==="weekly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Weekly"}),b.jsx("button",{onClick:()=>m("monthly"),className:`w-full px-2 py-1 text-xs rounded ${h==="monthly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Monthly"}),b.jsx("button",{onClick:()=>m("quarterly"),className:`w-full px-2 py-1 text-xs rounded ${h==="quarterly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Quarterly"}),b.jsx("button",{onClick:()=>m("yearly"),className:`w-full px-2 py-1 text-xs rounded ${h==="yearly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Yearly"})]})]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:[b.jsx(Zi,{title:`Estimated ${h} Net Profit`,value:`$${w.netProfit.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:b.jsx(xf,{}),color:"blue"}),b.jsx(Zi,{title:"Estimated Tax Liability",value:`$${w.estimatedTax.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:b.jsx(xf,{}),color:"orange",subtext:w.netProfit<=0?"No tax on negative profit":""}),b.jsx(Zi,{title:"Overpayment / (Underpayment)",value:`${O<0?"-":""}$${Math.abs(O).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:b.jsx(xf,{}),color:O<0?"green":"red",subtext:O<0?"You have overpaid":"Remaining balance due"})]}),b.jsxs("div",{className:"mt-4",children:[b.jsxs("button",{onClick:()=>v(!y),className:"flex items-center gap-2 text-sm text-slate-500 dark:text-slate-400 hover:underline",children:["Show Calculation Breakdown ",b.jsx(NF,{className:`transition-transform ${y?"rotate-180":""}`,size:16})]}),y&&b.jsxs("div",{className:"mt-2 p-4 bg-slate-100 dark:bg-slate-700/50 rounded-lg text-sm space-y-2 animate-fade-in",children:[b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{children:"Gross Profit (from Jobs):"})," ",b.jsxs("span",{className:"font-mono",children:["$",w.grossProfit.toFixed(2)]})]}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{children:"- Est. Operating Expenses:"})," ",b.jsxs("span",{className:"font-mono",children:["$",w.periodOperatingExpenses.toFixed(2)]})]}),b.jsx("hr",{className:"border-slate-300 dark:border-slate-600"}),b.jsxs("div",{className:"flex justify-between font-bold",children:[b.jsx("span",{children:"= Estimated Net Profit:"})," ",b.jsxs("span",{className:"font-mono",children:["$",w.netProfit.toFixed(2)]})]}),b.jsxs("div",{className:"flex justify-between",children:[b.jsxs("span",{children:["x Tax Rate (",s,"%):"]})," ",b.jsxs("span",{className:"font-mono",children:["$",w.estimatedTax.toFixed(2)]})]})]})]}),w.netProfit<=0&&b.jsxs("div",{className:"mt-4 p-3 bg-blue-100 dark:bg-blue-900/50 border border-blue-400 dark:border-blue-700 text-blue-800 dark:text-blue-200 rounded-lg flex items-center gap-3",children:[b.jsx(ise,{size:20}),b.jsx("p",{className:"text-sm",children:"Your estimated tax is $0.00 because your estimated net profit is negative. The tax rate will apply once your profit is positive."})]}),b.jsxs("div",{className:"mt-6",children:[b.jsx("h4",{className:"text-lg font-bold text-slate-800 dark:text-white mb-2",children:"Liability vs. Payments"}),b.jsx(Eg,{width:"100%",height:200,children:b.jsxs(OF,{data:C,layout:"vertical",margin:{top:5,right:20,left:20,bottom:5},children:[b.jsx(Gg,{strokeDasharray:"3 3"}),b.jsx(pl,{type:"number"}),b.jsx(ml,{type:"category",dataKey:"name",hide:!0}),b.jsx(Bn,{formatter:R=>`$${R.toLocaleString()}`}),b.jsx(Ha,{}),b.jsx(ha,{dataKey:"Estimated Tax",fill:"#f97316"}),b.jsx(ha,{dataKey:"Taxes Paid",fill:"#16a34a"})]})})]})]}),b.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Recorded Tax Payments"}),b.jsxs("button",{onClick:()=>i("taxPayment"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[b.jsx(Di,{size:16})," Record Payment"]})]}),b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"w-full text-left",children:[b.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:b.jsxs("tr",{children:[b.jsx("th",{className:"p-3",children:"Date"}),b.jsx("th",{className:"p-3",children:"Notes"}),b.jsx("th",{className:"p-3 text-right",children:"Amount"}),b.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),b.jsx("tbody",{className:"text-sm",children:n.map(R=>b.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50",children:[b.jsx("td",{className:"p-3 font-medium",children:R.date}),b.jsx("td",{className:"p-3",children:R.notes}),b.jsxs("td",{className:"p-3 text-right font-mono",children:["$",(R.amount||0).toFixed(2)]}),b.jsxs("td",{className:"p-3 text-center",children:[b.jsx("button",{onClick:()=>i("taxPayment",R),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:b.jsx(Jo,{size:16})}),b.jsx("button",{onClick:()=>a("taxPayment",R.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:b.jsx(Fi,{size:16})})]})]},R.id))})]})})]})]})},_se=({jobs:t,tasks:e,openModal:r})=>{const[n,i]=G.useState(new Date),a=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],s=["January","February","March","April","May","June","July","August","September","October","November","December"],u=new Date(n.getFullYear(),n.getMonth(),1),c=new Date(n.getFullYear(),n.getMonth()+1,0),f=u.getDay(),h=c.getDate(),m=[];for(let w=0;w<f;w++)m.push(null);for(let w=1;w<=h;w++)m.push(new Date(n.getFullYear(),n.getMonth(),w));const y=G.useMemo(()=>{const w={};return t.forEach(x=>{const O=new Date(x.date).toISOString().split("T")[0];w[O]||(w[O]=[]),w[O].push({...x,type:"job"})}),e.forEach(x=>{const O=new Date(x.date).toISOString().split("T")[0];w[O]||(w[O]=[]),w[O].push({...x,type:"task"})}),w},[t,e]),v=()=>{i(new Date(n.getFullYear(),n.getMonth()-1,1))},E=()=>{i(new Date(n.getFullYear(),n.getMonth()+1,1))};return b.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsx("button",{onClick:v,className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:b.jsx(Zoe,{})}),b.jsxs("h2",{className:"text-xl font-bold",children:[s[n.getMonth()]," ",n.getFullYear()]}),b.jsx("button",{onClick:E,className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:b.jsx(ese,{})})]}),b.jsxs("div",{className:"flex justify-end gap-2 mb-4",children:[b.jsxs("button",{onClick:()=>r("task"),className:"flex items-center gap-2 text-sm bg-amber-500 hover:bg-amber-400 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[b.jsx(Di,{size:16})," Add Task"]}),b.jsxs("button",{onClick:()=>r("job"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[b.jsx(Di,{size:16})," Add Job"]})]}),b.jsxs("div",{className:"grid grid-cols-7 gap-1 text-center",children:[a.map(w=>b.jsx("div",{className:"font-bold text-sm text-slate-500 dark:text-slate-400 py-2",children:w},w)),m.map((w,x)=>b.jsxs("div",{className:`h-32 border border-slate-200 dark:border-slate-700 rounded-md p-1 overflow-y-auto ${w?"cursor-pointer":"bg-slate-50 dark:bg-slate-800/50"}`,onClick:()=>w&&r("task",{date:w.toISOString().split("T")[0]}),children:[w&&b.jsx("span",{className:"text-xs font-semibold",children:w.getDate()}),w&&y[w.toISOString().split("T")[0]]?.map(O=>b.jsx("div",{onClick:C=>{C.stopPropagation(),r(O.type,O)},className:`text-xs rounded p-1 mt-1 hover:opacity-80 ${O.type==="job"?"bg-cyan-100 dark:bg-cyan-900/50 text-cyan-800 dark:text-cyan-200":"bg-amber-100 dark:bg-amber-900/50 text-amber-800 dark:text-amber-200"}`,children:O.name||O.title},O.id))]},x))]})]})},xse=({children:t,onClose:e})=>b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4 animate-fade-in",children:b.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-lg m-4 relative border dark:border-slate-700",children:[b.jsx("button",{onClick:e,className:"absolute top-3 right-3 text-slate-400 hover:text-slate-800 dark:hover:text-white transition-colors",children:b.jsx(gse,{size:24})}),b.jsx("div",{className:"p-6",children:t})]})}),wse=["Software","Fuel","Vehicle","Insurance","Marketing","Supplies","Overhead","Payroll","Taxes","Utilities","General"],Ese=({item:t,type:e,onSave:r,onClose:n,debts:i,clients:a,vehicles:s})=>{const[u,c]=G.useState({}),[f,h]=G.useState(null),[m,y]=G.useState(!1);G.useEffect(()=>{const O={bill:{name:"",amount:0,dueDay:1,isAutoPay:!1,category:"General",notes:"",attachmentURL:null,isRecurring:!1,vehicleId:""},debt:{name:"",totalAmount:0,paidAmount:0,interestRate:0,notes:""},income:{name:"",amount:0,type:"monthly",notes:"",isRecurring:!1},weekly:{name:"",amount:0,notes:""},job:{name:"",revenue:0,materialCost:0,laborCost:0,notes:"",date:new Date().toISOString().split("T")[0],clientId:""},task:{title:"",date:new Date().toISOString().split("T")[0],notes:"",isComplete:!1},invoice:{billTo:"",customer:"",jobNo:"",completedOn:"",invNum:"",terms:"",net:0,dueDate:"",status:"",grandTotal:0},taxPayment:{date:new Date().toISOString().split("T")[0],amount:0,notes:""},goal:{name:"",type:"revenue",targetValue:5e4,deadline:"",targetId:""},client:{name:"",address:"",phone:"",email:"",parentId:""},inventory:{name:"",quantity:0,cost:0},vehicle:{name:"",make:"",model:"",year:"",vin:"",licensePlate:"",currentMileage:0},maintenanceLog:{date:new Date().toISOString().split("T")[0],mileage:"",workPerformed:"",cost:0,notes:"",vehicleId:t?.vehicleId||""}};c(t||O[e])},[t,e]);const v=O=>{const{name:C,value:R,type:$,checked:I}=O.target;c(j=>({...j,[C]:$==="checkbox"?I:$==="number"?parseFloat(R)||0:R}))},E=O=>{O.target.files[0]&&h(O.target.files[0])},w=async O=>{O.preventDefault(),y(!0),await r(u,f),y(!1)},x=()=>{const O=a.filter(C=>!C.parentId);switch(e){case"bill":return b.jsxs(b.Fragment,{children:[" ",b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Bill Name"}),b.jsx("input",{type:"text",name:"name",value:u.name||"",onChange:v,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]})," ",b.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Amount"}),b.jsx("input",{type:"number",name:"amount",value:u.amount||"",onChange:v,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Due Day"}),b.jsx("input",{type:"number",name:"dueDay",min:"1",max:"31",value:u.dueDay||"",onChange:v,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]})]})," ",b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Category"}),b.jsx("input",{list:"bill-categories",type:"text",name:"category",value:u.category||"",onChange:v,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"}),b.jsx("datalist",{id:"bill-categories",children:wse.map(C=>b.jsx("option",{value:C},C))})]})," ",u.category==="Vehicle"&&b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Assign to Vehicle"}),b.jsxs("select",{name:"vehicleId",value:u.vehicleId||"",onChange:v,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",children:[b.jsx("option",{value:"",children:"-- Select Vehicle --"}),s.map(C=>b.jsx("option",{value:C.id,children:C.name},C.id))]})]})," ",b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Notes"}),b.jsx("textarea",{name:"notes",value:u.notes||"",onChange:v,rows:"2",className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Attach Receipt (Optional)"}),b.jsx("input",{type:"file",onChange:E,className:"w-full text-sm text-slate-500 dark:text-slate-400 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-cyan-50 file:text-cyan-700 hover:file:bg-cyan-100"})]})," ",b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsxs("div",{className:"flex items-center",children:[b.jsx("input",{type:"checkbox",id:"isAutoPay",name:"isAutoPay",checked:u.isAutoPay||!1,onChange:v,className:"h-4 w-4 rounded"}),b.jsx("label",{htmlFor:"isAutoPay",className:"ml-2 text-sm text-slate-600 dark:text-slate-300",children:"Enabled for Autopay"})]}),b.jsxs("div",{className:"flex items-center",children:[b.jsx("input",{type:"checkbox",id:"isRecurring",name:"isRecurring",checked:u.isRecurring||!1,onChange:v,className:"h-4 w-4 rounded"}),b.jsx("label",{htmlFor:"isRecurring",className:"ml-2 text-sm text-slate-600 dark:text-slate-300",children:"Is Recurring?"})]})]})," "]});case"invoice":return b.jsxs(b.Fragment,{children:[" ",b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Bill To"}),b.jsx("input",{type:"text",name:"billTo",value:u.billTo||"",onChange:v,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})," ",b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Customer"}),b.jsx("input",{type:"text",name:"customer",value:u.customer||"",onChange:v,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})," ",b.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Grand Total"}),b.jsx("input",{type:"number",name:"grandTotal",value:u.grandTotal||"",onChange:v,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Status"}),b.jsx("input",{type:"text",name:"status",value:u.status||"",onChange:v,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]})]});case"taxPayment":return b.jsxs(b.Fragment,{children:[" ",b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Payment Date"}),b.jsx("input",{type:"date",name:"date",value:u.date||"",onChange:v,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Amount Paid"}),b.jsx("input",{type:"number",name:"amount",value:u.amount||"",onChange:v,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Notes (e.g., Q2 Federal)"}),b.jsx("textarea",{name:"notes",value:u.notes||"",onChange:v,rows:"3",className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]});case"debt":return b.jsxs(b.Fragment,{children:[" ",b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Debt Name"}),b.jsx("input",{type:"text",name:"name",value:u.name||"",onChange:v,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]})," ",b.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Total Amount"}),b.jsx("input",{type:"number",name:"totalAmount",value:u.totalAmount||"",onChange:v,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Paid Amount"}),b.jsx("input",{type:"number",name:"paidAmount",value:u.paidAmount||"",onChange:v,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Interest Rate (%)"}),b.jsx("input",{type:"number",name:"interestRate",value:u.interestRate||"",onChange:v,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Notes"}),b.jsx("textarea",{name:"notes",value:u.notes||"",onChange:v,rows:"3",className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]});case"income":return b.jsxs(b.Fragment,{children:[" ",b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Income Source"}),b.jsx("input",{type:"text",name:"name",value:u.name||"",onChange:v,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Amount"}),b.jsx("input",{type:"number",name:"amount",value:u.amount||"",onChange:v,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Notes"}),b.jsx("textarea",{name:"notes",value:u.notes||"",onChange:v,rows:"3",className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),b.jsxs("div",{className:"flex items-center",children:[b.jsx("input",{type:"checkbox",id:"isRecurring",name:"isRecurring",checked:u.isRecurring||!1,onChange:v,className:"h-4 w-4 rounded"}),b.jsx("label",{htmlFor:"isRecurring",className:"ml-2 text-sm text-slate-600 dark:text-slate-300",children:"Is Recurring?"})]})]});case"weekly":return b.jsxs(b.Fragment,{children:[" ",b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Cost Name"}),b.jsx("input",{type:"text",name:"name",value:u.name||"",onChange:v,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Weekly Amount"}),b.jsx("input",{type:"number",name:"amount",value:u.amount||"",onChange:v,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Notes"}),b.jsx("textarea",{name:"notes",value:u.notes||"",onChange:v,rows:"3",className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]});case"job":return b.jsxs(b.Fragment,{children:[" ",b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Job Name/Client"}),b.jsx("input",{type:"text",name:"name",value:u.name||"",onChange:v,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Link to Client Location"}),b.jsx("select",{name:"clientId",value:u.clientId||"",onChange:v,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",children:O.map(C=>b.jsx("optgroup",{label:C.name,children:a.filter(R=>R.parentId===C.id||R.id===C.id).map(R=>b.jsx("option",{value:R.id,children:R.name},R.id))},C.id))})]})," ",b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Job Date"}),b.jsx("input",{type:"date",name:"date",value:u.date||"",onChange:v,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})," ",b.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Revenue"}),b.jsx("input",{type:"number",name:"revenue",value:u.revenue||"",onChange:v,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Material Cost"}),b.jsx("input",{type:"number",name:"materialCost",value:u.materialCost||"",onChange:v,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Labor Cost"}),b.jsx("input",{type:"number",name:"laborCost",value:u.laborCost||"",onChange:v,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Notes"}),b.jsx("textarea",{name:"notes",value:u.notes||"",onChange:v,rows:"3",className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]});case"task":return b.jsxs(b.Fragment,{children:[" ",b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Task Title"}),b.jsx("input",{type:"text",name:"title",value:u.title||"",onChange:v,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Date"}),b.jsx("input",{type:"date",name:"date",value:u.date||"",onChange:v,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Notes"}),b.jsx("textarea",{name:"notes",value:u.notes||"",onChange:v,rows:"3",className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),b.jsxs("div",{className:"flex items-center",children:[b.jsx("input",{type:"checkbox",id:"isComplete",name:"isComplete",checked:u.isComplete||!1,onChange:v,className:"h-4 w-4 rounded"}),b.jsx("label",{htmlFor:"isComplete",className:"ml-2 text-sm text-slate-600 dark:text-slate-300",children:"Is Complete?"})]})]});case"goal":return b.jsxs(b.Fragment,{children:[" ",b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Goal Name"}),b.jsx("input",{type:"text",name:"name",value:u.name||"",onChange:v,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]})," ",b.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Goal Type"}),b.jsxs("select",{name:"type",value:u.type||"revenue",onChange:v,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",children:[b.jsx("option",{value:"revenue",children:"Revenue"}),b.jsx("option",{value:"debt",children:"Debt Payoff"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Deadline"}),b.jsx("input",{type:"date",name:"deadline",value:u.deadline||"",onChange:v,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]})," ",u.type==="revenue"&&b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Target Revenue ($)"}),b.jsx("input",{type:"number",name:"targetValue",value:u.targetValue||"",onChange:v,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})," ",u.type==="debt"&&b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Select Debt to Pay Off"}),b.jsxs("select",{name:"targetId",value:u.targetId||"",onChange:v,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",children:[b.jsx("option",{value:"",children:"-- Select a Debt --"}),i.map(C=>b.jsx("option",{value:C.id,children:C.name},C.id))]})]})," "]});case"client":return b.jsxs(b.Fragment,{children:[" ",b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Client/Location Name"}),b.jsx("input",{type:"text",name:"name",value:u.name||"",onChange:v,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Parent Account (Optional)"}),b.jsxs("select",{name:"parentId",value:u.parentId||"",onChange:v,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",children:[b.jsx("option",{value:"",children:"-- None (Is a Parent Account) --"}),O.map(C=>b.jsx("option",{value:C.id,children:C.name},C.id))]})]}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Address"}),b.jsx("input",{type:"text",name:"address",value:u.address||"",onChange:v,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Phone Number"}),b.jsx("input",{type:"tel",name:"phone",value:u.phone||"",onChange:v,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Email"}),b.jsx("input",{type:"email",name:"email",value:u.email||"",onChange:v,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]})," "]});case"inventory":return b.jsxs(b.Fragment,{children:[" ",b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Item Name"}),b.jsx("input",{type:"text",name:"name",value:u.name||"",onChange:v,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Quantity"}),b.jsx("input",{type:"number",name:"quantity",value:u.quantity||"",onChange:v,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Cost per Item"}),b.jsx("input",{type:"number",name:"cost",value:u.cost||"",onChange:v,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]})," "]});case"vehicle":return b.jsxs(b.Fragment,{children:[" ",b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Vehicle Name"}),b.jsx("input",{type:"text",name:"name",value:u.name||"",onChange:v,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Year"}),b.jsx("input",{type:"text",name:"year",value:u.year||"",onChange:v,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Model"}),b.jsx("input",{type:"text",name:"model",value:u.model||"",onChange:v,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"VIN #"}),b.jsx("input",{type:"text",name:"vin",value:u.vin||"",onChange:v,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"License Plate"}),b.jsx("input",{type:"text",name:"licensePlate",value:u.licensePlate||"",onChange:v,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]})," "]});case"maintenanceLog":return b.jsxs(b.Fragment,{children:[" ",b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Date"}),b.jsx("input",{type:"date",name:"date",value:u.date||"",onChange:v,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]})," ",b.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Mileage"}),b.jsx("input",{type:"number",name:"mileage",value:u.mileage||"",onChange:v,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Cost"}),b.jsx("input",{type:"number",name:"cost",value:u.cost||"",onChange:v,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]})," ",b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Work Performed"}),b.jsx("textarea",{name:"workPerformed",value:u.workPerformed||"",onChange:v,rows:"3",className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})," "]});default:return b.jsx("p",{children:"This form is not yet implemented."})}};return b.jsx(xse,{onClose:n,children:b.jsxs("form",{onSubmit:w,children:[b.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:[t?"Edit":"Add"," ",e.charAt(0).toUpperCase()+e.slice(1)]}),x(),b.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[b.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 rounded-md bg-slate-200 dark:bg-slate-600 text-slate-800 dark:text-white",children:"Cancel"}),b.jsx("button",{type:"submit",disabled:m,className:"px-4 py-2 rounded-md bg-cyan-600 flex items-center gap-2 disabled:bg-slate-500 text-white",children:m?"Saving...":b.jsxs(b.Fragment,{children:[b.jsx(fse,{size:16})," Save"]})})]})]})})},Sse=({invoices:t,openModal:e,handleDelete:r,handleBulkDelete:n,searchTerm:i,setSearchTerm:a,selectedIds:s,setSelectedIds:u,handleImportCSV:c,handleExportCSV:f})=>{const h=[{key:"billTo",header:"Bill To",render:v=>b.jsx("span",{className:"font-medium",children:v.billTo})},{key:"customer",header:"Customer",render:v=>b.jsx("span",{children:v.customer})},{key:"grandTotal",header:"Amount",className:"text-right",render:v=>b.jsxs("span",{className:"font-mono",children:["$",(v.grandTotal||0).toFixed(2)]})},{key:"status",header:"Status",className:"text-center",render:v=>b.jsx("span",{children:v.status})}],m=G.useMemo(()=>t.filter(v=>(v.customer||"").toLowerCase().includes(i.toLowerCase())||(v.billTo||"").toLowerCase().includes(i.toLowerCase())),[t,i]),y=v=>{v.target.checked?u(m.map(E=>E.id)):u([])};return b.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Invoice Management"}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("input",{type:"text",placeholder:"Search Invoices...",value:i,onChange:v=>a(v.target.value),className:"w-full md:w-auto bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white"}),s.length>0&&b.jsxs("button",{onClick:()=>n("invoice",s),className:"flex items-center gap-2 text-sm bg-red-600 hover:bg-red-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[b.jsx(Fi,{size:16})," Delete (",s.length,")"]}),b.jsx("input",{type:"file",id:"csv-importer-invoice",className:"hidden",accept:".csv",onChange:v=>c(v.target.files[0],"invoice")}),b.jsxs("label",{htmlFor:"csv-importer-invoice",className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[b.jsx(Xg,{size:16})," Import CSV"]}),b.jsxs("button",{onClick:()=>f(t,"invoices"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[b.jsx(hd,{size:16})," Export to CSV"]}),b.jsxs("button",{onClick:()=>e("invoice"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[b.jsx(Di,{size:16})," Add New"]})]})]}),b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"w-full text-left",children:[b.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:b.jsxs("tr",{children:[b.jsx("th",{className:"p-3",children:b.jsx("input",{type:"checkbox",onChange:y})}),h.map(v=>b.jsx("th",{className:`p-3 ${v.className||""}`,children:v.header},v.key)),b.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),b.jsx("tbody",{className:"text-sm",children:m.map(v=>b.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 text-slate-700 dark:text-slate-200",children:[b.jsx("td",{className:"p-3",children:b.jsx("input",{type:"checkbox",checked:s.includes(v.id),onChange:()=>{u(E=>E.includes(v.id)?E.filter(w=>w!==v.id):[...E,v.id])}})}),h.map(E=>b.jsx("td",{className:`p-3 ${E.className||""}`,children:E.render(v)},E.key)),b.jsxs("td",{className:"p-3 text-center",children:[b.jsx("button",{onClick:()=>e("invoice",v),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:b.jsx(Jo,{size:16})}),b.jsx("button",{onClick:()=>r("invoice",v.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:b.jsx(Fi,{size:16})})]})]},v.id))})]})})]})},Tse=({clients:t,openModal:e,handleDelete:r,handleBulkDelete:n,searchTerm:i,setSearchTerm:a,selectedIds:s,setSelectedIds:u,handleImportCSV:c,handleExportCSV:f})=>{const h=[{key:"name",header:"Name",render:v=>b.jsx("span",{className:"font-medium",children:v.name})},{key:"address",header:"Address",render:v=>b.jsx("span",{children:v.address})},{key:"phone",header:"Phone",render:v=>b.jsx("span",{children:v.phone})},{key:"email",header:"Email",render:v=>b.jsx("span",{children:v.email})}],m=G.useMemo(()=>t.filter(v=>(v.name||"").toLowerCase().includes(i.toLowerCase())||(v.address||"").toLowerCase().includes(i.toLowerCase())),[t,i]),y=v=>{v.target.checked?u(m.map(E=>E.id)):u([])};return b.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Client Management"}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("input",{type:"text",placeholder:"Search Clients...",value:i,onChange:v=>a(v.target.value),className:"w-full md:w-auto bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white"}),s.length>0&&b.jsxs("button",{onClick:()=>n("client",s),className:"flex items-center gap-2 text-sm bg-red-600 hover:bg-red-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[b.jsx(Fi,{size:16})," Delete (",s.length,")"]}),b.jsx("input",{type:"file",id:"csv-importer-client",className:"hidden",accept:".csv",onChange:v=>c(v.target.files[0],"client")}),b.jsxs("label",{htmlFor:"csv-importer-client",className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[b.jsx(Xg,{size:16})," Import CSV"]}),b.jsxs("button",{onClick:()=>f(t,"clients"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[b.jsx(hd,{size:16})," Export to CSV"]}),b.jsxs("button",{onClick:()=>e("client"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[b.jsx(Di,{size:16})," Add New"]})]})]}),b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"w-full text-left",children:[b.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:b.jsxs("tr",{children:[b.jsx("th",{className:"p-3",children:b.jsx("input",{type:"checkbox",onChange:y})}),h.map(v=>b.jsx("th",{className:`p-3 ${v.className||""}`,children:v.header},v.key)),b.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),b.jsx("tbody",{className:"text-sm",children:m.map(v=>b.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 text-slate-700 dark:text-slate-200",children:[b.jsx("td",{className:"p-3",children:b.jsx("input",{type:"checkbox",checked:s.includes(v.id),onChange:()=>{u(E=>E.includes(v.id)?E.filter(w=>w!==v.id):[...E,v.id])}})}),h.map(E=>b.jsx("td",{className:`p-3 ${E.className||""}`,children:E.render(v)},E.key)),b.jsxs("td",{className:"p-3 text-center",children:[b.jsx("button",{onClick:()=>e("client",v),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:b.jsx(Jo,{size:16})}),b.jsx("button",{onClick:()=>r("client",v.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:b.jsx(Fi,{size:16})})]})]},v.id))})]})})]})},Ase=({vehicles:t,maintenanceLogs:e,openModal:r,handleDelete:n,searchTerm:i,setSearchTerm:a})=>{const[s,u]=G.useState(null),c=h=>{u(m=>m===h?null:h)},f=G.useMemo(()=>t.filter(h=>(h.name||"").toLowerCase().includes(i.toLowerCase())||(h.model||"").toLowerCase().includes(i.toLowerCase())),[t,i]);return b.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Vehicle Management"}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("input",{type:"text",placeholder:"Search Vehicles...",value:i,onChange:h=>a(h.target.value),className:"w-full md:w-auto bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white"}),b.jsxs("button",{onClick:()=>r("vehicle"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[b.jsx(Di,{size:16})," Add New Vehicle"]})]})]}),b.jsx("div",{className:"space-y-2",children:f.map(h=>b.jsxs("div",{children:[b.jsxs("div",{onClick:()=>c(h.id),className:"bg-slate-100 dark:bg-slate-700/50 p-4 rounded-lg flex justify-between items-center cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-700",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx(Joe,{size:24,className:"text-cyan-500"}),b.jsxs("div",{children:[b.jsx("p",{className:"font-bold",children:h.name}),b.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[h.year," ",h.make," ",h.model]})]})]}),b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsxs("div",{className:"text-right",children:[b.jsxs("p",{className:"font-mono text-orange-600 dark:text-orange-400",children:["$",e.filter(m=>m.vehicleId===h.id).reduce((m,y)=>m+y.cost,0).toFixed(2)]}),b.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Total Expenses"})]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{onClick:m=>{m.stopPropagation(),r("vehicle",h)},className:"p-1 text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400",children:b.jsx(Jo,{size:16})}),b.jsx("button",{onClick:m=>{m.stopPropagation(),n("vehicle",h.id)},className:"p-1 text-slate-500 dark:text-slate-400 hover:text-red-500",children:b.jsx(Fi,{size:16})})]}),s===h.id?b.jsx(tse,{}):b.jsx(NF,{})]})]}),s===h.id&&b.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 rounded-b-lg border-t-2 border-slate-200 dark:border-slate-700",children:[b.jsxs("div",{className:"flex justify-between items-center mb-3",children:[b.jsx("h4",{className:"font-bold",children:"Maintenance Log"}),b.jsxs("button",{onClick:()=>r("maintenanceLog",{vehicleId:h.id}),className:"flex items-center gap-2 text-xs bg-green-600 hover:bg-green-500 text-white font-semibold px-2 py-1 rounded-md",children:[b.jsx(Di,{size:14})," Add Log Entry"]})]}),b.jsxs("table",{className:"w-full text-left text-sm",children:[b.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase",children:b.jsxs("tr",{children:[b.jsx("th",{className:"p-2",children:"Date"}),b.jsx("th",{className:"p-2",children:"Mileage"}),b.jsx("th",{className:"p-2",children:"Work Performed"}),b.jsx("th",{className:"p-2 text-right",children:"Cost"}),b.jsx("th",{className:"p-2 text-center",children:"Actions"})]})}),b.jsx("tbody",{children:e.filter(m=>m.vehicleId===h.id).sort((m,y)=>new Date(y.date)-new Date(m.date)).map(m=>b.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50",children:[b.jsx("td",{className:"p-2",children:m.date}),b.jsx("td",{className:"p-2",children:m.mileage?.toLocaleString()||"N/A"}),b.jsx("td",{className:"p-2",children:m.workPerformed}),b.jsxs("td",{className:"p-2 text-right font-mono",children:["$",m.cost.toFixed(2)]}),b.jsxs("td",{className:"p-2 text-center",children:[b.jsx("button",{onClick:()=>r("maintenanceLog",m),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:b.jsx(Jo,{size:14})}),b.jsx("button",{onClick:()=>n("maintenanceLog",m.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:b.jsx(Fi,{size:14})})]})]},m.id))})]})]})]},h.id))})]})},Pse=({inventory:t,openModal:e,handleDelete:r,handleBulkDelete:n,searchTerm:i,setSearchTerm:a,selectedIds:s,setSelectedIds:u,handleImportCSV:c,handleExportCSV:f})=>{const h=[{key:"name",header:"Item Name",render:v=>b.jsx("span",{className:"font-medium",children:v.name})},{key:"quantity",header:"Quantity on Hand",className:"text-center",render:v=>b.jsx("span",{children:v.quantity})},{key:"cost",header:"Cost per Item",className:"text-right",render:v=>b.jsxs("span",{className:"font-mono",children:["$",(v.cost||0).toFixed(2)]})}],m=G.useMemo(()=>t.filter(v=>(v.name||"").toLowerCase().includes(i.toLowerCase())),[t,i]),y=v=>{v.target.checked?u(m.map(E=>E.id)):u([])};return b.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Inventory Management"}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("input",{type:"text",placeholder:"Search Inventory...",value:i,onChange:v=>a(v.target.value),className:"w-full md:w-auto bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white"}),s.length>0&&b.jsxs("button",{onClick:()=>n("inventory",s),className:"flex items-center gap-2 text-sm bg-red-600 hover:bg-red-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[b.jsx(Fi,{size:16})," Delete (",s.length,")"]}),b.jsx("input",{type:"file",id:"csv-importer-inventory",className:"hidden",accept:".csv",onChange:v=>c(v.target.files[0],"inventory")}),b.jsxs("label",{htmlFor:"csv-importer-inventory",className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[b.jsx(Xg,{size:16})," Import CSV"]}),b.jsxs("button",{onClick:()=>f(t,"inventory"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[b.jsx(hd,{size:16})," Export to CSV"]}),b.jsxs("button",{onClick:()=>e("inventory"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[b.jsx(Di,{size:16})," Add New"]})]})]}),b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"w-full text-left",children:[b.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:b.jsxs("tr",{children:[b.jsx("th",{className:"p-3",children:b.jsx("input",{type:"checkbox",onChange:y})}),h.map(v=>b.jsx("th",{className:`p-3 ${v.className||""}`,children:v.header},v.key)),b.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),b.jsx("tbody",{className:"text-sm",children:m.map(v=>b.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 text-slate-700 dark:text-slate-200",children:[b.jsx("td",{className:"p-3",children:b.jsx("input",{type:"checkbox",checked:s.includes(v.id),onChange:()=>{u(E=>E.includes(v.id)?E.filter(w=>w!==v.id):[...E,v.id])}})}),h.map(E=>b.jsx("td",{className:`p-3 ${E.className||""}`,children:E.render(v)},E.key)),b.jsxs("td",{className:"p-3 text-center",children:[b.jsx("button",{onClick:()=>e("inventory",v),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:b.jsx(Jo,{size:16})}),b.jsx("button",{onClick:()=>r("inventory",v.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:b.jsx(Fi,{size:16})})]})]},v.id))})]})})]})},kse=({clients:t,jobs:e,bills:r,inventory:n})=>{const i=G.useMemo(()=>t.map(u=>{const c=e.filter(m=>m.clientId===u.id),f=c.reduce((m,y)=>m+(y.revenue||0),0),h=c.reduce((m,y)=>m+(y.materialCost||0)+(y.laborCost||0),0);return{name:u.name,netProfit:f-h}}).sort((u,c)=>c.netProfit-u.netProfit),[t,e]),a=G.useMemo(()=>{const u={},c=new Date;return c.setMonth(c.getMonth()-12),e.forEach(f=>{if(f.date&&new Date(f.date)>c){const h=new Date(f.date).toISOString().slice(0,7);u[h]||(u[h]={revenue:0,expenses:0}),u[h].revenue+=f.revenue||0}}),r.forEach(f=>{const h=f.createdAt?.toDate?f.createdAt.toDate():new Date;if(h>c){const m=h.toISOString().slice(0,7);u[m]||(u[m]={revenue:0,expenses:0}),u[m].expenses+=f.amount||0}}),Object.keys(u).map(f=>({month:f,Revenue:u[f].revenue,Expenses:u[f].expenses})).sort((f,h)=>f.month.localeCompare(h.month))},[e,r]),s=G.useMemo(()=>n.map(u=>({name:u.name,totalValue:(u.quantity||0)*(u.cost||0)})).sort((u,c)=>c.totalValue-u.totalValue),[n]);return b.jsxs("div",{className:"space-y-8",children:[b.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[b.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Revenue vs. Expenses Trend (Last 12 Months)"}),b.jsx(Eg,{width:"100%",height:300,children:b.jsxs(OF,{data:a,children:[b.jsx(Gg,{strokeDasharray:"3 3"}),b.jsx(pl,{dataKey:"month",stroke:"#64748b"}),b.jsx(ml,{stroke:"#64748b",tickFormatter:u=>`$${u/1e3}k`}),b.jsx(Bn,{contentStyle:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0"},formatter:u=>`$${u.toLocaleString()}`}),b.jsx(Ha,{}),b.jsx(ha,{dataKey:"Revenue",fill:"#22c55e"}),b.jsx(ha,{dataKey:"Expenses",fill:"#ef4444"})]})})]}),b.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[b.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Client Profitability"}),b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"w-full text-left",children:[b.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:b.jsxs("tr",{children:[b.jsx("th",{className:"p-3",children:"Client"}),b.jsx("th",{className:"p-3 text-right",children:"Net Profit"})]})}),b.jsx("tbody",{children:i.map(u=>b.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50",children:[b.jsx("td",{className:"p-3 font-medium",children:u.name}),b.jsxs("td",{className:`p-3 text-right font-mono ${u.netProfit>=0?"text-green-600 dark:text-green-400":"text-red-500"}`,children:["$",u.netProfit.toFixed(2)]})]},u.name))})]})})]}),b.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[b.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Inventory Value"}),b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"w-full text-left",children:[b.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:b.jsxs("tr",{children:[b.jsx("th",{className:"p-3",children:"Item"}),b.jsx("th",{className:"p-3 text-center",children:"Quantity"}),b.jsx("th",{className:"p-3 text-right",children:"Total Value"})]})}),b.jsx("tbody",{children:s.map(u=>b.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50",children:[b.jsx("td",{className:"p-3 font-medium",children:u.name}),b.jsx("td",{className:"p-3 text-center",children:n.find(c=>c.name===u.name)?.quantity}),b.jsxs("td",{className:"p-3 text-right font-mono",children:["$",u.totalValue.toFixed(2)]})]},u.name))})]})})]})]})},Ise={apiKey:"AIzaSyAlev0GFpv3rzRYCJaMALOqlPwaowNfynI",authDomain:"hvac-finance-dashboard.firebaseapp.com",projectId:"hvac-finance-dashboard",storageBucket:"hvac-finance-dashboard.firebasestorage.app",messagingSenderId:"917610618621",appId:"1:917610618621:web:83c621d154c5f62c9be894"},Ci="hvac-finance-dashboard",FS=F2(Ise),k2=wM(FS),_t=w9(FS),Ose=Qz(FS),Cse=[{name:"Adobe",amount:21.19,dueDay:1,isAutoPay:!0,category:"Software",notes:"",attachmentURL:null,isRecurring:!0},{name:"Rent",amount:1600,dueDay:1,isAutoPay:!1,category:"Overhead",notes:"Landlord: John Smith",attachmentURL:null,isRecurring:!0},{name:"GM Financial Black Truck",amount:1307.2,dueDay:6,isAutoPay:!1,category:"Vehicle",notes:"",vehicleId:"1"}],Rse=[{name:"Ondeck Credit",totalAmount:7500,paidAmount:0,interestRate:12.5,notes:""},{name:"Chase Card",totalAmount:33795.27,paidAmount:2200,interestRate:21.99,notes:""}],Nse=[{name:"NEST Early Pay",amount:15e3,type:"monthly",notes:"",isRecurring:!0},{name:"Job Revenue",amount:5e3,type:"monthly",notes:"",isRecurring:!1}],jse=[{name:"Projected Payroll",amount:1800,notes:""},{name:"Fuel & Maintenance",amount:450,notes:""}],Mse=[{name:"Johnson Residence A/C Install",revenue:8500,materialCost:3200,laborCost:1500,notes:"Trane XV20i unit.",date:new Date().toISOString(),clientId:"1"},{name:"Downtown Restaurant PM",revenue:1200,materialCost:150,laborCost:400,notes:"Quarterly maintenance contract.",date:new Date().toISOString(),clientId:"2"}],Dse=[{title:"Follow up with Johnson about quote",date:new Date().toISOString().split("T")[0],notes:"Sent quote last week",isComplete:!1},{title:"Order filters for Downtown Restaurant",date:new Date().toISOString().split("T")[0],notes:"Need 10x 20x25x1 filters",isComplete:!0}],Lse=[{billTo:"Badawi",customer:"Southern Algeria #00547",jobNo:"1548875887",completedOn:"6/14/2024",invNum:"",terms:"Net 45",net:1291,dueDate:"6/14/2024",status:"",grandTotal:1291}],$se=[{date:new Date().toISOString().split("T")[0],amount:500,notes:"Q2 Estimated Payment"}],Fse=[{name:"Pay off Chase Card",type:"debt",targetId:"Chase Card",targetValue:0,deadline:"2025-12-31"},{name:"Achieve $50k Job Revenue",type:"revenue",targetValue:5e4,deadline:"2025-12-31"}],Vse=[{id:"1",name:"John Johnson",address:"123 Main St, Anytown, USA",phone:"555-1234",email:"john@example.com"},{id:"3",name:"Restaurant Group Inc.",address:"789 Corp Blvd, Big City, USA",phone:"555-9999",email:"accounts@restaurantgroup.com"},{id:"2",name:"Downtown Restaurant",address:"456 Oak Ave, Anytown, USA",phone:"555-5678",email:"contact@downtownrestaurant.com",parentId:"3"}],Use=[{name:"Standard 1-inch Filter",quantity:50,cost:5.5},{name:"Capacitor 45/5 MFD",quantity:15,cost:25}],Bse=[{id:"7",name:"Jason's Truck",make:"FORD",model:"TRANSIT T250",year:"2020",vin:"1FTBR1C84LKA59065",licensePlate:"DD16326",currentMileage:104071},{id:"8",name:"Red Van",make:"FORD",model:"TRANSIT T250",year:"2020",vin:"1FTBR1C85LKA70866",licensePlate:"DD16337",currentMileage:107046},{id:"11",name:"GMC Sierra",make:"GMC",model:"SIERRA",year:"2022",vin:"3GTPUJEK7NG635190",licensePlate:"DF94421",currentMileage:18811}],qse=[{vehicleId:"7",date:"2023-08-11",mileage:75018,workPerformed:"LICENSE TABS",cost:183,notes:""},{vehicleId:"7",date:"2024-06-06",mileage:76504,workPerformed:"oil change",cost:55,notes:""},{vehicleId:"7",date:"2024-09-24",mileage:89627,workPerformed:"oil change, air filter oil cleaner",cost:146.09,notes:""},{vehicleId:"7",date:"2024-11-08",mileage:null,workPerformed:"Replaced front and rear rotors and pads",cost:500,notes:""},{vehicleId:"7",date:"2024-12-12",mileage:99399,workPerformed:"Replaced tires and oil change",cost:958,notes:""},{vehicleId:"8",date:"2023-08-11",mileage:84948,workPerformed:"LICENSE TABS",cost:183,notes:""},{vehicleId:"8",date:"2023-09-25",mileage:87270,workPerformed:"oil change",cost:40,notes:"oil filter pf63 6 quarts 5w20"},{vehicleId:"8",date:"2024-06-06",mileage:98e3,workPerformed:"oil change",cost:55,notes:""},{vehicleId:"8",date:"2024-11-01",mileage:null,workPerformed:"Replace Rear rotor and pads",cost:241,notes:""},{vehicleId:"11",date:"2023-08-11",mileage:9435,workPerformed:"LICENSE TABS",cost:302,notes:""},{vehicleId:"11",date:"2023-09-20",mileage:10008,workPerformed:"Oil Change",cost:50,notes:"PF66 oil filter 6 quarts 5w30 full synthetic"},{vehicleId:"11",date:"2025-02-11",mileage:19024,workPerformed:"Oil Change / air filter",cost:143.17,notes:"valvoline oil shop"}],zse=({data:t,onSliceClick:e})=>{const[r,n]=G.useState(0),i=G.useCallback((s,u)=>{n(u)},[n]),a=s=>{const{cx:u,cy:c,innerRadius:f,outerRadius:h,startAngle:m,endAngle:y,fill:v,payload:E}=s;return b.jsxs("g",{className:"cursor-pointer",onClick:()=>e(E.name),children:[" ",b.jsxs("text",{x:u,y:c,dy:8,textAnchor:"middle",fill:v,className:"font-bold text-lg",children:[" ",E.name," "]})," ",b.jsx(PS,{cx:u,cy:c,innerRadius:f,outerRadius:h,startAngle:m,endAngle:y,fill:v})," "]})};return b.jsxs(Eg,{width:"100%",height:300,children:[" ",b.jsxs(Noe,{children:[" ",b.jsx(Bn,{contentStyle:{backgroundColor:"#334155",border:"1px solid #475569",borderRadius:"0.5rem"},labelStyle:{color:"#cbd5e1"},itemStyle:{color:"#f1f5f9"},formatter:s=>`$${s.toFixed(2)}`})," ",b.jsxs(oo,{activeIndex:r,activeShape:a,data:t,cx:"50%",cy:"50%",innerRadius:70,outerRadius:90,fill:"#8884d8",dataKey:"value",onMouseEnter:i,onClick:s=>e(s.name),children:[" ",t.map((s,u)=>b.jsx(Sg,{fill:s.color},`cell-${u}`))," "]})," "]})," "]})},Wse=()=>{const[t,e]=G.useState(null),[r,n]=G.useState(!0),[i,a]=G.useState(!1),[s,u]=G.useState([]),[c,f]=G.useState([]),[h,m]=G.useState([]),[y,v]=G.useState([]),[E,w]=G.useState([]),[x,O]=G.useState([]),[C,R]=G.useState([]),[$,I]=G.useState([]),[j,A]=G.useState([]),[P,N]=G.useState([]),[F,D]=G.useState([]),[V,M]=G.useState([]),[Z,ee]=G.useState([]),[re,oe]=G.useState({}),[Q,ae]=G.useState(!1),[se,q]=G.useState(null),[K,fe]=G.useState("bill"),[Ee,je]=G.useState({key:"dueDay",direction:"ascending"}),[xe,$e]=G.useState("dashboard"),[Ve,pe]=G.useState(null),[Ae,ze]=G.useState(25e3),[ue,ut]=G.useState({start:new Date,end:new Date}),[He,mt]=G.useState("monthly"),[Tt,Yt]=G.useState(!0),[cr,Zr]=G.useState("dark"),[Ut,Bt]=G.useState(""),[Cr,en]=G.useState([]),[pi,Ui]=G.useState(null),Xt=G.useCallback(async()=>{const Se=await(await fetch("http://localhost:8000/api/create_link_token",{method:"POST"})).json();Ui(Se.link_token)},[]);G.useEffect(()=>{t&&Xt()},[t,Xt]);const tr=G.useCallback((ne,Se)=>{fetch("http://localhost:8000/api/exchange_public_token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({public_token:ne})})},[]),{open:mi,ready:os}=Hoe({token:pi,onSuccess:tr});G.useEffect(()=>{cr==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[cr]);const Bi=()=>{Zr(cr==="light"?"dark":"light")};G.useEffect(()=>{const ne=new Date;let Se,Ce;if(He==="monthly")Se=new Date(ne.getFullYear(),ne.getMonth(),1),Ce=new Date(ne.getFullYear(),ne.getMonth()+1,0);else if(He==="quarterly"){const be=Math.floor(ne.getMonth()/3);Se=new Date(ne.getFullYear(),be*3,1),Ce=new Date(ne.getFullYear(),be*3+3,0)}else Se=new Date(ne.getFullYear(),0,1),Ce=new Date(ne.getFullYear(),11,31);ut({start:Se,end:Ce})},[He]);const Xn=G.useMemo(()=>ue.start.getFullYear()+"-"+String(ue.start.getMonth()+1).padStart(2,"0"),[ue]);G.useEffect(()=>{const ne=TU(k2,async Se=>{if(Se){e(Se.uid);const Ce=pr(_t,"artifacts",Ci,"users",Se.uid,"bills");if((await j9(Ce)).empty){a(!0),console.log("No data found. Seeding initial data...");const we=ip(_t),Me=["artifacts",Ci,"users",Se.uid];Cse.forEach(Le=>we.set(Kt(pr(_t,...Me,"bills")),{...Le,createdAt:Ar()})),Rse.forEach(Le=>we.set(Kt(pr(_t,...Me,"debts")),{...Le,createdAt:Ar()})),Nse.forEach(Le=>we.set(Kt(pr(_t,...Me,"incomes")),{...Le,createdAt:Ar()})),jse.forEach(Le=>we.set(Kt(pr(_t,...Me,"weeklyCosts")),{...Le,createdAt:Ar()})),Mse.forEach(Le=>we.set(Kt(pr(_t,...Me,"jobs")),{...Le,createdAt:Ar()})),Dse.forEach(Le=>we.set(Kt(pr(_t,...Me,"tasks")),{...Le,createdAt:Ar()})),Lse.forEach(Le=>we.set(Kt(pr(_t,...Me,"invoices")),{...Le,createdAt:Ar()})),$se.forEach(Le=>we.set(Kt(pr(_t,...Me,"taxPayments")),{...Le,createdAt:Ar()})),Fse.forEach(Le=>we.set(Kt(pr(_t,...Me,"goals")),{...Le,createdAt:Ar()})),Vse.forEach(Le=>we.set(Kt(pr(_t,...Me,"clients")),{...Le,createdAt:Ar()})),Use.forEach(Le=>we.set(Kt(pr(_t,...Me,"inventory")),{...Le,createdAt:Ar()})),Bse.forEach(Le=>we.set(Kt(pr(_t,...Me,"vehicles")),{...Le,createdAt:Ar()})),qse.forEach(Le=>we.set(Kt(pr(_t,...Me,"maintenanceLogs")),{...Le,createdAt:Ar()}));const tt=new Date().getFullYear()+"-"+String(new Date().getMonth()+1).padStart(2,"0");we.set(Kt(_t,...Me,"paidStatus",tt),{status:{}}),await we.commit(),a(!1)}}else e(null);n(!1)});return()=>ne()},[]),G.useEffect(()=>{if(!t)return;const Se=Object.entries({bills:u,debts:f,incomes:m,weeklyCosts:v,jobs:w,tasks:O,invoices:R,taxPayments:I,goals:A,clients:N,inventory:D,vehicles:M,maintenanceLogs:ee}).map(([be,we])=>yk(C9(pr(_t,"artifacts",Ci,"users",t,be)),Me=>{we(Me.docs.map(tt=>({id:tt.id,...tt.data()})))},Me=>console.error(`Error fetching ${be}:`,Me))),Ce=yk(Kt(_t,"artifacts",Ci,"users",t,"paidStatus",Xn),be=>{oe(be.exists()?be.data().status:{})},be=>console.error("Error fetching paid status:",be));return()=>{Se.forEach(be=>be()),Ce()}},[t,Xn]);const dn=G.useMemo(()=>E.filter(ne=>{if(!ne.date)return!1;const Se=new Date(ne.date);return Se>=ue.start&&Se<=ue.end}),[E,ue]),so=G.useMemo(()=>s.filter(ne=>!Ve||ne.category===Ve),[s,Ve]),gi=G.useMemo(()=>{const ne=h.reduce((Le,Et)=>Le+(Et.amount||0),0),Se=s.reduce((Le,Et)=>Le+(Et.amount||0),0),Ce=y.reduce((Le,Et)=>Le+(Et.amount||0),0)*4.33,be=Se+Ce,we=ne-be,Me=c.reduce((Le,Et)=>Le+((Et.totalAmount||0)-(Et.paidAmount||0)),0),tt=s.filter(Le=>re[Le.id]).reduce((Le,Et)=>Le+Et.amount,0);return{totalIncome:ne,totalOutflow:be,netCashFlow:we,paidThisMonth:tt,totalDebt:Me,totalMonthlyBills:Se,projectedMonthlyWeekly:Ce}},[s,c,h,y,re]),Lt=G.useMemo(()=>{const ne=dn.reduce((Et,zt)=>Et+(zt.revenue||0),0),Se=dn.reduce((Et,zt)=>Et+(zt.materialCost||0)+(zt.laborCost||0),0),Ce=ne-Se,be=s.reduce((Et,zt)=>Et+zt.amount,0)+y.reduce((Et,zt)=>Et+zt.amount,0)*4.33,we=Ce-be,tt=we>0?we*.06:0,Le=we-tt;return{revenue:ne,cogs:Se,grossProfit:Ce,operatingExpenses:be,netProfit:we,estimatedTax:tt,netProfitAfterTax:Le}},[dn,s,y]),ss=G.useMemo(()=>{const ne=h.filter(Me=>Me.isRecurring).reduce((Me,tt)=>Me+tt.amount,0),Se=s.filter(Me=>Me.isRecurring).reduce((Me,tt)=>Me+tt.amount,0),Ce=y.reduce((Me,tt)=>Me+tt.amount,0),be=ne-Se-Ce*4.33;return[{month:"Current",balance:Ae},{month:"+1 Month",balance:Ae+be},{month:"+3 Months",balance:Ae+be*3},{month:"+6 Months",balance:Ae+be*6}]},[h,s,y,Ae]),ya=G.useMemo(()=>j.map(ne=>{let Se=0;if(ne.type==="debt"){const Ce=c.find(be=>be.id===ne.targetId);Ce&&(Se=Ce.paidAmount/Ce.totalAmount*100)}else ne.type==="revenue"&&(Se=E.reduce((be,we)=>be+(we.revenue||0),0)/ne.targetValue*100);return{...ne,progress:Math.min(Se,100)}}),[j,c,E]),va=G.useMemo(()=>{const ne=s.reduce((Ce,be)=>{const we=be.category||"Uncategorized";return Ce[we]=(Ce[we]||0)+be.amount,Ce},{}),Se=["#0088FE","#00C49F","#FFBB28","#FF8042","#AF19FF","#FF1943","#19D4FF"];return Object.entries(ne).map(([Ce,be],we)=>({name:Ce,value:be,color:Se[we%Se.length]})).sort((Ce,be)=>be.value-Ce.value)},[s]),Tn=G.useMemo(()=>{let Se={bills:so,debts:c,incomes:h,weeklyCosts:y,jobs:E,goals:ya,clients:P,inventory:F,vehicles:V,invoices:C}[xe==="dashboard"?"bills":xe]||[];return Ut&&(Se=Se.filter(Ce=>Object.values(Ce).some(be=>be&&String(be).toLowerCase().includes(Ut.toLowerCase())))),[...Se].sort((Ce,be)=>Ee.key?Ce[Ee.key]<be[Ee.key]?Ee.direction==="ascending"?-1:1:Ce[Ee.key]>be[Ee.key]?Ee.direction==="ascending"?1:-1:0:0)},[so,c,h,y,E,ya,P,F,V,C,Ee,xe,Ut]),ba=G.useMemo(()=>{const ne=c.map(be=>({...be,remaining:be.totalAmount-be.paidAmount})).filter(be=>be.remaining>0),Se=[...ne].sort((be,we)=>we.interestRate-be.interestRate),Ce=[...ne].sort((be,we)=>be.remaining-we.remaining);return{avalanche:Se,snowball:Ce}},[c]),Ur=ne=>je(Se=>({key:ne,direction:Se.key===ne&&Se.direction==="ascending"?"descending":"ascending"})),Qn=async ne=>{t&&await M9(Kt(_t,"artifacts",Ci,"users",t,"paidStatus",Xn),{status:{...re,[ne]:!re[ne]}},{merge:!0})},xr=(ne,Se=null)=>{fe(ne),q(Se),ae(!0)},Jn=async(ne,Se)=>{if(!t)return;const be={bill:"bills",debt:"debts",income:"incomes",weekly:"weeklyCosts",job:"jobs",task:"tasks",invoice:"invoices",taxPayment:"taxPayments",goal:"goals",client:"clients",inventory:"inventory",vehicle:"vehicles",maintenanceLog:"maintenanceLogs"}[K],we=["artifacts",Ci,"users",t,be],Me={...ne,modifiedAt:Ar()};if(Se){console.log("Uploading file:",Se.name);const tt=Xz(Ose,`receipts/${t}/${Date.now()}-${Se.name}`);try{await Gz(tt,Se),Me.attachmentURL=await Yz(tt)}catch(Le){console.error("File upload failed:",Le),alert("File upload failed. Please try again.");return}}se?.id?await D9(Kt(_t,...we,se.id),Me):await $9(pr(_t,...we),{...Me,createdAt:Ar()}),ae(!1),q(null)},An=async(ne,Se)=>{if(!t||!window.confirm("Delete this item?"))return;const be={bill:"bills",debt:"debts",income:"incomes",weekly:"weeklyCosts",job:"jobs",task:"tasks",invoice:"invoices",taxPayment:"taxPayments",goal:"goals",client:"clients",inventory:"inventory",vehicle:"vehicles",maintenanceLog:"maintenanceLogs"}[ne];await L9(Kt(_t,"artifacts",Ci,"users",t,be,Se))},Pn=(ne,Se)=>{if(!ne.length)return;const Ce=Object.keys(ne[0]),be=ne.map(Le=>Ce.map(Et=>{const zt=Le[Et];return typeof zt=="string"&&zt.includes(",")?`"${zt}"`:zt}).join(",")),we="data:text/csv;charset=utf-8,"+[Ce.join(","),...be].join(`
`),Me=encodeURI(we),tt=document.createElement("a");tt.setAttribute("href",Me),tt.setAttribute("download",`hvac_${Se}_${Xn}.csv`),document.body.appendChild(tt),tt.click(),document.body.removeChild(tt)},qi=(ne,Se)=>{if(!ne||!t)return;const Ce=new FileReader;Ce.onload=async be=>{const Me=be.target.result.split(`
`).filter(nt=>nt),tt=Me[0].split(",").map(nt=>nt.trim()),Le=Me.slice(1).map(nt=>{const uo=nt.split(",").map(hn=>hn.trim());return tt.reduce((hn,On,Br)=>{const Cn=uo[Br];return hn[On]=isNaN(Cn)||Cn===""?Cn:parseFloat(Cn),hn},{})}),zt={client:"clients",job:"jobs",inventory:"inventory",invoice:"invoices"}[Se];if(!zt){alert("Invalid import type.");return}const us=ip(_t),sc=pr(_t,"artifacts",Ci,"users",t,zt);Le.forEach(nt=>{const uo=Kt(sc),hn=Object.entries(nt).reduce((On,[Br,Cn])=>(On[Br]=Cn===void 0?null:Cn,On),{});us.set(uo,{...hn,createdAt:Ar()})});try{await us.commit(),alert(`Successfully imported ${Le.length} ${zt}!`)}catch(nt){console.error("Error importing CSV:",nt),alert("Failed to import CSV. Please check the console for errors.")}},Ce.readAsText(ne)},yi=async()=>{if(!t||!window.confirm("This will generate recurring transactions for next month. Continue?"))return;const ne=new Date(ue.start);ne.setMonth(ne.getMonth()+1);const Se=ne.getFullYear()+"-"+String(new Date().getMonth()+1).padStart(2,"0"),Ce=s.filter(Me=>Me.isRecurring),be=h.filter(Me=>Me.isRecurring),we=ip(_t);Ce.forEach(Me=>{const tt={...Me,createdAt:Ar(),notes:`Generated for ${Se}`};delete tt.id;const Le=Kt(pr(_t,"artifacts",Ci,"users",t,"bills"));we.set(Le,tt)}),be.forEach(Me=>{const tt={...Me,createdAt:Ar(),notes:`Generated for ${Se}`};delete tt.id;const Le=Kt(pr(_t,"artifacts",Ci,"users",t,"incomes"));we.set(Le,tt)});try{await we.commit(),alert(`Generated ${Ce.length} bills and ${be.length} incomes for next month.`)}catch(Me){console.error("Error generating recurring transactions:",Me),alert("Failed to generate recurring transactions.")}},_a=async(ne,Se)=>{if(!t||!Se.length||!window.confirm(`Delete ${Se.length} selected items?`))return;const be={inventory:"inventory",invoice:"invoices",client:"clients"}[ne];if(!be){alert("Invalid bulk delete type.");return}const we=ip(_t);Se.forEach(Me=>{const tt=Kt(_t,"artifacts",Ci,"users",t,be,Me);we.delete(tt)}),await we.commit(),en([])};if(r)return b.jsx("div",{className:"bg-slate-900 text-white min-h-screen flex items-center justify-center",children:b.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-cyan-500"})});if(!t)return b.jsx(yse,{setUserId:e});const qt=()=>b.jsxs(b.Fragment,{children:[Tt&&b.jsx(AlertsPanel,{bills:s,paidStatus:re,onClose:()=>Yt(!1)}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[b.jsx(Zi,{title:"Total Monthly Income",value:`$${gi.totalIncome.toLocaleString()}`,icon:b.jsx(Qoe,{size:24}),color:"green"}),b.jsx(Zi,{title:"Total Monthly Outflow",value:`$${gi.totalOutflow.toLocaleString()}`,icon:b.jsx(Xoe,{size:24}),color:"red"}),b.jsx(Zi,{title:"Projected Net",value:`$${gi.netCashFlow.toLocaleString()}`,icon:b.jsx(xf,{size:24}),color:gi.netCashFlow>=0?"cyan":"amber"}),b.jsx(Zi,{title:"Outstanding Debt",value:`$${gi.totalDebt.toLocaleString()}`,icon:b.jsx(mse,{size:24}),color:"orange"})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[b.jsx(Zi,{title:"Gross Profit Margin",value:`${Lt.revenue>0?(Lt.grossProfit/Lt.revenue*100).toFixed(1):"0.0"}%`,icon:b.jsx(use,{size:24}),color:"teal",subtext:"For selected period"}),b.jsx(Zi,{title:"Avg. Job Revenue",value:`$${(Lt.revenue/(dn.length||1)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:b.jsx(pse,{size:24}),color:"indigo",subtext:`${dn.length} jobs`}),b.jsx(Zi,{title:"Avg. Job Profit",value:`$${(Lt.grossProfit/(dn.length||1)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:b.jsx(hse,{size:24}),color:"purple",subtext:"Gross profit per job"})]}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[b.jsxs("div",{className:"lg:col-span-3 bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Monthly Bills"}),Ve&&b.jsxs("button",{onClick:()=>pe(null),className:"text-sm text-cyan-500 dark:text-cyan-400 hover:underline",children:["Clear Filter: ",Ve]}),b.jsxs("button",{onClick:()=>Pn(Tn,"bills"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[b.jsx(hd,{size:16})," Export to CSV"]})]}),b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"w-full text-left",children:[b.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:b.jsxs("tr",{children:[b.jsx("th",{className:"p-3",children:"Status"}),b.jsx("th",{className:"p-3 cursor-pointer",onClick:()=>Ur("name"),children:"Name"}),b.jsx("th",{className:"p-3",children:"Notes"}),b.jsx("th",{className:"p-3",children:"Receipt"}),b.jsx("th",{className:"p-3 cursor-pointer text-right",onClick:()=>Ur("amount"),children:"Amount"}),b.jsx("th",{className:"p-3 cursor-pointer text-center",onClick:()=>Ur("dueDay"),children:"Due Day"}),b.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),b.jsx("tbody",{children:Tn.map(ne=>b.jsxs("tr",{className:`border-b border-slate-200 dark:border-slate-700/50 ${re[ne.id]?"text-slate-400 dark:text-slate-500":"text-slate-700 dark:text-slate-200"}`,children:[b.jsx("td",{className:"p-3",children:b.jsx("button",{onClick:()=>Qn(ne.id),children:re[ne.id]?b.jsx(rse,{className:"text-green-500"}):b.jsx(nse,{className:"text-slate-400 dark:text-slate-600"})})}),b.jsx("td",{className:`p-3 font-medium ${re[ne.id]?"line-through":""}`,children:ne.name}),b.jsxs("td",{className:"p-3 text-center",children:[" ",ne.notes&&b.jsxs("div",{className:"group relative flex justify-center",children:[b.jsx(sse,{size:16,className:"text-slate-500"}),b.jsx("span",{className:"absolute top-[-30px] w-max scale-0 transition-all rounded bg-slate-700 p-2 text-xs text-white group-hover:scale-100",children:ne.notes})]})," "]}),b.jsxs("td",{className:"p-3 text-center",children:[" ",ne.attachmentURL?b.jsx("a",{href:ne.attachmentURL,target:"_blank",rel:"noopener noreferrer",children:b.jsx(P2,{size:16,className:"text-cyan-500 dark:text-cyan-400"})}):b.jsx(P2,{size:16,className:"text-slate-400 dark:text-slate-600"})," "]}),b.jsxs("td",{className:"p-3 text-right font-mono",children:["$",(ne.amount||0).toFixed(2)]}),b.jsx("td",{className:"p-3 text-center",children:ne.dueDay}),b.jsxs("td",{className:"p-3 text-center",children:[b.jsx("button",{onClick:()=>xr("bill",ne),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:b.jsx(Jo,{size:16})}),b.jsx("button",{onClick:()=>An("bill",ne.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:b.jsx(Fi,{size:16})})]})]},ne.id))})]})}),b.jsxs("button",{onClick:()=>xr("bill"),className:"mt-4 flex items-center gap-2 text-cyan-600 dark:text-cyan-400 hover:text-cyan-500 dark:hover:text-cyan-300 font-semibold",children:[b.jsx(Di,{size:18})," Add New Bill"]})]}),b.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[b.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[b.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:"Expense Breakdown"}),b.jsx(zse,{data:va,onSliceClick:pe})]}),b.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[b.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:"Automations"}),b.jsxs("button",{onClick:yi,className:"w-full flex items-center justify-center gap-2 text-sm bg-indigo-600 hover:bg-indigo-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[b.jsx(cse,{size:16})," Generate Next Month's Bills"]})]})]})]})]}),vi=(ne,Se,Ce,be)=>b.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[b.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-4 gap-4",children:[b.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:ne}),b.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[b.jsx("input",{type:"text",placeholder:"Search...",value:Ut,onChange:we=>Bt(we.target.value),className:"w-full md:w-auto bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white"}),(be==="client"||be==="job"||be==="inventory"||be==="invoice")&&b.jsxs(b.Fragment,{children:[b.jsx("input",{type:"file",id:"csv-importer",className:"hidden",accept:".csv",onChange:we=>qi(we.target.files[0],be)}),b.jsxs("label",{htmlFor:"csv-importer",className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[b.jsx(Xg,{size:16})," Import CSV"]})]}),b.jsxs("button",{onClick:()=>Pn(Se,be),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[b.jsx(hd,{size:16})," Export to CSV"]})]})]}),be==="debt"&&b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6 bg-slate-100 dark:bg-slate-800/50 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-lg text-cyan-600 dark:text-cyan-400 mb-2",children:"Avalanche Method"}),b.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mb-3",children:"Pay off debts with the highest interest rate first to save the most money over time."}),b.jsx("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:ba.avalanche.map(we=>b.jsxs("li",{children:[we.name," ",b.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:["(",we.interestRate,"%)"]})]},we.id))})]}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-lg text-green-600 dark:text-green-400 mb-2",children:"Snowball Method"}),b.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mb-3",children:"Pay off debts with the smallest balance first for quick wins and motivation."}),b.jsx("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:ba.snowball.map(we=>b.jsxs("li",{children:[we.name," ",b.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:["($",we.remaining.toFixed(2),")"]})]},we.id))})]})]}),b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"w-full text-left",children:[b.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:b.jsxs("tr",{children:[Ce.map(we=>b.jsx("th",{className:`p-3 ${we.className||""}`,children:we.header},we.key)),b.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),b.jsx("tbody",{className:"text-sm",children:Se.map(we=>b.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 text-slate-700 dark:text-slate-200",children:[Ce.map(Me=>b.jsx("td",{className:`p-3 ${Me.className||""}`,children:Me.render(we)},Me.key)),b.jsxs("td",{className:"p-3 text-center",children:[b.jsx("button",{onClick:()=>xr(be,we),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:b.jsx(Jo,{size:16})}),b.jsx("button",{onClick:()=>An(be,we.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:b.jsx(Fi,{size:16})})]})]},we.id))})]})}),b.jsxs("button",{onClick:()=>xr(be),className:"mt-4 flex items-center gap-2 text-cyan-600 dark:text-cyan-400 hover:text-cyan-500 dark:hover:text-cyan-300 font-semibold",children:[b.jsx(Di,{size:18})," Add New ",be.charAt(0).toUpperCase()+be.slice(1)]})]}),kn=()=>b.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[b.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Profit & Loss Statement"}),b.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:["For ",He==="monthly"?ue.start.toLocaleString("default",{month:"long",year:"numeric"}):`${ue.start.toLocaleDateString()} - ${ue.end.toLocaleDateString()}`]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-100 dark:bg-slate-700/50 rounded-lg",children:[b.jsx("span",{className:"font-semibold",children:"Total Revenue (from Jobs)"}),b.jsxs("span",{className:"font-mono font-bold text-green-600 dark:text-green-400",children:["$",Lt.revenue.toFixed(2)]})]}),b.jsxs("div",{className:"flex justify-between items-center p-3 pl-8",children:[b.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Cost of Goods Sold (COGS)"}),b.jsxs("span",{className:"font-mono text-orange-600 dark:text-orange-400",children:["($",Lt.cogs.toFixed(2),")"]})]}),b.jsx("hr",{className:"border-slate-200 dark:border-slate-700"}),b.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-100 dark:bg-slate-700/50 rounded-lg",children:[b.jsx("span",{className:"font-bold text-lg",children:"Gross Profit"}),b.jsxs("span",{className:"font-mono font-bold text-lg",children:["$",Lt.grossProfit.toFixed(2)]})]}),b.jsxs("div",{className:"flex justify-between items-center p-3 pl-8",children:[b.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Operating Expenses (Bills & Weekly)"}),b.jsxs("span",{className:"font-mono text-orange-600 dark:text-orange-400",children:["($",Lt.operatingExpenses.toFixed(2),")"]})]}),b.jsx("hr",{className:"border-slate-300 dark:border-slate-600 border-2"}),b.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-200 dark:bg-slate-900/50 rounded-lg",children:[b.jsx("span",{className:"font-bold text-xl",children:"Net Profit / (Loss) Before Tax"}),b.jsxs("span",{className:`font-mono font-bold text-xl ${Lt.netProfit>=0?"text-slate-800 dark:text-white":"text-red-500"}`,children:[Lt.netProfit<0&&"(","$",Math.abs(Lt.netProfit).toFixed(2),Lt.netProfit<0&&")"]})]}),b.jsxs("div",{className:"flex justify-between items-center p-3 pl-8",children:[b.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Estimated Tax Liability (6%)"}),b.jsxs("span",{className:"font-mono text-orange-600 dark:text-orange-400",children:["($",Lt.estimatedTax.toFixed(2),")"]})]}),b.jsx("hr",{className:"border-slate-300 dark:border-slate-600 border-2"}),b.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-200 dark:bg-slate-900 rounded-lg",children:[b.jsx("span",{className:"font-bold text-xl text-cyan-600 dark:text-cyan-400",children:"Net Profit / (Loss) After Tax"}),b.jsxs("span",{className:`font-mono font-bold text-xl ${Lt.netProfitAfterTax>=0?"text-cyan-600 dark:text-cyan-400":"text-red-500"}`,children:[Lt.netProfitAfterTax<0&&"(","$",Math.abs(Lt.netProfitAfterTax).toFixed(2),Lt.netProfitAfterTax<0&&")"]})]})]})]}),xa=()=>b.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Financial Goals"}),b.jsxs("button",{onClick:()=>xr("goal"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[b.jsx(Di,{size:16})," Add New Goal"]})]}),b.jsx("div",{className:"space-y-6",children:ya.map(ne=>b.jsxs("div",{children:[b.jsxs("div",{className:"flex justify-between items-end mb-1",children:[b.jsx("span",{className:"font-semibold",children:ne.name}),b.jsxs("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:[ne.progress.toFixed(1),"%"]})]}),b.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-4",children:b.jsx("div",{className:"bg-green-500 h-4 rounded-full",style:{width:`${ne.progress}%`}})}),b.jsxs("div",{className:"flex justify-between items-end mt-1 text-xs text-slate-500 dark:text-slate-500",children:[b.jsxs("span",{children:["Target: ",ne.type==="debt"?"Pay Off":`$${ne.targetValue.toLocaleString()}`]}),b.jsxs("span",{children:["Deadline: ",ne.deadline]})]})]},ne.id))})]}),wa=()=>b.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[b.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:"Cash Flow Forecast"}),b.jsxs("div",{className:"mb-6",children:[b.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-2",children:"Enter Current Bank Balance ($)"}),b.jsx("input",{type:"number",value:Ae,onChange:ne=>ze(parseFloat(ne.target.value)||0),className:"w-full max-w-xs bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),b.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-4",children:"This forecast projects your balance based on recurring income and expenses."}),b.jsx(Eg,{width:"100%",height:300,children:b.jsxs(Roe,{data:ss,children:[b.jsx(Gg,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),b.jsx(pl,{dataKey:"month",stroke:"#64748b"}),b.jsx(ml,{stroke:"#64748b",tickFormatter:ne=>`$${ne/1e3}k`}),b.jsx(Bn,{contentStyle:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0"}}),b.jsx(Ha,{}),b.jsx(Vd,{type:"monotone",dataKey:"balance",stroke:"#0891b2",strokeWidth:2,activeDot:{r:8}})]})})]}),lo=[{key:"name",header:"Name",render:ne=>b.jsx("span",{className:"font-medium",children:ne.name})},{key:"interestRate",header:"Interest Rate",className:"text-center",render:ne=>b.jsxs("span",{className:"font-mono",children:[ne.interestRate||0,"%"]})},{key:"total",header:"Total Amount",className:"text-right",render:ne=>b.jsxs("span",{className:"font-mono",children:["$",(ne.totalAmount||0).toFixed(2)]})},{key:"paid",header:"Paid Amount",className:"text-right",render:ne=>b.jsxs("span",{className:"font-mono",children:["$",(ne.paidAmount||0).toFixed(2)]})},{key:"remaining",header:"Remaining",className:"text-right font-bold",render:ne=>b.jsxs("span",{className:"font-mono text-orange-600 dark:text-orange-400",children:["$",((ne.totalAmount||0)-(ne.paidAmount||0)).toFixed(2)]})},{key:"progress",header:"Progress",render:ne=>{const Se=ne.totalAmount>0?ne.paidAmount/ne.totalAmount*100:0;return b.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2.5",children:b.jsx("div",{className:"bg-green-500 h-2.5 rounded-full",style:{width:`${Se}%`}})})}}],In=[{key:"name",header:"Source",render:ne=>b.jsx("span",{className:"font-medium",children:ne.name})},{key:"amount",header:"Amount",className:"text-right",render:ne=>b.jsxs("span",{className:"font-mono font-bold text-green-600 dark:text-green-400",children:["$",(ne.amount||0).toFixed(2)]})},{key:"type",header:"Type",render:ne=>b.jsx("span",{className:"capitalize bg-slate-200 dark:bg-slate-700 text-slate-600 dark:text-slate-300 text-xs font-medium px-2 py-1 rounded-full",children:ne.type})}],ls=[{key:"name",header:"Item",render:ne=>b.jsx("span",{className:"font-medium",children:ne.name})},{key:"amount",header:"Weekly Amount",className:"text-right",render:ne=>b.jsxs("span",{className:"font-mono font-bold text-red-600 dark:text-red-400",children:["$",(ne.amount||0).toFixed(2)]})}],oc=[{key:"name",header:"Job/Client",render:ne=>b.jsx("span",{className:"font-medium",children:ne.name})},{key:"client",header:"Client",render:ne=>b.jsx("span",{children:P.find(Se=>Se.id===ne.clientId)?.name||"N/A"})},{key:"revenue",header:"Revenue",className:"text-right",render:ne=>b.jsxs("span",{className:"font-mono text-green-600 dark:text-green-400",children:["$",(ne.revenue||0).toFixed(2)]})},{key:"materialCost",header:"Material Cost",className:"text-right",render:ne=>b.jsxs("span",{className:"font-mono text-orange-600 dark:text-orange-400",children:["$",(ne.materialCost||0).toFixed(2)]})},{key:"laborCost",header:"Labor Cost",className:"text-right",render:ne=>b.jsxs("span",{className:"font-mono text-orange-600 dark:text-orange-400",children:["$",(ne.laborCost||0).toFixed(2)]})},{key:"netProfit",header:"Net Profit",className:"text-right font-bold",render:ne=>b.jsxs("span",{className:"font-mono text-cyan-600 dark:text-cyan-400",children:["$",((ne.revenue||0)-(ne.materialCost||0)-(ne.laborCost||0)).toFixed(2)]})}];return b.jsxs("div",{className:`${cr} bg-slate-100 dark:bg-slate-900 text-slate-800 dark:text-white min-h-screen font-sans`,children:[b.jsxs("div",{className:"max-w-7xl mx-auto p-4 sm:p-6 lg:p-8",children:[b.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-center mb-6",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-3xl font-bold",children:"HVAC Financial Dashboard"}),b.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Monthly Money Management"})]}),b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("button",{onClick:Bi,className:"p-2 rounded-full bg-slate-200 dark:bg-slate-800 border border-slate-300 dark:border-slate-700",children:cr==="light"?b.jsx(lse,{size:20}):b.jsx(dse,{size:20})}),b.jsxs("button",{onClick:()=>mi(),disabled:!os,className:"flex items-center gap-2 text-sm bg-purple-600 hover:bg-purple-500 text-white font-semibold px-3 py-2 rounded-md transition-colors disabled:opacity-50",children:[b.jsx(ase,{size:16})," Link Bank Account"]}),b.jsxs("div",{className:"flex items-center gap-4 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 p-2 rounded-lg",children:[b.jsx("span",{className:"text-sm font-semibold",children:"Reporting Period:"}),b.jsxs("div",{className:"flex items-center gap-1 bg-slate-100 dark:bg-slate-700 rounded-md p-1",children:[b.jsx("button",{onClick:()=>mt("monthly"),className:`px-2 py-1 text-xs rounded ${He==="monthly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Monthly"}),b.jsx("button",{onClick:()=>mt("quarterly"),className:`px-2 py-1 text-xs rounded ${He==="quarterly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Quarterly"}),b.jsx("button",{onClick:()=>mt("yearly"),className:`px-2 py-1 text-xs rounded ${He==="yearly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Yearly"})]})]}),b.jsxs("button",{onClick:()=>AU(k2),className:"flex items-center gap-2 text-sm bg-slate-600 hover:bg-slate-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[b.jsx(ose,{size:16})," Logout"]})]})]}),b.jsxs("nav",{className:"flex items-center border-b border-slate-200 dark:border-slate-700 mb-6 overflow-x-auto",children:[b.jsx("button",{onClick:()=>$e("dashboard"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${xe==="dashboard"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Dashboard"}),b.jsx("button",{onClick:()=>$e("reports"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${xe==="reports"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Reports"}),b.jsx("button",{onClick:()=>$e("calendar"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${xe==="calendar"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Calendar"}),b.jsx("button",{onClick:()=>$e("invoices"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${xe==="invoices"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Invoices"}),b.jsx("button",{onClick:()=>$e("tax"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${xe==="tax"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Tax Management"}),b.jsx("button",{onClick:()=>$e("pnl"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${xe==="pnl"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"P&L Statement"}),b.jsx("button",{onClick:()=>$e("forecast"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${xe==="forecast"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Forecast"}),b.jsx("button",{onClick:()=>$e("goals"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${xe==="goals"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Goals"}),b.jsx("button",{onClick:()=>$e("clients"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${xe==="clients"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Clients"}),b.jsx("button",{onClick:()=>$e("jobs"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${xe==="jobs"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Jobs"}),b.jsx("button",{onClick:()=>$e("vehicles"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${xe==="vehicles"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Vehicles"}),b.jsx("button",{onClick:()=>$e("inventory"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${xe==="inventory"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Inventory"}),b.jsx("button",{onClick:()=>$e("debts"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${xe==="debts"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Debt Management"}),b.jsx("button",{onClick:()=>$e("incomes"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${xe==="incomes"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Income Sources"}),b.jsx("button",{onClick:()=>$e("weeklyCosts"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${xe==="weeklyCosts"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Weekly Costs"})]}),b.jsxs("main",{children:[xe==="dashboard"&&qt(),xe==="reports"&&b.jsx(kse,{clients:P,jobs:E,bills:s,inventory:F}),xe==="calendar"&&b.jsx(_se,{jobs:E,tasks:x,openModal:xr}),xe==="invoices"&&b.jsx(Sse,{invoices:C,openModal:xr,handleDelete:An,handleBulkDelete:_a,selectedIds:Cr,setSelectedIds:en,searchTerm:Ut,setSearchTerm:Bt,handleImportCSV:qi,handleExportCSV:Pn}),xe==="tax"&&b.jsx(bse,{jobs:E,bills:s,weeklyCosts:y,taxPayments:$,openModal:xr,handleDelete:An}),xe==="pnl"&&kn(),xe==="forecast"&&wa(),xe==="goals"&&xa(),xe==="clients"&&b.jsx(Tse,{clients:P,openModal:xr,handleDelete:An,handleBulkDelete:_a,selectedIds:Cr,setSelectedIds:en,searchTerm:Ut,setSearchTerm:Bt,handleImportCSV:qi,handleExportCSV:Pn}),xe==="jobs"&&vi("Job Profitability",Tn,oc,"job"),xe==="vehicles"&&b.jsx(Ase,{vehicles:V,maintenanceLogs:Z,openModal:xr,handleDelete:An,searchTerm:Ut,setSearchTerm:Bt}),xe==="inventory"&&b.jsx(Pse,{inventory:F,openModal:xr,handleDelete:An,handleBulkDelete:_a,selectedIds:Cr,setSelectedIds:en,searchTerm:Ut,setSearchTerm:Bt,handleImportCSV:qi,handleExportCSV:Pn}),xe==="debts"&&vi("Debt Management",Tn,lo,"debt"),xe==="incomes"&&vi("Income Sources",Tn,In,"income"),xe==="weeklyCosts"&&vi("Recurring Weekly Costs",Tn,ls,"weekly")]}),b.jsx("footer",{className:"text-center mt-8 py-4 border-t border-slate-200 dark:border-slate-700",children:b.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Powered by ",b.jsx("a",{href:"https://service.money/",target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-cyan-600 dark:text-cyan-400 hover:underline",children:"Service Coin"})]})})]}),Q&&b.jsx(Ese,{item:se,type:K,onSave:Jn,onClose:()=>ae(!1),debts:c,clients:P,vehicles:V})]})};HV.createRoot(document.getElementById("root")).render(b.jsx(z.StrictMode,{children:b.jsx(Wse,{})}));
