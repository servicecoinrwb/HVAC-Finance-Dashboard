(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var kh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var tv={exports:{}},Ec={},rv={exports:{}},Ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EA;function Q3(){if(EA)return Ze;EA=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.iterator;function v(q){return q===null||typeof q!="object"?null:(q=g&&q[g]||q["@@iterator"],typeof q=="function"?q:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,w={};function b(q,G,ue){this.props=q,this.context=G,this.refs=w,this.updater=ue||_}b.prototype.isReactComponent={},b.prototype.setState=function(q,G){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,G,"setState")},b.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function P(){}P.prototype=b.prototype;function j(q,G,ue){this.props=q,this.context=G,this.refs=w,this.updater=ue||_}var R=j.prototype=new P;R.constructor=j,E(R,b.prototype),R.isPureReactComponent=!0;var V=Array.isArray,O=Object.prototype.hasOwnProperty,N={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function k(q,G,ue){var xe,Pe={},De=null,Ke=null;if(G!=null)for(xe in G.ref!==void 0&&(Ke=G.ref),G.key!==void 0&&(De=""+G.key),G)O.call(G,xe)&&!A.hasOwnProperty(xe)&&(Pe[xe]=G[xe]);var je=arguments.length-2;if(je===1)Pe.children=ue;else if(1<je){for(var de=Array(je),Se=0;Se<je;Se++)de[Se]=arguments[Se+2];Pe.children=de}if(q&&q.defaultProps)for(xe in je=q.defaultProps,je)Pe[xe]===void 0&&(Pe[xe]=je[xe]);return{$$typeof:t,type:q,key:De,ref:Ke,props:Pe,_owner:N.current}}function D(q,G){return{$$typeof:t,type:q.type,key:G,ref:q.ref,props:q.props,_owner:q._owner}}function I(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function M(q){var G={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(ue){return G[ue]})}var F=/\/+/g;function L(q,G){return typeof q=="object"&&q!==null&&q.key!=null?M(""+q.key):G.toString(36)}function te(q,G,ue,xe,Pe){var De=typeof q;(De==="undefined"||De==="boolean")&&(q=null);var Ke=!1;if(q===null)Ke=!0;else switch(De){case"string":case"number":Ke=!0;break;case"object":switch(q.$$typeof){case t:case e:Ke=!0}}if(Ke)return Ke=q,Pe=Pe(Ke),q=xe===""?"."+L(Ke,0):xe,V(Pe)?(ue="",q!=null&&(ue=q.replace(F,"$&/")+"/"),te(Pe,G,ue,"",function(Se){return Se})):Pe!=null&&(I(Pe)&&(Pe=D(Pe,ue+(!Pe.key||Ke&&Ke.key===Pe.key?"":(""+Pe.key).replace(F,"$&/")+"/")+q)),G.push(Pe)),1;if(Ke=0,xe=xe===""?".":xe+":",V(q))for(var je=0;je<q.length;je++){De=q[je];var de=xe+L(De,je);Ke+=te(De,G,ue,de,Pe)}else if(de=v(q),typeof de=="function")for(q=de.call(q),je=0;!(De=q.next()).done;)De=De.value,de=xe+L(De,je++),Ke+=te(De,G,ue,de,Pe);else if(De==="object")throw G=String(q),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return Ke}function re(q,G,ue){if(q==null)return q;var xe=[],Pe=0;return te(q,xe,"","",function(De){return G.call(ue,De,Pe++)}),xe}function X(q){if(q._status===-1){var G=q._result;G=G(),G.then(function(ue){(q._status===0||q._status===-1)&&(q._status=1,q._result=ue)},function(ue){(q._status===0||q._status===-1)&&(q._status=2,q._result=ue)}),q._status===-1&&(q._status=0,q._result=G)}if(q._status===1)return q._result.default;throw q._result}var ie={current:null},J={transition:null},Q={ReactCurrentDispatcher:ie,ReactCurrentBatchConfig:J,ReactCurrentOwner:N};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Ze.Children={map:re,forEach:function(q,G,ue){re(q,function(){G.apply(this,arguments)},ue)},count:function(q){var G=0;return re(q,function(){G++}),G},toArray:function(q){return re(q,function(G){return G})||[]},only:function(q){if(!I(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Ze.Component=b,Ze.Fragment=r,Ze.Profiler=i,Ze.PureComponent=j,Ze.StrictMode=n,Ze.Suspense=c,Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q,Ze.act=ae,Ze.cloneElement=function(q,G,ue){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var xe=E({},q.props),Pe=q.key,De=q.ref,Ke=q._owner;if(G!=null){if(G.ref!==void 0&&(De=G.ref,Ke=N.current),G.key!==void 0&&(Pe=""+G.key),q.type&&q.type.defaultProps)var je=q.type.defaultProps;for(de in G)O.call(G,de)&&!A.hasOwnProperty(de)&&(xe[de]=G[de]===void 0&&je!==void 0?je[de]:G[de])}var de=arguments.length-2;if(de===1)xe.children=ue;else if(1<de){je=Array(de);for(var Se=0;Se<de;Se++)je[Se]=arguments[Se+2];xe.children=je}return{$$typeof:t,type:q.type,key:Pe,ref:De,props:xe,_owner:Ke}},Ze.createContext=function(q){return q={$$typeof:s,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:a,_context:q},q.Consumer=q},Ze.createElement=k,Ze.createFactory=function(q){var G=k.bind(null,q);return G.type=q,G},Ze.createRef=function(){return{current:null}},Ze.forwardRef=function(q){return{$$typeof:u,render:q}},Ze.isValidElement=I,Ze.lazy=function(q){return{$$typeof:h,_payload:{_status:-1,_result:q},_init:X}},Ze.memo=function(q,G){return{$$typeof:f,type:q,compare:G===void 0?null:G}},Ze.startTransition=function(q){var G=J.transition;J.transition={};try{q()}finally{J.transition=G}},Ze.unstable_act=ae,Ze.useCallback=function(q,G){return ie.current.useCallback(q,G)},Ze.useContext=function(q){return ie.current.useContext(q)},Ze.useDebugValue=function(){},Ze.useDeferredValue=function(q){return ie.current.useDeferredValue(q)},Ze.useEffect=function(q,G){return ie.current.useEffect(q,G)},Ze.useId=function(){return ie.current.useId()},Ze.useImperativeHandle=function(q,G,ue){return ie.current.useImperativeHandle(q,G,ue)},Ze.useInsertionEffect=function(q,G){return ie.current.useInsertionEffect(q,G)},Ze.useLayoutEffect=function(q,G){return ie.current.useLayoutEffect(q,G)},Ze.useMemo=function(q,G){return ie.current.useMemo(q,G)},Ze.useReducer=function(q,G,ue){return ie.current.useReducer(q,G,ue)},Ze.useRef=function(q){return ie.current.useRef(q)},Ze.useState=function(q){return ie.current.useState(q)},Ze.useSyncExternalStore=function(q,G,ue){return ie.current.useSyncExternalStore(q,G,ue)},Ze.useTransition=function(){return ie.current.useTransition()},Ze.version="18.3.1",Ze}var TA;function h1(){return TA||(TA=1,rv.exports=Q3()),rv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AA;function J3(){if(AA)return Ec;AA=1;var t=h1(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function s(u,c,f){var h,g={},v=null,_=null;f!==void 0&&(v=""+f),c.key!==void 0&&(v=""+c.key),c.ref!==void 0&&(_=c.ref);for(h in c)n.call(c,h)&&!a.hasOwnProperty(h)&&(g[h]=c[h]);if(u&&u.defaultProps)for(h in c=u.defaultProps,c)g[h]===void 0&&(g[h]=c[h]);return{$$typeof:e,type:u,key:v,ref:_,props:g,_owner:i.current}}return Ec.Fragment=r,Ec.jsx=s,Ec.jsxs=s,Ec}var PA;function Z3(){return PA||(PA=1,tv.exports=J3()),tv.exports}var p=Z3(),z=h1();const H=pt(z);var Oh={},nv={exports:{}},on={},iv={exports:{}},av={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kA;function eV(){return kA||(kA=1,function(t){function e(J,Q){var ae=J.length;J.push(Q);e:for(;0<ae;){var q=ae-1>>>1,G=J[q];if(0<i(G,Q))J[q]=Q,J[ae]=G,ae=q;else break e}}function r(J){return J.length===0?null:J[0]}function n(J){if(J.length===0)return null;var Q=J[0],ae=J.pop();if(ae!==Q){J[0]=ae;e:for(var q=0,G=J.length,ue=G>>>1;q<ue;){var xe=2*(q+1)-1,Pe=J[xe],De=xe+1,Ke=J[De];if(0>i(Pe,ae))De<G&&0>i(Ke,Pe)?(J[q]=Ke,J[De]=ae,q=De):(J[q]=Pe,J[xe]=ae,q=xe);else if(De<G&&0>i(Ke,ae))J[q]=Ke,J[De]=ae,q=De;else break e}}return Q}function i(J,Q){var ae=J.sortIndex-Q.sortIndex;return ae!==0?ae:J.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],f=[],h=1,g=null,v=3,_=!1,E=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(J){for(var Q=r(f);Q!==null;){if(Q.callback===null)n(f);else if(Q.startTime<=J)n(f),Q.sortIndex=Q.expirationTime,e(c,Q);else break;Q=r(f)}}function V(J){if(w=!1,R(J),!E)if(r(c)!==null)E=!0,X(O);else{var Q=r(f);Q!==null&&ie(V,Q.startTime-J)}}function O(J,Q){E=!1,w&&(w=!1,P(k),k=-1),_=!0;var ae=v;try{for(R(Q),g=r(c);g!==null&&(!(g.expirationTime>Q)||J&&!M());){var q=g.callback;if(typeof q=="function"){g.callback=null,v=g.priorityLevel;var G=q(g.expirationTime<=Q);Q=t.unstable_now(),typeof G=="function"?g.callback=G:g===r(c)&&n(c),R(Q)}else n(c);g=r(c)}if(g!==null)var ue=!0;else{var xe=r(f);xe!==null&&ie(V,xe.startTime-Q),ue=!1}return ue}finally{g=null,v=ae,_=!1}}var N=!1,A=null,k=-1,D=5,I=-1;function M(){return!(t.unstable_now()-I<D)}function F(){if(A!==null){var J=t.unstable_now();I=J;var Q=!0;try{Q=A(!0,J)}finally{Q?L():(N=!1,A=null)}}else N=!1}var L;if(typeof j=="function")L=function(){j(F)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,re=te.port2;te.port1.onmessage=F,L=function(){re.postMessage(null)}}else L=function(){b(F,0)};function X(J){A=J,N||(N=!0,L())}function ie(J,Q){k=b(function(){J(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_continueExecution=function(){E||_||(E=!0,X(O))},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(J){switch(v){case 1:case 2:case 3:var Q=3;break;default:Q=v}var ae=v;v=Q;try{return J()}finally{v=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(J,Q){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ae=v;v=J;try{return Q()}finally{v=ae}},t.unstable_scheduleCallback=function(J,Q,ae){var q=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?q+ae:q):ae=q,J){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=ae+G,J={id:h++,callback:Q,priorityLevel:J,startTime:ae,expirationTime:G,sortIndex:-1},ae>q?(J.sortIndex=ae,e(f,J),r(c)===null&&J===r(f)&&(w?(P(k),k=-1):w=!0,ie(V,ae-q))):(J.sortIndex=G,e(c,J),E||_||(E=!0,X(O))),J},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(J){var Q=v;return function(){var ae=v;v=Q;try{return J.apply(this,arguments)}finally{v=ae}}}}(av)),av}var OA;function tV(){return OA||(OA=1,iv.exports=eV()),iv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IA;function rV(){if(IA)return on;IA=1;var t=h1(),e=tV();function r(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,d=1;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(o,l){s(o,l),s(o+"Capture",l)}function s(o,l){for(i[o]=l,o=0;o<l.length;o++)n.add(l[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},g={};function v(o){return c.call(g,o)?!0:c.call(h,o)?!1:f.test(o)?g[o]=!0:(h[o]=!0,!1)}function _(o,l,d,y){if(d!==null&&d.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return y?!1:d!==null?!d.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function E(o,l,d,y){if(l===null||typeof l>"u"||_(o,l,d,y))return!0;if(y)return!1;if(d!==null)switch(d.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function w(o,l,d,y,x,T,$){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=y,this.attributeNamespace=x,this.mustUseProperty=d,this.propertyName=o,this.type=l,this.sanitizeURL=T,this.removeEmptyString=$}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){b[o]=new w(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];b[l]=new w(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){b[o]=new w(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){b[o]=new w(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){b[o]=new w(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){b[o]=new w(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){b[o]=new w(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){b[o]=new w(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){b[o]=new w(o,5,!1,o.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function j(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(P,j);b[l]=new w(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(P,j);b[l]=new w(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(P,j);b[l]=new w(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){b[o]=new w(o,1,!1,o.toLowerCase(),null,!1,!1)}),b.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){b[o]=new w(o,1,!1,o.toLowerCase(),null,!0,!0)});function R(o,l,d,y){var x=b.hasOwnProperty(l)?b[l]:null;(x!==null?x.type!==0:y||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(E(l,d,x,y)&&(d=null),y||x===null?v(l)&&(d===null?o.removeAttribute(l):o.setAttribute(l,""+d)):x.mustUseProperty?o[x.propertyName]=d===null?x.type===3?!1:"":d:(l=x.attributeName,y=x.attributeNamespace,d===null?o.removeAttribute(l):(x=x.type,d=x===3||x===4&&d===!0?"":""+d,y?o.setAttributeNS(y,l,d):o.setAttribute(l,d))))}var V=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),N=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),M=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),re=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),ie=Symbol.for("react.offscreen"),J=Symbol.iterator;function Q(o){return o===null||typeof o!="object"?null:(o=J&&o[J]||o["@@iterator"],typeof o=="function"?o:null)}var ae=Object.assign,q;function G(o){if(q===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);q=l&&l[1]||""}return`
`+q+o}var ue=!1;function xe(o,l){if(!o||ue)return"";ue=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(oe){var y=oe}Reflect.construct(o,[],l)}else{try{l.call()}catch(oe){y=oe}o.call(l.prototype)}else{try{throw Error()}catch(oe){y=oe}o()}}catch(oe){if(oe&&y&&typeof oe.stack=="string"){for(var x=oe.stack.split(`
`),T=y.stack.split(`
`),$=x.length-1,B=T.length-1;1<=$&&0<=B&&x[$]!==T[B];)B--;for(;1<=$&&0<=B;$--,B--)if(x[$]!==T[B]){if($!==1||B!==1)do if($--,B--,0>B||x[$]!==T[B]){var K=`
`+x[$].replace(" at new "," at ");return o.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",o.displayName)),K}while(1<=$&&0<=B);break}}}finally{ue=!1,Error.prepareStackTrace=d}return(o=o?o.displayName||o.name:"")?G(o):""}function Pe(o){switch(o.tag){case 5:return G(o.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return o=xe(o.type,!1),o;case 11:return o=xe(o.type.render,!1),o;case 1:return o=xe(o.type,!0),o;default:return""}}function De(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case A:return"Fragment";case N:return"Portal";case D:return"Profiler";case k:return"StrictMode";case L:return"Suspense";case te:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case M:return(o.displayName||"Context")+".Consumer";case I:return(o._context.displayName||"Context")+".Provider";case F:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case re:return l=o.displayName||null,l!==null?l:De(o.type)||"Memo";case X:l=o._payload,o=o._init;try{return De(o(l))}catch{}}return null}function Ke(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=l.render,o=o.displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(l);case 8:return l===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function je(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function de(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Se(o){var l=de(o)?"checked":"value",d=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),y=""+o[l];if(!o.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var x=d.get,T=d.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return x.call(this)},set:function($){y=""+$,T.call(this,$)}}),Object.defineProperty(o,l,{enumerable:d.enumerable}),{getValue:function(){return y},setValue:function($){y=""+$},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function Re(o){o._valueTracker||(o._valueTracker=Se(o))}function W(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var d=l.getValue(),y="";return o&&(y=de(o)?o.checked?"true":"false":o.value),o=y,o!==d?(l.setValue(o),!0):!1}function ge(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function _e(o,l){var d=l.checked;return ae({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??o._wrapperState.initialChecked})}function Ne(o,l){var d=l.defaultValue==null?"":l.defaultValue,y=l.checked!=null?l.checked:l.defaultChecked;d=je(l.value!=null?l.value:d),o._wrapperState={initialChecked:y,initialValue:d,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function Xe(o,l){l=l.checked,l!=null&&R(o,"checked",l,!1)}function Lt(o,l){Xe(o,l);var d=je(l.value),y=l.type;if(d!=null)y==="number"?(d===0&&o.value===""||o.value!=d)&&(o.value=""+d):o.value!==""+d&&(o.value=""+d);else if(y==="submit"||y==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?Vr(o,l.type,d):l.hasOwnProperty("defaultValue")&&Vr(o,l.type,je(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function Yr(o,l,d){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var y=l.type;if(!(y!=="submit"&&y!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,d||l===o.value||(o.value=l),o.defaultValue=l}d=o.name,d!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,d!==""&&(o.name=d)}function Vr(o,l,d){(l!=="number"||ge(o.ownerDocument)!==o)&&(d==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+d&&(o.defaultValue=""+d))}var Fr=Array.isArray;function Qt(o,l,d,y){if(o=o.options,l){l={};for(var x=0;x<d.length;x++)l["$"+d[x]]=!0;for(d=0;d<o.length;d++)x=l.hasOwnProperty("$"+o[d].value),o[d].selected!==x&&(o[d].selected=x),x&&y&&(o[d].defaultSelected=!0)}else{for(d=""+je(d),l=null,x=0;x<o.length;x++){if(o[x].value===d){o[x].selected=!0,y&&(o[x].defaultSelected=!0);return}l!==null||o[x].disabled||(l=o[x])}l!==null&&(l.selected=!0)}}function gr(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(r(91));return ae({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Tn(o,l){var d=l.value;if(d==null){if(d=l.children,l=l.defaultValue,d!=null){if(l!=null)throw Error(r(92));if(Fr(d)){if(1<d.length)throw Error(r(93));d=d[0]}l=d}l==null&&(l=""),d=l}o._wrapperState={initialValue:je(d)}}function vi(o,l){var d=je(l.value),y=je(l.defaultValue);d!=null&&(d=""+d,d!==o.value&&(o.value=d),l.defaultValue==null&&o.defaultValue!==d&&(o.defaultValue=d)),y!=null&&(o.defaultValue=""+y)}function bi(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}function $t(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vt(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?$t(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Hn,Ra=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,d,y,x){MSApp.execUnsafeLocalFunction(function(){return o(l,d,y,x)})}:o}(function(o,l){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=l;else{for(Hn=Hn||document.createElement("div"),Hn.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Hn.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function Hi(o,l){if(l){var d=o.firstChild;if(d&&d===o.lastChild&&d.nodeType===3){d.nodeValue=l;return}}o.textContent=l}var Da={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xr=["Webkit","ms","Moz","O"];Object.keys(Da).forEach(function(o){Xr.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),Da[l]=Da[o]})});function Qs(o,l,d){return l==null||typeof l=="boolean"||l===""?"":d||typeof l!="number"||l===0||Da.hasOwnProperty(o)&&Da[o]?(""+l).trim():l+"px"}function Js(o,l){o=o.style;for(var d in l)if(l.hasOwnProperty(d)){var y=d.indexOf("--")===0,x=Qs(d,l[d],y);d==="float"&&(d="cssFloat"),y?o.setProperty(d,x):o[d]=x}}var Zs=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Mo(o,l){if(l){if(Zs[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(r(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(r(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(r(61))}if(l.style!=null&&typeof l.style!="object")throw Error(r(62))}}function Lo(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var An=null;function Ki(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var $o=null,cn=null,Kn=null;function Vo(o){if(o=uc(o)){if(typeof $o!="function")throw Error(r(280));var l=o.stateNode;l&&(l=qd(l),$o(o.stateNode,o.type,l))}}function Gn(o){cn?Kn?Kn.push(o):Kn=[o]:cn=o}function el(){if(cn){var o=cn,l=Kn;if(Kn=cn=null,Vo(o),l)for(o=0;o<l.length;o++)Vo(l[o])}}function Yn(o,l){return o(l)}function Fo(){}var Ar=!1;function Xn(o,l,d){if(Ar)return o(l,d);Ar=!0;try{return Yn(o,l,d)}finally{Ar=!1,(cn!==null||Kn!==null)&&(Fo(),el())}}function bt(o,l){var d=o.stateNode;if(d===null)return null;var y=qd(d);if(y===null)return null;d=y[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(o=o.type,y=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!y;break e;default:o=!1}if(o)return null;if(d&&typeof d!="function")throw Error(r(231,l,typeof d));return d}var Ma=!1;if(u)try{var Qr={};Object.defineProperty(Qr,"passive",{get:function(){Ma=!0}}),window.addEventListener("test",Qr,Qr),window.removeEventListener("test",Qr,Qr)}catch{Ma=!1}function Gi(o,l,d,y,x,T,$,B,K){var oe=Array.prototype.slice.call(arguments,3);try{l.apply(d,oe)}catch(he){this.onError(he)}}var Yi=!1,Pn=null,fn=!1,Qn=null,Wu={onError:function(o){Yi=!0,Pn=o}};function La(o,l,d,y,x,T,$,B,K){Yi=!1,Pn=null,Gi.apply(Wu,arguments)}function tl(o,l,d,y,x,T,$,B,K){if(La.apply(this,arguments),Yi){if(Yi){var oe=Pn;Yi=!1,Pn=null}else throw Error(r(198));fn||(fn=!0,Qn=oe)}}function He(o){var l=o,d=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(d=l.return),o=l.return;while(o)}return l.tag===3?d:null}function Je(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function lt(o){if(He(o)!==o)throw Error(r(188))}function rt(o){var l=o.alternate;if(!l){if(l=He(o),l===null)throw Error(r(188));return l!==o?null:o}for(var d=o,y=l;;){var x=d.return;if(x===null)break;var T=x.alternate;if(T===null){if(y=x.return,y!==null){d=y;continue}break}if(x.child===T.child){for(T=x.child;T;){if(T===d)return lt(x),o;if(T===y)return lt(x),l;T=T.sibling}throw Error(r(188))}if(d.return!==y.return)d=x,y=T;else{for(var $=!1,B=x.child;B;){if(B===d){$=!0,d=x,y=T;break}if(B===y){$=!0,y=x,d=T;break}B=B.sibling}if(!$){for(B=T.child;B;){if(B===d){$=!0,d=T,y=x;break}if(B===y){$=!0,y=T,d=x;break}B=B.sibling}if(!$)throw Error(r(189))}}if(d.alternate!==y)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?o:l}function Ft(o){return o=rt(o),o!==null?dn(o):null}function dn(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=dn(o);if(l!==null)return l;o=o.sibling}return null}var Jt=e.unstable_scheduleCallback,Pr=e.unstable_cancelCallback,gd=e.unstable_shouldYield,Ig=e.unstable_requestPaint,wt=e.unstable_now,yd=e.unstable_getCurrentPriorityLevel,Uo=e.unstable_ImmediatePriority,$a=e.unstable_UserBlockingPriority,kn=e.unstable_NormalPriority,Hu=e.unstable_LowPriority,vd=e.unstable_IdlePriority,Bo=null,hn=null;function bd(o){if(hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(Bo,o,void 0,(o.current.flags&128)===128)}catch{}}var Ur=Math.clz32?Math.clz32:_d,Ku=Math.log,xd=Math.LN2;function _d(o){return o>>>=0,o===0?32:31-(Ku(o)/xd|0)|0}var rl=64,nl=4194304;function Va(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function qo(o,l){var d=o.pendingLanes;if(d===0)return 0;var y=0,x=o.suspendedLanes,T=o.pingedLanes,$=d&268435455;if($!==0){var B=$&~x;B!==0?y=Va(B):(T&=$,T!==0&&(y=Va(T)))}else $=d&~x,$!==0?y=Va($):T!==0&&(y=Va(T));if(y===0)return 0;if(l!==0&&l!==y&&(l&x)===0&&(x=y&-y,T=l&-l,x>=T||x===16&&(T&4194240)!==0))return l;if((y&4)!==0&&(y|=d&16),l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=y;0<l;)d=31-Ur(l),x=1<<d,y|=o[d],l&=~x;return y}function Cg(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xi(o,l){for(var d=o.suspendedLanes,y=o.pingedLanes,x=o.expirationTimes,T=o.pendingLanes;0<T;){var $=31-Ur(T),B=1<<$,K=x[$];K===-1?((B&d)===0||(B&y)!==0)&&(x[$]=Cg(B,l)):K<=l&&(o.expiredLanes|=B),T&=~B}}function pn(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function zo(){var o=rl;return rl<<=1,(rl&4194240)===0&&(rl=64),o}function Fa(o){for(var l=[],d=0;31>d;d++)l.push(o);return l}function Ua(o,l,d){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,l=31-Ur(l),o[l]=d}function xt(o,l){var d=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l,l=o.entanglements;var y=o.eventTimes;for(o=o.expirationTimes;0<d;){var x=31-Ur(d),T=1<<x;l[x]=0,y[x]=-1,o[x]=-1,d&=~T}}function Ba(o,l){var d=o.entangledLanes|=l;for(o=o.entanglements;d;){var y=31-Ur(d),x=1<<y;x&l|o[y]&l&&(o[y]|=l),d&=~x}}var nt=0;function qa(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var wd,il,Sd,Ed,Td,Gu=!1,xi=[],yr=null,Jn=null,Zn=null,za=new Map,On=new Map,_i=[],Ng="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ad(o,l){switch(o){case"focusin":case"focusout":yr=null;break;case"dragenter":case"dragleave":Jn=null;break;case"mouseover":case"mouseout":Zn=null;break;case"pointerover":case"pointerout":za.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":On.delete(l.pointerId)}}function Jr(o,l,d,y,x,T){return o===null||o.nativeEvent!==T?(o={blockedOn:l,domEventName:d,eventSystemFlags:y,nativeEvent:T,targetContainers:[x]},l!==null&&(l=uc(l),l!==null&&il(l)),o):(o.eventSystemFlags|=y,l=o.targetContainers,x!==null&&l.indexOf(x)===-1&&l.push(x),o)}function jg(o,l,d,y,x){switch(l){case"focusin":return yr=Jr(yr,o,l,d,y,x),!0;case"dragenter":return Jn=Jr(Jn,o,l,d,y,x),!0;case"mouseover":return Zn=Jr(Zn,o,l,d,y,x),!0;case"pointerover":var T=x.pointerId;return za.set(T,Jr(za.get(T)||null,o,l,d,y,x)),!0;case"gotpointercapture":return T=x.pointerId,On.set(T,Jr(On.get(T)||null,o,l,d,y,x)),!0}return!1}function Pd(o){var l=Yo(o.target);if(l!==null){var d=He(l);if(d!==null){if(l=d.tag,l===13){if(l=Je(d),l!==null){o.blockedOn=l,Td(o.priority,function(){Sd(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){o.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Qi(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var d=al(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(d===null){d=o.nativeEvent;var y=new d.constructor(d.type,d);An=y,d.target.dispatchEvent(y),An=null}else return l=uc(d),l!==null&&il(l),o.blockedOn=d,!1;l.shift()}return!0}function Wo(o,l,d){Qi(o)&&d.delete(l)}function kd(){Gu=!1,yr!==null&&Qi(yr)&&(yr=null),Jn!==null&&Qi(Jn)&&(Jn=null),Zn!==null&&Qi(Zn)&&(Zn=null),za.forEach(Wo),On.forEach(Wo)}function ei(o,l){o.blockedOn===l&&(o.blockedOn=null,Gu||(Gu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,kd)))}function ti(o){function l(x){return ei(x,o)}if(0<xi.length){ei(xi[0],o);for(var d=1;d<xi.length;d++){var y=xi[d];y.blockedOn===o&&(y.blockedOn=null)}}for(yr!==null&&ei(yr,o),Jn!==null&&ei(Jn,o),Zn!==null&&ei(Zn,o),za.forEach(l),On.forEach(l),d=0;d<_i.length;d++)y=_i[d],y.blockedOn===o&&(y.blockedOn=null);for(;0<_i.length&&(d=_i[0],d.blockedOn===null);)Pd(d),d.blockedOn===null&&_i.shift()}var Ji=V.ReactCurrentBatchConfig,Wa=!0;function Ct(o,l,d,y){var x=nt,T=Ji.transition;Ji.transition=null;try{nt=1,Yu(o,l,d,y)}finally{nt=x,Ji.transition=T}}function Rg(o,l,d,y){var x=nt,T=Ji.transition;Ji.transition=null;try{nt=4,Yu(o,l,d,y)}finally{nt=x,Ji.transition=T}}function Yu(o,l,d,y){if(Wa){var x=al(o,l,d,y);if(x===null)Wg(o,l,y,Ho,d),Ad(o,y);else if(jg(x,o,l,d,y))y.stopPropagation();else if(Ad(o,y),l&4&&-1<Ng.indexOf(o)){for(;x!==null;){var T=uc(x);if(T!==null&&wd(T),T=al(o,l,d,y),T===null&&Wg(o,l,y,Ho,d),T===x)break;x=T}x!==null&&y.stopPropagation()}else Wg(o,l,y,null,d)}}var Ho=null;function al(o,l,d,y){if(Ho=null,o=Ki(y),o=Yo(o),o!==null)if(l=He(o),l===null)o=null;else if(d=l.tag,d===13){if(o=Je(l),o!==null)return o;o=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null);return Ho=o,null}function Xu(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yd()){case Uo:return 1;case $a:return 4;case kn:case Hu:return 16;case vd:return 536870912;default:return 16}default:return 16}}var mn=null,ol=null,Zr=null;function Qu(){if(Zr)return Zr;var o,l=ol,d=l.length,y,x="value"in mn?mn.value:mn.textContent,T=x.length;for(o=0;o<d&&l[o]===x[o];o++);var $=d-o;for(y=1;y<=$&&l[d-y]===x[T-y];y++);return Zr=x.slice(o,1<y?1-y:void 0)}function sl(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function wi(){return!0}function Ju(){return!1}function vr(o){function l(d,y,x,T,$){this._reactName=d,this._targetInst=x,this.type=y,this.nativeEvent=T,this.target=$,this.currentTarget=null;for(var B in o)o.hasOwnProperty(B)&&(d=o[B],this[B]=d?d(T):T[B]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?wi:Ju,this.isPropagationStopped=Ju,this}return ae(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=wi)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=wi)},persist:function(){},isPersistent:wi}),l}var ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ll=vr(ri),Si=ae({},ri,{view:0,detail:0}),Dg=vr(Si),ul,Zi,Ha,Ko=ae({},Si,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ei,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Ha&&(Ha&&o.type==="mousemove"?(ul=o.screenX-Ha.screenX,Zi=o.screenY-Ha.screenY):Zi=ul=0,Ha=o),ul)},movementY:function(o){return"movementY"in o?o.movementY:Zi}}),cl=vr(Ko),Zu=ae({},Ko,{dataTransfer:0}),Od=vr(Zu),fl=ae({},Si,{relatedTarget:0}),dl=vr(fl),Id=ae({},ri,{animationName:0,elapsedTime:0,pseudoElement:0}),ea=vr(Id),Cd=ae({},ri,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Nd=vr(Cd),jd=ae({},ri,{data:0}),ec=vr(jd),hl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Br={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dd(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=Rd[o])?!!l[o]:!1}function Ei(){return Dd}var m=ae({},Si,{key:function(o){if(o.key){var l=hl[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=sl(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Br[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ei,charCode:function(o){return o.type==="keypress"?sl(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?sl(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),S=vr(m),C=ae({},Ko,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),U=vr(C),Z=ae({},Si,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ei}),se=vr(Z),be=ae({},ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),mt=vr(be),Zt=ae({},Ko,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),at=vr(Zt),lr=[9,13,27,32],Wt=u&&"CompositionEvent"in window,In=null;u&&"documentMode"in document&&(In=document.documentMode);var gn=u&&"TextEvent"in window&&!In,Go=u&&(!Wt||In&&8<In&&11>=In),pl=" ",vE=!1;function bE(o,l){switch(o){case"keyup":return lr.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xE(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ml=!1;function G$(o,l){switch(o){case"compositionend":return xE(l);case"keypress":return l.which!==32?null:(vE=!0,pl);case"textInput":return o=l.data,o===pl&&vE?null:o;default:return null}}function Y$(o,l){if(ml)return o==="compositionend"||!Wt&&bE(o,l)?(o=Qu(),Zr=ol=mn=null,ml=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Go&&l.locale!=="ko"?null:l.data;default:return null}}var X$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _E(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!X$[o.type]:l==="textarea"}function wE(o,l,d,y){Gn(y),l=Fd(l,"onChange"),0<l.length&&(d=new ll("onChange","change",null,d,y),o.push({event:d,listeners:l}))}var tc=null,rc=null;function Q$(o){FE(o,0)}function Md(o){var l=xl(o);if(W(l))return o}function J$(o,l){if(o==="change")return l}var SE=!1;if(u){var Mg;if(u){var Lg="oninput"in document;if(!Lg){var EE=document.createElement("div");EE.setAttribute("oninput","return;"),Lg=typeof EE.oninput=="function"}Mg=Lg}else Mg=!1;SE=Mg&&(!document.documentMode||9<document.documentMode)}function TE(){tc&&(tc.detachEvent("onpropertychange",AE),rc=tc=null)}function AE(o){if(o.propertyName==="value"&&Md(rc)){var l=[];wE(l,rc,o,Ki(o)),Xn(Q$,l)}}function Z$(o,l,d){o==="focusin"?(TE(),tc=l,rc=d,tc.attachEvent("onpropertychange",AE)):o==="focusout"&&TE()}function e3(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Md(rc)}function t3(o,l){if(o==="click")return Md(l)}function r3(o,l){if(o==="input"||o==="change")return Md(l)}function n3(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var ni=typeof Object.is=="function"?Object.is:n3;function nc(o,l){if(ni(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var d=Object.keys(o),y=Object.keys(l);if(d.length!==y.length)return!1;for(y=0;y<d.length;y++){var x=d[y];if(!c.call(l,x)||!ni(o[x],l[x]))return!1}return!0}function PE(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function kE(o,l){var d=PE(o);o=0;for(var y;d;){if(d.nodeType===3){if(y=o+d.textContent.length,o<=l&&y>=l)return{node:d,offset:l-o};o=y}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=PE(d)}}function OE(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?OE(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function IE(){for(var o=window,l=ge();l instanceof o.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)o=l.contentWindow;else break;l=ge(o.document)}return l}function $g(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function i3(o){var l=IE(),d=o.focusedElem,y=o.selectionRange;if(l!==d&&d&&d.ownerDocument&&OE(d.ownerDocument.documentElement,d)){if(y!==null&&$g(d)){if(l=y.start,o=y.end,o===void 0&&(o=l),"selectionStart"in d)d.selectionStart=l,d.selectionEnd=Math.min(o,d.value.length);else if(o=(l=d.ownerDocument||document)&&l.defaultView||window,o.getSelection){o=o.getSelection();var x=d.textContent.length,T=Math.min(y.start,x);y=y.end===void 0?T:Math.min(y.end,x),!o.extend&&T>y&&(x=y,y=T,T=x),x=kE(d,T);var $=kE(d,y);x&&$&&(o.rangeCount!==1||o.anchorNode!==x.node||o.anchorOffset!==x.offset||o.focusNode!==$.node||o.focusOffset!==$.offset)&&(l=l.createRange(),l.setStart(x.node,x.offset),o.removeAllRanges(),T>y?(o.addRange(l),o.extend($.node,$.offset)):(l.setEnd($.node,$.offset),o.addRange(l)))}}for(l=[],o=d;o=o.parentNode;)o.nodeType===1&&l.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<l.length;d++)o=l[d],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var a3=u&&"documentMode"in document&&11>=document.documentMode,gl=null,Vg=null,ic=null,Fg=!1;function CE(o,l,d){var y=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Fg||gl==null||gl!==ge(y)||(y=gl,"selectionStart"in y&&$g(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),ic&&nc(ic,y)||(ic=y,y=Fd(Vg,"onSelect"),0<y.length&&(l=new ll("onSelect","select",null,l,d),o.push({event:l,listeners:y}),l.target=gl)))}function Ld(o,l){var d={};return d[o.toLowerCase()]=l.toLowerCase(),d["Webkit"+o]="webkit"+l,d["Moz"+o]="moz"+l,d}var yl={animationend:Ld("Animation","AnimationEnd"),animationiteration:Ld("Animation","AnimationIteration"),animationstart:Ld("Animation","AnimationStart"),transitionend:Ld("Transition","TransitionEnd")},Ug={},NE={};u&&(NE=document.createElement("div").style,"AnimationEvent"in window||(delete yl.animationend.animation,delete yl.animationiteration.animation,delete yl.animationstart.animation),"TransitionEvent"in window||delete yl.transitionend.transition);function $d(o){if(Ug[o])return Ug[o];if(!yl[o])return o;var l=yl[o],d;for(d in l)if(l.hasOwnProperty(d)&&d in NE)return Ug[o]=l[d];return o}var jE=$d("animationend"),RE=$d("animationiteration"),DE=$d("animationstart"),ME=$d("transitionend"),LE=new Map,$E="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ka(o,l){LE.set(o,l),a(l,[o])}for(var Bg=0;Bg<$E.length;Bg++){var qg=$E[Bg],o3=qg.toLowerCase(),s3=qg[0].toUpperCase()+qg.slice(1);Ka(o3,"on"+s3)}Ka(jE,"onAnimationEnd"),Ka(RE,"onAnimationIteration"),Ka(DE,"onAnimationStart"),Ka("dblclick","onDoubleClick"),Ka("focusin","onFocus"),Ka("focusout","onBlur"),Ka(ME,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ac="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l3=new Set("cancel close invalid load scroll toggle".split(" ").concat(ac));function VE(o,l,d){var y=o.type||"unknown-event";o.currentTarget=d,tl(y,l,void 0,o),o.currentTarget=null}function FE(o,l){l=(l&4)!==0;for(var d=0;d<o.length;d++){var y=o[d],x=y.event;y=y.listeners;e:{var T=void 0;if(l)for(var $=y.length-1;0<=$;$--){var B=y[$],K=B.instance,oe=B.currentTarget;if(B=B.listener,K!==T&&x.isPropagationStopped())break e;VE(x,B,oe),T=K}else for($=0;$<y.length;$++){if(B=y[$],K=B.instance,oe=B.currentTarget,B=B.listener,K!==T&&x.isPropagationStopped())break e;VE(x,B,oe),T=K}}}if(fn)throw o=Qn,fn=!1,Qn=null,o}function Pt(o,l){var d=l[Qg];d===void 0&&(d=l[Qg]=new Set);var y=o+"__bubble";d.has(y)||(UE(l,o,2,!1),d.add(y))}function zg(o,l,d){var y=0;l&&(y|=4),UE(d,o,y,l)}var Vd="_reactListening"+Math.random().toString(36).slice(2);function oc(o){if(!o[Vd]){o[Vd]=!0,n.forEach(function(d){d!=="selectionchange"&&(l3.has(d)||zg(d,!1,o),zg(d,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[Vd]||(l[Vd]=!0,zg("selectionchange",!1,l))}}function UE(o,l,d,y){switch(Xu(l)){case 1:var x=Ct;break;case 4:x=Rg;break;default:x=Yu}d=x.bind(null,l,d,o),x=void 0,!Ma||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(x=!0),y?x!==void 0?o.addEventListener(l,d,{capture:!0,passive:x}):o.addEventListener(l,d,!0):x!==void 0?o.addEventListener(l,d,{passive:x}):o.addEventListener(l,d,!1)}function Wg(o,l,d,y,x){var T=y;if((l&1)===0&&(l&2)===0&&y!==null)e:for(;;){if(y===null)return;var $=y.tag;if($===3||$===4){var B=y.stateNode.containerInfo;if(B===x||B.nodeType===8&&B.parentNode===x)break;if($===4)for($=y.return;$!==null;){var K=$.tag;if((K===3||K===4)&&(K=$.stateNode.containerInfo,K===x||K.nodeType===8&&K.parentNode===x))return;$=$.return}for(;B!==null;){if($=Yo(B),$===null)return;if(K=$.tag,K===5||K===6){y=T=$;continue e}B=B.parentNode}}y=y.return}Xn(function(){var oe=T,he=Ki(d),me=[];e:{var fe=LE.get(o);if(fe!==void 0){var we=ll,Ae=o;switch(o){case"keypress":if(sl(d)===0)break e;case"keydown":case"keyup":we=S;break;case"focusin":Ae="focus",we=dl;break;case"focusout":Ae="blur",we=dl;break;case"beforeblur":case"afterblur":we=dl;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":we=cl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":we=Od;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":we=se;break;case jE:case RE:case DE:we=ea;break;case ME:we=mt;break;case"scroll":we=Dg;break;case"wheel":we=at;break;case"copy":case"cut":case"paste":we=Nd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":we=U}var Oe=(l&4)!==0,qt=!Oe&&o==="scroll",ee=Oe?fe!==null?fe+"Capture":null:fe;Oe=[];for(var Y=oe,ne;Y!==null;){ne=Y;var ye=ne.stateNode;if(ne.tag===5&&ye!==null&&(ne=ye,ee!==null&&(ye=bt(Y,ee),ye!=null&&Oe.push(sc(Y,ye,ne)))),qt)break;Y=Y.return}0<Oe.length&&(fe=new we(fe,Ae,null,d,he),me.push({event:fe,listeners:Oe}))}}if((l&7)===0){e:{if(fe=o==="mouseover"||o==="pointerover",we=o==="mouseout"||o==="pointerout",fe&&d!==An&&(Ae=d.relatedTarget||d.fromElement)&&(Yo(Ae)||Ae[ta]))break e;if((we||fe)&&(fe=he.window===he?he:(fe=he.ownerDocument)?fe.defaultView||fe.parentWindow:window,we?(Ae=d.relatedTarget||d.toElement,we=oe,Ae=Ae?Yo(Ae):null,Ae!==null&&(qt=He(Ae),Ae!==qt||Ae.tag!==5&&Ae.tag!==6)&&(Ae=null)):(we=null,Ae=oe),we!==Ae)){if(Oe=cl,ye="onMouseLeave",ee="onMouseEnter",Y="mouse",(o==="pointerout"||o==="pointerover")&&(Oe=U,ye="onPointerLeave",ee="onPointerEnter",Y="pointer"),qt=we==null?fe:xl(we),ne=Ae==null?fe:xl(Ae),fe=new Oe(ye,Y+"leave",we,d,he),fe.target=qt,fe.relatedTarget=ne,ye=null,Yo(he)===oe&&(Oe=new Oe(ee,Y+"enter",Ae,d,he),Oe.target=ne,Oe.relatedTarget=qt,ye=Oe),qt=ye,we&&Ae)t:{for(Oe=we,ee=Ae,Y=0,ne=Oe;ne;ne=vl(ne))Y++;for(ne=0,ye=ee;ye;ye=vl(ye))ne++;for(;0<Y-ne;)Oe=vl(Oe),Y--;for(;0<ne-Y;)ee=vl(ee),ne--;for(;Y--;){if(Oe===ee||ee!==null&&Oe===ee.alternate)break t;Oe=vl(Oe),ee=vl(ee)}Oe=null}else Oe=null;we!==null&&BE(me,fe,we,Oe,!1),Ae!==null&&qt!==null&&BE(me,qt,Ae,Oe,!0)}}e:{if(fe=oe?xl(oe):window,we=fe.nodeName&&fe.nodeName.toLowerCase(),we==="select"||we==="input"&&fe.type==="file")var Ce=J$;else if(_E(fe))if(SE)Ce=r3;else{Ce=e3;var Le=Z$}else(we=fe.nodeName)&&we.toLowerCase()==="input"&&(fe.type==="checkbox"||fe.type==="radio")&&(Ce=t3);if(Ce&&(Ce=Ce(o,oe))){wE(me,Ce,d,he);break e}Le&&Le(o,fe,oe),o==="focusout"&&(Le=fe._wrapperState)&&Le.controlled&&fe.type==="number"&&Vr(fe,"number",fe.value)}switch(Le=oe?xl(oe):window,o){case"focusin":(_E(Le)||Le.contentEditable==="true")&&(gl=Le,Vg=oe,ic=null);break;case"focusout":ic=Vg=gl=null;break;case"mousedown":Fg=!0;break;case"contextmenu":case"mouseup":case"dragend":Fg=!1,CE(me,d,he);break;case"selectionchange":if(a3)break;case"keydown":case"keyup":CE(me,d,he)}var $e;if(Wt)e:{switch(o){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else ml?bE(o,d)&&(qe="onCompositionEnd"):o==="keydown"&&d.keyCode===229&&(qe="onCompositionStart");qe&&(Go&&d.locale!=="ko"&&(ml||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&ml&&($e=Qu()):(mn=he,ol="value"in mn?mn.value:mn.textContent,ml=!0)),Le=Fd(oe,qe),0<Le.length&&(qe=new ec(qe,o,null,d,he),me.push({event:qe,listeners:Le}),$e?qe.data=$e:($e=xE(d),$e!==null&&(qe.data=$e)))),($e=gn?G$(o,d):Y$(o,d))&&(oe=Fd(oe,"onBeforeInput"),0<oe.length&&(he=new ec("onBeforeInput","beforeinput",null,d,he),me.push({event:he,listeners:oe}),he.data=$e))}FE(me,l)})}function sc(o,l,d){return{instance:o,listener:l,currentTarget:d}}function Fd(o,l){for(var d=l+"Capture",y=[];o!==null;){var x=o,T=x.stateNode;x.tag===5&&T!==null&&(x=T,T=bt(o,d),T!=null&&y.unshift(sc(o,T,x)),T=bt(o,l),T!=null&&y.push(sc(o,T,x))),o=o.return}return y}function vl(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function BE(o,l,d,y,x){for(var T=l._reactName,$=[];d!==null&&d!==y;){var B=d,K=B.alternate,oe=B.stateNode;if(K!==null&&K===y)break;B.tag===5&&oe!==null&&(B=oe,x?(K=bt(d,T),K!=null&&$.unshift(sc(d,K,B))):x||(K=bt(d,T),K!=null&&$.push(sc(d,K,B)))),d=d.return}$.length!==0&&o.push({event:l,listeners:$})}var u3=/\r\n?/g,c3=/\u0000|\uFFFD/g;function qE(o){return(typeof o=="string"?o:""+o).replace(u3,`
`).replace(c3,"")}function Ud(o,l,d){if(l=qE(l),qE(o)!==l&&d)throw Error(r(425))}function Bd(){}var Hg=null,Kg=null;function Gg(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Yg=typeof setTimeout=="function"?setTimeout:void 0,f3=typeof clearTimeout=="function"?clearTimeout:void 0,zE=typeof Promise=="function"?Promise:void 0,d3=typeof queueMicrotask=="function"?queueMicrotask:typeof zE<"u"?function(o){return zE.resolve(null).then(o).catch(h3)}:Yg;function h3(o){setTimeout(function(){throw o})}function Xg(o,l){var d=l,y=0;do{var x=d.nextSibling;if(o.removeChild(d),x&&x.nodeType===8)if(d=x.data,d==="/$"){if(y===0){o.removeChild(x),ti(l);return}y--}else d!=="$"&&d!=="$?"&&d!=="$!"||y++;d=x}while(d);ti(l)}function Ga(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return o}function WE(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return o;l--}else d==="/$"&&l++}o=o.previousSibling}return null}var bl=Math.random().toString(36).slice(2),Ti="__reactFiber$"+bl,lc="__reactProps$"+bl,ta="__reactContainer$"+bl,Qg="__reactEvents$"+bl,p3="__reactListeners$"+bl,m3="__reactHandles$"+bl;function Yo(o){var l=o[Ti];if(l)return l;for(var d=o.parentNode;d;){if(l=d[ta]||d[Ti]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(o=WE(o);o!==null;){if(d=o[Ti])return d;o=WE(o)}return l}o=d,d=o.parentNode}return null}function uc(o){return o=o[Ti]||o[ta],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function xl(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(r(33))}function qd(o){return o[lc]||null}var Jg=[],_l=-1;function Ya(o){return{current:o}}function kt(o){0>_l||(o.current=Jg[_l],Jg[_l]=null,_l--)}function St(o,l){_l++,Jg[_l]=o.current,o.current=l}var Xa={},kr=Ya(Xa),en=Ya(!1),Xo=Xa;function wl(o,l){var d=o.type.contextTypes;if(!d)return Xa;var y=o.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===l)return y.__reactInternalMemoizedMaskedChildContext;var x={},T;for(T in d)x[T]=l[T];return y&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=x),x}function tn(o){return o=o.childContextTypes,o!=null}function zd(){kt(en),kt(kr)}function HE(o,l,d){if(kr.current!==Xa)throw Error(r(168));St(kr,l),St(en,d)}function KE(o,l,d){var y=o.stateNode;if(l=l.childContextTypes,typeof y.getChildContext!="function")return d;y=y.getChildContext();for(var x in y)if(!(x in l))throw Error(r(108,Ke(o)||"Unknown",x));return ae({},d,y)}function Wd(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Xa,Xo=kr.current,St(kr,o),St(en,en.current),!0}function GE(o,l,d){var y=o.stateNode;if(!y)throw Error(r(169));d?(o=KE(o,l,Xo),y.__reactInternalMemoizedMergedChildContext=o,kt(en),kt(kr),St(kr,o)):kt(en),St(en,d)}var ra=null,Hd=!1,Zg=!1;function YE(o){ra===null?ra=[o]:ra.push(o)}function g3(o){Hd=!0,YE(o)}function Qa(){if(!Zg&&ra!==null){Zg=!0;var o=0,l=nt;try{var d=ra;for(nt=1;o<d.length;o++){var y=d[o];do y=y(!0);while(y!==null)}ra=null,Hd=!1}catch(x){throw ra!==null&&(ra=ra.slice(o+1)),Jt(Uo,Qa),x}finally{nt=l,Zg=!1}}return null}var Sl=[],El=0,Kd=null,Gd=0,Cn=[],Nn=0,Qo=null,na=1,ia="";function Jo(o,l){Sl[El++]=Gd,Sl[El++]=Kd,Kd=o,Gd=l}function XE(o,l,d){Cn[Nn++]=na,Cn[Nn++]=ia,Cn[Nn++]=Qo,Qo=o;var y=na;o=ia;var x=32-Ur(y)-1;y&=~(1<<x),d+=1;var T=32-Ur(l)+x;if(30<T){var $=x-x%5;T=(y&(1<<$)-1).toString(32),y>>=$,x-=$,na=1<<32-Ur(l)+x|d<<x|y,ia=T+o}else na=1<<T|d<<x|y,ia=o}function ey(o){o.return!==null&&(Jo(o,1),XE(o,1,0))}function ty(o){for(;o===Kd;)Kd=Sl[--El],Sl[El]=null,Gd=Sl[--El],Sl[El]=null;for(;o===Qo;)Qo=Cn[--Nn],Cn[Nn]=null,ia=Cn[--Nn],Cn[Nn]=null,na=Cn[--Nn],Cn[Nn]=null}var yn=null,vn=null,Nt=!1,ii=null;function QE(o,l){var d=Mn(5,null,null,0);d.elementType="DELETED",d.stateNode=l,d.return=o,l=o.deletions,l===null?(o.deletions=[d],o.flags|=16):l.push(d)}function JE(o,l){switch(o.tag){case 5:var d=o.type;return l=l.nodeType!==1||d.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,yn=o,vn=Ga(l.firstChild),!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,yn=o,vn=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(d=Qo!==null?{id:na,overflow:ia}:null,o.memoizedState={dehydrated:l,treeContext:d,retryLane:1073741824},d=Mn(18,null,null,0),d.stateNode=l,d.return=o,o.child=d,yn=o,vn=null,!0):!1;default:return!1}}function ry(o){return(o.mode&1)!==0&&(o.flags&128)===0}function ny(o){if(Nt){var l=vn;if(l){var d=l;if(!JE(o,l)){if(ry(o))throw Error(r(418));l=Ga(d.nextSibling);var y=yn;l&&JE(o,l)?QE(y,d):(o.flags=o.flags&-4097|2,Nt=!1,yn=o)}}else{if(ry(o))throw Error(r(418));o.flags=o.flags&-4097|2,Nt=!1,yn=o}}}function ZE(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;yn=o}function Yd(o){if(o!==yn)return!1;if(!Nt)return ZE(o),Nt=!0,!1;var l;if((l=o.tag!==3)&&!(l=o.tag!==5)&&(l=o.type,l=l!=="head"&&l!=="body"&&!Gg(o.type,o.memoizedProps)),l&&(l=vn)){if(ry(o))throw eT(),Error(r(418));for(;l;)QE(o,l),l=Ga(l.nextSibling)}if(ZE(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="/$"){if(l===0){vn=Ga(o.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++}o=o.nextSibling}vn=null}}else vn=yn?Ga(o.stateNode.nextSibling):null;return!0}function eT(){for(var o=vn;o;)o=Ga(o.nextSibling)}function Tl(){vn=yn=null,Nt=!1}function iy(o){ii===null?ii=[o]:ii.push(o)}var y3=V.ReactCurrentBatchConfig;function cc(o,l,d){if(o=d.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(r(309));var y=d.stateNode}if(!y)throw Error(r(147,o));var x=y,T=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===T?l.ref:(l=function($){var B=x.refs;$===null?delete B[T]:B[T]=$},l._stringRef=T,l)}if(typeof o!="string")throw Error(r(284));if(!d._owner)throw Error(r(290,o))}return o}function Xd(o,l){throw o=Object.prototype.toString.call(l),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function tT(o){var l=o._init;return l(o._payload)}function rT(o){function l(ee,Y){if(o){var ne=ee.deletions;ne===null?(ee.deletions=[Y],ee.flags|=16):ne.push(Y)}}function d(ee,Y){if(!o)return null;for(;Y!==null;)l(ee,Y),Y=Y.sibling;return null}function y(ee,Y){for(ee=new Map;Y!==null;)Y.key!==null?ee.set(Y.key,Y):ee.set(Y.index,Y),Y=Y.sibling;return ee}function x(ee,Y){return ee=ao(ee,Y),ee.index=0,ee.sibling=null,ee}function T(ee,Y,ne){return ee.index=ne,o?(ne=ee.alternate,ne!==null?(ne=ne.index,ne<Y?(ee.flags|=2,Y):ne):(ee.flags|=2,Y)):(ee.flags|=1048576,Y)}function $(ee){return o&&ee.alternate===null&&(ee.flags|=2),ee}function B(ee,Y,ne,ye){return Y===null||Y.tag!==6?(Y=Yy(ne,ee.mode,ye),Y.return=ee,Y):(Y=x(Y,ne),Y.return=ee,Y)}function K(ee,Y,ne,ye){var Ce=ne.type;return Ce===A?he(ee,Y,ne.props.children,ye,ne.key):Y!==null&&(Y.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===X&&tT(Ce)===Y.type)?(ye=x(Y,ne.props),ye.ref=cc(ee,Y,ne),ye.return=ee,ye):(ye=xh(ne.type,ne.key,ne.props,null,ee.mode,ye),ye.ref=cc(ee,Y,ne),ye.return=ee,ye)}function oe(ee,Y,ne,ye){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==ne.containerInfo||Y.stateNode.implementation!==ne.implementation?(Y=Xy(ne,ee.mode,ye),Y.return=ee,Y):(Y=x(Y,ne.children||[]),Y.return=ee,Y)}function he(ee,Y,ne,ye,Ce){return Y===null||Y.tag!==7?(Y=os(ne,ee.mode,ye,Ce),Y.return=ee,Y):(Y=x(Y,ne),Y.return=ee,Y)}function me(ee,Y,ne){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Y=Yy(""+Y,ee.mode,ne),Y.return=ee,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case O:return ne=xh(Y.type,Y.key,Y.props,null,ee.mode,ne),ne.ref=cc(ee,null,Y),ne.return=ee,ne;case N:return Y=Xy(Y,ee.mode,ne),Y.return=ee,Y;case X:var ye=Y._init;return me(ee,ye(Y._payload),ne)}if(Fr(Y)||Q(Y))return Y=os(Y,ee.mode,ne,null),Y.return=ee,Y;Xd(ee,Y)}return null}function fe(ee,Y,ne,ye){var Ce=Y!==null?Y.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number")return Ce!==null?null:B(ee,Y,""+ne,ye);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case O:return ne.key===Ce?K(ee,Y,ne,ye):null;case N:return ne.key===Ce?oe(ee,Y,ne,ye):null;case X:return Ce=ne._init,fe(ee,Y,Ce(ne._payload),ye)}if(Fr(ne)||Q(ne))return Ce!==null?null:he(ee,Y,ne,ye,null);Xd(ee,ne)}return null}function we(ee,Y,ne,ye,Ce){if(typeof ye=="string"&&ye!==""||typeof ye=="number")return ee=ee.get(ne)||null,B(Y,ee,""+ye,Ce);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case O:return ee=ee.get(ye.key===null?ne:ye.key)||null,K(Y,ee,ye,Ce);case N:return ee=ee.get(ye.key===null?ne:ye.key)||null,oe(Y,ee,ye,Ce);case X:var Le=ye._init;return we(ee,Y,ne,Le(ye._payload),Ce)}if(Fr(ye)||Q(ye))return ee=ee.get(ne)||null,he(Y,ee,ye,Ce,null);Xd(Y,ye)}return null}function Ae(ee,Y,ne,ye){for(var Ce=null,Le=null,$e=Y,qe=Y=0,fr=null;$e!==null&&qe<ne.length;qe++){$e.index>qe?(fr=$e,$e=null):fr=$e.sibling;var ut=fe(ee,$e,ne[qe],ye);if(ut===null){$e===null&&($e=fr);break}o&&$e&&ut.alternate===null&&l(ee,$e),Y=T(ut,Y,qe),Le===null?Ce=ut:Le.sibling=ut,Le=ut,$e=fr}if(qe===ne.length)return d(ee,$e),Nt&&Jo(ee,qe),Ce;if($e===null){for(;qe<ne.length;qe++)$e=me(ee,ne[qe],ye),$e!==null&&(Y=T($e,Y,qe),Le===null?Ce=$e:Le.sibling=$e,Le=$e);return Nt&&Jo(ee,qe),Ce}for($e=y(ee,$e);qe<ne.length;qe++)fr=we($e,ee,qe,ne[qe],ye),fr!==null&&(o&&fr.alternate!==null&&$e.delete(fr.key===null?qe:fr.key),Y=T(fr,Y,qe),Le===null?Ce=fr:Le.sibling=fr,Le=fr);return o&&$e.forEach(function(oo){return l(ee,oo)}),Nt&&Jo(ee,qe),Ce}function Oe(ee,Y,ne,ye){var Ce=Q(ne);if(typeof Ce!="function")throw Error(r(150));if(ne=Ce.call(ne),ne==null)throw Error(r(151));for(var Le=Ce=null,$e=Y,qe=Y=0,fr=null,ut=ne.next();$e!==null&&!ut.done;qe++,ut=ne.next()){$e.index>qe?(fr=$e,$e=null):fr=$e.sibling;var oo=fe(ee,$e,ut.value,ye);if(oo===null){$e===null&&($e=fr);break}o&&$e&&oo.alternate===null&&l(ee,$e),Y=T(oo,Y,qe),Le===null?Ce=oo:Le.sibling=oo,Le=oo,$e=fr}if(ut.done)return d(ee,$e),Nt&&Jo(ee,qe),Ce;if($e===null){for(;!ut.done;qe++,ut=ne.next())ut=me(ee,ut.value,ye),ut!==null&&(Y=T(ut,Y,qe),Le===null?Ce=ut:Le.sibling=ut,Le=ut);return Nt&&Jo(ee,qe),Ce}for($e=y(ee,$e);!ut.done;qe++,ut=ne.next())ut=we($e,ee,qe,ut.value,ye),ut!==null&&(o&&ut.alternate!==null&&$e.delete(ut.key===null?qe:ut.key),Y=T(ut,Y,qe),Le===null?Ce=ut:Le.sibling=ut,Le=ut);return o&&$e.forEach(function(X3){return l(ee,X3)}),Nt&&Jo(ee,qe),Ce}function qt(ee,Y,ne,ye){if(typeof ne=="object"&&ne!==null&&ne.type===A&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case O:e:{for(var Ce=ne.key,Le=Y;Le!==null;){if(Le.key===Ce){if(Ce=ne.type,Ce===A){if(Le.tag===7){d(ee,Le.sibling),Y=x(Le,ne.props.children),Y.return=ee,ee=Y;break e}}else if(Le.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===X&&tT(Ce)===Le.type){d(ee,Le.sibling),Y=x(Le,ne.props),Y.ref=cc(ee,Le,ne),Y.return=ee,ee=Y;break e}d(ee,Le);break}else l(ee,Le);Le=Le.sibling}ne.type===A?(Y=os(ne.props.children,ee.mode,ye,ne.key),Y.return=ee,ee=Y):(ye=xh(ne.type,ne.key,ne.props,null,ee.mode,ye),ye.ref=cc(ee,Y,ne),ye.return=ee,ee=ye)}return $(ee);case N:e:{for(Le=ne.key;Y!==null;){if(Y.key===Le)if(Y.tag===4&&Y.stateNode.containerInfo===ne.containerInfo&&Y.stateNode.implementation===ne.implementation){d(ee,Y.sibling),Y=x(Y,ne.children||[]),Y.return=ee,ee=Y;break e}else{d(ee,Y);break}else l(ee,Y);Y=Y.sibling}Y=Xy(ne,ee.mode,ye),Y.return=ee,ee=Y}return $(ee);case X:return Le=ne._init,qt(ee,Y,Le(ne._payload),ye)}if(Fr(ne))return Ae(ee,Y,ne,ye);if(Q(ne))return Oe(ee,Y,ne,ye);Xd(ee,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"?(ne=""+ne,Y!==null&&Y.tag===6?(d(ee,Y.sibling),Y=x(Y,ne),Y.return=ee,ee=Y):(d(ee,Y),Y=Yy(ne,ee.mode,ye),Y.return=ee,ee=Y),$(ee)):d(ee,Y)}return qt}var Al=rT(!0),nT=rT(!1),Qd=Ya(null),Jd=null,Pl=null,ay=null;function oy(){ay=Pl=Jd=null}function sy(o){var l=Qd.current;kt(Qd),o._currentValue=l}function ly(o,l,d){for(;o!==null;){var y=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,y!==null&&(y.childLanes|=l)):y!==null&&(y.childLanes&l)!==l&&(y.childLanes|=l),o===d)break;o=o.return}}function kl(o,l){Jd=o,ay=Pl=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&l)!==0&&(rn=!0),o.firstContext=null)}function jn(o){var l=o._currentValue;if(ay!==o)if(o={context:o,memoizedValue:l,next:null},Pl===null){if(Jd===null)throw Error(r(308));Pl=o,Jd.dependencies={lanes:0,firstContext:o}}else Pl=Pl.next=o;return l}var Zo=null;function uy(o){Zo===null?Zo=[o]:Zo.push(o)}function iT(o,l,d,y){var x=l.interleaved;return x===null?(d.next=d,uy(l)):(d.next=x.next,x.next=d),l.interleaved=d,aa(o,y)}function aa(o,l){o.lanes|=l;var d=o.alternate;for(d!==null&&(d.lanes|=l),d=o,o=o.return;o!==null;)o.childLanes|=l,d=o.alternate,d!==null&&(d.childLanes|=l),d=o,o=o.return;return d.tag===3?d.stateNode:null}var Ja=!1;function cy(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function aT(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function oa(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function Za(o,l,d){var y=o.updateQueue;if(y===null)return null;if(y=y.shared,(st&2)!==0){var x=y.pending;return x===null?l.next=l:(l.next=x.next,x.next=l),y.pending=l,aa(o,d)}return x=y.interleaved,x===null?(l.next=l,uy(y)):(l.next=x.next,x.next=l),y.interleaved=l,aa(o,d)}function Zd(o,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194240)!==0)){var y=l.lanes;y&=o.pendingLanes,d|=y,l.lanes=d,Ba(o,d)}}function oT(o,l){var d=o.updateQueue,y=o.alternate;if(y!==null&&(y=y.updateQueue,d===y)){var x=null,T=null;if(d=d.firstBaseUpdate,d!==null){do{var $={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};T===null?x=T=$:T=T.next=$,d=d.next}while(d!==null);T===null?x=T=l:T=T.next=l}else x=T=l;d={baseState:y.baseState,firstBaseUpdate:x,lastBaseUpdate:T,shared:y.shared,effects:y.effects},o.updateQueue=d;return}o=d.lastBaseUpdate,o===null?d.firstBaseUpdate=l:o.next=l,d.lastBaseUpdate=l}function eh(o,l,d,y){var x=o.updateQueue;Ja=!1;var T=x.firstBaseUpdate,$=x.lastBaseUpdate,B=x.shared.pending;if(B!==null){x.shared.pending=null;var K=B,oe=K.next;K.next=null,$===null?T=oe:$.next=oe,$=K;var he=o.alternate;he!==null&&(he=he.updateQueue,B=he.lastBaseUpdate,B!==$&&(B===null?he.firstBaseUpdate=oe:B.next=oe,he.lastBaseUpdate=K))}if(T!==null){var me=x.baseState;$=0,he=oe=K=null,B=T;do{var fe=B.lane,we=B.eventTime;if((y&fe)===fe){he!==null&&(he=he.next={eventTime:we,lane:0,tag:B.tag,payload:B.payload,callback:B.callback,next:null});e:{var Ae=o,Oe=B;switch(fe=l,we=d,Oe.tag){case 1:if(Ae=Oe.payload,typeof Ae=="function"){me=Ae.call(we,me,fe);break e}me=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Oe.payload,fe=typeof Ae=="function"?Ae.call(we,me,fe):Ae,fe==null)break e;me=ae({},me,fe);break e;case 2:Ja=!0}}B.callback!==null&&B.lane!==0&&(o.flags|=64,fe=x.effects,fe===null?x.effects=[B]:fe.push(B))}else we={eventTime:we,lane:fe,tag:B.tag,payload:B.payload,callback:B.callback,next:null},he===null?(oe=he=we,K=me):he=he.next=we,$|=fe;if(B=B.next,B===null){if(B=x.shared.pending,B===null)break;fe=B,B=fe.next,fe.next=null,x.lastBaseUpdate=fe,x.shared.pending=null}}while(!0);if(he===null&&(K=me),x.baseState=K,x.firstBaseUpdate=oe,x.lastBaseUpdate=he,l=x.shared.interleaved,l!==null){x=l;do $|=x.lane,x=x.next;while(x!==l)}else T===null&&(x.shared.lanes=0);rs|=$,o.lanes=$,o.memoizedState=me}}function sT(o,l,d){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var y=o[l],x=y.callback;if(x!==null){if(y.callback=null,y=d,typeof x!="function")throw Error(r(191,x));x.call(y)}}}var fc={},Ai=Ya(fc),dc=Ya(fc),hc=Ya(fc);function es(o){if(o===fc)throw Error(r(174));return o}function fy(o,l){switch(St(hc,l),St(dc,o),St(Ai,fc),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Vt(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=Vt(l,o)}kt(Ai),St(Ai,l)}function Ol(){kt(Ai),kt(dc),kt(hc)}function lT(o){es(hc.current);var l=es(Ai.current),d=Vt(l,o.type);l!==d&&(St(dc,o),St(Ai,d))}function dy(o){dc.current===o&&(kt(Ai),kt(dc))}var Rt=Ya(0);function th(o){for(var l=o;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var hy=[];function py(){for(var o=0;o<hy.length;o++)hy[o]._workInProgressVersionPrimary=null;hy.length=0}var rh=V.ReactCurrentDispatcher,my=V.ReactCurrentBatchConfig,ts=0,Dt=null,er=null,ur=null,nh=!1,pc=!1,mc=0,v3=0;function Or(){throw Error(r(321))}function gy(o,l){if(l===null)return!1;for(var d=0;d<l.length&&d<o.length;d++)if(!ni(o[d],l[d]))return!1;return!0}function yy(o,l,d,y,x,T){if(ts=T,Dt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,rh.current=o===null||o.memoizedState===null?w3:S3,o=d(y,x),pc){T=0;do{if(pc=!1,mc=0,25<=T)throw Error(r(301));T+=1,ur=er=null,l.updateQueue=null,rh.current=E3,o=d(y,x)}while(pc)}if(rh.current=oh,l=er!==null&&er.next!==null,ts=0,ur=er=Dt=null,nh=!1,l)throw Error(r(300));return o}function vy(){var o=mc!==0;return mc=0,o}function Pi(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ur===null?Dt.memoizedState=ur=o:ur=ur.next=o,ur}function Rn(){if(er===null){var o=Dt.alternate;o=o!==null?o.memoizedState:null}else o=er.next;var l=ur===null?Dt.memoizedState:ur.next;if(l!==null)ur=l,er=o;else{if(o===null)throw Error(r(310));er=o,o={memoizedState:er.memoizedState,baseState:er.baseState,baseQueue:er.baseQueue,queue:er.queue,next:null},ur===null?Dt.memoizedState=ur=o:ur=ur.next=o}return ur}function gc(o,l){return typeof l=="function"?l(o):l}function by(o){var l=Rn(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=o;var y=er,x=y.baseQueue,T=d.pending;if(T!==null){if(x!==null){var $=x.next;x.next=T.next,T.next=$}y.baseQueue=x=T,d.pending=null}if(x!==null){T=x.next,y=y.baseState;var B=$=null,K=null,oe=T;do{var he=oe.lane;if((ts&he)===he)K!==null&&(K=K.next={lane:0,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),y=oe.hasEagerState?oe.eagerState:o(y,oe.action);else{var me={lane:he,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null};K===null?(B=K=me,$=y):K=K.next=me,Dt.lanes|=he,rs|=he}oe=oe.next}while(oe!==null&&oe!==T);K===null?$=y:K.next=B,ni(y,l.memoizedState)||(rn=!0),l.memoizedState=y,l.baseState=$,l.baseQueue=K,d.lastRenderedState=y}if(o=d.interleaved,o!==null){x=o;do T=x.lane,Dt.lanes|=T,rs|=T,x=x.next;while(x!==o)}else x===null&&(d.lanes=0);return[l.memoizedState,d.dispatch]}function xy(o){var l=Rn(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=o;var y=d.dispatch,x=d.pending,T=l.memoizedState;if(x!==null){d.pending=null;var $=x=x.next;do T=o(T,$.action),$=$.next;while($!==x);ni(T,l.memoizedState)||(rn=!0),l.memoizedState=T,l.baseQueue===null&&(l.baseState=T),d.lastRenderedState=T}return[T,y]}function uT(){}function cT(o,l){var d=Dt,y=Rn(),x=l(),T=!ni(y.memoizedState,x);if(T&&(y.memoizedState=x,rn=!0),y=y.queue,_y(hT.bind(null,d,y,o),[o]),y.getSnapshot!==l||T||ur!==null&&ur.memoizedState.tag&1){if(d.flags|=2048,yc(9,dT.bind(null,d,y,x,l),void 0,null),cr===null)throw Error(r(349));(ts&30)!==0||fT(d,l,x)}return x}function fT(o,l,d){o.flags|=16384,o={getSnapshot:l,value:d},l=Dt.updateQueue,l===null?(l={lastEffect:null,stores:null},Dt.updateQueue=l,l.stores=[o]):(d=l.stores,d===null?l.stores=[o]:d.push(o))}function dT(o,l,d,y){l.value=d,l.getSnapshot=y,pT(l)&&mT(o)}function hT(o,l,d){return d(function(){pT(l)&&mT(o)})}function pT(o){var l=o.getSnapshot;o=o.value;try{var d=l();return!ni(o,d)}catch{return!0}}function mT(o){var l=aa(o,1);l!==null&&li(l,o,1,-1)}function gT(o){var l=Pi();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gc,lastRenderedState:o},l.queue=o,o=o.dispatch=_3.bind(null,Dt,o),[l.memoizedState,o]}function yc(o,l,d,y){return o={tag:o,create:l,destroy:d,deps:y,next:null},l=Dt.updateQueue,l===null?(l={lastEffect:null,stores:null},Dt.updateQueue=l,l.lastEffect=o.next=o):(d=l.lastEffect,d===null?l.lastEffect=o.next=o:(y=d.next,d.next=o,o.next=y,l.lastEffect=o)),o}function yT(){return Rn().memoizedState}function ih(o,l,d,y){var x=Pi();Dt.flags|=o,x.memoizedState=yc(1|l,d,void 0,y===void 0?null:y)}function ah(o,l,d,y){var x=Rn();y=y===void 0?null:y;var T=void 0;if(er!==null){var $=er.memoizedState;if(T=$.destroy,y!==null&&gy(y,$.deps)){x.memoizedState=yc(l,d,T,y);return}}Dt.flags|=o,x.memoizedState=yc(1|l,d,T,y)}function vT(o,l){return ih(8390656,8,o,l)}function _y(o,l){return ah(2048,8,o,l)}function bT(o,l){return ah(4,2,o,l)}function xT(o,l){return ah(4,4,o,l)}function _T(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function wT(o,l,d){return d=d!=null?d.concat([o]):null,ah(4,4,_T.bind(null,l,o),d)}function wy(){}function ST(o,l){var d=Rn();l=l===void 0?null:l;var y=d.memoizedState;return y!==null&&l!==null&&gy(l,y[1])?y[0]:(d.memoizedState=[o,l],o)}function ET(o,l){var d=Rn();l=l===void 0?null:l;var y=d.memoizedState;return y!==null&&l!==null&&gy(l,y[1])?y[0]:(o=o(),d.memoizedState=[o,l],o)}function TT(o,l,d){return(ts&21)===0?(o.baseState&&(o.baseState=!1,rn=!0),o.memoizedState=d):(ni(d,l)||(d=zo(),Dt.lanes|=d,rs|=d,o.baseState=!0),l)}function b3(o,l){var d=nt;nt=d!==0&&4>d?d:4,o(!0);var y=my.transition;my.transition={};try{o(!1),l()}finally{nt=d,my.transition=y}}function AT(){return Rn().memoizedState}function x3(o,l,d){var y=no(o);if(d={lane:y,action:d,hasEagerState:!1,eagerState:null,next:null},PT(o))kT(l,d);else if(d=iT(o,l,d,y),d!==null){var x=zr();li(d,o,y,x),OT(d,l,y)}}function _3(o,l,d){var y=no(o),x={lane:y,action:d,hasEagerState:!1,eagerState:null,next:null};if(PT(o))kT(l,x);else{var T=o.alternate;if(o.lanes===0&&(T===null||T.lanes===0)&&(T=l.lastRenderedReducer,T!==null))try{var $=l.lastRenderedState,B=T($,d);if(x.hasEagerState=!0,x.eagerState=B,ni(B,$)){var K=l.interleaved;K===null?(x.next=x,uy(l)):(x.next=K.next,K.next=x),l.interleaved=x;return}}catch{}finally{}d=iT(o,l,x,y),d!==null&&(x=zr(),li(d,o,y,x),OT(d,l,y))}}function PT(o){var l=o.alternate;return o===Dt||l!==null&&l===Dt}function kT(o,l){pc=nh=!0;var d=o.pending;d===null?l.next=l:(l.next=d.next,d.next=l),o.pending=l}function OT(o,l,d){if((d&4194240)!==0){var y=l.lanes;y&=o.pendingLanes,d|=y,l.lanes=d,Ba(o,d)}}var oh={readContext:jn,useCallback:Or,useContext:Or,useEffect:Or,useImperativeHandle:Or,useInsertionEffect:Or,useLayoutEffect:Or,useMemo:Or,useReducer:Or,useRef:Or,useState:Or,useDebugValue:Or,useDeferredValue:Or,useTransition:Or,useMutableSource:Or,useSyncExternalStore:Or,useId:Or,unstable_isNewReconciler:!1},w3={readContext:jn,useCallback:function(o,l){return Pi().memoizedState=[o,l===void 0?null:l],o},useContext:jn,useEffect:vT,useImperativeHandle:function(o,l,d){return d=d!=null?d.concat([o]):null,ih(4194308,4,_T.bind(null,l,o),d)},useLayoutEffect:function(o,l){return ih(4194308,4,o,l)},useInsertionEffect:function(o,l){return ih(4,2,o,l)},useMemo:function(o,l){var d=Pi();return l=l===void 0?null:l,o=o(),d.memoizedState=[o,l],o},useReducer:function(o,l,d){var y=Pi();return l=d!==void 0?d(l):l,y.memoizedState=y.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},y.queue=o,o=o.dispatch=x3.bind(null,Dt,o),[y.memoizedState,o]},useRef:function(o){var l=Pi();return o={current:o},l.memoizedState=o},useState:gT,useDebugValue:wy,useDeferredValue:function(o){return Pi().memoizedState=o},useTransition:function(){var o=gT(!1),l=o[0];return o=b3.bind(null,o[1]),Pi().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,d){var y=Dt,x=Pi();if(Nt){if(d===void 0)throw Error(r(407));d=d()}else{if(d=l(),cr===null)throw Error(r(349));(ts&30)!==0||fT(y,l,d)}x.memoizedState=d;var T={value:d,getSnapshot:l};return x.queue=T,vT(hT.bind(null,y,T,o),[o]),y.flags|=2048,yc(9,dT.bind(null,y,T,d,l),void 0,null),d},useId:function(){var o=Pi(),l=cr.identifierPrefix;if(Nt){var d=ia,y=na;d=(y&~(1<<32-Ur(y)-1)).toString(32)+d,l=":"+l+"R"+d,d=mc++,0<d&&(l+="H"+d.toString(32)),l+=":"}else d=v3++,l=":"+l+"r"+d.toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},S3={readContext:jn,useCallback:ST,useContext:jn,useEffect:_y,useImperativeHandle:wT,useInsertionEffect:bT,useLayoutEffect:xT,useMemo:ET,useReducer:by,useRef:yT,useState:function(){return by(gc)},useDebugValue:wy,useDeferredValue:function(o){var l=Rn();return TT(l,er.memoizedState,o)},useTransition:function(){var o=by(gc)[0],l=Rn().memoizedState;return[o,l]},useMutableSource:uT,useSyncExternalStore:cT,useId:AT,unstable_isNewReconciler:!1},E3={readContext:jn,useCallback:ST,useContext:jn,useEffect:_y,useImperativeHandle:wT,useInsertionEffect:bT,useLayoutEffect:xT,useMemo:ET,useReducer:xy,useRef:yT,useState:function(){return xy(gc)},useDebugValue:wy,useDeferredValue:function(o){var l=Rn();return er===null?l.memoizedState=o:TT(l,er.memoizedState,o)},useTransition:function(){var o=xy(gc)[0],l=Rn().memoizedState;return[o,l]},useMutableSource:uT,useSyncExternalStore:cT,useId:AT,unstable_isNewReconciler:!1};function ai(o,l){if(o&&o.defaultProps){l=ae({},l),o=o.defaultProps;for(var d in o)l[d]===void 0&&(l[d]=o[d]);return l}return l}function Sy(o,l,d,y){l=o.memoizedState,d=d(y,l),d=d==null?l:ae({},l,d),o.memoizedState=d,o.lanes===0&&(o.updateQueue.baseState=d)}var sh={isMounted:function(o){return(o=o._reactInternals)?He(o)===o:!1},enqueueSetState:function(o,l,d){o=o._reactInternals;var y=zr(),x=no(o),T=oa(y,x);T.payload=l,d!=null&&(T.callback=d),l=Za(o,T,x),l!==null&&(li(l,o,x,y),Zd(l,o,x))},enqueueReplaceState:function(o,l,d){o=o._reactInternals;var y=zr(),x=no(o),T=oa(y,x);T.tag=1,T.payload=l,d!=null&&(T.callback=d),l=Za(o,T,x),l!==null&&(li(l,o,x,y),Zd(l,o,x))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var d=zr(),y=no(o),x=oa(d,y);x.tag=2,l!=null&&(x.callback=l),l=Za(o,x,y),l!==null&&(li(l,o,y,d),Zd(l,o,y))}};function IT(o,l,d,y,x,T,$){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(y,T,$):l.prototype&&l.prototype.isPureReactComponent?!nc(d,y)||!nc(x,T):!0}function CT(o,l,d){var y=!1,x=Xa,T=l.contextType;return typeof T=="object"&&T!==null?T=jn(T):(x=tn(l)?Xo:kr.current,y=l.contextTypes,T=(y=y!=null)?wl(o,x):Xa),l=new l(d,T),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=sh,o.stateNode=l,l._reactInternals=o,y&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=x,o.__reactInternalMemoizedMaskedChildContext=T),l}function NT(o,l,d,y){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,y),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,y),l.state!==o&&sh.enqueueReplaceState(l,l.state,null)}function Ey(o,l,d,y){var x=o.stateNode;x.props=d,x.state=o.memoizedState,x.refs={},cy(o);var T=l.contextType;typeof T=="object"&&T!==null?x.context=jn(T):(T=tn(l)?Xo:kr.current,x.context=wl(o,T)),x.state=o.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(Sy(o,l,T,d),x.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(l=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),l!==x.state&&sh.enqueueReplaceState(x,x.state,null),eh(o,d,x,y),x.state=o.memoizedState),typeof x.componentDidMount=="function"&&(o.flags|=4194308)}function Il(o,l){try{var d="",y=l;do d+=Pe(y),y=y.return;while(y);var x=d}catch(T){x=`
Error generating stack: `+T.message+`
`+T.stack}return{value:o,source:l,stack:x,digest:null}}function Ty(o,l,d){return{value:o,source:null,stack:d??null,digest:l??null}}function Ay(o,l){try{console.error(l.value)}catch(d){setTimeout(function(){throw d})}}var T3=typeof WeakMap=="function"?WeakMap:Map;function jT(o,l,d){d=oa(-1,d),d.tag=3,d.payload={element:null};var y=l.value;return d.callback=function(){ph||(ph=!0,Uy=y),Ay(o,l)},d}function RT(o,l,d){d=oa(-1,d),d.tag=3;var y=o.type.getDerivedStateFromError;if(typeof y=="function"){var x=l.value;d.payload=function(){return y(x)},d.callback=function(){Ay(o,l)}}var T=o.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(d.callback=function(){Ay(o,l),typeof y!="function"&&(to===null?to=new Set([this]):to.add(this));var $=l.stack;this.componentDidCatch(l.value,{componentStack:$!==null?$:""})}),d}function DT(o,l,d){var y=o.pingCache;if(y===null){y=o.pingCache=new T3;var x=new Set;y.set(l,x)}else x=y.get(l),x===void 0&&(x=new Set,y.set(l,x));x.has(d)||(x.add(d),o=V3.bind(null,o,l,d),l.then(o,o))}function MT(o){do{var l;if((l=o.tag===13)&&(l=o.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return o;o=o.return}while(o!==null);return null}function LT(o,l,d,y,x){return(o.mode&1)===0?(o===l?o.flags|=65536:(o.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(l=oa(-1,1),l.tag=2,Za(d,l,1))),d.lanes|=1),o):(o.flags|=65536,o.lanes=x,o)}var A3=V.ReactCurrentOwner,rn=!1;function qr(o,l,d,y){l.child=o===null?nT(l,null,d,y):Al(l,o.child,d,y)}function $T(o,l,d,y,x){d=d.render;var T=l.ref;return kl(l,x),y=yy(o,l,d,y,T,x),d=vy(),o!==null&&!rn?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~x,sa(o,l,x)):(Nt&&d&&ey(l),l.flags|=1,qr(o,l,y,x),l.child)}function VT(o,l,d,y,x){if(o===null){var T=d.type;return typeof T=="function"&&!Gy(T)&&T.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(l.tag=15,l.type=T,FT(o,l,T,y,x)):(o=xh(d.type,null,y,l,l.mode,x),o.ref=l.ref,o.return=l,l.child=o)}if(T=o.child,(o.lanes&x)===0){var $=T.memoizedProps;if(d=d.compare,d=d!==null?d:nc,d($,y)&&o.ref===l.ref)return sa(o,l,x)}return l.flags|=1,o=ao(T,y),o.ref=l.ref,o.return=l,l.child=o}function FT(o,l,d,y,x){if(o!==null){var T=o.memoizedProps;if(nc(T,y)&&o.ref===l.ref)if(rn=!1,l.pendingProps=y=T,(o.lanes&x)!==0)(o.flags&131072)!==0&&(rn=!0);else return l.lanes=o.lanes,sa(o,l,x)}return Py(o,l,d,y,x)}function UT(o,l,d){var y=l.pendingProps,x=y.children,T=o!==null?o.memoizedState:null;if(y.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},St(Nl,bn),bn|=d;else{if((d&1073741824)===0)return o=T!==null?T.baseLanes|d:d,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,St(Nl,bn),bn|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=T!==null?T.baseLanes:d,St(Nl,bn),bn|=y}else T!==null?(y=T.baseLanes|d,l.memoizedState=null):y=d,St(Nl,bn),bn|=y;return qr(o,l,x,d),l.child}function BT(o,l){var d=l.ref;(o===null&&d!==null||o!==null&&o.ref!==d)&&(l.flags|=512,l.flags|=2097152)}function Py(o,l,d,y,x){var T=tn(d)?Xo:kr.current;return T=wl(l,T),kl(l,x),d=yy(o,l,d,y,T,x),y=vy(),o!==null&&!rn?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~x,sa(o,l,x)):(Nt&&y&&ey(l),l.flags|=1,qr(o,l,d,x),l.child)}function qT(o,l,d,y,x){if(tn(d)){var T=!0;Wd(l)}else T=!1;if(kl(l,x),l.stateNode===null)uh(o,l),CT(l,d,y),Ey(l,d,y,x),y=!0;else if(o===null){var $=l.stateNode,B=l.memoizedProps;$.props=B;var K=$.context,oe=d.contextType;typeof oe=="object"&&oe!==null?oe=jn(oe):(oe=tn(d)?Xo:kr.current,oe=wl(l,oe));var he=d.getDerivedStateFromProps,me=typeof he=="function"||typeof $.getSnapshotBeforeUpdate=="function";me||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(B!==y||K!==oe)&&NT(l,$,y,oe),Ja=!1;var fe=l.memoizedState;$.state=fe,eh(l,y,$,x),K=l.memoizedState,B!==y||fe!==K||en.current||Ja?(typeof he=="function"&&(Sy(l,d,he,y),K=l.memoizedState),(B=Ja||IT(l,d,B,y,fe,K,oe))?(me||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(l.flags|=4194308)):(typeof $.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=y,l.memoizedState=K),$.props=y,$.state=K,$.context=oe,y=B):(typeof $.componentDidMount=="function"&&(l.flags|=4194308),y=!1)}else{$=l.stateNode,aT(o,l),B=l.memoizedProps,oe=l.type===l.elementType?B:ai(l.type,B),$.props=oe,me=l.pendingProps,fe=$.context,K=d.contextType,typeof K=="object"&&K!==null?K=jn(K):(K=tn(d)?Xo:kr.current,K=wl(l,K));var we=d.getDerivedStateFromProps;(he=typeof we=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(B!==me||fe!==K)&&NT(l,$,y,K),Ja=!1,fe=l.memoizedState,$.state=fe,eh(l,y,$,x);var Ae=l.memoizedState;B!==me||fe!==Ae||en.current||Ja?(typeof we=="function"&&(Sy(l,d,we,y),Ae=l.memoizedState),(oe=Ja||IT(l,d,oe,y,fe,Ae,K)||!1)?(he||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(y,Ae,K),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(y,Ae,K)),typeof $.componentDidUpdate=="function"&&(l.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof $.componentDidUpdate!="function"||B===o.memoizedProps&&fe===o.memoizedState||(l.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||B===o.memoizedProps&&fe===o.memoizedState||(l.flags|=1024),l.memoizedProps=y,l.memoizedState=Ae),$.props=y,$.state=Ae,$.context=K,y=oe):(typeof $.componentDidUpdate!="function"||B===o.memoizedProps&&fe===o.memoizedState||(l.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||B===o.memoizedProps&&fe===o.memoizedState||(l.flags|=1024),y=!1)}return ky(o,l,d,y,T,x)}function ky(o,l,d,y,x,T){BT(o,l);var $=(l.flags&128)!==0;if(!y&&!$)return x&&GE(l,d,!1),sa(o,l,T);y=l.stateNode,A3.current=l;var B=$&&typeof d.getDerivedStateFromError!="function"?null:y.render();return l.flags|=1,o!==null&&$?(l.child=Al(l,o.child,null,T),l.child=Al(l,null,B,T)):qr(o,l,B,T),l.memoizedState=y.state,x&&GE(l,d,!0),l.child}function zT(o){var l=o.stateNode;l.pendingContext?HE(o,l.pendingContext,l.pendingContext!==l.context):l.context&&HE(o,l.context,!1),fy(o,l.containerInfo)}function WT(o,l,d,y,x){return Tl(),iy(x),l.flags|=256,qr(o,l,d,y),l.child}var Oy={dehydrated:null,treeContext:null,retryLane:0};function Iy(o){return{baseLanes:o,cachePool:null,transitions:null}}function HT(o,l,d){var y=l.pendingProps,x=Rt.current,T=!1,$=(l.flags&128)!==0,B;if((B=$)||(B=o!==null&&o.memoizedState===null?!1:(x&2)!==0),B?(T=!0,l.flags&=-129):(o===null||o.memoizedState!==null)&&(x|=1),St(Rt,x&1),o===null)return ny(l),o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((l.mode&1)===0?l.lanes=1:o.data==="$!"?l.lanes=8:l.lanes=1073741824,null):($=y.children,o=y.fallback,T?(y=l.mode,T=l.child,$={mode:"hidden",children:$},(y&1)===0&&T!==null?(T.childLanes=0,T.pendingProps=$):T=_h($,y,0,null),o=os(o,y,d,null),T.return=l,o.return=l,T.sibling=o,l.child=T,l.child.memoizedState=Iy(d),l.memoizedState=Oy,o):Cy(l,$));if(x=o.memoizedState,x!==null&&(B=x.dehydrated,B!==null))return P3(o,l,$,y,B,x,d);if(T){T=y.fallback,$=l.mode,x=o.child,B=x.sibling;var K={mode:"hidden",children:y.children};return($&1)===0&&l.child!==x?(y=l.child,y.childLanes=0,y.pendingProps=K,l.deletions=null):(y=ao(x,K),y.subtreeFlags=x.subtreeFlags&14680064),B!==null?T=ao(B,T):(T=os(T,$,d,null),T.flags|=2),T.return=l,y.return=l,y.sibling=T,l.child=y,y=T,T=l.child,$=o.child.memoizedState,$=$===null?Iy(d):{baseLanes:$.baseLanes|d,cachePool:null,transitions:$.transitions},T.memoizedState=$,T.childLanes=o.childLanes&~d,l.memoizedState=Oy,y}return T=o.child,o=T.sibling,y=ao(T,{mode:"visible",children:y.children}),(l.mode&1)===0&&(y.lanes=d),y.return=l,y.sibling=null,o!==null&&(d=l.deletions,d===null?(l.deletions=[o],l.flags|=16):d.push(o)),l.child=y,l.memoizedState=null,y}function Cy(o,l){return l=_h({mode:"visible",children:l},o.mode,0,null),l.return=o,o.child=l}function lh(o,l,d,y){return y!==null&&iy(y),Al(l,o.child,null,d),o=Cy(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function P3(o,l,d,y,x,T,$){if(d)return l.flags&256?(l.flags&=-257,y=Ty(Error(r(422))),lh(o,l,$,y)):l.memoizedState!==null?(l.child=o.child,l.flags|=128,null):(T=y.fallback,x=l.mode,y=_h({mode:"visible",children:y.children},x,0,null),T=os(T,x,$,null),T.flags|=2,y.return=l,T.return=l,y.sibling=T,l.child=y,(l.mode&1)!==0&&Al(l,o.child,null,$),l.child.memoizedState=Iy($),l.memoizedState=Oy,T);if((l.mode&1)===0)return lh(o,l,$,null);if(x.data==="$!"){if(y=x.nextSibling&&x.nextSibling.dataset,y)var B=y.dgst;return y=B,T=Error(r(419)),y=Ty(T,y,void 0),lh(o,l,$,y)}if(B=($&o.childLanes)!==0,rn||B){if(y=cr,y!==null){switch($&-$){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(y.suspendedLanes|$))!==0?0:x,x!==0&&x!==T.retryLane&&(T.retryLane=x,aa(o,x),li(y,o,x,-1))}return Ky(),y=Ty(Error(r(421))),lh(o,l,$,y)}return x.data==="$?"?(l.flags|=128,l.child=o.child,l=F3.bind(null,o),x._reactRetry=l,null):(o=T.treeContext,vn=Ga(x.nextSibling),yn=l,Nt=!0,ii=null,o!==null&&(Cn[Nn++]=na,Cn[Nn++]=ia,Cn[Nn++]=Qo,na=o.id,ia=o.overflow,Qo=l),l=Cy(l,y.children),l.flags|=4096,l)}function KT(o,l,d){o.lanes|=l;var y=o.alternate;y!==null&&(y.lanes|=l),ly(o.return,l,d)}function Ny(o,l,d,y,x){var T=o.memoizedState;T===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:y,tail:d,tailMode:x}:(T.isBackwards=l,T.rendering=null,T.renderingStartTime=0,T.last=y,T.tail=d,T.tailMode=x)}function GT(o,l,d){var y=l.pendingProps,x=y.revealOrder,T=y.tail;if(qr(o,l,y.children,d),y=Rt.current,(y&2)!==0)y=y&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&KT(o,d,l);else if(o.tag===19)KT(o,d,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}y&=1}if(St(Rt,y),(l.mode&1)===0)l.memoizedState=null;else switch(x){case"forwards":for(d=l.child,x=null;d!==null;)o=d.alternate,o!==null&&th(o)===null&&(x=d),d=d.sibling;d=x,d===null?(x=l.child,l.child=null):(x=d.sibling,d.sibling=null),Ny(l,!1,x,d,T);break;case"backwards":for(d=null,x=l.child,l.child=null;x!==null;){if(o=x.alternate,o!==null&&th(o)===null){l.child=x;break}o=x.sibling,x.sibling=d,d=x,x=o}Ny(l,!0,d,null,T);break;case"together":Ny(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function uh(o,l){(l.mode&1)===0&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function sa(o,l,d){if(o!==null&&(l.dependencies=o.dependencies),rs|=l.lanes,(d&l.childLanes)===0)return null;if(o!==null&&l.child!==o.child)throw Error(r(153));if(l.child!==null){for(o=l.child,d=ao(o,o.pendingProps),l.child=d,d.return=l;o.sibling!==null;)o=o.sibling,d=d.sibling=ao(o,o.pendingProps),d.return=l;d.sibling=null}return l.child}function k3(o,l,d){switch(l.tag){case 3:zT(l),Tl();break;case 5:lT(l);break;case 1:tn(l.type)&&Wd(l);break;case 4:fy(l,l.stateNode.containerInfo);break;case 10:var y=l.type._context,x=l.memoizedProps.value;St(Qd,y._currentValue),y._currentValue=x;break;case 13:if(y=l.memoizedState,y!==null)return y.dehydrated!==null?(St(Rt,Rt.current&1),l.flags|=128,null):(d&l.child.childLanes)!==0?HT(o,l,d):(St(Rt,Rt.current&1),o=sa(o,l,d),o!==null?o.sibling:null);St(Rt,Rt.current&1);break;case 19:if(y=(d&l.childLanes)!==0,(o.flags&128)!==0){if(y)return GT(o,l,d);l.flags|=128}if(x=l.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),St(Rt,Rt.current),y)break;return null;case 22:case 23:return l.lanes=0,UT(o,l,d)}return sa(o,l,d)}var YT,jy,XT,QT;YT=function(o,l){for(var d=l.child;d!==null;){if(d.tag===5||d.tag===6)o.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},jy=function(){},XT=function(o,l,d,y){var x=o.memoizedProps;if(x!==y){o=l.stateNode,es(Ai.current);var T=null;switch(d){case"input":x=_e(o,x),y=_e(o,y),T=[];break;case"select":x=ae({},x,{value:void 0}),y=ae({},y,{value:void 0}),T=[];break;case"textarea":x=gr(o,x),y=gr(o,y),T=[];break;default:typeof x.onClick!="function"&&typeof y.onClick=="function"&&(o.onclick=Bd)}Mo(d,y);var $;d=null;for(oe in x)if(!y.hasOwnProperty(oe)&&x.hasOwnProperty(oe)&&x[oe]!=null)if(oe==="style"){var B=x[oe];for($ in B)B.hasOwnProperty($)&&(d||(d={}),d[$]="")}else oe!=="dangerouslySetInnerHTML"&&oe!=="children"&&oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&oe!=="autoFocus"&&(i.hasOwnProperty(oe)?T||(T=[]):(T=T||[]).push(oe,null));for(oe in y){var K=y[oe];if(B=x?.[oe],y.hasOwnProperty(oe)&&K!==B&&(K!=null||B!=null))if(oe==="style")if(B){for($ in B)!B.hasOwnProperty($)||K&&K.hasOwnProperty($)||(d||(d={}),d[$]="");for($ in K)K.hasOwnProperty($)&&B[$]!==K[$]&&(d||(d={}),d[$]=K[$])}else d||(T||(T=[]),T.push(oe,d)),d=K;else oe==="dangerouslySetInnerHTML"?(K=K?K.__html:void 0,B=B?B.__html:void 0,K!=null&&B!==K&&(T=T||[]).push(oe,K)):oe==="children"?typeof K!="string"&&typeof K!="number"||(T=T||[]).push(oe,""+K):oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&(i.hasOwnProperty(oe)?(K!=null&&oe==="onScroll"&&Pt("scroll",o),T||B===K||(T=[])):(T=T||[]).push(oe,K))}d&&(T=T||[]).push("style",d);var oe=T;(l.updateQueue=oe)&&(l.flags|=4)}},QT=function(o,l,d,y){d!==y&&(l.flags|=4)};function vc(o,l){if(!Nt)switch(o.tailMode){case"hidden":l=o.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o.tail=null:d.sibling=null;break;case"collapsed":d=o.tail;for(var y=null;d!==null;)d.alternate!==null&&(y=d),d=d.sibling;y===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:y.sibling=null}}function Ir(o){var l=o.alternate!==null&&o.alternate.child===o.child,d=0,y=0;if(l)for(var x=o.child;x!==null;)d|=x.lanes|x.childLanes,y|=x.subtreeFlags&14680064,y|=x.flags&14680064,x.return=o,x=x.sibling;else for(x=o.child;x!==null;)d|=x.lanes|x.childLanes,y|=x.subtreeFlags,y|=x.flags,x.return=o,x=x.sibling;return o.subtreeFlags|=y,o.childLanes=d,l}function O3(o,l,d){var y=l.pendingProps;switch(ty(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ir(l),null;case 1:return tn(l.type)&&zd(),Ir(l),null;case 3:return y=l.stateNode,Ol(),kt(en),kt(kr),py(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(o===null||o.child===null)&&(Yd(l)?l.flags|=4:o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,ii!==null&&(zy(ii),ii=null))),jy(o,l),Ir(l),null;case 5:dy(l);var x=es(hc.current);if(d=l.type,o!==null&&l.stateNode!=null)XT(o,l,d,y,x),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!y){if(l.stateNode===null)throw Error(r(166));return Ir(l),null}if(o=es(Ai.current),Yd(l)){y=l.stateNode,d=l.type;var T=l.memoizedProps;switch(y[Ti]=l,y[lc]=T,o=(l.mode&1)!==0,d){case"dialog":Pt("cancel",y),Pt("close",y);break;case"iframe":case"object":case"embed":Pt("load",y);break;case"video":case"audio":for(x=0;x<ac.length;x++)Pt(ac[x],y);break;case"source":Pt("error",y);break;case"img":case"image":case"link":Pt("error",y),Pt("load",y);break;case"details":Pt("toggle",y);break;case"input":Ne(y,T),Pt("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!T.multiple},Pt("invalid",y);break;case"textarea":Tn(y,T),Pt("invalid",y)}Mo(d,T),x=null;for(var $ in T)if(T.hasOwnProperty($)){var B=T[$];$==="children"?typeof B=="string"?y.textContent!==B&&(T.suppressHydrationWarning!==!0&&Ud(y.textContent,B,o),x=["children",B]):typeof B=="number"&&y.textContent!==""+B&&(T.suppressHydrationWarning!==!0&&Ud(y.textContent,B,o),x=["children",""+B]):i.hasOwnProperty($)&&B!=null&&$==="onScroll"&&Pt("scroll",y)}switch(d){case"input":Re(y),Yr(y,T,!0);break;case"textarea":Re(y),bi(y);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(y.onclick=Bd)}y=x,l.updateQueue=y,y!==null&&(l.flags|=4)}else{$=x.nodeType===9?x:x.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=$t(d)),o==="http://www.w3.org/1999/xhtml"?d==="script"?(o=$.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof y.is=="string"?o=$.createElement(d,{is:y.is}):(o=$.createElement(d),d==="select"&&($=o,y.multiple?$.multiple=!0:y.size&&($.size=y.size))):o=$.createElementNS(o,d),o[Ti]=l,o[lc]=y,YT(o,l,!1,!1),l.stateNode=o;e:{switch($=Lo(d,y),d){case"dialog":Pt("cancel",o),Pt("close",o),x=y;break;case"iframe":case"object":case"embed":Pt("load",o),x=y;break;case"video":case"audio":for(x=0;x<ac.length;x++)Pt(ac[x],o);x=y;break;case"source":Pt("error",o),x=y;break;case"img":case"image":case"link":Pt("error",o),Pt("load",o),x=y;break;case"details":Pt("toggle",o),x=y;break;case"input":Ne(o,y),x=_e(o,y),Pt("invalid",o);break;case"option":x=y;break;case"select":o._wrapperState={wasMultiple:!!y.multiple},x=ae({},y,{value:void 0}),Pt("invalid",o);break;case"textarea":Tn(o,y),x=gr(o,y),Pt("invalid",o);break;default:x=y}Mo(d,x),B=x;for(T in B)if(B.hasOwnProperty(T)){var K=B[T];T==="style"?Js(o,K):T==="dangerouslySetInnerHTML"?(K=K?K.__html:void 0,K!=null&&Ra(o,K)):T==="children"?typeof K=="string"?(d!=="textarea"||K!=="")&&Hi(o,K):typeof K=="number"&&Hi(o,""+K):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(i.hasOwnProperty(T)?K!=null&&T==="onScroll"&&Pt("scroll",o):K!=null&&R(o,T,K,$))}switch(d){case"input":Re(o),Yr(o,y,!1);break;case"textarea":Re(o),bi(o);break;case"option":y.value!=null&&o.setAttribute("value",""+je(y.value));break;case"select":o.multiple=!!y.multiple,T=y.value,T!=null?Qt(o,!!y.multiple,T,!1):y.defaultValue!=null&&Qt(o,!!y.multiple,y.defaultValue,!0);break;default:typeof x.onClick=="function"&&(o.onclick=Bd)}switch(d){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Ir(l),null;case 6:if(o&&l.stateNode!=null)QT(o,l,o.memoizedProps,y);else{if(typeof y!="string"&&l.stateNode===null)throw Error(r(166));if(d=es(hc.current),es(Ai.current),Yd(l)){if(y=l.stateNode,d=l.memoizedProps,y[Ti]=l,(T=y.nodeValue!==d)&&(o=yn,o!==null))switch(o.tag){case 3:Ud(y.nodeValue,d,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Ud(y.nodeValue,d,(o.mode&1)!==0)}T&&(l.flags|=4)}else y=(d.nodeType===9?d:d.ownerDocument).createTextNode(y),y[Ti]=l,l.stateNode=y}return Ir(l),null;case 13:if(kt(Rt),y=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Nt&&vn!==null&&(l.mode&1)!==0&&(l.flags&128)===0)eT(),Tl(),l.flags|=98560,T=!1;else if(T=Yd(l),y!==null&&y.dehydrated!==null){if(o===null){if(!T)throw Error(r(318));if(T=l.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(r(317));T[Ti]=l}else Tl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Ir(l),T=!1}else ii!==null&&(zy(ii),ii=null),T=!0;if(!T)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=d,l):(y=y!==null,y!==(o!==null&&o.memoizedState!==null)&&y&&(l.child.flags|=8192,(l.mode&1)!==0&&(o===null||(Rt.current&1)!==0?tr===0&&(tr=3):Ky())),l.updateQueue!==null&&(l.flags|=4),Ir(l),null);case 4:return Ol(),jy(o,l),o===null&&oc(l.stateNode.containerInfo),Ir(l),null;case 10:return sy(l.type._context),Ir(l),null;case 17:return tn(l.type)&&zd(),Ir(l),null;case 19:if(kt(Rt),T=l.memoizedState,T===null)return Ir(l),null;if(y=(l.flags&128)!==0,$=T.rendering,$===null)if(y)vc(T,!1);else{if(tr!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if($=th(o),$!==null){for(l.flags|=128,vc(T,!1),y=$.updateQueue,y!==null&&(l.updateQueue=y,l.flags|=4),l.subtreeFlags=0,y=d,d=l.child;d!==null;)T=d,o=y,T.flags&=14680066,$=T.alternate,$===null?(T.childLanes=0,T.lanes=o,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=$.childLanes,T.lanes=$.lanes,T.child=$.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=$.memoizedProps,T.memoizedState=$.memoizedState,T.updateQueue=$.updateQueue,T.type=$.type,o=$.dependencies,T.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),d=d.sibling;return St(Rt,Rt.current&1|2),l.child}o=o.sibling}T.tail!==null&&wt()>jl&&(l.flags|=128,y=!0,vc(T,!1),l.lanes=4194304)}else{if(!y)if(o=th($),o!==null){if(l.flags|=128,y=!0,d=o.updateQueue,d!==null&&(l.updateQueue=d,l.flags|=4),vc(T,!0),T.tail===null&&T.tailMode==="hidden"&&!$.alternate&&!Nt)return Ir(l),null}else 2*wt()-T.renderingStartTime>jl&&d!==1073741824&&(l.flags|=128,y=!0,vc(T,!1),l.lanes=4194304);T.isBackwards?($.sibling=l.child,l.child=$):(d=T.last,d!==null?d.sibling=$:l.child=$,T.last=$)}return T.tail!==null?(l=T.tail,T.rendering=l,T.tail=l.sibling,T.renderingStartTime=wt(),l.sibling=null,d=Rt.current,St(Rt,y?d&1|2:d&1),l):(Ir(l),null);case 22:case 23:return Hy(),y=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==y&&(l.flags|=8192),y&&(l.mode&1)!==0?(bn&1073741824)!==0&&(Ir(l),l.subtreeFlags&6&&(l.flags|=8192)):Ir(l),null;case 24:return null;case 25:return null}throw Error(r(156,l.tag))}function I3(o,l){switch(ty(l),l.tag){case 1:return tn(l.type)&&zd(),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return Ol(),kt(en),kt(kr),py(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 5:return dy(l),null;case 13:if(kt(Rt),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Tl()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return kt(Rt),null;case 4:return Ol(),null;case 10:return sy(l.type._context),null;case 22:case 23:return Hy(),null;case 24:return null;default:return null}}var ch=!1,Cr=!1,C3=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function Cl(o,l){var d=o.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(y){Ut(o,l,y)}else d.current=null}function Ry(o,l,d){try{d()}catch(y){Ut(o,l,y)}}var JT=!1;function N3(o,l){if(Hg=Wa,o=IE(),$g(o)){if("selectionStart"in o)var d={start:o.selectionStart,end:o.selectionEnd};else e:{d=(d=o.ownerDocument)&&d.defaultView||window;var y=d.getSelection&&d.getSelection();if(y&&y.rangeCount!==0){d=y.anchorNode;var x=y.anchorOffset,T=y.focusNode;y=y.focusOffset;try{d.nodeType,T.nodeType}catch{d=null;break e}var $=0,B=-1,K=-1,oe=0,he=0,me=o,fe=null;t:for(;;){for(var we;me!==d||x!==0&&me.nodeType!==3||(B=$+x),me!==T||y!==0&&me.nodeType!==3||(K=$+y),me.nodeType===3&&($+=me.nodeValue.length),(we=me.firstChild)!==null;)fe=me,me=we;for(;;){if(me===o)break t;if(fe===d&&++oe===x&&(B=$),fe===T&&++he===y&&(K=$),(we=me.nextSibling)!==null)break;me=fe,fe=me.parentNode}me=we}d=B===-1||K===-1?null:{start:B,end:K}}else d=null}d=d||{start:0,end:0}}else d=null;for(Kg={focusedElem:o,selectionRange:d},Wa=!1,Ee=l;Ee!==null;)if(l=Ee,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,Ee=o;else for(;Ee!==null;){l=Ee;try{var Ae=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Ae!==null){var Oe=Ae.memoizedProps,qt=Ae.memoizedState,ee=l.stateNode,Y=ee.getSnapshotBeforeUpdate(l.elementType===l.type?Oe:ai(l.type,Oe),qt);ee.__reactInternalSnapshotBeforeUpdate=Y}break;case 3:var ne=l.stateNode.containerInfo;ne.nodeType===1?ne.textContent="":ne.nodeType===9&&ne.documentElement&&ne.removeChild(ne.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ye){Ut(l,l.return,ye)}if(o=l.sibling,o!==null){o.return=l.return,Ee=o;break}Ee=l.return}return Ae=JT,JT=!1,Ae}function bc(o,l,d){var y=l.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var x=y=y.next;do{if((x.tag&o)===o){var T=x.destroy;x.destroy=void 0,T!==void 0&&Ry(l,d,T)}x=x.next}while(x!==y)}}function fh(o,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&o)===o){var y=d.create;d.destroy=y()}d=d.next}while(d!==l)}}function Dy(o){var l=o.ref;if(l!==null){var d=o.stateNode;switch(o.tag){case 5:o=d;break;default:o=d}typeof l=="function"?l(o):l.current=o}}function ZT(o){var l=o.alternate;l!==null&&(o.alternate=null,ZT(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&(delete l[Ti],delete l[lc],delete l[Qg],delete l[p3],delete l[m3])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function eA(o){return o.tag===5||o.tag===3||o.tag===4}function tA(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||eA(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function My(o,l,d){var y=o.tag;if(y===5||y===6)o=o.stateNode,l?d.nodeType===8?d.parentNode.insertBefore(o,l):d.insertBefore(o,l):(d.nodeType===8?(l=d.parentNode,l.insertBefore(o,d)):(l=d,l.appendChild(o)),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=Bd));else if(y!==4&&(o=o.child,o!==null))for(My(o,l,d),o=o.sibling;o!==null;)My(o,l,d),o=o.sibling}function Ly(o,l,d){var y=o.tag;if(y===5||y===6)o=o.stateNode,l?d.insertBefore(o,l):d.appendChild(o);else if(y!==4&&(o=o.child,o!==null))for(Ly(o,l,d),o=o.sibling;o!==null;)Ly(o,l,d),o=o.sibling}var br=null,oi=!1;function eo(o,l,d){for(d=d.child;d!==null;)rA(o,l,d),d=d.sibling}function rA(o,l,d){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(Bo,d)}catch{}switch(d.tag){case 5:Cr||Cl(d,l);case 6:var y=br,x=oi;br=null,eo(o,l,d),br=y,oi=x,br!==null&&(oi?(o=br,d=d.stateNode,o.nodeType===8?o.parentNode.removeChild(d):o.removeChild(d)):br.removeChild(d.stateNode));break;case 18:br!==null&&(oi?(o=br,d=d.stateNode,o.nodeType===8?Xg(o.parentNode,d):o.nodeType===1&&Xg(o,d),ti(o)):Xg(br,d.stateNode));break;case 4:y=br,x=oi,br=d.stateNode.containerInfo,oi=!0,eo(o,l,d),br=y,oi=x;break;case 0:case 11:case 14:case 15:if(!Cr&&(y=d.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){x=y=y.next;do{var T=x,$=T.destroy;T=T.tag,$!==void 0&&((T&2)!==0||(T&4)!==0)&&Ry(d,l,$),x=x.next}while(x!==y)}eo(o,l,d);break;case 1:if(!Cr&&(Cl(d,l),y=d.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=d.memoizedProps,y.state=d.memoizedState,y.componentWillUnmount()}catch(B){Ut(d,l,B)}eo(o,l,d);break;case 21:eo(o,l,d);break;case 22:d.mode&1?(Cr=(y=Cr)||d.memoizedState!==null,eo(o,l,d),Cr=y):eo(o,l,d);break;default:eo(o,l,d)}}function nA(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var d=o.stateNode;d===null&&(d=o.stateNode=new C3),l.forEach(function(y){var x=U3.bind(null,o,y);d.has(y)||(d.add(y),y.then(x,x))})}}function si(o,l){var d=l.deletions;if(d!==null)for(var y=0;y<d.length;y++){var x=d[y];try{var T=o,$=l,B=$;e:for(;B!==null;){switch(B.tag){case 5:br=B.stateNode,oi=!1;break e;case 3:br=B.stateNode.containerInfo,oi=!0;break e;case 4:br=B.stateNode.containerInfo,oi=!0;break e}B=B.return}if(br===null)throw Error(r(160));rA(T,$,x),br=null,oi=!1;var K=x.alternate;K!==null&&(K.return=null),x.return=null}catch(oe){Ut(x,l,oe)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)iA(l,o),l=l.sibling}function iA(o,l){var d=o.alternate,y=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(si(l,o),ki(o),y&4){try{bc(3,o,o.return),fh(3,o)}catch(Oe){Ut(o,o.return,Oe)}try{bc(5,o,o.return)}catch(Oe){Ut(o,o.return,Oe)}}break;case 1:si(l,o),ki(o),y&512&&d!==null&&Cl(d,d.return);break;case 5:if(si(l,o),ki(o),y&512&&d!==null&&Cl(d,d.return),o.flags&32){var x=o.stateNode;try{Hi(x,"")}catch(Oe){Ut(o,o.return,Oe)}}if(y&4&&(x=o.stateNode,x!=null)){var T=o.memoizedProps,$=d!==null?d.memoizedProps:T,B=o.type,K=o.updateQueue;if(o.updateQueue=null,K!==null)try{B==="input"&&T.type==="radio"&&T.name!=null&&Xe(x,T),Lo(B,$);var oe=Lo(B,T);for($=0;$<K.length;$+=2){var he=K[$],me=K[$+1];he==="style"?Js(x,me):he==="dangerouslySetInnerHTML"?Ra(x,me):he==="children"?Hi(x,me):R(x,he,me,oe)}switch(B){case"input":Lt(x,T);break;case"textarea":vi(x,T);break;case"select":var fe=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!T.multiple;var we=T.value;we!=null?Qt(x,!!T.multiple,we,!1):fe!==!!T.multiple&&(T.defaultValue!=null?Qt(x,!!T.multiple,T.defaultValue,!0):Qt(x,!!T.multiple,T.multiple?[]:"",!1))}x[lc]=T}catch(Oe){Ut(o,o.return,Oe)}}break;case 6:if(si(l,o),ki(o),y&4){if(o.stateNode===null)throw Error(r(162));x=o.stateNode,T=o.memoizedProps;try{x.nodeValue=T}catch(Oe){Ut(o,o.return,Oe)}}break;case 3:if(si(l,o),ki(o),y&4&&d!==null&&d.memoizedState.isDehydrated)try{ti(l.containerInfo)}catch(Oe){Ut(o,o.return,Oe)}break;case 4:si(l,o),ki(o);break;case 13:si(l,o),ki(o),x=o.child,x.flags&8192&&(T=x.memoizedState!==null,x.stateNode.isHidden=T,!T||x.alternate!==null&&x.alternate.memoizedState!==null||(Fy=wt())),y&4&&nA(o);break;case 22:if(he=d!==null&&d.memoizedState!==null,o.mode&1?(Cr=(oe=Cr)||he,si(l,o),Cr=oe):si(l,o),ki(o),y&8192){if(oe=o.memoizedState!==null,(o.stateNode.isHidden=oe)&&!he&&(o.mode&1)!==0)for(Ee=o,he=o.child;he!==null;){for(me=Ee=he;Ee!==null;){switch(fe=Ee,we=fe.child,fe.tag){case 0:case 11:case 14:case 15:bc(4,fe,fe.return);break;case 1:Cl(fe,fe.return);var Ae=fe.stateNode;if(typeof Ae.componentWillUnmount=="function"){y=fe,d=fe.return;try{l=y,Ae.props=l.memoizedProps,Ae.state=l.memoizedState,Ae.componentWillUnmount()}catch(Oe){Ut(y,d,Oe)}}break;case 5:Cl(fe,fe.return);break;case 22:if(fe.memoizedState!==null){sA(me);continue}}we!==null?(we.return=fe,Ee=we):sA(me)}he=he.sibling}e:for(he=null,me=o;;){if(me.tag===5){if(he===null){he=me;try{x=me.stateNode,oe?(T=x.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):(B=me.stateNode,K=me.memoizedProps.style,$=K!=null&&K.hasOwnProperty("display")?K.display:null,B.style.display=Qs("display",$))}catch(Oe){Ut(o,o.return,Oe)}}}else if(me.tag===6){if(he===null)try{me.stateNode.nodeValue=oe?"":me.memoizedProps}catch(Oe){Ut(o,o.return,Oe)}}else if((me.tag!==22&&me.tag!==23||me.memoizedState===null||me===o)&&me.child!==null){me.child.return=me,me=me.child;continue}if(me===o)break e;for(;me.sibling===null;){if(me.return===null||me.return===o)break e;he===me&&(he=null),me=me.return}he===me&&(he=null),me.sibling.return=me.return,me=me.sibling}}break;case 19:si(l,o),ki(o),y&4&&nA(o);break;case 21:break;default:si(l,o),ki(o)}}function ki(o){var l=o.flags;if(l&2){try{e:{for(var d=o.return;d!==null;){if(eA(d)){var y=d;break e}d=d.return}throw Error(r(160))}switch(y.tag){case 5:var x=y.stateNode;y.flags&32&&(Hi(x,""),y.flags&=-33);var T=tA(o);Ly(o,T,x);break;case 3:case 4:var $=y.stateNode.containerInfo,B=tA(o);My(o,B,$);break;default:throw Error(r(161))}}catch(K){Ut(o,o.return,K)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function j3(o,l,d){Ee=o,aA(o)}function aA(o,l,d){for(var y=(o.mode&1)!==0;Ee!==null;){var x=Ee,T=x.child;if(x.tag===22&&y){var $=x.memoizedState!==null||ch;if(!$){var B=x.alternate,K=B!==null&&B.memoizedState!==null||Cr;B=ch;var oe=Cr;if(ch=$,(Cr=K)&&!oe)for(Ee=x;Ee!==null;)$=Ee,K=$.child,$.tag===22&&$.memoizedState!==null?lA(x):K!==null?(K.return=$,Ee=K):lA(x);for(;T!==null;)Ee=T,aA(T),T=T.sibling;Ee=x,ch=B,Cr=oe}oA(o)}else(x.subtreeFlags&8772)!==0&&T!==null?(T.return=x,Ee=T):oA(o)}}function oA(o){for(;Ee!==null;){var l=Ee;if((l.flags&8772)!==0){var d=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Cr||fh(5,l);break;case 1:var y=l.stateNode;if(l.flags&4&&!Cr)if(d===null)y.componentDidMount();else{var x=l.elementType===l.type?d.memoizedProps:ai(l.type,d.memoizedProps);y.componentDidUpdate(x,d.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var T=l.updateQueue;T!==null&&sT(l,T,y);break;case 3:var $=l.updateQueue;if($!==null){if(d=null,l.child!==null)switch(l.child.tag){case 5:d=l.child.stateNode;break;case 1:d=l.child.stateNode}sT(l,$,d)}break;case 5:var B=l.stateNode;if(d===null&&l.flags&4){d=B;var K=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":K.autoFocus&&d.focus();break;case"img":K.src&&(d.src=K.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var oe=l.alternate;if(oe!==null){var he=oe.memoizedState;if(he!==null){var me=he.dehydrated;me!==null&&ti(me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Cr||l.flags&512&&Dy(l)}catch(fe){Ut(l,l.return,fe)}}if(l===o){Ee=null;break}if(d=l.sibling,d!==null){d.return=l.return,Ee=d;break}Ee=l.return}}function sA(o){for(;Ee!==null;){var l=Ee;if(l===o){Ee=null;break}var d=l.sibling;if(d!==null){d.return=l.return,Ee=d;break}Ee=l.return}}function lA(o){for(;Ee!==null;){var l=Ee;try{switch(l.tag){case 0:case 11:case 15:var d=l.return;try{fh(4,l)}catch(K){Ut(l,d,K)}break;case 1:var y=l.stateNode;if(typeof y.componentDidMount=="function"){var x=l.return;try{y.componentDidMount()}catch(K){Ut(l,x,K)}}var T=l.return;try{Dy(l)}catch(K){Ut(l,T,K)}break;case 5:var $=l.return;try{Dy(l)}catch(K){Ut(l,$,K)}}}catch(K){Ut(l,l.return,K)}if(l===o){Ee=null;break}var B=l.sibling;if(B!==null){B.return=l.return,Ee=B;break}Ee=l.return}}var R3=Math.ceil,dh=V.ReactCurrentDispatcher,$y=V.ReactCurrentOwner,Dn=V.ReactCurrentBatchConfig,st=0,cr=null,Ht=null,xr=0,bn=0,Nl=Ya(0),tr=0,xc=null,rs=0,hh=0,Vy=0,_c=null,nn=null,Fy=0,jl=1/0,la=null,ph=!1,Uy=null,to=null,mh=!1,ro=null,gh=0,wc=0,By=null,yh=-1,vh=0;function zr(){return(st&6)!==0?wt():yh!==-1?yh:yh=wt()}function no(o){return(o.mode&1)===0?1:(st&2)!==0&&xr!==0?xr&-xr:y3.transition!==null?(vh===0&&(vh=zo()),vh):(o=nt,o!==0||(o=window.event,o=o===void 0?16:Xu(o.type)),o)}function li(o,l,d,y){if(50<wc)throw wc=0,By=null,Error(r(185));Ua(o,d,y),((st&2)===0||o!==cr)&&(o===cr&&((st&2)===0&&(hh|=d),tr===4&&io(o,xr)),an(o,y),d===1&&st===0&&(l.mode&1)===0&&(jl=wt()+500,Hd&&Qa()))}function an(o,l){var d=o.callbackNode;Xi(o,l);var y=qo(o,o===cr?xr:0);if(y===0)d!==null&&Pr(d),o.callbackNode=null,o.callbackPriority=0;else if(l=y&-y,o.callbackPriority!==l){if(d!=null&&Pr(d),l===1)o.tag===0?g3(cA.bind(null,o)):YE(cA.bind(null,o)),d3(function(){(st&6)===0&&Qa()}),d=null;else{switch(qa(y)){case 1:d=Uo;break;case 4:d=$a;break;case 16:d=kn;break;case 536870912:d=vd;break;default:d=kn}d=vA(d,uA.bind(null,o))}o.callbackPriority=l,o.callbackNode=d}}function uA(o,l){if(yh=-1,vh=0,(st&6)!==0)throw Error(r(327));var d=o.callbackNode;if(Rl()&&o.callbackNode!==d)return null;var y=qo(o,o===cr?xr:0);if(y===0)return null;if((y&30)!==0||(y&o.expiredLanes)!==0||l)l=bh(o,y);else{l=y;var x=st;st|=2;var T=dA();(cr!==o||xr!==l)&&(la=null,jl=wt()+500,is(o,l));do try{L3();break}catch(B){fA(o,B)}while(!0);oy(),dh.current=T,st=x,Ht!==null?l=0:(cr=null,xr=0,l=tr)}if(l!==0){if(l===2&&(x=pn(o),x!==0&&(y=x,l=qy(o,x))),l===1)throw d=xc,is(o,0),io(o,y),an(o,wt()),d;if(l===6)io(o,y);else{if(x=o.current.alternate,(y&30)===0&&!D3(x)&&(l=bh(o,y),l===2&&(T=pn(o),T!==0&&(y=T,l=qy(o,T))),l===1))throw d=xc,is(o,0),io(o,y),an(o,wt()),d;switch(o.finishedWork=x,o.finishedLanes=y,l){case 0:case 1:throw Error(r(345));case 2:as(o,nn,la);break;case 3:if(io(o,y),(y&130023424)===y&&(l=Fy+500-wt(),10<l)){if(qo(o,0)!==0)break;if(x=o.suspendedLanes,(x&y)!==y){zr(),o.pingedLanes|=o.suspendedLanes&x;break}o.timeoutHandle=Yg(as.bind(null,o,nn,la),l);break}as(o,nn,la);break;case 4:if(io(o,y),(y&4194240)===y)break;for(l=o.eventTimes,x=-1;0<y;){var $=31-Ur(y);T=1<<$,$=l[$],$>x&&(x=$),y&=~T}if(y=x,y=wt()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*R3(y/1960))-y,10<y){o.timeoutHandle=Yg(as.bind(null,o,nn,la),y);break}as(o,nn,la);break;case 5:as(o,nn,la);break;default:throw Error(r(329))}}}return an(o,wt()),o.callbackNode===d?uA.bind(null,o):null}function qy(o,l){var d=_c;return o.current.memoizedState.isDehydrated&&(is(o,l).flags|=256),o=bh(o,l),o!==2&&(l=nn,nn=d,l!==null&&zy(l)),o}function zy(o){nn===null?nn=o:nn.push.apply(nn,o)}function D3(o){for(var l=o;;){if(l.flags&16384){var d=l.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var y=0;y<d.length;y++){var x=d[y],T=x.getSnapshot;x=x.value;try{if(!ni(T(),x))return!1}catch{return!1}}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function io(o,l){for(l&=~Vy,l&=~hh,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var d=31-Ur(l),y=1<<d;o[d]=-1,l&=~y}}function cA(o){if((st&6)!==0)throw Error(r(327));Rl();var l=qo(o,0);if((l&1)===0)return an(o,wt()),null;var d=bh(o,l);if(o.tag!==0&&d===2){var y=pn(o);y!==0&&(l=y,d=qy(o,y))}if(d===1)throw d=xc,is(o,0),io(o,l),an(o,wt()),d;if(d===6)throw Error(r(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,as(o,nn,la),an(o,wt()),null}function Wy(o,l){var d=st;st|=1;try{return o(l)}finally{st=d,st===0&&(jl=wt()+500,Hd&&Qa())}}function ns(o){ro!==null&&ro.tag===0&&(st&6)===0&&Rl();var l=st;st|=1;var d=Dn.transition,y=nt;try{if(Dn.transition=null,nt=1,o)return o()}finally{nt=y,Dn.transition=d,st=l,(st&6)===0&&Qa()}}function Hy(){bn=Nl.current,kt(Nl)}function is(o,l){o.finishedWork=null,o.finishedLanes=0;var d=o.timeoutHandle;if(d!==-1&&(o.timeoutHandle=-1,f3(d)),Ht!==null)for(d=Ht.return;d!==null;){var y=d;switch(ty(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&zd();break;case 3:Ol(),kt(en),kt(kr),py();break;case 5:dy(y);break;case 4:Ol();break;case 13:kt(Rt);break;case 19:kt(Rt);break;case 10:sy(y.type._context);break;case 22:case 23:Hy()}d=d.return}if(cr=o,Ht=o=ao(o.current,null),xr=bn=l,tr=0,xc=null,Vy=hh=rs=0,nn=_c=null,Zo!==null){for(l=0;l<Zo.length;l++)if(d=Zo[l],y=d.interleaved,y!==null){d.interleaved=null;var x=y.next,T=d.pending;if(T!==null){var $=T.next;T.next=x,y.next=$}d.pending=y}Zo=null}return o}function fA(o,l){do{var d=Ht;try{if(oy(),rh.current=oh,nh){for(var y=Dt.memoizedState;y!==null;){var x=y.queue;x!==null&&(x.pending=null),y=y.next}nh=!1}if(ts=0,ur=er=Dt=null,pc=!1,mc=0,$y.current=null,d===null||d.return===null){tr=1,xc=l,Ht=null;break}e:{var T=o,$=d.return,B=d,K=l;if(l=xr,B.flags|=32768,K!==null&&typeof K=="object"&&typeof K.then=="function"){var oe=K,he=B,me=he.tag;if((he.mode&1)===0&&(me===0||me===11||me===15)){var fe=he.alternate;fe?(he.updateQueue=fe.updateQueue,he.memoizedState=fe.memoizedState,he.lanes=fe.lanes):(he.updateQueue=null,he.memoizedState=null)}var we=MT($);if(we!==null){we.flags&=-257,LT(we,$,B,T,l),we.mode&1&&DT(T,oe,l),l=we,K=oe;var Ae=l.updateQueue;if(Ae===null){var Oe=new Set;Oe.add(K),l.updateQueue=Oe}else Ae.add(K);break e}else{if((l&1)===0){DT(T,oe,l),Ky();break e}K=Error(r(426))}}else if(Nt&&B.mode&1){var qt=MT($);if(qt!==null){(qt.flags&65536)===0&&(qt.flags|=256),LT(qt,$,B,T,l),iy(Il(K,B));break e}}T=K=Il(K,B),tr!==4&&(tr=2),_c===null?_c=[T]:_c.push(T),T=$;do{switch(T.tag){case 3:T.flags|=65536,l&=-l,T.lanes|=l;var ee=jT(T,K,l);oT(T,ee);break e;case 1:B=K;var Y=T.type,ne=T.stateNode;if((T.flags&128)===0&&(typeof Y.getDerivedStateFromError=="function"||ne!==null&&typeof ne.componentDidCatch=="function"&&(to===null||!to.has(ne)))){T.flags|=65536,l&=-l,T.lanes|=l;var ye=RT(T,B,l);oT(T,ye);break e}}T=T.return}while(T!==null)}pA(d)}catch(Ce){l=Ce,Ht===d&&d!==null&&(Ht=d=d.return);continue}break}while(!0)}function dA(){var o=dh.current;return dh.current=oh,o===null?oh:o}function Ky(){(tr===0||tr===3||tr===2)&&(tr=4),cr===null||(rs&268435455)===0&&(hh&268435455)===0||io(cr,xr)}function bh(o,l){var d=st;st|=2;var y=dA();(cr!==o||xr!==l)&&(la=null,is(o,l));do try{M3();break}catch(x){fA(o,x)}while(!0);if(oy(),st=d,dh.current=y,Ht!==null)throw Error(r(261));return cr=null,xr=0,tr}function M3(){for(;Ht!==null;)hA(Ht)}function L3(){for(;Ht!==null&&!gd();)hA(Ht)}function hA(o){var l=yA(o.alternate,o,bn);o.memoizedProps=o.pendingProps,l===null?pA(o):Ht=l,$y.current=null}function pA(o){var l=o;do{var d=l.alternate;if(o=l.return,(l.flags&32768)===0){if(d=O3(d,l,bn),d!==null){Ht=d;return}}else{if(d=I3(d,l),d!==null){d.flags&=32767,Ht=d;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{tr=6,Ht=null;return}}if(l=l.sibling,l!==null){Ht=l;return}Ht=l=o}while(l!==null);tr===0&&(tr=5)}function as(o,l,d){var y=nt,x=Dn.transition;try{Dn.transition=null,nt=1,$3(o,l,d,y)}finally{Dn.transition=x,nt=y}return null}function $3(o,l,d,y){do Rl();while(ro!==null);if((st&6)!==0)throw Error(r(327));d=o.finishedWork;var x=o.finishedLanes;if(d===null)return null;if(o.finishedWork=null,o.finishedLanes=0,d===o.current)throw Error(r(177));o.callbackNode=null,o.callbackPriority=0;var T=d.lanes|d.childLanes;if(xt(o,T),o===cr&&(Ht=cr=null,xr=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||mh||(mh=!0,vA(kn,function(){return Rl(),null})),T=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||T){T=Dn.transition,Dn.transition=null;var $=nt;nt=1;var B=st;st|=4,$y.current=null,N3(o,d),iA(d,o),i3(Kg),Wa=!!Hg,Kg=Hg=null,o.current=d,j3(d),Ig(),st=B,nt=$,Dn.transition=T}else o.current=d;if(mh&&(mh=!1,ro=o,gh=x),T=o.pendingLanes,T===0&&(to=null),bd(d.stateNode),an(o,wt()),l!==null)for(y=o.onRecoverableError,d=0;d<l.length;d++)x=l[d],y(x.value,{componentStack:x.stack,digest:x.digest});if(ph)throw ph=!1,o=Uy,Uy=null,o;return(gh&1)!==0&&o.tag!==0&&Rl(),T=o.pendingLanes,(T&1)!==0?o===By?wc++:(wc=0,By=o):wc=0,Qa(),null}function Rl(){if(ro!==null){var o=qa(gh),l=Dn.transition,d=nt;try{if(Dn.transition=null,nt=16>o?16:o,ro===null)var y=!1;else{if(o=ro,ro=null,gh=0,(st&6)!==0)throw Error(r(331));var x=st;for(st|=4,Ee=o.current;Ee!==null;){var T=Ee,$=T.child;if((Ee.flags&16)!==0){var B=T.deletions;if(B!==null){for(var K=0;K<B.length;K++){var oe=B[K];for(Ee=oe;Ee!==null;){var he=Ee;switch(he.tag){case 0:case 11:case 15:bc(8,he,T)}var me=he.child;if(me!==null)me.return=he,Ee=me;else for(;Ee!==null;){he=Ee;var fe=he.sibling,we=he.return;if(ZT(he),he===oe){Ee=null;break}if(fe!==null){fe.return=we,Ee=fe;break}Ee=we}}}var Ae=T.alternate;if(Ae!==null){var Oe=Ae.child;if(Oe!==null){Ae.child=null;do{var qt=Oe.sibling;Oe.sibling=null,Oe=qt}while(Oe!==null)}}Ee=T}}if((T.subtreeFlags&2064)!==0&&$!==null)$.return=T,Ee=$;else e:for(;Ee!==null;){if(T=Ee,(T.flags&2048)!==0)switch(T.tag){case 0:case 11:case 15:bc(9,T,T.return)}var ee=T.sibling;if(ee!==null){ee.return=T.return,Ee=ee;break e}Ee=T.return}}var Y=o.current;for(Ee=Y;Ee!==null;){$=Ee;var ne=$.child;if(($.subtreeFlags&2064)!==0&&ne!==null)ne.return=$,Ee=ne;else e:for($=Y;Ee!==null;){if(B=Ee,(B.flags&2048)!==0)try{switch(B.tag){case 0:case 11:case 15:fh(9,B)}}catch(Ce){Ut(B,B.return,Ce)}if(B===$){Ee=null;break e}var ye=B.sibling;if(ye!==null){ye.return=B.return,Ee=ye;break e}Ee=B.return}}if(st=x,Qa(),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(Bo,o)}catch{}y=!0}return y}finally{nt=d,Dn.transition=l}}return!1}function mA(o,l,d){l=Il(d,l),l=jT(o,l,1),o=Za(o,l,1),l=zr(),o!==null&&(Ua(o,1,l),an(o,l))}function Ut(o,l,d){if(o.tag===3)mA(o,o,d);else for(;l!==null;){if(l.tag===3){mA(l,o,d);break}else if(l.tag===1){var y=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(to===null||!to.has(y))){o=Il(d,o),o=RT(l,o,1),l=Za(l,o,1),o=zr(),l!==null&&(Ua(l,1,o),an(l,o));break}}l=l.return}}function V3(o,l,d){var y=o.pingCache;y!==null&&y.delete(l),l=zr(),o.pingedLanes|=o.suspendedLanes&d,cr===o&&(xr&d)===d&&(tr===4||tr===3&&(xr&130023424)===xr&&500>wt()-Fy?is(o,0):Vy|=d),an(o,l)}function gA(o,l){l===0&&((o.mode&1)===0?l=1:(l=nl,nl<<=1,(nl&130023424)===0&&(nl=4194304)));var d=zr();o=aa(o,l),o!==null&&(Ua(o,l,d),an(o,d))}function F3(o){var l=o.memoizedState,d=0;l!==null&&(d=l.retryLane),gA(o,d)}function U3(o,l){var d=0;switch(o.tag){case 13:var y=o.stateNode,x=o.memoizedState;x!==null&&(d=x.retryLane);break;case 19:y=o.stateNode;break;default:throw Error(r(314))}y!==null&&y.delete(l),gA(o,d)}var yA;yA=function(o,l,d){if(o!==null)if(o.memoizedProps!==l.pendingProps||en.current)rn=!0;else{if((o.lanes&d)===0&&(l.flags&128)===0)return rn=!1,k3(o,l,d);rn=(o.flags&131072)!==0}else rn=!1,Nt&&(l.flags&1048576)!==0&&XE(l,Gd,l.index);switch(l.lanes=0,l.tag){case 2:var y=l.type;uh(o,l),o=l.pendingProps;var x=wl(l,kr.current);kl(l,d),x=yy(null,l,y,o,x,d);var T=vy();return l.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,tn(y)?(T=!0,Wd(l)):T=!1,l.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,cy(l),x.updater=sh,l.stateNode=x,x._reactInternals=l,Ey(l,y,o,d),l=ky(null,l,y,!0,T,d)):(l.tag=0,Nt&&T&&ey(l),qr(null,l,x,d),l=l.child),l;case 16:y=l.elementType;e:{switch(uh(o,l),o=l.pendingProps,x=y._init,y=x(y._payload),l.type=y,x=l.tag=q3(y),o=ai(y,o),x){case 0:l=Py(null,l,y,o,d);break e;case 1:l=qT(null,l,y,o,d);break e;case 11:l=$T(null,l,y,o,d);break e;case 14:l=VT(null,l,y,ai(y.type,o),d);break e}throw Error(r(306,y,""))}return l;case 0:return y=l.type,x=l.pendingProps,x=l.elementType===y?x:ai(y,x),Py(o,l,y,x,d);case 1:return y=l.type,x=l.pendingProps,x=l.elementType===y?x:ai(y,x),qT(o,l,y,x,d);case 3:e:{if(zT(l),o===null)throw Error(r(387));y=l.pendingProps,T=l.memoizedState,x=T.element,aT(o,l),eh(l,y,null,d);var $=l.memoizedState;if(y=$.element,T.isDehydrated)if(T={element:y,isDehydrated:!1,cache:$.cache,pendingSuspenseBoundaries:$.pendingSuspenseBoundaries,transitions:$.transitions},l.updateQueue.baseState=T,l.memoizedState=T,l.flags&256){x=Il(Error(r(423)),l),l=WT(o,l,y,d,x);break e}else if(y!==x){x=Il(Error(r(424)),l),l=WT(o,l,y,d,x);break e}else for(vn=Ga(l.stateNode.containerInfo.firstChild),yn=l,Nt=!0,ii=null,d=nT(l,null,y,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Tl(),y===x){l=sa(o,l,d);break e}qr(o,l,y,d)}l=l.child}return l;case 5:return lT(l),o===null&&ny(l),y=l.type,x=l.pendingProps,T=o!==null?o.memoizedProps:null,$=x.children,Gg(y,x)?$=null:T!==null&&Gg(y,T)&&(l.flags|=32),BT(o,l),qr(o,l,$,d),l.child;case 6:return o===null&&ny(l),null;case 13:return HT(o,l,d);case 4:return fy(l,l.stateNode.containerInfo),y=l.pendingProps,o===null?l.child=Al(l,null,y,d):qr(o,l,y,d),l.child;case 11:return y=l.type,x=l.pendingProps,x=l.elementType===y?x:ai(y,x),$T(o,l,y,x,d);case 7:return qr(o,l,l.pendingProps,d),l.child;case 8:return qr(o,l,l.pendingProps.children,d),l.child;case 12:return qr(o,l,l.pendingProps.children,d),l.child;case 10:e:{if(y=l.type._context,x=l.pendingProps,T=l.memoizedProps,$=x.value,St(Qd,y._currentValue),y._currentValue=$,T!==null)if(ni(T.value,$)){if(T.children===x.children&&!en.current){l=sa(o,l,d);break e}}else for(T=l.child,T!==null&&(T.return=l);T!==null;){var B=T.dependencies;if(B!==null){$=T.child;for(var K=B.firstContext;K!==null;){if(K.context===y){if(T.tag===1){K=oa(-1,d&-d),K.tag=2;var oe=T.updateQueue;if(oe!==null){oe=oe.shared;var he=oe.pending;he===null?K.next=K:(K.next=he.next,he.next=K),oe.pending=K}}T.lanes|=d,K=T.alternate,K!==null&&(K.lanes|=d),ly(T.return,d,l),B.lanes|=d;break}K=K.next}}else if(T.tag===10)$=T.type===l.type?null:T.child;else if(T.tag===18){if($=T.return,$===null)throw Error(r(341));$.lanes|=d,B=$.alternate,B!==null&&(B.lanes|=d),ly($,d,l),$=T.sibling}else $=T.child;if($!==null)$.return=T;else for($=T;$!==null;){if($===l){$=null;break}if(T=$.sibling,T!==null){T.return=$.return,$=T;break}$=$.return}T=$}qr(o,l,x.children,d),l=l.child}return l;case 9:return x=l.type,y=l.pendingProps.children,kl(l,d),x=jn(x),y=y(x),l.flags|=1,qr(o,l,y,d),l.child;case 14:return y=l.type,x=ai(y,l.pendingProps),x=ai(y.type,x),VT(o,l,y,x,d);case 15:return FT(o,l,l.type,l.pendingProps,d);case 17:return y=l.type,x=l.pendingProps,x=l.elementType===y?x:ai(y,x),uh(o,l),l.tag=1,tn(y)?(o=!0,Wd(l)):o=!1,kl(l,d),CT(l,y,x),Ey(l,y,x,d),ky(null,l,y,!0,o,d);case 19:return GT(o,l,d);case 22:return UT(o,l,d)}throw Error(r(156,l.tag))};function vA(o,l){return Jt(o,l)}function B3(o,l,d,y){this.tag=o,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(o,l,d,y){return new B3(o,l,d,y)}function Gy(o){return o=o.prototype,!(!o||!o.isReactComponent)}function q3(o){if(typeof o=="function")return Gy(o)?1:0;if(o!=null){if(o=o.$$typeof,o===F)return 11;if(o===re)return 14}return 2}function ao(o,l){var d=o.alternate;return d===null?(d=Mn(o.tag,l,o.key,o.mode),d.elementType=o.elementType,d.type=o.type,d.stateNode=o.stateNode,d.alternate=o,o.alternate=d):(d.pendingProps=l,d.type=o.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=o.flags&14680064,d.childLanes=o.childLanes,d.lanes=o.lanes,d.child=o.child,d.memoizedProps=o.memoizedProps,d.memoizedState=o.memoizedState,d.updateQueue=o.updateQueue,l=o.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=o.sibling,d.index=o.index,d.ref=o.ref,d}function xh(o,l,d,y,x,T){var $=2;if(y=o,typeof o=="function")Gy(o)&&($=1);else if(typeof o=="string")$=5;else e:switch(o){case A:return os(d.children,x,T,l);case k:$=8,x|=8;break;case D:return o=Mn(12,d,l,x|2),o.elementType=D,o.lanes=T,o;case L:return o=Mn(13,d,l,x),o.elementType=L,o.lanes=T,o;case te:return o=Mn(19,d,l,x),o.elementType=te,o.lanes=T,o;case ie:return _h(d,x,T,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case I:$=10;break e;case M:$=9;break e;case F:$=11;break e;case re:$=14;break e;case X:$=16,y=null;break e}throw Error(r(130,o==null?o:typeof o,""))}return l=Mn($,d,l,x),l.elementType=o,l.type=y,l.lanes=T,l}function os(o,l,d,y){return o=Mn(7,o,y,l),o.lanes=d,o}function _h(o,l,d,y){return o=Mn(22,o,y,l),o.elementType=ie,o.lanes=d,o.stateNode={isHidden:!1},o}function Yy(o,l,d){return o=Mn(6,o,null,l),o.lanes=d,o}function Xy(o,l,d){return l=Mn(4,o.children!==null?o.children:[],o.key,l),l.lanes=d,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function z3(o,l,d,y,x){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fa(0),this.expirationTimes=Fa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fa(0),this.identifierPrefix=y,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function Qy(o,l,d,y,x,T,$,B,K){return o=new z3(o,l,d,B,K),l===1?(l=1,T===!0&&(l|=8)):l=0,T=Mn(3,null,null,l),o.current=T,T.stateNode=o,T.memoizedState={element:y,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},cy(T),o}function W3(o,l,d){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:N,key:y==null?null:""+y,children:o,containerInfo:l,implementation:d}}function bA(o){if(!o)return Xa;o=o._reactInternals;e:{if(He(o)!==o||o.tag!==1)throw Error(r(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(tn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(r(171))}if(o.tag===1){var d=o.type;if(tn(d))return KE(o,d,l)}return l}function xA(o,l,d,y,x,T,$,B,K){return o=Qy(d,y,!0,o,x,T,$,B,K),o.context=bA(null),d=o.current,y=zr(),x=no(d),T=oa(y,x),T.callback=l??null,Za(d,T,x),o.current.lanes=x,Ua(o,x,y),an(o,y),o}function wh(o,l,d,y){var x=l.current,T=zr(),$=no(x);return d=bA(d),l.context===null?l.context=d:l.pendingContext=d,l=oa(T,$),l.payload={element:o},y=y===void 0?null:y,y!==null&&(l.callback=y),o=Za(x,l,$),o!==null&&(li(o,x,$,T),Zd(o,x,$)),$}function Sh(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function _A(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var d=o.retryLane;o.retryLane=d!==0&&d<l?d:l}}function Jy(o,l){_A(o,l),(o=o.alternate)&&_A(o,l)}function H3(){return null}var wA=typeof reportError=="function"?reportError:function(o){console.error(o)};function Zy(o){this._internalRoot=o}Eh.prototype.render=Zy.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(r(409));wh(o,l,null,null)},Eh.prototype.unmount=Zy.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;ns(function(){wh(null,o,null,null)}),l[ta]=null}};function Eh(o){this._internalRoot=o}Eh.prototype.unstable_scheduleHydration=function(o){if(o){var l=Ed();o={blockedOn:null,target:o,priority:l};for(var d=0;d<_i.length&&l!==0&&l<_i[d].priority;d++);_i.splice(d,0,o),d===0&&Pd(o)}};function ev(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Th(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function SA(){}function K3(o,l,d,y,x){if(x){if(typeof y=="function"){var T=y;y=function(){var oe=Sh($);T.call(oe)}}var $=xA(l,y,o,0,null,!1,!1,"",SA);return o._reactRootContainer=$,o[ta]=$.current,oc(o.nodeType===8?o.parentNode:o),ns(),$}for(;x=o.lastChild;)o.removeChild(x);if(typeof y=="function"){var B=y;y=function(){var oe=Sh(K);B.call(oe)}}var K=Qy(o,0,!1,null,null,!1,!1,"",SA);return o._reactRootContainer=K,o[ta]=K.current,oc(o.nodeType===8?o.parentNode:o),ns(function(){wh(l,K,d,y)}),K}function Ah(o,l,d,y,x){var T=d._reactRootContainer;if(T){var $=T;if(typeof x=="function"){var B=x;x=function(){var K=Sh($);B.call(K)}}wh(l,$,o,x)}else $=K3(d,l,o,x,y);return Sh($)}wd=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var d=Va(l.pendingLanes);d!==0&&(Ba(l,d|1),an(l,wt()),(st&6)===0&&(jl=wt()+500,Qa()))}break;case 13:ns(function(){var y=aa(o,1);if(y!==null){var x=zr();li(y,o,1,x)}}),Jy(o,1)}},il=function(o){if(o.tag===13){var l=aa(o,134217728);if(l!==null){var d=zr();li(l,o,134217728,d)}Jy(o,134217728)}},Sd=function(o){if(o.tag===13){var l=no(o),d=aa(o,l);if(d!==null){var y=zr();li(d,o,l,y)}Jy(o,l)}},Ed=function(){return nt},Td=function(o,l){var d=nt;try{return nt=o,l()}finally{nt=d}},$o=function(o,l,d){switch(l){case"input":if(Lt(o,d),l=d.name,d.type==="radio"&&l!=null){for(d=o;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<d.length;l++){var y=d[l];if(y!==o&&y.form===o.form){var x=qd(y);if(!x)throw Error(r(90));W(y),Lt(y,x)}}}break;case"textarea":vi(o,d);break;case"select":l=d.value,l!=null&&Qt(o,!!d.multiple,l,!1)}},Yn=Wy,Fo=ns;var G3={usingClientEntryPoint:!1,Events:[uc,xl,qd,Gn,el,Wy]},Sc={findFiberByHostInstance:Yo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Y3={bundleType:Sc.bundleType,version:Sc.version,rendererPackageName:Sc.rendererPackageName,rendererConfig:Sc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:V.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Ft(o),o===null?null:o.stateNode},findFiberByHostInstance:Sc.findFiberByHostInstance||H3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ph=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ph.isDisabled&&Ph.supportsFiber)try{Bo=Ph.inject(Y3),hn=Ph}catch{}}return on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G3,on.createPortal=function(o,l){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ev(l))throw Error(r(200));return W3(o,l,null,d)},on.createRoot=function(o,l){if(!ev(o))throw Error(r(299));var d=!1,y="",x=wA;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(x=l.onRecoverableError)),l=Qy(o,1,!1,null,null,d,!1,y,x),o[ta]=l.current,oc(o.nodeType===8?o.parentNode:o),new Zy(l)},on.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=Ft(l),o=o===null?null:o.stateNode,o},on.flushSync=function(o){return ns(o)},on.hydrate=function(o,l,d){if(!Th(l))throw Error(r(200));return Ah(null,o,l,!0,d)},on.hydrateRoot=function(o,l,d){if(!ev(o))throw Error(r(405));var y=d!=null&&d.hydratedSources||null,x=!1,T="",$=wA;if(d!=null&&(d.unstable_strictMode===!0&&(x=!0),d.identifierPrefix!==void 0&&(T=d.identifierPrefix),d.onRecoverableError!==void 0&&($=d.onRecoverableError)),l=xA(l,null,o,1,d??null,x,!1,T,$),o[ta]=l.current,oc(o),y)for(o=0;o<y.length;o++)d=y[o],x=d._getVersion,x=x(d._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[d,x]:l.mutableSourceEagerHydrationData.push(d,x);return new Eh(l)},on.render=function(o,l,d){if(!Th(l))throw Error(r(200));return Ah(null,o,l,!1,d)},on.unmountComponentAtNode=function(o){if(!Th(o))throw Error(r(40));return o._reactRootContainer?(ns(function(){Ah(null,null,o,!1,function(){o._reactRootContainer=null,o[ta]=null})}),!0):!1},on.unstable_batchedUpdates=Wy,on.unstable_renderSubtreeIntoContainer=function(o,l,d,y){if(!Th(d))throw Error(r(200));if(o==null||o._reactInternals===void 0)throw Error(r(38));return Ah(o,l,d,!1,y)},on.version="18.3.1-next-f1338f8080-20240426",on}var CA;function nV(){if(CA)return nv.exports;CA=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),nv.exports=rV(),nv.exports}var NA;function iV(){if(NA)return Oh;NA=1;var t=nV();return Oh.createRoot=t.createRoot,Oh.hydrateRoot=t.hydrateRoot,Oh}var aV=iV();const oV=pt(aV);var jA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},sV=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],s=t[r++],u=t[r++],c=((i&7)<<18|(a&63)<<12|(s&63)<<6|u&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const a=t[r++],s=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},aR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,u=s?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,h=a>>2,g=(a&3)<<4|u>>4;let v=(u&15)<<2|f>>6,_=f&63;c||(_=64,s||(v=64)),n.push(r[h],r[g],r[v],r[_])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(iR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):sV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],u=i<t.length?r[t.charAt(i)]:0;++i;const f=i<t.length?r[t.charAt(i)]:64;++i;const g=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||u==null||f==null||g==null)throw new lV;const v=a<<2|u>>4;if(n.push(v),f!==64){const _=u<<4&240|f>>2;if(n.push(_),g!==64){const E=f<<6&192|g;n.push(E)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class lV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uV=function(t){const e=iR(t);return aR.encodeByteArray(e,!0)},sp=function(t){return uV(t).replace(/\./g,"")},oR=function(t){try{return aR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV=()=>cV().__FIREBASE_DEFAULTS__,dV=()=>{if(typeof process>"u"||typeof jA>"u")return;const t=jA.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},hV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&oR(t[1]);return e&&JSON.parse(e)},Em=()=>{try{return fV()||dV()||hV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},sR=t=>{var e,r;return(r=(e=Em())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},lR=t=>{const e=sR(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},uR=()=>{var t;return(t=Em())===null||t===void 0?void 0:t.config},cR=t=>{var e;return(e=Em())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[sp(JSON.stringify(r)),sp(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($r())}function gV(){var t;const e=(t=Em())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function bV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xV(){const t=$r();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _V(){return!gV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wV(){try{return typeof indexedDB=="object"}catch{return!1}}function SV(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV="FirebaseError";class Bi extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=EV,Object.setPrototypeOf(this,Bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hf.prototype.create)}}class Hf{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?TV(a,n):"Error",u=`${this.serviceName}: ${s} (${i}).`;return new Bi(i,u,n)}}function TV(t,e){return t.replace(AV,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const AV=/\{\$([^}]+)}/g;function PV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function lp(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],s=e[i];if(RA(a)&&RA(s)){if(!lp(a,s))return!1}else if(a!==s)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function RA(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kf(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Dc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Mc(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function kV(t,e){const r=new OV(t,e);return r.subscribe.bind(r)}class OV{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");IV(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=ov),i.error===void 0&&(i.error=ov),i.complete===void 0&&(i.complete=ov);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function IV(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function ov(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(t){return t&&t._delegate?t._delegate:t}class Eo{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new pV;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e?.identifier),i=(r=e?.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jV(e))try{this.getOrInitializeService({instanceIdentifier:hs})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hs){return this.instances.has(e)}getOptions(e=hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);n===u&&s.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(i,a);const s=this.instances.get(i);return s&&e(s,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:NV(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=hs){return this.component?this.component.multipleInstances?e:hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NV(t){return t===hs?void 0:t}function jV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new CV(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(it||(it={}));const DV={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},MV=it.INFO,LV={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},$V=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=LV[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class p1{constructor(e){this.name=e,this._logLevel=MV,this._logHandler=$V,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in it))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...e),this._logHandler(this,it.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...e),this._logHandler(this,it.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,it.INFO,...e),this._logHandler(this,it.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,it.WARN,...e),this._logHandler(this,it.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...e),this._logHandler(this,it.ERROR,...e)}}const VV=(t,e)=>e.some(r=>t instanceof r);let DA,MA;function FV(){return DA||(DA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UV(){return MA||(MA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dR=new WeakMap,b_=new WeakMap,hR=new WeakMap,sv=new WeakMap,m1=new WeakMap;function BV(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{r(vo(t.result)),i()},s=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(r=>{r instanceof IDBCursor&&dR.set(r,t)}).catch(()=>{}),m1.set(e,t),e}function qV(t){if(b_.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{r(),i()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});b_.set(t,e)}let x_={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return b_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||hR.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return vo(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function zV(t){x_=t(x_)}function WV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(lv(this),e,...r);return hR.set(n,e.sort?e.sort():[e]),vo(n)}:UV().includes(t)?function(...e){return t.apply(lv(this),e),vo(dR.get(this))}:function(...e){return vo(t.apply(lv(this),e))}}function HV(t){return typeof t=="function"?WV(t):(t instanceof IDBTransaction&&qV(t),VV(t,FV())?new Proxy(t,x_):t)}function vo(t){if(t instanceof IDBRequest)return BV(t);if(sv.has(t))return sv.get(t);const e=HV(t);return e!==t&&(sv.set(t,e),m1.set(e,t)),e}const lv=t=>m1.get(t);function KV(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),u=vo(s);return n&&s.addEventListener("upgradeneeded",c=>{n(vo(s.result),c.oldVersion,c.newVersion,vo(s.transaction),c)}),r&&s.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),u.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const GV=["get","getKey","getAll","getAllKeys","count"],YV=["put","add","delete","clear"],uv=new Map;function LA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(uv.get(e))return uv.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=YV.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||GV.includes(r)))return;const a=async function(s,...u){const c=this.transaction(s,i?"readwrite":"readonly");let f=c.store;return n&&(f=f.index(u.shift())),(await Promise.all([f[r](...u),i&&c.done]))[0]};return uv.set(e,a),a}zV(t=>({...t,get:(e,r,n)=>LA(e,r)||t.get(e,r,n),has:(e,r)=>!!LA(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(QV(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function QV(t){const e=t.getComponent();return e?.type==="VERSION"}const __="@firebase/app",$A="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=new p1("@firebase/app"),JV="@firebase/app-compat",ZV="@firebase/analytics-compat",eF="@firebase/analytics",tF="@firebase/app-check-compat",rF="@firebase/app-check",nF="@firebase/auth",iF="@firebase/auth-compat",aF="@firebase/database",oF="@firebase/data-connect",sF="@firebase/database-compat",lF="@firebase/functions",uF="@firebase/functions-compat",cF="@firebase/installations",fF="@firebase/installations-compat",dF="@firebase/messaging",hF="@firebase/messaging-compat",pF="@firebase/performance",mF="@firebase/performance-compat",gF="@firebase/remote-config",yF="@firebase/remote-config-compat",vF="@firebase/storage",bF="@firebase/storage-compat",xF="@firebase/firestore",_F="@firebase/vertexai-preview",wF="@firebase/firestore-compat",SF="firebase",EF="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="[DEFAULT]",TF={[__]:"fire-core",[JV]:"fire-core-compat",[eF]:"fire-analytics",[ZV]:"fire-analytics-compat",[rF]:"fire-app-check",[tF]:"fire-app-check-compat",[nF]:"fire-auth",[iF]:"fire-auth-compat",[aF]:"fire-rtdb",[oF]:"fire-data-connect",[sF]:"fire-rtdb-compat",[lF]:"fire-fn",[uF]:"fire-fn-compat",[cF]:"fire-iid",[fF]:"fire-iid-compat",[dF]:"fire-fcm",[hF]:"fire-fcm-compat",[pF]:"fire-perf",[mF]:"fire-perf-compat",[gF]:"fire-rc",[yF]:"fire-rc-compat",[vF]:"fire-gcs",[bF]:"fire-gcs-compat",[xF]:"fire-fst",[wF]:"fire-fst-compat",[_F]:"fire-vertex","fire-js":"fire-js",[SF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const up=new Map,AF=new Map,S_=new Map;function VA(t,e){try{t.container.addComponent(e)}catch(r){_a.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Os(t){const e=t.name;if(S_.has(e))return _a.debug(`There were multiple attempts to register component ${e}.`),!1;S_.set(e,t);for(const r of up.values())VA(r,t);for(const r of AF.values())VA(r,t);return!0}function Tm(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Oi(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bo=new Hf("app","Firebase",PF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Eo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs=EF;function pR(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:w_,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw bo.create("bad-app-name",{appName:String(i)});if(r||(r=uR()),!r)throw bo.create("no-options");const a=up.get(i);if(a){if(lp(r,a.options)&&lp(n,a.config))return a;throw bo.create("duplicate-app",{appName:i})}const s=new RV(i);for(const c of S_.values())s.addComponent(c);const u=new kF(r,n,s);return up.set(i,u),u}function g1(t=w_){const e=up.get(t);if(!e&&t===w_&&uR())return pR();if(!e)throw bo.create("no-app",{appName:t});return e}function Ci(t,e,r){var n;let i=(n=TF[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&u.push("and"),s&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_a.warn(u.join(" "));return}Os(new Eo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OF="firebase-heartbeat-database",IF=1,tf="firebase-heartbeat-store";let cv=null;function mR(){return cv||(cv=KV(OF,IF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(tf)}catch(r){console.warn(r)}}}}).catch(t=>{throw bo.create("idb-open",{originalErrorMessage:t.message})})),cv}async function CF(t){try{const r=(await mR()).transaction(tf),n=await r.objectStore(tf).get(gR(t));return await r.done,n}catch(e){if(e instanceof Bi)_a.warn(e.message);else{const r=bo.create("idb-get",{originalErrorMessage:e?.message});_a.warn(r.message)}}}async function FA(t,e){try{const n=(await mR()).transaction(tf,"readwrite");await n.objectStore(tf).put(e,gR(t)),await n.done}catch(r){if(r instanceof Bi)_a.warn(r.message);else{const n=bo.create("idb-set",{originalErrorMessage:r?.message});_a.warn(n.message)}}}function gR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NF=1024,jF=30*24*60*60*1e3;class RF{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new MF(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=UA();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const u=new Date(s.date).valueOf();return Date.now()-u<=jF}),this._storage.overwrite(this._heartbeatsCache))}catch(n){_a.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=UA(),{heartbeatsToSend:n,unsentEntries:i}=DF(this._heartbeatsCache.heartbeats),a=sp(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return _a.warn(r),""}}}function UA(){return new Date().toISOString().substring(0,10)}function DF(t,e=NF){const r=[];let n=t.slice();for(const i of t){const a=r.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),BA(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),BA(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class MF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wV()?SV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await CF(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return FA(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return FA(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function BA(t){return sp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LF(t){Os(new Eo("platform-logger",e=>new XV(e),"PRIVATE")),Os(new Eo("heartbeat",e=>new RF(e),"PRIVATE")),Ci(__,$A,t),Ci(__,$A,"esm2017"),Ci("fire-js","")}LF("");var $F="firebase",VF="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ci($F,VF,"app");function y1(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function yR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const FF=yR,vR=new Hf("auth","Firebase",yR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp=new p1("@firebase/auth");function UF(t,...e){cp.logLevel<=it.WARN&&cp.warn(`Auth (${qs}): ${t}`,...e)}function Xh(t,...e){cp.logLevel<=it.ERROR&&cp.error(`Auth (${qs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(t,...e){throw v1(t,...e)}function Ni(t,...e){return v1(t,...e)}function bR(t,e,r){const n=Object.assign(Object.assign({},FF()),{[e]:r});return new Hf("auth","Firebase",n).create(e,{appName:t.name})}function ya(t){return bR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function v1(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return vR.create(t,...e)}function Ue(t,e,...r){if(!t)throw v1(e,...r)}function fa(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Xh(e),new Error(e)}function wa(t,e){t||fa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function BF(){return qA()==="http:"||qA()==="https:"}function qA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(BF()||vV()||"connection"in navigator)?navigator.onLine:!0}function zF(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,r){this.shortDelay=e,this.longDelay=r,wa(r>e,"Short delay should be less than long delay!"),this.isMobile=mV()||bV()}get(){return qF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(t,e){wa(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HF=new Gf(3e4,6e4);function Oo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Io(t,e,r,n,i={}){return _R(t,i,async()=>{let a={},s={};n&&(e==="GET"?s=n:a={body:JSON.stringify(n)});const u=Kf(Object.assign({key:t.config.apiKey},s)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const f=Object.assign({method:e,headers:c},a);return yV()||(f.referrerPolicy="no-referrer"),xR.fetch()(wR(t,t.config.apiHost,r,u),f)})}async function _R(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},WF),e);try{const i=new GF(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw Ih(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const u=a.ok?s.errorMessage:s.error.message,[c,f]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ih(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Ih(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw Ih(t,"user-disabled",s);const h=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw bR(t,h,f);mi(t,h)}}catch(i){if(i instanceof Bi)throw i;mi(t,"network-request-failed",{message:String(i)})}}async function Yf(t,e,r,n,i={}){const a=await Io(t,e,r,n,i);return"mfaPendingCredential"in a&&mi(t,"multi-factor-auth-required",{_serverResponse:a}),a}function wR(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?b1(t.config,i):`${t.config.apiScheme}://${i}`}function KF(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class GF{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Ni(this.auth,"network-request-failed")),HF.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ih(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=Ni(t,e,n);return i.customData._tokenResponse=r,i}function zA(t){return t!==void 0&&t.enterprise!==void 0}class YF{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return KF(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function XF(t,e){return Io(t,"GET","/v2/recaptchaConfig",Oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QF(t,e){return Io(t,"POST","/v1/accounts:delete",e)}async function SR(t,e){return Io(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function JF(t,e=!1){const r=or(t),n=await r.getIdToken(e),i=x1(n);Ue(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a?.sign_in_provider;return{claims:i,token:n,authTime:zc(fv(i.auth_time)),issuedAtTime:zc(fv(i.iat)),expirationTime:zc(fv(i.exp)),signInProvider:s||null,signInSecondFactor:a?.sign_in_second_factor||null}}function fv(t){return Number(t)*1e3}function x1(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Xh("JWT malformed, contained fewer than 3 sections"),null;try{const i=oR(r);return i?JSON.parse(i):(Xh("Failed to decode base64 JWT payload"),null)}catch(i){return Xh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function WA(t){const e=x1(t);return Ue(e,"internal-error"),Ue(typeof e.exp<"u","internal-error"),Ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rf(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Bi&&ZF(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function ZF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=zc(this.lastLoginAt),this.creationTime=zc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fp(t){var e;const r=t.auth,n=await t.getIdToken(),i=await rf(t,SR(r,{idToken:n}));Ue(i?.users.length,r,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const s=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?ER(a.providerUserInfo):[],u=r6(t.providerData,s),c=t.isAnonymous,f=!(t.email&&a.passwordHash)&&!u?.length,h=c?f:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new T_(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(t,g)}async function t6(t){const e=or(t);await fp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function r6(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function ER(t){return t.map(e=>{var{providerId:r}=e,n=y1(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n6(t,e){const r=await _R(t,{},async()=>{const n=Kf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=wR(t,i,"/v1/token",`key=${a}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",xR.fetch()(s,{method:"POST",headers:u,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function i6(t,e){return Io(t,"POST","/v2/accounts:revokeToken",Oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ue(e.idToken,"internal-error"),Ue(typeof e.idToken<"u","internal-error"),Ue(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):WA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Ue(e.length!==0,"internal-error");const r=WA(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await n6(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,s=new Gl;return n&&(Ue(typeof n=="string","internal-error",{appName:e}),s.refreshToken=n),i&&(Ue(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(Ue(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Gl,this.toJSON())}_performRefresh(){return fa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function so(t,e){Ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class da{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,a=y1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new e6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new T_(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const r=await rf(this,this.stsTokenManager.getToken(this.auth,e));return Ue(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return JF(this,e)}reload(){return t6(this)}_assign(e){this!==e&&(Ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new da(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await fp(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Oi(this.auth.app))return Promise.reject(ya(this.auth));const e=await this.getIdToken();return await rf(this,QF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,a,s,u,c,f,h;const g=(n=r.displayName)!==null&&n!==void 0?n:void 0,v=(i=r.email)!==null&&i!==void 0?i:void 0,_=(a=r.phoneNumber)!==null&&a!==void 0?a:void 0,E=(s=r.photoURL)!==null&&s!==void 0?s:void 0,w=(u=r.tenantId)!==null&&u!==void 0?u:void 0,b=(c=r._redirectEventId)!==null&&c!==void 0?c:void 0,P=(f=r.createdAt)!==null&&f!==void 0?f:void 0,j=(h=r.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:R,emailVerified:V,isAnonymous:O,providerData:N,stsTokenManager:A}=r;Ue(R&&A,e,"internal-error");const k=Gl.fromJSON(this.name,A);Ue(typeof R=="string",e,"internal-error"),so(g,e.name),so(v,e.name),Ue(typeof V=="boolean",e,"internal-error"),Ue(typeof O=="boolean",e,"internal-error"),so(_,e.name),so(E,e.name),so(w,e.name),so(b,e.name),so(P,e.name),so(j,e.name);const D=new da({uid:R,auth:e,email:v,emailVerified:V,displayName:g,isAnonymous:O,photoURL:E,phoneNumber:_,tenantId:w,stsTokenManager:k,createdAt:P,lastLoginAt:j});return N&&Array.isArray(N)&&(D.providerData=N.map(I=>Object.assign({},I))),b&&(D._redirectEventId=b),D}static async _fromIdTokenResponse(e,r,n=!1){const i=new Gl;i.updateFromServerResponse(r);const a=new da({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await fp(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];Ue(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?ER(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!a?.length,u=new Gl;u.updateFromIdToken(n);const c=new da({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:s}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new T_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(c,f),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA=new Map;function ha(t){wa(t instanceof Function,"Expected a class definition");let e=HA.get(t);return e?(wa(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,HA.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}TR.type="NONE";const KA=TR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(t,e,r){return`firebase:${t}:${e}:${r}`}class Yl{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=Qh(this.userKey,i.apiKey,a),this.fullPersistenceKey=Qh("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?da._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Yl(ha(KA),e,n);const i=(await Promise.all(r.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=i[0]||ha(KA);const s=Qh(n,e.config.apiKey,e.name);let u=null;for(const f of r)try{const h=await f._get(s);if(h){const g=da._fromJSON(e,h);f!==a&&(u=g),a=f;break}}catch{}const c=i.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new Yl(a,e,n):(a=c[0],u&&await a._set(s,u.toJSON()),await Promise.all(r.map(async f=>{if(f!==a)try{await f._remove(s)}catch{}})),new Yl(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(OR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(AR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(CR(e))return"Blackberry";if(NR(e))return"Webos";if(PR(e))return"Safari";if((e.includes("chrome/")||kR(e))&&!e.includes("edge/"))return"Chrome";if(IR(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if(n?.length===2)return n[1]}return"Other"}function AR(t=$r()){return/firefox\//i.test(t)}function PR(t=$r()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kR(t=$r()){return/crios\//i.test(t)}function OR(t=$r()){return/iemobile/i.test(t)}function IR(t=$r()){return/android/i.test(t)}function CR(t=$r()){return/blackberry/i.test(t)}function NR(t=$r()){return/webos/i.test(t)}function _1(t=$r()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function a6(t=$r()){var e;return _1(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function o6(){return xV()&&document.documentMode===10}function jR(t=$r()){return _1(t)||IR(t)||NR(t)||CR(t)||/windows phone/i.test(t)||OR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(t,e=[]){let r;switch(t){case"Browser":r=GA($r());break;case"Worker":r=`${GA($r())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${qs}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((s,u)=>{try{const c=e(a);s(c)}catch(c){u(c)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l6(t,e={}){return Io(t,"GET","/v2/passwordPolicy",Oo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6=6;class c6{constructor(e){var r,n,i,a;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=s.minPasswordLength)!==null&&r!==void 0?r:u6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,a,s,u;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(r=c.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(n=c.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(a=c.containsUppercaseLetter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(u=c.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),c}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new YA(this),this.idTokenSubscription=new YA(this),this.beforeStateQueue=new s6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=ha(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await Yl.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await SR(this,{idToken:e}),n=await da._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(Oi(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,u=i?._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===u)&&c?.user&&(i=c.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await fp(e)}catch(r){if(r?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Oi(this.app))return Promise.reject(ya(this));const r=e?or(e):null;return r&&Ue(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Oi(this.app)?Promise.reject(ya(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Oi(this.app)?Promise.reject(ya(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ha(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await l6(this),r=new c6(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Hf("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await i6(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&ha(e)||this._popupRedirectResolver;Ue(r,this,"argument-error"),this.redirectPersistenceManager=await Yl.create(this,[ha(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let s=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ue(u,this,"internal-error"),u.then(()=>{s||a(this.currentUser)}),typeof r=="function"){const c=e.addObserver(r,n,i);return()=>{s=!0,c()}}else{const c=e.addObserver(r);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r?.error&&UF(`Error while retrieving App Check token: ${r.error}`),r?.token}}function zs(t){return or(t)}class YA{constructor(e){this.auth=e,this.observer=null,this.addObserver=kV(r=>this.observer=r)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Am={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function d6(t){Am=t}function DR(t){return Am.loadJS(t)}function h6(){return Am.recaptchaEnterpriseScript}function p6(){return Am.gapiScript}function m6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const g6="recaptcha-enterprise",y6="NO_RECAPTCHA";class v6{constructor(e){this.type=g6,this.auth=zs(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,u)=>{XF(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new YF(c);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,s(f.siteKey)}}).catch(c=>{u(c)})})}function i(a,s,u){const c=window.grecaptcha;zA(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(f=>{s(f)}).catch(()=>{s(y6)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,s)=>{n(this.auth).then(u=>{if(!r&&zA(window.grecaptcha))i(u,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=h6();c.length!==0&&(c+=u),DR(c).then(()=>{i(u,a,s)}).catch(f=>{s(f)})}}).catch(u=>{s(u)})})}}async function XA(t,e,r,n=!1){const i=new v6(t);let a;try{a=await i.verify(r)}catch{a=await i.verify(r,!0)}const s=Object.assign({},e);return n?Object.assign(s,{captchaResp:a}):Object.assign(s,{captchaResponse:a}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function A_(t,e,r,n){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await XA(t,e,r,r==="getOobCode");return n(t,a)}else return n(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await XA(t,e,r,r==="getOobCode");return n(t,s)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b6(t,e){const r=Tm(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(lp(a,e??{}))return i;mi(i,"already-initialized")}return r.initialize({options:e})}function x6(t,e){const r=e?.persistence||[],n=(Array.isArray(r)?r:[r]).map(ha);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e?.popupRedirectResolver)}function _6(t,e,r){const n=zs(t);Ue(n._canInitEmulator,n,"emulator-config-failed"),Ue(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=MR(e),{host:s,port:u}=w6(e),c=u===null?"":`:${u}`;n.config.emulator={url:`${a}//${s}${c}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),S6()}function MR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function w6(t){const e=MR(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:QA(n.substr(a.length+1))}}else{const[a,s]=n.split(":");return{host:a,port:QA(s)}}}function QA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function S6(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return fa("not implemented")}_getIdTokenResponse(e){return fa("not implemented")}_linkToIdToken(e,r){return fa("not implemented")}_getReauthenticationResolver(e){return fa("not implemented")}}async function E6(t,e){return Io(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T6(t,e){return Yf(t,"POST","/v1/accounts:signInWithPassword",Oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A6(t,e){return Yf(t,"POST","/v1/accounts:signInWithEmailLink",Oo(t,e))}async function P6(t,e){return Yf(t,"POST","/v1/accounts:signInWithEmailLink",Oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf extends w1{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new nf(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new nf(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r?.email&&r?.password){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return A_(e,r,"signInWithPassword",T6);case"emailLink":return A6(e,{email:this._email,oobCode:this._password});default:mi(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return A_(e,n,"signUpPassword",E6);case"emailLink":return P6(e,{idToken:r,email:this._email,oobCode:this._password});default:mi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xl(t,e){return Yf(t,"POST","/v1/accounts:signInWithIdp",Oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k6="http://localhost";class Is extends w1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Is(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):mi("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,a=y1(r,["providerId","signInMethod"]);if(!n||!i)return null;const s=new Is(n,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const r=this.buildRequest();return Xl(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Xl(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Xl(e,r)}buildRequest(){const e={requestUri:k6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Kf(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function I6(t){const e=Dc(Mc(t)).link,r=e?Dc(Mc(e)).deep_link_id:null,n=Dc(Mc(t)).deep_link_id;return(n?Dc(Mc(n)).link:null)||n||r||e||t}class S1{constructor(e){var r,n,i,a,s,u;const c=Dc(Mc(e)),f=(r=c.apiKey)!==null&&r!==void 0?r:null,h=(n=c.oobCode)!==null&&n!==void 0?n:null,g=O6((i=c.mode)!==null&&i!==void 0?i:null);Ue(f&&h&&g,"argument-error"),this.apiKey=f,this.operation=g,this.code=h,this.continueUrl=(a=c.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(s=c.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(u=c.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const r=I6(e);try{return new S1(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(){this.providerId=Nu.PROVIDER_ID}static credential(e,r){return nf._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=S1.parseLink(r);return Ue(n,"argument-error"),nf._fromEmailAndCode(e,n.code,n.tenantId)}}Nu.PROVIDER_ID="password";Nu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Nu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf extends LR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co extends Xf{constructor(){super("facebook.com")}static credential(e){return Is._fromParams({providerId:co.PROVIDER_ID,signInMethod:co.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return co.credentialFromTaggedObject(e)}static credentialFromError(e){return co.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return co.credential(e.oauthAccessToken)}catch{return null}}}co.FACEBOOK_SIGN_IN_METHOD="facebook.com";co.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo extends Xf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Is._fromParams({providerId:fo.PROVIDER_ID,signInMethod:fo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return fo.credentialFromTaggedObject(e)}static credentialFromError(e){return fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return fo.credential(r,n)}catch{return null}}}fo.GOOGLE_SIGN_IN_METHOD="google.com";fo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho extends Xf{constructor(){super("github.com")}static credential(e){return Is._fromParams({providerId:ho.PROVIDER_ID,signInMethod:ho.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ho.credentialFromTaggedObject(e)}static credentialFromError(e){return ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ho.credential(e.oauthAccessToken)}catch{return null}}}ho.GITHUB_SIGN_IN_METHOD="github.com";ho.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po extends Xf{constructor(){super("twitter.com")}static credential(e,r){return Is._fromParams({providerId:po.PROVIDER_ID,signInMethod:po.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return po.credentialFromTaggedObject(e)}static credentialFromError(e){return po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return po.credential(r,n)}catch{return null}}}po.TWITTER_SIGN_IN_METHOD="twitter.com";po.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C6(t,e){return Yf(t,"POST","/v1/accounts:signUp",Oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await da._fromIdTokenResponse(e,n,i),s=JA(n);return new Cs({user:a,providerId:s,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=JA(n);return new Cs({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function JA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp extends Bi{constructor(e,r,n,i){var a;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,dp.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new dp(e,r,n,i)}}function $R(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?dp._fromErrorAndOperation(t,a,e,n):a})}async function N6(t,e,r=!1){const n=await rf(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Cs._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j6(t,e,r=!1){const{auth:n}=t;if(Oi(n.app))return Promise.reject(ya(n));const i="reauthenticate";try{const a=await rf(t,$R(n,i,e,t),r);Ue(a.idToken,n,"internal-error");const s=x1(a.idToken);Ue(s,n,"internal-error");const{sub:u}=s;return Ue(t.uid===u,n,"user-mismatch"),Cs._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&mi(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VR(t,e,r=!1){if(Oi(t.app))return Promise.reject(ya(t));const n="signIn",i=await $R(t,n,e),a=await Cs._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}async function R6(t,e){return VR(zs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FR(t){const e=zs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function D6(t,e,r){if(Oi(t.app))return Promise.reject(ya(t));const n=zs(t),s=await A_(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",C6).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&FR(t),c}),u=await Cs._fromIdTokenResponse(n,"signIn",s);return await n._updateCurrentUser(u.user),u}function M6(t,e,r){return Oi(t.app)?Promise.reject(ya(t)):R6(or(t),Nu.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&FR(t),n})}function L6(t,e,r,n){return or(t).onIdTokenChanged(e,r,n)}function $6(t,e,r){return or(t).beforeAuthStateChanged(e,r)}function V6(t,e,r,n){return or(t).onAuthStateChanged(e,r,n)}const hp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(hp,"1"),this.storage.removeItem(hp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F6=1e3,U6=10;class BR extends UR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((s,u,c)=>{this.notifyListeners(s,c)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(n);!r&&this.localCache[n]===s||this.notifyListeners(n,s)},a=this.storage.getItem(n);o6()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,U6):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},F6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}BR.type="LOCAL";const B6=BR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR extends UR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}qR.type="SESSION";const zR=qR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new Pm(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,s=this.handlersMap[i];if(!s?.size)return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const u=Array.from(s).map(async f=>f(r.origin,a)),c=await q6(u);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:c})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Pm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((u,c)=>{const f=E1("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},n);s={messageChannel:i,onMessage(g){const v=g;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(h),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(v.data.response);break;default:clearTimeout(h),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:f,data:r},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(){return window}function W6(t){ji().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(){return typeof ji().WorkerGlobalScope<"u"&&typeof ji().importScripts=="function"}async function H6(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function K6(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function G6(){return WR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR="firebaseLocalStorageDb",Y6=1,pp="firebaseLocalStorage",KR="fbase_key";class Qf{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function km(t,e){return t.transaction([pp],e?"readwrite":"readonly").objectStore(pp)}function X6(){const t=indexedDB.deleteDatabase(HR);return new Qf(t).toPromise()}function P_(){const t=indexedDB.open(HR,Y6);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(pp,{keyPath:KR})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(pp)?e(n):(n.close(),await X6(),e(await P_()))})})}async function ZA(t,e,r){const n=km(t,!0).put({[KR]:e,value:r});return new Qf(n).toPromise()}async function Q6(t,e){const r=km(t,!1).get(e),n=await new Qf(r).toPromise();return n===void 0?null:n.value}function eP(t,e){const r=km(t,!0).delete(e);return new Qf(r).toPromise()}const J6=800,Z6=3;class GR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await P_(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>Z6)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return WR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Pm._getInstance(G6()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await H6(),!this.activeServiceWorker)return;this.sender=new z6(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||K6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await P_();return await ZA(e,hp,"1"),await eP(e,hp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>ZA(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>Q6(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>eP(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=km(i,!1).getAll();return new Qf(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),J6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}GR.type="LOCAL";const eU=GR;new Gf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tU(t,e){return e?ha(e):(Ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1 extends w1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xl(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Xl(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Xl(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function rU(t){return VR(t.auth,new T1(t),t.bypassAuthState)}function nU(t){const{auth:e,user:r}=t;return Ue(r,e,"internal-error"),j6(r,new T1(t),t.bypassAuthState)}async function iU(t){const{auth:e,user:r}=t;return Ue(r,e,"internal-error"),N6(r,new T1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:s,type:u}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rU;case"linkViaPopup":case"linkViaRedirect":return iU;case"reauthViaPopup":case"reauthViaRedirect":return nU;default:mi(this.auth,"internal-error")}}resolve(e){wa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aU=new Gf(2e3,1e4);class Bl extends YR{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,Bl.currentPopupAction&&Bl.currentPopupAction.cancel(),Bl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ue(e,this.auth,"internal-error"),e}async onExecution(){wa(this.filter.length===1,"Popup operations only handle one event");const e=E1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Ni(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ni(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ni(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,aU.get())};e()}}Bl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oU="pendingRedirect",Jh=new Map;class sU extends YR{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Jh.get(this.auth._key());if(!e){try{const n=await lU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Jh.set(this.auth._key(),e)}return this.bypassAuthState||Jh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lU(t,e){const r=fU(e),n=cU(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function uU(t,e){Jh.set(t._key(),e)}function cU(t){return ha(t._redirectPersistence)}function fU(t){return Qh(oU,t.config.apiKey,t.name)}async function dU(t,e,r=!1){if(Oi(t.app))return Promise.reject(ya(t));const n=zs(t),i=tU(n,e),s=await new sU(n,i,r).execute();return s&&!r&&(delete s.user._redirectEventId,await n._persistUserIfCurrent(s.user),await n._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hU=10*60*1e3;class pU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!mU(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!XR(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(Ni(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hU&&this.cachedEventUids.clear(),this.cachedEventUids.has(tP(e))}saveEventToCache(e){this.cachedEventUids.add(tP(e)),this.lastProcessedEventTime=Date.now()}}function tP(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function XR({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function mU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return XR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gU(t,e={}){return Io(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vU=/^https?/;async function bU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await gU(t);for(const r of e)try{if(xU(r))return}catch{}mi(t,"unauthorized-domain")}function xU(t){const e=E_(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&s.hostname===n}if(!vU.test(r))return!1;if(yU.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _U=new Gf(3e4,6e4);function rP(){const t=ji().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function wU(t){return new Promise((e,r)=>{var n,i,a;function s(){rP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{rP(),r(Ni(t,"network-request-failed"))},timeout:_U.get()})}if(!((i=(n=ji().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=ji().gapi)===null||a===void 0)&&a.load)s();else{const u=m6("iframefcb");return ji()[u]=()=>{gapi.load?s():r(Ni(t,"network-request-failed"))},DR(`${p6()}?onload=${u}`).catch(c=>r(c))}}).catch(e=>{throw Zh=null,e})}let Zh=null;function SU(t){return Zh=Zh||wU(t),Zh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EU=new Gf(5e3,15e3),TU="__/auth/iframe",AU="emulator/auth/iframe",PU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function OU(t){const e=t.config;Ue(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?b1(e,AU):`https://${t.config.authDomain}/${TU}`,n={apiKey:e.apiKey,appName:t.name,v:qs},i=kU.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${Kf(n).slice(1)}`}async function IU(t){const e=await SU(t),r=ji().gapi;return Ue(r,t,"internal-error"),e.open({where:document.body,url:OU(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PU,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const s=Ni(t,"network-request-failed"),u=ji().setTimeout(()=>{a(s)},EU.get());function c(){ji().clearTimeout(u),i(n)}n.ping(c).then(c,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},NU=500,jU=600,RU="_blank",DU="http://localhost";class nP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function MU(t,e,r,n=NU,i=jU){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString();let u="";const c=Object.assign(Object.assign({},CU),{width:n.toString(),height:i.toString(),top:a,left:s}),f=$r().toLowerCase();r&&(u=kR(f)?RU:r),AR(f)&&(e=e||DU,c.scrollbars="yes");const h=Object.entries(c).reduce((v,[_,E])=>`${v}${_}=${E},`,"");if(a6(f)&&u!=="_self")return LU(e||"",u),new nP(null);const g=window.open(e||"",u,h);Ue(g,t,"popup-blocked");try{g.focus()}catch{}return new nP(g)}function LU(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $U="__/auth/handler",VU="emulator/auth/handler",FU=encodeURIComponent("fac");async function iP(t,e,r,n,i,a){Ue(t.config.authDomain,t,"auth-domain-config-required"),Ue(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:qs,eventId:i};if(e instanceof LR){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",PV(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,g]of Object.entries({}))s[h]=g}if(e instanceof Xf){const h=e.getScopes().filter(g=>g!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);const u=s;for(const h of Object.keys(u))u[h]===void 0&&delete u[h];const c=await t._getAppCheckToken(),f=c?`#${FU}=${encodeURIComponent(c)}`:"";return`${UU(t)}?${Kf(u).slice(1)}${f}`}function UU({config:t}){return t.emulator?b1(t,VU):`https://${t.authDomain}/${$U}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv="webStorageSupport";class BU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zR,this._completeRedirectFn=dU,this._overrideRedirectResult=uU}async _openPopup(e,r,n,i){var a;wa((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await iP(e,r,n,E_(),i);return MU(e,s,E1())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await iP(e,r,n,E_(),i);return W6(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(wa(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await IU(e),n=new pU(e);return r.register("authEvent",i=>(Ue(i?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(dv,{type:dv},i=>{var a;const s=(a=i?.[0])===null||a===void 0?void 0:a[dv];s!==void 0&&r(!!s),mi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=bU(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return jR()||PR()||_1()}}const qU=BU;var aP="@firebase/auth",oP="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HU(t){Os(new Eo("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:u}=n.options;Ue(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:s,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RR(t)},f=new f6(n,i,a,c);return x6(f,r),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Os(new Eo("auth-internal",e=>{const r=zs(e.getProvider("auth").getImmediate());return(n=>new zU(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ci(aP,oP,WU(t)),Ci(aP,oP,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KU=5*60,GU=cR("authIdTokenMaxAge")||KU;let sP=null;const YU=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>GU)return;const i=r?.token;sP!==i&&(sP=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function QR(t=g1()){const e=Tm(t,"auth");if(e.isInitialized())return e.getImmediate();const r=b6(t,{popupRedirectResolver:qU,persistence:[eU,B6,zR]}),n=cR("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const s=YU(a.toString());$6(r,s,()=>s(r.currentUser)),L6(r,u=>s(u))}}const i=sR("auth");return i&&_6(r,`http://${i}`),r}function XU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}d6({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=Ni("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",XU().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HU("Browser");var lP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Es,JR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,k){function D(){}D.prototype=k.prototype,A.D=k.prototype,A.prototype=new D,A.prototype.constructor=A,A.C=function(I,M,F){for(var L=Array(arguments.length-2),te=2;te<arguments.length;te++)L[te-2]=arguments[te];return k.prototype[M].apply(I,L)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,k,D){D||(D=0);var I=Array(16);if(typeof k=="string")for(var M=0;16>M;++M)I[M]=k.charCodeAt(D++)|k.charCodeAt(D++)<<8|k.charCodeAt(D++)<<16|k.charCodeAt(D++)<<24;else for(M=0;16>M;++M)I[M]=k[D++]|k[D++]<<8|k[D++]<<16|k[D++]<<24;k=A.g[0],D=A.g[1],M=A.g[2];var F=A.g[3],L=k+(F^D&(M^F))+I[0]+3614090360&4294967295;k=D+(L<<7&4294967295|L>>>25),L=F+(M^k&(D^M))+I[1]+3905402710&4294967295,F=k+(L<<12&4294967295|L>>>20),L=M+(D^F&(k^D))+I[2]+606105819&4294967295,M=F+(L<<17&4294967295|L>>>15),L=D+(k^M&(F^k))+I[3]+3250441966&4294967295,D=M+(L<<22&4294967295|L>>>10),L=k+(F^D&(M^F))+I[4]+4118548399&4294967295,k=D+(L<<7&4294967295|L>>>25),L=F+(M^k&(D^M))+I[5]+1200080426&4294967295,F=k+(L<<12&4294967295|L>>>20),L=M+(D^F&(k^D))+I[6]+2821735955&4294967295,M=F+(L<<17&4294967295|L>>>15),L=D+(k^M&(F^k))+I[7]+4249261313&4294967295,D=M+(L<<22&4294967295|L>>>10),L=k+(F^D&(M^F))+I[8]+1770035416&4294967295,k=D+(L<<7&4294967295|L>>>25),L=F+(M^k&(D^M))+I[9]+2336552879&4294967295,F=k+(L<<12&4294967295|L>>>20),L=M+(D^F&(k^D))+I[10]+4294925233&4294967295,M=F+(L<<17&4294967295|L>>>15),L=D+(k^M&(F^k))+I[11]+2304563134&4294967295,D=M+(L<<22&4294967295|L>>>10),L=k+(F^D&(M^F))+I[12]+1804603682&4294967295,k=D+(L<<7&4294967295|L>>>25),L=F+(M^k&(D^M))+I[13]+4254626195&4294967295,F=k+(L<<12&4294967295|L>>>20),L=M+(D^F&(k^D))+I[14]+2792965006&4294967295,M=F+(L<<17&4294967295|L>>>15),L=D+(k^M&(F^k))+I[15]+1236535329&4294967295,D=M+(L<<22&4294967295|L>>>10),L=k+(M^F&(D^M))+I[1]+4129170786&4294967295,k=D+(L<<5&4294967295|L>>>27),L=F+(D^M&(k^D))+I[6]+3225465664&4294967295,F=k+(L<<9&4294967295|L>>>23),L=M+(k^D&(F^k))+I[11]+643717713&4294967295,M=F+(L<<14&4294967295|L>>>18),L=D+(F^k&(M^F))+I[0]+3921069994&4294967295,D=M+(L<<20&4294967295|L>>>12),L=k+(M^F&(D^M))+I[5]+3593408605&4294967295,k=D+(L<<5&4294967295|L>>>27),L=F+(D^M&(k^D))+I[10]+38016083&4294967295,F=k+(L<<9&4294967295|L>>>23),L=M+(k^D&(F^k))+I[15]+3634488961&4294967295,M=F+(L<<14&4294967295|L>>>18),L=D+(F^k&(M^F))+I[4]+3889429448&4294967295,D=M+(L<<20&4294967295|L>>>12),L=k+(M^F&(D^M))+I[9]+568446438&4294967295,k=D+(L<<5&4294967295|L>>>27),L=F+(D^M&(k^D))+I[14]+3275163606&4294967295,F=k+(L<<9&4294967295|L>>>23),L=M+(k^D&(F^k))+I[3]+4107603335&4294967295,M=F+(L<<14&4294967295|L>>>18),L=D+(F^k&(M^F))+I[8]+1163531501&4294967295,D=M+(L<<20&4294967295|L>>>12),L=k+(M^F&(D^M))+I[13]+2850285829&4294967295,k=D+(L<<5&4294967295|L>>>27),L=F+(D^M&(k^D))+I[2]+4243563512&4294967295,F=k+(L<<9&4294967295|L>>>23),L=M+(k^D&(F^k))+I[7]+1735328473&4294967295,M=F+(L<<14&4294967295|L>>>18),L=D+(F^k&(M^F))+I[12]+2368359562&4294967295,D=M+(L<<20&4294967295|L>>>12),L=k+(D^M^F)+I[5]+4294588738&4294967295,k=D+(L<<4&4294967295|L>>>28),L=F+(k^D^M)+I[8]+2272392833&4294967295,F=k+(L<<11&4294967295|L>>>21),L=M+(F^k^D)+I[11]+1839030562&4294967295,M=F+(L<<16&4294967295|L>>>16),L=D+(M^F^k)+I[14]+4259657740&4294967295,D=M+(L<<23&4294967295|L>>>9),L=k+(D^M^F)+I[1]+2763975236&4294967295,k=D+(L<<4&4294967295|L>>>28),L=F+(k^D^M)+I[4]+1272893353&4294967295,F=k+(L<<11&4294967295|L>>>21),L=M+(F^k^D)+I[7]+4139469664&4294967295,M=F+(L<<16&4294967295|L>>>16),L=D+(M^F^k)+I[10]+3200236656&4294967295,D=M+(L<<23&4294967295|L>>>9),L=k+(D^M^F)+I[13]+681279174&4294967295,k=D+(L<<4&4294967295|L>>>28),L=F+(k^D^M)+I[0]+3936430074&4294967295,F=k+(L<<11&4294967295|L>>>21),L=M+(F^k^D)+I[3]+3572445317&4294967295,M=F+(L<<16&4294967295|L>>>16),L=D+(M^F^k)+I[6]+76029189&4294967295,D=M+(L<<23&4294967295|L>>>9),L=k+(D^M^F)+I[9]+3654602809&4294967295,k=D+(L<<4&4294967295|L>>>28),L=F+(k^D^M)+I[12]+3873151461&4294967295,F=k+(L<<11&4294967295|L>>>21),L=M+(F^k^D)+I[15]+530742520&4294967295,M=F+(L<<16&4294967295|L>>>16),L=D+(M^F^k)+I[2]+3299628645&4294967295,D=M+(L<<23&4294967295|L>>>9),L=k+(M^(D|~F))+I[0]+4096336452&4294967295,k=D+(L<<6&4294967295|L>>>26),L=F+(D^(k|~M))+I[7]+1126891415&4294967295,F=k+(L<<10&4294967295|L>>>22),L=M+(k^(F|~D))+I[14]+2878612391&4294967295,M=F+(L<<15&4294967295|L>>>17),L=D+(F^(M|~k))+I[5]+4237533241&4294967295,D=M+(L<<21&4294967295|L>>>11),L=k+(M^(D|~F))+I[12]+1700485571&4294967295,k=D+(L<<6&4294967295|L>>>26),L=F+(D^(k|~M))+I[3]+2399980690&4294967295,F=k+(L<<10&4294967295|L>>>22),L=M+(k^(F|~D))+I[10]+4293915773&4294967295,M=F+(L<<15&4294967295|L>>>17),L=D+(F^(M|~k))+I[1]+2240044497&4294967295,D=M+(L<<21&4294967295|L>>>11),L=k+(M^(D|~F))+I[8]+1873313359&4294967295,k=D+(L<<6&4294967295|L>>>26),L=F+(D^(k|~M))+I[15]+4264355552&4294967295,F=k+(L<<10&4294967295|L>>>22),L=M+(k^(F|~D))+I[6]+2734768916&4294967295,M=F+(L<<15&4294967295|L>>>17),L=D+(F^(M|~k))+I[13]+1309151649&4294967295,D=M+(L<<21&4294967295|L>>>11),L=k+(M^(D|~F))+I[4]+4149444226&4294967295,k=D+(L<<6&4294967295|L>>>26),L=F+(D^(k|~M))+I[11]+3174756917&4294967295,F=k+(L<<10&4294967295|L>>>22),L=M+(k^(F|~D))+I[2]+718787259&4294967295,M=F+(L<<15&4294967295|L>>>17),L=D+(F^(M|~k))+I[9]+3951481745&4294967295,A.g[0]=A.g[0]+k&4294967295,A.g[1]=A.g[1]+(M+(L<<21&4294967295|L>>>11))&4294967295,A.g[2]=A.g[2]+M&4294967295,A.g[3]=A.g[3]+F&4294967295}n.prototype.u=function(A,k){k===void 0&&(k=A.length);for(var D=k-this.blockSize,I=this.B,M=this.h,F=0;F<k;){if(M==0)for(;F<=D;)i(this,A,F),F+=this.blockSize;if(typeof A=="string"){for(;F<k;)if(I[M++]=A.charCodeAt(F++),M==this.blockSize){i(this,I),M=0;break}}else for(;F<k;)if(I[M++]=A[F++],M==this.blockSize){i(this,I),M=0;break}}this.h=M,this.o+=k},n.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var k=1;k<A.length-8;++k)A[k]=0;var D=8*this.o;for(k=A.length-8;k<A.length;++k)A[k]=D&255,D/=256;for(this.u(A),A=Array(16),k=D=0;4>k;++k)for(var I=0;32>I;I+=8)A[D++]=this.g[k]>>>I&255;return A};function a(A,k){var D=u;return Object.prototype.hasOwnProperty.call(D,A)?D[A]:D[A]=k(A)}function s(A,k){this.h=k;for(var D=[],I=!0,M=A.length-1;0<=M;M--){var F=A[M]|0;I&&F==k||(D[M]=F,I=!1)}this.g=D}var u={};function c(A){return-128<=A&&128>A?a(A,function(k){return new s([k|0],0>k?-1:0)}):new s([A|0],0>A?-1:0)}function f(A){if(isNaN(A)||!isFinite(A))return g;if(0>A)return b(f(-A));for(var k=[],D=1,I=0;A>=D;I++)k[I]=A/D|0,D*=4294967296;return new s(k,0)}function h(A,k){if(A.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(A.charAt(0)=="-")return b(h(A.substring(1),k));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=f(Math.pow(k,8)),I=g,M=0;M<A.length;M+=8){var F=Math.min(8,A.length-M),L=parseInt(A.substring(M,M+F),k);8>F?(F=f(Math.pow(k,F)),I=I.j(F).add(f(L))):(I=I.j(D),I=I.add(f(L)))}return I}var g=c(0),v=c(1),_=c(16777216);t=s.prototype,t.m=function(){if(w(this))return-b(this).m();for(var A=0,k=1,D=0;D<this.g.length;D++){var I=this.i(D);A+=(0<=I?I:4294967296+I)*k,k*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(E(this))return"0";if(w(this))return"-"+b(this).toString(A);for(var k=f(Math.pow(A,6)),D=this,I="";;){var M=V(D,k).g;D=P(D,M.j(k));var F=((0<D.g.length?D.g[0]:D.h)>>>0).toString(A);if(D=M,E(D))return F+I;for(;6>F.length;)F="0"+F;I=F+I}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function E(A){if(A.h!=0)return!1;for(var k=0;k<A.g.length;k++)if(A.g[k]!=0)return!1;return!0}function w(A){return A.h==-1}t.l=function(A){return A=P(this,A),w(A)?-1:E(A)?0:1};function b(A){for(var k=A.g.length,D=[],I=0;I<k;I++)D[I]=~A.g[I];return new s(D,~A.h).add(v)}t.abs=function(){return w(this)?b(this):this},t.add=function(A){for(var k=Math.max(this.g.length,A.g.length),D=[],I=0,M=0;M<=k;M++){var F=I+(this.i(M)&65535)+(A.i(M)&65535),L=(F>>>16)+(this.i(M)>>>16)+(A.i(M)>>>16);I=L>>>16,F&=65535,L&=65535,D[M]=L<<16|F}return new s(D,D[D.length-1]&-2147483648?-1:0)};function P(A,k){return A.add(b(k))}t.j=function(A){if(E(this)||E(A))return g;if(w(this))return w(A)?b(this).j(b(A)):b(b(this).j(A));if(w(A))return b(this.j(b(A)));if(0>this.l(_)&&0>A.l(_))return f(this.m()*A.m());for(var k=this.g.length+A.g.length,D=[],I=0;I<2*k;I++)D[I]=0;for(I=0;I<this.g.length;I++)for(var M=0;M<A.g.length;M++){var F=this.i(I)>>>16,L=this.i(I)&65535,te=A.i(M)>>>16,re=A.i(M)&65535;D[2*I+2*M]+=L*re,j(D,2*I+2*M),D[2*I+2*M+1]+=F*re,j(D,2*I+2*M+1),D[2*I+2*M+1]+=L*te,j(D,2*I+2*M+1),D[2*I+2*M+2]+=F*te,j(D,2*I+2*M+2)}for(I=0;I<k;I++)D[I]=D[2*I+1]<<16|D[2*I];for(I=k;I<2*k;I++)D[I]=0;return new s(D,0)};function j(A,k){for(;(A[k]&65535)!=A[k];)A[k+1]+=A[k]>>>16,A[k]&=65535,k++}function R(A,k){this.g=A,this.h=k}function V(A,k){if(E(k))throw Error("division by zero");if(E(A))return new R(g,g);if(w(A))return k=V(b(A),k),new R(b(k.g),b(k.h));if(w(k))return k=V(A,b(k)),new R(b(k.g),k.h);if(30<A.g.length){if(w(A)||w(k))throw Error("slowDivide_ only works with positive integers.");for(var D=v,I=k;0>=I.l(A);)D=O(D),I=O(I);var M=N(D,1),F=N(I,1);for(I=N(I,2),D=N(D,2);!E(I);){var L=F.add(I);0>=L.l(A)&&(M=M.add(D),F=L),I=N(I,1),D=N(D,1)}return k=P(A,M.j(k)),new R(M,k)}for(M=g;0<=A.l(k);){for(D=Math.max(1,Math.floor(A.m()/k.m())),I=Math.ceil(Math.log(D)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),F=f(D),L=F.j(k);w(L)||0<L.l(A);)D-=I,F=f(D),L=F.j(k);E(F)&&(F=v),M=M.add(F),A=P(A,L)}return new R(M,A)}t.A=function(A){return V(this,A).h},t.and=function(A){for(var k=Math.max(this.g.length,A.g.length),D=[],I=0;I<k;I++)D[I]=this.i(I)&A.i(I);return new s(D,this.h&A.h)},t.or=function(A){for(var k=Math.max(this.g.length,A.g.length),D=[],I=0;I<k;I++)D[I]=this.i(I)|A.i(I);return new s(D,this.h|A.h)},t.xor=function(A){for(var k=Math.max(this.g.length,A.g.length),D=[],I=0;I<k;I++)D[I]=this.i(I)^A.i(I);return new s(D,this.h^A.h)};function O(A){for(var k=A.g.length+1,D=[],I=0;I<k;I++)D[I]=A.i(I)<<1|A.i(I-1)>>>31;return new s(D,A.h)}function N(A,k){var D=k>>5;k%=32;for(var I=A.g.length-D,M=[],F=0;F<I;F++)M[F]=0<k?A.i(F+D)>>>k|A.i(F+D+1)<<32-k:A.i(F+D);return new s(M,A.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,JR=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=f,s.fromString=h,Es=s}).apply(typeof lP<"u"?lP:typeof self<"u"?self:typeof window<"u"?window:{});var Ch=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ZR,Lc,eD,ep,k_,tD,rD,nD;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,S,C){return m==Array.prototype||m==Object.prototype||(m[S]=C.value),m};function r(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ch=="object"&&Ch];for(var S=0;S<m.length;++S){var C=m[S];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var n=r(this);function i(m,S){if(S)e:{var C=n;m=m.split(".");for(var U=0;U<m.length-1;U++){var Z=m[U];if(!(Z in C))break e;C=C[Z]}m=m[m.length-1],U=C[m],S=S(U),S!=U&&S!=null&&e(C,m,{configurable:!0,writable:!0,value:S})}}function a(m,S){m instanceof String&&(m+="");var C=0,U=!1,Z={next:function(){if(!U&&C<m.length){var se=C++;return{value:S(se,m[se]),done:!1}}return U=!0,{done:!0,value:void 0}}};return Z[Symbol.iterator]=function(){return Z},Z}i("Array.prototype.values",function(m){return m||function(){return a(this,function(S,C){return C})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},u=this||self;function c(m){var S=typeof m;return S=S!="object"?S:m?Array.isArray(m)?"array":S:"null",S=="array"||S=="object"&&typeof m.length=="number"}function f(m){var S=typeof m;return S=="object"&&m!=null||S=="function"}function h(m,S,C){return m.call.apply(m.bind,arguments)}function g(m,S,C){if(!m)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var Z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Z,U),m.apply(S,Z)}}return function(){return m.apply(S,arguments)}}function v(m,S,C){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:g,v.apply(null,arguments)}function _(m,S){var C=Array.prototype.slice.call(arguments,1);return function(){var U=C.slice();return U.push.apply(U,arguments),m.apply(this,U)}}function E(m,S){function C(){}C.prototype=S.prototype,m.aa=S.prototype,m.prototype=new C,m.prototype.constructor=m,m.Qb=function(U,Z,se){for(var be=Array(arguments.length-2),mt=2;mt<arguments.length;mt++)be[mt-2]=arguments[mt];return S.prototype[Z].apply(U,be)}}function w(m){const S=m.length;if(0<S){const C=Array(S);for(let U=0;U<S;U++)C[U]=m[U];return C}return[]}function b(m,S){for(let C=1;C<arguments.length;C++){const U=arguments[C];if(c(U)){const Z=m.length||0,se=U.length||0;m.length=Z+se;for(let be=0;be<se;be++)m[Z+be]=U[be]}else m.push(U)}}class P{constructor(S,C){this.i=S,this.j=C,this.h=0,this.g=null}get(){let S;return 0<this.h?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function j(m){return/^[\s\xa0]*$/.test(m)}function R(){var m=u.navigator;return m&&(m=m.userAgent)?m:""}function V(m){return V[" "](m),m}V[" "]=function(){};var O=R().indexOf("Gecko")!=-1&&!(R().toLowerCase().indexOf("webkit")!=-1&&R().indexOf("Edge")==-1)&&!(R().indexOf("Trident")!=-1||R().indexOf("MSIE")!=-1)&&R().indexOf("Edge")==-1;function N(m,S,C){for(const U in m)S.call(C,m[U],U,m)}function A(m,S){for(const C in m)S.call(void 0,m[C],C,m)}function k(m){const S={};for(const C in m)S[C]=m[C];return S}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(m,S){let C,U;for(let Z=1;Z<arguments.length;Z++){U=arguments[Z];for(C in U)m[C]=U[C];for(let se=0;se<D.length;se++)C=D[se],Object.prototype.hasOwnProperty.call(U,C)&&(m[C]=U[C])}}function M(m){var S=1;m=m.split(":");const C=[];for(;0<S&&m.length;)C.push(m.shift()),S--;return m.length&&C.push(m.join(":")),C}function F(m){u.setTimeout(()=>{throw m},0)}function L(){var m=Q;let S=null;return m.g&&(S=m.g,m.g=m.g.next,m.g||(m.h=null),S.next=null),S}class te{constructor(){this.h=this.g=null}add(S,C){const U=re.get();U.set(S,C),this.h?this.h.next=U:this.g=U,this.h=U}}var re=new P(()=>new X,m=>m.reset());class X{constructor(){this.next=this.g=this.h=null}set(S,C){this.h=S,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,J=!1,Q=new te,ae=()=>{const m=u.Promise.resolve(void 0);ie=()=>{m.then(q)}};var q=()=>{for(var m;m=L();){try{m.h.call(m.g)}catch(C){F(C)}var S=re;S.j(m),100>S.h&&(S.h++,m.next=S.g,S.g=m)}J=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(m,S){this.type=m,this.g=this.target=S,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var xe=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var m=!1,S=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const C=()=>{};u.addEventListener("test",C,S),u.removeEventListener("test",C,S)}catch{}return m}();function Pe(m,S){if(ue.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var C=this.type=m.type,U=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=S,S=m.relatedTarget){if(O){e:{try{V(S.nodeName);var Z=!0;break e}catch{}Z=!1}Z||(S=null)}}else C=="mouseover"?S=m.fromElement:C=="mouseout"&&(S=m.toElement);this.relatedTarget=S,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:De[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&Pe.aa.h.call(this)}}E(Pe,ue);var De={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Ke="closure_listenable_"+(1e6*Math.random()|0),je=0;function de(m,S,C,U,Z){this.listener=m,this.proxy=null,this.src=S,this.type=C,this.capture=!!U,this.ha=Z,this.key=++je,this.da=this.fa=!1}function Se(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Re(m){this.src=m,this.g={},this.h=0}Re.prototype.add=function(m,S,C,U,Z){var se=m.toString();m=this.g[se],m||(m=this.g[se]=[],this.h++);var be=ge(m,S,U,Z);return-1<be?(S=m[be],C||(S.fa=!1)):(S=new de(S,this.src,se,!!U,Z),S.fa=C,m.push(S)),S};function W(m,S){var C=S.type;if(C in m.g){var U=m.g[C],Z=Array.prototype.indexOf.call(U,S,void 0),se;(se=0<=Z)&&Array.prototype.splice.call(U,Z,1),se&&(Se(S),m.g[C].length==0&&(delete m.g[C],m.h--))}}function ge(m,S,C,U){for(var Z=0;Z<m.length;++Z){var se=m[Z];if(!se.da&&se.listener==S&&se.capture==!!C&&se.ha==U)return Z}return-1}var _e="closure_lm_"+(1e6*Math.random()|0),Ne={};function Xe(m,S,C,U,Z){if(Array.isArray(S)){for(var se=0;se<S.length;se++)Xe(m,S[se],C,U,Z);return null}return C=bi(C),m&&m[Ke]?m.K(S,C,f(U)?!!U.capture:!1,Z):Lt(m,S,C,!1,U,Z)}function Lt(m,S,C,U,Z,se){if(!S)throw Error("Invalid event type");var be=f(Z)?!!Z.capture:!!Z,mt=Tn(m);if(mt||(m[_e]=mt=new Re(m)),C=mt.add(S,C,U,be,se),C.proxy)return C;if(U=Yr(),C.proxy=U,U.src=m,U.listener=C,m.addEventListener)xe||(Z=be),Z===void 0&&(Z=!1),m.addEventListener(S.toString(),U,Z);else if(m.attachEvent)m.attachEvent(Qt(S.toString()),U);else if(m.addListener&&m.removeListener)m.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return C}function Yr(){function m(C){return S.call(m.src,m.listener,C)}const S=gr;return m}function Vr(m,S,C,U,Z){if(Array.isArray(S))for(var se=0;se<S.length;se++)Vr(m,S[se],C,U,Z);else U=f(U)?!!U.capture:!!U,C=bi(C),m&&m[Ke]?(m=m.i,S=String(S).toString(),S in m.g&&(se=m.g[S],C=ge(se,C,U,Z),-1<C&&(Se(se[C]),Array.prototype.splice.call(se,C,1),se.length==0&&(delete m.g[S],m.h--)))):m&&(m=Tn(m))&&(S=m.g[S.toString()],m=-1,S&&(m=ge(S,C,U,Z)),(C=-1<m?S[m]:null)&&Fr(C))}function Fr(m){if(typeof m!="number"&&m&&!m.da){var S=m.src;if(S&&S[Ke])W(S.i,m);else{var C=m.type,U=m.proxy;S.removeEventListener?S.removeEventListener(C,U,m.capture):S.detachEvent?S.detachEvent(Qt(C),U):S.addListener&&S.removeListener&&S.removeListener(U),(C=Tn(S))?(W(C,m),C.h==0&&(C.src=null,S[_e]=null)):Se(m)}}}function Qt(m){return m in Ne?Ne[m]:Ne[m]="on"+m}function gr(m,S){if(m.da)m=!0;else{S=new Pe(S,this);var C=m.listener,U=m.ha||m.src;m.fa&&Fr(m),m=C.call(U,S)}return m}function Tn(m){return m=m[_e],m instanceof Re?m:null}var vi="__closure_events_fn_"+(1e9*Math.random()>>>0);function bi(m){return typeof m=="function"?m:(m[vi]||(m[vi]=function(S){return m.handleEvent(S)}),m[vi])}function $t(){G.call(this),this.i=new Re(this),this.M=this,this.F=null}E($t,G),$t.prototype[Ke]=!0,$t.prototype.removeEventListener=function(m,S,C,U){Vr(this,m,S,C,U)};function Vt(m,S){var C,U=m.F;if(U)for(C=[];U;U=U.F)C.push(U);if(m=m.M,U=S.type||S,typeof S=="string")S=new ue(S,m);else if(S instanceof ue)S.target=S.target||m;else{var Z=S;S=new ue(U,m),I(S,Z)}if(Z=!0,C)for(var se=C.length-1;0<=se;se--){var be=S.g=C[se];Z=Hn(be,U,!0,S)&&Z}if(be=S.g=m,Z=Hn(be,U,!0,S)&&Z,Z=Hn(be,U,!1,S)&&Z,C)for(se=0;se<C.length;se++)be=S.g=C[se],Z=Hn(be,U,!1,S)&&Z}$t.prototype.N=function(){if($t.aa.N.call(this),this.i){var m=this.i,S;for(S in m.g){for(var C=m.g[S],U=0;U<C.length;U++)Se(C[U]);delete m.g[S],m.h--}}this.F=null},$t.prototype.K=function(m,S,C,U){return this.i.add(String(m),S,!1,C,U)},$t.prototype.L=function(m,S,C,U){return this.i.add(String(m),S,!0,C,U)};function Hn(m,S,C,U){if(S=m.i.g[String(S)],!S)return!0;S=S.concat();for(var Z=!0,se=0;se<S.length;++se){var be=S[se];if(be&&!be.da&&be.capture==C){var mt=be.listener,Zt=be.ha||be.src;be.fa&&W(m.i,be),Z=mt.call(Zt,U)!==!1&&Z}}return Z&&!U.defaultPrevented}function Ra(m,S,C){if(typeof m=="function")C&&(m=v(m,C));else if(m&&typeof m.handleEvent=="function")m=v(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(S)?-1:u.setTimeout(m,S||0)}function Hi(m){m.g=Ra(()=>{m.g=null,m.i&&(m.i=!1,Hi(m))},m.l);const S=m.h;m.h=null,m.m.apply(null,S)}class Da extends G{constructor(S,C){super(),this.m=S,this.l=C,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:Hi(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xr(m){G.call(this),this.h=m,this.g={}}E(Xr,G);var Qs=[];function Js(m){N(m.g,function(S,C){this.g.hasOwnProperty(C)&&Fr(S)},m),m.g={}}Xr.prototype.N=function(){Xr.aa.N.call(this),Js(this)},Xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zs=u.JSON.stringify,Mo=u.JSON.parse,Lo=class{stringify(m){return u.JSON.stringify(m,void 0)}parse(m){return u.JSON.parse(m,void 0)}};function An(){}An.prototype.h=null;function Ki(m){return m.h||(m.h=m.i())}function $o(){}var cn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Kn(){ue.call(this,"d")}E(Kn,ue);function Vo(){ue.call(this,"c")}E(Vo,ue);var Gn={},el=null;function Yn(){return el=el||new $t}Gn.La="serverreachability";function Fo(m){ue.call(this,Gn.La,m)}E(Fo,ue);function Ar(m){const S=Yn();Vt(S,new Fo(S))}Gn.STAT_EVENT="statevent";function Xn(m,S){ue.call(this,Gn.STAT_EVENT,m),this.stat=S}E(Xn,ue);function bt(m){const S=Yn();Vt(S,new Xn(S,m))}Gn.Ma="timingevent";function Ma(m,S){ue.call(this,Gn.Ma,m),this.size=S}E(Ma,ue);function Qr(m,S){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){m()},S)}function Gi(){this.g=!0}Gi.prototype.xa=function(){this.g=!1};function Yi(m,S,C,U,Z,se){m.info(function(){if(m.g)if(se)for(var be="",mt=se.split("&"),Zt=0;Zt<mt.length;Zt++){var at=mt[Zt].split("=");if(1<at.length){var lr=at[0];at=at[1];var Wt=lr.split("_");be=2<=Wt.length&&Wt[1]=="type"?be+(lr+"="+at+"&"):be+(lr+"=redacted&")}}else be=null;else be=se;return"XMLHTTP REQ ("+U+") [attempt "+Z+"]: "+S+`
`+C+`
`+be})}function Pn(m,S,C,U,Z,se,be){m.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+Z+"]: "+S+`
`+C+`
`+se+" "+be})}function fn(m,S,C,U){m.info(function(){return"XMLHTTP TEXT ("+S+"): "+Wu(m,C)+(U?" "+U:"")})}function Qn(m,S){m.info(function(){return"TIMEOUT: "+S})}Gi.prototype.info=function(){};function Wu(m,S){if(!m.g)return S;if(!S)return null;try{var C=JSON.parse(S);if(C){for(m=0;m<C.length;m++)if(Array.isArray(C[m])){var U=C[m];if(!(2>U.length)){var Z=U[1];if(Array.isArray(Z)&&!(1>Z.length)){var se=Z[0];if(se!="noop"&&se!="stop"&&se!="close")for(var be=1;be<Z.length;be++)Z[be]=""}}}}return Zs(C)}catch{return S}}var La={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},tl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},He;function Je(){}E(Je,An),Je.prototype.g=function(){return new XMLHttpRequest},Je.prototype.i=function(){return{}},He=new Je;function lt(m,S,C,U){this.j=m,this.i=S,this.l=C,this.R=U||1,this.U=new Xr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new rt}function rt(){this.i=null,this.g="",this.h=!1}var Ft={},dn={};function Jt(m,S,C){m.L=1,m.v=Ba(pn(S)),m.m=C,m.P=!0,Pr(m,null)}function Pr(m,S){m.F=Date.now(),wt(m),m.A=pn(m.v);var C=m.A,U=m.R;Array.isArray(U)||(U=[String(U)]),za(C.i,"t",U),m.C=0,C=m.j.J,m.h=new rt,m.g=jd(m.j,C?S:null,!m.m),0<m.O&&(m.M=new Da(v(m.Y,m,m.g),m.O)),S=m.U,C=m.g,U=m.ca;var Z="readystatechange";Array.isArray(Z)||(Z&&(Qs[0]=Z.toString()),Z=Qs);for(var se=0;se<Z.length;se++){var be=Xe(C,Z[se],U||S.handleEvent,!1,S.h||S);if(!be)break;S.g[be.key]=be}S=m.H?k(m.H):{},m.m?(m.u||(m.u="POST"),S["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,S)):(m.u="GET",m.g.ea(m.A,m.u,null,S)),Ar(),Yi(m.i,m.u,m.A,m.l,m.R,m.m)}lt.prototype.ca=function(m){m=m.target;const S=this.M;S&&Zr(m)==3?S.j():this.Y(m)},lt.prototype.Y=function(m){try{if(m==this.g)e:{const Wt=Zr(this.g);var S=this.g.Ba();const In=this.g.Z();if(!(3>Wt)&&(Wt!=3||this.g&&(this.h.h||this.g.oa()||Qu(this.g)))){this.J||Wt!=4||S==7||(S==8||0>=In?Ar(3):Ar(2)),Uo(this);var C=this.g.Z();this.X=C;t:if(gd(this)){var U=Qu(this.g);m="";var Z=U.length,se=Zr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){kn(this),$a(this);var be="";break t}this.h.i=new u.TextDecoder}for(S=0;S<Z;S++)this.h.h=!0,m+=this.h.i.decode(U[S],{stream:!(se&&S==Z-1)});U.length=0,this.h.g+=m,this.C=0,be=this.h.g}else be=this.g.oa();if(this.o=C==200,Pn(this.i,this.u,this.A,this.l,this.R,Wt,C),this.o){if(this.T&&!this.K){t:{if(this.g){var mt,Zt=this.g;if((mt=Zt.g?Zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(mt)){var at=mt;break t}}at=null}if(C=at)fn(this.i,this.l,C,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hu(this,C);else{this.o=!1,this.s=3,bt(12),kn(this),$a(this);break e}}if(this.P){C=!0;let gn;for(;!this.J&&this.C<be.length;)if(gn=Ig(this,be),gn==dn){Wt==4&&(this.s=4,bt(14),C=!1),fn(this.i,this.l,null,"[Incomplete Response]");break}else if(gn==Ft){this.s=4,bt(15),fn(this.i,this.l,be,"[Invalid Chunk]"),C=!1;break}else fn(this.i,this.l,gn,null),Hu(this,gn);if(gd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Wt!=4||be.length!=0||this.h.h||(this.s=1,bt(16),C=!1),this.o=this.o&&C,!C)fn(this.i,this.l,be,"[Invalid Chunked Response]"),kn(this),$a(this);else if(0<be.length&&!this.W){this.W=!0;var lr=this.j;lr.g==this&&lr.ba&&!lr.M&&(lr.j.info("Great, no buffering proxy detected. Bytes received: "+be.length),Zu(lr),lr.M=!0,bt(11))}}else fn(this.i,this.l,be,null),Hu(this,be);Wt==4&&kn(this),this.o&&!this.J&&(Wt==4?dl(this.j,this):(this.o=!1,wt(this)))}else sl(this.g),C==400&&0<be.indexOf("Unknown SID")?(this.s=3,bt(12)):(this.s=0,bt(13)),kn(this),$a(this)}}}catch{}finally{}};function gd(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function Ig(m,S){var C=m.C,U=S.indexOf(`
`,C);return U==-1?dn:(C=Number(S.substring(C,U)),isNaN(C)?Ft:(U+=1,U+C>S.length?dn:(S=S.slice(U,U+C),m.C=U+C,S)))}lt.prototype.cancel=function(){this.J=!0,kn(this)};function wt(m){m.S=Date.now()+m.I,yd(m,m.I)}function yd(m,S){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Qr(v(m.ba,m),S)}function Uo(m){m.B&&(u.clearTimeout(m.B),m.B=null)}lt.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(Qn(this.i,this.A),this.L!=2&&(Ar(),bt(17)),kn(this),this.s=2,$a(this)):yd(this,this.S-m)};function $a(m){m.j.G==0||m.J||dl(m.j,m)}function kn(m){Uo(m);var S=m.M;S&&typeof S.ma=="function"&&S.ma(),m.M=null,Js(m.U),m.g&&(S=m.g,m.g=null,S.abort(),S.ma())}function Hu(m,S){try{var C=m.j;if(C.G!=0&&(C.g==m||Ur(C.h,m))){if(!m.K&&Ur(C.h,m)&&C.G==3){try{var U=C.Da.g.parse(S)}catch{U=null}if(Array.isArray(U)&&U.length==3){var Z=U;if(Z[0]==0){e:if(!C.u){if(C.g)if(C.g.F+3e3<m.F)fl(C),ri(C);else break e;cl(C),bt(18)}}else C.za=Z[1],0<C.za-C.T&&37500>Z[2]&&C.F&&C.v==0&&!C.C&&(C.C=Qr(v(C.Za,C),6e3));if(1>=bd(C.h)&&C.ca){try{C.ca()}catch{}C.ca=void 0}}else ea(C,11)}else if((m.K||C.g==m)&&fl(C),!j(S))for(Z=C.Da.g.parse(S),S=0;S<Z.length;S++){let at=Z[S];if(C.T=at[0],at=at[1],C.G==2)if(at[0]=="c"){C.K=at[1],C.ia=at[2];const lr=at[3];lr!=null&&(C.la=lr,C.j.info("VER="+C.la));const Wt=at[4];Wt!=null&&(C.Aa=Wt,C.j.info("SVER="+C.Aa));const In=at[5];In!=null&&typeof In=="number"&&0<In&&(U=1.5*In,C.L=U,C.j.info("backChannelRequestTimeoutMs_="+U)),U=C;const gn=m.g;if(gn){const Go=gn.g?gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Go){var se=U.h;se.g||Go.indexOf("spdy")==-1&&Go.indexOf("quic")==-1&&Go.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(Ku(se,se.h),se.h=null))}if(U.D){const pl=gn.g?gn.g.getResponseHeader("X-HTTP-Session-Id"):null;pl&&(U.ya=pl,xt(U.I,U.D,pl))}}C.G=3,C.l&&C.l.ua(),C.ba&&(C.R=Date.now()-m.F,C.j.info("Handshake RTT: "+C.R+"ms")),U=C;var be=m;if(U.qa=Nd(U,U.J?U.ia:null,U.W),be.K){xd(U.h,be);var mt=be,Zt=U.L;Zt&&(mt.I=Zt),mt.B&&(Uo(mt),wt(mt)),U.g=be}else Ko(U);0<C.i.length&&Si(C)}else at[0]!="stop"&&at[0]!="close"||ea(C,7);else C.G==3&&(at[0]=="stop"||at[0]=="close"?at[0]=="stop"?ea(C,7):vr(C):at[0]!="noop"&&C.l&&C.l.ta(at),C.v=0)}}Ar(4)}catch{}}var vd=class{constructor(m,S){this.g=m,this.map=S}};function Bo(m){this.l=m||10,u.PerformanceNavigationTiming?(m=u.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function hn(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function bd(m){return m.h?1:m.g?m.g.size:0}function Ur(m,S){return m.h?m.h==S:m.g?m.g.has(S):!1}function Ku(m,S){m.g?m.g.add(S):m.h=S}function xd(m,S){m.h&&m.h==S?m.h=null:m.g&&m.g.has(S)&&m.g.delete(S)}Bo.prototype.cancel=function(){if(this.i=_d(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function _d(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let S=m.i;for(const C of m.g.values())S=S.concat(C.D);return S}return w(m.i)}function rl(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(c(m)){for(var S=[],C=m.length,U=0;U<C;U++)S.push(m[U]);return S}S=[],C=0;for(U in m)S[C++]=m[U];return S}function nl(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(c(m)||typeof m=="string"){var S=[];m=m.length;for(var C=0;C<m;C++)S.push(C);return S}S=[],C=0;for(const U in m)S[C++]=U;return S}}}function Va(m,S){if(m.forEach&&typeof m.forEach=="function")m.forEach(S,void 0);else if(c(m)||typeof m=="string")Array.prototype.forEach.call(m,S,void 0);else for(var C=nl(m),U=rl(m),Z=U.length,se=0;se<Z;se++)S.call(void 0,U[se],C&&C[se],m)}var qo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cg(m,S){if(m){m=m.split("&");for(var C=0;C<m.length;C++){var U=m[C].indexOf("="),Z=null;if(0<=U){var se=m[C].substring(0,U);Z=m[C].substring(U+1)}else se=m[C];S(se,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function Xi(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof Xi){this.h=m.h,zo(this,m.j),this.o=m.o,this.g=m.g,Fa(this,m.s),this.l=m.l;var S=m.i,C=new xi;C.i=S.i,S.g&&(C.g=new Map(S.g),C.h=S.h),Ua(this,C),this.m=m.m}else m&&(S=String(m).match(qo))?(this.h=!1,zo(this,S[1]||"",!0),this.o=nt(S[2]||""),this.g=nt(S[3]||"",!0),Fa(this,S[4]),this.l=nt(S[5]||"",!0),Ua(this,S[6]||"",!0),this.m=nt(S[7]||"")):(this.h=!1,this.i=new xi(null,this.h))}Xi.prototype.toString=function(){var m=[],S=this.j;S&&m.push(qa(S,il,!0),":");var C=this.g;return(C||S=="file")&&(m.push("//"),(S=this.o)&&m.push(qa(S,il,!0),"@"),m.push(encodeURIComponent(String(C)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.s,C!=null&&m.push(":",String(C))),(C=this.l)&&(this.g&&C.charAt(0)!="/"&&m.push("/"),m.push(qa(C,C.charAt(0)=="/"?Ed:Sd,!0))),(C=this.i.toString())&&m.push("?",C),(C=this.m)&&m.push("#",qa(C,Gu)),m.join("")};function pn(m){return new Xi(m)}function zo(m,S,C){m.j=C?nt(S,!0):S,m.j&&(m.j=m.j.replace(/:$/,""))}function Fa(m,S){if(S){if(S=Number(S),isNaN(S)||0>S)throw Error("Bad port number "+S);m.s=S}else m.s=null}function Ua(m,S,C){S instanceof xi?(m.i=S,_i(m.i,m.h)):(C||(S=qa(S,Td)),m.i=new xi(S,m.h))}function xt(m,S,C){m.i.set(S,C)}function Ba(m){return xt(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function nt(m,S){return m?S?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function qa(m,S,C){return typeof m=="string"?(m=encodeURI(m).replace(S,wd),C&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function wd(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var il=/[#\/\?@]/g,Sd=/[#\?:]/g,Ed=/[#\?]/g,Td=/[#\?@]/g,Gu=/#/g;function xi(m,S){this.h=this.g=null,this.i=m||null,this.j=!!S}function yr(m){m.g||(m.g=new Map,m.h=0,m.i&&Cg(m.i,function(S,C){m.add(decodeURIComponent(S.replace(/\+/g," ")),C)}))}t=xi.prototype,t.add=function(m,S){yr(this),this.i=null,m=On(this,m);var C=this.g.get(m);return C||this.g.set(m,C=[]),C.push(S),this.h+=1,this};function Jn(m,S){yr(m),S=On(m,S),m.g.has(S)&&(m.i=null,m.h-=m.g.get(S).length,m.g.delete(S))}function Zn(m,S){return yr(m),S=On(m,S),m.g.has(S)}t.forEach=function(m,S){yr(this),this.g.forEach(function(C,U){C.forEach(function(Z){m.call(S,Z,U,this)},this)},this)},t.na=function(){yr(this);const m=Array.from(this.g.values()),S=Array.from(this.g.keys()),C=[];for(let U=0;U<S.length;U++){const Z=m[U];for(let se=0;se<Z.length;se++)C.push(S[U])}return C},t.V=function(m){yr(this);let S=[];if(typeof m=="string")Zn(this,m)&&(S=S.concat(this.g.get(On(this,m))));else{m=Array.from(this.g.values());for(let C=0;C<m.length;C++)S=S.concat(m[C])}return S},t.set=function(m,S){return yr(this),this.i=null,m=On(this,m),Zn(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[S]),this.h+=1,this},t.get=function(m,S){return m?(m=this.V(m),0<m.length?String(m[0]):S):S};function za(m,S,C){Jn(m,S),0<C.length&&(m.i=null,m.g.set(On(m,S),w(C)),m.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],S=Array.from(this.g.keys());for(var C=0;C<S.length;C++){var U=S[C];const se=encodeURIComponent(String(U)),be=this.V(U);for(U=0;U<be.length;U++){var Z=se;be[U]!==""&&(Z+="="+encodeURIComponent(String(be[U]))),m.push(Z)}}return this.i=m.join("&")};function On(m,S){return S=String(S),m.j&&(S=S.toLowerCase()),S}function _i(m,S){S&&!m.j&&(yr(m),m.i=null,m.g.forEach(function(C,U){var Z=U.toLowerCase();U!=Z&&(Jn(this,U),za(this,Z,C))},m)),m.j=S}function Ng(m,S){const C=new Gi;if(u.Image){const U=new Image;U.onload=_(Jr,C,"TestLoadImage: loaded",!0,S,U),U.onerror=_(Jr,C,"TestLoadImage: error",!1,S,U),U.onabort=_(Jr,C,"TestLoadImage: abort",!1,S,U),U.ontimeout=_(Jr,C,"TestLoadImage: timeout",!1,S,U),u.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=m}else S(!1)}function Ad(m,S){const C=new Gi,U=new AbortController,Z=setTimeout(()=>{U.abort(),Jr(C,"TestPingServer: timeout",!1,S)},1e4);fetch(m,{signal:U.signal}).then(se=>{clearTimeout(Z),se.ok?Jr(C,"TestPingServer: ok",!0,S):Jr(C,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(Z),Jr(C,"TestPingServer: error",!1,S)})}function Jr(m,S,C,U,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),U(C)}catch{}}function jg(){this.g=new Lo}function Pd(m,S,C){const U=C||"";try{Va(m,function(Z,se){let be=Z;f(Z)&&(be=Zs(Z)),S.push(U+se+"="+encodeURIComponent(be))})}catch(Z){throw S.push(U+"type="+encodeURIComponent("_badmap")),Z}}function Qi(m){this.l=m.Ub||null,this.j=m.eb||!1}E(Qi,An),Qi.prototype.g=function(){return new Wo(this.l,this.j)},Qi.prototype.i=function(m){return function(){return m}}({});function Wo(m,S){$t.call(this),this.D=m,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(Wo,$t),t=Wo.prototype,t.open=function(m,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=S,this.readyState=1,ti(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const S={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(S.body=m),(this.D||u).fetch(new Request(this.A,S)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ei(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,ti(this)),this.g&&(this.readyState=3,ti(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;kd(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function kd(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var S=m.value?m.value:new Uint8Array(0);(S=this.v.decode(S,{stream:!m.done}))&&(this.response=this.responseText+=S)}m.done?ei(this):ti(this),this.readyState==3&&kd(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,ei(this))},t.Qa=function(m){this.g&&(this.response=m,ei(this))},t.ga=function(){this.g&&ei(this)};function ei(m){m.readyState=4,m.l=null,m.j=null,m.v=null,ti(m)}t.setRequestHeader=function(m,S){this.u.append(m,S)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],S=this.h.entries();for(var C=S.next();!C.done;)C=C.value,m.push(C[0]+": "+C[1]),C=S.next();return m.join(`\r
`)};function ti(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Wo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Ji(m){let S="";return N(m,function(C,U){S+=U,S+=":",S+=C,S+=`\r
`}),S}function Wa(m,S,C){e:{for(U in C){var U=!1;break e}U=!0}U||(C=Ji(C),typeof m=="string"?C!=null&&encodeURIComponent(String(C)):xt(m,S,C))}function Ct(m){$t.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(Ct,$t);var Rg=/^https?$/i,Yu=["POST","PUT"];t=Ct.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,S,C,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);S=S?S.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():He.g(),this.v=this.o?Ki(this.o):Ki(He),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(S,String(m),!0),this.B=!1}catch(se){Ho(this,se);return}if(m=C||"",C=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var Z in U)C.set(Z,U[Z]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const se of U.keys())C.set(se,U.get(se));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(C.keys()).find(se=>se.toLowerCase()=="content-type"),Z=u.FormData&&m instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Yu,S,void 0))||U||Z||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,be]of C)this.g.setRequestHeader(se,be);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ol(this),this.u=!0,this.g.send(m),this.u=!1}catch(se){Ho(this,se)}};function Ho(m,S){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=S,m.m=5,al(m),mn(m)}function al(m){m.A||(m.A=!0,Vt(m,"complete"),Vt(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,Vt(this,"complete"),Vt(this,"abort"),mn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mn(this,!0)),Ct.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Xu(this):this.bb())},t.bb=function(){Xu(this)};function Xu(m){if(m.h&&typeof s<"u"&&(!m.v[1]||Zr(m)!=4||m.Z()!=2)){if(m.u&&Zr(m)==4)Ra(m.Ea,0,m);else if(Vt(m,"readystatechange"),Zr(m)==4){m.h=!1;try{const be=m.Z();e:switch(be){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var C;if(!(C=S)){var U;if(U=be===0){var Z=String(m.D).match(qo)[1]||null;!Z&&u.self&&u.self.location&&(Z=u.self.location.protocol.slice(0,-1)),U=!Rg.test(Z?Z.toLowerCase():"")}C=U}if(C)Vt(m,"complete"),Vt(m,"success");else{m.m=6;try{var se=2<Zr(m)?m.g.statusText:""}catch{se=""}m.l=se+" ["+m.Z()+"]",al(m)}}finally{mn(m)}}}}function mn(m,S){if(m.g){ol(m);const C=m.g,U=m.v[0]?()=>{}:null;m.g=null,m.v=null,S||Vt(m,"ready");try{C.onreadystatechange=U}catch{}}}function ol(m){m.I&&(u.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function Zr(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<Zr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var S=this.g.responseText;return m&&S.indexOf(m)==0&&(S=S.substring(m.length)),Mo(S)}};function Qu(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function sl(m){const S={};m=(m.g&&2<=Zr(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<m.length;U++){if(j(m[U]))continue;var C=M(m[U]);const Z=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const se=S[Z]||[];S[Z]=se,se.push(C)}A(S,function(U){return U.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function wi(m,S,C){return C&&C.internalChannelParams&&C.internalChannelParams[m]||S}function Ju(m){this.Aa=0,this.i=[],this.j=new Gi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=wi("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=wi("baseRetryDelayMs",5e3,m),this.cb=wi("retryDelaySeedMs",1e4,m),this.Wa=wi("forwardChannelMaxRetries",2,m),this.wa=wi("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new Bo(m&&m.concurrentRequestLimit),this.Da=new jg,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ju.prototype,t.la=8,t.G=1,t.connect=function(m,S,C,U){bt(0),this.W=m,this.H=S||{},C&&U!==void 0&&(this.H.OSID=C,this.H.OAID=U),this.F=this.X,this.I=Nd(this,null,this.W),Si(this)};function vr(m){if(ll(m),m.G==3){var S=m.U++,C=pn(m.I);if(xt(C,"SID",m.K),xt(C,"RID",S),xt(C,"TYPE","terminate"),Zi(m,C),S=new lt(m,m.j,S),S.L=2,S.v=Ba(pn(C)),C=!1,u.navigator&&u.navigator.sendBeacon)try{C=u.navigator.sendBeacon(S.v.toString(),"")}catch{}!C&&u.Image&&(new Image().src=S.v,C=!0),C||(S.g=jd(S.j,null),S.g.ea(S.v)),S.F=Date.now(),wt(S)}Cd(m)}function ri(m){m.g&&(Zu(m),m.g.cancel(),m.g=null)}function ll(m){ri(m),m.u&&(u.clearTimeout(m.u),m.u=null),fl(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&u.clearTimeout(m.s),m.s=null)}function Si(m){if(!hn(m.h)&&!m.s){m.s=!0;var S=m.Ga;ie||ae(),J||(ie(),J=!0),Q.add(S,m),m.B=0}}function Dg(m,S){return bd(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=S.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Qr(v(m.Ga,m,S),Id(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const Z=new lt(this,this.j,m);let se=this.o;if(this.S&&(se?(se=k(se),I(se,this.S)):se=this.S),this.m!==null||this.O||(Z.H=se,se=null),this.P)e:{for(var S=0,C=0;C<this.i.length;C++){t:{var U=this.i[C];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(S+=U,4096<S){S=C;break e}if(S===4096||C===this.i.length-1){S=C+1;break e}}S=1e3}else S=1e3;S=Ha(this,Z,S),C=pn(this.I),xt(C,"RID",m),xt(C,"CVER",22),this.D&&xt(C,"X-HTTP-Session-Id",this.D),Zi(this,C),se&&(this.O?S="headers="+encodeURIComponent(String(Ji(se)))+"&"+S:this.m&&Wa(C,this.m,se)),Ku(this.h,Z),this.Ua&&xt(C,"TYPE","init"),this.P?(xt(C,"$req",S),xt(C,"SID","null"),Z.T=!0,Jt(Z,C,null)):Jt(Z,C,S),this.G=2}}else this.G==3&&(m?ul(this,m):this.i.length==0||hn(this.h)||ul(this))};function ul(m,S){var C;S?C=S.l:C=m.U++;const U=pn(m.I);xt(U,"SID",m.K),xt(U,"RID",C),xt(U,"AID",m.T),Zi(m,U),m.m&&m.o&&Wa(U,m.m,m.o),C=new lt(m,m.j,C,m.B+1),m.m===null&&(C.H=m.o),S&&(m.i=S.D.concat(m.i)),S=Ha(m,C,1e3),C.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Ku(m.h,C),Jt(C,U,S)}function Zi(m,S){m.H&&N(m.H,function(C,U){xt(S,U,C)}),m.l&&Va({},function(C,U){xt(S,U,C)})}function Ha(m,S,C){C=Math.min(m.i.length,C);var U=m.l?v(m.l.Na,m.l,m):null;e:{var Z=m.i;let se=-1;for(;;){const be=["count="+C];se==-1?0<C?(se=Z[0].g,be.push("ofs="+se)):se=0:be.push("ofs="+se);let mt=!0;for(let Zt=0;Zt<C;Zt++){let at=Z[Zt].g;const lr=Z[Zt].map;if(at-=se,0>at)se=Math.max(0,Z[Zt].g-100),mt=!1;else try{Pd(lr,be,"req"+at+"_")}catch{U&&U(lr)}}if(mt){U=be.join("&");break e}}}return m=m.i.splice(0,C),S.D=m,U}function Ko(m){if(!m.g&&!m.u){m.Y=1;var S=m.Fa;ie||ae(),J||(ie(),J=!0),Q.add(S,m),m.v=0}}function cl(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Qr(v(m.Fa,m),Id(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,Od(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Qr(v(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,bt(10),ri(this),Od(this))};function Zu(m){m.A!=null&&(u.clearTimeout(m.A),m.A=null)}function Od(m){m.g=new lt(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var S=pn(m.qa);xt(S,"RID","rpc"),xt(S,"SID",m.K),xt(S,"AID",m.T),xt(S,"CI",m.F?"0":"1"),!m.F&&m.ja&&xt(S,"TO",m.ja),xt(S,"TYPE","xmlhttp"),Zi(m,S),m.m&&m.o&&Wa(S,m.m,m.o),m.L&&(m.g.I=m.L);var C=m.g;m=m.ia,C.L=1,C.v=Ba(pn(S)),C.m=null,C.P=!0,Pr(C,m)}t.Za=function(){this.C!=null&&(this.C=null,ri(this),cl(this),bt(19))};function fl(m){m.C!=null&&(u.clearTimeout(m.C),m.C=null)}function dl(m,S){var C=null;if(m.g==S){fl(m),Zu(m),m.g=null;var U=2}else if(Ur(m.h,S))C=S.D,xd(m.h,S),U=1;else return;if(m.G!=0){if(S.o)if(U==1){C=S.m?S.m.length:0,S=Date.now()-S.F;var Z=m.B;U=Yn(),Vt(U,new Ma(U,C)),Si(m)}else Ko(m);else if(Z=S.s,Z==3||Z==0&&0<S.X||!(U==1&&Dg(m,S)||U==2&&cl(m)))switch(C&&0<C.length&&(S=m.h,S.i=S.i.concat(C)),Z){case 1:ea(m,5);break;case 4:ea(m,10);break;case 3:ea(m,6);break;default:ea(m,2)}}}function Id(m,S){let C=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(C*=2),C*S}function ea(m,S){if(m.j.info("Error code "+S),S==2){var C=v(m.fb,m),U=m.Xa;const Z=!U;U=new Xi(U||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||zo(U,"https"),Ba(U),Z?Ng(U.toString(),C):Ad(U.toString(),C)}else bt(2);m.G=0,m.l&&m.l.sa(S),Cd(m),ll(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function Cd(m){if(m.G=0,m.ka=[],m.l){const S=_d(m.h);(S.length!=0||m.i.length!=0)&&(b(m.ka,S),b(m.ka,m.i),m.h.i.length=0,w(m.i),m.i.length=0),m.l.ra()}}function Nd(m,S,C){var U=C instanceof Xi?pn(C):new Xi(C);if(U.g!="")S&&(U.g=S+"."+U.g),Fa(U,U.s);else{var Z=u.location;U=Z.protocol,S=S?S+"."+Z.hostname:Z.hostname,Z=+Z.port;var se=new Xi(null);U&&zo(se,U),S&&(se.g=S),Z&&Fa(se,Z),C&&(se.l=C),U=se}return C=m.D,S=m.ya,C&&S&&xt(U,C,S),xt(U,"VER",m.la),Zi(m,U),U}function jd(m,S,C){if(S&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return S=m.Ca&&!m.pa?new Ct(new Qi({eb:C})):new Ct(m.pa),S.Ha(m.J),S}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ec(){}t=ec.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function hl(){}hl.prototype.g=function(m,S){return new Br(m,S)};function Br(m,S){$t.call(this),this.g=new Ju(S),this.l=m,this.h=S&&S.messageUrlParams||null,m=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(m?m["X-WebChannel-Content-Type"]=S.messageContentType:m={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.va&&(m?m["X-WebChannel-Client-Profile"]=S.va:m={"X-WebChannel-Client-Profile":S.va}),this.g.S=m,(m=S&&S.Sb)&&!j(m)&&(this.g.m=m),this.v=S&&S.supportsCrossDomainXhr||!1,this.u=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!j(S)&&(this.g.D=S,m=this.h,m!==null&&S in m&&(m=this.h,S in m&&delete m[S])),this.j=new Ei(this)}E(Br,$t),Br.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Br.prototype.close=function(){vr(this.g)},Br.prototype.o=function(m){var S=this.g;if(typeof m=="string"){var C={};C.__data__=m,m=C}else this.u&&(C={},C.__data__=Zs(m),m=C);S.i.push(new vd(S.Ya++,m)),S.G==3&&Si(S)},Br.prototype.N=function(){this.g.l=null,delete this.j,vr(this.g),delete this.g,Br.aa.N.call(this)};function Rd(m){Kn.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var S=m.__sm__;if(S){e:{for(const C in S){m=C;break e}m=void 0}(this.i=m)&&(m=this.i,S=S!==null&&m in S?S[m]:void 0),this.data=S}else this.data=m}E(Rd,Kn);function Dd(){Vo.call(this),this.status=1}E(Dd,Vo);function Ei(m){this.g=m}E(Ei,ec),Ei.prototype.ua=function(){Vt(this.g,"a")},Ei.prototype.ta=function(m){Vt(this.g,new Rd(m))},Ei.prototype.sa=function(m){Vt(this.g,new Dd)},Ei.prototype.ra=function(){Vt(this.g,"b")},hl.prototype.createWebChannel=hl.prototype.g,Br.prototype.send=Br.prototype.o,Br.prototype.open=Br.prototype.m,Br.prototype.close=Br.prototype.close,nD=function(){return new hl},rD=function(){return Yn()},tD=Gn,k_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},La.NO_ERROR=0,La.TIMEOUT=8,La.HTTP_ERROR=6,ep=La,tl.COMPLETE="complete",eD=tl,$o.EventType=cn,cn.OPEN="a",cn.CLOSE="b",cn.ERROR="c",cn.MESSAGE="d",$t.prototype.listen=$t.prototype.K,Lc=$o,Ct.prototype.listenOnce=Ct.prototype.L,Ct.prototype.getLastError=Ct.prototype.Ka,Ct.prototype.getLastErrorCode=Ct.prototype.Ba,Ct.prototype.getStatus=Ct.prototype.Z,Ct.prototype.getResponseJson=Ct.prototype.Oa,Ct.prototype.getResponseText=Ct.prototype.oa,Ct.prototype.send=Ct.prototype.ea,Ct.prototype.setWithCredentials=Ct.prototype.Ha,ZR=Ct}).apply(typeof Ch<"u"?Ch:typeof self<"u"?self:typeof window<"u"?window:{});const uP="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Rr.UNAUTHENTICATED=new Rr(null),Rr.GOOGLE_CREDENTIALS=new Rr("google-credentials-uid"),Rr.FIRST_PARTY=new Rr("first-party-uid"),Rr.MOCK_USER=new Rr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ju="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns=new p1("@firebase/firestore");function Tc(){return Ns.logLevel}function Ie(t,...e){if(Ns.logLevel<=it.DEBUG){const r=e.map(A1);Ns.debug(`Firestore (${ju}): ${t}`,...r)}}function Sa(t,...e){if(Ns.logLevel<=it.ERROR){const r=e.map(A1);Ns.error(`Firestore (${ju}): ${t}`,...r)}}function tu(t,...e){if(Ns.logLevel<=it.WARN){const r=e.map(A1);Ns.warn(`Firestore (${ju}): ${t}`,...r)}}function A1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(t="Unexpected state"){const e=`FIRESTORE (${ju}) INTERNAL ASSERTION FAILED: `+t;throw Sa(e),new Error(e)}function yt(t,e){t||We()}function Ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ke extends Bi{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class QU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Rr.UNAUTHENTICATED))}shutdown(){}}class JU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class ZU{constructor(e){this.t=e,this.currentUser=Rr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){yt(this.o===void 0);let n=this.i;const i=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let a=new Ts;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ts,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const c=a;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},u=c=>{Ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(Ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ts)}},0),s()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(Ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(yt(typeof n.accessToken=="string"),new iD(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return yt(e===null||typeof e=="string"),new Rr(e)}}class e5{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=Rr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class t5{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new e5(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Rr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class r5{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class n5{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){yt(this.o===void 0);const n=a=>{a.error!=null&&Ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.R;return this.R=a.token,Ie("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{Ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):Ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(yt(typeof r.token=="string"),this.R=r.token,new r5(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=i5(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%e.length))}return n}}function ct(t,e){return t<e?-1:t>e?1:0}function ru(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new ke(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ke(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new ke(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ke(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ar.fromMillis(Date.now())}static fromDate(e){return ar.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new ar(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ct(this.nanoseconds,e.nanoseconds):ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ge(e)}static min(){return new Ge(new ar(0,0))}static max(){return new Ge(new ar(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,r,n){r===void 0?r=0:r>e.length&&We(),n===void 0?n=e.length-r:n>e.length-r&&We(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return af.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof af?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=e.get(i),s=r.get(i);if(a<s)return-1;if(a>s)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class It extends af{construct(e,r,n){return new It(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new ke(ce.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new It(r)}static emptyPath(){return new It([])}}const a5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Sr extends af{construct(e,r,n){return new Sr(e,r,n)}static isValidIdentifier(e){return a5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Sr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Sr(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new ke(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new ke(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ke(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=c,i+=2}else u==="`"?(s=!s,i++):u!=="."||s?(n+=u,i++):(a(),i++)}if(a(),s)throw new ke(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Sr(r)}static emptyPath(){return new Sr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.path=e}static fromPath(e){return new Me(It.fromString(e))}static fromName(e){return new Me(It.fromString(e).popFirst(5))}static empty(){return new Me(It.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&It.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return It.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Me(new It(e.slice()))}}function o5(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Ge.fromTimestamp(n===1e9?new ar(r+1,0):new ar(r,n));return new To(i,Me.empty(),e)}function s5(t){return new To(t.readTime,t.key,-1)}class To{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new To(Ge.min(),Me.empty(),-1)}static max(){return new To(Ge.max(),Me.empty(),-1)}}function l5(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Me.comparator(t.documentKey,e.documentKey),r!==0?r:ct(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class c5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jf(t){if(t.code!==ce.FAILED_PRECONDITION||t.message!==u5)throw t;Ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&We(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new pe((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof pe?r:pe.resolve(r)}catch(r){return pe.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):pe.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):pe.reject(r)}static resolve(e){return new pe((r,n)=>{r(e)})}static reject(e){return new pe((r,n)=>{n(e)})}static waitFor(e){return new pe((r,n)=>{let i=0,a=0,s=!1;e.forEach(u=>{++i,u.next(()=>{++a,s&&a===i&&r()},c=>n(c))}),s=!0,a===i&&r()})}static or(e){let r=pe.resolve(!1);for(const n of e)r=r.next(i=>i?pe.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(e,r){return new pe((n,i)=>{const a=e.length,s=new Array(a);let u=0;for(let c=0;c<a;c++){const f=c;r(e[f]).next(h=>{s[f]=h,++u,u===a&&n(s)},h=>i(h))}})}static doWhile(e,r){return new pe((n,i)=>{const a=()=>{e()===!0?r().next(()=>{a()},i):n()};a()})}}function f5(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Zf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}P1.oe=-1;function Om(t){return t==null}function mp(t){return t===0&&1/t==-1/0}function d5(t){return typeof t=="number"&&Number.isInteger(t)&&!mp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cP(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Ws(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function oD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,r){this.comparator=e,this.root=r||wr.EMPTY}insert(e,r){return new Mt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,wr.BLACK,null,null))}remove(e){return new Mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nh(this.root,e,this.comparator,!0)}}class Nh{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wr{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??wr.RED,this.left=i??wr.EMPTY,this.right=a??wr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new wr(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return wr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return wr.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw We();const e=this.left.check();if(e!==this.right.check())throw We();return e+(this.isRed()?0:1)}}wr.EMPTY=null,wr.RED=!0,wr.BLACK=!1;wr.EMPTY=new class{constructor(){this.size=0}get key(){throw We()}get value(){throw We()}get color(){throw We()}get left(){throw We()}get right(){throw We()}copy(e,r,n,i,a){return this}insert(e,r,n){return new wr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this.comparator=e,this.data=new Mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new fP(this.data.getIterator())}getIteratorFrom(e){return new fP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof Er)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Er(this.comparator);return r.data=e,r}}class fP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.fields=e,e.sort(Sr.comparator)}static empty(){return new Sn([])}unionWith(e){let r=new Er(Sr.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Sn(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return ru(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new sD("Invalid base64 string: "+a):a}}(e);return new Tr(r)}static fromUint8Array(e){const r=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new Tr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tr.EMPTY_BYTE_STRING=new Tr("");const h5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ao(t){if(yt(!!t),typeof t=="string"){let e=0;const r=h5.exec(t);if(yt(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:zt(t.seconds),nanos:zt(t.nanos)}}function zt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function js(t){return typeof t=="string"?Tr.fromBase64String(t):Tr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(t){var e,r;return((r=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function O1(t){const e=t.mapValue.fields.__previous_value__;return k1(e)?O1(e):e}function of(t){const e=Ao(t.mapValue.fields.__local_write_time__.timestampValue);return new ar(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(e,r,n,i,a,s,u,c,f){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=f}}class sf{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new sf("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof sf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh={mapValue:{}};function Rs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?k1(t)?4:g5(t)?9007199254740991:m5(t)?10:11:We()}function Vi(t,e){if(t===e)return!0;const r=Rs(t);if(r!==Rs(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return of(t).isEqual(of(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=Ao(i.timestampValue),u=Ao(a.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return js(i.bytesValue).isEqual(js(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return zt(i.geoPointValue.latitude)===zt(a.geoPointValue.latitude)&&zt(i.geoPointValue.longitude)===zt(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return zt(i.integerValue)===zt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=zt(i.doubleValue),u=zt(a.doubleValue);return s===u?mp(s)===mp(u):isNaN(s)&&isNaN(u)}return!1}(t,e);case 9:return ru(t.arrayValue.values||[],e.arrayValue.values||[],Vi);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},u=a.mapValue.fields||{};if(cP(s)!==cP(u))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(u[c]===void 0||!Vi(s[c],u[c])))return!1;return!0}(t,e);default:return We()}}function lf(t,e){return(t.values||[]).find(r=>Vi(r,e))!==void 0}function nu(t,e){if(t===e)return 0;const r=Rs(t),n=Rs(e);if(r!==n)return ct(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return ct(t.booleanValue,e.booleanValue);case 2:return function(a,s){const u=zt(a.integerValue||a.doubleValue),c=zt(s.integerValue||s.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1}(t,e);case 3:return dP(t.timestampValue,e.timestampValue);case 4:return dP(of(t),of(e));case 5:return ct(t.stringValue,e.stringValue);case 6:return function(a,s){const u=js(a),c=js(s);return u.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(a,s){const u=a.split("/"),c=s.split("/");for(let f=0;f<u.length&&f<c.length;f++){const h=ct(u[f],c[f]);if(h!==0)return h}return ct(u.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,s){const u=ct(zt(a.latitude),zt(s.latitude));return u!==0?u:ct(zt(a.longitude),zt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return hP(t.arrayValue,e.arrayValue);case 10:return function(a,s){var u,c,f,h;const g=a.fields||{},v=s.fields||{},_=(u=g.value)===null||u===void 0?void 0:u.arrayValue,E=(c=v.value)===null||c===void 0?void 0:c.arrayValue,w=ct(((f=_?.values)===null||f===void 0?void 0:f.length)||0,((h=E?.values)===null||h===void 0?void 0:h.length)||0);return w!==0?w:hP(_,E)}(t.mapValue,e.mapValue);case 11:return function(a,s){if(a===jh.mapValue&&s===jh.mapValue)return 0;if(a===jh.mapValue)return 1;if(s===jh.mapValue)return-1;const u=a.fields||{},c=Object.keys(u),f=s.fields||{},h=Object.keys(f);c.sort(),h.sort();for(let g=0;g<c.length&&g<h.length;++g){const v=ct(c[g],h[g]);if(v!==0)return v;const _=nu(u[c[g]],f[h[g]]);if(_!==0)return _}return ct(c.length,h.length)}(t.mapValue,e.mapValue);default:throw We()}}function dP(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ct(t,e);const r=Ao(t),n=Ao(e),i=ct(r.seconds,n.seconds);return i!==0?i:ct(r.nanos,n.nanos)}function hP(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=nu(r[i],n[i]);if(a)return a}return ct(r.length,n.length)}function iu(t){return O_(t)}function O_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=Ao(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return js(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return Me.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=O_(a);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const s of n)a?a=!1:i+=",",i+=`${s}:${O_(r.fields[s])}`;return i+"}"}(t.mapValue):We()}function pP(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function I_(t){return!!t&&"integerValue"in t}function I1(t){return!!t&&"arrayValue"in t}function mP(t){return!!t&&"nullValue"in t}function gP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function tp(t){return!!t&&"mapValue"in t}function m5(t){var e,r;return((r=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function Wc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ws(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=Wc(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Wc(t.arrayValue.values[r]);return e}return Object.assign({},t)}function g5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.value=e}static empty(){return new sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!tp(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wc(r)}setAll(e){let r=Sr.emptyPath(),n={},i=[];e.forEach((s,u)=>{if(!r.isImmediateParentOf(u)){const c=this.getFieldsMap(r);this.applyChanges(c,n,i),n={},i=[],r=u.popLast()}s?n[u.lastSegment()]=Wc(s):i.push(u.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());tp(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Vi(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];tp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){Ws(r,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new sn(Wc(this.value))}}function lD(t){const e=[];return Ws(t.fields,(r,n)=>{const i=new Sr([r]);if(tp(n)){const a=lD(n.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new Sn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e,r,n,i,a,s,u){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=s,this.documentState=u}static newInvalidDocument(e){return new Dr(e,0,Ge.min(),Ge.min(),Ge.min(),sn.empty(),0)}static newFoundDocument(e,r,n,i){return new Dr(e,1,r,Ge.min(),n,i,0)}static newNoDocument(e,r){return new Dr(e,2,r,Ge.min(),Ge.min(),sn.empty(),0)}static newUnknownDocument(e,r){return new Dr(e,3,r,Ge.min(),Ge.min(),sn.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Dr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e,r){this.position=e,this.inclusive=r}}function yP(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?n=Me.comparator(Me.fromName(s.referenceValue),r.key):n=nu(s,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function vP(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Vi(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e,r="asc"){this.field=e,this.dir=r}}function y5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uD=class{};class Yt extends uD{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new b5(e,r,n):r==="array-contains"?new w5(e,n):r==="in"?new S5(e,n):r==="not-in"?new E5(e,n):r==="array-contains-any"?new T5(e,n):new Yt(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new x5(e,n):new _5(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(nu(r,this.value)):r!==null&&Rs(this.value)===Rs(r)&&this.matchesComparison(nu(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return We()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gi extends uD{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new gi(e,r)}matches(e){return cD(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function cD(t){return t.op==="and"}function fD(t){return v5(t)&&cD(t)}function v5(t){for(const e of t.filters)if(e instanceof gi)return!1;return!0}function C_(t){if(t instanceof Yt)return t.field.canonicalString()+t.op.toString()+iu(t.value);if(fD(t))return t.filters.map(e=>C_(e)).join(",");{const e=t.filters.map(r=>C_(r)).join(",");return`${t.op}(${e})`}}function dD(t,e){return t instanceof Yt?function(n,i){return i instanceof Yt&&n.op===i.op&&n.field.isEqual(i.field)&&Vi(n.value,i.value)}(t,e):t instanceof gi?function(n,i){return i instanceof gi&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,s,u)=>a&&dD(s,i.filters[u]),!0):!1}(t,e):void We()}function hD(t){return t instanceof Yt?function(r){return`${r.field.canonicalString()} ${r.op} ${iu(r.value)}`}(t):t instanceof gi?function(r){return r.op.toString()+" {"+r.getFilters().map(hD).join(" ,")+"}"}(t):"Filter"}class b5 extends Yt{constructor(e,r,n){super(e,r,n),this.key=Me.fromName(n.referenceValue)}matches(e){const r=Me.comparator(e.key,this.key);return this.matchesComparison(r)}}class x5 extends Yt{constructor(e,r){super(e,"in",r),this.keys=pD("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class _5 extends Yt{constructor(e,r){super(e,"not-in",r),this.keys=pD("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function pD(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>Me.fromName(n.referenceValue))}class w5 extends Yt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return I1(r)&&lf(r.arrayValue,this.value)}}class S5 extends Yt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&lf(this.value.arrayValue,r)}}class E5 extends Yt{constructor(e,r){super(e,"not-in",r)}matches(e){if(lf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!lf(this.value.arrayValue,r)}}class T5 extends Yt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!I1(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>lf(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e,r=null,n=[],i=[],a=null,s=null,u=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=s,this.endAt=u,this.ue=null}}function bP(t,e=null,r=[],n=[],i=null,a=null,s=null){return new A5(t,e,r,n,i,a,s)}function C1(t){const e=Ye(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>C_(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),Om(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>iu(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>iu(n)).join(",")),e.ue=r}return e.ue}function N1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!y5(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!dD(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!vP(t.startAt,e.startAt)&&vP(t.endAt,e.endAt)}function N_(t){return Me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,r=null,n=[],i=[],a=null,s="F",u=null,c=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=s,this.startAt=u,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function P5(t,e,r,n,i,a,s,u){return new ed(t,e,r,n,i,a,s,u)}function j1(t){return new ed(t)}function xP(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function mD(t){return t.collectionGroup!==null}function Hc(t){const e=Ye(t);if(e.ce===null){e.ce=[];const r=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let u=new Er(Sr.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(e).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||e.ce.push(new yp(a,n))}),r.has(Sr.keyField().canonicalString())||e.ce.push(new yp(Sr.keyField(),n))}return e.ce}function Ri(t){const e=Ye(t);return e.le||(e.le=k5(e,Hc(t))),e.le}function k5(t,e){if(t.limitType==="F")return bP(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new yp(i.field,a)});const r=t.endAt?new gp(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new gp(t.startAt.position,t.startAt.inclusive):null;return bP(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function j_(t,e){const r=t.filters.concat([e]);return new ed(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function R_(t,e,r){return new ed(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Im(t,e){return N1(Ri(t),Ri(e))&&t.limitType===e.limitType}function gD(t){return`${C1(Ri(t))}|lt:${t.limitType}`}function $l(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>hD(i)).join(", ")}]`),Om(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>iu(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>iu(i)).join(",")),`Target(${n})`}(Ri(t))}; limitType=${t.limitType})`}function Cm(t,e){return e.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):Me.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(t,e)&&function(n,i){for(const a of Hc(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(s,u,c){const f=yP(s,u,c);return s.inclusive?f<=0:f<0}(n.startAt,Hc(n),i)||n.endAt&&!function(s,u,c){const f=yP(s,u,c);return s.inclusive?f>=0:f>0}(n.endAt,Hc(n),i))}(t,e)}function O5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function yD(t){return(e,r)=>{let n=!1;for(const i of Hc(t)){const a=I5(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function I5(t,e,r){const n=t.field.isKeyField()?Me.comparator(e.key,r.key):function(a,s,u){const c=s.data.field(a),f=u.data.field(a);return c!==null&&f!==null?nu(c,f):We()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return We()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ws(this.inner,(r,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return oD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C5=new Mt(Me.comparator);function Ea(){return C5}const vD=new Mt(Me.comparator);function $c(...t){let e=vD;for(const r of t)e=e.insert(r.key,r);return e}function bD(t){let e=vD;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function ys(){return Kc()}function xD(){return Kc()}function Kc(){return new Ru(t=>t.toString(),(t,e)=>t.isEqual(e))}const N5=new Mt(Me.comparator),j5=new Er(Me.comparator);function tt(...t){let e=j5;for(const r of t)e=e.add(r);return e}const R5=new Er(ct);function D5(){return R5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mp(e)?"-0":e}}function _D(t){return{integerValue:""+t}}function M5(t,e){return d5(e)?_D(e):R1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(){this._=void 0}}function L5(t,e,r){return t instanceof vp?function(i,a){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&k1(a)&&(a=O1(a)),a&&(s.fields.__previous_value__=a),{mapValue:s}}(r,e):t instanceof uf?SD(t,e):t instanceof cf?ED(t,e):function(i,a){const s=wD(i,a),u=_P(s)+_P(i.Pe);return I_(s)&&I_(i.Pe)?_D(u):R1(i.serializer,u)}(t,e)}function $5(t,e,r){return t instanceof uf?SD(t,e):t instanceof cf?ED(t,e):r}function wD(t,e){return t instanceof bp?function(n){return I_(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class vp extends Nm{}class uf extends Nm{constructor(e){super(),this.elements=e}}function SD(t,e){const r=TD(e);for(const n of t.elements)r.some(i=>Vi(i,n))||r.push(n);return{arrayValue:{values:r}}}class cf extends Nm{constructor(e){super(),this.elements=e}}function ED(t,e){let r=TD(e);for(const n of t.elements)r=r.filter(i=>!Vi(i,n));return{arrayValue:{values:r}}}class bp extends Nm{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function _P(t){return zt(t.integerValue||t.doubleValue)}function TD(t){return I1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function V5(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof uf&&i instanceof uf||n instanceof cf&&i instanceof cf?ru(n.elements,i.elements,Vi):n instanceof bp&&i instanceof bp?Vi(n.Pe,i.Pe):n instanceof vp&&i instanceof vp}(t.transform,e.transform)}class F5{constructor(e,r){this.version=e,this.transformResults=r}}class Bn{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Bn}static exists(e){return new Bn(void 0,e)}static updateTime(e){return new Bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class jm{}function AD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new D1(t.key,Bn.none()):new td(t.key,t.data,Bn.none());{const r=t.data,n=sn.empty();let i=new Er(Sr.comparator);for(let a of e.fields)if(!i.has(a)){let s=r.field(a);s===null&&a.length>1&&(a=a.popLast(),s=r.field(a)),s===null?n.delete(a):n.set(a,s),i=i.add(a)}return new Co(t.key,n,new Sn(i.toArray()),Bn.none())}}function U5(t,e,r){t instanceof td?function(i,a,s){const u=i.value.clone(),c=SP(i.fieldTransforms,a,s.transformResults);u.setAll(c),a.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,r):t instanceof Co?function(i,a,s){if(!rp(i.precondition,a))return void a.convertToUnknownDocument(s.version);const u=SP(i.fieldTransforms,a,s.transformResults),c=a.data;c.setAll(PD(i)),c.setAll(u),a.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,r):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,r)}function Gc(t,e,r,n){return t instanceof td?function(a,s,u,c){if(!rp(a.precondition,s))return u;const f=a.value.clone(),h=EP(a.fieldTransforms,c,s);return f.setAll(h),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null}(t,e,r,n):t instanceof Co?function(a,s,u,c){if(!rp(a.precondition,s))return u;const f=EP(a.fieldTransforms,c,s),h=s.data;return h.setAll(PD(a)),h.setAll(f),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(g=>g.field))}(t,e,r,n):function(a,s,u){return rp(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):u}(t,e,r)}function B5(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=wD(n.transform,i||null);a!=null&&(r===null&&(r=sn.empty()),r.set(n.field,a))}return r||null}function wP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&ru(n,i,(a,s)=>V5(a,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class td extends jm{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Co extends jm{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function PD(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function SP(t,e,r){const n=new Map;yt(t.length===r.length);for(let i=0;i<r.length;i++){const a=t[i],s=a.transform,u=e.data.field(a.field);n.set(a.field,$5(s,u,r[i]))}return n}function EP(t,e,r){const n=new Map;for(const i of t){const a=i.transform,s=r.data.field(i.field);n.set(i.field,L5(a,s,e))}return n}class D1 extends jm{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class q5 extends jm{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&U5(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Gc(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Gc(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=xD();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let u=this.applyToLocalView(s,a.mutatedFields);u=r.has(i.key)?null:u;const c=AD(s,u);c!==null&&n.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Ge.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),tt())}isEqual(e){return this.batchId===e.batchId&&ru(this.mutations,e.mutations,(r,n)=>wP(r,n))&&ru(this.baseMutations,e.baseMutations,(r,n)=>wP(r,n))}}class M1{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){yt(e.mutations.length===n.length);let i=function(){return N5}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,n[s].version);return new M1(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kt,ot;function K5(t){switch(t){default:return We();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0}}function kD(t){if(t===void 0)return Sa("GRPC error has no .code"),ce.UNKNOWN;switch(t){case Kt.OK:return ce.OK;case Kt.CANCELLED:return ce.CANCELLED;case Kt.UNKNOWN:return ce.UNKNOWN;case Kt.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case Kt.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case Kt.INTERNAL:return ce.INTERNAL;case Kt.UNAVAILABLE:return ce.UNAVAILABLE;case Kt.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case Kt.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case Kt.NOT_FOUND:return ce.NOT_FOUND;case Kt.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case Kt.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case Kt.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case Kt.ABORTED:return ce.ABORTED;case Kt.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case Kt.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case Kt.DATA_LOSS:return ce.DATA_LOSS;default:return We()}}(ot=Kt||(Kt={}))[ot.OK=0]="OK",ot[ot.CANCELLED=1]="CANCELLED",ot[ot.UNKNOWN=2]="UNKNOWN",ot[ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ot[ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ot[ot.NOT_FOUND=5]="NOT_FOUND",ot[ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",ot[ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",ot[ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",ot[ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ot[ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ot[ot.ABORTED=10]="ABORTED",ot[ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",ot[ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",ot[ot.INTERNAL=13]="INTERNAL",ot[ot.UNAVAILABLE=14]="UNAVAILABLE",ot[ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G5(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y5=new Es([4294967295,4294967295],0);function TP(t){const e=G5().encode(t),r=new JR;return r.update(e),new Uint8Array(r.digest())}function AP(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Es([r,n],0),new Es([i,a],0)]}class L1{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Vc(`Invalid padding: ${r}`);if(n<0)throw new Vc(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Vc(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Vc(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Es.fromNumber(this.Ie)}Ee(e,r,n){let i=e.add(r.multiply(Es.fromNumber(n)));return i.compare(Y5)===1&&(i=new Es([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=TP(e),[n,i]=AP(r);for(let a=0;a<this.hashCount;a++){const s=this.Ee(n,i,a);if(!this.de(s))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new L1(a,i,r);return n.forEach(u=>s.insert(u)),s}insert(e){if(this.Ie===0)return;const r=TP(e),[n,i]=AP(r);for(let a=0;a<this.hashCount;a++){const s=this.Ee(n,i,a);this.Ae(s)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Vc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,rd.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new Rm(Ge.min(),i,new Mt(ct),Ea(),tt())}}class rd{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new rd(n,r,tt(),tt(),tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,r,n,i){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=i}}class OD{constructor(e,r){this.targetId=e,this.me=r}}class ID{constructor(e,r,n=Tr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class PP{constructor(){this.fe=0,this.ge=OP(),this.pe=Tr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=tt(),r=tt(),n=tt();return this.ge.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:We()}}),new rd(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=OP()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,yt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class X5{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ea(),this.qe=kP(),this.Qe=new Mt(ct)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:We()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,i)=>{this.ze(i)&&r(i)})}He(e){const r=e.targetId,n=e.me.count,i=this.Je(r);if(i){const a=i.target;if(N_(a))if(n===0){const s=new Me(a.path);this.Ue(r,s,Dr.newNoDocument(s,Ge.min()))}else yt(n===1);else{const s=this.Ye(r);if(s!==n){const u=this.Ze(e),c=u?this.Xe(u,e,s):1;if(c!==0){this.je(r);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,f)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let s,u;try{s=js(n).toUint8Array()}catch(c){if(c instanceof sD)return tu("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new L1(s,i,a)}catch(c){return tu(c instanceof Vc?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.Ie===0?null:u}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const s=this.Le.tt(),u=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.Ue(r,a,null),i++)}),i}rt(e){const r=new Map;this.Be.forEach((a,s)=>{const u=this.Je(s);if(u){if(a.current&&N_(u.target)){const c=new Me(u.target.path);this.ke.get(c)!==null||this.it(s,c)||this.Ue(s,c,Dr.newNoDocument(c,e))}a.be&&(r.set(s,a.ve()),a.Ce())}});let n=tt();this.qe.forEach((a,s)=>{let u=!0;s.forEachWhile(c=>{const f=this.Je(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(n=n.add(a))}),this.ke.forEach((a,s)=>s.setReadTime(e));const i=new Rm(e,r,this.Qe,this.ke,n);return this.ke=Ea(),this.qe=kP(),this.Qe=new Mt(ct),i}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new PP,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Er(ct),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||Ie("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new PP),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function kP(){return new Mt(Me.comparator)}function OP(){return new Mt(Me.comparator)}const Q5={asc:"ASCENDING",desc:"DESCENDING"},J5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Z5={and:"AND",or:"OR"};class eB{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function D_(t,e){return t.useProto3Json||Om(e)?e:{value:e}}function xp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function CD(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function tB(t,e){return xp(t,e.toTimestamp())}function Di(t){return yt(!!t),Ge.fromTimestamp(function(r){const n=Ao(r);return new ar(n.seconds,n.nanos)}(t))}function $1(t,e){return M_(t,e).canonicalString()}function M_(t,e){const r=function(i){return new It(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function ND(t){const e=It.fromString(t);return yt(LD(e)),e}function L_(t,e){return $1(t.databaseId,e.path)}function hv(t,e){const r=ND(e);if(r.get(1)!==t.databaseId.projectId)throw new ke(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new ke(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Me(RD(r))}function jD(t,e){return $1(t.databaseId,e)}function rB(t){const e=ND(t);return e.length===4?It.emptyPath():RD(e)}function $_(t){return new It(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function RD(t){return yt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function IP(t,e,r){return{name:L_(t,e),fields:r.value.mapValue.fields}}function nB(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:We()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(f,h){return f.useProto3Json?(yt(h===void 0||typeof h=="string"),Tr.fromBase64String(h||"")):(yt(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Tr.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,u=s&&function(f){const h=f.code===void 0?ce.UNKNOWN:kD(f.code);return new ke(h,f.message||"")}(s);r=new ID(n,i,a,u||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=hv(t,n.document.name),a=Di(n.document.updateTime),s=n.document.createTime?Di(n.document.createTime):Ge.min(),u=new sn({mapValue:{fields:n.document.fields}}),c=Dr.newFoundDocument(i,a,s,u),f=n.targetIds||[],h=n.removedTargetIds||[];r=new np(f,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=hv(t,n.document),a=n.readTime?Di(n.readTime):Ge.min(),s=Dr.newNoDocument(i,a),u=n.removedTargetIds||[];r=new np([],u,s.key,s)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=hv(t,n.document),a=n.removedTargetIds||[];r=new np([],a,i,null)}else{if(!("filter"in e))return We();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,s=new H5(i,a),u=n.targetId;r=new OD(u,s)}}return r}function iB(t,e){let r;if(e instanceof td)r={update:IP(t,e.key,e.value)};else if(e instanceof D1)r={delete:L_(t,e.key)};else if(e instanceof Co)r={update:IP(t,e.key,e.data),updateMask:hB(e.fieldMask)};else{if(!(e instanceof q5))return We();r={verify:L_(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(a,s){const u=s.transform;if(u instanceof vp)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof uf)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof cf)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof bp)return{fieldPath:s.field.canonicalString(),increment:u.Pe};throw We()}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:tB(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:We()}(t,e.precondition)),r}function aB(t,e){return t&&t.length>0?(yt(e!==void 0),t.map(r=>function(i,a){let s=i.updateTime?Di(i.updateTime):Di(a);return s.isEqual(Ge.min())&&(s=Di(a)),new F5(s,i.transformResults||[])}(r,e))):[]}function oB(t,e){return{documents:[jD(t,e.path)]}}function sB(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=jD(t,i);const a=function(f){if(f.length!==0)return MD(gi.create(f,"and"))}(e.filters);a&&(r.structuredQuery.where=a);const s=function(f){if(f.length!==0)return f.map(h=>function(v){return{field:Vl(v.field),direction:cB(v.dir)}}(h))}(e.orderBy);s&&(r.structuredQuery.orderBy=s);const u=D_(t,e.limit);return u!==null&&(r.structuredQuery.limit=u),e.startAt&&(r.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{_t:r,parent:i}}function lB(t){let e=rB(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){yt(n===1);const h=r.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let a=[];r.where&&(a=function(g){const v=DD(g);return v instanceof gi&&fD(v)?v.getFilters():[v]}(r.where));let s=[];r.orderBy&&(s=function(g){return g.map(v=>function(E){return new yp(Fl(E.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(v))}(r.orderBy));let u=null;r.limit&&(u=function(g){let v;return v=typeof g=="object"?g.value:g,Om(v)?null:v}(r.limit));let c=null;r.startAt&&(c=function(g){const v=!!g.before,_=g.values||[];return new gp(_,v)}(r.startAt));let f=null;return r.endAt&&(f=function(g){const v=!g.before,_=g.values||[];return new gp(_,v)}(r.endAt)),P5(e,i,s,a,u,"F",c,f)}function uB(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return We()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function DD(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Fl(r.unaryFilter.field);return Yt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Fl(r.unaryFilter.field);return Yt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Fl(r.unaryFilter.field);return Yt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Fl(r.unaryFilter.field);return Yt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return We()}}(t):t.fieldFilter!==void 0?function(r){return Yt.create(Fl(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return We()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return gi.create(r.compositeFilter.filters.map(n=>DD(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return We()}}(r.compositeFilter.op))}(t):We()}function cB(t){return Q5[t]}function fB(t){return J5[t]}function dB(t){return Z5[t]}function Vl(t){return{fieldPath:t.canonicalString()}}function Fl(t){return Sr.fromServerFormat(t.fieldPath)}function MD(t){return t instanceof Yt?function(r){if(r.op==="=="){if(gP(r.value))return{unaryFilter:{field:Vl(r.field),op:"IS_NAN"}};if(mP(r.value))return{unaryFilter:{field:Vl(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(gP(r.value))return{unaryFilter:{field:Vl(r.field),op:"IS_NOT_NAN"}};if(mP(r.value))return{unaryFilter:{field:Vl(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vl(r.field),op:fB(r.op),value:r.value}}}(t):t instanceof gi?function(r){const n=r.getFilters().map(i=>MD(i));return n.length===1?n[0]:{compositeFilter:{op:dB(r.op),filters:n}}}(t):We()}function hB(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function LD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e,r,n,i,a=Ge.min(),s=Ge.min(),u=Tr.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new go(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new go(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new go(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new go(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pB{constructor(e){this.ct=e}}function mB(t){const e=lB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?R_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gB{constructor(){this.un=new yB}addToCollectionParentIndex(e,r){return this.un.add(r),pe.resolve()}getCollectionParents(e,r){return pe.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return pe.resolve()}deleteFieldIndex(e,r){return pe.resolve()}deleteAllFieldIndexes(e){return pe.resolve()}createTargetIndexes(e,r){return pe.resolve()}getDocumentsMatchingTarget(e,r){return pe.resolve(null)}getIndexType(e,r){return pe.resolve(0)}getFieldIndexes(e,r){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}getMinOffset(e,r){return pe.resolve(To.min())}getMinOffsetFromCollectionGroup(e,r){return pe.resolve(To.min())}updateCollectionGroup(e,r,n){return pe.resolve()}updateIndexEntries(e,r){return pe.resolve()}}class yB{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new Er(It.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Er(It.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new au(0)}static kn(){return new au(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vB{constructor(){this.changes=new Ru(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Dr.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?pe.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bB{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&Gc(n.mutation,i,Sn.empty(),ar.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,tt()).next(()=>n))}getLocalViewOfDocuments(e,r,n=tt()){const i=ys();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(a=>{let s=$c();return a.forEach((u,c)=>{s=s.insert(u,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,r){const n=ys();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,tt()))}populateOverlays(e,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,u)=>{r.set(s,u)})})}computeViews(e,r,n,i){let a=Ea();const s=Kc(),u=function(){return Kc()}();return r.forEach((c,f)=>{const h=n.get(f.key);i.has(f.key)&&(h===void 0||h.mutation instanceof Co)?a=a.insert(f.key,f):h!==void 0?(s.set(f.key,h.mutation.getFieldMask()),Gc(h.mutation,f,h.mutation.getFieldMask(),ar.now())):s.set(f.key,Sn.empty())}),this.recalculateAndSaveOverlays(e,a).next(c=>(c.forEach((f,h)=>s.set(f,h)),r.forEach((f,h)=>{var g;return u.set(f,new bB(h,(g=s.get(f))!==null&&g!==void 0?g:null))}),u))}recalculateAndSaveOverlays(e,r){const n=Kc();let i=new Mt((s,u)=>s-u),a=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(s=>{for(const u of s)u.keys().forEach(c=>{const f=r.get(c);if(f===null)return;let h=n.get(c)||Sn.empty();h=u.applyToLocalView(f,h),n.set(c,h);const g=(i.get(u.batchId)||tt()).add(c);i=i.insert(u.batchId,g)})}).next(()=>{const s=[],u=i.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),f=c.key,h=c.value,g=xD();h.forEach(v=>{if(!a.has(v)){const _=AD(r.get(v),n.get(v));_!==null&&g.set(v,_),a=a.add(v)}}),s.push(this.documentOverlayCache.saveOverlays(e,f,g))}return pe.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(s){return Me.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):mD(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):pe.resolve(ys());let u=-1,c=a;return s.next(f=>pe.forEach(f,(h,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),a.get(h)?pe.resolve():this.remoteDocumentCache.getEntry(e,h).next(v=>{c=c.insert(h,v)}))).next(()=>this.populateOverlays(e,f,a)).next(()=>this.computeViews(e,c,f,tt())).next(h=>({batchId:u,changes:bD(h)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Me(r)).next(n=>{let i=$c();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let s=$c();return this.indexManager.getCollectionParents(e,a).next(u=>pe.forEach(u,c=>{const f=function(g,v){return new ed(v,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(r,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,n,i).next(h=>{h.forEach((g,v)=>{s=s.insert(g,v)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i))).next(s=>{a.forEach((c,f)=>{const h=f.getKey();s.get(h)===null&&(s=s.insert(h,Dr.newInvalidDocument(h)))});let u=$c();return s.forEach((c,f)=>{const h=a.get(c);h!==void 0&&Gc(h.mutation,f,Sn.empty(),ar.now()),Cm(r,f)&&(u=u.insert(c,f))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return pe.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:Di(i.createTime)}}(r)),pe.resolve()}getNamedQuery(e,r){return pe.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(i){return{name:i.name,query:mB(i.bundledQuery),readTime:Di(i.readTime)}}(r)),pe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wB{constructor(){this.overlays=new Mt(Me.comparator),this.Ir=new Map}getOverlay(e,r){return pe.resolve(this.overlays.get(r))}getOverlays(e,r){const n=ys();return pe.forEach(r,i=>this.getOverlay(e,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,a)=>{this.ht(e,r,a)}),pe.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(n)),pe.resolve()}getOverlaysForCollection(e,r,n){const i=ys(),a=r.length+1,s=new Me(r.child("")),u=this.overlays.getIteratorFrom(s);for(;u.hasNext();){const c=u.getNext().value,f=c.getKey();if(!r.isPrefixOf(f.path))break;f.path.length===a&&c.largestBatchId>n&&i.set(c.getKey(),c)}return pe.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new Mt((f,h)=>f-h);const s=this.overlays.getIterator();for(;s.hasNext();){const f=s.getNext().value;if(f.getKey().getCollectionGroup()===r&&f.largestBatchId>n){let h=a.get(f.largestBatchId);h===null&&(h=ys(),a=a.insert(f.largestBatchId,h)),h.set(f.getKey(),f)}}const u=ys(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((f,h)=>u.set(f,h)),!(u.size()>=i)););return pe.resolve(u)}ht(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new W5(r,n));let a=this.Ir.get(r);a===void 0&&(a=tt(),this.Ir.set(r,a)),this.Ir.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SB{constructor(){this.sessionToken=Tr.EMPTY_BYTE_STRING}getSessionToken(e){return pe.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,pe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(){this.Tr=new Er(dr.Er),this.dr=new Er(dr.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new dr(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new dr(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new Me(new It([])),n=new dr(r,e),i=new dr(r,e+1),a=[];return this.dr.forEachInRange([n,i],s=>{this.Vr(s),a.push(s.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new Me(new It([])),n=new dr(r,e),i=new dr(r,e+1);let a=tt();return this.dr.forEachInRange([n,i],s=>{a=a.add(s.key)}),a}containsKey(e){const r=new dr(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class dr{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return Me.comparator(e.key,r.key)||ct(e.wr,r.wr)}static Ar(e,r){return ct(e.wr,r.wr)||Me.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EB{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new Er(dr.Er)}checkEmpty(e){return pe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new z5(a,r,n,i);this.mutationQueue.push(s);for(const u of i)this.br=this.br.add(new dr(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return pe.resolve(s)}lookupMutationBatch(e,r){return pe.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.vr(n),a=i<0?0:i;return pe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new dr(r,0),i=new dr(r,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([n,i],s=>{const u=this.Dr(s.wr);a.push(u)}),pe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Er(ct);return r.forEach(i=>{const a=new dr(i,0),s=new dr(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,s],u=>{n=n.add(u.wr)})}),pe.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;Me.isDocumentKey(a)||(a=a.child(""));const s=new dr(new Me(a),0);let u=new Er(ct);return this.br.forEachWhile(c=>{const f=c.key.path;return!!n.isPrefixOf(f)&&(f.length===i&&(u=u.add(c.wr)),!0)},s),pe.resolve(this.Cr(u))}Cr(e){const r=[];return e.forEach(n=>{const i=this.Dr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){yt(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return pe.forEach(r.mutations,i=>{const a=new dr(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new dr(r,0),i=this.br.firstAfterOrEqual(n);return pe.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,pe.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TB{constructor(e){this.Mr=e,this.docs=function(){return new Mt(Me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,s=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return pe.resolve(n?n.document.mutableCopy():Dr.newInvalidDocument(r))}getEntries(e,r){let n=Ea();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():Dr.newInvalidDocument(i))}),pe.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=Ea();const s=r.path,u=new Me(s.child("")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:f,value:{document:h}}=c.getNext();if(!s.isPrefixOf(f.path))break;f.path.length>s.length+1||l5(s5(h),n)<=0||(i.has(h.key)||Cm(r,h))&&(a=a.insert(h.key,h.mutableCopy()))}return pe.resolve(a)}getAllFromCollectionGroup(e,r,n,i){We()}Or(e,r){return pe.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new AB(this)}getSize(e){return pe.resolve(this.size)}}class AB extends vB{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)}),pe.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(e){this.persistence=e,this.Nr=new Ru(r=>C1(r),N1),this.lastRemoteSnapshotVersion=Ge.min(),this.highestTargetId=0,this.Lr=0,this.Br=new V1,this.targetCount=0,this.kr=au.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,i)=>r(i)),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),pe.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new au(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,pe.resolve()}updateTargetData(e,r){return this.Kn(r),pe.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.Nr.forEach((s,u)=>{u.sequenceNumber<=r&&n.get(u.targetId)===null&&(this.Nr.delete(s),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),pe.waitFor(a).next(()=>i)}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return pe.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),pe.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),pe.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),pe.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return pe.resolve(n)}containsKey(e,r){return pe.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(e,r){this.qr={},this.overlays={},this.Qr=new P1(0),this.Kr=!1,this.Kr=!0,this.$r=new SB,this.referenceDelegate=e(this),this.Ur=new PB(this),this.indexManager=new gB,this.remoteDocumentCache=function(i){return new TB(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new pB(r),this.Gr=new _B(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new wB,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new EB(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){Ie("MemoryPersistence","Starting transaction:",e);const i=new OB(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(a=>this.referenceDelegate.jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Hr(e,r){return pe.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class OB extends c5{constructor(e){super(),this.currentSequenceNumber=e}}class F1{constructor(e){this.persistence=e,this.Jr=new V1,this.Yr=null}static Zr(e){return new F1(e)}get Xr(){if(this.Yr)return this.Yr;throw We()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),pe.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),pe.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),pe.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(a=>this.Xr.add(a.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.Xr,n=>{const i=Me.fromPath(n);return this.ei(e,i).next(a=>{a||r.removeEntry(i,Ge.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return pe.or([()=>pe.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(e,r){let n=tt(),i=tt();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new U1(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CB{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return _V()?8:f5($r())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.Yi(e,r).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.Zi(e,r,i,n).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new IB;return this.Xi(e,r,s).next(u=>{if(a.result=u,this.zi)return this.es(e,r,s,u.size)})}).next(()=>a.result)}es(e,r,n,i){return n.documentReadCount<this.ji?(Tc()<=it.DEBUG&&Ie("QueryEngine","SDK will not create cache indexes for query:",$l(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),pe.resolve()):(Tc()<=it.DEBUG&&Ie("QueryEngine","Query:",$l(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(Tc()<=it.DEBUG&&Ie("QueryEngine","The SDK decides to create cache indexes for query:",$l(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ri(r))):pe.resolve())}Yi(e,r){if(xP(r))return pe.resolve(null);let n=Ri(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=R_(r,null,"F"),n=Ri(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const s=tt(...a);return this.Ji.getDocuments(e,s).next(u=>this.indexManager.getMinOffset(e,n).next(c=>{const f=this.ts(r,u);return this.ns(r,f,s,c.readTime)?this.Yi(e,R_(r,null,"F")):this.rs(e,f,r,c)}))})))}Zi(e,r,n,i){return xP(r)||i.isEqual(Ge.min())?pe.resolve(null):this.Ji.getDocuments(e,n).next(a=>{const s=this.ts(r,a);return this.ns(r,s,n,i)?pe.resolve(null):(Tc()<=it.DEBUG&&Ie("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),$l(r)),this.rs(e,s,r,o5(i,-1)).next(u=>u))})}ts(e,r){let n=new Er(yD(e));return r.forEach((i,a)=>{Cm(e,a)&&(n=n.add(a))}),n}ns(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(e,r,n){return Tc()<=it.DEBUG&&Ie("QueryEngine","Using full collection scan to execute query:",$l(r)),this.Ji.getDocumentsMatchingQuery(e,r,To.min(),n)}rs(e,r,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next(a=>(r.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NB{constructor(e,r,n,i){this.persistence=e,this.ss=r,this.serializer=i,this.os=new Mt(ct),this._s=new Ru(a=>C1(a),N1),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xB(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function jB(t,e,r,n){return new NB(t,e,r,n)}async function $D(t,e){const r=Ye(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const s=[],u=[];let c=tt();for(const f of i){s.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}for(const f of a){u.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}return r.localDocuments.getDocuments(n,c).next(f=>({hs:f,removedBatchIds:s,addedBatchIds:u}))})})}function RB(t,e){const r=Ye(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),a=r.cs.newChangeBuffer({trackRemovals:!0});return function(u,c,f,h){const g=f.batch,v=g.keys();let _=pe.resolve();return v.forEach(E=>{_=_.next(()=>h.getEntry(c,E)).next(w=>{const b=f.docVersions.get(E);yt(b!==null),w.version.compareTo(b)<0&&(g.applyToRemoteDocument(w,f),w.isValidDocument()&&(w.setReadTime(f.commitVersion),h.addEntry(w)))})}),_.next(()=>u.mutationQueue.removeMutationBatch(c,g))}(r,n,e,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(u){let c=tt();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(c=c.add(u.batch.mutations[f].key));return c}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function VD(t){const e=Ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function DB(t,e){const r=Ye(t),n=e.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const u=[];e.targetChanges.forEach((h,g)=>{const v=i.get(g);if(!v)return;u.push(r.Ur.removeMatchingKeys(a,h.removedDocuments,g).next(()=>r.Ur.addMatchingKeys(a,h.addedDocuments,g)));let _=v.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(g)!==null?_=_.withResumeToken(Tr.EMPTY_BYTE_STRING,Ge.min()).withLastLimboFreeSnapshotVersion(Ge.min()):h.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(h.resumeToken,n)),i=i.insert(g,_),function(w,b,P){return w.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(v,_,h)&&u.push(r.Ur.updateTargetData(a,_))});let c=Ea(),f=tt();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&u.push(r.persistence.referenceDelegate.updateLimboDocument(a,h))}),u.push(MB(a,s,e.documentUpdates).next(h=>{c=h.Ps,f=h.Is})),!n.isEqual(Ge.min())){const h=r.Ur.getLastRemoteSnapshotVersion(a).next(g=>r.Ur.setTargetsMetadata(a,a.currentSequenceNumber,n));u.push(h)}return pe.waitFor(u).next(()=>s.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,c,f)).next(()=>c)}).then(a=>(r.os=i,a))}function MB(t,e,r){let n=tt(),i=tt();return r.forEach(a=>n=n.add(a)),e.getEntries(t,n).next(a=>{let s=Ea();return r.forEach((u,c)=>{const f=a.get(u);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(u)),c.isNoDocument()&&c.version.isEqual(Ge.min())?(e.removeEntry(u,c.readTime),s=s.insert(u,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),s=s.insert(u,c)):Ie("LocalStore","Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",c.version)}),{Ps:s,Is:i}})}function LB(t,e){const r=Ye(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function $B(t,e){const r=Ye(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Ur.getTargetData(n,e).next(a=>a?(i=a,pe.resolve(i)):r.Ur.allocateTargetId(n).next(s=>(i=new go(e,s,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function V_(t,e,r){const n=Ye(t),i=n.os.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,s=>n.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Zf(s))throw s;Ie("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function CP(t,e,r){const n=Ye(t);let i=Ge.min(),a=tt();return n.persistence.runTransaction("Execute query","readwrite",s=>function(c,f,h){const g=Ye(c),v=g._s.get(h);return v!==void 0?pe.resolve(g.os.get(v)):g.Ur.getTargetData(f,h)}(n,s,Ri(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(s,u.targetId).next(c=>{a=c})}).next(()=>n.ss.getDocumentsMatchingQuery(s,e,r?i:Ge.min(),r?a:tt())).next(u=>(VB(n,O5(e),u),{documents:u,Ts:a})))}function VB(t,e,r){let n=t.us.get(e)||Ge.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),t.us.set(e,n)}class NP{constructor(){this.activeTargetIds=D5()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class FB{constructor(){this.so=new NP,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new NP,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UB{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ie("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ie("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rh=null;function pv(){return Rh===null?Rh=function(){return 268435456+Math.round(2147483648*Math.random())}():Rh++,"0x"+Rh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qB{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr="WebChannelConnection";class zB extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(r,n,i,a,s){const u=pv(),c=this.xo(r,n.toUriEncodedString());Ie("RestConnection",`Sending RPC '${r}' ${u}:`,c,i);const f={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(f,a,s),this.No(r,c,f,i).then(h=>(Ie("RestConnection",`Received RPC '${r}' ${u}: `,h),h),h=>{throw tu("RestConnection",`RPC '${r}' ${u} failed with error: `,h,"url: ",c,"request:",i),h})}Lo(r,n,i,a,s,u){return this.Mo(r,n,i,a,s)}Oo(r,n,i){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ju}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,s)=>r[s]=a),i&&i.headers.forEach((a,s)=>r[s]=a)}xo(r,n){const i=BB[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,i){const a=pv();return new Promise((s,u)=>{const c=new ZR;c.setWithCredentials(!0),c.listenOnce(eD.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case ep.NO_ERROR:const h=c.getResponseJson();Ie(Nr,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(h)),s(h);break;case ep.TIMEOUT:Ie(Nr,`RPC '${e}' ${a} timed out`),u(new ke(ce.DEADLINE_EXCEEDED,"Request time out"));break;case ep.HTTP_ERROR:const g=c.getStatus();if(Ie(Nr,`RPC '${e}' ${a} failed with status:`,g,"response text:",c.getResponseText()),g>0){let v=c.getResponseJson();Array.isArray(v)&&(v=v[0]);const _=v?.error;if(_&&_.status&&_.message){const E=function(b){const P=b.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(P)>=0?P:ce.UNKNOWN}(_.status);u(new ke(E,_.message))}else u(new ke(ce.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new ke(ce.UNAVAILABLE,"Connection failed."));break;default:We()}}finally{Ie(Nr,`RPC '${e}' ${a} completed.`)}});const f=JSON.stringify(i);Ie(Nr,`RPC '${e}' ${a} sending request:`,i),c.send(r,"POST",f,n,15)})}Bo(e,r,n){const i=pv(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=nD(),u=rD(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,r,n),c.encodeInitMessageHeaders=!0;const h=a.join("");Ie(Nr,`Creating RPC '${e}' stream ${i}: ${h}`,c);const g=s.createWebChannel(h,c);let v=!1,_=!1;const E=new qB({Io:b=>{_?Ie(Nr,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(v||(Ie(Nr,`Opening RPC '${e}' stream ${i} transport.`),g.open(),v=!0),Ie(Nr,`RPC '${e}' stream ${i} sending:`,b),g.send(b))},To:()=>g.close()}),w=(b,P,j)=>{b.listen(P,R=>{try{j(R)}catch(V){setTimeout(()=>{throw V},0)}})};return w(g,Lc.EventType.OPEN,()=>{_||(Ie(Nr,`RPC '${e}' stream ${i} transport opened.`),E.yo())}),w(g,Lc.EventType.CLOSE,()=>{_||(_=!0,Ie(Nr,`RPC '${e}' stream ${i} transport closed`),E.So())}),w(g,Lc.EventType.ERROR,b=>{_||(_=!0,tu(Nr,`RPC '${e}' stream ${i} transport errored:`,b),E.So(new ke(ce.UNAVAILABLE,"The operation could not be completed")))}),w(g,Lc.EventType.MESSAGE,b=>{var P;if(!_){const j=b.data[0];yt(!!j);const R=j,V=R.error||((P=R[0])===null||P===void 0?void 0:P.error);if(V){Ie(Nr,`RPC '${e}' stream ${i} received error:`,V);const O=V.status;let N=function(D){const I=Kt[D];if(I!==void 0)return kD(I)}(O),A=V.message;N===void 0&&(N=ce.INTERNAL,A="Unknown error status: "+O+" with message "+V.message),_=!0,E.So(new ke(N,A)),g.close()}else Ie(Nr,`RPC '${e}' stream ${i} received:`,j),E.bo(j)}}),w(u,tD.STAT_EVENT,b=>{b.stat===k_.PROXY?Ie(Nr,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===k_.NOPROXY&&Ie(Nr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.wo()},0),E}}function mv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(t){return new eB(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e,r,n=1e3,i=1.5,a=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&Ie("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,r,n,i,a,s,u,c){this.ui=e,this.Ho=n,this.Jo=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new FD(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===ce.RESOURCE_EXHAUSTED?(Sa(r.toString()),Sa("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===r&&this.P_(n,i)},n=>{e(()=>{const i=new ke(ce.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Ie("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(Ie("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class WB extends UD{constructor(e,r,n,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=nB(this.serializer,e),n=function(a){if(!("targetChange"in a))return Ge.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?Ge.min():s.readTime?Di(s.readTime):Ge.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=$_(this.serializer),r.addTarget=function(a,s){let u;const c=s.target;if(u=N_(c)?{documents:oB(a,c)}:{query:sB(a,c)._t},u.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){u.resumeToken=CD(a,s.resumeToken);const f=D_(a,s.expectedCount);f!==null&&(u.expectedCount=f)}else if(s.snapshotVersion.compareTo(Ge.min())>0){u.readTime=xp(a,s.snapshotVersion.toTimestamp());const f=D_(a,s.expectedCount);f!==null&&(u.expectedCount=f)}return u}(this.serializer,e);const n=uB(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=$_(this.serializer),r.removeTarget=e,this.a_(r)}}class HB extends UD{constructor(e,r,n,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return yt(!!e.streamToken),this.lastStreamToken=e.streamToken,yt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){yt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=aB(e.writeResults,e.commitTime),n=Di(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=$_(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>iB(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KB extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ke(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Mo(e,M_(r,n),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ke(ce.UNKNOWN,a.toString())})}Lo(e,r,n,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection.Lo(e,M_(r,n),i,s,u,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ke(ce.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class GB{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Sa(r),this.D_=!1):Ie("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YB{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(s=>{n.enqueueAndForget(async()=>{Hs(this)&&(Ie("RemoteStore","Restarting streams for network reachability change."),await async function(c){const f=Ye(c);f.L_.add(4),await nd(f),f.q_.set("Unknown"),f.L_.delete(4),await Mm(f)}(this))})}),this.q_=new GB(n,i)}}async function Mm(t){if(Hs(t))for(const e of t.B_)await e(!0)}async function nd(t){for(const e of t.B_)await e(!1)}function BD(t,e){const r=Ye(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),W1(r)?z1(r):Du(r).r_()&&q1(r,e))}function B1(t,e){const r=Ye(t),n=Du(r);r.N_.delete(e),n.r_()&&qD(r,e),r.N_.size===0&&(n.r_()?n.o_():Hs(r)&&r.q_.set("Unknown"))}function q1(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ge.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Du(t).A_(e)}function qD(t,e){t.Q_.xe(e),Du(t).R_(e)}function z1(t){t.Q_=new X5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Du(t).start(),t.q_.v_()}function W1(t){return Hs(t)&&!Du(t).n_()&&t.N_.size>0}function Hs(t){return Ye(t).L_.size===0}function zD(t){t.Q_=void 0}async function XB(t){t.q_.set("Online")}async function QB(t){t.N_.forEach((e,r)=>{q1(t,e)})}async function JB(t,e){zD(t),W1(t)?(t.q_.M_(e),z1(t)):t.q_.set("Unknown")}async function ZB(t,e,r){if(t.q_.set("Online"),e instanceof ID&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const u of a.targetIds)i.N_.has(u)&&(await i.remoteSyncer.rejectListen(u,s),i.N_.delete(u),i.Q_.removeTarget(u))}(t,e)}catch(n){Ie("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await _p(t,n)}else if(e instanceof np?t.Q_.Ke(e):e instanceof OD?t.Q_.He(e):t.Q_.We(e),!r.isEqual(Ge.min()))try{const n=await VD(t.localStore);r.compareTo(n)>=0&&await function(a,s){const u=a.Q_.rt(s);return u.targetChanges.forEach((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const h=a.N_.get(f);h&&a.N_.set(f,h.withResumeToken(c.resumeToken,s))}}),u.targetMismatches.forEach((c,f)=>{const h=a.N_.get(c);if(!h)return;a.N_.set(c,h.withResumeToken(Tr.EMPTY_BYTE_STRING,h.snapshotVersion)),qD(a,c);const g=new go(h.target,c,f,h.sequenceNumber);q1(a,g)}),a.remoteSyncer.applyRemoteEvent(u)}(t,r)}catch(n){Ie("RemoteStore","Failed to raise snapshot:",n),await _p(t,n)}}async function _p(t,e,r){if(!Zf(e))throw e;t.L_.add(1),await nd(t),t.q_.set("Offline"),r||(r=()=>VD(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ie("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await Mm(t)})}function WD(t,e){return e().catch(r=>_p(t,r,e))}async function Lm(t){const e=Ye(t),r=Po(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;eq(e);)try{const i=await LB(e.localStore,n);if(i===null){e.O_.length===0&&r.o_();break}n=i.batchId,tq(e,i)}catch(i){await _p(e,i)}HD(e)&&KD(e)}function eq(t){return Hs(t)&&t.O_.length<10}function tq(t,e){t.O_.push(e);const r=Po(t);r.r_()&&r.V_&&r.m_(e.mutations)}function HD(t){return Hs(t)&&!Po(t).n_()&&t.O_.length>0}function KD(t){Po(t).start()}async function rq(t){Po(t).p_()}async function nq(t){const e=Po(t);for(const r of t.O_)e.m_(r.mutations)}async function iq(t,e,r){const n=t.O_.shift(),i=M1.from(n,e,r);await WD(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Lm(t)}async function aq(t,e){e&&Po(t).V_&&await async function(n,i){if(function(s){return K5(s)&&s!==ce.ABORTED}(i.code)){const a=n.O_.shift();Po(n).s_(),await WD(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Lm(n)}}(t,e),HD(t)&&KD(t)}async function RP(t,e){const r=Ye(t);r.asyncQueue.verifyOperationInProgress(),Ie("RemoteStore","RemoteStore received new credentials");const n=Hs(r);r.L_.add(3),await nd(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await Mm(r)}async function oq(t,e){const r=Ye(t);e?(r.L_.delete(2),await Mm(r)):e||(r.L_.add(2),await nd(r),r.q_.set("Unknown"))}function Du(t){return t.K_||(t.K_=function(r,n,i){const a=Ye(r);return a.w_(),new WB(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:XB.bind(null,t),Ro:QB.bind(null,t),mo:JB.bind(null,t),d_:ZB.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),W1(t)?z1(t):t.q_.set("Unknown")):(await t.K_.stop(),zD(t))})),t.K_}function Po(t){return t.U_||(t.U_=function(r,n,i){const a=Ye(r);return a.w_(),new HB(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:rq.bind(null,t),mo:aq.bind(null,t),f_:nq.bind(null,t),g_:iq.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Lm(t)):(await t.U_.stop(),t.O_.length>0&&(Ie("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new Ts,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const s=Date.now()+n,u=new H1(e,r,s,i,a);return u.start(n),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ke(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function K1(t,e){if(Sa("AsyncQueue",`${e}: ${t}`),Zf(t))return new ke(ce.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e){this.comparator=e?(r,n)=>e(r,n)||Me.comparator(r.key,n.key):(r,n)=>Me.comparator(r.key,n.key),this.keyedMap=$c(),this.sortedSet=new Mt(this.comparator)}static emptySet(e){return new Ql(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Ql)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Ql;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(){this.W_=new Mt(Me.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):We():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class ou{constructor(e,r,n,i,a,s,u,c,f){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,r,n,i,a){const s=[];return r.forEach(u=>{s.push({type:0,doc:u})}),new ou(e,r,Ql.emptySet(r),s,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Im(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sq{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class lq{constructor(){this.queries=MP(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=Ye(r),a=i.queries;i.queries=MP(),a.forEach((s,u)=>{for(const c of u.j_)c.onError(n)})})(this,new ke(ce.ABORTED,"Firestore shutting down"))}}function MP(){return new Ru(t=>gD(t),Im)}async function uq(t,e){const r=Ye(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.H_()&&e.J_()&&(n=2):(a=new sq,n=e.J_()?0:1);try{switch(n){case 0:a.z_=await r.onListen(i,!0);break;case 1:a.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(s){const u=K1(s,`Initialization of query '${$l(e.query)}' failed`);return void e.onError(u)}r.queries.set(i,a),a.j_.push(e),e.Z_(r.onlineState),a.z_&&e.X_(a.z_)&&G1(r)}async function cq(t,e){const r=Ye(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const s=a.j_.indexOf(e);s>=0&&(a.j_.splice(s,1),a.j_.length===0?i=e.J_()?0:1:!a.H_()&&e.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function fq(t,e){const r=Ye(t);let n=!1;for(const i of e){const a=i.query,s=r.queries.get(a);if(s){for(const u of s.j_)u.X_(i)&&(n=!0);s.z_=i}}n&&G1(r)}function dq(t,e,r){const n=Ye(t),i=n.queries.get(e);if(i)for(const a of i.j_)a.onError(r);n.queries.delete(e)}function G1(t){t.Y_.forEach(e=>{e.next()})}var F_,LP;(LP=F_||(F_={})).ea="default",LP.Cache="cache";class hq{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new ou(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=ou.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==F_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e){this.key=e}}class YD{constructor(e){this.key=e}}class pq{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=tt(),this.mutatedKeys=tt(),this.Aa=yD(e),this.Ra=new Ql(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new DP,i=r?r.Ra:this.Ra;let a=r?r.mutatedKeys:this.mutatedKeys,s=i,u=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,g)=>{const v=i.get(h),_=Cm(this.query,g)?g:null,E=!!v&&this.mutatedKeys.has(v.key),w=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let b=!1;v&&_?v.data.isEqual(_.data)?E!==w&&(n.track({type:3,doc:_}),b=!0):this.ga(v,_)||(n.track({type:2,doc:_}),b=!0,(c&&this.Aa(_,c)>0||f&&this.Aa(_,f)<0)&&(u=!0)):!v&&_?(n.track({type:0,doc:_}),b=!0):v&&!_&&(n.track({type:1,doc:v}),b=!0,(c||f)&&(u=!0)),b&&(_?(s=s.add(_),a=w?a.add(h):a.delete(h)):(s=s.delete(h),a=a.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),a=a.delete(h.key),n.track({type:1,doc:h})}return{Ra:s,fa:n,ns:u,mutatedKeys:a}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((h,g)=>function(_,E){const w=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return We()}};return w(_)-w(E)}(h.type,g.type)||this.Aa(h.doc,g.doc)),this.pa(n),i=i!=null&&i;const u=r&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,f=c!==this.Ea;return this.Ea=c,s.length!==0||f?{snapshot:new ou(this.query,e.Ra,a,s,e.mutatedKeys,c===0,f,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:u}:{wa:u}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new DP,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=tt(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new YD(n))}),this.da.forEach(n=>{e.has(n)||r.push(new GD(n))}),r}ba(e){this.Ta=e.Ts,this.da=tt();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return ou.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class mq{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class gq{constructor(e){this.key=e,this.va=!1}}class yq{constructor(e,r,n,i,a,s){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Ru(u=>gD(u),Im),this.Ma=new Map,this.xa=new Set,this.Oa=new Mt(Me.comparator),this.Na=new Map,this.La=new V1,this.Ba={},this.ka=new Map,this.qa=au.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function vq(t,e,r=!0){const n=tM(t);let i;const a=n.Fa.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await XD(n,e,r,!0),i}async function bq(t,e){const r=tM(t);await XD(r,e,!0,!1)}async function XD(t,e,r,n){const i=await $B(t.localStore,Ri(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,r);let u;return n&&(u=await xq(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&r&&BD(t.remoteStore,i),u}async function xq(t,e,r,n,i){t.Ka=(g,v,_)=>async function(w,b,P,j){let R=b.view.ma(P);R.ns&&(R=await CP(w.localStore,b.query,!1).then(({documents:A})=>b.view.ma(A,R)));const V=j&&j.targetChanges.get(b.targetId),O=j&&j.targetMismatches.get(b.targetId)!=null,N=b.view.applyChanges(R,w.isPrimaryClient,V,O);return VP(w,b.targetId,N.wa),N.snapshot}(t,g,v,_);const a=await CP(t.localStore,e,!0),s=new pq(e,a.Ts),u=s.ma(a.documents),c=rd.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),f=s.applyChanges(u,t.isPrimaryClient,c);VP(t,r,f.wa);const h=new mq(e,r,s);return t.Fa.set(e,h),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),f.snapshot}async function _q(t,e,r){const n=Ye(t),i=n.Fa.get(e),a=n.Ma.get(i.targetId);if(a.length>1)return n.Ma.set(i.targetId,a.filter(s=>!Im(s,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await V_(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&B1(n.remoteStore,i.targetId),U_(n,i.targetId)}).catch(Jf)):(U_(n,i.targetId),await V_(n.localStore,i.targetId,!0))}async function wq(t,e){const r=Ye(t),n=r.Fa.get(e),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),B1(r.remoteStore,n.targetId))}async function Sq(t,e,r){const n=Iq(t);try{const i=await function(s,u){const c=Ye(s),f=ar.now(),h=u.reduce((_,E)=>_.add(E.key),tt());let g,v;return c.persistence.runTransaction("Locally write mutations","readwrite",_=>{let E=Ea(),w=tt();return c.cs.getEntries(_,h).next(b=>{E=b,E.forEach((P,j)=>{j.isValidDocument()||(w=w.add(P))})}).next(()=>c.localDocuments.getOverlayedDocuments(_,E)).next(b=>{g=b;const P=[];for(const j of u){const R=B5(j,g.get(j.key).overlayedDocument);R!=null&&P.push(new Co(j.key,R,lD(R.value.mapValue),Bn.exists(!0)))}return c.mutationQueue.addMutationBatch(_,f,P,u)}).next(b=>{v=b;const P=b.applyToLocalDocumentSet(g,w);return c.documentOverlayCache.saveOverlays(_,b.batchId,P)})}).then(()=>({batchId:v.batchId,changes:bD(g)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(s,u,c){let f=s.Ba[s.currentUser.toKey()];f||(f=new Mt(ct)),f=f.insert(u,c),s.Ba[s.currentUser.toKey()]=f}(n,i.batchId,r),await id(n,i.changes),await Lm(n.remoteStore)}catch(i){const a=K1(i,"Failed to persist write");r.reject(a)}}async function QD(t,e){const r=Ye(t);try{const n=await DB(r.localStore,e);e.targetChanges.forEach((i,a)=>{const s=r.Na.get(a);s&&(yt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?yt(s.va):i.removedDocuments.size>0&&(yt(s.va),s.va=!1))}),await id(r,n,e)}catch(n){await Jf(n)}}function $P(t,e,r){const n=Ye(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach((a,s)=>{const u=s.view.Z_(e);u.snapshot&&i.push(u.snapshot)}),function(s,u){const c=Ye(s);c.onlineState=u;let f=!1;c.queries.forEach((h,g)=>{for(const v of g.j_)v.Z_(u)&&(f=!0)}),f&&G1(c)}(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function Eq(t,e,r){const n=Ye(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Na.get(e),a=i&&i.key;if(a){let s=new Mt(Me.comparator);s=s.insert(a,Dr.newNoDocument(a,Ge.min()));const u=tt().add(a),c=new Rm(Ge.min(),new Map,new Mt(ct),s,u);await QD(n,c),n.Oa=n.Oa.remove(a),n.Na.delete(e),Y1(n)}else await V_(n.localStore,e,!1).then(()=>U_(n,e,r)).catch(Jf)}async function Tq(t,e){const r=Ye(t),n=e.batch.batchId;try{const i=await RB(r.localStore,e);ZD(r,n,null),JD(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await id(r,i)}catch(i){await Jf(i)}}async function Aq(t,e,r){const n=Ye(t);try{const i=await function(s,u){const c=Ye(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let h;return c.mutationQueue.lookupMutationBatch(f,u).next(g=>(yt(g!==null),h=g.keys(),c.mutationQueue.removeMutationBatch(f,g))).next(()=>c.mutationQueue.performConsistencyCheck(f)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(f,h,u)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,h)).next(()=>c.localDocuments.getDocuments(f,h))})}(n.localStore,e);ZD(n,e,r),JD(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await id(n,i)}catch(i){await Jf(i)}}function JD(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function ZD(t,e,r){const n=Ye(t);let i=n.Ba[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function U_(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||eM(t,n)})}function eM(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(B1(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),Y1(t))}function VP(t,e,r){for(const n of r)n instanceof GD?(t.La.addReference(n.key,e),Pq(t,n)):n instanceof YD?(Ie("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||eM(t,n.key)):We()}function Pq(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(Ie("SyncEngine","New document in limbo: "+r),t.xa.add(n),Y1(t))}function Y1(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new Me(It.fromString(e)),n=t.qa.next();t.Na.set(n,new gq(r)),t.Oa=t.Oa.insert(r,n),BD(t.remoteStore,new go(Ri(j1(r.path)),n,"TargetPurposeLimboResolution",P1.oe))}}async function id(t,e,r){const n=Ye(t),i=[],a=[],s=[];n.Fa.isEmpty()||(n.Fa.forEach((u,c)=>{s.push(n.Ka(c,e,r).then(f=>{var h;if((f||r)&&n.isPrimaryClient){const g=f?!f.fromCache:(h=r?.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;n.sharedClientState.updateQueryState(c.targetId,g?"current":"not-current")}if(f){i.push(f);const g=U1.Wi(c.targetId,f);a.push(g)}}))}),await Promise.all(s),n.Ca.d_(i),await async function(c,f){const h=Ye(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>pe.forEach(f,v=>pe.forEach(v.$i,_=>h.persistence.referenceDelegate.addReference(g,v.targetId,_)).next(()=>pe.forEach(v.Ui,_=>h.persistence.referenceDelegate.removeReference(g,v.targetId,_)))))}catch(g){if(!Zf(g))throw g;Ie("LocalStore","Failed to update sequence numbers: "+g)}for(const g of f){const v=g.targetId;if(!g.fromCache){const _=h.os.get(v),E=_.snapshotVersion,w=_.withLastLimboFreeSnapshotVersion(E);h.os=h.os.insert(v,w)}}}(n.localStore,a))}async function kq(t,e){const r=Ye(t);if(!r.currentUser.isEqual(e)){Ie("SyncEngine","User change. New user:",e.toKey());const n=await $D(r.localStore,e);r.currentUser=e,function(a,s){a.ka.forEach(u=>{u.forEach(c=>{c.reject(new ke(ce.CANCELLED,s))})}),a.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await id(r,n.hs)}}function Oq(t,e){const r=Ye(t),n=r.Na.get(e);if(n&&n.va)return tt().add(n.key);{let i=tt();const a=r.Ma.get(e);if(!a)return i;for(const s of a){const u=r.Fa.get(s);i=i.unionWith(u.view.Va)}return i}}function tM(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=QD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Oq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Eq.bind(null,e),e.Ca.d_=fq.bind(null,e.eventManager),e.Ca.$a=dq.bind(null,e.eventManager),e}function Iq(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Tq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Aq.bind(null,e),e}class wp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Dm(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return jB(this.persistence,new CB,e.initialUser,this.serializer)}Ga(e){return new kB(F1.Zr,this.serializer)}Wa(e){return new FB}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wp.provider={build:()=>new wp};class B_{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>$P(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=kq.bind(null,this.syncEngine),await oq(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new lq}()}createDatastore(e){const r=Dm(e.databaseInfo.databaseId),n=function(a){return new zB(a)}(e.databaseInfo);return function(a,s,u,c){return new KB(a,s,u,c)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,a,s,u){return new YB(n,i,a,s,u)}(this.localStore,this.datastore,e.asyncQueue,r=>$P(this.syncEngine,r,0),function(){return jP.D()?new jP:new UB}())}createSyncEngine(e,r){return function(i,a,s,u,c,f,h){const g=new yq(i,a,s,u,c,f);return h&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const a=Ye(i);Ie("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await nd(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}B_.provider={build:()=>new B_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cq{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Sa("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nq{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=Rr.UNAUTHENTICATED,this.clientId=aD.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async s=>{Ie("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(Ie("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ts;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=K1(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function gv(t,e){t.asyncQueue.verifyOperationInProgress(),Ie("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await $D(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function FP(t,e){t.asyncQueue.verifyOperationInProgress();const r=await jq(t);Ie("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>RP(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>RP(e.remoteStore,i)),t._onlineComponents=e}async function jq(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ie("FirestoreClient","Using user provided OfflineComponentProvider");try{await gv(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===ce.FAILED_PRECONDITION||i.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;tu("Error using user provided cache. Falling back to memory cache: "+r),await gv(t,new wp)}}else Ie("FirestoreClient","Using default OfflineComponentProvider"),await gv(t,new wp);return t._offlineComponents}async function rM(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ie("FirestoreClient","Using user provided OnlineComponentProvider"),await FP(t,t._uninitializedComponentsProvider._online)):(Ie("FirestoreClient","Using default OnlineComponentProvider"),await FP(t,new B_))),t._onlineComponents}function Rq(t){return rM(t).then(e=>e.syncEngine)}async function UP(t){const e=await rM(t),r=e.eventManager;return r.onListen=vq.bind(null,e.syncEngine),r.onUnlisten=_q.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=bq.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=wq.bind(null,e.syncEngine),r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nM(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(t,e,r){if(!r)throw new ke(ce.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Dq(t,e,r,n){if(e===!0&&n===!0)throw new ke(ce.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function qP(t){if(!Me.isDocumentKey(t))throw new ke(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function zP(t){if(Me.isDocumentKey(t))throw new ke(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function $m(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":We()}function Mi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ke(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=$m(t);throw new ke(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new ke(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ke(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Dq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nM((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ke(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ke(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ke(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vm{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new WP({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ke(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ke(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new WP(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new QU;switch(n.type){case"firstParty":return new t5(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ke(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=BP.get(r);n&&(Ie("ComponentProvider","Removing Datastore"),BP.delete(r),n.terminate())}(this),Promise.resolve()}}function Mq(t,e,r,n={}){var i;const a=(t=Mi(t,Vm))._getSettings(),s=`${e}:${r}`;if(a.host!=="firestore.googleapis.com"&&a.host!==s&&tu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:s,ssl:!1})),n.mockUserToken){let u,c;if(typeof n.mockUserToken=="string")u=n.mockUserToken,c=Rr.MOCK_USER;else{u=fR(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=n.mockUserToken.sub||n.mockUserToken.user_id;if(!f)throw new ke(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Rr(f)}t._authCredentials=new JU(new iD(u,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Mu(this.firestore,e,this._query)}}class Gr{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gr(this.firestore,e,this._key)}}class xo extends Mu{constructor(e,r,n){super(e,r,j1(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gr(this.firestore,null,new Me(e))}withConverter(e){return new xo(this.firestore,e,this._path)}}function HP(t,e,...r){if(t=or(t),iM("collection","path",e),t instanceof Vm){const n=It.fromString(e,...r);return zP(n),new xo(t,null,n)}{if(!(t instanceof Gr||t instanceof xo))throw new ke(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(It.fromString(e,...r));return zP(n),new xo(t.firestore,null,n)}}function Ul(t,e,...r){if(t=or(t),arguments.length===1&&(e=aD.newId()),iM("doc","path",e),t instanceof Vm){const n=It.fromString(e,...r);return qP(n),new Gr(t,null,new Me(n))}{if(!(t instanceof Gr||t instanceof xo))throw new ke(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(It.fromString(e,...r));return qP(n),new Gr(t.firestore,t instanceof xo?t.converter:null,new Me(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new FD(this,"async_queue_retry"),this.Vu=()=>{const n=mv();n&&Ie("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=mv();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=mv();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new Ts;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Zf(e))throw e;Ie("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const i=function(s){let u=s.message||"";return s.stack&&(u=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),u}(n);throw Sa("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const i=H1.createAndSchedule(this,e,r,n,a=>this.yu(a));return this.Tu.push(i),i}fu(){this.Eu&&We()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function GP(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class Ds extends Vm{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new KP,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new KP(e),this._firestoreClient=void 0,await e}}}function Lq(t,e){const r=typeof t=="object"?t:g1(),n=typeof t=="string"?t:"(default)",i=Tm(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=lR("firestore");a&&Mq(i,...a)}return i}function aM(t){if(t._terminated)throw new ke(ce.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||$q(t),t._firestoreClient}function $q(t){var e,r,n;const i=t._freezeSettings(),a=function(u,c,f,h){return new p5(u,c,f,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,nM(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Nq(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(u){const c=u?._online.build();return{_offline:u?._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e){this._byteString=e}static fromBase64String(e){try{return new su(Tr.fromBase64String(e))}catch(r){throw new ke(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new su(Tr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new ke(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new ke(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new ke(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ct(this._lat,e._lat)||ct(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vq=/^__.*__$/;class Fq{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Co(e,this.data,this.fieldMask,r,this.fieldTransforms):new td(e,this.data,r,this.fieldTransforms)}}class oM{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new Co(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function sM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw We()}}class Z1{constructor(e,r,n,i,a,s){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Z1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Sp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(sM(this.Cu)&&Vq.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Uq{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||Dm(e)}Qu(e,r,n,i=!1){return new Z1({Cu:e,methodName:r,qu:n,path:Sr.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Um(t){const e=t._freezeSettings(),r=Dm(t._databaseId);return new Uq(t._databaseId,!!e.ignoreUndefinedProperties,r)}function lM(t,e,r,n,i,a={}){const s=t.Qu(a.merge||a.mergeFields?2:0,e,r,i);eS("Data must be an object, but it was:",s,n);const u=uM(n,s);let c,f;if(a.merge)c=new Sn(s.fieldMask),f=s.fieldTransforms;else if(a.mergeFields){const h=[];for(const g of a.mergeFields){const v=q_(e,g,r);if(!s.contains(v))throw new ke(ce.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);fM(h,v)||h.push(v)}c=new Sn(h),f=s.fieldTransforms.filter(g=>c.covers(g.field))}else c=null,f=s.fieldTransforms;return new Fq(new sn(u),c,f)}class Bm extends X1{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bm}}function Bq(t,e,r,n){const i=t.Qu(1,e,r);eS("Data must be an object, but it was:",i,n);const a=[],s=sn.empty();Ws(n,(c,f)=>{const h=tS(e,c,r);f=or(f);const g=i.Nu(h);if(f instanceof Bm)a.push(h);else{const v=ad(f,g);v!=null&&(a.push(h),s.set(h,v))}});const u=new Sn(a);return new oM(s,u,i.fieldTransforms)}function qq(t,e,r,n,i,a){const s=t.Qu(1,e,r),u=[q_(e,n,r)],c=[i];if(a.length%2!=0)throw new ke(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<a.length;v+=2)u.push(q_(e,a[v])),c.push(a[v+1]);const f=[],h=sn.empty();for(let v=u.length-1;v>=0;--v)if(!fM(f,u[v])){const _=u[v];let E=c[v];E=or(E);const w=s.Nu(_);if(E instanceof Bm)f.push(_);else{const b=ad(E,w);b!=null&&(f.push(_),h.set(_,b))}}const g=new Sn(f);return new oM(h,g,s.fieldTransforms)}function zq(t,e,r,n=!1){return ad(r,t.Qu(n?4:3,e))}function ad(t,e){if(cM(t=or(t)))return eS("Unsupported field value:",e,t),uM(t,e);if(t instanceof X1)return function(n,i){if(!sM(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,i){const a=[];let s=0;for(const u of n){let c=ad(u,i.Lu(s));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),s++}return{arrayValue:{values:a}}}(t,e)}return function(n,i){if((n=or(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return M5(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=ar.fromDate(n);return{timestampValue:xp(i.serializer,a)}}if(n instanceof ar){const a=new ar(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:xp(i.serializer,a)}}if(n instanceof Q1)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof su)return{bytesValue:CD(i.serializer,n._byteString)};if(n instanceof Gr){const a=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(a))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:$1(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof J1)return function(s,u){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw u.Bu("VectorValues must only contain numeric values.");return R1(u.serializer,c)})}}}}}}(n,i);throw i.Bu(`Unsupported field value: ${$m(n)}`)}(t,e)}function uM(t,e){const r={};return oD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ws(t,(n,i)=>{const a=ad(i,e.Mu(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function cM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ar||t instanceof Q1||t instanceof su||t instanceof Gr||t instanceof X1||t instanceof J1)}function eS(t,e,r){if(!cM(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=$m(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function q_(t,e,r){if((e=or(e))instanceof Fm)return e._internalPath;if(typeof e=="string")return tS(t,e);throw Sp("Field path arguments must be of type string or ",t,!1,void 0,r)}const Wq=new RegExp("[~\\*/\\[\\]]");function tS(t,e,r){if(e.search(Wq)>=0)throw Sp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Fm(...e.split("."))._internalPath}catch{throw Sp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Sp(t,e,r,n,i){const a=n&&!n.isEmpty(),s=i!==void 0;let u=`Function ${e}() called with invalid data`;r&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(a||s)&&(c+=" (found",a&&(c+=` in field ${n}`),s&&(c+=` in document ${i}`),c+=")"),new ke(ce.INVALID_ARGUMENT,u+t+c)}function fM(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Gr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Hq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(hM("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class Hq extends dM{data(){return super.data()}}function hM(t,e){return typeof e=="string"?tS(t,e):e instanceof Fm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kq(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ke(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rS{}class Gq extends rS{}function Yq(t,e,...r){let n=[];e instanceof rS&&n.push(e),n=n.concat(r),function(a){const s=a.filter(c=>c instanceof iS).length,u=a.filter(c=>c instanceof nS).length;if(s>1||s>0&&u>0)throw new ke(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class nS extends Gq{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new nS(e,r,n)}_apply(e){const r=this._parse(e);return pM(e._query,r),new Mu(e.firestore,e.converter,j_(e._query,r))}_parse(e){const r=Um(e.firestore);return function(a,s,u,c,f,h,g){let v;if(f.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new ke(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){XP(g,h);const _=[];for(const E of g)_.push(YP(c,a,E));v={arrayValue:{values:_}}}else v=YP(c,a,g)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||XP(g,h),v=zq(u,s,g,h==="in"||h==="not-in");return Yt.create(f,h,v)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}class iS extends rS{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new iS(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:gi.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,a){let s=i;const u=a.getFlattenedFilters();for(const c of u)pM(s,c),s=j_(s,c)}(e._query,r),new Mu(e.firestore,e.converter,j_(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function YP(t,e,r){if(typeof(r=or(r))=="string"){if(r==="")throw new ke(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mD(e)&&r.indexOf("/")!==-1)throw new ke(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(It.fromString(r));if(!Me.isDocumentKey(n))throw new ke(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return pP(t,new Me(n))}if(r instanceof Gr)return pP(t,r._key);throw new ke(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$m(r)}.`)}function XP(t,e){if(!Array.isArray(t)||t.length===0)throw new ke(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function pM(t,e){const r=function(i,a){for(const s of i)for(const u of s.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new ke(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ke(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class Xq{convertValue(e,r="none"){switch(Rs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(js(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw We()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Ws(e,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(e){var r,n,i;const a=(i=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(s=>zt(s.doubleValue));return new J1(a)}convertGeoPoint(e){return new Q1(zt(e.latitude),zt(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=O1(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(of(e));default:return null}}convertTimestamp(e){const r=Ao(e);return new ar(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=It.fromString(e);yt(LD(n));const i=new sf(n.get(1),n.get(3)),a=new Me(n.popFirst(5));return i.isEqual(r)||Sa(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mM(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gM extends dM{constructor(e,r,n,i,a,s){super(e,r,n,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new ip(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(hM("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class ip extends gM{data(e={}){return super.data(e)}}class Qq{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Fc(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new ip(this._firestore,this._userDataWriter,n.key,n,new Fc(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ke(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(u=>{const c=new ip(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Fc(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>a||u.type!==3).map(u=>{const c=new ip(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Fc(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,h=-1;return u.type!==0&&(f=s.indexOf(u.doc.key),s=s.delete(u.doc.key)),u.type!==1&&(s=s.add(u.doc),h=s.indexOf(u.doc.key)),{type:Jq(u.type),doc:c,oldIndex:f,newIndex:h}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Jq(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return We()}}class yM extends Xq{constructor(e){super(),this.firestore=e}convertBytes(e){return new su(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Gr(this.firestore,null,r)}}function Zq(t,e,r){t=Mi(t,Gr);const n=Mi(t.firestore,Ds),i=mM(t.converter,e,r);return qm(n,[lM(Um(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,Bn.none())])}function QP(t,e,r,...n){t=Mi(t,Gr);const i=Mi(t.firestore,Ds),a=Um(i);let s;return s=typeof(e=or(e))=="string"||e instanceof Fm?qq(a,"updateDoc",t._key,e,r,n):Bq(a,"updateDoc",t._key,e),qm(i,[s.toMutation(t._key,Bn.exists(!0))])}function e9(t){return qm(Mi(t.firestore,Ds),[new D1(t._key,Bn.none())])}function t9(t,e){const r=Mi(t.firestore,Ds),n=Ul(t),i=mM(t.converter,e);return qm(r,[lM(Um(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,Bn.exists(!1))]).then(()=>n)}function JP(t,...e){var r,n,i;t=or(t);let a={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||GP(e[s])||(a=e[s],s++);const u={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(GP(e[s])){const g=e[s];e[s]=(r=g.next)===null||r===void 0?void 0:r.bind(g),e[s+1]=(n=g.error)===null||n===void 0?void 0:n.bind(g),e[s+2]=(i=g.complete)===null||i===void 0?void 0:i.bind(g)}let c,f,h;if(t instanceof Gr)f=Mi(t.firestore,Ds),h=j1(t._key.path),c={next:g=>{e[s]&&e[s](r9(f,t,g))},error:e[s+1],complete:e[s+2]};else{const g=Mi(t,Mu);f=Mi(g.firestore,Ds),h=g._query;const v=new yM(f);c={next:_=>{e[s]&&e[s](new Qq(f,v,g,_))},error:e[s+1],complete:e[s+2]},Kq(t._query)}return function(v,_,E,w){const b=new Cq(w),P=new hq(_,b,E);return v.asyncQueue.enqueueAndForget(async()=>uq(await UP(v),P)),()=>{b.Za(),v.asyncQueue.enqueueAndForget(async()=>cq(await UP(v),P))}}(aM(f),h,u,c)}function qm(t,e){return function(n,i){const a=new Ts;return n.asyncQueue.enqueueAndForget(async()=>Sq(await Rq(n),i,a)),a.promise}(aM(t),e)}function r9(t,e,r){const n=r.docs.get(e._key),i=new yM(t);return new gM(t,i,e._key,n,new Fc(r.hasPendingWrites,r.fromCache),e.converter)}(function(e,r=!0){(function(i){ju=i})(qs),Os(new Eo("firestore",(n,{instanceIdentifier:i,options:a})=>{const s=n.getProvider("app").getImmediate(),u=new Ds(new ZU(n.getProvider("auth-internal")),new n5(n.getProvider("app-check-internal")),function(f,h){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new ke(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sf(f.options.projectId,h)}(s,i),s);return a=Object.assign({useFetchStreams:r},a),u._setSettings(a),u},"PUBLIC").setMultipleInstances(!0)),Ci(uP,"4.7.3",e),Ci(uP,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM="firebasestorage.googleapis.com",n9="storageBucket",i9=2*60*1e3,a9=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends Bi{constructor(e,r,n=0){super(yv(e),`Firebase Storage: ${r} (${yv(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,qi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return yv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Fi;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Fi||(Fi={}));function yv(t){return"storage/"+t}function o9(){const t="An unknown error occurred, please check the error payload for server response.";return new qi(Fi.UNKNOWN,t)}function s9(){return new qi(Fi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function l9(){return new qi(Fi.CANCELED,"User canceled the upload/download.")}function u9(t){return new qi(Fi.INVALID_URL,"Invalid URL '"+t+"'.")}function c9(t){return new qi(Fi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function ZP(t){return new qi(Fi.INVALID_ARGUMENT,t)}function bM(){return new qi(Fi.APP_DELETED,"The Firebase app was deleted.")}function f9(t){return new qi(Fi.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=hi.makeFromUrl(e,r)}catch{return new hi(e,"")}if(n.path==="")return n;throw c9(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function a(V){V.path.charAt(V.path.length-1)==="/"&&(V.path_=V.path_.slice(0,-1))}const s="(/(.*))?$",u=new RegExp("^gs://"+i+s,"i"),c={bucket:1,path:3};function f(V){V.path_=decodeURIComponent(V.path)}const h="v[A-Za-z0-9_]+",g=r.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",_=new RegExp(`^https?://${g}/${h}/b/${i}/o${v}`,"i"),E={bucket:1,path:3},w=r===vM?"(?:storage.googleapis.com|storage.cloud.google.com)":r,b="([^?#]*)",P=new RegExp(`^https?://${w}/${i}/${b}`,"i"),R=[{regex:u,indices:c,postModify:a},{regex:_,indices:E,postModify:f},{regex:P,indices:{bucket:1,path:2},postModify:f}];for(let V=0;V<R.length;V++){const O=R[V],N=O.regex.exec(e);if(N){const A=N[O.indices.bucket];let k=N[O.indices.path];k||(k=""),n=new hi(A,k),O.postModify(n);break}}if(n==null)throw u9(e);return n}}class d9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h9(t,e,r){let n=1,i=null,a=null,s=!1,u=0;function c(){return u===2}let f=!1;function h(...b){f||(f=!0,e.apply(null,b))}function g(b){i=setTimeout(()=>{i=null,t(_,c())},b)}function v(){a&&clearTimeout(a)}function _(b,...P){if(f){v();return}if(b){v(),h.call(null,b,...P);return}if(c()||s){v(),h.call(null,b,...P);return}n<64&&(n*=2);let R;u===1?(u=2,R=0):R=(n+Math.random())*1e3,g(R)}let E=!1;function w(b){E||(E=!0,v(),!f&&(i!==null?(b||(u=2),clearTimeout(i),g(0)):b||(u=1)))}return g(0),a=setTimeout(()=>{s=!0,w(!0)},r),w}function p9(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m9(t){return t!==void 0}function ek(t,e,r,n){if(n<e)throw ZP(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw ZP(`Invalid value for '${t}'. Expected ${r} or less.`)}function g9(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var Ep;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ep||(Ep={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y9(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return r||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(e,r,n,i,a,s,u,c,f,h,g,v=!0){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=u,this.errorCallback_=c,this.timeout_=f,this.progressCallback_=h,this.connectionFactory_=g,this.retry=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,E)=>{this.resolve_=_,this.reject_=E,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new Dh(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const s=u=>{const c=u.loaded,f=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,f)};this.progressCallback_!==null&&a.addUploadProgressListener(s),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(s),this.pendingConnection_=null;const u=a.getErrorCode()===Ep.NO_ERROR,c=a.getStatus();if(!u||y9(c,this.additionalRetryCodes_)&&this.retry){const h=a.getErrorCode()===Ep.ABORT;n(!1,new Dh(!1,null,h));return}const f=this.successCodes_.indexOf(c)!==-1;n(!0,new Dh(f,a))})},r=(n,i)=>{const a=this.resolve_,s=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(u,u.getResponse());m9(c)?a(c):a()}catch(c){s(c)}else if(u!==null){const c=o9();c.serverResponse=u.getErrorText(),this.errorCallback_?s(this.errorCallback_(u,c)):s(c)}else if(i.canceled){const c=this.appDelete_?bM():l9();s(c)}else{const c=s9();s(c)}};this.canceled_?r(!1,new Dh(!1,null,!0)):this.backoffId_=h9(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&p9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Dh{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function b9(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function x9(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function _9(t,e){e&&(t["X-Firebase-GMPID"]=e)}function w9(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function S9(t,e,r,n,i,a,s=!0){const u=g9(t.urlParams),c=t.url+u,f=Object.assign({},t.headers);return _9(f,e),b9(f,r),x9(f,a),w9(f,n),new v9(c,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E9(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function T9(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,r){this._service=e,r instanceof hi?this._location=r:this._location=hi.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new Tp(e,r)}get root(){const e=new hi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return T9(this._location.path)}get storage(){return this._service}get parent(){const e=E9(this._location.path);if(e===null)return null;const r=new hi(this._location.bucket,e);return new Tp(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw f9(e)}}function tk(t,e){const r=e?.[n9];return r==null?null:hi.makeFromBucketSpec(r,t)}function A9(t,e,r,n={}){t.host=`${e}:${r}`,t._protocol="http";const{mockUserToken:i}=n;i&&(t._overrideAuthToken=typeof i=="string"?i:fR(i,t.app.options.projectId))}class P9{constructor(e,r,n,i,a){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=vM,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=i9,this._maxUploadRetryTime=a9,this._requests=new Set,i!=null?this._bucket=hi.makeFromBucketSpec(i,this._host):this._bucket=tk(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=hi.makeFromBucketSpec(this._url,e):this._bucket=tk(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ek("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ek("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Tp(this,e)}_makeRequest(e,r,n,i,a=!0){if(this._deleted)return new d9(bM());{const s=S9(e,this._appId,n,i,r,this._firebaseVersion,a);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const rk="@firebase/storage",nk="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM="storage";function k9(t=g1(),e){t=or(t);const n=Tm(t,xM).getImmediate({identifier:e}),i=lR("storage");return i&&O9(n,...i),n}function O9(t,e,r,n={}){A9(t,e,r,n)}function I9(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new P9(r,n,i,e,qs)}function C9(){Os(new Eo(xM,I9,"PUBLIC").setMultipleInstances(!0)),Ci(rk,nk,""),Ci(rk,nk,"esm2017")}C9();/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_M=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var j9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R9=z.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:s,...u},c)=>z.createElement("svg",{ref:c,...j9,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:_M("lucide",i),...u},[...s.map(([f,h])=>z.createElement(f,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=(t,e)=>{const r=z.forwardRef(({className:n,...i},a)=>z.createElement(R9,{ref:a,iconNode:e,className:_M(`lucide-${N9(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=Fe("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D9=Fe("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M9=Fe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L9=Fe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=Fe("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=Fe("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V9=Fe("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=Fe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=Fe("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=Fe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=Fe("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=Fe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ap=Fe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U9=Fe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=Fe("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=Fe("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=Fe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=Fe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=Fe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q9=Fe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=Fe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=Fe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z9=Fe("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W9=Fe("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H9=Fe("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=Fe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=Fe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K9=Fe("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=Fe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G9=Fe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=Fe("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y9=Fe("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kp=Fe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X9=Fe("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=Fe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=Fe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=Fe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q9=Fe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J9=Fe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=Fe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z9=Fe("TreePine",[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ez=Fe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=Fe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tz=Fe("Unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=Fe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=Fe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=Fe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=Fe("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=Fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),rz=({setUserId:t})=>{const[e,r]=z.useState(!0),[n,i]=z.useState(""),[a,s]=z.useState(""),[u,c]=z.useState(""),[f,h]=z.useState(!1),g=QR(),v=async _=>{_.preventDefault(),c(""),h(!0);try{e?await M6(g,n,a):await D6(g,n,a)}catch(E){c(E.message)}finally{h(!1)}};return p.jsx("div",{className:"min-h-screen bg-slate-100 dark:bg-slate-900 flex flex-col justify-center items-center p-4",children:p.jsxs("div",{className:"w-full max-w-md",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx(H_,{className:"mx-auto h-12 w-auto text-cyan-500"}),p.jsx("h2",{className:"mt-6 text-3xl font-bold tracking-tight text-slate-900 dark:text-white",children:e?"Sign in to your account":"Create a new account"})]}),p.jsxs("div",{className:"bg-white dark:bg-slate-800 shadow-xl rounded-2xl p-8",children:[p.jsxs("form",{className:"space-y-6",onSubmit:v,children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Email address"}),p.jsx("div",{className:"mt-1",children:p.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:_=>i(_.target.value),className:"block w-full appearance-none rounded-md border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 px-3 py-2 placeholder-slate-400 dark:placeholder-slate-500 shadow-sm focus:border-cyan-500 focus:outline-none focus:ring-cyan-500 sm:text-sm"})})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Password"}),p.jsx("div",{className:"mt-1",children:p.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:a,onChange:_=>s(_.target.value),className:"block w-full appearance-none rounded-md border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 px-3 py-2 placeholder-slate-400 dark:placeholder-slate-500 shadow-sm focus:border-cyan-500 focus:outline-none focus:ring-cyan-500 sm:text-sm"})})]}),u&&p.jsx("div",{className:"rounded-md bg-red-50 p-4",children:p.jsx("p",{className:"text-sm text-red-700",children:u})}),p.jsx("div",{children:p.jsx("button",{type:"submit",disabled:f,className:"flex w-full justify-center rounded-md border border-transparent bg-cyan-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-cyan-700 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2 disabled:bg-slate-400",children:f?"Processing...":e?"Sign in":"Create account"})})]}),p.jsx("div",{className:"mt-6",children:p.jsxs("p",{className:"text-center text-sm text-slate-500 dark:text-slate-400",children:[e?"Don't have an account?":"Already have an account?",p.jsx("button",{onClick:()=>r(!e),className:"font-medium text-cyan-600 hover:text-cyan-500 ml-1",children:e?"Sign up":"Sign in"})]})})]})]})})},ss=({title:t,value:e,icon:r,color:n,subtext:i})=>p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl border border-slate-200 dark:border-slate-700 shadow-lg flex flex-col justify-between",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("h3",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:t}),p.jsx("div",{className:`text-${n}-500 dark:text-${n}-400`,children:r})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-3xl font-bold text-slate-800 dark:text-white mt-2",children:e}),i&&p.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500 mt-1",children:i})]})]});function TM(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=TM(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Qe(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=TM(t))&&(n&&(n+=" "),n+=e);return n}var vv,sk;function un(){if(sk)return vv;sk=1;var t=Array.isArray;return vv=t,vv}var bv,lk;function AM(){if(lk)return bv;lk=1;var t=typeof kh=="object"&&kh&&kh.Object===Object&&kh;return bv=t,bv}var xv,uk;function zi(){if(uk)return xv;uk=1;var t=AM(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return xv=r,xv}var _v,ck;function ld(){if(ck)return _v;ck=1;var t=zi(),e=t.Symbol;return _v=e,_v}var wv,fk;function nz(){if(fk)return wv;fk=1;var t=ld(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function a(s){var u=r.call(s,i),c=s[i];try{s[i]=void 0;var f=!0}catch{}var h=n.call(s);return f&&(u?s[i]=c:delete s[i]),h}return wv=a,wv}var Sv,dk;function iz(){if(dk)return Sv;dk=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return Sv=r,Sv}var Ev,hk;function Ia(){if(hk)return Ev;hk=1;var t=ld(),e=nz(),r=iz(),n="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function s(u){return u==null?u===void 0?i:n:a&&a in Object(u)?e(u):r(u)}return Ev=s,Ev}var Tv,pk;function Ca(){if(pk)return Tv;pk=1;function t(e){return e!=null&&typeof e=="object"}return Tv=t,Tv}var Av,mk;function Lu(){if(mk)return Av;mk=1;var t=Ia(),e=Ca(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return Av=n,Av}var Pv,gk;function dS(){if(gk)return Pv;gk=1;var t=un(),e=Lu(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){if(t(a))return!1;var u=typeof a;return u=="number"||u=="symbol"||u=="boolean"||a==null||e(a)?!0:n.test(a)||!r.test(a)||s!=null&&a in Object(s)}return Pv=i,Pv}var kv,yk;function No(){if(yk)return kv;yk=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return kv=t,kv}var Ov,vk;function hS(){if(vk)return Ov;vk=1;var t=Ia(),e=No(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function s(u){if(!e(u))return!1;var c=t(u);return c==n||c==i||c==r||c==a}return Ov=s,Ov}var Iv,bk;function az(){if(bk)return Iv;bk=1;var t=zi(),e=t["__core-js_shared__"];return Iv=e,Iv}var Cv,xk;function oz(){if(xk)return Cv;xk=1;var t=az(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!e&&e in n}return Cv=r,Cv}var Nv,_k;function PM(){if(_k)return Nv;_k=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return Nv=r,Nv}var jv,wk;function sz(){if(wk)return jv;wk=1;var t=hS(),e=oz(),r=No(),n=PM(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,s=Function.prototype,u=Object.prototype,c=s.toString,f=u.hasOwnProperty,h=RegExp("^"+c.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function g(v){if(!r(v)||e(v))return!1;var _=t(v)?h:a;return _.test(n(v))}return jv=g,jv}var Rv,Sk;function lz(){if(Sk)return Rv;Sk=1;function t(e,r){return e?.[r]}return Rv=t,Rv}var Dv,Ek;function Ks(){if(Ek)return Dv;Ek=1;var t=sz(),e=lz();function r(n,i){var a=e(n,i);return t(a)?a:void 0}return Dv=r,Dv}var Mv,Tk;function zm(){if(Tk)return Mv;Tk=1;var t=Ks(),e=t(Object,"create");return Mv=e,Mv}var Lv,Ak;function uz(){if(Ak)return Lv;Ak=1;var t=zm();function e(){this.__data__=t?t(null):{},this.size=0}return Lv=e,Lv}var $v,Pk;function cz(){if(Pk)return $v;Pk=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return $v=t,$v}var Vv,kk;function fz(){if(kk)return Vv;kk=1;var t=zm(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(a){var s=this.__data__;if(t){var u=s[a];return u===e?void 0:u}return n.call(s,a)?s[a]:void 0}return Vv=i,Vv}var Fv,Ok;function dz(){if(Ok)return Fv;Ok=1;var t=zm(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var a=this.__data__;return t?a[i]!==void 0:r.call(a,i)}return Fv=n,Fv}var Uv,Ik;function hz(){if(Ik)return Uv;Ik=1;var t=zm(),e="__lodash_hash_undefined__";function r(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=t&&i===void 0?e:i,this}return Uv=r,Uv}var Bv,Ck;function pz(){if(Ck)return Bv;Ck=1;var t=uz(),e=cz(),r=fz(),n=dz(),i=hz();function a(s){var u=-1,c=s==null?0:s.length;for(this.clear();++u<c;){var f=s[u];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,Bv=a,Bv}var qv,Nk;function mz(){if(Nk)return qv;Nk=1;function t(){this.__data__=[],this.size=0}return qv=t,qv}var zv,jk;function pS(){if(jk)return zv;jk=1;function t(e,r){return e===r||e!==e&&r!==r}return zv=t,zv}var Wv,Rk;function Wm(){if(Rk)return Wv;Rk=1;var t=pS();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return Wv=e,Wv}var Hv,Dk;function gz(){if(Dk)return Hv;Dk=1;var t=Wm(),e=Array.prototype,r=e.splice;function n(i){var a=this.__data__,s=t(a,i);if(s<0)return!1;var u=a.length-1;return s==u?a.pop():r.call(a,s,1),--this.size,!0}return Hv=n,Hv}var Kv,Mk;function yz(){if(Mk)return Kv;Mk=1;var t=Wm();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return Kv=e,Kv}var Gv,Lk;function vz(){if(Lk)return Gv;Lk=1;var t=Wm();function e(r){return t(this.__data__,r)>-1}return Gv=e,Gv}var Yv,$k;function bz(){if($k)return Yv;$k=1;var t=Wm();function e(r,n){var i=this.__data__,a=t(i,r);return a<0?(++this.size,i.push([r,n])):i[a][1]=n,this}return Yv=e,Yv}var Xv,Vk;function Hm(){if(Vk)return Xv;Vk=1;var t=mz(),e=gz(),r=yz(),n=vz(),i=bz();function a(s){var u=-1,c=s==null?0:s.length;for(this.clear();++u<c;){var f=s[u];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,Xv=a,Xv}var Qv,Fk;function mS(){if(Fk)return Qv;Fk=1;var t=Ks(),e=zi(),r=t(e,"Map");return Qv=r,Qv}var Jv,Uk;function xz(){if(Uk)return Jv;Uk=1;var t=pz(),e=Hm(),r=mS();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return Jv=n,Jv}var Zv,Bk;function _z(){if(Bk)return Zv;Bk=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return Zv=t,Zv}var e0,qk;function Km(){if(qk)return e0;qk=1;var t=_z();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return e0=e,e0}var t0,zk;function wz(){if(zk)return t0;zk=1;var t=Km();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return t0=e,t0}var r0,Wk;function Sz(){if(Wk)return r0;Wk=1;var t=Km();function e(r){return t(this,r).get(r)}return r0=e,r0}var n0,Hk;function Ez(){if(Hk)return n0;Hk=1;var t=Km();function e(r){return t(this,r).has(r)}return n0=e,n0}var i0,Kk;function Tz(){if(Kk)return i0;Kk=1;var t=Km();function e(r,n){var i=t(this,r),a=i.size;return i.set(r,n),this.size+=i.size==a?0:1,this}return i0=e,i0}var a0,Gk;function gS(){if(Gk)return a0;Gk=1;var t=xz(),e=wz(),r=Sz(),n=Ez(),i=Tz();function a(s){var u=-1,c=s==null?0:s.length;for(this.clear();++u<c;){var f=s[u];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,a0=a,a0}var o0,Yk;function kM(){if(Yk)return o0;Yk=1;var t=gS(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var s=arguments,u=i?i.apply(this,s):s[0],c=a.cache;if(c.has(u))return c.get(u);var f=n.apply(this,s);return a.cache=c.set(u,f)||c,f};return a.cache=new(r.Cache||t),a}return r.Cache=t,o0=r,o0}var s0,Xk;function Az(){if(Xk)return s0;Xk=1;var t=kM(),e=500;function r(n){var i=t(n,function(s){return a.size===e&&a.clear(),s}),a=i.cache;return i}return s0=r,s0}var l0,Qk;function Pz(){if(Qk)return l0;Qk=1;var t=Az(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(s,u,c,f){a.push(c?f.replace(r,"$1"):u||s)}),a});return l0=n,l0}var u0,Jk;function yS(){if(Jk)return u0;Jk=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=Array(i);++n<i;)a[n]=r(e[n],n,e);return a}return u0=t,u0}var c0,Zk;function kz(){if(Zk)return c0;Zk=1;var t=ld(),e=yS(),r=un(),n=Lu(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function s(u){if(typeof u=="string")return u;if(r(u))return e(u,s)+"";if(n(u))return a?a.call(u):"";var c=u+"";return c=="0"&&1/u==-1/0?"-0":c}return c0=s,c0}var f0,eO;function OM(){if(eO)return f0;eO=1;var t=kz();function e(r){return r==null?"":t(r)}return f0=e,f0}var d0,tO;function IM(){if(tO)return d0;tO=1;var t=un(),e=dS(),r=Pz(),n=OM();function i(a,s){return t(a)?a:e(a,s)?[a]:r(n(a))}return d0=i,d0}var h0,rO;function Gm(){if(rO)return h0;rO=1;var t=Lu();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return h0=e,h0}var p0,nO;function vS(){if(nO)return p0;nO=1;var t=IM(),e=Gm();function r(n,i){i=t(i,n);for(var a=0,s=i.length;n!=null&&a<s;)n=n[e(i[a++])];return a&&a==s?n:void 0}return p0=r,p0}var m0,iO;function CM(){if(iO)return m0;iO=1;var t=vS();function e(r,n,i){var a=r==null?void 0:t(r,n);return a===void 0?i:a}return m0=e,m0}var Oz=CM();const En=pt(Oz);var g0,aO;function Iz(){if(aO)return g0;aO=1;function t(e){return e==null}return g0=t,g0}var Cz=Iz();const et=pt(Cz);var y0,oO;function Nz(){if(oO)return y0;oO=1;var t=Ia(),e=un(),r=Ca(),n="[object String]";function i(a){return typeof a=="string"||!e(a)&&r(a)&&t(a)==n}return y0=i,y0}var jz=Nz();const Ls=pt(jz);var Rz=hS();const ze=pt(Rz);var Dz=No();const $u=pt(Dz);var v0={exports:{}},dt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sO;function Mz(){if(sO)return dt;sO=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),u=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.offscreen"),E;E=Symbol.for("react.module.reference");function w(b){if(typeof b=="object"&&b!==null){var P=b.$$typeof;switch(P){case t:switch(b=b.type,b){case r:case i:case n:case f:case h:return b;default:switch(b=b&&b.$$typeof,b){case u:case s:case c:case v:case g:case a:return b;default:return P}}case e:return P}}}return dt.ContextConsumer=s,dt.ContextProvider=a,dt.Element=t,dt.ForwardRef=c,dt.Fragment=r,dt.Lazy=v,dt.Memo=g,dt.Portal=e,dt.Profiler=i,dt.StrictMode=n,dt.Suspense=f,dt.SuspenseList=h,dt.isAsyncMode=function(){return!1},dt.isConcurrentMode=function(){return!1},dt.isContextConsumer=function(b){return w(b)===s},dt.isContextProvider=function(b){return w(b)===a},dt.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},dt.isForwardRef=function(b){return w(b)===c},dt.isFragment=function(b){return w(b)===r},dt.isLazy=function(b){return w(b)===v},dt.isMemo=function(b){return w(b)===g},dt.isPortal=function(b){return w(b)===e},dt.isProfiler=function(b){return w(b)===i},dt.isStrictMode=function(b){return w(b)===n},dt.isSuspense=function(b){return w(b)===f},dt.isSuspenseList=function(b){return w(b)===h},dt.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===r||b===i||b===n||b===f||b===h||b===_||typeof b=="object"&&b!==null&&(b.$$typeof===v||b.$$typeof===g||b.$$typeof===a||b.$$typeof===s||b.$$typeof===c||b.$$typeof===E||b.getModuleId!==void 0)},dt.typeOf=w,dt}var lO;function Lz(){return lO||(lO=1,v0.exports=Mz()),v0.exports}var $z=Lz(),b0,uO;function NM(){if(uO)return b0;uO=1;var t=Ia(),e=Ca(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return b0=n,b0}var x0,cO;function Vz(){if(cO)return x0;cO=1;var t=NM();function e(r){return t(r)&&r!=+r}return x0=e,x0}var Fz=Vz();const ud=pt(Fz);var Uz=NM();const Bz=pt(Uz);var Wr=function(e){return e===0?0:e>0?1:-1},xs=function(e){return Ls(e)&&e.indexOf("%")===e.length-1},ve=function(e){return Bz(e)&&!ud(e)},qz=function(e){return et(e)},ir=function(e){return ve(e)||Ls(e)},zz=0,cd=function(e){var r=++zz;return"".concat(e||"").concat(r)},Hr=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ve(e)&&!Ls(e))return n;var a;if(xs(e)){var s=e.indexOf("%");a=r*parseFloat(e.slice(0,s))/100}else a=+e;return ud(a)&&(a=n),i&&a>r&&(a=r),a},mo=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},Wz=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},lo=function(e,r){return ve(e)&&ve(r)?function(n){return e+n*(r-e)}:function(){return r}};function K_(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):En(n,e))===r})}var Hz=function(e,r){return ve(e)&&ve(r)?e-r:Ls(e)&&Ls(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Jl(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function G_(t){"@babel/helpers - typeof";return G_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G_(t)}var Kz=["viewBox","children"],Gz=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],fO=["points","pathLength"],_0={svg:Kz,polygon:fO,polyline:fO},bS=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Op=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(z.isValidElement(e)&&(n=e.props),!$u(n))return null;var i={};return Object.keys(n).forEach(function(a){bS.includes(a)&&(i[a]=r||function(s){return n[a](n,s)})}),i},Yz=function(e,r,n){return function(i){return e(r,n,i),null}},$s=function(e,r,n){if(!$u(e)||G_(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];bS.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=Yz(s,r,n))}),i},Xz=["children"],Qz=["children"];function dO(t,e){if(t==null)return{};var r=Jz(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Jz(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var hO={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ba=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},pO=null,w0=null,xS=function t(e){if(e===pO&&Array.isArray(w0))return w0;var r=[];return z.Children.forEach(e,function(n){et(n)||($z.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),w0=r,pO=e,r};function qn(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return ba(i)}):n=[ba(e)],xS(t).forEach(function(i){var a=En(i,"type.displayName")||En(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function _n(t,e){var r=qn(t,e);return r&&r[0]}var mO=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!ve(n)||n<=0||!ve(i)||i<=0)},Zz=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],e8=function(e){return e&&e.type&&Ls(e.type)&&Zz.indexOf(e.type)>=0},t8=function(e,r,n,i){var a,s=(a=_0?.[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!ze(e)&&(i&&s.includes(r)||Gz.includes(r))||n&&bS.includes(r)},Be=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(z.isValidElement(e)&&(i=e.props),!$u(i))return null;var a={};return Object.keys(i).forEach(function(s){var u;t8((u=i)===null||u===void 0?void 0:u[s],s,r,n)&&(a[s]=i[s])}),a},Y_=function t(e,r){if(e===r)return!0;var n=z.Children.count(e);if(n!==z.Children.count(r))return!1;if(n===0)return!0;if(n===1)return gO(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],s=r[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!gO(a,s))return!1}return!0},gO=function(e,r){if(et(e)&&et(r))return!0;if(!et(e)&&!et(r)){var n=e.props||{},i=n.children,a=dO(n,Xz),s=r.props||{},u=s.children,c=dO(s,Qz);return i&&u?Jl(a,c)&&Y_(i,u):!i&&!u?Jl(a,c):!1}return!1},yO=function(e,r){var n=[],i={};return xS(e).forEach(function(a,s){if(e8(a))n.push(a);else if(a){var u=ba(a.type),c=r[u]||{},f=c.handler,h=c.once;if(f&&(!h||!i[u])){var g=f(a,u,s);n.push(g),i[u]=!0}}}),n},r8=function(e){var r=e&&e.type;return r&&hO[r]?hO[r]:null},n8=function(e,r){return xS(r).indexOf(e)},i8=["children","width","height","viewBox","className","style","title","desc"];function X_(){return X_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},X_.apply(this,arguments)}function a8(t,e){if(t==null)return{};var r=o8(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function o8(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Q_(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,s=t.style,u=t.title,c=t.desc,f=a8(t,i8),h=i||{width:r,height:n,x:0,y:0},g=Qe("recharts-surface",a);return H.createElement("svg",X_({},Be(f,!0,"svg"),{className:g,width:r,height:n,style:s,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),H.createElement("title",null,u),H.createElement("desc",null,c),e)}var s8=["children","className"];function J_(){return J_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},J_.apply(this,arguments)}function l8(t,e){if(t==null)return{};var r=u8(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function u8(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var gt=H.forwardRef(function(t,e){var r=t.children,n=t.className,i=l8(t,s8),a=Qe("recharts-layer",n);return H.createElement("g",J_({className:a},Be(i,!0),{ref:e}),r)}),pi=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]},S0,vO;function c8(){if(vO)return S0;vO=1;function t(e,r,n){var i=-1,a=e.length;r<0&&(r=-r>a?0:a+r),n=n>a?a:n,n<0&&(n+=a),a=r>n?0:n-r>>>0,r>>>=0;for(var s=Array(a);++i<a;)s[i]=e[i+r];return s}return S0=t,S0}var E0,bO;function f8(){if(bO)return E0;bO=1;var t=c8();function e(r,n,i){var a=r.length;return i=i===void 0?a:i,!n&&i>=a?r:t(r,n,i)}return E0=e,E0}var T0,xO;function jM(){if(xO)return T0;xO=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",s="\\u200d",u=RegExp("["+s+t+i+a+"]");function c(f){return u.test(f)}return T0=c,T0}var A0,_O;function d8(){if(_O)return A0;_O=1;function t(e){return e.split("")}return A0=t,A0}var P0,wO;function h8(){if(wO)return P0;wO=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",s="["+t+"]",u="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",f="(?:"+u+"|"+c+")",h="[^"+t+"]",g="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",_="\\u200d",E=f+"?",w="["+a+"]?",b="(?:"+_+"(?:"+[h,g,v].join("|")+")"+w+E+")*",P=w+E+b,j="(?:"+[h+u+"?",u,g,v,s].join("|")+")",R=RegExp(c+"(?="+c+")|"+j+P,"g");function V(O){return O.match(R)||[]}return P0=V,P0}var k0,SO;function p8(){if(SO)return k0;SO=1;var t=d8(),e=jM(),r=h8();function n(i){return e(i)?r(i):t(i)}return k0=n,k0}var O0,EO;function m8(){if(EO)return O0;EO=1;var t=f8(),e=jM(),r=p8(),n=OM();function i(a){return function(s){s=n(s);var u=e(s)?r(s):void 0,c=u?u[0]:s.charAt(0),f=u?t(u,1).join(""):s.slice(1);return c[a]()+f}}return O0=i,O0}var I0,TO;function g8(){if(TO)return I0;TO=1;var t=m8(),e=t("toUpperCase");return I0=e,I0}var y8=g8();const Ym=pt(y8);function Tt(t){return function(){return t}}const RM=Math.cos,Ip=Math.sin,yi=Math.sqrt,Cp=Math.PI,Xm=2*Cp,Z_=Math.PI,ew=2*Z_,ps=1e-6,v8=ew-ps;function DM(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function b8(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return DM;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class x8{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?DM:b8(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,s){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,u=this._y1,c=n-e,f=i-r,h=s-e,g=u-r,v=h*h+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(v>ps)if(!(Math.abs(g*c-f*h)>ps)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let _=n-s,E=i-u,w=c*c+f*f,b=_*_+E*E,P=Math.sqrt(w),j=Math.sqrt(v),R=a*Math.tan((Z_-Math.acos((w+v-b)/(2*P*j)))/2),V=R/j,O=R/P;Math.abs(V-1)>ps&&this._append`L${e+V*h},${r+V*g}`,this._append`A${a},${a},0,0,${+(g*_>h*E)},${this._x1=e+O*c},${this._y1=r+O*f}`}}arc(e,r,n,i,a,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(i),c=n*Math.sin(i),f=e+u,h=r+c,g=1^s,v=s?i-a:a-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>ps||Math.abs(this._y1-h)>ps)&&this._append`L${f},${h}`,n&&(v<0&&(v=v%ew+ew),v>v8?this._append`A${n},${n},0,1,${g},${e-u},${r-c}A${n},${n},0,1,${g},${this._x1=f},${this._y1=h}`:v>ps&&this._append`A${n},${n},0,${+(v>=Z_)},${g},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function _S(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new x8(e)}function wS(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function MM(t){this._context=t}MM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Qm(t){return new MM(t)}function LM(t){return t[0]}function $M(t){return t[1]}function VM(t,e){var r=Tt(!0),n=null,i=Qm,a=null,s=_S(u);t=typeof t=="function"?t:t===void 0?LM:Tt(t),e=typeof e=="function"?e:e===void 0?$M:Tt(e);function u(c){var f,h=(c=wS(c)).length,g,v=!1,_;for(n==null&&(a=i(_=s())),f=0;f<=h;++f)!(f<h&&r(g=c[f],f,c))===v&&((v=!v)?a.lineStart():a.lineEnd()),v&&a.point(+t(g,f,c),+e(g,f,c));if(_)return a=null,_+""||null}return u.x=function(c){return arguments.length?(t=typeof c=="function"?c:Tt(+c),u):t},u.y=function(c){return arguments.length?(e=typeof c=="function"?c:Tt(+c),u):e},u.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Tt(!!c),u):r},u.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),u):i},u.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),u):n},u}function Mh(t,e,r){var n=null,i=Tt(!0),a=null,s=Qm,u=null,c=_S(f);t=typeof t=="function"?t:t===void 0?LM:Tt(+t),e=typeof e=="function"?e:Tt(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?$M:Tt(+r);function f(g){var v,_,E,w=(g=wS(g)).length,b,P=!1,j,R=new Array(w),V=new Array(w);for(a==null&&(u=s(j=c())),v=0;v<=w;++v){if(!(v<w&&i(b=g[v],v,g))===P)if(P=!P)_=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),E=v-1;E>=_;--E)u.point(R[E],V[E]);u.lineEnd(),u.areaEnd()}P&&(R[v]=+t(b,v,g),V[v]=+e(b,v,g),u.point(n?+n(b,v,g):R[v],r?+r(b,v,g):V[v]))}if(j)return u=null,j+""||null}function h(){return VM().defined(i).curve(s).context(a)}return f.x=function(g){return arguments.length?(t=typeof g=="function"?g:Tt(+g),n=null,f):t},f.x0=function(g){return arguments.length?(t=typeof g=="function"?g:Tt(+g),f):t},f.x1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:Tt(+g),f):n},f.y=function(g){return arguments.length?(e=typeof g=="function"?g:Tt(+g),r=null,f):e},f.y0=function(g){return arguments.length?(e=typeof g=="function"?g:Tt(+g),f):e},f.y1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:Tt(+g),f):r},f.lineX0=f.lineY0=function(){return h().x(t).y(e)},f.lineY1=function(){return h().x(t).y(r)},f.lineX1=function(){return h().x(n).y(e)},f.defined=function(g){return arguments.length?(i=typeof g=="function"?g:Tt(!!g),f):i},f.curve=function(g){return arguments.length?(s=g,a!=null&&(u=s(a)),f):s},f.context=function(g){return arguments.length?(g==null?a=u=null:u=s(a=g),f):a},f}class FM{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function _8(t){return new FM(t,!0)}function w8(t){return new FM(t,!1)}const SS={draw(t,e){const r=yi(e/Cp);t.moveTo(r,0),t.arc(0,0,r,0,Xm)}},S8={draw(t,e){const r=yi(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},UM=yi(1/3),E8=UM*2,T8={draw(t,e){const r=yi(e/E8),n=r*UM;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},A8={draw(t,e){const r=yi(e),n=-r/2;t.rect(n,n,r,r)}},P8=.8908130915292852,BM=Ip(Cp/10)/Ip(7*Cp/10),k8=Ip(Xm/10)*BM,O8=-RM(Xm/10)*BM,I8={draw(t,e){const r=yi(e*P8),n=k8*r,i=O8*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const s=Xm*a/5,u=RM(s),c=Ip(s);t.lineTo(c*r,-u*r),t.lineTo(u*n-c*i,c*n+u*i)}t.closePath()}},C0=yi(3),C8={draw(t,e){const r=-yi(e/(C0*3));t.moveTo(0,r*2),t.lineTo(-C0*r,-r),t.lineTo(C0*r,-r),t.closePath()}},Ln=-.5,$n=yi(3)/2,tw=1/yi(12),N8=(tw/2+1)*3,j8={draw(t,e){const r=yi(e/N8),n=r/2,i=r*tw,a=n,s=r*tw+r,u=-a,c=s;t.moveTo(n,i),t.lineTo(a,s),t.lineTo(u,c),t.lineTo(Ln*n-$n*i,$n*n+Ln*i),t.lineTo(Ln*a-$n*s,$n*a+Ln*s),t.lineTo(Ln*u-$n*c,$n*u+Ln*c),t.lineTo(Ln*n+$n*i,Ln*i-$n*n),t.lineTo(Ln*a+$n*s,Ln*s-$n*a),t.lineTo(Ln*u+$n*c,Ln*c-$n*u),t.closePath()}};function R8(t,e){let r=null,n=_S(i);t=typeof t=="function"?t:Tt(t||SS),e=typeof e=="function"?e:Tt(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Tt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Tt(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Np(){}function jp(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function qM(t){this._context=t}qM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:jp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:jp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function D8(t){return new qM(t)}function zM(t){this._context=t}zM.prototype={areaStart:Np,areaEnd:Np,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:jp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function M8(t){return new zM(t)}function WM(t){this._context=t}WM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:jp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function L8(t){return new WM(t)}function HM(t){this._context=t}HM.prototype={areaStart:Np,areaEnd:Np,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function $8(t){return new HM(t)}function AO(t){return t<0?-1:1}function PO(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),s=(r-t._y1)/(i||n<0&&-0),u=(a*i+s*n)/(n+i);return(AO(a)+AO(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(u))||0}function kO(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function N0(t,e,r){var n=t._x0,i=t._y0,a=t._x1,s=t._y1,u=(a-n)/3;t._context.bezierCurveTo(n+u,i+u*e,a-u,s-u*r,a,s)}function Rp(t){this._context=t}Rp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:N0(this,this._t0,kO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,N0(this,kO(this,r=PO(this,t,e)),r);break;default:N0(this,this._t0,r=PO(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function KM(t){this._context=new GM(t)}(KM.prototype=Object.create(Rp.prototype)).point=function(t,e){Rp.prototype.point.call(this,e,t)};function GM(t){this._context=t}GM.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function V8(t){return new Rp(t)}function F8(t){return new KM(t)}function YM(t){this._context=t}YM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=OO(t),i=OO(e),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function OO(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,s[e]-=n*s[e-1];for(i[r-1]=s[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function U8(t){return new YM(t)}function Jm(t,e){this._context=t,this._t=e}Jm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function B8(t){return new Jm(t,.5)}function q8(t){return new Jm(t,0)}function z8(t){return new Jm(t,1)}function lu(t,e){if((s=t.length)>1)for(var r=1,n,i,a=t[e[0]],s,u=a.length;r<s;++r)for(i=a,a=t[e[r]],n=0;n<u;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function rw(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function W8(t,e){return t[e]}function H8(t){const e=[];return e.key=t,e}function K8(){var t=Tt([]),e=rw,r=lu,n=W8;function i(a){var s=Array.from(t.apply(this,arguments),H8),u,c=s.length,f=-1,h;for(const g of a)for(u=0,++f;u<c;++u)(s[u][f]=[0,+n(g,s[u].key,f,a)]).data=g;for(u=0,h=wS(e(s));u<c;++u)s[h[u]].index=u;return r(s,h),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Tt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Tt(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?rw:typeof a=="function"?a:Tt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??lu,i):r},i}function G8(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=t[r][i][1]||0;if(s)for(r=0;r<n;++r)t[r][i][1]/=s}lu(t,e)}}function Y8(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var s=0,u=0;s<i;++s)u+=t[s][r][1]||0;n[r][1]+=n[r][0]=-u/2}lu(t,e)}}function X8(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var u=0,c=0,f=0;u<s;++u){for(var h=t[e[u]],g=h[n][1]||0,v=h[n-1][1]||0,_=(g-v)/2,E=0;E<u;++E){var w=t[e[E]],b=w[n][1]||0,P=w[n-1][1]||0;_+=b-P}c+=g,f+=_*g}i[n-1][1]+=i[n-1][0]=r,c&&(r-=f/c)}i[n-1][1]+=i[n-1][0]=r,lu(t,e)}}function ff(t){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ff(t)}var Q8=["type","size","sizeType"];function nw(){return nw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nw.apply(this,arguments)}function IO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function CO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IO(Object(r),!0).forEach(function(n){J8(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function J8(t,e,r){return e=Z8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Z8(t){var e=e7(t,"string");return ff(e)=="symbol"?e:e+""}function e7(t,e){if(ff(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ff(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function t7(t,e){if(t==null)return{};var r=r7(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function r7(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var XM={symbolCircle:SS,symbolCross:S8,symbolDiamond:T8,symbolSquare:A8,symbolStar:I8,symbolTriangle:C8,symbolWye:j8},n7=Math.PI/180,i7=function(e){var r="symbol".concat(Ym(e));return XM[r]||SS},a7=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*n7;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},o7=function(e,r){XM["symbol".concat(Ym(e))]=r},ES=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,s=e.sizeType,u=s===void 0?"area":s,c=t7(e,Q8),f=CO(CO({},c),{},{type:n,size:a,sizeType:u}),h=function(){var b=i7(n),P=R8().type(b).size(a7(a,u,n));return P()},g=f.className,v=f.cx,_=f.cy,E=Be(f,!0);return v===+v&&_===+_&&a===+a?H.createElement("path",nw({},E,{className:Qe("recharts-symbols",g),transform:"translate(".concat(v,", ").concat(_,")"),d:h()})):null};ES.registerSymbol=o7;function uu(t){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uu(t)}function iw(){return iw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},iw.apply(this,arguments)}function NO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function s7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NO(Object(r),!0).forEach(function(n){df(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function l7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u7(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,JM(n.key),n)}}function c7(t,e,r){return e&&u7(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function f7(t,e,r){return e=Dp(e),d7(t,QM()?Reflect.construct(e,r||[],Dp(t).constructor):e.apply(t,r))}function d7(t,e){if(e&&(uu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h7(t)}function h7(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QM=function(){return!!t})()}function Dp(t){return Dp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dp(t)}function p7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aw(t,e)}function aw(t,e){return aw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},aw(t,e)}function df(t,e,r){return e=JM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JM(t){var e=m7(t,"string");return uu(e)=="symbol"?e:e+""}function m7(t,e){if(uu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vn=32,TS=function(t){function e(){return l7(this,e),f7(this,e,arguments)}return p7(e,t),c7(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=Vn/2,s=Vn/6,u=Vn/3,c=n.inactive?i:n.color;if(n.type==="plainline")return H.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:Vn,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return H.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(u,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*u,",").concat(a,`
            H`).concat(Vn,"M").concat(2*u,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(u,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return H.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Vn/8,"h").concat(Vn,"v").concat(Vn*3/4,"h").concat(-Vn,"z"),className:"recharts-legend-icon"});if(H.isValidElement(n.legendIcon)){var f=s7({},n);return delete f.legendIcon,H.cloneElement(n.legendIcon,f)}return H.createElement(ES,{fill:c,cx:a,cy:a,size:Vn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,s=i.iconSize,u=i.layout,c=i.formatter,f=i.inactiveColor,h={x:0,y:0,width:Vn,height:Vn},g={display:u==="horizontal"?"inline-block":"block",marginRight:10},v={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(_,E){var w=_.formatter||c,b=Qe(df(df({"recharts-legend-item":!0},"legend-item-".concat(E),!0),"inactive",_.inactive));if(_.type==="none")return null;var P=ze(_.value)?null:_.value;pi(!ze(_.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var j=_.inactive?f:_.color;return H.createElement("li",iw({className:b,style:g,key:"legend-item-".concat(E)},$s(n.props,_,E)),H.createElement(Q_,{width:s,height:s,viewBox:h,style:v},n.renderIcon(_)),H.createElement("span",{className:"recharts-legend-item-text",style:{color:j}},w?w(P,_,E):P))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,s=n.align;if(!i||!i.length)return null;var u={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return H.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])}(z.PureComponent);df(TS,"displayName","Legend");df(TS,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var j0,jO;function g7(){if(jO)return j0;jO=1;var t=Hm();function e(){this.__data__=new t,this.size=0}return j0=e,j0}var R0,RO;function y7(){if(RO)return R0;RO=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return R0=t,R0}var D0,DO;function v7(){if(DO)return D0;DO=1;function t(e){return this.__data__.get(e)}return D0=t,D0}var M0,MO;function b7(){if(MO)return M0;MO=1;function t(e){return this.__data__.has(e)}return M0=t,M0}var L0,LO;function x7(){if(LO)return L0;LO=1;var t=Hm(),e=mS(),r=gS(),n=200;function i(a,s){var u=this.__data__;if(u instanceof t){var c=u.__data__;if(!e||c.length<n-1)return c.push([a,s]),this.size=++u.size,this;u=this.__data__=new r(c)}return u.set(a,s),this.size=u.size,this}return L0=i,L0}var $0,$O;function ZM(){if($O)return $0;$O=1;var t=Hm(),e=g7(),r=y7(),n=v7(),i=b7(),a=x7();function s(u){var c=this.__data__=new t(u);this.size=c.size}return s.prototype.clear=e,s.prototype.delete=r,s.prototype.get=n,s.prototype.has=i,s.prototype.set=a,$0=s,$0}var V0,VO;function _7(){if(VO)return V0;VO=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return V0=e,V0}var F0,FO;function w7(){if(FO)return F0;FO=1;function t(e){return this.__data__.has(e)}return F0=t,F0}var U0,UO;function eL(){if(UO)return U0;UO=1;var t=gS(),e=_7(),r=w7();function n(i){var a=-1,s=i==null?0:i.length;for(this.__data__=new t;++a<s;)this.add(i[a])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,U0=n,U0}var B0,BO;function tL(){if(BO)return B0;BO=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return B0=t,B0}var q0,qO;function rL(){if(qO)return q0;qO=1;function t(e,r){return e.has(r)}return q0=t,q0}var z0,zO;function nL(){if(zO)return z0;zO=1;var t=eL(),e=tL(),r=rL(),n=1,i=2;function a(s,u,c,f,h,g){var v=c&n,_=s.length,E=u.length;if(_!=E&&!(v&&E>_))return!1;var w=g.get(s),b=g.get(u);if(w&&b)return w==u&&b==s;var P=-1,j=!0,R=c&i?new t:void 0;for(g.set(s,u),g.set(u,s);++P<_;){var V=s[P],O=u[P];if(f)var N=v?f(O,V,P,u,s,g):f(V,O,P,s,u,g);if(N!==void 0){if(N)continue;j=!1;break}if(R){if(!e(u,function(A,k){if(!r(R,k)&&(V===A||h(V,A,c,f,g)))return R.push(k)})){j=!1;break}}else if(!(V===O||h(V,O,c,f,g))){j=!1;break}}return g.delete(s),g.delete(u),j}return z0=a,z0}var W0,WO;function S7(){if(WO)return W0;WO=1;var t=zi(),e=t.Uint8Array;return W0=e,W0}var H0,HO;function E7(){if(HO)return H0;HO=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,a){n[++r]=[a,i]}),n}return H0=t,H0}var K0,KO;function AS(){if(KO)return K0;KO=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return K0=t,K0}var G0,GO;function T7(){if(GO)return G0;GO=1;var t=ld(),e=S7(),r=pS(),n=nL(),i=E7(),a=AS(),s=1,u=2,c="[object Boolean]",f="[object Date]",h="[object Error]",g="[object Map]",v="[object Number]",_="[object RegExp]",E="[object Set]",w="[object String]",b="[object Symbol]",P="[object ArrayBuffer]",j="[object DataView]",R=t?t.prototype:void 0,V=R?R.valueOf:void 0;function O(N,A,k,D,I,M,F){switch(k){case j:if(N.byteLength!=A.byteLength||N.byteOffset!=A.byteOffset)return!1;N=N.buffer,A=A.buffer;case P:return!(N.byteLength!=A.byteLength||!M(new e(N),new e(A)));case c:case f:case v:return r(+N,+A);case h:return N.name==A.name&&N.message==A.message;case _:case w:return N==A+"";case g:var L=i;case E:var te=D&s;if(L||(L=a),N.size!=A.size&&!te)return!1;var re=F.get(N);if(re)return re==A;D|=u,F.set(N,A);var X=n(L(N),L(A),D,I,M,F);return F.delete(N),X;case b:if(V)return V.call(N)==V.call(A)}return!1}return G0=O,G0}var Y0,YO;function iL(){if(YO)return Y0;YO=1;function t(e,r){for(var n=-1,i=r.length,a=e.length;++n<i;)e[a+n]=r[n];return e}return Y0=t,Y0}var X0,XO;function A7(){if(XO)return X0;XO=1;var t=iL(),e=un();function r(n,i,a){var s=i(n);return e(n)?s:t(s,a(n))}return X0=r,X0}var Q0,QO;function P7(){if(QO)return Q0;QO=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=0,s=[];++n<i;){var u=e[n];r(u,n,e)&&(s[a++]=u)}return s}return Q0=t,Q0}var J0,JO;function k7(){if(JO)return J0;JO=1;function t(){return[]}return J0=t,J0}var Z0,ZO;function O7(){if(ZO)return Z0;ZO=1;var t=P7(),e=k7(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(s){return s==null?[]:(s=Object(s),t(i(s),function(u){return n.call(s,u)}))}:e;return Z0=a,Z0}var eb,eI;function I7(){if(eI)return eb;eI=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return eb=t,eb}var tb,tI;function C7(){if(tI)return tb;tI=1;var t=Ia(),e=Ca(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return tb=n,tb}var rb,rI;function PS(){if(rI)return rb;rI=1;var t=C7(),e=Ca(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,a=t(function(){return arguments}())?t:function(s){return e(s)&&n.call(s,"callee")&&!i.call(s,"callee")};return rb=a,rb}var Uc={exports:{}},nb,nI;function N7(){if(nI)return nb;nI=1;function t(){return!1}return nb=t,nb}Uc.exports;var iI;function aL(){return iI||(iI=1,function(t,e){var r=zi(),n=N7(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,u=s?r.Buffer:void 0,c=u?u.isBuffer:void 0,f=c||n;t.exports=f}(Uc,Uc.exports)),Uc.exports}var ib,aI;function kS(){if(aI)return ib;aI=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var a=typeof n;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return ib=r,ib}var ab,oI;function OS(){if(oI)return ab;oI=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return ab=e,ab}var ob,sI;function j7(){if(sI)return ob;sI=1;var t=Ia(),e=OS(),r=Ca(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",s="[object Date]",u="[object Error]",c="[object Function]",f="[object Map]",h="[object Number]",g="[object Object]",v="[object RegExp]",_="[object Set]",E="[object String]",w="[object WeakMap]",b="[object ArrayBuffer]",P="[object DataView]",j="[object Float32Array]",R="[object Float64Array]",V="[object Int8Array]",O="[object Int16Array]",N="[object Int32Array]",A="[object Uint8Array]",k="[object Uint8ClampedArray]",D="[object Uint16Array]",I="[object Uint32Array]",M={};M[j]=M[R]=M[V]=M[O]=M[N]=M[A]=M[k]=M[D]=M[I]=!0,M[n]=M[i]=M[b]=M[a]=M[P]=M[s]=M[u]=M[c]=M[f]=M[h]=M[g]=M[v]=M[_]=M[E]=M[w]=!1;function F(L){return r(L)&&e(L.length)&&!!M[t(L)]}return ob=F,ob}var sb,lI;function oL(){if(lI)return sb;lI=1;function t(e){return function(r){return e(r)}}return sb=t,sb}var Bc={exports:{}};Bc.exports;var uI;function R7(){return uI||(uI=1,function(t,e){var r=AM(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,s=a&&r.process,u=function(){try{var c=i&&i.require&&i.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();t.exports=u}(Bc,Bc.exports)),Bc.exports}var lb,cI;function sL(){if(cI)return lb;cI=1;var t=j7(),e=oL(),r=R7(),n=r&&r.isTypedArray,i=n?e(n):t;return lb=i,lb}var ub,fI;function D7(){if(fI)return ub;fI=1;var t=I7(),e=PS(),r=un(),n=aL(),i=kS(),a=sL(),s=Object.prototype,u=s.hasOwnProperty;function c(f,h){var g=r(f),v=!g&&e(f),_=!g&&!v&&n(f),E=!g&&!v&&!_&&a(f),w=g||v||_||E,b=w?t(f.length,String):[],P=b.length;for(var j in f)(h||u.call(f,j))&&!(w&&(j=="length"||_&&(j=="offset"||j=="parent")||E&&(j=="buffer"||j=="byteLength"||j=="byteOffset")||i(j,P)))&&b.push(j);return b}return ub=c,ub}var cb,dI;function M7(){if(dI)return cb;dI=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return cb=e,cb}var fb,hI;function lL(){if(hI)return fb;hI=1;function t(e,r){return function(n){return e(r(n))}}return fb=t,fb}var db,pI;function L7(){if(pI)return db;pI=1;var t=lL(),e=t(Object.keys,Object);return db=e,db}var hb,mI;function $7(){if(mI)return hb;mI=1;var t=M7(),e=L7(),r=Object.prototype,n=r.hasOwnProperty;function i(a){if(!t(a))return e(a);var s=[];for(var u in Object(a))n.call(a,u)&&u!="constructor"&&s.push(u);return s}return hb=i,hb}var pb,gI;function fd(){if(gI)return pb;gI=1;var t=hS(),e=OS();function r(n){return n!=null&&e(n.length)&&!t(n)}return pb=r,pb}var mb,yI;function Zm(){if(yI)return mb;yI=1;var t=D7(),e=$7(),r=fd();function n(i){return r(i)?t(i):e(i)}return mb=n,mb}var gb,vI;function V7(){if(vI)return gb;vI=1;var t=A7(),e=O7(),r=Zm();function n(i){return t(i,r,e)}return gb=n,gb}var yb,bI;function F7(){if(bI)return yb;bI=1;var t=V7(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(a,s,u,c,f,h){var g=u&e,v=t(a),_=v.length,E=t(s),w=E.length;if(_!=w&&!g)return!1;for(var b=_;b--;){var P=v[b];if(!(g?P in s:n.call(s,P)))return!1}var j=h.get(a),R=h.get(s);if(j&&R)return j==s&&R==a;var V=!0;h.set(a,s),h.set(s,a);for(var O=g;++b<_;){P=v[b];var N=a[P],A=s[P];if(c)var k=g?c(A,N,P,s,a,h):c(N,A,P,a,s,h);if(!(k===void 0?N===A||f(N,A,u,c,h):k)){V=!1;break}O||(O=P=="constructor")}if(V&&!O){var D=a.constructor,I=s.constructor;D!=I&&"constructor"in a&&"constructor"in s&&!(typeof D=="function"&&D instanceof D&&typeof I=="function"&&I instanceof I)&&(V=!1)}return h.delete(a),h.delete(s),V}return yb=i,yb}var vb,xI;function U7(){if(xI)return vb;xI=1;var t=Ks(),e=zi(),r=t(e,"DataView");return vb=r,vb}var bb,_I;function B7(){if(_I)return bb;_I=1;var t=Ks(),e=zi(),r=t(e,"Promise");return bb=r,bb}var xb,wI;function uL(){if(wI)return xb;wI=1;var t=Ks(),e=zi(),r=t(e,"Set");return xb=r,xb}var _b,SI;function q7(){if(SI)return _b;SI=1;var t=Ks(),e=zi(),r=t(e,"WeakMap");return _b=r,_b}var wb,EI;function z7(){if(EI)return wb;EI=1;var t=U7(),e=mS(),r=B7(),n=uL(),i=q7(),a=Ia(),s=PM(),u="[object Map]",c="[object Object]",f="[object Promise]",h="[object Set]",g="[object WeakMap]",v="[object DataView]",_=s(t),E=s(e),w=s(r),b=s(n),P=s(i),j=a;return(t&&j(new t(new ArrayBuffer(1)))!=v||e&&j(new e)!=u||r&&j(r.resolve())!=f||n&&j(new n)!=h||i&&j(new i)!=g)&&(j=function(R){var V=a(R),O=V==c?R.constructor:void 0,N=O?s(O):"";if(N)switch(N){case _:return v;case E:return u;case w:return f;case b:return h;case P:return g}return V}),wb=j,wb}var Sb,TI;function W7(){if(TI)return Sb;TI=1;var t=ZM(),e=nL(),r=T7(),n=F7(),i=z7(),a=un(),s=aL(),u=sL(),c=1,f="[object Arguments]",h="[object Array]",g="[object Object]",v=Object.prototype,_=v.hasOwnProperty;function E(w,b,P,j,R,V){var O=a(w),N=a(b),A=O?h:i(w),k=N?h:i(b);A=A==f?g:A,k=k==f?g:k;var D=A==g,I=k==g,M=A==k;if(M&&s(w)){if(!s(b))return!1;O=!0,D=!1}if(M&&!D)return V||(V=new t),O||u(w)?e(w,b,P,j,R,V):r(w,b,A,P,j,R,V);if(!(P&c)){var F=D&&_.call(w,"__wrapped__"),L=I&&_.call(b,"__wrapped__");if(F||L){var te=F?w.value():w,re=L?b.value():b;return V||(V=new t),R(te,re,P,j,V)}}return M?(V||(V=new t),n(w,b,P,j,R,V)):!1}return Sb=E,Sb}var Eb,AI;function IS(){if(AI)return Eb;AI=1;var t=W7(),e=Ca();function r(n,i,a,s,u){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,a,s,r,u)}return Eb=r,Eb}var Tb,PI;function H7(){if(PI)return Tb;PI=1;var t=ZM(),e=IS(),r=1,n=2;function i(a,s,u,c){var f=u.length,h=f,g=!c;if(a==null)return!h;for(a=Object(a);f--;){var v=u[f];if(g&&v[2]?v[1]!==a[v[0]]:!(v[0]in a))return!1}for(;++f<h;){v=u[f];var _=v[0],E=a[_],w=v[1];if(g&&v[2]){if(E===void 0&&!(_ in a))return!1}else{var b=new t;if(c)var P=c(E,w,_,a,s,b);if(!(P===void 0?e(w,E,r|n,c,b):P))return!1}}return!0}return Tb=i,Tb}var Ab,kI;function cL(){if(kI)return Ab;kI=1;var t=No();function e(r){return r===r&&!t(r)}return Ab=e,Ab}var Pb,OI;function K7(){if(OI)return Pb;OI=1;var t=cL(),e=Zm();function r(n){for(var i=e(n),a=i.length;a--;){var s=i[a],u=n[s];i[a]=[s,u,t(u)]}return i}return Pb=r,Pb}var kb,II;function fL(){if(II)return kb;II=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return kb=t,kb}var Ob,CI;function G7(){if(CI)return Ob;CI=1;var t=H7(),e=K7(),r=fL();function n(i){var a=e(i);return a.length==1&&a[0][2]?r(a[0][0],a[0][1]):function(s){return s===i||t(s,i,a)}}return Ob=n,Ob}var Ib,NI;function Y7(){if(NI)return Ib;NI=1;function t(e,r){return e!=null&&r in Object(e)}return Ib=t,Ib}var Cb,jI;function X7(){if(jI)return Cb;jI=1;var t=IM(),e=PS(),r=un(),n=kS(),i=OS(),a=Gm();function s(u,c,f){c=t(c,u);for(var h=-1,g=c.length,v=!1;++h<g;){var _=a(c[h]);if(!(v=u!=null&&f(u,_)))break;u=u[_]}return v||++h!=g?v:(g=u==null?0:u.length,!!g&&i(g)&&n(_,g)&&(r(u)||e(u)))}return Cb=s,Cb}var Nb,RI;function Q7(){if(RI)return Nb;RI=1;var t=Y7(),e=X7();function r(n,i){return n!=null&&e(n,i,t)}return Nb=r,Nb}var jb,DI;function J7(){if(DI)return jb;DI=1;var t=IS(),e=CM(),r=Q7(),n=dS(),i=cL(),a=fL(),s=Gm(),u=1,c=2;function f(h,g){return n(h)&&i(g)?a(s(h),g):function(v){var _=e(v,h);return _===void 0&&_===g?r(v,h):t(g,_,u|c)}}return jb=f,jb}var Rb,MI;function Vu(){if(MI)return Rb;MI=1;function t(e){return e}return Rb=t,Rb}var Db,LI;function Z7(){if(LI)return Db;LI=1;function t(e){return function(r){return r?.[e]}}return Db=t,Db}var Mb,$I;function eW(){if($I)return Mb;$I=1;var t=vS();function e(r){return function(n){return t(n,r)}}return Mb=e,Mb}var Lb,VI;function tW(){if(VI)return Lb;VI=1;var t=Z7(),e=eW(),r=dS(),n=Gm();function i(a){return r(a)?t(n(a)):e(a)}return Lb=i,Lb}var $b,FI;function Wi(){if(FI)return $b;FI=1;var t=G7(),e=J7(),r=Vu(),n=un(),i=tW();function a(s){return typeof s=="function"?s:s==null?r:typeof s=="object"?n(s)?e(s[0],s[1]):t(s):i(s)}return $b=a,$b}var Vb,UI;function dL(){if(UI)return Vb;UI=1;function t(e,r,n,i){for(var a=e.length,s=n+(i?1:-1);i?s--:++s<a;)if(r(e[s],s,e))return s;return-1}return Vb=t,Vb}var Fb,BI;function rW(){if(BI)return Fb;BI=1;function t(e){return e!==e}return Fb=t,Fb}var Ub,qI;function nW(){if(qI)return Ub;qI=1;function t(e,r,n){for(var i=n-1,a=e.length;++i<a;)if(e[i]===r)return i;return-1}return Ub=t,Ub}var Bb,zI;function iW(){if(zI)return Bb;zI=1;var t=dL(),e=rW(),r=nW();function n(i,a,s){return a===a?r(i,a,s):t(i,e,s)}return Bb=n,Bb}var qb,WI;function aW(){if(WI)return qb;WI=1;var t=iW();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return qb=e,qb}var zb,HI;function oW(){if(HI)return zb;HI=1;function t(e,r,n){for(var i=-1,a=e==null?0:e.length;++i<a;)if(n(r,e[i]))return!0;return!1}return zb=t,zb}var Wb,KI;function sW(){if(KI)return Wb;KI=1;function t(){}return Wb=t,Wb}var Hb,GI;function lW(){if(GI)return Hb;GI=1;var t=uL(),e=sW(),r=AS(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(a){return new t(a)}:e;return Hb=i,Hb}var Kb,YI;function uW(){if(YI)return Kb;YI=1;var t=eL(),e=aW(),r=oW(),n=rL(),i=lW(),a=AS(),s=200;function u(c,f,h){var g=-1,v=e,_=c.length,E=!0,w=[],b=w;if(h)E=!1,v=r;else if(_>=s){var P=f?null:i(c);if(P)return a(P);E=!1,v=n,b=new t}else b=f?[]:w;e:for(;++g<_;){var j=c[g],R=f?f(j):j;if(j=h||j!==0?j:0,E&&R===R){for(var V=b.length;V--;)if(b[V]===R)continue e;f&&b.push(R),w.push(j)}else v(b,R,h)||(b!==w&&b.push(R),w.push(j))}return w}return Kb=u,Kb}var Gb,XI;function cW(){if(XI)return Gb;XI=1;var t=Wi(),e=uW();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return Gb=r,Gb}var fW=cW();const QI=pt(fW);function hL(t,e,r){return e===!0?QI(t,r):ze(e)?QI(t,e):t}function cu(t){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cu(t)}var dW=["ref"];function JI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ua(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JI(Object(r),!0).forEach(function(n){eg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mL(n.key),n)}}function pW(t,e,r){return e&&ZI(t.prototype,e),r&&ZI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function mW(t,e,r){return e=Mp(e),gW(t,pL()?Reflect.construct(e,r||[],Mp(t).constructor):e.apply(t,r))}function gW(t,e){if(e&&(cu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yW(t)}function yW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pL=function(){return!!t})()}function Mp(t){return Mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mp(t)}function vW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ow(t,e)}function ow(t,e){return ow=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ow(t,e)}function eg(t,e,r){return e=mL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mL(t){var e=bW(t,"string");return cu(e)=="symbol"?e:e+""}function bW(t,e){if(cu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function xW(t,e){if(t==null)return{};var r=_W(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _W(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function wW(t){return t.value}function SW(t,e){if(H.isValidElement(t))return H.cloneElement(t,e);if(typeof t=="function")return H.createElement(t,e);e.ref;var r=xW(e,dW);return H.createElement(TS,r)}var eC=1,As=function(t){function e(){var r;hW(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=mW(this,e,[].concat(i)),eg(r,"lastBoundingBox",{width:-1,height:-1}),r}return vW(e,t),pW(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>eC||Math.abs(i.height-this.lastBoundingBox.height)>eC)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ua({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,s=i.align,u=i.verticalAlign,c=i.margin,f=i.chartWidth,h=i.chartHeight,g,v;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&a==="vertical"){var _=this.getBBoxSnapshot();g={left:((f||0)-_.width)/2}}else g=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(u==="middle"){var E=this.getBBoxSnapshot();v={top:((h||0)-E.height)/2}}else v=u==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return ua(ua({},g),v)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,s=i.width,u=i.height,c=i.wrapperStyle,f=i.payloadUniqBy,h=i.payload,g=ua(ua({position:"absolute",width:s||"auto",height:u||"auto"},this.getDefaultPosition(c)),c);return H.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:function(_){n.wrapperNode=_}},SW(a,ua(ua({},this.props),{},{payload:hL(h,f,wW)})))}}],[{key:"getWithHeight",value:function(n,i){var a=ua(ua({},this.defaultProps),n.props),s=a.layout;return s==="vertical"&&ve(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||i}:null}}])}(z.PureComponent);eg(As,"displayName","Legend");eg(As,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Yb,tC;function EW(){if(tC)return Yb;tC=1;var t=ld(),e=PS(),r=un(),n=t?t.isConcatSpreadable:void 0;function i(a){return r(a)||e(a)||!!(n&&a&&a[n])}return Yb=i,Yb}var Xb,rC;function gL(){if(rC)return Xb;rC=1;var t=iL(),e=EW();function r(n,i,a,s,u){var c=-1,f=n.length;for(a||(a=e),u||(u=[]);++c<f;){var h=n[c];i>0&&a(h)?i>1?r(h,i-1,a,s,u):t(u,h):s||(u[u.length]=h)}return u}return Xb=r,Xb}var Qb,nC;function TW(){if(nC)return Qb;nC=1;function t(e){return function(r,n,i){for(var a=-1,s=Object(r),u=i(r),c=u.length;c--;){var f=u[e?c:++a];if(n(s[f],f,s)===!1)break}return r}}return Qb=t,Qb}var Jb,iC;function AW(){if(iC)return Jb;iC=1;var t=TW(),e=t();return Jb=e,Jb}var Zb,aC;function yL(){if(aC)return Zb;aC=1;var t=AW(),e=Zm();function r(n,i){return n&&t(n,i,e)}return Zb=r,Zb}var ex,oC;function PW(){if(oC)return ex;oC=1;var t=fd();function e(r,n){return function(i,a){if(i==null)return i;if(!t(i))return r(i,a);for(var s=i.length,u=n?s:-1,c=Object(i);(n?u--:++u<s)&&a(c[u],u,c)!==!1;);return i}}return ex=e,ex}var tx,sC;function CS(){if(sC)return tx;sC=1;var t=yL(),e=PW(),r=e(t);return tx=r,tx}var rx,lC;function vL(){if(lC)return rx;lC=1;var t=CS(),e=fd();function r(n,i){var a=-1,s=e(n)?Array(n.length):[];return t(n,function(u,c,f){s[++a]=i(u,c,f)}),s}return rx=r,rx}var nx,uC;function kW(){if(uC)return nx;uC=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return nx=t,nx}var ix,cC;function OW(){if(cC)return ix;cC=1;var t=Lu();function e(r,n){if(r!==n){var i=r!==void 0,a=r===null,s=r===r,u=t(r),c=n!==void 0,f=n===null,h=n===n,g=t(n);if(!f&&!g&&!u&&r>n||u&&c&&h&&!f&&!g||a&&c&&h||!i&&h||!s)return 1;if(!a&&!u&&!g&&r<n||g&&i&&s&&!a&&!u||f&&i&&s||!c&&s||!h)return-1}return 0}return ix=e,ix}var ax,fC;function IW(){if(fC)return ax;fC=1;var t=OW();function e(r,n,i){for(var a=-1,s=r.criteria,u=n.criteria,c=s.length,f=i.length;++a<c;){var h=t(s[a],u[a]);if(h){if(a>=f)return h;var g=i[a];return h*(g=="desc"?-1:1)}}return r.index-n.index}return ax=e,ax}var ox,dC;function CW(){if(dC)return ox;dC=1;var t=yS(),e=vS(),r=Wi(),n=vL(),i=kW(),a=oL(),s=IW(),u=Vu(),c=un();function f(h,g,v){g.length?g=t(g,function(w){return c(w)?function(b){return e(b,w.length===1?w[0]:w)}:w}):g=[u];var _=-1;g=t(g,a(r));var E=n(h,function(w,b,P){var j=t(g,function(R){return R(w)});return{criteria:j,index:++_,value:w}});return i(E,function(w,b){return s(w,b,v)})}return ox=f,ox}var sx,hC;function NW(){if(hC)return sx;hC=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return sx=t,sx}var lx,pC;function jW(){if(pC)return lx;pC=1;var t=NW(),e=Math.max;function r(n,i,a){return i=e(i===void 0?n.length-1:i,0),function(){for(var s=arguments,u=-1,c=e(s.length-i,0),f=Array(c);++u<c;)f[u]=s[i+u];u=-1;for(var h=Array(i+1);++u<i;)h[u]=s[u];return h[i]=a(f),t(n,this,h)}}return lx=r,lx}var ux,mC;function RW(){if(mC)return ux;mC=1;function t(e){return function(){return e}}return ux=t,ux}var cx,gC;function bL(){if(gC)return cx;gC=1;var t=Ks(),e=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return cx=e,cx}var fx,yC;function DW(){if(yC)return fx;yC=1;var t=RW(),e=bL(),r=Vu(),n=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:r;return fx=n,fx}var dx,vC;function MW(){if(vC)return dx;vC=1;var t=800,e=16,r=Date.now;function n(i){var a=0,s=0;return function(){var u=r(),c=e-(u-s);if(s=u,c>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return dx=n,dx}var hx,bC;function LW(){if(bC)return hx;bC=1;var t=DW(),e=MW(),r=e(t);return hx=r,hx}var px,xC;function $W(){if(xC)return px;xC=1;var t=Vu(),e=jW(),r=LW();function n(i,a){return r(e(i,a,t),i+"")}return px=n,px}var mx,_C;function tg(){if(_C)return mx;_C=1;var t=pS(),e=fd(),r=kS(),n=No();function i(a,s,u){if(!n(u))return!1;var c=typeof s;return(c=="number"?e(u)&&r(s,u.length):c=="string"&&s in u)?t(u[s],a):!1}return mx=i,mx}var gx,wC;function VW(){if(wC)return gx;wC=1;var t=gL(),e=CW(),r=$W(),n=tg(),i=r(function(a,s){if(a==null)return[];var u=s.length;return u>1&&n(a,s[0],s[1])?s=[]:u>2&&n(s[0],s[1],s[2])&&(s=[s[0]]),e(a,t(s,1),[])});return gx=i,gx}var FW=VW();const NS=pt(FW);function hf(t){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hf(t)}function sw(){return sw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sw.apply(this,arguments)}function UW(t,e){return WW(t)||zW(t,e)||qW(t,e)||BW()}function BW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qW(t,e){if(t){if(typeof t=="string")return SC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SC(t,e)}}function SC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zW(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function WW(t){if(Array.isArray(t))return t}function EC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EC(Object(r),!0).forEach(function(n){HW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HW(t,e,r){return e=KW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KW(t){var e=GW(t,"string");return hf(e)=="symbol"?e:e+""}function GW(t,e){if(hf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YW(t){return Array.isArray(t)&&ir(t[0])&&ir(t[1])?t.join(" ~ "):t}var XW=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,u=s===void 0?{}:s,c=e.labelStyle,f=c===void 0?{}:c,h=e.payload,g=e.formatter,v=e.itemSorter,_=e.wrapperClassName,E=e.labelClassName,w=e.label,b=e.labelFormatter,P=e.accessibilityLayer,j=P===void 0?!1:P,R=function(){if(h&&h.length){var F={padding:0,margin:0},L=(v?NS(h,v):h).map(function(te,re){if(te.type==="none")return null;var X=yx({display:"block",paddingTop:4,paddingBottom:4,color:te.color||"#000"},u),ie=te.formatter||g||YW,J=te.value,Q=te.name,ae=J,q=Q;if(ie&&ae!=null&&q!=null){var G=ie(J,Q,te,re,h);if(Array.isArray(G)){var ue=UW(G,2);ae=ue[0],q=ue[1]}else ae=G}return H.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(re),style:X},ir(q)?H.createElement("span",{className:"recharts-tooltip-item-name"},q):null,ir(q)?H.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,H.createElement("span",{className:"recharts-tooltip-item-value"},ae),H.createElement("span",{className:"recharts-tooltip-item-unit"},te.unit||""))});return H.createElement("ul",{className:"recharts-tooltip-item-list",style:F},L)}return null},V=yx({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),O=yx({margin:0},f),N=!et(w),A=N?w:"",k=Qe("recharts-default-tooltip",_),D=Qe("recharts-tooltip-label",E);N&&b&&h!==void 0&&h!==null&&(A=b(w,h));var I=j?{role:"status","aria-live":"assertive"}:{};return H.createElement("div",sw({className:k,style:V},I),H.createElement("p",{className:D,style:O},H.isValidElement(A)?A:"".concat(A)),R())};function pf(t){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pf(t)}function Lh(t,e,r){return e=QW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QW(t){var e=JW(t,"string");return pf(e)=="symbol"?e:e+""}function JW(t,e){if(pf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ac="recharts-tooltip-wrapper",ZW={visibility:"hidden"};function eH(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Qe(Ac,Lh(Lh(Lh(Lh({},"".concat(Ac,"-right"),ve(r)&&e&&ve(e.x)&&r>=e.x),"".concat(Ac,"-left"),ve(r)&&e&&ve(e.x)&&r<e.x),"".concat(Ac,"-bottom"),ve(n)&&e&&ve(e.y)&&n>=e.y),"".concat(Ac,"-top"),ve(n)&&e&&ve(e.y)&&n<e.y))}function TC(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,u=t.tooltipDimension,c=t.viewBox,f=t.viewBoxDimension;if(a&&ve(a[n]))return a[n];var h=r[n]-u-i,g=r[n]+i;if(e[n])return s[n]?h:g;if(s[n]){var v=h,_=c[n];return v<_?Math.max(g,c[n]):Math.max(h,c[n])}var E=g+u,w=c[n]+f;return E>w?Math.max(h,c[n]):Math.max(g,c[n])}function tH(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function rH(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,u=t.useTranslate3d,c=t.viewBox,f,h,g;return s.height>0&&s.width>0&&r?(h=TC({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),g=TC({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),f=tH({translateX:h,translateY:g,useTranslate3d:u})):f=ZW,{cssProperties:f,cssClasses:eH({translateX:h,translateY:g,coordinate:r})}}function fu(t){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fu(t)}function AC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function PC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AC(Object(r),!0).forEach(function(n){uw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_L(n.key),n)}}function aH(t,e,r){return e&&iH(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oH(t,e,r){return e=Lp(e),sH(t,xL()?Reflect.construct(e,r||[],Lp(t).constructor):e.apply(t,r))}function sH(t,e){if(e&&(fu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lH(t)}function lH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xL=function(){return!!t})()}function Lp(t){return Lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lp(t)}function uH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lw(t,e)}function lw(t,e){return lw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lw(t,e)}function uw(t,e,r){return e=_L(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _L(t){var e=cH(t,"string");return fu(e)=="symbol"?e:e+""}function cH(t,e){if(fu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var kC=1,fH=function(t){function e(){var r;nH(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=oH(this,e,[].concat(i)),uw(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),uw(r,"handleKeyDown",function(s){if(s.key==="Escape"){var u,c,f,h;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&u!==void 0?u:0,y:(f=(h=r.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&f!==void 0?f:0}})}}),r}return uH(e,t),aH(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>kC||Math.abs(n.height-this.state.lastBoundingBox.height)>kC)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,u=i.animationDuration,c=i.animationEasing,f=i.children,h=i.coordinate,g=i.hasPayload,v=i.isAnimationActive,_=i.offset,E=i.position,w=i.reverseDirection,b=i.useTranslate3d,P=i.viewBox,j=i.wrapperStyle,R=rH({allowEscapeViewBox:s,coordinate:h,offsetTopLeft:_,position:E,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:P}),V=R.cssClasses,O=R.cssProperties,N=PC(PC({transition:v&&a?"transform ".concat(u,"ms ").concat(c):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&g?"visible":"hidden",position:"absolute",top:0,left:0},j);return H.createElement("div",{tabIndex:-1,className:V,style:N,ref:function(k){n.wrapperNode=k}},f)}}])}(z.PureComponent),dH=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Fu={isSsr:dH()};function du(t){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},du(t)}function OC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function IC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OC(Object(r),!0).forEach(function(n){jS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,SL(n.key),n)}}function mH(t,e,r){return e&&pH(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gH(t,e,r){return e=$p(e),yH(t,wL()?Reflect.construct(e,r||[],$p(t).constructor):e.apply(t,r))}function yH(t,e){if(e&&(du(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vH(t)}function vH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wL=function(){return!!t})()}function $p(t){return $p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$p(t)}function bH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cw(t,e)}function cw(t,e){return cw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},cw(t,e)}function jS(t,e,r){return e=SL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SL(t){var e=xH(t,"string");return du(e)=="symbol"?e:e+""}function xH(t,e){if(du(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function _H(t){return t.dataKey}function wH(t,e){return H.isValidElement(t)?H.cloneElement(t,e):typeof t=="function"?H.createElement(t,e):H.createElement(XW,e)}var ci=function(t){function e(){return hH(this,e),gH(this,e,arguments)}return bH(e,t),mH(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,u=i.animationDuration,c=i.animationEasing,f=i.content,h=i.coordinate,g=i.filterNull,v=i.isAnimationActive,_=i.offset,E=i.payload,w=i.payloadUniqBy,b=i.position,P=i.reverseDirection,j=i.useTranslate3d,R=i.viewBox,V=i.wrapperStyle,O=E??[];g&&O.length&&(O=hL(E.filter(function(A){return A.value!=null&&(A.hide!==!0||n.props.includeHidden)}),w,_H));var N=O.length>0;return H.createElement(fH,{allowEscapeViewBox:s,animationDuration:u,animationEasing:c,isAnimationActive:v,active:a,coordinate:h,hasPayload:N,offset:_,position:b,reverseDirection:P,useTranslate3d:j,viewBox:R,wrapperStyle:V},wH(f,IC(IC({},this.props),{},{payload:O})))}}])}(z.PureComponent);jS(ci,"displayName","Tooltip");jS(ci,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Fu.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var vx,CC;function SH(){if(CC)return vx;CC=1;var t=zi(),e=function(){return t.Date.now()};return vx=e,vx}var bx,NC;function EH(){if(NC)return bx;NC=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return bx=e,bx}var xx,jC;function TH(){if(jC)return xx;jC=1;var t=EH(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return xx=r,xx}var _x,RC;function EL(){if(RC)return _x;RC=1;var t=TH(),e=No(),r=Lu(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,u=parseInt;function c(f){if(typeof f=="number")return f;if(r(f))return n;if(e(f)){var h=typeof f.valueOf=="function"?f.valueOf():f;f=e(h)?h+"":h}if(typeof f!="string")return f===0?f:+f;f=t(f);var g=a.test(f);return g||s.test(f)?u(f.slice(2),g?2:8):i.test(f)?n:+f}return _x=c,_x}var wx,DC;function AH(){if(DC)return wx;DC=1;var t=No(),e=SH(),r=EL(),n="Expected a function",i=Math.max,a=Math.min;function s(u,c,f){var h,g,v,_,E,w,b=0,P=!1,j=!1,R=!0;if(typeof u!="function")throw new TypeError(n);c=r(c)||0,t(f)&&(P=!!f.leading,j="maxWait"in f,v=j?i(r(f.maxWait)||0,c):v,R="trailing"in f?!!f.trailing:R);function V(L){var te=h,re=g;return h=g=void 0,b=L,_=u.apply(re,te),_}function O(L){return b=L,E=setTimeout(k,c),P?V(L):_}function N(L){var te=L-w,re=L-b,X=c-te;return j?a(X,v-re):X}function A(L){var te=L-w,re=L-b;return w===void 0||te>=c||te<0||j&&re>=v}function k(){var L=e();if(A(L))return D(L);E=setTimeout(k,N(L))}function D(L){return E=void 0,R&&h?V(L):(h=g=void 0,_)}function I(){E!==void 0&&clearTimeout(E),b=0,h=w=g=E=void 0}function M(){return E===void 0?_:D(e())}function F(){var L=e(),te=A(L);if(h=arguments,g=this,w=L,te){if(E===void 0)return O(w);if(j)return clearTimeout(E),E=setTimeout(k,c),V(w)}return E===void 0&&(E=setTimeout(k,c)),_}return F.cancel=I,F.flush=M,F}return wx=s,wx}var Sx,MC;function PH(){if(MC)return Sx;MC=1;var t=AH(),e=No(),r="Expected a function";function n(i,a,s){var u=!0,c=!0;if(typeof i!="function")throw new TypeError(r);return e(s)&&(u="leading"in s?!!s.leading:u,c="trailing"in s?!!s.trailing:c),t(i,a,{leading:u,maxWait:a,trailing:c})}return Sx=n,Sx}var kH=PH();const TL=pt(kH);function mf(t){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mf(t)}function LC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $h(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LC(Object(r),!0).forEach(function(n){OH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OH(t,e,r){return e=IH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function IH(t){var e=CH(t,"string");return mf(e)=="symbol"?e:e+""}function CH(t,e){if(mf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NH(t,e){return MH(t)||DH(t,e)||RH(t,e)||jH()}function jH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RH(t,e){if(t){if(typeof t=="string")return $C(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $C(t,e)}}function $C(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function DH(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function MH(t){if(Array.isArray(t))return t}var AL=z.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,s=a===void 0?"100%":a,u=t.height,c=u===void 0?"100%":u,f=t.minWidth,h=f===void 0?0:f,g=t.minHeight,v=t.maxHeight,_=t.children,E=t.debounce,w=E===void 0?0:E,b=t.id,P=t.className,j=t.onResize,R=t.style,V=R===void 0?{}:R,O=z.useRef(null),N=z.useRef();N.current=j,z.useImperativeHandle(e,function(){return Object.defineProperty(O.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),O.current},configurable:!0})});var A=z.useState({containerWidth:i.width,containerHeight:i.height}),k=NH(A,2),D=k[0],I=k[1],M=z.useCallback(function(L,te){I(function(re){var X=Math.round(L),ie=Math.round(te);return re.containerWidth===X&&re.containerHeight===ie?re:{containerWidth:X,containerHeight:ie}})},[]);z.useEffect(function(){var L=function(Q){var ae,q=Q[0].contentRect,G=q.width,ue=q.height;M(G,ue),(ae=N.current)===null||ae===void 0||ae.call(N,G,ue)};w>0&&(L=TL(L,w,{trailing:!0,leading:!1}));var te=new ResizeObserver(L),re=O.current.getBoundingClientRect(),X=re.width,ie=re.height;return M(X,ie),te.observe(O.current),function(){te.disconnect()}},[M,w]);var F=z.useMemo(function(){var L=D.containerWidth,te=D.containerHeight;if(L<0||te<0)return null;pi(xs(s)||xs(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),pi(!r||r>0,"The aspect(%s) must be greater than zero.",r);var re=xs(s)?L:s,X=xs(c)?te:c;r&&r>0&&(re?X=re/r:X&&(re=X*r),v&&X>v&&(X=v)),pi(re>0||X>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,re,X,s,c,h,g,r);var ie=!Array.isArray(_)&&ba(_.type).endsWith("Chart");return H.Children.map(_,function(J){return H.isValidElement(J)?z.cloneElement(J,$h({width:re,height:X},ie?{style:$h({height:"100%",width:"100%",maxHeight:X,maxWidth:re},J.props.style)}:{})):J})},[r,_,c,v,g,h,D,s]);return H.createElement("div",{id:b?"".concat(b):void 0,className:Qe("recharts-responsive-container",P),style:$h($h({},V),{},{width:s,height:c,minWidth:h,minHeight:g,maxHeight:v}),ref:O},F)}),rg=function(e){return null};rg.displayName="Cell";function gf(t){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gf(t)}function VC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VC(Object(r),!0).forEach(function(n){LH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LH(t,e,r){return e=$H(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $H(t){var e=VH(t,"string");return gf(e)=="symbol"?e:e+""}function VH(t,e){if(gf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dl={widthCache:{},cacheCount:0},FH=2e3,UH={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},FC="recharts_measurement_span";function BH(t){var e=fw({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Yc=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Fu.isSsr)return{width:0,height:0};var n=BH(r),i=JSON.stringify({text:e,copyStyle:n});if(Dl.widthCache[i])return Dl.widthCache[i];try{var a=document.getElementById(FC);a||(a=document.createElement("span"),a.setAttribute("id",FC),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=fw(fw({},UH),n);Object.assign(a.style,s),a.textContent="".concat(e);var u=a.getBoundingClientRect(),c={width:u.width,height:u.height};return Dl.widthCache[i]=c,++Dl.cacheCount>FH&&(Dl.cacheCount=0,Dl.widthCache={}),c}catch{return{width:0,height:0}}},qH=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function yf(t){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yf(t)}function Vp(t,e){return KH(t)||HH(t,e)||WH(t,e)||zH()}function zH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WH(t,e){if(t){if(typeof t=="string")return UC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UC(t,e)}}function UC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function HH(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function KH(t){if(Array.isArray(t))return t}function GH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BC(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,XH(n.key),n)}}function YH(t,e,r){return e&&BC(t.prototype,e),r&&BC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function XH(t){var e=QH(t,"string");return yf(e)=="symbol"?e:e+""}function QH(t,e){if(yf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,zC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,JH=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,ZH=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,PL={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},eK=Object.keys(PL),ql="NaN";function tK(t,e){return t*PL[e]}var Vh=function(){function t(e,r){GH(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!JH.test(r)&&(this.num=NaN,this.unit=""),eK.includes(r)&&(this.num=tK(e,r),this.unit="px")}return YH(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=ZH.exec(r))!==null&&n!==void 0?n:[],a=Vp(i,3),s=a[1],u=a[2];return new t(parseFloat(s),u??"")}}])}();function kL(t){if(t.includes(ql))return ql;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=qC.exec(e))!==null&&r!==void 0?r:[],i=Vp(n,4),a=i[1],s=i[2],u=i[3],c=Vh.parse(a??""),f=Vh.parse(u??""),h=s==="*"?c.multiply(f):c.divide(f);if(h.isNaN())return ql;e=e.replace(qC,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var g,v=(g=zC.exec(e))!==null&&g!==void 0?g:[],_=Vp(v,4),E=_[1],w=_[2],b=_[3],P=Vh.parse(E??""),j=Vh.parse(b??""),R=w==="+"?P.add(j):P.subtract(j);if(R.isNaN())return ql;e=e.replace(zC,R.toString())}return e}var WC=/\(([^()]*)\)/;function rK(t){for(var e=t;e.includes("(");){var r=WC.exec(e),n=Vp(r,2),i=n[1];e=e.replace(WC,kL(i))}return e}function nK(t){var e=t.replace(/\s+/g,"");return e=rK(e),e=kL(e),e}function iK(t){try{return nK(t)}catch{return ql}}function Ex(t){var e=iK(t.slice(5,-1));return e===ql?"":e}var aK=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],oK=["dx","dy","angle","className","breakAll"];function dw(){return dw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dw.apply(this,arguments)}function HC(t,e){if(t==null)return{};var r=sK(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function sK(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function KC(t,e){return fK(t)||cK(t,e)||uK(t,e)||lK()}function lK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uK(t,e){if(t){if(typeof t=="string")return GC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GC(t,e)}}function GC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function cK(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function fK(t){if(Array.isArray(t))return t}var OL=/[ \f\n\r\t\v\u2028\u2029]+/,IL=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];et(r)||(n?a=r.toString().split(""):a=r.toString().split(OL));var s=a.map(function(c){return{word:c,width:Yc(c,i).width}}),u=n?0:Yc(" ",i).width;return{wordsWithComputedWidth:s,spaceWidth:u}}catch{return null}},dK=function(e,r,n,i,a){var s=e.maxLines,u=e.children,c=e.style,f=e.breakAll,h=ve(s),g=u,v=function(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return re.reduce(function(X,ie){var J=ie.word,Q=ie.width,ae=X[X.length-1];if(ae&&(i==null||a||ae.width+Q+n<Number(i)))ae.words.push(J),ae.width+=Q+n;else{var q={words:[J],width:Q};X.push(q)}return X},[])},_=v(r),E=function(re){return re.reduce(function(X,ie){return X.width>ie.width?X:ie})};if(!h)return _;for(var w="…",b=function(re){var X=g.slice(0,re),ie=IL({breakAll:f,style:c,children:X+w}).wordsWithComputedWidth,J=v(ie),Q=J.length>s||E(J).width>Number(i);return[Q,J]},P=0,j=g.length-1,R=0,V;P<=j&&R<=g.length-1;){var O=Math.floor((P+j)/2),N=O-1,A=b(N),k=KC(A,2),D=k[0],I=k[1],M=b(O),F=KC(M,1),L=F[0];if(!D&&!L&&(P=O+1),D&&L&&(j=O-1),!D&&L){V=I;break}R++}return V||_},YC=function(e){var r=et(e)?[]:e.toString().split(OL);return[{words:r}]},hK=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,u=e.maxLines;if((r||n)&&!Fu.isSsr){var c,f,h=IL({breakAll:s,children:i,style:a});if(h){var g=h.wordsWithComputedWidth,v=h.spaceWidth;c=g,f=v}else return YC(i);return dK({breakAll:s,children:i,maxLines:u,style:a},c,f,r,n)}return YC(i)},XC="#808080",Vs=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.lineHeight,u=s===void 0?"1em":s,c=e.capHeight,f=c===void 0?"0.71em":c,h=e.scaleToFit,g=h===void 0?!1:h,v=e.textAnchor,_=v===void 0?"start":v,E=e.verticalAnchor,w=E===void 0?"end":E,b=e.fill,P=b===void 0?XC:b,j=HC(e,aK),R=z.useMemo(function(){return hK({breakAll:j.breakAll,children:j.children,maxLines:j.maxLines,scaleToFit:g,style:j.style,width:j.width})},[j.breakAll,j.children,j.maxLines,g,j.style,j.width]),V=j.dx,O=j.dy,N=j.angle,A=j.className,k=j.breakAll,D=HC(j,oK);if(!ir(n)||!ir(a))return null;var I=n+(ve(V)?V:0),M=a+(ve(O)?O:0),F;switch(w){case"start":F=Ex("calc(".concat(f,")"));break;case"middle":F=Ex("calc(".concat((R.length-1)/2," * -").concat(u," + (").concat(f," / 2))"));break;default:F=Ex("calc(".concat(R.length-1," * -").concat(u,")"));break}var L=[];if(g){var te=R[0].width,re=j.width;L.push("scale(".concat((ve(re)?re/te:1)/te,")"))}return N&&L.push("rotate(".concat(N,", ").concat(I,", ").concat(M,")")),L.length&&(D.transform=L.join(" ")),H.createElement("text",dw({},Be(D,!0),{x:I,y:M,className:Qe("recharts-text",A),textAnchor:_,fill:P.includes("url")?XC:P}),R.map(function(X,ie){var J=X.words.join(k?"":" ");return H.createElement("tspan",{x:I,dy:ie===0?F:u,key:"".concat(J,"-").concat(ie)},J)}))};function wo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function pK(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function RS(t){let e,r,n;t.length!==2?(e=wo,r=(u,c)=>wo(t(u),c),n=(u,c)=>t(u)-c):(e=t===wo||t===pK?t:mK,r=t,n=t);function i(u,c,f=0,h=u.length){if(f<h){if(e(c,c)!==0)return h;do{const g=f+h>>>1;r(u[g],c)<0?f=g+1:h=g}while(f<h)}return f}function a(u,c,f=0,h=u.length){if(f<h){if(e(c,c)!==0)return h;do{const g=f+h>>>1;r(u[g],c)<=0?f=g+1:h=g}while(f<h)}return f}function s(u,c,f=0,h=u.length){const g=i(u,c,f,h-1);return g>f&&n(u[g-1],c)>-n(u[g],c)?g-1:g}return{left:i,center:s,right:a}}function mK(){return 0}function CL(t){return t===null?NaN:+t}function*gK(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const yK=RS(wo),dd=yK.right;RS(CL).center;class QC extends Map{constructor(e,r=xK){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(JC(this,e))}has(e){return super.has(JC(this,e))}set(e,r){return super.set(vK(this,e),r)}delete(e){return super.delete(bK(this,e))}}function JC({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function vK({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function bK({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function xK(t){return t!==null&&typeof t=="object"?t.valueOf():t}function _K(t=wo){if(t===wo)return NL;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function NL(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const wK=Math.sqrt(50),SK=Math.sqrt(10),EK=Math.sqrt(2);function Fp(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=wK?10:a>=SK?5:a>=EK?2:1;let u,c,f;return i<0?(f=Math.pow(10,-i)/s,u=Math.round(t*f),c=Math.round(e*f),u/f<t&&++u,c/f>e&&--c,f=-f):(f=Math.pow(10,i)*s,u=Math.round(t/f),c=Math.round(e/f),u*f<t&&++u,c*f>e&&--c),c<u&&.5<=r&&r<2?Fp(t,e,r*2):[u,c,f]}function hw(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,s]=n?Fp(e,t,r):Fp(t,e,r);if(!(a>=i))return[];const u=a-i+1,c=new Array(u);if(n)if(s<0)for(let f=0;f<u;++f)c[f]=(a-f)/-s;else for(let f=0;f<u;++f)c[f]=(a-f)*s;else if(s<0)for(let f=0;f<u;++f)c[f]=(i+f)/-s;else for(let f=0;f<u;++f)c[f]=(i+f)*s;return c}function pw(t,e,r){return e=+e,t=+t,r=+r,Fp(t,e,r)[2]}function mw(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?pw(e,t,r):pw(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function ZC(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function eN(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function jL(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?NL:_K(i);n>r;){if(n-r>600){const c=n-r+1,f=e-r+1,h=Math.log(c),g=.5*Math.exp(2*h/3),v=.5*Math.sqrt(h*g*(c-g)/c)*(f-c/2<0?-1:1),_=Math.max(r,Math.floor(e-f*g/c+v)),E=Math.min(n,Math.floor(e+(c-f)*g/c+v));jL(t,e,_,E,i)}const a=t[e];let s=r,u=n;for(Pc(t,r,e),i(t[n],a)>0&&Pc(t,r,n);s<u;){for(Pc(t,s,u),++s,--u;i(t[s],a)<0;)++s;for(;i(t[u],a)>0;)--u}i(t[r],a)===0?Pc(t,r,u):(++u,Pc(t,u,n)),u<=e&&(r=u+1),e<=u&&(n=u-1)}return t}function Pc(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function TK(t,e,r){if(t=Float64Array.from(gK(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return eN(t);if(e>=1)return ZC(t);var n,i=(n-1)*e,a=Math.floor(i),s=ZC(jL(t,a).subarray(0,a+1)),u=eN(t.subarray(a+1));return s+(u-s)*(i-a)}}function AK(t,e,r=CL){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),s=+r(t[a],a,t),u=+r(t[a+1],a+1,t);return s+(u-s)*(i-a)}}function PK(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function Wn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Na(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const gw=Symbol("implicit");function DS(){var t=new QC,e=[],r=[],n=gw;function i(a){let s=t.get(a);if(s===void 0){if(n!==gw)return n;t.set(a,s=e.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new QC;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return DS(e,r).unknown(n)},Wn.apply(i,arguments),i}function vf(){var t=DS().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,s,u=!1,c=0,f=0,h=.5;delete t.unknown;function g(){var v=e().length,_=i<n,E=_?i:n,w=_?n:i;a=(w-E)/Math.max(1,v-c+f*2),u&&(a=Math.floor(a)),E+=(w-E-a*(v-c))*h,s=a*(1-c),u&&(E=Math.round(E),s=Math.round(s));var b=PK(v).map(function(P){return E+a*P});return r(_?b.reverse():b)}return t.domain=function(v){return arguments.length?(e(v),g()):e()},t.range=function(v){return arguments.length?([n,i]=v,n=+n,i=+i,g()):[n,i]},t.rangeRound=function(v){return[n,i]=v,n=+n,i=+i,u=!0,g()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(v){return arguments.length?(u=!!v,g()):u},t.padding=function(v){return arguments.length?(c=Math.min(1,f=+v),g()):c},t.paddingInner=function(v){return arguments.length?(c=Math.min(1,v),g()):c},t.paddingOuter=function(v){return arguments.length?(f=+v,g()):f},t.align=function(v){return arguments.length?(h=Math.max(0,Math.min(1,v)),g()):h},t.copy=function(){return vf(e(),[n,i]).round(u).paddingInner(c).paddingOuter(f).align(h)},Wn.apply(g(),arguments)}function RL(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return RL(e())},t}function Xc(){return RL(vf.apply(null,arguments).paddingInner(1))}function MS(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function DL(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function hd(){}var bf=.7,Up=1/bf,Zl="\\s*([+-]?\\d+)\\s*",xf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Li="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",kK=/^#([0-9a-f]{3,8})$/,OK=new RegExp(`^rgb\\(${Zl},${Zl},${Zl}\\)$`),IK=new RegExp(`^rgb\\(${Li},${Li},${Li}\\)$`),CK=new RegExp(`^rgba\\(${Zl},${Zl},${Zl},${xf}\\)$`),NK=new RegExp(`^rgba\\(${Li},${Li},${Li},${xf}\\)$`),jK=new RegExp(`^hsl\\(${xf},${Li},${Li}\\)$`),RK=new RegExp(`^hsla\\(${xf},${Li},${Li},${xf}\\)$`),tN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};MS(hd,_f,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:rN,formatHex:rN,formatHex8:DK,formatHsl:MK,formatRgb:nN,toString:nN});function rN(){return this.rgb().formatHex()}function DK(){return this.rgb().formatHex8()}function MK(){return ML(this).formatHsl()}function nN(){return this.rgb().formatRgb()}function _f(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=kK.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?iN(e):r===3?new ln(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Fh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Fh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=OK.exec(t))?new ln(e[1],e[2],e[3],1):(e=IK.exec(t))?new ln(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=CK.exec(t))?Fh(e[1],e[2],e[3],e[4]):(e=NK.exec(t))?Fh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=jK.exec(t))?sN(e[1],e[2]/100,e[3]/100,1):(e=RK.exec(t))?sN(e[1],e[2]/100,e[3]/100,e[4]):tN.hasOwnProperty(t)?iN(tN[t]):t==="transparent"?new ln(NaN,NaN,NaN,0):null}function iN(t){return new ln(t>>16&255,t>>8&255,t&255,1)}function Fh(t,e,r,n){return n<=0&&(t=e=r=NaN),new ln(t,e,r,n)}function LK(t){return t instanceof hd||(t=_f(t)),t?(t=t.rgb(),new ln(t.r,t.g,t.b,t.opacity)):new ln}function yw(t,e,r,n){return arguments.length===1?LK(t):new ln(t,e,r,n??1)}function ln(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}MS(ln,yw,DL(hd,{brighter(t){return t=t==null?Up:Math.pow(Up,t),new ln(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?bf:Math.pow(bf,t),new ln(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ln(Ps(this.r),Ps(this.g),Ps(this.b),Bp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:aN,formatHex:aN,formatHex8:$K,formatRgb:oN,toString:oN}));function aN(){return`#${_s(this.r)}${_s(this.g)}${_s(this.b)}`}function $K(){return`#${_s(this.r)}${_s(this.g)}${_s(this.b)}${_s((isNaN(this.opacity)?1:this.opacity)*255)}`}function oN(){const t=Bp(this.opacity);return`${t===1?"rgb(":"rgba("}${Ps(this.r)}, ${Ps(this.g)}, ${Ps(this.b)}${t===1?")":`, ${t})`}`}function Bp(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ps(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function _s(t){return t=Ps(t),(t<16?"0":"")+t.toString(16)}function sN(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new di(t,e,r,n)}function ML(t){if(t instanceof di)return new di(t.h,t.s,t.l,t.opacity);if(t instanceof hd||(t=_f(t)),!t)return new di;if(t instanceof di)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),s=NaN,u=a-i,c=(a+i)/2;return u?(e===a?s=(r-n)/u+(r<n)*6:r===a?s=(n-e)/u+2:s=(e-r)/u+4,u/=c<.5?a+i:2-a-i,s*=60):u=c>0&&c<1?0:s,new di(s,u,c,t.opacity)}function VK(t,e,r,n){return arguments.length===1?ML(t):new di(t,e,r,n??1)}function di(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}MS(di,VK,DL(hd,{brighter(t){return t=t==null?Up:Math.pow(Up,t),new di(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?bf:Math.pow(bf,t),new di(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new ln(Tx(t>=240?t-240:t+120,i,n),Tx(t,i,n),Tx(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new di(lN(this.h),Uh(this.s),Uh(this.l),Bp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Bp(this.opacity);return`${t===1?"hsl(":"hsla("}${lN(this.h)}, ${Uh(this.s)*100}%, ${Uh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function lN(t){return t=(t||0)%360,t<0?t+360:t}function Uh(t){return Math.max(0,Math.min(1,t||0))}function Tx(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const LS=t=>()=>t;function FK(t,e){return function(r){return t+r*e}}function UK(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function BK(t){return(t=+t)==1?LL:function(e,r){return r-e?UK(e,r,t):LS(isNaN(e)?r:e)}}function LL(t,e){var r=e-t;return r?FK(t,r):LS(isNaN(t)?e:t)}const uN=function t(e){var r=BK(e);function n(i,a){var s=r((i=yw(i)).r,(a=yw(a)).r),u=r(i.g,a.g),c=r(i.b,a.b),f=LL(i.opacity,a.opacity);return function(h){return i.r=s(h),i.g=u(h),i.b=c(h),i.opacity=f(h),i+""}}return n.gamma=t,n}(1);function qK(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function zK(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function WK(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=Uu(t[s],e[s]);for(;s<r;++s)a[s]=e[s];return function(u){for(s=0;s<n;++s)a[s]=i[s](u);return a}}function HK(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function qp(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function KK(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Uu(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var vw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ax=new RegExp(vw.source,"g");function GK(t){return function(){return t}}function YK(t){return function(e){return t(e)+""}}function XK(t,e){var r=vw.lastIndex=Ax.lastIndex=0,n,i,a,s=-1,u=[],c=[];for(t=t+"",e=e+"";(n=vw.exec(t))&&(i=Ax.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),u[s]?u[s]+=a:u[++s]=a),(n=n[0])===(i=i[0])?u[s]?u[s]+=i:u[++s]=i:(u[++s]=null,c.push({i:s,x:qp(n,i)})),r=Ax.lastIndex;return r<e.length&&(a=e.slice(r),u[s]?u[s]+=a:u[++s]=a),u.length<2?c[0]?YK(c[0].x):GK(e):(e=c.length,function(f){for(var h=0,g;h<e;++h)u[(g=c[h]).i]=g.x(f);return u.join("")})}function Uu(t,e){var r=typeof e,n;return e==null||r==="boolean"?LS(e):(r==="number"?qp:r==="string"?(n=_f(e))?(e=n,uN):XK:e instanceof _f?uN:e instanceof Date?HK:zK(e)?qK:Array.isArray(e)?WK:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?KK:qp)(t,e)}function $S(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function QK(t,e){e===void 0&&(e=t,t=Uu);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(s){var u=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[u](s-u)}}function JK(t){return function(){return t}}function zp(t){return+t}var cN=[0,1];function Kr(t){return t}function bw(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:JK(isNaN(e)?NaN:.5)}function ZK(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function eG(t,e,r){var n=t[0],i=t[1],a=e[0],s=e[1];return i<n?(n=bw(i,n),a=r(s,a)):(n=bw(n,i),a=r(a,s)),function(u){return a(n(u))}}function tG(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)i[s]=bw(t[s],t[s+1]),a[s]=r(e[s],e[s+1]);return function(u){var c=dd(t,u,1,n)-1;return a[c](i[c](u))}}function pd(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ng(){var t=cN,e=cN,r=Uu,n,i,a,s=Kr,u,c,f;function h(){var v=Math.min(t.length,e.length);return s!==Kr&&(s=ZK(t[0],t[v-1])),u=v>2?tG:eG,c=f=null,g}function g(v){return v==null||isNaN(v=+v)?a:(c||(c=u(t.map(n),e,r)))(n(s(v)))}return g.invert=function(v){return s(i((f||(f=u(e,t.map(n),qp)))(v)))},g.domain=function(v){return arguments.length?(t=Array.from(v,zp),h()):t.slice()},g.range=function(v){return arguments.length?(e=Array.from(v),h()):e.slice()},g.rangeRound=function(v){return e=Array.from(v),r=$S,h()},g.clamp=function(v){return arguments.length?(s=v?!0:Kr,h()):s!==Kr},g.interpolate=function(v){return arguments.length?(r=v,h()):r},g.unknown=function(v){return arguments.length?(a=v,g):a},function(v,_){return n=v,i=_,h()}}function VS(){return ng()(Kr,Kr)}function rG(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Wp(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function hu(t){return t=Wp(Math.abs(t)),t?t[1]:NaN}function nG(t,e){return function(r,n){for(var i=r.length,a=[],s=0,u=t[0],c=0;i>0&&u>0&&(c+u+1>n&&(u=Math.max(1,n-c)),a.push(r.substring(i-=u,i+u)),!((c+=u+1)>n));)u=t[s=(s+1)%t.length];return a.reverse().join(e)}}function iG(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var aG=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function wf(t){if(!(e=aG.exec(t)))throw new Error("invalid format: "+t);var e;return new FS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}wf.prototype=FS.prototype;function FS(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}FS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function oG(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var $L;function sG(t,e){var r=Wp(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-($L=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Wp(t,Math.max(0,e+a-1))[0]}function fN(t,e){var r=Wp(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const dN={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:rG,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>fN(t*100,e),r:fN,s:sG,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function hN(t){return t}var pN=Array.prototype.map,mN=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function lG(t){var e=t.grouping===void 0||t.thousands===void 0?hN:nG(pN.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?hN:iG(pN.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(g){g=wf(g);var v=g.fill,_=g.align,E=g.sign,w=g.symbol,b=g.zero,P=g.width,j=g.comma,R=g.precision,V=g.trim,O=g.type;O==="n"?(j=!0,O="g"):dN[O]||(R===void 0&&(R=12),V=!0,O="g"),(b||v==="0"&&_==="=")&&(b=!0,v="0",_="=");var N=w==="$"?r:w==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",A=w==="$"?n:/[%p]/.test(O)?s:"",k=dN[O],D=/[defgprs%]/.test(O);R=R===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,R)):Math.max(0,Math.min(20,R));function I(M){var F=N,L=A,te,re,X;if(O==="c")L=k(M)+L,M="";else{M=+M;var ie=M<0||1/M<0;if(M=isNaN(M)?c:k(Math.abs(M),R),V&&(M=oG(M)),ie&&+M==0&&E!=="+"&&(ie=!1),F=(ie?E==="("?E:u:E==="-"||E==="("?"":E)+F,L=(O==="s"?mN[8+$L/3]:"")+L+(ie&&E==="("?")":""),D){for(te=-1,re=M.length;++te<re;)if(X=M.charCodeAt(te),48>X||X>57){L=(X===46?i+M.slice(te+1):M.slice(te))+L,M=M.slice(0,te);break}}}j&&!b&&(M=e(M,1/0));var J=F.length+M.length+L.length,Q=J<P?new Array(P-J+1).join(v):"";switch(j&&b&&(M=e(Q+M,Q.length?P-L.length:1/0),Q=""),_){case"<":M=F+M+L+Q;break;case"=":M=F+Q+M+L;break;case"^":M=Q.slice(0,J=Q.length>>1)+F+M+L+Q.slice(J);break;default:M=Q+F+M+L;break}return a(M)}return I.toString=function(){return g+""},I}function h(g,v){var _=f((g=wf(g),g.type="f",g)),E=Math.max(-8,Math.min(8,Math.floor(hu(v)/3)))*3,w=Math.pow(10,-E),b=mN[8+E/3];return function(P){return _(w*P)+b}}return{format:f,formatPrefix:h}}var Bh,US,VL;uG({thousands:",",grouping:[3],currency:["$",""]});function uG(t){return Bh=lG(t),US=Bh.format,VL=Bh.formatPrefix,Bh}function cG(t){return Math.max(0,-hu(Math.abs(t)))}function fG(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(hu(e)/3)))*3-hu(Math.abs(t)))}function dG(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,hu(e)-hu(t))+1}function FL(t,e,r,n){var i=mw(t,e,r),a;switch(n=wf(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=fG(i,s))&&(n.precision=a),VL(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=dG(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=cG(i))&&(n.precision=a-(n.type==="%")*2);break}}return US(n)}function jo(t){var e=t.domain;return t.ticks=function(r){var n=e();return hw(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return FL(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,s=n[i],u=n[a],c,f,h=10;for(u<s&&(f=s,s=u,u=f,f=i,i=a,a=f);h-- >0;){if(f=pw(s,u,r),f===c)return n[i]=s,n[a]=u,e(n);if(f>0)s=Math.floor(s/f)*f,u=Math.ceil(u/f)*f;else if(f<0)s=Math.ceil(s*f)/f,u=Math.floor(u*f)/f;else break;c=f}return t},t}function Hp(){var t=VS();return t.copy=function(){return pd(t,Hp())},Wn.apply(t,arguments),jo(t)}function UL(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,zp),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return UL(t).unknown(e)},t=arguments.length?Array.from(t,zp):[0,1],jo(r)}function BL(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),t[r]=e.floor(i),t[n]=e.ceil(a),t}function gN(t){return Math.log(t)}function yN(t){return Math.exp(t)}function hG(t){return-Math.log(-t)}function pG(t){return-Math.exp(-t)}function mG(t){return isFinite(t)?+("1e"+t):t<0?0:t}function gG(t){return t===10?mG:t===Math.E?Math.exp:e=>Math.pow(t,e)}function yG(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function vN(t){return(e,r)=>-t(-e,r)}function BS(t){const e=t(gN,yN),r=e.domain;let n=10,i,a;function s(){return i=yG(n),a=gG(n),r()[0]<0?(i=vN(i),a=vN(a),t(hG,pG)):t(gN,yN),e}return e.base=function(u){return arguments.length?(n=+u,s()):n},e.domain=function(u){return arguments.length?(r(u),s()):r()},e.ticks=u=>{const c=r();let f=c[0],h=c[c.length-1];const g=h<f;g&&([f,h]=[h,f]);let v=i(f),_=i(h),E,w;const b=u==null?10:+u;let P=[];if(!(n%1)&&_-v<b){if(v=Math.floor(v),_=Math.ceil(_),f>0){for(;v<=_;++v)for(E=1;E<n;++E)if(w=v<0?E/a(-v):E*a(v),!(w<f)){if(w>h)break;P.push(w)}}else for(;v<=_;++v)for(E=n-1;E>=1;--E)if(w=v>0?E/a(-v):E*a(v),!(w<f)){if(w>h)break;P.push(w)}P.length*2<b&&(P=hw(f,h,b))}else P=hw(v,_,Math.min(_-v,b)).map(a);return g?P.reverse():P},e.tickFormat=(u,c)=>{if(u==null&&(u=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=wf(c)).precision==null&&(c.trim=!0),c=US(c)),u===1/0)return c;const f=Math.max(1,n*u/e.ticks().length);return h=>{let g=h/a(Math.round(i(h)));return g*n<n-.5&&(g*=n),g<=f?c(h):""}},e.nice=()=>r(BL(r(),{floor:u=>a(Math.floor(i(u))),ceil:u=>a(Math.ceil(i(u)))})),e}function qL(){const t=BS(ng()).domain([1,10]);return t.copy=()=>pd(t,qL()).base(t.base()),Wn.apply(t,arguments),t}function bN(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function xN(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function qS(t){var e=1,r=t(bN(e),xN(e));return r.constant=function(n){return arguments.length?t(bN(e=+n),xN(e)):e},jo(r)}function zL(){var t=qS(ng());return t.copy=function(){return pd(t,zL()).constant(t.constant())},Wn.apply(t,arguments)}function _N(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function vG(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function bG(t){return t<0?-t*t:t*t}function zS(t){var e=t(Kr,Kr),r=1;function n(){return r===1?t(Kr,Kr):r===.5?t(vG,bG):t(_N(r),_N(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},jo(e)}function WS(){var t=zS(ng());return t.copy=function(){return pd(t,WS()).exponent(t.exponent())},Wn.apply(t,arguments),t}function xG(){return WS.apply(null,arguments).exponent(.5)}function wN(t){return Math.sign(t)*t*t}function _G(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function WL(){var t=VS(),e=[0,1],r=!1,n;function i(a){var s=_G(t(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return t.invert(wN(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,zp)).map(wN)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return WL(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Wn.apply(i,arguments),jo(i)}function HL(){var t=[],e=[],r=[],n;function i(){var s=0,u=Math.max(1,e.length);for(r=new Array(u-1);++s<u;)r[s-1]=AK(t,s/u);return a}function a(s){return s==null||isNaN(s=+s)?n:e[dd(r,s)]}return a.invertExtent=function(s){var u=e.indexOf(s);return u<0?[NaN,NaN]:[u>0?r[u-1]:t[0],u<r.length?r[u]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let u of s)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(wo),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return HL().domain(t).range(e).unknown(n)},Wn.apply(a,arguments)}function KL(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[dd(n,c,0,r)]:a}function u(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,u()):[t,e]},s.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,u()):i.slice()},s.invertExtent=function(c){var f=i.indexOf(c);return f<0?[NaN,NaN]:f<1?[t,n[0]]:f>=r?[n[r-1],e]:[n[f-1],n[f]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return KL().domain([t,e]).range(i).unknown(a)},Wn.apply(jo(s),arguments)}function GL(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[dd(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return GL().domain(t).range(e).unknown(r)},Wn.apply(i,arguments)}const Px=new Date,kx=new Date;function sr(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),u=i.ceil(a);return a-s<u-a?s:u},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,u)=>{const c=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<s)||!(u>0))return c;let f;do c.push(f=new Date(+a)),e(a,u),t(a);while(f<a&&a<s);return c},i.filter=a=>sr(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,u)=>{if(s>=s)if(u<0)for(;++u<=0;)for(;e(s,-1),!a(s););else for(;--u>=0;)for(;e(s,1),!a(s););}),r&&(i.count=(a,s)=>(Px.setTime(+a),kx.setTime(+s),t(Px),t(kx),Math.floor(r(Px,kx))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Kp=sr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Kp.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?sr(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Kp);Kp.range;const pa=1e3,Un=pa*60,ma=Un*60,Ta=ma*24,HS=Ta*7,SN=Ta*30,Ox=Ta*365,ws=sr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*pa)},(t,e)=>(e-t)/pa,t=>t.getUTCSeconds());ws.range;const KS=sr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*pa)},(t,e)=>{t.setTime(+t+e*Un)},(t,e)=>(e-t)/Un,t=>t.getMinutes());KS.range;const GS=sr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Un)},(t,e)=>(e-t)/Un,t=>t.getUTCMinutes());GS.range;const YS=sr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*pa-t.getMinutes()*Un)},(t,e)=>{t.setTime(+t+e*ma)},(t,e)=>(e-t)/ma,t=>t.getHours());YS.range;const XS=sr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ma)},(t,e)=>(e-t)/ma,t=>t.getUTCHours());XS.range;const md=sr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Un)/Ta,t=>t.getDate()-1);md.range;const ig=sr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ta,t=>t.getUTCDate()-1);ig.range;const YL=sr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ta,t=>Math.floor(t/Ta));YL.range;function Gs(t){return sr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Un)/HS)}const ag=Gs(0),Gp=Gs(1),wG=Gs(2),SG=Gs(3),pu=Gs(4),EG=Gs(5),TG=Gs(6);ag.range;Gp.range;wG.range;SG.range;pu.range;EG.range;TG.range;function Ys(t){return sr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/HS)}const og=Ys(0),Yp=Ys(1),AG=Ys(2),PG=Ys(3),mu=Ys(4),kG=Ys(5),OG=Ys(6);og.range;Yp.range;AG.range;PG.range;mu.range;kG.range;OG.range;const QS=sr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());QS.range;const JS=sr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());JS.range;const Aa=sr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Aa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:sr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Aa.range;const Pa=sr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Pa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:sr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Pa.range;function XL(t,e,r,n,i,a){const s=[[ws,1,pa],[ws,5,5*pa],[ws,15,15*pa],[ws,30,30*pa],[a,1,Un],[a,5,5*Un],[a,15,15*Un],[a,30,30*Un],[i,1,ma],[i,3,3*ma],[i,6,6*ma],[i,12,12*ma],[n,1,Ta],[n,2,2*Ta],[r,1,HS],[e,1,SN],[e,3,3*SN],[t,1,Ox]];function u(f,h,g){const v=h<f;v&&([f,h]=[h,f]);const _=g&&typeof g.range=="function"?g:c(f,h,g),E=_?_.range(f,+h+1):[];return v?E.reverse():E}function c(f,h,g){const v=Math.abs(h-f)/g,_=RS(([,,b])=>b).right(s,v);if(_===s.length)return t.every(mw(f/Ox,h/Ox,g));if(_===0)return Kp.every(Math.max(mw(f,h,g),1));const[E,w]=s[v/s[_-1][2]<s[_][2]/v?_-1:_];return E.every(w)}return[u,c]}const[IG,CG]=XL(Pa,JS,og,YL,XS,GS),[NG,jG]=XL(Aa,QS,ag,md,YS,KS);function Ix(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Cx(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function kc(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function RG(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,s=t.shortDays,u=t.months,c=t.shortMonths,f=Oc(i),h=Ic(i),g=Oc(a),v=Ic(a),_=Oc(s),E=Ic(s),w=Oc(u),b=Ic(u),P=Oc(c),j=Ic(c),R={a:ie,A:J,b:Q,B:ae,c:null,d:ON,e:ON,f:nY,g:hY,G:mY,H:eY,I:tY,j:rY,L:QL,m:iY,M:aY,p:q,q:G,Q:NN,s:jN,S:oY,u:sY,U:lY,V:uY,w:cY,W:fY,x:null,X:null,y:dY,Y:pY,Z:gY,"%":CN},V={a:ue,A:xe,b:Pe,B:De,c:null,d:IN,e:IN,f:xY,g:IY,G:NY,H:yY,I:vY,j:bY,L:ZL,m:_Y,M:wY,p:Ke,q:je,Q:NN,s:jN,S:SY,u:EY,U:TY,V:AY,w:PY,W:kY,x:null,X:null,y:OY,Y:CY,Z:jY,"%":CN},O={a:I,A:M,b:F,B:L,c:te,d:PN,e:PN,f:XG,g:AN,G:TN,H:kN,I:kN,j:HG,L:YG,m:WG,M:KG,p:D,q:zG,Q:JG,s:ZG,S:GG,u:VG,U:FG,V:UG,w:$G,W:BG,x:re,X,y:AN,Y:TN,Z:qG,"%":QG};R.x=N(r,R),R.X=N(n,R),R.c=N(e,R),V.x=N(r,V),V.X=N(n,V),V.c=N(e,V);function N(de,Se){return function(Re){var W=[],ge=-1,_e=0,Ne=de.length,Xe,Lt,Yr;for(Re instanceof Date||(Re=new Date(+Re));++ge<Ne;)de.charCodeAt(ge)===37&&(W.push(de.slice(_e,ge)),(Lt=EN[Xe=de.charAt(++ge)])!=null?Xe=de.charAt(++ge):Lt=Xe==="e"?" ":"0",(Yr=Se[Xe])&&(Xe=Yr(Re,Lt)),W.push(Xe),_e=ge+1);return W.push(de.slice(_e,ge)),W.join("")}}function A(de,Se){return function(Re){var W=kc(1900,void 0,1),ge=k(W,de,Re+="",0),_e,Ne;if(ge!=Re.length)return null;if("Q"in W)return new Date(W.Q);if("s"in W)return new Date(W.s*1e3+("L"in W?W.L:0));if(Se&&!("Z"in W)&&(W.Z=0),"p"in W&&(W.H=W.H%12+W.p*12),W.m===void 0&&(W.m="q"in W?W.q:0),"V"in W){if(W.V<1||W.V>53)return null;"w"in W||(W.w=1),"Z"in W?(_e=Cx(kc(W.y,0,1)),Ne=_e.getUTCDay(),_e=Ne>4||Ne===0?Yp.ceil(_e):Yp(_e),_e=ig.offset(_e,(W.V-1)*7),W.y=_e.getUTCFullYear(),W.m=_e.getUTCMonth(),W.d=_e.getUTCDate()+(W.w+6)%7):(_e=Ix(kc(W.y,0,1)),Ne=_e.getDay(),_e=Ne>4||Ne===0?Gp.ceil(_e):Gp(_e),_e=md.offset(_e,(W.V-1)*7),W.y=_e.getFullYear(),W.m=_e.getMonth(),W.d=_e.getDate()+(W.w+6)%7)}else("W"in W||"U"in W)&&("w"in W||(W.w="u"in W?W.u%7:"W"in W?1:0),Ne="Z"in W?Cx(kc(W.y,0,1)).getUTCDay():Ix(kc(W.y,0,1)).getDay(),W.m=0,W.d="W"in W?(W.w+6)%7+W.W*7-(Ne+5)%7:W.w+W.U*7-(Ne+6)%7);return"Z"in W?(W.H+=W.Z/100|0,W.M+=W.Z%100,Cx(W)):Ix(W)}}function k(de,Se,Re,W){for(var ge=0,_e=Se.length,Ne=Re.length,Xe,Lt;ge<_e;){if(W>=Ne)return-1;if(Xe=Se.charCodeAt(ge++),Xe===37){if(Xe=Se.charAt(ge++),Lt=O[Xe in EN?Se.charAt(ge++):Xe],!Lt||(W=Lt(de,Re,W))<0)return-1}else if(Xe!=Re.charCodeAt(W++))return-1}return W}function D(de,Se,Re){var W=f.exec(Se.slice(Re));return W?(de.p=h.get(W[0].toLowerCase()),Re+W[0].length):-1}function I(de,Se,Re){var W=_.exec(Se.slice(Re));return W?(de.w=E.get(W[0].toLowerCase()),Re+W[0].length):-1}function M(de,Se,Re){var W=g.exec(Se.slice(Re));return W?(de.w=v.get(W[0].toLowerCase()),Re+W[0].length):-1}function F(de,Se,Re){var W=P.exec(Se.slice(Re));return W?(de.m=j.get(W[0].toLowerCase()),Re+W[0].length):-1}function L(de,Se,Re){var W=w.exec(Se.slice(Re));return W?(de.m=b.get(W[0].toLowerCase()),Re+W[0].length):-1}function te(de,Se,Re){return k(de,e,Se,Re)}function re(de,Se,Re){return k(de,r,Se,Re)}function X(de,Se,Re){return k(de,n,Se,Re)}function ie(de){return s[de.getDay()]}function J(de){return a[de.getDay()]}function Q(de){return c[de.getMonth()]}function ae(de){return u[de.getMonth()]}function q(de){return i[+(de.getHours()>=12)]}function G(de){return 1+~~(de.getMonth()/3)}function ue(de){return s[de.getUTCDay()]}function xe(de){return a[de.getUTCDay()]}function Pe(de){return c[de.getUTCMonth()]}function De(de){return u[de.getUTCMonth()]}function Ke(de){return i[+(de.getUTCHours()>=12)]}function je(de){return 1+~~(de.getUTCMonth()/3)}return{format:function(de){var Se=N(de+="",R);return Se.toString=function(){return de},Se},parse:function(de){var Se=A(de+="",!1);return Se.toString=function(){return de},Se},utcFormat:function(de){var Se=N(de+="",V);return Se.toString=function(){return de},Se},utcParse:function(de){var Se=A(de+="",!0);return Se.toString=function(){return de},Se}}}var EN={"-":"",_:" ",0:"0"},mr=/^\s*\d+/,DG=/^%/,MG=/[\\^$*+?|[\]().{}]/g;function ft(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function LG(t){return t.replace(MG,"\\$&")}function Oc(t){return new RegExp("^(?:"+t.map(LG).join("|")+")","i")}function Ic(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function $G(t,e,r){var n=mr.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function VG(t,e,r){var n=mr.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function FG(t,e,r){var n=mr.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function UG(t,e,r){var n=mr.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function BG(t,e,r){var n=mr.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function TN(t,e,r){var n=mr.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function AN(t,e,r){var n=mr.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function qG(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function zG(t,e,r){var n=mr.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function WG(t,e,r){var n=mr.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function PN(t,e,r){var n=mr.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function HG(t,e,r){var n=mr.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function kN(t,e,r){var n=mr.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function KG(t,e,r){var n=mr.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function GG(t,e,r){var n=mr.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function YG(t,e,r){var n=mr.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function XG(t,e,r){var n=mr.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function QG(t,e,r){var n=DG.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function JG(t,e,r){var n=mr.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function ZG(t,e,r){var n=mr.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function ON(t,e){return ft(t.getDate(),e,2)}function eY(t,e){return ft(t.getHours(),e,2)}function tY(t,e){return ft(t.getHours()%12||12,e,2)}function rY(t,e){return ft(1+md.count(Aa(t),t),e,3)}function QL(t,e){return ft(t.getMilliseconds(),e,3)}function nY(t,e){return QL(t,e)+"000"}function iY(t,e){return ft(t.getMonth()+1,e,2)}function aY(t,e){return ft(t.getMinutes(),e,2)}function oY(t,e){return ft(t.getSeconds(),e,2)}function sY(t){var e=t.getDay();return e===0?7:e}function lY(t,e){return ft(ag.count(Aa(t)-1,t),e,2)}function JL(t){var e=t.getDay();return e>=4||e===0?pu(t):pu.ceil(t)}function uY(t,e){return t=JL(t),ft(pu.count(Aa(t),t)+(Aa(t).getDay()===4),e,2)}function cY(t){return t.getDay()}function fY(t,e){return ft(Gp.count(Aa(t)-1,t),e,2)}function dY(t,e){return ft(t.getFullYear()%100,e,2)}function hY(t,e){return t=JL(t),ft(t.getFullYear()%100,e,2)}function pY(t,e){return ft(t.getFullYear()%1e4,e,4)}function mY(t,e){var r=t.getDay();return t=r>=4||r===0?pu(t):pu.ceil(t),ft(t.getFullYear()%1e4,e,4)}function gY(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ft(e/60|0,"0",2)+ft(e%60,"0",2)}function IN(t,e){return ft(t.getUTCDate(),e,2)}function yY(t,e){return ft(t.getUTCHours(),e,2)}function vY(t,e){return ft(t.getUTCHours()%12||12,e,2)}function bY(t,e){return ft(1+ig.count(Pa(t),t),e,3)}function ZL(t,e){return ft(t.getUTCMilliseconds(),e,3)}function xY(t,e){return ZL(t,e)+"000"}function _Y(t,e){return ft(t.getUTCMonth()+1,e,2)}function wY(t,e){return ft(t.getUTCMinutes(),e,2)}function SY(t,e){return ft(t.getUTCSeconds(),e,2)}function EY(t){var e=t.getUTCDay();return e===0?7:e}function TY(t,e){return ft(og.count(Pa(t)-1,t),e,2)}function e4(t){var e=t.getUTCDay();return e>=4||e===0?mu(t):mu.ceil(t)}function AY(t,e){return t=e4(t),ft(mu.count(Pa(t),t)+(Pa(t).getUTCDay()===4),e,2)}function PY(t){return t.getUTCDay()}function kY(t,e){return ft(Yp.count(Pa(t)-1,t),e,2)}function OY(t,e){return ft(t.getUTCFullYear()%100,e,2)}function IY(t,e){return t=e4(t),ft(t.getUTCFullYear()%100,e,2)}function CY(t,e){return ft(t.getUTCFullYear()%1e4,e,4)}function NY(t,e){var r=t.getUTCDay();return t=r>=4||r===0?mu(t):mu.ceil(t),ft(t.getUTCFullYear()%1e4,e,4)}function jY(){return"+0000"}function CN(){return"%"}function NN(t){return+t}function jN(t){return Math.floor(+t/1e3)}var Ml,t4,r4;RY({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function RY(t){return Ml=RG(t),t4=Ml.format,Ml.parse,r4=Ml.utcFormat,Ml.utcParse,Ml}function DY(t){return new Date(t)}function MY(t){return t instanceof Date?+t:+new Date(+t)}function ZS(t,e,r,n,i,a,s,u,c,f){var h=VS(),g=h.invert,v=h.domain,_=f(".%L"),E=f(":%S"),w=f("%I:%M"),b=f("%I %p"),P=f("%a %d"),j=f("%b %d"),R=f("%B"),V=f("%Y");function O(N){return(c(N)<N?_:u(N)<N?E:s(N)<N?w:a(N)<N?b:n(N)<N?i(N)<N?P:j:r(N)<N?R:V)(N)}return h.invert=function(N){return new Date(g(N))},h.domain=function(N){return arguments.length?v(Array.from(N,MY)):v().map(DY)},h.ticks=function(N){var A=v();return t(A[0],A[A.length-1],N??10)},h.tickFormat=function(N,A){return A==null?O:f(A)},h.nice=function(N){var A=v();return(!N||typeof N.range!="function")&&(N=e(A[0],A[A.length-1],N??10)),N?v(BL(A,N)):h},h.copy=function(){return pd(h,ZS(t,e,r,n,i,a,s,u,c,f))},h}function LY(){return Wn.apply(ZS(NG,jG,Aa,QS,ag,md,YS,KS,ws,t4).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function $Y(){return Wn.apply(ZS(IG,CG,Pa,JS,og,ig,XS,GS,ws,r4).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function sg(){var t=0,e=1,r,n,i,a,s=Kr,u=!1,c;function f(g){return g==null||isNaN(g=+g)?c:s(i===0?.5:(g=(a(g)-r)*i,u?Math.max(0,Math.min(1,g)):g))}f.domain=function(g){return arguments.length?([t,e]=g,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),f):[t,e]},f.clamp=function(g){return arguments.length?(u=!!g,f):u},f.interpolator=function(g){return arguments.length?(s=g,f):s};function h(g){return function(v){var _,E;return arguments.length?([_,E]=v,s=g(_,E),f):[s(0),s(1)]}}return f.range=h(Uu),f.rangeRound=h($S),f.unknown=function(g){return arguments.length?(c=g,f):c},function(g){return a=g,r=g(t),n=g(e),i=r===n?0:1/(n-r),f}}function Ro(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function n4(){var t=jo(sg()(Kr));return t.copy=function(){return Ro(t,n4())},Na.apply(t,arguments)}function i4(){var t=BS(sg()).domain([1,10]);return t.copy=function(){return Ro(t,i4()).base(t.base())},Na.apply(t,arguments)}function a4(){var t=qS(sg());return t.copy=function(){return Ro(t,a4()).constant(t.constant())},Na.apply(t,arguments)}function eE(){var t=zS(sg());return t.copy=function(){return Ro(t,eE()).exponent(t.exponent())},Na.apply(t,arguments)}function VY(){return eE.apply(null,arguments).exponent(.5)}function o4(){var t=[],e=Kr;function r(n){if(n!=null&&!isNaN(n=+n))return e((dd(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(wo),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>TK(t,a/n))},r.copy=function(){return o4(e).domain(t)},Na.apply(r,arguments)}function lg(){var t=0,e=.5,r=1,n=1,i,a,s,u,c,f=Kr,h,g=!1,v;function _(w){return isNaN(w=+w)?v:(w=.5+((w=+h(w))-a)*(n*w<n*a?u:c),f(g?Math.max(0,Math.min(1,w)):w))}_.domain=function(w){return arguments.length?([t,e,r]=w,i=h(t=+t),a=h(e=+e),s=h(r=+r),u=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,_):[t,e,r]},_.clamp=function(w){return arguments.length?(g=!!w,_):g},_.interpolator=function(w){return arguments.length?(f=w,_):f};function E(w){return function(b){var P,j,R;return arguments.length?([P,j,R]=b,f=QK(w,[P,j,R]),_):[f(0),f(.5),f(1)]}}return _.range=E(Uu),_.rangeRound=E($S),_.unknown=function(w){return arguments.length?(v=w,_):v},function(w){return h=w,i=w(t),a=w(e),s=w(r),u=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,_}}function s4(){var t=jo(lg()(Kr));return t.copy=function(){return Ro(t,s4())},Na.apply(t,arguments)}function l4(){var t=BS(lg()).domain([.1,1,10]);return t.copy=function(){return Ro(t,l4()).base(t.base())},Na.apply(t,arguments)}function u4(){var t=qS(lg());return t.copy=function(){return Ro(t,u4()).constant(t.constant())},Na.apply(t,arguments)}function tE(){var t=zS(lg());return t.copy=function(){return Ro(t,tE()).exponent(t.exponent())},Na.apply(t,arguments)}function FY(){return tE.apply(null,arguments).exponent(.5)}const RN=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:vf,scaleDiverging:s4,scaleDivergingLog:l4,scaleDivergingPow:tE,scaleDivergingSqrt:FY,scaleDivergingSymlog:u4,scaleIdentity:UL,scaleImplicit:gw,scaleLinear:Hp,scaleLog:qL,scaleOrdinal:DS,scalePoint:Xc,scalePow:WS,scaleQuantile:HL,scaleQuantize:KL,scaleRadial:WL,scaleSequential:n4,scaleSequentialLog:i4,scaleSequentialPow:eE,scaleSequentialQuantile:o4,scaleSequentialSqrt:VY,scaleSequentialSymlog:a4,scaleSqrt:xG,scaleSymlog:zL,scaleThreshold:GL,scaleTime:LY,scaleUtc:$Y,tickFormat:FL},Symbol.toStringTag,{value:"Module"}));var Nx,DN;function ug(){if(DN)return Nx;DN=1;var t=Lu();function e(r,n,i){for(var a=-1,s=r.length;++a<s;){var u=r[a],c=n(u);if(c!=null&&(f===void 0?c===c&&!t(c):i(c,f)))var f=c,h=u}return h}return Nx=e,Nx}var jx,MN;function c4(){if(MN)return jx;MN=1;function t(e,r){return e>r}return jx=t,jx}var Rx,LN;function UY(){if(LN)return Rx;LN=1;var t=ug(),e=c4(),r=Vu();function n(i){return i&&i.length?t(i,r,e):void 0}return Rx=n,Rx}var BY=UY();const cg=pt(BY);var Dx,$N;function f4(){if($N)return Dx;$N=1;function t(e,r){return e<r}return Dx=t,Dx}var Mx,VN;function qY(){if(VN)return Mx;VN=1;var t=ug(),e=f4(),r=Vu();function n(i){return i&&i.length?t(i,r,e):void 0}return Mx=n,Mx}var zY=qY();const fg=pt(zY);var Lx,FN;function WY(){if(FN)return Lx;FN=1;var t=yS(),e=Wi(),r=vL(),n=un();function i(a,s){var u=n(a)?t:r;return u(a,e(s,3))}return Lx=i,Lx}var $x,UN;function HY(){if(UN)return $x;UN=1;var t=gL(),e=WY();function r(n,i){return t(e(n,i),1)}return $x=r,$x}var KY=HY();const GY=pt(KY);var Vx,BN;function YY(){if(BN)return Vx;BN=1;var t=IS();function e(r,n){return t(r,n)}return Vx=e,Vx}var XY=YY();const dg=pt(XY);var Bu=1e9,QY={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},nE,jt=!0,zn="[DecimalError] ",ks=zn+"Invalid argument: ",rE=zn+"Exponent out of range: ",qu=Math.floor,ms=Math.pow,JY=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,wn,hr=1e7,Ot=7,d4=9007199254740991,Xp=qu(d4/Ot),Te={};Te.absoluteValue=Te.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Te.comparedTo=Te.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Te.decimalPlaces=Te.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Ot;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Te.dividedBy=Te.div=function(t){return xa(this,new this.constructor(t))};Te.dividedToIntegerBy=Te.idiv=function(t){var e=this,r=e.constructor;return _t(xa(e,new r(t),0,1),r.precision)};Te.equals=Te.eq=function(t){return!this.cmp(t)};Te.exponent=function(){return Xt(this)};Te.greaterThan=Te.gt=function(t){return this.cmp(t)>0};Te.greaterThanOrEqualTo=Te.gte=function(t){return this.cmp(t)>=0};Te.isInteger=Te.isint=function(){return this.e>this.d.length-2};Te.isNegative=Te.isneg=function(){return this.s<0};Te.isPositive=Te.ispos=function(){return this.s>0};Te.isZero=function(){return this.s===0};Te.lessThan=Te.lt=function(t){return this.cmp(t)<0};Te.lessThanOrEqualTo=Te.lte=function(t){return this.cmp(t)<1};Te.logarithm=Te.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(wn))throw Error(zn+"NaN");if(r.s<1)throw Error(zn+(r.s?"NaN":"-Infinity"));return r.eq(wn)?new n(0):(jt=!1,e=xa(Sf(r,a),Sf(t,a),a),jt=!0,_t(e,i))};Te.minus=Te.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?m4(e,t):h4(e,(t.s=-t.s,t))};Te.modulo=Te.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(zn+"NaN");return r.s?(jt=!1,e=xa(r,t,0,1).times(t),jt=!0,r.minus(e)):_t(new n(r),i)};Te.naturalExponential=Te.exp=function(){return p4(this)};Te.naturalLogarithm=Te.ln=function(){return Sf(this)};Te.negated=Te.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Te.plus=Te.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?h4(e,t):m4(e,(t.s=-t.s,t))};Te.precision=Te.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ks+t);if(e=Xt(i)+1,n=i.d.length-1,r=n*Ot+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Te.squareRoot=Te.sqrt=function(){var t,e,r,n,i,a,s,u=this,c=u.constructor;if(u.s<1){if(!u.s)return new c(0);throw Error(zn+"NaN")}for(t=Xt(u),jt=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=Ii(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=qu((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(i.toString()),r=c.precision,i=s=r+3;;)if(a=n,n=a.plus(xa(u,a,s+2)).times(.5),Ii(a.d).slice(0,s)===(e=Ii(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(_t(a,r+1,0),a.times(a).eq(u)){n=a;break}}else if(e!="9999")break;s+=4}return jt=!0,_t(n,r)};Te.times=Te.mul=function(t){var e,r,n,i,a,s,u,c,f,h=this,g=h.constructor,v=h.d,_=(t=new g(t)).d;if(!h.s||!t.s)return new g(0);for(t.s*=h.s,r=h.e+t.e,c=v.length,f=_.length,c<f&&(a=v,v=_,_=a,s=c,c=f,f=s),a=[],s=c+f,n=s;n--;)a.push(0);for(n=f;--n>=0;){for(e=0,i=c+n;i>n;)u=a[i]+_[n]*v[i-n-1]+e,a[i--]=u%hr|0,e=u/hr|0;a[i]=(a[i]+e)%hr|0}for(;!a[--s];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,jt?_t(t,g.precision):t};Te.toDecimalPlaces=Te.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Ui(t,0,Bu),e===void 0?e=n.rounding:Ui(e,0,8),_t(r,t+Xt(r)+1,e))};Te.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Fs(n,!0):(Ui(t,0,Bu),e===void 0?e=i.rounding:Ui(e,0,8),n=_t(new i(n),t+1,e),r=Fs(n,!0,t+1)),r};Te.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?Fs(i):(Ui(t,0,Bu),e===void 0?e=a.rounding:Ui(e,0,8),n=_t(new a(i),t+Xt(i)+1,e),r=Fs(n.abs(),!1,t+Xt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Te.toInteger=Te.toint=function(){var t=this,e=t.constructor;return _t(new e(t),Xt(t)+1,e.rounding)};Te.toNumber=function(){return+this};Te.toPower=Te.pow=function(t){var e,r,n,i,a,s,u=this,c=u.constructor,f=12,h=+(t=new c(t));if(!t.s)return new c(wn);if(u=new c(u),!u.s){if(t.s<1)throw Error(zn+"Infinity");return u}if(u.eq(wn))return u;if(n=c.precision,t.eq(wn))return _t(u,n);if(e=t.e,r=t.d.length-1,s=e>=r,a=u.s,s){if((r=h<0?-h:h)<=d4){for(i=new c(wn),e=Math.ceil(n/Ot+4),jt=!1;r%2&&(i=i.times(u),zN(i.d,e)),r=qu(r/2),r!==0;)u=u.times(u),zN(u.d,e);return jt=!0,t.s<0?new c(wn).div(i):_t(i,n)}}else if(a<0)throw Error(zn+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,u.s=1,jt=!1,i=t.times(Sf(u,n+f)),jt=!0,i=p4(i),i.s=a,i};Te.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=Xt(i),n=Fs(i,r<=a.toExpNeg||r>=a.toExpPos)):(Ui(t,1,Bu),e===void 0?e=a.rounding:Ui(e,0,8),i=_t(new a(i),t,e),r=Xt(i),n=Fs(i,t<=r||r<=a.toExpNeg,t)),n};Te.toSignificantDigits=Te.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Ui(t,1,Bu),e===void 0?e=n.rounding:Ui(e,0,8)),_t(new n(r),t,e)};Te.toString=Te.valueOf=Te.val=Te.toJSON=Te[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Xt(t),r=t.constructor;return Fs(t,e<=r.toExpNeg||e>=r.toExpPos)};function h4(t,e){var r,n,i,a,s,u,c,f,h=t.constructor,g=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),jt?_t(e,g):e;if(c=t.d,f=e.d,s=t.e,i=e.e,c=c.slice(),a=s-i,a){for(a<0?(n=c,a=-a,u=f.length):(n=f,i=s,u=c.length),s=Math.ceil(g/Ot),u=s>u?s+1:u+1,a>u&&(a=u,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(u=c.length,a=f.length,u-a<0&&(a=u,n=f,f=c,c=n),r=0;a;)r=(c[--a]=c[a]+f[a]+r)/hr|0,c[a]%=hr;for(r&&(c.unshift(r),++i),u=c.length;c[--u]==0;)c.pop();return e.d=c,e.e=i,jt?_t(e,g):e}function Ui(t,e,r){if(t!==~~t||t<e||t>r)throw Error(ks+t)}function Ii(t){var e,r,n,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)n=t[e]+"",r=Ot-n.length,r&&(a+=uo(r)),a+=n;s=t[e],n=s+"",r=Ot-n.length,r&&(a+=uo(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var xa=function(){function t(n,i){var a,s=0,u=n.length;for(n=n.slice();u--;)a=n[u]*i+s,n[u]=a%hr|0,s=a/hr|0;return s&&n.unshift(s),n}function e(n,i,a,s){var u,c;if(a!=s)c=a>s?1:-1;else for(u=c=0;u<a;u++)if(n[u]!=i[u]){c=n[u]>i[u]?1:-1;break}return c}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*hr+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var u,c,f,h,g,v,_,E,w,b,P,j,R,V,O,N,A,k,D=n.constructor,I=n.s==i.s?1:-1,M=n.d,F=i.d;if(!n.s)return new D(n);if(!i.s)throw Error(zn+"Division by zero");for(c=n.e-i.e,A=F.length,O=M.length,_=new D(I),E=_.d=[],f=0;F[f]==(M[f]||0);)++f;if(F[f]>(M[f]||0)&&--c,a==null?j=a=D.precision:s?j=a+(Xt(n)-Xt(i))+1:j=a,j<0)return new D(0);if(j=j/Ot+2|0,f=0,A==1)for(h=0,F=F[0],j++;(f<O||h)&&j--;f++)R=h*hr+(M[f]||0),E[f]=R/F|0,h=R%F|0;else{for(h=hr/(F[0]+1)|0,h>1&&(F=t(F,h),M=t(M,h),A=F.length,O=M.length),V=A,w=M.slice(0,A),b=w.length;b<A;)w[b++]=0;k=F.slice(),k.unshift(0),N=F[0],F[1]>=hr/2&&++N;do h=0,u=e(F,w,A,b),u<0?(P=w[0],A!=b&&(P=P*hr+(w[1]||0)),h=P/N|0,h>1?(h>=hr&&(h=hr-1),g=t(F,h),v=g.length,b=w.length,u=e(g,w,v,b),u==1&&(h--,r(g,A<v?k:F,v))):(h==0&&(u=h=1),g=F.slice()),v=g.length,v<b&&g.unshift(0),r(w,g,b),u==-1&&(b=w.length,u=e(F,w,A,b),u<1&&(h++,r(w,A<b?k:F,b))),b=w.length):u===0&&(h++,w=[0]),E[f++]=h,u&&w[0]?w[b++]=M[V]||0:(w=[M[V]],b=1);while((V++<O||w[0]!==void 0)&&j--)}return E[0]||E.shift(),_.e=c,_t(_,s?a+Xt(_)+1:a)}}();function p4(t,e){var r,n,i,a,s,u,c=0,f=0,h=t.constructor,g=h.precision;if(Xt(t)>16)throw Error(rE+Xt(t));if(!t.s)return new h(wn);for(jt=!1,u=g,s=new h(.03125);t.abs().gte(.1);)t=t.times(s),f+=5;for(n=Math.log(ms(2,f))/Math.LN10*2+5|0,u+=n,r=i=a=new h(wn),h.precision=u;;){if(i=_t(i.times(t),u),r=r.times(++c),s=a.plus(xa(i,r,u)),Ii(s.d).slice(0,u)===Ii(a.d).slice(0,u)){for(;f--;)a=_t(a.times(a),u);return h.precision=g,e==null?(jt=!0,_t(a,g)):a}a=s}}function Xt(t){for(var e=t.e*Ot,r=t.d[0];r>=10;r/=10)e++;return e}function Fx(t,e,r){if(e>t.LN10.sd())throw jt=!0,r&&(t.precision=r),Error(zn+"LN10 precision limit exceeded");return _t(new t(t.LN10),e)}function uo(t){for(var e="";t--;)e+="0";return e}function Sf(t,e){var r,n,i,a,s,u,c,f,h,g=1,v=10,_=t,E=_.d,w=_.constructor,b=w.precision;if(_.s<1)throw Error(zn+(_.s?"NaN":"-Infinity"));if(_.eq(wn))return new w(0);if(e==null?(jt=!1,f=b):f=e,_.eq(10))return e==null&&(jt=!0),Fx(w,f);if(f+=v,w.precision=f,r=Ii(E),n=r.charAt(0),a=Xt(_),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)_=_.times(t),r=Ii(_.d),n=r.charAt(0),g++;a=Xt(_),n>1?(_=new w("0."+r),a++):_=new w(n+"."+r.slice(1))}else return c=Fx(w,f+2,b).times(a+""),_=Sf(new w(n+"."+r.slice(1)),f-v).plus(c),w.precision=b,e==null?(jt=!0,_t(_,b)):_;for(u=s=_=xa(_.minus(wn),_.plus(wn),f),h=_t(_.times(_),f),i=3;;){if(s=_t(s.times(h),f),c=u.plus(xa(s,new w(i),f)),Ii(c.d).slice(0,f)===Ii(u.d).slice(0,f))return u=u.times(2),a!==0&&(u=u.plus(Fx(w,f+2,b).times(a+""))),u=xa(u,new w(g),f),w.precision=b,e==null?(jt=!0,_t(u,b)):u;u=c,i+=2}}function qN(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=qu(r/Ot),t.d=[],n=(r+1)%Ot,r<0&&(n+=Ot),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Ot;n<i;)t.d.push(+e.slice(n,n+=Ot));e=e.slice(n),n=Ot-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),jt&&(t.e>Xp||t.e<-Xp))throw Error(rE+r)}else t.s=0,t.e=0,t.d=[0];return t}function _t(t,e,r){var n,i,a,s,u,c,f,h,g=t.d;for(s=1,a=g[0];a>=10;a/=10)s++;if(n=e-s,n<0)n+=Ot,i=e,f=g[h=0];else{if(h=Math.ceil((n+1)/Ot),a=g.length,h>=a)return t;for(f=a=g[h],s=1;a>=10;a/=10)s++;n%=Ot,i=n-Ot+s}if(r!==void 0&&(a=ms(10,s-i-1),u=f/a%10|0,c=e<0||g[h+1]!==void 0||f%a,c=r<4?(u||c)&&(r==0||r==(t.s<0?3:2)):u>5||u==5&&(r==4||c||r==6&&(n>0?i>0?f/ms(10,s-i):0:g[h-1])%10&1||r==(t.s<0?8:7))),e<1||!g[0])return c?(a=Xt(t),g.length=1,e=e-a-1,g[0]=ms(10,(Ot-e%Ot)%Ot),t.e=qu(-e/Ot)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(n==0?(g.length=h,a=1,h--):(g.length=h+1,a=ms(10,Ot-n),g[h]=i>0?(f/ms(10,s-i)%ms(10,i)|0)*a:0),c)for(;;)if(h==0){(g[0]+=a)==hr&&(g[0]=1,++t.e);break}else{if(g[h]+=a,g[h]!=hr)break;g[h--]=0,a=1}for(n=g.length;g[--n]===0;)g.pop();if(jt&&(t.e>Xp||t.e<-Xp))throw Error(rE+Xt(t));return t}function m4(t,e){var r,n,i,a,s,u,c,f,h,g,v=t.constructor,_=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),jt?_t(e,_):e;if(c=t.d,g=e.d,n=e.e,f=t.e,c=c.slice(),s=f-n,s){for(h=s<0,h?(r=c,s=-s,u=g.length):(r=g,n=f,u=c.length),i=Math.max(Math.ceil(_/Ot),u)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=c.length,u=g.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(c[i]!=g[i]){h=c[i]<g[i];break}s=0}for(h&&(r=c,c=g,g=r,e.s=-e.s),u=c.length,i=g.length-u;i>0;--i)c[u++]=0;for(i=g.length;i>s;){if(c[--i]<g[i]){for(a=i;a&&c[--a]===0;)c[a]=hr-1;--c[a],c[i]+=hr}c[i]-=g[i]}for(;c[--u]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,jt?_t(e,_):e):new v(0)}function Fs(t,e,r){var n,i=Xt(t),a=Ii(t.d),s=a.length;return e?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+uo(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+uo(-i-1)+a,r&&(n=r-s)>0&&(a+=uo(n))):i>=s?(a+=uo(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+uo(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=uo(n))),t.s<0?"-"+a:a}function zN(t,e){if(t.length>e)return t.length=e,!0}function g4(t){var e,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(ks+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return qN(s,a.toString())}else if(typeof a!="string")throw Error(ks+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,JY.test(a))qN(s,a);else throw Error(ks+a)}if(i.prototype=Te,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=g4,i.config=i.set=ZY,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function ZY(t){if(!t||typeof t!="object")throw Error(zn+"Object expected");var e,r,n,i=["precision",1,Bu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(qu(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(ks+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ks+r+": "+n);return this}var nE=g4(QY);wn=new nE(1);const vt=nE;function eX(t){return iX(t)||nX(t)||rX(t)||tX()}function tX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rX(t,e){if(t){if(typeof t=="string")return xw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xw(t,e)}}function nX(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function iX(t){if(Array.isArray(t))return xw(t)}function xw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var aX=function(e){return e},y4={},v4=function(e){return e===y4},WN=function(e){return function r(){return arguments.length===0||arguments.length===1&&v4(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},oX=function t(e,r){return e===1?r:WN(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var s=i.filter(function(u){return u!==y4}).length;return s>=e?r.apply(void 0,i):t(e-s,WN(function(){for(var u=arguments.length,c=new Array(u),f=0;f<u;f++)c[f]=arguments[f];var h=i.map(function(g){return v4(g)?c.shift():g});return r.apply(void 0,eX(h).concat(c))}))})},hg=function(e){return oX(e.length,e)},_w=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},sX=hg(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),lX=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return aX;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(u,c){return c(u)},a.apply(void 0,arguments))}},ww=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},b4=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r&&a.every(function(u,c){return u===r[c]})||(r=a,n=e.apply(void 0,a)),n}};function uX(t){var e;return t===0?e=1:e=Math.floor(new vt(t).abs().log(10).toNumber())+1,e}function cX(t,e,r){for(var n=new vt(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var fX=hg(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),dX=hg(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),hX=hg(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const pg={rangeStep:cX,getDigitCount:uX,interpolateNumber:fX,uninterpolateNumber:dX,uninterpolateTruncation:hX};function Sw(t){return gX(t)||mX(t)||x4(t)||pX()}function pX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mX(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function gX(t){if(Array.isArray(t))return Ew(t)}function Ef(t,e){return bX(t)||vX(t,e)||x4(t,e)||yX()}function yX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x4(t,e){if(t){if(typeof t=="string")return Ew(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ew(t,e)}}function Ew(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vX(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),u;!(n=(u=s.next()).done)&&(r.push(u.value),!(e&&r.length===e));n=!0);}catch(c){i=!0,a=c}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw a}}return r}}function bX(t){if(Array.isArray(t))return t}function _4(t){var e=Ef(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function w4(t,e,r){if(t.lte(0))return new vt(0);var n=pg.getDigitCount(t.toNumber()),i=new vt(10).pow(n),a=t.div(i),s=n!==1?.05:.1,u=new vt(Math.ceil(a.div(s).toNumber())).add(r).mul(s),c=u.mul(i);return e?c:new vt(Math.ceil(c))}function xX(t,e,r){var n=1,i=new vt(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new vt(10).pow(pg.getDigitCount(t)-1),i=new vt(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new vt(Math.floor(t)))}else t===0?i=new vt(Math.floor((e-1)/2)):r||(i=new vt(Math.floor(t)));var s=Math.floor((e-1)/2),u=lX(sX(function(c){return i.add(new vt(c-s).mul(n)).toNumber()}),_w);return u(0,e)}function S4(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new vt(0),tickMin:new vt(0),tickMax:new vt(0)};var a=w4(new vt(e).sub(t).div(r-1),n,i),s;t<=0&&e>=0?s=new vt(0):(s=new vt(t).add(e).div(2),s=s.sub(new vt(s).mod(a)));var u=Math.ceil(s.sub(t).div(a).toNumber()),c=Math.ceil(new vt(e).sub(s).div(a).toNumber()),f=u+c+1;return f>r?S4(t,e,r,n,i+1):(f<r&&(c=e>0?c+(r-f):c,u=e>0?u:u+(r-f)),{step:a,tickMin:s.sub(new vt(u).mul(a)),tickMax:s.add(new vt(c).mul(a))})}function _X(t){var e=Ef(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),u=_4([r,n]),c=Ef(u,2),f=c[0],h=c[1];if(f===-1/0||h===1/0){var g=h===1/0?[f].concat(Sw(_w(0,i-1).map(function(){return 1/0}))):[].concat(Sw(_w(0,i-1).map(function(){return-1/0})),[h]);return r>n?ww(g):g}if(f===h)return xX(f,i,a);var v=S4(f,h,s,a),_=v.step,E=v.tickMin,w=v.tickMax,b=pg.rangeStep(E,w.add(new vt(.1).mul(_)),_);return r>n?ww(b):b}function wX(t,e){var r=Ef(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=_4([n,i]),u=Ef(s,2),c=u[0],f=u[1];if(c===-1/0||f===1/0)return[n,i];if(c===f)return[c];var h=Math.max(e,2),g=w4(new vt(f).sub(c).div(h-1),a,0),v=[].concat(Sw(pg.rangeStep(new vt(c),new vt(f).sub(new vt(.99).mul(g)),g)),[f]);return n>i?ww(v):v}var SX=b4(_X),EX=b4(wX),TX="Invariant failed";function Us(t,e){throw new Error(TX)}var AX=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function gu(t){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gu(t)}function Qp(){return Qp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qp.apply(this,arguments)}function PX(t,e){return CX(t)||IX(t,e)||OX(t,e)||kX()}function kX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OX(t,e){if(t){if(typeof t=="string")return HN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HN(t,e)}}function HN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function IX(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function CX(t){if(Array.isArray(t))return t}function NX(t,e){if(t==null)return{};var r=jX(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function jX(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function RX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,A4(n.key),n)}}function MX(t,e,r){return e&&DX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function LX(t,e,r){return e=Jp(e),$X(t,E4()?Reflect.construct(e,r||[],Jp(t).constructor):e.apply(t,r))}function $X(t,e){if(e&&(gu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VX(t)}function VX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E4=function(){return!!t})()}function Jp(t){return Jp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jp(t)}function FX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tw(t,e)}function Tw(t,e){return Tw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Tw(t,e)}function T4(t,e,r){return e=A4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function A4(t){var e=UX(t,"string");return gu(e)=="symbol"?e:e+""}function UX(t,e){if(gu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mg=function(t){function e(){return RX(this,e),LX(this,e,arguments)}return FX(e,t),MX(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,s=n.width,u=n.dataKey,c=n.data,f=n.dataPointFormatter,h=n.xAxis,g=n.yAxis,v=NX(n,AX),_=Be(v,!1);this.props.direction==="x"&&h.type!=="number"&&Us();var E=c.map(function(w){var b=f(w,u),P=b.x,j=b.y,R=b.value,V=b.errorVal;if(!V)return null;var O=[],N,A;if(Array.isArray(V)){var k=PX(V,2);N=k[0],A=k[1]}else N=A=V;if(a==="vertical"){var D=h.scale,I=j+i,M=I+s,F=I-s,L=D(R-N),te=D(R+A);O.push({x1:te,y1:M,x2:te,y2:F}),O.push({x1:L,y1:I,x2:te,y2:I}),O.push({x1:L,y1:M,x2:L,y2:F})}else if(a==="horizontal"){var re=g.scale,X=P+i,ie=X-s,J=X+s,Q=re(R-N),ae=re(R+A);O.push({x1:ie,y1:ae,x2:J,y2:ae}),O.push({x1:X,y1:Q,x2:X,y2:ae}),O.push({x1:ie,y1:Q,x2:J,y2:Q})}return H.createElement(gt,Qp({className:"recharts-errorBar",key:"bar-".concat(O.map(function(q){return"".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))},_),O.map(function(q){return H.createElement("line",Qp({},q,{key:"line-".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))}))});return H.createElement(gt,{className:"recharts-errorBars"},E)}}])}(H.Component);T4(mg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});T4(mg,"displayName","ErrorBar");function Tf(t){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tf(t)}function KN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ls(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KN(Object(r),!0).forEach(function(n){BX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BX(t,e,r){return e=qX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qX(t){var e=zX(t,"string");return Tf(e)=="symbol"?e:e+""}function zX(t,e){if(Tf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var P4=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=_n(r,As);if(!s)return null;var u=As.defaultProps,c=u!==void 0?ls(ls({},u),s.props):{},f;return s.props&&s.props.payload?f=s.props&&s.props.payload:a==="children"?f=(n||[]).reduce(function(h,g){var v=g.item,_=g.props,E=_.sectors||_.data||[];return h.concat(E.map(function(w){return{type:s.props.iconType||v.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):f=(n||[]).map(function(h){var g=h.item,v=g.type.defaultProps,_=v!==void 0?ls(ls({},v),g.props):{},E=_.dataKey,w=_.name,b=_.legendType,P=_.hide;return{inactive:P,dataKey:E,type:c.iconType||b||"square",color:iE(g),value:w||E,payload:_}}),ls(ls(ls({},c),As.getWithHeight(s,i)),{},{payload:f,item:s})};function Af(t){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Af(t)}function GN(t){return GX(t)||KX(t)||HX(t)||WX()}function WX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HX(t,e){if(t){if(typeof t=="string")return Aw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Aw(t,e)}}function KX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function GX(t){if(Array.isArray(t))return Aw(t)}function Aw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function YN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Bt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YN(Object(r),!0).forEach(function(n){eu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eu(t,e,r){return e=YX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YX(t){var e=XX(t,"string");return Af(e)=="symbol"?e:e+""}function XX(t,e){if(Af(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lr(t,e,r){return et(t)||et(e)?r:ir(e)?En(t,e,r):ze(e)?e(t):r}function Qc(t,e,r,n){var i=GY(t,function(u){return Lr(u,e)});if(r==="number"){var a=i.filter(function(u){return ve(u)||parseFloat(u)});return a.length?[fg(a),cg(a)]:[1/0,-1/0]}var s=n?i.filter(function(u){return!et(u)}):i;return s.map(function(u){return ir(u)||u instanceof Date?u:""})}var QX=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,u=(r=n?.length)!==null&&r!==void 0?r:0;if(u<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,f=0;f<u;f++){var h=f>0?i[f-1].coordinate:i[u-1].coordinate,g=i[f].coordinate,v=f>=u-1?i[0].coordinate:i[f+1].coordinate,_=void 0;if(Wr(g-h)!==Wr(v-g)){var E=[];if(Wr(v-g)===Wr(c[1]-c[0])){_=v;var w=g+c[1]-c[0];E[0]=Math.min(w,(w+h)/2),E[1]=Math.max(w,(w+h)/2)}else{_=h;var b=v+c[1]-c[0];E[0]=Math.min(g,(b+g)/2),E[1]=Math.max(g,(b+g)/2)}var P=[Math.min(g,(_+g)/2),Math.max(g,(_+g)/2)];if(e>P[0]&&e<=P[1]||e>=E[0]&&e<=E[1]){s=i[f].index;break}}else{var j=Math.min(h,v),R=Math.max(h,v);if(e>(j+g)/2&&e<=(R+g)/2){s=i[f].index;break}}}else for(var V=0;V<u;V++)if(V===0&&e<=(n[V].coordinate+n[V+1].coordinate)/2||V>0&&V<u-1&&e>(n[V].coordinate+n[V-1].coordinate)/2&&e<=(n[V].coordinate+n[V+1].coordinate)/2||V===u-1&&e>(n[V].coordinate+n[V-1].coordinate)/2){s=n[V].index;break}return s},iE=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Bt(Bt({},e.type.defaultProps),e.props):e.props,s=a.stroke,u=a.fill,c;switch(i){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:u;break;default:c=u;break}return c},JX=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},u=Object.keys(a),c=0,f=u.length;c<f;c++)for(var h=a[u[c]].stackGroups,g=Object.keys(h),v=0,_=g.length;v<_;v++){var E=h[g[v]],w=E.items,b=E.cateAxisId,P=w.filter(function(A){return ba(A.type).indexOf("Bar")>=0});if(P&&P.length){var j=P[0].type.defaultProps,R=j!==void 0?Bt(Bt({},j),P[0].props):P[0].props,V=R.barSize,O=R[b];s[O]||(s[O]=[]);var N=et(V)?r:V;s[O].push({item:P[0],stackList:P.slice(1),barSize:et(N)?void 0:Hr(N,n,0)})}}return s},ZX=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,u=e.maxBarSize,c=s.length;if(c<1)return null;var f=Hr(r,i,0,!0),h,g=[];if(s[0].barSize===+s[0].barSize){var v=!1,_=i/c,E=s.reduce(function(V,O){return V+O.barSize||0},0);E+=(c-1)*f,E>=i&&(E-=(c-1)*f,f=0),E>=i&&_>0&&(v=!0,_*=.9,E=c*_);var w=(i-E)/2>>0,b={offset:w-f,size:0};h=s.reduce(function(V,O){var N={item:O.item,position:{offset:b.offset+b.size+f,size:v?_:O.barSize}},A=[].concat(GN(V),[N]);return b=A[A.length-1].position,O.stackList&&O.stackList.length&&O.stackList.forEach(function(k){A.push({item:k,position:b})}),A},g)}else{var P=Hr(n,i,0,!0);i-2*P-(c-1)*f<=0&&(f=0);var j=(i-2*P-(c-1)*f)/c;j>1&&(j>>=0);var R=u===+u?Math.min(j,u):j;h=s.reduce(function(V,O,N){var A=[].concat(GN(V),[{item:O.item,position:{offset:P+(j+f)*N+(j-R)/2,size:R}}]);return O.stackList&&O.stackList.length&&O.stackList.forEach(function(k){A.push({item:k,position:A[A.length-1].position})}),A},g)}return h},eQ=function(e,r,n,i){var a=n.children,s=n.width,u=n.margin,c=s-(u.left||0)-(u.right||0),f=P4({children:a,legendWidth:c});if(f){var h=i||{},g=h.width,v=h.height,_=f.align,E=f.verticalAlign,w=f.layout;if((w==="vertical"||w==="horizontal"&&E==="middle")&&_!=="center"&&ve(e[_]))return Bt(Bt({},e),{},eu({},_,e[_]+(g||0)));if((w==="horizontal"||w==="vertical"&&_==="center")&&E!=="middle"&&ve(e[E]))return Bt(Bt({},e),{},eu({},E,e[E]+(v||0)))}return e},tQ=function(e,r,n){return et(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},k4=function(e,r,n,i,a){var s=r.props.children,u=qn(s,mg).filter(function(f){return tQ(i,a,f.props.direction)});if(u&&u.length){var c=u.map(function(f){return f.props.dataKey});return e.reduce(function(f,h){var g=Lr(h,n);if(et(g))return f;var v=Array.isArray(g)?[fg(g),cg(g)]:[g,g],_=c.reduce(function(E,w){var b=Lr(h,w,0),P=v[0]-Math.abs(Array.isArray(b)?b[0]:b),j=v[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(P,E[0]),Math.max(j,E[1])]},[1/0,-1/0]);return[Math.min(_[0],f[0]),Math.max(_[1],f[1])]},[1/0,-1/0])}return null},rQ=function(e,r,n,i,a){var s=r.map(function(u){return k4(e,u,n,a,i)}).filter(function(u){return!et(u)});return s&&s.length?s.reduce(function(u,c){return[Math.min(u[0],c[0]),Math.max(u[1],c[1])]},[1/0,-1/0]):null},O4=function(e,r,n,i,a){var s=r.map(function(c){var f=c.props.dataKey;return n==="number"&&f&&k4(e,c,f,i)||Qc(e,f,n,a)});if(n==="number")return s.reduce(function(c,f){return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);var u={};return s.reduce(function(c,f){for(var h=0,g=f.length;h<g;h++)u[f[h]]||(u[f[h]]=!0,c.push(f[h]));return c},[])},I4=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},C4=function(e,r,n,i){if(i)return e.map(function(c){return c.coordinate});var a,s,u=e.map(function(c){return c.coordinate===r&&(a=!0),c.coordinate===n&&(s=!0),c.coordinate});return a||u.push(r),s||u.push(n),u},ga=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,u=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(r||n)&&s==="category"&&i.bandwidth?i.bandwidth()/c:0;if(f=e.axisType==="angleAxis"&&u?.length>=2?Wr(u[0]-u[1])*2*f:f,r&&(e.ticks||e.niceTicks)){var h=(e.ticks||e.niceTicks).map(function(g){var v=a?a.indexOf(g):g;return{coordinate:i(v)+f,value:g,offset:f}});return h.filter(function(g){return!ud(g.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(g,v){return{coordinate:i(g)+f,value:g,index:v,offset:f}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(g){return{coordinate:i(g)+f,value:g,offset:f}}):i.domain().map(function(g,v){return{coordinate:i(g)+f,value:a?a[g]:g,index:v,offset:f}})},Ux=new WeakMap,qh=function(e,r){if(typeof r!="function")return e;Ux.has(e)||Ux.set(e,new WeakMap);var n=Ux.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},N4=function(e,r,n){var i=e.scale,a=e.type,s=e.layout,u=e.axisType;if(i==="auto")return s==="radial"&&u==="radiusAxis"?{scale:vf(),realScaleType:"band"}:s==="radial"&&u==="angleAxis"?{scale:Hp(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Xc(),realScaleType:"point"}:a==="category"?{scale:vf(),realScaleType:"band"}:{scale:Hp(),realScaleType:"linear"};if(Ls(i)){var c="scale".concat(Ym(i));return{scale:(RN[c]||Xc)(),realScaleType:RN[c]?c:"point"}}return ze(i)?{scale:i}:{scale:Xc(),realScaleType:"point"}},XN=1e-4,j4=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-XN,s=Math.max(i[0],i[1])+XN,u=e(r[0]),c=e(r[n-1]);(u<a||u>s||c<a||c>s)&&e.domain([r[0],r[n-1]])}},nQ=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},iQ=function(e,r){if(!r||r.length!==2||!ve(r[0])||!ve(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!ve(e[0])||e[0]<n)&&(a[0]=n),(!ve(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},aQ=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0,u=0;u<r;++u){var c=ud(e[u][n][1])?e[u][n][0]:e[u][n][1];c>=0?(e[u][n][0]=a,e[u][n][1]=a+c,a=e[u][n][1]):(e[u][n][0]=s,e[u][n][1]=s+c,s=e[u][n][1])}},oQ=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0;s<r;++s){var u=ud(e[s][n][1])?e[s][n][0]:e[s][n][1];u>=0?(e[s][n][0]=a,e[s][n][1]=a+u,a=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},sQ={sign:aQ,expand:G8,none:lu,silhouette:Y8,wiggle:X8,positive:oQ},lQ=function(e,r,n){var i=r.map(function(u){return u.props.dataKey}),a=sQ[n],s=K8().keys(i).value(function(u,c){return+Lr(u,c,0)}).order(rw).offset(a);return s(e)},uQ=function(e,r,n,i,a,s){if(!e)return null;var u=s?r.reverse():r,c={},f=u.reduce(function(g,v){var _,E=(_=v.type)!==null&&_!==void 0&&_.defaultProps?Bt(Bt({},v.type.defaultProps),v.props):v.props,w=E.stackId,b=E.hide;if(b)return g;var P=E[n],j=g[P]||{hasStack:!1,stackGroups:{}};if(ir(w)){var R=j.stackGroups[w]||{numericAxisId:n,cateAxisId:i,items:[]};R.items.push(v),j.hasStack=!0,j.stackGroups[w]=R}else j.stackGroups[cd("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[v]};return Bt(Bt({},g),{},eu({},P,j))},c),h={};return Object.keys(f).reduce(function(g,v){var _=f[v];if(_.hasStack){var E={};_.stackGroups=Object.keys(_.stackGroups).reduce(function(w,b){var P=_.stackGroups[b];return Bt(Bt({},w),{},eu({},b,{numericAxisId:n,cateAxisId:i,items:P.items,stackedData:lQ(e,P.items,a)}))},E)}return Bt(Bt({},g),{},eu({},v,_))},h)},R4=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,s=r.originalDomain,u=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var f=e.domain();if(!f.length)return null;var h=SX(f,a,u);return e.domain([fg(h),cg(h)]),{niceTicks:h}}if(a&&i==="number"){var g=e.domain(),v=EX(g,a,u);return{niceTicks:v}}return null},QN=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,u=e.index;if(r.type==="category")return n[u]?n[u].coordinate+i:null;var c=Lr(s,r.dataKey,r.domain[u]);return et(c)?null:r.scale(c)-a/2+i},cQ=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},fQ=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Bt(Bt({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(ir(a)){var s=r[a];if(s){var u=s.items.indexOf(e);return u>=0?s.stackedData[u]:null}}return null},dQ=function(e){return e.reduce(function(r,n){return[fg(n.concat([r[0]]).filter(ve)),cg(n.concat([r[1]]).filter(ve))]},[1/0,-1/0])},D4=function(e,r,n){return Object.keys(e).reduce(function(i,a){var s=e[a],u=s.stackedData,c=u.reduce(function(f,h){var g=dQ(h.slice(r,n+1));return[Math.min(f[0],g[0]),Math.max(f[1],g[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},JN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ZN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Pw=function(e,r,n){if(ze(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(ve(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(JN.test(e[0])){var a=+JN.exec(e[0])[1];i[0]=r[0]-a}else ze(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(ve(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(ZN.test(e[1])){var s=+ZN.exec(e[1])[1];i[1]=r[1]+s}else ze(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},Zp=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=NS(r,function(g){return g.coordinate}),s=1/0,u=1,c=a.length;u<c;u++){var f=a[u],h=a[u-1];s=Math.min((f.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},ej=function(e,r,n){return!e||!e.length||dg(e,En(n,"type.defaultProps.domain"))?r:e},M4=function(e,r){var n=e.type.defaultProps?Bt(Bt({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,s=n.unit,u=n.formatter,c=n.tooltipType,f=n.chartType,h=n.hide;return Bt(Bt({},Be(e,!1)),{},{dataKey:i,unit:s,formatter:u,name:a||i,color:iE(e),value:Lr(r,i),type:c,payload:r,chartType:f,hide:h})};function Pf(t){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pf(t)}function tj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ca(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tj(Object(r),!0).forEach(function(n){L4(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function L4(t,e,r){return e=hQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hQ(t){var e=pQ(t,"string");return Pf(e)=="symbol"?e:e+""}function pQ(t,e){if(Pf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mQ(t,e){return bQ(t)||vQ(t,e)||yQ(t,e)||gQ()}function gQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yQ(t,e){if(t){if(typeof t=="string")return rj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rj(t,e)}}function rj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vQ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function bQ(t){if(Array.isArray(t))return t}var em=Math.PI/180,xQ=function(e){return e*180/Math.PI},At=function(e,r,n,i){return{x:e+Math.cos(-em*i)*n,y:r+Math.sin(-em*i)*n}},$4=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},_Q=function(e,r,n,i,a){var s=e.width,u=e.height,c=e.startAngle,f=e.endAngle,h=Hr(e.cx,s,s/2),g=Hr(e.cy,u,u/2),v=$4(s,u,n),_=Hr(e.innerRadius,v,0),E=Hr(e.outerRadius,v,v*.8),w=Object.keys(r);return w.reduce(function(b,P){var j=r[P],R=j.domain,V=j.reversed,O;if(et(j.range))i==="angleAxis"?O=[c,f]:i==="radiusAxis"&&(O=[_,E]),V&&(O=[O[1],O[0]]);else{O=j.range;var N=O,A=mQ(N,2);c=A[0],f=A[1]}var k=N4(j,a),D=k.realScaleType,I=k.scale;I.domain(R).range(O),j4(I);var M=R4(I,ca(ca({},j),{},{realScaleType:D})),F=ca(ca(ca({},j),M),{},{range:O,radius:E,realScaleType:D,scale:I,cx:h,cy:g,innerRadius:_,outerRadius:E,startAngle:c,endAngle:f});return ca(ca({},b),{},L4({},P,F))},{})},wQ=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-s,2))},SQ=function(e,r){var n=e.x,i=e.y,a=r.cx,s=r.cy,u=wQ({x:n,y:i},{x:a,y:s});if(u<=0)return{radius:u};var c=(n-a)/u,f=Math.acos(c);return i>s&&(f=2*Math.PI-f),{radius:u,angle:xQ(f),angleInRadian:f}},EQ=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return{startAngle:r-s*360,endAngle:n-s*360}},TQ=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),s=Math.floor(i/360),u=Math.min(a,s);return e+u*360},nj=function(e,r){var n=e.x,i=e.y,a=SQ({x:n,y:i},r),s=a.radius,u=a.angle,c=r.innerRadius,f=r.outerRadius;if(s<c||s>f)return!1;if(s===0)return!0;var h=EQ(r),g=h.startAngle,v=h.endAngle,_=u,E;if(g<=v){for(;_>v;)_-=360;for(;_<g;)_+=360;E=_>=g&&_<=v}else{for(;_>g;)_-=360;for(;_<v;)_+=360;E=_>=v&&_<=g}return E?ca(ca({},r),{},{radius:s,angle:TQ(_,r)}):null},V4=function(e){return!z.isValidElement(e)&&!ze(e)&&typeof e!="boolean"?e.className:""};function kf(t){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(t)}var AQ=["offset"];function PQ(t){return CQ(t)||IQ(t)||OQ(t)||kQ()}function kQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OQ(t,e){if(t){if(typeof t=="string")return kw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kw(t,e)}}function IQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function CQ(t){if(Array.isArray(t))return kw(t)}function kw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function NQ(t,e){if(t==null)return{};var r=jQ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function jQ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ij(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ij(Object(r),!0).forEach(function(n){RQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ij(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RQ(t,e,r){return e=DQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DQ(t){var e=MQ(t,"string");return kf(e)=="symbol"?e:e+""}function MQ(t,e){if(kf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Of(){return Of=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Of.apply(this,arguments)}var LQ=function(e){var r=e.value,n=e.formatter,i=et(e.children)?r:e.children;return ze(n)?n(i):i},$Q=function(e,r){var n=Wr(r-e),i=Math.min(Math.abs(r-e),360);return n*i},VQ=function(e,r,n){var i=e.position,a=e.viewBox,s=e.offset,u=e.className,c=a,f=c.cx,h=c.cy,g=c.innerRadius,v=c.outerRadius,_=c.startAngle,E=c.endAngle,w=c.clockWise,b=(g+v)/2,P=$Q(_,E),j=P>=0?1:-1,R,V;i==="insideStart"?(R=_+j*s,V=w):i==="insideEnd"?(R=E-j*s,V=!w):i==="end"&&(R=E+j*s,V=w),V=P<=0?V:!V;var O=At(f,h,b,R),N=At(f,h,b,R+(V?1:-1)*359),A="M".concat(O.x,",").concat(O.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(V?0:1,`,
    `).concat(N.x,",").concat(N.y),k=et(e.id)?cd("recharts-radial-line-"):e.id;return H.createElement("text",Of({},n,{dominantBaseline:"central",className:Qe("recharts-radial-bar-label",u)}),H.createElement("defs",null,H.createElement("path",{id:k,d:A})),H.createElement("textPath",{xlinkHref:"#".concat(k)},r))},FQ=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,s=a.cx,u=a.cy,c=a.innerRadius,f=a.outerRadius,h=a.startAngle,g=a.endAngle,v=(h+g)/2;if(i==="outside"){var _=At(s,u,f+n,v),E=_.x,w=_.y;return{x:E,y:w,textAnchor:E>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:u,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:u,textAnchor:"middle",verticalAnchor:"end"};var b=(c+f)/2,P=At(s,u,b,v),j=P.x,R=P.y;return{x:j,y:R,textAnchor:"middle",verticalAnchor:"middle"}},UQ=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,s=r,u=s.x,c=s.y,f=s.width,h=s.height,g=h>=0?1:-1,v=g*i,_=g>0?"end":"start",E=g>0?"start":"end",w=f>=0?1:-1,b=w*i,P=w>0?"end":"start",j=w>0?"start":"end";if(a==="top"){var R={x:u+f/2,y:c-g*i,textAnchor:"middle",verticalAnchor:_};return nr(nr({},R),n?{height:Math.max(c-n.y,0),width:f}:{})}if(a==="bottom"){var V={x:u+f/2,y:c+h+v,textAnchor:"middle",verticalAnchor:E};return nr(nr({},V),n?{height:Math.max(n.y+n.height-(c+h),0),width:f}:{})}if(a==="left"){var O={x:u-b,y:c+h/2,textAnchor:P,verticalAnchor:"middle"};return nr(nr({},O),n?{width:Math.max(O.x-n.x,0),height:h}:{})}if(a==="right"){var N={x:u+f+b,y:c+h/2,textAnchor:j,verticalAnchor:"middle"};return nr(nr({},N),n?{width:Math.max(n.x+n.width-N.x,0),height:h}:{})}var A=n?{width:f,height:h}:{};return a==="insideLeft"?nr({x:u+b,y:c+h/2,textAnchor:j,verticalAnchor:"middle"},A):a==="insideRight"?nr({x:u+f-b,y:c+h/2,textAnchor:P,verticalAnchor:"middle"},A):a==="insideTop"?nr({x:u+f/2,y:c+v,textAnchor:"middle",verticalAnchor:E},A):a==="insideBottom"?nr({x:u+f/2,y:c+h-v,textAnchor:"middle",verticalAnchor:_},A):a==="insideTopLeft"?nr({x:u+b,y:c+v,textAnchor:j,verticalAnchor:E},A):a==="insideTopRight"?nr({x:u+f-b,y:c+v,textAnchor:P,verticalAnchor:E},A):a==="insideBottomLeft"?nr({x:u+b,y:c+h-v,textAnchor:j,verticalAnchor:_},A):a==="insideBottomRight"?nr({x:u+f-b,y:c+h-v,textAnchor:P,verticalAnchor:_},A):$u(a)&&(ve(a.x)||xs(a.x))&&(ve(a.y)||xs(a.y))?nr({x:u+Hr(a.x,f),y:c+Hr(a.y,h),textAnchor:"end",verticalAnchor:"end"},A):nr({x:u+f/2,y:c+h/2,textAnchor:"middle",verticalAnchor:"middle"},A)},BQ=function(e){return"cx"in e&&ve(e.cx)};function pr(t){var e=t.offset,r=e===void 0?5:e,n=NQ(t,AQ),i=nr({offset:r},n),a=i.viewBox,s=i.position,u=i.value,c=i.children,f=i.content,h=i.className,g=h===void 0?"":h,v=i.textBreakAll;if(!a||et(u)&&et(c)&&!z.isValidElement(f)&&!ze(f))return null;if(z.isValidElement(f))return z.cloneElement(f,i);var _;if(ze(f)){if(_=z.createElement(f,i),z.isValidElement(_))return _}else _=LQ(i);var E=BQ(a),w=Be(i,!0);if(E&&(s==="insideStart"||s==="insideEnd"||s==="end"))return VQ(i,_,w);var b=E?FQ(i):UQ(i);return H.createElement(Vs,Of({className:Qe("recharts-label",g)},w,b,{breakAll:v}),_)}pr.displayName="Label";var F4=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,u=e.r,c=e.radius,f=e.innerRadius,h=e.outerRadius,g=e.x,v=e.y,_=e.top,E=e.left,w=e.width,b=e.height,P=e.clockWise,j=e.labelViewBox;if(j)return j;if(ve(w)&&ve(b)){if(ve(g)&&ve(v))return{x:g,y:v,width:w,height:b};if(ve(_)&&ve(E))return{x:_,y:E,width:w,height:b}}return ve(g)&&ve(v)?{x:g,y:v,width:0,height:0}:ve(r)&&ve(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:s||i||0,innerRadius:f||0,outerRadius:h||c||u||0,clockWise:P}:e.viewBox?e.viewBox:{}},qQ=function(e,r){return e?e===!0?H.createElement(pr,{key:"label-implicit",viewBox:r}):ir(e)?H.createElement(pr,{key:"label-implicit",viewBox:r,value:e}):z.isValidElement(e)?e.type===pr?z.cloneElement(e,{key:"label-implicit",viewBox:r}):H.createElement(pr,{key:"label-implicit",content:e,viewBox:r}):ze(e)?H.createElement(pr,{key:"label-implicit",content:e,viewBox:r}):$u(e)?H.createElement(pr,Of({viewBox:r},e,{key:"label-implicit"})):null:null},zQ=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=F4(e),s=qn(i,pr).map(function(c,f){return z.cloneElement(c,{viewBox:r||a,key:"label-".concat(f)})});if(!n)return s;var u=qQ(e.label,r||a);return[u].concat(PQ(s))};pr.parseViewBox=F4;pr.renderCallByParent=zQ;var Bx,aj;function WQ(){if(aj)return Bx;aj=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return Bx=t,Bx}var HQ=WQ();const KQ=pt(HQ);function If(t){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If(t)}var GQ=["valueAccessor"],YQ=["data","dataKey","clockWise","id","textBreakAll"];function XQ(t){return eJ(t)||ZQ(t)||JQ(t)||QQ()}function QQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JQ(t,e){if(t){if(typeof t=="string")return Ow(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ow(t,e)}}function ZQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function eJ(t){if(Array.isArray(t))return Ow(t)}function Ow(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tm(){return tm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tm.apply(this,arguments)}function oj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oj(Object(r),!0).forEach(function(n){tJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tJ(t,e,r){return e=rJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rJ(t){var e=nJ(t,"string");return If(e)=="symbol"?e:e+""}function nJ(t,e){if(If(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(If(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lj(t,e){if(t==null)return{};var r=iJ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function iJ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var aJ=function(e){return Array.isArray(e.value)?KQ(e.value):e.value};function So(t){var e=t.valueAccessor,r=e===void 0?aJ:e,n=lj(t,GQ),i=n.data,a=n.dataKey,s=n.clockWise,u=n.id,c=n.textBreakAll,f=lj(n,YQ);return!i||!i.length?null:H.createElement(gt,{className:"recharts-label-list"},i.map(function(h,g){var v=et(a)?r(h,g):Lr(h&&h.payload,a),_=et(u)?{}:{id:"".concat(u,"-").concat(g)};return H.createElement(pr,tm({},Be(h,!0),f,_,{parentViewBox:h.parentViewBox,value:v,textBreakAll:c,viewBox:pr.parseViewBox(et(s)?h:sj(sj({},h),{},{clockWise:s})),key:"label-".concat(g),index:g}))}))}So.displayName="LabelList";function oJ(t,e){return t?t===!0?H.createElement(So,{key:"labelList-implicit",data:e}):H.isValidElement(t)||ze(t)?H.createElement(So,{key:"labelList-implicit",data:e,content:t}):$u(t)?H.createElement(So,tm({data:e},t,{key:"labelList-implicit"})):null:null}function sJ(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=qn(n,So).map(function(s,u){return z.cloneElement(s,{data:e,key:"labelList-".concat(u)})});if(!r)return i;var a=oJ(t.label,e);return[a].concat(XQ(i))}So.renderCallByParent=sJ;function Cf(t){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(t)}function Iw(){return Iw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Iw.apply(this,arguments)}function uj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uj(Object(r),!0).forEach(function(n){lJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lJ(t,e,r){return e=uJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uJ(t){var e=cJ(t,"string");return Cf(e)=="symbol"?e:e+""}function cJ(t,e){if(Cf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fJ=function(e,r){var n=Wr(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},zh=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,s=e.sign,u=e.isExternal,c=e.cornerRadius,f=e.cornerIsExternal,h=c*(u?1:-1)+i,g=Math.asin(c/h)/em,v=f?a:a+s*g,_=At(r,n,h,v),E=At(r,n,i,v),w=f?a-s*g:a,b=At(r,n,h*Math.cos(g*em),w);return{center:_,circleTangency:E,lineTangency:b,theta:g}},U4=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,u=e.endAngle,c=fJ(s,u),f=s+c,h=At(r,n,a,s),g=At(r,n,a,f),v="M ".concat(h.x,",").concat(h.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>f),`,
    `).concat(g.x,",").concat(g.y,`
  `);if(i>0){var _=At(r,n,i,s),E=At(r,n,i,f);v+="L ".concat(E.x,",").concat(E.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=f),`,
            `).concat(_.x,",").concat(_.y," Z")}else v+="L ".concat(r,",").concat(n," Z");return v},dJ=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,u=e.forceCornerRadius,c=e.cornerIsExternal,f=e.startAngle,h=e.endAngle,g=Wr(h-f),v=zh({cx:r,cy:n,radius:a,angle:f,sign:g,cornerRadius:s,cornerIsExternal:c}),_=v.circleTangency,E=v.lineTangency,w=v.theta,b=zh({cx:r,cy:n,radius:a,angle:h,sign:-g,cornerRadius:s,cornerIsExternal:c}),P=b.circleTangency,j=b.lineTangency,R=b.theta,V=c?Math.abs(f-h):Math.abs(f-h)-w-R;if(V<0)return u?"M ".concat(E.x,",").concat(E.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):U4({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:f,endAngle:h});var O="M ".concat(E.x,",").concat(E.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(g<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(V>180),",").concat(+(g<0),",").concat(P.x,",").concat(P.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(g<0),",").concat(j.x,",").concat(j.y,`
  `);if(i>0){var N=zh({cx:r,cy:n,radius:i,angle:f,sign:g,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),A=N.circleTangency,k=N.lineTangency,D=N.theta,I=zh({cx:r,cy:n,radius:i,angle:h,sign:-g,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),M=I.circleTangency,F=I.lineTangency,L=I.theta,te=c?Math.abs(f-h):Math.abs(f-h)-D-L;if(te<0&&s===0)return"".concat(O,"L").concat(r,",").concat(n,"Z");O+="L".concat(F.x,",").concat(F.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(g<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(te>180),",").concat(+(g>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(g<0),",").concat(k.x,",").concat(k.y,"Z")}else O+="L".concat(r,",").concat(n,"Z");return O},hJ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},aE=function(e){var r=cj(cj({},hJ),e),n=r.cx,i=r.cy,a=r.innerRadius,s=r.outerRadius,u=r.cornerRadius,c=r.forceCornerRadius,f=r.cornerIsExternal,h=r.startAngle,g=r.endAngle,v=r.className;if(s<a||h===g)return null;var _=Qe("recharts-sector",v),E=s-a,w=Hr(u,E,0,!0),b;return w>0&&Math.abs(h-g)<360?b=dJ({cx:n,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(w,E/2),forceCornerRadius:c,cornerIsExternal:f,startAngle:h,endAngle:g}):b=U4({cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:h,endAngle:g}),H.createElement("path",Iw({},Be(r,!0),{className:_,d:b,role:"img"}))};function Nf(t){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nf(t)}function Cw(){return Cw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cw.apply(this,arguments)}function fj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fj(Object(r),!0).forEach(function(n){pJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pJ(t,e,r){return e=mJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mJ(t){var e=gJ(t,"string");return Nf(e)=="symbol"?e:e+""}function gJ(t,e){if(Nf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hj={curveBasisClosed:M8,curveBasisOpen:L8,curveBasis:D8,curveBumpX:_8,curveBumpY:w8,curveLinearClosed:$8,curveLinear:Qm,curveMonotoneX:V8,curveMonotoneY:F8,curveNatural:U8,curveStep:B8,curveStepAfter:z8,curveStepBefore:q8},Wh=function(e){return e.x===+e.x&&e.y===+e.y},Cc=function(e){return e.x},Nc=function(e){return e.y},yJ=function(e,r){if(ze(e))return e;var n="curve".concat(Ym(e));return(n==="curveMonotone"||n==="curveBump")&&r?hj["".concat(n).concat(r==="vertical"?"Y":"X")]:hj[n]||Qm},vJ=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,s=e.baseLine,u=e.layout,c=e.connectNulls,f=c===void 0?!1:c,h=yJ(n,u),g=f?a.filter(function(w){return Wh(w)}):a,v;if(Array.isArray(s)){var _=f?s.filter(function(w){return Wh(w)}):s,E=g.map(function(w,b){return dj(dj({},w),{},{base:_[b]})});return u==="vertical"?v=Mh().y(Nc).x1(Cc).x0(function(w){return w.base.x}):v=Mh().x(Cc).y1(Nc).y0(function(w){return w.base.y}),v.defined(Wh).curve(h),v(E)}return u==="vertical"&&ve(s)?v=Mh().y(Nc).x1(Cc).x0(s):ve(s)?v=Mh().x(Cc).y1(Nc).y0(s):v=VM().x(Cc).y(Nc),v.defined(Wh).curve(h),v(g)},Nw=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?vJ(e):i;return z.createElement("path",Cw({},Be(e,!1),Op(e),{className:Qe("recharts-curve",r),d:s,ref:a}))},qx={exports:{}},zx,pj;function bJ(){if(pj)return zx;pj=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return zx=t,zx}var Wx,mj;function xJ(){if(mj)return Wx;mj=1;var t=bJ();function e(){}function r(){}return r.resetWarningCache=e,Wx=function(){function n(s,u,c,f,h,g){if(g!==t){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return a.PropTypes=a,a},Wx}var gj;function _J(){return gj||(gj=1,qx.exports=xJ()()),qx.exports}var wJ=_J();const ht=pt(wJ);var SJ=Object.getOwnPropertyNames,EJ=Object.getOwnPropertySymbols,TJ=Object.prototype.hasOwnProperty;function yj(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function Hh(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,s=a.get(r),u=a.get(n);if(s&&u)return s===n&&u===r;a.set(r,n),a.set(n,r);var c=t(r,n,i);return a.delete(r),a.delete(n),c}}function vj(t){return SJ(t).concat(EJ(t))}var AJ=Object.hasOwn||function(t,e){return TJ.call(t,e)};function Xs(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var PJ="__v",kJ="__o",OJ="_owner",bj=Object.getOwnPropertyDescriptor,xj=Object.keys;function IJ(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function CJ(t,e){return Xs(t.getTime(),e.getTime())}function NJ(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function jJ(t,e){return t===e}function _j(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.entries(),s,u,c=0;(s=a.next())&&!s.done;){for(var f=e.entries(),h=!1,g=0;(u=f.next())&&!u.done;){if(i[g]){g++;continue}var v=s.value,_=u.value;if(r.equals(v[0],_[0],c,g,t,e,r)&&r.equals(v[1],_[1],v[0],_[0],t,e,r)){h=i[g]=!0;break}g++}if(!h)return!1;c++}return!0}var RJ=Xs;function DJ(t,e,r){var n=xj(t),i=n.length;if(xj(e).length!==i)return!1;for(;i-- >0;)if(!B4(t,e,r,n[i]))return!1;return!0}function jc(t,e,r){var n=vj(t),i=n.length;if(vj(e).length!==i)return!1;for(var a,s,u;i-- >0;)if(a=n[i],!B4(t,e,r,a)||(s=bj(t,a),u=bj(e,a),(s||u)&&(!s||!u||s.configurable!==u.configurable||s.enumerable!==u.enumerable||s.writable!==u.writable)))return!1;return!0}function MJ(t,e){return Xs(t.valueOf(),e.valueOf())}function LJ(t,e){return t.source===e.source&&t.flags===e.flags}function wj(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.values(),s,u;(s=a.next())&&!s.done;){for(var c=e.values(),f=!1,h=0;(u=c.next())&&!u.done;){if(!i[h]&&r.equals(s.value,u.value,s.value,u.value,t,e,r)){f=i[h]=!0;break}h++}if(!f)return!1}return!0}function $J(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function VJ(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function B4(t,e,r,n){return(n===OJ||n===kJ||n===PJ)&&(t.$$typeof||e.$$typeof)?!0:AJ(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var FJ="[object Arguments]",UJ="[object Boolean]",BJ="[object Date]",qJ="[object Error]",zJ="[object Map]",WJ="[object Number]",HJ="[object Object]",KJ="[object RegExp]",GJ="[object Set]",YJ="[object String]",XJ="[object URL]",QJ=Array.isArray,Sj=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Ej=Object.assign,JJ=Object.prototype.toString.call.bind(Object.prototype.toString);function ZJ(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,s=t.areNumbersEqual,u=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,f=t.areRegExpsEqual,h=t.areSetsEqual,g=t.areTypedArraysEqual,v=t.areUrlsEqual;return function(E,w,b){if(E===w)return!0;if(E==null||w==null)return!1;var P=typeof E;if(P!==typeof w)return!1;if(P!=="object")return P==="number"?s(E,w,b):P==="function"?i(E,w,b):!1;var j=E.constructor;if(j!==w.constructor)return!1;if(j===Object)return u(E,w,b);if(QJ(E))return e(E,w,b);if(Sj!=null&&Sj(E))return g(E,w,b);if(j===Date)return r(E,w,b);if(j===RegExp)return f(E,w,b);if(j===Map)return a(E,w,b);if(j===Set)return h(E,w,b);var R=JJ(E);return R===BJ?r(E,w,b):R===KJ?f(E,w,b):R===zJ?a(E,w,b):R===GJ?h(E,w,b):R===HJ?typeof E.then!="function"&&typeof w.then!="function"&&u(E,w,b):R===XJ?v(E,w,b):R===qJ?n(E,w,b):R===FJ?u(E,w,b):R===UJ||R===WJ||R===YJ?c(E,w,b):!1}}function eZ(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?jc:IJ,areDatesEqual:CJ,areErrorsEqual:NJ,areFunctionsEqual:jJ,areMapsEqual:n?yj(_j,jc):_j,areNumbersEqual:RJ,areObjectsEqual:n?jc:DJ,arePrimitiveWrappersEqual:MJ,areRegExpsEqual:LJ,areSetsEqual:n?yj(wj,jc):wj,areTypedArraysEqual:n?jc:$J,areUrlsEqual:VJ};if(r&&(i=Ej({},i,r(i))),e){var a=Hh(i.areArraysEqual),s=Hh(i.areMapsEqual),u=Hh(i.areObjectsEqual),c=Hh(i.areSetsEqual);i=Ej({},i,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:u,areSetsEqual:c})}return i}function tZ(t){return function(e,r,n,i,a,s,u){return t(e,r,u)}}function rZ(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(c,f){var h=n(),g=h.cache,v=g===void 0?e?new WeakMap:void 0:g,_=h.meta;return r(c,f,{cache:v,equals:i,meta:_,strict:a})};if(e)return function(c,f){return r(c,f,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var s={cache:void 0,equals:i,meta:void 0,strict:a};return function(c,f){return r(c,f,s)}}var nZ=Do();Do({strict:!0});Do({circular:!0});Do({circular:!0,strict:!0});Do({createInternalComparator:function(){return Xs}});Do({strict:!0,createInternalComparator:function(){return Xs}});Do({circular:!0,createInternalComparator:function(){return Xs}});Do({circular:!0,createInternalComparator:function(){return Xs},strict:!0});function Do(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,s=a===void 0?!1:a,u=eZ(t),c=ZJ(u),f=n?n(c):tZ(c);return rZ({circular:r,comparator:c,createState:i,equals:f,strict:s})}function iZ(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function Tj(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):iZ(i)};requestAnimationFrame(n)}function jw(t){"@babel/helpers - typeof";return jw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jw(t)}function aZ(t){return uZ(t)||lZ(t)||sZ(t)||oZ()}function oZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sZ(t,e){if(t){if(typeof t=="string")return Aj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Aj(t,e)}}function Aj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function lZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uZ(t){if(Array.isArray(t))return t}function cZ(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var s=a,u=aZ(s),c=u[0],f=u.slice(1);if(typeof c=="number"){Tj(i.bind(null,f),c);return}i(c),Tj(i.bind(null,f));return}jw(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function jf(t){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jf(t)}function Pj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Pj(Object(r),!0).forEach(function(n){q4(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Pj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function q4(t,e,r){return e=fZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fZ(t){var e=dZ(t,"string");return jf(e)==="symbol"?e:String(e)}function dZ(t,e){if(jf(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hZ=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},pZ=function(e){return e},mZ=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Jc=function(e,r){return Object.keys(r).reduce(function(n,i){return kj(kj({},n),{},q4({},i,e(i,r[i])))},{})},Oj=function(e,r,n){return e.map(function(i){return"".concat(mZ(i)," ").concat(r,"ms ").concat(n)}).join(",")};function gZ(t,e){return bZ(t)||vZ(t,e)||z4(t,e)||yZ()}function yZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vZ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function bZ(t){if(Array.isArray(t))return t}function xZ(t){return SZ(t)||wZ(t)||z4(t)||_Z()}function _Z(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z4(t,e){if(t){if(typeof t=="string")return Rw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rw(t,e)}}function wZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function SZ(t){if(Array.isArray(t))return Rw(t)}function Rw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var rm=1e-4,W4=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},H4=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},Ij=function(e,r){return function(n){var i=W4(e,r);return H4(i,n)}},EZ=function(e,r){return function(n){var i=W4(e,r),a=[].concat(xZ(i.map(function(s,u){return s*u}).slice(1)),[0]);return H4(a,n)}},Cj=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],s=r[2],u=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,s=1,u=1;break;case"ease":i=.25,a=.1,s=.25,u=1;break;case"ease-in":i=.42,a=0,s=1,u=1;break;case"ease-out":i=.42,a=0,s=.58,u=1;break;case"ease-in-out":i=0,a=0,s=.58,u=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var f=c[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),h=gZ(f,4);i=h[0],a=h[1],s=h[2],u=h[3]}}}var g=Ij(i,s),v=Ij(a,u),_=EZ(i,s),E=function(P){return P>1?1:P<0?0:P},w=function(P){for(var j=P>1?1:P,R=j,V=0;V<8;++V){var O=g(R)-j,N=_(R);if(Math.abs(O-j)<rm||N<rm)return v(R);R=E(R-O/N)}return v(R)};return w.isStepper=!1,w},TZ=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,s=e.dt,u=s===void 0?17:s,c=function(h,g,v){var _=-(h-g)*n,E=v*a,w=v+(_-E)*u/1e3,b=v*u/1e3+h;return Math.abs(b-g)<rm&&Math.abs(w)<rm?[g,0]:[b,w]};return c.isStepper=!0,c.dt=u,c},AZ=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Cj(i);case"spring":return TZ();default:if(i.split("(")[0]==="cubic-bezier")return Cj(i)}return typeof i=="function"?i:null};function Rf(t){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rf(t)}function Nj(t){return OZ(t)||kZ(t)||K4(t)||PZ()}function PZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function OZ(t){if(Array.isArray(t))return Mw(t)}function jj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _r(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jj(Object(r),!0).forEach(function(n){Dw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Dw(t,e,r){return e=IZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function IZ(t){var e=CZ(t,"string");return Rf(e)==="symbol"?e:String(e)}function CZ(t,e){if(Rf(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NZ(t,e){return DZ(t)||RZ(t,e)||K4(t,e)||jZ()}function jZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K4(t,e){if(t){if(typeof t=="string")return Mw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mw(t,e)}}function Mw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function RZ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function DZ(t){if(Array.isArray(t))return t}var nm=function(e,r,n){return e+(r-e)*n},Lw=function(e){var r=e.from,n=e.to;return r!==n},MZ=function t(e,r,n){var i=Jc(function(a,s){if(Lw(s)){var u=e(s.from,s.to,s.velocity),c=NZ(u,2),f=c[0],h=c[1];return _r(_r({},s),{},{from:f,velocity:h})}return s},r);return n<1?Jc(function(a,s){return Lw(s)?_r(_r({},s),{},{velocity:nm(s.velocity,i[a].velocity,n),from:nm(s.from,i[a].from,n)}):s},r):t(e,i,n-1)};const LZ=function(t,e,r,n,i){var a=hZ(t,e),s=a.reduce(function(b,P){return _r(_r({},b),{},Dw({},P,[t[P],e[P]]))},{}),u=a.reduce(function(b,P){return _r(_r({},b),{},Dw({},P,{from:t[P],velocity:0,to:e[P]}))},{}),c=-1,f,h,g=function(){return null},v=function(){return Jc(function(P,j){return j.from},u)},_=function(){return!Object.values(u).filter(Lw).length},E=function(P){f||(f=P);var j=P-f,R=j/r.dt;u=MZ(r,u,R),i(_r(_r(_r({},t),e),v())),f=P,_()||(c=requestAnimationFrame(g))},w=function(P){h||(h=P);var j=(P-h)/n,R=Jc(function(O,N){return nm.apply(void 0,Nj(N).concat([r(j)]))},s);if(i(_r(_r(_r({},t),e),R)),j<1)c=requestAnimationFrame(g);else{var V=Jc(function(O,N){return nm.apply(void 0,Nj(N).concat([r(1)]))},s);i(_r(_r(_r({},t),e),V))}};return g=r.isStepper?E:w,function(){return requestAnimationFrame(g),function(){cancelAnimationFrame(c)}}};function yu(t){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yu(t)}var $Z=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function VZ(t,e){if(t==null)return{};var r=FZ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function FZ(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Hx(t){return zZ(t)||qZ(t)||BZ(t)||UZ()}function UZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BZ(t,e){if(t){if(typeof t=="string")return $w(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $w(t,e)}}function qZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zZ(t){if(Array.isArray(t))return $w(t)}function $w(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Rj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ui(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Rj(Object(r),!0).forEach(function(n){qc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Rj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qc(t,e,r){return e=G4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HZ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,G4(n.key),n)}}function KZ(t,e,r){return e&&HZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function G4(t){var e=GZ(t,"string");return yu(e)==="symbol"?e:String(e)}function GZ(t,e){if(yu(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vw(t,e)}function Vw(t,e){return Vw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Vw(t,e)}function XZ(t){var e=QZ();return function(){var n=im(t),i;if(e){var a=im(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Fw(this,i)}}function Fw(t,e){if(e&&(yu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uw(t)}function Uw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QZ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function im(t){return im=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},im(t)}var ka=function(t){YZ(r,t);var e=XZ(r);function r(n,i){var a;WZ(this,r),a=e.call(this,n,i);var s=a.props,u=s.isActive,c=s.attributeName,f=s.from,h=s.to,g=s.steps,v=s.children,_=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(Uw(a)),a.changeStyle=a.changeStyle.bind(Uw(a)),!u||_<=0)return a.state={style:{}},typeof v=="function"&&(a.state={style:h}),Fw(a);if(g&&g.length)a.state={style:g[0].style};else if(f){if(typeof v=="function")return a.state={style:f},Fw(a);a.state={style:c?qc({},c,f):f}}else a.state={style:{}};return a}return KZ(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,u=a.canBegin,c=a.attributeName,f=a.shouldReAnimate,h=a.to,g=a.from,v=this.state.style;if(u){if(!s){var _={style:c?qc({},c,h):h};this.state&&v&&(c&&v[c]!==h||!c&&v!==h)&&this.setState(_);return}if(!(nZ(i.to,h)&&i.canBegin&&i.isActive)){var E=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=E||f?g:i.to;if(this.state&&v){var b={style:c?qc({},c,w):w};(c&&v[c]!==w||!c&&v!==w)&&this.setState(b)}this.runAnimation(ui(ui({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,u=i.to,c=i.duration,f=i.easing,h=i.begin,g=i.onAnimationEnd,v=i.onAnimationStart,_=LZ(s,u,AZ(f),c,this.changeStyle),E=function(){a.stopJSAnimation=_()};this.manager.start([v,h,E,c,g])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,u=i.begin,c=i.onAnimationStart,f=s[0],h=f.style,g=f.duration,v=g===void 0?0:g,_=function(w,b,P){if(P===0)return w;var j=b.duration,R=b.easing,V=R===void 0?"ease":R,O=b.style,N=b.properties,A=b.onAnimationEnd,k=P>0?s[P-1]:b,D=N||Object.keys(O);if(typeof V=="function"||V==="spring")return[].concat(Hx(w),[a.runJSAnimation.bind(a,{from:k.style,to:O,duration:j,easing:V}),j]);var I=Oj(D,j,V),M=ui(ui(ui({},k.style),O),{},{transition:I});return[].concat(Hx(w),[M,j,A]).filter(pZ)};return this.manager.start([c].concat(Hx(s.reduce(_,[h,Math.max(v,u)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=cZ());var a=i.begin,s=i.duration,u=i.attributeName,c=i.to,f=i.easing,h=i.onAnimationStart,g=i.onAnimationEnd,v=i.steps,_=i.children,E=this.manager;if(this.unSubscribe=E.subscribe(this.handleStyleChange),typeof f=="function"||typeof _=="function"||f==="spring"){this.runJSAnimation(i);return}if(v.length>1){this.runStepAnimation(i);return}var w=u?qc({},u,c):c,b=Oj(Object.keys(w),s,f);E.start([h,a,ui(ui({},w),{},{transition:b}),s,g])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var u=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=VZ(i,$Z),f=z.Children.count(a),h=this.state.style;if(typeof a=="function")return a(h);if(!u||f===0||s<=0)return a;var g=function(_){var E=_.props,w=E.style,b=w===void 0?{}:w,P=E.className,j=z.cloneElement(_,ui(ui({},c),{},{style:ui(ui({},b),h),className:P}));return j};return f===1?g(z.Children.only(a)):H.createElement("div",null,z.Children.map(a,function(v){return g(v)}))}}]),r}(z.PureComponent);ka.displayName="Animate";ka.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ka.propTypes={from:ht.oneOfType([ht.object,ht.string]),to:ht.oneOfType([ht.object,ht.string]),attributeName:ht.string,duration:ht.number,begin:ht.number,easing:ht.oneOfType([ht.string,ht.func]),steps:ht.arrayOf(ht.shape({duration:ht.number.isRequired,style:ht.object.isRequired,easing:ht.oneOfType([ht.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ht.func]),properties:ht.arrayOf("string"),onAnimationEnd:ht.func})),children:ht.oneOfType([ht.node,ht.func]),isActive:ht.bool,canBegin:ht.bool,onAnimationEnd:ht.func,shouldReAnimate:ht.bool,onAnimationStart:ht.func,onAnimationReStart:ht.func};function Df(t){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Df(t)}function am(){return am=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},am.apply(this,arguments)}function JZ(t,e){return ree(t)||tee(t,e)||eee(t,e)||ZZ()}function ZZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eee(t,e){if(t){if(typeof t=="string")return Dj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dj(t,e)}}function Dj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tee(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function ree(t){if(Array.isArray(t))return t}function Mj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Lj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Mj(Object(r),!0).forEach(function(n){nee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Mj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nee(t,e,r){return e=iee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iee(t){var e=aee(t,"string");return Df(e)=="symbol"?e:e+""}function aee(t,e){if(Df(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $j=function(e,r,n,i,a){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),u=i>=0?1:-1,c=n>=0?1:-1,f=i>=0&&n>=0||i<0&&n<0?1:0,h;if(s>0&&a instanceof Array){for(var g=[0,0,0,0],v=0,_=4;v<_;v++)g[v]=a[v]>s?s:a[v];h="M".concat(e,",").concat(r+u*g[0]),g[0]>0&&(h+="A ".concat(g[0],",").concat(g[0],",0,0,").concat(f,",").concat(e+c*g[0],",").concat(r)),h+="L ".concat(e+n-c*g[1],",").concat(r),g[1]>0&&(h+="A ".concat(g[1],",").concat(g[1],",0,0,").concat(f,`,
        `).concat(e+n,",").concat(r+u*g[1])),h+="L ".concat(e+n,",").concat(r+i-u*g[2]),g[2]>0&&(h+="A ".concat(g[2],",").concat(g[2],",0,0,").concat(f,`,
        `).concat(e+n-c*g[2],",").concat(r+i)),h+="L ".concat(e+c*g[3],",").concat(r+i),g[3]>0&&(h+="A ".concat(g[3],",").concat(g[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(r+i-u*g[3])),h+="Z"}else if(s>0&&a===+a&&a>0){var E=Math.min(s,a);h="M ".concat(e,",").concat(r+u*E,`
            A `).concat(E,",").concat(E,",0,0,").concat(f,",").concat(e+c*E,",").concat(r,`
            L `).concat(e+n-c*E,",").concat(r,`
            A `).concat(E,",").concat(E,",0,0,").concat(f,",").concat(e+n,",").concat(r+u*E,`
            L `).concat(e+n,",").concat(r+i-u*E,`
            A `).concat(E,",").concat(E,",0,0,").concat(f,",").concat(e+n-c*E,",").concat(r+i,`
            L `).concat(e+c*E,",").concat(r+i,`
            A `).concat(E,",").concat(E,",0,0,").concat(f,",").concat(e,",").concat(r+i-u*E," Z")}else h="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return h},oee=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,s=r.y,u=r.width,c=r.height;if(Math.abs(u)>0&&Math.abs(c)>0){var f=Math.min(a,a+u),h=Math.max(a,a+u),g=Math.min(s,s+c),v=Math.max(s,s+c);return n>=f&&n<=h&&i>=g&&i<=v}return!1},see={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},oE=function(e){var r=Lj(Lj({},see),e),n=z.useRef(),i=z.useState(-1),a=JZ(i,2),s=a[0],u=a[1];z.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var V=n.current.getTotalLength();V&&u(V)}catch{}},[]);var c=r.x,f=r.y,h=r.width,g=r.height,v=r.radius,_=r.className,E=r.animationEasing,w=r.animationDuration,b=r.animationBegin,P=r.isAnimationActive,j=r.isUpdateAnimationActive;if(c!==+c||f!==+f||h!==+h||g!==+g||h===0||g===0)return null;var R=Qe("recharts-rectangle",_);return j?H.createElement(ka,{canBegin:s>0,from:{width:h,height:g,x:c,y:f},to:{width:h,height:g,x:c,y:f},duration:w,animationEasing:E,isActive:j},function(V){var O=V.width,N=V.height,A=V.x,k=V.y;return H.createElement(ka,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:w,isActive:P,easing:E},H.createElement("path",am({},Be(r,!0),{className:R,d:$j(A,k,O,N,v),ref:n})))}):H.createElement("path",am({},Be(r,!0),{className:R,d:$j(c,f,h,g,v)}))},lee=["points","className","baseLinePoints","connectNulls"];function zl(){return zl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zl.apply(this,arguments)}function uee(t,e){if(t==null)return{};var r=cee(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function cee(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Vj(t){return pee(t)||hee(t)||dee(t)||fee()}function fee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dee(t,e){if(t){if(typeof t=="string")return Bw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bw(t,e)}}function hee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pee(t){if(Array.isArray(t))return Bw(t)}function Bw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Fj=function(e){return e&&e.x===+e.x&&e.y===+e.y},mee=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){Fj(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),Fj(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Zc=function(e,r){var n=mee(e);r&&(n=[n.reduce(function(a,s){return[].concat(Vj(a),Vj(s))},[])]);var i=n.map(function(a){return a.reduce(function(s,u,c){return"".concat(s).concat(c===0?"M":"L").concat(u.x,",").concat(u.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},gee=function(e,r,n){var i=Zc(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Zc(r.reverse(),n).slice(1))},yee=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,s=uee(e,lee);if(!r||!r.length)return null;var u=Qe("recharts-polygon",n);if(i&&i.length){var c=s.stroke&&s.stroke!=="none",f=gee(r,i,a);return H.createElement("g",{className:u},H.createElement("path",zl({},Be(s,!0),{fill:f.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:f})),c?H.createElement("path",zl({},Be(s,!0),{fill:"none",d:Zc(r,a)})):null,c?H.createElement("path",zl({},Be(s,!0),{fill:"none",d:Zc(i,a)})):null)}var h=Zc(r,a);return H.createElement("path",zl({},Be(s,!0),{fill:h.slice(-1)==="Z"?s.fill:"none",className:u,d:h}))};function qw(){return qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qw.apply(this,arguments)}var sE=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,s=Qe("recharts-dot",a);return r===+r&&n===+n&&i===+i?z.createElement("circle",qw({},Be(e,!1),Op(e),{className:s,cx:r,cy:n,r:i})):null};function Mf(t){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mf(t)}var vee=["x","y","top","left","width","height","className"];function zw(){return zw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zw.apply(this,arguments)}function Uj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bee(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Uj(Object(r),!0).forEach(function(n){xee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Uj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xee(t,e,r){return e=_ee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _ee(t){var e=wee(t,"string");return Mf(e)=="symbol"?e:e+""}function wee(t,e){if(Mf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function See(t,e){if(t==null)return{};var r=Eee(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Eee(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Tee=function(e,r,n,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(r,"h").concat(n)},Aee=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.top,u=s===void 0?0:s,c=e.left,f=c===void 0?0:c,h=e.width,g=h===void 0?0:h,v=e.height,_=v===void 0?0:v,E=e.className,w=See(e,vee),b=bee({x:n,y:a,top:u,left:f,width:g,height:_},w);return!ve(n)||!ve(a)||!ve(g)||!ve(_)||!ve(u)||!ve(f)?null:H.createElement("path",zw({},Be(b,!0),{className:Qe("recharts-cross",E),d:Tee(n,a,g,_,u,f)}))},Kx,Bj;function Pee(){if(Bj)return Kx;Bj=1;var t=ug(),e=c4(),r=Wi();function n(i,a){return i&&i.length?t(i,r(a,2),e):void 0}return Kx=n,Kx}var kee=Pee();const Oee=pt(kee);var Gx,qj;function Iee(){if(qj)return Gx;qj=1;var t=ug(),e=Wi(),r=f4();function n(i,a){return i&&i.length?t(i,e(a,2),r):void 0}return Gx=n,Gx}var Cee=Iee();const Nee=pt(Cee);var jee=["cx","cy","angle","ticks","axisLine"],Ree=["ticks","tick","angle","tickFormatter","stroke"];function vu(t){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vu(t)}function ef(){return ef=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ef.apply(this,arguments)}function zj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function us(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zj(Object(r),!0).forEach(function(n){gg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wj(t,e){if(t==null)return{};var r=Dee(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Dee(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Mee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hj(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,X4(n.key),n)}}function Lee(t,e,r){return e&&Hj(t.prototype,e),r&&Hj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function $ee(t,e,r){return e=om(e),Vee(t,Y4()?Reflect.construct(e,r||[],om(t).constructor):e.apply(t,r))}function Vee(t,e){if(e&&(vu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fee(t)}function Fee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Y4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y4=function(){return!!t})()}function om(t){return om=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},om(t)}function Uee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ww(t,e)}function Ww(t,e){return Ww=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ww(t,e)}function gg(t,e,r){return e=X4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function X4(t){var e=Bee(t,"string");return vu(e)=="symbol"?e:e+""}function Bee(t,e){if(vu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yg=function(t){function e(){return Mee(this,e),$ee(this,e,arguments)}return Uee(e,t),Lee(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,s=a.angle,u=a.cx,c=a.cy;return At(u,c,i,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,u=n.ticks,c=Oee(u,function(h){return h.coordinate||0}),f=Nee(u,function(h){return h.coordinate||0});return{cx:i,cy:a,startAngle:s,endAngle:s,innerRadius:f.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,u=n.ticks,c=n.axisLine,f=Wj(n,jee),h=u.reduce(function(E,w){return[Math.min(E[0],w.coordinate),Math.max(E[1],w.coordinate)]},[1/0,-1/0]),g=At(i,a,h[0],s),v=At(i,a,h[1],s),_=us(us(us({},Be(f,!1)),{},{fill:"none"},Be(c,!1)),{},{x1:g.x,y1:g.y,x2:v.x,y2:v.y});return H.createElement("line",ef({className:"recharts-polar-radius-axis-line"},_))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,u=i.angle,c=i.tickFormatter,f=i.stroke,h=Wj(i,Ree),g=this.getTickTextAnchor(),v=Be(h,!1),_=Be(s,!1),E=a.map(function(w,b){var P=n.getTickValueCoord(w),j=us(us(us(us({textAnchor:g,transform:"rotate(".concat(90-u,", ").concat(P.x,", ").concat(P.y,")")},v),{},{stroke:"none",fill:f},_),{},{index:b},P),{},{payload:w});return H.createElement(gt,ef({className:Qe("recharts-polar-radius-axis-tick",V4(s)),key:"tick-".concat(w.coordinate)},$s(n.props,w,b)),e.renderTickItem(s,j,c?c(w.value,b):w.value))});return H.createElement(gt,{className:"recharts-polar-radius-axis-ticks"},E)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,s=n.tick;return!i||!i.length?null:H.createElement(gt,{className:Qe("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),s&&this.renderTicks(),pr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var s;return H.isValidElement(n)?s=H.cloneElement(n,i):ze(n)?s=n(i):s=H.createElement(Vs,ef({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),s}}])}(z.PureComponent);gg(yg,"displayName","PolarRadiusAxis");gg(yg,"axisType","radiusAxis");gg(yg,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function bu(t){"@babel/helpers - typeof";return bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bu(t)}function gs(){return gs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gs.apply(this,arguments)}function Kj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Kj(Object(r),!0).forEach(function(n){vg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Kj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gj(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,J4(n.key),n)}}function zee(t,e,r){return e&&Gj(t.prototype,e),r&&Gj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wee(t,e,r){return e=sm(e),Hee(t,Q4()?Reflect.construct(e,r||[],sm(t).constructor):e.apply(t,r))}function Hee(t,e){if(e&&(bu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kee(t)}function Kee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Q4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q4=function(){return!!t})()}function sm(t){return sm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sm(t)}function Gee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hw(t,e)}function Hw(t,e){return Hw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Hw(t,e)}function vg(t,e,r){return e=J4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function J4(t){var e=Yee(t,"string");return bu(e)=="symbol"?e:e+""}function Yee(t,e){if(bu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xee=Math.PI/180,Yj=1e-5,bg=function(t){function e(){return qee(this,e),Wee(this,e,arguments)}return Gee(e,t),zee(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,s=i.cy,u=i.radius,c=i.orientation,f=i.tickSize,h=f||8,g=At(a,s,u,n.coordinate),v=At(a,s,u+(c==="inner"?-1:1)*h,n.coordinate);return{x1:g.x,y1:g.y,x2:v.x,y2:v.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*Xee),s;return a>Yj?s=i==="outer"?"start":"end":a<-Yj?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.radius,u=n.axisLine,c=n.axisLineType,f=cs(cs({},Be(this.props,!1)),{},{fill:"none"},Be(u,!1));if(c==="circle")return H.createElement(sE,gs({className:"recharts-polar-angle-axis-line"},f,{cx:i,cy:a,r:s}));var h=this.props.ticks,g=h.map(function(v){return At(i,a,s,v.coordinate)});return H.createElement(yee,gs({className:"recharts-polar-angle-axis-line"},f,{points:g}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,u=i.tickLine,c=i.tickFormatter,f=i.stroke,h=Be(this.props,!1),g=Be(s,!1),v=cs(cs({},h),{},{fill:"none"},Be(u,!1)),_=a.map(function(E,w){var b=n.getTickLineCoord(E),P=n.getTickTextAnchor(E),j=cs(cs(cs({textAnchor:P},h),{},{stroke:"none",fill:f},g),{},{index:w,payload:E,x:b.x2,y:b.y2});return H.createElement(gt,gs({className:Qe("recharts-polar-angle-axis-tick",V4(s)),key:"tick-".concat(E.coordinate)},$s(n.props,E,w)),u&&H.createElement("line",gs({className:"recharts-polar-angle-axis-tick-line"},v,b)),s&&e.renderTickItem(s,j,c?c(E.value,w):E.value))});return H.createElement(gt,{className:"recharts-polar-angle-axis-ticks"},_)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,s=n.axisLine;return a<=0||!i||!i.length?null:H.createElement(gt,{className:Qe("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var s;return H.isValidElement(n)?s=H.cloneElement(n,i):ze(n)?s=n(i):s=H.createElement(Vs,gs({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),s}}])}(z.PureComponent);vg(bg,"displayName","PolarAngleAxis");vg(bg,"axisType","angleAxis");vg(bg,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Yx,Xj;function Qee(){if(Xj)return Yx;Xj=1;var t=lL(),e=t(Object.getPrototypeOf,Object);return Yx=e,Yx}var Xx,Qj;function Jee(){if(Qj)return Xx;Qj=1;var t=Ia(),e=Qee(),r=Ca(),n="[object Object]",i=Function.prototype,a=Object.prototype,s=i.toString,u=a.hasOwnProperty,c=s.call(Object);function f(h){if(!r(h)||t(h)!=n)return!1;var g=e(h);if(g===null)return!0;var v=u.call(g,"constructor")&&g.constructor;return typeof v=="function"&&v instanceof v&&s.call(v)==c}return Xx=f,Xx}var Zee=Jee();const ete=pt(Zee);var Qx,Jj;function tte(){if(Jj)return Qx;Jj=1;var t=Ia(),e=Ca(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return Qx=n,Qx}var rte=tte();const nte=pt(rte);function Lf(t){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lf(t)}function lm(){return lm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lm.apply(this,arguments)}function ite(t,e){return lte(t)||ste(t,e)||ote(t,e)||ate()}function ate(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ote(t,e){if(t){if(typeof t=="string")return Zj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zj(t,e)}}function Zj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ste(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function lte(t){if(Array.isArray(t))return t}function e2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function t2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?e2(Object(r),!0).forEach(function(n){ute(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ute(t,e,r){return e=cte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cte(t){var e=fte(t,"string");return Lf(e)=="symbol"?e:e+""}function fte(t,e){if(Lf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var r2=function(e,r,n,i,a){var s=n-i,u;return u="M ".concat(e,",").concat(r),u+="L ".concat(e+n,",").concat(r),u+="L ".concat(e+n-s/2,",").concat(r+a),u+="L ".concat(e+n-s/2-i,",").concat(r+a),u+="L ".concat(e,",").concat(r," Z"),u},dte={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},hte=function(e){var r=t2(t2({},dte),e),n=z.useRef(),i=z.useState(-1),a=ite(i,2),s=a[0],u=a[1];z.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var R=n.current.getTotalLength();R&&u(R)}catch{}},[]);var c=r.x,f=r.y,h=r.upperWidth,g=r.lowerWidth,v=r.height,_=r.className,E=r.animationEasing,w=r.animationDuration,b=r.animationBegin,P=r.isUpdateAnimationActive;if(c!==+c||f!==+f||h!==+h||g!==+g||v!==+v||h===0&&g===0||v===0)return null;var j=Qe("recharts-trapezoid",_);return P?H.createElement(ka,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:v,x:c,y:f},to:{upperWidth:h,lowerWidth:g,height:v,x:c,y:f},duration:w,animationEasing:E,isActive:P},function(R){var V=R.upperWidth,O=R.lowerWidth,N=R.height,A=R.x,k=R.y;return H.createElement(ka,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:w,easing:E},H.createElement("path",lm({},Be(r,!0),{className:j,d:r2(A,k,V,O,N),ref:n})))}):H.createElement("g",null,H.createElement("path",lm({},Be(r,!0),{className:j,d:r2(c,f,h,g,v)})))},pte=["option","shapeType","propTransformer","activeClassName","isActive"];function $f(t){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$f(t)}function mte(t,e){if(t==null)return{};var r=gte(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gte(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function n2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function um(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n2(Object(r),!0).forEach(function(n){yte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yte(t,e,r){return e=vte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vte(t){var e=bte(t,"string");return $f(e)=="symbol"?e:e+""}function bte(t,e){if($f(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xte(t,e){return um(um({},e),t)}function _te(t,e){return t==="symbols"}function i2(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return H.createElement(oE,r);case"trapezoid":return H.createElement(hte,r);case"sector":return H.createElement(aE,r);case"symbols":if(_te(e))return H.createElement(ES,r);break;default:return null}}function wte(t){return z.isValidElement(t)?t.props:t}function Z4(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?xte:n,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,u=t.isActive,c=mte(t,pte),f;if(z.isValidElement(e))f=z.cloneElement(e,um(um({},c),wte(e)));else if(ze(e))f=e(c);else if(ete(e)&&!nte(e)){var h=i(e,c);f=H.createElement(i2,{shapeType:r,elementProps:h})}else{var g=c;f=H.createElement(i2,{shapeType:r,elementProps:g})}return u?H.createElement(gt,{className:s},f):f}function xg(t,e){return e!=null&&"trapezoids"in t.props}function _g(t,e){return e!=null&&"sectors"in t.props}function Vf(t,e){return e!=null&&"points"in t.props}function Ste(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function Ete(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function Tte(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function Ate(t,e){var r;return xg(t,e)?r=Ste:_g(t,e)?r=Ete:Vf(t,e)&&(r=Tte),r}function Pte(t,e){var r;return xg(t,e)?r="trapezoids":_g(t,e)?r="sectors":Vf(t,e)&&(r="points"),r}function kte(t,e){if(xg(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(_g(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Vf(t,e)?e.payload:{}}function Ote(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=Pte(r,e),a=kte(r,e),s=n.filter(function(c,f){var h=dg(a,c),g=r.props[i].filter(function(E){var w=Ate(r,e);return w(E,e)}),v=r.props[i].indexOf(g[g.length-1]),_=f===v;return h&&_}),u=n.indexOf(s[s.length-1]);return u}var op;function xu(t){"@babel/helpers - typeof";return xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xu(t)}function Wl(){return Wl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wl.apply(this,arguments)}function a2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Et(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?a2(Object(r),!0).forEach(function(n){Fn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ite(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,t$(n.key),n)}}function Cte(t,e,r){return e&&o2(t.prototype,e),r&&o2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nte(t,e,r){return e=cm(e),jte(t,e$()?Reflect.construct(e,r||[],cm(t).constructor):e.apply(t,r))}function jte(t,e){if(e&&(xu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rte(t)}function Rte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e$=function(){return!!t})()}function cm(t){return cm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cm(t)}function Dte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kw(t,e)}function Kw(t,e){return Kw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Kw(t,e)}function Fn(t,e,r){return e=t$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function t$(t){var e=Mte(t,"string");return xu(e)=="symbol"?e:e+""}function Mte(t,e){if(xu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ja=function(t){function e(r){var n;return Ite(this,e),n=Nte(this,e,[r]),Fn(n,"pieRef",null),Fn(n,"sectorRefs",[]),Fn(n,"id",cd("recharts-pie-")),Fn(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ze(i)&&i()}),Fn(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ze(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Dte(e,t),Cte(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.label,u=a.labelLine,c=a.dataKey,f=a.valueKey,h=Be(this.props,!1),g=Be(s,!1),v=Be(u,!1),_=s&&s.offsetRadius||20,E=n.map(function(w,b){var P=(w.startAngle+w.endAngle)/2,j=At(w.cx,w.cy,w.outerRadius+_,P),R=Et(Et(Et(Et({},h),w),{},{stroke:"none"},g),{},{index:b,textAnchor:e.getTextAnchor(j.x,w.cx)},j),V=Et(Et(Et(Et({},h),w),{},{fill:"none",stroke:w.fill},v),{},{index:b,points:[At(w.cx,w.cy,w.outerRadius,P),j]}),O=c;return et(c)&&et(f)?O="value":et(c)&&(O=f),H.createElement(gt,{key:"label-".concat(w.startAngle,"-").concat(w.endAngle,"-").concat(w.midAngle,"-").concat(b)},u&&e.renderLabelLineItem(u,V,"line"),e.renderLabelItem(s,R,Lr(w,O)))});return H.createElement(gt,{className:"recharts-pie-labels"},E)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,s=a.activeShape,u=a.blendStroke,c=a.inactiveShape;return n.map(function(f,h){if(f?.startAngle===0&&f?.endAngle===0&&n.length!==1)return null;var g=i.isActiveIndex(h),v=c&&i.hasActiveIndex()?c:null,_=g?s:v,E=Et(Et({},f),{},{stroke:u?f.fill:f.stroke,tabIndex:-1});return H.createElement(gt,Wl({ref:function(b){b&&!i.sectorRefs.includes(b)&&i.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},$s(i.props,f,h),{key:"sector-".concat(f?.startAngle,"-").concat(f?.endAngle,"-").concat(f.midAngle,"-").concat(h)}),H.createElement(Z4,Wl({option:_,isActive:g,shapeType:"sector"},E)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,s=i.isAnimationActive,u=i.animationBegin,c=i.animationDuration,f=i.animationEasing,h=i.animationId,g=this.state,v=g.prevSectors,_=g.prevIsAnimationActive;return H.createElement(ka,{begin:u,duration:c,isActive:s,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(h,"-").concat(_),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(E){var w=E.t,b=[],P=a&&a[0],j=P.startAngle;return a.forEach(function(R,V){var O=v&&v[V],N=V>0?En(R,"paddingAngle",0):0;if(O){var A=lo(O.endAngle-O.startAngle,R.endAngle-R.startAngle),k=Et(Et({},R),{},{startAngle:j+N,endAngle:j+A(w)+N});b.push(k),j=k.endAngle}else{var D=R.endAngle,I=R.startAngle,M=lo(0,D-I),F=M(w),L=Et(Et({},R),{},{startAngle:j+N,endAngle:j+F+N});b.push(L),j=L.endAngle}}),H.createElement(gt,null,n.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var u=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[u].focus(),i.setState({sectorToFocus:u});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,s=this.state.prevSectors;return a&&i&&i.length&&(!s||!dg(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,s=i.sectors,u=i.className,c=i.label,f=i.cx,h=i.cy,g=i.innerRadius,v=i.outerRadius,_=i.isAnimationActive,E=this.state.isAnimationFinished;if(a||!s||!s.length||!ve(f)||!ve(h)||!ve(g)||!ve(v))return null;var w=Qe("recharts-pie",u);return H.createElement(gt,{tabIndex:this.props.rootTabIndex,className:w,ref:function(P){n.pieRef=P}},this.renderSectors(),c&&this.renderLabels(s),pr.renderCallByParent(this.props,null,!1),(!_||E)&&So.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(H.isValidElement(n))return H.cloneElement(n,i);if(ze(n))return n(i);var s=Qe("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return H.createElement(Nw,Wl({},i,{key:a,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,i,a){if(H.isValidElement(n))return H.cloneElement(n,i);var s=a;if(ze(n)&&(s=n(i),H.isValidElement(s)))return s;var u=Qe("recharts-pie-label-text",typeof n!="boolean"&&!ze(n)?n.className:"");return H.createElement(Vs,Wl({},i,{alignmentBaseline:"middle",className:u}),s)}}])}(z.PureComponent);op=ja;Fn(ja,"displayName","Pie");Fn(ja,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Fu.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Fn(ja,"parseDeltaAngle",function(t,e){var r=Wr(e-t),n=Math.min(Math.abs(e-t),360);return r*n});Fn(ja,"getRealPieData",function(t){var e=t.data,r=t.children,n=Be(t,!1),i=qn(r,rg);return e&&e.length?e.map(function(a,s){return Et(Et(Et({payload:a},n),a),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(a){return Et(Et({},n),a.props)}):[]});Fn(ja,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,a=e.height,s=$4(i,a),u=n+Hr(t.cx,i,i/2),c=r+Hr(t.cy,a,a/2),f=Hr(t.innerRadius,s,0),h=Hr(t.outerRadius,s,s*.8),g=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:u,cy:c,innerRadius:f,outerRadius:h,maxRadius:g}});Fn(ja,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?Et(Et({},e.type.defaultProps),e.props):e.props,i=op.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,s=n.startAngle,u=n.endAngle,c=n.paddingAngle,f=n.dataKey,h=n.nameKey,g=n.valueKey,v=n.tooltipType,_=Math.abs(n.minAngle),E=op.parseCoordinateOfPie(n,r),w=op.parseDeltaAngle(s,u),b=Math.abs(w),P=f;et(f)&&et(g)?(pi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),P="value"):et(f)&&(pi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),P=g);var j=i.filter(function(k){return Lr(k,P,0)!==0}).length,R=(b>=360?j:j-1)*c,V=b-j*_-R,O=i.reduce(function(k,D){var I=Lr(D,P,0);return k+(ve(I)?I:0)},0),N;if(O>0){var A;N=i.map(function(k,D){var I=Lr(k,P,0),M=Lr(k,h,D),F=(ve(I)?I:0)/O,L;D?L=A.endAngle+Wr(w)*c*(I!==0?1:0):L=s;var te=L+Wr(w)*((I!==0?_:0)+F*V),re=(L+te)/2,X=(E.innerRadius+E.outerRadius)/2,ie=[{name:M,value:I,payload:k,dataKey:P,type:v}],J=At(E.cx,E.cy,X,re);return A=Et(Et(Et({percent:F,cornerRadius:a,name:M,tooltipPayload:ie,midAngle:re,middleRadius:X,tooltipPosition:J},k),E),{},{value:Lr(k,P),startAngle:L,endAngle:te,payload:k,paddingAngle:Wr(w)*c}),A})}return Et(Et({},E),{},{sectors:N,data:i})});var Jx,s2;function Lte(){if(s2)return Jx;s2=1;var t=Math.ceil,e=Math.max;function r(n,i,a,s){for(var u=-1,c=e(t((i-n)/(a||1)),0),f=Array(c);c--;)f[s?c:++u]=n,n+=a;return f}return Jx=r,Jx}var Zx,l2;function r$(){if(l2)return Zx;l2=1;var t=EL(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var a=i<0?-1:1;return a*r}return i===i?i:0}return Zx=n,Zx}var e_,u2;function $te(){if(u2)return e_;u2=1;var t=Lte(),e=tg(),r=r$();function n(i){return function(a,s,u){return u&&typeof u!="number"&&e(a,s,u)&&(s=u=void 0),a=r(a),s===void 0?(s=a,a=0):s=r(s),u=u===void 0?a<s?1:-1:r(u),t(a,s,u,i)}}return e_=n,e_}var t_,c2;function Vte(){if(c2)return t_;c2=1;var t=$te(),e=t();return t_=e,t_}var Fte=Vte();const fm=pt(Fte);function Ff(t){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ff(t)}function f2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function d2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?f2(Object(r),!0).forEach(function(n){n$(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function n$(t,e,r){return e=Ute(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ute(t){var e=Bte(t,"string");return Ff(e)=="symbol"?e:e+""}function Bte(t,e){if(Ff(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ff(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qte=["Webkit","Moz","O","ms"],zte=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=qte.reduce(function(a,s){return d2(d2({},a),{},n$({},s+n,r))},{});return i[e]=r,i};function _u(t){"@babel/helpers - typeof";return _u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_u(t)}function dm(){return dm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dm.apply(this,arguments)}function h2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function r_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?h2(Object(r),!0).forEach(function(n){xn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a$(n.key),n)}}function Hte(t,e,r){return e&&p2(t.prototype,e),r&&p2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kte(t,e,r){return e=hm(e),Gte(t,i$()?Reflect.construct(e,r||[],hm(t).constructor):e.apply(t,r))}function Gte(t,e){if(e&&(_u(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yte(t)}function Yte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i$=function(){return!!t})()}function hm(t){return hm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hm(t)}function Xte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gw(t,e)}function Gw(t,e){return Gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Gw(t,e)}function xn(t,e,r){return e=a$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a$(t){var e=Qte(t,"string");return _u(e)=="symbol"?e:e+""}function Qte(t,e){if(_u(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_u(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Jte=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,s=e.width,u=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,f=Xc().domain(fm(0,c)).range([a,a+s-u]),h=f.domain().map(function(g){return f(g)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(n),endX:f(i),scale:f,scaleValues:h}},m2=function(e){return e.changedTouches&&!!e.changedTouches.length},wu=function(t){function e(r){var n;return Wte(this,e),n=Kte(this,e,[r]),xn(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),xn(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),xn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,s=i.onDragEnd,u=i.startIndex;s?.({endIndex:a,startIndex:u})}),n.detachDragEndListener()}),xn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),xn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),xn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),xn(n,"handleSlideDragStart",function(i){var a=m2(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Xte(e,t),Hte(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,s=this.state.scaleValues,u=this.props,c=u.gap,f=u.data,h=f.length-1,g=Math.min(i,a),v=Math.max(i,a),_=e.getIndexInRange(s,g),E=e.getIndexInRange(s,v);return{startIndex:_-_%c,endIndex:E===h?h:E-E%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,s=i.tickFormatter,u=i.dataKey,c=Lr(a[n],u,n);return ze(s)?s(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,s=i.startX,u=i.endX,c=this.props,f=c.x,h=c.width,g=c.travellerWidth,v=c.startIndex,_=c.endIndex,E=c.onChange,w=n.pageX-a;w>0?w=Math.min(w,f+h-g-u,f+h-g-s):w<0&&(w=Math.max(w,f-s,f-u));var b=this.getIndex({startX:s+w,endX:u+w});(b.startIndex!==v||b.endIndex!==_)&&E&&E(b),this.setState({startX:s+w,endX:u+w,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=m2(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,u=i.endX,c=i.startX,f=this.state[s],h=this.props,g=h.x,v=h.width,_=h.travellerWidth,E=h.onChange,w=h.gap,b=h.data,P={startX:this.state.startX,endX:this.state.endX},j=n.pageX-a;j>0?j=Math.min(j,g+v-_-f):j<0&&(j=Math.max(j,g-f)),P[s]=f+j;var R=this.getIndex(P),V=R.startIndex,O=R.endIndex,N=function(){var k=b.length-1;return s==="startX"&&(u>c?V%w===0:O%w===0)||u<c&&O===k||s==="endX"&&(u>c?O%w===0:V%w===0)||u>c&&O===k};this.setState(xn(xn({},s,f+j),"brushMoveStartX",n.pageX),function(){E&&N()&&E(R)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,s=this.state,u=s.scaleValues,c=s.startX,f=s.endX,h=this.state[i],g=u.indexOf(h);if(g!==-1){var v=g+n;if(!(v===-1||v>=u.length)){var _=u[v];i==="startX"&&_>=f||i==="endX"&&_<=c||this.setState(xn({},i,_),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,u=n.height,c=n.fill,f=n.stroke;return H.createElement("rect",{stroke:f,fill:c,x:i,y:a,width:s,height:u})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,u=n.height,c=n.data,f=n.children,h=n.padding,g=z.Children.only(f);return g?H.cloneElement(g,{x:i,y:a,width:s,height:u,margin:h,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,s,u=this,c=this.props,f=c.y,h=c.travellerWidth,g=c.height,v=c.traveller,_=c.ariaLabel,E=c.data,w=c.startIndex,b=c.endIndex,P=Math.max(n,this.props.x),j=r_(r_({},Be(this.props,!1)),{},{x:P,y:f,width:h,height:g}),R=_||"Min value: ".concat((a=E[w])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=E[b])===null||s===void 0?void 0:s.name);return H.createElement(gt,{tabIndex:0,role:"slider","aria-label":R,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(O){["ArrowLeft","ArrowRight"].includes(O.key)&&(O.preventDefault(),O.stopPropagation(),u.handleTravellerMoveKeyboard(O.key==="ArrowRight"?1:-1,i))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(v,j))}},{key:"renderSlide",value:function(n,i){var a=this.props,s=a.y,u=a.height,c=a.stroke,f=a.travellerWidth,h=Math.min(n,i)+f,g=Math.max(Math.abs(i-n)-f,0);return H.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:h,y:s,width:g,height:u})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,s=n.y,u=n.height,c=n.travellerWidth,f=n.stroke,h=this.state,g=h.startX,v=h.endX,_=5,E={pointerEvents:"none",fill:f};return H.createElement(gt,{className:"recharts-brush-texts"},H.createElement(Vs,dm({textAnchor:"end",verticalAnchor:"middle",x:Math.min(g,v)-_,y:s+u/2},E),this.getTextOfTick(i)),H.createElement(Vs,dm({textAnchor:"start",verticalAnchor:"middle",x:Math.max(g,v)+c+_,y:s+u/2},E),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,s=n.children,u=n.x,c=n.y,f=n.width,h=n.height,g=n.alwaysShowText,v=this.state,_=v.startX,E=v.endX,w=v.isTextActive,b=v.isSlideMoving,P=v.isTravellerMoving,j=v.isTravellerFocused;if(!i||!i.length||!ve(u)||!ve(c)||!ve(f)||!ve(h)||f<=0||h<=0)return null;var R=Qe("recharts-brush",a),V=H.Children.count(s)===1,O=zte("userSelect","none");return H.createElement(gt,{className:R,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:O},this.renderBackground(),V&&this.renderPanorama(),this.renderSlide(_,E),this.renderTravellerLayer(_,"startX"),this.renderTravellerLayer(E,"endX"),(w||b||P||j||g)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,s=n.width,u=n.height,c=n.stroke,f=Math.floor(a+u/2)-1;return H.createElement(H.Fragment,null,H.createElement("rect",{x:i,y:a,width:s,height:u,fill:c,stroke:"none"}),H.createElement("line",{x1:i+1,y1:f,x2:i+s-1,y2:f,fill:"none",stroke:"#fff"}),H.createElement("line",{x1:i+1,y1:f+2,x2:i+s-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return H.isValidElement(n)?a=H.cloneElement(n,i):ze(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,s=n.width,u=n.x,c=n.travellerWidth,f=n.updateId,h=n.startIndex,g=n.endIndex;if(a!==i.prevData||f!==i.prevUpdateId)return r_({prevData:a,prevTravellerWidth:c,prevUpdateId:f,prevX:u,prevWidth:s},a&&a.length?Jte({data:a,width:s,x:u,travellerWidth:c,startIndex:h,endIndex:g}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||u!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([u,u+s-c]);var v=i.scale.domain().map(function(_){return i.scale(_)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:f,prevX:u,prevWidth:s,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:v}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,s=0,u=a-1;u-s>1;){var c=Math.floor((s+u)/2);n[c]>i?u=c:s=c}return i>=n[u]?u:s}}])}(z.PureComponent);xn(wu,"displayName","Brush");xn(wu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var n_,g2;function Zte(){if(g2)return n_;g2=1;var t=CS();function e(r,n){var i;return t(r,function(a,s,u){return i=n(a,s,u),!i}),!!i}return n_=e,n_}var i_,y2;function ere(){if(y2)return i_;y2=1;var t=tL(),e=Wi(),r=Zte(),n=un(),i=tg();function a(s,u,c){var f=n(s)?t:r;return c&&i(s,u,c)&&(u=void 0),f(s,e(u,3))}return i_=a,i_}var tre=ere();const rre=pt(tre);var $i=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},a_,v2;function nre(){if(v2)return a_;v2=1;var t=bL();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return a_=e,a_}var o_,b2;function ire(){if(b2)return o_;b2=1;var t=nre(),e=yL(),r=Wi();function n(i,a){var s={};return a=r(a,3),e(i,function(u,c,f){t(s,c,a(u,c,f))}),s}return o_=n,o_}var are=ire();const ore=pt(are);var s_,x2;function sre(){if(x2)return s_;x2=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return s_=t,s_}var l_,_2;function lre(){if(_2)return l_;_2=1;var t=CS();function e(r,n){var i=!0;return t(r,function(a,s,u){return i=!!n(a,s,u),i}),i}return l_=e,l_}var u_,w2;function ure(){if(w2)return u_;w2=1;var t=sre(),e=lre(),r=Wi(),n=un(),i=tg();function a(s,u,c){var f=n(s)?t:e;return c&&i(s,u,c)&&(u=void 0),f(s,r(u,3))}return u_=a,u_}var cre=ure();const o$=pt(cre);var fre=["x","y"];function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}function Yw(){return Yw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yw.apply(this,arguments)}function S2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Rc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?S2(Object(r),!0).forEach(function(n){dre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dre(t,e,r){return e=hre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hre(t){var e=pre(t,"string");return Uf(e)=="symbol"?e:e+""}function pre(t,e){if(Uf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mre(t,e){if(t==null)return{};var r=gre(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gre(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function yre(t,e){var r=t.x,n=t.y,i=mre(t,fre),a="".concat(r),s=parseInt(a,10),u="".concat(n),c=parseInt(u,10),f="".concat(e.height||i.height),h=parseInt(f,10),g="".concat(e.width||i.width),v=parseInt(g,10);return Rc(Rc(Rc(Rc(Rc({},e),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:h,width:v,name:e.name,radius:e.radius})}function E2(t){return H.createElement(Z4,Yw({shapeType:"rectangle",propTransformer:yre,activeClassName:"recharts-active-bar"},t))}var vre=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=ve(n)||qz(n);return a?e(n,i):(a||Us(),r)}},bre=["value","background"],s$;function Su(t){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Su(t)}function xre(t,e){if(t==null)return{};var r=_re(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _re(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function pm(){return pm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pm.apply(this,arguments)}function T2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Gt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?T2(Object(r),!0).forEach(function(n){yo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):T2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u$(n.key),n)}}function Sre(t,e,r){return e&&A2(t.prototype,e),r&&A2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ere(t,e,r){return e=mm(e),Tre(t,l$()?Reflect.construct(e,r||[],mm(t).constructor):e.apply(t,r))}function Tre(t,e){if(e&&(Su(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Are(t)}function Are(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l$=function(){return!!t})()}function mm(t){return mm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mm(t)}function Pre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xw(t,e)}function Xw(t,e){return Xw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Xw(t,e)}function yo(t,e,r){return e=u$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u$(t){var e=kre(t,"string");return Su(e)=="symbol"?e:e+""}function kre(t,e){if(Su(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ko=function(t){function e(){var r;wre(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Ere(this,e,[].concat(i)),yo(r,"state",{isAnimationFinished:!1}),yo(r,"id",cd("recharts-bar-")),yo(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),yo(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return Pre(e,t),Sre(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,s=a.shape,u=a.dataKey,c=a.activeIndex,f=a.activeBar,h=Be(this.props,!1);return n&&n.map(function(g,v){var _=v===c,E=_?f:s,w=Gt(Gt(Gt({},h),g),{},{isActive:_,option:E,index:v,dataKey:u,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return H.createElement(gt,pm({className:"recharts-bar-rectangle"},$s(i.props,g,v),{key:"rectangle-".concat(g?.x,"-").concat(g?.y,"-").concat(g?.value,"-").concat(v)}),H.createElement(E2,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,s=i.layout,u=i.isAnimationActive,c=i.animationBegin,f=i.animationDuration,h=i.animationEasing,g=i.animationId,v=this.state.prevData;return H.createElement(ka,{begin:c,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var E=_.t,w=a.map(function(b,P){var j=v&&v[P];if(j){var R=lo(j.x,b.x),V=lo(j.y,b.y),O=lo(j.width,b.width),N=lo(j.height,b.height);return Gt(Gt({},b),{},{x:R(E),y:V(E),width:O(E),height:N(E)})}if(s==="horizontal"){var A=lo(0,b.height),k=A(E);return Gt(Gt({},b),{},{y:b.y+b.height-k,height:k})}var D=lo(0,b.width),I=D(E);return Gt(Gt({},b),{},{width:I})});return H.createElement(gt,null,n.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!dg(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,s=i.dataKey,u=i.activeIndex,c=Be(this.props.background,!1);return a.map(function(f,h){f.value;var g=f.background,v=xre(f,bre);if(!g)return null;var _=Gt(Gt(Gt(Gt(Gt({},v),{},{fill:"#eee"},g),c),$s(n.props,f,h)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:h,className:"recharts-bar-background-rectangle"});return H.createElement(E2,pm({key:"background-bar-".concat(h),option:n.props.background,isActive:h===u},_))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,u=a.xAxis,c=a.yAxis,f=a.layout,h=a.children,g=qn(h,mg);if(!g)return null;var v=f==="vertical"?s[0].height/2:s[0].width/2,_=function(b,P){var j=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:j,errorVal:Lr(b,P)}},E={clipPath:n?"url(#clipPath-".concat(i,")"):null};return H.createElement(gt,E,g.map(function(w){return H.cloneElement(w,{key:"error-bar-".concat(i,"-").concat(w.props.dataKey),data:s,xAxis:u,yAxis:c,layout:f,offset:v,dataPointFormatter:_})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,s=n.className,u=n.xAxis,c=n.yAxis,f=n.left,h=n.top,g=n.width,v=n.height,_=n.isAnimationActive,E=n.background,w=n.id;if(i||!a||!a.length)return null;var b=this.state.isAnimationFinished,P=Qe("recharts-bar",s),j=u&&u.allowDataOverflow,R=c&&c.allowDataOverflow,V=j||R,O=et(w)?this.id:w;return H.createElement(gt,{className:P},j||R?H.createElement("defs",null,H.createElement("clipPath",{id:"clipPath-".concat(O)},H.createElement("rect",{x:j?f:f-g/2,y:R?h:h-v/2,width:j?g:g*2,height:R?v:v*2}))):null,H.createElement(gt,{className:"recharts-bar-rectangles",clipPath:V?"url(#clipPath-".concat(O,")"):null},E?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(V,O),(!_||b)&&So.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(z.PureComponent);s$=ko;yo(ko,"displayName","Bar");yo(ko,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Fu.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});yo(ko,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,u=t.xAxisTicks,c=t.yAxisTicks,f=t.stackedData,h=t.dataStartIndex,g=t.displayedData,v=t.offset,_=nQ(n,r);if(!_)return null;var E=e.layout,w=r.type.defaultProps,b=w!==void 0?Gt(Gt({},w),r.props):r.props,P=b.dataKey,j=b.children,R=b.minPointSize,V=E==="horizontal"?s:a,O=f?V.scale.domain():null,N=cQ({numericAxis:V}),A=qn(j,rg),k=g.map(function(D,I){var M,F,L,te,re,X;f?M=iQ(f[h+I],O):(M=Lr(D,P),Array.isArray(M)||(M=[N,M]));var ie=vre(R,s$.defaultProps.minPointSize)(M[1],I);if(E==="horizontal"){var J,Q=[s.scale(M[0]),s.scale(M[1])],ae=Q[0],q=Q[1];F=QN({axis:a,ticks:u,bandSize:i,offset:_.offset,entry:D,index:I}),L=(J=q??ae)!==null&&J!==void 0?J:void 0,te=_.size;var G=ae-q;if(re=Number.isNaN(G)?0:G,X={x:F,y:s.y,width:te,height:s.height},Math.abs(ie)>0&&Math.abs(re)<Math.abs(ie)){var ue=Wr(re||ie)*(Math.abs(ie)-Math.abs(re));L-=ue,re+=ue}}else{var xe=[a.scale(M[0]),a.scale(M[1])],Pe=xe[0],De=xe[1];if(F=Pe,L=QN({axis:s,ticks:c,bandSize:i,offset:_.offset,entry:D,index:I}),te=De-Pe,re=_.size,X={x:a.x,y:L,width:a.width,height:re},Math.abs(ie)>0&&Math.abs(te)<Math.abs(ie)){var Ke=Wr(te||ie)*(Math.abs(ie)-Math.abs(te));te+=Ke}}return Gt(Gt(Gt({},D),{},{x:F,y:L,width:te,height:re,value:f?M:M[1],payload:D,background:X},A&&A[I]&&A[I].props),{},{tooltipPayload:[M4(r,D)],tooltipPosition:{x:F+te/2,y:L+re/2}})});return Gt({data:k,layout:E},v)});function Bf(t){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(t)}function Ore(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c$(n.key),n)}}function Ire(t,e,r){return e&&P2(t.prototype,e),r&&P2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function k2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?k2(Object(r),!0).forEach(function(n){wg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):k2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wg(t,e,r){return e=c$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c$(t){var e=Cre(t,"string");return Bf(e)=="symbol"?e:e+""}function Cre(t,e){if(Bf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nre=function(e,r,n,i,a){var s=e.width,u=e.height,c=e.layout,f=e.children,h=Object.keys(r),g={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:u-n.bottom,bottomMirror:u-n.bottom},v=!!_n(f,ko);return h.reduce(function(_,E){var w=r[E],b=w.orientation,P=w.domain,j=w.padding,R=j===void 0?{}:j,V=w.mirror,O=w.reversed,N="".concat(b).concat(V?"Mirror":""),A,k,D,I,M;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var F=P[1]-P[0],L=1/0,te=w.categoricalDomain.sort(Hz);if(te.forEach(function(xe,Pe){Pe>0&&(L=Math.min((xe||0)-(te[Pe-1]||0),L))}),Number.isFinite(L)){var re=L/F,X=w.layout==="vertical"?n.height:n.width;if(w.padding==="gap"&&(A=re*X/2),w.padding==="no-gap"){var ie=Hr(e.barCategoryGap,re*X),J=re*X/2;A=J-ie-(J-ie)/X*ie}}}i==="xAxis"?k=[n.left+(R.left||0)+(A||0),n.left+n.width-(R.right||0)-(A||0)]:i==="yAxis"?k=c==="horizontal"?[n.top+n.height-(R.bottom||0),n.top+(R.top||0)]:[n.top+(R.top||0)+(A||0),n.top+n.height-(R.bottom||0)-(A||0)]:k=w.range,O&&(k=[k[1],k[0]]);var Q=N4(w,a,v),ae=Q.scale,q=Q.realScaleType;ae.domain(P).range(k),j4(ae);var G=R4(ae,fi(fi({},w),{},{realScaleType:q}));i==="xAxis"?(M=b==="top"&&!V||b==="bottom"&&V,D=n.left,I=g[N]-M*w.height):i==="yAxis"&&(M=b==="left"&&!V||b==="right"&&V,D=g[N]-M*w.width,I=n.top);var ue=fi(fi(fi({},w),G),{},{realScaleType:q,x:D,y:I,scale:ae,width:i==="xAxis"?n.width:w.width,height:i==="yAxis"?n.height:w.height});return ue.bandSize=Zp(ue,G),!w.hide&&i==="xAxis"?g[N]+=(M?-1:1)*ue.height:w.hide||(g[N]+=(M?-1:1)*ue.width),fi(fi({},_),{},wg({},E,ue))},{})},f$=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return{x:Math.min(n,a),y:Math.min(i,s),width:Math.abs(a-n),height:Math.abs(s-i)}},jre=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return f$({x:r,y:n},{x:i,y:a})},d$=function(){function t(e){Ore(this,t),this.scale=e}return Ire(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(r)+u}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();wg(d$,"EPS",1e-4);var lE=function(e){var r=Object.keys(e).reduce(function(n,i){return fi(fi({},n),{},wg({},i,d$.create(e[i])))},{});return fi(fi({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,u=a.position;return ore(i,function(c,f){return r[f].apply(c,{bandAware:s,position:u})})},isInRange:function(i){return o$(i,function(a,s){return r[s].isInRange(a)})}})};function Rre(t){return(t%180+180)%180}var Dre=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Rre(i),s=a*Math.PI/180,u=Math.atan(n/r),c=s>u&&s<Math.PI-u?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},c_,O2;function Mre(){if(O2)return c_;O2=1;var t=Wi(),e=fd(),r=Zm();function n(i){return function(a,s,u){var c=Object(a);if(!e(a)){var f=t(s,3);a=r(a),s=function(g){return f(c[g],g,c)}}var h=i(a,s,u);return h>-1?c[f?a[h]:h]:void 0}}return c_=n,c_}var f_,I2;function Lre(){if(I2)return f_;I2=1;var t=r$();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return f_=e,f_}var d_,C2;function $re(){if(C2)return d_;C2=1;var t=dL(),e=Wi(),r=Lre(),n=Math.max;function i(a,s,u){var c=a==null?0:a.length;if(!c)return-1;var f=u==null?0:r(u);return f<0&&(f=n(c+f,0)),t(a,e(s,3),f)}return d_=i,d_}var h_,N2;function Vre(){if(N2)return h_;N2=1;var t=Mre(),e=$re(),r=t(e);return h_=r,h_}var Fre=Vre();const Ure=pt(Fre);var Bre=kM();const qre=pt(Bre);var zre=qre(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),uE=z.createContext(void 0),cE=z.createContext(void 0),h$=z.createContext(void 0),p$=z.createContext({}),m$=z.createContext(void 0),g$=z.createContext(0),y$=z.createContext(0),j2=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,s=e.clipPathId,u=e.children,c=e.width,f=e.height,h=zre(a);return H.createElement(uE.Provider,{value:n},H.createElement(cE.Provider,{value:i},H.createElement(p$.Provider,{value:a},H.createElement(h$.Provider,{value:h},H.createElement(m$.Provider,{value:s},H.createElement(g$.Provider,{value:f},H.createElement(y$.Provider,{value:c},u)))))))},Wre=function(){return z.useContext(m$)},v$=function(e){var r=z.useContext(uE);r==null&&Us();var n=r[e];return n==null&&Us(),n},Hre=function(){var e=z.useContext(uE);return mo(e)},Kre=function(){var e=z.useContext(cE),r=Ure(e,function(n){return o$(n.domain,Number.isFinite)});return r||mo(e)},b$=function(e){var r=z.useContext(cE);r==null&&Us();var n=r[e];return n==null&&Us(),n},Gre=function(){var e=z.useContext(h$);return e},Yre=function(){return z.useContext(p$)},fE=function(){return z.useContext(y$)},dE=function(){return z.useContext(g$)};function Eu(t){"@babel/helpers - typeof";return Eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eu(t)}function Xre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qre(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_$(n.key),n)}}function Jre(t,e,r){return e&&Qre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zre(t,e,r){return e=gm(e),ene(t,x$()?Reflect.construct(e,r||[],gm(t).constructor):e.apply(t,r))}function ene(t,e){if(e&&(Eu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tne(t)}function tne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x$=function(){return!!t})()}function gm(t){return gm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gm(t)}function rne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qw(t,e)}function Qw(t,e){return Qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Qw(t,e)}function R2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function D2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?R2(Object(r),!0).forEach(function(n){hE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hE(t,e,r){return e=_$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _$(t){var e=nne(t,"string");return Eu(e)=="symbol"?e:e+""}function nne(t,e){if(Eu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Eu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ine(t,e){return lne(t)||sne(t,e)||one(t,e)||ane()}function ane(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function one(t,e){if(t){if(typeof t=="string")return M2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M2(t,e)}}function M2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function sne(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function lne(t){if(Array.isArray(t))return t}function Jw(){return Jw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jw.apply(this,arguments)}var une=function(e,r){var n;return H.isValidElement(e)?n=H.cloneElement(e,r):ze(e)?n=e(r):n=H.createElement("line",Jw({},r,{className:"recharts-reference-line-line"})),n},cne=function(e,r,n,i,a,s,u,c,f){var h=a.x,g=a.y,v=a.width,_=a.height;if(n){var E=f.y,w=e.y.apply(E,{position:s});if($i(f,"discard")&&!e.y.isInRange(w))return null;var b=[{x:h+v,y:w},{x:h,y:w}];return c==="left"?b.reverse():b}if(r){var P=f.x,j=e.x.apply(P,{position:s});if($i(f,"discard")&&!e.x.isInRange(j))return null;var R=[{x:j,y:g+_},{x:j,y:g}];return u==="top"?R.reverse():R}if(i){var V=f.segment,O=V.map(function(N){return e.apply(N,{position:s})});return $i(f,"discard")&&rre(O,function(N){return!e.isInRange(N)})?null:O}return null};function fne(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,u=t.className,c=t.alwaysShow,f=Wre(),h=v$(i),g=b$(a),v=Gre();if(!f||!v)return null;pi(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var _=lE({x:h.scale,y:g.scale}),E=ir(e),w=ir(r),b=n&&n.length===2,P=cne(_,E,w,b,v,t.position,h.orientation,g.orientation,t);if(!P)return null;var j=ine(P,2),R=j[0],V=R.x,O=R.y,N=j[1],A=N.x,k=N.y,D=$i(t,"hidden")?"url(#".concat(f,")"):void 0,I=D2(D2({clipPath:D},Be(t,!0)),{},{x1:V,y1:O,x2:A,y2:k});return H.createElement(gt,{className:Qe("recharts-reference-line",u)},une(s,I),pr.renderCallByParent(t,jre({x1:V,y1:O,x2:A,y2:k})))}var pE=function(t){function e(){return Xre(this,e),Zre(this,e,arguments)}return rne(e,t),Jre(e,[{key:"render",value:function(){return H.createElement(fne,this.props)}}])}(H.Component);hE(pE,"displayName","ReferenceLine");hE(pE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Zw(){return Zw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zw.apply(this,arguments)}function Tu(t){"@babel/helpers - typeof";return Tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tu(t)}function L2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?L2(Object(r),!0).forEach(function(n){Sg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hne(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,S$(n.key),n)}}function pne(t,e,r){return e&&hne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mne(t,e,r){return e=ym(e),gne(t,w$()?Reflect.construct(e,r||[],ym(t).constructor):e.apply(t,r))}function gne(t,e){if(e&&(Tu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yne(t)}function yne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w$=function(){return!!t})()}function ym(t){return ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ym(t)}function vne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&e1(t,e)}function e1(t,e){return e1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},e1(t,e)}function Sg(t,e,r){return e=S$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function S$(t){var e=bne(t,"string");return Tu(e)=="symbol"?e:e+""}function bne(t,e){if(Tu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xne=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,s=lE({x:i.scale,y:a.scale}),u=s.apply({x:r,y:n},{bandAware:!0});return $i(e,"discard")&&!s.isInRange(u)?null:u},Eg=function(t){function e(){return dne(this,e),mne(this,e,arguments)}return vne(e,t),pne(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,s=n.r,u=n.alwaysShow,c=n.clipPathId,f=ir(i),h=ir(a);if(pi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!h)return null;var g=xne(this.props);if(!g)return null;var v=g.x,_=g.y,E=this.props,w=E.shape,b=E.className,P=$i(this.props,"hidden")?"url(#".concat(c,")"):void 0,j=$2($2({clipPath:P},Be(this.props,!0)),{},{cx:v,cy:_});return H.createElement(gt,{className:Qe("recharts-reference-dot",b)},e.renderDot(w,j),pr.renderCallByParent(this.props,{x:v-s,y:_-s,width:2*s,height:2*s}))}}])}(H.Component);Sg(Eg,"displayName","ReferenceDot");Sg(Eg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Sg(Eg,"renderDot",function(t,e){var r;return H.isValidElement(t)?r=H.cloneElement(t,e):ze(t)?r=t(e):r=H.createElement(sE,Zw({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function t1(){return t1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},t1.apply(this,arguments)}function Au(t){"@babel/helpers - typeof";return Au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Au(t)}function V2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function F2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V2(Object(r),!0).forEach(function(n){Tg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _ne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wne(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,T$(n.key),n)}}function Sne(t,e,r){return e&&wne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ene(t,e,r){return e=vm(e),Tne(t,E$()?Reflect.construct(e,r||[],vm(t).constructor):e.apply(t,r))}function Tne(t,e){if(e&&(Au(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ane(t)}function Ane(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E$=function(){return!!t})()}function vm(t){return vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vm(t)}function Pne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r1(t,e)}function r1(t,e){return r1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},r1(t,e)}function Tg(t,e,r){return e=T$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function T$(t){var e=kne(t,"string");return Au(e)=="symbol"?e:e+""}function kne(t,e){if(Au(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Au(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var One=function(e,r,n,i,a){var s=a.x1,u=a.x2,c=a.y1,f=a.y2,h=a.xAxis,g=a.yAxis;if(!h||!g)return null;var v=lE({x:h.scale,y:g.scale}),_={x:e?v.x.apply(s,{position:"start"}):v.x.rangeMin,y:n?v.y.apply(c,{position:"start"}):v.y.rangeMin},E={x:r?v.x.apply(u,{position:"end"}):v.x.rangeMax,y:i?v.y.apply(f,{position:"end"}):v.y.rangeMax};return $i(a,"discard")&&(!v.isInRange(_)||!v.isInRange(E))?null:f$(_,E)},Ag=function(t){function e(){return _ne(this,e),Ene(this,e,arguments)}return Pne(e,t),Sne(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,s=n.y1,u=n.y2,c=n.className,f=n.alwaysShow,h=n.clipPathId;pi(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=ir(i),v=ir(a),_=ir(s),E=ir(u),w=this.props.shape;if(!g&&!v&&!_&&!E&&!w)return null;var b=One(g,v,_,E,this.props);if(!b&&!w)return null;var P=$i(this.props,"hidden")?"url(#".concat(h,")"):void 0;return H.createElement(gt,{className:Qe("recharts-reference-area",c)},e.renderRect(w,F2(F2({clipPath:P},Be(this.props,!0)),b)),pr.renderCallByParent(this.props,b))}}])}(H.Component);Tg(Ag,"displayName","ReferenceArea");Tg(Ag,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Tg(Ag,"renderRect",function(t,e){var r;return H.isValidElement(t)?r=H.cloneElement(t,e):ze(t)?r=t(e):r=H.createElement(oE,t1({},e,{className:"recharts-reference-area-rect"})),r});function A$(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function Ine(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Dre(n,r)}function Cne(t,e,r){var n=r==="width",i=t.x,a=t.y,s=t.width,u=t.height;return e===1?{start:n?i:a,end:n?i+s:a+u}:{start:n?i+s:a+u,end:n?i:a}}function bm(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function Nne(t,e){return A$(t,e+1)}function jne(t,e,r,n,i){for(var a=(n||[]).slice(),s=e.start,u=e.end,c=0,f=1,h=s,g=function(){var E=n?.[c];if(E===void 0)return{v:A$(n,f)};var w=c,b,P=function(){return b===void 0&&(b=r(E,w)),b},j=E.coordinate,R=c===0||bm(t,j,P,h,u);R||(c=0,h=s,f+=1),R&&(h=j+t*(P()/2+i),c+=f)},v;f<=a.length;)if(v=g(),v)return v.v;return[]}function qf(t){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qf(t)}function U2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?U2(Object(r),!0).forEach(function(n){Rne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rne(t,e,r){return e=Dne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dne(t){var e=Mne(t,"string");return qf(e)=="symbol"?e:e+""}function Mne(t,e){if(qf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lne(t,e,r,n,i){for(var a=(n||[]).slice(),s=a.length,u=e.start,c=e.end,f=function(v){var _=a[v],E,w=function(){return E===void 0&&(E=r(_,v)),E};if(v===s-1){var b=t*(_.coordinate+t*w()/2-c);a[v]=_=jr(jr({},_),{},{tickCoord:b>0?_.coordinate-b*t:_.coordinate})}else a[v]=_=jr(jr({},_),{},{tickCoord:_.coordinate});var P=bm(t,_.tickCoord,w,u,c);P&&(c=_.tickCoord-t*(w()/2+i),a[v]=jr(jr({},_),{},{isShow:!0}))},h=s-1;h>=0;h--)f(h);return a}function $ne(t,e,r,n,i,a){var s=(n||[]).slice(),u=s.length,c=e.start,f=e.end;if(a){var h=n[u-1],g=r(h,u-1),v=t*(h.coordinate+t*g/2-f);s[u-1]=h=jr(jr({},h),{},{tickCoord:v>0?h.coordinate-v*t:h.coordinate});var _=bm(t,h.tickCoord,function(){return g},c,f);_&&(f=h.tickCoord-t*(g/2+i),s[u-1]=jr(jr({},h),{},{isShow:!0}))}for(var E=a?u-1:u,w=function(j){var R=s[j],V,O=function(){return V===void 0&&(V=r(R,j)),V};if(j===0){var N=t*(R.coordinate-t*O()/2-c);s[j]=R=jr(jr({},R),{},{tickCoord:N<0?R.coordinate-N*t:R.coordinate})}else s[j]=R=jr(jr({},R),{},{tickCoord:R.coordinate});var A=bm(t,R.tickCoord,O,c,f);A&&(c=R.tickCoord+t*(O()/2+i),s[j]=jr(jr({},R),{},{isShow:!0}))},b=0;b<E;b++)w(b);return s}function mE(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,u=t.orientation,c=t.interval,f=t.tickFormatter,h=t.unit,g=t.angle;if(!i||!i.length||!n)return[];if(ve(c)||Fu.isSsr)return Nne(i,typeof c=="number"&&ve(c)?c:0);var v=[],_=u==="top"||u==="bottom"?"width":"height",E=h&&_==="width"?Yc(h,{fontSize:e,letterSpacing:r}):{width:0,height:0},w=function(R,V){var O=ze(f)?f(R.value,V):R.value;return _==="width"?Ine(Yc(O,{fontSize:e,letterSpacing:r}),E,g):Yc(O,{fontSize:e,letterSpacing:r})[_]},b=i.length>=2?Wr(i[1].coordinate-i[0].coordinate):1,P=Cne(a,b,_);return c==="equidistantPreserveStart"?jne(b,P,w,i,s):(c==="preserveStart"||c==="preserveStartEnd"?v=$ne(b,P,w,i,s,c==="preserveStartEnd"):v=Lne(b,P,w,i,s),v.filter(function(j){return j.isShow}))}var Vne=["viewBox"],Fne=["viewBox"],Une=["ticks"];function Pu(t){"@babel/helpers - typeof";return Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pu(t)}function Hl(){return Hl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hl.apply(this,arguments)}function B2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?B2(Object(r),!0).forEach(function(n){gE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function p_(t,e){if(t==null)return{};var r=Bne(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Bne(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function qne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,k$(n.key),n)}}function zne(t,e,r){return e&&q2(t.prototype,e),r&&q2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wne(t,e,r){return e=xm(e),Hne(t,P$()?Reflect.construct(e,r||[],xm(t).constructor):e.apply(t,r))}function Hne(t,e){if(e&&(Pu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kne(t)}function Kne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P$=function(){return!!t})()}function xm(t){return xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xm(t)}function Gne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n1(t,e)}function n1(t,e){return n1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},n1(t,e)}function gE(t,e,r){return e=k$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function k$(t){var e=Yne(t,"string");return Pu(e)=="symbol"?e:e+""}function Yne(t,e){if(Pu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zu=function(t){function e(r){var n;return qne(this,e),n=Wne(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return Gne(e,t),zne(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,s=p_(n,Vne),u=this.props,c=u.viewBox,f=p_(u,Fne);return!Jl(a,c)||!Jl(s,f)||!Jl(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,s=i.y,u=i.width,c=i.height,f=i.orientation,h=i.tickSize,g=i.mirror,v=i.tickMargin,_,E,w,b,P,j,R=g?-1:1,V=n.tickSize||h,O=ve(n.tickCoord)?n.tickCoord:n.coordinate;switch(f){case"top":_=E=n.coordinate,b=s+ +!g*c,w=b-R*V,j=w-R*v,P=O;break;case"left":w=b=n.coordinate,E=a+ +!g*u,_=E-R*V,P=_-R*v,j=O;break;case"right":w=b=n.coordinate,E=a+ +g*u,_=E+R*V,P=_+R*v,j=O;break;default:_=E=n.coordinate,b=s+ +g*c,w=b+R*V,j=w+R*v,P=O;break}return{line:{x1:_,y1:w,x2:E,y2:b},tick:{x:P,y:j}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,u=n.height,c=n.orientation,f=n.mirror,h=n.axisLine,g=rr(rr(rr({},Be(this.props,!1)),Be(h,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var v=+(c==="top"&&!f||c==="bottom"&&f);g=rr(rr({},g),{},{x1:i,y1:a+v*u,x2:i+s,y2:a+v*u})}else{var _=+(c==="left"&&!f||c==="right"&&f);g=rr(rr({},g),{},{x1:i+_*s,y1:a,x2:i+_*s,y2:a+u})}return H.createElement("line",Hl({},g,{className:Qe("recharts-cartesian-axis-line",En(h,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var s=this,u=this.props,c=u.tickLine,f=u.stroke,h=u.tick,g=u.tickFormatter,v=u.unit,_=mE(rr(rr({},this.props),{},{ticks:n}),i,a),E=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),b=Be(this.props,!1),P=Be(h,!1),j=rr(rr({},b),{},{fill:"none"},Be(c,!1)),R=_.map(function(V,O){var N=s.getTickLineCoord(V),A=N.line,k=N.tick,D=rr(rr(rr(rr({textAnchor:E,verticalAnchor:w},b),{},{stroke:"none",fill:f},P),k),{},{index:O,payload:V,visibleTicksCount:_.length,tickFormatter:g});return H.createElement(gt,Hl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(V.value,"-").concat(V.coordinate,"-").concat(V.tickCoord)},$s(s.props,V,O)),c&&H.createElement("line",Hl({},j,A,{className:Qe("recharts-cartesian-axis-tick-line",En(c,"className"))})),h&&e.renderTickItem(h,D,"".concat(ze(g)?g(V.value,O):V.value).concat(v||"")))});return H.createElement("g",{className:"recharts-cartesian-axis-ticks"},R)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,s=i.width,u=i.height,c=i.ticksGenerator,f=i.className,h=i.hide;if(h)return null;var g=this.props,v=g.ticks,_=p_(g,Une),E=v;return ze(c)&&(E=v&&v.length>0?c(this.props):c(_)),s<=0||u<=0||!E||!E.length?null:H.createElement(gt,{className:Qe("recharts-cartesian-axis",f),ref:function(b){n.layerReference=b}},a&&this.renderAxisLine(),this.renderTicks(E,this.state.fontSize,this.state.letterSpacing),pr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var s,u=Qe(i.className,"recharts-cartesian-axis-tick-value");return H.isValidElement(n)?s=H.cloneElement(n,rr(rr({},i),{},{className:u})):ze(n)?s=n(rr(rr({},i),{},{className:u})):s=H.createElement(Vs,Hl({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(z.Component);gE(zu,"displayName","CartesianAxis");gE(zu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Xne=["x1","y1","x2","y2","key"],Qne=["offset"];function Bs(t){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bs(t)}function z2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?z2(Object(r),!0).forEach(function(n){Jne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jne(t,e,r){return e=Zne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zne(t){var e=eie(t,"string");return Bs(e)=="symbol"?e:e+""}function eie(t,e){if(Bs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ss(){return Ss=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ss.apply(this,arguments)}function W2(t,e){if(t==null)return{};var r=tie(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var rie=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,s=e.width,u=e.height,c=e.ry;return H.createElement("rect",{x:i,y:a,ry:c,width:s,height:u,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function O$(t,e){var r;if(H.isValidElement(t))r=H.cloneElement(t,e);else if(ze(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,s=e.y2,u=e.key,c=W2(e,Xne),f=Be(c,!1);f.offset;var h=W2(f,Qne);r=H.createElement("line",Ss({},h,{x1:n,y1:i,x2:a,y2:s,fill:"none",key:u}))}return r}function nie(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(u,c){var f=Mr(Mr({},t),{},{x1:e,y1:u,x2:e+r,y2:u,key:"line-".concat(c),index:c});return O$(i,f)});return H.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function iie(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(u,c){var f=Mr(Mr({},t),{},{x1:u,y1:e,x2:u,y2:e+r,key:"line-".concat(c),index:c});return O$(i,f)});return H.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function aie(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,s=t.height,u=t.horizontalPoints,c=t.horizontal,f=c===void 0?!0:c;if(!f||!e||!e.length)return null;var h=u.map(function(v){return Math.round(v+i-i)}).sort(function(v,_){return v-_});i!==h[0]&&h.unshift(0);var g=h.map(function(v,_){var E=!h[_+1],w=E?i+s-v:h[_+1]-v;if(w<=0)return null;var b=_%e.length;return H.createElement("rect",{key:"react-".concat(_),y:v,x:n,height:w,width:a,stroke:"none",fill:e[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return H.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},g)}function oie(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,u=t.width,c=t.height,f=t.verticalPoints;if(!r||!n||!n.length)return null;var h=f.map(function(v){return Math.round(v+a-a)}).sort(function(v,_){return v-_});a!==h[0]&&h.unshift(0);var g=h.map(function(v,_){var E=!h[_+1],w=E?a+u-v:h[_+1]-v;if(w<=0)return null;var b=_%n.length;return H.createElement("rect",{key:"react-".concat(_),x:v,y:s,width:w,height:c,stroke:"none",fill:n[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return H.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},g)}var sie=function(e,r){var n=e.xAxis,i=e.width,a=e.height,s=e.offset;return C4(mE(Mr(Mr(Mr({},zu.defaultProps),n),{},{ticks:ga(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,r)},lie=function(e,r){var n=e.yAxis,i=e.width,a=e.height,s=e.offset;return C4(mE(Mr(Mr(Mr({},zu.defaultProps),n),{},{ticks:ga(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,r)},Ll={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function I$(t){var e,r,n,i,a,s,u=fE(),c=dE(),f=Yre(),h=Mr(Mr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Ll.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Ll.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Ll.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Ll.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Ll.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Ll.verticalFill,x:ve(t.x)?t.x:f.left,y:ve(t.y)?t.y:f.top,width:ve(t.width)?t.width:f.width,height:ve(t.height)?t.height:f.height}),g=h.x,v=h.y,_=h.width,E=h.height,w=h.syncWithTicks,b=h.horizontalValues,P=h.verticalValues,j=Hre(),R=Kre();if(!ve(_)||_<=0||!ve(E)||E<=0||!ve(g)||g!==+g||!ve(v)||v!==+v)return null;var V=h.verticalCoordinatesGenerator||sie,O=h.horizontalCoordinatesGenerator||lie,N=h.horizontalPoints,A=h.verticalPoints;if((!N||!N.length)&&ze(O)){var k=b&&b.length,D=O({yAxis:R?Mr(Mr({},R),{},{ticks:k?b:R.ticks}):void 0,width:u,height:c,offset:f},k?!0:w);pi(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Bs(D),"]")),Array.isArray(D)&&(N=D)}if((!A||!A.length)&&ze(V)){var I=P&&P.length,M=V({xAxis:j?Mr(Mr({},j),{},{ticks:I?P:j.ticks}):void 0,width:u,height:c,offset:f},I?!0:w);pi(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Bs(M),"]")),Array.isArray(M)&&(A=M)}return H.createElement("g",{className:"recharts-cartesian-grid"},H.createElement(rie,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),H.createElement(nie,Ss({},h,{offset:f,horizontalPoints:N,xAxis:j,yAxis:R})),H.createElement(iie,Ss({},h,{offset:f,verticalPoints:A,xAxis:j,yAxis:R})),H.createElement(aie,Ss({},h,{horizontalPoints:N})),H.createElement(oie,Ss({},h,{verticalPoints:A})))}I$.displayName="CartesianGrid";function ku(t){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ku(t)}function uie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,j$(n.key),n)}}function fie(t,e,r){return e&&cie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function die(t,e,r){return e=_m(e),hie(t,C$()?Reflect.construct(e,r||[],_m(t).constructor):e.apply(t,r))}function hie(t,e){if(e&&(ku(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pie(t)}function pie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C$=function(){return!!t})()}function _m(t){return _m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_m(t)}function mie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i1(t,e)}function i1(t,e){return i1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},i1(t,e)}function N$(t,e,r){return e=j$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function j$(t){var e=gie(t,"string");return ku(e)=="symbol"?e:e+""}function gie(t,e){if(ku(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ku(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function a1(){return a1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},a1.apply(this,arguments)}function yie(t){var e=t.xAxisId,r=fE(),n=dE(),i=v$(e);return i==null?null:z.createElement(zu,a1({},i,{className:Qe("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return ga(s,!0)}}))}var Pg=function(t){function e(){return uie(this,e),die(this,e,arguments)}return mie(e,t),fie(e,[{key:"render",value:function(){return z.createElement(yie,this.props)}}])}(z.Component);N$(Pg,"displayName","XAxis");N$(Pg,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ou(t){"@babel/helpers - typeof";return Ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ou(t)}function vie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,M$(n.key),n)}}function xie(t,e,r){return e&&bie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _ie(t,e,r){return e=wm(e),wie(t,R$()?Reflect.construct(e,r||[],wm(t).constructor):e.apply(t,r))}function wie(t,e){if(e&&(Ou(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sie(t)}function Sie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R$=function(){return!!t})()}function wm(t){return wm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wm(t)}function Eie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o1(t,e)}function o1(t,e){return o1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},o1(t,e)}function D$(t,e,r){return e=M$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M$(t){var e=Tie(t,"string");return Ou(e)=="symbol"?e:e+""}function Tie(t,e){if(Ou(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ou(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function s1(){return s1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},s1.apply(this,arguments)}var Aie=function(e){var r=e.yAxisId,n=fE(),i=dE(),a=b$(r);return a==null?null:z.createElement(zu,s1({},a,{className:Qe("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(u){return ga(u,!0)}}))},kg=function(t){function e(){return vie(this,e),_ie(this,e,arguments)}return Eie(e,t),xie(e,[{key:"render",value:function(){return z.createElement(Aie,this.props)}}])}(z.Component);D$(kg,"displayName","YAxis");D$(kg,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function H2(t){return Iie(t)||Oie(t)||kie(t)||Pie()}function Pie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kie(t,e){if(t){if(typeof t=="string")return l1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l1(t,e)}}function Oie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Iie(t){if(Array.isArray(t))return l1(t)}function l1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var u1=function(e,r,n,i,a){var s=qn(e,pE),u=qn(e,Eg),c=[].concat(H2(s),H2(u)),f=qn(e,Ag),h="".concat(i,"Id"),g=i[0],v=r;if(c.length&&(v=c.reduce(function(w,b){if(b.props[h]===n&&$i(b.props,"extendDomain")&&ve(b.props[g])){var P=b.props[g];return[Math.min(w[0],P),Math.max(w[1],P)]}return w},v)),f.length){var _="".concat(g,"1"),E="".concat(g,"2");v=f.reduce(function(w,b){if(b.props[h]===n&&$i(b.props,"extendDomain")&&ve(b.props[_])&&ve(b.props[E])){var P=b.props[_],j=b.props[E];return[Math.min(w[0],P,j),Math.max(w[1],P,j)]}return w},v)}return a&&a.length&&(v=a.reduce(function(w,b){return ve(b)?[Math.min(w[0],b),Math.max(w[1],b)]:w},v)),v},m_={exports:{}},K2;function Cie(){return K2||(K2=1,function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,f,h){this.fn=c,this.context=f,this.once=h||!1}function a(c,f,h,g,v){if(typeof h!="function")throw new TypeError("The listener must be a function");var _=new i(h,g||c,v),E=r?r+f:f;return c._events[E]?c._events[E].fn?c._events[E]=[c._events[E],_]:c._events[E].push(_):(c._events[E]=_,c._eventsCount++),c}function s(c,f){--c._eventsCount===0?c._events=new n:delete c._events[f]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],h,g;if(this._eventsCount===0)return f;for(g in h=this._events)e.call(h,g)&&f.push(r?g.slice(1):g);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},u.prototype.listeners=function(f){var h=r?r+f:f,g=this._events[h];if(!g)return[];if(g.fn)return[g.fn];for(var v=0,_=g.length,E=new Array(_);v<_;v++)E[v]=g[v].fn;return E},u.prototype.listenerCount=function(f){var h=r?r+f:f,g=this._events[h];return g?g.fn?1:g.length:0},u.prototype.emit=function(f,h,g,v,_,E){var w=r?r+f:f;if(!this._events[w])return!1;var b=this._events[w],P=arguments.length,j,R;if(b.fn){switch(b.once&&this.removeListener(f,b.fn,void 0,!0),P){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,h),!0;case 3:return b.fn.call(b.context,h,g),!0;case 4:return b.fn.call(b.context,h,g,v),!0;case 5:return b.fn.call(b.context,h,g,v,_),!0;case 6:return b.fn.call(b.context,h,g,v,_,E),!0}for(R=1,j=new Array(P-1);R<P;R++)j[R-1]=arguments[R];b.fn.apply(b.context,j)}else{var V=b.length,O;for(R=0;R<V;R++)switch(b[R].once&&this.removeListener(f,b[R].fn,void 0,!0),P){case 1:b[R].fn.call(b[R].context);break;case 2:b[R].fn.call(b[R].context,h);break;case 3:b[R].fn.call(b[R].context,h,g);break;case 4:b[R].fn.call(b[R].context,h,g,v);break;default:if(!j)for(O=1,j=new Array(P-1);O<P;O++)j[O-1]=arguments[O];b[R].fn.apply(b[R].context,j)}}return!0},u.prototype.on=function(f,h,g){return a(this,f,h,g,!1)},u.prototype.once=function(f,h,g){return a(this,f,h,g,!0)},u.prototype.removeListener=function(f,h,g,v){var _=r?r+f:f;if(!this._events[_])return this;if(!h)return s(this,_),this;var E=this._events[_];if(E.fn)E.fn===h&&(!v||E.once)&&(!g||E.context===g)&&s(this,_);else{for(var w=0,b=[],P=E.length;w<P;w++)(E[w].fn!==h||v&&!E[w].once||g&&E[w].context!==g)&&b.push(E[w]);b.length?this._events[_]=b.length===1?b[0]:b:s(this,_)}return this},u.prototype.removeAllListeners=function(f){var h;return f?(h=r?r+f:f,this._events[h]&&s(this,h)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,t.exports=u}(m_)),m_.exports}var Nie=Cie();const jie=pt(Nie);var g_=new jie,y_="recharts.syncMouseEvents";function zf(t){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zf(t)}function Rie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Die(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,L$(n.key),n)}}function Mie(t,e,r){return e&&Die(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function v_(t,e,r){return e=L$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function L$(t){var e=Lie(t,"string");return zf(e)=="symbol"?e:e+""}function Lie(t,e){if(zf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $ie=function(){function t(){Rie(this,t),v_(this,"activeIndex",0),v_(this,"coordinateList",[]),v_(this,"layout","horizontal")}return Mie(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,s=r.container,u=s===void 0?null:s,c=r.layout,f=c===void 0?null:c,h=r.offset,g=h===void 0?null:h,v=r.mouseHandlerCallback,_=v===void 0?null:v;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=u??this.container,this.layout=f??this.layout,this.offset=g??this.offset,this.mouseHandlerCallback=_??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,u=i.height,c=this.coordinateList[this.activeIndex].coordinate,f=((r=window)===null||r===void 0?void 0:r.scrollX)||0,h=((n=window)===null||n===void 0?void 0:n.scrollY)||0,g=a+c+f,v=s+this.offset.top+u/2+h;this.mouseHandlerCallback({pageX:g,pageY:v})}}}])}();function Vie(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t?.[0],i=t?.[1];if(n&&i&&ve(n)&&ve(i))return!0}return!1}function Fie(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function $$(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,s=At(e,r,n,i),u=At(e,r,n,a);return{points:[s,u],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function Uie(t,e,r){var n,i,a,s;if(t==="horizontal")n=e.x,a=n,i=r.top,s=r.top+r.height;else if(t==="vertical")i=e.y,s=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var u=e.cx,c=e.cy,f=e.innerRadius,h=e.outerRadius,g=e.angle,v=At(u,c,f,g),_=At(u,c,h,g);n=v.x,i=v.y,a=_.x,s=_.y}else return $$(e);return[{x:n,y:i},{x:a,y:s}]}function Wf(t){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wf(t)}function G2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Kh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?G2(Object(r),!0).forEach(function(n){Bie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bie(t,e,r){return e=qie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qie(t){var e=zie(t,"string");return Wf(e)=="symbol"?e:e+""}function zie(t,e){if(Wf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wie(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,u=t.activePayload,c=t.offset,f=t.activeTooltipIndex,h=t.tooltipAxisBandSize,g=t.layout,v=t.chartName,_=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!_||!a||!s||v!=="ScatterChart"&&i!=="axis")return null;var E,w=Nw;if(v==="ScatterChart")E=s,w=Aee;else if(v==="BarChart")E=Fie(g,s,c,h),w=oE;else if(g==="radial"){var b=$$(s),P=b.cx,j=b.cy,R=b.radius,V=b.startAngle,O=b.endAngle;E={cx:P,cy:j,startAngle:V,endAngle:O,innerRadius:R,outerRadius:R},w=aE}else E={points:Uie(g,s,c)},w=Nw;var N=Kh(Kh(Kh(Kh({stroke:"#ccc",pointerEvents:"none"},c),E),Be(_,!1)),{},{payload:u,payloadIndex:f,className:Qe("recharts-tooltip-cursor",_.className)});return z.isValidElement(_)?z.cloneElement(_,N):z.createElement(w,N)}var Hie=["item"],Kie=["children","className","width","height","style","compact","title","desc"];function Iu(t){"@babel/helpers - typeof";return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iu(t)}function Kl(){return Kl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Kl.apply(this,arguments)}function Y2(t,e){return Xie(t)||Yie(t,e)||F$(t,e)||Gie()}function Gie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yie(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function Xie(t){if(Array.isArray(t))return t}function X2(t,e){if(t==null)return{};var r=Qie(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Qie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Jie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,U$(n.key),n)}}function eae(t,e,r){return e&&Zie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tae(t,e,r){return e=Sm(e),rae(t,V$()?Reflect.construct(e,r||[],Sm(t).constructor):e.apply(t,r))}function rae(t,e){if(e&&(Iu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nae(t)}function nae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V$=function(){return!!t})()}function Sm(t){return Sm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sm(t)}function iae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c1(t,e)}function c1(t,e){return c1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},c1(t,e)}function Cu(t){return sae(t)||oae(t)||F$(t)||aae()}function aae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F$(t,e){if(t){if(typeof t=="string")return f1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f1(t,e)}}function oae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sae(t){if(Array.isArray(t))return f1(t)}function f1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Q2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function le(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q2(Object(r),!0).forEach(function(n){Ve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ve(t,e,r){return e=U$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function U$(t){var e=lae(t,"string");return Iu(e)=="symbol"?e:e+""}function lae(t,e){if(Iu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Iu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uae={xAxis:["bottom","top"],yAxis:["left","right"]},cae={width:"100%",height:"100%"},B$={x:0,y:0};function Gh(t){return t}var fae=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},dae=function(e,r,n,i){var a=r.find(function(h){return h&&h.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,u=i.radius;return le(le(le({},i),At(i.cx,i.cy,u,s)),{},{angle:s,radius:u})}var c=a.coordinate,f=i.angle;return le(le(le({},i),At(i.cx,i.cy,c,f)),{},{angle:f,radius:c})}return B$},Og=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,s=(n??[]).reduce(function(u,c){var f=c.props.data;return f&&f.length?[].concat(Cu(u),Cu(f)):u},[]);return s.length>0?s:e&&e.length&&ve(i)&&ve(a)?e.slice(i,a+1):[]};function q$(t){return t==="number"?[0,"auto"]:void 0}var d1=function(e,r,n,i){var a=e.graphicalItems,s=e.tooltipAxis,u=Og(r,e);return n<0||!a||!a.length||n>=u.length?null:a.reduce(function(c,f){var h,g=(h=f.props.data)!==null&&h!==void 0?h:r;g&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(g=g.slice(e.dataStartIndex,e.dataEndIndex+1));var v;if(s.dataKey&&!s.allowDuplicatedCategory){var _=g===void 0?u:g;v=K_(_,s.dataKey,i)}else v=g&&g[n]||u[n];return v?[].concat(Cu(c),[M4(f,v)]):c},[])},J2=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},s=fae(a,n),u=e.orderedTooltipTicks,c=e.tooltipAxis,f=e.tooltipTicks,h=QX(s,u,f,c);if(h>=0&&f){var g=f[h]&&f[h].value,v=d1(e,r,h,g),_=dae(n,u,h,a);return{activeTooltipIndex:h,activeLabel:g,activePayload:v,activeCoordinate:_}}return null},hae=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,s=r.axisIdKey,u=r.stackGroups,c=r.dataStartIndex,f=r.dataEndIndex,h=e.layout,g=e.children,v=e.stackOffset,_=I4(h,a);return n.reduce(function(E,w){var b,P=w.type.defaultProps!==void 0?le(le({},w.type.defaultProps),w.props):w.props,j=P.type,R=P.dataKey,V=P.allowDataOverflow,O=P.allowDuplicatedCategory,N=P.scale,A=P.ticks,k=P.includeHidden,D=P[s];if(E[D])return E;var I=Og(e.data,{graphicalItems:i.filter(function(G){var ue,xe=s in G.props?G.props[s]:(ue=G.type.defaultProps)===null||ue===void 0?void 0:ue[s];return xe===D}),dataStartIndex:c,dataEndIndex:f}),M=I.length,F,L,te;Vie(P.domain,V,j)&&(F=Pw(P.domain,null,V),_&&(j==="number"||N!=="auto")&&(te=Qc(I,R,"category")));var re=q$(j);if(!F||F.length===0){var X,ie=(X=P.domain)!==null&&X!==void 0?X:re;if(R){if(F=Qc(I,R,j),j==="category"&&_){var J=Wz(F);O&&J?(L=F,F=fm(0,M)):O||(F=ej(ie,F,w).reduce(function(G,ue){return G.indexOf(ue)>=0?G:[].concat(Cu(G),[ue])},[]))}else if(j==="category")O?F=F.filter(function(G){return G!==""&&!et(G)}):F=ej(ie,F,w).reduce(function(G,ue){return G.indexOf(ue)>=0||ue===""||et(ue)?G:[].concat(Cu(G),[ue])},[]);else if(j==="number"){var Q=rQ(I,i.filter(function(G){var ue,xe,Pe=s in G.props?G.props[s]:(ue=G.type.defaultProps)===null||ue===void 0?void 0:ue[s],De="hide"in G.props?G.props.hide:(xe=G.type.defaultProps)===null||xe===void 0?void 0:xe.hide;return Pe===D&&(k||!De)}),R,a,h);Q&&(F=Q)}_&&(j==="number"||N!=="auto")&&(te=Qc(I,R,"category"))}else _?F=fm(0,M):u&&u[D]&&u[D].hasStack&&j==="number"?F=v==="expand"?[0,1]:D4(u[D].stackGroups,c,f):F=O4(I,i.filter(function(G){var ue=s in G.props?G.props[s]:G.type.defaultProps[s],xe="hide"in G.props?G.props.hide:G.type.defaultProps.hide;return ue===D&&(k||!xe)}),j,h,!0);if(j==="number")F=u1(g,F,D,a,A),ie&&(F=Pw(ie,F,V));else if(j==="category"&&ie){var ae=ie,q=F.every(function(G){return ae.indexOf(G)>=0});q&&(F=ae)}}return le(le({},E),{},Ve({},D,le(le({},P),{},{axisType:a,domain:F,categoricalDomain:te,duplicateDomain:L,originalDomain:(b=P.domain)!==null&&b!==void 0?b:re,isCategorical:_,layout:h})))},{})},pae=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,s=r.axisIdKey,u=r.stackGroups,c=r.dataStartIndex,f=r.dataEndIndex,h=e.layout,g=e.children,v=Og(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:f}),_=v.length,E=I4(h,a),w=-1;return n.reduce(function(b,P){var j=P.type.defaultProps!==void 0?le(le({},P.type.defaultProps),P.props):P.props,R=j[s],V=q$("number");if(!b[R]){w++;var O;return E?O=fm(0,_):u&&u[R]&&u[R].hasStack?(O=D4(u[R].stackGroups,c,f),O=u1(g,O,R,a)):(O=Pw(V,O4(v,n.filter(function(N){var A,k,D=s in N.props?N.props[s]:(A=N.type.defaultProps)===null||A===void 0?void 0:A[s],I="hide"in N.props?N.props.hide:(k=N.type.defaultProps)===null||k===void 0?void 0:k.hide;return D===R&&!I}),"number",h),i.defaultProps.allowDataOverflow),O=u1(g,O,R,a)),le(le({},b),{},Ve({},R,le(le({axisType:a},i.defaultProps),{},{hide:!0,orientation:En(uae,"".concat(a,".").concat(w%2),null),domain:O,originalDomain:V,isCategorical:E,layout:h})))}return b},{})},mae=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,s=r.graphicalItems,u=r.stackGroups,c=r.dataStartIndex,f=r.dataEndIndex,h=e.children,g="".concat(i,"Id"),v=qn(h,a),_={};return v&&v.length?_=hae(e,{axes:v,graphicalItems:s,axisType:i,axisIdKey:g,stackGroups:u,dataStartIndex:c,dataEndIndex:f}):s&&s.length&&(_=pae(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:g,stackGroups:u,dataStartIndex:c,dataEndIndex:f})),_},gae=function(e){var r=mo(e),n=ga(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:NS(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Zp(r,n)}},Z2=function(e){var r=e.children,n=e.defaultShowTooltip,i=_n(r,wu),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},yae=function(e){return!e||!e.length?!1:e.some(function(r){var n=ba(r&&r.type);return n&&n.indexOf("Bar")>=0})},eR=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},vae=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,u=e.yAxisMap,c=u===void 0?{}:u,f=n.width,h=n.height,g=n.children,v=n.margin||{},_=_n(g,wu),E=_n(g,As),w=Object.keys(c).reduce(function(O,N){var A=c[N],k=A.orientation;return!A.mirror&&!A.hide?le(le({},O),{},Ve({},k,O[k]+A.width)):O},{left:v.left||0,right:v.right||0}),b=Object.keys(s).reduce(function(O,N){var A=s[N],k=A.orientation;return!A.mirror&&!A.hide?le(le({},O),{},Ve({},k,En(O,"".concat(k))+A.height)):O},{top:v.top||0,bottom:v.bottom||0}),P=le(le({},b),w),j=P.bottom;_&&(P.bottom+=_.props.height||wu.defaultProps.height),E&&r&&(P=eQ(P,i,n,r));var R=f-P.left-P.right,V=h-P.top-P.bottom;return le(le({brushBottom:j},P),{},{width:Math.max(R,0),height:Math.max(V,0)})},bae=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},z$=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,u=s===void 0?["axis"]:s,c=e.axisComponents,f=e.legendContent,h=e.formatAxisMap,g=e.defaultProps,v=function(P,j){var R=j.graphicalItems,V=j.stackGroups,O=j.offset,N=j.updateId,A=j.dataStartIndex,k=j.dataEndIndex,D=P.barSize,I=P.layout,M=P.barGap,F=P.barCategoryGap,L=P.maxBarSize,te=eR(I),re=te.numericAxisName,X=te.cateAxisName,ie=yae(R),J=[];return R.forEach(function(Q,ae){var q=Og(P.data,{graphicalItems:[Q],dataStartIndex:A,dataEndIndex:k}),G=Q.type.defaultProps!==void 0?le(le({},Q.type.defaultProps),Q.props):Q.props,ue=G.dataKey,xe=G.maxBarSize,Pe=G["".concat(re,"Id")],De=G["".concat(X,"Id")],Ke={},je=c.reduce(function(Qt,gr){var Tn=j["".concat(gr.axisType,"Map")],vi=G["".concat(gr.axisType,"Id")];Tn&&Tn[vi]||gr.axisType==="zAxis"||Us();var bi=Tn[vi];return le(le({},Qt),{},Ve(Ve({},gr.axisType,bi),"".concat(gr.axisType,"Ticks"),ga(bi)))},Ke),de=je[X],Se=je["".concat(X,"Ticks")],Re=V&&V[Pe]&&V[Pe].hasStack&&fQ(Q,V[Pe].stackGroups),W=ba(Q.type).indexOf("Bar")>=0,ge=Zp(de,Se),_e=[],Ne=ie&&JX({barSize:D,stackGroups:V,totalSize:bae(je,X)});if(W){var Xe,Lt,Yr=et(xe)?L:xe,Vr=(Xe=(Lt=Zp(de,Se,!0))!==null&&Lt!==void 0?Lt:Yr)!==null&&Xe!==void 0?Xe:0;_e=ZX({barGap:M,barCategoryGap:F,bandSize:Vr!==ge?Vr:ge,sizeList:Ne[De],maxBarSize:Yr}),Vr!==ge&&(_e=_e.map(function(Qt){return le(le({},Qt),{},{position:le(le({},Qt.position),{},{offset:Qt.position.offset-Vr/2})})}))}var Fr=Q&&Q.type&&Q.type.getComposedData;Fr&&J.push({props:le(le({},Fr(le(le({},je),{},{displayedData:q,props:P,dataKey:ue,item:Q,bandSize:ge,barPosition:_e,offset:O,stackedData:Re,layout:I,dataStartIndex:A,dataEndIndex:k}))),{},Ve(Ve(Ve({key:Q.key||"item-".concat(ae)},re,je[re]),X,je[X]),"animationId",N)),childIndex:n8(Q,P.children),item:Q})}),J},_=function(P,j){var R=P.props,V=P.dataStartIndex,O=P.dataEndIndex,N=P.updateId;if(!mO({props:R}))return null;var A=R.children,k=R.layout,D=R.stackOffset,I=R.data,M=R.reverseStackOrder,F=eR(k),L=F.numericAxisName,te=F.cateAxisName,re=qn(A,n),X=uQ(I,re,"".concat(L,"Id"),"".concat(te,"Id"),D,M),ie=c.reduce(function(G,ue){var xe="".concat(ue.axisType,"Map");return le(le({},G),{},Ve({},xe,mae(R,le(le({},ue),{},{graphicalItems:re,stackGroups:ue.axisType===L&&X,dataStartIndex:V,dataEndIndex:O}))))},{}),J=vae(le(le({},ie),{},{props:R,graphicalItems:re}),j?.legendBBox);Object.keys(ie).forEach(function(G){ie[G]=h(R,ie[G],J,G.replace("Map",""),r)});var Q=ie["".concat(te,"Map")],ae=gae(Q),q=v(R,le(le({},ie),{},{dataStartIndex:V,dataEndIndex:O,updateId:N,graphicalItems:re,stackGroups:X,offset:J}));return le(le({formattedGraphicalItems:q,graphicalItems:re,offset:J,stackGroups:X},ae),ie)},E=function(b){function P(j){var R,V,O;return Jie(this,P),O=tae(this,P,[j]),Ve(O,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ve(O,"accessibilityManager",new $ie),Ve(O,"handleLegendBBoxUpdate",function(N){if(N){var A=O.state,k=A.dataStartIndex,D=A.dataEndIndex,I=A.updateId;O.setState(le({legendBBox:N},_({props:O.props,dataStartIndex:k,dataEndIndex:D,updateId:I},le(le({},O.state),{},{legendBBox:N}))))}}),Ve(O,"handleReceiveSyncEvent",function(N,A,k){if(O.props.syncId===N){if(k===O.eventEmitterSymbol&&typeof O.props.syncMethod!="function")return;O.applySyncEvent(A)}}),Ve(O,"handleBrushChange",function(N){var A=N.startIndex,k=N.endIndex;if(A!==O.state.dataStartIndex||k!==O.state.dataEndIndex){var D=O.state.updateId;O.setState(function(){return le({dataStartIndex:A,dataEndIndex:k},_({props:O.props,dataStartIndex:A,dataEndIndex:k,updateId:D},O.state))}),O.triggerSyncEvent({dataStartIndex:A,dataEndIndex:k})}}),Ve(O,"handleMouseEnter",function(N){var A=O.getMouseInfo(N);if(A){var k=le(le({},A),{},{isTooltipActive:!0});O.setState(k),O.triggerSyncEvent(k);var D=O.props.onMouseEnter;ze(D)&&D(k,N)}}),Ve(O,"triggeredAfterMouseMove",function(N){var A=O.getMouseInfo(N),k=A?le(le({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};O.setState(k),O.triggerSyncEvent(k);var D=O.props.onMouseMove;ze(D)&&D(k,N)}),Ve(O,"handleItemMouseEnter",function(N){O.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),Ve(O,"handleItemMouseLeave",function(){O.setState(function(){return{isTooltipActive:!1}})}),Ve(O,"handleMouseMove",function(N){N.persist(),O.throttleTriggeredAfterMouseMove(N)}),Ve(O,"handleMouseLeave",function(N){O.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};O.setState(A),O.triggerSyncEvent(A);var k=O.props.onMouseLeave;ze(k)&&k(A,N)}),Ve(O,"handleOuterEvent",function(N){var A=r8(N),k=En(O.props,"".concat(A));if(A&&ze(k)){var D,I;/.*touch.*/i.test(A)?I=O.getMouseInfo(N.changedTouches[0]):I=O.getMouseInfo(N),k((D=I)!==null&&D!==void 0?D:{},N)}}),Ve(O,"handleClick",function(N){var A=O.getMouseInfo(N);if(A){var k=le(le({},A),{},{isTooltipActive:!0});O.setState(k),O.triggerSyncEvent(k);var D=O.props.onClick;ze(D)&&D(k,N)}}),Ve(O,"handleMouseDown",function(N){var A=O.props.onMouseDown;if(ze(A)){var k=O.getMouseInfo(N);A(k,N)}}),Ve(O,"handleMouseUp",function(N){var A=O.props.onMouseUp;if(ze(A)){var k=O.getMouseInfo(N);A(k,N)}}),Ve(O,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&O.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),Ve(O,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&O.handleMouseDown(N.changedTouches[0])}),Ve(O,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&O.handleMouseUp(N.changedTouches[0])}),Ve(O,"handleDoubleClick",function(N){var A=O.props.onDoubleClick;if(ze(A)){var k=O.getMouseInfo(N);A(k,N)}}),Ve(O,"handleContextMenu",function(N){var A=O.props.onContextMenu;if(ze(A)){var k=O.getMouseInfo(N);A(k,N)}}),Ve(O,"triggerSyncEvent",function(N){O.props.syncId!==void 0&&g_.emit(y_,O.props.syncId,N,O.eventEmitterSymbol)}),Ve(O,"applySyncEvent",function(N){var A=O.props,k=A.layout,D=A.syncMethod,I=O.state.updateId,M=N.dataStartIndex,F=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)O.setState(le({dataStartIndex:M,dataEndIndex:F},_({props:O.props,dataStartIndex:M,dataEndIndex:F,updateId:I},O.state)));else if(N.activeTooltipIndex!==void 0){var L=N.chartX,te=N.chartY,re=N.activeTooltipIndex,X=O.state,ie=X.offset,J=X.tooltipTicks;if(!ie)return;if(typeof D=="function")re=D(J,N);else if(D==="value"){re=-1;for(var Q=0;Q<J.length;Q++)if(J[Q].value===N.activeLabel){re=Q;break}}var ae=le(le({},ie),{},{x:ie.left,y:ie.top}),q=Math.min(L,ae.x+ae.width),G=Math.min(te,ae.y+ae.height),ue=J[re]&&J[re].value,xe=d1(O.state,O.props.data,re),Pe=J[re]?{x:k==="horizontal"?J[re].coordinate:q,y:k==="horizontal"?G:J[re].coordinate}:B$;O.setState(le(le({},N),{},{activeLabel:ue,activeCoordinate:Pe,activePayload:xe,activeTooltipIndex:re}))}else O.setState(N)}),Ve(O,"renderCursor",function(N){var A,k=O.state,D=k.isTooltipActive,I=k.activeCoordinate,M=k.activePayload,F=k.offset,L=k.activeTooltipIndex,te=k.tooltipAxisBandSize,re=O.getTooltipEventType(),X=(A=N.props.active)!==null&&A!==void 0?A:D,ie=O.props.layout,J=N.key||"_recharts-cursor";return H.createElement(Wie,{key:J,activeCoordinate:I,activePayload:M,activeTooltipIndex:L,chartName:r,element:N,isActive:X,layout:ie,offset:F,tooltipAxisBandSize:te,tooltipEventType:re})}),Ve(O,"renderPolarAxis",function(N,A,k){var D=En(N,"type.axisType"),I=En(O.state,"".concat(D,"Map")),M=N.type.defaultProps,F=M!==void 0?le(le({},M),N.props):N.props,L=I&&I[F["".concat(D,"Id")]];return z.cloneElement(N,le(le({},L),{},{className:Qe(D,L.className),key:N.key||"".concat(A,"-").concat(k),ticks:ga(L,!0)}))}),Ve(O,"renderPolarGrid",function(N){var A=N.props,k=A.radialLines,D=A.polarAngles,I=A.polarRadius,M=O.state,F=M.radiusAxisMap,L=M.angleAxisMap,te=mo(F),re=mo(L),X=re.cx,ie=re.cy,J=re.innerRadius,Q=re.outerRadius;return z.cloneElement(N,{polarAngles:Array.isArray(D)?D:ga(re,!0).map(function(ae){return ae.coordinate}),polarRadius:Array.isArray(I)?I:ga(te,!0).map(function(ae){return ae.coordinate}),cx:X,cy:ie,innerRadius:J,outerRadius:Q,key:N.key||"polar-grid",radialLines:k})}),Ve(O,"renderLegend",function(){var N=O.state.formattedGraphicalItems,A=O.props,k=A.children,D=A.width,I=A.height,M=O.props.margin||{},F=D-(M.left||0)-(M.right||0),L=P4({children:k,formattedGraphicalItems:N,legendWidth:F,legendContent:f});if(!L)return null;var te=L.item,re=X2(L,Hie);return z.cloneElement(te,le(le({},re),{},{chartWidth:D,chartHeight:I,margin:M,onBBoxUpdate:O.handleLegendBBoxUpdate}))}),Ve(O,"renderTooltip",function(){var N,A=O.props,k=A.children,D=A.accessibilityLayer,I=_n(k,ci);if(!I)return null;var M=O.state,F=M.isTooltipActive,L=M.activeCoordinate,te=M.activePayload,re=M.activeLabel,X=M.offset,ie=(N=I.props.active)!==null&&N!==void 0?N:F;return z.cloneElement(I,{viewBox:le(le({},X),{},{x:X.left,y:X.top}),active:ie,label:re,payload:ie?te:[],coordinate:L,accessibilityLayer:D})}),Ve(O,"renderBrush",function(N){var A=O.props,k=A.margin,D=A.data,I=O.state,M=I.offset,F=I.dataStartIndex,L=I.dataEndIndex,te=I.updateId;return z.cloneElement(N,{key:N.key||"_recharts-brush",onChange:qh(O.handleBrushChange,N.props.onChange),data:D,x:ve(N.props.x)?N.props.x:M.left,y:ve(N.props.y)?N.props.y:M.top+M.height+M.brushBottom-(k.bottom||0),width:ve(N.props.width)?N.props.width:M.width,startIndex:F,endIndex:L,updateId:"brush-".concat(te)})}),Ve(O,"renderReferenceElement",function(N,A,k){if(!N)return null;var D=O,I=D.clipPathId,M=O.state,F=M.xAxisMap,L=M.yAxisMap,te=M.offset,re=N.type.defaultProps||{},X=N.props,ie=X.xAxisId,J=ie===void 0?re.xAxisId:ie,Q=X.yAxisId,ae=Q===void 0?re.yAxisId:Q;return z.cloneElement(N,{key:N.key||"".concat(A,"-").concat(k),xAxis:F[J],yAxis:L[ae],viewBox:{x:te.left,y:te.top,width:te.width,height:te.height},clipPathId:I})}),Ve(O,"renderActivePoints",function(N){var A=N.item,k=N.activePoint,D=N.basePoint,I=N.childIndex,M=N.isRange,F=[],L=A.props.key,te=A.item.type.defaultProps!==void 0?le(le({},A.item.type.defaultProps),A.item.props):A.item.props,re=te.activeDot,X=te.dataKey,ie=le(le({index:I,dataKey:X,cx:k.x,cy:k.y,r:4,fill:iE(A.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},Be(re,!1)),Op(re));return F.push(P.renderActiveDot(re,ie,"".concat(L,"-activePoint-").concat(I))),D?F.push(P.renderActiveDot(re,le(le({},ie),{},{cx:D.x,cy:D.y}),"".concat(L,"-basePoint-").concat(I))):M&&F.push(null),F}),Ve(O,"renderGraphicChild",function(N,A,k){var D=O.filterFormatItem(N,A,k);if(!D)return null;var I=O.getTooltipEventType(),M=O.state,F=M.isTooltipActive,L=M.tooltipAxis,te=M.activeTooltipIndex,re=M.activeLabel,X=O.props.children,ie=_n(X,ci),J=D.props,Q=J.points,ae=J.isRange,q=J.baseLine,G=D.item.type.defaultProps!==void 0?le(le({},D.item.type.defaultProps),D.item.props):D.item.props,ue=G.activeDot,xe=G.hide,Pe=G.activeBar,De=G.activeShape,Ke=!!(!xe&&F&&ie&&(ue||Pe||De)),je={};I!=="axis"&&ie&&ie.props.trigger==="click"?je={onClick:qh(O.handleItemMouseEnter,N.props.onClick)}:I!=="axis"&&(je={onMouseLeave:qh(O.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:qh(O.handleItemMouseEnter,N.props.onMouseEnter)});var de=z.cloneElement(N,le(le({},D.props),je));function Se(gr){return typeof L.dataKey=="function"?L.dataKey(gr.payload):null}if(Ke)if(te>=0){var Re,W;if(L.dataKey&&!L.allowDuplicatedCategory){var ge=typeof L.dataKey=="function"?Se:"payload.".concat(L.dataKey.toString());Re=K_(Q,ge,re),W=ae&&q&&K_(q,ge,re)}else Re=Q?.[te],W=ae&&q&&q[te];if(De||Pe){var _e=N.props.activeIndex!==void 0?N.props.activeIndex:te;return[z.cloneElement(N,le(le(le({},D.props),je),{},{activeIndex:_e})),null,null]}if(!et(Re))return[de].concat(Cu(O.renderActivePoints({item:D,activePoint:Re,basePoint:W,childIndex:te,isRange:ae})))}else{var Ne,Xe=(Ne=O.getItemByXY(O.state.activeCoordinate))!==null&&Ne!==void 0?Ne:{graphicalItem:de},Lt=Xe.graphicalItem,Yr=Lt.item,Vr=Yr===void 0?N:Yr,Fr=Lt.childIndex,Qt=le(le(le({},D.props),je),{},{activeIndex:Fr});return[z.cloneElement(Vr,Qt),null,null]}return ae?[de,null,null]:[de,null]}),Ve(O,"renderCustomized",function(N,A,k){return z.cloneElement(N,le(le({key:"recharts-customized-".concat(k)},O.props),O.state))}),Ve(O,"renderMap",{CartesianGrid:{handler:Gh,once:!0},ReferenceArea:{handler:O.renderReferenceElement},ReferenceLine:{handler:Gh},ReferenceDot:{handler:O.renderReferenceElement},XAxis:{handler:Gh},YAxis:{handler:Gh},Brush:{handler:O.renderBrush,once:!0},Bar:{handler:O.renderGraphicChild},Line:{handler:O.renderGraphicChild},Area:{handler:O.renderGraphicChild},Radar:{handler:O.renderGraphicChild},RadialBar:{handler:O.renderGraphicChild},Scatter:{handler:O.renderGraphicChild},Pie:{handler:O.renderGraphicChild},Funnel:{handler:O.renderGraphicChild},Tooltip:{handler:O.renderCursor,once:!0},PolarGrid:{handler:O.renderPolarGrid,once:!0},PolarAngleAxis:{handler:O.renderPolarAxis},PolarRadiusAxis:{handler:O.renderPolarAxis},Customized:{handler:O.renderCustomized}}),O.clipPathId="".concat((R=j.id)!==null&&R!==void 0?R:cd("recharts"),"-clip"),O.throttleTriggeredAfterMouseMove=TL(O.triggeredAfterMouseMove,(V=j.throttleDelay)!==null&&V!==void 0?V:1e3/60),O.state={},O}return iae(P,b),eae(P,[{key:"componentDidMount",value:function(){var R,V;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(R=this.props.margin.left)!==null&&R!==void 0?R:0,top:(V=this.props.margin.top)!==null&&V!==void 0?V:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var R=this.props,V=R.children,O=R.data,N=R.height,A=R.layout,k=_n(V,ci);if(k){var D=k.props.defaultIndex;if(!(typeof D!="number"||D<0||D>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[D]&&this.state.tooltipTicks[D].value,M=d1(this.state,O,D,I),F=this.state.tooltipTicks[D].coordinate,L=(this.state.offset.top+N)/2,te=A==="horizontal",re=te?{x:F,y:L}:{y:F,x:L},X=this.state.formattedGraphicalItems.find(function(J){var Q=J.item;return Q.type.name==="Scatter"});X&&(re=le(le({},re),X.props.points[D].tooltipPosition),M=X.props.points[D].tooltipPayload);var ie={activeTooltipIndex:D,isTooltipActive:!0,activeLabel:I,activePayload:M,activeCoordinate:re};this.setState(ie),this.renderCursor(k),this.accessibilityManager.setIndex(D)}}}},{key:"getSnapshotBeforeUpdate",value:function(R,V){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==V.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==R.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==R.margin){var O,N;this.accessibilityManager.setDetails({offset:{left:(O=this.props.margin.left)!==null&&O!==void 0?O:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(R){Y_([_n(R.children,ci)],[_n(this.props.children,ci)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var R=_n(this.props.children,ci);if(R&&typeof R.props.shared=="boolean"){var V=R.props.shared?"axis":"item";return u.indexOf(V)>=0?V:a}return a}},{key:"getMouseInfo",value:function(R){if(!this.container)return null;var V=this.container,O=V.getBoundingClientRect(),N=qH(O),A={chartX:Math.round(R.pageX-N.left),chartY:Math.round(R.pageY-N.top)},k=O.width/V.offsetWidth||1,D=this.inRange(A.chartX,A.chartY,k);if(!D)return null;var I=this.state,M=I.xAxisMap,F=I.yAxisMap,L=this.getTooltipEventType(),te=J2(this.state,this.props.data,this.props.layout,D);if(L!=="axis"&&M&&F){var re=mo(M).scale,X=mo(F).scale,ie=re&&re.invert?re.invert(A.chartX):null,J=X&&X.invert?X.invert(A.chartY):null;return le(le({},A),{},{xValue:ie,yValue:J},te)}return te?le(le({},A),te):null}},{key:"inRange",value:function(R,V){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,A=R/O,k=V/O;if(N==="horizontal"||N==="vertical"){var D=this.state.offset,I=A>=D.left&&A<=D.left+D.width&&k>=D.top&&k<=D.top+D.height;return I?{x:A,y:k}:null}var M=this.state,F=M.angleAxisMap,L=M.radiusAxisMap;if(F&&L){var te=mo(F);return nj({x:A,y:k},te)}return null}},{key:"parseEventsOfWrapper",value:function(){var R=this.props.children,V=this.getTooltipEventType(),O=_n(R,ci),N={};O&&V==="axis"&&(O.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=Op(this.props,this.handleOuterEvent);return le(le({},A),N)}},{key:"addListener",value:function(){g_.on(y_,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){g_.removeListener(y_,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(R,V,O){for(var N=this.state.formattedGraphicalItems,A=0,k=N.length;A<k;A++){var D=N[A];if(D.item===R||D.props.key===R.key||V===ba(D.item.type)&&O===D.childIndex)return D}return null}},{key:"renderClipPath",value:function(){var R=this.clipPathId,V=this.state.offset,O=V.left,N=V.top,A=V.height,k=V.width;return H.createElement("defs",null,H.createElement("clipPath",{id:R},H.createElement("rect",{x:O,y:N,height:A,width:k})))}},{key:"getXScales",value:function(){var R=this.state.xAxisMap;return R?Object.entries(R).reduce(function(V,O){var N=Y2(O,2),A=N[0],k=N[1];return le(le({},V),{},Ve({},A,k.scale))},{}):null}},{key:"getYScales",value:function(){var R=this.state.yAxisMap;return R?Object.entries(R).reduce(function(V,O){var N=Y2(O,2),A=N[0],k=N[1];return le(le({},V),{},Ve({},A,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(R){var V;return(V=this.state.xAxisMap)===null||V===void 0||(V=V[R])===null||V===void 0?void 0:V.scale}},{key:"getYScaleByAxisId",value:function(R){var V;return(V=this.state.yAxisMap)===null||V===void 0||(V=V[R])===null||V===void 0?void 0:V.scale}},{key:"getItemByXY",value:function(R){var V=this.state,O=V.formattedGraphicalItems,N=V.activeItem;if(O&&O.length)for(var A=0,k=O.length;A<k;A++){var D=O[A],I=D.props,M=D.item,F=M.type.defaultProps!==void 0?le(le({},M.type.defaultProps),M.props):M.props,L=ba(M.type);if(L==="Bar"){var te=(I.data||[]).find(function(J){return oee(R,J)});if(te)return{graphicalItem:D,payload:te}}else if(L==="RadialBar"){var re=(I.data||[]).find(function(J){return nj(R,J)});if(re)return{graphicalItem:D,payload:re}}else if(xg(D,N)||_g(D,N)||Vf(D,N)){var X=Ote({graphicalItem:D,activeTooltipItem:N,itemData:F.data}),ie=F.activeIndex===void 0?X:F.activeIndex;return{graphicalItem:le(le({},D),{},{childIndex:ie}),payload:Vf(D,N)?F.data[X]:D.props.data[X]}}}return null}},{key:"render",value:function(){var R=this;if(!mO(this))return null;var V=this.props,O=V.children,N=V.className,A=V.width,k=V.height,D=V.style,I=V.compact,M=V.title,F=V.desc,L=X2(V,Kie),te=Be(L,!1);if(I)return H.createElement(j2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},H.createElement(Q_,Kl({},te,{width:A,height:k,title:M,desc:F}),this.renderClipPath(),yO(O,this.renderMap)));if(this.props.accessibilityLayer){var re,X;te.tabIndex=(re=this.props.tabIndex)!==null&&re!==void 0?re:0,te.role=(X=this.props.role)!==null&&X!==void 0?X:"application",te.onKeyDown=function(J){R.accessibilityManager.keyboardEvent(J)},te.onFocus=function(){R.accessibilityManager.focus()}}var ie=this.parseEventsOfWrapper();return H.createElement(j2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},H.createElement("div",Kl({className:Qe("recharts-wrapper",N),style:le({position:"relative",cursor:"default",width:A,height:k},D)},ie,{ref:function(Q){R.container=Q}}),H.createElement(Q_,Kl({},te,{width:A,height:k,title:M,desc:F,style:cae}),this.renderClipPath(),yO(O,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(z.Component);Ve(E,"displayName",r),Ve(E,"defaultProps",le({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},g)),Ve(E,"getDerivedStateFromProps",function(b,P){var j=b.dataKey,R=b.data,V=b.children,O=b.width,N=b.height,A=b.layout,k=b.stackOffset,D=b.margin,I=P.dataStartIndex,M=P.dataEndIndex;if(P.updateId===void 0){var F=Z2(b);return le(le(le({},F),{},{updateId:0},_(le(le({props:b},F),{},{updateId:0}),P)),{},{prevDataKey:j,prevData:R,prevWidth:O,prevHeight:N,prevLayout:A,prevStackOffset:k,prevMargin:D,prevChildren:V})}if(j!==P.prevDataKey||R!==P.prevData||O!==P.prevWidth||N!==P.prevHeight||A!==P.prevLayout||k!==P.prevStackOffset||!Jl(D,P.prevMargin)){var L=Z2(b),te={chartX:P.chartX,chartY:P.chartY,isTooltipActive:P.isTooltipActive},re=le(le({},J2(P,R,A)),{},{updateId:P.updateId+1}),X=le(le(le({},L),te),re);return le(le(le({},X),_(le({props:b},X),P)),{},{prevDataKey:j,prevData:R,prevWidth:O,prevHeight:N,prevLayout:A,prevStackOffset:k,prevMargin:D,prevChildren:V})}if(!Y_(V,P.prevChildren)){var ie,J,Q,ae,q=_n(V,wu),G=q&&(ie=(J=q.props)===null||J===void 0?void 0:J.startIndex)!==null&&ie!==void 0?ie:I,ue=q&&(Q=(ae=q.props)===null||ae===void 0?void 0:ae.endIndex)!==null&&Q!==void 0?Q:M,xe=G!==I||ue!==M,Pe=!et(R),De=Pe&&!xe?P.updateId:P.updateId+1;return le(le({updateId:De},_(le(le({props:b},P),{},{updateId:De,dataStartIndex:G,dataEndIndex:ue}),P)),{},{prevChildren:V,dataStartIndex:G,dataEndIndex:ue})}return null}),Ve(E,"renderActiveDot",function(b,P,j){var R;return z.isValidElement(b)?R=z.cloneElement(b,P):ze(b)?R=b(P):R=H.createElement(sE,P),H.createElement(gt,{className:"recharts-active-dot",key:j},R)});var w=z.forwardRef(function(P,j){return H.createElement(E,Kl({},P,{ref:j}))});return w.displayName=E.displayName,w},xae=z$({chartName:"BarChart",GraphicalChild:ko,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Pg},{axisType:"yAxis",AxisComp:kg}],formatAxisMap:Nre}),_ae=z$({chartName:"PieChart",GraphicalChild:ja,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:bg},{axisType:"radiusAxis",AxisComp:yg}],formatAxisMap:_Q,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const wae=({invoices:t,openModal:e,handleDelete:r,handleBulkDelete:n,searchTerm:i,setSearchTerm:a,selectedIds:s,setSelectedIds:u,handleImportCSV:c,handleExportCSV:f,handleToggleInvoicePaid:h})=>{const[g,v]=z.useState("All"),[_,E]=z.useState("All"),[w,b]=z.useState(!1),P=[{key:"status",header:"Status",render:I=>p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("button",{onClick:()=>h(I.id,I.status),children:I.status==="Paid"?p.jsx(W_,{className:"text-green-500",size:20}):p.jsx(SM,{className:"text-slate-400 dark:text-slate-600",size:20})}),p.jsx(j,{status:I.invoiceStatus||I.status})]})},{key:"invoiceNumber",header:"Invoice #",render:I=>p.jsxs("div",{className:I.status==="Paid"?"opacity-60":"",children:[p.jsx("div",{className:"font-medium text-slate-900 dark:text-white",children:I.invoiceNumber||`INV-${I.id}`}),p.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Job: ",I.jobNumber||"N/A"]})]})},{key:"customer",header:"Customer",render:I=>p.jsxs("div",{className:I.status==="Paid"?"opacity-60":"",children:[p.jsx("div",{className:`font-medium ${I.status==="Paid"?"line-through":""}`,children:I.customer}),p.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:I.billTo&&I.billTo!==I.customer?`Bill to: ${I.billTo}`:""})]})},{key:"jobType",header:"Job Type",render:I=>p.jsxs("div",{className:"flex flex-col gap-1",children:[p.jsx(R,{jobType:I.jobType}),p.jsx(V,{priority:I.priority})]})},{key:"grandTotal",header:"Amount",className:"text-right",render:I=>p.jsxs("div",{className:`text-right ${I.status==="Paid"?"opacity-60":""}`,children:[p.jsxs("div",{className:`font-mono font-bold ${I.status==="Paid"?"line-through text-green-600":"text-slate-900 dark:text-white"}`,children:["$",parseFloat(I.grandTotal?.toString().replace(/[$,]/g,"")||I.grandTotal||0).toFixed(2)]}),p.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:I.netTerms||"Net 30"})]})},{key:"dueDate",header:"Due Date",className:"text-center",render:I=>p.jsxs("div",{className:`text-center ${I.status==="Paid"?"opacity-60":""}`,children:[p.jsx("div",{className:I.status==="Paid"?"line-through":"",children:I.dueDate||"N/A"}),I.daysElapsed>0&&I.status!=="Paid"&&p.jsxs("div",{className:"text-xs text-orange-600 dark:text-orange-400",children:[I.daysElapsed," days elapsed"]}),O(I)&&p.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 font-medium",children:"OVERDUE"})]})},{key:"description",header:"Description",render:I=>p.jsxs("div",{className:`max-w-xs ${I.status==="Paid"?"opacity-60":""}`,children:[p.jsx("div",{className:"text-sm truncate",title:I.description,children:I.description||"No description"}),p.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:I.serviceAddress&&p.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[p.jsx(sS,{size:10}),p.jsx("span",{className:"truncate",children:I.serviceAddress})]})})]})}],j=({status:I})=>{const M=F=>{switch(F){case"Paid":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900 dark:text-green-200";case"Sent":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900 dark:text-blue-200";case"Open":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900 dark:text-orange-200";case"Overdue":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-700 dark:text-gray-200"}};return p.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${M(I)}`,children:I||"Unknown"})},R=({jobType:I})=>{const M=F=>{switch(F){case"Service Call":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"Planned Maintenance":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"Installation":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200";case"Emergency":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}};return p.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded text-xs font-medium ${M(I)}`,children:I||"N/A"})},V=({priority:I})=>{if(!I)return null;const M=F=>{switch(F){case"ER":return"bg-red-100 text-red-800 border-red-300 dark:bg-red-900 dark:text-red-200";case"URG":return"bg-orange-100 text-orange-800 border-orange-300 dark:bg-orange-900 dark:text-orange-200";case"STD":return"bg-gray-100 text-gray-800 border-gray-300 dark:bg-gray-700 dark:text-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-300 dark:bg-gray-700 dark:text-gray-200"}};return p.jsx("span",{className:`inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium border ${M(I)}`,children:I})},O=I=>I.status==="Paid"||!I.dueDate?!1:new Date(I.dueDate)<new Date,N=z.useMemo(()=>{const I=t.reduce((X,ie)=>{const J=parseFloat(ie.grandTotal?.toString().replace(/[$,]/g,"")||0);return X+J},0),M=t.filter(X=>X.status==="Paid"||X.invoiceStatus==="Paid"),F=M.reduce((X,ie)=>{const J=parseFloat(ie.grandTotal?.toString().replace(/[$,]/g,"")||0);return X+J},0),te=t.filter(X=>X.status!=="Paid"&&X.invoiceStatus!=="Paid").reduce((X,ie)=>{const J=parseFloat(ie.grandTotal?.toString().replace(/[$,]/g,"")||0);return X+J},0),re=t.filter(X=>O(X));return{totalInvoices:t.length,totalAmount:I,paidAmount:F,outstandingAmount:te,overdueCount:re.length,paidCount:M.length}},[t]),A=z.useMemo(()=>t.filter(I=>{const M=!i||String(I.invoiceNumber||"").toLowerCase().includes(i.toLowerCase())||String(I.customer||"").toLowerCase().includes(i.toLowerCase())||String(I.vehicleId||"").toLowerCase().includes(i.toLowerCase()),F=g==="all"||I.status===g,L=_==="all"||I.priority===_;return M&&F&&L}),[t,i,g,_]),k=I=>{I.target.checked?u(A.map(M=>M.id)):u([])},D=()=>{const I=["Invoice Number","Job Number","Customer","Bill To","Grand Total","Total Cost","Net Terms","Transaction Date","Due Date","Payment Date","Completed On","Invoice Status","Terms","Priority","Description","Service Address","Location Type","Job Type","Line Items","Payments","Days Elapsed","Company","Division"],M=A.map(X=>[X.invoiceNumber||`INV-${X.id}`,X.jobNumber||"",X.customer||"",X.billTo||"",X.grandTotal||"",X.totalCost||"",X.netTerms||"",X.transactionDate||"",X.dueDate||"",X.paymentDate||"",X.completedOn||"",X.invoiceStatus||X.status||"",X.terms||"",X.priority||"",X.description||"",X.serviceAddress||"",X.locationType||"",X.jobType||"",X.lineItems||"",X.payments||"",X.daysElapsed||0,X.company||"Mechanical Temp",X.division||"HVAC & Refrigeration"]),F=[I,...M].map(X=>X.map(ie=>`"${ie}"`).join(",")).join(`
`),L=new Blob([F],{type:"text/csv"}),te=URL.createObjectURL(L),re=document.createElement("a");re.href=te,re.download=`appsheet_invoices_${new Date().toISOString().split("T")[0]}.csv`,re.click(),URL.revokeObjectURL(te)};return p.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700",children:[p.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border-b border-blue-200 dark:border-blue-800 p-4 rounded-t-xl",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(ok,{className:"text-blue-600 dark:text-blue-400",size:20}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-semibold text-blue-900 dark:text-blue-100",children:"AppSheet Integration"}),p.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[t.length," invoices • Last sync: 2 hours ago"]})]})]}),p.jsxs("button",{onClick:()=>b(!w),className:"flex items-center gap-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[p.jsx(ok,{size:16}),"Sync Now"]})]})}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 border-b border-slate-200 dark:border-slate-700",children:[p.jsxs("div",{className:"text-center",children:[p.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[p.jsx(_o,{className:"text-slate-500",size:16}),p.jsx("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Total"})]}),p.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:N.totalInvoices}),p.jsxs("div",{className:"text-sm text-slate-500",children:["$",N.totalAmount.toLocaleString()]})]}),p.jsxs("div",{className:"text-center",children:[p.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[p.jsx(W_,{className:"text-green-500",size:16}),p.jsx("span",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:"Paid"})]}),p.jsx("div",{className:"text-2xl font-bold text-green-600",children:N.paidCount}),p.jsxs("div",{className:"text-sm text-green-600",children:["$",N.paidAmount.toLocaleString()]})]}),p.jsxs("div",{className:"text-center",children:[p.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[p.jsx(B9,{className:"text-orange-500",size:16}),p.jsx("span",{className:"text-sm font-medium text-orange-600 dark:text-orange-400",children:"Outstanding"})]}),p.jsx("div",{className:"text-2xl font-bold text-orange-600",children:t.length-N.paidCount}),p.jsxs("div",{className:"text-sm text-orange-600",children:["$",N.outstandingAmount.toLocaleString()]})]}),p.jsxs("div",{className:"text-center",children:[p.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[p.jsx(uS,{className:"text-red-500",size:16}),p.jsx("span",{className:"text-sm font-medium text-red-600 dark:text-red-400",children:"Overdue"})]}),p.jsx("div",{className:"text-2xl font-bold text-red-600",children:N.overdueCount}),p.jsx("div",{className:"text-sm text-red-600",children:"Needs attention"})]})]}),p.jsxs("div",{className:"p-6",children:[p.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center gap-4 mb-6",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Invoice Management"}),p.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Showing ",A.length," of ",t.length," invoices"]})]}),p.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[p.jsx("input",{type:"text",placeholder:"Search invoices...",value:i,onChange:I=>a(I.target.value),className:"w-full md:w-auto bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white"}),p.jsxs("select",{value:g,onChange:I=>v(I.target.value),className:"bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white",children:[p.jsx("option",{value:"All",children:"All Status"}),p.jsx("option",{value:"Paid",children:"Paid"}),p.jsx("option",{value:"Sent",children:"Sent"}),p.jsx("option",{value:"Open",children:"Open"}),p.jsx("option",{value:"Overdue",children:"Overdue"})]}),p.jsxs("select",{value:_,onChange:I=>E(I.target.value),className:"bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white",children:[p.jsx("option",{value:"All",children:"All Priority"}),p.jsx("option",{value:"ER",children:"Emergency"}),p.jsx("option",{value:"URG",children:"Urgent"}),p.jsx("option",{value:"STD",children:"Standard"})]}),s.length>0&&p.jsxs("button",{onClick:()=>n("invoice",s),className:"flex items-center gap-2 text-sm bg-red-600 hover:bg-red-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[p.jsx(va,{size:16})," Delete (",s.length,")"]}),p.jsx("input",{type:"file",id:"csv-importer-invoice",className:"hidden",accept:".csv",onChange:I=>c(I.target.files[0],"invoice")}),p.jsxs("label",{htmlFor:"csv-importer-invoice",className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[p.jsx(od,{size:16})," Import CSV"]}),p.jsxs("button",{onClick:D,className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[p.jsx(_o,{size:16})," Export AppSheet CSV"]}),p.jsxs("button",{onClick:()=>e("invoice"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[p.jsx(Oa,{size:16})," Add New"]})]})]}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:p.jsxs("tr",{children:[p.jsx("th",{className:"p-3",children:p.jsx("input",{type:"checkbox",onChange:k,checked:s.length===A.length&&A.length>0,className:"rounded border-slate-300 dark:border-slate-600"})}),P.map(I=>p.jsx("th",{className:`p-3 ${I.className||""}`,children:I.header},I.key)),p.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),p.jsx("tbody",{className:"text-sm",children:A.map(I=>p.jsxs("tr",{className:`border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors ${I.status==="Paid"?"text-slate-400 dark:text-slate-500":"text-slate-700 dark:text-slate-200"}`,children:[p.jsx("td",{className:"p-3",children:p.jsx("input",{type:"checkbox",checked:s.includes(I.id),onChange:()=>{u(M=>M.includes(I.id)?M.filter(F=>F!==I.id):[...M,I.id])},className:"rounded border-slate-300 dark:border-slate-600"})}),P.map(M=>p.jsx("td",{className:`p-3 ${M.className||""}`,children:M.render(I)},M.key)),p.jsx("td",{className:"p-3 text-center",children:p.jsxs("div",{className:"flex items-center justify-center gap-2",children:[p.jsx("button",{onClick:()=>{},className:"text-slate-500 dark:text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",title:"View Details",children:p.jsx(q9,{size:16})}),p.jsx("button",{onClick:()=>e("invoice",I),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 transition-colors",title:"Edit Invoice",children:p.jsx(Ms,{size:16})}),p.jsx("button",{onClick:()=>r("invoice",I.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500 transition-colors",title:"Delete Invoice",children:p.jsx(va,{size:16})})]})})]},I.id))})]})}),A.length===0&&p.jsxs("div",{className:"text-center py-12",children:[p.jsx(_o,{className:"mx-auto text-slate-400 mb-4",size:48}),p.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-2",children:"No invoices found"}),p.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:i||g!=="All"||_!=="All"?"Try adjusting your search or filters":"Get started by importing your AppSheet invoice data"})]})]})]})},Sae=({clients:t,openModal:e,handleDelete:r,handleBulkDelete:n,searchTerm:i,setSearchTerm:a,selectedIds:s,setSelectedIds:u,handleImportCSV:c,handleExportCSV:f,handleBulkUpdate:h})=>{const[g,v]=z.useState("name"),[_,E]=z.useState("asc"),[w,b]=z.useState("all"),[P,j]=z.useState("all"),[R,V]=z.useState("hierarchy"),[O,N]=z.useState(new Set),[A,k]=z.useState(!1),[D,I]=z.useState(!1),[M,F]=z.useState(""),[L,te]=z.useState(null),re=z.useMemo(()=>t.filter(W=>!W.parentId||W.parentId===""),[t]),X=z.useMemo(()=>t.filter(W=>!W.parentId||W.parentId===""),[t]),ie=z.useMemo(()=>{let W=t.filter(ge=>{const _e=(ge.name||"").toLowerCase().includes(i.toLowerCase())||(ge.address||"").toLowerCase().includes(i.toLowerCase())||(ge.email||"").toLowerCase().includes(i.toLowerCase())||(ge.phone||"").includes(i),Ne=w==="all"||w==="parent"&&(!ge.parentId||ge.parentId==="")||w==="location"&&ge.parentId&&ge.parentId!==""||w==="unassigned"&&(!ge.parentId||ge.parentId==="")||w==="active"&&ge.status==="Active"||w==="inactive"&&ge.status==="Inactive",Xe=P==="all"||ge.parentId===P||ge.id===P;return _e&&Ne&&Xe});return W.sort((ge,_e)=>{let Ne=ge[g]||"",Xe=_e[g]||"";return g==="name"&&(Ne=Ne.toLowerCase(),Xe=Xe.toLowerCase()),_==="asc"?Ne<Xe?-1:Ne>Xe?1:0:Ne>Xe?-1:Ne<Xe?1:0}),W},[t,i,g,_,w,P]),J=z.useMemo(()=>ie.filter(ge=>!ge.parentId||ge.parentId==="").map(ge=>({...ge,children:ie.filter(_e=>_e.parentId===ge.id)})),[ie]),Q=W=>{g===W?E(_==="asc"?"desc":"asc"):(v(W),E("asc"))},ae=W=>{const ge=new Set(O);ge.has(W)?ge.delete(W):ge.add(W),N(ge)},q=W=>{W.target.checked?u(ie.map(ge=>ge.id)):u([])},G=()=>{if(s.length>0&&M){const W=s.map(ge=>({id:ge,parentId:M}));h&&h("client",W),u([]),I(!1),F("")}},ue=()=>{if(s.length>0){const W=s.map(ge=>({id:ge,parentId:""}));h&&h("client",W),u([])}},xe=(W,ge)=>{te(ge),W.dataTransfer.effectAllowed="move"},Pe=W=>{W.preventDefault(),W.dataTransfer.dropEffect="move"},De=(W,ge)=>{if(W.preventDefault(),L&&L.id!==ge.id){const _e={id:L.id,parentId:ge.id};h&&h("client",[_e])}te(null)},Ke=W=>{const ge=t.filter(_e=>_e.parentId===W.id).map(_e=>_e.id);u(_e=>{const Ne=new Set([..._e,W.id,...ge]);return Array.from(Ne)})},je=({client:W,isChild:ge=!1,parent:_e=null})=>p.jsx("div",{className:`bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-4 hover:shadow-md transition-all duration-200 ${ge?"ml-6 border-l-4 border-l-blue-400 bg-blue-50/30 dark:bg-blue-900/10":"border-l-4 border-l-purple-400"} ${s.includes(W.id)?"ring-2 ring-blue-500 bg-blue-50 dark:bg-blue-900/20":""}`,draggable:!ge,onDragStart:Ne=>xe(Ne,W),onDragOver:Pe,onDrop:Ne=>!ge&&De(Ne,W),children:p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx("input",{type:"checkbox",checked:s.includes(W.id),onChange:()=>{u(Ne=>Ne.includes(W.id)?Ne.filter(Xe=>Xe!==W.id):[...Ne,W.id])},className:"rounded"}),ge?p.jsx(z_,{className:"h-4 w-4 text-blue-500"}):p.jsx(ik,{className:"h-5 w-5 text-purple-600"}),p.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white",children:W.name}),W.status&&p.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${W.status==="Active"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:W.status}),ge&&_e&&p.jsxs("span",{className:"text-xs text-blue-600 dark:text-blue-400 bg-blue-100 dark:bg-blue-900/30 px-2 py-1 rounded",children:["↳ ",_e.name]})]}),p.jsxs("div",{className:"space-y-1 text-sm text-slate-600 dark:text-slate-400",children:[W.address&&p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(sS,{className:"h-4 w-4"}),p.jsx("span",{children:W.address})]}),W.phone&&p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(kp,{className:"h-4 w-4"}),p.jsx("span",{children:W.phone})]}),W.email&&p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Pp,{className:"h-4 w-4"}),p.jsx("span",{children:W.email})]})]})]}),p.jsxs("div",{className:"flex gap-1 ml-4",children:[!ge&&p.jsx("button",{onClick:()=>Ke(W),className:"p-1 text-slate-400 hover:text-purple-600 hover:bg-purple-50 dark:hover:bg-purple-900/30 rounded",title:"Select Parent & All Locations",children:p.jsx(ap,{className:"h-4 w-4"})}),p.jsx("button",{onClick:()=>e("client",W),className:"p-1 text-slate-400 hover:text-cyan-600 hover:bg-cyan-50 dark:hover:bg-cyan-900/30 rounded",title:"Edit Client",children:p.jsx(Ms,{className:"h-4 w-4"})}),p.jsx("button",{onClick:()=>r("client",W.id),className:"p-1 text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 rounded",title:"Delete Client",children:p.jsx(va,{className:"h-4 w-4"})})]})]})}),de=()=>p.jsxs("div",{className:"space-y-6",children:[X.length>0&&p.jsxs("div",{className:"border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-lg p-4",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsxs("h4",{className:"font-semibold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[p.jsx(ap,{className:"h-5 w-5"}),"Unassigned Clients (",X.filter(W=>ie.includes(W)).length,")"]}),p.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Drag clients to parent companies below"})]}),p.jsx("div",{className:"space-y-2",children:X.filter(W=>ie.includes(W)).map(W=>p.jsx(je,{client:W},W.id))})]}),J.filter(W=>W.children.length>0).map(W=>p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("button",{onClick:()=>ae(W.id),className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-700 rounded",children:O.has(W.id)?p.jsx(Ap,{className:"h-4 w-4"}):p.jsx(U9,{className:"h-4 w-4"})}),p.jsx("div",{className:"flex-1",children:p.jsx(je,{client:W})}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("span",{className:"text-sm text-slate-500 bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded-full",children:[W.children.length," locations"]}),p.jsx("button",{onClick:()=>Ke(W),className:"text-xs bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400 px-2 py-1 rounded hover:bg-purple-200 dark:hover:bg-purple-900/50",title:"Select All",children:"Select All"})]})]}),O.has(W.id)&&p.jsx("div",{className:"space-y-2 border-l-2 border-purple-200 dark:border-purple-700 ml-4 pl-4",children:W.children.map(ge=>p.jsx(je,{client:ge,isChild:!0,parent:W},ge.id))})]},W.id))]}),Se=()=>p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:p.jsxs("tr",{children:[p.jsx("th",{className:"p-3",children:p.jsx("input",{type:"checkbox",onChange:q})}),p.jsx("th",{className:"p-3",children:p.jsxs("button",{onClick:()=>Q("name"),className:"flex items-center gap-1 hover:text-slate-700 dark:hover:text-slate-200",children:["Name",g==="name"&&(_==="asc"?p.jsx(bs,{className:"h-3 w-3"}):p.jsx(vs,{className:"h-3 w-3"}))]})}),p.jsx("th",{className:"p-3",children:"Type"}),p.jsx("th",{className:"p-3",children:p.jsxs("button",{onClick:()=>Q("address"),className:"flex items-center gap-1 hover:text-slate-700 dark:hover:text-slate-200",children:["Address",g==="address"&&(_==="asc"?p.jsx(bs,{className:"h-3 w-3"}):p.jsx(vs,{className:"h-3 w-3"}))]})}),p.jsx("th",{className:"p-3",children:"Contact"}),p.jsx("th",{className:"p-3",children:"Parent Company"}),p.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),p.jsx("tbody",{className:"text-sm",children:ie.map(W=>{const ge=re.find(Ne=>Ne.id===W.parentId),_e=s.includes(W.id);return p.jsxs("tr",{className:`border-b border-slate-200 dark:border-slate-700/50 text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700/50 ${_e?"bg-blue-50 dark:bg-blue-900/20":""}`,children:[p.jsx("td",{className:"p-3",children:p.jsx("input",{type:"checkbox",checked:_e,onChange:()=>{u(Ne=>Ne.includes(W.id)?Ne.filter(Xe=>Xe!==W.id):[...Ne,W.id])}})}),p.jsx("td",{className:"p-3",children:p.jsxs("div",{className:"flex items-center gap-2",children:[W.parentId?p.jsx(z_,{className:"h-4 w-4 text-blue-500"}):p.jsx(ik,{className:"h-4 w-4 text-purple-600"}),p.jsx("span",{className:"font-medium",children:W.name})]})}),p.jsx("td",{className:"p-3",children:p.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${W.parentId?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400"}`,children:W.parentId?"Location":"Parent"})}),p.jsx("td",{className:"p-3",children:p.jsx("span",{children:W.address})}),p.jsx("td",{className:"p-3",children:p.jsxs("div",{className:"space-y-1",children:[W.phone&&p.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[p.jsx(kp,{className:"h-3 w-3"}),p.jsx("span",{children:W.phone})]}),W.email&&p.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[p.jsx(Pp,{className:"h-3 w-3"}),p.jsx("span",{children:W.email})]})]})}),p.jsx("td",{className:"p-3",children:ge?p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(L9,{className:"h-3 w-3 text-slate-400"}),p.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:ge.name})]}):p.jsx("span",{className:"text-xs text-slate-400",children:"—"})}),p.jsxs("td",{className:"p-3 text-center",children:[p.jsx("button",{onClick:()=>e("client",W),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:p.jsx(Ms,{size:16})}),p.jsx("button",{onClick:()=>r("client",W.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:p.jsx(va,{size:16})})]})]},W.id)})})]})}),Re=()=>p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ie.map(W=>{const ge=re.find(_e=>_e.id===W.parentId);return p.jsx(je,{client:W,isChild:!!W.parentId,parent:ge},W.id)})});return p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[p.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center mb-6 gap-4",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Client Management"}),p.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:[ie.length," of ",t.length," clients",s.length>0&&` • ${s.length} selected`]})]}),p.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.length>0&&p.jsxs(p.Fragment,{children:[p.jsxs("button",{onClick:()=>I(!0),className:"flex items-center gap-2 text-sm bg-purple-600 hover:bg-purple-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[p.jsx(W9,{size:16})," Assign Parent (",s.length,")"]}),p.jsxs("button",{onClick:ue,className:"flex items-center gap-2 text-sm bg-orange-600 hover:bg-orange-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[p.jsx(tz,{size:16})," Remove Parent"]}),p.jsxs("button",{onClick:()=>n("client",s),className:"flex items-center gap-2 text-sm bg-red-600 hover:bg-red-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[p.jsx(va,{size:16})," Delete (",s.length,")"]})]}),p.jsx("input",{type:"file",id:"csv-importer-client",className:"hidden",accept:".csv",onChange:W=>c(W.target.files[0],"client")}),p.jsxs("label",{htmlFor:"csv-importer-client",className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[p.jsx(od,{size:16})," Import CSV"]}),p.jsxs("button",{onClick:()=>f(t,"clients"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[p.jsx(_o,{size:16})," Export CSV"]}),p.jsxs("button",{onClick:()=>e("client"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[p.jsx(Oa,{size:16})," Add New"]})]})]}),D&&p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:p.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-6 w-full max-w-md",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("h4",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Assign Parent Company"}),p.jsx("button",{onClick:()=>I(!1),className:"text-slate-400 hover:text-slate-600",children:p.jsx(sd,{className:"h-5 w-5"})})]}),p.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4",children:["Assign ",s.length," selected clients to a parent company:"]}),p.jsxs("select",{value:M,onChange:W=>F(W.target.value),className:"w-full px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-800 dark:text-white mb-4",children:[p.jsx("option",{value:"",children:"Select Parent Company"}),re.map(W=>p.jsx("option",{value:W.id,children:W.name},W.id))]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("button",{onClick:()=>I(!1),className:"flex-1 px-4 py-2 text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200",children:"Cancel"}),p.jsx("button",{onClick:G,disabled:!M,className:"flex-1 px-4 py-2 bg-purple-600 hover:bg-purple-500 text-white rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Assign"})]})]})}),p.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 mb-6",children:[p.jsxs("div",{className:"flex-1 relative",children:[p.jsx(lS,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),p.jsx("input",{type:"text",placeholder:"Search clients by name, address, phone, or email...",value:i,onChange:W=>a(W.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-800 dark:text-white"})]}),p.jsxs("button",{onClick:()=>k(!A),className:"flex items-center gap-2 px-4 py-2 bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600",children:[p.jsx(oS,{className:"h-4 w-4"}),"Filters",p.jsx(Ap,{className:`h-4 w-4 transition-transform ${A?"rotate-180":""}`})]}),p.jsxs("div",{className:"flex rounded-lg border border-slate-300 dark:border-slate-600 overflow-hidden",children:[p.jsx("button",{onClick:()=>V("hierarchy"),className:`px-3 py-2 text-sm ${R==="hierarchy"?"bg-blue-500 text-white":"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600"}`,title:"Hierarchy View",children:p.jsx(Z9,{className:"h-4 w-4"})}),p.jsx("button",{onClick:()=>V("list"),className:`px-3 py-2 text-sm ${R==="list"?"bg-blue-500 text-white":"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600"}`,title:"Table View",children:p.jsx(H9,{className:"h-4 w-4"})}),p.jsx("button",{onClick:()=>V("cards"),className:`px-3 py-2 text-sm ${R==="cards"?"bg-blue-500 text-white":"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600"}`,title:"Card View",children:p.jsx(z9,{className:"h-4 w-4"})})]})]}),A&&p.jsx("div",{className:"bg-slate-50 dark:bg-slate-700/50 rounded-lg p-4 mb-6 space-y-4",children:p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Filter by Type"}),p.jsxs("select",{value:w,onChange:W=>b(W.target.value),className:"w-full px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-800 dark:text-white",children:[p.jsx("option",{value:"all",children:"All Clients"}),p.jsx("option",{value:"parent",children:"Parent Companies Only"}),p.jsx("option",{value:"location",children:"Store Locations Only"}),p.jsx("option",{value:"unassigned",children:"Unassigned Clients"}),p.jsx("option",{value:"active",children:"Active Only"}),p.jsx("option",{value:"inactive",children:"Inactive Only"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Filter by Parent Company"}),p.jsxs("select",{value:P,onChange:W=>j(W.target.value),className:"w-full px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-800 dark:text-white",children:[p.jsx("option",{value:"all",children:"All Companies"}),re.map(W=>p.jsx("option",{value:W.id,children:W.name},W.id))]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Sort by"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs("select",{value:g,onChange:W=>v(W.target.value),className:"flex-1 px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-800 dark:text-white",children:[p.jsx("option",{value:"name",children:"Name"}),p.jsx("option",{value:"address",children:"Address"}),p.jsx("option",{value:"phone",children:"Phone"}),p.jsx("option",{value:"email",children:"Email"})]}),p.jsx("button",{onClick:()=>E(_==="asc"?"desc":"asc"),className:"px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600",children:_==="asc"?p.jsx(bs,{className:"h-4 w-4"}):p.jsx(vs,{className:"h-4 w-4"})})]})]})]})}),p.jsx("div",{className:"min-h-[400px]",children:ie.length===0?p.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-slate-500 dark:text-slate-400",children:[p.jsx(ap,{className:"h-12 w-12 mb-4"}),p.jsx("h3",{className:"text-lg font-medium mb-2",children:"No clients found"}),p.jsx("p",{className:"text-sm text-center",children:i||w!=="all"||P!=="all"?"Try adjusting your search or filters":"Get started by adding your first client"})]}):p.jsxs(p.Fragment,{children:[R==="hierarchy"&&p.jsx(de,{}),R==="list"&&p.jsx(Se,{}),R==="cards"&&p.jsx(Re,{})]})})]})},Eae=({clients:t,jobs:e,bills:r,inventory:n})=>{const i=z.useMemo(()=>t.map(u=>{const c=e.filter(g=>g.clientId===u.id),f=c.reduce((g,v)=>g+(v.revenue||0),0),h=c.reduce((g,v)=>g+(v.materialCost||0)+(v.laborCost||0),0);return{name:u.name,netProfit:f-h}}).sort((u,c)=>c.netProfit-u.netProfit),[t,e]),a=z.useMemo(()=>{const u={},c=new Date;return c.setMonth(c.getMonth()-12),e.forEach(f=>{if(f.date&&new Date(f.date)>c){const h=new Date(f.date).toISOString().slice(0,7);u[h]||(u[h]={revenue:0,expenses:0}),u[h].revenue+=f.revenue||0}}),r.forEach(f=>{const h=f.createdAt?.toDate?f.createdAt.toDate():new Date;if(h>c){const g=h.toISOString().slice(0,7);u[g]||(u[g]={revenue:0,expenses:0}),u[g].expenses+=f.amount||0}}),Object.keys(u).map(f=>({month:f,Revenue:u[f].revenue,Expenses:u[f].expenses})).sort((f,h)=>f.month.localeCompare(h.month))},[e,r]),s=z.useMemo(()=>n.map(u=>({name:u.name,totalValue:(u.quantity||0)*(u.cost||0)})).sort((u,c)=>c.totalValue-u.totalValue),[n]);return p.jsxs("div",{className:"space-y-8",children:[p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[p.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Revenue vs. Expenses Trend (Last 12 Months)"}),p.jsx(AL,{width:"100%",height:300,children:p.jsxs(xae,{data:a,children:[p.jsx(I$,{strokeDasharray:"3 3"}),p.jsx(Pg,{dataKey:"month",stroke:"#64748b"}),p.jsx(kg,{stroke:"#64748b",tickFormatter:u=>`$${u/1e3}k`}),p.jsx(ci,{contentStyle:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0"},formatter:u=>`$${u.toLocaleString()}`}),p.jsx(As,{}),p.jsx(ko,{dataKey:"Revenue",fill:"#22c55e"}),p.jsx(ko,{dataKey:"Expenses",fill:"#ef4444"})]})})]}),p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[p.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Client Profitability"}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:p.jsxs("tr",{children:[p.jsx("th",{className:"p-3",children:"Client"}),p.jsx("th",{className:"p-3 text-right",children:"Net Profit"})]})}),p.jsx("tbody",{children:i.map(u=>p.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50",children:[p.jsx("td",{className:"p-3 font-medium",children:u.name}),p.jsxs("td",{className:`p-3 text-right font-mono ${u.netProfit>=0?"text-green-600 dark:text-green-400":"text-red-500"}`,children:["$",u.netProfit.toFixed(2)]})]},u.name))})]})})]}),p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[p.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Inventory Value"}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:p.jsxs("tr",{children:[p.jsx("th",{className:"p-3",children:"Item"}),p.jsx("th",{className:"p-3 text-center",children:"Quantity"}),p.jsx("th",{className:"p-3 text-right",children:"Total Value"})]})}),p.jsx("tbody",{children:s.map(u=>p.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50",children:[p.jsx("td",{className:"p-3 font-medium",children:u.name}),p.jsx("td",{className:"p-3 text-center",children:n.find(c=>c.name===u.name)?.quantity}),p.jsxs("td",{className:"p-3 text-right font-mono",children:["$",u.totalValue.toFixed(2)]})]},u.name))})]})})]})]})},Tae=({bills:t,paidStatus:e,onClose:r})=>{const n=z.useMemo(()=>{const i=new Date,a=new Date;return a.setDate(i.getDate()+3),t.filter(s=>{if(e[s.id])return!1;const u=new Date(i.getFullYear(),i.getMonth(),s.dueDay);return u>=i&&u<=a})},[t,e]);return n.length===0?null:p.jsxs("div",{className:"bg-yellow-100 dark:bg-yellow-900/50 border border-yellow-400 dark:border-yellow-700 text-yellow-800 dark:text-yellow-200 px-4 py-3 rounded-lg relative mb-6",role:"alert",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(F9,{size:20,className:"mr-3"}),p.jsxs("div",{children:[p.jsx("strong",{className:"font-bold",children:"Upcoming Bills!"}),p.jsx("ul",{className:"list-disc list-inside mt-1",children:n.map(i=>p.jsxs("li",{children:[i.name," is due on day ",i.dueDay,"."]},i.id))})]})]}),p.jsx("button",{onClick:r,className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:p.jsx(sd,{size:18})})]})},Aae=({data:t,onSliceClick:e})=>{const[r,n]=z.useState(0),i=z.useCallback((s,u)=>{n(u)},[n]),a=s=>{const{cx:u,cy:c,innerRadius:f,outerRadius:h,startAngle:g,endAngle:v,fill:_,payload:E}=s;return p.jsxs("g",{className:"cursor-pointer",onClick:()=>e(E.name),children:[p.jsx("text",{x:u,y:c,dy:8,textAnchor:"middle",fill:_,className:"font-bold text-lg",children:E.name}),p.jsx(aE,{cx:u,cy:c,innerRadius:f,outerRadius:h,startAngle:g,endAngle:v,fill:_})]})};return p.jsx(AL,{width:"100%",height:300,children:p.jsxs(_ae,{children:[p.jsx(ci,{contentStyle:{backgroundColor:"#334155",border:"1px solid #475569",borderRadius:"0.5rem"},labelStyle:{color:"#cbd5e1"},itemStyle:{color:"#f1f5f9"},formatter:s=>`$${s.toFixed(2)}`}),p.jsx(ja,{activeIndex:r,activeShape:a,data:t,cx:"50%",cy:"50%",innerRadius:70,outerRadius:90,fill:"#8884d8",dataKey:"value",onMouseEnter:i,onClick:s=>e(s.name),children:t.map((s,u)=>p.jsx(rg,{fill:s.color},`cell-${u}`))})]})})},Pae=({title:t,data:e,columns:r,type:n,searchTerm:i,setSearchTerm:a,handleImportCSV:s,handleExportCSV:u,openModal:c,handleDelete:f,debtPayoffStrategies:h})=>p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[p.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-4 gap-4",children:[p.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:t}),p.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[p.jsx("input",{type:"text",placeholder:"Search...",value:i,onChange:g=>a(g.target.value),className:"w-full md:w-auto bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white"}),(n==="client"||n==="job"||n==="inventory"||n==="invoice")&&p.jsxs(p.Fragment,{children:[p.jsx("input",{type:"file",id:`csv-importer-${n}`,className:"hidden",accept:".csv",onChange:g=>s(g.target.files[0],n)}),p.jsxs("label",{htmlFor:`csv-importer-${n}`,className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[p.jsx(od,{size:16})," Import CSV"]})]}),p.jsxs("button",{onClick:()=>u(e,n),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[p.jsx(_o,{size:16})," Export to CSV"]}),p.jsxs("button",{onClick:()=>c(n),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[p.jsx(Oa,{size:16})," Add New"]})]})]}),n==="debt"&&h&&p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6 bg-slate-100 dark:bg-slate-800/50 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold text-lg text-cyan-600 dark:text-cyan-400 mb-2",children:"Avalanche Method"}),p.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mb-3",children:"Pay off debts with the highest interest rate first to save the most money over time."}),p.jsx("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:h.avalanche.map(g=>p.jsxs("li",{children:[g.name," ",p.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:["(",g.interestRate,"%)"]})]},g.id))})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold text-lg text-green-600 dark:text-green-400 mb-2",children:"Snowball Method"}),p.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mb-3",children:"Pay off debts with the smallest balance first for quick wins and motivation."}),p.jsx("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:h.snowball.map(g=>p.jsxs("li",{children:[g.name," ",p.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:["($",(g.totalAmount-g.paidAmount).toFixed(2),")"]})]},g.id))})]})]}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:p.jsxs("tr",{children:[r.map(g=>p.jsx("th",{className:`p-3 ${g.className||""}`,children:g.header},g.key)),p.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),p.jsx("tbody",{className:"text-sm",children:e.map(g=>p.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 text-slate-700 dark:text-slate-200",children:[r.map(v=>p.jsx("td",{className:`p-3 ${v.className||""}`,children:v.render(g)},v.key)),p.jsxs("td",{className:"p-3 text-center",children:[p.jsx("button",{onClick:()=>c(n,g),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:p.jsx(Ms,{size:16})}),p.jsx("button",{onClick:()=>f(n,g.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:p.jsx(va,{size:16})})]})]},g.id))})]})})]}),kae=({jobs:t,clients:e,openModal:r,handleDelete:n,searchTerm:i,setSearchTerm:a,handleImportCSV:s,handleExportCSV:u})=>{const c=[{key:"name",header:"Job/Client",render:f=>p.jsx("span",{className:"font-medium",children:f.name})},{key:"client",header:"Client",render:f=>p.jsx("span",{children:e.find(h=>h.id===f.clientId)?.name||"N/A"})},{key:"revenue",header:"Revenue",className:"text-right",render:f=>p.jsxs("span",{className:"font-mono text-green-600 dark:text-green-400",children:["$",(f.revenue||0).toFixed(2)]})},{key:"materialCost",header:"Material Cost",className:"text-right",render:f=>p.jsxs("span",{className:"font-mono text-orange-600 dark:text-orange-400",children:["$",(f.materialCost||0).toFixed(2)]})},{key:"laborCost",header:"Labor Cost",className:"text-right",render:f=>p.jsxs("span",{className:"font-mono text-orange-600 dark:text-orange-400",children:["$",(f.laborCost||0).toFixed(2)]})},{key:"netProfit",header:"Net Profit",className:"text-right font-bold",render:f=>p.jsxs("span",{className:"font-mono text-cyan-600 dark:text-cyan-400",children:["$",((f.revenue||0)-(f.materialCost||0)-(f.laborCost||0)).toFixed(2)]})}];return p.jsx(Pae,{title:"Job Profitability",data:t,columns:c,type:"job",searchTerm:i,setSearchTerm:a,handleImportCSV:s,handleExportCSV:u,openModal:r,handleDelete:n})},Oae=({bills:t,paidStatus:e,selectedCategory:r,setSelectedCategory:n,handleTogglePaid:i,handleSort:a,openModal:s,handleDelete:u,handleEnhancedExportCSV:c})=>{const[f,h]=z.useState(""),[g,v]=z.useState("dueDay"),[_,E]=z.useState("asc"),[w,b]=z.useState("all"),[P,j]=z.useState("all"),[R,V]=z.useState("all"),[O,N]=z.useState(!1),A=new Date,k=new Date(A.getFullYear(),A.getMonth(),A.getDate()-A.getDay()),D=new Date(k.getTime()+6*24*60*60*1e3),I=new Date(D.getTime()+1*24*60*60*1e3),M=new Date(I.getTime()+6*24*60*60*1e3),F=new Date(A.getFullYear(),A.getMonth(),1),L=new Date(A.getFullYear(),A.getMonth()+1,0),te=z.useMemo(()=>{let Q=t.filter(ae=>{if(r&&ae.category!==r||f&&!ae.name.toLowerCase().includes(f.toLowerCase())||w==="paid"&&!e[ae.id]||w==="unpaid"&&e[ae.id]||R==="under100"&&ae.amount>=100||R==="100to500"&&(ae.amount<100||ae.amount>500)||R==="over500"&&ae.amount<=500)return!1;if(P!=="all"&&ae.dueDay){const q=new Date(A.getFullYear(),A.getMonth(),ae.dueDay);switch(q<A&&q.setMonth(q.getMonth()+1),P){case"overdue":if(q>=A)return!1;break;case"thisWeek":if(q<k||q>D)return!1;break;case"nextWeek":if(q<I||q>M)return!1;break;case"thisMonth":if(q<F||q>L)return!1;break}}return!0});return Q.sort((ae,q)=>{let G=ae[g],ue=q[g];g==="status"&&(G=e[ae.id]?"paid":"unpaid",ue=e[q.id]?"paid":"unpaid"),typeof G=="string"&&(G=G.toLowerCase(),ue=ue.toLowerCase());let xe=0;return G<ue&&(xe=-1),G>ue&&(xe=1),_==="desc"?-xe:xe}),Q},[t,r,f,w,P,R,g,_,e,A]),re=Q=>{g===Q?E(_==="asc"?"desc":"asc"):(v(Q),E("asc"))},X=()=>{h(""),v("dueDay"),E("asc"),b("all"),j("all"),V("all"),n(null)},ie=z.useMemo(()=>{let Q=0;return f&&Q++,r&&Q++,w!=="all"&&Q++,P!=="all"&&Q++,R!=="all"&&Q++,Q},[f,r,w,P,R]),J=({type:Q,label:ae})=>{const q=H.useRef(null);return p.jsxs("div",{className:"inline-block",children:[p.jsx("input",{ref:q,type:"file",accept:".csv",onChange:G=>{G.target.files[0]&&(window.handleEnhancedCSVImport?.(G.target.files[0],Q),G.target.value="")},style:{display:"none"}}),p.jsxs("button",{onClick:()=>q.current?.click(),className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[p.jsx(od,{size:16}),ae]})]})};return p.jsxs("div",{className:"lg:col-span-3 bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[p.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 mb-6",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Monthly Bills"}),r&&p.jsxs("button",{onClick:()=>n(null),className:"text-sm text-cyan-500 dark:text-cyan-400 hover:underline",children:["Clear Filter: ",r]}),ie>0&&p.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200",children:[ie," filter",ie!==1?"s":""," active"]})]}),p.jsxs("div",{className:"flex flex-wrap gap-2",children:[p.jsx(J,{type:"bill",label:"Import"}),p.jsxs("button",{onClick:()=>c(te,"bills"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[p.jsx(_o,{size:16})," Export"]})]})]}),p.jsxs("div",{className:"space-y-4 mb-6",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[p.jsxs("div",{className:"flex-1 relative",children:[p.jsx(lS,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),p.jsx("input",{type:"text",placeholder:"Search bills by name...",value:f,onChange:Q=>h(Q.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm focus:ring-2 focus:ring-cyan-500 focus:border-transparent"}),f&&p.jsx("button",{onClick:()=>h(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600",children:p.jsx(sd,{size:16})})]}),p.jsxs("button",{onClick:()=>N(!O),className:`flex items-center gap-2 px-4 py-2 rounded-md border transition-colors ${O?"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-700 text-blue-700 dark:text-blue-300":"border-slate-300 dark:border-slate-600 text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[p.jsx(oS,{size:16}),"Filters",p.jsx(Ap,{className:`transition-transform ${O?"rotate-180":""}`,size:16})]}),ie>0&&p.jsx("button",{onClick:X,className:"px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-md transition-colors",children:"Clear All"})]}),O&&p.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-4 rounded-lg border border-slate-200 dark:border-slate-600",children:[p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Sort By"}),p.jsxs("select",{value:`${g}-${_}`,onChange:Q=>{const[ae,q]=Q.target.value.split("-");v(ae),E(q)},className:"w-full px-3 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[p.jsx("option",{value:"name-asc",children:"Name (A-Z)"}),p.jsx("option",{value:"name-desc",children:"Name (Z-A)"}),p.jsx("option",{value:"dueDay-asc",children:"Due Date (Early)"}),p.jsx("option",{value:"dueDay-desc",children:"Due Date (Late)"}),p.jsx("option",{value:"amount-asc",children:"Amount (Low-High)"}),p.jsx("option",{value:"amount-desc",children:"Amount (High-Low)"}),p.jsx("option",{value:"status-asc",children:"Status (Unpaid First)"}),p.jsx("option",{value:"status-desc",children:"Status (Paid First)"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Payment Status"}),p.jsxs("select",{value:w,onChange:Q=>b(Q.target.value),className:"w-full px-3 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[p.jsx("option",{value:"all",children:"All Bills"}),p.jsx("option",{value:"unpaid",children:"Unpaid Only"}),p.jsx("option",{value:"paid",children:"Paid Only"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Due Date"}),p.jsxs("select",{value:P,onChange:Q=>j(Q.target.value),className:"w-full px-3 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[p.jsx("option",{value:"all",children:"All Dates"}),p.jsx("option",{value:"overdue",children:"Overdue"}),p.jsx("option",{value:"thisWeek",children:"This Week"}),p.jsx("option",{value:"nextWeek",children:"Next Week"}),p.jsx("option",{value:"thisMonth",children:"This Month"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Amount Range"}),p.jsxs("select",{value:R,onChange:Q=>V(Q.target.value),className:"w-full px-3 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[p.jsx("option",{value:"all",children:"All Amounts"}),p.jsx("option",{value:"under100",children:"Under $100"}),p.jsx("option",{value:"100to500",children:"$100 - $500"}),p.jsx("option",{value:"over500",children:"Over $500"})]})]})]}),p.jsx("div",{className:"mt-3 pt-3 border-t border-slate-200 dark:border-slate-600",children:p.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Showing ",te.length," of ",t.length," bills",ie>0&&` with ${ie} filter${ie!==1?"s":""} applied`]})})]})]}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:p.jsxs("tr",{children:[p.jsx("th",{className:"p-3",children:p.jsxs("button",{onClick:()=>re("status"),className:"flex items-center gap-1 hover:text-slate-700 dark:hover:text-slate-300",children:["Status",g==="status"&&(_==="asc"?p.jsx(bs,{size:14}):p.jsx(vs,{size:14}))]})}),p.jsx("th",{className:"p-3",children:p.jsxs("button",{onClick:()=>re("name"),className:"flex items-center gap-1 hover:text-slate-700 dark:hover:text-slate-300",children:["Name",g==="name"&&(_==="asc"?p.jsx(bs,{size:14}):p.jsx(vs,{size:14}))]})}),p.jsx("th",{className:"p-3",children:"Notes"}),p.jsx("th",{className:"p-3",children:"Receipt"}),p.jsx("th",{className:"p-3 text-right",children:p.jsxs("button",{onClick:()=>re("amount"),className:"flex items-center gap-1 ml-auto hover:text-slate-700 dark:hover:text-slate-300",children:["Amount",g==="amount"&&(_==="asc"?p.jsx(bs,{size:14}):p.jsx(vs,{size:14}))]})}),p.jsx("th",{className:"p-3 text-center",children:p.jsxs("button",{onClick:()=>re("dueDay"),className:"flex items-center gap-1 mx-auto hover:text-slate-700 dark:hover:text-slate-300",children:["Due Day",g==="dueDay"&&(_==="asc"?p.jsx(bs,{size:14}):p.jsx(vs,{size:14}))]})}),p.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),p.jsx("tbody",{children:te.length===0?p.jsx("tr",{children:p.jsx("td",{colSpan:"7",className:"p-8 text-center text-slate-500 dark:text-slate-400",children:t.length===0?p.jsxs("div",{children:[p.jsx("p",{className:"text-lg font-medium mb-2",children:"No bills added yet"}),p.jsx("p",{className:"text-sm",children:'Click "Add New Bill" to get started'})]}):p.jsxs("div",{children:[p.jsx("p",{className:"text-lg font-medium mb-2",children:"No bills match your filters"}),p.jsx("p",{className:"text-sm",children:"Try adjusting your search or filter criteria"})]})})}):te.map(Q=>p.jsxs("tr",{className:`border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors ${e[Q.id]?"text-slate-400 dark:text-slate-500":"text-slate-700 dark:text-slate-200"}`,children:[p.jsx("td",{className:"p-3",children:p.jsx("button",{onClick:()=>i(Q.id),className:"hover:scale-110 transition-transform",children:e[Q.id]?p.jsx(W_,{className:"text-green-500",size:20}):p.jsx(SM,{className:"text-slate-400 dark:text-slate-600",size:20})})}),p.jsxs("td",{className:`p-3 font-medium ${e[Q.id]?"line-through":""}`,children:[Q.name,Q.category&&p.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:Q.category})]}),p.jsx("td",{className:"p-3 text-center",children:Q.notes&&p.jsxs("div",{className:"group relative flex justify-center",children:[p.jsx(EM,{size:16,className:"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}),p.jsx("span",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 text-xs text-white bg-slate-700 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:Q.notes})]})}),p.jsx("td",{className:"p-3 text-center",children:Q.attachmentURL?p.jsx("a",{href:Q.attachmentURL,target:"_blank",rel:"noopener noreferrer",className:"hover:scale-110 transition-transform inline-block",children:p.jsx(ak,{size:16,className:"text-cyan-500 dark:text-cyan-400"})}):p.jsx(ak,{size:16,className:"text-slate-400 dark:text-slate-600"})}),p.jsxs("td",{className:"p-3 text-right font-mono font-semibold",children:["$",(Q.amount||0).toFixed(2)]}),p.jsx("td",{className:"p-3 text-center font-medium",children:Q.dueDay}),p.jsx("td",{className:"p-3 text-center",children:p.jsxs("div",{className:"flex items-center justify-center gap-1",children:[p.jsx("button",{onClick:()=>s("bill",Q),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 p-1 rounded transition-colors",title:"Edit bill",children:p.jsx(Ms,{size:16})}),p.jsx("button",{onClick:()=>u("bill",Q.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500 p-1 rounded transition-colors",title:"Delete bill",children:p.jsx(va,{size:16})})]})})]},Q.id))})]})}),p.jsxs("button",{onClick:()=>s("bill"),className:"mt-4 flex items-center gap-2 text-cyan-600 dark:text-cyan-400 hover:text-cyan-500 dark:hover:text-cyan-300 font-semibold transition-colors",children:[p.jsx(Oa,{size:18}),"Add New Bill"]})]})},Iae=({type:t,label:e,acceptTypes:r=".csv"})=>{const n=H.useRef(null);return p.jsxs("div",{className:"inline-block",children:[p.jsx("input",{ref:n,type:"file",accept:r,onChange:i=>{i.target.files[0]&&(window.handleEnhancedCSVImport?.(i.target.files[0],t),i.target.value="")},style:{display:"none"}}),p.jsxs("button",{onClick:()=>n.current?.click(),className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[p.jsx(od,{size:16}),e]})]})},Cae=({recurringWork:t,openModal:e,handleDelete:r,handleEnhancedExportCSV:n,searchTerm:i,setSearchTerm:a})=>{const s=H.useMemo(()=>t.filter(u=>Object.values(u).some(c=>String(c).toLowerCase().includes(i.toLowerCase()))),[t,i]);return p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[p.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Recurring Work Management"}),p.jsxs("div",{className:"flex flex-wrap gap-2",children:[p.jsx(Iae,{type:"recurring",label:"Import"}),p.jsxs("button",{onClick:()=>n(t,"recurring_work",["name","clientId","revenue","frequency","nextDueDate","notes"]),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[p.jsx(_o,{size:16}),"Export"]}),p.jsxs("button",{onClick:()=>e("recurring"),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg transition-colors",children:[p.jsx(Oa,{size:18}),"Add Recurring Work"]})]})]}),p.jsx("div",{className:"mb-4",children:p.jsx("input",{type:"text",placeholder:"Search recurring work...",value:i,onChange:u=>a(u.target.value),className:"w-full px-4 py-2 border rounded-md bg-white dark:bg-slate-700 border-slate-300 dark:border-slate-600 focus:ring-cyan-500 focus:border-cyan-500"})}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:p.jsxs("tr",{children:[p.jsx("th",{className:"p-3",children:"Work Name"}),p.jsx("th",{className:"p-3",children:"Client ID"}),p.jsx("th",{className:"p-3 text-right",children:"Revenue"}),p.jsx("th",{className:"p-3",children:"Frequency"}),p.jsx("th",{className:"p-3",children:"Next Due Date"}),p.jsx("th",{className:"p-3",children:"Notes"}),p.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),p.jsx("tbody",{children:s.length>0?s.map(u=>p.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[p.jsx("td",{className:"p-3 font-medium",children:u.name}),p.jsx("td",{className:"p-3",children:u.clientId}),p.jsxs("td",{className:"p-3 text-right font-mono",children:["$",(u.revenue||0).toFixed(2)]}),p.jsx("td",{className:"p-3",children:u.frequency}),p.jsx("td",{className:"p-3",children:u.nextDueDate}),p.jsx("td",{className:"p-3 text-sm text-slate-500",children:u.notes}),p.jsxs("td",{className:"p-3 text-center",children:[p.jsx("button",{onClick:()=>e("recurring",u),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:p.jsx(Ms,{size:16})}),p.jsx("button",{onClick:()=>r("recurring",u.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:p.jsx(va,{size:16})})]})]},u.id)):p.jsx("tr",{children:p.jsx("td",{colSpan:"7",className:"p-6 text-center text-slate-500",children:"No recurring work found."})})})]})})]})},Nae=({currentView:t,setCurrentView:e,onAddOrderClick:r})=>p.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-10",children:p.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[t!=="dashboard"?p.jsx("button",{onClick:()=>e("dashboard"),className:"p-2 rounded-full hover:bg-gray-100",children:p.jsx(M9,{size:24})}):p.jsx(fS,{className:"h-8 w-8 text-blue-600"}),p.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"HVAC Dispatch"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("button",{onClick:()=>e("billing"),className:"flex items-center gap-2 text-gray-600 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[p.jsx(_o,{size:20})," Billing"]}),p.jsxs("button",{onClick:()=>e("reporting"),className:"flex items-center gap-2 text-gray-600 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[p.jsx(V9,{size:20})," Reporting"]}),p.jsxs("button",{onClick:()=>e("route"),className:"flex items-center gap-2 text-gray-600 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[p.jsx(K9,{size:20})," Route"]}),p.jsxs("button",{onClick:()=>e("dispatch"),className:"flex items-center gap-2 text-gray-600 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[p.jsx(aS,{size:20})," Dispatch"]}),p.jsxs("button",{onClick:()=>e("customers"),className:"flex items-center gap-2 text-gray-600 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[p.jsx(ap,{size:20})," Customers"]}),p.jsxs("button",{onClick:()=>e("technicians"),className:"flex items-center gap-2 text-gray-600 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[p.jsx(cS,{size:20})," Technicians"]}),p.jsxs("button",{onClick:r,className:"flex items-center gap-2 bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:[p.jsx(Oa,{size:20})," Add Work Order"]})]})]})})}),jae=t=>t&&typeof t=="number"?new Date(Math.round((t-25569)*86400*1e3)):null,Rae=t=>{const e=jae(t);return e?e.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):null},Dae=t=>{if(!t)return"";const[e,r]=t.split(":"),n=parseInt(e,10),i=n>=12?"PM":"AM";return`${(n+11)%12+1}:${r} ${i}`},tR=t=>({emergency:"bg-red-100 text-red-800 border-red-500",urgent:"bg-orange-100 text-orange-800 border-orange-500",regular:"bg-blue-100 text-blue-800 border-blue-500",low:"bg-gray-100 text-gray-800 border-gray-500"})[t?.toLowerCase()]||"bg-gray-100 text-gray-800 border-gray-500",Mae=t=>({completed:"bg-green-100 text-green-800",scheduled:"bg-blue-100 text-blue-800",open:"bg-yellow-100 text-yellow-800","in progress":"bg-purple-100 text-purple-800","on hold":"bg-pink-100 text-pink-800",cancelled:"bg-red-100 text-red-800"})[t?.toLowerCase()]||"bg-gray-100 text-gray-800",Lae=({order:t,onSelectOrder:e})=>p.jsxs("div",{className:"bg-white rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300 overflow-hidden border-l-4",style:{borderColor:tR(t.Priority).borderColor},children:[p.jsxs("div",{className:"p-5",children:[p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsx("span",{className:`text-xs font-bold uppercase px-2 py-1 rounded-full ${tR(t.Priority)}`,children:t.Priority}),p.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full ${Mae(t["Order Status"])}`,children:t["Order Status"]})]}),p.jsxs("p",{className:"text-xs text-gray-500 font-semibold mt-3 flex items-center",children:[p.jsx(wM,{size:12,className:"mr-1.5"})," ",t.Client]}),p.jsxs("h3",{className:"text-lg font-bold text-gray-800",children:[t.Company," - #",t["Loc #"]]}),p.jsx("p",{className:"text-sm text-gray-500 font-medium",children:t.Task}),p.jsxs("div",{className:"mt-4 space-y-2 text-sm text-gray-600",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(cS,{className:"w-4 h-4 mr-2 text-gray-400"}),p.jsx("span",{children:t.technician?.join(", ")||"Unassigned"})]}),p.jsxs("div",{className:"flex items-center",children:[p.jsx(aS,{className:"w-4 h-4 mr-2 text-gray-400"}),p.jsxs("span",{children:["Scheduled: ",Rae(t["Schedule Date"])||"Not Set"," ",t.startTime&&`(${Dae(t.startTime)})`]})]}),t.clientWO&&p.jsxs("div",{className:"flex items-center",children:[p.jsx("span",{className:"font-bold mr-2",children:"Client WO:"}),p.jsx("span",{children:t.clientWO})]})]})]}),p.jsx("div",{className:"bg-gray-50 px-5 py-3",children:p.jsx("button",{onClick:()=>e(t),className:"w-full text-sm font-semibold text-blue-600 hover:text-blue-800 transition-colors",children:"View Details"})})]}),$ae=({orders:t,onSelectOrder:e,searchTerm:r,setSearchTerm:n,statusFilter:i,setStatusFilter:a})=>p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-8",children:p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[p.jsxs("div",{className:"relative md:col-span-2",children:[p.jsx(lS,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),p.jsx("input",{type:"text",placeholder:"Search by WO#, Client, Location, Tech...",value:r,onChange:s=>n(s.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),p.jsxs("div",{className:"relative",children:[p.jsx(oS,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),p.jsxs("select",{value:i,onChange:s=>a(s.target.value),className:"w-full appearance-none pl-10 pr-8 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white",children:[p.jsx("option",{children:"All"}),p.jsx("option",{children:"Open"}),p.jsx("option",{children:"Scheduled"}),p.jsx("option",{children:"In Progress"}),p.jsx("option",{children:"On Hold"}),p.jsx("option",{children:"Completed"}),p.jsx("option",{children:"Cancelled"})]}),p.jsx(Ap,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",size:20})]})]})}),t.length>0?p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(s=>p.jsx(Lae,{order:s,onSelectOrder:e},s.id))}):p.jsxs("div",{className:"text-center py-16 px-6 bg-white rounded-lg shadow-sm",children:[p.jsx("h3",{className:"text-xl font-semibold text-gray-700",children:"No Work Orders Found"}),p.jsx("p",{className:"text-gray-500 mt-2",children:"Try adjusting your search or filter criteria."})]})]}),Vae=t=>t&&typeof t=="number"?new Date(Math.round((t-25569)*86400*1e3)):null,Fae=t=>t?t.getTime()/864e5+25569:null,Uae=t=>{const e=Vae(t);return e?e.toISOString().split("T")[0]:""},Bae=t=>t?Fae(new Date(t+"T00:00:00")):null,rR=t=>({emergency:"bg-red-100 text-red-800 border-red-500",urgent:"bg-orange-100 text-orange-800 border-orange-500",regular:"bg-blue-100 text-blue-800 border-blue-500",low:"bg-gray-100 text-gray-800 border-gray-500"})[t?.toLowerCase()]||"bg-gray-100 text-gray-800 border-gray-500",qae=t=>({available:"bg-green-100 text-green-800","on site":"bg-blue-100 text-blue-800","en route":"bg-yellow-100 text-yellow-800","on break":"bg-gray-100 text-gray-800","on call":"bg-teal-100 text-teal-800","day off":"bg-slate-200 text-slate-800"})[t?.toLowerCase()]||"bg-gray-100 text-gray-800",zae=({workOrders:t,technicians:e,onSelectOrder:r,onUpdateOrder:n})=>{const[i,a]=z.useState(new Date().toISOString().split("T")[0]),s=Array.from({length:13},(b,P)=>P+7),u=e.filter(b=>b.name!=="Unassigned"),c=b=>{const P=u.findIndex(j=>j.name===b);return P===-1?-1:P+2},f=b=>{if(!b)return 0;const[P,j]=b.split(":").map(Number);return isNaN(P)||isNaN(j)?0:(P-7)*4+j/15+2},h=t.filter(b=>Uae(b["Schedule Date"])===i&&b.startTime&&b.endTime&&b.technician?.length>0),g=t.filter(b=>b["Order Status"]==="Open"||!b.technician||b.technician.length===0).sort((b,P)=>{const j={Emergency:1,Urgent:2,Regular:3,Low:4};return(j[b.Priority]||5)-(j[P.Priority]||5)}),v=(b,P)=>{b.dataTransfer.setData("workOrder",JSON.stringify(P))},_=(b,P,j)=>{b.preventDefault();const R=JSON.parse(b.dataTransfer.getData("workOrder")),V=j,O=`${String(parseInt(j.split(":")[0])+2).padStart(2,"0")}:${j.split(":")[1]}`;n(R.id,{...R,technician:[P],"Schedule Date":Bae(i),startTime:V,endTime:O,"Order Status":"Scheduled"})},E=b=>{b.preventDefault();const P=JSON.parse(b.dataTransfer.getData("workOrder"));n(P.id,{...P,technician:[],"Schedule Date":null,startTime:null,endTime:null,"Order Status":"Open"})},w=b=>b.preventDefault();return p.jsxs("div",{className:"flex flex-col gap-4",children:[p.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm flex justify-between items-center",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Dispatch Board"}),p.jsx("input",{type:"date",value:i,onChange:b=>a(b.target.value),className:"p-2 border border-gray-300 rounded-lg"})]}),p.jsxs("div",{className:"flex gap-4",children:[p.jsxs("div",{className:"w-1/4 bg-white p-4 rounded-lg shadow-sm",onDrop:E,onDragOver:w,children:[p.jsx("h3",{className:"text-lg font-bold mb-4",children:"Unassigned Jobs"}),p.jsx("div",{className:"space-y-2 max-h-[70vh] overflow-y-auto",children:g.map(b=>p.jsxs("div",{draggable:!0,onDragStart:P=>v(P,b),className:`p-2 border-l-4 rounded cursor-grab ${rR(b.Priority)}`,children:[p.jsx("p",{className:"font-bold text-sm",children:b.Company}),p.jsx("p",{className:"text-xs text-gray-600",children:b.Task})]},b.id))})]}),p.jsx("div",{className:"w-3/4 bg-white p-4 rounded-lg shadow-sm overflow-x-auto",children:p.jsxs("div",{className:"grid gap-px bg-gray-200 min-w-max",style:{gridTemplateColumns:`60px repeat(${u.length}, minmax(200px, 1fr))`,gridTemplateRows:`auto repeat(${s.length*4}, 20px)`},children:[p.jsx("div",{className:"bg-gray-100 sticky top-0 z-10"}),u.map(b=>p.jsxs("div",{className:"bg-gray-100 text-center font-bold p-2 sticky top-0 z-10 flex flex-col",children:[p.jsx("span",{children:b.name}),p.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full mt-1 ${qae(b.status)}`,children:b.status})]},b.id)),s.map(b=>p.jsxs(H.Fragment,{children:[p.jsxs("div",{className:"row-start-auto bg-gray-50 text-right pr-2 text-xs text-gray-500 -translate-y-2 sticky left-0 z-10",style:{gridRow:(b-7)*4+2},children:[b>12?b-12:b,":00 ",b>=12?"PM":"AM"]}),u.map((P,j)=>p.jsx(H.Fragment,{children:Array.from({length:4}).map((R,V)=>p.jsx("div",{onDrop:O=>_(O,P.name,`${String(b).padStart(2,"0")}:${String(V*15).padStart(2,"0")}`),onDragOver:w,className:"border-t border-gray-200",style:{gridRow:(b-7)*4+V+2,gridColumn:j+2}},`${P.id}-${b}-${V}`))},P.id))]},b)),h.flatMap(b=>b.technician.map(P=>{const j=c(P),R=f(b.startTime),V=f(b.endTime);return j<0||!R||!V||V<=R?null:p.jsxs("div",{draggable:!0,onDragStart:O=>v(O,b),className:`p-2 m-px rounded-lg text-xs cursor-grab overflow-hidden ${rR(b.Priority)}`,style:{gridColumn:j,gridRow:`${R} / ${V}`},onClick:()=>r(b),children:[p.jsx("p",{className:"font-bold truncate",children:b.Company}),p.jsx("p",{className:"truncate",children:b.Task})]},`${b.id}-${P}`)}))]})})]})]})},Wae=t=>({"national account":"bg-blue-100 text-blue-800",commercial:"bg-purple-100 text-purple-800",residential:"bg-green-100 text-green-800",maintenance:"bg-yellow-100 text-yellow-800"})[t?.toLowerCase()]||"bg-gray-100 text-gray-800",Hae=({onClose:t,onAddCustomer:e})=>{const[r,n]=z.useState(""),[i,a]=z.useState("Commercial"),[s,u]=z.useState(""),[c,f]=z.useState(""),[h,g]=z.useState(""),[v,_]=z.useState(""),[E,w]=z.useState(""),[b,P]=z.useState("MI"),[j,R]=z.useState(""),V=O=>{if(O.preventDefault(),!r.trim()){alert("Customer name cannot be empty.");return}e({name:r,type:i,contact:{name:s,email:c,phone:h},billingAddress:{street:v,city:E,state:b,zip:j},locations:[]}),t()};return p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:p.jsxs("form",{onSubmit:V,className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[p.jsx("div",{className:"p-6 border-b",children:p.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Add New Customer"})}),p.jsxs("div",{className:"p-6 overflow-y-auto space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Customer Name"}),p.jsx("input",{type:"text",value:r,onChange:O=>n(O.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Customer Type"}),p.jsxs("select",{value:i,onChange:O=>a(O.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",children:[p.jsx("option",{children:"Commercial"}),p.jsx("option",{children:"Residential"}),p.jsx("option",{children:"National Account"}),p.jsx("option",{children:"Maintenance"})]})]})]}),p.jsxs("div",{className:"pt-4 border-t",children:[p.jsx("h3",{className:"font-semibold",children:"Primary Contact"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-2",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-xs",children:"Name"}),p.jsx("input",{value:s,onChange:O=>u(O.target.value),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs",children:"Email"}),p.jsx("input",{value:c,onChange:O=>f(O.target.value),type:"email",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs",children:"Phone"}),p.jsx("input",{value:h,onChange:O=>g(O.target.value),type:"tel",className:"w-full p-2 border border-gray-300 rounded-lg"})]})]})]}),p.jsxs("div",{className:"pt-4 border-t",children:[p.jsx("h3",{className:"font-semibold",children:"Billing Address"}),p.jsxs("div",{className:"mt-2",children:[p.jsx("label",{className:"text-xs",children:"Street"}),p.jsx("input",{value:v,onChange:O=>_(O.target.value),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-2",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-xs",children:"City"}),p.jsx("input",{value:E,onChange:O=>w(O.target.value),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs",children:"State"}),p.jsx("input",{value:b,onChange:O=>P(O.target.value),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs",children:"Zip"}),p.jsx("input",{value:j,onChange:O=>R(O.target.value),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]})]})]})]}),p.jsxs("div",{className:"p-6 bg-gray-50 border-t flex justify-end gap-4",children:[p.jsx("button",{type:"button",onClick:t,className:"text-gray-700 font-bold py-2 px-4",children:"Cancel"}),p.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-green-700",children:"Save Customer"})]})]})})},Kae=({customer:t,onClose:e,onUpdateCustomer:r})=>{const[n,i]=z.useState(t),a=(u,c=null)=>{const{name:f,value:h}=u.target;i(c?g=>({...g,[c]:{...g[c],[f]:h}}):g=>({...g,[f]:h}))},s=u=>{u.preventDefault(),r(n),e()};return p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:p.jsxs("form",{onSubmit:s,className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[p.jsx("div",{className:"p-6 border-b",children:p.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Edit Customer"})}),p.jsxs("div",{className:"p-6 overflow-y-auto space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Customer Name"}),p.jsx("input",{type:"text",name:"name",value:n.name,onChange:a,className:"w-full p-2 border border-gray-300 rounded-lg",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Customer Type"}),p.jsxs("select",{name:"type",value:n.type,onChange:a,className:"w-full p-2 border border-gray-300 rounded-lg",children:[p.jsx("option",{children:"Commercial"}),p.jsx("option",{children:"Residential"}),p.jsx("option",{children:"National Account"}),p.jsx("option",{children:"Maintenance"})]})]})]}),p.jsxs("div",{className:"pt-4 border-t",children:[p.jsx("h3",{className:"font-semibold",children:"Primary Contact"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-2",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-xs",children:"Name"}),p.jsx("input",{name:"name",value:n.contact.name,onChange:u=>a(u,"contact"),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs",children:"Email"}),p.jsx("input",{name:"email",value:n.contact.email,onChange:u=>a(u,"contact"),type:"email",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs",children:"Phone"}),p.jsx("input",{name:"phone",value:n.contact.phone,onChange:u=>a(u,"contact"),type:"tel",className:"w-full p-2 border border-gray-300 rounded-lg"})]})]})]}),p.jsxs("div",{className:"pt-4 border-t",children:[p.jsx("h3",{className:"font-semibold",children:"Billing Address"}),p.jsxs("div",{className:"mt-2",children:[p.jsx("label",{className:"text-xs",children:"Street"}),p.jsx("input",{name:"street",value:n.billingAddress.street,onChange:u=>a(u,"billingAddress"),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-2",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-xs",children:"City"}),p.jsx("input",{name:"city",value:n.billingAddress.city,onChange:u=>a(u,"billingAddress"),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs",children:"State"}),p.jsx("input",{name:"state",value:n.billingAddress.state,onChange:u=>a(u,"billingAddress"),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs",children:"Zip"}),p.jsx("input",{name:"zip",value:n.billingAddress.zip,onChange:u=>a(u,"billingAddress"),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]})]})]})]}),p.jsxs("div",{className:"p-6 bg-gray-50 border-t flex justify-end gap-4",children:[p.jsx("button",{type:"button",onClick:e,className:"text-gray-700 font-bold py-2 px-4",children:"Cancel"}),p.jsx("button",{type:"submit",className:"bg-blue-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-blue-700",children:"Save Changes"})]})]})})},Gae=({customer:t,onClose:e,onAddLocation:r})=>{const[n,i]=z.useState(""),[a,s]=z.useState(""),[u,c]=z.useState(""),[f,h]=z.useState("MI"),g=v=>{if(v.preventDefault(),!n.trim()){alert("Location name cannot be empty.");return}r(t.id,{name:n,locNum:a,city:u,state:f}),e()};return p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:p.jsxs("form",{onSubmit:g,className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[p.jsx("div",{className:"p-6 border-b",children:p.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:["Add Location to ",t.name]})}),p.jsxs("div",{className:"p-6 space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Location Name"}),p.jsx("input",{type:"text",value:n,onChange:v=>i(v.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Location #"}),p.jsx("input",{type:"text",value:a,onChange:v=>s(v.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"City"}),p.jsx("input",{type:"text",value:u,onChange:v=>c(v.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"State"}),p.jsx("input",{type:"text",value:f,onChange:v=>h(v.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]})]})]}),p.jsxs("div",{className:"p-6 bg-gray-50 border-t flex justify-end gap-4",children:[p.jsx("button",{type:"button",onClick:e,className:"text-gray-700 font-bold py-2 px-4",children:"Cancel"}),p.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-green-700",children:"Add Location"})]})]})})},Yae=({customers:t,onAddCustomer:e,onUpdateCustomer:r,onAddLocation:n})=>{const[i,a]=z.useState(!1),[s,u]=z.useState(null),[c,f]=z.useState(null);return p.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Customer Management"}),p.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-2 bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:[p.jsx(Oa,{size:20})," Add New Customer"]})]}),p.jsx("div",{className:"space-y-4",children:t.map(h=>p.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("h3",{className:"text-lg font-bold text-gray-900",children:h.name}),p.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full ${Wae(h.type)}`,children:h.type})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("button",{onClick:()=>u(h),className:"text-sm text-blue-600 hover:underline",children:"Edit Details"}),p.jsx("button",{onClick:()=>f(h),className:"text-sm text-green-600 hover:underline",children:"Add Location"})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[p.jsxs("div",{className:"text-sm",children:[p.jsx("p",{className:"font-semibold text-gray-600",children:"Primary Contact"}),p.jsxs("p",{className:"flex items-center gap-2",children:[p.jsx(cS,{size:14})," ",h.contact.name]}),p.jsxs("p",{className:"flex items-center gap-2",children:[p.jsx(Pp,{size:14})," ",h.contact.email]}),p.jsxs("p",{className:"flex items-center gap-2",children:[p.jsx(kp,{size:14})," ",h.contact.phone]})]}),p.jsxs("div",{className:"text-sm",children:[p.jsx("p",{className:"font-semibold text-gray-600",children:"Billing Address"}),p.jsx("p",{children:h.billingAddress.street}),p.jsxs("p",{children:[h.billingAddress.city,", ",h.billingAddress.state," ",h.billingAddress.zip]})]})]}),p.jsxs("div",{className:"mt-3 pt-3 border-t",children:[p.jsxs("h4",{className:"text-sm font-semibold text-gray-600 mb-1",children:["Service Locations (",h.locations.length,")"]}),p.jsx("div",{className:"pl-4 border-l-2 space-y-1",children:h.locations.map((g,v)=>p.jsxs("div",{className:"text-sm text-gray-700",children:[p.jsx("span",{className:"font-semibold",children:g.name})," (#",g.locNum,") - ",g.city,", ",g.state]},`${g.name}-${g.locNum}-${v}`))})]})]},h.id))}),i&&p.jsx(Hae,{onAddCustomer:e,onClose:()=>a(!1)}),s&&p.jsx(Kae,{customer:s,onUpdateCustomer:r,onClose:()=>u(null)}),c&&p.jsx(Gae,{customer:c,onAddLocation:n,onClose:()=>f(null)})]})},Xae=({onClose:t,onAdd:e})=>{const[r,n]=z.useState(""),[i,a]=z.useState(""),[s,u]=z.useState(""),c=f=>{f.preventDefault(),r.trim()&&(e({name:r,email:i,phone:s,status:"Available"}),t())};return p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:p.jsxs("form",{onSubmit:c,className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[p.jsx("div",{className:"p-6 border-b",children:p.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Add New Technician"})}),p.jsxs("div",{className:"p-6 space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Name"}),p.jsx("input",{type:"text",value:r,onChange:f=>n(f.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Email"}),p.jsx("input",{type:"email",value:i,onChange:f=>a(f.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Phone"}),p.jsx("input",{type:"tel",value:s,onChange:f=>u(f.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]})]}),p.jsxs("div",{className:"p-6 bg-gray-50 border-t flex justify-end gap-4",children:[p.jsx("button",{type:"button",onClick:t,className:"text-gray-700 font-bold py-2 px-4",children:"Cancel"}),p.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-green-700",children:"Save Technician"})]})]})})},Qae=({technician:t,onClose:e,onUpdate:r})=>{const[n,i]=z.useState(t),a=u=>i(c=>({...c,[u.target.name]:u.target.value})),s=u=>{u.preventDefault(),r(n),e()};return p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:p.jsxs("form",{onSubmit:s,className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[p.jsx("div",{className:"p-6 border-b",children:p.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Edit Technician"})}),p.jsxs("div",{className:"p-6 space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Name"}),p.jsx("input",{type:"text",name:"name",value:n.name,onChange:a,className:"w-full p-2 border border-gray-300 rounded-lg",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Email"}),p.jsx("input",{type:"email",name:"email",value:n.email,onChange:a,className:"w-full p-2 border border-gray-300 rounded-lg"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Phone"}),p.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:a,className:"w-full p-2 border border-gray-300 rounded-lg"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Status"}),p.jsxs("select",{name:"status",value:n.status,onChange:a,className:"w-full p-2 border border-gray-300 rounded-lg",children:[p.jsx("option",{children:"Available"}),p.jsx("option",{children:"En Route"}),p.jsx("option",{children:"On Site"}),p.jsx("option",{children:"On Break"}),p.jsx("option",{children:"On Call"}),p.jsx("option",{children:"Day Off"})]})]})]}),p.jsxs("div",{className:"p-6 bg-gray-50 border-t flex justify-end gap-4",children:[p.jsx("button",{type:"button",onClick:e,className:"text-gray-700 font-bold py-2 px-4",children:"Cancel"}),p.jsx("button",{type:"submit",className:"bg-blue-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-blue-700",children:"Save Changes"})]})]})})},Jae=({technicians:t,onAddTechnician:e,onUpdateTechnician:r,onDeleteTechnician:n})=>{const[i,a]=z.useState(!1),[s,u]=z.useState(null);return p.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Technician Management"}),p.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-2 bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:[p.jsx(Oa,{size:20})," Add New Technician"]})]}),p.jsx("div",{className:"space-y-4",children:t.map(c=>p.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-bold text-gray-900",children:c.name}),p.jsxs("div",{className:"text-sm text-gray-600 flex items-center gap-4 mt-1",children:[p.jsxs("span",{className:"flex items-center gap-1.5",children:[p.jsx(Pp,{size:14})," ",c.email]}),p.jsxs("span",{className:"flex items-center gap-1.5",children:[p.jsx(kp,{size:14})," ",c.phone]})]})]}),c.name!=="Unassigned"&&p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("button",{onClick:()=>u(c),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-full",children:p.jsx(Ms,{size:16})}),p.jsx("button",{onClick:()=>n(c.id),className:"p-2 text-red-600 hover:bg-red-100 rounded-full",children:p.jsx(va,{size:16})})]})]},c.id))}),i&&p.jsx(Xae,{onAdd:e,onClose:()=>a(!1)}),s&&p.jsx(Qae,{technician:s,onUpdate:r,onClose:()=>u(null)})]})},W$=t=>t&&typeof t=="number"?new Date(Math.round((t-25569)*86400*1e3)):null,Zae=t=>{const e=W$(t);return e?e.toISOString().split("T")[0]:""},Yh=t=>{if(!t)return"";const[e,r]=t.split(":"),n=parseInt(e,10),i=n>=12?"PM":"AM";return`${(n+11)%12+1}:${r} ${i}`},eoe=({workOrders:t,technicians:e})=>{const[r,n]=z.useState("ALL"),[i,a]=z.useState("today"),[s,u]=z.useState(new Date().toISOString().split("T")[0]),[c,f]=z.useState(new Date().toISOString().split("T")[0]),h=z.useMemo(()=>{let _=new Date,E=new Date;switch(i){case"today":_.setHours(0,0,0,0),E.setHours(23,59,59,999);break;case"3-day":_.setHours(0,0,0,0),E.setDate(_.getDate()+2),E.setHours(23,59,59,999);break;case"week":const P=_.getDay();_.setDate(_.getDate()-P),_.setHours(0,0,0,0),E.setDate(_.getDate()+6),E.setHours(23,59,59,999);break;case"custom":_=new Date(s+"T00:00:00"),E=new Date(c+"T23:59:59");break}const w=t.filter(P=>{const j=W$(P["Schedule Date"]);return j&&j>=_&&j<=E}),b=e.find(P=>P.id===r)?.name;return r!=="ALL"?w.filter(P=>P.technician.includes(b)).sort((P,j)=>(P.startTime||"").localeCompare(j.startTime||"")):w.sort((P,j)=>(P.startTime||"").localeCompare(j.startTime||""))},[r,t,e,i,s,c]),g=z.useMemo(()=>h.reduce((_,E)=>{const w=Zae(E["Schedule Date"]);return _[w]||(_[w]={}),E.technician.forEach(b=>{_[w][b]||(_[w][b]=[]),_[w][b].push(E)}),_},{}),[h]),v=()=>window.print();return p.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6 print:hidden",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Route Planning"}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs("select",{value:i,onChange:_=>a(_.target.value),className:"p-2 border border-gray-300 rounded-lg",children:[p.jsx("option",{value:"today",children:"Today"}),p.jsx("option",{value:"3-day",children:"Next 3 Days"}),p.jsx("option",{value:"week",children:"This Week"}),p.jsx("option",{value:"custom",children:"Custom Range"})]}),i==="custom"&&p.jsxs(p.Fragment,{children:[p.jsx("input",{type:"date",value:s,onChange:_=>u(_.target.value),className:"p-2 border border-gray-300 rounded-lg"}),p.jsx("input",{type:"date",value:c,onChange:_=>f(_.target.value),className:"p-2 border border-gray-300 rounded-lg"})]}),p.jsxs("select",{value:r,onChange:_=>n(_.target.value==="ALL"?"ALL":Number(_.target.value)),className:"p-2 border border-gray-300 rounded-lg",children:[p.jsx("option",{value:"ALL",children:"All Technicians"}),e.filter(_=>_.name!=="Unassigned").map(_=>p.jsx("option",{value:_.id,children:_.name},_.id))]}),p.jsxs("button",{onClick:v,className:"flex items-center gap-2 bg-gray-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-700",children:[p.jsx(X9,{size:20})," Print Route"]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[p.jsxs("div",{className:"md:col-span-1 print:col-span-3",children:[p.jsx("h3",{className:"font-bold text-lg mb-2",children:"Job Order"}),Object.keys(g).length>0?Object.entries(g).map(([_,E])=>p.jsxs("div",{className:"mb-4",children:[p.jsx("h4",{className:"font-bold text-xl mb-2 p-2 bg-gray-200 rounded-md sticky top-20",children:new Date(_+"T00:00:00").toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"})}),Object.entries(E).map(([w,b])=>p.jsxs("div",{className:"mb-4",children:[r==="ALL"&&p.jsx("h5",{className:"font-bold text-md mb-2 p-2 bg-gray-100 rounded-md",children:w}),p.jsx("div",{className:"space-y-2",children:b.map((P,j)=>p.jsxs("div",{className:"p-3 border rounded-lg flex items-center gap-4",children:[p.jsx("span",{className:"text-xl font-bold text-gray-400",children:j+1}),p.jsxs("div",{children:[p.jsxs("p",{className:"font-bold",children:[Yh(P.startTime)," - ",Yh(P.endTime)]}),p.jsxs("p",{children:[P.Company," - ",P.City]}),p.jsx("p",{className:"text-sm text-gray-600",children:P.Task})]})]},P.id))})]},w))]},_)):p.jsx("p",{children:"No jobs scheduled for this selection."})]}),p.jsx("div",{className:"md:col-span-2 bg-gray-200 rounded-lg flex items-center justify-center h-96 print:hidden",children:p.jsx("p",{className:"text-gray-500",children:"Map Placeholder"})})]}),p.jsx("style",{children:"@media print { body * { visibility: hidden; } .print-container, .print-container * { visibility: visible; } .print-container { position: absolute; left: 0; top: 0; width: 100%; } }"}),p.jsxs("div",{className:"print-container hidden print:block",children:[p.jsxs("h2",{className:"text-2xl font-bold mb-4",children:["Route for ",r==="ALL"?"All Technicians":e.find(_=>_.id===r)?.name," on ",new Date(s+"T00:00:00").toLocaleDateString()]}),Object.entries(g).map(([_,E])=>p.jsxs("div",{className:"mb-4",children:[p.jsx("h3",{className:"font-bold text-lg mt-4 border-t pt-2",children:new Date(_+"T00:00:00").toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"})}),Object.entries(E).map(([w,b])=>p.jsxs("div",{className:"mb-2",children:[p.jsx("h4",{className:"font-semibold text-md mt-2",children:w}),b.map((P,j)=>p.jsxs("div",{className:"p-2 border-b",children:[p.jsx("p",{children:p.jsxs("strong",{children:[j+1,". ",Yh(P.startTime)," - ",Yh(P.endTime),": ",P.Company]})}),p.jsxs("p",{children:[P.Task," at ",P.City,", ",P.State]})]},P.id))]},w))]},_))]})]})},nR=t=>t==null?"N/A":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t),toe=({invoices:t,quotes:e})=>{const[r,n]=z.useState("invoices");return p.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Billing"}),p.jsxs("button",{className:"flex items-center gap-2 bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:[p.jsx(Oa,{size:20})," Create Quote"]})]}),p.jsx("div",{className:"border-b border-gray-200",children:p.jsxs("nav",{className:"-mb-px flex gap-6",children:[p.jsx("button",{onClick:()=>n("invoices"),className:`py-4 px-1 border-b-2 font-medium text-sm ${r==="invoices"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Invoices"}),p.jsx("button",{onClick:()=>n("quotes"),className:`py-4 px-1 border-b-2 font-medium text-sm ${r==="quotes"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Quotes"})]})}),p.jsxs("div",{className:"mt-6",children:[r==="invoices"&&p.jsx("div",{children:t.map(i=>p.jsxs("div",{children:[i.id," - ",i.customerName," - ",nR(i.amount)," - ",i.status]},i.id))}),r==="quotes"&&p.jsx("div",{children:e.map(i=>p.jsxs("div",{children:[i.id," - ",i.customerName," - ",nR(i.amount)," - ",i.status]},i.id))})]})]})},H$=t=>t&&typeof t=="number"?new Date(Math.round((t-25569)*86400*1e3)):null,K$=t=>t?t.getTime()/864e5+25569:null,roe=t=>{const e=H$(t);return e?e.toISOString().split("T")[0]:""},noe=t=>t?K$(new Date(t+"T00:00:00")):null,ioe=t=>t?new Date(t).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}):"",aoe=t=>t==null?"N/A":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t),ooe=t=>{const e=H$(t);return e?e.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):null},soe=t=>({emergency:"bg-red-100 text-red-800 border-red-500",urgent:"bg-orange-100 text-orange-800 border-orange-500",regular:"bg-blue-100 text-blue-800 border-blue-500",low:"bg-gray-100 text-gray-800 border-gray-500"})[t?.toLowerCase()]||"bg-gray-100 text-gray-800 border-gray-500",loe=({order:t,onClose:e,onUpdate:r,onAddNote:n,technicians:i})=>{if(!t)return null;const[a,s]=z.useState(t["Order Status"]),[u,c]=z.useState(t.technician||[]),[f,h]=z.useState(roe(t["Schedule Date"])),[g,v]=z.useState(t.startTime||""),[_,E]=z.useState(t.endTime||""),[w,b]=z.useState(""),[P,j]=z.useState(t.clientWO||""),R=N=>{const A=u.includes(N)?u.filter(k=>k!==N):[...u,N];c(A)},V=()=>{const N={};a!==t["Order Status"]&&(N["Order Status"]=a,a==="Completed"&&!t["Completed Date"]&&(N["Completed Date"]=K$(new Date))),JSON.stringify(u)!==JSON.stringify(t.technician)&&(N.technician=u);const A=noe(f);(A!==t["Schedule Date"]||g!==t.startTime||_!==t.endTime)&&(N["Schedule Date"]=A,N.startTime=g,N.endTime=_,a==="Open"&&f&&(N["Order Status"]="Scheduled")),P!==t.clientWO&&(N.clientWO=P),Object.keys(N).length>0&&r(t.id,N)},O=[{label:"Work Order #",value:t["WO#"],icon:p.jsx(fS,{})},{label:"Client WO#",value:t.clientWO,icon:p.jsx(wM,{})},{label:"Location",value:`${t.Company} (#${t["Loc #"]})`,icon:p.jsx(z_,{})},{label:"Address",value:`${t.City}, ${t.State}`,icon:p.jsx(sS,{})},{label:"Priority",value:t.Priority,icon:p.jsx(uS,{}),style:`${soe(t.Priority)} px-2 py-0.5 rounded-full text-xs font-semibold`},{label:"Task",value:t.Task},{label:"NTE Amount",value:aoe(t.NTE)},{label:"Created Date",value:ooe(t["Created Date"])}];return p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:p.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-3xl max-h-[90vh] flex flex-col",children:[p.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Work Order Details"}),p.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:p.jsx(sd,{size:28})})]}),p.jsxs("div",{className:"p-6 overflow-y-auto",children:[p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4",children:O.map(N=>p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"text-xs text-gray-500 font-medium",children:N.label}),p.jsxs("span",{className:`text-base text-gray-900 font-semibold flex items-center gap-2 mt-1 ${N.style||""}`,children:[N.icon&&p.jsx("span",{className:"text-gray-400",children:H.cloneElement(N.icon,{size:16})}),p.jsx("span",{className:N.style||"",children:N.value})]})]},N.label))}),p.jsxs("div",{className:"mt-6 pt-6 border-t",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-3",children:"Job Management"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Status"}),p.jsxs("select",{value:a,onChange:N=>s(N.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",children:[p.jsx("option",{children:"Open"}),p.jsx("option",{children:"Scheduled"}),p.jsx("option",{children:"In Progress"}),p.jsx("option",{children:"On Hold"}),p.jsx("option",{children:"Completed"}),p.jsx("option",{children:"Cancelled"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Assigned Technicians"}),p.jsx("div",{className:"border p-2 rounded-lg max-h-24 overflow-y-auto",children:i.filter(N=>N.name!=="Unassigned").map(N=>p.jsxs("div",{className:"flex items-center",children:[p.jsx("input",{type:"checkbox",id:`tech-${N.id}`,checked:u.includes(N.name),onChange:()=>R(N.name),className:"mr-2"}),p.jsx("label",{htmlFor:`tech-${N.id}`,children:N.name})]},N.id))})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Schedule Date"}),p.jsx("input",{type:"date",value:f,onChange:N=>h(N.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Start Time"}),p.jsx("input",{type:"time",value:g,onChange:N=>v(N.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"End Time"}),p.jsx("input",{type:"time",value:_,onChange:N=>E(N.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]})]}),p.jsxs("div",{className:"mt-4",children:[p.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Client WO#"}),p.jsx("input",{type:"text",value:P,onChange:N=>j(N.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),p.jsx("div",{className:"mt-4 flex justify-end",children:p.jsx("button",{onClick:V,className:"bg-blue-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-blue-700",children:"Save Changes"})})]}),p.jsxs("div",{className:"mt-6 pt-6 border-t",children:[p.jsxs("h3",{className:"text-lg font-semibold text-gray-700 mb-3 flex items-center",children:[p.jsx(EM,{size:20,className:"mr-2"}),"Work Notes"]}),p.jsx("div",{className:"space-y-3 max-h-48 overflow-y-auto bg-gray-50 p-3 rounded-lg",children:t.notes&&t.notes.length>0?t.notes.sort((N,A)=>new Date(A.timestamp)-new Date(N.timestamp)).map((N,A)=>p.jsxs("div",{className:"text-sm bg-white p-2 rounded shadow-sm",children:[p.jsx("p",{className:"text-gray-800",children:N.text}),p.jsx("p",{className:"text-xs text-gray-500 mt-1 text-right",children:ioe(N.timestamp)})]},A)):p.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No notes for this job yet."})}),p.jsxs("div",{className:"mt-4",children:[p.jsx("textarea",{value:w,onChange:N=>b(N.target.value),placeholder:"Add a new note...",rows:"3",className:"w-full p-2 border border-gray-300 rounded-lg"}),p.jsx("div",{className:"flex justify-end mt-2",children:p.jsx("button",{onClick:()=>n(t.id,w,()=>b("")),disabled:!w.trim(),className:"bg-green-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:"Add Note"})})]})]})]})]})})},uoe=t=>t?t.getTime()/864e5+25569:null,coe=t=>t?uoe(new Date(t+"T00:00:00")):null,foe=({onClose:t,onAddOrder:e,customers:r})=>{const[n,i]=z.useState(r[0]?.id||""),[a,s]=z.useState(""),[u,c]=z.useState(""),[f,h]=z.useState("Regular"),[g,v]=z.useState("Heating & Cooling"),[_,E]=z.useState(""),[w,b]=z.useState(""),[P,j]=z.useState(""),[R,V]=z.useState(""),[O,N]=z.useState(""),A=z.useMemo(()=>r.find(I=>I.id===n),[n,r]);z.useEffect(()=>{if(A?.locations?.[0]){const I=A.locations[0];s(`${I.name}-${I.locNum}-0`)}else s("")},[A]);const k=I=>{s(I)},D=I=>{I.preventDefault();const[M,F]=a.split("-").slice(0,2),L=A.locations.find(te=>te.name===M&&te.locNum===F);if(!n||!L||!u){alert("Please fill out all required fields.");return}e({Client:A.name,Company:L.name,"Loc #":L.locNum,Task:u,Priority:f,Category:g,City:L.city,State:L.state,NTE:parseFloat(_)||0,"Schedule Date":coe(w),startTime:P,endTime:R,clientWO:O})};return p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:p.jsxs("form",{onSubmit:D,className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[p.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Add New Work Order"}),p.jsx("button",{type:"button",onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:p.jsx(sd,{size:28})})]}),p.jsxs("div",{className:"p-6 overflow-y-auto space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Client"}),p.jsx("select",{value:n,onChange:I=>i(parseInt(I.target.value)),className:"w-full p-2 border border-gray-300 rounded-lg",children:r.map(I=>p.jsx("option",{value:I.id,children:I.name},I.id))})]}),A&&p.jsxs("div",{children:[p.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Location"}),p.jsx("select",{value:a,onChange:I=>k(I.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",children:A.locations.map((I,M)=>p.jsxs("option",{value:`${I.name}-${I.locNum}-${M}`,children:[I.name," (#",I.locNum,")"]},`${I.name}-${I.locNum}-${M}`))})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Client WO#"}),p.jsx("input",{type:"text",value:O,onChange:I=>N(I.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Task / Issue"}),p.jsx("textarea",{value:u,onChange:I=>c(I.target.value),rows:"3",className:"w-full p-2 border border-gray-300 rounded-lg",required:!0})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Priority"}),p.jsxs("select",{value:f,onChange:I=>h(I.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",children:[p.jsx("option",{children:"Regular"}),p.jsx("option",{children:"Low"}),p.jsx("option",{children:"Urgent"}),p.jsx("option",{children:"Emergency"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Category"}),p.jsxs("select",{value:g,onChange:I=>v(I.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",children:[p.jsx("option",{children:"Heating & Cooling"}),p.jsx("option",{children:"Refrigeration"}),p.jsx("option",{children:"Maintenance"}),p.jsx("option",{children:"Plumbing"}),p.jsx("option",{children:"Other"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"NTE Amount ($)"}),p.jsx("input",{type:"number",value:_,onChange:I=>E(I.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",placeholder:"e.g., 500"})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Schedule Date"}),p.jsx("input",{type:"date",value:w,onChange:I=>b(I.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Start Time"}),p.jsx("input",{type:"time",value:P,onChange:I=>j(I.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"End Time"}),p.jsx("input",{type:"time",value:R,onChange:I=>V(I.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]})]})]}),p.jsx("div",{className:"p-6 bg-gray-50 border-t mt-auto",children:p.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-700",children:"Create Work Order"})})]})})},doe={apiKey:"AIzaSyAlev0GFpv3rzRYCJaMALOqlPwaowNfynI",authDomain:"hvac-finance-dashboard.firebaseapp.com",projectId:"hvac-finance-dashboard",storageBucket:"hvac-finance-dashboard.firebasestorage.app",messagingSenderId:"917610618621",appId:"1:917610618621:web:83c621d154c5f62c9be894"},fs="hvac-master-dashboard",yE=pR(doe),hoe=QR(yE),ds=Lq(yE);k9(yE);const poe=t=>t?t.getTime()/864e5+25569:null,moe=()=>{const[t,e]=z.useState(null),[r,n]=z.useState(!0),[i,a]=z.useState("finance"),[s,u]=z.useState("dashboard"),[c,f]=z.useState([]),[h,g]=z.useState([]),[v,_]=z.useState([]),[E,w]=z.useState([]),[b,P]=z.useState([]),[j,R]=z.useState([]),[V,O]=z.useState([]),[N,A]=z.useState([]),[k,D]=z.useState([]),[I,M]=z.useState([]),[F,L]=z.useState([]),[te,re]=z.useState([]),[X,ie]=z.useState([]),[J,Q]=z.useState([]),[ae,q]=z.useState([]),[G,ue]=z.useState([]),[xe,Pe]=z.useState([]),[De,Ke]=z.useState(""),[je,de]=z.useState("All"),[Se,Re]=z.useState(null),[W,ge]=z.useState(!1),[_e,Ne]=z.useState("dashboard"),[Xe,Lt]=z.useState(!1),[Yr,Vr]=z.useState(null),[Fr,Qt]=z.useState("bill"),[gr,Tn]=z.useState("dark"),[vi,bi]=z.useState({key:"dueDay",direction:"ascending"}),[$t,Vt]=z.useState(""),[Hn,Ra]=z.useState(null),[Hi,Da]=z.useState(0),[Xr,Qs]=z.useState({start:new Date,end:new Date}),[Js,Zs]=z.useState("monthly"),[Mo,Lo]=z.useState(!0),[An,Ki]=z.useState({}),[$o,cn]=z.useState([]),[Kn,Vo]=z.useState({show:!1,data:[],headers:[],type:"",fileName:""}),[Gn,el]=z.useState({});z.useEffect(()=>{const He=V6(hoe,Je=>{e(Je?Je.uid:null),n(!1)});return()=>He()},[]);const Yn=z.useMemo(()=>Xr.start.getFullYear()+"-"+String(Xr.start.getMonth()+1).padStart(2,"0"),[Xr]);z.useEffect(()=>{if(!t)return;const Je=Object.entries({bills:f,debts:g,incomes:_,weeklyCosts:w,jobs:P,tasks:R,invoices:O,taxPayments:A,goals:D,clients:Q,inventory:M,vehicles:L,maintenanceLogs:re,recurringWork:ie,workOrders:q,customers:ue,technicians:Pe}).map(([rt,Ft])=>JP(Yq(HP(ds,"artifacts",fs,"users",t,rt)),dn=>{Ft(dn.docs.map(Jt=>({id:Jt.id,...Jt.data()})))},dn=>console.error(`Error fetching ${rt}:`,dn))),lt=JP(Ul(ds,"artifacts",fs,"users",t,"paidStatus",Yn),rt=>{Ki(rt.exists()?rt.data().status:{})},rt=>console.error("Error fetching paid status:",rt));return()=>{Je.forEach(rt=>rt()),lt()}},[t,Yn]);const Fo=()=>Tn(gr==="light"?"dark":"light"),Ar=z.useMemo(()=>b.filter(He=>{if(!He.date)return!1;const Je=new Date(He.date);return Je>=Xr.start&&Je<=Xr.end}),[b,Xr]),Xn=z.useMemo(()=>{const He=v.reduce((Jt,Pr)=>Jt+(Pr.amount||0),0),Je=c.reduce((Jt,Pr)=>Jt+(Pr.amount||0),0),lt=E.reduce((Jt,Pr)=>Jt+(Pr.amount||0),0)*4.33,rt=Je+lt,Ft=He-rt,dn=h.reduce((Jt,Pr)=>Jt+((Pr.totalAmount||0)-(Pr.paidAmount||0)),0);return{totalIncome:He,totalOutflow:rt,netCashFlow:Ft,totalDebt:dn}},[c,h,v,E]),bt=z.useMemo(()=>{const He=Ar.reduce((rt,Ft)=>rt+(Ft.revenue||0),0),Je=Ar.reduce((rt,Ft)=>rt+(Ft.materialCost||0)+(Ft.laborCost||0),0),lt=He-Je;return{revenue:He,cogs:Je,grossProfit:lt}},[Ar]),Ma=z.useMemo(()=>{const He=c.reduce((lt,rt)=>{const Ft=rt.category||"Uncategorized";return lt[Ft]=(lt[Ft]||0)+rt.amount,lt},{}),Je=["#0088FE","#00C49F","#FFBB28","#FF8042","#AF19FF","#FF1943","#19D4FF"];return Object.entries(He).map(([lt,rt],Ft)=>({name:lt,value:rt,color:Je[Ft%Je.length]})).sort((lt,rt)=>rt.value-lt.value)},[c]),Qr=(He,Je)=>{const lt=Ul(ds,"artifacts",fs,"users",t,"workOrders",He);QP(lt,Je),Se&&Se.id===He&&Re(rt=>({...rt,...Je}))},Gi=(He,Je,lt)=>{if(!Je.trim())return;const rt={text:Je.trim(),timestamp:new Date().toISOString()},Ft=Ul(ds,"artifacts",fs,"users",t,"workOrders",He),Jt=[...ae.find(Pr=>Pr.id===He)?.notes||[],rt];QP(Ft,{notes:Jt}),lt()},Yi=He=>{const Je=`WO-${Date.now()}`,lt={...He,"WO#":Je,id:Je,"Created Date":poe(new Date),"Order Status":He["Schedule Date"]?"Scheduled":"Open",notes:[],technician:[]};t9(HP(ds,"artifacts",fs,"users",t,"workOrders"),lt),ge(!1)},Pn=async(He,Je)=>{if(!t||!window.confirm("Delete this item?"))return;const rt={bill:"bills",debt:"debts",income:"incomes",weekly:"weeklyCosts",job:"jobs",task:"tasks",invoice:"invoices",taxPayment:"taxPayments",goal:"goals",client:"clients",inventory:"inventory",vehicle:"vehicles",maintenanceLog:"maintenanceLogs",recurring:"recurringWork"}[He];if(!rt)return alert("Invalid item type for deletion.");try{await e9(Ul(ds,"artifacts",fs,"users",t,rt,Je))}catch{alert(`Failed to delete ${He}.`)}},fn=async He=>{t&&await Zq(Ul(ds,"artifacts",fs,"users",t,"paidStatus",Yn),{status:{...An,[He]:!An[He]}},{merge:!0})},Qn=(He,Je=null)=>{Qt(He),Vr(Je),Lt(!0)},Wu=z.useMemo(()=>ae.filter(He=>(je==="All"||He["Order Status"]===je)&&Object.values(He).some(Je=>String(Je).toLowerCase().includes(De.toLowerCase()))),[ae,De,je]),La=()=>p.jsxs(p.Fragment,{children:[p.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-center mb-6",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold",children:"Business Financial Dashboard"}),p.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Manage your company's finances."})]}),p.jsx("div",{className:"flex items-center gap-4",children:p.jsx("button",{onClick:Fo,className:"p-2 rounded-full bg-slate-200 dark:bg-slate-800 border border-slate-300 dark:border-slate-700",children:gr==="light"?p.jsx(G9,{size:20}):p.jsx(Q9,{size:20})})})]}),p.jsxs("nav",{className:"flex items-center border-b border-slate-200 dark:border-slate-700 mb-6 overflow-x-auto",children:[p.jsx("button",{onClick:()=>Ne("dashboard"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${_e==="dashboard"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Dashboard"}),p.jsx("button",{onClick:()=>Ne("reports"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${_e==="reports"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Reports"}),p.jsx("button",{onClick:()=>Ne("invoices"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${_e==="invoices"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Invoices"}),p.jsx("button",{onClick:()=>Ne("jobs"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${_e==="jobs"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Jobs"}),p.jsx("button",{onClick:()=>Ne("recurring"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${_e==="recurring"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Recurring"}),p.jsx("button",{onClick:()=>Ne("clients"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${_e==="clients"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Clients"})]}),p.jsxs("main",{children:[_e==="dashboard"&&p.jsxs(p.Fragment,{children:[Mo&&p.jsx(Tae,{bills:c,paidStatus:An,onClose:()=>Lo(!1)}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[p.jsx(ss,{title:"Total Monthly Income",value:`$${Xn.totalIncome.toLocaleString()}`,icon:p.jsx($9,{size:24}),color:"green"}),p.jsx(ss,{title:"Total Monthly Outflow",value:`$${Xn.totalOutflow.toLocaleString()}`,icon:p.jsx(D9,{size:24}),color:"red"}),p.jsx(ss,{title:"Projected Net",value:`$${Xn.netCashFlow.toLocaleString()}`,icon:p.jsx(H_,{size:24}),color:Xn.netCashFlow>=0?"cyan":"amber"}),p.jsx(ss,{title:"Outstanding Debt",value:`$${Xn.totalDebt.toLocaleString()}`,icon:p.jsx(uS,{size:24}),color:"orange"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[p.jsx(ss,{title:"Gross Profit Margin",value:`${bt.revenue>0?(bt.grossProfit/bt.revenue*100).toFixed(1):"0.0"}%`,icon:p.jsx(Y9,{size:24}),color:"teal",subtext:"For selected period"}),p.jsx(ss,{title:"Avg. Job Revenue",value:`$${(bt.revenue/(Ar.length||1)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:p.jsx(ez,{size:24}),color:"indigo",subtext:`${Ar.length} jobs`}),p.jsx(ss,{title:"Avg. Job Profit",value:`$${(bt.grossProfit/(Ar.length||1)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:p.jsx(J9,{size:24}),color:"purple",subtext:"Gross profit per job"})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[p.jsx(Oae,{bills:c,paidStatus:An,setPaidStatus:Ki,selectedCategory:Hn,setSelectedCategory:Ra,handleTogglePaid:fn,handleSort:bi,openModal:Qn,handleDelete:Pn,handleEnhancedExportCSV:()=>{}}),p.jsx("div",{className:"lg:col-span-2 space-y-6",children:p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[p.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:"Expense Breakdown"}),p.jsx(Aae,{data:Ma,onSliceClick:Ra})]})})]})]}),_e==="reports"&&p.jsx(Eae,{clients:J,jobs:b,bills:c,inventory:I}),_e==="invoices"&&p.jsx(wae,{invoices:V,openModal:Qn,handleDelete:Pn}),_e==="jobs"&&p.jsx(kae,{jobs:b,clients:J,openModal:Qn,handleDelete:Pn,searchTerm:$t,setSearchTerm:Vt}),_e==="recurring"&&p.jsx(Cae,{recurringWork:X,openModal:Qn,handleDelete:Pn,searchTerm:$t,setSearchTerm:Vt}),_e==="clients"&&p.jsx(Sae,{clients:J,openModal:Qn,handleDelete:Pn})]})]}),tl=()=>{switch(s){case"customers":return p.jsx(Yae,{customers:G,onAddCustomer:()=>{},onUpdateCustomer:()=>{},onAddLocation:()=>{}});case"dispatch":return p.jsx(zae,{workOrders:ae,technicians:xe,onSelectOrder:Re,onUpdateOrder:Qr});case"technicians":return p.jsx(Jae,{technicians:xe,onAddTechnician:()=>{},onUpdateTechnician:()=>{},onDeleteTechnician:()=>{}});case"route":return p.jsx(eoe,{workOrders:ae,technicians:xe});case"billing":return p.jsx(toe,{invoices:V,quotes:[]});default:return p.jsx($ae,{orders:Wu,onSelectOrder:Re,searchTerm:De,setSearchTerm:Ke,statusFilter:je,setStatusFilter:de})}};return r?p.jsx("div",{className:"bg-slate-900 text-white min-h-screen flex items-center justify-center",children:p.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-cyan-500"})}):t?p.jsxs("div",{className:"bg-gray-50 min-h-screen font-sans",children:[p.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-20",children:p.jsx("div",{className:"max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8 py-3",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center space-x-4",children:[p.jsx(fS,{className:"h-8 w-8 text-blue-600"}),p.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"HVAC Business Suite"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("button",{onClick:()=>a("finance"),className:`font-semibold py-2 px-4 rounded-lg flex items-center gap-2 ${i==="finance"?"bg-blue-600 text-white":"hover:bg-gray-100"}`,children:[p.jsx(H_,{size:20})," Finance"]}),p.jsxs("button",{onClick:()=>a("dispatch"),className:`font-semibold py-2 px-4 rounded-lg flex items-center gap-2 ${i==="dispatch"?"bg-blue-600 text-white":"hover:bg-gray-100"}`,children:[p.jsx(aS,{size:20})," Dispatch"]})]})]})})}),i==="dispatch"&&p.jsxs(p.Fragment,{children:[p.jsx(Nae,{currentView:s,setCurrentView:u,onAddOrderClick:()=>ge(!0)}),p.jsx("main",{className:"max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:tl()}),Se&&p.jsx(loe,{order:Se,onClose:()=>Re(null),onUpdate:Qr,onAddNote:Gi,technicians:xe}),W&&p.jsx(foe,{customers:G,onAddOrder:Yi,onClose:()=>ge(!1)})]}),i==="finance"&&p.jsx("div",{className:`${gr} bg-slate-100 dark:bg-slate-900 text-slate-800 dark:text-white`,children:p.jsx("div",{className:"max-w-7xl mx-auto p-4 sm:p-6 lg:p-8",children:La()})})]}):p.jsx(rz,{})};oV.createRoot(document.getElementById("root")).render(p.jsx(H.StrictMode,{children:p.jsx(moe,{})}));
