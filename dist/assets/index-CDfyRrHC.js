(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Qh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xv={exports:{}},Vc={},wv={exports:{}},tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HA;function UV(){if(HA)return tt;HA=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;function y(q){return q===null||typeof q!="object"?null:(q=m&&q[m]||q["@@iterator"],typeof q=="function"?q:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,E={};function w(q,G,fe){this.props=q,this.context=G,this.refs=E,this.updater=fe||b}w.prototype.isReactComponent={},w.prototype.setState=function(q,G){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,G,"setState")},w.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function O(){}O.prototype=w.prototype;function C(q,G,fe){this.props=q,this.context=G,this.refs=E,this.updater=fe||b}var N=C.prototype=new O;N.constructor=C,x(N,w.prototype),N.isPureReactComponent=!0;var $=Array.isArray,I=Object.prototype.hasOwnProperty,j={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function P(q,G,fe){var Se,Re={},xe=null,$e=null;if(G!=null)for(Se in G.ref!==void 0&&($e=G.ref),G.key!==void 0&&(xe=""+G.key),G)I.call(G,Se)&&!A.hasOwnProperty(Se)&&(Re[Se]=G[Se]);var Ve=arguments.length-2;if(Ve===1)Re.children=fe;else if(1<Ve){for(var pe=Array(Ve),Oe=0;Oe<Ve;Oe++)pe[Oe]=arguments[Oe+2];Re.children=pe}if(q&&q.defaultProps)for(Se in Ve=q.defaultProps,Ve)Re[Se]===void 0&&(Re[Se]=Ve[Se]);return{$$typeof:t,type:q,key:xe,ref:$e,props:Re,_owner:j.current}}function R(q,G){return{$$typeof:t,type:q.type,key:G,ref:q.ref,props:q.props,_owner:q._owner}}function F(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function M(q){var G={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(fe){return G[fe]})}var V=/\/+/g;function D(q,G){return typeof q=="object"&&q!==null&&q.key!=null?M(""+q.key):G.toString(36)}function Z(q,G,fe,Se,Re){var xe=typeof q;(xe==="undefined"||xe==="boolean")&&(q=null);var $e=!1;if(q===null)$e=!0;else switch(xe){case"string":case"number":$e=!0;break;case"object":switch(q.$$typeof){case t:case e:$e=!0}}if($e)return $e=q,Re=Re($e),q=Se===""?"."+D($e,0):Se,$(Re)?(fe="",q!=null&&(fe=q.replace(V,"$&/")+"/"),Z(Re,G,fe,"",function(Oe){return Oe})):Re!=null&&(F(Re)&&(Re=R(Re,fe+(!Re.key||$e&&$e.key===Re.key?"":(""+Re.key).replace(V,"$&/")+"/")+q)),G.push(Re)),1;if($e=0,Se=Se===""?".":Se+":",$(q))for(var Ve=0;Ve<q.length;Ve++){xe=q[Ve];var pe=Se+D(xe,Ve);$e+=Z(xe,G,fe,pe,Re)}else if(pe=y(q),typeof pe=="function")for(q=pe.call(q),Ve=0;!(xe=q.next()).done;)xe=xe.value,pe=Se+D(xe,Ve++),$e+=Z(xe,G,fe,pe,Re);else if(xe==="object")throw G=String(q),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return $e}function ee(q,G,fe){if(q==null)return q;var Se=[],Re=0;return Z(q,Se,"","",function(xe){return G.call(fe,xe,Re++)}),Se}function re(q){if(q._status===-1){var G=q._result;G=G(),G.then(function(fe){(q._status===0||q._status===-1)&&(q._status=1,q._result=fe)},function(fe){(q._status===0||q._status===-1)&&(q._status=2,q._result=fe)}),q._status===-1&&(q._status=0,q._result=G)}if(q._status===1)return q._result.default;throw q._result}var oe={current:null},Q={transition:null},ie={ReactCurrentDispatcher:oe,ReactCurrentBatchConfig:Q,ReactCurrentOwner:j};function se(){throw Error("act(...) is not supported in production builds of React.")}return tt.Children={map:ee,forEach:function(q,G,fe){ee(q,function(){G.apply(this,arguments)},fe)},count:function(q){var G=0;return ee(q,function(){G++}),G},toArray:function(q){return ee(q,function(G){return G})||[]},only:function(q){if(!F(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},tt.Component=w,tt.Fragment=r,tt.Profiler=i,tt.PureComponent=C,tt.StrictMode=n,tt.Suspense=c,tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,tt.act=se,tt.cloneElement=function(q,G,fe){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var Se=x({},q.props),Re=q.key,xe=q.ref,$e=q._owner;if(G!=null){if(G.ref!==void 0&&(xe=G.ref,$e=j.current),G.key!==void 0&&(Re=""+G.key),q.type&&q.type.defaultProps)var Ve=q.type.defaultProps;for(pe in G)I.call(G,pe)&&!A.hasOwnProperty(pe)&&(Se[pe]=G[pe]===void 0&&Ve!==void 0?Ve[pe]:G[pe])}var pe=arguments.length-2;if(pe===1)Se.children=fe;else if(1<pe){Ve=Array(pe);for(var Oe=0;Oe<pe;Oe++)Ve[Oe]=arguments[Oe+2];Se.children=Ve}return{$$typeof:t,type:q.type,key:Re,ref:xe,props:Se,_owner:$e}},tt.createContext=function(q){return q={$$typeof:s,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:a,_context:q},q.Consumer=q},tt.createElement=P,tt.createFactory=function(q){var G=P.bind(null,q);return G.type=q,G},tt.createRef=function(){return{current:null}},tt.forwardRef=function(q){return{$$typeof:u,render:q}},tt.isValidElement=F,tt.lazy=function(q){return{$$typeof:h,_payload:{_status:-1,_result:q},_init:re}},tt.memo=function(q,G){return{$$typeof:f,type:q,compare:G===void 0?null:G}},tt.startTransition=function(q){var G=Q.transition;Q.transition={};try{q()}finally{Q.transition=G}},tt.unstable_act=se,tt.useCallback=function(q,G){return oe.current.useCallback(q,G)},tt.useContext=function(q){return oe.current.useContext(q)},tt.useDebugValue=function(){},tt.useDeferredValue=function(q){return oe.current.useDeferredValue(q)},tt.useEffect=function(q,G){return oe.current.useEffect(q,G)},tt.useId=function(){return oe.current.useId()},tt.useImperativeHandle=function(q,G,fe){return oe.current.useImperativeHandle(q,G,fe)},tt.useInsertionEffect=function(q,G){return oe.current.useInsertionEffect(q,G)},tt.useLayoutEffect=function(q,G){return oe.current.useLayoutEffect(q,G)},tt.useMemo=function(q,G){return oe.current.useMemo(q,G)},tt.useReducer=function(q,G,fe){return oe.current.useReducer(q,G,fe)},tt.useRef=function(q){return oe.current.useRef(q)},tt.useState=function(q){return oe.current.useState(q)},tt.useSyncExternalStore=function(q,G,fe){return oe.current.useSyncExternalStore(q,G,fe)},tt.useTransition=function(){return oe.current.useTransition()},tt.version="18.3.1",tt}var KA;function D1(){return KA||(KA=1,wv.exports=UV()),wv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GA;function BV(){if(GA)return Vc;GA=1;var t=D1(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function s(u,c,f){var h,m={},y=null,b=null;f!==void 0&&(y=""+f),c.key!==void 0&&(y=""+c.key),c.ref!==void 0&&(b=c.ref);for(h in c)n.call(c,h)&&!a.hasOwnProperty(h)&&(m[h]=c[h]);if(u&&u.defaultProps)for(h in c=u.defaultProps,c)m[h]===void 0&&(m[h]=c[h]);return{$$typeof:e,type:u,key:y,ref:b,props:m,_owner:i.current}}return Vc.Fragment=r,Vc.jsx=s,Vc.jsxs=s,Vc}var YA;function qV(){return YA||(YA=1,xv.exports=BV()),xv.exports}var v=qV(),K=D1();const z=bt(K);var Jh={},Ev={exports:{}},xn={},Sv={exports:{}},Tv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XA;function zV(){return XA||(XA=1,function(t){function e(Q,ie){var se=Q.length;Q.push(ie);e:for(;0<se;){var q=se-1>>>1,G=Q[q];if(0<i(G,ie))Q[q]=ie,Q[se]=G,se=q;else break e}}function r(Q){return Q.length===0?null:Q[0]}function n(Q){if(Q.length===0)return null;var ie=Q[0],se=Q.pop();if(se!==ie){Q[0]=se;e:for(var q=0,G=Q.length,fe=G>>>1;q<fe;){var Se=2*(q+1)-1,Re=Q[Se],xe=Se+1,$e=Q[xe];if(0>i(Re,se))xe<G&&0>i($e,Re)?(Q[q]=$e,Q[xe]=se,q=xe):(Q[q]=Re,Q[Se]=se,q=Se);else if(xe<G&&0>i($e,se))Q[q]=$e,Q[xe]=se,q=xe;else break e}}return ie}function i(Q,ie){var se=Q.sortIndex-ie.sortIndex;return se!==0?se:Q.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],f=[],h=1,m=null,y=3,b=!1,x=!1,E=!1,w=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(Q){for(var ie=r(f);ie!==null;){if(ie.callback===null)n(f);else if(ie.startTime<=Q)n(f),ie.sortIndex=ie.expirationTime,e(c,ie);else break;ie=r(f)}}function $(Q){if(E=!1,N(Q),!x)if(r(c)!==null)x=!0,re(I);else{var ie=r(f);ie!==null&&oe($,ie.startTime-Q)}}function I(Q,ie){x=!1,E&&(E=!1,O(P),P=-1),b=!0;var se=y;try{for(N(ie),m=r(c);m!==null&&(!(m.expirationTime>ie)||Q&&!M());){var q=m.callback;if(typeof q=="function"){m.callback=null,y=m.priorityLevel;var G=q(m.expirationTime<=ie);ie=t.unstable_now(),typeof G=="function"?m.callback=G:m===r(c)&&n(c),N(ie)}else n(c);m=r(c)}if(m!==null)var fe=!0;else{var Se=r(f);Se!==null&&oe($,Se.startTime-ie),fe=!1}return fe}finally{m=null,y=se,b=!1}}var j=!1,A=null,P=-1,R=5,F=-1;function M(){return!(t.unstable_now()-F<R)}function V(){if(A!==null){var Q=t.unstable_now();F=Q;var ie=!0;try{ie=A(!0,Q)}finally{ie?D():(j=!1,A=null)}}else j=!1}var D;if(typeof C=="function")D=function(){C(V)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,ee=Z.port2;Z.port1.onmessage=V,D=function(){ee.postMessage(null)}}else D=function(){w(V,0)};function re(Q){A=Q,j||(j=!0,D())}function oe(Q,ie){P=w(function(){Q(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){x||b||(x=!0,re(I))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(Q){switch(y){case 1:case 2:case 3:var ie=3;break;default:ie=y}var se=y;y=ie;try{return Q()}finally{y=se}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,ie){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var se=y;y=Q;try{return ie()}finally{y=se}},t.unstable_scheduleCallback=function(Q,ie,se){var q=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?q+se:q):se=q,Q){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=se+G,Q={id:h++,callback:ie,priorityLevel:Q,startTime:se,expirationTime:G,sortIndex:-1},se>q?(Q.sortIndex=se,e(f,Q),r(c)===null&&Q===r(f)&&(E?(O(P),P=-1):E=!0,oe($,se-q))):(Q.sortIndex=G,e(c,Q),x||b||(x=!0,re(I))),Q},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(Q){var ie=y;return function(){var se=y;y=ie;try{return Q.apply(this,arguments)}finally{y=se}}}}(Tv)),Tv}var QA;function WV(){return QA||(QA=1,Sv.exports=zV()),Sv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JA;function HV(){if(JA)return xn;JA=1;var t=D1(),e=WV();function r(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,d=1;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(o,l){s(o,l),s(o+"Capture",l)}function s(o,l){for(i[o]=l,o=0;o<l.length;o++)n.add(l[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},m={};function y(o){return c.call(m,o)?!0:c.call(h,o)?!1:f.test(o)?m[o]=!0:(h[o]=!0,!1)}function b(o,l,d,g){if(d!==null&&d.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return g?!1:d!==null?!d.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function x(o,l,d,g){if(l===null||typeof l>"u"||b(o,l,d,g))return!0;if(g)return!1;if(d!==null)switch(d.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function E(o,l,d,g,_,T,L){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=g,this.attributeNamespace=_,this.mustUseProperty=d,this.propertyName=o,this.type=l,this.sanitizeURL=T,this.removeEmptyString=L}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){w[o]=new E(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];w[l]=new E(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){w[o]=new E(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){w[o]=new E(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){w[o]=new E(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){w[o]=new E(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){w[o]=new E(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){w[o]=new E(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){w[o]=new E(o,5,!1,o.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function C(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(O,C);w[l]=new E(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(O,C);w[l]=new E(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(O,C);w[l]=new E(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){w[o]=new E(o,1,!1,o.toLowerCase(),null,!1,!1)}),w.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){w[o]=new E(o,1,!1,o.toLowerCase(),null,!0,!0)});function N(o,l,d,g){var _=w.hasOwnProperty(l)?w[l]:null;(_!==null?_.type!==0:g||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(x(l,d,_,g)&&(d=null),g||_===null?y(l)&&(d===null?o.removeAttribute(l):o.setAttribute(l,""+d)):_.mustUseProperty?o[_.propertyName]=d===null?_.type===3?!1:"":d:(l=_.attributeName,g=_.attributeNamespace,d===null?o.removeAttribute(l):(_=_.type,d=_===3||_===4&&d===!0?"":""+d,g?o.setAttributeNS(g,l,d):o.setAttribute(l,d))))}var $=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),j=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),M=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),oe=Symbol.for("react.offscreen"),Q=Symbol.iterator;function ie(o){return o===null||typeof o!="object"?null:(o=Q&&o[Q]||o["@@iterator"],typeof o=="function"?o:null)}var se=Object.assign,q;function G(o){if(q===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);q=l&&l[1]||""}return`
`+q+o}var fe=!1;function Se(o,l){if(!o||fe)return"";fe=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(te){var g=te}Reflect.construct(o,[],l)}else{try{l.call()}catch(te){g=te}o.call(l.prototype)}else{try{throw Error()}catch(te){g=te}o()}}catch(te){if(te&&g&&typeof te.stack=="string"){for(var _=te.stack.split(`
`),T=g.stack.split(`
`),L=_.length-1,B=T.length-1;1<=L&&0<=B&&_[L]!==T[B];)B--;for(;1<=L&&0<=B;L--,B--)if(_[L]!==T[B]){if(L!==1||B!==1)do if(L--,B--,0>B||_[L]!==T[B]){var W=`
`+_[L].replace(" at new "," at ");return o.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",o.displayName)),W}while(1<=L&&0<=B);break}}}finally{fe=!1,Error.prepareStackTrace=d}return(o=o?o.displayName||o.name:"")?G(o):""}function Re(o){switch(o.tag){case 5:return G(o.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return o=Se(o.type,!1),o;case 11:return o=Se(o.type.render,!1),o;case 1:return o=Se(o.type,!0),o;default:return""}}function xe(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case A:return"Fragment";case j:return"Portal";case R:return"Profiler";case P:return"StrictMode";case D:return"Suspense";case Z:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case M:return(o.displayName||"Context")+".Consumer";case F:return(o._context.displayName||"Context")+".Provider";case V:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case ee:return l=o.displayName||null,l!==null?l:xe(o.type)||"Memo";case re:l=o._payload,o=o._init;try{return xe(o(l))}catch{}}return null}function $e(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=l.render,o=o.displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(l);case 8:return l===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Ve(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function pe(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Oe(o){var l=pe(o)?"checked":"value",d=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),g=""+o[l];if(!o.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var _=d.get,T=d.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return _.call(this)},set:function(L){g=""+L,T.call(this,L)}}),Object.defineProperty(o,l,{enumerable:d.enumerable}),{getValue:function(){return g},setValue:function(L){g=""+L},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function ze(o){o._valueTracker||(o._valueTracker=Oe(o))}function ue(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var d=l.getValue(),g="";return o&&(g=pe(o)?o.checked?"true":"false":o.value),o=g,o!==d?(l.setValue(o),!0):!1}function st(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function He(o,l){var d=l.checked;return se({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??o._wrapperState.initialChecked})}function pt(o,l){var d=l.defaultValue==null?"":l.defaultValue,g=l.checked!=null?l.checked:l.defaultChecked;d=Ve(l.value!=null?l.value:d),o._wrapperState={initialChecked:g,initialValue:d,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function Tt(o,l){l=l.checked,l!=null&&N(o,"checked",l,!1)}function Yt(o,l){Tt(o,l);var d=Ve(l.value),g=l.type;if(d!=null)g==="number"?(d===0&&o.value===""||o.value!=d)&&(o.value=""+d):o.value!==""+d&&(o.value=""+d);else if(g==="submit"||g==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?Jr(o,l.type,d):l.hasOwnProperty("defaultValue")&&Jr(o,l.type,Ve(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function fr(o,l,d){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var g=l.type;if(!(g!=="submit"&&g!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,d||l===o.value||(o.value=l),o.defaultValue=l}d=o.name,d!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,d!==""&&(o.name=d)}function Jr(o,l,d){(l!=="number"||st(o.ownerDocument)!==o)&&(d==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+d&&(o.defaultValue=""+d))}var qt=Array.isArray;function zt(o,l,d,g){if(o=o.options,l){l={};for(var _=0;_<d.length;_++)l["$"+d[_]]=!0;for(d=0;d<o.length;d++)_=l.hasOwnProperty("$"+o[d].value),o[d].selected!==_&&(o[d].selected=_),_&&g&&(o[d].defaultSelected=!0)}else{for(d=""+Ve(d),l=null,_=0;_<o.length;_++){if(o[_].value===d){o[_].selected=!0,g&&(o[_].defaultSelected=!0);return}l!==null||o[_].disabled||(l=o[_])}l!==null&&(l.selected=!0)}}function Nr(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(r(91));return se({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Zr(o,l){var d=l.value;if(d==null){if(d=l.children,l=l.defaultValue,d!=null){if(l!=null)throw Error(r(92));if(qt(d)){if(1<d.length)throw Error(r(93));d=d[0]}l=d}l==null&&(l=""),d=l}o._wrapperState={initialValue:Ve(d)}}function mi(o,l){var d=Ve(l.value),g=Ve(l.defaultValue);d!=null&&(d=""+d,d!==o.value&&(o.value=d),l.defaultValue==null&&o.defaultValue!==d&&(o.defaultValue=d)),g!=null&&(o.defaultValue=""+g)}function Bi(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}function Xt(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tr(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?Xt(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var gi,ss=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,d,g,_){MSApp.execUnsafeLocalFunction(function(){return o(l,d,g,_)})}:o}(function(o,l){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=l;else{for(gi=gi||document.createElement("div"),gi.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=gi.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function qi(o,l){if(l){var d=o.firstChild;if(d&&d===o.lastChild&&d.nodeType===3){d.nodeValue=l;return}}o.textContent=l}var Gn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fn=["Webkit","ms","Moz","O"];Object.keys(Gn).forEach(function(o){fn.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),Gn[l]=Gn[o]})});function lo(o,l,d){return l==null||typeof l=="boolean"||l===""?"":d||typeof l!="number"||l===0||Gn.hasOwnProperty(o)&&Gn[o]?(""+l).trim():l+"px"}function yi(o,l){o=o.style;for(var d in l)if(l.hasOwnProperty(d)){var g=d.indexOf("--")===0,_=lo(d,l[d],g);d==="float"&&(d="cssFloat"),g?o.setProperty(d,_):o[d]=_}}var Lt=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ba(o,l){if(l){if(Lt[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(r(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(r(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(r(61))}if(l.style!=null&&typeof l.style!="object")throw Error(r(62))}}function ls(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dn=null;function _a(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var zi=null,hn=null,Yn=null;function wr(o){if(o=Tc(o)){if(typeof zi!="function")throw Error(r(280));var l=o.stateNode;l&&(l=dh(l),zi(o.stateNode,o.type,l))}}function Xn(o){hn?Yn?Yn.push(o):Yn=[o]:hn=o}function Tn(){if(hn){var o=hn,l=Yn;if(Yn=hn=null,wr(o),l)for(o=0;o<l.length;o++)wr(l[o])}}function An(o,l){return o(l)}function Wi(){}var vi=!1;function xa(o,l,d){if(vi)return o(l,d);vi=!0;try{return An(o,l,d)}finally{vi=!1,(hn!==null||Yn!==null)&&(Wi(),Tn())}}function Wt(o,l){var d=o.stateNode;if(d===null)return null;var g=dh(d);if(g===null)return null;d=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(o=o.type,g=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!g;break e;default:o=!1}if(o)return null;if(d&&typeof d!="function")throw Error(r(231,l,typeof d));return d}var bi=!1;if(u)try{var Pn={};Object.defineProperty(Pn,"passive",{get:function(){bi=!0}}),window.addEventListener("test",Pn,Pn),window.removeEventListener("test",Pn,Pn)}catch{bi=!1}function wa(o,l,d,g,_,T,L,B,W){var te=Array.prototype.slice.call(arguments,3);try{l.apply(d,te)}catch(he){this.onError(he)}}var Ea=!1,uo=null,kn=!1,us=null,ae={onError:function(o){Ea=!0,uo=o}};function Ee(o,l,d,g,_,T,L,B,W){Ea=!1,uo=null,wa.apply(ae,arguments)}function Me(o,l,d,g,_,T,L,B,W){if(Ee.apply(this,arguments),Ea){if(Ea){var te=uo;Ea=!1,uo=null}else throw Error(r(198));kn||(kn=!0,us=te)}}function be(o){var l=o,d=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(d=l.return),o=l.return;while(o)}return l.tag===3?d:null}function we(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function De(o){if(be(o)!==o)throw Error(r(188))}function lt(o){var l=o.alternate;if(!l){if(l=be(o),l===null)throw Error(r(188));return l!==o?null:o}for(var d=o,g=l;;){var _=d.return;if(_===null)break;var T=_.alternate;if(T===null){if(g=_.return,g!==null){d=g;continue}break}if(_.child===T.child){for(T=_.child;T;){if(T===d)return De(_),o;if(T===g)return De(_),l;T=T.sibling}throw Error(r(188))}if(d.return!==g.return)d=_,g=T;else{for(var L=!1,B=_.child;B;){if(B===d){L=!0,d=_,g=T;break}if(B===g){L=!0,g=_,d=T;break}B=B.sibling}if(!L){for(B=T.child;B;){if(B===d){L=!0,d=T,g=_;break}if(B===g){L=!0,g=T,d=_;break}B=B.sibling}if(!L)throw Error(r(189))}}if(d.alternate!==g)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?o:l}function Le(o){return o=lt(o),o!==null?Et(o):null}function Et(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=Et(o);if(l!==null)return l;o=o.sibling}return null}var $t=e.unstable_scheduleCallback,co=e.unstable_cancelCallback,yl=e.unstable_shouldYield,In=e.unstable_requestPaint,mt=e.unstable_now,_i=e.unstable_getCurrentPriorityLevel,Qn=e.unstable_ImmediatePriority,Jn=e.unstable_UserBlockingPriority,ir=e.unstable_NormalPriority,lc=e.unstable_LowPriority,Ud=e.unstable_IdlePriority,cs=null,On=null;function Bd(o){if(On&&typeof On.onCommitFiberRoot=="function")try{On.onCommitFiberRoot(cs,o,void 0,(o.current.flags&128)===128)}catch{}}var en=Math.clz32?Math.clz32:zd,uc=Math.log,qd=Math.LN2;function zd(o){return o>>>=0,o===0?32:31-(uc(o)/qd|0)|0}var vl=64,bl=4194304;function fo(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function fs(o,l){var d=o.pendingLanes;if(d===0)return 0;var g=0,_=o.suspendedLanes,T=o.pingedLanes,L=d&268435455;if(L!==0){var B=L&~_;B!==0?g=fo(B):(T&=L,T!==0&&(g=fo(T)))}else L=d&~_,L!==0?g=fo(L):T!==0&&(g=fo(T));if(g===0)return 0;if(l!==0&&l!==g&&(l&_)===0&&(_=g&-g,T=l&-l,_>=T||_===16&&(T&4194240)!==0))return l;if((g&4)!==0&&(g|=d&16),l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=g;0<l;)d=31-en(l),_=1<<d,g|=o[d],l&=~_;return g}function Qg(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sa(o,l){for(var d=o.suspendedLanes,g=o.pingedLanes,_=o.expirationTimes,T=o.pendingLanes;0<T;){var L=31-en(T),B=1<<L,W=_[L];W===-1?((B&d)===0||(B&g)!==0)&&(_[L]=Qg(B,l)):W<=l&&(o.expiredLanes|=B),T&=~B}}function Cn(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function ds(){var o=vl;return vl<<=1,(vl&4194240)===0&&(vl=64),o}function ho(o){for(var l=[],d=0;31>d;d++)l.push(o);return l}function po(o,l,d){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,l=31-en(l),o[l]=d}function At(o,l){var d=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l,l=o.entanglements;var g=o.eventTimes;for(o=o.expirationTimes;0<d;){var _=31-en(d),T=1<<_;l[_]=0,g[_]=-1,o[_]=-1,d&=~T}}function mo(o,l){var d=o.entangledLanes|=l;for(o=o.entanglements;d;){var g=31-en(d),_=1<<g;_&l|o[g]&l&&(o[g]|=l),d&=~_}}var nt=0;function go(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Wd,_l,Hd,Kd,Gd,cc=!1,Hi=[],Rr=null,xi=null,wi=null,yo=new Map,Zn=new Map,Ki=[],Jg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yd(o,l){switch(o){case"focusin":case"focusout":Rr=null;break;case"dragenter":case"dragleave":xi=null;break;case"mouseover":case"mouseout":wi=null;break;case"pointerover":case"pointerout":yo.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zn.delete(l.pointerId)}}function pn(o,l,d,g,_,T){return o===null||o.nativeEvent!==T?(o={blockedOn:l,domEventName:d,eventSystemFlags:g,nativeEvent:T,targetContainers:[_]},l!==null&&(l=Tc(l),l!==null&&_l(l)),o):(o.eventSystemFlags|=g,l=o.targetContainers,_!==null&&l.indexOf(_)===-1&&l.push(_),o)}function Zg(o,l,d,g,_){switch(l){case"focusin":return Rr=pn(Rr,o,l,d,g,_),!0;case"dragenter":return xi=pn(xi,o,l,d,g,_),!0;case"mouseover":return wi=pn(wi,o,l,d,g,_),!0;case"pointerover":var T=_.pointerId;return yo.set(T,pn(yo.get(T)||null,o,l,d,g,_)),!0;case"gotpointercapture":return T=_.pointerId,Zn.set(T,pn(Zn.get(T)||null,o,l,d,g,_)),!0}return!1}function Xd(o){var l=ys(o.target);if(l!==null){var d=be(l);if(d!==null){if(l=d.tag,l===13){if(l=we(d),l!==null){o.blockedOn=l,Gd(o.priority,function(){Hd(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){o.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Ta(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var d=xl(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(d===null){d=o.nativeEvent;var g=new d.constructor(d.type,d);dn=g,d.target.dispatchEvent(g),dn=null}else return l=Tc(d),l!==null&&_l(l),o.blockedOn=d,!1;l.shift()}return!0}function hs(o,l,d){Ta(o)&&d.delete(l)}function Qd(){cc=!1,Rr!==null&&Ta(Rr)&&(Rr=null),xi!==null&&Ta(xi)&&(xi=null),wi!==null&&Ta(wi)&&(wi=null),yo.forEach(hs),Zn.forEach(hs)}function Ei(o,l){o.blockedOn===l&&(o.blockedOn=null,cc||(cc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Qd)))}function Si(o){function l(_){return Ei(_,o)}if(0<Hi.length){Ei(Hi[0],o);for(var d=1;d<Hi.length;d++){var g=Hi[d];g.blockedOn===o&&(g.blockedOn=null)}}for(Rr!==null&&Ei(Rr,o),xi!==null&&Ei(xi,o),wi!==null&&Ei(wi,o),yo.forEach(l),Zn.forEach(l),d=0;d<Ki.length;d++)g=Ki[d],g.blockedOn===o&&(g.blockedOn=null);for(;0<Ki.length&&(d=Ki[0],d.blockedOn===null);)Xd(d),d.blockedOn===null&&Ki.shift()}var Aa=$.ReactCurrentBatchConfig,vo=!0;function Ft(o,l,d,g){var _=nt,T=Aa.transition;Aa.transition=null;try{nt=1,fc(o,l,d,g)}finally{nt=_,Aa.transition=T}}function ey(o,l,d,g){var _=nt,T=Aa.transition;Aa.transition=null;try{nt=4,fc(o,l,d,g)}finally{nt=_,Aa.transition=T}}function fc(o,l,d,g){if(vo){var _=xl(o,l,d,g);if(_===null)fy(o,l,g,ps,d),Yd(o,g);else if(Zg(_,o,l,d,g))g.stopPropagation();else if(Yd(o,g),l&4&&-1<Jg.indexOf(o)){for(;_!==null;){var T=Tc(_);if(T!==null&&Wd(T),T=xl(o,l,d,g),T===null&&fy(o,l,g,ps,d),T===_)break;_=T}_!==null&&g.stopPropagation()}else fy(o,l,g,null,d)}}var ps=null;function xl(o,l,d,g){if(ps=null,o=_a(g),o=ys(o),o!==null)if(l=be(o),l===null)o=null;else if(d=l.tag,d===13){if(o=we(l),o!==null)return o;o=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null);return ps=o,null}function dc(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_i()){case Qn:return 1;case Jn:return 4;case ir:case lc:return 16;case Ud:return 536870912;default:return 16}default:return 16}}var Nn=null,wl=null,mn=null;function hc(){if(mn)return mn;var o,l=wl,d=l.length,g,_="value"in Nn?Nn.value:Nn.textContent,T=_.length;for(o=0;o<d&&l[o]===_[o];o++);var L=d-o;for(g=1;g<=L&&l[d-g]===_[T-g];g++);return mn=_.slice(o,1<g?1-g:void 0)}function El(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function Gi(){return!0}function pc(){return!1}function jr(o){function l(d,g,_,T,L){this._reactName=d,this._targetInst=_,this.type=g,this.nativeEvent=T,this.target=L,this.currentTarget=null;for(var B in o)o.hasOwnProperty(B)&&(d=o[B],this[B]=d?d(T):T[B]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Gi:pc,this.isPropagationStopped=pc,this}return se(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Gi)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Gi)},persist:function(){},isPersistent:Gi}),l}var Ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sl=jr(Ti),Yi=se({},Ti,{view:0,detail:0}),ty=jr(Yi),Tl,Pa,bo,ms=se({},Yi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xi,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==bo&&(bo&&o.type==="mousemove"?(Tl=o.screenX-bo.screenX,Pa=o.screenY-bo.screenY):Pa=Tl=0,bo=o),Tl)},movementY:function(o){return"movementY"in o?o.movementY:Pa}}),Al=jr(ms),mc=se({},ms,{dataTransfer:0}),Jd=jr(mc),Pl=se({},Yi,{relatedTarget:0}),kl=jr(Pl),Zd=se({},Ti,{animationName:0,elapsedTime:0,pseudoElement:0}),ka=jr(Zd),eh=se({},Ti,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),th=jr(eh),rh=se({},Ti,{data:0}),gc=jr(rh),Il={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ih(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=nh[o])?!!l[o]:!1}function Xi(){return ih}var p=se({},Yi,{key:function(o){if(o.key){var l=Il[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=El(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?tn[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xi,charCode:function(o){return o.type==="keypress"?El(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?El(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),S=jr(p),k=se({},ms,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),U=jr(k),Y=se({},Yi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xi}),ne=jr(Y),_e=se({},Ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),xt=jr(_e),dr=se({},ms,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),at=jr(dr),Er=[9,13,27,32],ar=u&&"CompositionEvent"in window,ei=null;u&&"documentMode"in document&&(ei=document.documentMode);var Rn=u&&"TextEvent"in window&&!ei,gs=u&&(!ar||ei&&8<ei&&11>=ei),Ol=" ",VS=!1;function US(o,l){switch(o){case"keyup":return Er.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function BS(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Cl=!1;function $F(o,l){switch(o){case"compositionend":return BS(l);case"keypress":return l.which!==32?null:(VS=!0,Ol);case"textInput":return o=l.data,o===Ol&&VS?null:o;default:return null}}function FF(o,l){if(Cl)return o==="compositionend"||!ar&&US(o,l)?(o=hc(),mn=wl=Nn=null,Cl=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return gs&&l.locale!=="ko"?null:l.data;default:return null}}var VF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qS(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!VF[o.type]:l==="textarea"}function zS(o,l,d,g){Xn(g),l=uh(l,"onChange"),0<l.length&&(d=new Sl("onChange","change",null,d,g),o.push({event:d,listeners:l}))}var yc=null,vc=null;function UF(o){lT(o,0)}function ah(o){var l=Ml(o);if(ue(l))return o}function BF(o,l){if(o==="change")return l}var WS=!1;if(u){var ry;if(u){var ny="oninput"in document;if(!ny){var HS=document.createElement("div");HS.setAttribute("oninput","return;"),ny=typeof HS.oninput=="function"}ry=ny}else ry=!1;WS=ry&&(!document.documentMode||9<document.documentMode)}function KS(){yc&&(yc.detachEvent("onpropertychange",GS),vc=yc=null)}function GS(o){if(o.propertyName==="value"&&ah(vc)){var l=[];zS(l,vc,o,_a(o)),xa(UF,l)}}function qF(o,l,d){o==="focusin"?(KS(),yc=l,vc=d,yc.attachEvent("onpropertychange",GS)):o==="focusout"&&KS()}function zF(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return ah(vc)}function WF(o,l){if(o==="click")return ah(l)}function HF(o,l){if(o==="input"||o==="change")return ah(l)}function KF(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var Ai=typeof Object.is=="function"?Object.is:KF;function bc(o,l){if(Ai(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var d=Object.keys(o),g=Object.keys(l);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var _=d[g];if(!c.call(l,_)||!Ai(o[_],l[_]))return!1}return!0}function YS(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function XS(o,l){var d=YS(o);o=0;for(var g;d;){if(d.nodeType===3){if(g=o+d.textContent.length,o<=l&&g>=l)return{node:d,offset:l-o};o=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=YS(d)}}function QS(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?QS(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function JS(){for(var o=window,l=st();l instanceof o.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)o=l.contentWindow;else break;l=st(o.document)}return l}function iy(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function GF(o){var l=JS(),d=o.focusedElem,g=o.selectionRange;if(l!==d&&d&&d.ownerDocument&&QS(d.ownerDocument.documentElement,d)){if(g!==null&&iy(d)){if(l=g.start,o=g.end,o===void 0&&(o=l),"selectionStart"in d)d.selectionStart=l,d.selectionEnd=Math.min(o,d.value.length);else if(o=(l=d.ownerDocument||document)&&l.defaultView||window,o.getSelection){o=o.getSelection();var _=d.textContent.length,T=Math.min(g.start,_);g=g.end===void 0?T:Math.min(g.end,_),!o.extend&&T>g&&(_=g,g=T,T=_),_=XS(d,T);var L=XS(d,g);_&&L&&(o.rangeCount!==1||o.anchorNode!==_.node||o.anchorOffset!==_.offset||o.focusNode!==L.node||o.focusOffset!==L.offset)&&(l=l.createRange(),l.setStart(_.node,_.offset),o.removeAllRanges(),T>g?(o.addRange(l),o.extend(L.node,L.offset)):(l.setEnd(L.node,L.offset),o.addRange(l)))}}for(l=[],o=d;o=o.parentNode;)o.nodeType===1&&l.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<l.length;d++)o=l[d],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var YF=u&&"documentMode"in document&&11>=document.documentMode,Nl=null,ay=null,_c=null,oy=!1;function ZS(o,l,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;oy||Nl==null||Nl!==st(g)||(g=Nl,"selectionStart"in g&&iy(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),_c&&bc(_c,g)||(_c=g,g=uh(ay,"onSelect"),0<g.length&&(l=new Sl("onSelect","select",null,l,d),o.push({event:l,listeners:g}),l.target=Nl)))}function oh(o,l){var d={};return d[o.toLowerCase()]=l.toLowerCase(),d["Webkit"+o]="webkit"+l,d["Moz"+o]="moz"+l,d}var Rl={animationend:oh("Animation","AnimationEnd"),animationiteration:oh("Animation","AnimationIteration"),animationstart:oh("Animation","AnimationStart"),transitionend:oh("Transition","TransitionEnd")},sy={},eT={};u&&(eT=document.createElement("div").style,"AnimationEvent"in window||(delete Rl.animationend.animation,delete Rl.animationiteration.animation,delete Rl.animationstart.animation),"TransitionEvent"in window||delete Rl.transitionend.transition);function sh(o){if(sy[o])return sy[o];if(!Rl[o])return o;var l=Rl[o],d;for(d in l)if(l.hasOwnProperty(d)&&d in eT)return sy[o]=l[d];return o}var tT=sh("animationend"),rT=sh("animationiteration"),nT=sh("animationstart"),iT=sh("transitionend"),aT=new Map,oT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _o(o,l){aT.set(o,l),a(l,[o])}for(var ly=0;ly<oT.length;ly++){var uy=oT[ly],XF=uy.toLowerCase(),QF=uy[0].toUpperCase()+uy.slice(1);_o(XF,"on"+QF)}_o(tT,"onAnimationEnd"),_o(rT,"onAnimationIteration"),_o(nT,"onAnimationStart"),_o("dblclick","onDoubleClick"),_o("focusin","onFocus"),_o("focusout","onBlur"),_o(iT,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JF=new Set("cancel close invalid load scroll toggle".split(" ").concat(xc));function sT(o,l,d){var g=o.type||"unknown-event";o.currentTarget=d,Me(g,l,void 0,o),o.currentTarget=null}function lT(o,l){l=(l&4)!==0;for(var d=0;d<o.length;d++){var g=o[d],_=g.event;g=g.listeners;e:{var T=void 0;if(l)for(var L=g.length-1;0<=L;L--){var B=g[L],W=B.instance,te=B.currentTarget;if(B=B.listener,W!==T&&_.isPropagationStopped())break e;sT(_,B,te),T=W}else for(L=0;L<g.length;L++){if(B=g[L],W=B.instance,te=B.currentTarget,B=B.listener,W!==T&&_.isPropagationStopped())break e;sT(_,B,te),T=W}}}if(kn)throw o=us,kn=!1,us=null,o}function Nt(o,l){var d=l[yy];d===void 0&&(d=l[yy]=new Set);var g=o+"__bubble";d.has(g)||(uT(l,o,2,!1),d.add(g))}function cy(o,l,d){var g=0;l&&(g|=4),uT(d,o,g,l)}var lh="_reactListening"+Math.random().toString(36).slice(2);function wc(o){if(!o[lh]){o[lh]=!0,n.forEach(function(d){d!=="selectionchange"&&(JF.has(d)||cy(d,!1,o),cy(d,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[lh]||(l[lh]=!0,cy("selectionchange",!1,l))}}function uT(o,l,d,g){switch(dc(l)){case 1:var _=Ft;break;case 4:_=ey;break;default:_=fc}d=_.bind(null,l,d,o),_=void 0,!bi||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(_=!0),g?_!==void 0?o.addEventListener(l,d,{capture:!0,passive:_}):o.addEventListener(l,d,!0):_!==void 0?o.addEventListener(l,d,{passive:_}):o.addEventListener(l,d,!1)}function fy(o,l,d,g,_){var T=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var L=g.tag;if(L===3||L===4){var B=g.stateNode.containerInfo;if(B===_||B.nodeType===8&&B.parentNode===_)break;if(L===4)for(L=g.return;L!==null;){var W=L.tag;if((W===3||W===4)&&(W=L.stateNode.containerInfo,W===_||W.nodeType===8&&W.parentNode===_))return;L=L.return}for(;B!==null;){if(L=ys(B),L===null)return;if(W=L.tag,W===5||W===6){g=T=L;continue e}B=B.parentNode}}g=g.return}xa(function(){var te=T,he=_a(d),ge=[];e:{var de=aT.get(o);if(de!==void 0){var Te=Sl,Ie=o;switch(o){case"keypress":if(El(d)===0)break e;case"keydown":case"keyup":Te=S;break;case"focusin":Ie="focus",Te=kl;break;case"focusout":Ie="blur",Te=kl;break;case"beforeblur":case"afterblur":Te=kl;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Te=Al;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Te=Jd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Te=ne;break;case tT:case rT:case nT:Te=ka;break;case iT:Te=xt;break;case"scroll":Te=ty;break;case"wheel":Te=at;break;case"copy":case"cut":case"paste":Te=th;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Te=U}var Ce=(l&4)!==0,rr=!Ce&&o==="scroll",X=Ce?de!==null?de+"Capture":null:de;Ce=[];for(var H=te,J;H!==null;){J=H;var ye=J.stateNode;if(J.tag===5&&ye!==null&&(J=ye,X!==null&&(ye=Wt(H,X),ye!=null&&Ce.push(Ec(H,ye,J)))),rr)break;H=H.return}0<Ce.length&&(de=new Te(de,Ie,null,d,he),ge.push({event:de,listeners:Ce}))}}if((l&7)===0){e:{if(de=o==="mouseover"||o==="pointerover",Te=o==="mouseout"||o==="pointerout",de&&d!==dn&&(Ie=d.relatedTarget||d.fromElement)&&(ys(Ie)||Ie[Ia]))break e;if((Te||de)&&(de=he.window===he?he:(de=he.ownerDocument)?de.defaultView||de.parentWindow:window,Te?(Ie=d.relatedTarget||d.toElement,Te=te,Ie=Ie?ys(Ie):null,Ie!==null&&(rr=be(Ie),Ie!==rr||Ie.tag!==5&&Ie.tag!==6)&&(Ie=null)):(Te=null,Ie=te),Te!==Ie)){if(Ce=Al,ye="onMouseLeave",X="onMouseEnter",H="mouse",(o==="pointerout"||o==="pointerover")&&(Ce=U,ye="onPointerLeave",X="onPointerEnter",H="pointer"),rr=Te==null?de:Ml(Te),J=Ie==null?de:Ml(Ie),de=new Ce(ye,H+"leave",Te,d,he),de.target=rr,de.relatedTarget=J,ye=null,ys(he)===te&&(Ce=new Ce(X,H+"enter",Ie,d,he),Ce.target=J,Ce.relatedTarget=rr,ye=Ce),rr=ye,Te&&Ie)t:{for(Ce=Te,X=Ie,H=0,J=Ce;J;J=jl(J))H++;for(J=0,ye=X;ye;ye=jl(ye))J++;for(;0<H-J;)Ce=jl(Ce),H--;for(;0<J-H;)X=jl(X),J--;for(;H--;){if(Ce===X||X!==null&&Ce===X.alternate)break t;Ce=jl(Ce),X=jl(X)}Ce=null}else Ce=null;Te!==null&&cT(ge,de,Te,Ce,!1),Ie!==null&&rr!==null&&cT(ge,rr,Ie,Ce,!0)}}e:{if(de=te?Ml(te):window,Te=de.nodeName&&de.nodeName.toLowerCase(),Te==="select"||Te==="input"&&de.type==="file")var je=BF;else if(qS(de))if(WS)je=HF;else{je=zF;var Ue=qF}else(Te=de.nodeName)&&Te.toLowerCase()==="input"&&(de.type==="checkbox"||de.type==="radio")&&(je=WF);if(je&&(je=je(o,te))){zS(ge,je,d,he);break e}Ue&&Ue(o,de,te),o==="focusout"&&(Ue=de._wrapperState)&&Ue.controlled&&de.type==="number"&&Jr(de,"number",de.value)}switch(Ue=te?Ml(te):window,o){case"focusin":(qS(Ue)||Ue.contentEditable==="true")&&(Nl=Ue,ay=te,_c=null);break;case"focusout":_c=ay=Nl=null;break;case"mousedown":oy=!0;break;case"contextmenu":case"mouseup":case"dragend":oy=!1,ZS(ge,d,he);break;case"selectionchange":if(YF)break;case"keydown":case"keyup":ZS(ge,d,he)}var Be;if(ar)e:{switch(o){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else Cl?US(o,d)&&(Ge="onCompositionEnd"):o==="keydown"&&d.keyCode===229&&(Ge="onCompositionStart");Ge&&(gs&&d.locale!=="ko"&&(Cl||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&Cl&&(Be=hc()):(Nn=he,wl="value"in Nn?Nn.value:Nn.textContent,Cl=!0)),Ue=uh(te,Ge),0<Ue.length&&(Ge=new gc(Ge,o,null,d,he),ge.push({event:Ge,listeners:Ue}),Be?Ge.data=Be:(Be=BS(d),Be!==null&&(Ge.data=Be)))),(Be=Rn?$F(o,d):FF(o,d))&&(te=uh(te,"onBeforeInput"),0<te.length&&(he=new gc("onBeforeInput","beforeinput",null,d,he),ge.push({event:he,listeners:te}),he.data=Be))}lT(ge,l)})}function Ec(o,l,d){return{instance:o,listener:l,currentTarget:d}}function uh(o,l){for(var d=l+"Capture",g=[];o!==null;){var _=o,T=_.stateNode;_.tag===5&&T!==null&&(_=T,T=Wt(o,d),T!=null&&g.unshift(Ec(o,T,_)),T=Wt(o,l),T!=null&&g.push(Ec(o,T,_))),o=o.return}return g}function jl(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function cT(o,l,d,g,_){for(var T=l._reactName,L=[];d!==null&&d!==g;){var B=d,W=B.alternate,te=B.stateNode;if(W!==null&&W===g)break;B.tag===5&&te!==null&&(B=te,_?(W=Wt(d,T),W!=null&&L.unshift(Ec(d,W,B))):_||(W=Wt(d,T),W!=null&&L.push(Ec(d,W,B)))),d=d.return}L.length!==0&&o.push({event:l,listeners:L})}var ZF=/\r\n?/g,eV=/\u0000|\uFFFD/g;function fT(o){return(typeof o=="string"?o:""+o).replace(ZF,`
`).replace(eV,"")}function ch(o,l,d){if(l=fT(l),fT(o)!==l&&d)throw Error(r(425))}function fh(){}var dy=null,hy=null;function py(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var my=typeof setTimeout=="function"?setTimeout:void 0,tV=typeof clearTimeout=="function"?clearTimeout:void 0,dT=typeof Promise=="function"?Promise:void 0,rV=typeof queueMicrotask=="function"?queueMicrotask:typeof dT<"u"?function(o){return dT.resolve(null).then(o).catch(nV)}:my;function nV(o){setTimeout(function(){throw o})}function gy(o,l){var d=l,g=0;do{var _=d.nextSibling;if(o.removeChild(d),_&&_.nodeType===8)if(d=_.data,d==="/$"){if(g===0){o.removeChild(_),Si(l);return}g--}else d!=="$"&&d!=="$?"&&d!=="$!"||g++;d=_}while(d);Si(l)}function xo(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return o}function hT(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return o;l--}else d==="/$"&&l++}o=o.previousSibling}return null}var Dl=Math.random().toString(36).slice(2),Qi="__reactFiber$"+Dl,Sc="__reactProps$"+Dl,Ia="__reactContainer$"+Dl,yy="__reactEvents$"+Dl,iV="__reactListeners$"+Dl,aV="__reactHandles$"+Dl;function ys(o){var l=o[Qi];if(l)return l;for(var d=o.parentNode;d;){if(l=d[Ia]||d[Qi]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(o=hT(o);o!==null;){if(d=o[Qi])return d;o=hT(o)}return l}o=d,d=o.parentNode}return null}function Tc(o){return o=o[Qi]||o[Ia],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Ml(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(r(33))}function dh(o){return o[Sc]||null}var vy=[],Ll=-1;function wo(o){return{current:o}}function Rt(o){0>Ll||(o.current=vy[Ll],vy[Ll]=null,Ll--)}function kt(o,l){Ll++,vy[Ll]=o.current,o.current=l}var Eo={},Br=wo(Eo),gn=wo(!1),vs=Eo;function $l(o,l){var d=o.type.contextTypes;if(!d)return Eo;var g=o.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===l)return g.__reactInternalMemoizedMaskedChildContext;var _={},T;for(T in d)_[T]=l[T];return g&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=_),_}function yn(o){return o=o.childContextTypes,o!=null}function hh(){Rt(gn),Rt(Br)}function pT(o,l,d){if(Br.current!==Eo)throw Error(r(168));kt(Br,l),kt(gn,d)}function mT(o,l,d){var g=o.stateNode;if(l=l.childContextTypes,typeof g.getChildContext!="function")return d;g=g.getChildContext();for(var _ in g)if(!(_ in l))throw Error(r(108,$e(o)||"Unknown",_));return se({},d,g)}function ph(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Eo,vs=Br.current,kt(Br,o),kt(gn,gn.current),!0}function gT(o,l,d){var g=o.stateNode;if(!g)throw Error(r(169));d?(o=mT(o,l,vs),g.__reactInternalMemoizedMergedChildContext=o,Rt(gn),Rt(Br),kt(Br,o)):Rt(gn),kt(gn,d)}var Oa=null,mh=!1,by=!1;function yT(o){Oa===null?Oa=[o]:Oa.push(o)}function oV(o){mh=!0,yT(o)}function So(){if(!by&&Oa!==null){by=!0;var o=0,l=nt;try{var d=Oa;for(nt=1;o<d.length;o++){var g=d[o];do g=g(!0);while(g!==null)}Oa=null,mh=!1}catch(_){throw Oa!==null&&(Oa=Oa.slice(o+1)),$t(Qn,So),_}finally{nt=l,by=!1}}return null}var Fl=[],Vl=0,gh=null,yh=0,ti=[],ri=0,bs=null,Ca=1,Na="";function _s(o,l){Fl[Vl++]=yh,Fl[Vl++]=gh,gh=o,yh=l}function vT(o,l,d){ti[ri++]=Ca,ti[ri++]=Na,ti[ri++]=bs,bs=o;var g=Ca;o=Na;var _=32-en(g)-1;g&=~(1<<_),d+=1;var T=32-en(l)+_;if(30<T){var L=_-_%5;T=(g&(1<<L)-1).toString(32),g>>=L,_-=L,Ca=1<<32-en(l)+_|d<<_|g,Na=T+o}else Ca=1<<T|d<<_|g,Na=o}function _y(o){o.return!==null&&(_s(o,1),vT(o,1,0))}function xy(o){for(;o===gh;)gh=Fl[--Vl],Fl[Vl]=null,yh=Fl[--Vl],Fl[Vl]=null;for(;o===bs;)bs=ti[--ri],ti[ri]=null,Na=ti[--ri],ti[ri]=null,Ca=ti[--ri],ti[ri]=null}var jn=null,Dn=null,Vt=!1,Pi=null;function bT(o,l){var d=oi(5,null,null,0);d.elementType="DELETED",d.stateNode=l,d.return=o,l=o.deletions,l===null?(o.deletions=[d],o.flags|=16):l.push(d)}function _T(o,l){switch(o.tag){case 5:var d=o.type;return l=l.nodeType!==1||d.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,jn=o,Dn=xo(l.firstChild),!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,jn=o,Dn=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(d=bs!==null?{id:Ca,overflow:Na}:null,o.memoizedState={dehydrated:l,treeContext:d,retryLane:1073741824},d=oi(18,null,null,0),d.stateNode=l,d.return=o,o.child=d,jn=o,Dn=null,!0):!1;default:return!1}}function wy(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Ey(o){if(Vt){var l=Dn;if(l){var d=l;if(!_T(o,l)){if(wy(o))throw Error(r(418));l=xo(d.nextSibling);var g=jn;l&&_T(o,l)?bT(g,d):(o.flags=o.flags&-4097|2,Vt=!1,jn=o)}}else{if(wy(o))throw Error(r(418));o.flags=o.flags&-4097|2,Vt=!1,jn=o}}}function xT(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;jn=o}function vh(o){if(o!==jn)return!1;if(!Vt)return xT(o),Vt=!0,!1;var l;if((l=o.tag!==3)&&!(l=o.tag!==5)&&(l=o.type,l=l!=="head"&&l!=="body"&&!py(o.type,o.memoizedProps)),l&&(l=Dn)){if(wy(o))throw wT(),Error(r(418));for(;l;)bT(o,l),l=xo(l.nextSibling)}if(xT(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="/$"){if(l===0){Dn=xo(o.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++}o=o.nextSibling}Dn=null}}else Dn=jn?xo(o.stateNode.nextSibling):null;return!0}function wT(){for(var o=Dn;o;)o=xo(o.nextSibling)}function Ul(){Dn=jn=null,Vt=!1}function Sy(o){Pi===null?Pi=[o]:Pi.push(o)}var sV=$.ReactCurrentBatchConfig;function Ac(o,l,d){if(o=d.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(r(309));var g=d.stateNode}if(!g)throw Error(r(147,o));var _=g,T=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===T?l.ref:(l=function(L){var B=_.refs;L===null?delete B[T]:B[T]=L},l._stringRef=T,l)}if(typeof o!="string")throw Error(r(284));if(!d._owner)throw Error(r(290,o))}return o}function bh(o,l){throw o=Object.prototype.toString.call(l),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function ET(o){var l=o._init;return l(o._payload)}function ST(o){function l(X,H){if(o){var J=X.deletions;J===null?(X.deletions=[H],X.flags|=16):J.push(H)}}function d(X,H){if(!o)return null;for(;H!==null;)l(X,H),H=H.sibling;return null}function g(X,H){for(X=new Map;H!==null;)H.key!==null?X.set(H.key,H):X.set(H.index,H),H=H.sibling;return X}function _(X,H){return X=No(X,H),X.index=0,X.sibling=null,X}function T(X,H,J){return X.index=J,o?(J=X.alternate,J!==null?(J=J.index,J<H?(X.flags|=2,H):J):(X.flags|=2,H)):(X.flags|=1048576,H)}function L(X){return o&&X.alternate===null&&(X.flags|=2),X}function B(X,H,J,ye){return H===null||H.tag!==6?(H=mv(J,X.mode,ye),H.return=X,H):(H=_(H,J),H.return=X,H)}function W(X,H,J,ye){var je=J.type;return je===A?he(X,H,J.props.children,ye,J.key):H!==null&&(H.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===re&&ET(je)===H.type)?(ye=_(H,J.props),ye.ref=Ac(X,H,J),ye.return=X,ye):(ye=qh(J.type,J.key,J.props,null,X.mode,ye),ye.ref=Ac(X,H,J),ye.return=X,ye)}function te(X,H,J,ye){return H===null||H.tag!==4||H.stateNode.containerInfo!==J.containerInfo||H.stateNode.implementation!==J.implementation?(H=gv(J,X.mode,ye),H.return=X,H):(H=_(H,J.children||[]),H.return=X,H)}function he(X,H,J,ye,je){return H===null||H.tag!==7?(H=ks(J,X.mode,ye,je),H.return=X,H):(H=_(H,J),H.return=X,H)}function ge(X,H,J){if(typeof H=="string"&&H!==""||typeof H=="number")return H=mv(""+H,X.mode,J),H.return=X,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case I:return J=qh(H.type,H.key,H.props,null,X.mode,J),J.ref=Ac(X,null,H),J.return=X,J;case j:return H=gv(H,X.mode,J),H.return=X,H;case re:var ye=H._init;return ge(X,ye(H._payload),J)}if(qt(H)||ie(H))return H=ks(H,X.mode,J,null),H.return=X,H;bh(X,H)}return null}function de(X,H,J,ye){var je=H!==null?H.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return je!==null?null:B(X,H,""+J,ye);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case I:return J.key===je?W(X,H,J,ye):null;case j:return J.key===je?te(X,H,J,ye):null;case re:return je=J._init,de(X,H,je(J._payload),ye)}if(qt(J)||ie(J))return je!==null?null:he(X,H,J,ye,null);bh(X,J)}return null}function Te(X,H,J,ye,je){if(typeof ye=="string"&&ye!==""||typeof ye=="number")return X=X.get(J)||null,B(H,X,""+ye,je);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case I:return X=X.get(ye.key===null?J:ye.key)||null,W(H,X,ye,je);case j:return X=X.get(ye.key===null?J:ye.key)||null,te(H,X,ye,je);case re:var Ue=ye._init;return Te(X,H,J,Ue(ye._payload),je)}if(qt(ye)||ie(ye))return X=X.get(J)||null,he(H,X,ye,je,null);bh(H,ye)}return null}function Ie(X,H,J,ye){for(var je=null,Ue=null,Be=H,Ge=H=0,Ar=null;Be!==null&&Ge<J.length;Ge++){Be.index>Ge?(Ar=Be,Be=null):Ar=Be.sibling;var ct=de(X,Be,J[Ge],ye);if(ct===null){Be===null&&(Be=Ar);break}o&&Be&&ct.alternate===null&&l(X,Be),H=T(ct,H,Ge),Ue===null?je=ct:Ue.sibling=ct,Ue=ct,Be=Ar}if(Ge===J.length)return d(X,Be),Vt&&_s(X,Ge),je;if(Be===null){for(;Ge<J.length;Ge++)Be=ge(X,J[Ge],ye),Be!==null&&(H=T(Be,H,Ge),Ue===null?je=Be:Ue.sibling=Be,Ue=Be);return Vt&&_s(X,Ge),je}for(Be=g(X,Be);Ge<J.length;Ge++)Ar=Te(Be,X,Ge,J[Ge],ye),Ar!==null&&(o&&Ar.alternate!==null&&Be.delete(Ar.key===null?Ge:Ar.key),H=T(Ar,H,Ge),Ue===null?je=Ar:Ue.sibling=Ar,Ue=Ar);return o&&Be.forEach(function(Ro){return l(X,Ro)}),Vt&&_s(X,Ge),je}function Ce(X,H,J,ye){var je=ie(J);if(typeof je!="function")throw Error(r(150));if(J=je.call(J),J==null)throw Error(r(151));for(var Ue=je=null,Be=H,Ge=H=0,Ar=null,ct=J.next();Be!==null&&!ct.done;Ge++,ct=J.next()){Be.index>Ge?(Ar=Be,Be=null):Ar=Be.sibling;var Ro=de(X,Be,ct.value,ye);if(Ro===null){Be===null&&(Be=Ar);break}o&&Be&&Ro.alternate===null&&l(X,Be),H=T(Ro,H,Ge),Ue===null?je=Ro:Ue.sibling=Ro,Ue=Ro,Be=Ar}if(ct.done)return d(X,Be),Vt&&_s(X,Ge),je;if(Be===null){for(;!ct.done;Ge++,ct=J.next())ct=ge(X,ct.value,ye),ct!==null&&(H=T(ct,H,Ge),Ue===null?je=ct:Ue.sibling=ct,Ue=ct);return Vt&&_s(X,Ge),je}for(Be=g(X,Be);!ct.done;Ge++,ct=J.next())ct=Te(Be,X,Ge,ct.value,ye),ct!==null&&(o&&ct.alternate!==null&&Be.delete(ct.key===null?Ge:ct.key),H=T(ct,H,Ge),Ue===null?je=ct:Ue.sibling=ct,Ue=ct);return o&&Be.forEach(function(VV){return l(X,VV)}),Vt&&_s(X,Ge),je}function rr(X,H,J,ye){if(typeof J=="object"&&J!==null&&J.type===A&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case I:e:{for(var je=J.key,Ue=H;Ue!==null;){if(Ue.key===je){if(je=J.type,je===A){if(Ue.tag===7){d(X,Ue.sibling),H=_(Ue,J.props.children),H.return=X,X=H;break e}}else if(Ue.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===re&&ET(je)===Ue.type){d(X,Ue.sibling),H=_(Ue,J.props),H.ref=Ac(X,Ue,J),H.return=X,X=H;break e}d(X,Ue);break}else l(X,Ue);Ue=Ue.sibling}J.type===A?(H=ks(J.props.children,X.mode,ye,J.key),H.return=X,X=H):(ye=qh(J.type,J.key,J.props,null,X.mode,ye),ye.ref=Ac(X,H,J),ye.return=X,X=ye)}return L(X);case j:e:{for(Ue=J.key;H!==null;){if(H.key===Ue)if(H.tag===4&&H.stateNode.containerInfo===J.containerInfo&&H.stateNode.implementation===J.implementation){d(X,H.sibling),H=_(H,J.children||[]),H.return=X,X=H;break e}else{d(X,H);break}else l(X,H);H=H.sibling}H=gv(J,X.mode,ye),H.return=X,X=H}return L(X);case re:return Ue=J._init,rr(X,H,Ue(J._payload),ye)}if(qt(J))return Ie(X,H,J,ye);if(ie(J))return Ce(X,H,J,ye);bh(X,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,H!==null&&H.tag===6?(d(X,H.sibling),H=_(H,J),H.return=X,X=H):(d(X,H),H=mv(J,X.mode,ye),H.return=X,X=H),L(X)):d(X,H)}return rr}var Bl=ST(!0),TT=ST(!1),_h=wo(null),xh=null,ql=null,Ty=null;function Ay(){Ty=ql=xh=null}function Py(o){var l=_h.current;Rt(_h),o._currentValue=l}function ky(o,l,d){for(;o!==null;){var g=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),o===d)break;o=o.return}}function zl(o,l){xh=o,Ty=ql=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&l)!==0&&(vn=!0),o.firstContext=null)}function ni(o){var l=o._currentValue;if(Ty!==o)if(o={context:o,memoizedValue:l,next:null},ql===null){if(xh===null)throw Error(r(308));ql=o,xh.dependencies={lanes:0,firstContext:o}}else ql=ql.next=o;return l}var xs=null;function Iy(o){xs===null?xs=[o]:xs.push(o)}function AT(o,l,d,g){var _=l.interleaved;return _===null?(d.next=d,Iy(l)):(d.next=_.next,_.next=d),l.interleaved=d,Ra(o,g)}function Ra(o,l){o.lanes|=l;var d=o.alternate;for(d!==null&&(d.lanes|=l),d=o,o=o.return;o!==null;)o.childLanes|=l,d=o.alternate,d!==null&&(d.childLanes|=l),d=o,o=o.return;return d.tag===3?d.stateNode:null}var To=!1;function Oy(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function PT(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function ja(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function Ao(o,l,d){var g=o.updateQueue;if(g===null)return null;if(g=g.shared,(ut&2)!==0){var _=g.pending;return _===null?l.next=l:(l.next=_.next,_.next=l),g.pending=l,Ra(o,d)}return _=g.interleaved,_===null?(l.next=l,Iy(g)):(l.next=_.next,_.next=l),g.interleaved=l,Ra(o,d)}function wh(o,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194240)!==0)){var g=l.lanes;g&=o.pendingLanes,d|=g,l.lanes=d,mo(o,d)}}function kT(o,l){var d=o.updateQueue,g=o.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var _=null,T=null;if(d=d.firstBaseUpdate,d!==null){do{var L={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};T===null?_=T=L:T=T.next=L,d=d.next}while(d!==null);T===null?_=T=l:T=T.next=l}else _=T=l;d={baseState:g.baseState,firstBaseUpdate:_,lastBaseUpdate:T,shared:g.shared,effects:g.effects},o.updateQueue=d;return}o=d.lastBaseUpdate,o===null?d.firstBaseUpdate=l:o.next=l,d.lastBaseUpdate=l}function Eh(o,l,d,g){var _=o.updateQueue;To=!1;var T=_.firstBaseUpdate,L=_.lastBaseUpdate,B=_.shared.pending;if(B!==null){_.shared.pending=null;var W=B,te=W.next;W.next=null,L===null?T=te:L.next=te,L=W;var he=o.alternate;he!==null&&(he=he.updateQueue,B=he.lastBaseUpdate,B!==L&&(B===null?he.firstBaseUpdate=te:B.next=te,he.lastBaseUpdate=W))}if(T!==null){var ge=_.baseState;L=0,he=te=W=null,B=T;do{var de=B.lane,Te=B.eventTime;if((g&de)===de){he!==null&&(he=he.next={eventTime:Te,lane:0,tag:B.tag,payload:B.payload,callback:B.callback,next:null});e:{var Ie=o,Ce=B;switch(de=l,Te=d,Ce.tag){case 1:if(Ie=Ce.payload,typeof Ie=="function"){ge=Ie.call(Te,ge,de);break e}ge=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Ce.payload,de=typeof Ie=="function"?Ie.call(Te,ge,de):Ie,de==null)break e;ge=se({},ge,de);break e;case 2:To=!0}}B.callback!==null&&B.lane!==0&&(o.flags|=64,de=_.effects,de===null?_.effects=[B]:de.push(B))}else Te={eventTime:Te,lane:de,tag:B.tag,payload:B.payload,callback:B.callback,next:null},he===null?(te=he=Te,W=ge):he=he.next=Te,L|=de;if(B=B.next,B===null){if(B=_.shared.pending,B===null)break;de=B,B=de.next,de.next=null,_.lastBaseUpdate=de,_.shared.pending=null}}while(!0);if(he===null&&(W=ge),_.baseState=W,_.firstBaseUpdate=te,_.lastBaseUpdate=he,l=_.shared.interleaved,l!==null){_=l;do L|=_.lane,_=_.next;while(_!==l)}else T===null&&(_.shared.lanes=0);Ss|=L,o.lanes=L,o.memoizedState=ge}}function IT(o,l,d){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var g=o[l],_=g.callback;if(_!==null){if(g.callback=null,g=d,typeof _!="function")throw Error(r(191,_));_.call(g)}}}var Pc={},Ji=wo(Pc),kc=wo(Pc),Ic=wo(Pc);function ws(o){if(o===Pc)throw Error(r(174));return o}function Cy(o,l){switch(kt(Ic,l),kt(kc,o),kt(Ji,Pc),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:tr(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=tr(l,o)}Rt(Ji),kt(Ji,l)}function Wl(){Rt(Ji),Rt(kc),Rt(Ic)}function OT(o){ws(Ic.current);var l=ws(Ji.current),d=tr(l,o.type);l!==d&&(kt(kc,o),kt(Ji,d))}function Ny(o){kc.current===o&&(Rt(Ji),Rt(kc))}var Ht=wo(0);function Sh(o){for(var l=o;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Ry=[];function jy(){for(var o=0;o<Ry.length;o++)Ry[o]._workInProgressVersionPrimary=null;Ry.length=0}var Th=$.ReactCurrentDispatcher,Dy=$.ReactCurrentBatchConfig,Es=0,Kt=null,hr=null,Sr=null,Ah=!1,Oc=!1,Cc=0,lV=0;function qr(){throw Error(r(321))}function My(o,l){if(l===null)return!1;for(var d=0;d<l.length&&d<o.length;d++)if(!Ai(o[d],l[d]))return!1;return!0}function Ly(o,l,d,g,_,T){if(Es=T,Kt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Th.current=o===null||o.memoizedState===null?dV:hV,o=d(g,_),Oc){T=0;do{if(Oc=!1,Cc=0,25<=T)throw Error(r(301));T+=1,Sr=hr=null,l.updateQueue=null,Th.current=pV,o=d(g,_)}while(Oc)}if(Th.current=Ih,l=hr!==null&&hr.next!==null,Es=0,Sr=hr=Kt=null,Ah=!1,l)throw Error(r(300));return o}function $y(){var o=Cc!==0;return Cc=0,o}function Zi(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sr===null?Kt.memoizedState=Sr=o:Sr=Sr.next=o,Sr}function ii(){if(hr===null){var o=Kt.alternate;o=o!==null?o.memoizedState:null}else o=hr.next;var l=Sr===null?Kt.memoizedState:Sr.next;if(l!==null)Sr=l,hr=o;else{if(o===null)throw Error(r(310));hr=o,o={memoizedState:hr.memoizedState,baseState:hr.baseState,baseQueue:hr.baseQueue,queue:hr.queue,next:null},Sr===null?Kt.memoizedState=Sr=o:Sr=Sr.next=o}return Sr}function Nc(o,l){return typeof l=="function"?l(o):l}function Fy(o){var l=ii(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=o;var g=hr,_=g.baseQueue,T=d.pending;if(T!==null){if(_!==null){var L=_.next;_.next=T.next,T.next=L}g.baseQueue=_=T,d.pending=null}if(_!==null){T=_.next,g=g.baseState;var B=L=null,W=null,te=T;do{var he=te.lane;if((Es&he)===he)W!==null&&(W=W.next={lane:0,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),g=te.hasEagerState?te.eagerState:o(g,te.action);else{var ge={lane:he,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null};W===null?(B=W=ge,L=g):W=W.next=ge,Kt.lanes|=he,Ss|=he}te=te.next}while(te!==null&&te!==T);W===null?L=g:W.next=B,Ai(g,l.memoizedState)||(vn=!0),l.memoizedState=g,l.baseState=L,l.baseQueue=W,d.lastRenderedState=g}if(o=d.interleaved,o!==null){_=o;do T=_.lane,Kt.lanes|=T,Ss|=T,_=_.next;while(_!==o)}else _===null&&(d.lanes=0);return[l.memoizedState,d.dispatch]}function Vy(o){var l=ii(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=o;var g=d.dispatch,_=d.pending,T=l.memoizedState;if(_!==null){d.pending=null;var L=_=_.next;do T=o(T,L.action),L=L.next;while(L!==_);Ai(T,l.memoizedState)||(vn=!0),l.memoizedState=T,l.baseQueue===null&&(l.baseState=T),d.lastRenderedState=T}return[T,g]}function CT(){}function NT(o,l){var d=Kt,g=ii(),_=l(),T=!Ai(g.memoizedState,_);if(T&&(g.memoizedState=_,vn=!0),g=g.queue,Uy(DT.bind(null,d,g,o),[o]),g.getSnapshot!==l||T||Sr!==null&&Sr.memoizedState.tag&1){if(d.flags|=2048,Rc(9,jT.bind(null,d,g,_,l),void 0,null),Tr===null)throw Error(r(349));(Es&30)!==0||RT(d,l,_)}return _}function RT(o,l,d){o.flags|=16384,o={getSnapshot:l,value:d},l=Kt.updateQueue,l===null?(l={lastEffect:null,stores:null},Kt.updateQueue=l,l.stores=[o]):(d=l.stores,d===null?l.stores=[o]:d.push(o))}function jT(o,l,d,g){l.value=d,l.getSnapshot=g,MT(l)&&LT(o)}function DT(o,l,d){return d(function(){MT(l)&&LT(o)})}function MT(o){var l=o.getSnapshot;o=o.value;try{var d=l();return!Ai(o,d)}catch{return!0}}function LT(o){var l=Ra(o,1);l!==null&&Ci(l,o,1,-1)}function $T(o){var l=Zi();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nc,lastRenderedState:o},l.queue=o,o=o.dispatch=fV.bind(null,Kt,o),[l.memoizedState,o]}function Rc(o,l,d,g){return o={tag:o,create:l,destroy:d,deps:g,next:null},l=Kt.updateQueue,l===null?(l={lastEffect:null,stores:null},Kt.updateQueue=l,l.lastEffect=o.next=o):(d=l.lastEffect,d===null?l.lastEffect=o.next=o:(g=d.next,d.next=o,o.next=g,l.lastEffect=o)),o}function FT(){return ii().memoizedState}function Ph(o,l,d,g){var _=Zi();Kt.flags|=o,_.memoizedState=Rc(1|l,d,void 0,g===void 0?null:g)}function kh(o,l,d,g){var _=ii();g=g===void 0?null:g;var T=void 0;if(hr!==null){var L=hr.memoizedState;if(T=L.destroy,g!==null&&My(g,L.deps)){_.memoizedState=Rc(l,d,T,g);return}}Kt.flags|=o,_.memoizedState=Rc(1|l,d,T,g)}function VT(o,l){return Ph(8390656,8,o,l)}function Uy(o,l){return kh(2048,8,o,l)}function UT(o,l){return kh(4,2,o,l)}function BT(o,l){return kh(4,4,o,l)}function qT(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function zT(o,l,d){return d=d!=null?d.concat([o]):null,kh(4,4,qT.bind(null,l,o),d)}function By(){}function WT(o,l){var d=ii();l=l===void 0?null:l;var g=d.memoizedState;return g!==null&&l!==null&&My(l,g[1])?g[0]:(d.memoizedState=[o,l],o)}function HT(o,l){var d=ii();l=l===void 0?null:l;var g=d.memoizedState;return g!==null&&l!==null&&My(l,g[1])?g[0]:(o=o(),d.memoizedState=[o,l],o)}function KT(o,l,d){return(Es&21)===0?(o.baseState&&(o.baseState=!1,vn=!0),o.memoizedState=d):(Ai(d,l)||(d=ds(),Kt.lanes|=d,Ss|=d,o.baseState=!0),l)}function uV(o,l){var d=nt;nt=d!==0&&4>d?d:4,o(!0);var g=Dy.transition;Dy.transition={};try{o(!1),l()}finally{nt=d,Dy.transition=g}}function GT(){return ii().memoizedState}function cV(o,l,d){var g=Oo(o);if(d={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null},YT(o))XT(l,d);else if(d=AT(o,l,d,g),d!==null){var _=nn();Ci(d,o,g,_),QT(d,l,g)}}function fV(o,l,d){var g=Oo(o),_={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null};if(YT(o))XT(l,_);else{var T=o.alternate;if(o.lanes===0&&(T===null||T.lanes===0)&&(T=l.lastRenderedReducer,T!==null))try{var L=l.lastRenderedState,B=T(L,d);if(_.hasEagerState=!0,_.eagerState=B,Ai(B,L)){var W=l.interleaved;W===null?(_.next=_,Iy(l)):(_.next=W.next,W.next=_),l.interleaved=_;return}}catch{}finally{}d=AT(o,l,_,g),d!==null&&(_=nn(),Ci(d,o,g,_),QT(d,l,g))}}function YT(o){var l=o.alternate;return o===Kt||l!==null&&l===Kt}function XT(o,l){Oc=Ah=!0;var d=o.pending;d===null?l.next=l:(l.next=d.next,d.next=l),o.pending=l}function QT(o,l,d){if((d&4194240)!==0){var g=l.lanes;g&=o.pendingLanes,d|=g,l.lanes=d,mo(o,d)}}var Ih={readContext:ni,useCallback:qr,useContext:qr,useEffect:qr,useImperativeHandle:qr,useInsertionEffect:qr,useLayoutEffect:qr,useMemo:qr,useReducer:qr,useRef:qr,useState:qr,useDebugValue:qr,useDeferredValue:qr,useTransition:qr,useMutableSource:qr,useSyncExternalStore:qr,useId:qr,unstable_isNewReconciler:!1},dV={readContext:ni,useCallback:function(o,l){return Zi().memoizedState=[o,l===void 0?null:l],o},useContext:ni,useEffect:VT,useImperativeHandle:function(o,l,d){return d=d!=null?d.concat([o]):null,Ph(4194308,4,qT.bind(null,l,o),d)},useLayoutEffect:function(o,l){return Ph(4194308,4,o,l)},useInsertionEffect:function(o,l){return Ph(4,2,o,l)},useMemo:function(o,l){var d=Zi();return l=l===void 0?null:l,o=o(),d.memoizedState=[o,l],o},useReducer:function(o,l,d){var g=Zi();return l=d!==void 0?d(l):l,g.memoizedState=g.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},g.queue=o,o=o.dispatch=cV.bind(null,Kt,o),[g.memoizedState,o]},useRef:function(o){var l=Zi();return o={current:o},l.memoizedState=o},useState:$T,useDebugValue:By,useDeferredValue:function(o){return Zi().memoizedState=o},useTransition:function(){var o=$T(!1),l=o[0];return o=uV.bind(null,o[1]),Zi().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,d){var g=Kt,_=Zi();if(Vt){if(d===void 0)throw Error(r(407));d=d()}else{if(d=l(),Tr===null)throw Error(r(349));(Es&30)!==0||RT(g,l,d)}_.memoizedState=d;var T={value:d,getSnapshot:l};return _.queue=T,VT(DT.bind(null,g,T,o),[o]),g.flags|=2048,Rc(9,jT.bind(null,g,T,d,l),void 0,null),d},useId:function(){var o=Zi(),l=Tr.identifierPrefix;if(Vt){var d=Na,g=Ca;d=(g&~(1<<32-en(g)-1)).toString(32)+d,l=":"+l+"R"+d,d=Cc++,0<d&&(l+="H"+d.toString(32)),l+=":"}else d=lV++,l=":"+l+"r"+d.toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},hV={readContext:ni,useCallback:WT,useContext:ni,useEffect:Uy,useImperativeHandle:zT,useInsertionEffect:UT,useLayoutEffect:BT,useMemo:HT,useReducer:Fy,useRef:FT,useState:function(){return Fy(Nc)},useDebugValue:By,useDeferredValue:function(o){var l=ii();return KT(l,hr.memoizedState,o)},useTransition:function(){var o=Fy(Nc)[0],l=ii().memoizedState;return[o,l]},useMutableSource:CT,useSyncExternalStore:NT,useId:GT,unstable_isNewReconciler:!1},pV={readContext:ni,useCallback:WT,useContext:ni,useEffect:Uy,useImperativeHandle:zT,useInsertionEffect:UT,useLayoutEffect:BT,useMemo:HT,useReducer:Vy,useRef:FT,useState:function(){return Vy(Nc)},useDebugValue:By,useDeferredValue:function(o){var l=ii();return hr===null?l.memoizedState=o:KT(l,hr.memoizedState,o)},useTransition:function(){var o=Vy(Nc)[0],l=ii().memoizedState;return[o,l]},useMutableSource:CT,useSyncExternalStore:NT,useId:GT,unstable_isNewReconciler:!1};function ki(o,l){if(o&&o.defaultProps){l=se({},l),o=o.defaultProps;for(var d in o)l[d]===void 0&&(l[d]=o[d]);return l}return l}function qy(o,l,d,g){l=o.memoizedState,d=d(g,l),d=d==null?l:se({},l,d),o.memoizedState=d,o.lanes===0&&(o.updateQueue.baseState=d)}var Oh={isMounted:function(o){return(o=o._reactInternals)?be(o)===o:!1},enqueueSetState:function(o,l,d){o=o._reactInternals;var g=nn(),_=Oo(o),T=ja(g,_);T.payload=l,d!=null&&(T.callback=d),l=Ao(o,T,_),l!==null&&(Ci(l,o,_,g),wh(l,o,_))},enqueueReplaceState:function(o,l,d){o=o._reactInternals;var g=nn(),_=Oo(o),T=ja(g,_);T.tag=1,T.payload=l,d!=null&&(T.callback=d),l=Ao(o,T,_),l!==null&&(Ci(l,o,_,g),wh(l,o,_))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var d=nn(),g=Oo(o),_=ja(d,g);_.tag=2,l!=null&&(_.callback=l),l=Ao(o,_,g),l!==null&&(Ci(l,o,g,d),wh(l,o,g))}};function JT(o,l,d,g,_,T,L){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(g,T,L):l.prototype&&l.prototype.isPureReactComponent?!bc(d,g)||!bc(_,T):!0}function ZT(o,l,d){var g=!1,_=Eo,T=l.contextType;return typeof T=="object"&&T!==null?T=ni(T):(_=yn(l)?vs:Br.current,g=l.contextTypes,T=(g=g!=null)?$l(o,_):Eo),l=new l(d,T),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Oh,o.stateNode=l,l._reactInternals=o,g&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=_,o.__reactInternalMemoizedMaskedChildContext=T),l}function eA(o,l,d,g){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,g),l.state!==o&&Oh.enqueueReplaceState(l,l.state,null)}function zy(o,l,d,g){var _=o.stateNode;_.props=d,_.state=o.memoizedState,_.refs={},Oy(o);var T=l.contextType;typeof T=="object"&&T!==null?_.context=ni(T):(T=yn(l)?vs:Br.current,_.context=$l(o,T)),_.state=o.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(qy(o,l,T,d),_.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(l=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),l!==_.state&&Oh.enqueueReplaceState(_,_.state,null),Eh(o,d,_,g),_.state=o.memoizedState),typeof _.componentDidMount=="function"&&(o.flags|=4194308)}function Hl(o,l){try{var d="",g=l;do d+=Re(g),g=g.return;while(g);var _=d}catch(T){_=`
Error generating stack: `+T.message+`
`+T.stack}return{value:o,source:l,stack:_,digest:null}}function Wy(o,l,d){return{value:o,source:null,stack:d??null,digest:l??null}}function Hy(o,l){try{console.error(l.value)}catch(d){setTimeout(function(){throw d})}}var mV=typeof WeakMap=="function"?WeakMap:Map;function tA(o,l,d){d=ja(-1,d),d.tag=3,d.payload={element:null};var g=l.value;return d.callback=function(){Lh||(Lh=!0,sv=g),Hy(o,l)},d}function rA(o,l,d){d=ja(-1,d),d.tag=3;var g=o.type.getDerivedStateFromError;if(typeof g=="function"){var _=l.value;d.payload=function(){return g(_)},d.callback=function(){Hy(o,l)}}var T=o.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(d.callback=function(){Hy(o,l),typeof g!="function"&&(ko===null?ko=new Set([this]):ko.add(this));var L=l.stack;this.componentDidCatch(l.value,{componentStack:L!==null?L:""})}),d}function nA(o,l,d){var g=o.pingCache;if(g===null){g=o.pingCache=new mV;var _=new Set;g.set(l,_)}else _=g.get(l),_===void 0&&(_=new Set,g.set(l,_));_.has(d)||(_.add(d),o=IV.bind(null,o,l,d),l.then(o,o))}function iA(o){do{var l;if((l=o.tag===13)&&(l=o.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return o;o=o.return}while(o!==null);return null}function aA(o,l,d,g,_){return(o.mode&1)===0?(o===l?o.flags|=65536:(o.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(l=ja(-1,1),l.tag=2,Ao(d,l,1))),d.lanes|=1),o):(o.flags|=65536,o.lanes=_,o)}var gV=$.ReactCurrentOwner,vn=!1;function rn(o,l,d,g){l.child=o===null?TT(l,null,d,g):Bl(l,o.child,d,g)}function oA(o,l,d,g,_){d=d.render;var T=l.ref;return zl(l,_),g=Ly(o,l,d,g,T,_),d=$y(),o!==null&&!vn?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~_,Da(o,l,_)):(Vt&&d&&_y(l),l.flags|=1,rn(o,l,g,_),l.child)}function sA(o,l,d,g,_){if(o===null){var T=d.type;return typeof T=="function"&&!pv(T)&&T.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(l.tag=15,l.type=T,lA(o,l,T,g,_)):(o=qh(d.type,null,g,l,l.mode,_),o.ref=l.ref,o.return=l,l.child=o)}if(T=o.child,(o.lanes&_)===0){var L=T.memoizedProps;if(d=d.compare,d=d!==null?d:bc,d(L,g)&&o.ref===l.ref)return Da(o,l,_)}return l.flags|=1,o=No(T,g),o.ref=l.ref,o.return=l,l.child=o}function lA(o,l,d,g,_){if(o!==null){var T=o.memoizedProps;if(bc(T,g)&&o.ref===l.ref)if(vn=!1,l.pendingProps=g=T,(o.lanes&_)!==0)(o.flags&131072)!==0&&(vn=!0);else return l.lanes=o.lanes,Da(o,l,_)}return Ky(o,l,d,g,_)}function uA(o,l,d){var g=l.pendingProps,_=g.children,T=o!==null?o.memoizedState:null;if(g.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},kt(Gl,Mn),Mn|=d;else{if((d&1073741824)===0)return o=T!==null?T.baseLanes|d:d,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,kt(Gl,Mn),Mn|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=T!==null?T.baseLanes:d,kt(Gl,Mn),Mn|=g}else T!==null?(g=T.baseLanes|d,l.memoizedState=null):g=d,kt(Gl,Mn),Mn|=g;return rn(o,l,_,d),l.child}function cA(o,l){var d=l.ref;(o===null&&d!==null||o!==null&&o.ref!==d)&&(l.flags|=512,l.flags|=2097152)}function Ky(o,l,d,g,_){var T=yn(d)?vs:Br.current;return T=$l(l,T),zl(l,_),d=Ly(o,l,d,g,T,_),g=$y(),o!==null&&!vn?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~_,Da(o,l,_)):(Vt&&g&&_y(l),l.flags|=1,rn(o,l,d,_),l.child)}function fA(o,l,d,g,_){if(yn(d)){var T=!0;ph(l)}else T=!1;if(zl(l,_),l.stateNode===null)Nh(o,l),ZT(l,d,g),zy(l,d,g,_),g=!0;else if(o===null){var L=l.stateNode,B=l.memoizedProps;L.props=B;var W=L.context,te=d.contextType;typeof te=="object"&&te!==null?te=ni(te):(te=yn(d)?vs:Br.current,te=$l(l,te));var he=d.getDerivedStateFromProps,ge=typeof he=="function"||typeof L.getSnapshotBeforeUpdate=="function";ge||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(B!==g||W!==te)&&eA(l,L,g,te),To=!1;var de=l.memoizedState;L.state=de,Eh(l,g,L,_),W=l.memoizedState,B!==g||de!==W||gn.current||To?(typeof he=="function"&&(qy(l,d,he,g),W=l.memoizedState),(B=To||JT(l,d,B,g,de,W,te))?(ge||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(l.flags|=4194308)):(typeof L.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=W),L.props=g,L.state=W,L.context=te,g=B):(typeof L.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{L=l.stateNode,PT(o,l),B=l.memoizedProps,te=l.type===l.elementType?B:ki(l.type,B),L.props=te,ge=l.pendingProps,de=L.context,W=d.contextType,typeof W=="object"&&W!==null?W=ni(W):(W=yn(d)?vs:Br.current,W=$l(l,W));var Te=d.getDerivedStateFromProps;(he=typeof Te=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(B!==ge||de!==W)&&eA(l,L,g,W),To=!1,de=l.memoizedState,L.state=de,Eh(l,g,L,_);var Ie=l.memoizedState;B!==ge||de!==Ie||gn.current||To?(typeof Te=="function"&&(qy(l,d,Te,g),Ie=l.memoizedState),(te=To||JT(l,d,te,g,de,Ie,W)||!1)?(he||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(g,Ie,W),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(g,Ie,W)),typeof L.componentDidUpdate=="function"&&(l.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof L.componentDidUpdate!="function"||B===o.memoizedProps&&de===o.memoizedState||(l.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||B===o.memoizedProps&&de===o.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=Ie),L.props=g,L.state=Ie,L.context=W,g=te):(typeof L.componentDidUpdate!="function"||B===o.memoizedProps&&de===o.memoizedState||(l.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||B===o.memoizedProps&&de===o.memoizedState||(l.flags|=1024),g=!1)}return Gy(o,l,d,g,T,_)}function Gy(o,l,d,g,_,T){cA(o,l);var L=(l.flags&128)!==0;if(!g&&!L)return _&&gT(l,d,!1),Da(o,l,T);g=l.stateNode,gV.current=l;var B=L&&typeof d.getDerivedStateFromError!="function"?null:g.render();return l.flags|=1,o!==null&&L?(l.child=Bl(l,o.child,null,T),l.child=Bl(l,null,B,T)):rn(o,l,B,T),l.memoizedState=g.state,_&&gT(l,d,!0),l.child}function dA(o){var l=o.stateNode;l.pendingContext?pT(o,l.pendingContext,l.pendingContext!==l.context):l.context&&pT(o,l.context,!1),Cy(o,l.containerInfo)}function hA(o,l,d,g,_){return Ul(),Sy(_),l.flags|=256,rn(o,l,d,g),l.child}var Yy={dehydrated:null,treeContext:null,retryLane:0};function Xy(o){return{baseLanes:o,cachePool:null,transitions:null}}function pA(o,l,d){var g=l.pendingProps,_=Ht.current,T=!1,L=(l.flags&128)!==0,B;if((B=L)||(B=o!==null&&o.memoizedState===null?!1:(_&2)!==0),B?(T=!0,l.flags&=-129):(o===null||o.memoizedState!==null)&&(_|=1),kt(Ht,_&1),o===null)return Ey(l),o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((l.mode&1)===0?l.lanes=1:o.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(L=g.children,o=g.fallback,T?(g=l.mode,T=l.child,L={mode:"hidden",children:L},(g&1)===0&&T!==null?(T.childLanes=0,T.pendingProps=L):T=zh(L,g,0,null),o=ks(o,g,d,null),T.return=l,o.return=l,T.sibling=o,l.child=T,l.child.memoizedState=Xy(d),l.memoizedState=Yy,o):Qy(l,L));if(_=o.memoizedState,_!==null&&(B=_.dehydrated,B!==null))return yV(o,l,L,g,B,_,d);if(T){T=g.fallback,L=l.mode,_=o.child,B=_.sibling;var W={mode:"hidden",children:g.children};return(L&1)===0&&l.child!==_?(g=l.child,g.childLanes=0,g.pendingProps=W,l.deletions=null):(g=No(_,W),g.subtreeFlags=_.subtreeFlags&14680064),B!==null?T=No(B,T):(T=ks(T,L,d,null),T.flags|=2),T.return=l,g.return=l,g.sibling=T,l.child=g,g=T,T=l.child,L=o.child.memoizedState,L=L===null?Xy(d):{baseLanes:L.baseLanes|d,cachePool:null,transitions:L.transitions},T.memoizedState=L,T.childLanes=o.childLanes&~d,l.memoizedState=Yy,g}return T=o.child,o=T.sibling,g=No(T,{mode:"visible",children:g.children}),(l.mode&1)===0&&(g.lanes=d),g.return=l,g.sibling=null,o!==null&&(d=l.deletions,d===null?(l.deletions=[o],l.flags|=16):d.push(o)),l.child=g,l.memoizedState=null,g}function Qy(o,l){return l=zh({mode:"visible",children:l},o.mode,0,null),l.return=o,o.child=l}function Ch(o,l,d,g){return g!==null&&Sy(g),Bl(l,o.child,null,d),o=Qy(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function yV(o,l,d,g,_,T,L){if(d)return l.flags&256?(l.flags&=-257,g=Wy(Error(r(422))),Ch(o,l,L,g)):l.memoizedState!==null?(l.child=o.child,l.flags|=128,null):(T=g.fallback,_=l.mode,g=zh({mode:"visible",children:g.children},_,0,null),T=ks(T,_,L,null),T.flags|=2,g.return=l,T.return=l,g.sibling=T,l.child=g,(l.mode&1)!==0&&Bl(l,o.child,null,L),l.child.memoizedState=Xy(L),l.memoizedState=Yy,T);if((l.mode&1)===0)return Ch(o,l,L,null);if(_.data==="$!"){if(g=_.nextSibling&&_.nextSibling.dataset,g)var B=g.dgst;return g=B,T=Error(r(419)),g=Wy(T,g,void 0),Ch(o,l,L,g)}if(B=(L&o.childLanes)!==0,vn||B){if(g=Tr,g!==null){switch(L&-L){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=(_&(g.suspendedLanes|L))!==0?0:_,_!==0&&_!==T.retryLane&&(T.retryLane=_,Ra(o,_),Ci(g,o,_,-1))}return hv(),g=Wy(Error(r(421))),Ch(o,l,L,g)}return _.data==="$?"?(l.flags|=128,l.child=o.child,l=OV.bind(null,o),_._reactRetry=l,null):(o=T.treeContext,Dn=xo(_.nextSibling),jn=l,Vt=!0,Pi=null,o!==null&&(ti[ri++]=Ca,ti[ri++]=Na,ti[ri++]=bs,Ca=o.id,Na=o.overflow,bs=l),l=Qy(l,g.children),l.flags|=4096,l)}function mA(o,l,d){o.lanes|=l;var g=o.alternate;g!==null&&(g.lanes|=l),ky(o.return,l,d)}function Jy(o,l,d,g,_){var T=o.memoizedState;T===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:_}:(T.isBackwards=l,T.rendering=null,T.renderingStartTime=0,T.last=g,T.tail=d,T.tailMode=_)}function gA(o,l,d){var g=l.pendingProps,_=g.revealOrder,T=g.tail;if(rn(o,l,g.children,d),g=Ht.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&mA(o,d,l);else if(o.tag===19)mA(o,d,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}g&=1}if(kt(Ht,g),(l.mode&1)===0)l.memoizedState=null;else switch(_){case"forwards":for(d=l.child,_=null;d!==null;)o=d.alternate,o!==null&&Sh(o)===null&&(_=d),d=d.sibling;d=_,d===null?(_=l.child,l.child=null):(_=d.sibling,d.sibling=null),Jy(l,!1,_,d,T);break;case"backwards":for(d=null,_=l.child,l.child=null;_!==null;){if(o=_.alternate,o!==null&&Sh(o)===null){l.child=_;break}o=_.sibling,_.sibling=d,d=_,_=o}Jy(l,!0,d,null,T);break;case"together":Jy(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Nh(o,l){(l.mode&1)===0&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function Da(o,l,d){if(o!==null&&(l.dependencies=o.dependencies),Ss|=l.lanes,(d&l.childLanes)===0)return null;if(o!==null&&l.child!==o.child)throw Error(r(153));if(l.child!==null){for(o=l.child,d=No(o,o.pendingProps),l.child=d,d.return=l;o.sibling!==null;)o=o.sibling,d=d.sibling=No(o,o.pendingProps),d.return=l;d.sibling=null}return l.child}function vV(o,l,d){switch(l.tag){case 3:dA(l),Ul();break;case 5:OT(l);break;case 1:yn(l.type)&&ph(l);break;case 4:Cy(l,l.stateNode.containerInfo);break;case 10:var g=l.type._context,_=l.memoizedProps.value;kt(_h,g._currentValue),g._currentValue=_;break;case 13:if(g=l.memoizedState,g!==null)return g.dehydrated!==null?(kt(Ht,Ht.current&1),l.flags|=128,null):(d&l.child.childLanes)!==0?pA(o,l,d):(kt(Ht,Ht.current&1),o=Da(o,l,d),o!==null?o.sibling:null);kt(Ht,Ht.current&1);break;case 19:if(g=(d&l.childLanes)!==0,(o.flags&128)!==0){if(g)return gA(o,l,d);l.flags|=128}if(_=l.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),kt(Ht,Ht.current),g)break;return null;case 22:case 23:return l.lanes=0,uA(o,l,d)}return Da(o,l,d)}var yA,Zy,vA,bA;yA=function(o,l){for(var d=l.child;d!==null;){if(d.tag===5||d.tag===6)o.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Zy=function(){},vA=function(o,l,d,g){var _=o.memoizedProps;if(_!==g){o=l.stateNode,ws(Ji.current);var T=null;switch(d){case"input":_=He(o,_),g=He(o,g),T=[];break;case"select":_=se({},_,{value:void 0}),g=se({},g,{value:void 0}),T=[];break;case"textarea":_=Nr(o,_),g=Nr(o,g),T=[];break;default:typeof _.onClick!="function"&&typeof g.onClick=="function"&&(o.onclick=fh)}ba(d,g);var L;d=null;for(te in _)if(!g.hasOwnProperty(te)&&_.hasOwnProperty(te)&&_[te]!=null)if(te==="style"){var B=_[te];for(L in B)B.hasOwnProperty(L)&&(d||(d={}),d[L]="")}else te!=="dangerouslySetInnerHTML"&&te!=="children"&&te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&te!=="autoFocus"&&(i.hasOwnProperty(te)?T||(T=[]):(T=T||[]).push(te,null));for(te in g){var W=g[te];if(B=_?.[te],g.hasOwnProperty(te)&&W!==B&&(W!=null||B!=null))if(te==="style")if(B){for(L in B)!B.hasOwnProperty(L)||W&&W.hasOwnProperty(L)||(d||(d={}),d[L]="");for(L in W)W.hasOwnProperty(L)&&B[L]!==W[L]&&(d||(d={}),d[L]=W[L])}else d||(T||(T=[]),T.push(te,d)),d=W;else te==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,B=B?B.__html:void 0,W!=null&&B!==W&&(T=T||[]).push(te,W)):te==="children"?typeof W!="string"&&typeof W!="number"||(T=T||[]).push(te,""+W):te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&(i.hasOwnProperty(te)?(W!=null&&te==="onScroll"&&Nt("scroll",o),T||B===W||(T=[])):(T=T||[]).push(te,W))}d&&(T=T||[]).push("style",d);var te=T;(l.updateQueue=te)&&(l.flags|=4)}},bA=function(o,l,d,g){d!==g&&(l.flags|=4)};function jc(o,l){if(!Vt)switch(o.tailMode){case"hidden":l=o.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o.tail=null:d.sibling=null;break;case"collapsed":d=o.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:g.sibling=null}}function zr(o){var l=o.alternate!==null&&o.alternate.child===o.child,d=0,g=0;if(l)for(var _=o.child;_!==null;)d|=_.lanes|_.childLanes,g|=_.subtreeFlags&14680064,g|=_.flags&14680064,_.return=o,_=_.sibling;else for(_=o.child;_!==null;)d|=_.lanes|_.childLanes,g|=_.subtreeFlags,g|=_.flags,_.return=o,_=_.sibling;return o.subtreeFlags|=g,o.childLanes=d,l}function bV(o,l,d){var g=l.pendingProps;switch(xy(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zr(l),null;case 1:return yn(l.type)&&hh(),zr(l),null;case 3:return g=l.stateNode,Wl(),Rt(gn),Rt(Br),jy(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(o===null||o.child===null)&&(vh(l)?l.flags|=4:o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Pi!==null&&(cv(Pi),Pi=null))),Zy(o,l),zr(l),null;case 5:Ny(l);var _=ws(Ic.current);if(d=l.type,o!==null&&l.stateNode!=null)vA(o,l,d,g,_),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!g){if(l.stateNode===null)throw Error(r(166));return zr(l),null}if(o=ws(Ji.current),vh(l)){g=l.stateNode,d=l.type;var T=l.memoizedProps;switch(g[Qi]=l,g[Sc]=T,o=(l.mode&1)!==0,d){case"dialog":Nt("cancel",g),Nt("close",g);break;case"iframe":case"object":case"embed":Nt("load",g);break;case"video":case"audio":for(_=0;_<xc.length;_++)Nt(xc[_],g);break;case"source":Nt("error",g);break;case"img":case"image":case"link":Nt("error",g),Nt("load",g);break;case"details":Nt("toggle",g);break;case"input":pt(g,T),Nt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!T.multiple},Nt("invalid",g);break;case"textarea":Zr(g,T),Nt("invalid",g)}ba(d,T),_=null;for(var L in T)if(T.hasOwnProperty(L)){var B=T[L];L==="children"?typeof B=="string"?g.textContent!==B&&(T.suppressHydrationWarning!==!0&&ch(g.textContent,B,o),_=["children",B]):typeof B=="number"&&g.textContent!==""+B&&(T.suppressHydrationWarning!==!0&&ch(g.textContent,B,o),_=["children",""+B]):i.hasOwnProperty(L)&&B!=null&&L==="onScroll"&&Nt("scroll",g)}switch(d){case"input":ze(g),fr(g,T,!0);break;case"textarea":ze(g),Bi(g);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(g.onclick=fh)}g=_,l.updateQueue=g,g!==null&&(l.flags|=4)}else{L=_.nodeType===9?_:_.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Xt(d)),o==="http://www.w3.org/1999/xhtml"?d==="script"?(o=L.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof g.is=="string"?o=L.createElement(d,{is:g.is}):(o=L.createElement(d),d==="select"&&(L=o,g.multiple?L.multiple=!0:g.size&&(L.size=g.size))):o=L.createElementNS(o,d),o[Qi]=l,o[Sc]=g,yA(o,l,!1,!1),l.stateNode=o;e:{switch(L=ls(d,g),d){case"dialog":Nt("cancel",o),Nt("close",o),_=g;break;case"iframe":case"object":case"embed":Nt("load",o),_=g;break;case"video":case"audio":for(_=0;_<xc.length;_++)Nt(xc[_],o);_=g;break;case"source":Nt("error",o),_=g;break;case"img":case"image":case"link":Nt("error",o),Nt("load",o),_=g;break;case"details":Nt("toggle",o),_=g;break;case"input":pt(o,g),_=He(o,g),Nt("invalid",o);break;case"option":_=g;break;case"select":o._wrapperState={wasMultiple:!!g.multiple},_=se({},g,{value:void 0}),Nt("invalid",o);break;case"textarea":Zr(o,g),_=Nr(o,g),Nt("invalid",o);break;default:_=g}ba(d,_),B=_;for(T in B)if(B.hasOwnProperty(T)){var W=B[T];T==="style"?yi(o,W):T==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,W!=null&&ss(o,W)):T==="children"?typeof W=="string"?(d!=="textarea"||W!=="")&&qi(o,W):typeof W=="number"&&qi(o,""+W):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(i.hasOwnProperty(T)?W!=null&&T==="onScroll"&&Nt("scroll",o):W!=null&&N(o,T,W,L))}switch(d){case"input":ze(o),fr(o,g,!1);break;case"textarea":ze(o),Bi(o);break;case"option":g.value!=null&&o.setAttribute("value",""+Ve(g.value));break;case"select":o.multiple=!!g.multiple,T=g.value,T!=null?zt(o,!!g.multiple,T,!1):g.defaultValue!=null&&zt(o,!!g.multiple,g.defaultValue,!0);break;default:typeof _.onClick=="function"&&(o.onclick=fh)}switch(d){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return zr(l),null;case 6:if(o&&l.stateNode!=null)bA(o,l,o.memoizedProps,g);else{if(typeof g!="string"&&l.stateNode===null)throw Error(r(166));if(d=ws(Ic.current),ws(Ji.current),vh(l)){if(g=l.stateNode,d=l.memoizedProps,g[Qi]=l,(T=g.nodeValue!==d)&&(o=jn,o!==null))switch(o.tag){case 3:ch(g.nodeValue,d,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&ch(g.nodeValue,d,(o.mode&1)!==0)}T&&(l.flags|=4)}else g=(d.nodeType===9?d:d.ownerDocument).createTextNode(g),g[Qi]=l,l.stateNode=g}return zr(l),null;case 13:if(Rt(Ht),g=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Vt&&Dn!==null&&(l.mode&1)!==0&&(l.flags&128)===0)wT(),Ul(),l.flags|=98560,T=!1;else if(T=vh(l),g!==null&&g.dehydrated!==null){if(o===null){if(!T)throw Error(r(318));if(T=l.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(r(317));T[Qi]=l}else Ul(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;zr(l),T=!1}else Pi!==null&&(cv(Pi),Pi=null),T=!0;if(!T)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=d,l):(g=g!==null,g!==(o!==null&&o.memoizedState!==null)&&g&&(l.child.flags|=8192,(l.mode&1)!==0&&(o===null||(Ht.current&1)!==0?pr===0&&(pr=3):hv())),l.updateQueue!==null&&(l.flags|=4),zr(l),null);case 4:return Wl(),Zy(o,l),o===null&&wc(l.stateNode.containerInfo),zr(l),null;case 10:return Py(l.type._context),zr(l),null;case 17:return yn(l.type)&&hh(),zr(l),null;case 19:if(Rt(Ht),T=l.memoizedState,T===null)return zr(l),null;if(g=(l.flags&128)!==0,L=T.rendering,L===null)if(g)jc(T,!1);else{if(pr!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(L=Sh(o),L!==null){for(l.flags|=128,jc(T,!1),g=L.updateQueue,g!==null&&(l.updateQueue=g,l.flags|=4),l.subtreeFlags=0,g=d,d=l.child;d!==null;)T=d,o=g,T.flags&=14680066,L=T.alternate,L===null?(T.childLanes=0,T.lanes=o,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=L.childLanes,T.lanes=L.lanes,T.child=L.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=L.memoizedProps,T.memoizedState=L.memoizedState,T.updateQueue=L.updateQueue,T.type=L.type,o=L.dependencies,T.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),d=d.sibling;return kt(Ht,Ht.current&1|2),l.child}o=o.sibling}T.tail!==null&&mt()>Yl&&(l.flags|=128,g=!0,jc(T,!1),l.lanes=4194304)}else{if(!g)if(o=Sh(L),o!==null){if(l.flags|=128,g=!0,d=o.updateQueue,d!==null&&(l.updateQueue=d,l.flags|=4),jc(T,!0),T.tail===null&&T.tailMode==="hidden"&&!L.alternate&&!Vt)return zr(l),null}else 2*mt()-T.renderingStartTime>Yl&&d!==1073741824&&(l.flags|=128,g=!0,jc(T,!1),l.lanes=4194304);T.isBackwards?(L.sibling=l.child,l.child=L):(d=T.last,d!==null?d.sibling=L:l.child=L,T.last=L)}return T.tail!==null?(l=T.tail,T.rendering=l,T.tail=l.sibling,T.renderingStartTime=mt(),l.sibling=null,d=Ht.current,kt(Ht,g?d&1|2:d&1),l):(zr(l),null);case 22:case 23:return dv(),g=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==g&&(l.flags|=8192),g&&(l.mode&1)!==0?(Mn&1073741824)!==0&&(zr(l),l.subtreeFlags&6&&(l.flags|=8192)):zr(l),null;case 24:return null;case 25:return null}throw Error(r(156,l.tag))}function _V(o,l){switch(xy(l),l.tag){case 1:return yn(l.type)&&hh(),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return Wl(),Rt(gn),Rt(Br),jy(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 5:return Ny(l),null;case 13:if(Rt(Ht),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Ul()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return Rt(Ht),null;case 4:return Wl(),null;case 10:return Py(l.type._context),null;case 22:case 23:return dv(),null;case 24:return null;default:return null}}var Rh=!1,Wr=!1,xV=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function Kl(o,l){var d=o.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(g){Qt(o,l,g)}else d.current=null}function ev(o,l,d){try{d()}catch(g){Qt(o,l,g)}}var _A=!1;function wV(o,l){if(dy=vo,o=JS(),iy(o)){if("selectionStart"in o)var d={start:o.selectionStart,end:o.selectionEnd};else e:{d=(d=o.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var _=g.anchorOffset,T=g.focusNode;g=g.focusOffset;try{d.nodeType,T.nodeType}catch{d=null;break e}var L=0,B=-1,W=-1,te=0,he=0,ge=o,de=null;t:for(;;){for(var Te;ge!==d||_!==0&&ge.nodeType!==3||(B=L+_),ge!==T||g!==0&&ge.nodeType!==3||(W=L+g),ge.nodeType===3&&(L+=ge.nodeValue.length),(Te=ge.firstChild)!==null;)de=ge,ge=Te;for(;;){if(ge===o)break t;if(de===d&&++te===_&&(B=L),de===T&&++he===g&&(W=L),(Te=ge.nextSibling)!==null)break;ge=de,de=ge.parentNode}ge=Te}d=B===-1||W===-1?null:{start:B,end:W}}else d=null}d=d||{start:0,end:0}}else d=null;for(hy={focusedElem:o,selectionRange:d},vo=!1,Ae=l;Ae!==null;)if(l=Ae,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,Ae=o;else for(;Ae!==null;){l=Ae;try{var Ie=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Ie!==null){var Ce=Ie.memoizedProps,rr=Ie.memoizedState,X=l.stateNode,H=X.getSnapshotBeforeUpdate(l.elementType===l.type?Ce:ki(l.type,Ce),rr);X.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var J=l.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ye){Qt(l,l.return,ye)}if(o=l.sibling,o!==null){o.return=l.return,Ae=o;break}Ae=l.return}return Ie=_A,_A=!1,Ie}function Dc(o,l,d){var g=l.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var _=g=g.next;do{if((_.tag&o)===o){var T=_.destroy;_.destroy=void 0,T!==void 0&&ev(l,d,T)}_=_.next}while(_!==g)}}function jh(o,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&o)===o){var g=d.create;d.destroy=g()}d=d.next}while(d!==l)}}function tv(o){var l=o.ref;if(l!==null){var d=o.stateNode;switch(o.tag){case 5:o=d;break;default:o=d}typeof l=="function"?l(o):l.current=o}}function xA(o){var l=o.alternate;l!==null&&(o.alternate=null,xA(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&(delete l[Qi],delete l[Sc],delete l[yy],delete l[iV],delete l[aV])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function wA(o){return o.tag===5||o.tag===3||o.tag===4}function EA(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||wA(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function rv(o,l,d){var g=o.tag;if(g===5||g===6)o=o.stateNode,l?d.nodeType===8?d.parentNode.insertBefore(o,l):d.insertBefore(o,l):(d.nodeType===8?(l=d.parentNode,l.insertBefore(o,d)):(l=d,l.appendChild(o)),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=fh));else if(g!==4&&(o=o.child,o!==null))for(rv(o,l,d),o=o.sibling;o!==null;)rv(o,l,d),o=o.sibling}function nv(o,l,d){var g=o.tag;if(g===5||g===6)o=o.stateNode,l?d.insertBefore(o,l):d.appendChild(o);else if(g!==4&&(o=o.child,o!==null))for(nv(o,l,d),o=o.sibling;o!==null;)nv(o,l,d),o=o.sibling}var Dr=null,Ii=!1;function Po(o,l,d){for(d=d.child;d!==null;)SA(o,l,d),d=d.sibling}function SA(o,l,d){if(On&&typeof On.onCommitFiberUnmount=="function")try{On.onCommitFiberUnmount(cs,d)}catch{}switch(d.tag){case 5:Wr||Kl(d,l);case 6:var g=Dr,_=Ii;Dr=null,Po(o,l,d),Dr=g,Ii=_,Dr!==null&&(Ii?(o=Dr,d=d.stateNode,o.nodeType===8?o.parentNode.removeChild(d):o.removeChild(d)):Dr.removeChild(d.stateNode));break;case 18:Dr!==null&&(Ii?(o=Dr,d=d.stateNode,o.nodeType===8?gy(o.parentNode,d):o.nodeType===1&&gy(o,d),Si(o)):gy(Dr,d.stateNode));break;case 4:g=Dr,_=Ii,Dr=d.stateNode.containerInfo,Ii=!0,Po(o,l,d),Dr=g,Ii=_;break;case 0:case 11:case 14:case 15:if(!Wr&&(g=d.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){_=g=g.next;do{var T=_,L=T.destroy;T=T.tag,L!==void 0&&((T&2)!==0||(T&4)!==0)&&ev(d,l,L),_=_.next}while(_!==g)}Po(o,l,d);break;case 1:if(!Wr&&(Kl(d,l),g=d.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=d.memoizedProps,g.state=d.memoizedState,g.componentWillUnmount()}catch(B){Qt(d,l,B)}Po(o,l,d);break;case 21:Po(o,l,d);break;case 22:d.mode&1?(Wr=(g=Wr)||d.memoizedState!==null,Po(o,l,d),Wr=g):Po(o,l,d);break;default:Po(o,l,d)}}function TA(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var d=o.stateNode;d===null&&(d=o.stateNode=new xV),l.forEach(function(g){var _=CV.bind(null,o,g);d.has(g)||(d.add(g),g.then(_,_))})}}function Oi(o,l){var d=l.deletions;if(d!==null)for(var g=0;g<d.length;g++){var _=d[g];try{var T=o,L=l,B=L;e:for(;B!==null;){switch(B.tag){case 5:Dr=B.stateNode,Ii=!1;break e;case 3:Dr=B.stateNode.containerInfo,Ii=!0;break e;case 4:Dr=B.stateNode.containerInfo,Ii=!0;break e}B=B.return}if(Dr===null)throw Error(r(160));SA(T,L,_),Dr=null,Ii=!1;var W=_.alternate;W!==null&&(W.return=null),_.return=null}catch(te){Qt(_,l,te)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)AA(l,o),l=l.sibling}function AA(o,l){var d=o.alternate,g=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Oi(l,o),ea(o),g&4){try{Dc(3,o,o.return),jh(3,o)}catch(Ce){Qt(o,o.return,Ce)}try{Dc(5,o,o.return)}catch(Ce){Qt(o,o.return,Ce)}}break;case 1:Oi(l,o),ea(o),g&512&&d!==null&&Kl(d,d.return);break;case 5:if(Oi(l,o),ea(o),g&512&&d!==null&&Kl(d,d.return),o.flags&32){var _=o.stateNode;try{qi(_,"")}catch(Ce){Qt(o,o.return,Ce)}}if(g&4&&(_=o.stateNode,_!=null)){var T=o.memoizedProps,L=d!==null?d.memoizedProps:T,B=o.type,W=o.updateQueue;if(o.updateQueue=null,W!==null)try{B==="input"&&T.type==="radio"&&T.name!=null&&Tt(_,T),ls(B,L);var te=ls(B,T);for(L=0;L<W.length;L+=2){var he=W[L],ge=W[L+1];he==="style"?yi(_,ge):he==="dangerouslySetInnerHTML"?ss(_,ge):he==="children"?qi(_,ge):N(_,he,ge,te)}switch(B){case"input":Yt(_,T);break;case"textarea":mi(_,T);break;case"select":var de=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!T.multiple;var Te=T.value;Te!=null?zt(_,!!T.multiple,Te,!1):de!==!!T.multiple&&(T.defaultValue!=null?zt(_,!!T.multiple,T.defaultValue,!0):zt(_,!!T.multiple,T.multiple?[]:"",!1))}_[Sc]=T}catch(Ce){Qt(o,o.return,Ce)}}break;case 6:if(Oi(l,o),ea(o),g&4){if(o.stateNode===null)throw Error(r(162));_=o.stateNode,T=o.memoizedProps;try{_.nodeValue=T}catch(Ce){Qt(o,o.return,Ce)}}break;case 3:if(Oi(l,o),ea(o),g&4&&d!==null&&d.memoizedState.isDehydrated)try{Si(l.containerInfo)}catch(Ce){Qt(o,o.return,Ce)}break;case 4:Oi(l,o),ea(o);break;case 13:Oi(l,o),ea(o),_=o.child,_.flags&8192&&(T=_.memoizedState!==null,_.stateNode.isHidden=T,!T||_.alternate!==null&&_.alternate.memoizedState!==null||(ov=mt())),g&4&&TA(o);break;case 22:if(he=d!==null&&d.memoizedState!==null,o.mode&1?(Wr=(te=Wr)||he,Oi(l,o),Wr=te):Oi(l,o),ea(o),g&8192){if(te=o.memoizedState!==null,(o.stateNode.isHidden=te)&&!he&&(o.mode&1)!==0)for(Ae=o,he=o.child;he!==null;){for(ge=Ae=he;Ae!==null;){switch(de=Ae,Te=de.child,de.tag){case 0:case 11:case 14:case 15:Dc(4,de,de.return);break;case 1:Kl(de,de.return);var Ie=de.stateNode;if(typeof Ie.componentWillUnmount=="function"){g=de,d=de.return;try{l=g,Ie.props=l.memoizedProps,Ie.state=l.memoizedState,Ie.componentWillUnmount()}catch(Ce){Qt(g,d,Ce)}}break;case 5:Kl(de,de.return);break;case 22:if(de.memoizedState!==null){IA(ge);continue}}Te!==null?(Te.return=de,Ae=Te):IA(ge)}he=he.sibling}e:for(he=null,ge=o;;){if(ge.tag===5){if(he===null){he=ge;try{_=ge.stateNode,te?(T=_.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):(B=ge.stateNode,W=ge.memoizedProps.style,L=W!=null&&W.hasOwnProperty("display")?W.display:null,B.style.display=lo("display",L))}catch(Ce){Qt(o,o.return,Ce)}}}else if(ge.tag===6){if(he===null)try{ge.stateNode.nodeValue=te?"":ge.memoizedProps}catch(Ce){Qt(o,o.return,Ce)}}else if((ge.tag!==22&&ge.tag!==23||ge.memoizedState===null||ge===o)&&ge.child!==null){ge.child.return=ge,ge=ge.child;continue}if(ge===o)break e;for(;ge.sibling===null;){if(ge.return===null||ge.return===o)break e;he===ge&&(he=null),ge=ge.return}he===ge&&(he=null),ge.sibling.return=ge.return,ge=ge.sibling}}break;case 19:Oi(l,o),ea(o),g&4&&TA(o);break;case 21:break;default:Oi(l,o),ea(o)}}function ea(o){var l=o.flags;if(l&2){try{e:{for(var d=o.return;d!==null;){if(wA(d)){var g=d;break e}d=d.return}throw Error(r(160))}switch(g.tag){case 5:var _=g.stateNode;g.flags&32&&(qi(_,""),g.flags&=-33);var T=EA(o);nv(o,T,_);break;case 3:case 4:var L=g.stateNode.containerInfo,B=EA(o);rv(o,B,L);break;default:throw Error(r(161))}}catch(W){Qt(o,o.return,W)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function EV(o,l,d){Ae=o,PA(o)}function PA(o,l,d){for(var g=(o.mode&1)!==0;Ae!==null;){var _=Ae,T=_.child;if(_.tag===22&&g){var L=_.memoizedState!==null||Rh;if(!L){var B=_.alternate,W=B!==null&&B.memoizedState!==null||Wr;B=Rh;var te=Wr;if(Rh=L,(Wr=W)&&!te)for(Ae=_;Ae!==null;)L=Ae,W=L.child,L.tag===22&&L.memoizedState!==null?OA(_):W!==null?(W.return=L,Ae=W):OA(_);for(;T!==null;)Ae=T,PA(T),T=T.sibling;Ae=_,Rh=B,Wr=te}kA(o)}else(_.subtreeFlags&8772)!==0&&T!==null?(T.return=_,Ae=T):kA(o)}}function kA(o){for(;Ae!==null;){var l=Ae;if((l.flags&8772)!==0){var d=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Wr||jh(5,l);break;case 1:var g=l.stateNode;if(l.flags&4&&!Wr)if(d===null)g.componentDidMount();else{var _=l.elementType===l.type?d.memoizedProps:ki(l.type,d.memoizedProps);g.componentDidUpdate(_,d.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var T=l.updateQueue;T!==null&&IT(l,T,g);break;case 3:var L=l.updateQueue;if(L!==null){if(d=null,l.child!==null)switch(l.child.tag){case 5:d=l.child.stateNode;break;case 1:d=l.child.stateNode}IT(l,L,d)}break;case 5:var B=l.stateNode;if(d===null&&l.flags&4){d=B;var W=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":W.autoFocus&&d.focus();break;case"img":W.src&&(d.src=W.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var te=l.alternate;if(te!==null){var he=te.memoizedState;if(he!==null){var ge=he.dehydrated;ge!==null&&Si(ge)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Wr||l.flags&512&&tv(l)}catch(de){Qt(l,l.return,de)}}if(l===o){Ae=null;break}if(d=l.sibling,d!==null){d.return=l.return,Ae=d;break}Ae=l.return}}function IA(o){for(;Ae!==null;){var l=Ae;if(l===o){Ae=null;break}var d=l.sibling;if(d!==null){d.return=l.return,Ae=d;break}Ae=l.return}}function OA(o){for(;Ae!==null;){var l=Ae;try{switch(l.tag){case 0:case 11:case 15:var d=l.return;try{jh(4,l)}catch(W){Qt(l,d,W)}break;case 1:var g=l.stateNode;if(typeof g.componentDidMount=="function"){var _=l.return;try{g.componentDidMount()}catch(W){Qt(l,_,W)}}var T=l.return;try{tv(l)}catch(W){Qt(l,T,W)}break;case 5:var L=l.return;try{tv(l)}catch(W){Qt(l,L,W)}}}catch(W){Qt(l,l.return,W)}if(l===o){Ae=null;break}var B=l.sibling;if(B!==null){B.return=l.return,Ae=B;break}Ae=l.return}}var SV=Math.ceil,Dh=$.ReactCurrentDispatcher,iv=$.ReactCurrentOwner,ai=$.ReactCurrentBatchConfig,ut=0,Tr=null,or=null,Mr=0,Mn=0,Gl=wo(0),pr=0,Mc=null,Ss=0,Mh=0,av=0,Lc=null,bn=null,ov=0,Yl=1/0,Ma=null,Lh=!1,sv=null,ko=null,$h=!1,Io=null,Fh=0,$c=0,lv=null,Vh=-1,Uh=0;function nn(){return(ut&6)!==0?mt():Vh!==-1?Vh:Vh=mt()}function Oo(o){return(o.mode&1)===0?1:(ut&2)!==0&&Mr!==0?Mr&-Mr:sV.transition!==null?(Uh===0&&(Uh=ds()),Uh):(o=nt,o!==0||(o=window.event,o=o===void 0?16:dc(o.type)),o)}function Ci(o,l,d,g){if(50<$c)throw $c=0,lv=null,Error(r(185));po(o,d,g),((ut&2)===0||o!==Tr)&&(o===Tr&&((ut&2)===0&&(Mh|=d),pr===4&&Co(o,Mr)),_n(o,g),d===1&&ut===0&&(l.mode&1)===0&&(Yl=mt()+500,mh&&So()))}function _n(o,l){var d=o.callbackNode;Sa(o,l);var g=fs(o,o===Tr?Mr:0);if(g===0)d!==null&&co(d),o.callbackNode=null,o.callbackPriority=0;else if(l=g&-g,o.callbackPriority!==l){if(d!=null&&co(d),l===1)o.tag===0?oV(NA.bind(null,o)):yT(NA.bind(null,o)),rV(function(){(ut&6)===0&&So()}),d=null;else{switch(go(g)){case 1:d=Qn;break;case 4:d=Jn;break;case 16:d=ir;break;case 536870912:d=Ud;break;default:d=ir}d=VA(d,CA.bind(null,o))}o.callbackPriority=l,o.callbackNode=d}}function CA(o,l){if(Vh=-1,Uh=0,(ut&6)!==0)throw Error(r(327));var d=o.callbackNode;if(Xl()&&o.callbackNode!==d)return null;var g=fs(o,o===Tr?Mr:0);if(g===0)return null;if((g&30)!==0||(g&o.expiredLanes)!==0||l)l=Bh(o,g);else{l=g;var _=ut;ut|=2;var T=jA();(Tr!==o||Mr!==l)&&(Ma=null,Yl=mt()+500,As(o,l));do try{PV();break}catch(B){RA(o,B)}while(!0);Ay(),Dh.current=T,ut=_,or!==null?l=0:(Tr=null,Mr=0,l=pr)}if(l!==0){if(l===2&&(_=Cn(o),_!==0&&(g=_,l=uv(o,_))),l===1)throw d=Mc,As(o,0),Co(o,g),_n(o,mt()),d;if(l===6)Co(o,g);else{if(_=o.current.alternate,(g&30)===0&&!TV(_)&&(l=Bh(o,g),l===2&&(T=Cn(o),T!==0&&(g=T,l=uv(o,T))),l===1))throw d=Mc,As(o,0),Co(o,g),_n(o,mt()),d;switch(o.finishedWork=_,o.finishedLanes=g,l){case 0:case 1:throw Error(r(345));case 2:Ps(o,bn,Ma);break;case 3:if(Co(o,g),(g&130023424)===g&&(l=ov+500-mt(),10<l)){if(fs(o,0)!==0)break;if(_=o.suspendedLanes,(_&g)!==g){nn(),o.pingedLanes|=o.suspendedLanes&_;break}o.timeoutHandle=my(Ps.bind(null,o,bn,Ma),l);break}Ps(o,bn,Ma);break;case 4:if(Co(o,g),(g&4194240)===g)break;for(l=o.eventTimes,_=-1;0<g;){var L=31-en(g);T=1<<L,L=l[L],L>_&&(_=L),g&=~T}if(g=_,g=mt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*SV(g/1960))-g,10<g){o.timeoutHandle=my(Ps.bind(null,o,bn,Ma),g);break}Ps(o,bn,Ma);break;case 5:Ps(o,bn,Ma);break;default:throw Error(r(329))}}}return _n(o,mt()),o.callbackNode===d?CA.bind(null,o):null}function uv(o,l){var d=Lc;return o.current.memoizedState.isDehydrated&&(As(o,l).flags|=256),o=Bh(o,l),o!==2&&(l=bn,bn=d,l!==null&&cv(l)),o}function cv(o){bn===null?bn=o:bn.push.apply(bn,o)}function TV(o){for(var l=o;;){if(l.flags&16384){var d=l.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var g=0;g<d.length;g++){var _=d[g],T=_.getSnapshot;_=_.value;try{if(!Ai(T(),_))return!1}catch{return!1}}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Co(o,l){for(l&=~av,l&=~Mh,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var d=31-en(l),g=1<<d;o[d]=-1,l&=~g}}function NA(o){if((ut&6)!==0)throw Error(r(327));Xl();var l=fs(o,0);if((l&1)===0)return _n(o,mt()),null;var d=Bh(o,l);if(o.tag!==0&&d===2){var g=Cn(o);g!==0&&(l=g,d=uv(o,g))}if(d===1)throw d=Mc,As(o,0),Co(o,l),_n(o,mt()),d;if(d===6)throw Error(r(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,Ps(o,bn,Ma),_n(o,mt()),null}function fv(o,l){var d=ut;ut|=1;try{return o(l)}finally{ut=d,ut===0&&(Yl=mt()+500,mh&&So())}}function Ts(o){Io!==null&&Io.tag===0&&(ut&6)===0&&Xl();var l=ut;ut|=1;var d=ai.transition,g=nt;try{if(ai.transition=null,nt=1,o)return o()}finally{nt=g,ai.transition=d,ut=l,(ut&6)===0&&So()}}function dv(){Mn=Gl.current,Rt(Gl)}function As(o,l){o.finishedWork=null,o.finishedLanes=0;var d=o.timeoutHandle;if(d!==-1&&(o.timeoutHandle=-1,tV(d)),or!==null)for(d=or.return;d!==null;){var g=d;switch(xy(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&hh();break;case 3:Wl(),Rt(gn),Rt(Br),jy();break;case 5:Ny(g);break;case 4:Wl();break;case 13:Rt(Ht);break;case 19:Rt(Ht);break;case 10:Py(g.type._context);break;case 22:case 23:dv()}d=d.return}if(Tr=o,or=o=No(o.current,null),Mr=Mn=l,pr=0,Mc=null,av=Mh=Ss=0,bn=Lc=null,xs!==null){for(l=0;l<xs.length;l++)if(d=xs[l],g=d.interleaved,g!==null){d.interleaved=null;var _=g.next,T=d.pending;if(T!==null){var L=T.next;T.next=_,g.next=L}d.pending=g}xs=null}return o}function RA(o,l){do{var d=or;try{if(Ay(),Th.current=Ih,Ah){for(var g=Kt.memoizedState;g!==null;){var _=g.queue;_!==null&&(_.pending=null),g=g.next}Ah=!1}if(Es=0,Sr=hr=Kt=null,Oc=!1,Cc=0,iv.current=null,d===null||d.return===null){pr=1,Mc=l,or=null;break}e:{var T=o,L=d.return,B=d,W=l;if(l=Mr,B.flags|=32768,W!==null&&typeof W=="object"&&typeof W.then=="function"){var te=W,he=B,ge=he.tag;if((he.mode&1)===0&&(ge===0||ge===11||ge===15)){var de=he.alternate;de?(he.updateQueue=de.updateQueue,he.memoizedState=de.memoizedState,he.lanes=de.lanes):(he.updateQueue=null,he.memoizedState=null)}var Te=iA(L);if(Te!==null){Te.flags&=-257,aA(Te,L,B,T,l),Te.mode&1&&nA(T,te,l),l=Te,W=te;var Ie=l.updateQueue;if(Ie===null){var Ce=new Set;Ce.add(W),l.updateQueue=Ce}else Ie.add(W);break e}else{if((l&1)===0){nA(T,te,l),hv();break e}W=Error(r(426))}}else if(Vt&&B.mode&1){var rr=iA(L);if(rr!==null){(rr.flags&65536)===0&&(rr.flags|=256),aA(rr,L,B,T,l),Sy(Hl(W,B));break e}}T=W=Hl(W,B),pr!==4&&(pr=2),Lc===null?Lc=[T]:Lc.push(T),T=L;do{switch(T.tag){case 3:T.flags|=65536,l&=-l,T.lanes|=l;var X=tA(T,W,l);kT(T,X);break e;case 1:B=W;var H=T.type,J=T.stateNode;if((T.flags&128)===0&&(typeof H.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(ko===null||!ko.has(J)))){T.flags|=65536,l&=-l,T.lanes|=l;var ye=rA(T,B,l);kT(T,ye);break e}}T=T.return}while(T!==null)}MA(d)}catch(je){l=je,or===d&&d!==null&&(or=d=d.return);continue}break}while(!0)}function jA(){var o=Dh.current;return Dh.current=Ih,o===null?Ih:o}function hv(){(pr===0||pr===3||pr===2)&&(pr=4),Tr===null||(Ss&268435455)===0&&(Mh&268435455)===0||Co(Tr,Mr)}function Bh(o,l){var d=ut;ut|=2;var g=jA();(Tr!==o||Mr!==l)&&(Ma=null,As(o,l));do try{AV();break}catch(_){RA(o,_)}while(!0);if(Ay(),ut=d,Dh.current=g,or!==null)throw Error(r(261));return Tr=null,Mr=0,pr}function AV(){for(;or!==null;)DA(or)}function PV(){for(;or!==null&&!yl();)DA(or)}function DA(o){var l=FA(o.alternate,o,Mn);o.memoizedProps=o.pendingProps,l===null?MA(o):or=l,iv.current=null}function MA(o){var l=o;do{var d=l.alternate;if(o=l.return,(l.flags&32768)===0){if(d=bV(d,l,Mn),d!==null){or=d;return}}else{if(d=_V(d,l),d!==null){d.flags&=32767,or=d;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{pr=6,or=null;return}}if(l=l.sibling,l!==null){or=l;return}or=l=o}while(l!==null);pr===0&&(pr=5)}function Ps(o,l,d){var g=nt,_=ai.transition;try{ai.transition=null,nt=1,kV(o,l,d,g)}finally{ai.transition=_,nt=g}return null}function kV(o,l,d,g){do Xl();while(Io!==null);if((ut&6)!==0)throw Error(r(327));d=o.finishedWork;var _=o.finishedLanes;if(d===null)return null;if(o.finishedWork=null,o.finishedLanes=0,d===o.current)throw Error(r(177));o.callbackNode=null,o.callbackPriority=0;var T=d.lanes|d.childLanes;if(At(o,T),o===Tr&&(or=Tr=null,Mr=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||$h||($h=!0,VA(ir,function(){return Xl(),null})),T=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||T){T=ai.transition,ai.transition=null;var L=nt;nt=1;var B=ut;ut|=4,iv.current=null,wV(o,d),AA(d,o),GF(hy),vo=!!dy,hy=dy=null,o.current=d,EV(d),In(),ut=B,nt=L,ai.transition=T}else o.current=d;if($h&&($h=!1,Io=o,Fh=_),T=o.pendingLanes,T===0&&(ko=null),Bd(d.stateNode),_n(o,mt()),l!==null)for(g=o.onRecoverableError,d=0;d<l.length;d++)_=l[d],g(_.value,{componentStack:_.stack,digest:_.digest});if(Lh)throw Lh=!1,o=sv,sv=null,o;return(Fh&1)!==0&&o.tag!==0&&Xl(),T=o.pendingLanes,(T&1)!==0?o===lv?$c++:($c=0,lv=o):$c=0,So(),null}function Xl(){if(Io!==null){var o=go(Fh),l=ai.transition,d=nt;try{if(ai.transition=null,nt=16>o?16:o,Io===null)var g=!1;else{if(o=Io,Io=null,Fh=0,(ut&6)!==0)throw Error(r(331));var _=ut;for(ut|=4,Ae=o.current;Ae!==null;){var T=Ae,L=T.child;if((Ae.flags&16)!==0){var B=T.deletions;if(B!==null){for(var W=0;W<B.length;W++){var te=B[W];for(Ae=te;Ae!==null;){var he=Ae;switch(he.tag){case 0:case 11:case 15:Dc(8,he,T)}var ge=he.child;if(ge!==null)ge.return=he,Ae=ge;else for(;Ae!==null;){he=Ae;var de=he.sibling,Te=he.return;if(xA(he),he===te){Ae=null;break}if(de!==null){de.return=Te,Ae=de;break}Ae=Te}}}var Ie=T.alternate;if(Ie!==null){var Ce=Ie.child;if(Ce!==null){Ie.child=null;do{var rr=Ce.sibling;Ce.sibling=null,Ce=rr}while(Ce!==null)}}Ae=T}}if((T.subtreeFlags&2064)!==0&&L!==null)L.return=T,Ae=L;else e:for(;Ae!==null;){if(T=Ae,(T.flags&2048)!==0)switch(T.tag){case 0:case 11:case 15:Dc(9,T,T.return)}var X=T.sibling;if(X!==null){X.return=T.return,Ae=X;break e}Ae=T.return}}var H=o.current;for(Ae=H;Ae!==null;){L=Ae;var J=L.child;if((L.subtreeFlags&2064)!==0&&J!==null)J.return=L,Ae=J;else e:for(L=H;Ae!==null;){if(B=Ae,(B.flags&2048)!==0)try{switch(B.tag){case 0:case 11:case 15:jh(9,B)}}catch(je){Qt(B,B.return,je)}if(B===L){Ae=null;break e}var ye=B.sibling;if(ye!==null){ye.return=B.return,Ae=ye;break e}Ae=B.return}}if(ut=_,So(),On&&typeof On.onPostCommitFiberRoot=="function")try{On.onPostCommitFiberRoot(cs,o)}catch{}g=!0}return g}finally{nt=d,ai.transition=l}}return!1}function LA(o,l,d){l=Hl(d,l),l=tA(o,l,1),o=Ao(o,l,1),l=nn(),o!==null&&(po(o,1,l),_n(o,l))}function Qt(o,l,d){if(o.tag===3)LA(o,o,d);else for(;l!==null;){if(l.tag===3){LA(l,o,d);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(ko===null||!ko.has(g))){o=Hl(d,o),o=rA(l,o,1),l=Ao(l,o,1),o=nn(),l!==null&&(po(l,1,o),_n(l,o));break}}l=l.return}}function IV(o,l,d){var g=o.pingCache;g!==null&&g.delete(l),l=nn(),o.pingedLanes|=o.suspendedLanes&d,Tr===o&&(Mr&d)===d&&(pr===4||pr===3&&(Mr&130023424)===Mr&&500>mt()-ov?As(o,0):av|=d),_n(o,l)}function $A(o,l){l===0&&((o.mode&1)===0?l=1:(l=bl,bl<<=1,(bl&130023424)===0&&(bl=4194304)));var d=nn();o=Ra(o,l),o!==null&&(po(o,l,d),_n(o,d))}function OV(o){var l=o.memoizedState,d=0;l!==null&&(d=l.retryLane),$A(o,d)}function CV(o,l){var d=0;switch(o.tag){case 13:var g=o.stateNode,_=o.memoizedState;_!==null&&(d=_.retryLane);break;case 19:g=o.stateNode;break;default:throw Error(r(314))}g!==null&&g.delete(l),$A(o,d)}var FA;FA=function(o,l,d){if(o!==null)if(o.memoizedProps!==l.pendingProps||gn.current)vn=!0;else{if((o.lanes&d)===0&&(l.flags&128)===0)return vn=!1,vV(o,l,d);vn=(o.flags&131072)!==0}else vn=!1,Vt&&(l.flags&1048576)!==0&&vT(l,yh,l.index);switch(l.lanes=0,l.tag){case 2:var g=l.type;Nh(o,l),o=l.pendingProps;var _=$l(l,Br.current);zl(l,d),_=Ly(null,l,g,o,_,d);var T=$y();return l.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,yn(g)?(T=!0,ph(l)):T=!1,l.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,Oy(l),_.updater=Oh,l.stateNode=_,_._reactInternals=l,zy(l,g,o,d),l=Gy(null,l,g,!0,T,d)):(l.tag=0,Vt&&T&&_y(l),rn(null,l,_,d),l=l.child),l;case 16:g=l.elementType;e:{switch(Nh(o,l),o=l.pendingProps,_=g._init,g=_(g._payload),l.type=g,_=l.tag=RV(g),o=ki(g,o),_){case 0:l=Ky(null,l,g,o,d);break e;case 1:l=fA(null,l,g,o,d);break e;case 11:l=oA(null,l,g,o,d);break e;case 14:l=sA(null,l,g,ki(g.type,o),d);break e}throw Error(r(306,g,""))}return l;case 0:return g=l.type,_=l.pendingProps,_=l.elementType===g?_:ki(g,_),Ky(o,l,g,_,d);case 1:return g=l.type,_=l.pendingProps,_=l.elementType===g?_:ki(g,_),fA(o,l,g,_,d);case 3:e:{if(dA(l),o===null)throw Error(r(387));g=l.pendingProps,T=l.memoizedState,_=T.element,PT(o,l),Eh(l,g,null,d);var L=l.memoizedState;if(g=L.element,T.isDehydrated)if(T={element:g,isDehydrated:!1,cache:L.cache,pendingSuspenseBoundaries:L.pendingSuspenseBoundaries,transitions:L.transitions},l.updateQueue.baseState=T,l.memoizedState=T,l.flags&256){_=Hl(Error(r(423)),l),l=hA(o,l,g,d,_);break e}else if(g!==_){_=Hl(Error(r(424)),l),l=hA(o,l,g,d,_);break e}else for(Dn=xo(l.stateNode.containerInfo.firstChild),jn=l,Vt=!0,Pi=null,d=TT(l,null,g,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Ul(),g===_){l=Da(o,l,d);break e}rn(o,l,g,d)}l=l.child}return l;case 5:return OT(l),o===null&&Ey(l),g=l.type,_=l.pendingProps,T=o!==null?o.memoizedProps:null,L=_.children,py(g,_)?L=null:T!==null&&py(g,T)&&(l.flags|=32),cA(o,l),rn(o,l,L,d),l.child;case 6:return o===null&&Ey(l),null;case 13:return pA(o,l,d);case 4:return Cy(l,l.stateNode.containerInfo),g=l.pendingProps,o===null?l.child=Bl(l,null,g,d):rn(o,l,g,d),l.child;case 11:return g=l.type,_=l.pendingProps,_=l.elementType===g?_:ki(g,_),oA(o,l,g,_,d);case 7:return rn(o,l,l.pendingProps,d),l.child;case 8:return rn(o,l,l.pendingProps.children,d),l.child;case 12:return rn(o,l,l.pendingProps.children,d),l.child;case 10:e:{if(g=l.type._context,_=l.pendingProps,T=l.memoizedProps,L=_.value,kt(_h,g._currentValue),g._currentValue=L,T!==null)if(Ai(T.value,L)){if(T.children===_.children&&!gn.current){l=Da(o,l,d);break e}}else for(T=l.child,T!==null&&(T.return=l);T!==null;){var B=T.dependencies;if(B!==null){L=T.child;for(var W=B.firstContext;W!==null;){if(W.context===g){if(T.tag===1){W=ja(-1,d&-d),W.tag=2;var te=T.updateQueue;if(te!==null){te=te.shared;var he=te.pending;he===null?W.next=W:(W.next=he.next,he.next=W),te.pending=W}}T.lanes|=d,W=T.alternate,W!==null&&(W.lanes|=d),ky(T.return,d,l),B.lanes|=d;break}W=W.next}}else if(T.tag===10)L=T.type===l.type?null:T.child;else if(T.tag===18){if(L=T.return,L===null)throw Error(r(341));L.lanes|=d,B=L.alternate,B!==null&&(B.lanes|=d),ky(L,d,l),L=T.sibling}else L=T.child;if(L!==null)L.return=T;else for(L=T;L!==null;){if(L===l){L=null;break}if(T=L.sibling,T!==null){T.return=L.return,L=T;break}L=L.return}T=L}rn(o,l,_.children,d),l=l.child}return l;case 9:return _=l.type,g=l.pendingProps.children,zl(l,d),_=ni(_),g=g(_),l.flags|=1,rn(o,l,g,d),l.child;case 14:return g=l.type,_=ki(g,l.pendingProps),_=ki(g.type,_),sA(o,l,g,_,d);case 15:return lA(o,l,l.type,l.pendingProps,d);case 17:return g=l.type,_=l.pendingProps,_=l.elementType===g?_:ki(g,_),Nh(o,l),l.tag=1,yn(g)?(o=!0,ph(l)):o=!1,zl(l,d),ZT(l,g,_),zy(l,g,_,d),Gy(null,l,g,!0,o,d);case 19:return gA(o,l,d);case 22:return uA(o,l,d)}throw Error(r(156,l.tag))};function VA(o,l){return $t(o,l)}function NV(o,l,d,g){this.tag=o,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function oi(o,l,d,g){return new NV(o,l,d,g)}function pv(o){return o=o.prototype,!(!o||!o.isReactComponent)}function RV(o){if(typeof o=="function")return pv(o)?1:0;if(o!=null){if(o=o.$$typeof,o===V)return 11;if(o===ee)return 14}return 2}function No(o,l){var d=o.alternate;return d===null?(d=oi(o.tag,l,o.key,o.mode),d.elementType=o.elementType,d.type=o.type,d.stateNode=o.stateNode,d.alternate=o,o.alternate=d):(d.pendingProps=l,d.type=o.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=o.flags&14680064,d.childLanes=o.childLanes,d.lanes=o.lanes,d.child=o.child,d.memoizedProps=o.memoizedProps,d.memoizedState=o.memoizedState,d.updateQueue=o.updateQueue,l=o.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=o.sibling,d.index=o.index,d.ref=o.ref,d}function qh(o,l,d,g,_,T){var L=2;if(g=o,typeof o=="function")pv(o)&&(L=1);else if(typeof o=="string")L=5;else e:switch(o){case A:return ks(d.children,_,T,l);case P:L=8,_|=8;break;case R:return o=oi(12,d,l,_|2),o.elementType=R,o.lanes=T,o;case D:return o=oi(13,d,l,_),o.elementType=D,o.lanes=T,o;case Z:return o=oi(19,d,l,_),o.elementType=Z,o.lanes=T,o;case oe:return zh(d,_,T,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case F:L=10;break e;case M:L=9;break e;case V:L=11;break e;case ee:L=14;break e;case re:L=16,g=null;break e}throw Error(r(130,o==null?o:typeof o,""))}return l=oi(L,d,l,_),l.elementType=o,l.type=g,l.lanes=T,l}function ks(o,l,d,g){return o=oi(7,o,g,l),o.lanes=d,o}function zh(o,l,d,g){return o=oi(22,o,g,l),o.elementType=oe,o.lanes=d,o.stateNode={isHidden:!1},o}function mv(o,l,d){return o=oi(6,o,null,l),o.lanes=d,o}function gv(o,l,d){return l=oi(4,o.children!==null?o.children:[],o.key,l),l.lanes=d,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function jV(o,l,d,g,_){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ho(0),this.expirationTimes=ho(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ho(0),this.identifierPrefix=g,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function yv(o,l,d,g,_,T,L,B,W){return o=new jV(o,l,d,B,W),l===1?(l=1,T===!0&&(l|=8)):l=0,T=oi(3,null,null,l),o.current=T,T.stateNode=o,T.memoizedState={element:g,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oy(T),o}function DV(o,l,d){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:j,key:g==null?null:""+g,children:o,containerInfo:l,implementation:d}}function UA(o){if(!o)return Eo;o=o._reactInternals;e:{if(be(o)!==o||o.tag!==1)throw Error(r(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(yn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(r(171))}if(o.tag===1){var d=o.type;if(yn(d))return mT(o,d,l)}return l}function BA(o,l,d,g,_,T,L,B,W){return o=yv(d,g,!0,o,_,T,L,B,W),o.context=UA(null),d=o.current,g=nn(),_=Oo(d),T=ja(g,_),T.callback=l??null,Ao(d,T,_),o.current.lanes=_,po(o,_,g),_n(o,g),o}function Wh(o,l,d,g){var _=l.current,T=nn(),L=Oo(_);return d=UA(d),l.context===null?l.context=d:l.pendingContext=d,l=ja(T,L),l.payload={element:o},g=g===void 0?null:g,g!==null&&(l.callback=g),o=Ao(_,l,L),o!==null&&(Ci(o,_,L,T),wh(o,_,L)),L}function Hh(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function qA(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var d=o.retryLane;o.retryLane=d!==0&&d<l?d:l}}function vv(o,l){qA(o,l),(o=o.alternate)&&qA(o,l)}function MV(){return null}var zA=typeof reportError=="function"?reportError:function(o){console.error(o)};function bv(o){this._internalRoot=o}Kh.prototype.render=bv.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(r(409));Wh(o,l,null,null)},Kh.prototype.unmount=bv.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;Ts(function(){Wh(null,o,null,null)}),l[Ia]=null}};function Kh(o){this._internalRoot=o}Kh.prototype.unstable_scheduleHydration=function(o){if(o){var l=Kd();o={blockedOn:null,target:o,priority:l};for(var d=0;d<Ki.length&&l!==0&&l<Ki[d].priority;d++);Ki.splice(d,0,o),d===0&&Xd(o)}};function _v(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Gh(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function WA(){}function LV(o,l,d,g,_){if(_){if(typeof g=="function"){var T=g;g=function(){var te=Hh(L);T.call(te)}}var L=BA(l,g,o,0,null,!1,!1,"",WA);return o._reactRootContainer=L,o[Ia]=L.current,wc(o.nodeType===8?o.parentNode:o),Ts(),L}for(;_=o.lastChild;)o.removeChild(_);if(typeof g=="function"){var B=g;g=function(){var te=Hh(W);B.call(te)}}var W=yv(o,0,!1,null,null,!1,!1,"",WA);return o._reactRootContainer=W,o[Ia]=W.current,wc(o.nodeType===8?o.parentNode:o),Ts(function(){Wh(l,W,d,g)}),W}function Yh(o,l,d,g,_){var T=d._reactRootContainer;if(T){var L=T;if(typeof _=="function"){var B=_;_=function(){var W=Hh(L);B.call(W)}}Wh(l,L,o,_)}else L=LV(d,l,o,_,g);return Hh(L)}Wd=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var d=fo(l.pendingLanes);d!==0&&(mo(l,d|1),_n(l,mt()),(ut&6)===0&&(Yl=mt()+500,So()))}break;case 13:Ts(function(){var g=Ra(o,1);if(g!==null){var _=nn();Ci(g,o,1,_)}}),vv(o,1)}},_l=function(o){if(o.tag===13){var l=Ra(o,134217728);if(l!==null){var d=nn();Ci(l,o,134217728,d)}vv(o,134217728)}},Hd=function(o){if(o.tag===13){var l=Oo(o),d=Ra(o,l);if(d!==null){var g=nn();Ci(d,o,l,g)}vv(o,l)}},Kd=function(){return nt},Gd=function(o,l){var d=nt;try{return nt=o,l()}finally{nt=d}},zi=function(o,l,d){switch(l){case"input":if(Yt(o,d),l=d.name,d.type==="radio"&&l!=null){for(d=o;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<d.length;l++){var g=d[l];if(g!==o&&g.form===o.form){var _=dh(g);if(!_)throw Error(r(90));ue(g),Yt(g,_)}}}break;case"textarea":mi(o,d);break;case"select":l=d.value,l!=null&&zt(o,!!d.multiple,l,!1)}},An=fv,Wi=Ts;var $V={usingClientEntryPoint:!1,Events:[Tc,Ml,dh,Xn,Tn,fv]},Fc={findFiberByHostInstance:ys,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},FV={bundleType:Fc.bundleType,version:Fc.version,rendererPackageName:Fc.rendererPackageName,rendererConfig:Fc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Le(o),o===null?null:o.stateNode},findFiberByHostInstance:Fc.findFiberByHostInstance||MV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xh.isDisabled&&Xh.supportsFiber)try{cs=Xh.inject(FV),On=Xh}catch{}}return xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$V,xn.createPortal=function(o,l){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_v(l))throw Error(r(200));return DV(o,l,null,d)},xn.createRoot=function(o,l){if(!_v(o))throw Error(r(299));var d=!1,g="",_=zA;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(_=l.onRecoverableError)),l=yv(o,1,!1,null,null,d,!1,g,_),o[Ia]=l.current,wc(o.nodeType===8?o.parentNode:o),new bv(l)},xn.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=Le(l),o=o===null?null:o.stateNode,o},xn.flushSync=function(o){return Ts(o)},xn.hydrate=function(o,l,d){if(!Gh(l))throw Error(r(200));return Yh(null,o,l,!0,d)},xn.hydrateRoot=function(o,l,d){if(!_v(o))throw Error(r(405));var g=d!=null&&d.hydratedSources||null,_=!1,T="",L=zA;if(d!=null&&(d.unstable_strictMode===!0&&(_=!0),d.identifierPrefix!==void 0&&(T=d.identifierPrefix),d.onRecoverableError!==void 0&&(L=d.onRecoverableError)),l=BA(l,null,o,1,d??null,_,!1,T,L),o[Ia]=l.current,wc(o),g)for(o=0;o<g.length;o++)d=g[o],_=d._getVersion,_=_(d._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[d,_]:l.mutableSourceEagerHydrationData.push(d,_);return new Kh(l)},xn.render=function(o,l,d){if(!Gh(l))throw Error(r(200));return Yh(null,o,l,!1,d)},xn.unmountComponentAtNode=function(o){if(!Gh(o))throw Error(r(40));return o._reactRootContainer?(Ts(function(){Yh(null,null,o,!1,function(){o._reactRootContainer=null,o[Ia]=null})}),!0):!1},xn.unstable_batchedUpdates=fv,xn.unstable_renderSubtreeIntoContainer=function(o,l,d,g){if(!Gh(d))throw Error(r(200));if(o==null||o._reactInternals===void 0)throw Error(r(38));return Yh(o,l,d,!1,g)},xn.version="18.3.1-next-f1338f8080-20240426",xn}var ZA;function KV(){if(ZA)return Ev.exports;ZA=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ev.exports=HV(),Ev.exports}var eP;function GV(){if(eP)return Jh;eP=1;var t=KV();return Jh.createRoot=t.createRoot,Jh.hydrateRoot=t.hydrateRoot,Jh}var YV=GV();const XV=bt(YV);var tP={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},QV=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],s=t[r++],u=t[r++],c=((i&7)<<18|(a&63)<<12|(s&63)<<6|u&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const a=t[r++],s=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},C2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,u=s?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,h=a>>2,m=(a&3)<<4|u>>4;let y=(u&15)<<2|f>>6,b=f&63;c||(b=64,s||(y=64)),n.push(r[h],r[m],r[y],r[b])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(O2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):QV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],u=i<t.length?r[t.charAt(i)]:0;++i;const f=i<t.length?r[t.charAt(i)]:64;++i;const m=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||u==null||f==null||m==null)throw new JV;const y=a<<2|u>>4;if(n.push(y),f!==64){const b=u<<4&240|f>>2;if(n.push(b),m!==64){const x=f<<6&192|m;n.push(x)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class JV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ZV=function(t){const e=O2(t);return C2.encodeByteArray(e,!0)},Op=function(t){return ZV(t).replace(/\./g,"")},N2=function(t){try{return C2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3=()=>e3().__FIREBASE_DEFAULTS__,r3=()=>{if(typeof process>"u"||typeof tP>"u")return;const t=tP.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},n3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&N2(t[1]);return e&&JSON.parse(e)},Wm=()=>{try{return t3()||r3()||n3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},R2=t=>{var e,r;return(r=(e=Wm())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},j2=t=>{const e=R2(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},D2=()=>{var t;return(t=Wm())===null||t===void 0?void 0:t.config},M2=t=>{var e;return(e=Wm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Op(JSON.stringify(r)),Op(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function a3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qr())}function o3(){var t;const e=(t=Wm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function s3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function l3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function u3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function c3(){const t=Qr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function f3(){return!o3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function d3(){try{return typeof indexedDB=="object"}catch{return!1}}function h3(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3="FirebaseError";class ga extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=p3,Object.setPrototypeOf(this,ga.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,md.prototype.create)}}class md{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?m3(a,n):"Error",u=`${this.serviceName}: ${s} (${i}).`;return new ga(i,u,n)}}function m3(t,e){return t.replace(g3,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const g3=/\{\$([^}]+)}/g;function y3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Cp(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],s=e[i];if(rP(a)&&rP(s)){if(!Cp(a,s))return!1}else if(a!==s)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function rP(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Jc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Zc(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function v3(t,e){const r=new b3(t,e);return r.subscribe.bind(r)}class b3{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");_3(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=Av),i.error===void 0&&(i.error=Av),i.complete===void 0&&(i.complete=Av);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _3(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function Av(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(t){return t&&t._delegate?t._delegate:t}class Yo{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new i3;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e?.identifier),i=(r=e?.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(E3(e))try{this.getOrInitializeService({instanceIdentifier:Ns})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=Ns){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ns){return this.instances.has(e)}getOptions(e=Ns){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);n===u&&s.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(i,a);const s=this.instances.get(i);return s&&e(s,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:w3(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Ns){return this.component?this.component.multipleInstances?e:Ns:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function w3(t){return t===Ns?void 0:t}function E3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new x3(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(it||(it={}));const T3={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},A3=it.INFO,P3={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},k3=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=P3[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class M1{constructor(e){this.name=e,this._logLevel=A3,this._logHandler=k3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in it))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?T3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...e),this._logHandler(this,it.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...e),this._logHandler(this,it.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,it.INFO,...e),this._logHandler(this,it.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,it.WARN,...e),this._logHandler(this,it.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...e),this._logHandler(this,it.ERROR,...e)}}const I3=(t,e)=>e.some(r=>t instanceof r);let nP,iP;function O3(){return nP||(nP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function C3(){return iP||(iP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $2=new WeakMap,Ux=new WeakMap,F2=new WeakMap,Pv=new WeakMap,L1=new WeakMap;function N3(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{r(zo(t.result)),i()},s=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(r=>{r instanceof IDBCursor&&$2.set(r,t)}).catch(()=>{}),L1.set(e,t),e}function R3(t){if(Ux.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{r(),i()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});Ux.set(t,e)}let Bx={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Ux.get(t);if(e==="objectStoreNames")return t.objectStoreNames||F2.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return zo(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function j3(t){Bx=t(Bx)}function D3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(kv(this),e,...r);return F2.set(n,e.sort?e.sort():[e]),zo(n)}:C3().includes(t)?function(...e){return t.apply(kv(this),e),zo($2.get(this))}:function(...e){return zo(t.apply(kv(this),e))}}function M3(t){return typeof t=="function"?D3(t):(t instanceof IDBTransaction&&R3(t),I3(t,O3())?new Proxy(t,Bx):t)}function zo(t){if(t instanceof IDBRequest)return N3(t);if(Pv.has(t))return Pv.get(t);const e=M3(t);return e!==t&&(Pv.set(t,e),L1.set(e,t)),e}const kv=t=>L1.get(t);function L3(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),u=zo(s);return n&&s.addEventListener("upgradeneeded",c=>{n(zo(s.result),c.oldVersion,c.newVersion,zo(s.transaction),c)}),r&&s.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),u.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const $3=["get","getKey","getAll","getAllKeys","count"],F3=["put","add","delete","clear"],Iv=new Map;function aP(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Iv.get(e))return Iv.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=F3.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||$3.includes(r)))return;const a=async function(s,...u){const c=this.transaction(s,i?"readwrite":"readonly");let f=c.store;return n&&(f=f.index(u.shift())),(await Promise.all([f[r](...u),i&&c.done]))[0]};return Iv.set(e,a),a}j3(t=>({...t,get:(e,r,n)=>aP(e,r)||t.get(e,r,n),has:(e,r)=>!!aP(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(U3(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function U3(t){const e=t.getComponent();return e?.type==="VERSION"}const qx="@firebase/app",oP="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa=new M1("@firebase/app"),B3="@firebase/app-compat",q3="@firebase/analytics-compat",z3="@firebase/analytics",W3="@firebase/app-check-compat",H3="@firebase/app-check",K3="@firebase/auth",G3="@firebase/auth-compat",Y3="@firebase/database",X3="@firebase/data-connect",Q3="@firebase/database-compat",J3="@firebase/functions",Z3="@firebase/functions-compat",e6="@firebase/installations",t6="@firebase/installations-compat",r6="@firebase/messaging",n6="@firebase/messaging-compat",i6="@firebase/performance",a6="@firebase/performance-compat",o6="@firebase/remote-config",s6="@firebase/remote-config-compat",l6="@firebase/storage",u6="@firebase/storage-compat",c6="@firebase/firestore",f6="@firebase/vertexai-preview",d6="@firebase/firestore-compat",h6="firebase",p6="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx="[DEFAULT]",m6={[qx]:"fire-core",[B3]:"fire-core-compat",[z3]:"fire-analytics",[q3]:"fire-analytics-compat",[H3]:"fire-app-check",[W3]:"fire-app-check-compat",[K3]:"fire-auth",[G3]:"fire-auth-compat",[Y3]:"fire-rtdb",[X3]:"fire-data-connect",[Q3]:"fire-rtdb-compat",[J3]:"fire-fn",[Z3]:"fire-fn-compat",[e6]:"fire-iid",[t6]:"fire-iid-compat",[r6]:"fire-fcm",[n6]:"fire-fcm-compat",[i6]:"fire-perf",[a6]:"fire-perf-compat",[o6]:"fire-rc",[s6]:"fire-rc-compat",[l6]:"fire-gcs",[u6]:"fire-gcs-compat",[c6]:"fire-fst",[d6]:"fire-fst-compat",[f6]:"fire-vertex","fire-js":"fire-js",[h6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np=new Map,g6=new Map,Wx=new Map;function sP(t,e){try{t.container.addComponent(e)}catch(r){Xa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Hs(t){const e=t.name;if(Wx.has(e))return Xa.debug(`There were multiple attempts to register component ${e}.`),!1;Wx.set(e,t);for(const r of Np.values())sP(r,t);for(const r of g6.values())sP(r,t);return!0}function Hm(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function ra(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wo=new md("app","Firebase",y6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Yo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const al=p6;function V2(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:zx,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw Wo.create("bad-app-name",{appName:String(i)});if(r||(r=D2()),!r)throw Wo.create("no-options");const a=Np.get(i);if(a){if(Cp(r,a.options)&&Cp(n,a.config))return a;throw Wo.create("duplicate-app",{appName:i})}const s=new S3(i);for(const c of Wx.values())s.addComponent(c);const u=new v6(r,n,s);return Np.set(i,u),u}function $1(t=zx){const e=Np.get(t);if(!e&&t===zx&&D2())return V2();if(!e)throw Wo.create("no-app",{appName:t});return e}function aa(t,e,r){var n;let i=(n=m6[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&u.push("and"),s&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xa.warn(u.join(" "));return}Hs(new Yo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6="firebase-heartbeat-database",_6=1,Ef="firebase-heartbeat-store";let Ov=null;function U2(){return Ov||(Ov=L3(b6,_6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ef)}catch(r){console.warn(r)}}}}).catch(t=>{throw Wo.create("idb-open",{originalErrorMessage:t.message})})),Ov}async function x6(t){try{const r=(await U2()).transaction(Ef),n=await r.objectStore(Ef).get(B2(t));return await r.done,n}catch(e){if(e instanceof ga)Xa.warn(e.message);else{const r=Wo.create("idb-get",{originalErrorMessage:e?.message});Xa.warn(r.message)}}}async function lP(t,e){try{const n=(await U2()).transaction(Ef,"readwrite");await n.objectStore(Ef).put(e,B2(t)),await n.done}catch(r){if(r instanceof ga)Xa.warn(r.message);else{const n=Wo.create("idb-set",{originalErrorMessage:r?.message});Xa.warn(n.message)}}}function B2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w6=1024,E6=30*24*60*60*1e3;class S6{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new A6(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=uP();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const u=new Date(s.date).valueOf();return Date.now()-u<=E6}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Xa.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=uP(),{heartbeatsToSend:n,unsentEntries:i}=T6(this._heartbeatsCache.heartbeats),a=Op(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return Xa.warn(r),""}}}function uP(){return new Date().toISOString().substring(0,10)}function T6(t,e=w6){const r=[];let n=t.slice();for(const i of t){const a=r.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),cP(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),cP(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class A6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return d3()?h3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await x6(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return lP(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return lP(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function cP(t){return Op(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P6(t){Hs(new Yo("platform-logger",e=>new V3(e),"PRIVATE")),Hs(new Yo("heartbeat",e=>new S6(e),"PRIVATE")),aa(qx,oP,t),aa(qx,oP,"esm2017"),aa("fire-js","")}P6("");var k6="firebase",I6="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */aa(k6,I6,"app");function F1(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function q2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const O6=q2,z2=new md("auth","Firebase",q2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp=new M1("@firebase/auth");function C6(t,...e){Rp.logLevel<=it.WARN&&Rp.warn(`Auth (${al}): ${t}`,...e)}function _p(t,...e){Rp.logLevel<=it.ERROR&&Rp.error(`Auth (${al}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(t,...e){throw V1(t,...e)}function oa(t,...e){return V1(t,...e)}function W2(t,e,r){const n=Object.assign(Object.assign({},O6()),{[e]:r});return new md("auth","Firebase",n).create(e,{appName:t.name})}function Wa(t){return W2(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function V1(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return z2.create(t,...e)}function Ke(t,e,...r){if(!t)throw V1(e,...r)}function Fa(t){const e="INTERNAL ASSERTION FAILED: "+t;throw _p(e),new Error(e)}function Qa(t,e){t||Fa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function N6(){return fP()==="http:"||fP()==="https:"}function fP(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(N6()||l3()||"connection"in navigator)?navigator.onLine:!0}function j6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,r){this.shortDelay=e,this.longDelay=r,Qa(r>e,"Short delay should be less than long delay!"),this.isMobile=a3()||u3()}get(){return R6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(t,e){Qa(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6=new yd(3e4,6e4);function es(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ts(t,e,r,n,i={}){return K2(t,i,async()=>{let a={},s={};n&&(e==="GET"?s=n:a={body:JSON.stringify(n)});const u=gd(Object.assign({key:t.config.apiKey},s)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const f=Object.assign({method:e,headers:c},a);return s3()||(f.referrerPolicy="no-referrer"),H2.fetch()(G2(t,t.config.apiHost,r,u),f)})}async function K2(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},D6),e);try{const i=new $6(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw Zh(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const u=a.ok?s.errorMessage:s.error.message,[c,f]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zh(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Zh(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw Zh(t,"user-disabled",s);const h=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw W2(t,h,f);$i(t,h)}}catch(i){if(i instanceof ga)throw i;$i(t,"network-request-failed",{message:String(i)})}}async function vd(t,e,r,n,i={}){const a=await ts(t,e,r,n,i);return"mfaPendingCredential"in a&&$i(t,"multi-factor-auth-required",{_serverResponse:a}),a}function G2(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?U1(t.config,i):`${t.config.apiScheme}://${i}`}function L6(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $6{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(oa(this.auth,"network-request-failed")),M6.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Zh(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=oa(t,e,n);return i.customData._tokenResponse=r,i}function dP(t){return t!==void 0&&t.enterprise!==void 0}class F6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return L6(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function V6(t,e){return ts(t,"GET","/v2/recaptchaConfig",es(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U6(t,e){return ts(t,"POST","/v1/accounts:delete",e)}async function Y2(t,e){return ts(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function B6(t,e=!1){const r=Mt(t),n=await r.getIdToken(e),i=B1(n);Ke(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a?.sign_in_provider;return{claims:i,token:n,authTime:uf(Cv(i.auth_time)),issuedAtTime:uf(Cv(i.iat)),expirationTime:uf(Cv(i.exp)),signInProvider:s||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Cv(t){return Number(t)*1e3}function B1(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return _p("JWT malformed, contained fewer than 3 sections"),null;try{const i=N2(r);return i?JSON.parse(i):(_p("Failed to decode base64 JWT payload"),null)}catch(i){return _p("Caught error parsing JWT payload as JSON",i?.toString()),null}}function hP(t){const e=B1(t);return Ke(e,"internal-error"),Ke(typeof e.exp<"u","internal-error"),Ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sf(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof ga&&q6(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function q6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=uf(this.lastLoginAt),this.creationTime=uf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jp(t){var e;const r=t.auth,n=await t.getIdToken(),i=await Sf(t,Y2(r,{idToken:n}));Ke(i?.users.length,r,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const s=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?X2(a.providerUserInfo):[],u=H6(t.providerData,s),c=t.isAnonymous,f=!(t.email&&a.passwordHash)&&!u?.length,h=c?f:!1,m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Kx(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(t,m)}async function W6(t){const e=Mt(t);await jp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function H6(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function X2(t){return t.map(e=>{var{providerId:r}=e,n=F1(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K6(t,e){const r=await K2(t,{},async()=>{const n=gd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=G2(t,i,"/v1/token",`key=${a}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",H2.fetch()(s,{method:"POST",headers:u,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function G6(t,e){return ts(t,"POST","/v2/accounts:revokeToken",es(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ke(e.idToken,"internal-error"),Ke(typeof e.idToken<"u","internal-error"),Ke(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Ke(e.length!==0,"internal-error");const r=hP(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await K6(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,s=new cu;return n&&(Ke(typeof n=="string","internal-error",{appName:e}),s.refreshToken=n),i&&(Ke(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(Ke(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new cu,this.toJSON())}_performRefresh(){return Fa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jo(t,e){Ke(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Va{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,a=F1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new z6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Kx(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const r=await Sf(this,this.stsTokenManager.getToken(this.auth,e));return Ke(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return B6(this,e)}reload(){return W6(this)}_assign(e){this!==e&&(Ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Va(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await jp(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ra(this.auth.app))return Promise.reject(Wa(this.auth));const e=await this.getIdToken();return await Sf(this,U6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,a,s,u,c,f,h;const m=(n=r.displayName)!==null&&n!==void 0?n:void 0,y=(i=r.email)!==null&&i!==void 0?i:void 0,b=(a=r.phoneNumber)!==null&&a!==void 0?a:void 0,x=(s=r.photoURL)!==null&&s!==void 0?s:void 0,E=(u=r.tenantId)!==null&&u!==void 0?u:void 0,w=(c=r._redirectEventId)!==null&&c!==void 0?c:void 0,O=(f=r.createdAt)!==null&&f!==void 0?f:void 0,C=(h=r.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:N,emailVerified:$,isAnonymous:I,providerData:j,stsTokenManager:A}=r;Ke(N&&A,e,"internal-error");const P=cu.fromJSON(this.name,A);Ke(typeof N=="string",e,"internal-error"),jo(m,e.name),jo(y,e.name),Ke(typeof $=="boolean",e,"internal-error"),Ke(typeof I=="boolean",e,"internal-error"),jo(b,e.name),jo(x,e.name),jo(E,e.name),jo(w,e.name),jo(O,e.name),jo(C,e.name);const R=new Va({uid:N,auth:e,email:y,emailVerified:$,displayName:m,isAnonymous:I,photoURL:x,phoneNumber:b,tenantId:E,stsTokenManager:P,createdAt:O,lastLoginAt:C});return j&&Array.isArray(j)&&(R.providerData=j.map(F=>Object.assign({},F))),w&&(R._redirectEventId=w),R}static async _fromIdTokenResponse(e,r,n=!1){const i=new cu;i.updateFromServerResponse(r);const a=new Va({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await jp(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];Ke(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?X2(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!a?.length,u=new cu;u.updateFromIdToken(n);const c=new Va({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:s}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Kx(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(c,f),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP=new Map;function Ua(t){Qa(t instanceof Function,"Expected a class definition");let e=pP.get(t);return e?(Qa(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,pP.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}Q2.type="NONE";const mP=Q2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(t,e,r){return`firebase:${t}:${e}:${r}`}class fu{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=xp(this.userKey,i.apiKey,a),this.fullPersistenceKey=xp("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Va._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new fu(Ua(mP),e,n);const i=(await Promise.all(r.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=i[0]||Ua(mP);const s=xp(n,e.config.apiKey,e.name);let u=null;for(const f of r)try{const h=await f._get(s);if(h){const m=Va._fromJSON(e,h);f!==a&&(u=m),a=f;break}}catch{}const c=i.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new fu(a,e,n):(a=c[0],u&&await a._set(s,u.toJSON()),await Promise.all(r.map(async f=>{if(f!==a)try{await f._remove(s)}catch{}})),new fu(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(J2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nD(e))return"Blackberry";if(iD(e))return"Webos";if(Z2(e))return"Safari";if((e.includes("chrome/")||eD(e))&&!e.includes("edge/"))return"Chrome";if(rD(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if(n?.length===2)return n[1]}return"Other"}function J2(t=Qr()){return/firefox\//i.test(t)}function Z2(t=Qr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eD(t=Qr()){return/crios\//i.test(t)}function tD(t=Qr()){return/iemobile/i.test(t)}function rD(t=Qr()){return/android/i.test(t)}function nD(t=Qr()){return/blackberry/i.test(t)}function iD(t=Qr()){return/webos/i.test(t)}function q1(t=Qr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Y6(t=Qr()){var e;return q1(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function X6(){return c3()&&document.documentMode===10}function aD(t=Qr()){return q1(t)||rD(t)||iD(t)||nD(t)||/windows phone/i.test(t)||tD(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(t,e=[]){let r;switch(t){case"Browser":r=gP(Qr());break;case"Worker":r=`${gP(Qr())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${al}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((s,u)=>{try{const c=e(a);s(c)}catch(c){u(c)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J6(t,e={}){return ts(t,"GET","/v2/passwordPolicy",es(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z6=6;class eU{constructor(e){var r,n,i,a;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=s.minPasswordLength)!==null&&r!==void 0?r:Z6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,a,s,u;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(r=c.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(n=c.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(a=c.containsUppercaseLetter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(u=c.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),c}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yP(this),this.idTokenSubscription=new yP(this),this.beforeStateQueue=new Q6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=z2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Ua(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await fu.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await Y2(this,{idToken:e}),n=await Va._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(ra(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,u=i?._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===u)&&c?.user&&(i=c.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await jp(e)}catch(r){if(r?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=j6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ra(this.app))return Promise.reject(Wa(this));const r=e?Mt(e):null;return r&&Ke(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ra(this.app)?Promise.reject(Wa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ra(this.app)?Promise.reject(Wa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ua(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await J6(this),r=new eU(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new md("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await G6(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Ua(e)||this._popupRedirectResolver;Ke(r,this,"argument-error"),this.redirectPersistenceManager=await fu.create(this,[Ua(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let s=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ke(u,this,"internal-error"),u.then(()=>{s||a(this.currentUser)}),typeof r=="function"){const c=e.addObserver(r,n,i);return()=>{s=!0,c()}}else{const c=e.addObserver(r);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r?.error&&C6(`Error while retrieving App Check token: ${r.error}`),r?.token}}function ol(t){return Mt(t)}class yP{constructor(e){this.auth=e,this.observer=null,this.addObserver=v3(r=>this.observer=r)}get next(){return Ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Km={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rU(t){Km=t}function sD(t){return Km.loadJS(t)}function nU(){return Km.recaptchaEnterpriseScript}function iU(){return Km.gapiScript}function aU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const oU="recaptcha-enterprise",sU="NO_RECAPTCHA";class lU{constructor(e){this.type=oU,this.auth=ol(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,u)=>{V6(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new F6(c);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,s(f.siteKey)}}).catch(c=>{u(c)})})}function i(a,s,u){const c=window.grecaptcha;dP(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(f=>{s(f)}).catch(()=>{s(sU)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,s)=>{n(this.auth).then(u=>{if(!r&&dP(window.grecaptcha))i(u,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=nU();c.length!==0&&(c+=u),sD(c).then(()=>{i(u,a,s)}).catch(f=>{s(f)})}}).catch(u=>{s(u)})})}}async function vP(t,e,r,n=!1){const i=new lU(t);let a;try{a=await i.verify(r)}catch{a=await i.verify(r,!0)}const s=Object.assign({},e);return n?Object.assign(s,{captchaResp:a}):Object.assign(s,{captchaResponse:a}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Gx(t,e,r,n){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await vP(t,e,r,r==="getOobCode");return n(t,a)}else return n(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await vP(t,e,r,r==="getOobCode");return n(t,s)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uU(t,e){const r=Hm(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(Cp(a,e??{}))return i;$i(i,"already-initialized")}return r.initialize({options:e})}function cU(t,e){const r=e?.persistence||[],n=(Array.isArray(r)?r:[r]).map(Ua);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e?.popupRedirectResolver)}function fU(t,e,r){const n=ol(t);Ke(n._canInitEmulator,n,"emulator-config-failed"),Ke(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=lD(e),{host:s,port:u}=dU(e),c=u===null?"":`:${u}`;n.config.emulator={url:`${a}//${s}${c}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),hU()}function lD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function dU(t){const e=lD(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:bP(n.substr(a.length+1))}}else{const[a,s]=n.split(":");return{host:a,port:bP(s)}}}function bP(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function hU(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Fa("not implemented")}_getIdTokenResponse(e){return Fa("not implemented")}_linkToIdToken(e,r){return Fa("not implemented")}_getReauthenticationResolver(e){return Fa("not implemented")}}async function pU(t,e){return ts(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mU(t,e){return vd(t,"POST","/v1/accounts:signInWithPassword",es(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gU(t,e){return vd(t,"POST","/v1/accounts:signInWithEmailLink",es(t,e))}async function yU(t,e){return vd(t,"POST","/v1/accounts:signInWithEmailLink",es(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf extends z1{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new Tf(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new Tf(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r?.email&&r?.password){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gx(e,r,"signInWithPassword",mU);case"emailLink":return gU(e,{email:this._email,oobCode:this._password});default:$i(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gx(e,n,"signUpPassword",pU);case"emailLink":return yU(e,{idToken:r,email:this._email,oobCode:this._password});default:$i(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function du(t,e){return vd(t,"POST","/v1/accounts:signInWithIdp",es(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vU="http://localhost";class Ks extends z1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Ks(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):$i("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,a=F1(r,["providerId","signInMethod"]);if(!n||!i)return null;const s=new Ks(n,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const r=this.buildRequest();return du(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,du(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,du(e,r)}buildRequest(){const e={requestUri:vU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=gd(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _U(t){const e=Jc(Zc(t)).link,r=e?Jc(Zc(e)).deep_link_id:null,n=Jc(Zc(t)).deep_link_id;return(n?Jc(Zc(n)).link:null)||n||r||e||t}class W1{constructor(e){var r,n,i,a,s,u;const c=Jc(Zc(e)),f=(r=c.apiKey)!==null&&r!==void 0?r:null,h=(n=c.oobCode)!==null&&n!==void 0?n:null,m=bU((i=c.mode)!==null&&i!==void 0?i:null);Ke(f&&h&&m,"argument-error"),this.apiKey=f,this.operation=m,this.code=h,this.continueUrl=(a=c.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(s=c.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(u=c.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const r=_U(e);try{return new W1(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(){this.providerId=Xu.PROVIDER_ID}static credential(e,r){return Tf._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=W1.parseLink(r);return Ke(n,"argument-error"),Tf._fromEmailAndCode(e,n.code,n.tenantId)}}Xu.PROVIDER_ID="password";Xu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Xu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd extends uD{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo extends bd{constructor(){super("facebook.com")}static credential(e){return Ks._fromParams({providerId:Mo.PROVIDER_ID,signInMethod:Mo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mo.credentialFromTaggedObject(e)}static credentialFromError(e){return Mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mo.credential(e.oauthAccessToken)}catch{return null}}}Mo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Mo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo extends bd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Ks._fromParams({providerId:Lo.PROVIDER_ID,signInMethod:Lo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Lo.credentialFromTaggedObject(e)}static credentialFromError(e){return Lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Lo.credential(r,n)}catch{return null}}}Lo.GOOGLE_SIGN_IN_METHOD="google.com";Lo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o extends bd{constructor(){super("github.com")}static credential(e){return Ks._fromParams({providerId:$o.PROVIDER_ID,signInMethod:$o.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $o.credentialFromTaggedObject(e)}static credentialFromError(e){return $o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $o.credential(e.oauthAccessToken)}catch{return null}}}$o.GITHUB_SIGN_IN_METHOD="github.com";$o.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo extends bd{constructor(){super("twitter.com")}static credential(e,r){return Ks._fromParams({providerId:Fo.PROVIDER_ID,signInMethod:Fo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Fo.credentialFromTaggedObject(e)}static credentialFromError(e){return Fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Fo.credential(r,n)}catch{return null}}}Fo.TWITTER_SIGN_IN_METHOD="twitter.com";Fo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xU(t,e){return vd(t,"POST","/v1/accounts:signUp",es(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await Va._fromIdTokenResponse(e,n,i),s=_P(n);return new Gs({user:a,providerId:s,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=_P(n);return new Gs({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function _P(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp extends ga{constructor(e,r,n,i){var a;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Dp.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Dp(e,r,n,i)}}function cD(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Dp._fromErrorAndOperation(t,a,e,n):a})}async function wU(t,e,r=!1){const n=await Sf(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Gs._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EU(t,e,r=!1){const{auth:n}=t;if(ra(n.app))return Promise.reject(Wa(n));const i="reauthenticate";try{const a=await Sf(t,cD(n,i,e,t),r);Ke(a.idToken,n,"internal-error");const s=B1(a.idToken);Ke(s,n,"internal-error");const{sub:u}=s;return Ke(t.uid===u,n,"user-mismatch"),Gs._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&$i(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fD(t,e,r=!1){if(ra(t.app))return Promise.reject(Wa(t));const n="signIn",i=await cD(t,n,e),a=await Gs._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}async function SU(t,e){return fD(ol(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dD(t){const e=ol(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function TU(t,e,r){if(ra(t.app))return Promise.reject(Wa(t));const n=ol(t),s=await Gx(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",xU).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&dD(t),c}),u=await Gs._fromIdTokenResponse(n,"signIn",s);return await n._updateCurrentUser(u.user),u}function AU(t,e,r){return ra(t.app)?Promise.reject(Wa(t)):SU(Mt(t),Xu.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&dD(t),n})}function PU(t,e,r,n){return Mt(t).onIdTokenChanged(e,r,n)}function kU(t,e,r){return Mt(t).beforeAuthStateChanged(e,r)}function IU(t,e,r,n){return Mt(t).onAuthStateChanged(e,r,n)}function OU(t){return Mt(t).signOut()}const Mp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Mp,"1"),this.storage.removeItem(Mp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CU=1e3,NU=10;class pD extends hD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((s,u,c)=>{this.notifyListeners(s,c)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(n);!r&&this.localCache[n]===s||this.notifyListeners(n,s)},a=this.storage.getItem(n);X6()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,NU):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},CU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}pD.type="LOCAL";const RU=pD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD extends hD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}mD.type="SESSION";const gD=mD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new Gm(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,s=this.handlersMap[i];if(!s?.size)return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const u=Array.from(s).map(async f=>f(r.origin,a)),c=await jU(u);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:c})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((u,c)=>{const f=H1("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},n);s={messageChannel:i,onMessage(m){const y=m;if(y.data.eventId===f)switch(y.data.status){case"ack":clearTimeout(h),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(y.data.response);break;default:clearTimeout(h),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:f,data:r},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sa(){return window}function MU(t){sa().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(){return typeof sa().WorkerGlobalScope<"u"&&typeof sa().importScripts=="function"}async function LU(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $U(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function FU(){return yD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD="firebaseLocalStorageDb",VU=1,Lp="firebaseLocalStorage",bD="fbase_key";class _d{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Ym(t,e){return t.transaction([Lp],e?"readwrite":"readonly").objectStore(Lp)}function UU(){const t=indexedDB.deleteDatabase(vD);return new _d(t).toPromise()}function Yx(){const t=indexedDB.open(vD,VU);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Lp,{keyPath:bD})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Lp)?e(n):(n.close(),await UU(),e(await Yx()))})})}async function xP(t,e,r){const n=Ym(t,!0).put({[bD]:e,value:r});return new _d(n).toPromise()}async function BU(t,e){const r=Ym(t,!1).get(e),n=await new _d(r).toPromise();return n===void 0?null:n.value}function wP(t,e){const r=Ym(t,!0).delete(e);return new _d(r).toPromise()}const qU=800,zU=3;class _D{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Yx(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>zU)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gm._getInstance(FU()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await LU(),!this.activeServiceWorker)return;this.sender=new DU(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$U()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Yx();return await xP(e,Mp,"1"),await wP(e,Mp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>xP(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>BU(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>wP(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Ym(i,!1).getAll();return new _d(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_D.type="LOCAL";const WU=_D;new yd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HU(t,e){return e?Ua(e):(Ke(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1 extends z1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return du(e,this._buildIdpRequest())}_linkToIdToken(e,r){return du(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return du(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function KU(t){return fD(t.auth,new K1(t),t.bypassAuthState)}function GU(t){const{auth:e,user:r}=t;return Ke(r,e,"internal-error"),EU(r,new K1(t),t.bypassAuthState)}async function YU(t){const{auth:e,user:r}=t;return Ke(r,e,"internal-error"),wU(r,new K1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:s,type:u}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return KU;case"linkViaPopup":case"linkViaRedirect":return YU;case"reauthViaPopup":case"reauthViaRedirect":return GU;default:$i(this.auth,"internal-error")}}resolve(e){Qa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XU=new yd(2e3,1e4);class iu extends xD{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,iu.currentPopupAction&&iu.currentPopupAction.cancel(),iu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ke(e,this.auth,"internal-error"),e}async onExecution(){Qa(this.filter.length===1,"Popup operations only handle one event");const e=H1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(oa(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(oa(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,iu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(oa(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,XU.get())};e()}}iu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QU="pendingRedirect",wp=new Map;class JU extends xD{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=wp.get(this.auth._key());if(!e){try{const n=await ZU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}wp.set(this.auth._key(),e)}return this.bypassAuthState||wp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZU(t,e){const r=rB(e),n=tB(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function eB(t,e){wp.set(t._key(),e)}function tB(t){return Ua(t._redirectPersistence)}function rB(t){return xp(QU,t.config.apiKey,t.name)}async function nB(t,e,r=!1){if(ra(t.app))return Promise.reject(Wa(t));const n=ol(t),i=HU(n,e),s=await new JU(n,i,r).execute();return s&&!r&&(delete s.user._redirectEventId,await n._persistUserIfCurrent(s.user),await n._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iB=10*60*1e3;class aB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oB(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!wD(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(oa(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=iB&&this.cachedEventUids.clear(),this.cachedEventUids.has(EP(e))}saveEventToCache(e){this.cachedEventUids.add(EP(e)),this.lastProcessedEventTime=Date.now()}}function EP(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function wD({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function oB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sB(t,e={}){return ts(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uB=/^https?/;async function cB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await sB(t);for(const r of e)try{if(fB(r))return}catch{}$i(t,"unauthorized-domain")}function fB(t){const e=Hx(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&s.hostname===n}if(!uB.test(r))return!1;if(lB.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dB=new yd(3e4,6e4);function SP(){const t=sa().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function hB(t){return new Promise((e,r)=>{var n,i,a;function s(){SP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{SP(),r(oa(t,"network-request-failed"))},timeout:dB.get()})}if(!((i=(n=sa().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=sa().gapi)===null||a===void 0)&&a.load)s();else{const u=aU("iframefcb");return sa()[u]=()=>{gapi.load?s():r(oa(t,"network-request-failed"))},sD(`${iU()}?onload=${u}`).catch(c=>r(c))}}).catch(e=>{throw Ep=null,e})}let Ep=null;function pB(t){return Ep=Ep||hB(t),Ep}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mB=new yd(5e3,15e3),gB="__/auth/iframe",yB="emulator/auth/iframe",vB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _B(t){const e=t.config;Ke(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?U1(e,yB):`https://${t.config.authDomain}/${gB}`,n={apiKey:e.apiKey,appName:t.name,v:al},i=bB.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${gd(n).slice(1)}`}async function xB(t){const e=await pB(t),r=sa().gapi;return Ke(r,t,"internal-error"),e.open({where:document.body,url:_B(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vB,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const s=oa(t,"network-request-failed"),u=sa().setTimeout(()=>{a(s)},mB.get());function c(){sa().clearTimeout(u),i(n)}n.ping(c).then(c,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},EB=500,SB=600,TB="_blank",AB="http://localhost";class TP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function PB(t,e,r,n=EB,i=SB){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString();let u="";const c=Object.assign(Object.assign({},wB),{width:n.toString(),height:i.toString(),top:a,left:s}),f=Qr().toLowerCase();r&&(u=eD(f)?TB:r),J2(f)&&(e=e||AB,c.scrollbars="yes");const h=Object.entries(c).reduce((y,[b,x])=>`${y}${b}=${x},`,"");if(Y6(f)&&u!=="_self")return kB(e||"",u),new TP(null);const m=window.open(e||"",u,h);Ke(m,t,"popup-blocked");try{m.focus()}catch{}return new TP(m)}function kB(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IB="__/auth/handler",OB="emulator/auth/handler",CB=encodeURIComponent("fac");async function AP(t,e,r,n,i,a){Ke(t.config.authDomain,t,"auth-domain-config-required"),Ke(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:al,eventId:i};if(e instanceof uD){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",y3(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,m]of Object.entries({}))s[h]=m}if(e instanceof bd){const h=e.getScopes().filter(m=>m!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);const u=s;for(const h of Object.keys(u))u[h]===void 0&&delete u[h];const c=await t._getAppCheckToken(),f=c?`#${CB}=${encodeURIComponent(c)}`:"";return`${NB(t)}?${gd(u).slice(1)}${f}`}function NB({config:t}){return t.emulator?U1(t,OB):`https://${t.authDomain}/${IB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="webStorageSupport";class RB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gD,this._completeRedirectFn=nB,this._overrideRedirectResult=eB}async _openPopup(e,r,n,i){var a;Qa((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await AP(e,r,n,Hx(),i);return PB(e,s,H1())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await AP(e,r,n,Hx(),i);return MU(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(Qa(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await xB(e),n=new aB(e);return r.register("authEvent",i=>(Ke(i?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Nv,{type:Nv},i=>{var a;const s=(a=i?.[0])===null||a===void 0?void 0:a[Nv];s!==void 0&&r(!!s),$i(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=cB(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return aD()||Z2()||q1()}}const jB=RB;var PP="@firebase/auth",kP="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LB(t){Hs(new Yo("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:u}=n.options;Ke(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:s,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oD(t)},f=new tU(n,i,a,c);return cU(f,r),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Hs(new Yo("auth-internal",e=>{const r=ol(e.getProvider("auth").getImmediate());return(n=>new DB(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),aa(PP,kP,MB(t)),aa(PP,kP,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $B=5*60,FB=M2("authIdTokenMaxAge")||$B;let IP=null;const VB=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>FB)return;const i=r?.token;IP!==i&&(IP=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function ED(t=$1()){const e=Hm(t,"auth");if(e.isInitialized())return e.getImmediate();const r=uU(t,{popupRedirectResolver:jB,persistence:[WU,RU,gD]}),n=M2("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const s=VB(a.toString());kU(r,s,()=>s(r.currentUser)),PU(r,u=>s(u))}}const i=R2("auth");return i&&fU(r,`http://${i}`),r}function UB(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}rU({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=oa("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",UB().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LB("Browser");var OP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Us,SD;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,P){function R(){}R.prototype=P.prototype,A.D=P.prototype,A.prototype=new R,A.prototype.constructor=A,A.C=function(F,M,V){for(var D=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)D[Z-2]=arguments[Z];return P.prototype[M].apply(F,D)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,P,R){R||(R=0);var F=Array(16);if(typeof P=="string")for(var M=0;16>M;++M)F[M]=P.charCodeAt(R++)|P.charCodeAt(R++)<<8|P.charCodeAt(R++)<<16|P.charCodeAt(R++)<<24;else for(M=0;16>M;++M)F[M]=P[R++]|P[R++]<<8|P[R++]<<16|P[R++]<<24;P=A.g[0],R=A.g[1],M=A.g[2];var V=A.g[3],D=P+(V^R&(M^V))+F[0]+3614090360&4294967295;P=R+(D<<7&4294967295|D>>>25),D=V+(M^P&(R^M))+F[1]+3905402710&4294967295,V=P+(D<<12&4294967295|D>>>20),D=M+(R^V&(P^R))+F[2]+606105819&4294967295,M=V+(D<<17&4294967295|D>>>15),D=R+(P^M&(V^P))+F[3]+3250441966&4294967295,R=M+(D<<22&4294967295|D>>>10),D=P+(V^R&(M^V))+F[4]+4118548399&4294967295,P=R+(D<<7&4294967295|D>>>25),D=V+(M^P&(R^M))+F[5]+1200080426&4294967295,V=P+(D<<12&4294967295|D>>>20),D=M+(R^V&(P^R))+F[6]+2821735955&4294967295,M=V+(D<<17&4294967295|D>>>15),D=R+(P^M&(V^P))+F[7]+4249261313&4294967295,R=M+(D<<22&4294967295|D>>>10),D=P+(V^R&(M^V))+F[8]+1770035416&4294967295,P=R+(D<<7&4294967295|D>>>25),D=V+(M^P&(R^M))+F[9]+2336552879&4294967295,V=P+(D<<12&4294967295|D>>>20),D=M+(R^V&(P^R))+F[10]+4294925233&4294967295,M=V+(D<<17&4294967295|D>>>15),D=R+(P^M&(V^P))+F[11]+2304563134&4294967295,R=M+(D<<22&4294967295|D>>>10),D=P+(V^R&(M^V))+F[12]+1804603682&4294967295,P=R+(D<<7&4294967295|D>>>25),D=V+(M^P&(R^M))+F[13]+4254626195&4294967295,V=P+(D<<12&4294967295|D>>>20),D=M+(R^V&(P^R))+F[14]+2792965006&4294967295,M=V+(D<<17&4294967295|D>>>15),D=R+(P^M&(V^P))+F[15]+1236535329&4294967295,R=M+(D<<22&4294967295|D>>>10),D=P+(M^V&(R^M))+F[1]+4129170786&4294967295,P=R+(D<<5&4294967295|D>>>27),D=V+(R^M&(P^R))+F[6]+3225465664&4294967295,V=P+(D<<9&4294967295|D>>>23),D=M+(P^R&(V^P))+F[11]+643717713&4294967295,M=V+(D<<14&4294967295|D>>>18),D=R+(V^P&(M^V))+F[0]+3921069994&4294967295,R=M+(D<<20&4294967295|D>>>12),D=P+(M^V&(R^M))+F[5]+3593408605&4294967295,P=R+(D<<5&4294967295|D>>>27),D=V+(R^M&(P^R))+F[10]+38016083&4294967295,V=P+(D<<9&4294967295|D>>>23),D=M+(P^R&(V^P))+F[15]+3634488961&4294967295,M=V+(D<<14&4294967295|D>>>18),D=R+(V^P&(M^V))+F[4]+3889429448&4294967295,R=M+(D<<20&4294967295|D>>>12),D=P+(M^V&(R^M))+F[9]+568446438&4294967295,P=R+(D<<5&4294967295|D>>>27),D=V+(R^M&(P^R))+F[14]+3275163606&4294967295,V=P+(D<<9&4294967295|D>>>23),D=M+(P^R&(V^P))+F[3]+4107603335&4294967295,M=V+(D<<14&4294967295|D>>>18),D=R+(V^P&(M^V))+F[8]+1163531501&4294967295,R=M+(D<<20&4294967295|D>>>12),D=P+(M^V&(R^M))+F[13]+2850285829&4294967295,P=R+(D<<5&4294967295|D>>>27),D=V+(R^M&(P^R))+F[2]+4243563512&4294967295,V=P+(D<<9&4294967295|D>>>23),D=M+(P^R&(V^P))+F[7]+1735328473&4294967295,M=V+(D<<14&4294967295|D>>>18),D=R+(V^P&(M^V))+F[12]+2368359562&4294967295,R=M+(D<<20&4294967295|D>>>12),D=P+(R^M^V)+F[5]+4294588738&4294967295,P=R+(D<<4&4294967295|D>>>28),D=V+(P^R^M)+F[8]+2272392833&4294967295,V=P+(D<<11&4294967295|D>>>21),D=M+(V^P^R)+F[11]+1839030562&4294967295,M=V+(D<<16&4294967295|D>>>16),D=R+(M^V^P)+F[14]+4259657740&4294967295,R=M+(D<<23&4294967295|D>>>9),D=P+(R^M^V)+F[1]+2763975236&4294967295,P=R+(D<<4&4294967295|D>>>28),D=V+(P^R^M)+F[4]+1272893353&4294967295,V=P+(D<<11&4294967295|D>>>21),D=M+(V^P^R)+F[7]+4139469664&4294967295,M=V+(D<<16&4294967295|D>>>16),D=R+(M^V^P)+F[10]+3200236656&4294967295,R=M+(D<<23&4294967295|D>>>9),D=P+(R^M^V)+F[13]+681279174&4294967295,P=R+(D<<4&4294967295|D>>>28),D=V+(P^R^M)+F[0]+3936430074&4294967295,V=P+(D<<11&4294967295|D>>>21),D=M+(V^P^R)+F[3]+3572445317&4294967295,M=V+(D<<16&4294967295|D>>>16),D=R+(M^V^P)+F[6]+76029189&4294967295,R=M+(D<<23&4294967295|D>>>9),D=P+(R^M^V)+F[9]+3654602809&4294967295,P=R+(D<<4&4294967295|D>>>28),D=V+(P^R^M)+F[12]+3873151461&4294967295,V=P+(D<<11&4294967295|D>>>21),D=M+(V^P^R)+F[15]+530742520&4294967295,M=V+(D<<16&4294967295|D>>>16),D=R+(M^V^P)+F[2]+3299628645&4294967295,R=M+(D<<23&4294967295|D>>>9),D=P+(M^(R|~V))+F[0]+4096336452&4294967295,P=R+(D<<6&4294967295|D>>>26),D=V+(R^(P|~M))+F[7]+1126891415&4294967295,V=P+(D<<10&4294967295|D>>>22),D=M+(P^(V|~R))+F[14]+2878612391&4294967295,M=V+(D<<15&4294967295|D>>>17),D=R+(V^(M|~P))+F[5]+4237533241&4294967295,R=M+(D<<21&4294967295|D>>>11),D=P+(M^(R|~V))+F[12]+1700485571&4294967295,P=R+(D<<6&4294967295|D>>>26),D=V+(R^(P|~M))+F[3]+2399980690&4294967295,V=P+(D<<10&4294967295|D>>>22),D=M+(P^(V|~R))+F[10]+4293915773&4294967295,M=V+(D<<15&4294967295|D>>>17),D=R+(V^(M|~P))+F[1]+2240044497&4294967295,R=M+(D<<21&4294967295|D>>>11),D=P+(M^(R|~V))+F[8]+1873313359&4294967295,P=R+(D<<6&4294967295|D>>>26),D=V+(R^(P|~M))+F[15]+4264355552&4294967295,V=P+(D<<10&4294967295|D>>>22),D=M+(P^(V|~R))+F[6]+2734768916&4294967295,M=V+(D<<15&4294967295|D>>>17),D=R+(V^(M|~P))+F[13]+1309151649&4294967295,R=M+(D<<21&4294967295|D>>>11),D=P+(M^(R|~V))+F[4]+4149444226&4294967295,P=R+(D<<6&4294967295|D>>>26),D=V+(R^(P|~M))+F[11]+3174756917&4294967295,V=P+(D<<10&4294967295|D>>>22),D=M+(P^(V|~R))+F[2]+718787259&4294967295,M=V+(D<<15&4294967295|D>>>17),D=R+(V^(M|~P))+F[9]+3951481745&4294967295,A.g[0]=A.g[0]+P&4294967295,A.g[1]=A.g[1]+(M+(D<<21&4294967295|D>>>11))&4294967295,A.g[2]=A.g[2]+M&4294967295,A.g[3]=A.g[3]+V&4294967295}n.prototype.u=function(A,P){P===void 0&&(P=A.length);for(var R=P-this.blockSize,F=this.B,M=this.h,V=0;V<P;){if(M==0)for(;V<=R;)i(this,A,V),V+=this.blockSize;if(typeof A=="string"){for(;V<P;)if(F[M++]=A.charCodeAt(V++),M==this.blockSize){i(this,F),M=0;break}}else for(;V<P;)if(F[M++]=A[V++],M==this.blockSize){i(this,F),M=0;break}}this.h=M,this.o+=P},n.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var P=1;P<A.length-8;++P)A[P]=0;var R=8*this.o;for(P=A.length-8;P<A.length;++P)A[P]=R&255,R/=256;for(this.u(A),A=Array(16),P=R=0;4>P;++P)for(var F=0;32>F;F+=8)A[R++]=this.g[P]>>>F&255;return A};function a(A,P){var R=u;return Object.prototype.hasOwnProperty.call(R,A)?R[A]:R[A]=P(A)}function s(A,P){this.h=P;for(var R=[],F=!0,M=A.length-1;0<=M;M--){var V=A[M]|0;F&&V==P||(R[M]=V,F=!1)}this.g=R}var u={};function c(A){return-128<=A&&128>A?a(A,function(P){return new s([P|0],0>P?-1:0)}):new s([A|0],0>A?-1:0)}function f(A){if(isNaN(A)||!isFinite(A))return m;if(0>A)return w(f(-A));for(var P=[],R=1,F=0;A>=R;F++)P[F]=A/R|0,R*=4294967296;return new s(P,0)}function h(A,P){if(A.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(A.charAt(0)=="-")return w(h(A.substring(1),P));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=f(Math.pow(P,8)),F=m,M=0;M<A.length;M+=8){var V=Math.min(8,A.length-M),D=parseInt(A.substring(M,M+V),P);8>V?(V=f(Math.pow(P,V)),F=F.j(V).add(f(D))):(F=F.j(R),F=F.add(f(D)))}return F}var m=c(0),y=c(1),b=c(16777216);t=s.prototype,t.m=function(){if(E(this))return-w(this).m();for(var A=0,P=1,R=0;R<this.g.length;R++){var F=this.i(R);A+=(0<=F?F:4294967296+F)*P,P*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(x(this))return"0";if(E(this))return"-"+w(this).toString(A);for(var P=f(Math.pow(A,6)),R=this,F="";;){var M=$(R,P).g;R=O(R,M.j(P));var V=((0<R.g.length?R.g[0]:R.h)>>>0).toString(A);if(R=M,x(R))return V+F;for(;6>V.length;)V="0"+V;F=V+F}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function x(A){if(A.h!=0)return!1;for(var P=0;P<A.g.length;P++)if(A.g[P]!=0)return!1;return!0}function E(A){return A.h==-1}t.l=function(A){return A=O(this,A),E(A)?-1:x(A)?0:1};function w(A){for(var P=A.g.length,R=[],F=0;F<P;F++)R[F]=~A.g[F];return new s(R,~A.h).add(y)}t.abs=function(){return E(this)?w(this):this},t.add=function(A){for(var P=Math.max(this.g.length,A.g.length),R=[],F=0,M=0;M<=P;M++){var V=F+(this.i(M)&65535)+(A.i(M)&65535),D=(V>>>16)+(this.i(M)>>>16)+(A.i(M)>>>16);F=D>>>16,V&=65535,D&=65535,R[M]=D<<16|V}return new s(R,R[R.length-1]&-2147483648?-1:0)};function O(A,P){return A.add(w(P))}t.j=function(A){if(x(this)||x(A))return m;if(E(this))return E(A)?w(this).j(w(A)):w(w(this).j(A));if(E(A))return w(this.j(w(A)));if(0>this.l(b)&&0>A.l(b))return f(this.m()*A.m());for(var P=this.g.length+A.g.length,R=[],F=0;F<2*P;F++)R[F]=0;for(F=0;F<this.g.length;F++)for(var M=0;M<A.g.length;M++){var V=this.i(F)>>>16,D=this.i(F)&65535,Z=A.i(M)>>>16,ee=A.i(M)&65535;R[2*F+2*M]+=D*ee,C(R,2*F+2*M),R[2*F+2*M+1]+=V*ee,C(R,2*F+2*M+1),R[2*F+2*M+1]+=D*Z,C(R,2*F+2*M+1),R[2*F+2*M+2]+=V*Z,C(R,2*F+2*M+2)}for(F=0;F<P;F++)R[F]=R[2*F+1]<<16|R[2*F];for(F=P;F<2*P;F++)R[F]=0;return new s(R,0)};function C(A,P){for(;(A[P]&65535)!=A[P];)A[P+1]+=A[P]>>>16,A[P]&=65535,P++}function N(A,P){this.g=A,this.h=P}function $(A,P){if(x(P))throw Error("division by zero");if(x(A))return new N(m,m);if(E(A))return P=$(w(A),P),new N(w(P.g),w(P.h));if(E(P))return P=$(A,w(P)),new N(w(P.g),P.h);if(30<A.g.length){if(E(A)||E(P))throw Error("slowDivide_ only works with positive integers.");for(var R=y,F=P;0>=F.l(A);)R=I(R),F=I(F);var M=j(R,1),V=j(F,1);for(F=j(F,2),R=j(R,2);!x(F);){var D=V.add(F);0>=D.l(A)&&(M=M.add(R),V=D),F=j(F,1),R=j(R,1)}return P=O(A,M.j(P)),new N(M,P)}for(M=m;0<=A.l(P);){for(R=Math.max(1,Math.floor(A.m()/P.m())),F=Math.ceil(Math.log(R)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),V=f(R),D=V.j(P);E(D)||0<D.l(A);)R-=F,V=f(R),D=V.j(P);x(V)&&(V=y),M=M.add(V),A=O(A,D)}return new N(M,A)}t.A=function(A){return $(this,A).h},t.and=function(A){for(var P=Math.max(this.g.length,A.g.length),R=[],F=0;F<P;F++)R[F]=this.i(F)&A.i(F);return new s(R,this.h&A.h)},t.or=function(A){for(var P=Math.max(this.g.length,A.g.length),R=[],F=0;F<P;F++)R[F]=this.i(F)|A.i(F);return new s(R,this.h|A.h)},t.xor=function(A){for(var P=Math.max(this.g.length,A.g.length),R=[],F=0;F<P;F++)R[F]=this.i(F)^A.i(F);return new s(R,this.h^A.h)};function I(A){for(var P=A.g.length+1,R=[],F=0;F<P;F++)R[F]=A.i(F)<<1|A.i(F-1)>>>31;return new s(R,A.h)}function j(A,P){var R=P>>5;P%=32;for(var F=A.g.length-R,M=[],V=0;V<F;V++)M[V]=0<P?A.i(V+R)>>>P|A.i(V+R+1)<<32-P:A.i(V+R);return new s(M,A.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,SD=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=f,s.fromString=h,Us=s}).apply(typeof OP<"u"?OP:typeof self<"u"?self:typeof window<"u"?window:{});var ep=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var TD,ef,AD,Sp,Xx,PD,kD,ID;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,S,k){return p==Array.prototype||p==Object.prototype||(p[S]=k.value),p};function r(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof ep=="object"&&ep];for(var S=0;S<p.length;++S){var k=p[S];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var n=r(this);function i(p,S){if(S)e:{var k=n;p=p.split(".");for(var U=0;U<p.length-1;U++){var Y=p[U];if(!(Y in k))break e;k=k[Y]}p=p[p.length-1],U=k[p],S=S(U),S!=U&&S!=null&&e(k,p,{configurable:!0,writable:!0,value:S})}}function a(p,S){p instanceof String&&(p+="");var k=0,U=!1,Y={next:function(){if(!U&&k<p.length){var ne=k++;return{value:S(ne,p[ne]),done:!1}}return U=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}i("Array.prototype.values",function(p){return p||function(){return a(this,function(S,k){return k})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},u=this||self;function c(p){var S=typeof p;return S=S!="object"?S:p?Array.isArray(p)?"array":S:"null",S=="array"||S=="object"&&typeof p.length=="number"}function f(p){var S=typeof p;return S=="object"&&p!=null||S=="function"}function h(p,S,k){return p.call.apply(p.bind,arguments)}function m(p,S,k){if(!p)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,U),p.apply(S,Y)}}return function(){return p.apply(S,arguments)}}function y(p,S,k){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:m,y.apply(null,arguments)}function b(p,S){var k=Array.prototype.slice.call(arguments,1);return function(){var U=k.slice();return U.push.apply(U,arguments),p.apply(this,U)}}function x(p,S){function k(){}k.prototype=S.prototype,p.aa=S.prototype,p.prototype=new k,p.prototype.constructor=p,p.Qb=function(U,Y,ne){for(var _e=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)_e[xt-2]=arguments[xt];return S.prototype[Y].apply(U,_e)}}function E(p){const S=p.length;if(0<S){const k=Array(S);for(let U=0;U<S;U++)k[U]=p[U];return k}return[]}function w(p,S){for(let k=1;k<arguments.length;k++){const U=arguments[k];if(c(U)){const Y=p.length||0,ne=U.length||0;p.length=Y+ne;for(let _e=0;_e<ne;_e++)p[Y+_e]=U[_e]}else p.push(U)}}class O{constructor(S,k){this.i=S,this.j=k,this.h=0,this.g=null}get(){let S;return 0<this.h?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function C(p){return/^[\s\xa0]*$/.test(p)}function N(){var p=u.navigator;return p&&(p=p.userAgent)?p:""}function $(p){return $[" "](p),p}$[" "]=function(){};var I=N().indexOf("Gecko")!=-1&&!(N().toLowerCase().indexOf("webkit")!=-1&&N().indexOf("Edge")==-1)&&!(N().indexOf("Trident")!=-1||N().indexOf("MSIE")!=-1)&&N().indexOf("Edge")==-1;function j(p,S,k){for(const U in p)S.call(k,p[U],U,p)}function A(p,S){for(const k in p)S.call(void 0,p[k],k,p)}function P(p){const S={};for(const k in p)S[k]=p[k];return S}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(p,S){let k,U;for(let Y=1;Y<arguments.length;Y++){U=arguments[Y];for(k in U)p[k]=U[k];for(let ne=0;ne<R.length;ne++)k=R[ne],Object.prototype.hasOwnProperty.call(U,k)&&(p[k]=U[k])}}function M(p){var S=1;p=p.split(":");const k=[];for(;0<S&&p.length;)k.push(p.shift()),S--;return p.length&&k.push(p.join(":")),k}function V(p){u.setTimeout(()=>{throw p},0)}function D(){var p=ie;let S=null;return p.g&&(S=p.g,p.g=p.g.next,p.g||(p.h=null),S.next=null),S}class Z{constructor(){this.h=this.g=null}add(S,k){const U=ee.get();U.set(S,k),this.h?this.h.next=U:this.g=U,this.h=U}}var ee=new O(()=>new re,p=>p.reset());class re{constructor(){this.next=this.g=this.h=null}set(S,k){this.h=S,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,Q=!1,ie=new Z,se=()=>{const p=u.Promise.resolve(void 0);oe=()=>{p.then(q)}};var q=()=>{for(var p;p=D();){try{p.h.call(p.g)}catch(k){V(k)}var S=ee;S.j(p),100>S.h&&(S.h++,p.next=S.g,S.g=p)}Q=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(p,S){this.type=p,this.g=this.target=S,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var p=!1,S=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const k=()=>{};u.addEventListener("test",k,S),u.removeEventListener("test",k,S)}catch{}return p}();function Re(p,S){if(fe.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var k=this.type=p.type,U=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=S,S=p.relatedTarget){if(I){e:{try{$(S.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(S=null)}}else k=="mouseover"?S=p.fromElement:k=="mouseout"&&(S=p.toElement);this.relatedTarget=S,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:xe[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&Re.aa.h.call(this)}}x(Re,fe);var xe={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var $e="closure_listenable_"+(1e6*Math.random()|0),Ve=0;function pe(p,S,k,U,Y){this.listener=p,this.proxy=null,this.src=S,this.type=k,this.capture=!!U,this.ha=Y,this.key=++Ve,this.da=this.fa=!1}function Oe(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function ze(p){this.src=p,this.g={},this.h=0}ze.prototype.add=function(p,S,k,U,Y){var ne=p.toString();p=this.g[ne],p||(p=this.g[ne]=[],this.h++);var _e=st(p,S,U,Y);return-1<_e?(S=p[_e],k||(S.fa=!1)):(S=new pe(S,this.src,ne,!!U,Y),S.fa=k,p.push(S)),S};function ue(p,S){var k=S.type;if(k in p.g){var U=p.g[k],Y=Array.prototype.indexOf.call(U,S,void 0),ne;(ne=0<=Y)&&Array.prototype.splice.call(U,Y,1),ne&&(Oe(S),p.g[k].length==0&&(delete p.g[k],p.h--))}}function st(p,S,k,U){for(var Y=0;Y<p.length;++Y){var ne=p[Y];if(!ne.da&&ne.listener==S&&ne.capture==!!k&&ne.ha==U)return Y}return-1}var He="closure_lm_"+(1e6*Math.random()|0),pt={};function Tt(p,S,k,U,Y){if(Array.isArray(S)){for(var ne=0;ne<S.length;ne++)Tt(p,S[ne],k,U,Y);return null}return k=Bi(k),p&&p[$e]?p.K(S,k,f(U)?!!U.capture:!1,Y):Yt(p,S,k,!1,U,Y)}function Yt(p,S,k,U,Y,ne){if(!S)throw Error("Invalid event type");var _e=f(Y)?!!Y.capture:!!Y,xt=Zr(p);if(xt||(p[He]=xt=new ze(p)),k=xt.add(S,k,U,_e,ne),k.proxy)return k;if(U=fr(),k.proxy=U,U.src=p,U.listener=k,p.addEventListener)Se||(Y=_e),Y===void 0&&(Y=!1),p.addEventListener(S.toString(),U,Y);else if(p.attachEvent)p.attachEvent(zt(S.toString()),U);else if(p.addListener&&p.removeListener)p.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return k}function fr(){function p(k){return S.call(p.src,p.listener,k)}const S=Nr;return p}function Jr(p,S,k,U,Y){if(Array.isArray(S))for(var ne=0;ne<S.length;ne++)Jr(p,S[ne],k,U,Y);else U=f(U)?!!U.capture:!!U,k=Bi(k),p&&p[$e]?(p=p.i,S=String(S).toString(),S in p.g&&(ne=p.g[S],k=st(ne,k,U,Y),-1<k&&(Oe(ne[k]),Array.prototype.splice.call(ne,k,1),ne.length==0&&(delete p.g[S],p.h--)))):p&&(p=Zr(p))&&(S=p.g[S.toString()],p=-1,S&&(p=st(S,k,U,Y)),(k=-1<p?S[p]:null)&&qt(k))}function qt(p){if(typeof p!="number"&&p&&!p.da){var S=p.src;if(S&&S[$e])ue(S.i,p);else{var k=p.type,U=p.proxy;S.removeEventListener?S.removeEventListener(k,U,p.capture):S.detachEvent?S.detachEvent(zt(k),U):S.addListener&&S.removeListener&&S.removeListener(U),(k=Zr(S))?(ue(k,p),k.h==0&&(k.src=null,S[He]=null)):Oe(p)}}}function zt(p){return p in pt?pt[p]:pt[p]="on"+p}function Nr(p,S){if(p.da)p=!0;else{S=new Re(S,this);var k=p.listener,U=p.ha||p.src;p.fa&&qt(p),p=k.call(U,S)}return p}function Zr(p){return p=p[He],p instanceof ze?p:null}var mi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bi(p){return typeof p=="function"?p:(p[mi]||(p[mi]=function(S){return p.handleEvent(S)}),p[mi])}function Xt(){G.call(this),this.i=new ze(this),this.M=this,this.F=null}x(Xt,G),Xt.prototype[$e]=!0,Xt.prototype.removeEventListener=function(p,S,k,U){Jr(this,p,S,k,U)};function tr(p,S){var k,U=p.F;if(U)for(k=[];U;U=U.F)k.push(U);if(p=p.M,U=S.type||S,typeof S=="string")S=new fe(S,p);else if(S instanceof fe)S.target=S.target||p;else{var Y=S;S=new fe(U,p),F(S,Y)}if(Y=!0,k)for(var ne=k.length-1;0<=ne;ne--){var _e=S.g=k[ne];Y=gi(_e,U,!0,S)&&Y}if(_e=S.g=p,Y=gi(_e,U,!0,S)&&Y,Y=gi(_e,U,!1,S)&&Y,k)for(ne=0;ne<k.length;ne++)_e=S.g=k[ne],Y=gi(_e,U,!1,S)&&Y}Xt.prototype.N=function(){if(Xt.aa.N.call(this),this.i){var p=this.i,S;for(S in p.g){for(var k=p.g[S],U=0;U<k.length;U++)Oe(k[U]);delete p.g[S],p.h--}}this.F=null},Xt.prototype.K=function(p,S,k,U){return this.i.add(String(p),S,!1,k,U)},Xt.prototype.L=function(p,S,k,U){return this.i.add(String(p),S,!0,k,U)};function gi(p,S,k,U){if(S=p.i.g[String(S)],!S)return!0;S=S.concat();for(var Y=!0,ne=0;ne<S.length;++ne){var _e=S[ne];if(_e&&!_e.da&&_e.capture==k){var xt=_e.listener,dr=_e.ha||_e.src;_e.fa&&ue(p.i,_e),Y=xt.call(dr,U)!==!1&&Y}}return Y&&!U.defaultPrevented}function ss(p,S,k){if(typeof p=="function")k&&(p=y(p,k));else if(p&&typeof p.handleEvent=="function")p=y(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(S)?-1:u.setTimeout(p,S||0)}function qi(p){p.g=ss(()=>{p.g=null,p.i&&(p.i=!1,qi(p))},p.l);const S=p.h;p.h=null,p.m.apply(null,S)}class Gn extends G{constructor(S,k){super(),this.m=S,this.l=k,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:qi(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fn(p){G.call(this),this.h=p,this.g={}}x(fn,G);var lo=[];function yi(p){j(p.g,function(S,k){this.g.hasOwnProperty(k)&&qt(S)},p),p.g={}}fn.prototype.N=function(){fn.aa.N.call(this),yi(this)},fn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Lt=u.JSON.stringify,ba=u.JSON.parse,ls=class{stringify(p){return u.JSON.stringify(p,void 0)}parse(p){return u.JSON.parse(p,void 0)}};function dn(){}dn.prototype.h=null;function _a(p){return p.h||(p.h=p.i())}function zi(){}var hn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Yn(){fe.call(this,"d")}x(Yn,fe);function wr(){fe.call(this,"c")}x(wr,fe);var Xn={},Tn=null;function An(){return Tn=Tn||new Xt}Xn.La="serverreachability";function Wi(p){fe.call(this,Xn.La,p)}x(Wi,fe);function vi(p){const S=An();tr(S,new Wi(S))}Xn.STAT_EVENT="statevent";function xa(p,S){fe.call(this,Xn.STAT_EVENT,p),this.stat=S}x(xa,fe);function Wt(p){const S=An();tr(S,new xa(S,p))}Xn.Ma="timingevent";function bi(p,S){fe.call(this,Xn.Ma,p),this.size=S}x(bi,fe);function Pn(p,S){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){p()},S)}function wa(){this.g=!0}wa.prototype.xa=function(){this.g=!1};function Ea(p,S,k,U,Y,ne){p.info(function(){if(p.g)if(ne)for(var _e="",xt=ne.split("&"),dr=0;dr<xt.length;dr++){var at=xt[dr].split("=");if(1<at.length){var Er=at[0];at=at[1];var ar=Er.split("_");_e=2<=ar.length&&ar[1]=="type"?_e+(Er+"="+at+"&"):_e+(Er+"=redacted&")}}else _e=null;else _e=ne;return"XMLHTTP REQ ("+U+") [attempt "+Y+"]: "+S+`
`+k+`
`+_e})}function uo(p,S,k,U,Y,ne,_e){p.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+Y+"]: "+S+`
`+k+`
`+ne+" "+_e})}function kn(p,S,k,U){p.info(function(){return"XMLHTTP TEXT ("+S+"): "+ae(p,k)+(U?" "+U:"")})}function us(p,S){p.info(function(){return"TIMEOUT: "+S})}wa.prototype.info=function(){};function ae(p,S){if(!p.g)return S;if(!S)return null;try{var k=JSON.parse(S);if(k){for(p=0;p<k.length;p++)if(Array.isArray(k[p])){var U=k[p];if(!(2>U.length)){var Y=U[1];if(Array.isArray(Y)&&!(1>Y.length)){var ne=Y[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var _e=1;_e<Y.length;_e++)Y[_e]=""}}}}return Lt(k)}catch{return S}}var Ee={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Me={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},be;function we(){}x(we,dn),we.prototype.g=function(){return new XMLHttpRequest},we.prototype.i=function(){return{}},be=new we;function De(p,S,k,U){this.j=p,this.i=S,this.l=k,this.R=U||1,this.U=new fn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new lt}function lt(){this.i=null,this.g="",this.h=!1}var Le={},Et={};function $t(p,S,k){p.L=1,p.v=mo(Cn(S)),p.m=k,p.P=!0,co(p,null)}function co(p,S){p.F=Date.now(),mt(p),p.A=Cn(p.v);var k=p.A,U=p.R;Array.isArray(U)||(U=[String(U)]),yo(k.i,"t",U),p.C=0,k=p.j.J,p.h=new lt,p.g=rh(p.j,k?S:null,!p.m),0<p.O&&(p.M=new Gn(y(p.Y,p,p.g),p.O)),S=p.U,k=p.g,U=p.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(lo[0]=Y.toString()),Y=lo);for(var ne=0;ne<Y.length;ne++){var _e=Tt(k,Y[ne],U||S.handleEvent,!1,S.h||S);if(!_e)break;S.g[_e.key]=_e}S=p.H?P(p.H):{},p.m?(p.u||(p.u="POST"),S["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,S)):(p.u="GET",p.g.ea(p.A,p.u,null,S)),vi(),Ea(p.i,p.u,p.A,p.l,p.R,p.m)}De.prototype.ca=function(p){p=p.target;const S=this.M;S&&mn(p)==3?S.j():this.Y(p)},De.prototype.Y=function(p){try{if(p==this.g)e:{const ar=mn(this.g);var S=this.g.Ba();const ei=this.g.Z();if(!(3>ar)&&(ar!=3||this.g&&(this.h.h||this.g.oa()||hc(this.g)))){this.J||ar!=4||S==7||(S==8||0>=ei?vi(3):vi(2)),Qn(this);var k=this.g.Z();this.X=k;t:if(yl(this)){var U=hc(this.g);p="";var Y=U.length,ne=mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ir(this),Jn(this);var _e="";break t}this.h.i=new u.TextDecoder}for(S=0;S<Y;S++)this.h.h=!0,p+=this.h.i.decode(U[S],{stream:!(ne&&S==Y-1)});U.length=0,this.h.g+=p,this.C=0,_e=this.h.g}else _e=this.g.oa();if(this.o=k==200,uo(this.i,this.u,this.A,this.l,this.R,ar,k),this.o){if(this.T&&!this.K){t:{if(this.g){var xt,dr=this.g;if((xt=dr.g?dr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(xt)){var at=xt;break t}}at=null}if(k=at)kn(this.i,this.l,k,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,lc(this,k);else{this.o=!1,this.s=3,Wt(12),ir(this),Jn(this);break e}}if(this.P){k=!0;let Rn;for(;!this.J&&this.C<_e.length;)if(Rn=In(this,_e),Rn==Et){ar==4&&(this.s=4,Wt(14),k=!1),kn(this.i,this.l,null,"[Incomplete Response]");break}else if(Rn==Le){this.s=4,Wt(15),kn(this.i,this.l,_e,"[Invalid Chunk]"),k=!1;break}else kn(this.i,this.l,Rn,null),lc(this,Rn);if(yl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ar!=4||_e.length!=0||this.h.h||(this.s=1,Wt(16),k=!1),this.o=this.o&&k,!k)kn(this.i,this.l,_e,"[Invalid Chunked Response]"),ir(this),Jn(this);else if(0<_e.length&&!this.W){this.W=!0;var Er=this.j;Er.g==this&&Er.ba&&!Er.M&&(Er.j.info("Great, no buffering proxy detected. Bytes received: "+_e.length),mc(Er),Er.M=!0,Wt(11))}}else kn(this.i,this.l,_e,null),lc(this,_e);ar==4&&ir(this),this.o&&!this.J&&(ar==4?kl(this.j,this):(this.o=!1,mt(this)))}else El(this.g),k==400&&0<_e.indexOf("Unknown SID")?(this.s=3,Wt(12)):(this.s=0,Wt(13)),ir(this),Jn(this)}}}catch{}finally{}};function yl(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function In(p,S){var k=p.C,U=S.indexOf(`
`,k);return U==-1?Et:(k=Number(S.substring(k,U)),isNaN(k)?Le:(U+=1,U+k>S.length?Et:(S=S.slice(U,U+k),p.C=U+k,S)))}De.prototype.cancel=function(){this.J=!0,ir(this)};function mt(p){p.S=Date.now()+p.I,_i(p,p.I)}function _i(p,S){if(p.B!=null)throw Error("WatchDog timer not null");p.B=Pn(y(p.ba,p),S)}function Qn(p){p.B&&(u.clearTimeout(p.B),p.B=null)}De.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(us(this.i,this.A),this.L!=2&&(vi(),Wt(17)),ir(this),this.s=2,Jn(this)):_i(this,this.S-p)};function Jn(p){p.j.G==0||p.J||kl(p.j,p)}function ir(p){Qn(p);var S=p.M;S&&typeof S.ma=="function"&&S.ma(),p.M=null,yi(p.U),p.g&&(S=p.g,p.g=null,S.abort(),S.ma())}function lc(p,S){try{var k=p.j;if(k.G!=0&&(k.g==p||en(k.h,p))){if(!p.K&&en(k.h,p)&&k.G==3){try{var U=k.Da.g.parse(S)}catch{U=null}if(Array.isArray(U)&&U.length==3){var Y=U;if(Y[0]==0){e:if(!k.u){if(k.g)if(k.g.F+3e3<p.F)Pl(k),Ti(k);else break e;Al(k),Wt(18)}}else k.za=Y[1],0<k.za-k.T&&37500>Y[2]&&k.F&&k.v==0&&!k.C&&(k.C=Pn(y(k.Za,k),6e3));if(1>=Bd(k.h)&&k.ca){try{k.ca()}catch{}k.ca=void 0}}else ka(k,11)}else if((p.K||k.g==p)&&Pl(k),!C(S))for(Y=k.Da.g.parse(S),S=0;S<Y.length;S++){let at=Y[S];if(k.T=at[0],at=at[1],k.G==2)if(at[0]=="c"){k.K=at[1],k.ia=at[2];const Er=at[3];Er!=null&&(k.la=Er,k.j.info("VER="+k.la));const ar=at[4];ar!=null&&(k.Aa=ar,k.j.info("SVER="+k.Aa));const ei=at[5];ei!=null&&typeof ei=="number"&&0<ei&&(U=1.5*ei,k.L=U,k.j.info("backChannelRequestTimeoutMs_="+U)),U=k;const Rn=p.g;if(Rn){const gs=Rn.g?Rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gs){var ne=U.h;ne.g||gs.indexOf("spdy")==-1&&gs.indexOf("quic")==-1&&gs.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(uc(ne,ne.h),ne.h=null))}if(U.D){const Ol=Rn.g?Rn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ol&&(U.ya=Ol,At(U.I,U.D,Ol))}}k.G=3,k.l&&k.l.ua(),k.ba&&(k.R=Date.now()-p.F,k.j.info("Handshake RTT: "+k.R+"ms")),U=k;var _e=p;if(U.qa=th(U,U.J?U.ia:null,U.W),_e.K){qd(U.h,_e);var xt=_e,dr=U.L;dr&&(xt.I=dr),xt.B&&(Qn(xt),mt(xt)),U.g=_e}else ms(U);0<k.i.length&&Yi(k)}else at[0]!="stop"&&at[0]!="close"||ka(k,7);else k.G==3&&(at[0]=="stop"||at[0]=="close"?at[0]=="stop"?ka(k,7):jr(k):at[0]!="noop"&&k.l&&k.l.ta(at),k.v=0)}}vi(4)}catch{}}var Ud=class{constructor(p,S){this.g=p,this.map=S}};function cs(p){this.l=p||10,u.PerformanceNavigationTiming?(p=u.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function On(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Bd(p){return p.h?1:p.g?p.g.size:0}function en(p,S){return p.h?p.h==S:p.g?p.g.has(S):!1}function uc(p,S){p.g?p.g.add(S):p.h=S}function qd(p,S){p.h&&p.h==S?p.h=null:p.g&&p.g.has(S)&&p.g.delete(S)}cs.prototype.cancel=function(){if(this.i=zd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function zd(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let S=p.i;for(const k of p.g.values())S=S.concat(k.D);return S}return E(p.i)}function vl(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(c(p)){for(var S=[],k=p.length,U=0;U<k;U++)S.push(p[U]);return S}S=[],k=0;for(U in p)S[k++]=p[U];return S}function bl(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(c(p)||typeof p=="string"){var S=[];p=p.length;for(var k=0;k<p;k++)S.push(k);return S}S=[],k=0;for(const U in p)S[k++]=U;return S}}}function fo(p,S){if(p.forEach&&typeof p.forEach=="function")p.forEach(S,void 0);else if(c(p)||typeof p=="string")Array.prototype.forEach.call(p,S,void 0);else for(var k=bl(p),U=vl(p),Y=U.length,ne=0;ne<Y;ne++)S.call(void 0,U[ne],k&&k[ne],p)}var fs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qg(p,S){if(p){p=p.split("&");for(var k=0;k<p.length;k++){var U=p[k].indexOf("="),Y=null;if(0<=U){var ne=p[k].substring(0,U);Y=p[k].substring(U+1)}else ne=p[k];S(ne,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Sa(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof Sa){this.h=p.h,ds(this,p.j),this.o=p.o,this.g=p.g,ho(this,p.s),this.l=p.l;var S=p.i,k=new Hi;k.i=S.i,S.g&&(k.g=new Map(S.g),k.h=S.h),po(this,k),this.m=p.m}else p&&(S=String(p).match(fs))?(this.h=!1,ds(this,S[1]||"",!0),this.o=nt(S[2]||""),this.g=nt(S[3]||"",!0),ho(this,S[4]),this.l=nt(S[5]||"",!0),po(this,S[6]||"",!0),this.m=nt(S[7]||"")):(this.h=!1,this.i=new Hi(null,this.h))}Sa.prototype.toString=function(){var p=[],S=this.j;S&&p.push(go(S,_l,!0),":");var k=this.g;return(k||S=="file")&&(p.push("//"),(S=this.o)&&p.push(go(S,_l,!0),"@"),p.push(encodeURIComponent(String(k)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.s,k!=null&&p.push(":",String(k))),(k=this.l)&&(this.g&&k.charAt(0)!="/"&&p.push("/"),p.push(go(k,k.charAt(0)=="/"?Kd:Hd,!0))),(k=this.i.toString())&&p.push("?",k),(k=this.m)&&p.push("#",go(k,cc)),p.join("")};function Cn(p){return new Sa(p)}function ds(p,S,k){p.j=k?nt(S,!0):S,p.j&&(p.j=p.j.replace(/:$/,""))}function ho(p,S){if(S){if(S=Number(S),isNaN(S)||0>S)throw Error("Bad port number "+S);p.s=S}else p.s=null}function po(p,S,k){S instanceof Hi?(p.i=S,Ki(p.i,p.h)):(k||(S=go(S,Gd)),p.i=new Hi(S,p.h))}function At(p,S,k){p.i.set(S,k)}function mo(p){return At(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function nt(p,S){return p?S?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function go(p,S,k){return typeof p=="string"?(p=encodeURI(p).replace(S,Wd),k&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Wd(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var _l=/[#\/\?@]/g,Hd=/[#\?:]/g,Kd=/[#\?]/g,Gd=/[#\?@]/g,cc=/#/g;function Hi(p,S){this.h=this.g=null,this.i=p||null,this.j=!!S}function Rr(p){p.g||(p.g=new Map,p.h=0,p.i&&Qg(p.i,function(S,k){p.add(decodeURIComponent(S.replace(/\+/g," ")),k)}))}t=Hi.prototype,t.add=function(p,S){Rr(this),this.i=null,p=Zn(this,p);var k=this.g.get(p);return k||this.g.set(p,k=[]),k.push(S),this.h+=1,this};function xi(p,S){Rr(p),S=Zn(p,S),p.g.has(S)&&(p.i=null,p.h-=p.g.get(S).length,p.g.delete(S))}function wi(p,S){return Rr(p),S=Zn(p,S),p.g.has(S)}t.forEach=function(p,S){Rr(this),this.g.forEach(function(k,U){k.forEach(function(Y){p.call(S,Y,U,this)},this)},this)},t.na=function(){Rr(this);const p=Array.from(this.g.values()),S=Array.from(this.g.keys()),k=[];for(let U=0;U<S.length;U++){const Y=p[U];for(let ne=0;ne<Y.length;ne++)k.push(S[U])}return k},t.V=function(p){Rr(this);let S=[];if(typeof p=="string")wi(this,p)&&(S=S.concat(this.g.get(Zn(this,p))));else{p=Array.from(this.g.values());for(let k=0;k<p.length;k++)S=S.concat(p[k])}return S},t.set=function(p,S){return Rr(this),this.i=null,p=Zn(this,p),wi(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[S]),this.h+=1,this},t.get=function(p,S){return p?(p=this.V(p),0<p.length?String(p[0]):S):S};function yo(p,S,k){xi(p,S),0<k.length&&(p.i=null,p.g.set(Zn(p,S),E(k)),p.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],S=Array.from(this.g.keys());for(var k=0;k<S.length;k++){var U=S[k];const ne=encodeURIComponent(String(U)),_e=this.V(U);for(U=0;U<_e.length;U++){var Y=ne;_e[U]!==""&&(Y+="="+encodeURIComponent(String(_e[U]))),p.push(Y)}}return this.i=p.join("&")};function Zn(p,S){return S=String(S),p.j&&(S=S.toLowerCase()),S}function Ki(p,S){S&&!p.j&&(Rr(p),p.i=null,p.g.forEach(function(k,U){var Y=U.toLowerCase();U!=Y&&(xi(this,U),yo(this,Y,k))},p)),p.j=S}function Jg(p,S){const k=new wa;if(u.Image){const U=new Image;U.onload=b(pn,k,"TestLoadImage: loaded",!0,S,U),U.onerror=b(pn,k,"TestLoadImage: error",!1,S,U),U.onabort=b(pn,k,"TestLoadImage: abort",!1,S,U),U.ontimeout=b(pn,k,"TestLoadImage: timeout",!1,S,U),u.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=p}else S(!1)}function Yd(p,S){const k=new wa,U=new AbortController,Y=setTimeout(()=>{U.abort(),pn(k,"TestPingServer: timeout",!1,S)},1e4);fetch(p,{signal:U.signal}).then(ne=>{clearTimeout(Y),ne.ok?pn(k,"TestPingServer: ok",!0,S):pn(k,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(Y),pn(k,"TestPingServer: error",!1,S)})}function pn(p,S,k,U,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),U(k)}catch{}}function Zg(){this.g=new ls}function Xd(p,S,k){const U=k||"";try{fo(p,function(Y,ne){let _e=Y;f(Y)&&(_e=Lt(Y)),S.push(U+ne+"="+encodeURIComponent(_e))})}catch(Y){throw S.push(U+"type="+encodeURIComponent("_badmap")),Y}}function Ta(p){this.l=p.Ub||null,this.j=p.eb||!1}x(Ta,dn),Ta.prototype.g=function(){return new hs(this.l,this.j)},Ta.prototype.i=function(p){return function(){return p}}({});function hs(p,S){Xt.call(this),this.D=p,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(hs,Xt),t=hs.prototype,t.open=function(p,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=S,this.readyState=1,Si(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const S={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(S.body=p),(this.D||u).fetch(new Request(this.A,S)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ei(this)),this.readyState=0},t.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Si(this)),this.g&&(this.readyState=3,Si(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qd(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qd(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}t.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var S=p.value?p.value:new Uint8Array(0);(S=this.v.decode(S,{stream:!p.done}))&&(this.response=this.responseText+=S)}p.done?Ei(this):Si(this),this.readyState==3&&Qd(this)}},t.Ra=function(p){this.g&&(this.response=this.responseText=p,Ei(this))},t.Qa=function(p){this.g&&(this.response=p,Ei(this))},t.ga=function(){this.g&&Ei(this)};function Ei(p){p.readyState=4,p.l=null,p.j=null,p.v=null,Si(p)}t.setRequestHeader=function(p,S){this.u.append(p,S)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],S=this.h.entries();for(var k=S.next();!k.done;)k=k.value,p.push(k[0]+": "+k[1]),k=S.next();return p.join(`\r
`)};function Si(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(hs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Aa(p){let S="";return j(p,function(k,U){S+=U,S+=":",S+=k,S+=`\r
`}),S}function vo(p,S,k){e:{for(U in k){var U=!1;break e}U=!0}U||(k=Aa(k),typeof p=="string"?k!=null&&encodeURIComponent(String(k)):At(p,S,k))}function Ft(p){Xt.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Ft,Xt);var ey=/^https?$/i,fc=["POST","PUT"];t=Ft.prototype,t.Ha=function(p){this.J=p},t.ea=function(p,S,k,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);S=S?S.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():be.g(),this.v=this.o?_a(this.o):_a(be),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(S,String(p),!0),this.B=!1}catch(ne){ps(this,ne);return}if(p=k||"",k=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var Y in U)k.set(Y,U[Y]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const ne of U.keys())k.set(ne,U.get(ne));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(k.keys()).find(ne=>ne.toLowerCase()=="content-type"),Y=u.FormData&&p instanceof u.FormData,!(0<=Array.prototype.indexOf.call(fc,S,void 0))||U||Y||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,_e]of k)this.g.setRequestHeader(ne,_e);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{wl(this),this.u=!0,this.g.send(p),this.u=!1}catch(ne){ps(this,ne)}};function ps(p,S){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=S,p.m=5,xl(p),Nn(p)}function xl(p){p.A||(p.A=!0,tr(p,"complete"),tr(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,tr(this,"complete"),tr(this,"abort"),Nn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Nn(this,!0)),Ft.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?dc(this):this.bb())},t.bb=function(){dc(this)};function dc(p){if(p.h&&typeof s<"u"&&(!p.v[1]||mn(p)!=4||p.Z()!=2)){if(p.u&&mn(p)==4)ss(p.Ea,0,p);else if(tr(p,"readystatechange"),mn(p)==4){p.h=!1;try{const _e=p.Z();e:switch(_e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var k;if(!(k=S)){var U;if(U=_e===0){var Y=String(p.D).match(fs)[1]||null;!Y&&u.self&&u.self.location&&(Y=u.self.location.protocol.slice(0,-1)),U=!ey.test(Y?Y.toLowerCase():"")}k=U}if(k)tr(p,"complete"),tr(p,"success");else{p.m=6;try{var ne=2<mn(p)?p.g.statusText:""}catch{ne=""}p.l=ne+" ["+p.Z()+"]",xl(p)}}finally{Nn(p)}}}}function Nn(p,S){if(p.g){wl(p);const k=p.g,U=p.v[0]?()=>{}:null;p.g=null,p.v=null,S||tr(p,"ready");try{k.onreadystatechange=U}catch{}}}function wl(p){p.I&&(u.clearTimeout(p.I),p.I=null)}t.isActive=function(){return!!this.g};function mn(p){return p.g?p.g.readyState:0}t.Z=function(){try{return 2<mn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(p){if(this.g){var S=this.g.responseText;return p&&S.indexOf(p)==0&&(S=S.substring(p.length)),ba(S)}};function hc(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function El(p){const S={};p=(p.g&&2<=mn(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<p.length;U++){if(C(p[U]))continue;var k=M(p[U]);const Y=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const ne=S[Y]||[];S[Y]=ne,ne.push(k)}A(S,function(U){return U.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gi(p,S,k){return k&&k.internalChannelParams&&k.internalChannelParams[p]||S}function pc(p){this.Aa=0,this.i=[],this.j=new wa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gi("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gi("baseRetryDelayMs",5e3,p),this.cb=Gi("retryDelaySeedMs",1e4,p),this.Wa=Gi("forwardChannelMaxRetries",2,p),this.wa=Gi("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new cs(p&&p.concurrentRequestLimit),this.Da=new Zg,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=pc.prototype,t.la=8,t.G=1,t.connect=function(p,S,k,U){Wt(0),this.W=p,this.H=S||{},k&&U!==void 0&&(this.H.OSID=k,this.H.OAID=U),this.F=this.X,this.I=th(this,null,this.W),Yi(this)};function jr(p){if(Sl(p),p.G==3){var S=p.U++,k=Cn(p.I);if(At(k,"SID",p.K),At(k,"RID",S),At(k,"TYPE","terminate"),Pa(p,k),S=new De(p,p.j,S),S.L=2,S.v=mo(Cn(k)),k=!1,u.navigator&&u.navigator.sendBeacon)try{k=u.navigator.sendBeacon(S.v.toString(),"")}catch{}!k&&u.Image&&(new Image().src=S.v,k=!0),k||(S.g=rh(S.j,null),S.g.ea(S.v)),S.F=Date.now(),mt(S)}eh(p)}function Ti(p){p.g&&(mc(p),p.g.cancel(),p.g=null)}function Sl(p){Ti(p),p.u&&(u.clearTimeout(p.u),p.u=null),Pl(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&u.clearTimeout(p.s),p.s=null)}function Yi(p){if(!On(p.h)&&!p.s){p.s=!0;var S=p.Ga;oe||se(),Q||(oe(),Q=!0),ie.add(S,p),p.B=0}}function ty(p,S){return Bd(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=S.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=Pn(y(p.Ga,p,S),Zd(p,p.B)),p.B++,!0)}t.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const Y=new De(this,this.j,p);let ne=this.o;if(this.S&&(ne?(ne=P(ne),F(ne,this.S)):ne=this.S),this.m!==null||this.O||(Y.H=ne,ne=null),this.P)e:{for(var S=0,k=0;k<this.i.length;k++){t:{var U=this.i[k];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(S+=U,4096<S){S=k;break e}if(S===4096||k===this.i.length-1){S=k+1;break e}}S=1e3}else S=1e3;S=bo(this,Y,S),k=Cn(this.I),At(k,"RID",p),At(k,"CVER",22),this.D&&At(k,"X-HTTP-Session-Id",this.D),Pa(this,k),ne&&(this.O?S="headers="+encodeURIComponent(String(Aa(ne)))+"&"+S:this.m&&vo(k,this.m,ne)),uc(this.h,Y),this.Ua&&At(k,"TYPE","init"),this.P?(At(k,"$req",S),At(k,"SID","null"),Y.T=!0,$t(Y,k,null)):$t(Y,k,S),this.G=2}}else this.G==3&&(p?Tl(this,p):this.i.length==0||On(this.h)||Tl(this))};function Tl(p,S){var k;S?k=S.l:k=p.U++;const U=Cn(p.I);At(U,"SID",p.K),At(U,"RID",k),At(U,"AID",p.T),Pa(p,U),p.m&&p.o&&vo(U,p.m,p.o),k=new De(p,p.j,k,p.B+1),p.m===null&&(k.H=p.o),S&&(p.i=S.D.concat(p.i)),S=bo(p,k,1e3),k.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),uc(p.h,k),$t(k,U,S)}function Pa(p,S){p.H&&j(p.H,function(k,U){At(S,U,k)}),p.l&&fo({},function(k,U){At(S,U,k)})}function bo(p,S,k){k=Math.min(p.i.length,k);var U=p.l?y(p.l.Na,p.l,p):null;e:{var Y=p.i;let ne=-1;for(;;){const _e=["count="+k];ne==-1?0<k?(ne=Y[0].g,_e.push("ofs="+ne)):ne=0:_e.push("ofs="+ne);let xt=!0;for(let dr=0;dr<k;dr++){let at=Y[dr].g;const Er=Y[dr].map;if(at-=ne,0>at)ne=Math.max(0,Y[dr].g-100),xt=!1;else try{Xd(Er,_e,"req"+at+"_")}catch{U&&U(Er)}}if(xt){U=_e.join("&");break e}}}return p=p.i.splice(0,k),S.D=p,U}function ms(p){if(!p.g&&!p.u){p.Y=1;var S=p.Fa;oe||se(),Q||(oe(),Q=!0),ie.add(S,p),p.v=0}}function Al(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=Pn(y(p.Fa,p),Zd(p,p.v)),p.v++,!0)}t.Fa=function(){if(this.u=null,Jd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=Pn(y(this.ab,this),p)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wt(10),Ti(this),Jd(this))};function mc(p){p.A!=null&&(u.clearTimeout(p.A),p.A=null)}function Jd(p){p.g=new De(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var S=Cn(p.qa);At(S,"RID","rpc"),At(S,"SID",p.K),At(S,"AID",p.T),At(S,"CI",p.F?"0":"1"),!p.F&&p.ja&&At(S,"TO",p.ja),At(S,"TYPE","xmlhttp"),Pa(p,S),p.m&&p.o&&vo(S,p.m,p.o),p.L&&(p.g.I=p.L);var k=p.g;p=p.ia,k.L=1,k.v=mo(Cn(S)),k.m=null,k.P=!0,co(k,p)}t.Za=function(){this.C!=null&&(this.C=null,Ti(this),Al(this),Wt(19))};function Pl(p){p.C!=null&&(u.clearTimeout(p.C),p.C=null)}function kl(p,S){var k=null;if(p.g==S){Pl(p),mc(p),p.g=null;var U=2}else if(en(p.h,S))k=S.D,qd(p.h,S),U=1;else return;if(p.G!=0){if(S.o)if(U==1){k=S.m?S.m.length:0,S=Date.now()-S.F;var Y=p.B;U=An(),tr(U,new bi(U,k)),Yi(p)}else ms(p);else if(Y=S.s,Y==3||Y==0&&0<S.X||!(U==1&&ty(p,S)||U==2&&Al(p)))switch(k&&0<k.length&&(S=p.h,S.i=S.i.concat(k)),Y){case 1:ka(p,5);break;case 4:ka(p,10);break;case 3:ka(p,6);break;default:ka(p,2)}}}function Zd(p,S){let k=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(k*=2),k*S}function ka(p,S){if(p.j.info("Error code "+S),S==2){var k=y(p.fb,p),U=p.Xa;const Y=!U;U=new Sa(U||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||ds(U,"https"),mo(U),Y?Jg(U.toString(),k):Yd(U.toString(),k)}else Wt(2);p.G=0,p.l&&p.l.sa(S),eh(p),Sl(p)}t.fb=function(p){p?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function eh(p){if(p.G=0,p.ka=[],p.l){const S=zd(p.h);(S.length!=0||p.i.length!=0)&&(w(p.ka,S),w(p.ka,p.i),p.h.i.length=0,E(p.i),p.i.length=0),p.l.ra()}}function th(p,S,k){var U=k instanceof Sa?Cn(k):new Sa(k);if(U.g!="")S&&(U.g=S+"."+U.g),ho(U,U.s);else{var Y=u.location;U=Y.protocol,S=S?S+"."+Y.hostname:Y.hostname,Y=+Y.port;var ne=new Sa(null);U&&ds(ne,U),S&&(ne.g=S),Y&&ho(ne,Y),k&&(ne.l=k),U=ne}return k=p.D,S=p.ya,k&&S&&At(U,k,S),At(U,"VER",p.la),Pa(p,U),U}function rh(p,S,k){if(S&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return S=p.Ca&&!p.pa?new Ft(new Ta({eb:k})):new Ft(p.pa),S.Ha(p.J),S}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function gc(){}t=gc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Il(){}Il.prototype.g=function(p,S){return new tn(p,S)};function tn(p,S){Xt.call(this),this.g=new pc(S),this.l=p,this.h=S&&S.messageUrlParams||null,p=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(p?p["X-WebChannel-Content-Type"]=S.messageContentType:p={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.va&&(p?p["X-WebChannel-Client-Profile"]=S.va:p={"X-WebChannel-Client-Profile":S.va}),this.g.S=p,(p=S&&S.Sb)&&!C(p)&&(this.g.m=p),this.v=S&&S.supportsCrossDomainXhr||!1,this.u=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!C(S)&&(this.g.D=S,p=this.h,p!==null&&S in p&&(p=this.h,S in p&&delete p[S])),this.j=new Xi(this)}x(tn,Xt),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){jr(this.g)},tn.prototype.o=function(p){var S=this.g;if(typeof p=="string"){var k={};k.__data__=p,p=k}else this.u&&(k={},k.__data__=Lt(p),p=k);S.i.push(new Ud(S.Ya++,p)),S.G==3&&Yi(S)},tn.prototype.N=function(){this.g.l=null,delete this.j,jr(this.g),delete this.g,tn.aa.N.call(this)};function nh(p){Yn.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var S=p.__sm__;if(S){e:{for(const k in S){p=k;break e}p=void 0}(this.i=p)&&(p=this.i,S=S!==null&&p in S?S[p]:void 0),this.data=S}else this.data=p}x(nh,Yn);function ih(){wr.call(this),this.status=1}x(ih,wr);function Xi(p){this.g=p}x(Xi,gc),Xi.prototype.ua=function(){tr(this.g,"a")},Xi.prototype.ta=function(p){tr(this.g,new nh(p))},Xi.prototype.sa=function(p){tr(this.g,new ih)},Xi.prototype.ra=function(){tr(this.g,"b")},Il.prototype.createWebChannel=Il.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,ID=function(){return new Il},kD=function(){return An()},PD=Xn,Xx={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ee.NO_ERROR=0,Ee.TIMEOUT=8,Ee.HTTP_ERROR=6,Sp=Ee,Me.COMPLETE="complete",AD=Me,zi.EventType=hn,hn.OPEN="a",hn.CLOSE="b",hn.ERROR="c",hn.MESSAGE="d",Xt.prototype.listen=Xt.prototype.K,ef=zi,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,TD=Ft}).apply(typeof ep<"u"?ep:typeof self<"u"?self:typeof window<"u"?window:{});const CP="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gr.UNAUTHENTICATED=new Gr(null),Gr.GOOGLE_CREDENTIALS=new Gr("google-credentials-uid"),Gr.FIRST_PARTY=new Gr("first-party-uid"),Gr.MOCK_USER=new Gr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qu="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys=new M1("@firebase/firestore");function Uc(){return Ys.logLevel}function Ne(t,...e){if(Ys.logLevel<=it.DEBUG){const r=e.map(G1);Ys.debug(`Firestore (${Qu}): ${t}`,...r)}}function Ja(t,...e){if(Ys.logLevel<=it.ERROR){const r=e.map(G1);Ys.error(`Firestore (${Qu}): ${t}`,...r)}}function vu(t,...e){if(Ys.logLevel<=it.WARN){const r=e.map(G1);Ys.warn(`Firestore (${Qu}): ${t}`,...r)}}function G1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(t="Unexpected state"){const e=`FIRESTORE (${Qu}) INTERNAL ASSERTION FAILED: `+t;throw Ja(e),new Error(e)}function wt(t,e){t||Xe()}function Ze(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends ga{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class BB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Gr.UNAUTHENTICATED))}shutdown(){}}class qB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class zB{constructor(e){this.t=e,this.currentUser=Gr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){wt(this.o===void 0);let n=this.i;const i=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let a=new Ho;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ho,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const c=a;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},u=c=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ho)}},0),s()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(wt(typeof n.accessToken=="string"),new OD(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return wt(e===null||typeof e=="string"),new Gr(e)}}class WB{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=Gr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class HB{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new WB(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Gr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class KB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class GB{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){wt(this.o===void 0);const n=a=>{a.error!=null&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.R;return this.R=a.token,Ne("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(wt(typeof r.token=="string"),this.R=r.token,new KB(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YB(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=YB(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%e.length))}return n}}function ft(t,e){return t<e?-1:t>e?1:0}function bu(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Pe(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Pe(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Pe(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pe(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return _r.fromMillis(Date.now())}static fromDate(e){return _r.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new _r(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ft(this.nanoseconds,e.nanoseconds):ft(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Qe(e)}static min(){return new Qe(new _r(0,0))}static max(){return new Qe(new _r(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,r,n){r===void 0?r=0:r>e.length&&Xe(),n===void 0?n=e.length-r:n>e.length-r&&Xe(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Af.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Af?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=e.get(i),s=r.get(i);if(a<s)return-1;if(a>s)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Dt extends Af{construct(e,r,n){return new Dt(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Pe(ce.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new Dt(r)}static emptyPath(){return new Dt([])}}const XB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fr extends Af{construct(e,r,n){return new Fr(e,r,n)}static isValidIdentifier(e){return XB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Fr(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new Pe(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Pe(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Pe(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=c,i+=2}else u==="`"?(s=!s,i++):u!=="."||s?(n+=u,i++):(a(),i++)}if(a(),s)throw new Pe(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fr(r)}static emptyPath(){return new Fr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.path=e}static fromPath(e){return new Fe(Dt.fromString(e))}static fromName(e){return new Fe(Dt.fromString(e).popFirst(5))}static empty(){return new Fe(Dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Dt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Fe(new Dt(e.slice()))}}function QB(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Qe.fromTimestamp(n===1e9?new _r(r+1,0):new _r(r,n));return new Xo(i,Fe.empty(),e)}function JB(t){return new Xo(t.readTime,t.key,-1)}class Xo{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Xo(Qe.min(),Fe.empty(),-1)}static max(){return new Xo(Qe.max(),Fe.empty(),-1)}}function ZB(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Fe.comparator(t.documentKey,e.documentKey),r!==0?r:ft(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tq{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xd(t){if(t.code!==ce.FAILED_PRECONDITION||t.message!==eq)throw t;Ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new me((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof me?r:me.resolve(r)}catch(r){return me.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):me.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):me.reject(r)}static resolve(e){return new me((r,n)=>{r(e)})}static reject(e){return new me((r,n)=>{n(e)})}static waitFor(e){return new me((r,n)=>{let i=0,a=0,s=!1;e.forEach(u=>{++i,u.next(()=>{++a,s&&a===i&&r()},c=>n(c))}),s=!0,a===i&&r()})}static or(e){let r=me.resolve(!1);for(const n of e)r=r.next(i=>i?me.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(e,r){return new me((n,i)=>{const a=e.length,s=new Array(a);let u=0;for(let c=0;c<a;c++){const f=c;r(e[f]).next(h=>{s[f]=h,++u,u===a&&n(s)},h=>i(h))}})}static doWhile(e,r){return new me((n,i)=>{const a=()=>{e()===!0?r().next(()=>{a()},i):n()};a()})}}function rq(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function wd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Y1.oe=-1;function Xm(t){return t==null}function $p(t){return t===0&&1/t==-1/0}function nq(t){return typeof t=="number"&&Number.isInteger(t)&&!$p(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NP(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function sl(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function ND(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,r){this.comparator=e,this.root=r||$r.EMPTY}insert(e,r){return new Gt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,$r.BLACK,null,null))}remove(e){return new Gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$r.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tp(this.root,e,this.comparator,!1)}getReverseIterator(){return new tp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tp(this.root,e,this.comparator,!0)}}class tp{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $r{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??$r.RED,this.left=i??$r.EMPTY,this.right=a??$r.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new $r(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return $r.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return $r.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$r.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$r.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Xe();const e=this.left.check();if(e!==this.right.check())throw Xe();return e+(this.isRed()?0:1)}}$r.EMPTY=null,$r.RED=!0,$r.BLACK=!1;$r.EMPTY=new class{constructor(){this.size=0}get key(){throw Xe()}get value(){throw Xe()}get color(){throw Xe()}get left(){throw Xe()}get right(){throw Xe()}copy(e,r,n,i,a){return this}insert(e,r,n){return new $r(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e){this.comparator=e,this.data=new Gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new RP(this.data.getIterator())}getIteratorFrom(e){return new RP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof Vr)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Vr(this.comparator);return r.data=e,r}}class RP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.fields=e,e.sort(Fr.comparator)}static empty(){return new qn([])}unionWith(e){let r=new Vr(Fr.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new qn(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return bu(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new RD("Invalid base64 string: "+a):a}}(e);return new Ur(r)}static fromUint8Array(e){const r=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new Ur(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ft(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ur.EMPTY_BYTE_STRING=new Ur("");const iq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qo(t){if(wt(!!t),typeof t=="string"){let e=0;const r=iq.exec(t);if(wt(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:nr(t.seconds),nanos:nr(t.nanos)}}function nr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Xs(t){return typeof t=="string"?Ur.fromBase64String(t):Ur.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(t){var e,r;return((r=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function Q1(t){const e=t.mapValue.fields.__previous_value__;return X1(e)?Q1(e):e}function Pf(t){const e=Qo(t.mapValue.fields.__local_write_time__.timestampValue);return new _r(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aq{constructor(e,r,n,i,a,s,u,c,f){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=f}}class kf{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new kf("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof kf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp={mapValue:{}};function Qs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?X1(t)?4:sq(t)?9007199254740991:oq(t)?10:11:Xe()}function da(t,e){if(t===e)return!0;const r=Qs(t);if(r!==Qs(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Pf(t).isEqual(Pf(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=Qo(i.timestampValue),u=Qo(a.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Xs(i.bytesValue).isEqual(Xs(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return nr(i.geoPointValue.latitude)===nr(a.geoPointValue.latitude)&&nr(i.geoPointValue.longitude)===nr(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return nr(i.integerValue)===nr(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=nr(i.doubleValue),u=nr(a.doubleValue);return s===u?$p(s)===$p(u):isNaN(s)&&isNaN(u)}return!1}(t,e);case 9:return bu(t.arrayValue.values||[],e.arrayValue.values||[],da);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},u=a.mapValue.fields||{};if(NP(s)!==NP(u))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(u[c]===void 0||!da(s[c],u[c])))return!1;return!0}(t,e);default:return Xe()}}function If(t,e){return(t.values||[]).find(r=>da(r,e))!==void 0}function _u(t,e){if(t===e)return 0;const r=Qs(t),n=Qs(e);if(r!==n)return ft(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return ft(t.booleanValue,e.booleanValue);case 2:return function(a,s){const u=nr(a.integerValue||a.doubleValue),c=nr(s.integerValue||s.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1}(t,e);case 3:return jP(t.timestampValue,e.timestampValue);case 4:return jP(Pf(t),Pf(e));case 5:return ft(t.stringValue,e.stringValue);case 6:return function(a,s){const u=Xs(a),c=Xs(s);return u.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(a,s){const u=a.split("/"),c=s.split("/");for(let f=0;f<u.length&&f<c.length;f++){const h=ft(u[f],c[f]);if(h!==0)return h}return ft(u.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,s){const u=ft(nr(a.latitude),nr(s.latitude));return u!==0?u:ft(nr(a.longitude),nr(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return DP(t.arrayValue,e.arrayValue);case 10:return function(a,s){var u,c,f,h;const m=a.fields||{},y=s.fields||{},b=(u=m.value)===null||u===void 0?void 0:u.arrayValue,x=(c=y.value)===null||c===void 0?void 0:c.arrayValue,E=ft(((f=b?.values)===null||f===void 0?void 0:f.length)||0,((h=x?.values)===null||h===void 0?void 0:h.length)||0);return E!==0?E:DP(b,x)}(t.mapValue,e.mapValue);case 11:return function(a,s){if(a===rp.mapValue&&s===rp.mapValue)return 0;if(a===rp.mapValue)return 1;if(s===rp.mapValue)return-1;const u=a.fields||{},c=Object.keys(u),f=s.fields||{},h=Object.keys(f);c.sort(),h.sort();for(let m=0;m<c.length&&m<h.length;++m){const y=ft(c[m],h[m]);if(y!==0)return y;const b=_u(u[c[m]],f[h[m]]);if(b!==0)return b}return ft(c.length,h.length)}(t.mapValue,e.mapValue);default:throw Xe()}}function jP(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ft(t,e);const r=Qo(t),n=Qo(e),i=ft(r.seconds,n.seconds);return i!==0?i:ft(r.nanos,n.nanos)}function DP(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=_u(r[i],n[i]);if(a)return a}return ft(r.length,n.length)}function xu(t){return Qx(t)}function Qx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=Qo(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Xs(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return Fe.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=Qx(a);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const s of n)a?a=!1:i+=",",i+=`${s}:${Qx(r.fields[s])}`;return i+"}"}(t.mapValue):Xe()}function MP(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Jx(t){return!!t&&"integerValue"in t}function J1(t){return!!t&&"arrayValue"in t}function LP(t){return!!t&&"nullValue"in t}function $P(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Tp(t){return!!t&&"mapValue"in t}function oq(t){var e,r;return((r=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function cf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return sl(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=cf(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=cf(t.arrayValue.values[r]);return e}return Object.assign({},t)}function sq(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!Tp(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=cf(r)}setAll(e){let r=Fr.emptyPath(),n={},i=[];e.forEach((s,u)=>{if(!r.isImmediateParentOf(u)){const c=this.getFieldsMap(r);this.applyChanges(c,n,i),n={},i=[],r=u.popLast()}s?n[u.lastSegment()]=cf(s):i.push(u.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());Tp(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return da(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];Tp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){sl(r,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new wn(cf(this.value))}}function jD(t){const e=[];return sl(t.fields,(r,n)=>{const i=new Fr([r]);if(Tp(n)){const a=jD(n.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,r,n,i,a,s,u){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=s,this.documentState=u}static newInvalidDocument(e){return new Yr(e,0,Qe.min(),Qe.min(),Qe.min(),wn.empty(),0)}static newFoundDocument(e,r,n,i){return new Yr(e,1,r,Qe.min(),n,i,0)}static newNoDocument(e,r){return new Yr(e,2,r,Qe.min(),Qe.min(),wn.empty(),0)}static newUnknownDocument(e,r){return new Yr(e,3,r,Qe.min(),Qe.min(),wn.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,r){this.position=e,this.inclusive=r}}function FP(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?n=Fe.comparator(Fe.fromName(s.referenceValue),r.key):n=_u(s,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function VP(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!da(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e,r="asc"){this.field=e,this.dir=r}}function lq(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{}class ur extends DD{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new cq(e,r,n):r==="array-contains"?new hq(e,n):r==="in"?new pq(e,n):r==="not-in"?new mq(e,n):r==="array-contains-any"?new gq(e,n):new ur(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new fq(e,n):new dq(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(_u(r,this.value)):r!==null&&Qs(this.value)===Qs(r)&&this.matchesComparison(_u(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fi extends DD{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new Fi(e,r)}matches(e){return MD(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function MD(t){return t.op==="and"}function LD(t){return uq(t)&&MD(t)}function uq(t){for(const e of t.filters)if(e instanceof Fi)return!1;return!0}function Zx(t){if(t instanceof ur)return t.field.canonicalString()+t.op.toString()+xu(t.value);if(LD(t))return t.filters.map(e=>Zx(e)).join(",");{const e=t.filters.map(r=>Zx(r)).join(",");return`${t.op}(${e})`}}function $D(t,e){return t instanceof ur?function(n,i){return i instanceof ur&&n.op===i.op&&n.field.isEqual(i.field)&&da(n.value,i.value)}(t,e):t instanceof Fi?function(n,i){return i instanceof Fi&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,s,u)=>a&&$D(s,i.filters[u]),!0):!1}(t,e):void Xe()}function FD(t){return t instanceof ur?function(r){return`${r.field.canonicalString()} ${r.op} ${xu(r.value)}`}(t):t instanceof Fi?function(r){return r.op.toString()+" {"+r.getFilters().map(FD).join(" ,")+"}"}(t):"Filter"}class cq extends ur{constructor(e,r,n){super(e,r,n),this.key=Fe.fromName(n.referenceValue)}matches(e){const r=Fe.comparator(e.key,this.key);return this.matchesComparison(r)}}class fq extends ur{constructor(e,r){super(e,"in",r),this.keys=VD("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class dq extends ur{constructor(e,r){super(e,"not-in",r),this.keys=VD("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function VD(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>Fe.fromName(n.referenceValue))}class hq extends ur{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return J1(r)&&If(r.arrayValue,this.value)}}class pq extends ur{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&If(this.value.arrayValue,r)}}class mq extends ur{constructor(e,r){super(e,"not-in",r)}matches(e){if(If(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!If(this.value.arrayValue,r)}}class gq extends ur{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!J1(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>If(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yq{constructor(e,r=null,n=[],i=[],a=null,s=null,u=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=s,this.endAt=u,this.ue=null}}function UP(t,e=null,r=[],n=[],i=null,a=null,s=null){return new yq(t,e,r,n,i,a,s)}function Z1(t){const e=Ze(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>Zx(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),Xm(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>xu(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>xu(n)).join(",")),e.ue=r}return e.ue}function eE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!lq(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!$D(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!VP(t.startAt,e.startAt)&&VP(t.endAt,e.endAt)}function ew(t){return Fe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,r=null,n=[],i=[],a=null,s="F",u=null,c=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=s,this.startAt=u,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function vq(t,e,r,n,i,a,s,u){return new Ed(t,e,r,n,i,a,s,u)}function tE(t){return new Ed(t)}function BP(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function UD(t){return t.collectionGroup!==null}function ff(t){const e=Ze(t);if(e.ce===null){e.ce=[];const r=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let u=new Vr(Fr.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(e).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Vp(a,n))}),r.has(Fr.keyField().canonicalString())||e.ce.push(new Vp(Fr.keyField(),n))}return e.ce}function la(t){const e=Ze(t);return e.le||(e.le=bq(e,ff(t))),e.le}function bq(t,e){if(t.limitType==="F")return UP(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Vp(i.field,a)});const r=t.endAt?new Fp(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Fp(t.startAt.position,t.startAt.inclusive):null;return UP(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function tw(t,e){const r=t.filters.concat([e]);return new Ed(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function rw(t,e,r){return new Ed(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Qm(t,e){return eE(la(t),la(e))&&t.limitType===e.limitType}function BD(t){return`${Z1(la(t))}|lt:${t.limitType}`}function tu(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>FD(i)).join(", ")}]`),Xm(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>xu(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>xu(i)).join(",")),`Target(${n})`}(la(t))}; limitType=${t.limitType})`}function Jm(t,e){return e.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):Fe.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(t,e)&&function(n,i){for(const a of ff(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(s,u,c){const f=FP(s,u,c);return s.inclusive?f<=0:f<0}(n.startAt,ff(n),i)||n.endAt&&!function(s,u,c){const f=FP(s,u,c);return s.inclusive?f>=0:f>0}(n.endAt,ff(n),i))}(t,e)}function _q(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function qD(t){return(e,r)=>{let n=!1;for(const i of ff(t)){const a=xq(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function xq(t,e,r){const n=t.field.isKeyField()?Fe.comparator(e.key,r.key):function(a,s,u){const c=s.data.field(a),f=u.data.field(a);return c!==null&&f!==null?_u(c,f):Xe()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Xe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){sl(this.inner,(r,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return ND(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wq=new Gt(Fe.comparator);function Za(){return wq}const zD=new Gt(Fe.comparator);function tf(...t){let e=zD;for(const r of t)e=e.insert(r.key,r);return e}function WD(t){let e=zD;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function Ms(){return df()}function HD(){return df()}function df(){return new Ju(t=>t.toString(),(t,e)=>t.isEqual(e))}const Eq=new Gt(Fe.comparator),Sq=new Vr(Fe.comparator);function rt(...t){let e=Sq;for(const r of t)e=e.add(r);return e}const Tq=new Vr(ft);function Aq(){return Tq}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$p(e)?"-0":e}}function KD(t){return{integerValue:""+t}}function Pq(t,e){return nq(e)?KD(e):rE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(){this._=void 0}}function kq(t,e,r){return t instanceof Of?function(i,a){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&X1(a)&&(a=Q1(a)),a&&(s.fields.__previous_value__=a),{mapValue:s}}(r,e):t instanceof Cf?YD(t,e):t instanceof Nf?XD(t,e):function(i,a){const s=GD(i,a),u=qP(s)+qP(i.Pe);return Jx(s)&&Jx(i.Pe)?KD(u):rE(i.serializer,u)}(t,e)}function Iq(t,e,r){return t instanceof Cf?YD(t,e):t instanceof Nf?XD(t,e):r}function GD(t,e){return t instanceof Up?function(n){return Jx(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class Of extends Zm{}class Cf extends Zm{constructor(e){super(),this.elements=e}}function YD(t,e){const r=QD(e);for(const n of t.elements)r.some(i=>da(i,n))||r.push(n);return{arrayValue:{values:r}}}class Nf extends Zm{constructor(e){super(),this.elements=e}}function XD(t,e){let r=QD(e);for(const n of t.elements)r=r.filter(i=>!da(i,n));return{arrayValue:{values:r}}}class Up extends Zm{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function qP(t){return nr(t.integerValue||t.doubleValue)}function QD(t){return J1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oq{constructor(e,r){this.field=e,this.transform=r}}function Cq(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof Cf&&i instanceof Cf||n instanceof Nf&&i instanceof Nf?bu(n.elements,i.elements,da):n instanceof Up&&i instanceof Up?da(n.Pe,i.Pe):n instanceof Of&&i instanceof Of}(t.transform,e.transform)}class Nq{constructor(e,r){this.version=e,this.transformResults=r}}class un{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new un}static exists(e){return new un(void 0,e)}static updateTime(e){return new un(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ap(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class eg{}function JD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new tg(t.key,un.none()):new Sd(t.key,t.data,un.none());{const r=t.data,n=wn.empty();let i=new Vr(Fr.comparator);for(let a of e.fields)if(!i.has(a)){let s=r.field(a);s===null&&a.length>1&&(a=a.popLast(),s=r.field(a)),s===null?n.delete(a):n.set(a,s),i=i.add(a)}return new rs(t.key,n,new qn(i.toArray()),un.none())}}function Rq(t,e,r){t instanceof Sd?function(i,a,s){const u=i.value.clone(),c=WP(i.fieldTransforms,a,s.transformResults);u.setAll(c),a.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,r):t instanceof rs?function(i,a,s){if(!Ap(i.precondition,a))return void a.convertToUnknownDocument(s.version);const u=WP(i.fieldTransforms,a,s.transformResults),c=a.data;c.setAll(ZD(i)),c.setAll(u),a.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,r):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,r)}function hf(t,e,r,n){return t instanceof Sd?function(a,s,u,c){if(!Ap(a.precondition,s))return u;const f=a.value.clone(),h=HP(a.fieldTransforms,c,s);return f.setAll(h),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null}(t,e,r,n):t instanceof rs?function(a,s,u,c){if(!Ap(a.precondition,s))return u;const f=HP(a.fieldTransforms,c,s),h=s.data;return h.setAll(ZD(a)),h.setAll(f),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(m=>m.field))}(t,e,r,n):function(a,s,u){return Ap(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):u}(t,e,r)}function jq(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=GD(n.transform,i||null);a!=null&&(r===null&&(r=wn.empty()),r.set(n.field,a))}return r||null}function zP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&bu(n,i,(a,s)=>Cq(a,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Sd extends eg{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class rs extends eg{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function ZD(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function WP(t,e,r){const n=new Map;wt(t.length===r.length);for(let i=0;i<r.length;i++){const a=t[i],s=a.transform,u=e.data.field(a.field);n.set(a.field,Iq(s,u,r[i]))}return n}function HP(t,e,r){const n=new Map;for(const i of t){const a=i.transform,s=r.data.field(i.field);n.set(i.field,kq(a,s,e))}return n}class tg extends eg{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Dq extends eg{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mq{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&Rq(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=hf(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=hf(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=HD();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let u=this.applyToLocalView(s,a.mutatedFields);u=r.has(i.key)?null:u;const c=JD(s,u);c!==null&&n.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Qe.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),rt())}isEqual(e){return this.batchId===e.batchId&&bu(this.mutations,e.mutations,(r,n)=>zP(r,n))&&bu(this.baseMutations,e.baseMutations,(r,n)=>zP(r,n))}}class nE{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){wt(e.mutations.length===n.length);let i=function(){return Eq}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,n[s].version);return new nE(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lq{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $q{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sr,ot;function Fq(t){switch(t){default:return Xe();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0}}function eM(t){if(t===void 0)return Ja("GRPC error has no .code"),ce.UNKNOWN;switch(t){case sr.OK:return ce.OK;case sr.CANCELLED:return ce.CANCELLED;case sr.UNKNOWN:return ce.UNKNOWN;case sr.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case sr.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case sr.INTERNAL:return ce.INTERNAL;case sr.UNAVAILABLE:return ce.UNAVAILABLE;case sr.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case sr.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case sr.NOT_FOUND:return ce.NOT_FOUND;case sr.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case sr.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case sr.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case sr.ABORTED:return ce.ABORTED;case sr.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case sr.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case sr.DATA_LOSS:return ce.DATA_LOSS;default:return Xe()}}(ot=sr||(sr={}))[ot.OK=0]="OK",ot[ot.CANCELLED=1]="CANCELLED",ot[ot.UNKNOWN=2]="UNKNOWN",ot[ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ot[ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ot[ot.NOT_FOUND=5]="NOT_FOUND",ot[ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",ot[ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",ot[ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",ot[ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ot[ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ot[ot.ABORTED=10]="ABORTED",ot[ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",ot[ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",ot[ot.INTERNAL=13]="INTERNAL",ot[ot.UNAVAILABLE=14]="UNAVAILABLE",ot[ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vq(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uq=new Us([4294967295,4294967295],0);function KP(t){const e=Vq().encode(t),r=new SD;return r.update(e),new Uint8Array(r.digest())}function GP(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Us([r,n],0),new Us([i,a],0)]}class iE{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new rf(`Invalid padding: ${r}`);if(n<0)throw new rf(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new rf(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new rf(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Us.fromNumber(this.Ie)}Ee(e,r,n){let i=e.add(r.multiply(Us.fromNumber(n)));return i.compare(Uq)===1&&(i=new Us([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=KP(e),[n,i]=GP(r);for(let a=0;a<this.hashCount;a++){const s=this.Ee(n,i,a);if(!this.de(s))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new iE(a,i,r);return n.forEach(u=>s.insert(u)),s}insert(e){if(this.Ie===0)return;const r=KP(e),[n,i]=GP(r);for(let a=0;a<this.hashCount;a++){const s=this.Ee(n,i,a);this.Ae(s)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class rf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,Td.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new rg(Qe.min(),i,new Gt(ft),Za(),rt())}}class Td{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Td(n,r,rt(),rt(),rt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,r,n,i){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=i}}class tM{constructor(e,r){this.targetId=e,this.me=r}}class rM{constructor(e,r,n=Ur.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class YP{constructor(){this.fe=0,this.ge=QP(),this.pe=Ur.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=rt(),r=rt(),n=rt();return this.ge.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:Xe()}}),new Td(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=QP()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,wt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Bq{constructor(e){this.Le=e,this.Be=new Map,this.ke=Za(),this.qe=XP(),this.Qe=new Gt(ft)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:Xe()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,i)=>{this.ze(i)&&r(i)})}He(e){const r=e.targetId,n=e.me.count,i=this.Je(r);if(i){const a=i.target;if(ew(a))if(n===0){const s=new Fe(a.path);this.Ue(r,s,Yr.newNoDocument(s,Qe.min()))}else wt(n===1);else{const s=this.Ye(r);if(s!==n){const u=this.Ze(e),c=u?this.Xe(u,e,s):1;if(c!==0){this.je(r);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,f)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let s,u;try{s=Xs(n).toUint8Array()}catch(c){if(c instanceof RD)return vu("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new iE(s,i,a)}catch(c){return vu(c instanceof rf?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.Ie===0?null:u}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const s=this.Le.tt(),u=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.Ue(r,a,null),i++)}),i}rt(e){const r=new Map;this.Be.forEach((a,s)=>{const u=this.Je(s);if(u){if(a.current&&ew(u.target)){const c=new Fe(u.target.path);this.ke.get(c)!==null||this.it(s,c)||this.Ue(s,c,Yr.newNoDocument(c,e))}a.be&&(r.set(s,a.ve()),a.Ce())}});let n=rt();this.qe.forEach((a,s)=>{let u=!0;s.forEachWhile(c=>{const f=this.Je(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(n=n.add(a))}),this.ke.forEach((a,s)=>s.setReadTime(e));const i=new rg(e,r,this.Qe,this.ke,n);return this.ke=Za(),this.qe=XP(),this.Qe=new Gt(ft),i}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new YP,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Vr(ft),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||Ne("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new YP),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function XP(){return new Gt(Fe.comparator)}function QP(){return new Gt(Fe.comparator)}const qq={asc:"ASCENDING",desc:"DESCENDING"},zq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Wq={and:"AND",or:"OR"};class Hq{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function nw(t,e){return t.useProto3Json||Xm(e)?e:{value:e}}function Bp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Kq(t,e){return Bp(t,e.toTimestamp())}function ua(t){return wt(!!t),Qe.fromTimestamp(function(r){const n=Qo(r);return new _r(n.seconds,n.nanos)}(t))}function aE(t,e){return iw(t,e).canonicalString()}function iw(t,e){const r=function(i){return new Dt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function iM(t){const e=Dt.fromString(t);return wt(uM(e)),e}function aw(t,e){return aE(t.databaseId,e.path)}function Rv(t,e){const r=iM(e);if(r.get(1)!==t.databaseId.projectId)throw new Pe(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Pe(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Fe(oM(r))}function aM(t,e){return aE(t.databaseId,e)}function Gq(t){const e=iM(t);return e.length===4?Dt.emptyPath():oM(e)}function ow(t){return new Dt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function oM(t){return wt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function JP(t,e,r){return{name:aw(t,e),fields:r.value.mapValue.fields}}function Yq(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Xe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(f,h){return f.useProto3Json?(wt(h===void 0||typeof h=="string"),Ur.fromBase64String(h||"")):(wt(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Ur.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,u=s&&function(f){const h=f.code===void 0?ce.UNKNOWN:eM(f.code);return new Pe(h,f.message||"")}(s);r=new rM(n,i,a,u||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=Rv(t,n.document.name),a=ua(n.document.updateTime),s=n.document.createTime?ua(n.document.createTime):Qe.min(),u=new wn({mapValue:{fields:n.document.fields}}),c=Yr.newFoundDocument(i,a,s,u),f=n.targetIds||[],h=n.removedTargetIds||[];r=new Pp(f,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=Rv(t,n.document),a=n.readTime?ua(n.readTime):Qe.min(),s=Yr.newNoDocument(i,a),u=n.removedTargetIds||[];r=new Pp([],u,s.key,s)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=Rv(t,n.document),a=n.removedTargetIds||[];r=new Pp([],a,i,null)}else{if(!("filter"in e))return Xe();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,s=new $q(i,a),u=n.targetId;r=new tM(u,s)}}return r}function Xq(t,e){let r;if(e instanceof Sd)r={update:JP(t,e.key,e.value)};else if(e instanceof tg)r={delete:aw(t,e.key)};else if(e instanceof rs)r={update:JP(t,e.key,e.data),updateMask:a5(e.fieldMask)};else{if(!(e instanceof Dq))return Xe();r={verify:aw(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(a,s){const u=s.transform;if(u instanceof Of)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Cf)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Nf)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Up)return{fieldPath:s.field.canonicalString(),increment:u.Pe};throw Xe()}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:Kq(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Xe()}(t,e.precondition)),r}function Qq(t,e){return t&&t.length>0?(wt(e!==void 0),t.map(r=>function(i,a){let s=i.updateTime?ua(i.updateTime):ua(a);return s.isEqual(Qe.min())&&(s=ua(a)),new Nq(s,i.transformResults||[])}(r,e))):[]}function Jq(t,e){return{documents:[aM(t,e.path)]}}function Zq(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=aM(t,i);const a=function(f){if(f.length!==0)return lM(Fi.create(f,"and"))}(e.filters);a&&(r.structuredQuery.where=a);const s=function(f){if(f.length!==0)return f.map(h=>function(y){return{field:ru(y.field),direction:r5(y.dir)}}(h))}(e.orderBy);s&&(r.structuredQuery.orderBy=s);const u=nw(t,e.limit);return u!==null&&(r.structuredQuery.limit=u),e.startAt&&(r.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{_t:r,parent:i}}function e5(t){let e=Gq(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){wt(n===1);const h=r.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let a=[];r.where&&(a=function(m){const y=sM(m);return y instanceof Fi&&LD(y)?y.getFilters():[y]}(r.where));let s=[];r.orderBy&&(s=function(m){return m.map(y=>function(x){return new Vp(nu(x.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(y))}(r.orderBy));let u=null;r.limit&&(u=function(m){let y;return y=typeof m=="object"?m.value:m,Xm(y)?null:y}(r.limit));let c=null;r.startAt&&(c=function(m){const y=!!m.before,b=m.values||[];return new Fp(b,y)}(r.startAt));let f=null;return r.endAt&&(f=function(m){const y=!m.before,b=m.values||[];return new Fp(b,y)}(r.endAt)),vq(e,i,s,a,u,"F",c,f)}function t5(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xe()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function sM(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=nu(r.unaryFilter.field);return ur.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=nu(r.unaryFilter.field);return ur.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=nu(r.unaryFilter.field);return ur.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=nu(r.unaryFilter.field);return ur.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Xe()}}(t):t.fieldFilter!==void 0?function(r){return ur.create(nu(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xe()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return Fi.create(r.compositeFilter.filters.map(n=>sM(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Xe()}}(r.compositeFilter.op))}(t):Xe()}function r5(t){return qq[t]}function n5(t){return zq[t]}function i5(t){return Wq[t]}function ru(t){return{fieldPath:t.canonicalString()}}function nu(t){return Fr.fromServerFormat(t.fieldPath)}function lM(t){return t instanceof ur?function(r){if(r.op==="=="){if($P(r.value))return{unaryFilter:{field:ru(r.field),op:"IS_NAN"}};if(LP(r.value))return{unaryFilter:{field:ru(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if($P(r.value))return{unaryFilter:{field:ru(r.field),op:"IS_NOT_NAN"}};if(LP(r.value))return{unaryFilter:{field:ru(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ru(r.field),op:n5(r.op),value:r.value}}}(t):t instanceof Fi?function(r){const n=r.getFilters().map(i=>lM(i));return n.length===1?n[0]:{compositeFilter:{op:i5(r.op),filters:n}}}(t):Xe()}function a5(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function uM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,r,n,i,a=Qe.min(),s=Qe.min(),u=Ur.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new Bo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Bo(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(e){this.ct=e}}function s5(t){const e=e5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?rw(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(){this.un=new u5}addToCollectionParentIndex(e,r){return this.un.add(r),me.resolve()}getCollectionParents(e,r){return me.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return me.resolve()}deleteFieldIndex(e,r){return me.resolve()}deleteAllFieldIndexes(e){return me.resolve()}createTargetIndexes(e,r){return me.resolve()}getDocumentsMatchingTarget(e,r){return me.resolve(null)}getIndexType(e,r){return me.resolve(0)}getFieldIndexes(e,r){return me.resolve([])}getNextCollectionGroupToUpdate(e){return me.resolve(null)}getMinOffset(e,r){return me.resolve(Xo.min())}getMinOffsetFromCollectionGroup(e,r){return me.resolve(Xo.min())}updateCollectionGroup(e,r,n){return me.resolve()}updateIndexEntries(e,r){return me.resolve()}}class u5{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new Vr(Dt.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Vr(Dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new wu(0)}static kn(){return new wu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{constructor(){this.changes=new Ju(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Yr.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?me.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&hf(n.mutation,i,qn.empty(),_r.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,rt()).next(()=>n))}getLocalViewOfDocuments(e,r,n=rt()){const i=Ms();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(a=>{let s=tf();return a.forEach((u,c)=>{s=s.insert(u,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,r){const n=Ms();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,rt()))}populateOverlays(e,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,u)=>{r.set(s,u)})})}computeViews(e,r,n,i){let a=Za();const s=df(),u=function(){return df()}();return r.forEach((c,f)=>{const h=n.get(f.key);i.has(f.key)&&(h===void 0||h.mutation instanceof rs)?a=a.insert(f.key,f):h!==void 0?(s.set(f.key,h.mutation.getFieldMask()),hf(h.mutation,f,h.mutation.getFieldMask(),_r.now())):s.set(f.key,qn.empty())}),this.recalculateAndSaveOverlays(e,a).next(c=>(c.forEach((f,h)=>s.set(f,h)),r.forEach((f,h)=>{var m;return u.set(f,new f5(h,(m=s.get(f))!==null&&m!==void 0?m:null))}),u))}recalculateAndSaveOverlays(e,r){const n=df();let i=new Gt((s,u)=>s-u),a=rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(s=>{for(const u of s)u.keys().forEach(c=>{const f=r.get(c);if(f===null)return;let h=n.get(c)||qn.empty();h=u.applyToLocalView(f,h),n.set(c,h);const m=(i.get(u.batchId)||rt()).add(c);i=i.insert(u.batchId,m)})}).next(()=>{const s=[],u=i.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),f=c.key,h=c.value,m=HD();h.forEach(y=>{if(!a.has(y)){const b=JD(r.get(y),n.get(y));b!==null&&m.set(y,b),a=a.add(y)}}),s.push(this.documentOverlayCache.saveOverlays(e,f,m))}return me.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(s){return Fe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):UD(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):me.resolve(Ms());let u=-1,c=a;return s.next(f=>me.forEach(f,(h,m)=>(u<m.largestBatchId&&(u=m.largestBatchId),a.get(h)?me.resolve():this.remoteDocumentCache.getEntry(e,h).next(y=>{c=c.insert(h,y)}))).next(()=>this.populateOverlays(e,f,a)).next(()=>this.computeViews(e,c,f,rt())).next(h=>({batchId:u,changes:WD(h)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Fe(r)).next(n=>{let i=tf();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let s=tf();return this.indexManager.getCollectionParents(e,a).next(u=>me.forEach(u,c=>{const f=function(m,y){return new Ed(y,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(r,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,n,i).next(h=>{h.forEach((m,y)=>{s=s.insert(m,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i))).next(s=>{a.forEach((c,f)=>{const h=f.getKey();s.get(h)===null&&(s=s.insert(h,Yr.newInvalidDocument(h)))});let u=tf();return s.forEach((c,f)=>{const h=a.get(c);h!==void 0&&hf(h.mutation,f,qn.empty(),_r.now()),Jm(r,f)&&(u=u.insert(c,f))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return me.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:ua(i.createTime)}}(r)),me.resolve()}getNamedQuery(e,r){return me.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(i){return{name:i.name,query:s5(i.bundledQuery),readTime:ua(i.readTime)}}(r)),me.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(){this.overlays=new Gt(Fe.comparator),this.Ir=new Map}getOverlay(e,r){return me.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Ms();return me.forEach(r,i=>this.getOverlay(e,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,a)=>{this.ht(e,r,a)}),me.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(n)),me.resolve()}getOverlaysForCollection(e,r,n){const i=Ms(),a=r.length+1,s=new Fe(r.child("")),u=this.overlays.getIteratorFrom(s);for(;u.hasNext();){const c=u.getNext().value,f=c.getKey();if(!r.isPrefixOf(f.path))break;f.path.length===a&&c.largestBatchId>n&&i.set(c.getKey(),c)}return me.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new Gt((f,h)=>f-h);const s=this.overlays.getIterator();for(;s.hasNext();){const f=s.getNext().value;if(f.getKey().getCollectionGroup()===r&&f.largestBatchId>n){let h=a.get(f.largestBatchId);h===null&&(h=Ms(),a=a.insert(f.largestBatchId,h)),h.set(f.getKey(),f)}}const u=Ms(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((f,h)=>u.set(f,h)),!(u.size()>=i)););return me.resolve(u)}ht(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new Lq(r,n));let a=this.Ir.get(r);a===void 0&&(a=rt(),this.Ir.set(r,a)),this.Ir.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(){this.sessionToken=Ur.EMPTY_BYTE_STRING}getSessionToken(e){return me.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,me.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(){this.Tr=new Vr(kr.Er),this.dr=new Vr(kr.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new kr(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new kr(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new Fe(new Dt([])),n=new kr(r,e),i=new kr(r,e+1),a=[];return this.dr.forEachInRange([n,i],s=>{this.Vr(s),a.push(s.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new Fe(new Dt([])),n=new kr(r,e),i=new kr(r,e+1);let a=rt();return this.dr.forEachInRange([n,i],s=>{a=a.add(s.key)}),a}containsKey(e){const r=new kr(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class kr{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return Fe.comparator(e.key,r.key)||ft(e.wr,r.wr)}static Ar(e,r){return ft(e.wr,r.wr)||Fe.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new Vr(kr.Er)}checkEmpty(e){return me.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Mq(a,r,n,i);this.mutationQueue.push(s);for(const u of i)this.br=this.br.add(new kr(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return me.resolve(s)}lookupMutationBatch(e,r){return me.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.vr(n),a=i<0?0:i;return me.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new kr(r,0),i=new kr(r,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([n,i],s=>{const u=this.Dr(s.wr);a.push(u)}),me.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Vr(ft);return r.forEach(i=>{const a=new kr(i,0),s=new kr(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,s],u=>{n=n.add(u.wr)})}),me.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;Fe.isDocumentKey(a)||(a=a.child(""));const s=new kr(new Fe(a),0);let u=new Vr(ft);return this.br.forEachWhile(c=>{const f=c.key.path;return!!n.isPrefixOf(f)&&(f.length===i&&(u=u.add(c.wr)),!0)},s),me.resolve(this.Cr(u))}Cr(e){const r=[];return e.forEach(n=>{const i=this.Dr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){wt(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return me.forEach(r.mutations,i=>{const a=new kr(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new kr(r,0),i=this.br.firstAfterOrEqual(n);return me.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,me.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(e){this.Mr=e,this.docs=function(){return new Gt(Fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,s=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return me.resolve(n?n.document.mutableCopy():Yr.newInvalidDocument(r))}getEntries(e,r){let n=Za();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():Yr.newInvalidDocument(i))}),me.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=Za();const s=r.path,u=new Fe(s.child("")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:f,value:{document:h}}=c.getNext();if(!s.isPrefixOf(f.path))break;f.path.length>s.length+1||ZB(JB(h),n)<=0||(i.has(h.key)||Jm(r,h))&&(a=a.insert(h.key,h.mutableCopy()))}return me.resolve(a)}getAllFromCollectionGroup(e,r,n,i){Xe()}Or(e,r){return me.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new v5(this)}getSize(e){return me.resolve(this.size)}}class v5 extends c5{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)}),me.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(e){this.persistence=e,this.Nr=new Ju(r=>Z1(r),eE),this.lastRemoteSnapshotVersion=Qe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new oE,this.targetCount=0,this.kr=wu.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,i)=>r(i)),me.resolve()}getLastRemoteSnapshotVersion(e){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return me.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),me.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new wu(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,me.resolve()}updateTargetData(e,r){return this.Kn(r),me.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,me.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.Nr.forEach((s,u)=>{u.sequenceNumber<=r&&n.get(u.targetId)===null&&(this.Nr.delete(s),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),me.waitFor(a).next(()=>i)}getTargetCount(e){return me.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return me.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),me.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),me.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),me.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return me.resolve(n)}containsKey(e,r){return me.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(e,r){this.qr={},this.overlays={},this.Qr=new Y1(0),this.Kr=!1,this.Kr=!0,this.$r=new m5,this.referenceDelegate=e(this),this.Ur=new b5(this),this.indexManager=new l5,this.remoteDocumentCache=function(i){return new y5(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new o5(r),this.Gr=new h5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new p5,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new g5(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){Ne("MemoryPersistence","Starting transaction:",e);const i=new x5(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(a=>this.referenceDelegate.jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Hr(e,r){return me.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class x5 extends tq{constructor(e){super(),this.currentSequenceNumber=e}}class sE{constructor(e){this.persistence=e,this.Jr=new oE,this.Yr=null}static Zr(e){return new sE(e)}get Xr(){if(this.Yr)return this.Yr;throw Xe()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),me.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),me.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),me.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(a=>this.Xr.add(a.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.Xr,n=>{const i=Fe.fromPath(n);return this.ei(e,i).next(a=>{a||r.removeEntry(i,Qe.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return me.or([()=>me.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(e,r){let n=rt(),i=rt();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new lE(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return f3()?8:rq(Qr())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.Yi(e,r).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.Zi(e,r,i,n).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new w5;return this.Xi(e,r,s).next(u=>{if(a.result=u,this.zi)return this.es(e,r,s,u.size)})}).next(()=>a.result)}es(e,r,n,i){return n.documentReadCount<this.ji?(Uc()<=it.DEBUG&&Ne("QueryEngine","SDK will not create cache indexes for query:",tu(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),me.resolve()):(Uc()<=it.DEBUG&&Ne("QueryEngine","Query:",tu(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(Uc()<=it.DEBUG&&Ne("QueryEngine","The SDK decides to create cache indexes for query:",tu(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,la(r))):me.resolve())}Yi(e,r){if(BP(r))return me.resolve(null);let n=la(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=rw(r,null,"F"),n=la(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const s=rt(...a);return this.Ji.getDocuments(e,s).next(u=>this.indexManager.getMinOffset(e,n).next(c=>{const f=this.ts(r,u);return this.ns(r,f,s,c.readTime)?this.Yi(e,rw(r,null,"F")):this.rs(e,f,r,c)}))})))}Zi(e,r,n,i){return BP(r)||i.isEqual(Qe.min())?me.resolve(null):this.Ji.getDocuments(e,n).next(a=>{const s=this.ts(r,a);return this.ns(r,s,n,i)?me.resolve(null):(Uc()<=it.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),tu(r)),this.rs(e,s,r,QB(i,-1)).next(u=>u))})}ts(e,r){let n=new Vr(qD(e));return r.forEach((i,a)=>{Jm(e,a)&&(n=n.add(a))}),n}ns(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(e,r,n){return Uc()<=it.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",tu(r)),this.Ji.getDocumentsMatchingQuery(e,r,Xo.min(),n)}rs(e,r,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next(a=>(r.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e,r,n,i){this.persistence=e,this.ss=r,this.serializer=i,this.os=new Gt(ft),this._s=new Ju(a=>Z1(a),eE),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new d5(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function T5(t,e,r,n){return new S5(t,e,r,n)}async function cM(t,e){const r=Ze(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const s=[],u=[];let c=rt();for(const f of i){s.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}for(const f of a){u.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}return r.localDocuments.getDocuments(n,c).next(f=>({hs:f,removedBatchIds:s,addedBatchIds:u}))})})}function A5(t,e){const r=Ze(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),a=r.cs.newChangeBuffer({trackRemovals:!0});return function(u,c,f,h){const m=f.batch,y=m.keys();let b=me.resolve();return y.forEach(x=>{b=b.next(()=>h.getEntry(c,x)).next(E=>{const w=f.docVersions.get(x);wt(w!==null),E.version.compareTo(w)<0&&(m.applyToRemoteDocument(E,f),E.isValidDocument()&&(E.setReadTime(f.commitVersion),h.addEntry(E)))})}),b.next(()=>u.mutationQueue.removeMutationBatch(c,m))}(r,n,e,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(u){let c=rt();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(c=c.add(u.batch.mutations[f].key));return c}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function fM(t){const e=Ze(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function P5(t,e){const r=Ze(t),n=e.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const u=[];e.targetChanges.forEach((h,m)=>{const y=i.get(m);if(!y)return;u.push(r.Ur.removeMatchingKeys(a,h.removedDocuments,m).next(()=>r.Ur.addMatchingKeys(a,h.addedDocuments,m)));let b=y.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(m)!==null?b=b.withResumeToken(Ur.EMPTY_BYTE_STRING,Qe.min()).withLastLimboFreeSnapshotVersion(Qe.min()):h.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(h.resumeToken,n)),i=i.insert(m,b),function(E,w,O){return E.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(y,b,h)&&u.push(r.Ur.updateTargetData(a,b))});let c=Za(),f=rt();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&u.push(r.persistence.referenceDelegate.updateLimboDocument(a,h))}),u.push(k5(a,s,e.documentUpdates).next(h=>{c=h.Ps,f=h.Is})),!n.isEqual(Qe.min())){const h=r.Ur.getLastRemoteSnapshotVersion(a).next(m=>r.Ur.setTargetsMetadata(a,a.currentSequenceNumber,n));u.push(h)}return me.waitFor(u).next(()=>s.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,c,f)).next(()=>c)}).then(a=>(r.os=i,a))}function k5(t,e,r){let n=rt(),i=rt();return r.forEach(a=>n=n.add(a)),e.getEntries(t,n).next(a=>{let s=Za();return r.forEach((u,c)=>{const f=a.get(u);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(u)),c.isNoDocument()&&c.version.isEqual(Qe.min())?(e.removeEntry(u,c.readTime),s=s.insert(u,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),s=s.insert(u,c)):Ne("LocalStore","Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",c.version)}),{Ps:s,Is:i}})}function I5(t,e){const r=Ze(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function O5(t,e){const r=Ze(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Ur.getTargetData(n,e).next(a=>a?(i=a,me.resolve(i)):r.Ur.allocateTargetId(n).next(s=>(i=new Bo(e,s,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function sw(t,e,r){const n=Ze(t),i=n.os.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,s=>n.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!wd(s))throw s;Ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function ZP(t,e,r){const n=Ze(t);let i=Qe.min(),a=rt();return n.persistence.runTransaction("Execute query","readwrite",s=>function(c,f,h){const m=Ze(c),y=m._s.get(h);return y!==void 0?me.resolve(m.os.get(y)):m.Ur.getTargetData(f,h)}(n,s,la(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(s,u.targetId).next(c=>{a=c})}).next(()=>n.ss.getDocumentsMatchingQuery(s,e,r?i:Qe.min(),r?a:rt())).next(u=>(C5(n,_q(e),u),{documents:u,Ts:a})))}function C5(t,e,r){let n=t.us.get(e)||Qe.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),t.us.set(e,n)}class ek{constructor(){this.activeTargetIds=Aq()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class N5{constructor(){this.so=new ek,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new ek,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let np=null;function jv(){return np===null?np=function(){return 268435456+Math.round(2147483648*Math.random())}():np++,"0x"+np.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr="WebChannelConnection";class M5 extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(r,n,i,a,s){const u=jv(),c=this.xo(r,n.toUriEncodedString());Ne("RestConnection",`Sending RPC '${r}' ${u}:`,c,i);const f={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(f,a,s),this.No(r,c,f,i).then(h=>(Ne("RestConnection",`Received RPC '${r}' ${u}: `,h),h),h=>{throw vu("RestConnection",`RPC '${r}' ${u} failed with error: `,h,"url: ",c,"request:",i),h})}Lo(r,n,i,a,s,u){return this.Mo(r,n,i,a,s)}Oo(r,n,i){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qu}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,s)=>r[s]=a),i&&i.headers.forEach((a,s)=>r[s]=a)}xo(r,n){const i=j5[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,i){const a=jv();return new Promise((s,u)=>{const c=new TD;c.setWithCredentials(!0),c.listenOnce(AD.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Sp.NO_ERROR:const h=c.getResponseJson();Ne(Hr,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(h)),s(h);break;case Sp.TIMEOUT:Ne(Hr,`RPC '${e}' ${a} timed out`),u(new Pe(ce.DEADLINE_EXCEEDED,"Request time out"));break;case Sp.HTTP_ERROR:const m=c.getStatus();if(Ne(Hr,`RPC '${e}' ${a} failed with status:`,m,"response text:",c.getResponseText()),m>0){let y=c.getResponseJson();Array.isArray(y)&&(y=y[0]);const b=y?.error;if(b&&b.status&&b.message){const x=function(w){const O=w.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(O)>=0?O:ce.UNKNOWN}(b.status);u(new Pe(x,b.message))}else u(new Pe(ce.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new Pe(ce.UNAVAILABLE,"Connection failed."));break;default:Xe()}}finally{Ne(Hr,`RPC '${e}' ${a} completed.`)}});const f=JSON.stringify(i);Ne(Hr,`RPC '${e}' ${a} sending request:`,i),c.send(r,"POST",f,n,15)})}Bo(e,r,n){const i=jv(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=ID(),u=kD(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,r,n),c.encodeInitMessageHeaders=!0;const h=a.join("");Ne(Hr,`Creating RPC '${e}' stream ${i}: ${h}`,c);const m=s.createWebChannel(h,c);let y=!1,b=!1;const x=new D5({Io:w=>{b?Ne(Hr,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(y||(Ne(Hr,`Opening RPC '${e}' stream ${i} transport.`),m.open(),y=!0),Ne(Hr,`RPC '${e}' stream ${i} sending:`,w),m.send(w))},To:()=>m.close()}),E=(w,O,C)=>{w.listen(O,N=>{try{C(N)}catch($){setTimeout(()=>{throw $},0)}})};return E(m,ef.EventType.OPEN,()=>{b||(Ne(Hr,`RPC '${e}' stream ${i} transport opened.`),x.yo())}),E(m,ef.EventType.CLOSE,()=>{b||(b=!0,Ne(Hr,`RPC '${e}' stream ${i} transport closed`),x.So())}),E(m,ef.EventType.ERROR,w=>{b||(b=!0,vu(Hr,`RPC '${e}' stream ${i} transport errored:`,w),x.So(new Pe(ce.UNAVAILABLE,"The operation could not be completed")))}),E(m,ef.EventType.MESSAGE,w=>{var O;if(!b){const C=w.data[0];wt(!!C);const N=C,$=N.error||((O=N[0])===null||O===void 0?void 0:O.error);if($){Ne(Hr,`RPC '${e}' stream ${i} received error:`,$);const I=$.status;let j=function(R){const F=sr[R];if(F!==void 0)return eM(F)}(I),A=$.message;j===void 0&&(j=ce.INTERNAL,A="Unknown error status: "+I+" with message "+$.message),b=!0,x.So(new Pe(j,A)),m.close()}else Ne(Hr,`RPC '${e}' stream ${i} received:`,C),x.bo(C)}}),E(u,PD.STAT_EVENT,w=>{w.stat===Xx.PROXY?Ne(Hr,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===Xx.NOPROXY&&Ne(Hr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.wo()},0),x}}function Dv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(t){return new Hq(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e,r,n=1e3,i=1.5,a=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&Ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(e,r,n,i,a,s,u,c){this.ui=e,this.Ho=n,this.Jo=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new dM(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===ce.RESOURCE_EXHAUSTED?(Ja(r.toString()),Ja("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===r&&this.P_(n,i)},n=>{e(()=>{const i=new Pe(ce.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(Ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class L5 extends hM{constructor(e,r,n,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=Yq(this.serializer,e),n=function(a){if(!("targetChange"in a))return Qe.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?Qe.min():s.readTime?ua(s.readTime):Qe.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=ow(this.serializer),r.addTarget=function(a,s){let u;const c=s.target;if(u=ew(c)?{documents:Jq(a,c)}:{query:Zq(a,c)._t},u.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){u.resumeToken=nM(a,s.resumeToken);const f=nw(a,s.expectedCount);f!==null&&(u.expectedCount=f)}else if(s.snapshotVersion.compareTo(Qe.min())>0){u.readTime=Bp(a,s.snapshotVersion.toTimestamp());const f=nw(a,s.expectedCount);f!==null&&(u.expectedCount=f)}return u}(this.serializer,e);const n=t5(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=ow(this.serializer),r.removeTarget=e,this.a_(r)}}class $5 extends hM{constructor(e,r,n,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return wt(!!e.streamToken),this.lastStreamToken=e.streamToken,wt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){wt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=Qq(e.writeResults,e.commitTime),n=ua(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=ow(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>Xq(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5 extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Pe(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Mo(e,iw(r,n),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Pe(ce.UNKNOWN,a.toString())})}Lo(e,r,n,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection.Lo(e,iw(r,n),i,s,u,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Pe(ce.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class V5{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ja(r),this.D_=!1):Ne("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(s=>{n.enqueueAndForget(async()=>{ll(this)&&(Ne("RemoteStore","Restarting streams for network reachability change."),await async function(c){const f=Ze(c);f.L_.add(4),await Ad(f),f.q_.set("Unknown"),f.L_.delete(4),await ig(f)}(this))})}),this.q_=new V5(n,i)}}async function ig(t){if(ll(t))for(const e of t.B_)await e(!0)}async function Ad(t){for(const e of t.B_)await e(!1)}function pM(t,e){const r=Ze(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),dE(r)?fE(r):Zu(r).r_()&&cE(r,e))}function uE(t,e){const r=Ze(t),n=Zu(r);r.N_.delete(e),n.r_()&&mM(r,e),r.N_.size===0&&(n.r_()?n.o_():ll(r)&&r.q_.set("Unknown"))}function cE(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Qe.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Zu(t).A_(e)}function mM(t,e){t.Q_.xe(e),Zu(t).R_(e)}function fE(t){t.Q_=new Bq({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Zu(t).start(),t.q_.v_()}function dE(t){return ll(t)&&!Zu(t).n_()&&t.N_.size>0}function ll(t){return Ze(t).L_.size===0}function gM(t){t.Q_=void 0}async function B5(t){t.q_.set("Online")}async function q5(t){t.N_.forEach((e,r)=>{cE(t,e)})}async function z5(t,e){gM(t),dE(t)?(t.q_.M_(e),fE(t)):t.q_.set("Unknown")}async function W5(t,e,r){if(t.q_.set("Online"),e instanceof rM&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const u of a.targetIds)i.N_.has(u)&&(await i.remoteSyncer.rejectListen(u,s),i.N_.delete(u),i.Q_.removeTarget(u))}(t,e)}catch(n){Ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await qp(t,n)}else if(e instanceof Pp?t.Q_.Ke(e):e instanceof tM?t.Q_.He(e):t.Q_.We(e),!r.isEqual(Qe.min()))try{const n=await fM(t.localStore);r.compareTo(n)>=0&&await function(a,s){const u=a.Q_.rt(s);return u.targetChanges.forEach((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const h=a.N_.get(f);h&&a.N_.set(f,h.withResumeToken(c.resumeToken,s))}}),u.targetMismatches.forEach((c,f)=>{const h=a.N_.get(c);if(!h)return;a.N_.set(c,h.withResumeToken(Ur.EMPTY_BYTE_STRING,h.snapshotVersion)),mM(a,c);const m=new Bo(h.target,c,f,h.sequenceNumber);cE(a,m)}),a.remoteSyncer.applyRemoteEvent(u)}(t,r)}catch(n){Ne("RemoteStore","Failed to raise snapshot:",n),await qp(t,n)}}async function qp(t,e,r){if(!wd(e))throw e;t.L_.add(1),await Ad(t),t.q_.set("Offline"),r||(r=()=>fM(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ne("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await ig(t)})}function yM(t,e){return e().catch(r=>qp(t,r,e))}async function ag(t){const e=Ze(t),r=Jo(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;H5(e);)try{const i=await I5(e.localStore,n);if(i===null){e.O_.length===0&&r.o_();break}n=i.batchId,K5(e,i)}catch(i){await qp(e,i)}vM(e)&&bM(e)}function H5(t){return ll(t)&&t.O_.length<10}function K5(t,e){t.O_.push(e);const r=Jo(t);r.r_()&&r.V_&&r.m_(e.mutations)}function vM(t){return ll(t)&&!Jo(t).n_()&&t.O_.length>0}function bM(t){Jo(t).start()}async function G5(t){Jo(t).p_()}async function Y5(t){const e=Jo(t);for(const r of t.O_)e.m_(r.mutations)}async function X5(t,e,r){const n=t.O_.shift(),i=nE.from(n,e,r);await yM(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ag(t)}async function Q5(t,e){e&&Jo(t).V_&&await async function(n,i){if(function(s){return Fq(s)&&s!==ce.ABORTED}(i.code)){const a=n.O_.shift();Jo(n).s_(),await yM(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await ag(n)}}(t,e),vM(t)&&bM(t)}async function rk(t,e){const r=Ze(t);r.asyncQueue.verifyOperationInProgress(),Ne("RemoteStore","RemoteStore received new credentials");const n=ll(r);r.L_.add(3),await Ad(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await ig(r)}async function J5(t,e){const r=Ze(t);e?(r.L_.delete(2),await ig(r)):e||(r.L_.add(2),await Ad(r),r.q_.set("Unknown"))}function Zu(t){return t.K_||(t.K_=function(r,n,i){const a=Ze(r);return a.w_(),new L5(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:B5.bind(null,t),Ro:q5.bind(null,t),mo:z5.bind(null,t),d_:W5.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),dE(t)?fE(t):t.q_.set("Unknown")):(await t.K_.stop(),gM(t))})),t.K_}function Jo(t){return t.U_||(t.U_=function(r,n,i){const a=Ze(r);return a.w_(),new $5(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:G5.bind(null,t),mo:Q5.bind(null,t),f_:Y5.bind(null,t),g_:X5.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await ag(t)):(await t.U_.stop(),t.O_.length>0&&(Ne("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new Ho,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const s=Date.now()+n,u=new hE(e,r,s,i,a);return u.start(n),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Pe(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pE(t,e){if(Ja("AsyncQueue",`${e}: ${t}`),wd(t))return new Pe(ce.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e){this.comparator=e?(r,n)=>e(r,n)||Fe.comparator(r.key,n.key):(r,n)=>Fe.comparator(r.key,n.key),this.keyedMap=tf(),this.sortedSet=new Gt(this.comparator)}static emptySet(e){return new hu(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof hu)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new hu;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(){this.W_=new Gt(Fe.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):Xe():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class Eu{constructor(e,r,n,i,a,s,u,c,f){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,r,n,i,a){const s=[];return r.forEach(u=>{s.push({type:0,doc:u})}),new Eu(e,r,hu.emptySet(r),s,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class e9{constructor(){this.queries=ik(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=Ze(r),a=i.queries;i.queries=ik(),a.forEach((s,u)=>{for(const c of u.j_)c.onError(n)})})(this,new Pe(ce.ABORTED,"Firestore shutting down"))}}function ik(){return new Ju(t=>BD(t),Qm)}async function _M(t,e){const r=Ze(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.H_()&&e.J_()&&(n=2):(a=new Z5,n=e.J_()?0:1);try{switch(n){case 0:a.z_=await r.onListen(i,!0);break;case 1:a.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(s){const u=pE(s,`Initialization of query '${tu(e.query)}' failed`);return void e.onError(u)}r.queries.set(i,a),a.j_.push(e),e.Z_(r.onlineState),a.z_&&e.X_(a.z_)&&mE(r)}async function xM(t,e){const r=Ze(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const s=a.j_.indexOf(e);s>=0&&(a.j_.splice(s,1),a.j_.length===0?i=e.J_()?0:1:!a.H_()&&e.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function t9(t,e){const r=Ze(t);let n=!1;for(const i of e){const a=i.query,s=r.queries.get(a);if(s){for(const u of s.j_)u.X_(i)&&(n=!0);s.z_=i}}n&&mE(r)}function r9(t,e,r){const n=Ze(t),i=n.queries.get(e);if(i)for(const a of i.j_)a.onError(r);n.queries.delete(e)}function mE(t){t.Y_.forEach(e=>{e.next()})}var lw,ak;(ak=lw||(lw={})).ea="default",ak.Cache="cache";class wM{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Eu(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=Eu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==lw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e){this.key=e}}class SM{constructor(e){this.key=e}}class n9{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=rt(),this.mutatedKeys=rt(),this.Aa=qD(e),this.Ra=new hu(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new nk,i=r?r.Ra:this.Ra;let a=r?r.mutatedKeys:this.mutatedKeys,s=i,u=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,m)=>{const y=i.get(h),b=Jm(this.query,m)?m:null,x=!!y&&this.mutatedKeys.has(y.key),E=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let w=!1;y&&b?y.data.isEqual(b.data)?x!==E&&(n.track({type:3,doc:b}),w=!0):this.ga(y,b)||(n.track({type:2,doc:b}),w=!0,(c&&this.Aa(b,c)>0||f&&this.Aa(b,f)<0)&&(u=!0)):!y&&b?(n.track({type:0,doc:b}),w=!0):y&&!b&&(n.track({type:1,doc:y}),w=!0,(c||f)&&(u=!0)),w&&(b?(s=s.add(b),a=E?a.add(h):a.delete(h)):(s=s.delete(h),a=a.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),a=a.delete(h.key),n.track({type:1,doc:h})}return{Ra:s,fa:n,ns:u,mutatedKeys:a}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((h,m)=>function(b,x){const E=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xe()}};return E(b)-E(x)}(h.type,m.type)||this.Aa(h.doc,m.doc)),this.pa(n),i=i!=null&&i;const u=r&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,f=c!==this.Ea;return this.Ea=c,s.length!==0||f?{snapshot:new Eu(this.query,e.Ra,a,s,e.mutatedKeys,c===0,f,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:u}:{wa:u}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new nk,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=rt(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new SM(n))}),this.da.forEach(n=>{e.has(n)||r.push(new EM(n))}),r}ba(e){this.Ta=e.Ts,this.da=rt();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return Eu.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class i9{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class a9{constructor(e){this.key=e,this.va=!1}}class o9{constructor(e,r,n,i,a,s){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Ju(u=>BD(u),Qm),this.Ma=new Map,this.xa=new Set,this.Oa=new Gt(Fe.comparator),this.Na=new Map,this.La=new oE,this.Ba={},this.ka=new Map,this.qa=wu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function s9(t,e,r=!0){const n=OM(t);let i;const a=n.Fa.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await TM(n,e,r,!0),i}async function l9(t,e){const r=OM(t);await TM(r,e,!0,!1)}async function TM(t,e,r,n){const i=await O5(t.localStore,la(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,r);let u;return n&&(u=await u9(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&r&&pM(t.remoteStore,i),u}async function u9(t,e,r,n,i){t.Ka=(m,y,b)=>async function(E,w,O,C){let N=w.view.ma(O);N.ns&&(N=await ZP(E.localStore,w.query,!1).then(({documents:A})=>w.view.ma(A,N)));const $=C&&C.targetChanges.get(w.targetId),I=C&&C.targetMismatches.get(w.targetId)!=null,j=w.view.applyChanges(N,E.isPrimaryClient,$,I);return sk(E,w.targetId,j.wa),j.snapshot}(t,m,y,b);const a=await ZP(t.localStore,e,!0),s=new n9(e,a.Ts),u=s.ma(a.documents),c=Td.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),f=s.applyChanges(u,t.isPrimaryClient,c);sk(t,r,f.wa);const h=new i9(e,r,s);return t.Fa.set(e,h),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),f.snapshot}async function c9(t,e,r){const n=Ze(t),i=n.Fa.get(e),a=n.Ma.get(i.targetId);if(a.length>1)return n.Ma.set(i.targetId,a.filter(s=>!Qm(s,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await sw(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&uE(n.remoteStore,i.targetId),uw(n,i.targetId)}).catch(xd)):(uw(n,i.targetId),await sw(n.localStore,i.targetId,!0))}async function f9(t,e){const r=Ze(t),n=r.Fa.get(e),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),uE(r.remoteStore,n.targetId))}async function d9(t,e,r){const n=b9(t);try{const i=await function(s,u){const c=Ze(s),f=_r.now(),h=u.reduce((b,x)=>b.add(x.key),rt());let m,y;return c.persistence.runTransaction("Locally write mutations","readwrite",b=>{let x=Za(),E=rt();return c.cs.getEntries(b,h).next(w=>{x=w,x.forEach((O,C)=>{C.isValidDocument()||(E=E.add(O))})}).next(()=>c.localDocuments.getOverlayedDocuments(b,x)).next(w=>{m=w;const O=[];for(const C of u){const N=jq(C,m.get(C.key).overlayedDocument);N!=null&&O.push(new rs(C.key,N,jD(N.value.mapValue),un.exists(!0)))}return c.mutationQueue.addMutationBatch(b,f,O,u)}).next(w=>{y=w;const O=w.applyToLocalDocumentSet(m,E);return c.documentOverlayCache.saveOverlays(b,w.batchId,O)})}).then(()=>({batchId:y.batchId,changes:WD(m)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(s,u,c){let f=s.Ba[s.currentUser.toKey()];f||(f=new Gt(ft)),f=f.insert(u,c),s.Ba[s.currentUser.toKey()]=f}(n,i.batchId,r),await Pd(n,i.changes),await ag(n.remoteStore)}catch(i){const a=pE(i,"Failed to persist write");r.reject(a)}}async function AM(t,e){const r=Ze(t);try{const n=await P5(r.localStore,e);e.targetChanges.forEach((i,a)=>{const s=r.Na.get(a);s&&(wt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?wt(s.va):i.removedDocuments.size>0&&(wt(s.va),s.va=!1))}),await Pd(r,n,e)}catch(n){await xd(n)}}function ok(t,e,r){const n=Ze(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach((a,s)=>{const u=s.view.Z_(e);u.snapshot&&i.push(u.snapshot)}),function(s,u){const c=Ze(s);c.onlineState=u;let f=!1;c.queries.forEach((h,m)=>{for(const y of m.j_)y.Z_(u)&&(f=!0)}),f&&mE(c)}(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function h9(t,e,r){const n=Ze(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Na.get(e),a=i&&i.key;if(a){let s=new Gt(Fe.comparator);s=s.insert(a,Yr.newNoDocument(a,Qe.min()));const u=rt().add(a),c=new rg(Qe.min(),new Map,new Gt(ft),s,u);await AM(n,c),n.Oa=n.Oa.remove(a),n.Na.delete(e),gE(n)}else await sw(n.localStore,e,!1).then(()=>uw(n,e,r)).catch(xd)}async function p9(t,e){const r=Ze(t),n=e.batch.batchId;try{const i=await A5(r.localStore,e);kM(r,n,null),PM(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Pd(r,i)}catch(i){await xd(i)}}async function m9(t,e,r){const n=Ze(t);try{const i=await function(s,u){const c=Ze(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let h;return c.mutationQueue.lookupMutationBatch(f,u).next(m=>(wt(m!==null),h=m.keys(),c.mutationQueue.removeMutationBatch(f,m))).next(()=>c.mutationQueue.performConsistencyCheck(f)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(f,h,u)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,h)).next(()=>c.localDocuments.getDocuments(f,h))})}(n.localStore,e);kM(n,e,r),PM(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Pd(n,i)}catch(i){await xd(i)}}function PM(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function kM(t,e,r){const n=Ze(t);let i=n.Ba[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function uw(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||IM(t,n)})}function IM(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(uE(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),gE(t))}function sk(t,e,r){for(const n of r)n instanceof EM?(t.La.addReference(n.key,e),g9(t,n)):n instanceof SM?(Ne("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||IM(t,n.key)):Xe()}function g9(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(Ne("SyncEngine","New document in limbo: "+r),t.xa.add(n),gE(t))}function gE(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new Fe(Dt.fromString(e)),n=t.qa.next();t.Na.set(n,new a9(r)),t.Oa=t.Oa.insert(r,n),pM(t.remoteStore,new Bo(la(tE(r.path)),n,"TargetPurposeLimboResolution",Y1.oe))}}async function Pd(t,e,r){const n=Ze(t),i=[],a=[],s=[];n.Fa.isEmpty()||(n.Fa.forEach((u,c)=>{s.push(n.Ka(c,e,r).then(f=>{var h;if((f||r)&&n.isPrimaryClient){const m=f?!f.fromCache:(h=r?.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;n.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(f){i.push(f);const m=lE.Wi(c.targetId,f);a.push(m)}}))}),await Promise.all(s),n.Ca.d_(i),await async function(c,f){const h=Ze(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>me.forEach(f,y=>me.forEach(y.$i,b=>h.persistence.referenceDelegate.addReference(m,y.targetId,b)).next(()=>me.forEach(y.Ui,b=>h.persistence.referenceDelegate.removeReference(m,y.targetId,b)))))}catch(m){if(!wd(m))throw m;Ne("LocalStore","Failed to update sequence numbers: "+m)}for(const m of f){const y=m.targetId;if(!m.fromCache){const b=h.os.get(y),x=b.snapshotVersion,E=b.withLastLimboFreeSnapshotVersion(x);h.os=h.os.insert(y,E)}}}(n.localStore,a))}async function y9(t,e){const r=Ze(t);if(!r.currentUser.isEqual(e)){Ne("SyncEngine","User change. New user:",e.toKey());const n=await cM(r.localStore,e);r.currentUser=e,function(a,s){a.ka.forEach(u=>{u.forEach(c=>{c.reject(new Pe(ce.CANCELLED,s))})}),a.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Pd(r,n.hs)}}function v9(t,e){const r=Ze(t),n=r.Na.get(e);if(n&&n.va)return rt().add(n.key);{let i=rt();const a=r.Ma.get(e);if(!a)return i;for(const s of a){const u=r.Fa.get(s);i=i.unionWith(u.view.Va)}return i}}function OM(t){const e=Ze(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=AM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=v9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=h9.bind(null,e),e.Ca.d_=t9.bind(null,e.eventManager),e.Ca.$a=r9.bind(null,e.eventManager),e}function b9(t){const e=Ze(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=p9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=m9.bind(null,e),e}class zp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ng(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return T5(this.persistence,new E5,e.initialUser,this.serializer)}Ga(e){return new _5(sE.Zr,this.serializer)}Wa(e){return new N5}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zp.provider={build:()=>new zp};class cw{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>ok(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=y9.bind(null,this.syncEngine),await J5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new e9}()}createDatastore(e){const r=ng(e.databaseInfo.databaseId),n=function(a){return new M5(a)}(e.databaseInfo);return function(a,s,u,c){return new F5(a,s,u,c)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,a,s,u){return new U5(n,i,a,s,u)}(this.localStore,this.datastore,e.asyncQueue,r=>ok(this.syncEngine,r,0),function(){return tk.D()?new tk:new R5}())}createSyncEngine(e,r){return function(i,a,s,u,c,f,h){const m=new o9(i,a,s,u,c,f);return h&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const a=Ze(i);Ne("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await Ad(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}cw.provider={build:()=>new cw};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ja("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=Gr.UNAUTHENTICATED,this.clientId=CD.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async s=>{Ne("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(Ne("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ho;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=pE(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Mv(t,e){t.asyncQueue.verifyOperationInProgress(),Ne("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await cM(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function lk(t,e){t.asyncQueue.verifyOperationInProgress();const r=await x9(t);Ne("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>rk(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>rk(e.remoteStore,i)),t._onlineComponents=e}async function x9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ne("FirestoreClient","Using user provided OfflineComponentProvider");try{await Mv(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===ce.FAILED_PRECONDITION||i.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;vu("Error using user provided cache. Falling back to memory cache: "+r),await Mv(t,new zp)}}else Ne("FirestoreClient","Using default OfflineComponentProvider"),await Mv(t,new zp);return t._offlineComponents}async function NM(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ne("FirestoreClient","Using user provided OnlineComponentProvider"),await lk(t,t._uninitializedComponentsProvider._online)):(Ne("FirestoreClient","Using default OnlineComponentProvider"),await lk(t,new cw))),t._onlineComponents}function w9(t){return NM(t).then(e=>e.syncEngine)}async function fw(t){const e=await NM(t),r=e.eventManager;return r.onListen=s9.bind(null,e.syncEngine),r.onUnlisten=c9.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=l9.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=f9.bind(null,e.syncEngine),r}function E9(t,e,r={}){const n=new Ho;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,u,c,f){const h=new CM({next:y=>{h.Za(),s.enqueueAndForget(()=>xM(a,m)),y.fromCache&&c.source==="server"?f.reject(new Pe(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(y)},error:y=>f.reject(y)}),m=new wM(u,h,{includeMetadataChanges:!0,_a:!0});return _M(a,m)}(await fw(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RM(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(t,e,r){if(!r)throw new Pe(ce.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function S9(t,e,r,n){if(e===!0&&n===!0)throw new Pe(ce.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function ck(t){if(!Fe.isDocumentKey(t))throw new Pe(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function fk(t){if(Fe.isDocumentKey(t))throw new Pe(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function og(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Xe()}function Wn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Pe(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=og(t);throw new Pe(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Pe(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Pe(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}S9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RM((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Pe(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Pe(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Pe(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sg{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dk({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Pe(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Pe(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dk(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new BB;switch(n.type){case"firstParty":return new HB(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Pe(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=uk.get(r);n&&(Ne("ComponentProvider","Removing Datastore"),uk.delete(r),n.terminate())}(this),Promise.resolve()}}function T9(t,e,r,n={}){var i;const a=(t=Wn(t,sg))._getSettings(),s=`${e}:${r}`;if(a.host!=="firestore.googleapis.com"&&a.host!==s&&vu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:s,ssl:!1})),n.mockUserToken){let u,c;if(typeof n.mockUserToken=="string")u=n.mockUserToken,c=Gr.MOCK_USER;else{u=L2(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=n.mockUserToken.sub||n.mockUserToken.user_id;if(!f)throw new Pe(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Gr(f)}t._authCredentials=new qB(new OD(u,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new ul(this.firestore,e,this._query)}}class cn{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ko(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}}class Ko extends ul{constructor(e,r,n){super(e,r,tE(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new Fe(e))}withConverter(e){return new Ko(this.firestore,e,this._path)}}function mr(t,e,...r){if(t=Mt(t),jM("collection","path",e),t instanceof sg){const n=Dt.fromString(e,...r);return fk(n),new Ko(t,null,n)}{if(!(t instanceof cn||t instanceof Ko))throw new Pe(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Dt.fromString(e,...r));return fk(n),new Ko(t.firestore,null,n)}}function Ut(t,e,...r){if(t=Mt(t),arguments.length===1&&(e=CD.newId()),jM("doc","path",e),t instanceof sg){const n=Dt.fromString(e,...r);return ck(n),new cn(t,null,new Fe(n))}{if(!(t instanceof cn||t instanceof Ko))throw new Pe(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Dt.fromString(e,...r));return ck(n),new cn(t.firestore,t instanceof Ko?t.converter:null,new Fe(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new dM(this,"async_queue_retry"),this.Vu=()=>{const n=Dv();n&&Ne("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=Dv();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=Dv();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new Ho;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!wd(e))throw e;Ne("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const i=function(s){let u=s.message||"";return s.stack&&(u=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),u}(n);throw Ja("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const i=hE.createAndSchedule(this,e,r,n,a=>this.yu(a));return this.Tu.push(i),i}fu(){this.Eu&&Xe()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function pk(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class eo extends sg{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new hk,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new hk(e),this._firestoreClient=void 0,await e}}}function A9(t,e){const r=typeof t=="object"?t:$1(),n=typeof t=="string"?t:"(default)",i=Hm(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=j2("firestore");a&&T9(i,...a)}return i}function lg(t){if(t._terminated)throw new Pe(ce.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||P9(t),t._firestoreClient}function P9(t){var e,r,n;const i=t._freezeSettings(),a=function(u,c,f,h){return new aq(u,c,f,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,RM(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new _9(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(u){const c=u?._online.build();return{_offline:u?._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Su(Ur.fromBase64String(e))}catch(r){throw new Pe(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Su(Ur.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Pe(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Pe(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Pe(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ft(this._lat,e._lat)||ft(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k9=/^__.*__$/;class I9{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new rs(e,this.data,this.fieldMask,r,this.fieldTransforms):new Sd(e,this.data,r,this.fieldTransforms)}}class DM{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new rs(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function MM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xe()}}class bE{constructor(e,r,n,i,a,s){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new bE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Wp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(MM(this.Cu)&&k9.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class O9{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||ng(e)}Qu(e,r,n,i=!1){return new bE({Cu:e,methodName:r,qu:n,path:Fr.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Id(t){const e=t._freezeSettings(),r=ng(t._databaseId);return new O9(t._databaseId,!!e.ignoreUndefinedProperties,r)}function _E(t,e,r,n,i,a={}){const s=t.Qu(a.merge||a.mergeFields?2:0,e,r,i);wE("Data must be an object, but it was:",s,n);const u=FM(n,s);let c,f;if(a.merge)c=new qn(s.fieldMask),f=s.fieldTransforms;else if(a.mergeFields){const h=[];for(const m of a.mergeFields){const y=dw(e,m,r);if(!s.contains(y))throw new Pe(ce.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);UM(h,y)||h.push(y)}c=new qn(h),f=s.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,f=s.fieldTransforms;return new I9(new wn(u),c,f)}class cg extends ug{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof cg}}class xE extends ug{_toFieldTransform(e){return new Oq(e.path,new Of)}isEqual(e){return e instanceof xE}}function LM(t,e,r,n){const i=t.Qu(1,e,r);wE("Data must be an object, but it was:",i,n);const a=[],s=wn.empty();sl(n,(c,f)=>{const h=EE(e,c,r);f=Mt(f);const m=i.Nu(h);if(f instanceof cg)a.push(h);else{const y=Od(f,m);y!=null&&(a.push(h),s.set(h,y))}});const u=new qn(a);return new DM(s,u,i.fieldTransforms)}function $M(t,e,r,n,i,a){const s=t.Qu(1,e,r),u=[dw(e,n,r)],c=[i];if(a.length%2!=0)throw new Pe(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<a.length;y+=2)u.push(dw(e,a[y])),c.push(a[y+1]);const f=[],h=wn.empty();for(let y=u.length-1;y>=0;--y)if(!UM(f,u[y])){const b=u[y];let x=c[y];x=Mt(x);const E=s.Nu(b);if(x instanceof cg)f.push(b);else{const w=Od(x,E);w!=null&&(f.push(b),h.set(b,w))}}const m=new qn(f);return new DM(h,m,s.fieldTransforms)}function C9(t,e,r,n=!1){return Od(r,t.Qu(n?4:3,e))}function Od(t,e){if(VM(t=Mt(t)))return wE("Unsupported field value:",e,t),FM(t,e);if(t instanceof ug)return function(n,i){if(!MM(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,i){const a=[];let s=0;for(const u of n){let c=Od(u,i.Lu(s));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),s++}return{arrayValue:{values:a}}}(t,e)}return function(n,i){if((n=Mt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Pq(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=_r.fromDate(n);return{timestampValue:Bp(i.serializer,a)}}if(n instanceof _r){const a=new _r(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Bp(i.serializer,a)}}if(n instanceof yE)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Su)return{bytesValue:nM(i.serializer,n._byteString)};if(n instanceof cn){const a=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(a))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:aE(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof vE)return function(s,u){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw u.Bu("VectorValues must only contain numeric values.");return rE(u.serializer,c)})}}}}}}(n,i);throw i.Bu(`Unsupported field value: ${og(n)}`)}(t,e)}function FM(t,e){const r={};return ND(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):sl(t,(n,i)=>{const a=Od(i,e.Mu(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function VM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof _r||t instanceof yE||t instanceof Su||t instanceof cn||t instanceof ug||t instanceof vE)}function wE(t,e,r){if(!VM(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=og(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function dw(t,e,r){if((e=Mt(e))instanceof kd)return e._internalPath;if(typeof e=="string")return EE(t,e);throw Wp("Field path arguments must be of type string or ",t,!1,void 0,r)}const N9=new RegExp("[~\\*/\\[\\]]");function EE(t,e,r){if(e.search(N9)>=0)throw Wp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new kd(...e.split("."))._internalPath}catch{throw Wp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Wp(t,e,r,n,i){const a=n&&!n.isEmpty(),s=i!==void 0;let u=`Function ${e}() called with invalid data`;r&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(a||s)&&(c+=" (found",a&&(c+=` in field ${n}`),s&&(c+=` in document ${i}`),c+=")"),new Pe(ce.INVALID_ARGUMENT,u+t+c)}function UM(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new R9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(qM("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class R9 extends BM{data(){return super.data()}}function qM(t,e){return typeof e=="string"?EE(t,e):e instanceof kd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Pe(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class SE{}class j9 extends SE{}function D9(t,e,...r){let n=[];e instanceof SE&&n.push(e),n=n.concat(r),function(a){const s=a.filter(c=>c instanceof AE).length,u=a.filter(c=>c instanceof TE).length;if(s>1||s>0&&u>0)throw new Pe(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class TE extends j9{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new TE(e,r,n)}_apply(e){const r=this._parse(e);return WM(e._query,r),new ul(e.firestore,e.converter,tw(e._query,r))}_parse(e){const r=Id(e.firestore);return function(a,s,u,c,f,h,m){let y;if(f.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Pe(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){gk(m,h);const b=[];for(const x of m)b.push(mk(c,a,x));y={arrayValue:{values:b}}}else y=mk(c,a,m)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||gk(m,h),y=C9(u,s,m,h==="in"||h==="not-in");return ur.create(f,h,y)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}class AE extends SE{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new AE(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Fi.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,a){let s=i;const u=a.getFlattenedFilters();for(const c of u)WM(s,c),s=tw(s,c)}(e._query,r),new ul(e.firestore,e.converter,tw(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function mk(t,e,r){if(typeof(r=Mt(r))=="string"){if(r==="")throw new Pe(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!UD(e)&&r.indexOf("/")!==-1)throw new Pe(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Dt.fromString(r));if(!Fe.isDocumentKey(n))throw new Pe(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return MP(t,new Fe(n))}if(r instanceof cn)return MP(t,r._key);throw new Pe(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${og(r)}.`)}function gk(t,e){if(!Array.isArray(t)||t.length===0)throw new Pe(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function WM(t,e){const r=function(i,a){for(const s of i)for(const u of s.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new Pe(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Pe(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class M9{convertValue(e,r="none"){switch(Qs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Xs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Xe()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return sl(e,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(e){var r,n,i;const a=(i=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(s=>nr(s.doubleValue));return new vE(a)}convertGeoPoint(e){return new yE(nr(e.latitude),nr(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=Q1(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Pf(e));default:return null}}convertTimestamp(e){const r=Qo(e);return new _r(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Dt.fromString(e);wt(uM(n));const i=new kf(n.get(1),n.get(3)),a=new Fe(n.popFirst(5));return i.isEqual(r)||Ja(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class HM extends BM{constructor(e,r,n,i,a,s){super(e,r,n,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new kp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(qM("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class kp extends HM{data(e={}){return super.data(e)}}class KM{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new nf(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new kp(this._firestore,this._userDataWriter,n.key,n,new nf(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Pe(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(u=>{const c=new kp(i._firestore,i._userDataWriter,u.doc.key,u.doc,new nf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>a||u.type!==3).map(u=>{const c=new kp(i._firestore,i._userDataWriter,u.doc.key,u.doc,new nf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,h=-1;return u.type!==0&&(f=s.indexOf(u.doc.key),s=s.delete(u.doc.key)),u.type!==1&&(s=s.add(u.doc),h=s.indexOf(u.doc.key)),{type:L9(u.type),doc:c,oldIndex:f,newIndex:h}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function L9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xe()}}class kE extends M9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Su(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,r)}}function $9(t){t=Wn(t,ul);const e=Wn(t.firestore,eo),r=lg(e),n=new kE(e);return zM(t._query),E9(r,t._query).then(i=>new KM(e,n,t,i))}function F9(t,e,r){t=Wn(t,cn);const n=Wn(t.firestore,eo),i=PE(t.converter,e,r);return Cd(n,[_E(Id(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,un.none())])}function yk(t,e,r,...n){t=Wn(t,cn);const i=Wn(t.firestore,eo),a=Id(i);let s;return s=typeof(e=Mt(e))=="string"||e instanceof kd?$M(a,"updateDoc",t._key,e,r,n):LM(a,"updateDoc",t._key,e),Cd(i,[s.toMutation(t._key,un.exists(!0))])}function V9(t){return Cd(Wn(t.firestore,eo),[new tg(t._key,un.none())])}function U9(t,e){const r=Wn(t.firestore,eo),n=Ut(t),i=PE(t.converter,e);return Cd(r,[_E(Id(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,un.exists(!1))]).then(()=>n)}function vk(t,...e){var r,n,i;t=Mt(t);let a={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||pk(e[s])||(a=e[s],s++);const u={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(pk(e[s])){const m=e[s];e[s]=(r=m.next)===null||r===void 0?void 0:r.bind(m),e[s+1]=(n=m.error)===null||n===void 0?void 0:n.bind(m),e[s+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let c,f,h;if(t instanceof cn)f=Wn(t.firestore,eo),h=tE(t._key.path),c={next:m=>{e[s]&&e[s](B9(f,t,m))},error:e[s+1],complete:e[s+2]};else{const m=Wn(t,ul);f=Wn(m.firestore,eo),h=m._query;const y=new kE(f);c={next:b=>{e[s]&&e[s](new KM(f,y,m,b))},error:e[s+1],complete:e[s+2]},zM(t._query)}return function(y,b,x,E){const w=new CM(E),O=new wM(b,w,x);return y.asyncQueue.enqueueAndForget(async()=>_M(await fw(y),O)),()=>{w.Za(),y.asyncQueue.enqueueAndForget(async()=>xM(await fw(y),O))}}(lg(f),h,u,c)}function Cd(t,e){return function(n,i){const a=new Ho;return n.asyncQueue.enqueueAndForget(async()=>d9(await w9(n),i,a)),a.promise}(lg(t),e)}function B9(t,e,r){const n=r.docs.get(e._key),i=new kE(t);return new HM(t,i,e._key,n,new nf(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Id(e)}set(e,r,n){this._verifyNotCommitted();const i=Lv(e,this._firestore),a=PE(i.converter,r,n),s=_E(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,n);return this._mutations.push(s.toMutation(i._key,un.none())),this}update(e,r,n,...i){this._verifyNotCommitted();const a=Lv(e,this._firestore);let s;return s=typeof(r=Mt(r))=="string"||r instanceof kd?$M(this._dataReader,"WriteBatch.update",a._key,r,n,i):LM(this._dataReader,"WriteBatch.update",a._key,r),this._mutations.push(s.toMutation(a._key,un.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=Lv(e,this._firestore);return this._mutations=this._mutations.concat(new tg(r._key,un.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Pe(ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Lv(t,e){if((t=Mt(t)).firestore!==e)throw new Pe(ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Pr(){return new xE("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ip(t){return lg(t=Wn(t,eo)),new q9(t,e=>Cd(t,e))}(function(e,r=!0){(function(i){Qu=i})(al),Hs(new Yo("firestore",(n,{instanceIdentifier:i,options:a})=>{const s=n.getProvider("app").getImmediate(),u=new eo(new zB(n.getProvider("auth-internal")),new GB(n.getProvider("app-check-internal")),function(f,h){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Pe(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kf(f.options.projectId,h)}(s,i),s);return a=Object.assign({useFetchStreams:r},a),u._setSettings(a),u},"PUBLIC").setMultipleInstances(!0)),aa(CP,"4.7.3",e),aa(CP,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM="firebasestorage.googleapis.com",YM="storageBucket",z9=2*60*1e3,W9=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er extends ga{constructor(e,r,n=0){super($v(e),`Firebase Storage: ${r} (${$v(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,er.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return $v(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Zt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Zt||(Zt={}));function $v(t){return"storage/"+t}function IE(){const t="An unknown error occurred, please check the error payload for server response.";return new er(Zt.UNKNOWN,t)}function H9(t){return new er(Zt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function K9(t){return new er(Zt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function G9(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new er(Zt.UNAUTHENTICATED,t)}function Y9(){return new er(Zt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function X9(t){return new er(Zt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Q9(){return new er(Zt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function J9(){return new er(Zt.CANCELED,"User canceled the upload/download.")}function Z9(t){return new er(Zt.INVALID_URL,"Invalid URL '"+t+"'.")}function ez(t){return new er(Zt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function tz(){return new er(Zt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+YM+"' property when initializing the app?")}function rz(){return new er(Zt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function nz(){return new er(Zt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function iz(t){return new er(Zt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function hw(t){return new er(Zt.INVALID_ARGUMENT,t)}function XM(){return new er(Zt.APP_DELETED,"The Firebase app was deleted.")}function az(t){return new er(Zt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function pf(t,e){return new er(Zt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Bc(t){throw new er(Zt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=zn.makeFromUrl(e,r)}catch{return new zn(e,"")}if(n.path==="")return n;throw ez(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function a($){$.path.charAt($.path.length-1)==="/"&&($.path_=$.path_.slice(0,-1))}const s="(/(.*))?$",u=new RegExp("^gs://"+i+s,"i"),c={bucket:1,path:3};function f($){$.path_=decodeURIComponent($.path)}const h="v[A-Za-z0-9_]+",m=r.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",b=new RegExp(`^https?://${m}/${h}/b/${i}/o${y}`,"i"),x={bucket:1,path:3},E=r===GM?"(?:storage.googleapis.com|storage.cloud.google.com)":r,w="([^?#]*)",O=new RegExp(`^https?://${E}/${i}/${w}`,"i"),N=[{regex:u,indices:c,postModify:a},{regex:b,indices:x,postModify:f},{regex:O,indices:{bucket:1,path:2},postModify:f}];for(let $=0;$<N.length;$++){const I=N[$],j=I.regex.exec(e);if(j){const A=j[I.indices.bucket];let P=j[I.indices.path];P||(P=""),n=new zn(A,P),I.postModify(n);break}}if(n==null)throw Z9(e);return n}}class oz{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sz(t,e,r){let n=1,i=null,a=null,s=!1,u=0;function c(){return u===2}let f=!1;function h(...w){f||(f=!0,e.apply(null,w))}function m(w){i=setTimeout(()=>{i=null,t(b,c())},w)}function y(){a&&clearTimeout(a)}function b(w,...O){if(f){y();return}if(w){y(),h.call(null,w,...O);return}if(c()||s){y(),h.call(null,w,...O);return}n<64&&(n*=2);let N;u===1?(u=2,N=0):N=(n+Math.random())*1e3,m(N)}let x=!1;function E(w){x||(x=!0,y(),!f&&(i!==null?(w||(u=2),clearTimeout(i),m(0)):w||(u=1)))}return m(0),a=setTimeout(()=>{s=!0,E(!0)},r),E}function lz(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uz(t){return t!==void 0}function cz(t){return typeof t=="object"&&!Array.isArray(t)}function OE(t){return typeof t=="string"||t instanceof String}function bk(t){return CE()&&t instanceof Blob}function CE(){return typeof Blob<"u"}function _k(t,e,r,n){if(n<e)throw hw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw hw(`Invalid value for '${t}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(t,e,r){let n=e;return r==null&&(n=`https://${e}`),`${r}://${n}/v0${t}`}function QM(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var Bs;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Bs||(Bs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fz(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return r||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dz{constructor(e,r,n,i,a,s,u,c,f,h,m,y=!0){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=u,this.errorCallback_=c,this.timeout_=f,this.progressCallback_=h,this.connectionFactory_=m,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,x)=>{this.resolve_=b,this.reject_=x,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new ap(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const s=u=>{const c=u.loaded,f=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,f)};this.progressCallback_!==null&&a.addUploadProgressListener(s),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(s),this.pendingConnection_=null;const u=a.getErrorCode()===Bs.NO_ERROR,c=a.getStatus();if(!u||fz(c,this.additionalRetryCodes_)&&this.retry){const h=a.getErrorCode()===Bs.ABORT;n(!1,new ap(!1,null,h));return}const f=this.successCodes_.indexOf(c)!==-1;n(!0,new ap(f,a))})},r=(n,i)=>{const a=this.resolve_,s=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(u,u.getResponse());uz(c)?a(c):a()}catch(c){s(c)}else if(u!==null){const c=IE();c.serverResponse=u.getErrorText(),this.errorCallback_?s(this.errorCallback_(u,c)):s(c)}else if(i.canceled){const c=this.appDelete_?XM():J9();s(c)}else{const c=Q9();s(c)}};this.canceled_?r(!1,new ap(!1,null,!0)):this.backoffId_=sz(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&lz(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ap{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function hz(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function pz(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function mz(t,e){e&&(t["X-Firebase-GMPID"]=e)}function gz(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function yz(t,e,r,n,i,a,s=!0){const u=QM(t.urlParams),c=t.url+u,f=Object.assign({},t.headers);return mz(f,e),hz(f,r),pz(f,a),gz(f,n),new dz(c,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vz(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function bz(...t){const e=vz();if(e!==void 0){const r=new e;for(let n=0;n<t.length;n++)r.append(t[n]);return r.getBlob()}else{if(CE())return new Blob(t);throw new er(Zt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function _z(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.mozSlice?t.mozSlice(e,r):t.slice?t.slice(e,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xz(t){if(typeof atob>"u")throw iz("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Fv{constructor(e,r){this.data=e,this.contentType=r||null}}function wz(t,e){switch(t){case na.RAW:return new Fv(JM(e));case na.BASE64:case na.BASE64URL:return new Fv(ZM(t,e));case na.DATA_URL:return new Fv(Sz(e),Tz(e))}throw IE()}function JM(t){const e=[];for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(r<t.length-1&&(t.charCodeAt(r+1)&64512)===56320))e.push(239,191,189);else{const a=n,s=t.charCodeAt(++r);n=65536|(a&1023)<<10|s&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function Ez(t){let e;try{e=decodeURIComponent(t)}catch{throw pf(na.DATA_URL,"Malformed data URL.")}return JM(e)}function ZM(t,e){switch(t){case na.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw pf(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case na.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw pf(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=xz(e)}catch(i){throw i.message.includes("polyfill")?i:pf(t,"Invalid character found")}const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}class eL{constructor(e){this.base64=!1,this.contentType=null;const r=e.match(/^data:([^,]+)?,/);if(r===null)throw pf(na.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=r[1]||null;n!=null&&(this.base64=Az(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function Sz(t){const e=new eL(t);return e.base64?ZM(na.BASE64,e.rest):Ez(e.rest)}function Tz(t){return new eL(t).contentType}function Az(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,r){let n=0,i="";bk(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,r){if(bk(this.data_)){const n=this.data_,i=_z(n,e,r);return i===null?null:new Vo(i)}else{const n=new Uint8Array(this.data_.buffer,e,r-e);return new Vo(n,!0)}}static getBlob(...e){if(CE()){const r=e.map(n=>n instanceof Vo?n.data_:n);return new Vo(bz.apply(null,r))}else{const r=e.map(s=>OE(s)?wz(na.RAW,s).data:s.data_);let n=0;r.forEach(s=>{n+=s.byteLength});const i=new Uint8Array(n);let a=0;return r.forEach(s=>{for(let u=0;u<s.length;u++)i[a++]=s[u]}),new Vo(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tL(t){let e;try{e=JSON.parse(t)}catch{return null}return cz(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pz(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function kz(t,e){const r=e.split("/").filter(n=>n.length>0).join("/");return t.length===0?r:t+"/"+r}function rL(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iz(t,e){return e}class an{constructor(e,r,n,i){this.server=e,this.local=r||e,this.writable=!!n,this.xform=i||Iz}}let op=null;function Oz(t){return!OE(t)||t.length<2?t:rL(t)}function nL(){if(op)return op;const t=[];t.push(new an("bucket")),t.push(new an("generation")),t.push(new an("metageneration")),t.push(new an("name","fullPath",!0));function e(a,s){return Oz(s)}const r=new an("name");r.xform=e,t.push(r);function n(a,s){return s!==void 0?Number(s):s}const i=new an("size");return i.xform=n,t.push(i),t.push(new an("timeCreated")),t.push(new an("updated")),t.push(new an("md5Hash",null,!0)),t.push(new an("cacheControl",null,!0)),t.push(new an("contentDisposition",null,!0)),t.push(new an("contentEncoding",null,!0)),t.push(new an("contentLanguage",null,!0)),t.push(new an("contentType",null,!0)),t.push(new an("metadata","customMetadata",!0)),op=t,op}function Cz(t,e){function r(){const n=t.bucket,i=t.fullPath,a=new zn(n,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:r})}function Nz(t,e,r){const n={};n.type="file";const i=r.length;for(let a=0;a<i;a++){const s=r[a];n[s.local]=s.xform(n,e[s.server])}return Cz(n,t),n}function iL(t,e,r){const n=tL(e);return n===null?null:Nz(t,n,r)}function Rz(t,e,r,n){const i=tL(e);if(i===null||!OE(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const s=encodeURIComponent;return a.split(",").map(f=>{const h=t.bucket,m=t.fullPath,y="/b/"+s(h)+"/o/"+s(m),b=NE(y,r,n),x=QM({alt:"media",token:f});return b+x})[0]}function jz(t,e){const r={},n=e.length;for(let i=0;i<n;i++){const a=e[i];a.writable&&(r[a.server]=t[a.local])}return JSON.stringify(r)}class aL{constructor(e,r,n,i){this.url=e,this.method=r,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oL(t){if(!t)throw IE()}function Dz(t,e){function r(n,i){const a=iL(t,i,e);return oL(a!==null),a}return r}function Mz(t,e){function r(n,i){const a=iL(t,i,e);return oL(a!==null),Rz(a,i,t.host,t._protocol)}return r}function sL(t){function e(r,n){let i;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?i=Y9():i=G9():r.getStatus()===402?i=K9(t.bucket):r.getStatus()===403?i=X9(t.path):i=n,i.status=r.getStatus(),i.serverResponse=n.serverResponse,i}return e}function Lz(t){const e=sL(t);function r(n,i){let a=e(n,i);return n.getStatus()===404&&(a=H9(t.path)),a.serverResponse=i.serverResponse,a}return r}function $z(t,e,r){const n=e.fullServerUrl(),i=NE(n,t.host,t._protocol),a="GET",s=t.maxOperationRetryTime,u=new aL(i,a,Mz(t,r),s);return u.errorHandler=Lz(e),u}function Fz(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Vz(t,e,r){const n=Object.assign({},r);return n.fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=Fz(null,e)),n}function Uz(t,e,r,n,i){const a=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function u(){let N="";for(let $=0;$<2;$++)N=N+Math.random().toString().slice(2);return N}const c=u();s["Content-Type"]="multipart/related; boundary="+c;const f=Vz(e,n,i),h=jz(f,r),m="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+c+`\r
Content-Type: `+f.contentType+`\r
\r
`,y=`\r
--`+c+"--",b=Vo.getBlob(m,n,y);if(b===null)throw rz();const x={name:f.fullPath},E=NE(a,t.host,t._protocol),w="POST",O=t.maxUploadRetryTime,C=new aL(E,w,Dz(t,r),O);return C.urlParams=x,C.headers=s,C.body=b.uploadData(),C.errorHandler=sL(e),C}class Bz{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Bs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Bs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Bs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,n,i){if(this.sent_)throw Bc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,e,!0),i!==void 0)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return n!==void 0?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Bc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Bc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Bc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Bc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class qz extends Bz{initXhr(){this.xhr_.responseType="text"}}function lL(){return new qz}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,r){this._service=e,r instanceof zn?this._location=r:this._location=zn.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new Js(e,r)}get root(){const e=new zn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return rL(this._location.path)}get storage(){return this._service}get parent(){const e=Pz(this._location.path);if(e===null)return null;const r=new zn(this._location.bucket,e);return new Js(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw az(e)}}function zz(t,e,r){t._throwIfRoot("uploadBytes");const n=Uz(t.storage,t._location,nL(),new Vo(e,!0),r);return t.storage.makeRequestWithTokens(n,lL).then(i=>({metadata:i,ref:t}))}function Wz(t){t._throwIfRoot("getDownloadURL");const e=$z(t.storage,t._location,nL());return t.storage.makeRequestWithTokens(e,lL).then(r=>{if(r===null)throw nz();return r})}function Hz(t,e){const r=kz(t._location.path,e),n=new zn(t._location.bucket,r);return new Js(t.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kz(t){return/^[A-Za-z]+:\/\//.test(t)}function Gz(t,e){return new Js(t,e)}function uL(t,e){if(t instanceof RE){const r=t;if(r._bucket==null)throw tz();const n=new Js(r,r._bucket);return e!=null?uL(n,e):n}else return e!==void 0?Hz(t,e):t}function Yz(t,e){if(e&&Kz(e)){if(t instanceof RE)return Gz(t,e);throw hw("To use ref(service, url), the first argument must be a Storage instance.")}else return uL(t,e)}function xk(t,e){const r=e?.[YM];return r==null?null:zn.makeFromBucketSpec(r,t)}function Xz(t,e,r,n={}){t.host=`${e}:${r}`,t._protocol="http";const{mockUserToken:i}=n;i&&(t._overrideAuthToken=typeof i=="string"?i:L2(i,t.app.options.projectId))}class RE{constructor(e,r,n,i,a){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=GM,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=z9,this._maxUploadRetryTime=W9,this._requests=new Set,i!=null?this._bucket=zn.makeFromBucketSpec(i,this._host):this._bucket=xk(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=zn.makeFromBucketSpec(this._url,e):this._bucket=xk(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){_k("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){_k("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Js(this,e)}_makeRequest(e,r,n,i,a=!0){if(this._deleted)return new oz(XM());{const s=yz(e,this._appId,n,i,r,this._firebaseVersion,a);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const wk="@firebase/storage",Ek="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL="storage";function Qz(t,e,r){return t=Mt(t),zz(t,e,r)}function Jz(t){return t=Mt(t),Wz(t)}function Zz(t,e){return t=Mt(t),Yz(t,e)}function e8(t=$1(),e){t=Mt(t);const n=Hm(t,cL).getImmediate({identifier:e}),i=j2("storage");return i&&t8(n,...i),n}function t8(t,e,r,n={}){Xz(t,e,r,n)}function r8(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new RE(r,n,i,e,al)}function n8(){Hs(new Yo(cL,r8,"PUBLIC").setMultipleInstances(!0)),aa(wk,Ek,""),aa(wk,Ek,"esm2017")}n8();function fL(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=fL(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function et(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=fL(t))&&(n&&(n+=" "),n+=e);return n}var Vv,Sk;function Sn(){if(Sk)return Vv;Sk=1;var t=Array.isArray;return Vv=t,Vv}var Uv,Tk;function dL(){if(Tk)return Uv;Tk=1;var t=typeof Qh=="object"&&Qh&&Qh.Object===Object&&Qh;return Uv=t,Uv}var Bv,Ak;function ya(){if(Ak)return Bv;Ak=1;var t=dL(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return Bv=r,Bv}var qv,Pk;function Nd(){if(Pk)return qv;Pk=1;var t=ya(),e=t.Symbol;return qv=e,qv}var zv,kk;function i8(){if(kk)return zv;kk=1;var t=Nd(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function a(s){var u=r.call(s,i),c=s[i];try{s[i]=void 0;var f=!0}catch{}var h=n.call(s);return f&&(u?s[i]=c:delete s[i]),h}return zv=a,zv}var Wv,Ik;function a8(){if(Ik)return Wv;Ik=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return Wv=r,Wv}var Hv,Ok;function io(){if(Ok)return Hv;Ok=1;var t=Nd(),e=i8(),r=a8(),n="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function s(u){return u==null?u===void 0?i:n:a&&a in Object(u)?e(u):r(u)}return Hv=s,Hv}var Kv,Ck;function ao(){if(Ck)return Kv;Ck=1;function t(e){return e!=null&&typeof e=="object"}return Kv=t,Kv}var Gv,Nk;function ec(){if(Nk)return Gv;Nk=1;var t=io(),e=ao(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return Gv=n,Gv}var Yv,Rk;function jE(){if(Rk)return Yv;Rk=1;var t=Sn(),e=ec(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){if(t(a))return!1;var u=typeof a;return u=="number"||u=="symbol"||u=="boolean"||a==null||e(a)?!0:n.test(a)||!r.test(a)||s!=null&&a in Object(s)}return Yv=i,Yv}var Xv,jk;function ns(){if(jk)return Xv;jk=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return Xv=t,Xv}var Qv,Dk;function DE(){if(Dk)return Qv;Dk=1;var t=io(),e=ns(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function s(u){if(!e(u))return!1;var c=t(u);return c==n||c==i||c==r||c==a}return Qv=s,Qv}var Jv,Mk;function o8(){if(Mk)return Jv;Mk=1;var t=ya(),e=t["__core-js_shared__"];return Jv=e,Jv}var Zv,Lk;function s8(){if(Lk)return Zv;Lk=1;var t=o8(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!e&&e in n}return Zv=r,Zv}var e0,$k;function hL(){if($k)return e0;$k=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return e0=r,e0}var t0,Fk;function l8(){if(Fk)return t0;Fk=1;var t=DE(),e=s8(),r=ns(),n=hL(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,s=Function.prototype,u=Object.prototype,c=s.toString,f=u.hasOwnProperty,h=RegExp("^"+c.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(y){if(!r(y)||e(y))return!1;var b=t(y)?h:a;return b.test(n(y))}return t0=m,t0}var r0,Vk;function u8(){if(Vk)return r0;Vk=1;function t(e,r){return e?.[r]}return r0=t,r0}var n0,Uk;function cl(){if(Uk)return n0;Uk=1;var t=l8(),e=u8();function r(n,i){var a=e(n,i);return t(a)?a:void 0}return n0=r,n0}var i0,Bk;function fg(){if(Bk)return i0;Bk=1;var t=cl(),e=t(Object,"create");return i0=e,i0}var a0,qk;function c8(){if(qk)return a0;qk=1;var t=fg();function e(){this.__data__=t?t(null):{},this.size=0}return a0=e,a0}var o0,zk;function f8(){if(zk)return o0;zk=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return o0=t,o0}var s0,Wk;function d8(){if(Wk)return s0;Wk=1;var t=fg(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(a){var s=this.__data__;if(t){var u=s[a];return u===e?void 0:u}return n.call(s,a)?s[a]:void 0}return s0=i,s0}var l0,Hk;function h8(){if(Hk)return l0;Hk=1;var t=fg(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var a=this.__data__;return t?a[i]!==void 0:r.call(a,i)}return l0=n,l0}var u0,Kk;function p8(){if(Kk)return u0;Kk=1;var t=fg(),e="__lodash_hash_undefined__";function r(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=t&&i===void 0?e:i,this}return u0=r,u0}var c0,Gk;function m8(){if(Gk)return c0;Gk=1;var t=c8(),e=f8(),r=d8(),n=h8(),i=p8();function a(s){var u=-1,c=s==null?0:s.length;for(this.clear();++u<c;){var f=s[u];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,c0=a,c0}var f0,Yk;function g8(){if(Yk)return f0;Yk=1;function t(){this.__data__=[],this.size=0}return f0=t,f0}var d0,Xk;function ME(){if(Xk)return d0;Xk=1;function t(e,r){return e===r||e!==e&&r!==r}return d0=t,d0}var h0,Qk;function dg(){if(Qk)return h0;Qk=1;var t=ME();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return h0=e,h0}var p0,Jk;function y8(){if(Jk)return p0;Jk=1;var t=dg(),e=Array.prototype,r=e.splice;function n(i){var a=this.__data__,s=t(a,i);if(s<0)return!1;var u=a.length-1;return s==u?a.pop():r.call(a,s,1),--this.size,!0}return p0=n,p0}var m0,Zk;function v8(){if(Zk)return m0;Zk=1;var t=dg();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return m0=e,m0}var g0,eI;function b8(){if(eI)return g0;eI=1;var t=dg();function e(r){return t(this.__data__,r)>-1}return g0=e,g0}var y0,tI;function _8(){if(tI)return y0;tI=1;var t=dg();function e(r,n){var i=this.__data__,a=t(i,r);return a<0?(++this.size,i.push([r,n])):i[a][1]=n,this}return y0=e,y0}var v0,rI;function hg(){if(rI)return v0;rI=1;var t=g8(),e=y8(),r=v8(),n=b8(),i=_8();function a(s){var u=-1,c=s==null?0:s.length;for(this.clear();++u<c;){var f=s[u];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,v0=a,v0}var b0,nI;function LE(){if(nI)return b0;nI=1;var t=cl(),e=ya(),r=t(e,"Map");return b0=r,b0}var _0,iI;function x8(){if(iI)return _0;iI=1;var t=m8(),e=hg(),r=LE();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return _0=n,_0}var x0,aI;function w8(){if(aI)return x0;aI=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return x0=t,x0}var w0,oI;function pg(){if(oI)return w0;oI=1;var t=w8();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return w0=e,w0}var E0,sI;function E8(){if(sI)return E0;sI=1;var t=pg();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return E0=e,E0}var S0,lI;function S8(){if(lI)return S0;lI=1;var t=pg();function e(r){return t(this,r).get(r)}return S0=e,S0}var T0,uI;function T8(){if(uI)return T0;uI=1;var t=pg();function e(r){return t(this,r).has(r)}return T0=e,T0}var A0,cI;function A8(){if(cI)return A0;cI=1;var t=pg();function e(r,n){var i=t(this,r),a=i.size;return i.set(r,n),this.size+=i.size==a?0:1,this}return A0=e,A0}var P0,fI;function $E(){if(fI)return P0;fI=1;var t=x8(),e=E8(),r=S8(),n=T8(),i=A8();function a(s){var u=-1,c=s==null?0:s.length;for(this.clear();++u<c;){var f=s[u];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,P0=a,P0}var k0,dI;function pL(){if(dI)return k0;dI=1;var t=$E(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var s=arguments,u=i?i.apply(this,s):s[0],c=a.cache;if(c.has(u))return c.get(u);var f=n.apply(this,s);return a.cache=c.set(u,f)||c,f};return a.cache=new(r.Cache||t),a}return r.Cache=t,k0=r,k0}var I0,hI;function P8(){if(hI)return I0;hI=1;var t=pL(),e=500;function r(n){var i=t(n,function(s){return a.size===e&&a.clear(),s}),a=i.cache;return i}return I0=r,I0}var O0,pI;function k8(){if(pI)return O0;pI=1;var t=P8(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(s,u,c,f){a.push(c?f.replace(r,"$1"):u||s)}),a});return O0=n,O0}var C0,mI;function FE(){if(mI)return C0;mI=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=Array(i);++n<i;)a[n]=r(e[n],n,e);return a}return C0=t,C0}var N0,gI;function I8(){if(gI)return N0;gI=1;var t=Nd(),e=FE(),r=Sn(),n=ec(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function s(u){if(typeof u=="string")return u;if(r(u))return e(u,s)+"";if(n(u))return a?a.call(u):"";var c=u+"";return c=="0"&&1/u==-1/0?"-0":c}return N0=s,N0}var R0,yI;function mL(){if(yI)return R0;yI=1;var t=I8();function e(r){return r==null?"":t(r)}return R0=e,R0}var j0,vI;function gL(){if(vI)return j0;vI=1;var t=Sn(),e=jE(),r=k8(),n=mL();function i(a,s){return t(a)?a:e(a,s)?[a]:r(n(a))}return j0=i,j0}var D0,bI;function mg(){if(bI)return D0;bI=1;var t=ec();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return D0=e,D0}var M0,_I;function VE(){if(_I)return M0;_I=1;var t=gL(),e=mg();function r(n,i){i=t(i,n);for(var a=0,s=i.length;n!=null&&a<s;)n=n[e(i[a++])];return a&&a==s?n:void 0}return M0=r,M0}var L0,xI;function yL(){if(xI)return L0;xI=1;var t=VE();function e(r,n,i){var a=r==null?void 0:t(r,n);return a===void 0?i:a}return L0=e,L0}var O8=yL();const Hn=bt(O8);var $0,wI;function C8(){if(wI)return $0;wI=1;function t(e){return e==null}return $0=t,$0}var N8=C8();const Je=bt(N8);var F0,EI;function R8(){if(EI)return F0;EI=1;var t=io(),e=Sn(),r=ao(),n="[object String]";function i(a){return typeof a=="string"||!e(a)&&r(a)&&t(a)==n}return F0=i,F0}var j8=R8();const Zs=bt(j8);var D8=DE();const Ye=bt(D8);var M8=ns();const tc=bt(M8);var V0={exports:{}},gt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SI;function L8(){if(SI)return gt;SI=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),u=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),x;x=Symbol.for("react.module.reference");function E(w){if(typeof w=="object"&&w!==null){var O=w.$$typeof;switch(O){case t:switch(w=w.type,w){case r:case i:case n:case f:case h:return w;default:switch(w=w&&w.$$typeof,w){case u:case s:case c:case y:case m:case a:return w;default:return O}}case e:return O}}}return gt.ContextConsumer=s,gt.ContextProvider=a,gt.Element=t,gt.ForwardRef=c,gt.Fragment=r,gt.Lazy=y,gt.Memo=m,gt.Portal=e,gt.Profiler=i,gt.StrictMode=n,gt.Suspense=f,gt.SuspenseList=h,gt.isAsyncMode=function(){return!1},gt.isConcurrentMode=function(){return!1},gt.isContextConsumer=function(w){return E(w)===s},gt.isContextProvider=function(w){return E(w)===a},gt.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===t},gt.isForwardRef=function(w){return E(w)===c},gt.isFragment=function(w){return E(w)===r},gt.isLazy=function(w){return E(w)===y},gt.isMemo=function(w){return E(w)===m},gt.isPortal=function(w){return E(w)===e},gt.isProfiler=function(w){return E(w)===i},gt.isStrictMode=function(w){return E(w)===n},gt.isSuspense=function(w){return E(w)===f},gt.isSuspenseList=function(w){return E(w)===h},gt.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===r||w===i||w===n||w===f||w===h||w===b||typeof w=="object"&&w!==null&&(w.$$typeof===y||w.$$typeof===m||w.$$typeof===a||w.$$typeof===s||w.$$typeof===c||w.$$typeof===x||w.getModuleId!==void 0)},gt.typeOf=E,gt}var TI;function $8(){return TI||(TI=1,V0.exports=L8()),V0.exports}var F8=$8(),U0,AI;function vL(){if(AI)return U0;AI=1;var t=io(),e=ao(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return U0=n,U0}var B0,PI;function V8(){if(PI)return B0;PI=1;var t=vL();function e(r){return t(r)&&r!=+r}return B0=e,B0}var U8=V8();const Rd=bt(U8);var B8=vL();const q8=bt(B8);var on=function(e){return e===0?0:e>0?1:-1},Ls=function(e){return Zs(e)&&e.indexOf("%")===e.length-1},ve=function(e){return q8(e)&&!Rd(e)},z8=function(e){return Je(e)},br=function(e){return ve(e)||Zs(e)},W8=0,rc=function(e){var r=++W8;return"".concat(e||"").concat(r)},sn=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ve(e)&&!Zs(e))return n;var a;if(Ls(e)){var s=e.indexOf("%");a=r*parseFloat(e.slice(0,s))/100}else a=+e;return Rd(a)&&(a=n),i&&a>r&&(a=r),a},Uo=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},H8=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Un=function(e,r){return ve(e)&&ve(r)?function(n){return e+n*(r-e)}:function(){return r}};function Hp(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Hn(n,e))===r})}var K8=function(e,r){return ve(e)&&ve(r)?e-r:Zs(e)&&Zs(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function pu(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function pw(t){"@babel/helpers - typeof";return pw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pw(t)}var G8=["viewBox","children"],Y8=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],kI=["points","pathLength"],q0={svg:G8,polygon:kI,polyline:kI},UE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Kp=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(K.isValidElement(e)&&(n=e.props),!tc(n))return null;var i={};return Object.keys(n).forEach(function(a){UE.includes(a)&&(i[a]=r||function(s){return n[a](n,s)})}),i},X8=function(e,r,n){return function(i){return e(r,n,i),null}},el=function(e,r,n){if(!tc(e)||pw(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];UE.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=X8(s,r,n))}),i},Q8=["children"],J8=["children"];function II(t,e){if(t==null)return{};var r=Z8(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Z8(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function mw(t){"@babel/helpers - typeof";return mw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mw(t)}var OI={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ha=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},CI=null,z0=null,BE=function t(e){if(e===CI&&Array.isArray(z0))return z0;var r=[];return K.Children.forEach(e,function(n){Je(n)||(F8.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),z0=r,CI=e,r};function Kn(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Ha(i)}):n=[Ha(e)],BE(t).forEach(function(i){var a=Hn(i,"type.displayName")||Hn(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function Fn(t,e){var r=Kn(t,e);return r&&r[0]}var NI=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!ve(n)||n<=0||!ve(i)||i<=0)},e7=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],t7=function(e){return e&&e.type&&Zs(e.type)&&e7.indexOf(e.type)>=0},r7=function(e){return e&&mw(e)==="object"&&"clipDot"in e},n7=function(e,r,n,i){var a,s=(a=q0?.[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!Ye(e)&&(i&&s.includes(r)||Y8.includes(r))||n&&UE.includes(r)},qe=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(K.isValidElement(e)&&(i=e.props),!tc(i))return null;var a={};return Object.keys(i).forEach(function(s){var u;n7((u=i)===null||u===void 0?void 0:u[s],s,r,n)&&(a[s]=i[s])}),a},gw=function t(e,r){if(e===r)return!0;var n=K.Children.count(e);if(n!==K.Children.count(r))return!1;if(n===0)return!0;if(n===1)return RI(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],s=r[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!RI(a,s))return!1}return!0},RI=function(e,r){if(Je(e)&&Je(r))return!0;if(!Je(e)&&!Je(r)){var n=e.props||{},i=n.children,a=II(n,Q8),s=r.props||{},u=s.children,c=II(s,J8);return i&&u?pu(a,c)&&gw(i,u):!i&&!u?pu(a,c):!1}return!1},jI=function(e,r){var n=[],i={};return BE(e).forEach(function(a,s){if(t7(a))n.push(a);else if(a){var u=Ha(a.type),c=r[u]||{},f=c.handler,h=c.once;if(f&&(!h||!i[u])){var m=f(a,u,s);n.push(m),i[u]=!0}}}),n},i7=function(e){var r=e&&e.type;return r&&OI[r]?OI[r]:null},a7=function(e,r){return BE(r).indexOf(e)},o7=["children","width","height","viewBox","className","style","title","desc"];function yw(){return yw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yw.apply(this,arguments)}function s7(t,e){if(t==null)return{};var r=l7(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function l7(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function vw(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,s=t.style,u=t.title,c=t.desc,f=s7(t,o7),h=i||{width:r,height:n,x:0,y:0},m=et("recharts-surface",a);return z.createElement("svg",yw({},qe(f,!0,"svg"),{className:m,width:r,height:n,style:s,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),z.createElement("title",null,u),z.createElement("desc",null,c),e)}var u7=["children","className"];function bw(){return bw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bw.apply(this,arguments)}function c7(t,e){if(t==null)return{};var r=f7(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function f7(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var dt=z.forwardRef(function(t,e){var r=t.children,n=t.className,i=c7(t,u7),a=et("recharts-layer",n);return z.createElement("g",bw({className:a},qe(i,!0),{ref:e}),r)}),Mi=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]},W0,DI;function d7(){if(DI)return W0;DI=1;function t(e,r,n){var i=-1,a=e.length;r<0&&(r=-r>a?0:a+r),n=n>a?a:n,n<0&&(n+=a),a=r>n?0:n-r>>>0,r>>>=0;for(var s=Array(a);++i<a;)s[i]=e[i+r];return s}return W0=t,W0}var H0,MI;function h7(){if(MI)return H0;MI=1;var t=d7();function e(r,n,i){var a=r.length;return i=i===void 0?a:i,!n&&i>=a?r:t(r,n,i)}return H0=e,H0}var K0,LI;function bL(){if(LI)return K0;LI=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",s="\\u200d",u=RegExp("["+s+t+i+a+"]");function c(f){return u.test(f)}return K0=c,K0}var G0,$I;function p7(){if($I)return G0;$I=1;function t(e){return e.split("")}return G0=t,G0}var Y0,FI;function m7(){if(FI)return Y0;FI=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",s="["+t+"]",u="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",f="(?:"+u+"|"+c+")",h="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",b="\\u200d",x=f+"?",E="["+a+"]?",w="(?:"+b+"(?:"+[h,m,y].join("|")+")"+E+x+")*",O=E+x+w,C="(?:"+[h+u+"?",u,m,y,s].join("|")+")",N=RegExp(c+"(?="+c+")|"+C+O,"g");function $(I){return I.match(N)||[]}return Y0=$,Y0}var X0,VI;function g7(){if(VI)return X0;VI=1;var t=p7(),e=bL(),r=m7();function n(i){return e(i)?r(i):t(i)}return X0=n,X0}var Q0,UI;function y7(){if(UI)return Q0;UI=1;var t=h7(),e=bL(),r=g7(),n=mL();function i(a){return function(s){s=n(s);var u=e(s)?r(s):void 0,c=u?u[0]:s.charAt(0),f=u?t(u,1).join(""):s.slice(1);return c[a]()+f}}return Q0=i,Q0}var J0,BI;function v7(){if(BI)return J0;BI=1;var t=y7(),e=t("toUpperCase");return J0=e,J0}var b7=v7();const gg=bt(b7);function Ot(t){return function(){return t}}const _L=Math.cos,Gp=Math.sin,Ui=Math.sqrt,Yp=Math.PI,yg=2*Yp,_w=Math.PI,xw=2*_w,Rs=1e-6,_7=xw-Rs;function xL(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function x7(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return xL;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class w7{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?xL:x7(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,s){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,u=this._y1,c=n-e,f=i-r,h=s-e,m=u-r,y=h*h+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(y>Rs)if(!(Math.abs(m*c-f*h)>Rs)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let b=n-s,x=i-u,E=c*c+f*f,w=b*b+x*x,O=Math.sqrt(E),C=Math.sqrt(y),N=a*Math.tan((_w-Math.acos((E+y-w)/(2*O*C)))/2),$=N/C,I=N/O;Math.abs($-1)>Rs&&this._append`L${e+$*h},${r+$*m}`,this._append`A${a},${a},0,0,${+(m*b>h*x)},${this._x1=e+I*c},${this._y1=r+I*f}`}}arc(e,r,n,i,a,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(i),c=n*Math.sin(i),f=e+u,h=r+c,m=1^s,y=s?i-a:a-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>Rs||Math.abs(this._y1-h)>Rs)&&this._append`L${f},${h}`,n&&(y<0&&(y=y%xw+xw),y>_7?this._append`A${n},${n},0,1,${m},${e-u},${r-c}A${n},${n},0,1,${m},${this._x1=f},${this._y1=h}`:y>Rs&&this._append`A${n},${n},0,${+(y>=_w)},${m},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function qE(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new w7(e)}function zE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function wL(t){this._context=t}wL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function vg(t){return new wL(t)}function EL(t){return t[0]}function SL(t){return t[1]}function TL(t,e){var r=Ot(!0),n=null,i=vg,a=null,s=qE(u);t=typeof t=="function"?t:t===void 0?EL:Ot(t),e=typeof e=="function"?e:e===void 0?SL:Ot(e);function u(c){var f,h=(c=zE(c)).length,m,y=!1,b;for(n==null&&(a=i(b=s())),f=0;f<=h;++f)!(f<h&&r(m=c[f],f,c))===y&&((y=!y)?a.lineStart():a.lineEnd()),y&&a.point(+t(m,f,c),+e(m,f,c));if(b)return a=null,b+""||null}return u.x=function(c){return arguments.length?(t=typeof c=="function"?c:Ot(+c),u):t},u.y=function(c){return arguments.length?(e=typeof c=="function"?c:Ot(+c),u):e},u.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ot(!!c),u):r},u.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),u):i},u.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),u):n},u}function sp(t,e,r){var n=null,i=Ot(!0),a=null,s=vg,u=null,c=qE(f);t=typeof t=="function"?t:t===void 0?EL:Ot(+t),e=typeof e=="function"?e:Ot(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?SL:Ot(+r);function f(m){var y,b,x,E=(m=zE(m)).length,w,O=!1,C,N=new Array(E),$=new Array(E);for(a==null&&(u=s(C=c())),y=0;y<=E;++y){if(!(y<E&&i(w=m[y],y,m))===O)if(O=!O)b=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),x=y-1;x>=b;--x)u.point(N[x],$[x]);u.lineEnd(),u.areaEnd()}O&&(N[y]=+t(w,y,m),$[y]=+e(w,y,m),u.point(n?+n(w,y,m):N[y],r?+r(w,y,m):$[y]))}if(C)return u=null,C+""||null}function h(){return TL().defined(i).curve(s).context(a)}return f.x=function(m){return arguments.length?(t=typeof m=="function"?m:Ot(+m),n=null,f):t},f.x0=function(m){return arguments.length?(t=typeof m=="function"?m:Ot(+m),f):t},f.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Ot(+m),f):n},f.y=function(m){return arguments.length?(e=typeof m=="function"?m:Ot(+m),r=null,f):e},f.y0=function(m){return arguments.length?(e=typeof m=="function"?m:Ot(+m),f):e},f.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Ot(+m),f):r},f.lineX0=f.lineY0=function(){return h().x(t).y(e)},f.lineY1=function(){return h().x(t).y(r)},f.lineX1=function(){return h().x(n).y(e)},f.defined=function(m){return arguments.length?(i=typeof m=="function"?m:Ot(!!m),f):i},f.curve=function(m){return arguments.length?(s=m,a!=null&&(u=s(a)),f):s},f.context=function(m){return arguments.length?(m==null?a=u=null:u=s(a=m),f):a},f}class AL{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function E7(t){return new AL(t,!0)}function S7(t){return new AL(t,!1)}const WE={draw(t,e){const r=Ui(e/Yp);t.moveTo(r,0),t.arc(0,0,r,0,yg)}},T7={draw(t,e){const r=Ui(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},PL=Ui(1/3),A7=PL*2,P7={draw(t,e){const r=Ui(e/A7),n=r*PL;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},k7={draw(t,e){const r=Ui(e),n=-r/2;t.rect(n,n,r,r)}},I7=.8908130915292852,kL=Gp(Yp/10)/Gp(7*Yp/10),O7=Gp(yg/10)*kL,C7=-_L(yg/10)*kL,N7={draw(t,e){const r=Ui(e*I7),n=O7*r,i=C7*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const s=yg*a/5,u=_L(s),c=Gp(s);t.lineTo(c*r,-u*r),t.lineTo(u*n-c*i,c*n+u*i)}t.closePath()}},Z0=Ui(3),R7={draw(t,e){const r=-Ui(e/(Z0*3));t.moveTo(0,r*2),t.lineTo(-Z0*r,-r),t.lineTo(Z0*r,-r),t.closePath()}},si=-.5,li=Ui(3)/2,ww=1/Ui(12),j7=(ww/2+1)*3,D7={draw(t,e){const r=Ui(e/j7),n=r/2,i=r*ww,a=n,s=r*ww+r,u=-a,c=s;t.moveTo(n,i),t.lineTo(a,s),t.lineTo(u,c),t.lineTo(si*n-li*i,li*n+si*i),t.lineTo(si*a-li*s,li*a+si*s),t.lineTo(si*u-li*c,li*u+si*c),t.lineTo(si*n+li*i,si*i-li*n),t.lineTo(si*a+li*s,si*s-li*a),t.lineTo(si*u+li*c,si*c-li*u),t.closePath()}};function M7(t,e){let r=null,n=qE(i);t=typeof t=="function"?t:Ot(t||WE),e=typeof e=="function"?e:Ot(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Ot(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Ot(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Xp(){}function Qp(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function IL(t){this._context=t}IL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Qp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Qp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function L7(t){return new IL(t)}function OL(t){this._context=t}OL.prototype={areaStart:Xp,areaEnd:Xp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Qp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function $7(t){return new OL(t)}function CL(t){this._context=t}CL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Qp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function F7(t){return new CL(t)}function NL(t){this._context=t}NL.prototype={areaStart:Xp,areaEnd:Xp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function V7(t){return new NL(t)}function qI(t){return t<0?-1:1}function zI(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),s=(r-t._y1)/(i||n<0&&-0),u=(a*i+s*n)/(n+i);return(qI(a)+qI(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(u))||0}function WI(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function eb(t,e,r){var n=t._x0,i=t._y0,a=t._x1,s=t._y1,u=(a-n)/3;t._context.bezierCurveTo(n+u,i+u*e,a-u,s-u*r,a,s)}function Jp(t){this._context=t}Jp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:eb(this,this._t0,WI(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,eb(this,WI(this,r=zI(this,t,e)),r);break;default:eb(this,this._t0,r=zI(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function RL(t){this._context=new jL(t)}(RL.prototype=Object.create(Jp.prototype)).point=function(t,e){Jp.prototype.point.call(this,e,t)};function jL(t){this._context=t}jL.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function U7(t){return new Jp(t)}function B7(t){return new RL(t)}function DL(t){this._context=t}DL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=HI(t),i=HI(e),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function HI(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,s[e]-=n*s[e-1];for(i[r-1]=s[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function q7(t){return new DL(t)}function bg(t,e){this._context=t,this._t=e}bg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function z7(t){return new bg(t,.5)}function W7(t){return new bg(t,0)}function H7(t){return new bg(t,1)}function Tu(t,e){if((s=t.length)>1)for(var r=1,n,i,a=t[e[0]],s,u=a.length;r<s;++r)for(i=a,a=t[e[r]],n=0;n<u;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Ew(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function K7(t,e){return t[e]}function G7(t){const e=[];return e.key=t,e}function Y7(){var t=Ot([]),e=Ew,r=Tu,n=K7;function i(a){var s=Array.from(t.apply(this,arguments),G7),u,c=s.length,f=-1,h;for(const m of a)for(u=0,++f;u<c;++u)(s[u][f]=[0,+n(m,s[u].key,f,a)]).data=m;for(u=0,h=zE(e(s));u<c;++u)s[h[u]].index=u;return r(s,h),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Ot(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Ot(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?Ew:typeof a=="function"?a:Ot(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??Tu,i):r},i}function X7(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=t[r][i][1]||0;if(s)for(r=0;r<n;++r)t[r][i][1]/=s}Tu(t,e)}}function Q7(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var s=0,u=0;s<i;++s)u+=t[s][r][1]||0;n[r][1]+=n[r][0]=-u/2}Tu(t,e)}}function J7(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var u=0,c=0,f=0;u<s;++u){for(var h=t[e[u]],m=h[n][1]||0,y=h[n-1][1]||0,b=(m-y)/2,x=0;x<u;++x){var E=t[e[x]],w=E[n][1]||0,O=E[n-1][1]||0;b+=w-O}c+=m,f+=b*m}i[n-1][1]+=i[n-1][0]=r,c&&(r-=f/c)}i[n-1][1]+=i[n-1][0]=r,Tu(t,e)}}function Rf(t){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rf(t)}var Z7=["type","size","sizeType"];function Sw(){return Sw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sw.apply(this,arguments)}function KI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function GI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KI(Object(r),!0).forEach(function(n){eW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eW(t,e,r){return e=tW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tW(t){var e=rW(t,"string");return Rf(e)=="symbol"?e:e+""}function rW(t,e){if(Rf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nW(t,e){if(t==null)return{};var r=iW(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function iW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var ML={symbolCircle:WE,symbolCross:T7,symbolDiamond:P7,symbolSquare:k7,symbolStar:N7,symbolTriangle:R7,symbolWye:D7},aW=Math.PI/180,oW=function(e){var r="symbol".concat(gg(e));return ML[r]||WE},sW=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*aW;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},lW=function(e,r){ML["symbol".concat(gg(e))]=r},HE=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,s=e.sizeType,u=s===void 0?"area":s,c=nW(e,Z7),f=GI(GI({},c),{},{type:n,size:a,sizeType:u}),h=function(){var w=oW(n),O=M7().type(w).size(sW(a,u,n));return O()},m=f.className,y=f.cx,b=f.cy,x=qe(f,!0);return y===+y&&b===+b&&a===+a?z.createElement("path",Sw({},x,{className:et("recharts-symbols",m),transform:"translate(".concat(y,", ").concat(b,")"),d:h()})):null};HE.registerSymbol=lW;function Au(t){"@babel/helpers - typeof";return Au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Au(t)}function Tw(){return Tw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tw.apply(this,arguments)}function YI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function uW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YI(Object(r),!0).forEach(function(n){jf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$L(n.key),n)}}function dW(t,e,r){return e&&fW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hW(t,e,r){return e=Zp(e),pW(t,LL()?Reflect.construct(e,r||[],Zp(t).constructor):e.apply(t,r))}function pW(t,e){if(e&&(Au(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mW(t)}function mW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LL=function(){return!!t})()}function Zp(t){return Zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zp(t)}function gW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Aw(t,e)}function Aw(t,e){return Aw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Aw(t,e)}function jf(t,e,r){return e=$L(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $L(t){var e=yW(t,"string");return Au(e)=="symbol"?e:e+""}function yW(t,e){if(Au(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Au(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ui=32,KE=function(t){function e(){return cW(this,e),hW(this,e,arguments)}return gW(e,t),dW(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=ui/2,s=ui/6,u=ui/3,c=n.inactive?i:n.color;if(n.type==="plainline")return z.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:ui,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return z.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(u,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*u,",").concat(a,`
            H`).concat(ui,"M").concat(2*u,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(u,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return z.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ui/8,"h").concat(ui,"v").concat(ui*3/4,"h").concat(-ui,"z"),className:"recharts-legend-icon"});if(z.isValidElement(n.legendIcon)){var f=uW({},n);return delete f.legendIcon,z.cloneElement(n.legendIcon,f)}return z.createElement(HE,{fill:c,cx:a,cy:a,size:ui,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,s=i.iconSize,u=i.layout,c=i.formatter,f=i.inactiveColor,h={x:0,y:0,width:ui,height:ui},m={display:u==="horizontal"?"inline-block":"block",marginRight:10},y={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(b,x){var E=b.formatter||c,w=et(jf(jf({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",b.inactive));if(b.type==="none")return null;var O=Ye(b.value)?null:b.value;Mi(!Ye(b.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var C=b.inactive?f:b.color;return z.createElement("li",Tw({className:w,style:m,key:"legend-item-".concat(x)},el(n.props,b,x)),z.createElement(vw,{width:s,height:s,viewBox:h,style:y},n.renderIcon(b)),z.createElement("span",{className:"recharts-legend-item-text",style:{color:C}},E?E(O,b,x):O))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,s=n.align;if(!i||!i.length)return null;var u={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return z.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])}(K.PureComponent);jf(KE,"displayName","Legend");jf(KE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var tb,XI;function vW(){if(XI)return tb;XI=1;var t=hg();function e(){this.__data__=new t,this.size=0}return tb=e,tb}var rb,QI;function bW(){if(QI)return rb;QI=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return rb=t,rb}var nb,JI;function _W(){if(JI)return nb;JI=1;function t(e){return this.__data__.get(e)}return nb=t,nb}var ib,ZI;function xW(){if(ZI)return ib;ZI=1;function t(e){return this.__data__.has(e)}return ib=t,ib}var ab,eO;function wW(){if(eO)return ab;eO=1;var t=hg(),e=LE(),r=$E(),n=200;function i(a,s){var u=this.__data__;if(u instanceof t){var c=u.__data__;if(!e||c.length<n-1)return c.push([a,s]),this.size=++u.size,this;u=this.__data__=new r(c)}return u.set(a,s),this.size=u.size,this}return ab=i,ab}var ob,tO;function FL(){if(tO)return ob;tO=1;var t=hg(),e=vW(),r=bW(),n=_W(),i=xW(),a=wW();function s(u){var c=this.__data__=new t(u);this.size=c.size}return s.prototype.clear=e,s.prototype.delete=r,s.prototype.get=n,s.prototype.has=i,s.prototype.set=a,ob=s,ob}var sb,rO;function EW(){if(rO)return sb;rO=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return sb=e,sb}var lb,nO;function SW(){if(nO)return lb;nO=1;function t(e){return this.__data__.has(e)}return lb=t,lb}var ub,iO;function VL(){if(iO)return ub;iO=1;var t=$E(),e=EW(),r=SW();function n(i){var a=-1,s=i==null?0:i.length;for(this.__data__=new t;++a<s;)this.add(i[a])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,ub=n,ub}var cb,aO;function UL(){if(aO)return cb;aO=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return cb=t,cb}var fb,oO;function BL(){if(oO)return fb;oO=1;function t(e,r){return e.has(r)}return fb=t,fb}var db,sO;function qL(){if(sO)return db;sO=1;var t=VL(),e=UL(),r=BL(),n=1,i=2;function a(s,u,c,f,h,m){var y=c&n,b=s.length,x=u.length;if(b!=x&&!(y&&x>b))return!1;var E=m.get(s),w=m.get(u);if(E&&w)return E==u&&w==s;var O=-1,C=!0,N=c&i?new t:void 0;for(m.set(s,u),m.set(u,s);++O<b;){var $=s[O],I=u[O];if(f)var j=y?f(I,$,O,u,s,m):f($,I,O,s,u,m);if(j!==void 0){if(j)continue;C=!1;break}if(N){if(!e(u,function(A,P){if(!r(N,P)&&($===A||h($,A,c,f,m)))return N.push(P)})){C=!1;break}}else if(!($===I||h($,I,c,f,m))){C=!1;break}}return m.delete(s),m.delete(u),C}return db=a,db}var hb,lO;function TW(){if(lO)return hb;lO=1;var t=ya(),e=t.Uint8Array;return hb=e,hb}var pb,uO;function AW(){if(uO)return pb;uO=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,a){n[++r]=[a,i]}),n}return pb=t,pb}var mb,cO;function GE(){if(cO)return mb;cO=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return mb=t,mb}var gb,fO;function PW(){if(fO)return gb;fO=1;var t=Nd(),e=TW(),r=ME(),n=qL(),i=AW(),a=GE(),s=1,u=2,c="[object Boolean]",f="[object Date]",h="[object Error]",m="[object Map]",y="[object Number]",b="[object RegExp]",x="[object Set]",E="[object String]",w="[object Symbol]",O="[object ArrayBuffer]",C="[object DataView]",N=t?t.prototype:void 0,$=N?N.valueOf:void 0;function I(j,A,P,R,F,M,V){switch(P){case C:if(j.byteLength!=A.byteLength||j.byteOffset!=A.byteOffset)return!1;j=j.buffer,A=A.buffer;case O:return!(j.byteLength!=A.byteLength||!M(new e(j),new e(A)));case c:case f:case y:return r(+j,+A);case h:return j.name==A.name&&j.message==A.message;case b:case E:return j==A+"";case m:var D=i;case x:var Z=R&s;if(D||(D=a),j.size!=A.size&&!Z)return!1;var ee=V.get(j);if(ee)return ee==A;R|=u,V.set(j,A);var re=n(D(j),D(A),R,F,M,V);return V.delete(j),re;case w:if($)return $.call(j)==$.call(A)}return!1}return gb=I,gb}var yb,dO;function zL(){if(dO)return yb;dO=1;function t(e,r){for(var n=-1,i=r.length,a=e.length;++n<i;)e[a+n]=r[n];return e}return yb=t,yb}var vb,hO;function kW(){if(hO)return vb;hO=1;var t=zL(),e=Sn();function r(n,i,a){var s=i(n);return e(n)?s:t(s,a(n))}return vb=r,vb}var bb,pO;function IW(){if(pO)return bb;pO=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=0,s=[];++n<i;){var u=e[n];r(u,n,e)&&(s[a++]=u)}return s}return bb=t,bb}var _b,mO;function OW(){if(mO)return _b;mO=1;function t(){return[]}return _b=t,_b}var xb,gO;function CW(){if(gO)return xb;gO=1;var t=IW(),e=OW(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(s){return s==null?[]:(s=Object(s),t(i(s),function(u){return n.call(s,u)}))}:e;return xb=a,xb}var wb,yO;function NW(){if(yO)return wb;yO=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return wb=t,wb}var Eb,vO;function RW(){if(vO)return Eb;vO=1;var t=io(),e=ao(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return Eb=n,Eb}var Sb,bO;function YE(){if(bO)return Sb;bO=1;var t=RW(),e=ao(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,a=t(function(){return arguments}())?t:function(s){return e(s)&&n.call(s,"callee")&&!i.call(s,"callee")};return Sb=a,Sb}var af={exports:{}},Tb,_O;function jW(){if(_O)return Tb;_O=1;function t(){return!1}return Tb=t,Tb}af.exports;var xO;function WL(){return xO||(xO=1,function(t,e){var r=ya(),n=jW(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,u=s?r.Buffer:void 0,c=u?u.isBuffer:void 0,f=c||n;t.exports=f}(af,af.exports)),af.exports}var Ab,wO;function XE(){if(wO)return Ab;wO=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var a=typeof n;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return Ab=r,Ab}var Pb,EO;function QE(){if(EO)return Pb;EO=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return Pb=e,Pb}var kb,SO;function DW(){if(SO)return kb;SO=1;var t=io(),e=QE(),r=ao(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",s="[object Date]",u="[object Error]",c="[object Function]",f="[object Map]",h="[object Number]",m="[object Object]",y="[object RegExp]",b="[object Set]",x="[object String]",E="[object WeakMap]",w="[object ArrayBuffer]",O="[object DataView]",C="[object Float32Array]",N="[object Float64Array]",$="[object Int8Array]",I="[object Int16Array]",j="[object Int32Array]",A="[object Uint8Array]",P="[object Uint8ClampedArray]",R="[object Uint16Array]",F="[object Uint32Array]",M={};M[C]=M[N]=M[$]=M[I]=M[j]=M[A]=M[P]=M[R]=M[F]=!0,M[n]=M[i]=M[w]=M[a]=M[O]=M[s]=M[u]=M[c]=M[f]=M[h]=M[m]=M[y]=M[b]=M[x]=M[E]=!1;function V(D){return r(D)&&e(D.length)&&!!M[t(D)]}return kb=V,kb}var Ib,TO;function HL(){if(TO)return Ib;TO=1;function t(e){return function(r){return e(r)}}return Ib=t,Ib}var of={exports:{}};of.exports;var AO;function MW(){return AO||(AO=1,function(t,e){var r=dL(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,s=a&&r.process,u=function(){try{var c=i&&i.require&&i.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();t.exports=u}(of,of.exports)),of.exports}var Ob,PO;function KL(){if(PO)return Ob;PO=1;var t=DW(),e=HL(),r=MW(),n=r&&r.isTypedArray,i=n?e(n):t;return Ob=i,Ob}var Cb,kO;function LW(){if(kO)return Cb;kO=1;var t=NW(),e=YE(),r=Sn(),n=WL(),i=XE(),a=KL(),s=Object.prototype,u=s.hasOwnProperty;function c(f,h){var m=r(f),y=!m&&e(f),b=!m&&!y&&n(f),x=!m&&!y&&!b&&a(f),E=m||y||b||x,w=E?t(f.length,String):[],O=w.length;for(var C in f)(h||u.call(f,C))&&!(E&&(C=="length"||b&&(C=="offset"||C=="parent")||x&&(C=="buffer"||C=="byteLength"||C=="byteOffset")||i(C,O)))&&w.push(C);return w}return Cb=c,Cb}var Nb,IO;function $W(){if(IO)return Nb;IO=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return Nb=e,Nb}var Rb,OO;function GL(){if(OO)return Rb;OO=1;function t(e,r){return function(n){return e(r(n))}}return Rb=t,Rb}var jb,CO;function FW(){if(CO)return jb;CO=1;var t=GL(),e=t(Object.keys,Object);return jb=e,jb}var Db,NO;function VW(){if(NO)return Db;NO=1;var t=$W(),e=FW(),r=Object.prototype,n=r.hasOwnProperty;function i(a){if(!t(a))return e(a);var s=[];for(var u in Object(a))n.call(a,u)&&u!="constructor"&&s.push(u);return s}return Db=i,Db}var Mb,RO;function jd(){if(RO)return Mb;RO=1;var t=DE(),e=QE();function r(n){return n!=null&&e(n.length)&&!t(n)}return Mb=r,Mb}var Lb,jO;function _g(){if(jO)return Lb;jO=1;var t=LW(),e=VW(),r=jd();function n(i){return r(i)?t(i):e(i)}return Lb=n,Lb}var $b,DO;function UW(){if(DO)return $b;DO=1;var t=kW(),e=CW(),r=_g();function n(i){return t(i,r,e)}return $b=n,$b}var Fb,MO;function BW(){if(MO)return Fb;MO=1;var t=UW(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(a,s,u,c,f,h){var m=u&e,y=t(a),b=y.length,x=t(s),E=x.length;if(b!=E&&!m)return!1;for(var w=b;w--;){var O=y[w];if(!(m?O in s:n.call(s,O)))return!1}var C=h.get(a),N=h.get(s);if(C&&N)return C==s&&N==a;var $=!0;h.set(a,s),h.set(s,a);for(var I=m;++w<b;){O=y[w];var j=a[O],A=s[O];if(c)var P=m?c(A,j,O,s,a,h):c(j,A,O,a,s,h);if(!(P===void 0?j===A||f(j,A,u,c,h):P)){$=!1;break}I||(I=O=="constructor")}if($&&!I){var R=a.constructor,F=s.constructor;R!=F&&"constructor"in a&&"constructor"in s&&!(typeof R=="function"&&R instanceof R&&typeof F=="function"&&F instanceof F)&&($=!1)}return h.delete(a),h.delete(s),$}return Fb=i,Fb}var Vb,LO;function qW(){if(LO)return Vb;LO=1;var t=cl(),e=ya(),r=t(e,"DataView");return Vb=r,Vb}var Ub,$O;function zW(){if($O)return Ub;$O=1;var t=cl(),e=ya(),r=t(e,"Promise");return Ub=r,Ub}var Bb,FO;function YL(){if(FO)return Bb;FO=1;var t=cl(),e=ya(),r=t(e,"Set");return Bb=r,Bb}var qb,VO;function WW(){if(VO)return qb;VO=1;var t=cl(),e=ya(),r=t(e,"WeakMap");return qb=r,qb}var zb,UO;function HW(){if(UO)return zb;UO=1;var t=qW(),e=LE(),r=zW(),n=YL(),i=WW(),a=io(),s=hL(),u="[object Map]",c="[object Object]",f="[object Promise]",h="[object Set]",m="[object WeakMap]",y="[object DataView]",b=s(t),x=s(e),E=s(r),w=s(n),O=s(i),C=a;return(t&&C(new t(new ArrayBuffer(1)))!=y||e&&C(new e)!=u||r&&C(r.resolve())!=f||n&&C(new n)!=h||i&&C(new i)!=m)&&(C=function(N){var $=a(N),I=$==c?N.constructor:void 0,j=I?s(I):"";if(j)switch(j){case b:return y;case x:return u;case E:return f;case w:return h;case O:return m}return $}),zb=C,zb}var Wb,BO;function KW(){if(BO)return Wb;BO=1;var t=FL(),e=qL(),r=PW(),n=BW(),i=HW(),a=Sn(),s=WL(),u=KL(),c=1,f="[object Arguments]",h="[object Array]",m="[object Object]",y=Object.prototype,b=y.hasOwnProperty;function x(E,w,O,C,N,$){var I=a(E),j=a(w),A=I?h:i(E),P=j?h:i(w);A=A==f?m:A,P=P==f?m:P;var R=A==m,F=P==m,M=A==P;if(M&&s(E)){if(!s(w))return!1;I=!0,R=!1}if(M&&!R)return $||($=new t),I||u(E)?e(E,w,O,C,N,$):r(E,w,A,O,C,N,$);if(!(O&c)){var V=R&&b.call(E,"__wrapped__"),D=F&&b.call(w,"__wrapped__");if(V||D){var Z=V?E.value():E,ee=D?w.value():w;return $||($=new t),N(Z,ee,O,C,$)}}return M?($||($=new t),n(E,w,O,C,N,$)):!1}return Wb=x,Wb}var Hb,qO;function JE(){if(qO)return Hb;qO=1;var t=KW(),e=ao();function r(n,i,a,s,u){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,a,s,r,u)}return Hb=r,Hb}var Kb,zO;function GW(){if(zO)return Kb;zO=1;var t=FL(),e=JE(),r=1,n=2;function i(a,s,u,c){var f=u.length,h=f,m=!c;if(a==null)return!h;for(a=Object(a);f--;){var y=u[f];if(m&&y[2]?y[1]!==a[y[0]]:!(y[0]in a))return!1}for(;++f<h;){y=u[f];var b=y[0],x=a[b],E=y[1];if(m&&y[2]){if(x===void 0&&!(b in a))return!1}else{var w=new t;if(c)var O=c(x,E,b,a,s,w);if(!(O===void 0?e(E,x,r|n,c,w):O))return!1}}return!0}return Kb=i,Kb}var Gb,WO;function XL(){if(WO)return Gb;WO=1;var t=ns();function e(r){return r===r&&!t(r)}return Gb=e,Gb}var Yb,HO;function YW(){if(HO)return Yb;HO=1;var t=XL(),e=_g();function r(n){for(var i=e(n),a=i.length;a--;){var s=i[a],u=n[s];i[a]=[s,u,t(u)]}return i}return Yb=r,Yb}var Xb,KO;function QL(){if(KO)return Xb;KO=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return Xb=t,Xb}var Qb,GO;function XW(){if(GO)return Qb;GO=1;var t=GW(),e=YW(),r=QL();function n(i){var a=e(i);return a.length==1&&a[0][2]?r(a[0][0],a[0][1]):function(s){return s===i||t(s,i,a)}}return Qb=n,Qb}var Jb,YO;function QW(){if(YO)return Jb;YO=1;function t(e,r){return e!=null&&r in Object(e)}return Jb=t,Jb}var Zb,XO;function JW(){if(XO)return Zb;XO=1;var t=gL(),e=YE(),r=Sn(),n=XE(),i=QE(),a=mg();function s(u,c,f){c=t(c,u);for(var h=-1,m=c.length,y=!1;++h<m;){var b=a(c[h]);if(!(y=u!=null&&f(u,b)))break;u=u[b]}return y||++h!=m?y:(m=u==null?0:u.length,!!m&&i(m)&&n(b,m)&&(r(u)||e(u)))}return Zb=s,Zb}var e_,QO;function ZW(){if(QO)return e_;QO=1;var t=QW(),e=JW();function r(n,i){return n!=null&&e(n,i,t)}return e_=r,e_}var t_,JO;function eH(){if(JO)return t_;JO=1;var t=JE(),e=yL(),r=ZW(),n=jE(),i=XL(),a=QL(),s=mg(),u=1,c=2;function f(h,m){return n(h)&&i(m)?a(s(h),m):function(y){var b=e(y,h);return b===void 0&&b===m?r(y,h):t(m,b,u|c)}}return t_=f,t_}var r_,ZO;function nc(){if(ZO)return r_;ZO=1;function t(e){return e}return r_=t,r_}var n_,eC;function tH(){if(eC)return n_;eC=1;function t(e){return function(r){return r?.[e]}}return n_=t,n_}var i_,tC;function rH(){if(tC)return i_;tC=1;var t=VE();function e(r){return function(n){return t(n,r)}}return i_=e,i_}var a_,rC;function nH(){if(rC)return a_;rC=1;var t=tH(),e=rH(),r=jE(),n=mg();function i(a){return r(a)?t(n(a)):e(a)}return a_=i,a_}var o_,nC;function va(){if(nC)return o_;nC=1;var t=XW(),e=eH(),r=nc(),n=Sn(),i=nH();function a(s){return typeof s=="function"?s:s==null?r:typeof s=="object"?n(s)?e(s[0],s[1]):t(s):i(s)}return o_=a,o_}var s_,iC;function JL(){if(iC)return s_;iC=1;function t(e,r,n,i){for(var a=e.length,s=n+(i?1:-1);i?s--:++s<a;)if(r(e[s],s,e))return s;return-1}return s_=t,s_}var l_,aC;function iH(){if(aC)return l_;aC=1;function t(e){return e!==e}return l_=t,l_}var u_,oC;function aH(){if(oC)return u_;oC=1;function t(e,r,n){for(var i=n-1,a=e.length;++i<a;)if(e[i]===r)return i;return-1}return u_=t,u_}var c_,sC;function oH(){if(sC)return c_;sC=1;var t=JL(),e=iH(),r=aH();function n(i,a,s){return a===a?r(i,a,s):t(i,e,s)}return c_=n,c_}var f_,lC;function sH(){if(lC)return f_;lC=1;var t=oH();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return f_=e,f_}var d_,uC;function lH(){if(uC)return d_;uC=1;function t(e,r,n){for(var i=-1,a=e==null?0:e.length;++i<a;)if(n(r,e[i]))return!0;return!1}return d_=t,d_}var h_,cC;function uH(){if(cC)return h_;cC=1;function t(){}return h_=t,h_}var p_,fC;function cH(){if(fC)return p_;fC=1;var t=YL(),e=uH(),r=GE(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(a){return new t(a)}:e;return p_=i,p_}var m_,dC;function fH(){if(dC)return m_;dC=1;var t=VL(),e=sH(),r=lH(),n=BL(),i=cH(),a=GE(),s=200;function u(c,f,h){var m=-1,y=e,b=c.length,x=!0,E=[],w=E;if(h)x=!1,y=r;else if(b>=s){var O=f?null:i(c);if(O)return a(O);x=!1,y=n,w=new t}else w=f?[]:E;e:for(;++m<b;){var C=c[m],N=f?f(C):C;if(C=h||C!==0?C:0,x&&N===N){for(var $=w.length;$--;)if(w[$]===N)continue e;f&&w.push(N),E.push(C)}else y(w,N,h)||(w!==E&&w.push(N),E.push(C))}return E}return m_=u,m_}var g_,hC;function dH(){if(hC)return g_;hC=1;var t=va(),e=fH();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return g_=r,g_}var hH=dH();const pC=bt(hH);function ZL(t,e,r){return e===!0?pC(t,r):Ye(e)?pC(t,e):t}function Pu(t){"@babel/helpers - typeof";return Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pu(t)}var pH=["ref"];function mC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function La(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mC(Object(r),!0).forEach(function(n){xg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gC(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,t$(n.key),n)}}function gH(t,e,r){return e&&gC(t.prototype,e),r&&gC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function yH(t,e,r){return e=em(e),vH(t,e$()?Reflect.construct(e,r||[],em(t).constructor):e.apply(t,r))}function vH(t,e){if(e&&(Pu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bH(t)}function bH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e$=function(){return!!t})()}function em(t){return em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},em(t)}function _H(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pw(t,e)}function Pw(t,e){return Pw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Pw(t,e)}function xg(t,e,r){return e=t$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function t$(t){var e=xH(t,"string");return Pu(e)=="symbol"?e:e+""}function xH(t,e){if(Pu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function wH(t,e){if(t==null)return{};var r=EH(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function EH(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function SH(t){return t.value}function TH(t,e){if(z.isValidElement(t))return z.cloneElement(t,e);if(typeof t=="function")return z.createElement(t,e);e.ref;var r=wH(e,pH);return z.createElement(KE,r)}var yC=1,Ka=function(t){function e(){var r;mH(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=yH(this,e,[].concat(i)),xg(r,"lastBoundingBox",{width:-1,height:-1}),r}return _H(e,t),gH(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>yC||Math.abs(i.height-this.lastBoundingBox.height)>yC)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?La({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,s=i.align,u=i.verticalAlign,c=i.margin,f=i.chartWidth,h=i.chartHeight,m,y;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&a==="vertical"){var b=this.getBBoxSnapshot();m={left:((f||0)-b.width)/2}}else m=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(u==="middle"){var x=this.getBBoxSnapshot();y={top:((h||0)-x.height)/2}}else y=u==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return La(La({},m),y)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,s=i.width,u=i.height,c=i.wrapperStyle,f=i.payloadUniqBy,h=i.payload,m=La(La({position:"absolute",width:s||"auto",height:u||"auto"},this.getDefaultPosition(c)),c);return z.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(b){n.wrapperNode=b}},TH(a,La(La({},this.props),{},{payload:ZL(h,f,SH)})))}}],[{key:"getWithHeight",value:function(n,i){var a=La(La({},this.defaultProps),n.props),s=a.layout;return s==="vertical"&&ve(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||i}:null}}])}(K.PureComponent);xg(Ka,"displayName","Legend");xg(Ka,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var y_,vC;function AH(){if(vC)return y_;vC=1;var t=Nd(),e=YE(),r=Sn(),n=t?t.isConcatSpreadable:void 0;function i(a){return r(a)||e(a)||!!(n&&a&&a[n])}return y_=i,y_}var v_,bC;function r$(){if(bC)return v_;bC=1;var t=zL(),e=AH();function r(n,i,a,s,u){var c=-1,f=n.length;for(a||(a=e),u||(u=[]);++c<f;){var h=n[c];i>0&&a(h)?i>1?r(h,i-1,a,s,u):t(u,h):s||(u[u.length]=h)}return u}return v_=r,v_}var b_,_C;function PH(){if(_C)return b_;_C=1;function t(e){return function(r,n,i){for(var a=-1,s=Object(r),u=i(r),c=u.length;c--;){var f=u[e?c:++a];if(n(s[f],f,s)===!1)break}return r}}return b_=t,b_}var __,xC;function kH(){if(xC)return __;xC=1;var t=PH(),e=t();return __=e,__}var x_,wC;function n$(){if(wC)return x_;wC=1;var t=kH(),e=_g();function r(n,i){return n&&t(n,i,e)}return x_=r,x_}var w_,EC;function IH(){if(EC)return w_;EC=1;var t=jd();function e(r,n){return function(i,a){if(i==null)return i;if(!t(i))return r(i,a);for(var s=i.length,u=n?s:-1,c=Object(i);(n?u--:++u<s)&&a(c[u],u,c)!==!1;);return i}}return w_=e,w_}var E_,SC;function ZE(){if(SC)return E_;SC=1;var t=n$(),e=IH(),r=e(t);return E_=r,E_}var S_,TC;function i$(){if(TC)return S_;TC=1;var t=ZE(),e=jd();function r(n,i){var a=-1,s=e(n)?Array(n.length):[];return t(n,function(u,c,f){s[++a]=i(u,c,f)}),s}return S_=r,S_}var T_,AC;function OH(){if(AC)return T_;AC=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return T_=t,T_}var A_,PC;function CH(){if(PC)return A_;PC=1;var t=ec();function e(r,n){if(r!==n){var i=r!==void 0,a=r===null,s=r===r,u=t(r),c=n!==void 0,f=n===null,h=n===n,m=t(n);if(!f&&!m&&!u&&r>n||u&&c&&h&&!f&&!m||a&&c&&h||!i&&h||!s)return 1;if(!a&&!u&&!m&&r<n||m&&i&&s&&!a&&!u||f&&i&&s||!c&&s||!h)return-1}return 0}return A_=e,A_}var P_,kC;function NH(){if(kC)return P_;kC=1;var t=CH();function e(r,n,i){for(var a=-1,s=r.criteria,u=n.criteria,c=s.length,f=i.length;++a<c;){var h=t(s[a],u[a]);if(h){if(a>=f)return h;var m=i[a];return h*(m=="desc"?-1:1)}}return r.index-n.index}return P_=e,P_}var k_,IC;function RH(){if(IC)return k_;IC=1;var t=FE(),e=VE(),r=va(),n=i$(),i=OH(),a=HL(),s=NH(),u=nc(),c=Sn();function f(h,m,y){m.length?m=t(m,function(E){return c(E)?function(w){return e(w,E.length===1?E[0]:E)}:E}):m=[u];var b=-1;m=t(m,a(r));var x=n(h,function(E,w,O){var C=t(m,function(N){return N(E)});return{criteria:C,index:++b,value:E}});return i(x,function(E,w){return s(E,w,y)})}return k_=f,k_}var I_,OC;function jH(){if(OC)return I_;OC=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return I_=t,I_}var O_,CC;function DH(){if(CC)return O_;CC=1;var t=jH(),e=Math.max;function r(n,i,a){return i=e(i===void 0?n.length-1:i,0),function(){for(var s=arguments,u=-1,c=e(s.length-i,0),f=Array(c);++u<c;)f[u]=s[i+u];u=-1;for(var h=Array(i+1);++u<i;)h[u]=s[u];return h[i]=a(f),t(n,this,h)}}return O_=r,O_}var C_,NC;function MH(){if(NC)return C_;NC=1;function t(e){return function(){return e}}return C_=t,C_}var N_,RC;function a$(){if(RC)return N_;RC=1;var t=cl(),e=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return N_=e,N_}var R_,jC;function LH(){if(jC)return R_;jC=1;var t=MH(),e=a$(),r=nc(),n=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:r;return R_=n,R_}var j_,DC;function $H(){if(DC)return j_;DC=1;var t=800,e=16,r=Date.now;function n(i){var a=0,s=0;return function(){var u=r(),c=e-(u-s);if(s=u,c>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return j_=n,j_}var D_,MC;function FH(){if(MC)return D_;MC=1;var t=LH(),e=$H(),r=e(t);return D_=r,D_}var M_,LC;function VH(){if(LC)return M_;LC=1;var t=nc(),e=DH(),r=FH();function n(i,a){return r(e(i,a,t),i+"")}return M_=n,M_}var L_,$C;function wg(){if($C)return L_;$C=1;var t=ME(),e=jd(),r=XE(),n=ns();function i(a,s,u){if(!n(u))return!1;var c=typeof s;return(c=="number"?e(u)&&r(s,u.length):c=="string"&&s in u)?t(u[s],a):!1}return L_=i,L_}var $_,FC;function UH(){if(FC)return $_;FC=1;var t=r$(),e=RH(),r=VH(),n=wg(),i=r(function(a,s){if(a==null)return[];var u=s.length;return u>1&&n(a,s[0],s[1])?s=[]:u>2&&n(s[0],s[1],s[2])&&(s=[s[0]]),e(a,t(s,1),[])});return $_=i,$_}var BH=UH();const eS=bt(BH);function Df(t){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Df(t)}function kw(){return kw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kw.apply(this,arguments)}function qH(t,e){return KH(t)||HH(t,e)||WH(t,e)||zH()}function zH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WH(t,e){if(t){if(typeof t=="string")return VC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VC(t,e)}}function VC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function HH(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function KH(t){if(Array.isArray(t))return t}function UC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function F_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UC(Object(r),!0).forEach(function(n){GH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function GH(t,e,r){return e=YH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YH(t){var e=XH(t,"string");return Df(e)=="symbol"?e:e+""}function XH(t,e){if(Df(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QH(t){return Array.isArray(t)&&br(t[0])&&br(t[1])?t.join(" ~ "):t}var JH=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,u=s===void 0?{}:s,c=e.labelStyle,f=c===void 0?{}:c,h=e.payload,m=e.formatter,y=e.itemSorter,b=e.wrapperClassName,x=e.labelClassName,E=e.label,w=e.labelFormatter,O=e.accessibilityLayer,C=O===void 0?!1:O,N=function(){if(h&&h.length){var V={padding:0,margin:0},D=(y?eS(h,y):h).map(function(Z,ee){if(Z.type==="none")return null;var re=F_({display:"block",paddingTop:4,paddingBottom:4,color:Z.color||"#000"},u),oe=Z.formatter||m||QH,Q=Z.value,ie=Z.name,se=Q,q=ie;if(oe&&se!=null&&q!=null){var G=oe(Q,ie,Z,ee,h);if(Array.isArray(G)){var fe=qH(G,2);se=fe[0],q=fe[1]}else se=G}return z.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(ee),style:re},br(q)?z.createElement("span",{className:"recharts-tooltip-item-name"},q):null,br(q)?z.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,z.createElement("span",{className:"recharts-tooltip-item-value"},se),z.createElement("span",{className:"recharts-tooltip-item-unit"},Z.unit||""))});return z.createElement("ul",{className:"recharts-tooltip-item-list",style:V},D)}return null},$=F_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),I=F_({margin:0},f),j=!Je(E),A=j?E:"",P=et("recharts-default-tooltip",b),R=et("recharts-tooltip-label",x);j&&w&&h!==void 0&&h!==null&&(A=w(E,h));var F=C?{role:"status","aria-live":"assertive"}:{};return z.createElement("div",kw({className:P,style:$},F),z.createElement("p",{className:R,style:I},z.isValidElement(A)?A:"".concat(A)),N())};function Mf(t){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mf(t)}function lp(t,e,r){return e=ZH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZH(t){var e=eK(t,"string");return Mf(e)=="symbol"?e:e+""}function eK(t,e){if(Mf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qc="recharts-tooltip-wrapper",tK={visibility:"hidden"};function rK(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return et(qc,lp(lp(lp(lp({},"".concat(qc,"-right"),ve(r)&&e&&ve(e.x)&&r>=e.x),"".concat(qc,"-left"),ve(r)&&e&&ve(e.x)&&r<e.x),"".concat(qc,"-bottom"),ve(n)&&e&&ve(e.y)&&n>=e.y),"".concat(qc,"-top"),ve(n)&&e&&ve(e.y)&&n<e.y))}function BC(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,u=t.tooltipDimension,c=t.viewBox,f=t.viewBoxDimension;if(a&&ve(a[n]))return a[n];var h=r[n]-u-i,m=r[n]+i;if(e[n])return s[n]?h:m;if(s[n]){var y=h,b=c[n];return y<b?Math.max(m,c[n]):Math.max(h,c[n])}var x=m+u,E=c[n]+f;return x>E?Math.max(h,c[n]):Math.max(m,c[n])}function nK(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function iK(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,u=t.useTranslate3d,c=t.viewBox,f,h,m;return s.height>0&&s.width>0&&r?(h=BC({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),m=BC({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),f=nK({translateX:h,translateY:m,useTranslate3d:u})):f=tK,{cssProperties:f,cssClasses:rK({translateX:h,translateY:m,coordinate:r})}}function ku(t){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ku(t)}function qC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qC(Object(r),!0).forEach(function(n){Ow(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,s$(n.key),n)}}function sK(t,e,r){return e&&oK(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lK(t,e,r){return e=tm(e),uK(t,o$()?Reflect.construct(e,r||[],tm(t).constructor):e.apply(t,r))}function uK(t,e){if(e&&(ku(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cK(t)}function cK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o$=function(){return!!t})()}function tm(t){return tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tm(t)}function fK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Iw(t,e)}function Iw(t,e){return Iw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Iw(t,e)}function Ow(t,e,r){return e=s$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s$(t){var e=dK(t,"string");return ku(e)=="symbol"?e:e+""}function dK(t,e){if(ku(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ku(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var WC=1,hK=function(t){function e(){var r;aK(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=lK(this,e,[].concat(i)),Ow(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Ow(r,"handleKeyDown",function(s){if(s.key==="Escape"){var u,c,f,h;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&u!==void 0?u:0,y:(f=(h=r.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&f!==void 0?f:0}})}}),r}return fK(e,t),sK(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>WC||Math.abs(n.height-this.state.lastBoundingBox.height)>WC)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,u=i.animationDuration,c=i.animationEasing,f=i.children,h=i.coordinate,m=i.hasPayload,y=i.isAnimationActive,b=i.offset,x=i.position,E=i.reverseDirection,w=i.useTranslate3d,O=i.viewBox,C=i.wrapperStyle,N=iK({allowEscapeViewBox:s,coordinate:h,offsetTopLeft:b,position:x,reverseDirection:E,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:O}),$=N.cssClasses,I=N.cssProperties,j=zC(zC({transition:y&&a?"transform ".concat(u,"ms ").concat(c):void 0},I),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&m?"visible":"hidden",position:"absolute",top:0,left:0},C);return z.createElement("div",{tabIndex:-1,className:$,style:j,ref:function(P){n.wrapperNode=P}},f)}}])}(K.PureComponent),pK=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},fl={isSsr:pK()};function Iu(t){"@babel/helpers - typeof";return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iu(t)}function HC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function KC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HC(Object(r),!0).forEach(function(n){tS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u$(n.key),n)}}function yK(t,e,r){return e&&gK(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vK(t,e,r){return e=rm(e),bK(t,l$()?Reflect.construct(e,r||[],rm(t).constructor):e.apply(t,r))}function bK(t,e){if(e&&(Iu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _K(t)}function _K(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l$=function(){return!!t})()}function rm(t){return rm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rm(t)}function xK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cw(t,e)}function Cw(t,e){return Cw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Cw(t,e)}function tS(t,e,r){return e=u$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u$(t){var e=wK(t,"string");return Iu(e)=="symbol"?e:e+""}function wK(t,e){if(Iu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Iu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function EK(t){return t.dataKey}function SK(t,e){return z.isValidElement(t)?z.cloneElement(t,e):typeof t=="function"?z.createElement(t,e):z.createElement(JH,e)}var Vn=function(t){function e(){return mK(this,e),vK(this,e,arguments)}return xK(e,t),yK(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,u=i.animationDuration,c=i.animationEasing,f=i.content,h=i.coordinate,m=i.filterNull,y=i.isAnimationActive,b=i.offset,x=i.payload,E=i.payloadUniqBy,w=i.position,O=i.reverseDirection,C=i.useTranslate3d,N=i.viewBox,$=i.wrapperStyle,I=x??[];m&&I.length&&(I=ZL(x.filter(function(A){return A.value!=null&&(A.hide!==!0||n.props.includeHidden)}),E,EK));var j=I.length>0;return z.createElement(hK,{allowEscapeViewBox:s,animationDuration:u,animationEasing:c,isAnimationActive:y,active:a,coordinate:h,hasPayload:j,offset:b,position:w,reverseDirection:O,useTranslate3d:C,viewBox:N,wrapperStyle:$},SK(f,KC(KC({},this.props),{},{payload:I})))}}])}(K.PureComponent);tS(Vn,"displayName","Tooltip");tS(Vn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!fl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var V_,GC;function TK(){if(GC)return V_;GC=1;var t=ya(),e=function(){return t.Date.now()};return V_=e,V_}var U_,YC;function AK(){if(YC)return U_;YC=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return U_=e,U_}var B_,XC;function PK(){if(XC)return B_;XC=1;var t=AK(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return B_=r,B_}var q_,QC;function c$(){if(QC)return q_;QC=1;var t=PK(),e=ns(),r=ec(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,u=parseInt;function c(f){if(typeof f=="number")return f;if(r(f))return n;if(e(f)){var h=typeof f.valueOf=="function"?f.valueOf():f;f=e(h)?h+"":h}if(typeof f!="string")return f===0?f:+f;f=t(f);var m=a.test(f);return m||s.test(f)?u(f.slice(2),m?2:8):i.test(f)?n:+f}return q_=c,q_}var z_,JC;function kK(){if(JC)return z_;JC=1;var t=ns(),e=TK(),r=c$(),n="Expected a function",i=Math.max,a=Math.min;function s(u,c,f){var h,m,y,b,x,E,w=0,O=!1,C=!1,N=!0;if(typeof u!="function")throw new TypeError(n);c=r(c)||0,t(f)&&(O=!!f.leading,C="maxWait"in f,y=C?i(r(f.maxWait)||0,c):y,N="trailing"in f?!!f.trailing:N);function $(D){var Z=h,ee=m;return h=m=void 0,w=D,b=u.apply(ee,Z),b}function I(D){return w=D,x=setTimeout(P,c),O?$(D):b}function j(D){var Z=D-E,ee=D-w,re=c-Z;return C?a(re,y-ee):re}function A(D){var Z=D-E,ee=D-w;return E===void 0||Z>=c||Z<0||C&&ee>=y}function P(){var D=e();if(A(D))return R(D);x=setTimeout(P,j(D))}function R(D){return x=void 0,N&&h?$(D):(h=m=void 0,b)}function F(){x!==void 0&&clearTimeout(x),w=0,h=E=m=x=void 0}function M(){return x===void 0?b:R(e())}function V(){var D=e(),Z=A(D);if(h=arguments,m=this,E=D,Z){if(x===void 0)return I(E);if(C)return clearTimeout(x),x=setTimeout(P,c),$(E)}return x===void 0&&(x=setTimeout(P,c)),b}return V.cancel=F,V.flush=M,V}return z_=s,z_}var W_,ZC;function IK(){if(ZC)return W_;ZC=1;var t=kK(),e=ns(),r="Expected a function";function n(i,a,s){var u=!0,c=!0;if(typeof i!="function")throw new TypeError(r);return e(s)&&(u="leading"in s?!!s.leading:u,c="trailing"in s?!!s.trailing:c),t(i,a,{leading:u,maxWait:a,trailing:c})}return W_=n,W_}var OK=IK();const f$=bt(OK);function Lf(t){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lf(t)}function eN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function up(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eN(Object(r),!0).forEach(function(n){CK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CK(t,e,r){return e=NK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NK(t){var e=RK(t,"string");return Lf(e)=="symbol"?e:e+""}function RK(t,e){if(Lf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jK(t,e){return $K(t)||LK(t,e)||MK(t,e)||DK()}function DK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MK(t,e){if(t){if(typeof t=="string")return tN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tN(t,e)}}function tN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function LK(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function $K(t){if(Array.isArray(t))return t}var Eg=K.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,s=a===void 0?"100%":a,u=t.height,c=u===void 0?"100%":u,f=t.minWidth,h=f===void 0?0:f,m=t.minHeight,y=t.maxHeight,b=t.children,x=t.debounce,E=x===void 0?0:x,w=t.id,O=t.className,C=t.onResize,N=t.style,$=N===void 0?{}:N,I=K.useRef(null),j=K.useRef();j.current=C,K.useImperativeHandle(e,function(){return Object.defineProperty(I.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),I.current},configurable:!0})});var A=K.useState({containerWidth:i.width,containerHeight:i.height}),P=jK(A,2),R=P[0],F=P[1],M=K.useCallback(function(D,Z){F(function(ee){var re=Math.round(D),oe=Math.round(Z);return ee.containerWidth===re&&ee.containerHeight===oe?ee:{containerWidth:re,containerHeight:oe}})},[]);K.useEffect(function(){var D=function(ie){var se,q=ie[0].contentRect,G=q.width,fe=q.height;M(G,fe),(se=j.current)===null||se===void 0||se.call(j,G,fe)};E>0&&(D=f$(D,E,{trailing:!0,leading:!1}));var Z=new ResizeObserver(D),ee=I.current.getBoundingClientRect(),re=ee.width,oe=ee.height;return M(re,oe),Z.observe(I.current),function(){Z.disconnect()}},[M,E]);var V=K.useMemo(function(){var D=R.containerWidth,Z=R.containerHeight;if(D<0||Z<0)return null;Mi(Ls(s)||Ls(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),Mi(!r||r>0,"The aspect(%s) must be greater than zero.",r);var ee=Ls(s)?D:s,re=Ls(c)?Z:c;r&&r>0&&(ee?re=ee/r:re&&(ee=re*r),y&&re>y&&(re=y)),Mi(ee>0||re>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,ee,re,s,c,h,m,r);var oe=!Array.isArray(b)&&Ha(b.type).endsWith("Chart");return z.Children.map(b,function(Q){return z.isValidElement(Q)?K.cloneElement(Q,up({width:ee,height:re},oe?{style:up({height:"100%",width:"100%",maxHeight:re,maxWidth:ee},Q.props.style)}:{})):Q})},[r,b,c,y,m,h,R,s]);return z.createElement("div",{id:w?"".concat(w):void 0,className:et("recharts-responsive-container",O),style:up(up({},$),{},{width:s,height:c,minWidth:h,minHeight:m,maxHeight:y}),ref:I},V)}),Sg=function(e){return null};Sg.displayName="Cell";function $f(t){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$f(t)}function rN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Nw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rN(Object(r),!0).forEach(function(n){FK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function FK(t,e,r){return e=VK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VK(t){var e=UK(t,"string");return $f(e)=="symbol"?e:e+""}function UK(t,e){if($f(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ql={widthCache:{},cacheCount:0},BK=2e3,qK={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},nN="recharts_measurement_span";function zK(t){var e=Nw({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var mf=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||fl.isSsr)return{width:0,height:0};var n=zK(r),i=JSON.stringify({text:e,copyStyle:n});if(Ql.widthCache[i])return Ql.widthCache[i];try{var a=document.getElementById(nN);a||(a=document.createElement("span"),a.setAttribute("id",nN),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=Nw(Nw({},qK),n);Object.assign(a.style,s),a.textContent="".concat(e);var u=a.getBoundingClientRect(),c={width:u.width,height:u.height};return Ql.widthCache[i]=c,++Ql.cacheCount>BK&&(Ql.cacheCount=0,Ql.widthCache={}),c}catch{return{width:0,height:0}}},WK=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Ff(t){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ff(t)}function nm(t,e){return YK(t)||GK(t,e)||KK(t,e)||HK()}function HK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KK(t,e){if(t){if(typeof t=="string")return iN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iN(t,e)}}function iN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function GK(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function YK(t){if(Array.isArray(t))return t}function XK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aN(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,JK(n.key),n)}}function QK(t,e,r){return e&&aN(t.prototype,e),r&&aN(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function JK(t){var e=ZK(t,"string");return Ff(e)=="symbol"?e:e+""}function ZK(t,e){if(Ff(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ff(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var oN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,sN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,eG=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,tG=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,d$={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},rG=Object.keys(d$),au="NaN";function nG(t,e){return t*d$[e]}var cp=function(){function t(e,r){XK(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!eG.test(r)&&(this.num=NaN,this.unit=""),rG.includes(r)&&(this.num=nG(e,r),this.unit="px")}return QK(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=tG.exec(r))!==null&&n!==void 0?n:[],a=nm(i,3),s=a[1],u=a[2];return new t(parseFloat(s),u??"")}}])}();function h$(t){if(t.includes(au))return au;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=oN.exec(e))!==null&&r!==void 0?r:[],i=nm(n,4),a=i[1],s=i[2],u=i[3],c=cp.parse(a??""),f=cp.parse(u??""),h=s==="*"?c.multiply(f):c.divide(f);if(h.isNaN())return au;e=e.replace(oN,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,y=(m=sN.exec(e))!==null&&m!==void 0?m:[],b=nm(y,4),x=b[1],E=b[2],w=b[3],O=cp.parse(x??""),C=cp.parse(w??""),N=E==="+"?O.add(C):O.subtract(C);if(N.isNaN())return au;e=e.replace(sN,N.toString())}return e}var lN=/\(([^()]*)\)/;function iG(t){for(var e=t;e.includes("(");){var r=lN.exec(e),n=nm(r,2),i=n[1];e=e.replace(lN,h$(i))}return e}function aG(t){var e=t.replace(/\s+/g,"");return e=iG(e),e=h$(e),e}function oG(t){try{return aG(t)}catch{return au}}function H_(t){var e=oG(t.slice(5,-1));return e===au?"":e}var sG=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],lG=["dx","dy","angle","className","breakAll"];function Rw(){return Rw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rw.apply(this,arguments)}function uN(t,e){if(t==null)return{};var r=uG(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function uG(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function cN(t,e){return hG(t)||dG(t,e)||fG(t,e)||cG()}function cG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fG(t,e){if(t){if(typeof t=="string")return fN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fN(t,e)}}function fN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function dG(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function hG(t){if(Array.isArray(t))return t}var p$=/[ \f\n\r\t\v\u2028\u2029]+/,m$=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];Je(r)||(n?a=r.toString().split(""):a=r.toString().split(p$));var s=a.map(function(c){return{word:c,width:mf(c,i).width}}),u=n?0:mf(" ",i).width;return{wordsWithComputedWidth:s,spaceWidth:u}}catch{return null}},pG=function(e,r,n,i,a){var s=e.maxLines,u=e.children,c=e.style,f=e.breakAll,h=ve(s),m=u,y=function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ee.reduce(function(re,oe){var Q=oe.word,ie=oe.width,se=re[re.length-1];if(se&&(i==null||a||se.width+ie+n<Number(i)))se.words.push(Q),se.width+=ie+n;else{var q={words:[Q],width:ie};re.push(q)}return re},[])},b=y(r),x=function(ee){return ee.reduce(function(re,oe){return re.width>oe.width?re:oe})};if(!h)return b;for(var E="…",w=function(ee){var re=m.slice(0,ee),oe=m$({breakAll:f,style:c,children:re+E}).wordsWithComputedWidth,Q=y(oe),ie=Q.length>s||x(Q).width>Number(i);return[ie,Q]},O=0,C=m.length-1,N=0,$;O<=C&&N<=m.length-1;){var I=Math.floor((O+C)/2),j=I-1,A=w(j),P=cN(A,2),R=P[0],F=P[1],M=w(I),V=cN(M,1),D=V[0];if(!R&&!D&&(O=I+1),R&&D&&(C=I-1),!R&&D){$=F;break}N++}return $||b},dN=function(e){var r=Je(e)?[]:e.toString().split(p$);return[{words:r}]},mG=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,u=e.maxLines;if((r||n)&&!fl.isSsr){var c,f,h=m$({breakAll:s,children:i,style:a});if(h){var m=h.wordsWithComputedWidth,y=h.spaceWidth;c=m,f=y}else return dN(i);return pG({breakAll:s,children:i,maxLines:u,style:a},c,f,r,n)}return dN(i)},hN="#808080",tl=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.lineHeight,u=s===void 0?"1em":s,c=e.capHeight,f=c===void 0?"0.71em":c,h=e.scaleToFit,m=h===void 0?!1:h,y=e.textAnchor,b=y===void 0?"start":y,x=e.verticalAnchor,E=x===void 0?"end":x,w=e.fill,O=w===void 0?hN:w,C=uN(e,sG),N=K.useMemo(function(){return mG({breakAll:C.breakAll,children:C.children,maxLines:C.maxLines,scaleToFit:m,style:C.style,width:C.width})},[C.breakAll,C.children,C.maxLines,m,C.style,C.width]),$=C.dx,I=C.dy,j=C.angle,A=C.className,P=C.breakAll,R=uN(C,lG);if(!br(n)||!br(a))return null;var F=n+(ve($)?$:0),M=a+(ve(I)?I:0),V;switch(E){case"start":V=H_("calc(".concat(f,")"));break;case"middle":V=H_("calc(".concat((N.length-1)/2," * -").concat(u," + (").concat(f," / 2))"));break;default:V=H_("calc(".concat(N.length-1," * -").concat(u,")"));break}var D=[];if(m){var Z=N[0].width,ee=C.width;D.push("scale(".concat((ve(ee)?ee/Z:1)/Z,")"))}return j&&D.push("rotate(".concat(j,", ").concat(F,", ").concat(M,")")),D.length&&(R.transform=D.join(" ")),z.createElement("text",Rw({},qe(R,!0),{x:F,y:M,className:et("recharts-text",A),textAnchor:b,fill:O.includes("url")?hN:O}),N.map(function(re,oe){var Q=re.words.join(P?"":" ");return z.createElement("tspan",{x:F,dy:oe===0?V:u,key:"".concat(Q,"-").concat(oe)},Q)}))};function Go(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function gG(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function rS(t){let e,r,n;t.length!==2?(e=Go,r=(u,c)=>Go(t(u),c),n=(u,c)=>t(u)-c):(e=t===Go||t===gG?t:yG,r=t,n=t);function i(u,c,f=0,h=u.length){if(f<h){if(e(c,c)!==0)return h;do{const m=f+h>>>1;r(u[m],c)<0?f=m+1:h=m}while(f<h)}return f}function a(u,c,f=0,h=u.length){if(f<h){if(e(c,c)!==0)return h;do{const m=f+h>>>1;r(u[m],c)<=0?f=m+1:h=m}while(f<h)}return f}function s(u,c,f=0,h=u.length){const m=i(u,c,f,h-1);return m>f&&n(u[m-1],c)>-n(u[m],c)?m-1:m}return{left:i,center:s,right:a}}function yG(){return 0}function g$(t){return t===null?NaN:+t}function*vG(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const bG=rS(Go),Dd=bG.right;rS(g$).center;class pN extends Map{constructor(e,r=wG){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(mN(this,e))}has(e){return super.has(mN(this,e))}set(e,r){return super.set(_G(this,e),r)}delete(e){return super.delete(xG(this,e))}}function mN({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function _G({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function xG({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function wG(t){return t!==null&&typeof t=="object"?t.valueOf():t}function EG(t=Go){if(t===Go)return y$;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function y$(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const SG=Math.sqrt(50),TG=Math.sqrt(10),AG=Math.sqrt(2);function im(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=SG?10:a>=TG?5:a>=AG?2:1;let u,c,f;return i<0?(f=Math.pow(10,-i)/s,u=Math.round(t*f),c=Math.round(e*f),u/f<t&&++u,c/f>e&&--c,f=-f):(f=Math.pow(10,i)*s,u=Math.round(t/f),c=Math.round(e/f),u*f<t&&++u,c*f>e&&--c),c<u&&.5<=r&&r<2?im(t,e,r*2):[u,c,f]}function jw(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,s]=n?im(e,t,r):im(t,e,r);if(!(a>=i))return[];const u=a-i+1,c=new Array(u);if(n)if(s<0)for(let f=0;f<u;++f)c[f]=(a-f)/-s;else for(let f=0;f<u;++f)c[f]=(a-f)*s;else if(s<0)for(let f=0;f<u;++f)c[f]=(i+f)/-s;else for(let f=0;f<u;++f)c[f]=(i+f)*s;return c}function Dw(t,e,r){return e=+e,t=+t,r=+r,im(t,e,r)[2]}function Mw(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?Dw(e,t,r):Dw(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function gN(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function yN(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function v$(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?y$:EG(i);n>r;){if(n-r>600){const c=n-r+1,f=e-r+1,h=Math.log(c),m=.5*Math.exp(2*h/3),y=.5*Math.sqrt(h*m*(c-m)/c)*(f-c/2<0?-1:1),b=Math.max(r,Math.floor(e-f*m/c+y)),x=Math.min(n,Math.floor(e+(c-f)*m/c+y));v$(t,e,b,x,i)}const a=t[e];let s=r,u=n;for(zc(t,r,e),i(t[n],a)>0&&zc(t,r,n);s<u;){for(zc(t,s,u),++s,--u;i(t[s],a)<0;)++s;for(;i(t[u],a)>0;)--u}i(t[r],a)===0?zc(t,r,u):(++u,zc(t,u,n)),u<=e&&(r=u+1),e<=u&&(n=u-1)}return t}function zc(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function PG(t,e,r){if(t=Float64Array.from(vG(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return yN(t);if(e>=1)return gN(t);var n,i=(n-1)*e,a=Math.floor(i),s=gN(v$(t,a).subarray(0,a+1)),u=yN(t.subarray(a+1));return s+(u-s)*(i-a)}}function kG(t,e,r=g$){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),s=+r(t[a],a,t),u=+r(t[a+1],a+1,t);return s+(u-s)*(i-a)}}function IG(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function pi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function oo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Lw=Symbol("implicit");function nS(){var t=new pN,e=[],r=[],n=Lw;function i(a){let s=t.get(a);if(s===void 0){if(n!==Lw)return n;t.set(a,s=e.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new pN;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return nS(e,r).unknown(n)},pi.apply(i,arguments),i}function Vf(){var t=nS().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,s,u=!1,c=0,f=0,h=.5;delete t.unknown;function m(){var y=e().length,b=i<n,x=b?i:n,E=b?n:i;a=(E-x)/Math.max(1,y-c+f*2),u&&(a=Math.floor(a)),x+=(E-x-a*(y-c))*h,s=a*(1-c),u&&(x=Math.round(x),s=Math.round(s));var w=IG(y).map(function(O){return x+a*O});return r(b?w.reverse():w)}return t.domain=function(y){return arguments.length?(e(y),m()):e()},t.range=function(y){return arguments.length?([n,i]=y,n=+n,i=+i,m()):[n,i]},t.rangeRound=function(y){return[n,i]=y,n=+n,i=+i,u=!0,m()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(y){return arguments.length?(u=!!y,m()):u},t.padding=function(y){return arguments.length?(c=Math.min(1,f=+y),m()):c},t.paddingInner=function(y){return arguments.length?(c=Math.min(1,y),m()):c},t.paddingOuter=function(y){return arguments.length?(f=+y,m()):f},t.align=function(y){return arguments.length?(h=Math.max(0,Math.min(1,y)),m()):h},t.copy=function(){return Vf(e(),[n,i]).round(u).paddingInner(c).paddingOuter(f).align(h)},pi.apply(m(),arguments)}function b$(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return b$(e())},t}function gf(){return b$(Vf.apply(null,arguments).paddingInner(1))}function iS(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function _$(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Md(){}var Uf=.7,am=1/Uf,mu="\\s*([+-]?\\d+)\\s*",Bf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ca="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",OG=/^#([0-9a-f]{3,8})$/,CG=new RegExp(`^rgb\\(${mu},${mu},${mu}\\)$`),NG=new RegExp(`^rgb\\(${ca},${ca},${ca}\\)$`),RG=new RegExp(`^rgba\\(${mu},${mu},${mu},${Bf}\\)$`),jG=new RegExp(`^rgba\\(${ca},${ca},${ca},${Bf}\\)$`),DG=new RegExp(`^hsl\\(${Bf},${ca},${ca}\\)$`),MG=new RegExp(`^hsla\\(${Bf},${ca},${ca},${Bf}\\)$`),vN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};iS(Md,qf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:bN,formatHex:bN,formatHex8:LG,formatHsl:$G,formatRgb:_N,toString:_N});function bN(){return this.rgb().formatHex()}function LG(){return this.rgb().formatHex8()}function $G(){return x$(this).formatHsl()}function _N(){return this.rgb().formatRgb()}function qf(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=OG.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?xN(e):r===3?new En(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?fp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?fp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=CG.exec(t))?new En(e[1],e[2],e[3],1):(e=NG.exec(t))?new En(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=RG.exec(t))?fp(e[1],e[2],e[3],e[4]):(e=jG.exec(t))?fp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=DG.exec(t))?SN(e[1],e[2]/100,e[3]/100,1):(e=MG.exec(t))?SN(e[1],e[2]/100,e[3]/100,e[4]):vN.hasOwnProperty(t)?xN(vN[t]):t==="transparent"?new En(NaN,NaN,NaN,0):null}function xN(t){return new En(t>>16&255,t>>8&255,t&255,1)}function fp(t,e,r,n){return n<=0&&(t=e=r=NaN),new En(t,e,r,n)}function FG(t){return t instanceof Md||(t=qf(t)),t?(t=t.rgb(),new En(t.r,t.g,t.b,t.opacity)):new En}function $w(t,e,r,n){return arguments.length===1?FG(t):new En(t,e,r,n??1)}function En(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}iS(En,$w,_$(Md,{brighter(t){return t=t==null?am:Math.pow(am,t),new En(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Uf:Math.pow(Uf,t),new En(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new En(qs(this.r),qs(this.g),qs(this.b),om(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:wN,formatHex:wN,formatHex8:VG,formatRgb:EN,toString:EN}));function wN(){return`#${$s(this.r)}${$s(this.g)}${$s(this.b)}`}function VG(){return`#${$s(this.r)}${$s(this.g)}${$s(this.b)}${$s((isNaN(this.opacity)?1:this.opacity)*255)}`}function EN(){const t=om(this.opacity);return`${t===1?"rgb(":"rgba("}${qs(this.r)}, ${qs(this.g)}, ${qs(this.b)}${t===1?")":`, ${t})`}`}function om(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function qs(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function $s(t){return t=qs(t),(t<16?"0":"")+t.toString(16)}function SN(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Di(t,e,r,n)}function x$(t){if(t instanceof Di)return new Di(t.h,t.s,t.l,t.opacity);if(t instanceof Md||(t=qf(t)),!t)return new Di;if(t instanceof Di)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),s=NaN,u=a-i,c=(a+i)/2;return u?(e===a?s=(r-n)/u+(r<n)*6:r===a?s=(n-e)/u+2:s=(e-r)/u+4,u/=c<.5?a+i:2-a-i,s*=60):u=c>0&&c<1?0:s,new Di(s,u,c,t.opacity)}function UG(t,e,r,n){return arguments.length===1?x$(t):new Di(t,e,r,n??1)}function Di(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}iS(Di,UG,_$(Md,{brighter(t){return t=t==null?am:Math.pow(am,t),new Di(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Uf:Math.pow(Uf,t),new Di(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new En(K_(t>=240?t-240:t+120,i,n),K_(t,i,n),K_(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Di(TN(this.h),dp(this.s),dp(this.l),om(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=om(this.opacity);return`${t===1?"hsl(":"hsla("}${TN(this.h)}, ${dp(this.s)*100}%, ${dp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function TN(t){return t=(t||0)%360,t<0?t+360:t}function dp(t){return Math.max(0,Math.min(1,t||0))}function K_(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const aS=t=>()=>t;function BG(t,e){return function(r){return t+r*e}}function qG(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function zG(t){return(t=+t)==1?w$:function(e,r){return r-e?qG(e,r,t):aS(isNaN(e)?r:e)}}function w$(t,e){var r=e-t;return r?BG(t,r):aS(isNaN(t)?e:t)}const AN=function t(e){var r=zG(e);function n(i,a){var s=r((i=$w(i)).r,(a=$w(a)).r),u=r(i.g,a.g),c=r(i.b,a.b),f=w$(i.opacity,a.opacity);return function(h){return i.r=s(h),i.g=u(h),i.b=c(h),i.opacity=f(h),i+""}}return n.gamma=t,n}(1);function WG(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function HG(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function KG(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=ic(t[s],e[s]);for(;s<r;++s)a[s]=e[s];return function(u){for(s=0;s<n;++s)a[s]=i[s](u);return a}}function GG(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function sm(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function YG(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=ic(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Fw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,G_=new RegExp(Fw.source,"g");function XG(t){return function(){return t}}function QG(t){return function(e){return t(e)+""}}function JG(t,e){var r=Fw.lastIndex=G_.lastIndex=0,n,i,a,s=-1,u=[],c=[];for(t=t+"",e=e+"";(n=Fw.exec(t))&&(i=G_.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),u[s]?u[s]+=a:u[++s]=a),(n=n[0])===(i=i[0])?u[s]?u[s]+=i:u[++s]=i:(u[++s]=null,c.push({i:s,x:sm(n,i)})),r=G_.lastIndex;return r<e.length&&(a=e.slice(r),u[s]?u[s]+=a:u[++s]=a),u.length<2?c[0]?QG(c[0].x):XG(e):(e=c.length,function(f){for(var h=0,m;h<e;++h)u[(m=c[h]).i]=m.x(f);return u.join("")})}function ic(t,e){var r=typeof e,n;return e==null||r==="boolean"?aS(e):(r==="number"?sm:r==="string"?(n=qf(e))?(e=n,AN):JG:e instanceof qf?AN:e instanceof Date?GG:HG(e)?WG:Array.isArray(e)?KG:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?YG:sm)(t,e)}function oS(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function ZG(t,e){e===void 0&&(e=t,t=ic);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(s){var u=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[u](s-u)}}function eY(t){return function(){return t}}function lm(t){return+t}var PN=[0,1];function ln(t){return t}function Vw(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:eY(isNaN(e)?NaN:.5)}function tY(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function rY(t,e,r){var n=t[0],i=t[1],a=e[0],s=e[1];return i<n?(n=Vw(i,n),a=r(s,a)):(n=Vw(n,i),a=r(a,s)),function(u){return a(n(u))}}function nY(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)i[s]=Vw(t[s],t[s+1]),a[s]=r(e[s],e[s+1]);return function(u){var c=Dd(t,u,1,n)-1;return a[c](i[c](u))}}function Ld(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Tg(){var t=PN,e=PN,r=ic,n,i,a,s=ln,u,c,f;function h(){var y=Math.min(t.length,e.length);return s!==ln&&(s=tY(t[0],t[y-1])),u=y>2?nY:rY,c=f=null,m}function m(y){return y==null||isNaN(y=+y)?a:(c||(c=u(t.map(n),e,r)))(n(s(y)))}return m.invert=function(y){return s(i((f||(f=u(e,t.map(n),sm)))(y)))},m.domain=function(y){return arguments.length?(t=Array.from(y,lm),h()):t.slice()},m.range=function(y){return arguments.length?(e=Array.from(y),h()):e.slice()},m.rangeRound=function(y){return e=Array.from(y),r=oS,h()},m.clamp=function(y){return arguments.length?(s=y?!0:ln,h()):s!==ln},m.interpolate=function(y){return arguments.length?(r=y,h()):r},m.unknown=function(y){return arguments.length?(a=y,m):a},function(y,b){return n=y,i=b,h()}}function sS(){return Tg()(ln,ln)}function iY(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function um(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Ou(t){return t=um(Math.abs(t)),t?t[1]:NaN}function aY(t,e){return function(r,n){for(var i=r.length,a=[],s=0,u=t[0],c=0;i>0&&u>0&&(c+u+1>n&&(u=Math.max(1,n-c)),a.push(r.substring(i-=u,i+u)),!((c+=u+1)>n));)u=t[s=(s+1)%t.length];return a.reverse().join(e)}}function oY(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var sY=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function zf(t){if(!(e=sY.exec(t)))throw new Error("invalid format: "+t);var e;return new lS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}zf.prototype=lS.prototype;function lS(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}lS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function lY(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var E$;function uY(t,e){var r=um(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(E$=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+um(t,Math.max(0,e+a-1))[0]}function kN(t,e){var r=um(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const IN={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:iY,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>kN(t*100,e),r:kN,s:uY,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ON(t){return t}var CN=Array.prototype.map,NN=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function cY(t){var e=t.grouping===void 0||t.thousands===void 0?ON:aY(CN.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?ON:oY(CN.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(m){m=zf(m);var y=m.fill,b=m.align,x=m.sign,E=m.symbol,w=m.zero,O=m.width,C=m.comma,N=m.precision,$=m.trim,I=m.type;I==="n"?(C=!0,I="g"):IN[I]||(N===void 0&&(N=12),$=!0,I="g"),(w||y==="0"&&b==="=")&&(w=!0,y="0",b="=");var j=E==="$"?r:E==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",A=E==="$"?n:/[%p]/.test(I)?s:"",P=IN[I],R=/[defgprs%]/.test(I);N=N===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function F(M){var V=j,D=A,Z,ee,re;if(I==="c")D=P(M)+D,M="";else{M=+M;var oe=M<0||1/M<0;if(M=isNaN(M)?c:P(Math.abs(M),N),$&&(M=lY(M)),oe&&+M==0&&x!=="+"&&(oe=!1),V=(oe?x==="("?x:u:x==="-"||x==="("?"":x)+V,D=(I==="s"?NN[8+E$/3]:"")+D+(oe&&x==="("?")":""),R){for(Z=-1,ee=M.length;++Z<ee;)if(re=M.charCodeAt(Z),48>re||re>57){D=(re===46?i+M.slice(Z+1):M.slice(Z))+D,M=M.slice(0,Z);break}}}C&&!w&&(M=e(M,1/0));var Q=V.length+M.length+D.length,ie=Q<O?new Array(O-Q+1).join(y):"";switch(C&&w&&(M=e(ie+M,ie.length?O-D.length:1/0),ie=""),b){case"<":M=V+M+D+ie;break;case"=":M=V+ie+M+D;break;case"^":M=ie.slice(0,Q=ie.length>>1)+V+M+D+ie.slice(Q);break;default:M=ie+V+M+D;break}return a(M)}return F.toString=function(){return m+""},F}function h(m,y){var b=f((m=zf(m),m.type="f",m)),x=Math.max(-8,Math.min(8,Math.floor(Ou(y)/3)))*3,E=Math.pow(10,-x),w=NN[8+x/3];return function(O){return b(E*O)+w}}return{format:f,formatPrefix:h}}var hp,uS,S$;fY({thousands:",",grouping:[3],currency:["$",""]});function fY(t){return hp=cY(t),uS=hp.format,S$=hp.formatPrefix,hp}function dY(t){return Math.max(0,-Ou(Math.abs(t)))}function hY(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ou(e)/3)))*3-Ou(Math.abs(t)))}function pY(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ou(e)-Ou(t))+1}function T$(t,e,r,n){var i=Mw(t,e,r),a;switch(n=zf(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=hY(i,s))&&(n.precision=a),S$(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=pY(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=dY(i))&&(n.precision=a-(n.type==="%")*2);break}}return uS(n)}function is(t){var e=t.domain;return t.ticks=function(r){var n=e();return jw(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return T$(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,s=n[i],u=n[a],c,f,h=10;for(u<s&&(f=s,s=u,u=f,f=i,i=a,a=f);h-- >0;){if(f=Dw(s,u,r),f===c)return n[i]=s,n[a]=u,e(n);if(f>0)s=Math.floor(s/f)*f,u=Math.ceil(u/f)*f;else if(f<0)s=Math.ceil(s*f)/f,u=Math.floor(u*f)/f;else break;c=f}return t},t}function cm(){var t=sS();return t.copy=function(){return Ld(t,cm())},pi.apply(t,arguments),is(t)}function A$(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,lm),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return A$(t).unknown(e)},t=arguments.length?Array.from(t,lm):[0,1],is(r)}function P$(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),t[r]=e.floor(i),t[n]=e.ceil(a),t}function RN(t){return Math.log(t)}function jN(t){return Math.exp(t)}function mY(t){return-Math.log(-t)}function gY(t){return-Math.exp(-t)}function yY(t){return isFinite(t)?+("1e"+t):t<0?0:t}function vY(t){return t===10?yY:t===Math.E?Math.exp:e=>Math.pow(t,e)}function bY(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function DN(t){return(e,r)=>-t(-e,r)}function cS(t){const e=t(RN,jN),r=e.domain;let n=10,i,a;function s(){return i=bY(n),a=vY(n),r()[0]<0?(i=DN(i),a=DN(a),t(mY,gY)):t(RN,jN),e}return e.base=function(u){return arguments.length?(n=+u,s()):n},e.domain=function(u){return arguments.length?(r(u),s()):r()},e.ticks=u=>{const c=r();let f=c[0],h=c[c.length-1];const m=h<f;m&&([f,h]=[h,f]);let y=i(f),b=i(h),x,E;const w=u==null?10:+u;let O=[];if(!(n%1)&&b-y<w){if(y=Math.floor(y),b=Math.ceil(b),f>0){for(;y<=b;++y)for(x=1;x<n;++x)if(E=y<0?x/a(-y):x*a(y),!(E<f)){if(E>h)break;O.push(E)}}else for(;y<=b;++y)for(x=n-1;x>=1;--x)if(E=y>0?x/a(-y):x*a(y),!(E<f)){if(E>h)break;O.push(E)}O.length*2<w&&(O=jw(f,h,w))}else O=jw(y,b,Math.min(b-y,w)).map(a);return m?O.reverse():O},e.tickFormat=(u,c)=>{if(u==null&&(u=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=zf(c)).precision==null&&(c.trim=!0),c=uS(c)),u===1/0)return c;const f=Math.max(1,n*u/e.ticks().length);return h=>{let m=h/a(Math.round(i(h)));return m*n<n-.5&&(m*=n),m<=f?c(h):""}},e.nice=()=>r(P$(r(),{floor:u=>a(Math.floor(i(u))),ceil:u=>a(Math.ceil(i(u)))})),e}function k$(){const t=cS(Tg()).domain([1,10]);return t.copy=()=>Ld(t,k$()).base(t.base()),pi.apply(t,arguments),t}function MN(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function LN(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function fS(t){var e=1,r=t(MN(e),LN(e));return r.constant=function(n){return arguments.length?t(MN(e=+n),LN(e)):e},is(r)}function I$(){var t=fS(Tg());return t.copy=function(){return Ld(t,I$()).constant(t.constant())},pi.apply(t,arguments)}function $N(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function _Y(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function xY(t){return t<0?-t*t:t*t}function dS(t){var e=t(ln,ln),r=1;function n(){return r===1?t(ln,ln):r===.5?t(_Y,xY):t($N(r),$N(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},is(e)}function hS(){var t=dS(Tg());return t.copy=function(){return Ld(t,hS()).exponent(t.exponent())},pi.apply(t,arguments),t}function wY(){return hS.apply(null,arguments).exponent(.5)}function FN(t){return Math.sign(t)*t*t}function EY(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function O$(){var t=sS(),e=[0,1],r=!1,n;function i(a){var s=EY(t(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return t.invert(FN(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,lm)).map(FN)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return O$(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},pi.apply(i,arguments),is(i)}function C$(){var t=[],e=[],r=[],n;function i(){var s=0,u=Math.max(1,e.length);for(r=new Array(u-1);++s<u;)r[s-1]=kG(t,s/u);return a}function a(s){return s==null||isNaN(s=+s)?n:e[Dd(r,s)]}return a.invertExtent=function(s){var u=e.indexOf(s);return u<0?[NaN,NaN]:[u>0?r[u-1]:t[0],u<r.length?r[u]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let u of s)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Go),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return C$().domain(t).range(e).unknown(n)},pi.apply(a,arguments)}function N$(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[Dd(n,c,0,r)]:a}function u(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,u()):[t,e]},s.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,u()):i.slice()},s.invertExtent=function(c){var f=i.indexOf(c);return f<0?[NaN,NaN]:f<1?[t,n[0]]:f>=r?[n[r-1],e]:[n[f-1],n[f]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return N$().domain([t,e]).range(i).unknown(a)},pi.apply(is(s),arguments)}function R$(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[Dd(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return R$().domain(t).range(e).unknown(r)},pi.apply(i,arguments)}const Y_=new Date,X_=new Date;function xr(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),u=i.ceil(a);return a-s<u-a?s:u},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,u)=>{const c=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<s)||!(u>0))return c;let f;do c.push(f=new Date(+a)),e(a,u),t(a);while(f<a&&a<s);return c},i.filter=a=>xr(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,u)=>{if(s>=s)if(u<0)for(;++u<=0;)for(;e(s,-1),!a(s););else for(;--u>=0;)for(;e(s,1),!a(s););}),r&&(i.count=(a,s)=>(Y_.setTime(+a),X_.setTime(+s),t(Y_),t(X_),Math.floor(r(Y_,X_))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const fm=xr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);fm.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?xr(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):fm);fm.range;const Ba=1e3,di=Ba*60,qa=di*60,to=qa*24,pS=to*7,VN=to*30,Q_=to*365,Fs=xr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ba)},(t,e)=>(e-t)/Ba,t=>t.getUTCSeconds());Fs.range;const mS=xr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ba)},(t,e)=>{t.setTime(+t+e*di)},(t,e)=>(e-t)/di,t=>t.getMinutes());mS.range;const gS=xr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*di)},(t,e)=>(e-t)/di,t=>t.getUTCMinutes());gS.range;const yS=xr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ba-t.getMinutes()*di)},(t,e)=>{t.setTime(+t+e*qa)},(t,e)=>(e-t)/qa,t=>t.getHours());yS.range;const vS=xr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*qa)},(t,e)=>(e-t)/qa,t=>t.getUTCHours());vS.range;const $d=xr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*di)/to,t=>t.getDate()-1);$d.range;const Ag=xr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/to,t=>t.getUTCDate()-1);Ag.range;const j$=xr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/to,t=>Math.floor(t/to));j$.range;function dl(t){return xr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*di)/pS)}const Pg=dl(0),dm=dl(1),SY=dl(2),TY=dl(3),Cu=dl(4),AY=dl(5),PY=dl(6);Pg.range;dm.range;SY.range;TY.range;Cu.range;AY.range;PY.range;function hl(t){return xr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/pS)}const kg=hl(0),hm=hl(1),kY=hl(2),IY=hl(3),Nu=hl(4),OY=hl(5),CY=hl(6);kg.range;hm.range;kY.range;IY.range;Nu.range;OY.range;CY.range;const bS=xr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());bS.range;const _S=xr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());_S.range;const ro=xr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ro.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:xr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});ro.range;const no=xr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());no.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:xr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});no.range;function D$(t,e,r,n,i,a){const s=[[Fs,1,Ba],[Fs,5,5*Ba],[Fs,15,15*Ba],[Fs,30,30*Ba],[a,1,di],[a,5,5*di],[a,15,15*di],[a,30,30*di],[i,1,qa],[i,3,3*qa],[i,6,6*qa],[i,12,12*qa],[n,1,to],[n,2,2*to],[r,1,pS],[e,1,VN],[e,3,3*VN],[t,1,Q_]];function u(f,h,m){const y=h<f;y&&([f,h]=[h,f]);const b=m&&typeof m.range=="function"?m:c(f,h,m),x=b?b.range(f,+h+1):[];return y?x.reverse():x}function c(f,h,m){const y=Math.abs(h-f)/m,b=rS(([,,w])=>w).right(s,y);if(b===s.length)return t.every(Mw(f/Q_,h/Q_,m));if(b===0)return fm.every(Math.max(Mw(f,h,m),1));const[x,E]=s[y/s[b-1][2]<s[b][2]/y?b-1:b];return x.every(E)}return[u,c]}const[NY,RY]=D$(no,_S,kg,j$,vS,gS),[jY,DY]=D$(ro,bS,Pg,$d,yS,mS);function J_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Z_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Wc(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function MY(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,s=t.shortDays,u=t.months,c=t.shortMonths,f=Hc(i),h=Kc(i),m=Hc(a),y=Kc(a),b=Hc(s),x=Kc(s),E=Hc(u),w=Kc(u),O=Hc(c),C=Kc(c),N={a:oe,A:Q,b:ie,B:se,c:null,d:HN,e:HN,f:aX,g:mX,G:yX,H:rX,I:nX,j:iX,L:M$,m:oX,M:sX,p:q,q:G,Q:YN,s:XN,S:lX,u:uX,U:cX,V:fX,w:dX,W:hX,x:null,X:null,y:pX,Y:gX,Z:vX,"%":GN},$={a:fe,A:Se,b:Re,B:xe,c:null,d:KN,e:KN,f:wX,g:NX,G:jX,H:bX,I:_X,j:xX,L:$$,m:EX,M:SX,p:$e,q:Ve,Q:YN,s:XN,S:TX,u:AX,U:PX,V:kX,w:IX,W:OX,x:null,X:null,y:CX,Y:RX,Z:DX,"%":GN},I={a:F,A:M,b:V,B:D,c:Z,d:zN,e:zN,f:JY,g:qN,G:BN,H:WN,I:WN,j:GY,L:QY,m:KY,M:YY,p:R,q:HY,Q:eX,s:tX,S:XY,u:UY,U:BY,V:qY,w:VY,W:zY,x:ee,X:re,y:qN,Y:BN,Z:WY,"%":ZY};N.x=j(r,N),N.X=j(n,N),N.c=j(e,N),$.x=j(r,$),$.X=j(n,$),$.c=j(e,$);function j(pe,Oe){return function(ze){var ue=[],st=-1,He=0,pt=pe.length,Tt,Yt,fr;for(ze instanceof Date||(ze=new Date(+ze));++st<pt;)pe.charCodeAt(st)===37&&(ue.push(pe.slice(He,st)),(Yt=UN[Tt=pe.charAt(++st)])!=null?Tt=pe.charAt(++st):Yt=Tt==="e"?" ":"0",(fr=Oe[Tt])&&(Tt=fr(ze,Yt)),ue.push(Tt),He=st+1);return ue.push(pe.slice(He,st)),ue.join("")}}function A(pe,Oe){return function(ze){var ue=Wc(1900,void 0,1),st=P(ue,pe,ze+="",0),He,pt;if(st!=ze.length)return null;if("Q"in ue)return new Date(ue.Q);if("s"in ue)return new Date(ue.s*1e3+("L"in ue?ue.L:0));if(Oe&&!("Z"in ue)&&(ue.Z=0),"p"in ue&&(ue.H=ue.H%12+ue.p*12),ue.m===void 0&&(ue.m="q"in ue?ue.q:0),"V"in ue){if(ue.V<1||ue.V>53)return null;"w"in ue||(ue.w=1),"Z"in ue?(He=Z_(Wc(ue.y,0,1)),pt=He.getUTCDay(),He=pt>4||pt===0?hm.ceil(He):hm(He),He=Ag.offset(He,(ue.V-1)*7),ue.y=He.getUTCFullYear(),ue.m=He.getUTCMonth(),ue.d=He.getUTCDate()+(ue.w+6)%7):(He=J_(Wc(ue.y,0,1)),pt=He.getDay(),He=pt>4||pt===0?dm.ceil(He):dm(He),He=$d.offset(He,(ue.V-1)*7),ue.y=He.getFullYear(),ue.m=He.getMonth(),ue.d=He.getDate()+(ue.w+6)%7)}else("W"in ue||"U"in ue)&&("w"in ue||(ue.w="u"in ue?ue.u%7:"W"in ue?1:0),pt="Z"in ue?Z_(Wc(ue.y,0,1)).getUTCDay():J_(Wc(ue.y,0,1)).getDay(),ue.m=0,ue.d="W"in ue?(ue.w+6)%7+ue.W*7-(pt+5)%7:ue.w+ue.U*7-(pt+6)%7);return"Z"in ue?(ue.H+=ue.Z/100|0,ue.M+=ue.Z%100,Z_(ue)):J_(ue)}}function P(pe,Oe,ze,ue){for(var st=0,He=Oe.length,pt=ze.length,Tt,Yt;st<He;){if(ue>=pt)return-1;if(Tt=Oe.charCodeAt(st++),Tt===37){if(Tt=Oe.charAt(st++),Yt=I[Tt in UN?Oe.charAt(st++):Tt],!Yt||(ue=Yt(pe,ze,ue))<0)return-1}else if(Tt!=ze.charCodeAt(ue++))return-1}return ue}function R(pe,Oe,ze){var ue=f.exec(Oe.slice(ze));return ue?(pe.p=h.get(ue[0].toLowerCase()),ze+ue[0].length):-1}function F(pe,Oe,ze){var ue=b.exec(Oe.slice(ze));return ue?(pe.w=x.get(ue[0].toLowerCase()),ze+ue[0].length):-1}function M(pe,Oe,ze){var ue=m.exec(Oe.slice(ze));return ue?(pe.w=y.get(ue[0].toLowerCase()),ze+ue[0].length):-1}function V(pe,Oe,ze){var ue=O.exec(Oe.slice(ze));return ue?(pe.m=C.get(ue[0].toLowerCase()),ze+ue[0].length):-1}function D(pe,Oe,ze){var ue=E.exec(Oe.slice(ze));return ue?(pe.m=w.get(ue[0].toLowerCase()),ze+ue[0].length):-1}function Z(pe,Oe,ze){return P(pe,e,Oe,ze)}function ee(pe,Oe,ze){return P(pe,r,Oe,ze)}function re(pe,Oe,ze){return P(pe,n,Oe,ze)}function oe(pe){return s[pe.getDay()]}function Q(pe){return a[pe.getDay()]}function ie(pe){return c[pe.getMonth()]}function se(pe){return u[pe.getMonth()]}function q(pe){return i[+(pe.getHours()>=12)]}function G(pe){return 1+~~(pe.getMonth()/3)}function fe(pe){return s[pe.getUTCDay()]}function Se(pe){return a[pe.getUTCDay()]}function Re(pe){return c[pe.getUTCMonth()]}function xe(pe){return u[pe.getUTCMonth()]}function $e(pe){return i[+(pe.getUTCHours()>=12)]}function Ve(pe){return 1+~~(pe.getUTCMonth()/3)}return{format:function(pe){var Oe=j(pe+="",N);return Oe.toString=function(){return pe},Oe},parse:function(pe){var Oe=A(pe+="",!1);return Oe.toString=function(){return pe},Oe},utcFormat:function(pe){var Oe=j(pe+="",$);return Oe.toString=function(){return pe},Oe},utcParse:function(pe){var Oe=A(pe+="",!0);return Oe.toString=function(){return pe},Oe}}}var UN={"-":"",_:" ",0:"0"},Cr=/^\s*\d+/,LY=/^%/,$Y=/[\\^$*+?|[\]().{}]/g;function ht(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function FY(t){return t.replace($Y,"\\$&")}function Hc(t){return new RegExp("^(?:"+t.map(FY).join("|")+")","i")}function Kc(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function VY(t,e,r){var n=Cr.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function UY(t,e,r){var n=Cr.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function BY(t,e,r){var n=Cr.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function qY(t,e,r){var n=Cr.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function zY(t,e,r){var n=Cr.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function BN(t,e,r){var n=Cr.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function qN(t,e,r){var n=Cr.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function WY(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function HY(t,e,r){var n=Cr.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function KY(t,e,r){var n=Cr.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function zN(t,e,r){var n=Cr.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function GY(t,e,r){var n=Cr.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function WN(t,e,r){var n=Cr.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function YY(t,e,r){var n=Cr.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function XY(t,e,r){var n=Cr.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function QY(t,e,r){var n=Cr.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function JY(t,e,r){var n=Cr.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function ZY(t,e,r){var n=LY.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function eX(t,e,r){var n=Cr.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function tX(t,e,r){var n=Cr.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function HN(t,e){return ht(t.getDate(),e,2)}function rX(t,e){return ht(t.getHours(),e,2)}function nX(t,e){return ht(t.getHours()%12||12,e,2)}function iX(t,e){return ht(1+$d.count(ro(t),t),e,3)}function M$(t,e){return ht(t.getMilliseconds(),e,3)}function aX(t,e){return M$(t,e)+"000"}function oX(t,e){return ht(t.getMonth()+1,e,2)}function sX(t,e){return ht(t.getMinutes(),e,2)}function lX(t,e){return ht(t.getSeconds(),e,2)}function uX(t){var e=t.getDay();return e===0?7:e}function cX(t,e){return ht(Pg.count(ro(t)-1,t),e,2)}function L$(t){var e=t.getDay();return e>=4||e===0?Cu(t):Cu.ceil(t)}function fX(t,e){return t=L$(t),ht(Cu.count(ro(t),t)+(ro(t).getDay()===4),e,2)}function dX(t){return t.getDay()}function hX(t,e){return ht(dm.count(ro(t)-1,t),e,2)}function pX(t,e){return ht(t.getFullYear()%100,e,2)}function mX(t,e){return t=L$(t),ht(t.getFullYear()%100,e,2)}function gX(t,e){return ht(t.getFullYear()%1e4,e,4)}function yX(t,e){var r=t.getDay();return t=r>=4||r===0?Cu(t):Cu.ceil(t),ht(t.getFullYear()%1e4,e,4)}function vX(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ht(e/60|0,"0",2)+ht(e%60,"0",2)}function KN(t,e){return ht(t.getUTCDate(),e,2)}function bX(t,e){return ht(t.getUTCHours(),e,2)}function _X(t,e){return ht(t.getUTCHours()%12||12,e,2)}function xX(t,e){return ht(1+Ag.count(no(t),t),e,3)}function $$(t,e){return ht(t.getUTCMilliseconds(),e,3)}function wX(t,e){return $$(t,e)+"000"}function EX(t,e){return ht(t.getUTCMonth()+1,e,2)}function SX(t,e){return ht(t.getUTCMinutes(),e,2)}function TX(t,e){return ht(t.getUTCSeconds(),e,2)}function AX(t){var e=t.getUTCDay();return e===0?7:e}function PX(t,e){return ht(kg.count(no(t)-1,t),e,2)}function F$(t){var e=t.getUTCDay();return e>=4||e===0?Nu(t):Nu.ceil(t)}function kX(t,e){return t=F$(t),ht(Nu.count(no(t),t)+(no(t).getUTCDay()===4),e,2)}function IX(t){return t.getUTCDay()}function OX(t,e){return ht(hm.count(no(t)-1,t),e,2)}function CX(t,e){return ht(t.getUTCFullYear()%100,e,2)}function NX(t,e){return t=F$(t),ht(t.getUTCFullYear()%100,e,2)}function RX(t,e){return ht(t.getUTCFullYear()%1e4,e,4)}function jX(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Nu(t):Nu.ceil(t),ht(t.getUTCFullYear()%1e4,e,4)}function DX(){return"+0000"}function GN(){return"%"}function YN(t){return+t}function XN(t){return Math.floor(+t/1e3)}var Jl,V$,U$;MX({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function MX(t){return Jl=MY(t),V$=Jl.format,Jl.parse,U$=Jl.utcFormat,Jl.utcParse,Jl}function LX(t){return new Date(t)}function $X(t){return t instanceof Date?+t:+new Date(+t)}function xS(t,e,r,n,i,a,s,u,c,f){var h=sS(),m=h.invert,y=h.domain,b=f(".%L"),x=f(":%S"),E=f("%I:%M"),w=f("%I %p"),O=f("%a %d"),C=f("%b %d"),N=f("%B"),$=f("%Y");function I(j){return(c(j)<j?b:u(j)<j?x:s(j)<j?E:a(j)<j?w:n(j)<j?i(j)<j?O:C:r(j)<j?N:$)(j)}return h.invert=function(j){return new Date(m(j))},h.domain=function(j){return arguments.length?y(Array.from(j,$X)):y().map(LX)},h.ticks=function(j){var A=y();return t(A[0],A[A.length-1],j??10)},h.tickFormat=function(j,A){return A==null?I:f(A)},h.nice=function(j){var A=y();return(!j||typeof j.range!="function")&&(j=e(A[0],A[A.length-1],j??10)),j?y(P$(A,j)):h},h.copy=function(){return Ld(h,xS(t,e,r,n,i,a,s,u,c,f))},h}function FX(){return pi.apply(xS(jY,DY,ro,bS,Pg,$d,yS,mS,Fs,V$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function VX(){return pi.apply(xS(NY,RY,no,_S,kg,Ag,vS,gS,Fs,U$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ig(){var t=0,e=1,r,n,i,a,s=ln,u=!1,c;function f(m){return m==null||isNaN(m=+m)?c:s(i===0?.5:(m=(a(m)-r)*i,u?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([t,e]=m,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),f):[t,e]},f.clamp=function(m){return arguments.length?(u=!!m,f):u},f.interpolator=function(m){return arguments.length?(s=m,f):s};function h(m){return function(y){var b,x;return arguments.length?([b,x]=y,s=m(b,x),f):[s(0),s(1)]}}return f.range=h(ic),f.rangeRound=h(oS),f.unknown=function(m){return arguments.length?(c=m,f):c},function(m){return a=m,r=m(t),n=m(e),i=r===n?0:1/(n-r),f}}function as(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function B$(){var t=is(Ig()(ln));return t.copy=function(){return as(t,B$())},oo.apply(t,arguments)}function q$(){var t=cS(Ig()).domain([1,10]);return t.copy=function(){return as(t,q$()).base(t.base())},oo.apply(t,arguments)}function z$(){var t=fS(Ig());return t.copy=function(){return as(t,z$()).constant(t.constant())},oo.apply(t,arguments)}function wS(){var t=dS(Ig());return t.copy=function(){return as(t,wS()).exponent(t.exponent())},oo.apply(t,arguments)}function UX(){return wS.apply(null,arguments).exponent(.5)}function W$(){var t=[],e=ln;function r(n){if(n!=null&&!isNaN(n=+n))return e((Dd(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Go),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>PG(t,a/n))},r.copy=function(){return W$(e).domain(t)},oo.apply(r,arguments)}function Og(){var t=0,e=.5,r=1,n=1,i,a,s,u,c,f=ln,h,m=!1,y;function b(E){return isNaN(E=+E)?y:(E=.5+((E=+h(E))-a)*(n*E<n*a?u:c),f(m?Math.max(0,Math.min(1,E)):E))}b.domain=function(E){return arguments.length?([t,e,r]=E,i=h(t=+t),a=h(e=+e),s=h(r=+r),u=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,b):[t,e,r]},b.clamp=function(E){return arguments.length?(m=!!E,b):m},b.interpolator=function(E){return arguments.length?(f=E,b):f};function x(E){return function(w){var O,C,N;return arguments.length?([O,C,N]=w,f=ZG(E,[O,C,N]),b):[f(0),f(.5),f(1)]}}return b.range=x(ic),b.rangeRound=x(oS),b.unknown=function(E){return arguments.length?(y=E,b):y},function(E){return h=E,i=E(t),a=E(e),s=E(r),u=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,b}}function H$(){var t=is(Og()(ln));return t.copy=function(){return as(t,H$())},oo.apply(t,arguments)}function K$(){var t=cS(Og()).domain([.1,1,10]);return t.copy=function(){return as(t,K$()).base(t.base())},oo.apply(t,arguments)}function G$(){var t=fS(Og());return t.copy=function(){return as(t,G$()).constant(t.constant())},oo.apply(t,arguments)}function ES(){var t=dS(Og());return t.copy=function(){return as(t,ES()).exponent(t.exponent())},oo.apply(t,arguments)}function BX(){return ES.apply(null,arguments).exponent(.5)}const QN=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Vf,scaleDiverging:H$,scaleDivergingLog:K$,scaleDivergingPow:ES,scaleDivergingSqrt:BX,scaleDivergingSymlog:G$,scaleIdentity:A$,scaleImplicit:Lw,scaleLinear:cm,scaleLog:k$,scaleOrdinal:nS,scalePoint:gf,scalePow:hS,scaleQuantile:C$,scaleQuantize:N$,scaleRadial:O$,scaleSequential:B$,scaleSequentialLog:q$,scaleSequentialPow:wS,scaleSequentialQuantile:W$,scaleSequentialSqrt:UX,scaleSequentialSymlog:z$,scaleSqrt:wY,scaleSymlog:I$,scaleThreshold:R$,scaleTime:FX,scaleUtc:VX,tickFormat:T$},Symbol.toStringTag,{value:"Module"}));var ex,JN;function Cg(){if(JN)return ex;JN=1;var t=ec();function e(r,n,i){for(var a=-1,s=r.length;++a<s;){var u=r[a],c=n(u);if(c!=null&&(f===void 0?c===c&&!t(c):i(c,f)))var f=c,h=u}return h}return ex=e,ex}var tx,ZN;function Y$(){if(ZN)return tx;ZN=1;function t(e,r){return e>r}return tx=t,tx}var rx,eR;function qX(){if(eR)return rx;eR=1;var t=Cg(),e=Y$(),r=nc();function n(i){return i&&i.length?t(i,r,e):void 0}return rx=n,rx}var zX=qX();const Ng=bt(zX);var nx,tR;function X$(){if(tR)return nx;tR=1;function t(e,r){return e<r}return nx=t,nx}var ix,rR;function WX(){if(rR)return ix;rR=1;var t=Cg(),e=X$(),r=nc();function n(i){return i&&i.length?t(i,r,e):void 0}return ix=n,ix}var HX=WX();const Rg=bt(HX);var ax,nR;function KX(){if(nR)return ax;nR=1;var t=FE(),e=va(),r=i$(),n=Sn();function i(a,s){var u=n(a)?t:r;return u(a,e(s,3))}return ax=i,ax}var ox,iR;function GX(){if(iR)return ox;iR=1;var t=r$(),e=KX();function r(n,i){return t(e(n,i),1)}return ox=r,ox}var YX=GX();const XX=bt(YX);var sx,aR;function QX(){if(aR)return sx;aR=1;var t=JE();function e(r,n){return t(r,n)}return sx=e,sx}var JX=QX();const Fd=bt(JX);var ac=1e9,ZX={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},TS,Bt=!0,hi="[DecimalError] ",zs=hi+"Invalid argument: ",SS=hi+"Exponent out of range: ",oc=Math.floor,js=Math.pow,eQ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Bn,Ir=1e7,jt=7,Q$=9007199254740991,pm=oc(Q$/jt),ke={};ke.absoluteValue=ke.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ke.comparedTo=ke.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};ke.decimalPlaces=ke.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*jt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};ke.dividedBy=ke.div=function(t){return Ga(this,new this.constructor(t))};ke.dividedToIntegerBy=ke.idiv=function(t){var e=this,r=e.constructor;return Pt(Ga(e,new r(t),0,1),r.precision)};ke.equals=ke.eq=function(t){return!this.cmp(t)};ke.exponent=function(){return cr(this)};ke.greaterThan=ke.gt=function(t){return this.cmp(t)>0};ke.greaterThanOrEqualTo=ke.gte=function(t){return this.cmp(t)>=0};ke.isInteger=ke.isint=function(){return this.e>this.d.length-2};ke.isNegative=ke.isneg=function(){return this.s<0};ke.isPositive=ke.ispos=function(){return this.s>0};ke.isZero=function(){return this.s===0};ke.lessThan=ke.lt=function(t){return this.cmp(t)<0};ke.lessThanOrEqualTo=ke.lte=function(t){return this.cmp(t)<1};ke.logarithm=ke.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Bn))throw Error(hi+"NaN");if(r.s<1)throw Error(hi+(r.s?"NaN":"-Infinity"));return r.eq(Bn)?new n(0):(Bt=!1,e=Ga(Wf(r,a),Wf(t,a),a),Bt=!0,Pt(e,i))};ke.minus=ke.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?e4(e,t):J$(e,(t.s=-t.s,t))};ke.modulo=ke.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(hi+"NaN");return r.s?(Bt=!1,e=Ga(r,t,0,1).times(t),Bt=!0,r.minus(e)):Pt(new n(r),i)};ke.naturalExponential=ke.exp=function(){return Z$(this)};ke.naturalLogarithm=ke.ln=function(){return Wf(this)};ke.negated=ke.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ke.plus=ke.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?J$(e,t):e4(e,(t.s=-t.s,t))};ke.precision=ke.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(zs+t);if(e=cr(i)+1,n=i.d.length-1,r=n*jt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};ke.squareRoot=ke.sqrt=function(){var t,e,r,n,i,a,s,u=this,c=u.constructor;if(u.s<1){if(!u.s)return new c(0);throw Error(hi+"NaN")}for(t=cr(u),Bt=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=ia(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=oc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(i.toString()),r=c.precision,i=s=r+3;;)if(a=n,n=a.plus(Ga(u,a,s+2)).times(.5),ia(a.d).slice(0,s)===(e=ia(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Pt(a,r+1,0),a.times(a).eq(u)){n=a;break}}else if(e!="9999")break;s+=4}return Bt=!0,Pt(n,r)};ke.times=ke.mul=function(t){var e,r,n,i,a,s,u,c,f,h=this,m=h.constructor,y=h.d,b=(t=new m(t)).d;if(!h.s||!t.s)return new m(0);for(t.s*=h.s,r=h.e+t.e,c=y.length,f=b.length,c<f&&(a=y,y=b,b=a,s=c,c=f,f=s),a=[],s=c+f,n=s;n--;)a.push(0);for(n=f;--n>=0;){for(e=0,i=c+n;i>n;)u=a[i]+b[n]*y[i-n-1]+e,a[i--]=u%Ir|0,e=u/Ir|0;a[i]=(a[i]+e)%Ir|0}for(;!a[--s];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,Bt?Pt(t,m.precision):t};ke.toDecimalPlaces=ke.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(ha(t,0,ac),e===void 0?e=n.rounding:ha(e,0,8),Pt(r,t+cr(r)+1,e))};ke.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=rl(n,!0):(ha(t,0,ac),e===void 0?e=i.rounding:ha(e,0,8),n=Pt(new i(n),t+1,e),r=rl(n,!0,t+1)),r};ke.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?rl(i):(ha(t,0,ac),e===void 0?e=a.rounding:ha(e,0,8),n=Pt(new a(i),t+cr(i)+1,e),r=rl(n.abs(),!1,t+cr(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ke.toInteger=ke.toint=function(){var t=this,e=t.constructor;return Pt(new e(t),cr(t)+1,e.rounding)};ke.toNumber=function(){return+this};ke.toPower=ke.pow=function(t){var e,r,n,i,a,s,u=this,c=u.constructor,f=12,h=+(t=new c(t));if(!t.s)return new c(Bn);if(u=new c(u),!u.s){if(t.s<1)throw Error(hi+"Infinity");return u}if(u.eq(Bn))return u;if(n=c.precision,t.eq(Bn))return Pt(u,n);if(e=t.e,r=t.d.length-1,s=e>=r,a=u.s,s){if((r=h<0?-h:h)<=Q$){for(i=new c(Bn),e=Math.ceil(n/jt+4),Bt=!1;r%2&&(i=i.times(u),sR(i.d,e)),r=oc(r/2),r!==0;)u=u.times(u),sR(u.d,e);return Bt=!0,t.s<0?new c(Bn).div(i):Pt(i,n)}}else if(a<0)throw Error(hi+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,u.s=1,Bt=!1,i=t.times(Wf(u,n+f)),Bt=!0,i=Z$(i),i.s=a,i};ke.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=cr(i),n=rl(i,r<=a.toExpNeg||r>=a.toExpPos)):(ha(t,1,ac),e===void 0?e=a.rounding:ha(e,0,8),i=Pt(new a(i),t,e),r=cr(i),n=rl(i,t<=r||r<=a.toExpNeg,t)),n};ke.toSignificantDigits=ke.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(ha(t,1,ac),e===void 0?e=n.rounding:ha(e,0,8)),Pt(new n(r),t,e)};ke.toString=ke.valueOf=ke.val=ke.toJSON=ke[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=cr(t),r=t.constructor;return rl(t,e<=r.toExpNeg||e>=r.toExpPos)};function J$(t,e){var r,n,i,a,s,u,c,f,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),Bt?Pt(e,m):e;if(c=t.d,f=e.d,s=t.e,i=e.e,c=c.slice(),a=s-i,a){for(a<0?(n=c,a=-a,u=f.length):(n=f,i=s,u=c.length),s=Math.ceil(m/jt),u=s>u?s+1:u+1,a>u&&(a=u,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(u=c.length,a=f.length,u-a<0&&(a=u,n=f,f=c,c=n),r=0;a;)r=(c[--a]=c[a]+f[a]+r)/Ir|0,c[a]%=Ir;for(r&&(c.unshift(r),++i),u=c.length;c[--u]==0;)c.pop();return e.d=c,e.e=i,Bt?Pt(e,m):e}function ha(t,e,r){if(t!==~~t||t<e||t>r)throw Error(zs+t)}function ia(t){var e,r,n,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)n=t[e]+"",r=jt-n.length,r&&(a+=Do(r)),a+=n;s=t[e],n=s+"",r=jt-n.length,r&&(a+=Do(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Ga=function(){function t(n,i){var a,s=0,u=n.length;for(n=n.slice();u--;)a=n[u]*i+s,n[u]=a%Ir|0,s=a/Ir|0;return s&&n.unshift(s),n}function e(n,i,a,s){var u,c;if(a!=s)c=a>s?1:-1;else for(u=c=0;u<a;u++)if(n[u]!=i[u]){c=n[u]>i[u]?1:-1;break}return c}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*Ir+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var u,c,f,h,m,y,b,x,E,w,O,C,N,$,I,j,A,P,R=n.constructor,F=n.s==i.s?1:-1,M=n.d,V=i.d;if(!n.s)return new R(n);if(!i.s)throw Error(hi+"Division by zero");for(c=n.e-i.e,A=V.length,I=M.length,b=new R(F),x=b.d=[],f=0;V[f]==(M[f]||0);)++f;if(V[f]>(M[f]||0)&&--c,a==null?C=a=R.precision:s?C=a+(cr(n)-cr(i))+1:C=a,C<0)return new R(0);if(C=C/jt+2|0,f=0,A==1)for(h=0,V=V[0],C++;(f<I||h)&&C--;f++)N=h*Ir+(M[f]||0),x[f]=N/V|0,h=N%V|0;else{for(h=Ir/(V[0]+1)|0,h>1&&(V=t(V,h),M=t(M,h),A=V.length,I=M.length),$=A,E=M.slice(0,A),w=E.length;w<A;)E[w++]=0;P=V.slice(),P.unshift(0),j=V[0],V[1]>=Ir/2&&++j;do h=0,u=e(V,E,A,w),u<0?(O=E[0],A!=w&&(O=O*Ir+(E[1]||0)),h=O/j|0,h>1?(h>=Ir&&(h=Ir-1),m=t(V,h),y=m.length,w=E.length,u=e(m,E,y,w),u==1&&(h--,r(m,A<y?P:V,y))):(h==0&&(u=h=1),m=V.slice()),y=m.length,y<w&&m.unshift(0),r(E,m,w),u==-1&&(w=E.length,u=e(V,E,A,w),u<1&&(h++,r(E,A<w?P:V,w))),w=E.length):u===0&&(h++,E=[0]),x[f++]=h,u&&E[0]?E[w++]=M[$]||0:(E=[M[$]],w=1);while(($++<I||E[0]!==void 0)&&C--)}return x[0]||x.shift(),b.e=c,Pt(b,s?a+cr(b)+1:a)}}();function Z$(t,e){var r,n,i,a,s,u,c=0,f=0,h=t.constructor,m=h.precision;if(cr(t)>16)throw Error(SS+cr(t));if(!t.s)return new h(Bn);for(Bt=!1,u=m,s=new h(.03125);t.abs().gte(.1);)t=t.times(s),f+=5;for(n=Math.log(js(2,f))/Math.LN10*2+5|0,u+=n,r=i=a=new h(Bn),h.precision=u;;){if(i=Pt(i.times(t),u),r=r.times(++c),s=a.plus(Ga(i,r,u)),ia(s.d).slice(0,u)===ia(a.d).slice(0,u)){for(;f--;)a=Pt(a.times(a),u);return h.precision=m,e==null?(Bt=!0,Pt(a,m)):a}a=s}}function cr(t){for(var e=t.e*jt,r=t.d[0];r>=10;r/=10)e++;return e}function lx(t,e,r){if(e>t.LN10.sd())throw Bt=!0,r&&(t.precision=r),Error(hi+"LN10 precision limit exceeded");return Pt(new t(t.LN10),e)}function Do(t){for(var e="";t--;)e+="0";return e}function Wf(t,e){var r,n,i,a,s,u,c,f,h,m=1,y=10,b=t,x=b.d,E=b.constructor,w=E.precision;if(b.s<1)throw Error(hi+(b.s?"NaN":"-Infinity"));if(b.eq(Bn))return new E(0);if(e==null?(Bt=!1,f=w):f=e,b.eq(10))return e==null&&(Bt=!0),lx(E,f);if(f+=y,E.precision=f,r=ia(x),n=r.charAt(0),a=cr(b),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)b=b.times(t),r=ia(b.d),n=r.charAt(0),m++;a=cr(b),n>1?(b=new E("0."+r),a++):b=new E(n+"."+r.slice(1))}else return c=lx(E,f+2,w).times(a+""),b=Wf(new E(n+"."+r.slice(1)),f-y).plus(c),E.precision=w,e==null?(Bt=!0,Pt(b,w)):b;for(u=s=b=Ga(b.minus(Bn),b.plus(Bn),f),h=Pt(b.times(b),f),i=3;;){if(s=Pt(s.times(h),f),c=u.plus(Ga(s,new E(i),f)),ia(c.d).slice(0,f)===ia(u.d).slice(0,f))return u=u.times(2),a!==0&&(u=u.plus(lx(E,f+2,w).times(a+""))),u=Ga(u,new E(m),f),E.precision=w,e==null?(Bt=!0,Pt(u,w)):u;u=c,i+=2}}function oR(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=oc(r/jt),t.d=[],n=(r+1)%jt,r<0&&(n+=jt),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=jt;n<i;)t.d.push(+e.slice(n,n+=jt));e=e.slice(n),n=jt-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Bt&&(t.e>pm||t.e<-pm))throw Error(SS+r)}else t.s=0,t.e=0,t.d=[0];return t}function Pt(t,e,r){var n,i,a,s,u,c,f,h,m=t.d;for(s=1,a=m[0];a>=10;a/=10)s++;if(n=e-s,n<0)n+=jt,i=e,f=m[h=0];else{if(h=Math.ceil((n+1)/jt),a=m.length,h>=a)return t;for(f=a=m[h],s=1;a>=10;a/=10)s++;n%=jt,i=n-jt+s}if(r!==void 0&&(a=js(10,s-i-1),u=f/a%10|0,c=e<0||m[h+1]!==void 0||f%a,c=r<4?(u||c)&&(r==0||r==(t.s<0?3:2)):u>5||u==5&&(r==4||c||r==6&&(n>0?i>0?f/js(10,s-i):0:m[h-1])%10&1||r==(t.s<0?8:7))),e<1||!m[0])return c?(a=cr(t),m.length=1,e=e-a-1,m[0]=js(10,(jt-e%jt)%jt),t.e=oc(-e/jt)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(n==0?(m.length=h,a=1,h--):(m.length=h+1,a=js(10,jt-n),m[h]=i>0?(f/js(10,s-i)%js(10,i)|0)*a:0),c)for(;;)if(h==0){(m[0]+=a)==Ir&&(m[0]=1,++t.e);break}else{if(m[h]+=a,m[h]!=Ir)break;m[h--]=0,a=1}for(n=m.length;m[--n]===0;)m.pop();if(Bt&&(t.e>pm||t.e<-pm))throw Error(SS+cr(t));return t}function e4(t,e){var r,n,i,a,s,u,c,f,h,m,y=t.constructor,b=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),Bt?Pt(e,b):e;if(c=t.d,m=e.d,n=e.e,f=t.e,c=c.slice(),s=f-n,s){for(h=s<0,h?(r=c,s=-s,u=m.length):(r=m,n=f,u=c.length),i=Math.max(Math.ceil(b/jt),u)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=c.length,u=m.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(c[i]!=m[i]){h=c[i]<m[i];break}s=0}for(h&&(r=c,c=m,m=r,e.s=-e.s),u=c.length,i=m.length-u;i>0;--i)c[u++]=0;for(i=m.length;i>s;){if(c[--i]<m[i]){for(a=i;a&&c[--a]===0;)c[a]=Ir-1;--c[a],c[i]+=Ir}c[i]-=m[i]}for(;c[--u]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Bt?Pt(e,b):e):new y(0)}function rl(t,e,r){var n,i=cr(t),a=ia(t.d),s=a.length;return e?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+Do(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Do(-i-1)+a,r&&(n=r-s)>0&&(a+=Do(n))):i>=s?(a+=Do(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+Do(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=Do(n))),t.s<0?"-"+a:a}function sR(t,e){if(t.length>e)return t.length=e,!0}function t4(t){var e,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(zs+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return oR(s,a.toString())}else if(typeof a!="string")throw Error(zs+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,eQ.test(a))oR(s,a);else throw Error(zs+a)}if(i.prototype=ke,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=t4,i.config=i.set=tQ,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function tQ(t){if(!t||typeof t!="object")throw Error(hi+"Object expected");var e,r,n,i=["precision",1,ac,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(oc(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(zs+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(zs+r+": "+n);return this}var TS=t4(ZX);Bn=new TS(1);const St=TS;function rQ(t){return oQ(t)||aQ(t)||iQ(t)||nQ()}function nQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iQ(t,e){if(t){if(typeof t=="string")return Uw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Uw(t,e)}}function aQ(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function oQ(t){if(Array.isArray(t))return Uw(t)}function Uw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var sQ=function(e){return e},r4={},n4=function(e){return e===r4},lR=function(e){return function r(){return arguments.length===0||arguments.length===1&&n4(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},lQ=function t(e,r){return e===1?r:lR(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var s=i.filter(function(u){return u!==r4}).length;return s>=e?r.apply(void 0,i):t(e-s,lR(function(){for(var u=arguments.length,c=new Array(u),f=0;f<u;f++)c[f]=arguments[f];var h=i.map(function(m){return n4(m)?c.shift():m});return r.apply(void 0,rQ(h).concat(c))}))})},jg=function(e){return lQ(e.length,e)},Bw=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},uQ=jg(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),cQ=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return sQ;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(u,c){return c(u)},a.apply(void 0,arguments))}},qw=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},i4=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r&&a.every(function(u,c){return u===r[c]})||(r=a,n=e.apply(void 0,a)),n}};function fQ(t){var e;return t===0?e=1:e=Math.floor(new St(t).abs().log(10).toNumber())+1,e}function dQ(t,e,r){for(var n=new St(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var hQ=jg(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),pQ=jg(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),mQ=jg(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const Dg={rangeStep:dQ,getDigitCount:fQ,interpolateNumber:hQ,uninterpolateNumber:pQ,uninterpolateTruncation:mQ};function zw(t){return vQ(t)||yQ(t)||a4(t)||gQ()}function gQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yQ(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function vQ(t){if(Array.isArray(t))return Ww(t)}function Hf(t,e){return xQ(t)||_Q(t,e)||a4(t,e)||bQ()}function bQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a4(t,e){if(t){if(typeof t=="string")return Ww(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ww(t,e)}}function Ww(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _Q(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),u;!(n=(u=s.next()).done)&&(r.push(u.value),!(e&&r.length===e));n=!0);}catch(c){i=!0,a=c}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw a}}return r}}function xQ(t){if(Array.isArray(t))return t}function o4(t){var e=Hf(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function s4(t,e,r){if(t.lte(0))return new St(0);var n=Dg.getDigitCount(t.toNumber()),i=new St(10).pow(n),a=t.div(i),s=n!==1?.05:.1,u=new St(Math.ceil(a.div(s).toNumber())).add(r).mul(s),c=u.mul(i);return e?c:new St(Math.ceil(c))}function wQ(t,e,r){var n=1,i=new St(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new St(10).pow(Dg.getDigitCount(t)-1),i=new St(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new St(Math.floor(t)))}else t===0?i=new St(Math.floor((e-1)/2)):r||(i=new St(Math.floor(t)));var s=Math.floor((e-1)/2),u=cQ(uQ(function(c){return i.add(new St(c-s).mul(n)).toNumber()}),Bw);return u(0,e)}function l4(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new St(0),tickMin:new St(0),tickMax:new St(0)};var a=s4(new St(e).sub(t).div(r-1),n,i),s;t<=0&&e>=0?s=new St(0):(s=new St(t).add(e).div(2),s=s.sub(new St(s).mod(a)));var u=Math.ceil(s.sub(t).div(a).toNumber()),c=Math.ceil(new St(e).sub(s).div(a).toNumber()),f=u+c+1;return f>r?l4(t,e,r,n,i+1):(f<r&&(c=e>0?c+(r-f):c,u=e>0?u:u+(r-f)),{step:a,tickMin:s.sub(new St(u).mul(a)),tickMax:s.add(new St(c).mul(a))})}function EQ(t){var e=Hf(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),u=o4([r,n]),c=Hf(u,2),f=c[0],h=c[1];if(f===-1/0||h===1/0){var m=h===1/0?[f].concat(zw(Bw(0,i-1).map(function(){return 1/0}))):[].concat(zw(Bw(0,i-1).map(function(){return-1/0})),[h]);return r>n?qw(m):m}if(f===h)return wQ(f,i,a);var y=l4(f,h,s,a),b=y.step,x=y.tickMin,E=y.tickMax,w=Dg.rangeStep(x,E.add(new St(.1).mul(b)),b);return r>n?qw(w):w}function SQ(t,e){var r=Hf(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=o4([n,i]),u=Hf(s,2),c=u[0],f=u[1];if(c===-1/0||f===1/0)return[n,i];if(c===f)return[c];var h=Math.max(e,2),m=s4(new St(f).sub(c).div(h-1),a,0),y=[].concat(zw(Dg.rangeStep(new St(c),new St(f).sub(new St(.99).mul(m)),m)),[f]);return n>i?qw(y):y}var TQ=i4(EQ),AQ=i4(SQ),PQ="Invariant failed";function nl(t,e){throw new Error(PQ)}var kQ=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ru(t){"@babel/helpers - typeof";return Ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ru(t)}function mm(){return mm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mm.apply(this,arguments)}function IQ(t,e){return RQ(t)||NQ(t,e)||CQ(t,e)||OQ()}function OQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CQ(t,e){if(t){if(typeof t=="string")return uR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uR(t,e)}}function uR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function NQ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function RQ(t){if(Array.isArray(t))return t}function jQ(t,e){if(t==null)return{};var r=DQ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function DQ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function MQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,f4(n.key),n)}}function $Q(t,e,r){return e&&LQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function FQ(t,e,r){return e=gm(e),VQ(t,u4()?Reflect.construct(e,r||[],gm(t).constructor):e.apply(t,r))}function VQ(t,e){if(e&&(Ru(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UQ(t)}function UQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u4=function(){return!!t})()}function gm(t){return gm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gm(t)}function BQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hw(t,e)}function Hw(t,e){return Hw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Hw(t,e)}function c4(t,e,r){return e=f4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f4(t){var e=qQ(t,"string");return Ru(e)=="symbol"?e:e+""}function qQ(t,e){if(Ru(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ru(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vd=function(t){function e(){return MQ(this,e),FQ(this,e,arguments)}return BQ(e,t),$Q(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,s=n.width,u=n.dataKey,c=n.data,f=n.dataPointFormatter,h=n.xAxis,m=n.yAxis,y=jQ(n,kQ),b=qe(y,!1);this.props.direction==="x"&&h.type!=="number"&&nl();var x=c.map(function(E){var w=f(E,u),O=w.x,C=w.y,N=w.value,$=w.errorVal;if(!$)return null;var I=[],j,A;if(Array.isArray($)){var P=IQ($,2);j=P[0],A=P[1]}else j=A=$;if(a==="vertical"){var R=h.scale,F=C+i,M=F+s,V=F-s,D=R(N-j),Z=R(N+A);I.push({x1:Z,y1:M,x2:Z,y2:V}),I.push({x1:D,y1:F,x2:Z,y2:F}),I.push({x1:D,y1:M,x2:D,y2:V})}else if(a==="horizontal"){var ee=m.scale,re=O+i,oe=re-s,Q=re+s,ie=ee(N-j),se=ee(N+A);I.push({x1:oe,y1:se,x2:Q,y2:se}),I.push({x1:re,y1:ie,x2:re,y2:se}),I.push({x1:oe,y1:ie,x2:Q,y2:ie})}return z.createElement(dt,mm({className:"recharts-errorBar",key:"bar-".concat(I.map(function(q){return"".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))},b),I.map(function(q){return z.createElement("line",mm({},q,{key:"line-".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))}))});return z.createElement(dt,{className:"recharts-errorBars"},x)}}])}(z.Component);c4(Vd,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});c4(Vd,"displayName","ErrorBar");function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}function cR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Is(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cR(Object(r),!0).forEach(function(n){zQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zQ(t,e,r){return e=WQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WQ(t){var e=HQ(t,"string");return Kf(e)=="symbol"?e:e+""}function HQ(t,e){if(Kf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var d4=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=Fn(r,Ka);if(!s)return null;var u=Ka.defaultProps,c=u!==void 0?Is(Is({},u),s.props):{},f;return s.props&&s.props.payload?f=s.props&&s.props.payload:a==="children"?f=(n||[]).reduce(function(h,m){var y=m.item,b=m.props,x=b.sectors||b.data||[];return h.concat(x.map(function(E){return{type:s.props.iconType||y.props.legendType,value:E.name,color:E.fill,payload:E}}))},[]):f=(n||[]).map(function(h){var m=h.item,y=m.type.defaultProps,b=y!==void 0?Is(Is({},y),m.props):{},x=b.dataKey,E=b.name,w=b.legendType,O=b.hide;return{inactive:O,dataKey:x,type:c.iconType||w||"square",color:AS(m),value:E||x,payload:b}}),Is(Is(Is({},c),Ka.getWithHeight(s,i)),{},{payload:f,item:s})};function Gf(t){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf(t)}function fR(t){return XQ(t)||YQ(t)||GQ(t)||KQ()}function KQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GQ(t,e){if(t){if(typeof t=="string")return Kw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kw(t,e)}}function YQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function XQ(t){if(Array.isArray(t))return Kw(t)}function Kw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function dR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Jt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dR(Object(r),!0).forEach(function(n){gu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gu(t,e,r){return e=QQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QQ(t){var e=JQ(t,"string");return Gf(e)=="symbol"?e:e+""}function JQ(t,e){if(Gf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vr(t,e,r){return Je(t)||Je(e)?r:br(e)?Hn(t,e,r):Ye(e)?e(t):r}function yf(t,e,r,n){var i=XX(t,function(u){return vr(u,e)});if(r==="number"){var a=i.filter(function(u){return ve(u)||parseFloat(u)});return a.length?[Rg(a),Ng(a)]:[1/0,-1/0]}var s=n?i.filter(function(u){return!Je(u)}):i;return s.map(function(u){return br(u)||u instanceof Date?u:""})}var ZQ=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,u=(r=n?.length)!==null&&r!==void 0?r:0;if(u<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,f=0;f<u;f++){var h=f>0?i[f-1].coordinate:i[u-1].coordinate,m=i[f].coordinate,y=f>=u-1?i[0].coordinate:i[f+1].coordinate,b=void 0;if(on(m-h)!==on(y-m)){var x=[];if(on(y-m)===on(c[1]-c[0])){b=y;var E=m+c[1]-c[0];x[0]=Math.min(E,(E+h)/2),x[1]=Math.max(E,(E+h)/2)}else{b=h;var w=y+c[1]-c[0];x[0]=Math.min(m,(w+m)/2),x[1]=Math.max(m,(w+m)/2)}var O=[Math.min(m,(b+m)/2),Math.max(m,(b+m)/2)];if(e>O[0]&&e<=O[1]||e>=x[0]&&e<=x[1]){s=i[f].index;break}}else{var C=Math.min(h,y),N=Math.max(h,y);if(e>(C+m)/2&&e<=(N+m)/2){s=i[f].index;break}}}else for(var $=0;$<u;$++)if($===0&&e<=(n[$].coordinate+n[$+1].coordinate)/2||$>0&&$<u-1&&e>(n[$].coordinate+n[$-1].coordinate)/2&&e<=(n[$].coordinate+n[$+1].coordinate)/2||$===u-1&&e>(n[$].coordinate+n[$-1].coordinate)/2){s=n[$].index;break}return s},AS=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Jt(Jt({},e.type.defaultProps),e.props):e.props,s=a.stroke,u=a.fill,c;switch(i){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:u;break;default:c=u;break}return c},eJ=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},u=Object.keys(a),c=0,f=u.length;c<f;c++)for(var h=a[u[c]].stackGroups,m=Object.keys(h),y=0,b=m.length;y<b;y++){var x=h[m[y]],E=x.items,w=x.cateAxisId,O=E.filter(function(A){return Ha(A.type).indexOf("Bar")>=0});if(O&&O.length){var C=O[0].type.defaultProps,N=C!==void 0?Jt(Jt({},C),O[0].props):O[0].props,$=N.barSize,I=N[w];s[I]||(s[I]=[]);var j=Je($)?r:$;s[I].push({item:O[0],stackList:O.slice(1),barSize:Je(j)?void 0:sn(j,n,0)})}}return s},tJ=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,u=e.maxBarSize,c=s.length;if(c<1)return null;var f=sn(r,i,0,!0),h,m=[];if(s[0].barSize===+s[0].barSize){var y=!1,b=i/c,x=s.reduce(function($,I){return $+I.barSize||0},0);x+=(c-1)*f,x>=i&&(x-=(c-1)*f,f=0),x>=i&&b>0&&(y=!0,b*=.9,x=c*b);var E=(i-x)/2>>0,w={offset:E-f,size:0};h=s.reduce(function($,I){var j={item:I.item,position:{offset:w.offset+w.size+f,size:y?b:I.barSize}},A=[].concat(fR($),[j]);return w=A[A.length-1].position,I.stackList&&I.stackList.length&&I.stackList.forEach(function(P){A.push({item:P,position:w})}),A},m)}else{var O=sn(n,i,0,!0);i-2*O-(c-1)*f<=0&&(f=0);var C=(i-2*O-(c-1)*f)/c;C>1&&(C>>=0);var N=u===+u?Math.min(C,u):C;h=s.reduce(function($,I,j){var A=[].concat(fR($),[{item:I.item,position:{offset:O+(C+f)*j+(C-N)/2,size:N}}]);return I.stackList&&I.stackList.length&&I.stackList.forEach(function(P){A.push({item:P,position:A[A.length-1].position})}),A},m)}return h},rJ=function(e,r,n,i){var a=n.children,s=n.width,u=n.margin,c=s-(u.left||0)-(u.right||0),f=d4({children:a,legendWidth:c});if(f){var h=i||{},m=h.width,y=h.height,b=f.align,x=f.verticalAlign,E=f.layout;if((E==="vertical"||E==="horizontal"&&x==="middle")&&b!=="center"&&ve(e[b]))return Jt(Jt({},e),{},gu({},b,e[b]+(m||0)));if((E==="horizontal"||E==="vertical"&&b==="center")&&x!=="middle"&&ve(e[x]))return Jt(Jt({},e),{},gu({},x,e[x]+(y||0)))}return e},nJ=function(e,r,n){return Je(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},h4=function(e,r,n,i,a){var s=r.props.children,u=Kn(s,Vd).filter(function(f){return nJ(i,a,f.props.direction)});if(u&&u.length){var c=u.map(function(f){return f.props.dataKey});return e.reduce(function(f,h){var m=vr(h,n);if(Je(m))return f;var y=Array.isArray(m)?[Rg(m),Ng(m)]:[m,m],b=c.reduce(function(x,E){var w=vr(h,E,0),O=y[0]-Math.abs(Array.isArray(w)?w[0]:w),C=y[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(O,x[0]),Math.max(C,x[1])]},[1/0,-1/0]);return[Math.min(b[0],f[0]),Math.max(b[1],f[1])]},[1/0,-1/0])}return null},iJ=function(e,r,n,i,a){var s=r.map(function(u){return h4(e,u,n,a,i)}).filter(function(u){return!Je(u)});return s&&s.length?s.reduce(function(u,c){return[Math.min(u[0],c[0]),Math.max(u[1],c[1])]},[1/0,-1/0]):null},p4=function(e,r,n,i,a){var s=r.map(function(c){var f=c.props.dataKey;return n==="number"&&f&&h4(e,c,f,i)||yf(e,f,n,a)});if(n==="number")return s.reduce(function(c,f){return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);var u={};return s.reduce(function(c,f){for(var h=0,m=f.length;h<m;h++)u[f[h]]||(u[f[h]]=!0,c.push(f[h]));return c},[])},m4=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},g4=function(e,r,n,i){if(i)return e.map(function(c){return c.coordinate});var a,s,u=e.map(function(c){return c.coordinate===r&&(a=!0),c.coordinate===n&&(s=!0),c.coordinate});return a||u.push(r),s||u.push(n),u},za=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,u=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(r||n)&&s==="category"&&i.bandwidth?i.bandwidth()/c:0;if(f=e.axisType==="angleAxis"&&u?.length>=2?on(u[0]-u[1])*2*f:f,r&&(e.ticks||e.niceTicks)){var h=(e.ticks||e.niceTicks).map(function(m){var y=a?a.indexOf(m):m;return{coordinate:i(y)+f,value:m,offset:f}});return h.filter(function(m){return!Rd(m.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(m,y){return{coordinate:i(m)+f,value:m,index:y,offset:f}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(m){return{coordinate:i(m)+f,value:m,offset:f}}):i.domain().map(function(m,y){return{coordinate:i(m)+f,value:a?a[m]:m,index:y,offset:f}})},ux=new WeakMap,pp=function(e,r){if(typeof r!="function")return e;ux.has(e)||ux.set(e,new WeakMap);var n=ux.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},y4=function(e,r,n){var i=e.scale,a=e.type,s=e.layout,u=e.axisType;if(i==="auto")return s==="radial"&&u==="radiusAxis"?{scale:Vf(),realScaleType:"band"}:s==="radial"&&u==="angleAxis"?{scale:cm(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:gf(),realScaleType:"point"}:a==="category"?{scale:Vf(),realScaleType:"band"}:{scale:cm(),realScaleType:"linear"};if(Zs(i)){var c="scale".concat(gg(i));return{scale:(QN[c]||gf)(),realScaleType:QN[c]?c:"point"}}return Ye(i)?{scale:i}:{scale:gf(),realScaleType:"point"}},hR=1e-4,v4=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-hR,s=Math.max(i[0],i[1])+hR,u=e(r[0]),c=e(r[n-1]);(u<a||u>s||c<a||c>s)&&e.domain([r[0],r[n-1]])}},aJ=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},oJ=function(e,r){if(!r||r.length!==2||!ve(r[0])||!ve(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!ve(e[0])||e[0]<n)&&(a[0]=n),(!ve(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},sJ=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0,u=0;u<r;++u){var c=Rd(e[u][n][1])?e[u][n][0]:e[u][n][1];c>=0?(e[u][n][0]=a,e[u][n][1]=a+c,a=e[u][n][1]):(e[u][n][0]=s,e[u][n][1]=s+c,s=e[u][n][1])}},lJ=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0;s<r;++s){var u=Rd(e[s][n][1])?e[s][n][0]:e[s][n][1];u>=0?(e[s][n][0]=a,e[s][n][1]=a+u,a=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},uJ={sign:sJ,expand:X7,none:Tu,silhouette:Q7,wiggle:J7,positive:lJ},cJ=function(e,r,n){var i=r.map(function(u){return u.props.dataKey}),a=uJ[n],s=Y7().keys(i).value(function(u,c){return+vr(u,c,0)}).order(Ew).offset(a);return s(e)},fJ=function(e,r,n,i,a,s){if(!e)return null;var u=s?r.reverse():r,c={},f=u.reduce(function(m,y){var b,x=(b=y.type)!==null&&b!==void 0&&b.defaultProps?Jt(Jt({},y.type.defaultProps),y.props):y.props,E=x.stackId,w=x.hide;if(w)return m;var O=x[n],C=m[O]||{hasStack:!1,stackGroups:{}};if(br(E)){var N=C.stackGroups[E]||{numericAxisId:n,cateAxisId:i,items:[]};N.items.push(y),C.hasStack=!0,C.stackGroups[E]=N}else C.stackGroups[rc("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[y]};return Jt(Jt({},m),{},gu({},O,C))},c),h={};return Object.keys(f).reduce(function(m,y){var b=f[y];if(b.hasStack){var x={};b.stackGroups=Object.keys(b.stackGroups).reduce(function(E,w){var O=b.stackGroups[w];return Jt(Jt({},E),{},gu({},w,{numericAxisId:n,cateAxisId:i,items:O.items,stackedData:cJ(e,O.items,a)}))},x)}return Jt(Jt({},m),{},gu({},y,b))},h)},b4=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,s=r.originalDomain,u=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var f=e.domain();if(!f.length)return null;var h=TQ(f,a,u);return e.domain([Rg(h),Ng(h)]),{niceTicks:h}}if(a&&i==="number"){var m=e.domain(),y=AQ(m,a,u);return{niceTicks:y}}return null};function pR(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,a=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Je(i[e.dataKey])){var u=Hp(r,"value",i[e.dataKey]);if(u)return u.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var c=vr(i,Je(s)?e.dataKey:s);return Je(c)?null:e.scale(c)}var mR=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,u=e.index;if(r.type==="category")return n[u]?n[u].coordinate+i:null;var c=vr(s,r.dataKey,r.domain[u]);return Je(c)?null:r.scale(c)-a/2+i},dJ=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},hJ=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Jt(Jt({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(br(a)){var s=r[a];if(s){var u=s.items.indexOf(e);return u>=0?s.stackedData[u]:null}}return null},pJ=function(e){return e.reduce(function(r,n){return[Rg(n.concat([r[0]]).filter(ve)),Ng(n.concat([r[1]]).filter(ve))]},[1/0,-1/0])},_4=function(e,r,n){return Object.keys(e).reduce(function(i,a){var s=e[a],u=s.stackedData,c=u.reduce(function(f,h){var m=pJ(h.slice(r,n+1));return[Math.min(f[0],m[0]),Math.max(f[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},gR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,yR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Gw=function(e,r,n){if(Ye(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(ve(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(gR.test(e[0])){var a=+gR.exec(e[0])[1];i[0]=r[0]-a}else Ye(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(ve(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(yR.test(e[1])){var s=+yR.exec(e[1])[1];i[1]=r[1]+s}else Ye(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},ym=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=eS(r,function(m){return m.coordinate}),s=1/0,u=1,c=a.length;u<c;u++){var f=a[u],h=a[u-1];s=Math.min((f.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},vR=function(e,r,n){return!e||!e.length||Fd(e,Hn(n,"type.defaultProps.domain"))?r:e},x4=function(e,r){var n=e.type.defaultProps?Jt(Jt({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,s=n.unit,u=n.formatter,c=n.tooltipType,f=n.chartType,h=n.hide;return Jt(Jt({},qe(e,!1)),{},{dataKey:i,unit:s,formatter:u,name:a||i,color:AS(e),value:vr(r,i),type:c,payload:r,chartType:f,hide:h})};function Yf(t){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yf(t)}function bR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $a(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bR(Object(r),!0).forEach(function(n){w4(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function w4(t,e,r){return e=mJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mJ(t){var e=gJ(t,"string");return Yf(e)=="symbol"?e:e+""}function gJ(t,e){if(Yf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yJ(t,e){return xJ(t)||_J(t,e)||bJ(t,e)||vJ()}function vJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bJ(t,e){if(t){if(typeof t=="string")return _R(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _R(t,e)}}function _R(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _J(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function xJ(t){if(Array.isArray(t))return t}var vm=Math.PI/180,wJ=function(e){return e*180/Math.PI},Ct=function(e,r,n,i){return{x:e+Math.cos(-vm*i)*n,y:r+Math.sin(-vm*i)*n}},E4=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},EJ=function(e,r,n,i,a){var s=e.width,u=e.height,c=e.startAngle,f=e.endAngle,h=sn(e.cx,s,s/2),m=sn(e.cy,u,u/2),y=E4(s,u,n),b=sn(e.innerRadius,y,0),x=sn(e.outerRadius,y,y*.8),E=Object.keys(r);return E.reduce(function(w,O){var C=r[O],N=C.domain,$=C.reversed,I;if(Je(C.range))i==="angleAxis"?I=[c,f]:i==="radiusAxis"&&(I=[b,x]),$&&(I=[I[1],I[0]]);else{I=C.range;var j=I,A=yJ(j,2);c=A[0],f=A[1]}var P=y4(C,a),R=P.realScaleType,F=P.scale;F.domain(N).range(I),v4(F);var M=b4(F,$a($a({},C),{},{realScaleType:R})),V=$a($a($a({},C),M),{},{range:I,radius:x,realScaleType:R,scale:F,cx:h,cy:m,innerRadius:b,outerRadius:x,startAngle:c,endAngle:f});return $a($a({},w),{},w4({},O,V))},{})},SJ=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-s,2))},TJ=function(e,r){var n=e.x,i=e.y,a=r.cx,s=r.cy,u=SJ({x:n,y:i},{x:a,y:s});if(u<=0)return{radius:u};var c=(n-a)/u,f=Math.acos(c);return i>s&&(f=2*Math.PI-f),{radius:u,angle:wJ(f),angleInRadian:f}},AJ=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return{startAngle:r-s*360,endAngle:n-s*360}},PJ=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),s=Math.floor(i/360),u=Math.min(a,s);return e+u*360},xR=function(e,r){var n=e.x,i=e.y,a=TJ({x:n,y:i},r),s=a.radius,u=a.angle,c=r.innerRadius,f=r.outerRadius;if(s<c||s>f)return!1;if(s===0)return!0;var h=AJ(r),m=h.startAngle,y=h.endAngle,b=u,x;if(m<=y){for(;b>y;)b-=360;for(;b<m;)b+=360;x=b>=m&&b<=y}else{for(;b>m;)b-=360;for(;b<y;)b+=360;x=b>=y&&b<=m}return x?$a($a({},r),{},{radius:s,angle:PJ(b,r)}):null},S4=function(e){return!K.isValidElement(e)&&!Ye(e)&&typeof e!="boolean"?e.className:""};function Xf(t){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(t)}var kJ=["offset"];function IJ(t){return RJ(t)||NJ(t)||CJ(t)||OJ()}function OJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CJ(t,e){if(t){if(typeof t=="string")return Yw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yw(t,e)}}function NJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function RJ(t){if(Array.isArray(t))return Yw(t)}function Yw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function jJ(t,e){if(t==null)return{};var r=DJ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function DJ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function wR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wR(Object(r),!0).forEach(function(n){MJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function MJ(t,e,r){return e=LJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LJ(t){var e=$J(t,"string");return Xf(e)=="symbol"?e:e+""}function $J(t,e){if(Xf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qf(){return Qf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qf.apply(this,arguments)}var FJ=function(e){var r=e.value,n=e.formatter,i=Je(e.children)?r:e.children;return Ye(n)?n(i):i},VJ=function(e,r){var n=on(r-e),i=Math.min(Math.abs(r-e),360);return n*i},UJ=function(e,r,n){var i=e.position,a=e.viewBox,s=e.offset,u=e.className,c=a,f=c.cx,h=c.cy,m=c.innerRadius,y=c.outerRadius,b=c.startAngle,x=c.endAngle,E=c.clockWise,w=(m+y)/2,O=VJ(b,x),C=O>=0?1:-1,N,$;i==="insideStart"?(N=b+C*s,$=E):i==="insideEnd"?(N=x-C*s,$=!E):i==="end"&&(N=x+C*s,$=E),$=O<=0?$:!$;var I=Ct(f,h,w,N),j=Ct(f,h,w,N+($?1:-1)*359),A="M".concat(I.x,",").concat(I.y,`
    A`).concat(w,",").concat(w,",0,1,").concat($?0:1,`,
    `).concat(j.x,",").concat(j.y),P=Je(e.id)?rc("recharts-radial-line-"):e.id;return z.createElement("text",Qf({},n,{dominantBaseline:"central",className:et("recharts-radial-bar-label",u)}),z.createElement("defs",null,z.createElement("path",{id:P,d:A})),z.createElement("textPath",{xlinkHref:"#".concat(P)},r))},BJ=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,s=a.cx,u=a.cy,c=a.innerRadius,f=a.outerRadius,h=a.startAngle,m=a.endAngle,y=(h+m)/2;if(i==="outside"){var b=Ct(s,u,f+n,y),x=b.x,E=b.y;return{x,y:E,textAnchor:x>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:u,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:u,textAnchor:"middle",verticalAnchor:"end"};var w=(c+f)/2,O=Ct(s,u,w,y),C=O.x,N=O.y;return{x:C,y:N,textAnchor:"middle",verticalAnchor:"middle"}},qJ=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,s=r,u=s.x,c=s.y,f=s.width,h=s.height,m=h>=0?1:-1,y=m*i,b=m>0?"end":"start",x=m>0?"start":"end",E=f>=0?1:-1,w=E*i,O=E>0?"end":"start",C=E>0?"start":"end";if(a==="top"){var N={x:u+f/2,y:c-m*i,textAnchor:"middle",verticalAnchor:b};return yr(yr({},N),n?{height:Math.max(c-n.y,0),width:f}:{})}if(a==="bottom"){var $={x:u+f/2,y:c+h+y,textAnchor:"middle",verticalAnchor:x};return yr(yr({},$),n?{height:Math.max(n.y+n.height-(c+h),0),width:f}:{})}if(a==="left"){var I={x:u-w,y:c+h/2,textAnchor:O,verticalAnchor:"middle"};return yr(yr({},I),n?{width:Math.max(I.x-n.x,0),height:h}:{})}if(a==="right"){var j={x:u+f+w,y:c+h/2,textAnchor:C,verticalAnchor:"middle"};return yr(yr({},j),n?{width:Math.max(n.x+n.width-j.x,0),height:h}:{})}var A=n?{width:f,height:h}:{};return a==="insideLeft"?yr({x:u+w,y:c+h/2,textAnchor:C,verticalAnchor:"middle"},A):a==="insideRight"?yr({x:u+f-w,y:c+h/2,textAnchor:O,verticalAnchor:"middle"},A):a==="insideTop"?yr({x:u+f/2,y:c+y,textAnchor:"middle",verticalAnchor:x},A):a==="insideBottom"?yr({x:u+f/2,y:c+h-y,textAnchor:"middle",verticalAnchor:b},A):a==="insideTopLeft"?yr({x:u+w,y:c+y,textAnchor:C,verticalAnchor:x},A):a==="insideTopRight"?yr({x:u+f-w,y:c+y,textAnchor:O,verticalAnchor:x},A):a==="insideBottomLeft"?yr({x:u+w,y:c+h-y,textAnchor:C,verticalAnchor:b},A):a==="insideBottomRight"?yr({x:u+f-w,y:c+h-y,textAnchor:O,verticalAnchor:b},A):tc(a)&&(ve(a.x)||Ls(a.x))&&(ve(a.y)||Ls(a.y))?yr({x:u+sn(a.x,f),y:c+sn(a.y,h),textAnchor:"end",verticalAnchor:"end"},A):yr({x:u+f/2,y:c+h/2,textAnchor:"middle",verticalAnchor:"middle"},A)},zJ=function(e){return"cx"in e&&ve(e.cx)};function Or(t){var e=t.offset,r=e===void 0?5:e,n=jJ(t,kJ),i=yr({offset:r},n),a=i.viewBox,s=i.position,u=i.value,c=i.children,f=i.content,h=i.className,m=h===void 0?"":h,y=i.textBreakAll;if(!a||Je(u)&&Je(c)&&!K.isValidElement(f)&&!Ye(f))return null;if(K.isValidElement(f))return K.cloneElement(f,i);var b;if(Ye(f)){if(b=K.createElement(f,i),K.isValidElement(b))return b}else b=FJ(i);var x=zJ(a),E=qe(i,!0);if(x&&(s==="insideStart"||s==="insideEnd"||s==="end"))return UJ(i,b,E);var w=x?BJ(i):qJ(i);return z.createElement(tl,Qf({className:et("recharts-label",m)},E,w,{breakAll:y}),b)}Or.displayName="Label";var T4=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,u=e.r,c=e.radius,f=e.innerRadius,h=e.outerRadius,m=e.x,y=e.y,b=e.top,x=e.left,E=e.width,w=e.height,O=e.clockWise,C=e.labelViewBox;if(C)return C;if(ve(E)&&ve(w)){if(ve(m)&&ve(y))return{x:m,y,width:E,height:w};if(ve(b)&&ve(x))return{x:b,y:x,width:E,height:w}}return ve(m)&&ve(y)?{x:m,y,width:0,height:0}:ve(r)&&ve(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:s||i||0,innerRadius:f||0,outerRadius:h||c||u||0,clockWise:O}:e.viewBox?e.viewBox:{}},WJ=function(e,r){return e?e===!0?z.createElement(Or,{key:"label-implicit",viewBox:r}):br(e)?z.createElement(Or,{key:"label-implicit",viewBox:r,value:e}):K.isValidElement(e)?e.type===Or?K.cloneElement(e,{key:"label-implicit",viewBox:r}):z.createElement(Or,{key:"label-implicit",content:e,viewBox:r}):Ye(e)?z.createElement(Or,{key:"label-implicit",content:e,viewBox:r}):tc(e)?z.createElement(Or,Qf({viewBox:r},e,{key:"label-implicit"})):null:null},HJ=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=T4(e),s=Kn(i,Or).map(function(c,f){return K.cloneElement(c,{viewBox:r||a,key:"label-".concat(f)})});if(!n)return s;var u=WJ(e.label,r||a);return[u].concat(IJ(s))};Or.parseViewBox=T4;Or.renderCallByParent=HJ;var cx,ER;function KJ(){if(ER)return cx;ER=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return cx=t,cx}var GJ=KJ();const YJ=bt(GJ);function Jf(t){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jf(t)}var XJ=["valueAccessor"],QJ=["data","dataKey","clockWise","id","textBreakAll"];function JJ(t){return rZ(t)||tZ(t)||eZ(t)||ZJ()}function ZJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eZ(t,e){if(t){if(typeof t=="string")return Xw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xw(t,e)}}function tZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rZ(t){if(Array.isArray(t))return Xw(t)}function Xw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function bm(){return bm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bm.apply(this,arguments)}function SR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function TR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SR(Object(r),!0).forEach(function(n){nZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nZ(t,e,r){return e=iZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iZ(t){var e=aZ(t,"string");return Jf(e)=="symbol"?e:e+""}function aZ(t,e){if(Jf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AR(t,e){if(t==null)return{};var r=oZ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function oZ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var sZ=function(e){return Array.isArray(e.value)?YJ(e.value):e.value};function Ya(t){var e=t.valueAccessor,r=e===void 0?sZ:e,n=AR(t,XJ),i=n.data,a=n.dataKey,s=n.clockWise,u=n.id,c=n.textBreakAll,f=AR(n,QJ);return!i||!i.length?null:z.createElement(dt,{className:"recharts-label-list"},i.map(function(h,m){var y=Je(a)?r(h,m):vr(h&&h.payload,a),b=Je(u)?{}:{id:"".concat(u,"-").concat(m)};return z.createElement(Or,bm({},qe(h,!0),f,b,{parentViewBox:h.parentViewBox,value:y,textBreakAll:c,viewBox:Or.parseViewBox(Je(s)?h:TR(TR({},h),{},{clockWise:s})),key:"label-".concat(m),index:m}))}))}Ya.displayName="LabelList";function lZ(t,e){return t?t===!0?z.createElement(Ya,{key:"labelList-implicit",data:e}):z.isValidElement(t)||Ye(t)?z.createElement(Ya,{key:"labelList-implicit",data:e,content:t}):tc(t)?z.createElement(Ya,bm({data:e},t,{key:"labelList-implicit"})):null:null}function uZ(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Kn(n,Ya).map(function(s,u){return K.cloneElement(s,{data:e,key:"labelList-".concat(u)})});if(!r)return i;var a=lZ(t.label,e);return[a].concat(JJ(i))}Ya.renderCallByParent=uZ;function Zf(t){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zf(t)}function Qw(){return Qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qw.apply(this,arguments)}function PR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PR(Object(r),!0).forEach(function(n){cZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cZ(t,e,r){return e=fZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fZ(t){var e=dZ(t,"string");return Zf(e)=="symbol"?e:e+""}function dZ(t,e){if(Zf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hZ=function(e,r){var n=on(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},mp=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,s=e.sign,u=e.isExternal,c=e.cornerRadius,f=e.cornerIsExternal,h=c*(u?1:-1)+i,m=Math.asin(c/h)/vm,y=f?a:a+s*m,b=Ct(r,n,h,y),x=Ct(r,n,i,y),E=f?a-s*m:a,w=Ct(r,n,h*Math.cos(m*vm),E);return{center:b,circleTangency:x,lineTangency:w,theta:m}},A4=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,u=e.endAngle,c=hZ(s,u),f=s+c,h=Ct(r,n,a,s),m=Ct(r,n,a,f),y="M ".concat(h.x,",").concat(h.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>f),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(i>0){var b=Ct(r,n,i,s),x=Ct(r,n,i,f);y+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=f),`,
            `).concat(b.x,",").concat(b.y," Z")}else y+="L ".concat(r,",").concat(n," Z");return y},pZ=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,u=e.forceCornerRadius,c=e.cornerIsExternal,f=e.startAngle,h=e.endAngle,m=on(h-f),y=mp({cx:r,cy:n,radius:a,angle:f,sign:m,cornerRadius:s,cornerIsExternal:c}),b=y.circleTangency,x=y.lineTangency,E=y.theta,w=mp({cx:r,cy:n,radius:a,angle:h,sign:-m,cornerRadius:s,cornerIsExternal:c}),O=w.circleTangency,C=w.lineTangency,N=w.theta,$=c?Math.abs(f-h):Math.abs(f-h)-E-N;if($<0)return u?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):A4({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:f,endAngle:h});var I="M ".concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,").concat(+($>180),",").concat(+(m<0),",").concat(O.x,",").concat(O.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(C.x,",").concat(C.y,`
  `);if(i>0){var j=mp({cx:r,cy:n,radius:i,angle:f,sign:m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),A=j.circleTangency,P=j.lineTangency,R=j.theta,F=mp({cx:r,cy:n,radius:i,angle:h,sign:-m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),M=F.circleTangency,V=F.lineTangency,D=F.theta,Z=c?Math.abs(f-h):Math.abs(f-h)-R-D;if(Z<0&&s===0)return"".concat(I,"L").concat(r,",").concat(n,"Z");I+="L".concat(V.x,",").concat(V.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(Z>180),",").concat(+(m>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(P.x,",").concat(P.y,"Z")}else I+="L".concat(r,",").concat(n,"Z");return I},mZ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},PS=function(e){var r=kR(kR({},mZ),e),n=r.cx,i=r.cy,a=r.innerRadius,s=r.outerRadius,u=r.cornerRadius,c=r.forceCornerRadius,f=r.cornerIsExternal,h=r.startAngle,m=r.endAngle,y=r.className;if(s<a||h===m)return null;var b=et("recharts-sector",y),x=s-a,E=sn(u,x,0,!0),w;return E>0&&Math.abs(h-m)<360?w=pZ({cx:n,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(E,x/2),forceCornerRadius:c,cornerIsExternal:f,startAngle:h,endAngle:m}):w=A4({cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:h,endAngle:m}),z.createElement("path",Qw({},qe(r,!0),{className:b,d:w,role:"img"}))};function ed(t){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ed(t)}function Jw(){return Jw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jw.apply(this,arguments)}function IR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function OR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IR(Object(r),!0).forEach(function(n){gZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gZ(t,e,r){return e=yZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yZ(t){var e=vZ(t,"string");return ed(e)=="symbol"?e:e+""}function vZ(t,e){if(ed(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ed(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CR={curveBasisClosed:$7,curveBasisOpen:F7,curveBasis:L7,curveBumpX:E7,curveBumpY:S7,curveLinearClosed:V7,curveLinear:vg,curveMonotoneX:U7,curveMonotoneY:B7,curveNatural:q7,curveStep:z7,curveStepAfter:H7,curveStepBefore:W7},gp=function(e){return e.x===+e.x&&e.y===+e.y},Gc=function(e){return e.x},Yc=function(e){return e.y},bZ=function(e,r){if(Ye(e))return e;var n="curve".concat(gg(e));return(n==="curveMonotone"||n==="curveBump")&&r?CR["".concat(n).concat(r==="vertical"?"Y":"X")]:CR[n]||vg},_Z=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,s=e.baseLine,u=e.layout,c=e.connectNulls,f=c===void 0?!1:c,h=bZ(n,u),m=f?a.filter(function(E){return gp(E)}):a,y;if(Array.isArray(s)){var b=f?s.filter(function(E){return gp(E)}):s,x=m.map(function(E,w){return OR(OR({},E),{},{base:b[w]})});return u==="vertical"?y=sp().y(Yc).x1(Gc).x0(function(E){return E.base.x}):y=sp().x(Gc).y1(Yc).y0(function(E){return E.base.y}),y.defined(gp).curve(h),y(x)}return u==="vertical"&&ve(s)?y=sp().y(Yc).x1(Gc).x0(s):ve(s)?y=sp().x(Gc).y1(Yc).y0(s):y=TL().x(Gc).y(Yc),y.defined(gp).curve(h),y(m)},_m=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?_Z(e):i;return K.createElement("path",Jw({},qe(e,!1),Kp(e),{className:et("recharts-curve",r),d:s,ref:a}))},fx={exports:{}},dx,NR;function xZ(){if(NR)return dx;NR=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return dx=t,dx}var hx,RR;function wZ(){if(RR)return hx;RR=1;var t=xZ();function e(){}function r(){}return r.resetWarningCache=e,hx=function(){function n(s,u,c,f,h,m){if(m!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return a.PropTypes=a,a},hx}var jR;function EZ(){return jR||(jR=1,fx.exports=wZ()()),fx.exports}var SZ=EZ();const yt=bt(SZ);var TZ=Object.getOwnPropertyNames,AZ=Object.getOwnPropertySymbols,PZ=Object.prototype.hasOwnProperty;function DR(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function yp(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,s=a.get(r),u=a.get(n);if(s&&u)return s===n&&u===r;a.set(r,n),a.set(n,r);var c=t(r,n,i);return a.delete(r),a.delete(n),c}}function MR(t){return TZ(t).concat(AZ(t))}var kZ=Object.hasOwn||function(t,e){return PZ.call(t,e)};function pl(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var IZ="__v",OZ="__o",CZ="_owner",LR=Object.getOwnPropertyDescriptor,$R=Object.keys;function NZ(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function RZ(t,e){return pl(t.getTime(),e.getTime())}function jZ(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function DZ(t,e){return t===e}function FR(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.entries(),s,u,c=0;(s=a.next())&&!s.done;){for(var f=e.entries(),h=!1,m=0;(u=f.next())&&!u.done;){if(i[m]){m++;continue}var y=s.value,b=u.value;if(r.equals(y[0],b[0],c,m,t,e,r)&&r.equals(y[1],b[1],y[0],b[0],t,e,r)){h=i[m]=!0;break}m++}if(!h)return!1;c++}return!0}var MZ=pl;function LZ(t,e,r){var n=$R(t),i=n.length;if($R(e).length!==i)return!1;for(;i-- >0;)if(!P4(t,e,r,n[i]))return!1;return!0}function Xc(t,e,r){var n=MR(t),i=n.length;if(MR(e).length!==i)return!1;for(var a,s,u;i-- >0;)if(a=n[i],!P4(t,e,r,a)||(s=LR(t,a),u=LR(e,a),(s||u)&&(!s||!u||s.configurable!==u.configurable||s.enumerable!==u.enumerable||s.writable!==u.writable)))return!1;return!0}function $Z(t,e){return pl(t.valueOf(),e.valueOf())}function FZ(t,e){return t.source===e.source&&t.flags===e.flags}function VR(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.values(),s,u;(s=a.next())&&!s.done;){for(var c=e.values(),f=!1,h=0;(u=c.next())&&!u.done;){if(!i[h]&&r.equals(s.value,u.value,s.value,u.value,t,e,r)){f=i[h]=!0;break}h++}if(!f)return!1}return!0}function VZ(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function UZ(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function P4(t,e,r,n){return(n===CZ||n===OZ||n===IZ)&&(t.$$typeof||e.$$typeof)?!0:kZ(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var BZ="[object Arguments]",qZ="[object Boolean]",zZ="[object Date]",WZ="[object Error]",HZ="[object Map]",KZ="[object Number]",GZ="[object Object]",YZ="[object RegExp]",XZ="[object Set]",QZ="[object String]",JZ="[object URL]",ZZ=Array.isArray,UR=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,BR=Object.assign,eee=Object.prototype.toString.call.bind(Object.prototype.toString);function tee(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,s=t.areNumbersEqual,u=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,f=t.areRegExpsEqual,h=t.areSetsEqual,m=t.areTypedArraysEqual,y=t.areUrlsEqual;return function(x,E,w){if(x===E)return!0;if(x==null||E==null)return!1;var O=typeof x;if(O!==typeof E)return!1;if(O!=="object")return O==="number"?s(x,E,w):O==="function"?i(x,E,w):!1;var C=x.constructor;if(C!==E.constructor)return!1;if(C===Object)return u(x,E,w);if(ZZ(x))return e(x,E,w);if(UR!=null&&UR(x))return m(x,E,w);if(C===Date)return r(x,E,w);if(C===RegExp)return f(x,E,w);if(C===Map)return a(x,E,w);if(C===Set)return h(x,E,w);var N=eee(x);return N===zZ?r(x,E,w):N===YZ?f(x,E,w):N===HZ?a(x,E,w):N===XZ?h(x,E,w):N===GZ?typeof x.then!="function"&&typeof E.then!="function"&&u(x,E,w):N===JZ?y(x,E,w):N===WZ?n(x,E,w):N===BZ?u(x,E,w):N===qZ||N===KZ||N===QZ?c(x,E,w):!1}}function ree(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?Xc:NZ,areDatesEqual:RZ,areErrorsEqual:jZ,areFunctionsEqual:DZ,areMapsEqual:n?DR(FR,Xc):FR,areNumbersEqual:MZ,areObjectsEqual:n?Xc:LZ,arePrimitiveWrappersEqual:$Z,areRegExpsEqual:FZ,areSetsEqual:n?DR(VR,Xc):VR,areTypedArraysEqual:n?Xc:VZ,areUrlsEqual:UZ};if(r&&(i=BR({},i,r(i))),e){var a=yp(i.areArraysEqual),s=yp(i.areMapsEqual),u=yp(i.areObjectsEqual),c=yp(i.areSetsEqual);i=BR({},i,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:u,areSetsEqual:c})}return i}function nee(t){return function(e,r,n,i,a,s,u){return t(e,r,u)}}function iee(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(c,f){var h=n(),m=h.cache,y=m===void 0?e?new WeakMap:void 0:m,b=h.meta;return r(c,f,{cache:y,equals:i,meta:b,strict:a})};if(e)return function(c,f){return r(c,f,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var s={cache:void 0,equals:i,meta:void 0,strict:a};return function(c,f){return r(c,f,s)}}var aee=os();os({strict:!0});os({circular:!0});os({circular:!0,strict:!0});os({createInternalComparator:function(){return pl}});os({strict:!0,createInternalComparator:function(){return pl}});os({circular:!0,createInternalComparator:function(){return pl}});os({circular:!0,createInternalComparator:function(){return pl},strict:!0});function os(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,s=a===void 0?!1:a,u=ree(t),c=tee(u),f=n?n(c):nee(c);return iee({circular:r,comparator:c,createState:i,equals:f,strict:s})}function oee(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function qR(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):oee(i)};requestAnimationFrame(n)}function Zw(t){"@babel/helpers - typeof";return Zw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zw(t)}function see(t){return fee(t)||cee(t)||uee(t)||lee()}function lee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uee(t,e){if(t){if(typeof t=="string")return zR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zR(t,e)}}function zR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function cee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fee(t){if(Array.isArray(t))return t}function dee(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var s=a,u=see(s),c=u[0],f=u.slice(1);if(typeof c=="number"){qR(i.bind(null,f),c);return}i(c),qR(i.bind(null,f));return}Zw(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function td(t){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},td(t)}function WR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function HR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WR(Object(r),!0).forEach(function(n){k4(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function k4(t,e,r){return e=hee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hee(t){var e=pee(t,"string");return td(e)==="symbol"?e:String(e)}function pee(t,e){if(td(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(td(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mee=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},gee=function(e){return e},yee=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},vf=function(e,r){return Object.keys(r).reduce(function(n,i){return HR(HR({},n),{},k4({},i,e(i,r[i])))},{})},KR=function(e,r,n){return e.map(function(i){return"".concat(yee(i)," ").concat(r,"ms ").concat(n)}).join(",")};function vee(t,e){return xee(t)||_ee(t,e)||I4(t,e)||bee()}function bee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ee(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function xee(t){if(Array.isArray(t))return t}function wee(t){return Tee(t)||See(t)||I4(t)||Eee()}function Eee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I4(t,e){if(t){if(typeof t=="string")return e1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e1(t,e)}}function See(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Tee(t){if(Array.isArray(t))return e1(t)}function e1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var xm=1e-4,O4=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},C4=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},GR=function(e,r){return function(n){var i=O4(e,r);return C4(i,n)}},Aee=function(e,r){return function(n){var i=O4(e,r),a=[].concat(wee(i.map(function(s,u){return s*u}).slice(1)),[0]);return C4(a,n)}},YR=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],s=r[2],u=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,s=1,u=1;break;case"ease":i=.25,a=.1,s=.25,u=1;break;case"ease-in":i=.42,a=0,s=1,u=1;break;case"ease-out":i=.42,a=0,s=.58,u=1;break;case"ease-in-out":i=0,a=0,s=.58,u=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var f=c[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),h=vee(f,4);i=h[0],a=h[1],s=h[2],u=h[3]}}}var m=GR(i,s),y=GR(a,u),b=Aee(i,s),x=function(O){return O>1?1:O<0?0:O},E=function(O){for(var C=O>1?1:O,N=C,$=0;$<8;++$){var I=m(N)-C,j=b(N);if(Math.abs(I-C)<xm||j<xm)return y(N);N=x(N-I/j)}return y(N)};return E.isStepper=!1,E},Pee=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,s=e.dt,u=s===void 0?17:s,c=function(h,m,y){var b=-(h-m)*n,x=y*a,E=y+(b-x)*u/1e3,w=y*u/1e3+h;return Math.abs(w-m)<xm&&Math.abs(E)<xm?[m,0]:[w,E]};return c.isStepper=!0,c.dt=u,c},kee=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return YR(i);case"spring":return Pee();default:if(i.split("(")[0]==="cubic-bezier")return YR(i)}return typeof i=="function"?i:null};function rd(t){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rd(t)}function XR(t){return Cee(t)||Oee(t)||N4(t)||Iee()}function Iee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Cee(t){if(Array.isArray(t))return r1(t)}function QR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Lr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QR(Object(r),!0).forEach(function(n){t1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function t1(t,e,r){return e=Nee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nee(t){var e=Ree(t,"string");return rd(e)==="symbol"?e:String(e)}function Ree(t,e){if(rd(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jee(t,e){return Lee(t)||Mee(t,e)||N4(t,e)||Dee()}function Dee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N4(t,e){if(t){if(typeof t=="string")return r1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r1(t,e)}}function r1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Mee(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function Lee(t){if(Array.isArray(t))return t}var wm=function(e,r,n){return e+(r-e)*n},n1=function(e){var r=e.from,n=e.to;return r!==n},$ee=function t(e,r,n){var i=vf(function(a,s){if(n1(s)){var u=e(s.from,s.to,s.velocity),c=jee(u,2),f=c[0],h=c[1];return Lr(Lr({},s),{},{from:f,velocity:h})}return s},r);return n<1?vf(function(a,s){return n1(s)?Lr(Lr({},s),{},{velocity:wm(s.velocity,i[a].velocity,n),from:wm(s.from,i[a].from,n)}):s},r):t(e,i,n-1)};const Fee=function(t,e,r,n,i){var a=mee(t,e),s=a.reduce(function(w,O){return Lr(Lr({},w),{},t1({},O,[t[O],e[O]]))},{}),u=a.reduce(function(w,O){return Lr(Lr({},w),{},t1({},O,{from:t[O],velocity:0,to:e[O]}))},{}),c=-1,f,h,m=function(){return null},y=function(){return vf(function(O,C){return C.from},u)},b=function(){return!Object.values(u).filter(n1).length},x=function(O){f||(f=O);var C=O-f,N=C/r.dt;u=$ee(r,u,N),i(Lr(Lr(Lr({},t),e),y())),f=O,b()||(c=requestAnimationFrame(m))},E=function(O){h||(h=O);var C=(O-h)/n,N=vf(function(I,j){return wm.apply(void 0,XR(j).concat([r(C)]))},s);if(i(Lr(Lr(Lr({},t),e),N)),C<1)c=requestAnimationFrame(m);else{var $=vf(function(I,j){return wm.apply(void 0,XR(j).concat([r(1)]))},s);i(Lr(Lr(Lr({},t),e),$))}};return m=r.isStepper?x:E,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(c)}}};function ju(t){"@babel/helpers - typeof";return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ju(t)}var Vee=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Uee(t,e){if(t==null)return{};var r=Bee(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Bee(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function px(t){return Hee(t)||Wee(t)||zee(t)||qee()}function qee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zee(t,e){if(t){if(typeof t=="string")return i1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i1(t,e)}}function Wee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hee(t){if(Array.isArray(t))return i1(t)}function i1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function JR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ni(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JR(Object(r),!0).forEach(function(n){sf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sf(t,e,r){return e=R4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gee(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,R4(n.key),n)}}function Yee(t,e,r){return e&&Gee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function R4(t){var e=Xee(t,"string");return ju(e)==="symbol"?e:String(e)}function Xee(t,e){if(ju(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ju(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a1(t,e)}function a1(t,e){return a1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},a1(t,e)}function Jee(t){var e=Zee();return function(){var n=Em(t),i;if(e){var a=Em(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return o1(this,i)}}function o1(t,e){if(e&&(ju(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s1(t)}function s1(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zee(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Em(t){return Em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Em(t)}var pa=function(t){Qee(r,t);var e=Jee(r);function r(n,i){var a;Kee(this,r),a=e.call(this,n,i);var s=a.props,u=s.isActive,c=s.attributeName,f=s.from,h=s.to,m=s.steps,y=s.children,b=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(s1(a)),a.changeStyle=a.changeStyle.bind(s1(a)),!u||b<=0)return a.state={style:{}},typeof y=="function"&&(a.state={style:h}),o1(a);if(m&&m.length)a.state={style:m[0].style};else if(f){if(typeof y=="function")return a.state={style:f},o1(a);a.state={style:c?sf({},c,f):f}}else a.state={style:{}};return a}return Yee(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,u=a.canBegin,c=a.attributeName,f=a.shouldReAnimate,h=a.to,m=a.from,y=this.state.style;if(u){if(!s){var b={style:c?sf({},c,h):h};this.state&&y&&(c&&y[c]!==h||!c&&y!==h)&&this.setState(b);return}if(!(aee(i.to,h)&&i.canBegin&&i.isActive)){var x=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var E=x||f?m:i.to;if(this.state&&y){var w={style:c?sf({},c,E):E};(c&&y[c]!==E||!c&&y!==E)&&this.setState(w)}this.runAnimation(Ni(Ni({},this.props),{},{from:E,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,u=i.to,c=i.duration,f=i.easing,h=i.begin,m=i.onAnimationEnd,y=i.onAnimationStart,b=Fee(s,u,kee(f),c,this.changeStyle),x=function(){a.stopJSAnimation=b()};this.manager.start([y,h,x,c,m])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,u=i.begin,c=i.onAnimationStart,f=s[0],h=f.style,m=f.duration,y=m===void 0?0:m,b=function(E,w,O){if(O===0)return E;var C=w.duration,N=w.easing,$=N===void 0?"ease":N,I=w.style,j=w.properties,A=w.onAnimationEnd,P=O>0?s[O-1]:w,R=j||Object.keys(I);if(typeof $=="function"||$==="spring")return[].concat(px(E),[a.runJSAnimation.bind(a,{from:P.style,to:I,duration:C,easing:$}),C]);var F=KR(R,C,$),M=Ni(Ni(Ni({},P.style),I),{},{transition:F});return[].concat(px(E),[M,C,A]).filter(gee)};return this.manager.start([c].concat(px(s.reduce(b,[h,Math.max(y,u)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=dee());var a=i.begin,s=i.duration,u=i.attributeName,c=i.to,f=i.easing,h=i.onAnimationStart,m=i.onAnimationEnd,y=i.steps,b=i.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof f=="function"||typeof b=="function"||f==="spring"){this.runJSAnimation(i);return}if(y.length>1){this.runStepAnimation(i);return}var E=u?sf({},u,c):c,w=KR(Object.keys(E),s,f);x.start([h,a,Ni(Ni({},E),{},{transition:w}),s,m])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var u=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=Uee(i,Vee),f=K.Children.count(a),h=this.state.style;if(typeof a=="function")return a(h);if(!u||f===0||s<=0)return a;var m=function(b){var x=b.props,E=x.style,w=E===void 0?{}:E,O=x.className,C=K.cloneElement(b,Ni(Ni({},c),{},{style:Ni(Ni({},w),h),className:O}));return C};return f===1?m(K.Children.only(a)):z.createElement("div",null,K.Children.map(a,function(y){return m(y)}))}}]),r}(K.PureComponent);pa.displayName="Animate";pa.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};pa.propTypes={from:yt.oneOfType([yt.object,yt.string]),to:yt.oneOfType([yt.object,yt.string]),attributeName:yt.string,duration:yt.number,begin:yt.number,easing:yt.oneOfType([yt.string,yt.func]),steps:yt.arrayOf(yt.shape({duration:yt.number.isRequired,style:yt.object.isRequired,easing:yt.oneOfType([yt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),yt.func]),properties:yt.arrayOf("string"),onAnimationEnd:yt.func})),children:yt.oneOfType([yt.node,yt.func]),isActive:yt.bool,canBegin:yt.bool,onAnimationEnd:yt.func,shouldReAnimate:yt.bool,onAnimationStart:yt.func,onAnimationReStart:yt.func};function nd(t){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nd(t)}function Sm(){return Sm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sm.apply(this,arguments)}function ete(t,e){return ite(t)||nte(t,e)||rte(t,e)||tte()}function tte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rte(t,e){if(t){if(typeof t=="string")return ZR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZR(t,e)}}function ZR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nte(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function ite(t){if(Array.isArray(t))return t}function ej(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ej(Object(r),!0).forEach(function(n){ate(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ej(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ate(t,e,r){return e=ote(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ote(t){var e=ste(t,"string");return nd(e)=="symbol"?e:e+""}function ste(t,e){if(nd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rj=function(e,r,n,i,a){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),u=i>=0?1:-1,c=n>=0?1:-1,f=i>=0&&n>=0||i<0&&n<0?1:0,h;if(s>0&&a instanceof Array){for(var m=[0,0,0,0],y=0,b=4;y<b;y++)m[y]=a[y]>s?s:a[y];h="M".concat(e,",").concat(r+u*m[0]),m[0]>0&&(h+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(f,",").concat(e+c*m[0],",").concat(r)),h+="L ".concat(e+n-c*m[1],",").concat(r),m[1]>0&&(h+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(f,`,
        `).concat(e+n,",").concat(r+u*m[1])),h+="L ".concat(e+n,",").concat(r+i-u*m[2]),m[2]>0&&(h+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(f,`,
        `).concat(e+n-c*m[2],",").concat(r+i)),h+="L ".concat(e+c*m[3],",").concat(r+i),m[3]>0&&(h+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(r+i-u*m[3])),h+="Z"}else if(s>0&&a===+a&&a>0){var x=Math.min(s,a);h="M ".concat(e,",").concat(r+u*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(e+c*x,",").concat(r,`
            L `).concat(e+n-c*x,",").concat(r,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(e+n,",").concat(r+u*x,`
            L `).concat(e+n,",").concat(r+i-u*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(e+n-c*x,",").concat(r+i,`
            L `).concat(e+c*x,",").concat(r+i,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(e,",").concat(r+i-u*x," Z")}else h="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return h},lte=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,s=r.y,u=r.width,c=r.height;if(Math.abs(u)>0&&Math.abs(c)>0){var f=Math.min(a,a+u),h=Math.max(a,a+u),m=Math.min(s,s+c),y=Math.max(s,s+c);return n>=f&&n<=h&&i>=m&&i<=y}return!1},ute={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},kS=function(e){var r=tj(tj({},ute),e),n=K.useRef(),i=K.useState(-1),a=ete(i,2),s=a[0],u=a[1];K.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var $=n.current.getTotalLength();$&&u($)}catch{}},[]);var c=r.x,f=r.y,h=r.width,m=r.height,y=r.radius,b=r.className,x=r.animationEasing,E=r.animationDuration,w=r.animationBegin,O=r.isAnimationActive,C=r.isUpdateAnimationActive;if(c!==+c||f!==+f||h!==+h||m!==+m||h===0||m===0)return null;var N=et("recharts-rectangle",b);return C?z.createElement(pa,{canBegin:s>0,from:{width:h,height:m,x:c,y:f},to:{width:h,height:m,x:c,y:f},duration:E,animationEasing:x,isActive:C},function($){var I=$.width,j=$.height,A=$.x,P=$.y;return z.createElement(pa,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:E,isActive:O,easing:x},z.createElement("path",Sm({},qe(r,!0),{className:N,d:rj(A,P,I,j,y),ref:n})))}):z.createElement("path",Sm({},qe(r,!0),{className:N,d:rj(c,f,h,m,y)}))},cte=["points","className","baseLinePoints","connectNulls"];function ou(){return ou=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ou.apply(this,arguments)}function fte(t,e){if(t==null)return{};var r=dte(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dte(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function nj(t){return gte(t)||mte(t)||pte(t)||hte()}function hte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pte(t,e){if(t){if(typeof t=="string")return l1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l1(t,e)}}function mte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gte(t){if(Array.isArray(t))return l1(t)}function l1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var ij=function(e){return e&&e.x===+e.x&&e.y===+e.y},yte=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){ij(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),ij(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},bf=function(e,r){var n=yte(e);r&&(n=[n.reduce(function(a,s){return[].concat(nj(a),nj(s))},[])]);var i=n.map(function(a){return a.reduce(function(s,u,c){return"".concat(s).concat(c===0?"M":"L").concat(u.x,",").concat(u.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},vte=function(e,r,n){var i=bf(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(bf(r.reverse(),n).slice(1))},bte=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,s=fte(e,cte);if(!r||!r.length)return null;var u=et("recharts-polygon",n);if(i&&i.length){var c=s.stroke&&s.stroke!=="none",f=vte(r,i,a);return z.createElement("g",{className:u},z.createElement("path",ou({},qe(s,!0),{fill:f.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:f})),c?z.createElement("path",ou({},qe(s,!0),{fill:"none",d:bf(r,a)})):null,c?z.createElement("path",ou({},qe(s,!0),{fill:"none",d:bf(i,a)})):null)}var h=bf(r,a);return z.createElement("path",ou({},qe(s,!0),{fill:h.slice(-1)==="Z"?s.fill:"none",className:u,d:h}))};function u1(){return u1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},u1.apply(this,arguments)}var Mg=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,s=et("recharts-dot",a);return r===+r&&n===+n&&i===+i?K.createElement("circle",u1({},qe(e,!1),Kp(e),{className:s,cx:r,cy:n,r:i})):null};function id(t){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},id(t)}var _te=["x","y","top","left","width","height","className"];function c1(){return c1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},c1.apply(this,arguments)}function aj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xte(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aj(Object(r),!0).forEach(function(n){wte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wte(t,e,r){return e=Ete(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ete(t){var e=Ste(t,"string");return id(e)=="symbol"?e:e+""}function Ste(t,e){if(id(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tte(t,e){if(t==null)return{};var r=Ate(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ate(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Pte=function(e,r,n,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(r,"h").concat(n)},kte=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.top,u=s===void 0?0:s,c=e.left,f=c===void 0?0:c,h=e.width,m=h===void 0?0:h,y=e.height,b=y===void 0?0:y,x=e.className,E=Tte(e,_te),w=xte({x:n,y:a,top:u,left:f,width:m,height:b},E);return!ve(n)||!ve(a)||!ve(m)||!ve(b)||!ve(u)||!ve(f)?null:z.createElement("path",c1({},qe(w,!0),{className:et("recharts-cross",x),d:Pte(n,a,m,b,u,f)}))},mx,oj;function Ite(){if(oj)return mx;oj=1;var t=Cg(),e=Y$(),r=va();function n(i,a){return i&&i.length?t(i,r(a,2),e):void 0}return mx=n,mx}var Ote=Ite();const Cte=bt(Ote);var gx,sj;function Nte(){if(sj)return gx;sj=1;var t=Cg(),e=va(),r=X$();function n(i,a){return i&&i.length?t(i,e(a,2),r):void 0}return gx=n,gx}var Rte=Nte();const jte=bt(Rte);var Dte=["cx","cy","angle","ticks","axisLine"],Mte=["ticks","tick","angle","tickFormatter","stroke"];function Du(t){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Du(t)}function _f(){return _f=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_f.apply(this,arguments)}function lj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Os(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lj(Object(r),!0).forEach(function(n){Lg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uj(t,e){if(t==null)return{};var r=Lte(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Lte(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function $te(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cj(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,D4(n.key),n)}}function Fte(t,e,r){return e&&cj(t.prototype,e),r&&cj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vte(t,e,r){return e=Tm(e),Ute(t,j4()?Reflect.construct(e,r||[],Tm(t).constructor):e.apply(t,r))}function Ute(t,e){if(e&&(Du(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bte(t)}function Bte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j4=function(){return!!t})()}function Tm(t){return Tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tm(t)}function qte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f1(t,e)}function f1(t,e){return f1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},f1(t,e)}function Lg(t,e,r){return e=D4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function D4(t){var e=zte(t,"string");return Du(e)=="symbol"?e:e+""}function zte(t,e){if(Du(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $g=function(t){function e(){return $te(this,e),Vte(this,e,arguments)}return qte(e,t),Fte(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,s=a.angle,u=a.cx,c=a.cy;return Ct(u,c,i,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,u=n.ticks,c=Cte(u,function(h){return h.coordinate||0}),f=jte(u,function(h){return h.coordinate||0});return{cx:i,cy:a,startAngle:s,endAngle:s,innerRadius:f.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,u=n.ticks,c=n.axisLine,f=uj(n,Dte),h=u.reduce(function(x,E){return[Math.min(x[0],E.coordinate),Math.max(x[1],E.coordinate)]},[1/0,-1/0]),m=Ct(i,a,h[0],s),y=Ct(i,a,h[1],s),b=Os(Os(Os({},qe(f,!1)),{},{fill:"none"},qe(c,!1)),{},{x1:m.x,y1:m.y,x2:y.x,y2:y.y});return z.createElement("line",_f({className:"recharts-polar-radius-axis-line"},b))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,u=i.angle,c=i.tickFormatter,f=i.stroke,h=uj(i,Mte),m=this.getTickTextAnchor(),y=qe(h,!1),b=qe(s,!1),x=a.map(function(E,w){var O=n.getTickValueCoord(E),C=Os(Os(Os(Os({textAnchor:m,transform:"rotate(".concat(90-u,", ").concat(O.x,", ").concat(O.y,")")},y),{},{stroke:"none",fill:f},b),{},{index:w},O),{},{payload:E});return z.createElement(dt,_f({className:et("recharts-polar-radius-axis-tick",S4(s)),key:"tick-".concat(E.coordinate)},el(n.props,E,w)),e.renderTickItem(s,C,c?c(E.value,w):E.value))});return z.createElement(dt,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,s=n.tick;return!i||!i.length?null:z.createElement(dt,{className:et("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),s&&this.renderTicks(),Or.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var s;return z.isValidElement(n)?s=z.cloneElement(n,i):Ye(n)?s=n(i):s=z.createElement(tl,_f({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),s}}])}(K.PureComponent);Lg($g,"displayName","PolarRadiusAxis");Lg($g,"axisType","radiusAxis");Lg($g,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Mu(t){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mu(t)}function Ds(){return Ds=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ds.apply(this,arguments)}function fj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Cs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fj(Object(r),!0).forEach(function(n){Fg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dj(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,L4(n.key),n)}}function Hte(t,e,r){return e&&dj(t.prototype,e),r&&dj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kte(t,e,r){return e=Am(e),Gte(t,M4()?Reflect.construct(e,r||[],Am(t).constructor):e.apply(t,r))}function Gte(t,e){if(e&&(Mu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yte(t)}function Yte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M4=function(){return!!t})()}function Am(t){return Am=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Am(t)}function Xte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d1(t,e)}function d1(t,e){return d1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},d1(t,e)}function Fg(t,e,r){return e=L4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function L4(t){var e=Qte(t,"string");return Mu(e)=="symbol"?e:e+""}function Qte(t,e){if(Mu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Jte=Math.PI/180,hj=1e-5,Vg=function(t){function e(){return Wte(this,e),Kte(this,e,arguments)}return Xte(e,t),Hte(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,s=i.cy,u=i.radius,c=i.orientation,f=i.tickSize,h=f||8,m=Ct(a,s,u,n.coordinate),y=Ct(a,s,u+(c==="inner"?-1:1)*h,n.coordinate);return{x1:m.x,y1:m.y,x2:y.x,y2:y.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*Jte),s;return a>hj?s=i==="outer"?"start":"end":a<-hj?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.radius,u=n.axisLine,c=n.axisLineType,f=Cs(Cs({},qe(this.props,!1)),{},{fill:"none"},qe(u,!1));if(c==="circle")return z.createElement(Mg,Ds({className:"recharts-polar-angle-axis-line"},f,{cx:i,cy:a,r:s}));var h=this.props.ticks,m=h.map(function(y){return Ct(i,a,s,y.coordinate)});return z.createElement(bte,Ds({className:"recharts-polar-angle-axis-line"},f,{points:m}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,u=i.tickLine,c=i.tickFormatter,f=i.stroke,h=qe(this.props,!1),m=qe(s,!1),y=Cs(Cs({},h),{},{fill:"none"},qe(u,!1)),b=a.map(function(x,E){var w=n.getTickLineCoord(x),O=n.getTickTextAnchor(x),C=Cs(Cs(Cs({textAnchor:O},h),{},{stroke:"none",fill:f},m),{},{index:E,payload:x,x:w.x2,y:w.y2});return z.createElement(dt,Ds({className:et("recharts-polar-angle-axis-tick",S4(s)),key:"tick-".concat(x.coordinate)},el(n.props,x,E)),u&&z.createElement("line",Ds({className:"recharts-polar-angle-axis-tick-line"},y,w)),s&&e.renderTickItem(s,C,c?c(x.value,E):x.value))});return z.createElement(dt,{className:"recharts-polar-angle-axis-ticks"},b)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,s=n.axisLine;return a<=0||!i||!i.length?null:z.createElement(dt,{className:et("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var s;return z.isValidElement(n)?s=z.cloneElement(n,i):Ye(n)?s=n(i):s=z.createElement(tl,Ds({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),s}}])}(K.PureComponent);Fg(Vg,"displayName","PolarAngleAxis");Fg(Vg,"axisType","angleAxis");Fg(Vg,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var yx,pj;function Zte(){if(pj)return yx;pj=1;var t=GL(),e=t(Object.getPrototypeOf,Object);return yx=e,yx}var vx,mj;function ere(){if(mj)return vx;mj=1;var t=io(),e=Zte(),r=ao(),n="[object Object]",i=Function.prototype,a=Object.prototype,s=i.toString,u=a.hasOwnProperty,c=s.call(Object);function f(h){if(!r(h)||t(h)!=n)return!1;var m=e(h);if(m===null)return!0;var y=u.call(m,"constructor")&&m.constructor;return typeof y=="function"&&y instanceof y&&s.call(y)==c}return vx=f,vx}var tre=ere();const rre=bt(tre);var bx,gj;function nre(){if(gj)return bx;gj=1;var t=io(),e=ao(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return bx=n,bx}var ire=nre();const are=bt(ire);function ad(t){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ad(t)}function Pm(){return Pm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pm.apply(this,arguments)}function ore(t,e){return cre(t)||ure(t,e)||lre(t,e)||sre()}function sre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lre(t,e){if(t){if(typeof t=="string")return yj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yj(t,e)}}function yj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ure(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function cre(t){if(Array.isArray(t))return t}function vj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vj(Object(r),!0).forEach(function(n){fre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fre(t,e,r){return e=dre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dre(t){var e=hre(t,"string");return ad(e)=="symbol"?e:e+""}function hre(t,e){if(ad(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _j=function(e,r,n,i,a){var s=n-i,u;return u="M ".concat(e,",").concat(r),u+="L ".concat(e+n,",").concat(r),u+="L ".concat(e+n-s/2,",").concat(r+a),u+="L ".concat(e+n-s/2-i,",").concat(r+a),u+="L ".concat(e,",").concat(r," Z"),u},pre={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},mre=function(e){var r=bj(bj({},pre),e),n=K.useRef(),i=K.useState(-1),a=ore(i,2),s=a[0],u=a[1];K.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&u(N)}catch{}},[]);var c=r.x,f=r.y,h=r.upperWidth,m=r.lowerWidth,y=r.height,b=r.className,x=r.animationEasing,E=r.animationDuration,w=r.animationBegin,O=r.isUpdateAnimationActive;if(c!==+c||f!==+f||h!==+h||m!==+m||y!==+y||h===0&&m===0||y===0)return null;var C=et("recharts-trapezoid",b);return O?z.createElement(pa,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:y,x:c,y:f},to:{upperWidth:h,lowerWidth:m,height:y,x:c,y:f},duration:E,animationEasing:x,isActive:O},function(N){var $=N.upperWidth,I=N.lowerWidth,j=N.height,A=N.x,P=N.y;return z.createElement(pa,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:E,easing:x},z.createElement("path",Pm({},qe(r,!0),{className:C,d:_j(A,P,$,I,j),ref:n})))}):z.createElement("g",null,z.createElement("path",Pm({},qe(r,!0),{className:C,d:_j(c,f,h,m,y)})))},gre=["option","shapeType","propTransformer","activeClassName","isActive"];function od(t){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(t)}function yre(t,e){if(t==null)return{};var r=vre(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function vre(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function xj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function km(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xj(Object(r),!0).forEach(function(n){bre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bre(t,e,r){return e=_re(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _re(t){var e=xre(t,"string");return od(e)=="symbol"?e:e+""}function xre(t,e){if(od(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wre(t,e){return km(km({},e),t)}function Ere(t,e){return t==="symbols"}function wj(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return z.createElement(kS,r);case"trapezoid":return z.createElement(mre,r);case"sector":return z.createElement(PS,r);case"symbols":if(Ere(e))return z.createElement(HE,r);break;default:return null}}function Sre(t){return K.isValidElement(t)?t.props:t}function $4(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?wre:n,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,u=t.isActive,c=yre(t,gre),f;if(K.isValidElement(e))f=K.cloneElement(e,km(km({},c),Sre(e)));else if(Ye(e))f=e(c);else if(rre(e)&&!are(e)){var h=i(e,c);f=z.createElement(wj,{shapeType:r,elementProps:h})}else{var m=c;f=z.createElement(wj,{shapeType:r,elementProps:m})}return u?z.createElement(dt,{className:s},f):f}function Ug(t,e){return e!=null&&"trapezoids"in t.props}function Bg(t,e){return e!=null&&"sectors"in t.props}function sd(t,e){return e!=null&&"points"in t.props}function Tre(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function Are(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function Pre(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function kre(t,e){var r;return Ug(t,e)?r=Tre:Bg(t,e)?r=Are:sd(t,e)&&(r=Pre),r}function Ire(t,e){var r;return Ug(t,e)?r="trapezoids":Bg(t,e)?r="sectors":sd(t,e)&&(r="points"),r}function Ore(t,e){if(Ug(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Bg(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return sd(t,e)?e.payload:{}}function Cre(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=Ire(r,e),a=Ore(r,e),s=n.filter(function(c,f){var h=Fd(a,c),m=r.props[i].filter(function(x){var E=kre(r,e);return E(x,e)}),y=r.props[i].indexOf(m[m.length-1]),b=f===y;return h&&b}),u=n.indexOf(s[s.length-1]);return u}var Ip;function Lu(t){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lu(t)}function su(){return su=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},su.apply(this,arguments)}function Ej(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function It(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ej(Object(r),!0).forEach(function(n){fi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ej(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sj(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,V4(n.key),n)}}function Rre(t,e,r){return e&&Sj(t.prototype,e),r&&Sj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function jre(t,e,r){return e=Im(e),Dre(t,F4()?Reflect.construct(e,r||[],Im(t).constructor):e.apply(t,r))}function Dre(t,e){if(e&&(Lu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mre(t)}function Mre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F4=function(){return!!t})()}function Im(t){return Im=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Im(t)}function Lre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h1(t,e)}function h1(t,e){return h1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},h1(t,e)}function fi(t,e,r){return e=V4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function V4(t){var e=$re(t,"string");return Lu(e)=="symbol"?e:e+""}function $re(t,e){if(Lu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var so=function(t){function e(r){var n;return Nre(this,e),n=jre(this,e,[r]),fi(n,"pieRef",null),fi(n,"sectorRefs",[]),fi(n,"id",rc("recharts-pie-")),fi(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ye(i)&&i()}),fi(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ye(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Lre(e,t),Rre(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.label,u=a.labelLine,c=a.dataKey,f=a.valueKey,h=qe(this.props,!1),m=qe(s,!1),y=qe(u,!1),b=s&&s.offsetRadius||20,x=n.map(function(E,w){var O=(E.startAngle+E.endAngle)/2,C=Ct(E.cx,E.cy,E.outerRadius+b,O),N=It(It(It(It({},h),E),{},{stroke:"none"},m),{},{index:w,textAnchor:e.getTextAnchor(C.x,E.cx)},C),$=It(It(It(It({},h),E),{},{fill:"none",stroke:E.fill},y),{},{index:w,points:[Ct(E.cx,E.cy,E.outerRadius,O),C]}),I=c;return Je(c)&&Je(f)?I="value":Je(c)&&(I=f),z.createElement(dt,{key:"label-".concat(E.startAngle,"-").concat(E.endAngle,"-").concat(E.midAngle,"-").concat(w)},u&&e.renderLabelLineItem(u,$,"line"),e.renderLabelItem(s,N,vr(E,I)))});return z.createElement(dt,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,s=a.activeShape,u=a.blendStroke,c=a.inactiveShape;return n.map(function(f,h){if(f?.startAngle===0&&f?.endAngle===0&&n.length!==1)return null;var m=i.isActiveIndex(h),y=c&&i.hasActiveIndex()?c:null,b=m?s:y,x=It(It({},f),{},{stroke:u?f.fill:f.stroke,tabIndex:-1});return z.createElement(dt,su({ref:function(w){w&&!i.sectorRefs.includes(w)&&i.sectorRefs.push(w)},tabIndex:-1,className:"recharts-pie-sector"},el(i.props,f,h),{key:"sector-".concat(f?.startAngle,"-").concat(f?.endAngle,"-").concat(f.midAngle,"-").concat(h)}),z.createElement($4,su({option:b,isActive:m,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,s=i.isAnimationActive,u=i.animationBegin,c=i.animationDuration,f=i.animationEasing,h=i.animationId,m=this.state,y=m.prevSectors,b=m.prevIsAnimationActive;return z.createElement(pa,{begin:u,duration:c,isActive:s,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(h,"-").concat(b),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var E=x.t,w=[],O=a&&a[0],C=O.startAngle;return a.forEach(function(N,$){var I=y&&y[$],j=$>0?Hn(N,"paddingAngle",0):0;if(I){var A=Un(I.endAngle-I.startAngle,N.endAngle-N.startAngle),P=It(It({},N),{},{startAngle:C+j,endAngle:C+A(E)+j});w.push(P),C=P.endAngle}else{var R=N.endAngle,F=N.startAngle,M=Un(0,R-F),V=M(E),D=It(It({},N),{},{startAngle:C+j,endAngle:C+V+j});w.push(D),C=D.endAngle}}),z.createElement(dt,null,n.renderSectorsStatically(w))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var u=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[u].focus(),i.setState({sectorToFocus:u});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,s=this.state.prevSectors;return a&&i&&i.length&&(!s||!Fd(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,s=i.sectors,u=i.className,c=i.label,f=i.cx,h=i.cy,m=i.innerRadius,y=i.outerRadius,b=i.isAnimationActive,x=this.state.isAnimationFinished;if(a||!s||!s.length||!ve(f)||!ve(h)||!ve(m)||!ve(y))return null;var E=et("recharts-pie",u);return z.createElement(dt,{tabIndex:this.props.rootTabIndex,className:E,ref:function(O){n.pieRef=O}},this.renderSectors(),c&&this.renderLabels(s),Or.renderCallByParent(this.props,null,!1),(!b||x)&&Ya.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(z.isValidElement(n))return z.cloneElement(n,i);if(Ye(n))return n(i);var s=et("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return z.createElement(_m,su({},i,{key:a,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,i,a){if(z.isValidElement(n))return z.cloneElement(n,i);var s=a;if(Ye(n)&&(s=n(i),z.isValidElement(s)))return s;var u=et("recharts-pie-label-text",typeof n!="boolean"&&!Ye(n)?n.className:"");return z.createElement(tl,su({},i,{alignmentBaseline:"middle",className:u}),s)}}])}(K.PureComponent);Ip=so;fi(so,"displayName","Pie");fi(so,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!fl.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});fi(so,"parseDeltaAngle",function(t,e){var r=on(e-t),n=Math.min(Math.abs(e-t),360);return r*n});fi(so,"getRealPieData",function(t){var e=t.data,r=t.children,n=qe(t,!1),i=Kn(r,Sg);return e&&e.length?e.map(function(a,s){return It(It(It({payload:a},n),a),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(a){return It(It({},n),a.props)}):[]});fi(so,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,a=e.height,s=E4(i,a),u=n+sn(t.cx,i,i/2),c=r+sn(t.cy,a,a/2),f=sn(t.innerRadius,s,0),h=sn(t.outerRadius,s,s*.8),m=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:u,cy:c,innerRadius:f,outerRadius:h,maxRadius:m}});fi(so,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?It(It({},e.type.defaultProps),e.props):e.props,i=Ip.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,s=n.startAngle,u=n.endAngle,c=n.paddingAngle,f=n.dataKey,h=n.nameKey,m=n.valueKey,y=n.tooltipType,b=Math.abs(n.minAngle),x=Ip.parseCoordinateOfPie(n,r),E=Ip.parseDeltaAngle(s,u),w=Math.abs(E),O=f;Je(f)&&Je(m)?(Mi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),O="value"):Je(f)&&(Mi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),O=m);var C=i.filter(function(P){return vr(P,O,0)!==0}).length,N=(w>=360?C:C-1)*c,$=w-C*b-N,I=i.reduce(function(P,R){var F=vr(R,O,0);return P+(ve(F)?F:0)},0),j;if(I>0){var A;j=i.map(function(P,R){var F=vr(P,O,0),M=vr(P,h,R),V=(ve(F)?F:0)/I,D;R?D=A.endAngle+on(E)*c*(F!==0?1:0):D=s;var Z=D+on(E)*((F!==0?b:0)+V*$),ee=(D+Z)/2,re=(x.innerRadius+x.outerRadius)/2,oe=[{name:M,value:F,payload:P,dataKey:O,type:y}],Q=Ct(x.cx,x.cy,re,ee);return A=It(It(It({percent:V,cornerRadius:a,name:M,tooltipPayload:oe,midAngle:ee,middleRadius:re,tooltipPosition:Q},P),x),{},{value:vr(P,O),startAngle:D,endAngle:Z,payload:P,paddingAngle:on(E)*c}),A})}return It(It({},x),{},{sectors:j,data:i})});var _x,Tj;function Fre(){if(Tj)return _x;Tj=1;var t=Math.ceil,e=Math.max;function r(n,i,a,s){for(var u=-1,c=e(t((i-n)/(a||1)),0),f=Array(c);c--;)f[s?c:++u]=n,n+=a;return f}return _x=r,_x}var xx,Aj;function U4(){if(Aj)return xx;Aj=1;var t=c$(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var a=i<0?-1:1;return a*r}return i===i?i:0}return xx=n,xx}var wx,Pj;function Vre(){if(Pj)return wx;Pj=1;var t=Fre(),e=wg(),r=U4();function n(i){return function(a,s,u){return u&&typeof u!="number"&&e(a,s,u)&&(s=u=void 0),a=r(a),s===void 0?(s=a,a=0):s=r(s),u=u===void 0?a<s?1:-1:r(u),t(a,s,u,i)}}return wx=n,wx}var Ex,kj;function Ure(){if(kj)return Ex;kj=1;var t=Vre(),e=t();return Ex=e,Ex}var Bre=Ure();const Om=bt(Bre);function ld(t){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ld(t)}function Ij(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Oj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ij(Object(r),!0).forEach(function(n){B4(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ij(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function B4(t,e,r){return e=qre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qre(t){var e=zre(t,"string");return ld(e)=="symbol"?e:e+""}function zre(t,e){if(ld(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wre=["Webkit","Moz","O","ms"],Hre=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Wre.reduce(function(a,s){return Oj(Oj({},a),{},B4({},s+n,r))},{});return i[e]=r,i};function $u(t){"@babel/helpers - typeof";return $u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$u(t)}function Cm(){return Cm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cm.apply(this,arguments)}function Cj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Sx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Cj(Object(r),!0).forEach(function(n){$n(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Cj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nj(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,z4(n.key),n)}}function Gre(t,e,r){return e&&Nj(t.prototype,e),r&&Nj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yre(t,e,r){return e=Nm(e),Xre(t,q4()?Reflect.construct(e,r||[],Nm(t).constructor):e.apply(t,r))}function Xre(t,e){if(e&&($u(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qre(t)}function Qre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function q4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q4=function(){return!!t})()}function Nm(t){return Nm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nm(t)}function Jre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p1(t,e)}function p1(t,e){return p1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},p1(t,e)}function $n(t,e,r){return e=z4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function z4(t){var e=Zre(t,"string");return $u(e)=="symbol"?e:e+""}function Zre(t,e){if($u(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($u(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ene=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,s=e.width,u=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,f=gf().domain(Om(0,c)).range([a,a+s-u]),h=f.domain().map(function(m){return f(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(n),endX:f(i),scale:f,scaleValues:h}},Rj=function(e){return e.changedTouches&&!!e.changedTouches.length},Fu=function(t){function e(r){var n;return Kre(this,e),n=Yre(this,e,[r]),$n(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),$n(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),$n(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,s=i.onDragEnd,u=i.startIndex;s?.({endIndex:a,startIndex:u})}),n.detachDragEndListener()}),$n(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),$n(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),$n(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),$n(n,"handleSlideDragStart",function(i){var a=Rj(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Jre(e,t),Gre(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,s=this.state.scaleValues,u=this.props,c=u.gap,f=u.data,h=f.length-1,m=Math.min(i,a),y=Math.max(i,a),b=e.getIndexInRange(s,m),x=e.getIndexInRange(s,y);return{startIndex:b-b%c,endIndex:x===h?h:x-x%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,s=i.tickFormatter,u=i.dataKey,c=vr(a[n],u,n);return Ye(s)?s(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,s=i.startX,u=i.endX,c=this.props,f=c.x,h=c.width,m=c.travellerWidth,y=c.startIndex,b=c.endIndex,x=c.onChange,E=n.pageX-a;E>0?E=Math.min(E,f+h-m-u,f+h-m-s):E<0&&(E=Math.max(E,f-s,f-u));var w=this.getIndex({startX:s+E,endX:u+E});(w.startIndex!==y||w.endIndex!==b)&&x&&x(w),this.setState({startX:s+E,endX:u+E,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=Rj(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,u=i.endX,c=i.startX,f=this.state[s],h=this.props,m=h.x,y=h.width,b=h.travellerWidth,x=h.onChange,E=h.gap,w=h.data,O={startX:this.state.startX,endX:this.state.endX},C=n.pageX-a;C>0?C=Math.min(C,m+y-b-f):C<0&&(C=Math.max(C,m-f)),O[s]=f+C;var N=this.getIndex(O),$=N.startIndex,I=N.endIndex,j=function(){var P=w.length-1;return s==="startX"&&(u>c?$%E===0:I%E===0)||u<c&&I===P||s==="endX"&&(u>c?I%E===0:$%E===0)||u>c&&I===P};this.setState($n($n({},s,f+C),"brushMoveStartX",n.pageX),function(){x&&j()&&x(N)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,s=this.state,u=s.scaleValues,c=s.startX,f=s.endX,h=this.state[i],m=u.indexOf(h);if(m!==-1){var y=m+n;if(!(y===-1||y>=u.length)){var b=u[y];i==="startX"&&b>=f||i==="endX"&&b<=c||this.setState($n({},i,b),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,u=n.height,c=n.fill,f=n.stroke;return z.createElement("rect",{stroke:f,fill:c,x:i,y:a,width:s,height:u})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,u=n.height,c=n.data,f=n.children,h=n.padding,m=K.Children.only(f);return m?z.cloneElement(m,{x:i,y:a,width:s,height:u,margin:h,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,s,u=this,c=this.props,f=c.y,h=c.travellerWidth,m=c.height,y=c.traveller,b=c.ariaLabel,x=c.data,E=c.startIndex,w=c.endIndex,O=Math.max(n,this.props.x),C=Sx(Sx({},qe(this.props,!1)),{},{x:O,y:f,width:h,height:m}),N=b||"Min value: ".concat((a=x[E])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=x[w])===null||s===void 0?void 0:s.name);return z.createElement(dt,{tabIndex:0,role:"slider","aria-label":N,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(I){["ArrowLeft","ArrowRight"].includes(I.key)&&(I.preventDefault(),I.stopPropagation(),u.handleTravellerMoveKeyboard(I.key==="ArrowRight"?1:-1,i))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(y,C))}},{key:"renderSlide",value:function(n,i){var a=this.props,s=a.y,u=a.height,c=a.stroke,f=a.travellerWidth,h=Math.min(n,i)+f,m=Math.max(Math.abs(i-n)-f,0);return z.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:h,y:s,width:m,height:u})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,s=n.y,u=n.height,c=n.travellerWidth,f=n.stroke,h=this.state,m=h.startX,y=h.endX,b=5,x={pointerEvents:"none",fill:f};return z.createElement(dt,{className:"recharts-brush-texts"},z.createElement(tl,Cm({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,y)-b,y:s+u/2},x),this.getTextOfTick(i)),z.createElement(tl,Cm({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,y)+c+b,y:s+u/2},x),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,s=n.children,u=n.x,c=n.y,f=n.width,h=n.height,m=n.alwaysShowText,y=this.state,b=y.startX,x=y.endX,E=y.isTextActive,w=y.isSlideMoving,O=y.isTravellerMoving,C=y.isTravellerFocused;if(!i||!i.length||!ve(u)||!ve(c)||!ve(f)||!ve(h)||f<=0||h<=0)return null;var N=et("recharts-brush",a),$=z.Children.count(s)===1,I=Hre("userSelect","none");return z.createElement(dt,{className:N,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:I},this.renderBackground(),$&&this.renderPanorama(),this.renderSlide(b,x),this.renderTravellerLayer(b,"startX"),this.renderTravellerLayer(x,"endX"),(E||w||O||C||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,s=n.width,u=n.height,c=n.stroke,f=Math.floor(a+u/2)-1;return z.createElement(z.Fragment,null,z.createElement("rect",{x:i,y:a,width:s,height:u,fill:c,stroke:"none"}),z.createElement("line",{x1:i+1,y1:f,x2:i+s-1,y2:f,fill:"none",stroke:"#fff"}),z.createElement("line",{x1:i+1,y1:f+2,x2:i+s-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return z.isValidElement(n)?a=z.cloneElement(n,i):Ye(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,s=n.width,u=n.x,c=n.travellerWidth,f=n.updateId,h=n.startIndex,m=n.endIndex;if(a!==i.prevData||f!==i.prevUpdateId)return Sx({prevData:a,prevTravellerWidth:c,prevUpdateId:f,prevX:u,prevWidth:s},a&&a.length?ene({data:a,width:s,x:u,travellerWidth:c,startIndex:h,endIndex:m}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||u!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([u,u+s-c]);var y=i.scale.domain().map(function(b){return i.scale(b)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:f,prevX:u,prevWidth:s,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:y}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,s=0,u=a-1;u-s>1;){var c=Math.floor((s+u)/2);n[c]>i?u=c:s=c}return i>=n[u]?u:s}}])}(K.PureComponent);$n(Fu,"displayName","Brush");$n(Fu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Tx,jj;function tne(){if(jj)return Tx;jj=1;var t=ZE();function e(r,n){var i;return t(r,function(a,s,u){return i=n(a,s,u),!i}),!!i}return Tx=e,Tx}var Ax,Dj;function rne(){if(Dj)return Ax;Dj=1;var t=UL(),e=va(),r=tne(),n=Sn(),i=wg();function a(s,u,c){var f=n(s)?t:r;return c&&i(s,u,c)&&(u=void 0),f(s,e(u,3))}return Ax=a,Ax}var nne=rne();const ine=bt(nne);var fa=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},Px,Mj;function ane(){if(Mj)return Px;Mj=1;var t=a$();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return Px=e,Px}var kx,Lj;function one(){if(Lj)return kx;Lj=1;var t=ane(),e=n$(),r=va();function n(i,a){var s={};return a=r(a,3),e(i,function(u,c,f){t(s,c,a(u,c,f))}),s}return kx=n,kx}var sne=one();const lne=bt(sne);var Ix,$j;function une(){if($j)return Ix;$j=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return Ix=t,Ix}var Ox,Fj;function cne(){if(Fj)return Ox;Fj=1;var t=ZE();function e(r,n){var i=!0;return t(r,function(a,s,u){return i=!!n(a,s,u),i}),i}return Ox=e,Ox}var Cx,Vj;function fne(){if(Vj)return Cx;Vj=1;var t=une(),e=cne(),r=va(),n=Sn(),i=wg();function a(s,u,c){var f=n(s)?t:e;return c&&i(s,u,c)&&(u=void 0),f(s,r(u,3))}return Cx=a,Cx}var dne=fne();const W4=bt(dne);var hne=["x","y"];function ud(t){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ud(t)}function m1(){return m1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},m1.apply(this,arguments)}function Uj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Uj(Object(r),!0).forEach(function(n){pne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Uj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pne(t,e,r){return e=mne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mne(t){var e=gne(t,"string");return ud(e)=="symbol"?e:e+""}function gne(t,e){if(ud(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yne(t,e){if(t==null)return{};var r=vne(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function vne(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function bne(t,e){var r=t.x,n=t.y,i=yne(t,hne),a="".concat(r),s=parseInt(a,10),u="".concat(n),c=parseInt(u,10),f="".concat(e.height||i.height),h=parseInt(f,10),m="".concat(e.width||i.width),y=parseInt(m,10);return Qc(Qc(Qc(Qc(Qc({},e),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:h,width:y,name:e.name,radius:e.radius})}function Bj(t){return z.createElement($4,m1({shapeType:"rectangle",propTransformer:bne,activeClassName:"recharts-active-bar"},t))}var _ne=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=ve(n)||z8(n);return a?e(n,i):(a||nl(),r)}},xne=["value","background"],H4;function Vu(t){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vu(t)}function wne(t,e){if(t==null)return{};var r=Ene(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ene(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Rm(){return Rm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rm.apply(this,arguments)}function qj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qj(Object(r),!0).forEach(function(n){qo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Sne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zj(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,G4(n.key),n)}}function Tne(t,e,r){return e&&zj(t.prototype,e),r&&zj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ane(t,e,r){return e=jm(e),Pne(t,K4()?Reflect.construct(e,r||[],jm(t).constructor):e.apply(t,r))}function Pne(t,e){if(e&&(Vu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kne(t)}function kne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function K4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K4=function(){return!!t})()}function jm(t){return jm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jm(t)}function Ine(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g1(t,e)}function g1(t,e){return g1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},g1(t,e)}function qo(t,e,r){return e=G4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function G4(t){var e=One(t,"string");return Vu(e)=="symbol"?e:e+""}function One(t,e){if(Vu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ma=function(t){function e(){var r;Sne(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Ane(this,e,[].concat(i)),qo(r,"state",{isAnimationFinished:!1}),qo(r,"id",rc("recharts-bar-")),qo(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),qo(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return Ine(e,t),Tne(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,s=a.shape,u=a.dataKey,c=a.activeIndex,f=a.activeBar,h=qe(this.props,!1);return n&&n.map(function(m,y){var b=y===c,x=b?f:s,E=lr(lr(lr({},h),m),{},{isActive:b,option:x,index:y,dataKey:u,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return z.createElement(dt,Rm({className:"recharts-bar-rectangle"},el(i.props,m,y),{key:"rectangle-".concat(m?.x,"-").concat(m?.y,"-").concat(m?.value,"-").concat(y)}),z.createElement(Bj,E))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,s=i.layout,u=i.isAnimationActive,c=i.animationBegin,f=i.animationDuration,h=i.animationEasing,m=i.animationId,y=this.state.prevData;return z.createElement(pa,{begin:c,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var x=b.t,E=a.map(function(w,O){var C=y&&y[O];if(C){var N=Un(C.x,w.x),$=Un(C.y,w.y),I=Un(C.width,w.width),j=Un(C.height,w.height);return lr(lr({},w),{},{x:N(x),y:$(x),width:I(x),height:j(x)})}if(s==="horizontal"){var A=Un(0,w.height),P=A(x);return lr(lr({},w),{},{y:w.y+w.height-P,height:P})}var R=Un(0,w.width),F=R(x);return lr(lr({},w),{},{width:F})});return z.createElement(dt,null,n.renderRectanglesStatically(E))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!Fd(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,s=i.dataKey,u=i.activeIndex,c=qe(this.props.background,!1);return a.map(function(f,h){f.value;var m=f.background,y=wne(f,xne);if(!m)return null;var b=lr(lr(lr(lr(lr({},y),{},{fill:"#eee"},m),c),el(n.props,f,h)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:h,className:"recharts-bar-background-rectangle"});return z.createElement(Bj,Rm({key:"background-bar-".concat(h),option:n.props.background,isActive:h===u},b))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,u=a.xAxis,c=a.yAxis,f=a.layout,h=a.children,m=Kn(h,Vd);if(!m)return null;var y=f==="vertical"?s[0].height/2:s[0].width/2,b=function(w,O){var C=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:C,errorVal:vr(w,O)}},x={clipPath:n?"url(#clipPath-".concat(i,")"):null};return z.createElement(dt,x,m.map(function(E){return z.cloneElement(E,{key:"error-bar-".concat(i,"-").concat(E.props.dataKey),data:s,xAxis:u,yAxis:c,layout:f,offset:y,dataPointFormatter:b})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,s=n.className,u=n.xAxis,c=n.yAxis,f=n.left,h=n.top,m=n.width,y=n.height,b=n.isAnimationActive,x=n.background,E=n.id;if(i||!a||!a.length)return null;var w=this.state.isAnimationFinished,O=et("recharts-bar",s),C=u&&u.allowDataOverflow,N=c&&c.allowDataOverflow,$=C||N,I=Je(E)?this.id:E;return z.createElement(dt,{className:O},C||N?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(I)},z.createElement("rect",{x:C?f:f-m/2,y:N?h:h-y/2,width:C?m:m*2,height:N?y:y*2}))):null,z.createElement(dt,{className:"recharts-bar-rectangles",clipPath:$?"url(#clipPath-".concat(I,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar($,I),(!b||w)&&Ya.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(K.PureComponent);H4=ma;qo(ma,"displayName","Bar");qo(ma,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!fl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});qo(ma,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,u=t.xAxisTicks,c=t.yAxisTicks,f=t.stackedData,h=t.dataStartIndex,m=t.displayedData,y=t.offset,b=aJ(n,r);if(!b)return null;var x=e.layout,E=r.type.defaultProps,w=E!==void 0?lr(lr({},E),r.props):r.props,O=w.dataKey,C=w.children,N=w.minPointSize,$=x==="horizontal"?s:a,I=f?$.scale.domain():null,j=dJ({numericAxis:$}),A=Kn(C,Sg),P=m.map(function(R,F){var M,V,D,Z,ee,re;f?M=oJ(f[h+F],I):(M=vr(R,O),Array.isArray(M)||(M=[j,M]));var oe=_ne(N,H4.defaultProps.minPointSize)(M[1],F);if(x==="horizontal"){var Q,ie=[s.scale(M[0]),s.scale(M[1])],se=ie[0],q=ie[1];V=mR({axis:a,ticks:u,bandSize:i,offset:b.offset,entry:R,index:F}),D=(Q=q??se)!==null&&Q!==void 0?Q:void 0,Z=b.size;var G=se-q;if(ee=Number.isNaN(G)?0:G,re={x:V,y:s.y,width:Z,height:s.height},Math.abs(oe)>0&&Math.abs(ee)<Math.abs(oe)){var fe=on(ee||oe)*(Math.abs(oe)-Math.abs(ee));D-=fe,ee+=fe}}else{var Se=[a.scale(M[0]),a.scale(M[1])],Re=Se[0],xe=Se[1];if(V=Re,D=mR({axis:s,ticks:c,bandSize:i,offset:b.offset,entry:R,index:F}),Z=xe-Re,ee=b.size,re={x:a.x,y:D,width:a.width,height:ee},Math.abs(oe)>0&&Math.abs(Z)<Math.abs(oe)){var $e=on(Z||oe)*(Math.abs(oe)-Math.abs(Z));Z+=$e}}return lr(lr(lr({},R),{},{x:V,y:D,width:Z,height:ee,value:f?M:M[1],payload:R,background:re},A&&A[F]&&A[F].props),{},{tooltipPayload:[x4(r,R)],tooltipPosition:{x:V+Z/2,y:D+ee/2}})});return lr({data:P,layout:x},y)});function cd(t){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cd(t)}function Cne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wj(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Y4(n.key),n)}}function Nne(t,e,r){return e&&Wj(t.prototype,e),r&&Wj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ri(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Hj(Object(r),!0).forEach(function(n){qg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Hj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qg(t,e,r){return e=Y4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Y4(t){var e=Rne(t,"string");return cd(e)=="symbol"?e:e+""}function Rne(t,e){if(cd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var X4=function(e,r,n,i,a){var s=e.width,u=e.height,c=e.layout,f=e.children,h=Object.keys(r),m={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:u-n.bottom,bottomMirror:u-n.bottom},y=!!Fn(f,ma);return h.reduce(function(b,x){var E=r[x],w=E.orientation,O=E.domain,C=E.padding,N=C===void 0?{}:C,$=E.mirror,I=E.reversed,j="".concat(w).concat($?"Mirror":""),A,P,R,F,M;if(E.type==="number"&&(E.padding==="gap"||E.padding==="no-gap")){var V=O[1]-O[0],D=1/0,Z=E.categoricalDomain.sort(K8);if(Z.forEach(function(Se,Re){Re>0&&(D=Math.min((Se||0)-(Z[Re-1]||0),D))}),Number.isFinite(D)){var ee=D/V,re=E.layout==="vertical"?n.height:n.width;if(E.padding==="gap"&&(A=ee*re/2),E.padding==="no-gap"){var oe=sn(e.barCategoryGap,ee*re),Q=ee*re/2;A=Q-oe-(Q-oe)/re*oe}}}i==="xAxis"?P=[n.left+(N.left||0)+(A||0),n.left+n.width-(N.right||0)-(A||0)]:i==="yAxis"?P=c==="horizontal"?[n.top+n.height-(N.bottom||0),n.top+(N.top||0)]:[n.top+(N.top||0)+(A||0),n.top+n.height-(N.bottom||0)-(A||0)]:P=E.range,I&&(P=[P[1],P[0]]);var ie=y4(E,a,y),se=ie.scale,q=ie.realScaleType;se.domain(O).range(P),v4(se);var G=b4(se,Ri(Ri({},E),{},{realScaleType:q}));i==="xAxis"?(M=w==="top"&&!$||w==="bottom"&&$,R=n.left,F=m[j]-M*E.height):i==="yAxis"&&(M=w==="left"&&!$||w==="right"&&$,R=m[j]-M*E.width,F=n.top);var fe=Ri(Ri(Ri({},E),G),{},{realScaleType:q,x:R,y:F,scale:se,width:i==="xAxis"?n.width:E.width,height:i==="yAxis"?n.height:E.height});return fe.bandSize=ym(fe,G),!E.hide&&i==="xAxis"?m[j]+=(M?-1:1)*fe.height:E.hide||(m[j]+=(M?-1:1)*fe.width),Ri(Ri({},b),{},qg({},x,fe))},{})},Q4=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return{x:Math.min(n,a),y:Math.min(i,s),width:Math.abs(a-n),height:Math.abs(s-i)}},jne=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return Q4({x:r,y:n},{x:i,y:a})},J4=function(){function t(e){Cne(this,t),this.scale=e}return Nne(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(r)+u}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();qg(J4,"EPS",1e-4);var IS=function(e){var r=Object.keys(e).reduce(function(n,i){return Ri(Ri({},n),{},qg({},i,J4.create(e[i])))},{});return Ri(Ri({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,u=a.position;return lne(i,function(c,f){return r[f].apply(c,{bandAware:s,position:u})})},isInRange:function(i){return W4(i,function(a,s){return r[s].isInRange(a)})}})};function Dne(t){return(t%180+180)%180}var Mne=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Dne(i),s=a*Math.PI/180,u=Math.atan(n/r),c=s>u&&s<Math.PI-u?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},Nx,Kj;function Lne(){if(Kj)return Nx;Kj=1;var t=va(),e=jd(),r=_g();function n(i){return function(a,s,u){var c=Object(a);if(!e(a)){var f=t(s,3);a=r(a),s=function(m){return f(c[m],m,c)}}var h=i(a,s,u);return h>-1?c[f?a[h]:h]:void 0}}return Nx=n,Nx}var Rx,Gj;function $ne(){if(Gj)return Rx;Gj=1;var t=U4();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return Rx=e,Rx}var jx,Yj;function Fne(){if(Yj)return jx;Yj=1;var t=JL(),e=va(),r=$ne(),n=Math.max;function i(a,s,u){var c=a==null?0:a.length;if(!c)return-1;var f=u==null?0:r(u);return f<0&&(f=n(c+f,0)),t(a,e(s,3),f)}return jx=i,jx}var Dx,Xj;function Vne(){if(Xj)return Dx;Xj=1;var t=Lne(),e=Fne(),r=t(e);return Dx=r,Dx}var Une=Vne();const Bne=bt(Une);var qne=pL();const zne=bt(qne);var Wne=zne(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),OS=K.createContext(void 0),CS=K.createContext(void 0),Z4=K.createContext(void 0),eF=K.createContext({}),tF=K.createContext(void 0),rF=K.createContext(0),nF=K.createContext(0),Qj=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,s=e.clipPathId,u=e.children,c=e.width,f=e.height,h=Wne(a);return z.createElement(OS.Provider,{value:n},z.createElement(CS.Provider,{value:i},z.createElement(eF.Provider,{value:a},z.createElement(Z4.Provider,{value:h},z.createElement(tF.Provider,{value:s},z.createElement(rF.Provider,{value:f},z.createElement(nF.Provider,{value:c},u)))))))},Hne=function(){return K.useContext(tF)},iF=function(e){var r=K.useContext(OS);r==null&&nl();var n=r[e];return n==null&&nl(),n},Kne=function(){var e=K.useContext(OS);return Uo(e)},Gne=function(){var e=K.useContext(CS),r=Bne(e,function(n){return W4(n.domain,Number.isFinite)});return r||Uo(e)},aF=function(e){var r=K.useContext(CS);r==null&&nl();var n=r[e];return n==null&&nl(),n},Yne=function(){var e=K.useContext(Z4);return e},Xne=function(){return K.useContext(eF)},NS=function(){return K.useContext(nF)},RS=function(){return K.useContext(rF)};function Uu(t){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uu(t)}function Qne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jne(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,sF(n.key),n)}}function Zne(t,e,r){return e&&Jne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function eie(t,e,r){return e=Dm(e),tie(t,oF()?Reflect.construct(e,r||[],Dm(t).constructor):e.apply(t,r))}function tie(t,e){if(e&&(Uu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rie(t)}function rie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oF=function(){return!!t})()}function Dm(t){return Dm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dm(t)}function nie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y1(t,e)}function y1(t,e){return y1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},y1(t,e)}function Jj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Jj(Object(r),!0).forEach(function(n){jS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Jj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jS(t,e,r){return e=sF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sF(t){var e=iie(t,"string");return Uu(e)=="symbol"?e:e+""}function iie(t,e){if(Uu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function aie(t,e){return uie(t)||lie(t,e)||sie(t,e)||oie()}function oie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sie(t,e){if(t){if(typeof t=="string")return e2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e2(t,e)}}function e2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function lie(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function uie(t){if(Array.isArray(t))return t}function v1(){return v1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},v1.apply(this,arguments)}var cie=function(e,r){var n;return z.isValidElement(e)?n=z.cloneElement(e,r):Ye(e)?n=e(r):n=z.createElement("line",v1({},r,{className:"recharts-reference-line-line"})),n},fie=function(e,r,n,i,a,s,u,c,f){var h=a.x,m=a.y,y=a.width,b=a.height;if(n){var x=f.y,E=e.y.apply(x,{position:s});if(fa(f,"discard")&&!e.y.isInRange(E))return null;var w=[{x:h+y,y:E},{x:h,y:E}];return c==="left"?w.reverse():w}if(r){var O=f.x,C=e.x.apply(O,{position:s});if(fa(f,"discard")&&!e.x.isInRange(C))return null;var N=[{x:C,y:m+b},{x:C,y:m}];return u==="top"?N.reverse():N}if(i){var $=f.segment,I=$.map(function(j){return e.apply(j,{position:s})});return fa(f,"discard")&&ine(I,function(j){return!e.isInRange(j)})?null:I}return null};function die(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,u=t.className,c=t.alwaysShow,f=Hne(),h=iF(i),m=aF(a),y=Yne();if(!f||!y)return null;Mi(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var b=IS({x:h.scale,y:m.scale}),x=br(e),E=br(r),w=n&&n.length===2,O=fie(b,x,E,w,y,t.position,h.orientation,m.orientation,t);if(!O)return null;var C=aie(O,2),N=C[0],$=N.x,I=N.y,j=C[1],A=j.x,P=j.y,R=fa(t,"hidden")?"url(#".concat(f,")"):void 0,F=Zj(Zj({clipPath:R},qe(t,!0)),{},{x1:$,y1:I,x2:A,y2:P});return z.createElement(dt,{className:et("recharts-reference-line",u)},cie(s,F),Or.renderCallByParent(t,jne({x1:$,y1:I,x2:A,y2:P})))}var DS=function(t){function e(){return Qne(this,e),eie(this,e,arguments)}return nie(e,t),Zne(e,[{key:"render",value:function(){return z.createElement(die,this.props)}}])}(z.Component);jS(DS,"displayName","ReferenceLine");jS(DS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function b1(){return b1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},b1.apply(this,arguments)}function Bu(t){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bu(t)}function t2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function r2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?t2(Object(r),!0).forEach(function(n){zg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):t2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,uF(n.key),n)}}function mie(t,e,r){return e&&pie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gie(t,e,r){return e=Mm(e),yie(t,lF()?Reflect.construct(e,r||[],Mm(t).constructor):e.apply(t,r))}function yie(t,e){if(e&&(Bu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vie(t)}function vie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lF=function(){return!!t})()}function Mm(t){return Mm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mm(t)}function bie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_1(t,e)}function _1(t,e){return _1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_1(t,e)}function zg(t,e,r){return e=uF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uF(t){var e=_ie(t,"string");return Bu(e)=="symbol"?e:e+""}function _ie(t,e){if(Bu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xie=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,s=IS({x:i.scale,y:a.scale}),u=s.apply({x:r,y:n},{bandAware:!0});return fa(e,"discard")&&!s.isInRange(u)?null:u},Wg=function(t){function e(){return hie(this,e),gie(this,e,arguments)}return bie(e,t),mie(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,s=n.r,u=n.alwaysShow,c=n.clipPathId,f=br(i),h=br(a);if(Mi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!h)return null;var m=xie(this.props);if(!m)return null;var y=m.x,b=m.y,x=this.props,E=x.shape,w=x.className,O=fa(this.props,"hidden")?"url(#".concat(c,")"):void 0,C=r2(r2({clipPath:O},qe(this.props,!0)),{},{cx:y,cy:b});return z.createElement(dt,{className:et("recharts-reference-dot",w)},e.renderDot(E,C),Or.renderCallByParent(this.props,{x:y-s,y:b-s,width:2*s,height:2*s}))}}])}(z.Component);zg(Wg,"displayName","ReferenceDot");zg(Wg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});zg(Wg,"renderDot",function(t,e){var r;return z.isValidElement(t)?r=z.cloneElement(t,e):Ye(t)?r=t(e):r=z.createElement(Mg,b1({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function x1(){return x1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},x1.apply(this,arguments)}function qu(t){"@babel/helpers - typeof";return qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qu(t)}function n2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function i2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n2(Object(r),!0).forEach(function(n){Hg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Eie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fF(n.key),n)}}function Sie(t,e,r){return e&&Eie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tie(t,e,r){return e=Lm(e),Aie(t,cF()?Reflect.construct(e,r||[],Lm(t).constructor):e.apply(t,r))}function Aie(t,e){if(e&&(qu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pie(t)}function Pie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cF=function(){return!!t})()}function Lm(t){return Lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lm(t)}function kie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w1(t,e)}function w1(t,e){return w1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},w1(t,e)}function Hg(t,e,r){return e=fF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fF(t){var e=Iie(t,"string");return qu(e)=="symbol"?e:e+""}function Iie(t,e){if(qu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Oie=function(e,r,n,i,a){var s=a.x1,u=a.x2,c=a.y1,f=a.y2,h=a.xAxis,m=a.yAxis;if(!h||!m)return null;var y=IS({x:h.scale,y:m.scale}),b={x:e?y.x.apply(s,{position:"start"}):y.x.rangeMin,y:n?y.y.apply(c,{position:"start"}):y.y.rangeMin},x={x:r?y.x.apply(u,{position:"end"}):y.x.rangeMax,y:i?y.y.apply(f,{position:"end"}):y.y.rangeMax};return fa(a,"discard")&&(!y.isInRange(b)||!y.isInRange(x))?null:Q4(b,x)},Kg=function(t){function e(){return wie(this,e),Tie(this,e,arguments)}return kie(e,t),Sie(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,s=n.y1,u=n.y2,c=n.className,f=n.alwaysShow,h=n.clipPathId;Mi(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=br(i),y=br(a),b=br(s),x=br(u),E=this.props.shape;if(!m&&!y&&!b&&!x&&!E)return null;var w=Oie(m,y,b,x,this.props);if(!w&&!E)return null;var O=fa(this.props,"hidden")?"url(#".concat(h,")"):void 0;return z.createElement(dt,{className:et("recharts-reference-area",c)},e.renderRect(E,i2(i2({clipPath:O},qe(this.props,!0)),w)),Or.renderCallByParent(this.props,w))}}])}(z.Component);Hg(Kg,"displayName","ReferenceArea");Hg(Kg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Hg(Kg,"renderRect",function(t,e){var r;return z.isValidElement(t)?r=z.cloneElement(t,e):Ye(t)?r=t(e):r=z.createElement(kS,x1({},e,{className:"recharts-reference-area-rect"})),r});function dF(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function Cie(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Mne(n,r)}function Nie(t,e,r){var n=r==="width",i=t.x,a=t.y,s=t.width,u=t.height;return e===1?{start:n?i:a,end:n?i+s:a+u}:{start:n?i+s:a+u,end:n?i:a}}function $m(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function Rie(t,e){return dF(t,e+1)}function jie(t,e,r,n,i){for(var a=(n||[]).slice(),s=e.start,u=e.end,c=0,f=1,h=s,m=function(){var x=n?.[c];if(x===void 0)return{v:dF(n,f)};var E=c,w,O=function(){return w===void 0&&(w=r(x,E)),w},C=x.coordinate,N=c===0||$m(t,C,O,h,u);N||(c=0,h=s,f+=1),N&&(h=C+t*(O()/2+i),c+=f)},y;f<=a.length;)if(y=m(),y)return y.v;return[]}function fd(t){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fd(t)}function a2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Kr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?a2(Object(r),!0).forEach(function(n){Die(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Die(t,e,r){return e=Mie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mie(t){var e=Lie(t,"string");return fd(e)=="symbol"?e:e+""}function Lie(t,e){if(fd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $ie(t,e,r,n,i){for(var a=(n||[]).slice(),s=a.length,u=e.start,c=e.end,f=function(y){var b=a[y],x,E=function(){return x===void 0&&(x=r(b,y)),x};if(y===s-1){var w=t*(b.coordinate+t*E()/2-c);a[y]=b=Kr(Kr({},b),{},{tickCoord:w>0?b.coordinate-w*t:b.coordinate})}else a[y]=b=Kr(Kr({},b),{},{tickCoord:b.coordinate});var O=$m(t,b.tickCoord,E,u,c);O&&(c=b.tickCoord-t*(E()/2+i),a[y]=Kr(Kr({},b),{},{isShow:!0}))},h=s-1;h>=0;h--)f(h);return a}function Fie(t,e,r,n,i,a){var s=(n||[]).slice(),u=s.length,c=e.start,f=e.end;if(a){var h=n[u-1],m=r(h,u-1),y=t*(h.coordinate+t*m/2-f);s[u-1]=h=Kr(Kr({},h),{},{tickCoord:y>0?h.coordinate-y*t:h.coordinate});var b=$m(t,h.tickCoord,function(){return m},c,f);b&&(f=h.tickCoord-t*(m/2+i),s[u-1]=Kr(Kr({},h),{},{isShow:!0}))}for(var x=a?u-1:u,E=function(C){var N=s[C],$,I=function(){return $===void 0&&($=r(N,C)),$};if(C===0){var j=t*(N.coordinate-t*I()/2-c);s[C]=N=Kr(Kr({},N),{},{tickCoord:j<0?N.coordinate-j*t:N.coordinate})}else s[C]=N=Kr(Kr({},N),{},{tickCoord:N.coordinate});var A=$m(t,N.tickCoord,I,c,f);A&&(c=N.tickCoord+t*(I()/2+i),s[C]=Kr(Kr({},N),{},{isShow:!0}))},w=0;w<x;w++)E(w);return s}function MS(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,u=t.orientation,c=t.interval,f=t.tickFormatter,h=t.unit,m=t.angle;if(!i||!i.length||!n)return[];if(ve(c)||fl.isSsr)return Rie(i,typeof c=="number"&&ve(c)?c:0);var y=[],b=u==="top"||u==="bottom"?"width":"height",x=h&&b==="width"?mf(h,{fontSize:e,letterSpacing:r}):{width:0,height:0},E=function(N,$){var I=Ye(f)?f(N.value,$):N.value;return b==="width"?Cie(mf(I,{fontSize:e,letterSpacing:r}),x,m):mf(I,{fontSize:e,letterSpacing:r})[b]},w=i.length>=2?on(i[1].coordinate-i[0].coordinate):1,O=Nie(a,w,b);return c==="equidistantPreserveStart"?jie(w,O,E,i,s):(c==="preserveStart"||c==="preserveStartEnd"?y=Fie(w,O,E,i,s,c==="preserveStartEnd"):y=$ie(w,O,E,i,s),y.filter(function(C){return C.isShow}))}var Vie=["viewBox"],Uie=["viewBox"],Bie=["ticks"];function zu(t){"@babel/helpers - typeof";return zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zu(t)}function lu(){return lu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lu.apply(this,arguments)}function o2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?o2(Object(r),!0).forEach(function(n){LS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mx(t,e){if(t==null)return{};var r=qie(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function qie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function zie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pF(n.key),n)}}function Wie(t,e,r){return e&&s2(t.prototype,e),r&&s2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hie(t,e,r){return e=Fm(e),Kie(t,hF()?Reflect.construct(e,r||[],Fm(t).constructor):e.apply(t,r))}function Kie(t,e){if(e&&(zu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gie(t)}function Gie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hF=function(){return!!t})()}function Fm(t){return Fm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fm(t)}function Yie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E1(t,e)}function E1(t,e){return E1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},E1(t,e)}function LS(t,e,r){return e=pF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pF(t){var e=Xie(t,"string");return zu(e)=="symbol"?e:e+""}function Xie(t,e){if(zu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sc=function(t){function e(r){var n;return zie(this,e),n=Hie(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return Yie(e,t),Wie(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,s=Mx(n,Vie),u=this.props,c=u.viewBox,f=Mx(u,Uie);return!pu(a,c)||!pu(s,f)||!pu(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,s=i.y,u=i.width,c=i.height,f=i.orientation,h=i.tickSize,m=i.mirror,y=i.tickMargin,b,x,E,w,O,C,N=m?-1:1,$=n.tickSize||h,I=ve(n.tickCoord)?n.tickCoord:n.coordinate;switch(f){case"top":b=x=n.coordinate,w=s+ +!m*c,E=w-N*$,C=E-N*y,O=I;break;case"left":E=w=n.coordinate,x=a+ +!m*u,b=x-N*$,O=b-N*y,C=I;break;case"right":E=w=n.coordinate,x=a+ +m*u,b=x+N*$,O=b+N*y,C=I;break;default:b=x=n.coordinate,w=s+ +m*c,E=w+N*$,C=E+N*y,O=I;break}return{line:{x1:b,y1:E,x2:x,y2:w},tick:{x:O,y:C}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,u=n.height,c=n.orientation,f=n.mirror,h=n.axisLine,m=gr(gr(gr({},qe(this.props,!1)),qe(h,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var y=+(c==="top"&&!f||c==="bottom"&&f);m=gr(gr({},m),{},{x1:i,y1:a+y*u,x2:i+s,y2:a+y*u})}else{var b=+(c==="left"&&!f||c==="right"&&f);m=gr(gr({},m),{},{x1:i+b*s,y1:a,x2:i+b*s,y2:a+u})}return z.createElement("line",lu({},m,{className:et("recharts-cartesian-axis-line",Hn(h,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var s=this,u=this.props,c=u.tickLine,f=u.stroke,h=u.tick,m=u.tickFormatter,y=u.unit,b=MS(gr(gr({},this.props),{},{ticks:n}),i,a),x=this.getTickTextAnchor(),E=this.getTickVerticalAnchor(),w=qe(this.props,!1),O=qe(h,!1),C=gr(gr({},w),{},{fill:"none"},qe(c,!1)),N=b.map(function($,I){var j=s.getTickLineCoord($),A=j.line,P=j.tick,R=gr(gr(gr(gr({textAnchor:x,verticalAnchor:E},w),{},{stroke:"none",fill:f},O),P),{},{index:I,payload:$,visibleTicksCount:b.length,tickFormatter:m});return z.createElement(dt,lu({className:"recharts-cartesian-axis-tick",key:"tick-".concat($.value,"-").concat($.coordinate,"-").concat($.tickCoord)},el(s.props,$,I)),c&&z.createElement("line",lu({},C,A,{className:et("recharts-cartesian-axis-tick-line",Hn(c,"className"))})),h&&e.renderTickItem(h,R,"".concat(Ye(m)?m($.value,I):$.value).concat(y||"")))});return z.createElement("g",{className:"recharts-cartesian-axis-ticks"},N)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,s=i.width,u=i.height,c=i.ticksGenerator,f=i.className,h=i.hide;if(h)return null;var m=this.props,y=m.ticks,b=Mx(m,Bie),x=y;return Ye(c)&&(x=y&&y.length>0?c(this.props):c(b)),s<=0||u<=0||!x||!x.length?null:z.createElement(dt,{className:et("recharts-cartesian-axis",f),ref:function(w){n.layerReference=w}},a&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),Or.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var s,u=et(i.className,"recharts-cartesian-axis-tick-value");return z.isValidElement(n)?s=z.cloneElement(n,gr(gr({},i),{},{className:u})):Ye(n)?s=n(gr(gr({},i),{},{className:u})):s=z.createElement(tl,lu({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(K.Component);LS(sc,"displayName","CartesianAxis");LS(sc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Qie=["x1","y1","x2","y2","key"],Jie=["offset"];function il(t){"@babel/helpers - typeof";return il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},il(t)}function l2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?l2(Object(r),!0).forEach(function(n){Zie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zie(t,e,r){return e=eae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eae(t){var e=tae(t,"string");return il(e)=="symbol"?e:e+""}function tae(t,e){if(il(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(il(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vs(){return Vs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vs.apply(this,arguments)}function u2(t,e){if(t==null)return{};var r=rae(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function rae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var nae=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,s=e.width,u=e.height,c=e.ry;return z.createElement("rect",{x:i,y:a,ry:c,width:s,height:u,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function mF(t,e){var r;if(z.isValidElement(t))r=z.cloneElement(t,e);else if(Ye(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,s=e.y2,u=e.key,c=u2(e,Qie),f=qe(c,!1);f.offset;var h=u2(f,Jie);r=z.createElement("line",Vs({},h,{x1:n,y1:i,x2:a,y2:s,fill:"none",key:u}))}return r}function iae(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(u,c){var f=Xr(Xr({},t),{},{x1:e,y1:u,x2:e+r,y2:u,key:"line-".concat(c),index:c});return mF(i,f)});return z.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function aae(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(u,c){var f=Xr(Xr({},t),{},{x1:u,y1:e,x2:u,y2:e+r,key:"line-".concat(c),index:c});return mF(i,f)});return z.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function oae(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,s=t.height,u=t.horizontalPoints,c=t.horizontal,f=c===void 0?!0:c;if(!f||!e||!e.length)return null;var h=u.map(function(y){return Math.round(y+i-i)}).sort(function(y,b){return y-b});i!==h[0]&&h.unshift(0);var m=h.map(function(y,b){var x=!h[b+1],E=x?i+s-y:h[b+1]-y;if(E<=0)return null;var w=b%e.length;return z.createElement("rect",{key:"react-".concat(b),y,x:n,height:E,width:a,stroke:"none",fill:e[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function sae(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,u=t.width,c=t.height,f=t.verticalPoints;if(!r||!n||!n.length)return null;var h=f.map(function(y){return Math.round(y+a-a)}).sort(function(y,b){return y-b});a!==h[0]&&h.unshift(0);var m=h.map(function(y,b){var x=!h[b+1],E=x?a+u-y:h[b+1]-y;if(E<=0)return null;var w=b%n.length;return z.createElement("rect",{key:"react-".concat(b),x:y,y:s,width:E,height:c,stroke:"none",fill:n[w],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var lae=function(e,r){var n=e.xAxis,i=e.width,a=e.height,s=e.offset;return g4(MS(Xr(Xr(Xr({},sc.defaultProps),n),{},{ticks:za(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,r)},uae=function(e,r){var n=e.yAxis,i=e.width,a=e.height,s=e.offset;return g4(MS(Xr(Xr(Xr({},sc.defaultProps),n),{},{ticks:za(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,r)},Zl={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Gg(t){var e,r,n,i,a,s,u=NS(),c=RS(),f=Xne(),h=Xr(Xr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Zl.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Zl.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Zl.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Zl.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Zl.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Zl.verticalFill,x:ve(t.x)?t.x:f.left,y:ve(t.y)?t.y:f.top,width:ve(t.width)?t.width:f.width,height:ve(t.height)?t.height:f.height}),m=h.x,y=h.y,b=h.width,x=h.height,E=h.syncWithTicks,w=h.horizontalValues,O=h.verticalValues,C=Kne(),N=Gne();if(!ve(b)||b<=0||!ve(x)||x<=0||!ve(m)||m!==+m||!ve(y)||y!==+y)return null;var $=h.verticalCoordinatesGenerator||lae,I=h.horizontalCoordinatesGenerator||uae,j=h.horizontalPoints,A=h.verticalPoints;if((!j||!j.length)&&Ye(I)){var P=w&&w.length,R=I({yAxis:N?Xr(Xr({},N),{},{ticks:P?w:N.ticks}):void 0,width:u,height:c,offset:f},P?!0:E);Mi(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(il(R),"]")),Array.isArray(R)&&(j=R)}if((!A||!A.length)&&Ye($)){var F=O&&O.length,M=$({xAxis:C?Xr(Xr({},C),{},{ticks:F?O:C.ticks}):void 0,width:u,height:c,offset:f},F?!0:E);Mi(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(il(M),"]")),Array.isArray(M)&&(A=M)}return z.createElement("g",{className:"recharts-cartesian-grid"},z.createElement(nae,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),z.createElement(iae,Vs({},h,{offset:f,horizontalPoints:j,xAxis:C,yAxis:N})),z.createElement(aae,Vs({},h,{offset:f,verticalPoints:A,xAxis:C,yAxis:N})),z.createElement(oae,Vs({},h,{horizontalPoints:j})),z.createElement(sae,Vs({},h,{verticalPoints:A})))}Gg.displayName="CartesianGrid";var cae=["type","layout","connectNulls","ref"],fae=["key"];function Wu(t){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wu(t)}function c2(t,e){if(t==null)return{};var r=dae(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function xf(){return xf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xf.apply(this,arguments)}function f2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ln(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?f2(Object(r),!0).forEach(function(n){ji(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eu(t){return gae(t)||mae(t)||pae(t)||hae()}function hae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pae(t,e){if(t){if(typeof t=="string")return S1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S1(t,e)}}function mae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gae(t){if(Array.isArray(t))return S1(t)}function S1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function yae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yF(n.key),n)}}function vae(t,e,r){return e&&d2(t.prototype,e),r&&d2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function bae(t,e,r){return e=Vm(e),_ae(t,gF()?Reflect.construct(e,r||[],Vm(t).constructor):e.apply(t,r))}function _ae(t,e){if(e&&(Wu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xae(t)}function xae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gF=function(){return!!t})()}function Vm(t){return Vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vm(t)}function wae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T1(t,e)}function T1(t,e){return T1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},T1(t,e)}function ji(t,e,r){return e=yF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yF(t){var e=Eae(t,"string");return Wu(e)=="symbol"?e:e+""}function Eae(t,e){if(Wu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ws=function(t){function e(){var r;yae(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=bae(this,e,[].concat(i)),ji(r,"state",{isAnimationFinished:!0,totalLength:0}),ji(r,"generateSimpleStrokeDasharray",function(s,u){return"".concat(u,"px ").concat(s-u,"px")}),ji(r,"getStrokeDasharray",function(s,u,c){var f=c.reduce(function(O,C){return O+C});if(!f)return r.generateSimpleStrokeDasharray(u,s);for(var h=Math.floor(s/f),m=s%f,y=u-s,b=[],x=0,E=0;x<c.length;E+=c[x],++x)if(E+c[x]>m){b=[].concat(eu(c.slice(0,x)),[m-E]);break}var w=b.length%2===0?[0,y]:[y];return[].concat(eu(e.repeat(c,h)),eu(b),w).map(function(O){return"".concat(O,"px")}).join(", ")}),ji(r,"id",rc("recharts-line-")),ji(r,"pathRef",function(s){r.mainCurve=s}),ji(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),ji(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return wae(e,t),vae(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,u=a.xAxis,c=a.yAxis,f=a.layout,h=a.children,m=Kn(h,Vd);if(!m)return null;var y=function(E,w){return{x:E.x,y:E.y,value:E.value,errorVal:vr(E.payload,w)}},b={clipPath:n?"url(#clipPath-".concat(i,")"):null};return z.createElement(dt,b,m.map(function(x){return z.cloneElement(x,{key:"bar-".concat(x.props.dataKey),data:s,xAxis:u,yAxis:c,layout:f,dataPointFormatter:y})}))}},{key:"renderDots",value:function(n,i,a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var u=this.props,c=u.dot,f=u.points,h=u.dataKey,m=qe(this.props,!1),y=qe(c,!0),b=f.map(function(E,w){var O=Ln(Ln(Ln({key:"dot-".concat(w),r:3},m),y),{},{index:w,cx:E.x,cy:E.y,value:E.value,dataKey:h,payload:E.payload,points:f});return e.renderDotItem(c,O)}),x={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return z.createElement(dt,xf({className:"recharts-line-dots",key:"dots"},x),b)}},{key:"renderCurveStatically",value:function(n,i,a,s){var u=this.props,c=u.type,f=u.layout,h=u.connectNulls;u.ref;var m=c2(u,cae),y=Ln(Ln(Ln({},qe(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},s),{},{type:c,layout:f,connectNulls:h});return z.createElement(_m,xf({},y,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,s=this.props,u=s.points,c=s.strokeDasharray,f=s.isAnimationActive,h=s.animationBegin,m=s.animationDuration,y=s.animationEasing,b=s.animationId,x=s.animateNewValues,E=s.width,w=s.height,O=this.state,C=O.prevPoints,N=O.totalLength;return z.createElement(pa,{begin:h,duration:m,isActive:f,easing:y,from:{t:0},to:{t:1},key:"line-".concat(b),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function($){var I=$.t;if(C){var j=C.length/u.length,A=u.map(function(V,D){var Z=Math.floor(D*j);if(C[Z]){var ee=C[Z],re=Un(ee.x,V.x),oe=Un(ee.y,V.y);return Ln(Ln({},V),{},{x:re(I),y:oe(I)})}if(x){var Q=Un(E*2,V.x),ie=Un(w/2,V.y);return Ln(Ln({},V),{},{x:Q(I),y:ie(I)})}return Ln(Ln({},V),{},{x:V.x,y:V.y})});return a.renderCurveStatically(A,n,i)}var P=Un(0,N),R=P(I),F;if(c){var M="".concat(c).split(/[,\s]+/gim).map(function(V){return parseFloat(V)});F=a.getStrokeDasharray(R,N,M)}else F=a.generateSimpleStrokeDasharray(N,R);return a.renderCurveStatically(u,n,i,{strokeDasharray:F})})}},{key:"renderCurve",value:function(n,i){var a=this.props,s=a.points,u=a.isAnimationActive,c=this.state,f=c.prevPoints,h=c.totalLength;return u&&s&&s.length&&(!f&&h>0||!Fd(f,s))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(s,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,s=i.dot,u=i.points,c=i.className,f=i.xAxis,h=i.yAxis,m=i.top,y=i.left,b=i.width,x=i.height,E=i.isAnimationActive,w=i.id;if(a||!u||!u.length)return null;var O=this.state.isAnimationFinished,C=u.length===1,N=et("recharts-line",c),$=f&&f.allowDataOverflow,I=h&&h.allowDataOverflow,j=$||I,A=Je(w)?this.id:w,P=(n=qe(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},R=P.r,F=R===void 0?3:R,M=P.strokeWidth,V=M===void 0?2:M,D=r7(s)?s:{},Z=D.clipDot,ee=Z===void 0?!0:Z,re=F*2+V;return z.createElement(dt,{className:N},$||I?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(A)},z.createElement("rect",{x:$?y:y-b/2,y:I?m:m-x/2,width:$?b:b*2,height:I?x:x*2})),!ee&&z.createElement("clipPath",{id:"clipPath-dots-".concat(A)},z.createElement("rect",{x:y-re/2,y:m-re/2,width:b+re,height:x+re}))):null,!C&&this.renderCurve(j,A),this.renderErrorBar(j,A),(C||s)&&this.renderDots(j,ee,A),(!E||O)&&Ya.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(eu(n),[0]):n,s=[],u=0;u<i;++u)s=[].concat(eu(s),eu(a));return s}},{key:"renderDotItem",value:function(n,i){var a;if(z.isValidElement(n))a=z.cloneElement(n,i);else if(Ye(n))a=n(i);else{var s=i.key,u=c2(i,fae),c=et("recharts-line-dot",typeof n!="boolean"?n.className:"");a=z.createElement(Mg,xf({key:s},u,{className:c}))}return a}}])}(K.PureComponent);ji(Ws,"displayName","Line");ji(Ws,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!fl.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ji(Ws,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,s=t.dataKey,u=t.bandSize,c=t.displayedData,f=t.offset,h=e.layout,m=c.map(function(y,b){var x=vr(y,s);return h==="horizontal"?{x:pR({axis:r,ticks:i,bandSize:u,entry:y,index:b}),y:Je(x)?null:n.scale(x),value:x,payload:y}:{x:Je(x)?null:r.scale(x),y:pR({axis:n,ticks:a,bandSize:u,entry:y,index:b}),value:x,payload:y}});return Ln({points:m,layout:h},f)});function Hu(t){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hu(t)}function Sae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tae(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_F(n.key),n)}}function Aae(t,e,r){return e&&Tae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pae(t,e,r){return e=Um(e),kae(t,vF()?Reflect.construct(e,r||[],Um(t).constructor):e.apply(t,r))}function kae(t,e){if(e&&(Hu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Iae(t)}function Iae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vF=function(){return!!t})()}function Um(t){return Um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Um(t)}function Oae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A1(t,e)}function A1(t,e){return A1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},A1(t,e)}function bF(t,e,r){return e=_F(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _F(t){var e=Cae(t,"string");return Hu(e)=="symbol"?e:e+""}function Cae(t,e){if(Hu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function P1(){return P1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},P1.apply(this,arguments)}function Nae(t){var e=t.xAxisId,r=NS(),n=RS(),i=iF(e);return i==null?null:K.createElement(sc,P1({},i,{className:et("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return za(s,!0)}}))}var ml=function(t){function e(){return Sae(this,e),Pae(this,e,arguments)}return Oae(e,t),Aae(e,[{key:"render",value:function(){return K.createElement(Nae,this.props)}}])}(K.Component);bF(ml,"displayName","XAxis");bF(ml,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ku(t){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ku(t)}function Rae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jae(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,EF(n.key),n)}}function Dae(t,e,r){return e&&jae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mae(t,e,r){return e=Bm(e),Lae(t,xF()?Reflect.construct(e,r||[],Bm(t).constructor):e.apply(t,r))}function Lae(t,e){if(e&&(Ku(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $ae(t)}function $ae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xF=function(){return!!t})()}function Bm(t){return Bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bm(t)}function Fae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k1(t,e)}function k1(t,e){return k1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},k1(t,e)}function wF(t,e,r){return e=EF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EF(t){var e=Vae(t,"string");return Ku(e)=="symbol"?e:e+""}function Vae(t,e){if(Ku(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ku(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function I1(){return I1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},I1.apply(this,arguments)}var Uae=function(e){var r=e.yAxisId,n=NS(),i=RS(),a=aF(r);return a==null?null:K.createElement(sc,I1({},a,{className:et("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(u){return za(u,!0)}}))},gl=function(t){function e(){return Rae(this,e),Mae(this,e,arguments)}return Fae(e,t),Dae(e,[{key:"render",value:function(){return K.createElement(Uae,this.props)}}])}(K.Component);wF(gl,"displayName","YAxis");wF(gl,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function h2(t){return Wae(t)||zae(t)||qae(t)||Bae()}function Bae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qae(t,e){if(t){if(typeof t=="string")return O1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O1(t,e)}}function zae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Wae(t){if(Array.isArray(t))return O1(t)}function O1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var C1=function(e,r,n,i,a){var s=Kn(e,DS),u=Kn(e,Wg),c=[].concat(h2(s),h2(u)),f=Kn(e,Kg),h="".concat(i,"Id"),m=i[0],y=r;if(c.length&&(y=c.reduce(function(E,w){if(w.props[h]===n&&fa(w.props,"extendDomain")&&ve(w.props[m])){var O=w.props[m];return[Math.min(E[0],O),Math.max(E[1],O)]}return E},y)),f.length){var b="".concat(m,"1"),x="".concat(m,"2");y=f.reduce(function(E,w){if(w.props[h]===n&&fa(w.props,"extendDomain")&&ve(w.props[b])&&ve(w.props[x])){var O=w.props[b],C=w.props[x];return[Math.min(E[0],O,C),Math.max(E[1],O,C)]}return E},y)}return a&&a.length&&(y=a.reduce(function(E,w){return ve(w)?[Math.min(E[0],w),Math.max(E[1],w)]:E},y)),y},Lx={exports:{}},p2;function Hae(){return p2||(p2=1,function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,f,h){this.fn=c,this.context=f,this.once=h||!1}function a(c,f,h,m,y){if(typeof h!="function")throw new TypeError("The listener must be a function");var b=new i(h,m||c,y),x=r?r+f:f;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],b]:c._events[x].push(b):(c._events[x]=b,c._eventsCount++),c}function s(c,f){--c._eventsCount===0?c._events=new n:delete c._events[f]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],h,m;if(this._eventsCount===0)return f;for(m in h=this._events)e.call(h,m)&&f.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},u.prototype.listeners=function(f){var h=r?r+f:f,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var y=0,b=m.length,x=new Array(b);y<b;y++)x[y]=m[y].fn;return x},u.prototype.listenerCount=function(f){var h=r?r+f:f,m=this._events[h];return m?m.fn?1:m.length:0},u.prototype.emit=function(f,h,m,y,b,x){var E=r?r+f:f;if(!this._events[E])return!1;var w=this._events[E],O=arguments.length,C,N;if(w.fn){switch(w.once&&this.removeListener(f,w.fn,void 0,!0),O){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,h),!0;case 3:return w.fn.call(w.context,h,m),!0;case 4:return w.fn.call(w.context,h,m,y),!0;case 5:return w.fn.call(w.context,h,m,y,b),!0;case 6:return w.fn.call(w.context,h,m,y,b,x),!0}for(N=1,C=new Array(O-1);N<O;N++)C[N-1]=arguments[N];w.fn.apply(w.context,C)}else{var $=w.length,I;for(N=0;N<$;N++)switch(w[N].once&&this.removeListener(f,w[N].fn,void 0,!0),O){case 1:w[N].fn.call(w[N].context);break;case 2:w[N].fn.call(w[N].context,h);break;case 3:w[N].fn.call(w[N].context,h,m);break;case 4:w[N].fn.call(w[N].context,h,m,y);break;default:if(!C)for(I=1,C=new Array(O-1);I<O;I++)C[I-1]=arguments[I];w[N].fn.apply(w[N].context,C)}}return!0},u.prototype.on=function(f,h,m){return a(this,f,h,m,!1)},u.prototype.once=function(f,h,m){return a(this,f,h,m,!0)},u.prototype.removeListener=function(f,h,m,y){var b=r?r+f:f;if(!this._events[b])return this;if(!h)return s(this,b),this;var x=this._events[b];if(x.fn)x.fn===h&&(!y||x.once)&&(!m||x.context===m)&&s(this,b);else{for(var E=0,w=[],O=x.length;E<O;E++)(x[E].fn!==h||y&&!x[E].once||m&&x[E].context!==m)&&w.push(x[E]);w.length?this._events[b]=w.length===1?w[0]:w:s(this,b)}return this},u.prototype.removeAllListeners=function(f){var h;return f?(h=r?r+f:f,this._events[h]&&s(this,h)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,t.exports=u}(Lx)),Lx.exports}var Kae=Hae();const Gae=bt(Kae);var $x=new Gae,Fx="recharts.syncMouseEvents";function dd(t){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dd(t)}function Yae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xae(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,SF(n.key),n)}}function Qae(t,e,r){return e&&Xae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vx(t,e,r){return e=SF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SF(t){var e=Jae(t,"string");return dd(e)=="symbol"?e:e+""}function Jae(t,e){if(dd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Zae=function(){function t(){Yae(this,t),Vx(this,"activeIndex",0),Vx(this,"coordinateList",[]),Vx(this,"layout","horizontal")}return Qae(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,s=r.container,u=s===void 0?null:s,c=r.layout,f=c===void 0?null:c,h=r.offset,m=h===void 0?null:h,y=r.mouseHandlerCallback,b=y===void 0?null:y;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=u??this.container,this.layout=f??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=b??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,u=i.height,c=this.coordinateList[this.activeIndex].coordinate,f=((r=window)===null||r===void 0?void 0:r.scrollX)||0,h=((n=window)===null||n===void 0?void 0:n.scrollY)||0,m=a+c+f,y=s+this.offset.top+u/2+h;this.mouseHandlerCallback({pageX:m,pageY:y})}}}])}();function eoe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t?.[0],i=t?.[1];if(n&&i&&ve(n)&&ve(i))return!0}return!1}function toe(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function TF(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,s=Ct(e,r,n,i),u=Ct(e,r,n,a);return{points:[s,u],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function roe(t,e,r){var n,i,a,s;if(t==="horizontal")n=e.x,a=n,i=r.top,s=r.top+r.height;else if(t==="vertical")i=e.y,s=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var u=e.cx,c=e.cy,f=e.innerRadius,h=e.outerRadius,m=e.angle,y=Ct(u,c,f,m),b=Ct(u,c,h,m);n=y.x,i=y.y,a=b.x,s=b.y}else return TF(e);return[{x:n,y:i},{x:a,y:s}]}function hd(t){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hd(t)}function m2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?m2(Object(r),!0).forEach(function(n){noe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function noe(t,e,r){return e=ioe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ioe(t){var e=aoe(t,"string");return hd(e)=="symbol"?e:e+""}function aoe(t,e){if(hd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ooe(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,u=t.activePayload,c=t.offset,f=t.activeTooltipIndex,h=t.tooltipAxisBandSize,m=t.layout,y=t.chartName,b=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!b||!a||!s||y!=="ScatterChart"&&i!=="axis")return null;var x,E=_m;if(y==="ScatterChart")x=s,E=kte;else if(y==="BarChart")x=toe(m,s,c,h),E=kS;else if(m==="radial"){var w=TF(s),O=w.cx,C=w.cy,N=w.radius,$=w.startAngle,I=w.endAngle;x={cx:O,cy:C,startAngle:$,endAngle:I,innerRadius:N,outerRadius:N},E=PS}else x={points:roe(m,s,c)},E=_m;var j=vp(vp(vp(vp({stroke:"#ccc",pointerEvents:"none"},c),x),qe(b,!1)),{},{payload:u,payloadIndex:f,className:et("recharts-tooltip-cursor",b.className)});return K.isValidElement(b)?K.cloneElement(b,j):K.createElement(E,j)}var soe=["item"],loe=["children","className","width","height","style","compact","title","desc"];function Gu(t){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gu(t)}function uu(){return uu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uu.apply(this,arguments)}function g2(t,e){return foe(t)||coe(t,e)||PF(t,e)||uoe()}function uoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function coe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function foe(t){if(Array.isArray(t))return t}function y2(t,e){if(t==null)return{};var r=doe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function doe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function hoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function poe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kF(n.key),n)}}function moe(t,e,r){return e&&poe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function goe(t,e,r){return e=qm(e),yoe(t,AF()?Reflect.construct(e,r||[],qm(t).constructor):e.apply(t,r))}function yoe(t,e){if(e&&(Gu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return voe(t)}function voe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AF=function(){return!!t})()}function qm(t){return qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qm(t)}function boe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N1(t,e)}function N1(t,e){return N1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},N1(t,e)}function Yu(t){return woe(t)||xoe(t)||PF(t)||_oe()}function _oe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PF(t,e){if(t){if(typeof t=="string")return R1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R1(t,e)}}function xoe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function woe(t){if(Array.isArray(t))return R1(t)}function R1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function v2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function le(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?v2(Object(r),!0).forEach(function(n){We(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function We(t,e,r){return e=kF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kF(t){var e=Eoe(t,"string");return Gu(e)=="symbol"?e:e+""}function Eoe(t,e){if(Gu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Soe={xAxis:["bottom","top"],yAxis:["left","right"]},Toe={width:"100%",height:"100%"},IF={x:0,y:0};function bp(t){return t}var Aoe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},Poe=function(e,r,n,i){var a=r.find(function(h){return h&&h.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,u=i.radius;return le(le(le({},i),Ct(i.cx,i.cy,u,s)),{},{angle:s,radius:u})}var c=a.coordinate,f=i.angle;return le(le(le({},i),Ct(i.cx,i.cy,c,f)),{},{angle:f,radius:c})}return IF},Yg=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,s=(n??[]).reduce(function(u,c){var f=c.props.data;return f&&f.length?[].concat(Yu(u),Yu(f)):u},[]);return s.length>0?s:e&&e.length&&ve(i)&&ve(a)?e.slice(i,a+1):[]};function OF(t){return t==="number"?[0,"auto"]:void 0}var j1=function(e,r,n,i){var a=e.graphicalItems,s=e.tooltipAxis,u=Yg(r,e);return n<0||!a||!a.length||n>=u.length?null:a.reduce(function(c,f){var h,m=(h=f.props.data)!==null&&h!==void 0?h:r;m&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(m=m.slice(e.dataStartIndex,e.dataEndIndex+1));var y;if(s.dataKey&&!s.allowDuplicatedCategory){var b=m===void 0?u:m;y=Hp(b,s.dataKey,i)}else y=m&&m[n]||u[n];return y?[].concat(Yu(c),[x4(f,y)]):c},[])},b2=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},s=Aoe(a,n),u=e.orderedTooltipTicks,c=e.tooltipAxis,f=e.tooltipTicks,h=ZQ(s,u,f,c);if(h>=0&&f){var m=f[h]&&f[h].value,y=j1(e,r,h,m),b=Poe(n,u,h,a);return{activeTooltipIndex:h,activeLabel:m,activePayload:y,activeCoordinate:b}}return null},koe=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,s=r.axisIdKey,u=r.stackGroups,c=r.dataStartIndex,f=r.dataEndIndex,h=e.layout,m=e.children,y=e.stackOffset,b=m4(h,a);return n.reduce(function(x,E){var w,O=E.type.defaultProps!==void 0?le(le({},E.type.defaultProps),E.props):E.props,C=O.type,N=O.dataKey,$=O.allowDataOverflow,I=O.allowDuplicatedCategory,j=O.scale,A=O.ticks,P=O.includeHidden,R=O[s];if(x[R])return x;var F=Yg(e.data,{graphicalItems:i.filter(function(G){var fe,Se=s in G.props?G.props[s]:(fe=G.type.defaultProps)===null||fe===void 0?void 0:fe[s];return Se===R}),dataStartIndex:c,dataEndIndex:f}),M=F.length,V,D,Z;eoe(O.domain,$,C)&&(V=Gw(O.domain,null,$),b&&(C==="number"||j!=="auto")&&(Z=yf(F,N,"category")));var ee=OF(C);if(!V||V.length===0){var re,oe=(re=O.domain)!==null&&re!==void 0?re:ee;if(N){if(V=yf(F,N,C),C==="category"&&b){var Q=H8(V);I&&Q?(D=V,V=Om(0,M)):I||(V=vR(oe,V,E).reduce(function(G,fe){return G.indexOf(fe)>=0?G:[].concat(Yu(G),[fe])},[]))}else if(C==="category")I?V=V.filter(function(G){return G!==""&&!Je(G)}):V=vR(oe,V,E).reduce(function(G,fe){return G.indexOf(fe)>=0||fe===""||Je(fe)?G:[].concat(Yu(G),[fe])},[]);else if(C==="number"){var ie=iJ(F,i.filter(function(G){var fe,Se,Re=s in G.props?G.props[s]:(fe=G.type.defaultProps)===null||fe===void 0?void 0:fe[s],xe="hide"in G.props?G.props.hide:(Se=G.type.defaultProps)===null||Se===void 0?void 0:Se.hide;return Re===R&&(P||!xe)}),N,a,h);ie&&(V=ie)}b&&(C==="number"||j!=="auto")&&(Z=yf(F,N,"category"))}else b?V=Om(0,M):u&&u[R]&&u[R].hasStack&&C==="number"?V=y==="expand"?[0,1]:_4(u[R].stackGroups,c,f):V=p4(F,i.filter(function(G){var fe=s in G.props?G.props[s]:G.type.defaultProps[s],Se="hide"in G.props?G.props.hide:G.type.defaultProps.hide;return fe===R&&(P||!Se)}),C,h,!0);if(C==="number")V=C1(m,V,R,a,A),oe&&(V=Gw(oe,V,$));else if(C==="category"&&oe){var se=oe,q=V.every(function(G){return se.indexOf(G)>=0});q&&(V=se)}}return le(le({},x),{},We({},R,le(le({},O),{},{axisType:a,domain:V,categoricalDomain:Z,duplicateDomain:D,originalDomain:(w=O.domain)!==null&&w!==void 0?w:ee,isCategorical:b,layout:h})))},{})},Ioe=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,s=r.axisIdKey,u=r.stackGroups,c=r.dataStartIndex,f=r.dataEndIndex,h=e.layout,m=e.children,y=Yg(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:f}),b=y.length,x=m4(h,a),E=-1;return n.reduce(function(w,O){var C=O.type.defaultProps!==void 0?le(le({},O.type.defaultProps),O.props):O.props,N=C[s],$=OF("number");if(!w[N]){E++;var I;return x?I=Om(0,b):u&&u[N]&&u[N].hasStack?(I=_4(u[N].stackGroups,c,f),I=C1(m,I,N,a)):(I=Gw($,p4(y,n.filter(function(j){var A,P,R=s in j.props?j.props[s]:(A=j.type.defaultProps)===null||A===void 0?void 0:A[s],F="hide"in j.props?j.props.hide:(P=j.type.defaultProps)===null||P===void 0?void 0:P.hide;return R===N&&!F}),"number",h),i.defaultProps.allowDataOverflow),I=C1(m,I,N,a)),le(le({},w),{},We({},N,le(le({axisType:a},i.defaultProps),{},{hide:!0,orientation:Hn(Soe,"".concat(a,".").concat(E%2),null),domain:I,originalDomain:$,isCategorical:x,layout:h})))}return w},{})},Ooe=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,s=r.graphicalItems,u=r.stackGroups,c=r.dataStartIndex,f=r.dataEndIndex,h=e.children,m="".concat(i,"Id"),y=Kn(h,a),b={};return y&&y.length?b=koe(e,{axes:y,graphicalItems:s,axisType:i,axisIdKey:m,stackGroups:u,dataStartIndex:c,dataEndIndex:f}):s&&s.length&&(b=Ioe(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:m,stackGroups:u,dataStartIndex:c,dataEndIndex:f})),b},Coe=function(e){var r=Uo(e),n=za(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:eS(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:ym(r,n)}},_2=function(e){var r=e.children,n=e.defaultShowTooltip,i=Fn(r,Fu),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},Noe=function(e){return!e||!e.length?!1:e.some(function(r){var n=Ha(r&&r.type);return n&&n.indexOf("Bar")>=0})},x2=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Roe=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,u=e.yAxisMap,c=u===void 0?{}:u,f=n.width,h=n.height,m=n.children,y=n.margin||{},b=Fn(m,Fu),x=Fn(m,Ka),E=Object.keys(c).reduce(function(I,j){var A=c[j],P=A.orientation;return!A.mirror&&!A.hide?le(le({},I),{},We({},P,I[P]+A.width)):I},{left:y.left||0,right:y.right||0}),w=Object.keys(s).reduce(function(I,j){var A=s[j],P=A.orientation;return!A.mirror&&!A.hide?le(le({},I),{},We({},P,Hn(I,"".concat(P))+A.height)):I},{top:y.top||0,bottom:y.bottom||0}),O=le(le({},w),E),C=O.bottom;b&&(O.bottom+=b.props.height||Fu.defaultProps.height),x&&r&&(O=rJ(O,i,n,r));var N=f-O.left-O.right,$=h-O.top-O.bottom;return le(le({brushBottom:C},O),{},{width:Math.max(N,0),height:Math.max($,0)})},joe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},$S=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,u=s===void 0?["axis"]:s,c=e.axisComponents,f=e.legendContent,h=e.formatAxisMap,m=e.defaultProps,y=function(O,C){var N=C.graphicalItems,$=C.stackGroups,I=C.offset,j=C.updateId,A=C.dataStartIndex,P=C.dataEndIndex,R=O.barSize,F=O.layout,M=O.barGap,V=O.barCategoryGap,D=O.maxBarSize,Z=x2(F),ee=Z.numericAxisName,re=Z.cateAxisName,oe=Noe(N),Q=[];return N.forEach(function(ie,se){var q=Yg(O.data,{graphicalItems:[ie],dataStartIndex:A,dataEndIndex:P}),G=ie.type.defaultProps!==void 0?le(le({},ie.type.defaultProps),ie.props):ie.props,fe=G.dataKey,Se=G.maxBarSize,Re=G["".concat(ee,"Id")],xe=G["".concat(re,"Id")],$e={},Ve=c.reduce(function(zt,Nr){var Zr=C["".concat(Nr.axisType,"Map")],mi=G["".concat(Nr.axisType,"Id")];Zr&&Zr[mi]||Nr.axisType==="zAxis"||nl();var Bi=Zr[mi];return le(le({},zt),{},We(We({},Nr.axisType,Bi),"".concat(Nr.axisType,"Ticks"),za(Bi)))},$e),pe=Ve[re],Oe=Ve["".concat(re,"Ticks")],ze=$&&$[Re]&&$[Re].hasStack&&hJ(ie,$[Re].stackGroups),ue=Ha(ie.type).indexOf("Bar")>=0,st=ym(pe,Oe),He=[],pt=oe&&eJ({barSize:R,stackGroups:$,totalSize:joe(Ve,re)});if(ue){var Tt,Yt,fr=Je(Se)?D:Se,Jr=(Tt=(Yt=ym(pe,Oe,!0))!==null&&Yt!==void 0?Yt:fr)!==null&&Tt!==void 0?Tt:0;He=tJ({barGap:M,barCategoryGap:V,bandSize:Jr!==st?Jr:st,sizeList:pt[xe],maxBarSize:fr}),Jr!==st&&(He=He.map(function(zt){return le(le({},zt),{},{position:le(le({},zt.position),{},{offset:zt.position.offset-Jr/2})})}))}var qt=ie&&ie.type&&ie.type.getComposedData;qt&&Q.push({props:le(le({},qt(le(le({},Ve),{},{displayedData:q,props:O,dataKey:fe,item:ie,bandSize:st,barPosition:He,offset:I,stackedData:ze,layout:F,dataStartIndex:A,dataEndIndex:P}))),{},We(We(We({key:ie.key||"item-".concat(se)},ee,Ve[ee]),re,Ve[re]),"animationId",j)),childIndex:a7(ie,O.children),item:ie})}),Q},b=function(O,C){var N=O.props,$=O.dataStartIndex,I=O.dataEndIndex,j=O.updateId;if(!NI({props:N}))return null;var A=N.children,P=N.layout,R=N.stackOffset,F=N.data,M=N.reverseStackOrder,V=x2(P),D=V.numericAxisName,Z=V.cateAxisName,ee=Kn(A,n),re=fJ(F,ee,"".concat(D,"Id"),"".concat(Z,"Id"),R,M),oe=c.reduce(function(G,fe){var Se="".concat(fe.axisType,"Map");return le(le({},G),{},We({},Se,Ooe(N,le(le({},fe),{},{graphicalItems:ee,stackGroups:fe.axisType===D&&re,dataStartIndex:$,dataEndIndex:I}))))},{}),Q=Roe(le(le({},oe),{},{props:N,graphicalItems:ee}),C?.legendBBox);Object.keys(oe).forEach(function(G){oe[G]=h(N,oe[G],Q,G.replace("Map",""),r)});var ie=oe["".concat(Z,"Map")],se=Coe(ie),q=y(N,le(le({},oe),{},{dataStartIndex:$,dataEndIndex:I,updateId:j,graphicalItems:ee,stackGroups:re,offset:Q}));return le(le({formattedGraphicalItems:q,graphicalItems:ee,offset:Q,stackGroups:re},se),oe)},x=function(w){function O(C){var N,$,I;return hoe(this,O),I=goe(this,O,[C]),We(I,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),We(I,"accessibilityManager",new Zae),We(I,"handleLegendBBoxUpdate",function(j){if(j){var A=I.state,P=A.dataStartIndex,R=A.dataEndIndex,F=A.updateId;I.setState(le({legendBBox:j},b({props:I.props,dataStartIndex:P,dataEndIndex:R,updateId:F},le(le({},I.state),{},{legendBBox:j}))))}}),We(I,"handleReceiveSyncEvent",function(j,A,P){if(I.props.syncId===j){if(P===I.eventEmitterSymbol&&typeof I.props.syncMethod!="function")return;I.applySyncEvent(A)}}),We(I,"handleBrushChange",function(j){var A=j.startIndex,P=j.endIndex;if(A!==I.state.dataStartIndex||P!==I.state.dataEndIndex){var R=I.state.updateId;I.setState(function(){return le({dataStartIndex:A,dataEndIndex:P},b({props:I.props,dataStartIndex:A,dataEndIndex:P,updateId:R},I.state))}),I.triggerSyncEvent({dataStartIndex:A,dataEndIndex:P})}}),We(I,"handleMouseEnter",function(j){var A=I.getMouseInfo(j);if(A){var P=le(le({},A),{},{isTooltipActive:!0});I.setState(P),I.triggerSyncEvent(P);var R=I.props.onMouseEnter;Ye(R)&&R(P,j)}}),We(I,"triggeredAfterMouseMove",function(j){var A=I.getMouseInfo(j),P=A?le(le({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};I.setState(P),I.triggerSyncEvent(P);var R=I.props.onMouseMove;Ye(R)&&R(P,j)}),We(I,"handleItemMouseEnter",function(j){I.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),We(I,"handleItemMouseLeave",function(){I.setState(function(){return{isTooltipActive:!1}})}),We(I,"handleMouseMove",function(j){j.persist(),I.throttleTriggeredAfterMouseMove(j)}),We(I,"handleMouseLeave",function(j){I.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};I.setState(A),I.triggerSyncEvent(A);var P=I.props.onMouseLeave;Ye(P)&&P(A,j)}),We(I,"handleOuterEvent",function(j){var A=i7(j),P=Hn(I.props,"".concat(A));if(A&&Ye(P)){var R,F;/.*touch.*/i.test(A)?F=I.getMouseInfo(j.changedTouches[0]):F=I.getMouseInfo(j),P((R=F)!==null&&R!==void 0?R:{},j)}}),We(I,"handleClick",function(j){var A=I.getMouseInfo(j);if(A){var P=le(le({},A),{},{isTooltipActive:!0});I.setState(P),I.triggerSyncEvent(P);var R=I.props.onClick;Ye(R)&&R(P,j)}}),We(I,"handleMouseDown",function(j){var A=I.props.onMouseDown;if(Ye(A)){var P=I.getMouseInfo(j);A(P,j)}}),We(I,"handleMouseUp",function(j){var A=I.props.onMouseUp;if(Ye(A)){var P=I.getMouseInfo(j);A(P,j)}}),We(I,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&I.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),We(I,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&I.handleMouseDown(j.changedTouches[0])}),We(I,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&I.handleMouseUp(j.changedTouches[0])}),We(I,"handleDoubleClick",function(j){var A=I.props.onDoubleClick;if(Ye(A)){var P=I.getMouseInfo(j);A(P,j)}}),We(I,"handleContextMenu",function(j){var A=I.props.onContextMenu;if(Ye(A)){var P=I.getMouseInfo(j);A(P,j)}}),We(I,"triggerSyncEvent",function(j){I.props.syncId!==void 0&&$x.emit(Fx,I.props.syncId,j,I.eventEmitterSymbol)}),We(I,"applySyncEvent",function(j){var A=I.props,P=A.layout,R=A.syncMethod,F=I.state.updateId,M=j.dataStartIndex,V=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)I.setState(le({dataStartIndex:M,dataEndIndex:V},b({props:I.props,dataStartIndex:M,dataEndIndex:V,updateId:F},I.state)));else if(j.activeTooltipIndex!==void 0){var D=j.chartX,Z=j.chartY,ee=j.activeTooltipIndex,re=I.state,oe=re.offset,Q=re.tooltipTicks;if(!oe)return;if(typeof R=="function")ee=R(Q,j);else if(R==="value"){ee=-1;for(var ie=0;ie<Q.length;ie++)if(Q[ie].value===j.activeLabel){ee=ie;break}}var se=le(le({},oe),{},{x:oe.left,y:oe.top}),q=Math.min(D,se.x+se.width),G=Math.min(Z,se.y+se.height),fe=Q[ee]&&Q[ee].value,Se=j1(I.state,I.props.data,ee),Re=Q[ee]?{x:P==="horizontal"?Q[ee].coordinate:q,y:P==="horizontal"?G:Q[ee].coordinate}:IF;I.setState(le(le({},j),{},{activeLabel:fe,activeCoordinate:Re,activePayload:Se,activeTooltipIndex:ee}))}else I.setState(j)}),We(I,"renderCursor",function(j){var A,P=I.state,R=P.isTooltipActive,F=P.activeCoordinate,M=P.activePayload,V=P.offset,D=P.activeTooltipIndex,Z=P.tooltipAxisBandSize,ee=I.getTooltipEventType(),re=(A=j.props.active)!==null&&A!==void 0?A:R,oe=I.props.layout,Q=j.key||"_recharts-cursor";return z.createElement(ooe,{key:Q,activeCoordinate:F,activePayload:M,activeTooltipIndex:D,chartName:r,element:j,isActive:re,layout:oe,offset:V,tooltipAxisBandSize:Z,tooltipEventType:ee})}),We(I,"renderPolarAxis",function(j,A,P){var R=Hn(j,"type.axisType"),F=Hn(I.state,"".concat(R,"Map")),M=j.type.defaultProps,V=M!==void 0?le(le({},M),j.props):j.props,D=F&&F[V["".concat(R,"Id")]];return K.cloneElement(j,le(le({},D),{},{className:et(R,D.className),key:j.key||"".concat(A,"-").concat(P),ticks:za(D,!0)}))}),We(I,"renderPolarGrid",function(j){var A=j.props,P=A.radialLines,R=A.polarAngles,F=A.polarRadius,M=I.state,V=M.radiusAxisMap,D=M.angleAxisMap,Z=Uo(V),ee=Uo(D),re=ee.cx,oe=ee.cy,Q=ee.innerRadius,ie=ee.outerRadius;return K.cloneElement(j,{polarAngles:Array.isArray(R)?R:za(ee,!0).map(function(se){return se.coordinate}),polarRadius:Array.isArray(F)?F:za(Z,!0).map(function(se){return se.coordinate}),cx:re,cy:oe,innerRadius:Q,outerRadius:ie,key:j.key||"polar-grid",radialLines:P})}),We(I,"renderLegend",function(){var j=I.state.formattedGraphicalItems,A=I.props,P=A.children,R=A.width,F=A.height,M=I.props.margin||{},V=R-(M.left||0)-(M.right||0),D=d4({children:P,formattedGraphicalItems:j,legendWidth:V,legendContent:f});if(!D)return null;var Z=D.item,ee=y2(D,soe);return K.cloneElement(Z,le(le({},ee),{},{chartWidth:R,chartHeight:F,margin:M,onBBoxUpdate:I.handleLegendBBoxUpdate}))}),We(I,"renderTooltip",function(){var j,A=I.props,P=A.children,R=A.accessibilityLayer,F=Fn(P,Vn);if(!F)return null;var M=I.state,V=M.isTooltipActive,D=M.activeCoordinate,Z=M.activePayload,ee=M.activeLabel,re=M.offset,oe=(j=F.props.active)!==null&&j!==void 0?j:V;return K.cloneElement(F,{viewBox:le(le({},re),{},{x:re.left,y:re.top}),active:oe,label:ee,payload:oe?Z:[],coordinate:D,accessibilityLayer:R})}),We(I,"renderBrush",function(j){var A=I.props,P=A.margin,R=A.data,F=I.state,M=F.offset,V=F.dataStartIndex,D=F.dataEndIndex,Z=F.updateId;return K.cloneElement(j,{key:j.key||"_recharts-brush",onChange:pp(I.handleBrushChange,j.props.onChange),data:R,x:ve(j.props.x)?j.props.x:M.left,y:ve(j.props.y)?j.props.y:M.top+M.height+M.brushBottom-(P.bottom||0),width:ve(j.props.width)?j.props.width:M.width,startIndex:V,endIndex:D,updateId:"brush-".concat(Z)})}),We(I,"renderReferenceElement",function(j,A,P){if(!j)return null;var R=I,F=R.clipPathId,M=I.state,V=M.xAxisMap,D=M.yAxisMap,Z=M.offset,ee=j.type.defaultProps||{},re=j.props,oe=re.xAxisId,Q=oe===void 0?ee.xAxisId:oe,ie=re.yAxisId,se=ie===void 0?ee.yAxisId:ie;return K.cloneElement(j,{key:j.key||"".concat(A,"-").concat(P),xAxis:V[Q],yAxis:D[se],viewBox:{x:Z.left,y:Z.top,width:Z.width,height:Z.height},clipPathId:F})}),We(I,"renderActivePoints",function(j){var A=j.item,P=j.activePoint,R=j.basePoint,F=j.childIndex,M=j.isRange,V=[],D=A.props.key,Z=A.item.type.defaultProps!==void 0?le(le({},A.item.type.defaultProps),A.item.props):A.item.props,ee=Z.activeDot,re=Z.dataKey,oe=le(le({index:F,dataKey:re,cx:P.x,cy:P.y,r:4,fill:AS(A.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},qe(ee,!1)),Kp(ee));return V.push(O.renderActiveDot(ee,oe,"".concat(D,"-activePoint-").concat(F))),R?V.push(O.renderActiveDot(ee,le(le({},oe),{},{cx:R.x,cy:R.y}),"".concat(D,"-basePoint-").concat(F))):M&&V.push(null),V}),We(I,"renderGraphicChild",function(j,A,P){var R=I.filterFormatItem(j,A,P);if(!R)return null;var F=I.getTooltipEventType(),M=I.state,V=M.isTooltipActive,D=M.tooltipAxis,Z=M.activeTooltipIndex,ee=M.activeLabel,re=I.props.children,oe=Fn(re,Vn),Q=R.props,ie=Q.points,se=Q.isRange,q=Q.baseLine,G=R.item.type.defaultProps!==void 0?le(le({},R.item.type.defaultProps),R.item.props):R.item.props,fe=G.activeDot,Se=G.hide,Re=G.activeBar,xe=G.activeShape,$e=!!(!Se&&V&&oe&&(fe||Re||xe)),Ve={};F!=="axis"&&oe&&oe.props.trigger==="click"?Ve={onClick:pp(I.handleItemMouseEnter,j.props.onClick)}:F!=="axis"&&(Ve={onMouseLeave:pp(I.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:pp(I.handleItemMouseEnter,j.props.onMouseEnter)});var pe=K.cloneElement(j,le(le({},R.props),Ve));function Oe(Nr){return typeof D.dataKey=="function"?D.dataKey(Nr.payload):null}if($e)if(Z>=0){var ze,ue;if(D.dataKey&&!D.allowDuplicatedCategory){var st=typeof D.dataKey=="function"?Oe:"payload.".concat(D.dataKey.toString());ze=Hp(ie,st,ee),ue=se&&q&&Hp(q,st,ee)}else ze=ie?.[Z],ue=se&&q&&q[Z];if(xe||Re){var He=j.props.activeIndex!==void 0?j.props.activeIndex:Z;return[K.cloneElement(j,le(le(le({},R.props),Ve),{},{activeIndex:He})),null,null]}if(!Je(ze))return[pe].concat(Yu(I.renderActivePoints({item:R,activePoint:ze,basePoint:ue,childIndex:Z,isRange:se})))}else{var pt,Tt=(pt=I.getItemByXY(I.state.activeCoordinate))!==null&&pt!==void 0?pt:{graphicalItem:pe},Yt=Tt.graphicalItem,fr=Yt.item,Jr=fr===void 0?j:fr,qt=Yt.childIndex,zt=le(le(le({},R.props),Ve),{},{activeIndex:qt});return[K.cloneElement(Jr,zt),null,null]}return se?[pe,null,null]:[pe,null]}),We(I,"renderCustomized",function(j,A,P){return K.cloneElement(j,le(le({key:"recharts-customized-".concat(P)},I.props),I.state))}),We(I,"renderMap",{CartesianGrid:{handler:bp,once:!0},ReferenceArea:{handler:I.renderReferenceElement},ReferenceLine:{handler:bp},ReferenceDot:{handler:I.renderReferenceElement},XAxis:{handler:bp},YAxis:{handler:bp},Brush:{handler:I.renderBrush,once:!0},Bar:{handler:I.renderGraphicChild},Line:{handler:I.renderGraphicChild},Area:{handler:I.renderGraphicChild},Radar:{handler:I.renderGraphicChild},RadialBar:{handler:I.renderGraphicChild},Scatter:{handler:I.renderGraphicChild},Pie:{handler:I.renderGraphicChild},Funnel:{handler:I.renderGraphicChild},Tooltip:{handler:I.renderCursor,once:!0},PolarGrid:{handler:I.renderPolarGrid,once:!0},PolarAngleAxis:{handler:I.renderPolarAxis},PolarRadiusAxis:{handler:I.renderPolarAxis},Customized:{handler:I.renderCustomized}}),I.clipPathId="".concat((N=C.id)!==null&&N!==void 0?N:rc("recharts"),"-clip"),I.throttleTriggeredAfterMouseMove=f$(I.triggeredAfterMouseMove,($=C.throttleDelay)!==null&&$!==void 0?$:1e3/60),I.state={},I}return boe(O,w),moe(O,[{key:"componentDidMount",value:function(){var N,$;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:($=this.props.margin.top)!==null&&$!==void 0?$:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var N=this.props,$=N.children,I=N.data,j=N.height,A=N.layout,P=Fn($,Vn);if(P){var R=P.props.defaultIndex;if(!(typeof R!="number"||R<0||R>this.state.tooltipTicks.length-1)){var F=this.state.tooltipTicks[R]&&this.state.tooltipTicks[R].value,M=j1(this.state,I,R,F),V=this.state.tooltipTicks[R].coordinate,D=(this.state.offset.top+j)/2,Z=A==="horizontal",ee=Z?{x:V,y:D}:{y:V,x:D},re=this.state.formattedGraphicalItems.find(function(Q){var ie=Q.item;return ie.type.name==="Scatter"});re&&(ee=le(le({},ee),re.props.points[R].tooltipPosition),M=re.props.points[R].tooltipPayload);var oe={activeTooltipIndex:R,isTooltipActive:!0,activeLabel:F,activePayload:M,activeCoordinate:ee};this.setState(oe),this.renderCursor(P),this.accessibilityManager.setIndex(R)}}}},{key:"getSnapshotBeforeUpdate",value:function(N,$){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==$.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==N.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==N.margin){var I,j;this.accessibilityManager.setDetails({offset:{left:(I=this.props.margin.left)!==null&&I!==void 0?I:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(N){gw([Fn(N.children,Vn)],[Fn(this.props.children,Vn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var N=Fn(this.props.children,Vn);if(N&&typeof N.props.shared=="boolean"){var $=N.props.shared?"axis":"item";return u.indexOf($)>=0?$:a}return a}},{key:"getMouseInfo",value:function(N){if(!this.container)return null;var $=this.container,I=$.getBoundingClientRect(),j=WK(I),A={chartX:Math.round(N.pageX-j.left),chartY:Math.round(N.pageY-j.top)},P=I.width/$.offsetWidth||1,R=this.inRange(A.chartX,A.chartY,P);if(!R)return null;var F=this.state,M=F.xAxisMap,V=F.yAxisMap,D=this.getTooltipEventType(),Z=b2(this.state,this.props.data,this.props.layout,R);if(D!=="axis"&&M&&V){var ee=Uo(M).scale,re=Uo(V).scale,oe=ee&&ee.invert?ee.invert(A.chartX):null,Q=re&&re.invert?re.invert(A.chartY):null;return le(le({},A),{},{xValue:oe,yValue:Q},Z)}return Z?le(le({},A),Z):null}},{key:"inRange",value:function(N,$){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,A=N/I,P=$/I;if(j==="horizontal"||j==="vertical"){var R=this.state.offset,F=A>=R.left&&A<=R.left+R.width&&P>=R.top&&P<=R.top+R.height;return F?{x:A,y:P}:null}var M=this.state,V=M.angleAxisMap,D=M.radiusAxisMap;if(V&&D){var Z=Uo(V);return xR({x:A,y:P},Z)}return null}},{key:"parseEventsOfWrapper",value:function(){var N=this.props.children,$=this.getTooltipEventType(),I=Fn(N,Vn),j={};I&&$==="axis"&&(I.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=Kp(this.props,this.handleOuterEvent);return le(le({},A),j)}},{key:"addListener",value:function(){$x.on(Fx,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){$x.removeListener(Fx,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(N,$,I){for(var j=this.state.formattedGraphicalItems,A=0,P=j.length;A<P;A++){var R=j[A];if(R.item===N||R.props.key===N.key||$===Ha(R.item.type)&&I===R.childIndex)return R}return null}},{key:"renderClipPath",value:function(){var N=this.clipPathId,$=this.state.offset,I=$.left,j=$.top,A=$.height,P=$.width;return z.createElement("defs",null,z.createElement("clipPath",{id:N},z.createElement("rect",{x:I,y:j,height:A,width:P})))}},{key:"getXScales",value:function(){var N=this.state.xAxisMap;return N?Object.entries(N).reduce(function($,I){var j=g2(I,2),A=j[0],P=j[1];return le(le({},$),{},We({},A,P.scale))},{}):null}},{key:"getYScales",value:function(){var N=this.state.yAxisMap;return N?Object.entries(N).reduce(function($,I){var j=g2(I,2),A=j[0],P=j[1];return le(le({},$),{},We({},A,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(N){var $;return($=this.state.xAxisMap)===null||$===void 0||($=$[N])===null||$===void 0?void 0:$.scale}},{key:"getYScaleByAxisId",value:function(N){var $;return($=this.state.yAxisMap)===null||$===void 0||($=$[N])===null||$===void 0?void 0:$.scale}},{key:"getItemByXY",value:function(N){var $=this.state,I=$.formattedGraphicalItems,j=$.activeItem;if(I&&I.length)for(var A=0,P=I.length;A<P;A++){var R=I[A],F=R.props,M=R.item,V=M.type.defaultProps!==void 0?le(le({},M.type.defaultProps),M.props):M.props,D=Ha(M.type);if(D==="Bar"){var Z=(F.data||[]).find(function(Q){return lte(N,Q)});if(Z)return{graphicalItem:R,payload:Z}}else if(D==="RadialBar"){var ee=(F.data||[]).find(function(Q){return xR(N,Q)});if(ee)return{graphicalItem:R,payload:ee}}else if(Ug(R,j)||Bg(R,j)||sd(R,j)){var re=Cre({graphicalItem:R,activeTooltipItem:j,itemData:V.data}),oe=V.activeIndex===void 0?re:V.activeIndex;return{graphicalItem:le(le({},R),{},{childIndex:oe}),payload:sd(R,j)?V.data[re]:R.props.data[re]}}}return null}},{key:"render",value:function(){var N=this;if(!NI(this))return null;var $=this.props,I=$.children,j=$.className,A=$.width,P=$.height,R=$.style,F=$.compact,M=$.title,V=$.desc,D=y2($,loe),Z=qe(D,!1);if(F)return z.createElement(Qj,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement(vw,uu({},Z,{width:A,height:P,title:M,desc:V}),this.renderClipPath(),jI(I,this.renderMap)));if(this.props.accessibilityLayer){var ee,re;Z.tabIndex=(ee=this.props.tabIndex)!==null&&ee!==void 0?ee:0,Z.role=(re=this.props.role)!==null&&re!==void 0?re:"application",Z.onKeyDown=function(Q){N.accessibilityManager.keyboardEvent(Q)},Z.onFocus=function(){N.accessibilityManager.focus()}}var oe=this.parseEventsOfWrapper();return z.createElement(Qj,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement("div",uu({className:et("recharts-wrapper",j),style:le({position:"relative",cursor:"default",width:A,height:P},R)},oe,{ref:function(ie){N.container=ie}}),z.createElement(vw,uu({},Z,{width:A,height:P,title:M,desc:V,style:Toe}),this.renderClipPath(),jI(I,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(K.Component);We(x,"displayName",r),We(x,"defaultProps",le({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),We(x,"getDerivedStateFromProps",function(w,O){var C=w.dataKey,N=w.data,$=w.children,I=w.width,j=w.height,A=w.layout,P=w.stackOffset,R=w.margin,F=O.dataStartIndex,M=O.dataEndIndex;if(O.updateId===void 0){var V=_2(w);return le(le(le({},V),{},{updateId:0},b(le(le({props:w},V),{},{updateId:0}),O)),{},{prevDataKey:C,prevData:N,prevWidth:I,prevHeight:j,prevLayout:A,prevStackOffset:P,prevMargin:R,prevChildren:$})}if(C!==O.prevDataKey||N!==O.prevData||I!==O.prevWidth||j!==O.prevHeight||A!==O.prevLayout||P!==O.prevStackOffset||!pu(R,O.prevMargin)){var D=_2(w),Z={chartX:O.chartX,chartY:O.chartY,isTooltipActive:O.isTooltipActive},ee=le(le({},b2(O,N,A)),{},{updateId:O.updateId+1}),re=le(le(le({},D),Z),ee);return le(le(le({},re),b(le({props:w},re),O)),{},{prevDataKey:C,prevData:N,prevWidth:I,prevHeight:j,prevLayout:A,prevStackOffset:P,prevMargin:R,prevChildren:$})}if(!gw($,O.prevChildren)){var oe,Q,ie,se,q=Fn($,Fu),G=q&&(oe=(Q=q.props)===null||Q===void 0?void 0:Q.startIndex)!==null&&oe!==void 0?oe:F,fe=q&&(ie=(se=q.props)===null||se===void 0?void 0:se.endIndex)!==null&&ie!==void 0?ie:M,Se=G!==F||fe!==M,Re=!Je(N),xe=Re&&!Se?O.updateId:O.updateId+1;return le(le({updateId:xe},b(le(le({props:w},O),{},{updateId:xe,dataStartIndex:G,dataEndIndex:fe}),O)),{},{prevChildren:$,dataStartIndex:G,dataEndIndex:fe})}return null}),We(x,"renderActiveDot",function(w,O,C){var N;return K.isValidElement(w)?N=K.cloneElement(w,O):Ye(w)?N=w(O):N=z.createElement(Mg,O),z.createElement(dt,{className:"recharts-active-dot",key:C},N)});var E=K.forwardRef(function(O,C){return z.createElement(x,uu({},O,{ref:C}))});return E.displayName=x.displayName,E},Doe=$S({chartName:"LineChart",GraphicalChild:Ws,axisComponents:[{axisType:"xAxis",AxisComp:ml},{axisType:"yAxis",AxisComp:gl}],formatAxisMap:X4}),CF=$S({chartName:"BarChart",GraphicalChild:ma,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ml},{axisType:"yAxis",AxisComp:gl}],formatAxisMap:X4}),Moe=$S({chartName:"PieChart",GraphicalChild:so,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Vg},{axisType:"radiusAxis",AxisComp:$g}],formatAxisMap:EJ,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function w2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?w2(Object(r),!0).forEach(function(n){NF(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NF(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Loe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function $oe(t,e){if(t==null)return{};var r=Loe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yu(t,e){return Foe(t)||Voe(t,e)||Uoe(t,e)||Boe()}function Foe(t){if(Array.isArray(t))return t}function Voe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,s,u;try{for(r=r.call(t);!(i=(s=r.next()).done)&&(n.push(s.value),!(e&&n.length===e));i=!0);}catch(c){a=!0,u=c}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw u}}return n}}function Uoe(t,e){if(t){if(typeof t=="string")return E2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E2(t,e)}}function E2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Boe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var qoe=["src","checkForExisting"],lf={},S2=function(e){var r=document.querySelector('script[src="'.concat(e,'"]'));if(r)return lf[e]={loading:!1,error:null,scriptEl:r}},T2=typeof window<"u"&&typeof window.document<"u";function zoe(t){var e=t.src,r=t.checkForExisting,n=r===void 0?!1:r,i=$oe(t,qoe),a=e?lf[e]:void 0;!a&&n&&e&&T2&&(a=S2(e));var s=K.useState(a?a.loading:!!e),u=yu(s,2),c=u[0],f=u[1],h=K.useState(a?a.error:null),m=yu(h,2),y=m[0],b=m[1],x=K.useState(!1),E=yu(x,2),w=E[0],O=E[1];return K.useEffect(function(){if(!(!T2||!e||w||y)){a=lf[e],!a&&n&&(a=S2(e));var C;a?C=a.scriptEl:(C=document.createElement("script"),C.src=e,Object.keys(i).forEach(function(I){C[I]===void 0?C.setAttribute(I,i[I]):C[I]=i[I]}),a=lf[e]={loading:!0,error:null,scriptEl:C});var N=function(){a&&(a.loading=!1),f(!1),O(!0)},$=function(j){a&&(a.error=j),b(j)};return C.addEventListener("load",N),C.addEventListener("error",$),document.body.appendChild(C),function(){C.removeEventListener("load",N),C.removeEventListener("error",$),a&&a.loading&&(C.remove(),delete lf[e])}}},[e]),[c,y]}var Woe=function(e,r,n){var i={};return delete Object.assign(i,e,NF({},n,e[r]))[r],i},Hoe=function(e,r){var n={plaid:null,open:!1,onExitCallback:null};if(typeof window>"u"||!window.Plaid)throw new Error("Plaid not loaded");n.plaid=r(zm(zm({},e),{},{onExit:function(f,h){n.open=!1,e.onExit&&e.onExit(f,h),n.onExitCallback&&n.onExitCallback()}}));var i=function(){n.plaid&&(n.open=!0,n.onExitCallback=null,n.plaid.open())},a=function(f){n.plaid&&n.plaid.submit(f)},s=function(f,h){if(!n.open||!n.plaid){h&&h();return}n.onExitCallback=h,n.plaid.exit(f),f&&f.force&&(n.open=!1)},u=function(){n.plaid&&(n.plaid.destroy(),n.plaid=null)};return{open:i,submit:a,exit:s,destroy:u}},Koe=function(e,r){var n=Woe(e,"publicKey","key");return Hoe(n,r)},Goe="https://cdn.plaid.com/link/v2/stable/link-initialize.js",A2=function(){},Yoe=function(e){var r=zoe({src:Goe,checkForExisting:!0}),n=yu(r,2),i=n[0],a=n[1],s=K.useState(null),u=yu(s,2),c=u[0],f=u[1],h=K.useState(!1),m=yu(h,2),y=m[0],b=m[1],x=(e.product||[]).slice().sort().join(",");K.useEffect(function(){if(!i&&!(!e.token&&!e.publicKey&&!e.receivedRedirectUri)){if(a||!window.Plaid){console.error("Error loading Plaid",a);return}c?.exit({force:!0},function(){return c.destroy()});var O=Koe(zm(zm({},e),{},{onLoad:function(){b(!0),e.onLoad&&e.onLoad()}}),window.Plaid.create);return f(O),function(){return O.exit({force:!0},function(){return O.destroy()})}}},[i,a,e.publicKey,e.token,x]);var E=c!=null&&(!i||y),w=function(){e.token||console.warn("react-plaid-link: You cannot call open() without a valid token supplied to usePlaidLink. This is a no-op.")};return{error:a,ready:E,submit:c?c.submit:A2,exit:c?c.exit:A2,open:c?c.open:w}},P2;(function(t){t.OPEN="OPEN",t.EXIT="EXIT",t.HANDOFF="HANDOFF",t.SELECT_INSTITUTION="SELECT_INSTITUTION",t.ERROR="ERROR",t.BANK_INCOME_INSIGHTS_COMPLETED="BANK_INCOME_INSIGHTS_COMPLETED",t.IDENTITY_VERIFICATION_PASS_SESSION="IDENTITY_VERIFICATION_PASS_SESSION",t.IDENTITY_VERIFICATION_FAIL_SESSION="IDENTITY_VERIFICATION_FAIL_SESSION"})(P2||(P2={}));/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xoe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),RF=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Qoe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Joe=K.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:s,...u},c)=>K.createElement("svg",{ref:c,...Qoe,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:RF("lucide",i),...u},[...s.map(([f,h])=>K.createElement(f,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=(t,e)=>{const r=K.forwardRef(({className:n,...i},a)=>K.createElement(Joe,{ref:a,iconNode:e,className:RF(`lucide-${Xoe(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zoe=_t("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ese=_t("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tse=_t("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rse=_t("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jF=_t("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nse=_t("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ise=_t("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ase=_t("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DF=_t("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=_t("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MF=_t("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wf=_t("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=_t("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ose=_t("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sse=_t("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lse=_t("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const use=_t("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cse=_t("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=_t("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fse=_t("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dse=_t("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hse=_t("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=_t("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pse=_t("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mse=_t("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=_t("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gse=_t("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yse=_t("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xg=_t("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LF=_t("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),vse=({setUserId:t})=>{const[e,r]=K.useState(!0),[n,i]=K.useState(""),[a,s]=K.useState(""),[u,c]=K.useState(""),[f,h]=K.useState(!1),m=ED(),y=async b=>{b.preventDefault(),c(""),h(!0);try{e?await AU(m,n,a):await TU(m,n,a)}catch(x){c(x.message)}finally{h(!1)}};return v.jsx("div",{className:"min-h-screen bg-slate-100 dark:bg-slate-900 flex flex-col justify-center items-center p-4",children:v.jsxs("div",{className:"w-full max-w-md",children:[v.jsxs("div",{className:"text-center mb-8",children:[v.jsx(wf,{className:"mx-auto h-12 w-auto text-cyan-500"}),v.jsx("h2",{className:"mt-6 text-3xl font-bold tracking-tight text-slate-900 dark:text-white",children:e?"Sign in to your account":"Create a new account"})]}),v.jsxs("div",{className:"bg-white dark:bg-slate-800 shadow-xl rounded-2xl p-8",children:[v.jsxs("form",{className:"space-y-6",onSubmit:y,children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Email address"}),v.jsx("div",{className:"mt-1",children:v.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:b=>i(b.target.value),className:"block w-full appearance-none rounded-md border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 px-3 py-2 placeholder-slate-400 dark:placeholder-slate-500 shadow-sm focus:border-cyan-500 focus:outline-none focus:ring-cyan-500 sm:text-sm"})})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Password"}),v.jsx("div",{className:"mt-1",children:v.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:a,onChange:b=>s(b.target.value),className:"block w-full appearance-none rounded-md border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 px-3 py-2 placeholder-slate-400 dark:placeholder-slate-500 shadow-sm focus:border-cyan-500 focus:outline-none focus:ring-cyan-500 sm:text-sm"})})]}),u&&v.jsx("div",{className:"rounded-md bg-red-50 p-4",children:v.jsx("p",{className:"text-sm text-red-700",children:u})}),v.jsx("div",{children:v.jsx("button",{type:"submit",disabled:f,className:"flex w-full justify-center rounded-md border border-transparent bg-cyan-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-cyan-700 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2 disabled:bg-slate-400",children:f?"Processing...":e?"Sign in":"Create account"})})]}),v.jsx("div",{className:"mt-6",children:v.jsxs("p",{className:"text-center text-sm text-slate-500 dark:text-slate-400",children:[e?"Don't have an account?":"Already have an account?",v.jsx("button",{onClick:()=>r(!e),className:"font-medium text-cyan-600 hover:text-cyan-500 ml-1",children:e?"Sign up":"Sign in"})]})})]})]})})},ta=({title:t,value:e,icon:r,color:n,subtext:i})=>v.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl border border-slate-200 dark:border-slate-700 shadow-lg flex flex-col justify-between",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("h3",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:t}),v.jsx("div",{className:`text-${n}-500 dark:text-${n}-400`,children:r})]}),v.jsxs("div",{children:[v.jsx("p",{className:"text-3xl font-bold text-slate-800 dark:text-white mt-2",children:e}),i&&v.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500 mt-1",children:i})]})]}),bse={"single-member-llc":20,"s-corp":20,"c-corp":21,partnership:20},_se=({jobs:t,bills:e,weeklyCosts:r,taxPayments:n,openModal:i,handleDelete:a})=>{const[s,u]=K.useState(20),[c,f]=K.useState("single-member-llc"),[h,m]=K.useState("quarterly"),[y,b]=K.useState(!1);K.useEffect(()=>{u(bse[c])},[c]);const x=K.useMemo(()=>{const N=new Date;let $,I;switch(h){case"weekly":$=new Date(N.setDate(N.getDate()-N.getDay())),I=new Date(N.setDate(N.getDate()-N.getDay()+6));break;case"monthly":$=new Date(N.getFullYear(),N.getMonth(),1),I=new Date(N.getFullYear(),N.getMonth()+1,0);break;case"quarterly":const j=Math.floor(N.getMonth()/3);$=new Date(N.getFullYear(),j*3,1),I=new Date(N.getFullYear(),j*3+3,0);break;case"yearly":$=new Date(N.getFullYear(),0,1),I=new Date(N.getFullYear(),11,31);break;default:$=new Date,I=new Date}return{start:$,end:I}},[h]),E=K.useMemo(()=>{const N=t.filter(V=>{if(!V.date)return!1;const D=new Date(V.date);return D>=x.start&&D<=x.end}),$=e.reduce((V,D)=>V+D.amount,0)+r.reduce((V,D)=>V+D.amount,0)*4.33,I=(x.end-x.start)/(1e3*60*60*24*30.44),j=$*I,A=N.reduce((V,D)=>V+(D.revenue||0),0),P=N.reduce((V,D)=>V+(D.materialCost||0)+(D.laborCost||0),0),R=A-P,F=R-j,M=F>0?F*(s/100):0;return{netProfit:F,estimatedTax:M,grossProfit:R,periodOperatingExpenses:j}},[t,e,r,s,x]),w=K.useMemo(()=>n.filter(N=>{const $=new Date(N.date);return $>=x.start&&$<=x.end}).reduce((N,$)=>N+($.amount||0),0),[n,x]),O=E.estimatedTax-w,C=[{name:"Tax Liability","Estimated Tax":E.estimatedTax,"Taxes Paid":w}];return v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[v.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Tax Estimation"}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 items-end",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"filingStatus",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Filing Status"}),v.jsxs("select",{id:"filingStatus",value:c,onChange:N=>f(N.target.value),className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",children:[v.jsx("option",{value:"single-member-llc",children:"Single-Member LLC"}),v.jsx("option",{value:"s-corp",children:"S-Corporation"}),v.jsx("option",{value:"c-corp",children:"C-Corporation"}),v.jsx("option",{value:"partnership",children:"Partnership"})]}),(c==="llc"||c==="single-member-llc")&&v.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"LLC tax rates vary. Consult a tax professional."})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"taxRate",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Estimated Tax Rate (%)"}),v.jsx("input",{id:"taxRate",type:"number",value:s,onChange:N=>u(parseFloat(N.target.value)||0),className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Estimation Period"}),v.jsxs("div",{className:"flex items-center gap-1 bg-slate-100 dark:bg-slate-700 rounded-md p-1",children:[v.jsx("button",{onClick:()=>m("weekly"),className:`w-full px-2 py-1 text-xs rounded ${h==="weekly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Weekly"}),v.jsx("button",{onClick:()=>m("monthly"),className:`w-full px-2 py-1 text-xs rounded ${h==="monthly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Monthly"}),v.jsx("button",{onClick:()=>m("quarterly"),className:`w-full px-2 py-1 text-xs rounded ${h==="quarterly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Quarterly"}),v.jsx("button",{onClick:()=>m("yearly"),className:`w-full px-2 py-1 text-xs rounded ${h==="yearly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Yearly"})]})]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:[v.jsx(ta,{title:`Estimated ${h} Net Profit`,value:`$${E.netProfit.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:v.jsx(wf,{}),color:"blue"}),v.jsx(ta,{title:"Estimated Tax Liability",value:`$${E.estimatedTax.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:v.jsx(wf,{}),color:"orange",subtext:E.netProfit<=0?"No tax on negative profit":""}),v.jsx(ta,{title:"Overpayment / (Underpayment)",value:`${O<0?"-":""}$${Math.abs(O).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:v.jsx(wf,{}),color:O<0?"green":"red",subtext:O<0?"You have overpaid":"Remaining balance due"})]}),v.jsxs("div",{className:"mt-4",children:[v.jsxs("button",{onClick:()=>b(!y),className:"flex items-center gap-2 text-sm text-slate-500 dark:text-slate-400 hover:underline",children:["Show Calculation Breakdown ",v.jsx(jF,{className:`transition-transform ${y?"rotate-180":""}`,size:16})]}),y&&v.jsxs("div",{className:"mt-2 p-4 bg-slate-100 dark:bg-slate-700/50 rounded-lg text-sm space-y-2 animate-fade-in",children:[v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{children:"Gross Profit (from Jobs):"})," ",v.jsxs("span",{className:"font-mono",children:["$",E.grossProfit.toFixed(2)]})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{children:"- Est. Operating Expenses:"})," ",v.jsxs("span",{className:"font-mono",children:["$",E.periodOperatingExpenses.toFixed(2)]})]}),v.jsx("hr",{className:"border-slate-300 dark:border-slate-600"}),v.jsxs("div",{className:"flex justify-between font-bold",children:[v.jsx("span",{children:"= Estimated Net Profit:"})," ",v.jsxs("span",{className:"font-mono",children:["$",E.netProfit.toFixed(2)]})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsxs("span",{children:["x Tax Rate (",s,"%):"]})," ",v.jsxs("span",{className:"font-mono",children:["$",E.estimatedTax.toFixed(2)]})]})]})]}),E.netProfit<=0&&v.jsxs("div",{className:"mt-4 p-3 bg-blue-100 dark:bg-blue-900/50 border border-blue-400 dark:border-blue-700 text-blue-800 dark:text-blue-200 rounded-lg flex items-center gap-3",children:[v.jsx(ose,{size:20}),v.jsx("p",{className:"text-sm",children:"Your estimated tax is $0.00 because your estimated net profit is negative. The tax rate will apply once your profit is positive."})]}),v.jsxs("div",{className:"mt-6",children:[v.jsx("h4",{className:"text-lg font-bold text-slate-800 dark:text-white mb-2",children:"Liability vs. Payments"}),v.jsx(Eg,{width:"100%",height:200,children:v.jsxs(CF,{data:C,layout:"vertical",margin:{top:5,right:20,left:20,bottom:5},children:[v.jsx(Gg,{strokeDasharray:"3 3"}),v.jsx(ml,{type:"number"}),v.jsx(gl,{type:"category",dataKey:"name",hide:!0}),v.jsx(Vn,{formatter:N=>`$${N.toLocaleString()}`}),v.jsx(Ka,{}),v.jsx(ma,{dataKey:"Estimated Tax",fill:"#f97316"}),v.jsx(ma,{dataKey:"Taxes Paid",fill:"#16a34a"})]})})]})]}),v.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Recorded Tax Payments"}),v.jsxs("button",{onClick:()=>i("taxPayment"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[v.jsx(Li,{size:16})," Record Payment"]})]}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full text-left",children:[v.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:v.jsxs("tr",{children:[v.jsx("th",{className:"p-3",children:"Date"}),v.jsx("th",{className:"p-3",children:"Notes"}),v.jsx("th",{className:"p-3 text-right",children:"Amount"}),v.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),v.jsx("tbody",{className:"text-sm",children:n.map(N=>v.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50",children:[v.jsx("td",{className:"p-3 font-medium",children:N.date}),v.jsx("td",{className:"p-3",children:N.notes}),v.jsxs("td",{className:"p-3 text-right font-mono",children:["$",(N.amount||0).toFixed(2)]}),v.jsxs("td",{className:"p-3 text-center",children:[v.jsx("button",{onClick:()=>i("taxPayment",N),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:v.jsx(Zo,{size:16})}),v.jsx("button",{onClick:()=>a("taxPayment",N.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:v.jsx(Vi,{size:16})})]})]},N.id))})]})})]})]})},xse=({jobs:t,tasks:e,openModal:r})=>{const[n,i]=K.useState(new Date),a=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],s=["January","February","March","April","May","June","July","August","September","October","November","December"],u=new Date(n.getFullYear(),n.getMonth(),1),c=new Date(n.getFullYear(),n.getMonth()+1,0),f=u.getDay(),h=c.getDate(),m=[];for(let E=0;E<f;E++)m.push(null);for(let E=1;E<=h;E++)m.push(new Date(n.getFullYear(),n.getMonth(),E));const y=K.useMemo(()=>{const E={};return t.forEach(w=>{const O=new Date(w.date).toISOString().split("T")[0];E[O]||(E[O]=[]),E[O].push({...w,type:"job"})}),e.forEach(w=>{const O=new Date(w.date).toISOString().split("T")[0];E[O]||(E[O]=[]),E[O].push({...w,type:"task"})}),E},[t,e]),b=()=>{i(new Date(n.getFullYear(),n.getMonth()-1,1))},x=()=>{i(new Date(n.getFullYear(),n.getMonth()+1,1))};return v.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("button",{onClick:b,className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:v.jsx(nse,{})}),v.jsxs("h2",{className:"text-xl font-bold",children:[s[n.getMonth()]," ",n.getFullYear()]}),v.jsx("button",{onClick:x,className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:v.jsx(ise,{})})]}),v.jsxs("div",{className:"flex justify-end gap-2 mb-4",children:[v.jsxs("button",{onClick:()=>r("task"),className:"flex items-center gap-2 text-sm bg-amber-500 hover:bg-amber-400 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[v.jsx(Li,{size:16})," Add Task"]}),v.jsxs("button",{onClick:()=>r("job"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[v.jsx(Li,{size:16})," Add Job"]})]}),v.jsxs("div",{className:"grid grid-cols-7 gap-1 text-center",children:[a.map(E=>v.jsx("div",{className:"font-bold text-sm text-slate-500 dark:text-slate-400 py-2",children:E},E)),m.map((E,w)=>v.jsxs("div",{className:`h-32 border border-slate-200 dark:border-slate-700 rounded-md p-1 overflow-y-auto ${E?"cursor-pointer":"bg-slate-50 dark:bg-slate-800/50"}`,onClick:()=>E&&r("task",{date:E.toISOString().split("T")[0]}),children:[E&&v.jsx("span",{className:"text-xs font-semibold",children:E.getDate()}),E&&y[E.toISOString().split("T")[0]]?.map(O=>v.jsx("div",{onClick:C=>{C.stopPropagation(),r(O.type,O)},className:`text-xs rounded p-1 mt-1 hover:opacity-80 ${O.type==="job"?"bg-cyan-100 dark:bg-cyan-900/50 text-cyan-800 dark:text-cyan-200":"bg-amber-100 dark:bg-amber-900/50 text-amber-800 dark:text-amber-200"}`,children:O.name||O.title},O.id))]},w))]})]})},wse=({children:t,onClose:e})=>v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4 animate-fade-in",children:v.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-lg m-4 relative border dark:border-slate-700",children:[v.jsx("button",{onClick:e,className:"absolute top-3 right-3 text-slate-400 hover:text-slate-800 dark:hover:text-white transition-colors",children:v.jsx(LF,{size:24})}),v.jsx("div",{className:"p-6",children:t})]})}),Ese=["Software","Fuel","Vehicle","Insurance","Marketing","Supplies","Overhead","Payroll","Taxes","Utilities","General"],Sse=({item:t,type:e,onSave:r,onClose:n,debts:i,clients:a,vehicles:s})=>{const[u,c]=K.useState({}),[f,h]=K.useState(null),[m,y]=K.useState(!1);K.useEffect(()=>{const O={bill:{name:"",amount:0,dueDay:1,isAutoPay:!1,category:"General",notes:"",attachmentURL:null,isRecurring:!1,vehicleId:""},debt:{name:"",totalAmount:0,paidAmount:0,interestRate:0,notes:""},income:{name:"",amount:0,type:"monthly",notes:"",isRecurring:!1},weekly:{name:"",amount:0,notes:""},job:{name:"",revenue:0,materialCost:0,laborCost:0,notes:"",date:new Date().toISOString().split("T")[0],clientId:""},task:{title:"",date:new Date().toISOString().split("T")[0],notes:"",isComplete:!1},invoice:{billTo:"",customer:"",jobNo:"",completedOn:"",invNum:"",terms:"",net:0,dueDate:"",status:"",grandTotal:0},taxPayment:{date:new Date().toISOString().split("T")[0],amount:0,notes:""},goal:{name:"",type:"revenue",targetValue:5e4,deadline:"",targetId:""},client:{name:"",address:"",phone:"",email:"",parentId:""},inventory:{name:"",quantity:0,cost:0},vehicle:{name:"",make:"",model:"",year:"",vin:"",licensePlate:"",currentMileage:0},maintenanceLog:{date:new Date().toISOString().split("T")[0],mileage:"",workPerformed:"",cost:0,notes:"",vehicleId:t?.vehicleId||""}};c(t||O[e])},[t,e]);const b=O=>{const{name:C,value:N,type:$,checked:I}=O.target;c(j=>({...j,[C]:$==="checkbox"?I:$==="number"?parseFloat(N)||0:N}))},x=O=>{O.target.files[0]&&h(O.target.files[0])},E=async O=>{O.preventDefault(),y(!0),await r(u,f),y(!1)},w=()=>{const O=a.filter(C=>!C.parentId);switch(e){case"bill":return v.jsxs(v.Fragment,{children:[" ",v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Bill Name"}),v.jsx("input",{type:"text",name:"name",value:u.name||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]})," ",v.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Amount"}),v.jsx("input",{type:"number",name:"amount",value:u.amount||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Due Day"}),v.jsx("input",{type:"number",name:"dueDay",min:"1",max:"31",value:u.dueDay||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]})]})," ",v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Category"}),v.jsx("input",{list:"bill-categories",type:"text",name:"category",value:u.category||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"}),v.jsx("datalist",{id:"bill-categories",children:Ese.map(C=>v.jsx("option",{value:C},C))})]})," ",u.category==="Vehicle"&&v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Assign to Vehicle"}),v.jsxs("select",{name:"vehicleId",value:u.vehicleId||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",children:[v.jsx("option",{value:"",children:"-- Select Vehicle --"}),s.map(C=>v.jsx("option",{value:C.id,children:C.name},C.id))]})]})," ",v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Notes"}),v.jsx("textarea",{name:"notes",value:u.notes||"",onChange:b,rows:"2",className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Attach Receipt (Optional)"}),v.jsx("input",{type:"file",onChange:x,className:"w-full text-sm text-slate-500 dark:text-slate-400 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-cyan-50 file:text-cyan-700 hover:file:bg-cyan-100"})]})," ",v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx("input",{type:"checkbox",id:"isAutoPay",name:"isAutoPay",checked:u.isAutoPay||!1,onChange:b,className:"h-4 w-4 rounded"}),v.jsx("label",{htmlFor:"isAutoPay",className:"ml-2 text-sm text-slate-600 dark:text-slate-300",children:"Enabled for Autopay"})]}),v.jsxs("div",{className:"flex items-center",children:[v.jsx("input",{type:"checkbox",id:"isRecurring",name:"isRecurring",checked:u.isRecurring||!1,onChange:b,className:"h-4 w-4 rounded"}),v.jsx("label",{htmlFor:"isRecurring",className:"ml-2 text-sm text-slate-600 dark:text-slate-300",children:"Is Recurring?"})]})]})," "]});case"invoice":return v.jsxs(v.Fragment,{children:[" ",v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Bill To"}),v.jsx("input",{type:"text",name:"billTo",value:u.billTo||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})," ",v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Customer"}),v.jsx("input",{type:"text",name:"customer",value:u.customer||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})," ",v.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Grand Total"}),v.jsx("input",{type:"number",name:"grandTotal",value:u.grandTotal||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Status"}),v.jsx("input",{type:"text",name:"status",value:u.status||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]})]});case"taxPayment":return v.jsxs(v.Fragment,{children:[" ",v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Payment Date"}),v.jsx("input",{type:"date",name:"date",value:u.date||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Amount Paid"}),v.jsx("input",{type:"number",name:"amount",value:u.amount||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Notes (e.g., Q2 Federal)"}),v.jsx("textarea",{name:"notes",value:u.notes||"",onChange:b,rows:"3",className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]});case"debt":return v.jsxs(v.Fragment,{children:[" ",v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Debt Name"}),v.jsx("input",{type:"text",name:"name",value:u.name||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]})," ",v.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Total Amount"}),v.jsx("input",{type:"number",name:"totalAmount",value:u.totalAmount||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Paid Amount"}),v.jsx("input",{type:"number",name:"paidAmount",value:u.paidAmount||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Interest Rate (%)"}),v.jsx("input",{type:"number",name:"interestRate",value:u.interestRate||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Notes"}),v.jsx("textarea",{name:"notes",value:u.notes||"",onChange:b,rows:"3",className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]});case"income":return v.jsxs(v.Fragment,{children:[" ",v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Income Source"}),v.jsx("input",{type:"text",name:"name",value:u.name||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Amount"}),v.jsx("input",{type:"number",name:"amount",value:u.amount||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Notes"}),v.jsx("textarea",{name:"notes",value:u.notes||"",onChange:b,rows:"3",className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),v.jsxs("div",{className:"flex items-center",children:[v.jsx("input",{type:"checkbox",id:"isRecurring",name:"isRecurring",checked:u.isRecurring||!1,onChange:b,className:"h-4 w-4 rounded"}),v.jsx("label",{htmlFor:"isRecurring",className:"ml-2 text-sm text-slate-600 dark:text-slate-300",children:"Is Recurring?"})]})]});case"weekly":return v.jsxs(v.Fragment,{children:[" ",v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Cost Name"}),v.jsx("input",{type:"text",name:"name",value:u.name||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Weekly Amount"}),v.jsx("input",{type:"number",name:"amount",value:u.amount||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Notes"}),v.jsx("textarea",{name:"notes",value:u.notes||"",onChange:b,rows:"3",className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]});case"job":return v.jsxs(v.Fragment,{children:[" ",v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Job Name/Client"}),v.jsx("input",{type:"text",name:"name",value:u.name||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Link to Client Location"}),v.jsx("select",{name:"clientId",value:u.clientId||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",children:O.map(C=>v.jsx("optgroup",{label:C.name,children:a.filter(N=>N.parentId===C.id||N.id===C.id).map(N=>v.jsx("option",{value:N.id,children:N.name},N.id))},C.id))})]})," ",v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Job Date"}),v.jsx("input",{type:"date",name:"date",value:u.date||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})," ",v.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Revenue"}),v.jsx("input",{type:"number",name:"revenue",value:u.revenue||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Material Cost"}),v.jsx("input",{type:"number",name:"materialCost",value:u.materialCost||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Labor Cost"}),v.jsx("input",{type:"number",name:"laborCost",value:u.laborCost||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Notes"}),v.jsx("textarea",{name:"notes",value:u.notes||"",onChange:b,rows:"3",className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]});case"task":return v.jsxs(v.Fragment,{children:[" ",v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Task Title"}),v.jsx("input",{type:"text",name:"title",value:u.title||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Date"}),v.jsx("input",{type:"date",name:"date",value:u.date||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Notes"}),v.jsx("textarea",{name:"notes",value:u.notes||"",onChange:b,rows:"3",className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),v.jsxs("div",{className:"flex items-center",children:[v.jsx("input",{type:"checkbox",id:"isComplete",name:"isComplete",checked:u.isComplete||!1,onChange:b,className:"h-4 w-4 rounded"}),v.jsx("label",{htmlFor:"isComplete",className:"ml-2 text-sm text-slate-600 dark:text-slate-300",children:"Is Complete?"})]})]});case"goal":return v.jsxs(v.Fragment,{children:[" ",v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Goal Name"}),v.jsx("input",{type:"text",name:"name",value:u.name||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]})," ",v.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Goal Type"}),v.jsxs("select",{name:"type",value:u.type||"revenue",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",children:[v.jsx("option",{value:"revenue",children:"Revenue"}),v.jsx("option",{value:"debt",children:"Debt Payoff"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Deadline"}),v.jsx("input",{type:"date",name:"deadline",value:u.deadline||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]})," ",u.type==="revenue"&&v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Target Revenue ($)"}),v.jsx("input",{type:"number",name:"targetValue",value:u.targetValue||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})," ",u.type==="debt"&&v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Select Debt to Pay Off"}),v.jsxs("select",{name:"targetId",value:u.targetId||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",children:[v.jsx("option",{value:"",children:"-- Select a Debt --"}),i.map(C=>v.jsx("option",{value:C.id,children:C.name},C.id))]})]})," "]});case"client":return v.jsxs(v.Fragment,{children:[" ",v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Client/Location Name"}),v.jsx("input",{type:"text",name:"name",value:u.name||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Parent Account (Optional)"}),v.jsxs("select",{name:"parentId",value:u.parentId||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",children:[v.jsx("option",{value:"",children:"-- None (Is a Parent Account) --"}),O.map(C=>v.jsx("option",{value:C.id,children:C.name},C.id))]})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Address"}),v.jsx("input",{type:"text",name:"address",value:u.address||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Phone Number"}),v.jsx("input",{type:"tel",name:"phone",value:u.phone||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Email"}),v.jsx("input",{type:"email",name:"email",value:u.email||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]})," "]});case"inventory":return v.jsxs(v.Fragment,{children:[" ",v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Item Name"}),v.jsx("input",{type:"text",name:"name",value:u.name||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Quantity"}),v.jsx("input",{type:"number",name:"quantity",value:u.quantity||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Cost per Item"}),v.jsx("input",{type:"number",name:"cost",value:u.cost||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]})," "]});case"vehicle":return v.jsxs(v.Fragment,{children:[" ",v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Vehicle Name"}),v.jsx("input",{type:"text",name:"name",value:u.name||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Year"}),v.jsx("input",{type:"text",name:"year",value:u.year||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Model"}),v.jsx("input",{type:"text",name:"model",value:u.model||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"VIN #"}),v.jsx("input",{type:"text",name:"vin",value:u.vin||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"License Plate"}),v.jsx("input",{type:"text",name:"licensePlate",value:u.licensePlate||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]})," "]});case"maintenanceLog":return v.jsxs(v.Fragment,{children:[" ",v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Date"}),v.jsx("input",{type:"date",name:"date",value:u.date||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]})," ",v.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Mileage"}),v.jsx("input",{type:"number",name:"mileage",value:u.mileage||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Cost"}),v.jsx("input",{type:"number",name:"cost",value:u.cost||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]})," ",v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Work Performed"}),v.jsx("textarea",{name:"workPerformed",value:u.workPerformed||"",onChange:b,rows:"3",className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})," "]});default:return v.jsx("p",{children:"This form is not yet implemented."})}};return v.jsx(wse,{onClose:n,children:v.jsxs("form",{onSubmit:E,children:[v.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:[t?"Edit":"Add"," ",e.charAt(0).toUpperCase()+e.slice(1)]}),w(),v.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[v.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 rounded-md bg-slate-200 dark:bg-slate-600 text-slate-800 dark:text-white",children:"Cancel"}),v.jsx("button",{type:"submit",disabled:m,className:"px-4 py-2 rounded-md bg-cyan-600 flex items-center gap-2 disabled:bg-slate-500 text-white",children:m?"Saving...":v.jsxs(v.Fragment,{children:[v.jsx(hse,{size:16})," Save"]})})]})]})})},Tse=({invoices:t,openModal:e,handleDelete:r,handleBulkDelete:n,searchTerm:i,setSearchTerm:a,selectedIds:s,setSelectedIds:u,handleImportCSV:c,handleExportCSV:f,handleToggleInvoicePaid:h})=>{const m=[{key:"status",header:"Status",render:x=>v.jsx("button",{onClick:()=>h(x.id,x.status),children:x.status==="Paid"?v.jsx(DF,{className:"text-green-500"}):v.jsx(MF,{className:"text-slate-400 dark:text-slate-600"})})},{key:"billTo",header:"Bill To",render:x=>v.jsx("span",{className:`font-medium ${x.status==="Paid"?"line-through":""}`,children:x.billTo})},{key:"customer",header:"Customer",render:x=>v.jsx("span",{className:x.status==="Paid"?"line-through":"",children:x.customer})},{key:"grandTotal",header:"Amount",className:"text-right",render:x=>v.jsxs("span",{className:`font-mono ${x.status==="Paid"?"line-through":""}`,children:["$",(x.grandTotal||0).toFixed(2)]})},{key:"dueDate",header:"Due Date",className:"text-center",render:x=>v.jsx("span",{className:x.status==="Paid"?"line-through":"",children:x.dueDate})}],y=K.useMemo(()=>t.filter(x=>(x.customer||"").toLowerCase().includes(i.toLowerCase())||(x.billTo||"").toLowerCase().includes(i.toLowerCase())),[t,i]),b=x=>{x.target.checked?u(y.map(E=>E.id)):u([])};return v.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Invoice Management"}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("input",{type:"text",placeholder:"Search Invoices...",value:i,onChange:x=>a(x.target.value),className:"w-full md:w-auto bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white"}),s.length>0&&v.jsxs("button",{onClick:()=>n("invoice",s),className:"flex items-center gap-2 text-sm bg-red-600 hover:bg-red-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[v.jsx(Vi,{size:16})," Delete (",s.length,")"]}),v.jsx("input",{type:"file",id:"csv-importer-invoice",className:"hidden",accept:".csv",onChange:x=>c(x.target.files[0],"invoice")}),v.jsxs("label",{htmlFor:"csv-importer-invoice",className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[v.jsx(Xg,{size:16})," Import CSV"]}),v.jsxs("button",{onClick:()=>f(t,"invoices"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[v.jsx(pd,{size:16})," Export to CSV"]}),v.jsxs("button",{onClick:()=>e("invoice"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[v.jsx(Li,{size:16})," Add New"]})]})]}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full text-left",children:[v.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:v.jsxs("tr",{children:[v.jsx("th",{className:"p-3",children:v.jsx("input",{type:"checkbox",onChange:b})}),m.map(x=>v.jsx("th",{className:`p-3 ${x.className||""}`,children:x.header},x.key)),v.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),v.jsx("tbody",{className:"text-sm",children:y.map(x=>v.jsxs("tr",{className:`border-b border-slate-200 dark:border-slate-700/50 ${x.status==="Paid"?"text-slate-400 dark:text-slate-500":"text-slate-700 dark:text-slate-200"}`,children:[v.jsx("td",{className:"p-3",children:v.jsx("input",{type:"checkbox",checked:s.includes(x.id),onChange:()=>{u(E=>E.includes(x.id)?E.filter(w=>w!==x.id):[...E,x.id])}})}),m.map(E=>v.jsx("td",{className:`p-3 ${E.className||""}`,children:E.render(x)},E.key)),v.jsxs("td",{className:"p-3 text-center",children:[v.jsx("button",{onClick:()=>e("invoice",x),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:v.jsx(Zo,{size:16})}),v.jsx("button",{onClick:()=>r("invoice",x.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:v.jsx(Vi,{size:16})})]})]},x.id))})]})})]})},Ase=({clients:t,openModal:e,handleDelete:r,handleBulkDelete:n,searchTerm:i,setSearchTerm:a,selectedIds:s,setSelectedIds:u,handleImportCSV:c,handleExportCSV:f})=>{const h=[{key:"name",header:"Name",render:b=>v.jsx("span",{className:"font-medium",children:b.name})},{key:"address",header:"Address",render:b=>v.jsx("span",{children:b.address})},{key:"phone",header:"Phone",render:b=>v.jsx("span",{children:b.phone})},{key:"email",header:"Email",render:b=>v.jsx("span",{children:b.email})}],m=K.useMemo(()=>t.filter(b=>(b.name||"").toLowerCase().includes(i.toLowerCase())||(b.address||"").toLowerCase().includes(i.toLowerCase())),[t,i]),y=b=>{b.target.checked?u(m.map(x=>x.id)):u([])};return v.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Client Management"}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("input",{type:"text",placeholder:"Search Clients...",value:i,onChange:b=>a(b.target.value),className:"w-full md:w-auto bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white"}),s.length>0&&v.jsxs("button",{onClick:()=>n("client",s),className:"flex items-center gap-2 text-sm bg-red-600 hover:bg-red-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[v.jsx(Vi,{size:16})," Delete (",s.length,")"]}),v.jsx("input",{type:"file",id:"csv-importer-client",className:"hidden",accept:".csv",onChange:b=>c(b.target.files[0],"client")}),v.jsxs("label",{htmlFor:"csv-importer-client",className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[v.jsx(Xg,{size:16})," Import CSV"]}),v.jsxs("button",{onClick:()=>f(t,"clients"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[v.jsx(pd,{size:16})," Export to CSV"]}),v.jsxs("button",{onClick:()=>e("client"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[v.jsx(Li,{size:16})," Add New"]})]})]}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full text-left",children:[v.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:v.jsxs("tr",{children:[v.jsx("th",{className:"p-3",children:v.jsx("input",{type:"checkbox",onChange:y})}),h.map(b=>v.jsx("th",{className:`p-3 ${b.className||""}`,children:b.header},b.key)),v.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),v.jsx("tbody",{className:"text-sm",children:m.map(b=>v.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 text-slate-700 dark:text-slate-200",children:[v.jsx("td",{className:"p-3",children:v.jsx("input",{type:"checkbox",checked:s.includes(b.id),onChange:()=>{u(x=>x.includes(b.id)?x.filter(E=>E!==b.id):[...x,b.id])}})}),h.map(x=>v.jsx("td",{className:`p-3 ${x.className||""}`,children:x.render(b)},x.key)),v.jsxs("td",{className:"p-3 text-center",children:[v.jsx("button",{onClick:()=>e("client",b),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:v.jsx(Zo,{size:16})}),v.jsx("button",{onClick:()=>r("client",b.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:v.jsx(Vi,{size:16})})]})]},b.id))})]})})]})},Pse=({vehicles:t,maintenanceLogs:e,openModal:r,handleDelete:n,searchTerm:i,setSearchTerm:a})=>{const[s,u]=K.useState(null),c=h=>{u(m=>m===h?null:h)},f=K.useMemo(()=>t.filter(h=>(h.name||"").toLowerCase().includes(i.toLowerCase())||(h.model||"").toLowerCase().includes(i.toLowerCase())),[t,i]);return v.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Vehicle Management"}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("input",{type:"text",placeholder:"Search Vehicles...",value:i,onChange:h=>a(h.target.value),className:"w-full md:w-auto bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white"}),v.jsxs("button",{onClick:()=>r("vehicle"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[v.jsx(Li,{size:16})," Add New Vehicle"]})]})]}),v.jsx("div",{className:"space-y-2",children:f.map(h=>v.jsxs("div",{children:[v.jsxs("div",{onClick:()=>c(h.id),className:"bg-slate-100 dark:bg-slate-700/50 p-4 rounded-lg flex justify-between items-center cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-700",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx(rse,{size:24,className:"text-cyan-500"}),v.jsxs("div",{children:[v.jsx("p",{className:"font-bold",children:h.name}),v.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[h.year," ",h.make," ",h.model]})]})]}),v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsxs("div",{className:"text-right",children:[v.jsxs("p",{className:"font-mono text-orange-600 dark:text-orange-400",children:["$",e.filter(m=>m.vehicleId===h.id).reduce((m,y)=>m+y.cost,0).toFixed(2)]}),v.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Total Expenses"})]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:m=>{m.stopPropagation(),r("vehicle",h)},className:"p-1 text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400",children:v.jsx(Zo,{size:16})}),v.jsx("button",{onClick:m=>{m.stopPropagation(),n("vehicle",h.id)},className:"p-1 text-slate-500 dark:text-slate-400 hover:text-red-500",children:v.jsx(Vi,{size:16})})]}),s===h.id?v.jsx(ase,{}):v.jsx(jF,{})]})]}),s===h.id&&v.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 rounded-b-lg border-t-2 border-slate-200 dark:border-slate-700",children:[v.jsxs("div",{className:"flex justify-between items-center mb-3",children:[v.jsx("h4",{className:"font-bold",children:"Maintenance Log"}),v.jsxs("button",{onClick:()=>r("maintenanceLog",{vehicleId:h.id}),className:"flex items-center gap-2 text-xs bg-green-600 hover:bg-green-500 text-white font-semibold px-2 py-1 rounded-md",children:[v.jsx(Li,{size:14})," Add Log Entry"]})]}),v.jsxs("table",{className:"w-full text-left text-sm",children:[v.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase",children:v.jsxs("tr",{children:[v.jsx("th",{className:"p-2",children:"Date"}),v.jsx("th",{className:"p-2",children:"Mileage"}),v.jsx("th",{className:"p-2",children:"Work Performed"}),v.jsx("th",{className:"p-2 text-right",children:"Cost"}),v.jsx("th",{className:"p-2 text-center",children:"Actions"})]})}),v.jsx("tbody",{children:e.filter(m=>m.vehicleId===h.id).sort((m,y)=>new Date(y.date)-new Date(m.date)).map(m=>v.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50",children:[v.jsx("td",{className:"p-2",children:m.date}),v.jsx("td",{className:"p-2",children:m.mileage?.toLocaleString()||"N/A"}),v.jsx("td",{className:"p-2",children:m.workPerformed}),v.jsxs("td",{className:"p-2 text-right font-mono",children:["$",m.cost.toFixed(2)]}),v.jsxs("td",{className:"p-2 text-center",children:[v.jsx("button",{onClick:()=>r("maintenanceLog",m),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:v.jsx(Zo,{size:14})}),v.jsx("button",{onClick:()=>n("maintenanceLog",m.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:v.jsx(Vi,{size:14})})]})]},m.id))})]})]})]},h.id))})]})},kse=({inventory:t,openModal:e,handleDelete:r,handleBulkDelete:n,searchTerm:i,setSearchTerm:a,selectedIds:s,setSelectedIds:u,handleImportCSV:c,handleExportCSV:f})=>{const h=[{key:"name",header:"Item Name",render:b=>v.jsx("span",{className:"font-medium",children:b.name})},{key:"quantity",header:"Quantity on Hand",className:"text-center",render:b=>v.jsx("span",{children:b.quantity})},{key:"cost",header:"Cost per Item",className:"text-right",render:b=>v.jsxs("span",{className:"font-mono",children:["$",(b.cost||0).toFixed(2)]})}],m=K.useMemo(()=>t.filter(b=>(b.name||"").toLowerCase().includes(i.toLowerCase())),[t,i]),y=b=>{b.target.checked?u(m.map(x=>x.id)):u([])};return v.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Inventory Management"}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("input",{type:"text",placeholder:"Search Inventory...",value:i,onChange:b=>a(b.target.value),className:"w-full md:w-auto bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white"}),s.length>0&&v.jsxs("button",{onClick:()=>n("inventory",s),className:"flex items-center gap-2 text-sm bg-red-600 hover:bg-red-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[v.jsx(Vi,{size:16})," Delete (",s.length,")"]}),v.jsx("input",{type:"file",id:"csv-importer-inventory",className:"hidden",accept:".csv",onChange:b=>c(b.target.files[0],"inventory")}),v.jsxs("label",{htmlFor:"csv-importer-inventory",className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[v.jsx(Xg,{size:16})," Import CSV"]}),v.jsxs("button",{onClick:()=>f(t,"inventory"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[v.jsx(pd,{size:16})," Export to CSV"]}),v.jsxs("button",{onClick:()=>e("inventory"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[v.jsx(Li,{size:16})," Add New"]})]})]}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full text-left",children:[v.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:v.jsxs("tr",{children:[v.jsx("th",{className:"p-3",children:v.jsx("input",{type:"checkbox",onChange:y})}),h.map(b=>v.jsx("th",{className:`p-3 ${b.className||""}`,children:b.header},b.key)),v.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),v.jsx("tbody",{className:"text-sm",children:m.map(b=>v.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 text-slate-700 dark:text-slate-200",children:[v.jsx("td",{className:"p-3",children:v.jsx("input",{type:"checkbox",checked:s.includes(b.id),onChange:()=>{u(x=>x.includes(b.id)?x.filter(E=>E!==b.id):[...x,b.id])}})}),h.map(x=>v.jsx("td",{className:`p-3 ${x.className||""}`,children:x.render(b)},x.key)),v.jsxs("td",{className:"p-3 text-center",children:[v.jsx("button",{onClick:()=>e("inventory",b),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:v.jsx(Zo,{size:16})}),v.jsx("button",{onClick:()=>r("inventory",b.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:v.jsx(Vi,{size:16})})]})]},b.id))})]})})]})},Ise=({clients:t,jobs:e,bills:r,inventory:n})=>{const i=K.useMemo(()=>t.map(u=>{const c=e.filter(m=>m.clientId===u.id),f=c.reduce((m,y)=>m+(y.revenue||0),0),h=c.reduce((m,y)=>m+(y.materialCost||0)+(y.laborCost||0),0);return{name:u.name,netProfit:f-h}}).sort((u,c)=>c.netProfit-u.netProfit),[t,e]),a=K.useMemo(()=>{const u={},c=new Date;return c.setMonth(c.getMonth()-12),e.forEach(f=>{if(f.date&&new Date(f.date)>c){const h=new Date(f.date).toISOString().slice(0,7);u[h]||(u[h]={revenue:0,expenses:0}),u[h].revenue+=f.revenue||0}}),r.forEach(f=>{const h=f.createdAt?.toDate?f.createdAt.toDate():new Date;if(h>c){const m=h.toISOString().slice(0,7);u[m]||(u[m]={revenue:0,expenses:0}),u[m].expenses+=f.amount||0}}),Object.keys(u).map(f=>({month:f,Revenue:u[f].revenue,Expenses:u[f].expenses})).sort((f,h)=>f.month.localeCompare(h.month))},[e,r]),s=K.useMemo(()=>n.map(u=>({name:u.name,totalValue:(u.quantity||0)*(u.cost||0)})).sort((u,c)=>c.totalValue-u.totalValue),[n]);return v.jsxs("div",{className:"space-y-8",children:[v.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[v.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Revenue vs. Expenses Trend (Last 12 Months)"}),v.jsx(Eg,{width:"100%",height:300,children:v.jsxs(CF,{data:a,children:[v.jsx(Gg,{strokeDasharray:"3 3"}),v.jsx(ml,{dataKey:"month",stroke:"#64748b"}),v.jsx(gl,{stroke:"#64748b",tickFormatter:u=>`$${u/1e3}k`}),v.jsx(Vn,{contentStyle:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0"},formatter:u=>`$${u.toLocaleString()}`}),v.jsx(Ka,{}),v.jsx(ma,{dataKey:"Revenue",fill:"#22c55e"}),v.jsx(ma,{dataKey:"Expenses",fill:"#ef4444"})]})})]}),v.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[v.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Client Profitability"}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full text-left",children:[v.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:v.jsxs("tr",{children:[v.jsx("th",{className:"p-3",children:"Client"}),v.jsx("th",{className:"p-3 text-right",children:"Net Profit"})]})}),v.jsx("tbody",{children:i.map(u=>v.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50",children:[v.jsx("td",{className:"p-3 font-medium",children:u.name}),v.jsxs("td",{className:`p-3 text-right font-mono ${u.netProfit>=0?"text-green-600 dark:text-green-400":"text-red-500"}`,children:["$",u.netProfit.toFixed(2)]})]},u.name))})]})})]}),v.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[v.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Inventory Value"}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full text-left",children:[v.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:v.jsxs("tr",{children:[v.jsx("th",{className:"p-3",children:"Item"}),v.jsx("th",{className:"p-3 text-center",children:"Quantity"}),v.jsx("th",{className:"p-3 text-right",children:"Total Value"})]})}),v.jsx("tbody",{children:s.map(u=>v.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50",children:[v.jsx("td",{className:"p-3 font-medium",children:u.name}),v.jsx("td",{className:"p-3 text-center",children:n.find(c=>c.name===u.name)?.quantity}),v.jsxs("td",{className:"p-3 text-right font-mono",children:["$",u.totalValue.toFixed(2)]})]},u.name))})]})})]})]})},Ose=({bills:t,paidStatus:e,onClose:r})=>{const n=K.useMemo(()=>{const i=new Date,a=new Date;return a.setDate(i.getDate()+3),t.filter(s=>{if(e[s.id])return!1;const u=new Date(i.getFullYear(),i.getMonth(),s.dueDay);return u>=i&&u<=a})},[t,e]);return n.length===0?null:v.jsxs("div",{className:"bg-yellow-100 dark:bg-yellow-900/50 border border-yellow-400 dark:border-yellow-700 text-yellow-800 dark:text-yellow-200 px-4 py-3 rounded-lg relative mb-6",role:"alert",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx(tse,{size:20,className:"mr-3"}),v.jsxs("div",{children:[v.jsx("strong",{className:"font-bold",children:"Upcoming Bills!"}),v.jsx("ul",{className:"list-disc list-inside mt-1",children:n.map(i=>v.jsxs("li",{children:[i.name," is due on day ",i.dueDay,"."]},i.id))})]})]}),v.jsx("button",{onClick:r,className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:v.jsx(LF,{size:18})})]})},Cse=({data:t,onSliceClick:e})=>{const[r,n]=K.useState(0),i=K.useCallback((s,u)=>{n(u)},[n]),a=s=>{const{cx:u,cy:c,innerRadius:f,outerRadius:h,startAngle:m,endAngle:y,fill:b,payload:x}=s;return v.jsxs("g",{className:"cursor-pointer",onClick:()=>e(x.name),children:[v.jsx("text",{x:u,y:c,dy:8,textAnchor:"middle",fill:b,className:"font-bold text-lg",children:x.name}),v.jsx(PS,{cx:u,cy:c,innerRadius:f,outerRadius:h,startAngle:m,endAngle:y,fill:b})]})};return v.jsx(Eg,{width:"100%",height:300,children:v.jsxs(Moe,{children:[v.jsx(Vn,{contentStyle:{backgroundColor:"#334155",border:"1px solid #475569",borderRadius:"0.5rem"},labelStyle:{color:"#cbd5e1"},itemStyle:{color:"#f1f5f9"},formatter:s=>`$${s.toFixed(2)}`}),v.jsx(so,{activeIndex:r,activeShape:a,data:t,cx:"50%",cy:"50%",innerRadius:70,outerRadius:90,fill:"#8884d8",dataKey:"value",onMouseEnter:i,onClick:s=>e(s.name),children:t.map((s,u)=>v.jsx(Sg,{fill:s.color},`cell-${u}`))})]})})},Nse=({invoices:t,bills:e,weeklyCosts:r,currentBankBalance:n,setCurrentBankBalance:i})=>{const a=K.useMemo(()=>{const s=[{name:"Next 30 Days",Inflow:0,Outflow:0},{name:"Next 60 Days",Inflow:0,Outflow:0},{name:"Next 90 Days",Inflow:0,Outflow:0}],u=new Date,c=e.filter(f=>f.isRecurring).reduce((f,h)=>f+h.amount,0)+r.reduce((f,h)=>f+h.amount,0)*4.33;return s[0].Outflow=c,s[1].Outflow=c*2,s[2].Outflow=c*3,t.forEach(f=>{if(f.status!=="Paid"&&f.dueDate)try{const h=new Date(f.dueDate);if(isNaN(h.getTime()))return;const m=(h-u)/(1e3*60*60*24);m<=30&&(s[0].Inflow+=f.grandTotal||0),m<=60&&(s[1].Inflow+=f.grandTotal||0),m<=90&&(s[2].Inflow+=f.grandTotal||0)}catch(h){console.error("Error parsing due date for invoice:",f,h)}}),s.map(f=>({...f,"Net Change":f.Inflow-f.Outflow,"Projected Balance":n+f.Inflow-f.Outflow}))},[t,e,r,n]);return v.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[v.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Smarter Cash Flow Forecast"}),v.jsxs("div",{className:"mb-6",children:[v.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-2",children:"Enter Current Bank Balance ($)"}),v.jsx("input",{type:"number",value:n,onChange:s=>i(parseFloat(s.target.value)||0),className:"w-full max-w-xs bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),v.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-4",children:"This forecast projects your future bank balance based on unpaid invoices and recurring expenses."}),v.jsx(Eg,{width:"100%",height:300,children:v.jsxs(Doe,{data:a,children:[v.jsx(Gg,{strokeDasharray:"3 3"}),v.jsx(ml,{dataKey:"name",stroke:"#64748b"}),v.jsx(gl,{stroke:"#64748b",tickFormatter:s=>`$${s/1e3}k`}),v.jsx(Vn,{formatter:s=>`$${s.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`}),v.jsx(Ka,{}),v.jsx(Ws,{type:"monotone",dataKey:"Projected Balance",stroke:"#8884d8",strokeWidth:2,activeDot:{r:8}}),v.jsx(Ws,{type:"monotone",dataKey:"Inflow",stroke:"#22c55e"}),v.jsx(Ws,{type:"monotone",dataKey:"Outflow",stroke:"#ef4444"})]})})]})},Rse={apiKey:"AIzaSyAlev0GFpv3rzRYCJaMALOqlPwaowNfynI",authDomain:"hvac-finance-dashboard.firebaseapp.com",projectId:"hvac-finance-dashboard",storageBucket:"hvac-finance-dashboard.firebasestorage.app",messagingSenderId:"917610618621",appId:"1:917610618621:web:83c621d154c5f62c9be894"},ci="hvac-finance-dashboard",FS=V2(Rse),I2=ED(FS),vt=A9(FS),jse=e8(FS),Dse=[{name:"Adobe",amount:21.19,dueDay:1,isAutoPay:!0,category:"Software",notes:"",attachmentURL:null,isRecurring:!0},{name:"Rent",amount:1600,dueDay:1,isAutoPay:!1,category:"Overhead",notes:"Landlord: John Smith",attachmentURL:null,isRecurring:!0},{name:"GM Financial Black Truck",amount:1307.2,dueDay:6,isAutoPay:!1,category:"Vehicle",notes:"",vehicleId:"1"}],Mse=[{name:"Ondeck Credit",totalAmount:7500,paidAmount:0,interestRate:12.5,notes:""},{name:"Chase Card",totalAmount:33795.27,paidAmount:2200,interestRate:21.99,notes:""}],Lse=[{name:"NEST Early Pay",amount:15e3,type:"monthly",notes:"",isRecurring:!0},{name:"Job Revenue",amount:5e3,type:"monthly",notes:"",isRecurring:!1}],$se=[{name:"Projected Payroll",amount:1800,notes:""},{name:"Fuel & Maintenance",amount:450,notes:""}],Fse=[{name:"Johnson Residence A/C Install",revenue:8500,materialCost:3200,laborCost:1500,notes:"Trane XV20i unit.",date:new Date().toISOString(),clientId:"1"},{name:"Downtown Restaurant PM",revenue:1200,materialCost:150,laborCost:400,notes:"Quarterly maintenance contract.",date:new Date().toISOString(),clientId:"2"}],Vse=[{title:"Follow up with Johnson about quote",date:new Date().toISOString().split("T")[0],notes:"Sent quote last week",isComplete:!1},{title:"Order filters for Downtown Restaurant",date:new Date().toISOString().split("T")[0],notes:"Need 10x 20x25x1 filters",isComplete:!0}],Use=[{billTo:"Badawi",customer:"Southern Algeria #00547",jobNo:"1548875887",completedOn:"6/14/2024",invNum:"",terms:"Net 45",net:1291,dueDate:"6/14/2024",status:"Unpaid",grandTotal:1291}],Bse=[{date:new Date().toISOString().split("T")[0],amount:500,notes:"Q2 Estimated Payment"}],qse=[{name:"Pay off Chase Card",type:"debt",targetId:"Chase Card",targetValue:0,deadline:"2025-12-31"},{name:"Achieve $50k Job Revenue",type:"revenue",targetValue:5e4,deadline:"2025-12-31"}],zse=[{id:"1",name:"John Johnson",address:"123 Main St, Anytown, USA",phone:"555-1234",email:"john@example.com"},{id:"3",name:"Restaurant Group Inc.",address:"789 Corp Blvd, Big City, USA",phone:"555-9999",email:"accounts@restaurantgroup.com"},{id:"2",name:"Downtown Restaurant",address:"456 Oak Ave, Anytown, USA",phone:"555-5678",email:"contact@downtownrestaurant.com",parentId:"3"}],Wse=[{name:"Standard 1-inch Filter",quantity:50,cost:5.5},{name:"Capacitor 45/5 MFD",quantity:15,cost:25}],Hse=[{id:"7",name:"Jason's Truck",make:"FORD",model:"TRANSIT T250",year:"2020",vin:"1FTBR1C84LKA59065",licensePlate:"DD16326",currentMileage:104071},{id:"8",name:"Red Van",make:"FORD",model:"TRANSIT T250",year:"2020",vin:"1FTBR1C85LKA70866",licensePlate:"DD16337",currentMileage:107046},{id:"11",name:"GMC Sierra",make:"GMC",model:"SIERRA",year:"2022",vin:"3GTPUJEK7NG635190",licensePlate:"DF94421",currentMileage:18811}],Kse=[{vehicleId:"7",date:"2023-08-11",mileage:75018,workPerformed:"LICENSE TABS",cost:183,notes:""},{vehicleId:"7",date:"2024-06-06",mileage:76504,workPerformed:"oil change",cost:55,notes:""},{vehicleId:"7",date:"2024-09-24",mileage:89627,workPerformed:"oil change, air filter oil cleaner",cost:146.09,notes:""},{vehicleId:"7",date:"2024-11-08",mileage:null,workPerformed:"Replaced front and rear rotors and pads",cost:500,notes:""},{vehicleId:"7",date:"2024-12-12",mileage:99399,workPerformed:"Replaced tires and oil change",cost:958,notes:""},{vehicleId:"8",date:"2023-08-11",mileage:84948,workPerformed:"LICENSE TABS",cost:183,notes:""},{vehicleId:"8",date:"2023-09-25",mileage:87270,workPerformed:"oil change",cost:40,notes:"oil filter pf63 6 quarts 5w20"},{vehicleId:"8",date:"2024-06-06",mileage:98e3,workPerformed:"oil change",cost:55,notes:""},{vehicleId:"8",date:"2024-11-01",mileage:null,workPerformed:"Replace Rear rotor and pads",cost:241,notes:""},{vehicleId:"11",date:"2023-08-11",mileage:9435,workPerformed:"LICENSE TABS",cost:302,notes:""},{vehicleId:"11",date:"2023-09-20",mileage:10008,workPerformed:"Oil Change",cost:50,notes:"PF66 oil filter 6 quarts 5w30 full synthetic"},{vehicleId:"11",date:"2025-02-11",mileage:19024,workPerformed:"Oil Change / air filter",cost:143.17,notes:"valvoline oil shop"}],Gse=()=>{const[t,e]=K.useState(null),[r,n]=K.useState(!0),[i,a]=K.useState(!1),[s,u]=K.useState([]),[c,f]=K.useState([]),[h,m]=K.useState([]),[y,b]=K.useState([]),[x,E]=K.useState([]),[w,O]=K.useState([]),[C,N]=K.useState([]),[$,I]=K.useState([]),[j,A]=K.useState([]),[P,R]=K.useState([]),[F,M]=K.useState([]),[V,D]=K.useState([]),[Z,ee]=K.useState([]),[re,oe]=K.useState({}),[Q,ie]=K.useState(!1),[se,q]=K.useState(null),[G,fe]=K.useState("bill"),[Se,Re]=K.useState({key:"dueDay",direction:"ascending"}),[xe,$e]=K.useState("dashboard"),[Ve,pe]=K.useState(null),[Oe,ze]=K.useState(25e3),[ue,st]=K.useState({start:new Date,end:new Date}),[He,pt]=K.useState("monthly"),[Tt,Yt]=K.useState(!0),[fr,Jr]=K.useState("dark"),[qt,zt]=K.useState(""),[Nr,Zr]=K.useState([]),[mi,Bi]=K.useState(null),Xt=K.useCallback(async()=>{const Ee=await(await fetch("http://144.202.20.114:8000/api/create_link_token",{method:"POST"})).json();Bi(Ee.link_token)},[]);K.useEffect(()=>{t&&Xt()},[t,Xt]);const tr=K.useCallback((ae,Ee)=>{fetch("http://144.202.20.114:8000/api/exchange_public_token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({public_token:ae})})},[]),{open:gi,ready:ss}=Yoe({token:mi,onSuccess:tr});K.useEffect(()=>{fr==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[fr]);const qi=()=>{Jr(fr==="light"?"dark":"light")};K.useEffect(()=>{const ae=new Date;let Ee,Me;if(He==="monthly")Ee=new Date(ae.getFullYear(),ae.getMonth(),1),Me=new Date(ae.getFullYear(),ae.getMonth()+1,0);else if(He==="quarterly"){const be=Math.floor(ae.getMonth()/3);Ee=new Date(ae.getFullYear(),be*3,1),Me=new Date(ae.getFullYear(),be*3+3,0)}else Ee=new Date(ae.getFullYear(),0,1),Me=new Date(ae.getFullYear(),11,31);st({start:Ee,end:Me})},[He]);const Gn=K.useMemo(()=>ue.start.getFullYear()+"-"+String(ue.start.getMonth()+1).padStart(2,"0"),[ue]);K.useEffect(()=>{const ae=IU(I2,async Ee=>{if(Ee){e(Ee.uid);const Me=mr(vt,"artifacts",ci,"users",Ee.uid,"bills");if((await $9(Me)).empty){a(!0),console.log("No data found. Seeding initial data...");const we=ip(vt),De=["artifacts",ci,"users",Ee.uid];Dse.forEach(Le=>we.set(Ut(mr(vt,...De,"bills")),{...Le,createdAt:Pr()})),Mse.forEach(Le=>we.set(Ut(mr(vt,...De,"debts")),{...Le,createdAt:Pr()})),Lse.forEach(Le=>we.set(Ut(mr(vt,...De,"incomes")),{...Le,createdAt:Pr()})),$se.forEach(Le=>we.set(Ut(mr(vt,...De,"weeklyCosts")),{...Le,createdAt:Pr()})),Fse.forEach(Le=>we.set(Ut(mr(vt,...De,"jobs")),{...Le,createdAt:Pr()})),Vse.forEach(Le=>we.set(Ut(mr(vt,...De,"tasks")),{...Le,createdAt:Pr()})),Use.forEach(Le=>we.set(Ut(mr(vt,...De,"invoices")),{...Le,createdAt:Pr()})),Bse.forEach(Le=>we.set(Ut(mr(vt,...De,"taxPayments")),{...Le,createdAt:Pr()})),qse.forEach(Le=>we.set(Ut(mr(vt,...De,"goals")),{...Le,createdAt:Pr()})),zse.forEach(Le=>we.set(Ut(mr(vt,...De,"clients")),{...Le,createdAt:Pr()})),Wse.forEach(Le=>we.set(Ut(mr(vt,...De,"inventory")),{...Le,createdAt:Pr()})),Hse.forEach(Le=>we.set(Ut(mr(vt,...De,"vehicles")),{...Le,createdAt:Pr()})),Kse.forEach(Le=>we.set(Ut(mr(vt,...De,"maintenanceLogs")),{...Le,createdAt:Pr()}));const lt=new Date().getFullYear()+"-"+String(new Date().getMonth()+1).padStart(2,"0");we.set(Ut(vt,...De,"paidStatus",lt),{status:{}}),await we.commit(),a(!1)}}else e(null);n(!1)});return()=>ae()},[]),K.useEffect(()=>{if(!t)return;const Ee=Object.entries({bills:u,debts:f,incomes:m,weeklyCosts:b,jobs:E,tasks:O,invoices:N,taxPayments:I,goals:A,clients:R,inventory:M,vehicles:D,maintenanceLogs:ee}).map(([be,we])=>vk(D9(mr(vt,"artifacts",ci,"users",t,be)),De=>{we(De.docs.map(lt=>({id:lt.id,...lt.data()})))},De=>console.error(`Error fetching ${be}:`,De))),Me=vk(Ut(vt,"artifacts",ci,"users",t,"paidStatus",Gn),be=>{oe(be.exists()?be.data().status:{})},be=>console.error("Error fetching paid status:",be));return()=>{Ee.forEach(be=>be()),Me()}},[t,Gn]);const fn=K.useMemo(()=>x.filter(ae=>{if(!ae.date)return!1;const Ee=new Date(ae.date);return Ee>=ue.start&&Ee<=ue.end}),[x,ue]),lo=K.useMemo(()=>s.filter(ae=>!Ve||ae.category===Ve),[s,Ve]),yi=K.useMemo(()=>{const ae=h.reduce((Le,Et)=>Le+(Et.amount||0),0),Ee=s.reduce((Le,Et)=>Le+(Et.amount||0),0),Me=y.reduce((Le,Et)=>Le+(Et.amount||0),0)*4.33,be=Ee+Me,we=ae-be,De=c.reduce((Le,Et)=>Le+((Et.totalAmount||0)-(Et.paidAmount||0)),0),lt=s.filter(Le=>re[Le.id]).reduce((Le,Et)=>Le+Et.amount,0);return{totalIncome:ae,totalOutflow:be,netCashFlow:we,paidThisMonth:lt,totalDebt:De,totalMonthlyBills:Ee,projectedMonthlyWeekly:Me}},[s,c,h,y,re]),Lt=K.useMemo(()=>{const ae=fn.reduce((Et,$t)=>Et+($t.revenue||0),0),Ee=fn.reduce((Et,$t)=>Et+($t.materialCost||0)+($t.laborCost||0),0),Me=ae-Ee,be=s.reduce((Et,$t)=>Et+$t.amount,0)+y.reduce((Et,$t)=>Et+$t.amount,0)*4.33,we=Me-be,lt=we>0?we*.06:0,Le=we-lt;return{revenue:ae,cogs:Ee,grossProfit:Me,operatingExpenses:be,netProfit:we,estimatedTax:lt,netProfitAfterTax:Le}},[fn,s,y]),ba=K.useMemo(()=>j.map(ae=>{let Ee=0;if(ae.type==="debt"){const Me=c.find(be=>be.id===ae.targetId);Me&&(Ee=Me.paidAmount/Me.totalAmount*100)}else ae.type==="revenue"&&(Ee=x.reduce((be,we)=>be+(we.revenue||0),0)/ae.targetValue*100);return{...ae,progress:Math.min(Ee,100)}}),[j,c,x]),ls=K.useMemo(()=>{const ae=s.reduce((Me,be)=>{const we=be.category||"Uncategorized";return Me[we]=(Me[we]||0)+be.amount,Me},{}),Ee=["#0088FE","#00C49F","#FFBB28","#FF8042","#AF19FF","#FF1943","#19D4FF"];return Object.entries(ae).map(([Me,be],we)=>({name:Me,value:be,color:Ee[we%Ee.length]})).sort((Me,be)=>be.value-Me.value)},[s]),dn=K.useMemo(()=>{let Ee={bills:lo,debts:c,incomes:h,weeklyCosts:y,jobs:x,goals:ba,clients:P,inventory:F,vehicles:V,invoices:C}[xe==="dashboard"?"bills":xe]||[];return qt&&(Ee=Ee.filter(Me=>Object.values(Me).some(be=>be&&String(be).toLowerCase().includes(qt.toLowerCase())))),[...Ee].sort((Me,be)=>Se.key?Me[Se.key]<be[Se.key]?Se.direction==="ascending"?-1:1:Me[Se.key]>be[Se.key]?Se.direction==="ascending"?1:-1:0:0)},[lo,c,h,y,x,ba,P,F,V,C,Se,xe,qt]),_a=K.useMemo(()=>{const ae=c.map(be=>({...be,remaining:be.totalAmount-be.paidAmount})).filter(be=>be.remaining>0),Ee=[...ae].sort((be,we)=>we.interestRate-be.interestRate),Me=[...ae].sort((be,we)=>be.remaining-we.remaining);return{avalanche:Ee,snowball:Me}},[c]),zi=ae=>Re(Ee=>({key:ae,direction:Ee.key===ae&&Ee.direction==="ascending"?"descending":"ascending"})),hn=async ae=>{t&&await F9(Ut(vt,"artifacts",ci,"users",t,"paidStatus",Gn),{status:{...re,[ae]:!re[ae]}},{merge:!0})},Yn=async(ae,Ee)=>{if(!t)return;const Me=Ee==="Paid"?"Unpaid":"Paid";await yk(Ut(vt,"artifacts",ci,"users",t,"invoices",ae),{status:Me})},wr=(ae,Ee=null)=>{fe(ae),q(Ee),ie(!0)},Xn=async(ae,Ee)=>{if(!t)return;const be={bill:"bills",debt:"debts",income:"incomes",weekly:"weeklyCosts",job:"jobs",task:"tasks",invoice:"invoices",taxPayment:"taxPayments",goal:"goals",client:"clients",inventory:"inventory",vehicle:"vehicles",maintenanceLog:"maintenanceLogs"}[G],we=["artifacts",ci,"users",t,be],De={...ae,modifiedAt:Pr()};if(Ee){console.log("Uploading file:",Ee.name);const lt=Zz(jse,`receipts/${t}/${Date.now()}-${Ee.name}`);try{await Qz(lt,Ee),De.attachmentURL=await Jz(lt)}catch(Le){console.error("File upload failed:",Le),alert("File upload failed. Please try again.");return}}se?.id?await yk(Ut(vt,...we,se.id),De):await U9(mr(vt,...we),{...De,createdAt:Pr()}),ie(!1),q(null)},Tn=async(ae,Ee)=>{if(!t||!window.confirm("Delete this item?"))return;const be={bill:"bills",debt:"debts",income:"incomes",weekly:"weeklyCosts",job:"jobs",task:"tasks",invoice:"invoices",taxPayment:"taxPayments",goal:"goals",client:"clients",inventory:"inventory",vehicle:"vehicles",maintenanceLog:"maintenanceLogs"}[ae];await V9(Ut(vt,"artifacts",ci,"users",t,be,Ee))},An=(ae,Ee)=>{if(!ae.length)return;const Me=Object.keys(ae[0]),be=ae.map(Le=>Me.map(Et=>{const $t=Le[Et];return typeof $t=="string"&&$t.includes(",")?`"${$t}"`:$t}).join(",")),we="data:text/csv;charset=utf-8,"+[Me.join(","),...be].join(`
`),De=encodeURI(we),lt=document.createElement("a");lt.setAttribute("href",De),lt.setAttribute("download",`hvac_${Ee}_${Gn}.csv`),document.body.appendChild(lt),lt.click(),document.body.removeChild(lt)},Wi=(ae,Ee)=>{if(!ae||!t)return;const Me=new FileReader;Me.onload=async be=>{const De=be.target.result.split(`
`).filter(In=>In),lt=De[0].split(",").map(In=>In.trim()),Le=De.slice(1).map(In=>{const mt=In.split(",").map(_i=>_i.trim());return lt.reduce((_i,Qn,Jn)=>{const ir=mt[Jn];return _i[Qn]=isNaN(ir)||ir===""?ir:parseFloat(ir),_i},{})}),$t={client:"clients",job:"jobs",inventory:"inventory",invoice:"invoices"}[Ee];if(!$t){alert("Invalid import type.");return}const co=ip(vt),yl=mr(vt,"artifacts",ci,"users",t,$t);Le.forEach(In=>{const mt=Ut(yl),_i=Object.entries(In).reduce((Qn,[Jn,ir])=>(Qn[Jn]=ir===void 0?null:ir,Qn),{});co.set(mt,{..._i,createdAt:Pr()})});try{await co.commit(),alert(`Successfully imported ${Le.length} ${$t}!`)}catch(In){console.error("Error importing CSV:",In),alert("Failed to import CSV. Please check the console for errors.")}},Me.readAsText(ae)},vi=async()=>{if(!t||!window.confirm("This will generate recurring transactions for next month. Continue?"))return;const ae=new Date(ue.start);ae.setMonth(ae.getMonth()+1);const Ee=ae.getFullYear()+"-"+String(new Date().getMonth()+1).padStart(2,"0"),Me=s.filter(De=>De.isRecurring),be=h.filter(De=>De.isRecurring),we=ip(vt);Me.forEach(De=>{const lt={...De,createdAt:Pr(),notes:`Generated for ${Ee}`};delete lt.id;const Le=Ut(mr(vt,"artifacts",ci,"users",t,"bills"));we.set(Le,lt)}),be.forEach(De=>{const lt={...De,createdAt:Pr(),notes:`Generated for ${Ee}`};delete lt.id;const Le=Ut(mr(vt,"artifacts",ci,"users",t,"incomes"));we.set(Le,lt)});try{await we.commit(),alert(`Generated ${Me.length} bills and ${be.length} incomes for next month.`)}catch(De){console.error("Error generating recurring transactions:",De),alert("Failed to generate recurring transactions.")}},xa=async(ae,Ee)=>{if(!t||!Ee.length||!window.confirm(`Delete ${Ee.length} selected items?`))return;const be={inventory:"inventory",invoice:"invoices",client:"clients"}[ae];if(!be){alert("Invalid bulk delete type.");return}const we=ip(vt);Ee.forEach(De=>{const lt=Ut(vt,"artifacts",ci,"users",t,be,De);we.delete(lt)}),await we.commit(),Zr([])};if(r)return v.jsx("div",{className:"bg-slate-900 text-white min-h-screen flex items-center justify-center",children:v.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-cyan-500"})});if(!t)return v.jsx(vse,{setUserId:e});const Wt=()=>v.jsxs(v.Fragment,{children:[Tt&&v.jsx(Ose,{bills:s,paidStatus:re,onClose:()=>Yt(!1)}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[v.jsx(ta,{title:"Total Monthly Income",value:`$${yi.totalIncome.toLocaleString()}`,icon:v.jsx(ese,{size:24}),color:"green"}),v.jsx(ta,{title:"Total Monthly Outflow",value:`$${yi.totalOutflow.toLocaleString()}`,icon:v.jsx(Zoe,{size:24}),color:"red"}),v.jsx(ta,{title:"Projected Net",value:`$${yi.netCashFlow.toLocaleString()}`,icon:v.jsx(wf,{size:24}),color:yi.netCashFlow>=0?"cyan":"amber"}),v.jsx(ta,{title:"Outstanding Debt",value:`$${yi.totalDebt.toLocaleString()}`,icon:v.jsx(yse,{size:24}),color:"orange"})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[v.jsx(ta,{title:"Gross Profit Margin",value:`${Lt.revenue>0?(Lt.grossProfit/Lt.revenue*100).toFixed(1):"0.0"}%`,icon:v.jsx(fse,{size:24}),color:"teal",subtext:"For selected period"}),v.jsx(ta,{title:"Avg. Job Revenue",value:`$${(Lt.revenue/(fn.length||1)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:v.jsx(gse,{size:24}),color:"indigo",subtext:`${fn.length} jobs`}),v.jsx(ta,{title:"Avg. Job Profit",value:`$${(Lt.grossProfit/(fn.length||1)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:v.jsx(mse,{size:24}),color:"purple",subtext:"Gross profit per job"})]}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[v.jsxs("div",{className:"lg:col-span-3 bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Monthly Bills"}),Ve&&v.jsxs("button",{onClick:()=>pe(null),className:"text-sm text-cyan-500 dark:text-cyan-400 hover:underline",children:["Clear Filter: ",Ve]}),v.jsxs("button",{onClick:()=>An(dn,"bills"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[v.jsx(pd,{size:16})," Export to CSV"]})]}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full text-left",children:[v.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:v.jsxs("tr",{children:[v.jsx("th",{className:"p-3",children:"Status"}),v.jsx("th",{className:"p-3 cursor-pointer",onClick:()=>zi("name"),children:"Name"}),v.jsx("th",{className:"p-3",children:"Notes"}),v.jsx("th",{className:"p-3",children:"Receipt"}),v.jsx("th",{className:"p-3 cursor-pointer text-right",onClick:()=>zi("amount"),children:"Amount"}),v.jsx("th",{className:"p-3 cursor-pointer text-center",onClick:()=>zi("dueDay"),children:"Due Day"}),v.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),v.jsx("tbody",{children:dn.map(ae=>v.jsxs("tr",{className:`border-b border-slate-200 dark:border-slate-700/50 ${re[ae.id]?"text-slate-400 dark:text-slate-500":"text-slate-700 dark:text-slate-200"}`,children:[v.jsx("td",{className:"p-3",children:v.jsx("button",{onClick:()=>hn(ae.id),children:re[ae.id]?v.jsx(DF,{className:"text-green-500"}):v.jsx(MF,{className:"text-slate-400 dark:text-slate-600"})})}),v.jsx("td",{className:`p-3 font-medium ${re[ae.id]?"line-through":""}`,children:ae.name}),v.jsxs("td",{className:"p-3 text-center",children:[" ",ae.notes&&v.jsxs("div",{className:"group relative flex justify-center",children:[v.jsx(use,{size:16,className:"text-slate-500"}),v.jsx("span",{className:"absolute top-[-30px] w-max scale-0 transition-all rounded bg-slate-700 p-2 text-xs text-white group-hover:scale-100",children:ae.notes})]})," "]}),v.jsxs("td",{className:"p-3 text-center",children:[" ",ae.attachmentURL?v.jsx("a",{href:ae.attachmentURL,target:"_blank",rel:"noopener noreferrer",children:v.jsx(k2,{size:16,className:"text-cyan-500 dark:text-cyan-400"})}):v.jsx(k2,{size:16,className:"text-slate-400 dark:text-slate-600"})," "]}),v.jsxs("td",{className:"p-3 text-right font-mono",children:["$",(ae.amount||0).toFixed(2)]}),v.jsx("td",{className:"p-3 text-center",children:ae.dueDay}),v.jsxs("td",{className:"p-3 text-center",children:[v.jsx("button",{onClick:()=>wr("bill",ae),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:v.jsx(Zo,{size:16})}),v.jsx("button",{onClick:()=>Tn("bill",ae.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:v.jsx(Vi,{size:16})})]})]},ae.id))})]})}),v.jsxs("button",{onClick:()=>wr("bill"),className:"mt-4 flex items-center gap-2 text-cyan-600 dark:text-cyan-400 hover:text-cyan-500 dark:hover:text-cyan-300 font-semibold",children:[v.jsx(Li,{size:18})," Add New Bill"]})]}),v.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[v.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[v.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:"Expense Breakdown"}),v.jsx(Cse,{data:ls,onSliceClick:pe})]}),v.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[v.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:"Automations"}),v.jsxs("button",{onClick:vi,className:"w-full flex items-center justify-center gap-2 text-sm bg-indigo-600 hover:bg-indigo-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[v.jsx(dse,{size:16})," Generate Next Month's Bills"]})]})]})]})]}),bi=(ae,Ee,Me,be)=>v.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[v.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-4 gap-4",children:[v.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:ae}),v.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[v.jsx("input",{type:"text",placeholder:"Search...",value:qt,onChange:we=>zt(we.target.value),className:"w-full md:w-auto bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white"}),(be==="client"||be==="job"||be==="inventory"||be==="invoice")&&v.jsxs(v.Fragment,{children:[v.jsx("input",{type:"file",id:"csv-importer",className:"hidden",accept:".csv",onChange:we=>Wi(we.target.files[0],be)}),v.jsxs("label",{htmlFor:"csv-importer",className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[v.jsx(Xg,{size:16})," Import CSV"]})]}),v.jsxs("button",{onClick:()=>An(Ee,be),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[v.jsx(pd,{size:16})," Export to CSV"]})]})]}),be==="debt"&&v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6 bg-slate-100 dark:bg-slate-800/50 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[v.jsxs("div",{children:[v.jsx("h4",{className:"font-bold text-lg text-cyan-600 dark:text-cyan-400 mb-2",children:"Avalanche Method"}),v.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mb-3",children:"Pay off debts with the highest interest rate first to save the most money over time."}),v.jsx("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:_a.avalanche.map(we=>v.jsxs("li",{children:[we.name," ",v.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:["(",we.interestRate,"%)"]})]},we.id))})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-bold text-lg text-green-600 dark:text-green-400 mb-2",children:"Snowball Method"}),v.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mb-3",children:"Pay off debts with the smallest balance first for quick wins and motivation."}),v.jsx("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:_a.snowball.map(we=>v.jsxs("li",{children:[we.name," ",v.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:["($",we.remaining.toFixed(2),")"]})]},we.id))})]})]}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full text-left",children:[v.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:v.jsxs("tr",{children:[Me.map(we=>v.jsx("th",{className:`p-3 ${we.className||""}`,children:we.header},we.key)),v.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),v.jsx("tbody",{className:"text-sm",children:Ee.map(we=>v.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 text-slate-700 dark:text-slate-200",children:[Me.map(De=>v.jsx("td",{className:`p-3 ${De.className||""}`,children:De.render(we)},De.key)),v.jsxs("td",{className:"p-3 text-center",children:[v.jsx("button",{onClick:()=>wr(be,we),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:v.jsx(Zo,{size:16})}),v.jsx("button",{onClick:()=>Tn(be,we.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:v.jsx(Vi,{size:16})})]})]},we.id))})]})}),v.jsxs("button",{onClick:()=>wr(be),className:"mt-4 flex items-center gap-2 text-cyan-600 dark:text-cyan-400 hover:text-cyan-500 dark:hover:text-cyan-300 font-semibold",children:[v.jsx(Li,{size:18})," Add New ",be.charAt(0).toUpperCase()+be.slice(1)]})]}),Pn=()=>v.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[v.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Profit & Loss Statement"}),v.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:["For ",He==="monthly"?ue.start.toLocaleString("default",{month:"long",year:"numeric"}):`${ue.start.toLocaleDateString()} - ${ue.end.toLocaleDateString()}`]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-100 dark:bg-slate-700/50 rounded-lg",children:[v.jsx("span",{className:"font-semibold",children:"Total Revenue (from Jobs)"}),v.jsxs("span",{className:"font-mono font-bold text-green-600 dark:text-green-400",children:["$",Lt.revenue.toFixed(2)]})]}),v.jsxs("div",{className:"flex justify-between items-center p-3 pl-8",children:[v.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Cost of Goods Sold (COGS)"}),v.jsxs("span",{className:"font-mono text-orange-600 dark:text-orange-400",children:["($",Lt.cogs.toFixed(2),")"]})]}),v.jsx("hr",{className:"border-slate-200 dark:border-slate-700"}),v.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-100 dark:bg-slate-700/50 rounded-lg",children:[v.jsx("span",{className:"font-bold text-lg",children:"Gross Profit"}),v.jsxs("span",{className:"font-mono font-bold text-lg",children:["$",Lt.grossProfit.toFixed(2)]})]}),v.jsxs("div",{className:"flex justify-between items-center p-3 pl-8",children:[v.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Operating Expenses (Bills & Weekly)"}),v.jsxs("span",{className:"font-mono text-orange-600 dark:text-orange-400",children:["($",Lt.operatingExpenses.toFixed(2),")"]})]}),v.jsx("hr",{className:"border-slate-300 dark:border-slate-600 border-2"}),v.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-200 dark:bg-slate-900/50 rounded-lg",children:[v.jsx("span",{className:"font-bold text-xl",children:"Net Profit / (Loss) Before Tax"}),v.jsxs("span",{className:`font-mono font-bold text-xl ${Lt.netProfit>=0?"text-slate-800 dark:text-white":"text-red-500"}`,children:[Lt.netProfit<0&&"(","$",Math.abs(Lt.netProfit).toFixed(2),Lt.netProfit<0&&")"]})]}),v.jsxs("div",{className:"flex justify-between items-center p-3 pl-8",children:[v.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Estimated Tax Liability (6%)"}),v.jsxs("span",{className:"font-mono text-orange-600 dark:text-orange-400",children:["($",Lt.estimatedTax.toFixed(2),")"]})]}),v.jsx("hr",{className:"border-slate-300 dark:border-slate-600 border-2"}),v.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-200 dark:bg-slate-900 rounded-lg",children:[v.jsx("span",{className:"font-bold text-xl text-cyan-600 dark:text-cyan-400",children:"Net Profit / (Loss) After Tax"}),v.jsxs("span",{className:`font-mono font-bold text-xl ${Lt.netProfitAfterTax>=0?"text-cyan-600 dark:text-cyan-400":"text-red-500"}`,children:[Lt.netProfitAfterTax<0&&"(","$",Math.abs(Lt.netProfitAfterTax).toFixed(2),Lt.netProfitAfterTax<0&&")"]})]})]})]}),wa=()=>v.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Financial Goals"}),v.jsxs("button",{onClick:()=>wr("goal"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[v.jsx(Li,{size:16})," Add New Goal"]})]}),v.jsx("div",{className:"space-y-6",children:ba.map(ae=>v.jsxs("div",{children:[v.jsxs("div",{className:"flex justify-between items-end mb-1",children:[v.jsx("span",{className:"font-semibold",children:ae.name}),v.jsxs("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:[ae.progress.toFixed(1),"%"]})]}),v.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-4",children:v.jsx("div",{className:"bg-green-500 h-4 rounded-full",style:{width:`${ae.progress}%`}})}),v.jsxs("div",{className:"flex justify-between items-end mt-1 text-xs text-slate-500 dark:text-slate-500",children:[v.jsxs("span",{children:["Target: ",ae.type==="debt"?"Pay Off":`$${ae.targetValue.toLocaleString()}`]}),v.jsxs("span",{children:["Deadline: ",ae.deadline]})]})]},ae.id))})]}),Ea=[{key:"name",header:"Name",render:ae=>v.jsx("span",{className:"font-medium",children:ae.name})},{key:"interestRate",header:"Interest Rate",className:"text-center",render:ae=>v.jsxs("span",{className:"font-mono",children:[ae.interestRate||0,"%"]})},{key:"total",header:"Total Amount",className:"text-right",render:ae=>v.jsxs("span",{className:"font-mono",children:["$",(ae.totalAmount||0).toFixed(2)]})},{key:"paid",header:"Paid Amount",className:"text-right",render:ae=>v.jsxs("span",{className:"font-mono",children:["$",(ae.paidAmount||0).toFixed(2)]})},{key:"remaining",header:"Remaining",className:"text-right font-bold",render:ae=>v.jsxs("span",{className:"font-mono text-orange-600 dark:text-orange-400",children:["$",((ae.totalAmount||0)-(ae.paidAmount||0)).toFixed(2)]})},{key:"progress",header:"Progress",render:ae=>{const Ee=ae.totalAmount>0?ae.paidAmount/ae.totalAmount*100:0;return v.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2.5",children:v.jsx("div",{className:"bg-green-500 h-2.5 rounded-full",style:{width:`${Ee}%`}})})}}],uo=[{key:"name",header:"Source",render:ae=>v.jsx("span",{className:"font-medium",children:ae.name})},{key:"amount",header:"Amount",className:"text-right",render:ae=>v.jsxs("span",{className:"font-mono font-bold text-green-600 dark:text-green-400",children:["$",(ae.amount||0).toFixed(2)]})},{key:"type",header:"Type",render:ae=>v.jsx("span",{className:"capitalize bg-slate-200 dark:bg-slate-700 text-slate-600 dark:text-slate-300 text-xs font-medium px-2 py-1 rounded-full",children:ae.type})}],kn=[{key:"name",header:"Item",render:ae=>v.jsx("span",{className:"font-medium",children:ae.name})},{key:"amount",header:"Weekly Amount",className:"text-right",render:ae=>v.jsxs("span",{className:"font-mono font-bold text-red-600 dark:text-red-400",children:["$",(ae.amount||0).toFixed(2)]})}],us=[{key:"name",header:"Job/Client",render:ae=>v.jsx("span",{className:"font-medium",children:ae.name})},{key:"client",header:"Client",render:ae=>v.jsx("span",{children:P.find(Ee=>Ee.id===ae.clientId)?.name||"N/A"})},{key:"revenue",header:"Revenue",className:"text-right",render:ae=>v.jsxs("span",{className:"font-mono text-green-600 dark:text-green-400",children:["$",(ae.revenue||0).toFixed(2)]})},{key:"materialCost",header:"Material Cost",className:"text-right",render:ae=>v.jsxs("span",{className:"font-mono text-orange-600 dark:text-orange-400",children:["$",(ae.materialCost||0).toFixed(2)]})},{key:"laborCost",header:"Labor Cost",className:"text-right",render:ae=>v.jsxs("span",{className:"font-mono text-orange-600 dark:text-orange-400",children:["$",(ae.laborCost||0).toFixed(2)]})},{key:"netProfit",header:"Net Profit",className:"text-right font-bold",render:ae=>v.jsxs("span",{className:"font-mono text-cyan-600 dark:text-cyan-400",children:["$",((ae.revenue||0)-(ae.materialCost||0)-(ae.laborCost||0)).toFixed(2)]})}];return v.jsxs("div",{className:`${fr} bg-slate-100 dark:bg-slate-900 text-slate-800 dark:text-white min-h-screen font-sans`,children:[v.jsxs("div",{className:"max-w-7xl mx-auto p-4 sm:p-6 lg:p-8",children:[v.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-center mb-6",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-bold",children:"HVAC Financial Dashboard"}),v.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Monthly Money Management"})]}),v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("button",{onClick:qi,className:"p-2 rounded-full bg-slate-200 dark:bg-slate-800 border border-slate-300 dark:border-slate-700",children:fr==="light"?v.jsx(cse,{size:20}):v.jsx(pse,{size:20})}),v.jsxs("button",{onClick:()=>gi(),disabled:!ss,className:"flex items-center gap-2 text-sm bg-purple-600 hover:bg-purple-500 text-white font-semibold px-3 py-2 rounded-md transition-colors disabled:opacity-50",children:[v.jsx(sse,{size:16})," Link Bank Account"]}),v.jsxs("div",{className:"flex items-center gap-4 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 p-2 rounded-lg",children:[v.jsx("span",{className:"text-sm font-semibold",children:"Reporting Period:"}),v.jsxs("div",{className:"flex items-center gap-1 bg-slate-100 dark:bg-slate-700 rounded-md p-1",children:[v.jsx("button",{onClick:()=>pt("monthly"),className:`px-2 py-1 text-xs rounded ${He==="monthly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Monthly"}),v.jsx("button",{onClick:()=>pt("quarterly"),className:`px-2 py-1 text-xs rounded ${He==="quarterly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Quarterly"}),v.jsx("button",{onClick:()=>pt("yearly"),className:`px-2 py-1 text-xs rounded ${He==="yearly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Yearly"})]})]}),v.jsxs("button",{onClick:()=>OU(I2),className:"flex items-center gap-2 text-sm bg-slate-600 hover:bg-slate-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[v.jsx(lse,{size:16})," Logout"]})]})]}),v.jsxs("nav",{className:"flex items-center border-b border-slate-200 dark:border-slate-700 mb-6 overflow-x-auto",children:[v.jsx("button",{onClick:()=>$e("dashboard"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${xe==="dashboard"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Dashboard"}),v.jsx("button",{onClick:()=>$e("reports"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${xe==="reports"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Reports"}),v.jsx("button",{onClick:()=>$e("calendar"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${xe==="calendar"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Calendar"}),v.jsx("button",{onClick:()=>$e("invoices"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${xe==="invoices"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Invoices"}),v.jsx("button",{onClick:()=>$e("tax"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${xe==="tax"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Tax Management"}),v.jsx("button",{onClick:()=>$e("pnl"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${xe==="pnl"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"P&L Statement"}),v.jsx("button",{onClick:()=>$e("forecast"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${xe==="forecast"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Forecast"}),v.jsx("button",{onClick:()=>$e("goals"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${xe==="goals"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Goals"}),v.jsx("button",{onClick:()=>$e("clients"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${xe==="clients"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Clients"}),v.jsx("button",{onClick:()=>$e("jobs"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${xe==="jobs"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Jobs"}),v.jsx("button",{onClick:()=>$e("vehicles"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${xe==="vehicles"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Vehicles"}),v.jsx("button",{onClick:()=>$e("inventory"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${xe==="inventory"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Inventory"}),v.jsx("button",{onClick:()=>$e("debts"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${xe==="debts"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Debt Management"}),v.jsx("button",{onClick:()=>$e("incomes"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${xe==="incomes"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Income Sources"}),v.jsx("button",{onClick:()=>$e("weeklyCosts"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${xe==="weeklyCosts"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Weekly Costs"})]}),v.jsxs("main",{children:[xe==="dashboard"&&Wt(),xe==="reports"&&v.jsx(Ise,{clients:P,jobs:x,bills:s,inventory:F}),xe==="calendar"&&v.jsx(xse,{jobs:x,tasks:w,openModal:wr}),xe==="invoices"&&v.jsx(Tse,{invoices:C,openModal:wr,handleDelete:Tn,handleBulkDelete:xa,selectedIds:Nr,setSelectedIds:Zr,searchTerm:qt,setSearchTerm:zt,handleImportCSV:Wi,handleExportCSV:An,handleToggleInvoicePaid:Yn}),xe==="tax"&&v.jsx(_se,{jobs:x,bills:s,weeklyCosts:y,taxPayments:$,openModal:wr,handleDelete:Tn}),xe==="pnl"&&Pn(),xe==="forecast"&&v.jsx(Nse,{invoices:C,bills:s,weeklyCosts:y,currentBankBalance:Oe,setCurrentBankBalance:ze}),xe==="goals"&&wa(),xe==="clients"&&v.jsx(Ase,{clients:P,openModal:wr,handleDelete:Tn,handleBulkDelete:xa,selectedIds:Nr,setSelectedIds:Zr,searchTerm:qt,setSearchTerm:zt,handleImportCSV:Wi,handleExportCSV:An}),xe==="jobs"&&bi("Job Profitability",dn,us,"job"),xe==="vehicles"&&v.jsx(Pse,{vehicles:V,maintenanceLogs:Z,openModal:wr,handleDelete:Tn,searchTerm:qt,setSearchTerm:zt}),xe==="inventory"&&v.jsx(kse,{inventory:F,openModal:wr,handleDelete:Tn,handleBulkDelete:xa,selectedIds:Nr,setSelectedIds:Zr,searchTerm:qt,setSearchTerm:zt,handleImportCSV:Wi,handleExportCSV:An}),xe==="debts"&&bi("Debt Management",dn,Ea,"debt"),xe==="incomes"&&bi("Income Sources",dn,uo,"income"),xe==="weeklyCosts"&&bi("Recurring Weekly Costs",dn,kn,"weekly")]}),v.jsx("footer",{className:"text-center mt-8 py-4 border-t border-slate-200 dark:border-slate-700",children:v.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Powered by ",v.jsx("a",{href:"https://service.money/",target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-cyan-600 dark:text-cyan-400 hover:underline",children:"Service Coin"})]})})]}),Q&&v.jsx(Sse,{item:se,type:G,onSave:Xn,onClose:()=>ie(!1),debts:c,clients:P,vehicles:V})]})};XV.createRoot(document.getElementById("root")).render(v.jsx(z.StrictMode,{children:v.jsx(Gse,{})}));
