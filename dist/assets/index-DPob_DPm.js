(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Uh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var yv={exports:{}},Cu={},xv={exports:{}},Ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $E;function p$(){if($E)return Ze;$E=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function y(z){return z===null||typeof z!="object"?null:(z=m&&z[m]||z["@@iterator"],typeof z=="function"?z:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,_={};function b(z,Y,K){this.props=z,this.context=Y,this.refs=_,this.updater=K||x}b.prototype.isReactComponent={},b.prototype.setState=function(z,Y){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,Y,"setState")},b.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function P(){}P.prototype=b.prototype;function A(z,Y,K){this.props=z,this.context=Y,this.refs=_,this.updater=K||x}var I=A.prototype=new P;I.constructor=A,S(I,b.prototype),I.isPureReactComponent=!0;var R=Array.isArray,E=Object.prototype.hasOwnProperty,N={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function O(z,Y,K){var le,fe={},xe=null,he=null;if(Y!=null)for(le in Y.ref!==void 0&&(he=Y.ref),Y.key!==void 0&&(xe=""+Y.key),Y)E.call(Y,le)&&!T.hasOwnProperty(le)&&(fe[le]=Y[le]);var me=arguments.length-2;if(me===1)fe.children=K;else if(1<me){for(var ue=Array(me),ke=0;ke<me;ke++)ue[ke]=arguments[ke+2];fe.children=ue}if(z&&z.defaultProps)for(le in me=z.defaultProps,me)fe[le]===void 0&&(fe[le]=me[le]);return{$$typeof:t,type:z,key:xe,ref:he,props:fe,_owner:N.current}}function L(z,Y){return{$$typeof:t,type:z.type,key:Y,ref:z.ref,props:z.props,_owner:z._owner}}function C(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function D(z){var Y={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(K){return Y[K]})}var F=/\/+/g;function $(z,Y){return typeof z=="object"&&z!==null&&z.key!=null?D(""+z.key):Y.toString(36)}function ee(z,Y,K,le,fe){var xe=typeof z;(xe==="undefined"||xe==="boolean")&&(z=null);var he=!1;if(z===null)he=!0;else switch(xe){case"string":case"number":he=!0;break;case"object":switch(z.$$typeof){case t:case e:he=!0}}if(he)return he=z,fe=fe(he),z=le===""?"."+$(he,0):le,R(fe)?(K="",z!=null&&(K=z.replace(F,"$&/")+"/"),ee(fe,Y,K,"",function(ke){return ke})):fe!=null&&(C(fe)&&(fe=L(fe,K+(!fe.key||he&&he.key===fe.key?"":(""+fe.key).replace(F,"$&/")+"/")+z)),Y.push(fe)),1;if(he=0,le=le===""?".":le+":",R(z))for(var me=0;me<z.length;me++){xe=z[me];var ue=le+$(xe,me);he+=ee(xe,Y,K,ue,fe)}else if(ue=y(z),typeof ue=="function")for(z=ue.call(z),me=0;!(xe=z.next()).done;)xe=xe.value,ue=le+$(xe,me++),he+=ee(xe,Y,K,ue,fe);else if(xe==="object")throw Y=String(z),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return he}function ne(z,Y,K){if(z==null)return z;var le=[],fe=0;return ee(z,le,"","",function(xe){return Y.call(K,xe,fe++)}),le}function Q(z){if(z._status===-1){var Y=z._result;Y=Y(),Y.then(function(K){(z._status===0||z._status===-1)&&(z._status=1,z._result=K)},function(K){(z._status===0||z._status===-1)&&(z._status=2,z._result=K)}),z._status===-1&&(z._status=0,z._result=Y)}if(z._status===1)return z._result.default;throw z._result}var ie={current:null},Z={transition:null},J={ReactCurrentDispatcher:ie,ReactCurrentBatchConfig:Z,ReactCurrentOwner:N};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Ze.Children={map:ne,forEach:function(z,Y,K){ne(z,function(){Y.apply(this,arguments)},K)},count:function(z){var Y=0;return ne(z,function(){Y++}),Y},toArray:function(z){return ne(z,function(Y){return Y})||[]},only:function(z){if(!C(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Ze.Component=b,Ze.Fragment=r,Ze.Profiler=i,Ze.PureComponent=A,Ze.StrictMode=n,Ze.Suspense=d,Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J,Ze.act=ae,Ze.cloneElement=function(z,Y,K){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var le=S({},z.props),fe=z.key,xe=z.ref,he=z._owner;if(Y!=null){if(Y.ref!==void 0&&(xe=Y.ref,he=N.current),Y.key!==void 0&&(fe=""+Y.key),z.type&&z.type.defaultProps)var me=z.type.defaultProps;for(ue in Y)E.call(Y,ue)&&!T.hasOwnProperty(ue)&&(le[ue]=Y[ue]===void 0&&me!==void 0?me[ue]:Y[ue])}var ue=arguments.length-2;if(ue===1)le.children=K;else if(1<ue){me=Array(ue);for(var ke=0;ke<ue;ke++)me[ke]=arguments[ke+2];le.children=me}return{$$typeof:t,type:z.type,key:fe,ref:xe,props:le,_owner:he}},Ze.createContext=function(z){return z={$$typeof:o,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:a,_context:z},z.Consumer=z},Ze.createElement=O,Ze.createFactory=function(z){var Y=O.bind(null,z);return Y.type=z,Y},Ze.createRef=function(){return{current:null}},Ze.forwardRef=function(z){return{$$typeof:u,render:z}},Ze.isValidElement=C,Ze.lazy=function(z){return{$$typeof:p,_payload:{_status:-1,_result:z},_init:Q}},Ze.memo=function(z,Y){return{$$typeof:f,type:z,compare:Y===void 0?null:Y}},Ze.startTransition=function(z){var Y=Z.transition;Z.transition={};try{z()}finally{Z.transition=Y}},Ze.unstable_act=ae,Ze.useCallback=function(z,Y){return ie.current.useCallback(z,Y)},Ze.useContext=function(z){return ie.current.useContext(z)},Ze.useDebugValue=function(){},Ze.useDeferredValue=function(z){return ie.current.useDeferredValue(z)},Ze.useEffect=function(z,Y){return ie.current.useEffect(z,Y)},Ze.useId=function(){return ie.current.useId()},Ze.useImperativeHandle=function(z,Y,K){return ie.current.useImperativeHandle(z,Y,K)},Ze.useInsertionEffect=function(z,Y){return ie.current.useInsertionEffect(z,Y)},Ze.useLayoutEffect=function(z,Y){return ie.current.useLayoutEffect(z,Y)},Ze.useMemo=function(z,Y){return ie.current.useMemo(z,Y)},Ze.useReducer=function(z,Y,K){return ie.current.useReducer(z,Y,K)},Ze.useRef=function(z){return ie.current.useRef(z)},Ze.useState=function(z){return ie.current.useState(z)},Ze.useSyncExternalStore=function(z,Y,K){return ie.current.useSyncExternalStore(z,Y,K)},Ze.useTransition=function(){return ie.current.useTransition()},Ze.version="18.3.1",Ze}var VE;function I1(){return VE||(VE=1,xv.exports=p$()),xv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FE;function m$(){if(FE)return Cu;FE=1;var t=I1(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(u,d,f){var p,m={},y=null,x=null;f!==void 0&&(y=""+f),d.key!==void 0&&(y=""+d.key),d.ref!==void 0&&(x=d.ref);for(p in d)n.call(d,p)&&!a.hasOwnProperty(p)&&(m[p]=d[p]);if(u&&u.defaultProps)for(p in d=u.defaultProps,d)m[p]===void 0&&(m[p]=d[p]);return{$$typeof:e,type:u,key:y,ref:x,props:m,_owner:i.current}}return Cu.Fragment=r,Cu.jsx=o,Cu.jsxs=o,Cu}var UE;function g$(){return UE||(UE=1,yv.exports=m$()),yv.exports}var c=g$(),B=I1();const H=pt(B);var Bh={},bv={exports:{}},dn={},wv={exports:{}},_v={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BE;function v$(){return BE||(BE=1,function(t){function e(Z,J){var ae=Z.length;Z.push(J);e:for(;0<ae;){var z=ae-1>>>1,Y=Z[z];if(0<i(Y,J))Z[z]=J,Z[ae]=Y,ae=z;else break e}}function r(Z){return Z.length===0?null:Z[0]}function n(Z){if(Z.length===0)return null;var J=Z[0],ae=Z.pop();if(ae!==J){Z[0]=ae;e:for(var z=0,Y=Z.length,K=Y>>>1;z<K;){var le=2*(z+1)-1,fe=Z[le],xe=le+1,he=Z[xe];if(0>i(fe,ae))xe<Y&&0>i(he,fe)?(Z[z]=he,Z[xe]=ae,z=xe):(Z[z]=fe,Z[le]=ae,z=le);else if(xe<Y&&0>i(he,ae))Z[z]=he,Z[xe]=ae,z=xe;else break e}}return J}function i(Z,J){var ae=Z.sortIndex-J.sortIndex;return ae!==0?ae:Z.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var d=[],f=[],p=1,m=null,y=3,x=!1,S=!1,_=!1,b=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(Z){for(var J=r(f);J!==null;){if(J.callback===null)n(f);else if(J.startTime<=Z)n(f),J.sortIndex=J.expirationTime,e(d,J);else break;J=r(f)}}function R(Z){if(_=!1,I(Z),!S)if(r(d)!==null)S=!0,Q(E);else{var J=r(f);J!==null&&ie(R,J.startTime-Z)}}function E(Z,J){S=!1,_&&(_=!1,P(O),O=-1),x=!0;var ae=y;try{for(I(J),m=r(d);m!==null&&(!(m.expirationTime>J)||Z&&!D());){var z=m.callback;if(typeof z=="function"){m.callback=null,y=m.priorityLevel;var Y=z(m.expirationTime<=J);J=t.unstable_now(),typeof Y=="function"?m.callback=Y:m===r(d)&&n(d),I(J)}else n(d);m=r(d)}if(m!==null)var K=!0;else{var le=r(f);le!==null&&ie(R,le.startTime-J),K=!1}return K}finally{m=null,y=ae,x=!1}}var N=!1,T=null,O=-1,L=5,C=-1;function D(){return!(t.unstable_now()-C<L)}function F(){if(T!==null){var Z=t.unstable_now();C=Z;var J=!0;try{J=T(!0,Z)}finally{J?$():(N=!1,T=null)}}else N=!1}var $;if(typeof A=="function")$=function(){A(F)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,ne=ee.port2;ee.port1.onmessage=F,$=function(){ne.postMessage(null)}}else $=function(){b(F,0)};function Q(Z){T=Z,N||(N=!0,$())}function ie(Z,J){O=b(function(){Z(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_continueExecution=function(){S||x||(S=!0,Q(E))},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return r(d)},t.unstable_next=function(Z){switch(y){case 1:case 2:case 3:var J=3;break;default:J=y}var ae=y;y=J;try{return Z()}finally{y=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Z,J){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ae=y;y=Z;try{return J()}finally{y=ae}},t.unstable_scheduleCallback=function(Z,J,ae){var z=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?z+ae:z):ae=z,Z){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=ae+Y,Z={id:p++,callback:J,priorityLevel:Z,startTime:ae,expirationTime:Y,sortIndex:-1},ae>z?(Z.sortIndex=ae,e(f,Z),r(d)===null&&Z===r(f)&&(_?(P(O),O=-1):_=!0,ie(R,ae-z))):(Z.sortIndex=Y,e(d,Z),S||x||(S=!0,Q(E))),Z},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(Z){var J=y;return function(){var ae=y;y=J;try{return Z.apply(this,arguments)}finally{y=ae}}}}(_v)),_v}var qE;function y$(){return qE||(qE=1,wv.exports=v$()),wv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zE;function x$(){if(zE)return dn;zE=1;var t=I1(),e=y$();function r(s){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+s,h=1;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(s,l){o(s,l),o(s+"Capture",l)}function o(s,l){for(i[s]=l,s=0;s<l.length;s++)n.add(l[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function y(s){return d.call(m,s)?!0:d.call(p,s)?!1:f.test(s)?m[s]=!0:(p[s]=!0,!1)}function x(s,l,h,v){if(h!==null&&h.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return v?!1:h!==null?!h.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function S(s,l,h,v){if(l===null||typeof l>"u"||x(s,l,h,v))return!0;if(v)return!1;if(h!==null)switch(h.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function _(s,l,h,v,w,j,V){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=v,this.attributeNamespace=w,this.mustUseProperty=h,this.propertyName=s,this.type=l,this.sanitizeURL=j,this.removeEmptyString=V}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){b[s]=new _(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var l=s[0];b[l]=new _(l,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){b[s]=new _(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){b[s]=new _(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){b[s]=new _(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){b[s]=new _(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){b[s]=new _(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){b[s]=new _(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){b[s]=new _(s,5,!1,s.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function A(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var l=s.replace(P,A);b[l]=new _(l,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var l=s.replace(P,A);b[l]=new _(l,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var l=s.replace(P,A);b[l]=new _(l,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){b[s]=new _(s,1,!1,s.toLowerCase(),null,!1,!1)}),b.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){b[s]=new _(s,1,!1,s.toLowerCase(),null,!0,!0)});function I(s,l,h,v){var w=b.hasOwnProperty(l)?b[l]:null;(w!==null?w.type!==0:v||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(S(l,h,w,v)&&(h=null),v||w===null?y(l)&&(h===null?s.removeAttribute(l):s.setAttribute(l,""+h)):w.mustUseProperty?s[w.propertyName]=h===null?w.type===3?!1:"":h:(l=w.attributeName,v=w.attributeNamespace,h===null?s.removeAttribute(l):(w=w.type,h=w===3||w===4&&h===!0?"":""+h,v?s.setAttributeNS(v,l,h):s.setAttribute(l,h))))}var R=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),N=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),D=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),ne=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),ie=Symbol.for("react.offscreen"),Z=Symbol.iterator;function J(s){return s===null||typeof s!="object"?null:(s=Z&&s[Z]||s["@@iterator"],typeof s=="function"?s:null)}var ae=Object.assign,z;function Y(s){if(z===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);z=l&&l[1]||""}return`
`+z+s}var K=!1;function le(s,l){if(!s||K)return"";K=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(oe){var v=oe}Reflect.construct(s,[],l)}else{try{l.call()}catch(oe){v=oe}s.call(l.prototype)}else{try{throw Error()}catch(oe){v=oe}s()}}catch(oe){if(oe&&v&&typeof oe.stack=="string"){for(var w=oe.stack.split(`
`),j=v.stack.split(`
`),V=w.length-1,q=j.length-1;1<=V&&0<=q&&w[V]!==j[q];)q--;for(;1<=V&&0<=q;V--,q--)if(w[V]!==j[q]){if(V!==1||q!==1)do if(V--,q--,0>q||w[V]!==j[q]){var G=`
`+w[V].replace(" at new "," at ");return s.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",s.displayName)),G}while(1<=V&&0<=q);break}}}finally{K=!1,Error.prepareStackTrace=h}return(s=s?s.displayName||s.name:"")?Y(s):""}function fe(s){switch(s.tag){case 5:return Y(s.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return s=le(s.type,!1),s;case 11:return s=le(s.type.render,!1),s;case 1:return s=le(s.type,!0),s;default:return""}}function xe(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case T:return"Fragment";case N:return"Portal";case L:return"Profiler";case O:return"StrictMode";case $:return"Suspense";case ee:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case D:return(s.displayName||"Context")+".Consumer";case C:return(s._context.displayName||"Context")+".Provider";case F:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case ne:return l=s.displayName||null,l!==null?l:xe(s.type)||"Memo";case Q:l=s._payload,s=s._init;try{return xe(s(l))}catch{}}return null}function he(s){var l=s.type;switch(s.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=l.render,s=s.displayName||s.name||"",l.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(l);case 8:return l===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function me(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ue(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function ke(s){var l=ue(s)?"checked":"value",h=Object.getOwnPropertyDescriptor(s.constructor.prototype,l),v=""+s[l];if(!s.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var w=h.get,j=h.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return w.call(this)},set:function(V){v=""+V,j.call(this,V)}}),Object.defineProperty(s,l,{enumerable:h.enumerable}),{getValue:function(){return v},setValue:function(V){v=""+V},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function Ee(s){s._valueTracker||(s._valueTracker=ke(s))}function W(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var h=l.getValue(),v="";return s&&(v=ue(s)?s.checked?"true":"false":s.value),s=v,s!==h?(l.setValue(s),!0):!1}function pe(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function ge(s,l){var h=l.checked;return ae({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??s._wrapperState.initialChecked})}function Ae(s,l){var h=l.defaultValue==null?"":l.defaultValue,v=l.checked!=null?l.checked:l.defaultChecked;h=me(l.value!=null?l.value:h),s._wrapperState={initialChecked:v,initialValue:h,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function Fe(s,l){l=l.checked,l!=null&&I(s,"checked",l,!1)}function $t(s,l){Fe(s,l);var h=me(l.value),v=l.type;if(h!=null)v==="number"?(h===0&&s.value===""||s.value!=h)&&(s.value=""+h):s.value!==""+h&&(s.value=""+h);else if(v==="submit"||v==="reset"){s.removeAttribute("value");return}l.hasOwnProperty("value")?qr(s,l.type,h):l.hasOwnProperty("defaultValue")&&qr(s,l.type,me(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(s.defaultChecked=!!l.defaultChecked)}function en(s,l,h){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var v=l.type;if(!(v!=="submit"&&v!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+s._wrapperState.initialValue,h||l===s.value||(s.value=l),s.defaultValue=l}h=s.name,h!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,h!==""&&(s.name=h)}function qr(s,l,h){(l!=="number"||pe(s.ownerDocument)!==s)&&(h==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+h&&(s.defaultValue=""+h))}var zr=Array.isArray;function Jt(s,l,h,v){if(s=s.options,l){l={};for(var w=0;w<h.length;w++)l["$"+h[w]]=!0;for(h=0;h<s.length;h++)w=l.hasOwnProperty("$"+s[h].value),s[h].selected!==w&&(s[h].selected=w),w&&v&&(s[h].defaultSelected=!0)}else{for(h=""+me(h),l=null,w=0;w<s.length;w++){if(s[w].value===h){s[w].selected=!0,v&&(s[w].defaultSelected=!0);return}l!==null||s[w].disabled||(l=s[w])}l!==null&&(l.selected=!0)}}function xr(s,l){if(l.dangerouslySetInnerHTML!=null)throw Error(r(91));return ae({},l,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Mn(s,l){var h=l.value;if(h==null){if(h=l.children,l=l.defaultValue,h!=null){if(l!=null)throw Error(r(92));if(zr(h)){if(1<h.length)throw Error(r(93));h=h[0]}l=h}l==null&&(l=""),h=l}s._wrapperState={initialValue:me(h)}}function ji(s,l){var h=me(l.value),v=me(l.defaultValue);h!=null&&(h=""+h,h!==s.value&&(s.value=h),l.defaultValue==null&&s.defaultValue!==h&&(s.defaultValue=h)),v!=null&&(s.defaultValue=""+v)}function Ei(s){var l=s.textContent;l===s._wrapperState.initialValue&&l!==""&&l!==null&&(s.value=l)}function Vt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ft(s,l){return s==null||s==="http://www.w3.org/1999/xhtml"?Vt(l):s==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var ni,Ga=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,h,v,w){MSApp.execUnsafeLocalFunction(function(){return s(l,h,v,w)})}:s}(function(s,l){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=l;else{for(ni=ni||document.createElement("div"),ni.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=ni.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;l.firstChild;)s.appendChild(l.firstChild)}});function ia(s,l){if(l){var h=s.firstChild;if(h&&h===s.lastChild&&h.nodeType===3){h.nodeValue=l;return}}s.textContent=l}var Ka={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tn=["Webkit","ms","Moz","O"];Object.keys(Ka).forEach(function(s){tn.forEach(function(l){l=l+s.charAt(0).toUpperCase()+s.substring(1),Ka[l]=Ka[s]})});function al(s,l,h){return l==null||typeof l=="boolean"||l===""?"":h||typeof l!="number"||l===0||Ka.hasOwnProperty(s)&&Ka[s]?(""+l).trim():l+"px"}function sl(s,l){s=s.style;for(var h in l)if(l.hasOwnProperty(h)){var v=h.indexOf("--")===0,w=al(h,l[h],v);h==="float"&&(h="cssFloat"),v?s.setProperty(h,w):s[h]=w}}var ol=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ks(s,l){if(l){if(ol[s]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(r(137,s));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(r(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(r(61))}if(l.style!=null&&typeof l.style!="object")throw Error(r(62))}}function Ys(s,l){if(s.indexOf("-")===-1)return typeof l.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dn=null;function aa(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ti=null,rn=null,br=null;function Ln(s){if(s=yu(s)){if(typeof Ti!="function")throw Error(r(280));var l=s.stateNode;l&&(l=rh(l),Ti(s.stateNode,s.type,l))}}function Pr(s){rn?br?br.push(s):br=[s]:rn=s}function Xs(){if(rn){var s=rn,l=br;if(br=rn=null,Ln(s),l)for(s=0;s<l.length;s++)Ln(l[s])}}function Ai(s,l){return s(l)}function Qs(){}var ii=!1;function Js(s,l,h){if(ii)return s(l,h);ii=!0;try{return Ai(s,l,h)}finally{ii=!1,(rn!==null||br!==null)&&(Qs(),Xs())}}function Rt(s,l){var h=s.stateNode;if(h===null)return null;var v=rh(h);if(v===null)return null;h=v[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(s=s.type,v=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!v;break e;default:s=!1}if(s)return null;if(h&&typeof h!="function")throw Error(r(231,l,typeof h));return h}var Ya=!1;if(u)try{var vn={};Object.defineProperty(vn,"passive",{get:function(){Ya=!0}}),window.addEventListener("test",vn,vn),window.removeEventListener("test",vn,vn)}catch{Ya=!1}function sa(s,l,h,v,w,j,V,q,G){var oe=Array.prototype.slice.call(arguments,3);try{l.apply(h,oe)}catch(be){this.onError(be)}}var oa=!1,cr=null,yn=!1,ur=null,eu={onError:function(s){oa=!0,cr=s}};function Xa(s,l,h,v,w,j,V,q,G){oa=!1,cr=null,sa.apply(eu,arguments)}function ll(s,l,h,v,w,j,V,q,G){if(Xa.apply(this,arguments),oa){if(oa){var oe=cr;oa=!1,cr=null}else throw Error(r(198));yn||(yn=!0,ur=oe)}}function Le(s){var l=s,h=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(h=l.return),s=l.return;while(s)}return l.tag===3?h:null}function Qe(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function at(s){if(Le(s)!==s)throw Error(r(188))}function tt(s){var l=s.alternate;if(!l){if(l=Le(s),l===null)throw Error(r(188));return l!==s?null:s}for(var h=s,v=l;;){var w=h.return;if(w===null)break;var j=w.alternate;if(j===null){if(v=w.return,v!==null){h=v;continue}break}if(w.child===j.child){for(j=w.child;j;){if(j===h)return at(w),s;if(j===v)return at(w),l;j=j.sibling}throw Error(r(188))}if(h.return!==v.return)h=w,v=j;else{for(var V=!1,q=w.child;q;){if(q===h){V=!0,h=w,v=j;break}if(q===v){V=!0,v=w,h=j;break}q=q.sibling}if(!V){for(q=j.child;q;){if(q===h){V=!0,h=j,v=w;break}if(q===v){V=!0,v=j,h=w;break}q=q.sibling}if(!V)throw Error(r(189))}}if(h.alternate!==v)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?s:l}function Pt(s){return s=tt(s),s!==null?xn(s):null}function xn(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var l=xn(s);if(l!==null)return l;s=s.sibling}return null}var Zt=e.unstable_scheduleCallback,Ir=e.unstable_cancelCallback,Nf=e.unstable_shouldYield,Gg=e.unstable_requestPaint,wt=e.unstable_now,Pf=e.unstable_getCurrentPriorityLevel,Zs=e.unstable_ImmediatePriority,Qa=e.unstable_UserBlockingPriority,$n=e.unstable_NormalPriority,tu=e.unstable_LowPriority,If=e.unstable_IdlePriority,eo=null,bn=null;function Of(s){if(bn&&typeof bn.onCommitFiberRoot=="function")try{bn.onCommitFiberRoot(eo,s,void 0,(s.current.flags&128)===128)}catch{}}var Wr=Math.clz32?Math.clz32:Rf,ru=Math.log,Cf=Math.LN2;function Rf(s){return s>>>=0,s===0?32:31-(ru(s)/Cf|0)|0}var cl=64,ul=4194304;function Ja(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function to(s,l){var h=s.pendingLanes;if(h===0)return 0;var v=0,w=s.suspendedLanes,j=s.pingedLanes,V=h&268435455;if(V!==0){var q=V&~w;q!==0?v=Ja(q):(j&=V,j!==0&&(v=Ja(j)))}else V=h&~w,V!==0?v=Ja(V):j!==0&&(v=Ja(j));if(v===0)return 0;if(l!==0&&l!==v&&(l&w)===0&&(w=v&-v,j=l&-l,w>=j||w===16&&(j&4194240)!==0))return l;if((v&4)!==0&&(v|=h&16),l=s.entangledLanes,l!==0)for(s=s.entanglements,l&=v;0<l;)h=31-Wr(l),w=1<<h,v|=s[h],l&=~w;return v}function Kg(s,l){switch(s){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function la(s,l){for(var h=s.suspendedLanes,v=s.pingedLanes,w=s.expirationTimes,j=s.pendingLanes;0<j;){var V=31-Wr(j),q=1<<V,G=w[V];G===-1?((q&h)===0||(q&v)!==0)&&(w[V]=Kg(q,l)):G<=l&&(s.expiredLanes|=q),j&=~q}}function wn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function ro(){var s=cl;return cl<<=1,(cl&4194240)===0&&(cl=64),s}function Za(s){for(var l=[],h=0;31>h;h++)l.push(s);return l}function es(s,l,h){s.pendingLanes|=l,l!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,l=31-Wr(l),s[l]=h}function xt(s,l){var h=s.pendingLanes&~l;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=l,s.mutableReadLanes&=l,s.entangledLanes&=l,l=s.entanglements;var v=s.eventTimes;for(s=s.expirationTimes;0<h;){var w=31-Wr(h),j=1<<w;l[w]=0,v[w]=-1,s[w]=-1,h&=~j}}function ts(s,l){var h=s.entangledLanes|=l;for(s=s.entanglements;h;){var v=31-Wr(h),w=1<<v;w&l|s[v]&l&&(s[v]|=l),h&=~w}}var nt=0;function rs(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Mf,dl,Df,Lf,$f,nu=!1,Ni=[],wr=null,ai=null,si=null,ns=new Map,Vn=new Map,Pi=[],Yg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vf(s,l){switch(s){case"focusin":case"focusout":wr=null;break;case"dragenter":case"dragleave":ai=null;break;case"mouseover":case"mouseout":si=null;break;case"pointerover":case"pointerout":ns.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vn.delete(l.pointerId)}}function nn(s,l,h,v,w,j){return s===null||s.nativeEvent!==j?(s={blockedOn:l,domEventName:h,eventSystemFlags:v,nativeEvent:j,targetContainers:[w]},l!==null&&(l=yu(l),l!==null&&dl(l)),s):(s.eventSystemFlags|=v,l=s.targetContainers,w!==null&&l.indexOf(w)===-1&&l.push(w),s)}function Xg(s,l,h,v,w){switch(l){case"focusin":return wr=nn(wr,s,l,h,v,w),!0;case"dragenter":return ai=nn(ai,s,l,h,v,w),!0;case"mouseover":return si=nn(si,s,l,h,v,w),!0;case"pointerover":var j=w.pointerId;return ns.set(j,nn(ns.get(j)||null,s,l,h,v,w)),!0;case"gotpointercapture":return j=w.pointerId,Vn.set(j,nn(Vn.get(j)||null,s,l,h,v,w)),!0}return!1}function Ff(s){var l=oo(s.target);if(l!==null){var h=Le(l);if(h!==null){if(l=h.tag,l===13){if(l=Qe(h),l!==null){s.blockedOn=l,$f(s.priority,function(){Df(h)});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){s.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ca(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var h=fl(s.domEventName,s.eventSystemFlags,l[0],s.nativeEvent);if(h===null){h=s.nativeEvent;var v=new h.constructor(h.type,h);Dn=v,h.target.dispatchEvent(v),Dn=null}else return l=yu(h),l!==null&&dl(l),s.blockedOn=h,!1;l.shift()}return!0}function no(s,l,h){ca(s)&&h.delete(l)}function Uf(){nu=!1,wr!==null&&ca(wr)&&(wr=null),ai!==null&&ca(ai)&&(ai=null),si!==null&&ca(si)&&(si=null),ns.forEach(no),Vn.forEach(no)}function oi(s,l){s.blockedOn===l&&(s.blockedOn=null,nu||(nu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Uf)))}function li(s){function l(w){return oi(w,s)}if(0<Ni.length){oi(Ni[0],s);for(var h=1;h<Ni.length;h++){var v=Ni[h];v.blockedOn===s&&(v.blockedOn=null)}}for(wr!==null&&oi(wr,s),ai!==null&&oi(ai,s),si!==null&&oi(si,s),ns.forEach(l),Vn.forEach(l),h=0;h<Pi.length;h++)v=Pi[h],v.blockedOn===s&&(v.blockedOn=null);for(;0<Pi.length&&(h=Pi[0],h.blockedOn===null);)Ff(h),h.blockedOn===null&&Pi.shift()}var ua=R.ReactCurrentBatchConfig,is=!0;function It(s,l,h,v){var w=nt,j=ua.transition;ua.transition=null;try{nt=1,iu(s,l,h,v)}finally{nt=w,ua.transition=j}}function Qg(s,l,h,v){var w=nt,j=ua.transition;ua.transition=null;try{nt=4,iu(s,l,h,v)}finally{nt=w,ua.transition=j}}function iu(s,l,h,v){if(is){var w=fl(s,l,h,v);if(w===null)l0(s,l,v,io,h),Vf(s,v);else if(Xg(w,s,l,h,v))v.stopPropagation();else if(Vf(s,v),l&4&&-1<Yg.indexOf(s)){for(;w!==null;){var j=yu(w);if(j!==null&&Mf(j),j=fl(s,l,h,v),j===null&&l0(s,l,v,io,h),j===w)break;w=j}w!==null&&v.stopPropagation()}else l0(s,l,v,null,h)}}var io=null;function fl(s,l,h,v){if(io=null,s=aa(v),s=oo(s),s!==null)if(l=Le(s),l===null)s=null;else if(h=l.tag,h===13){if(s=Qe(l),s!==null)return s;s=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null);return io=s,null}function au(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Pf()){case Zs:return 1;case Qa:return 4;case $n:case tu:return 16;case If:return 536870912;default:return 16}default:return 16}}var _n=null,hl=null,an=null;function su(){if(an)return an;var s,l=hl,h=l.length,v,w="value"in _n?_n.value:_n.textContent,j=w.length;for(s=0;s<h&&l[s]===w[s];s++);var V=h-s;for(v=1;v<=V&&l[h-v]===w[j-v];v++);return an=w.slice(s,1<v?1-v:void 0)}function pl(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function Ii(){return!0}function ou(){return!1}function _r(s){function l(h,v,w,j,V){this._reactName=h,this._targetInst=w,this.type=v,this.nativeEvent=j,this.target=V,this.currentTarget=null;for(var q in s)s.hasOwnProperty(q)&&(h=s[q],this[q]=h?h(j):j[q]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?Ii:ou,this.isPropagationStopped=ou,this}return ae(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Ii)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Ii)},persist:function(){},isPersistent:Ii}),l}var ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ml=_r(ci),Oi=ae({},ci,{view:0,detail:0}),Jg=_r(Oi),gl,da,as,ao=ae({},Oi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ci,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==as&&(as&&s.type==="mousemove"?(gl=s.screenX-as.screenX,da=s.screenY-as.screenY):da=gl=0,as=s),gl)},movementY:function(s){return"movementY"in s?s.movementY:da}}),vl=_r(ao),lu=ae({},ao,{dataTransfer:0}),Bf=_r(lu),yl=ae({},Oi,{relatedTarget:0}),xl=_r(yl),qf=ae({},ci,{animationName:0,elapsedTime:0,pseudoElement:0}),fa=_r(qf),zf=ae({},ci,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Wf=_r(zf),Hf=ae({},ci,{data:0}),cu=_r(Hf),bl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kf(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=Gf[s])?!!l[s]:!1}function Ci(){return Kf}var g=ae({},Oi,{key:function(s){if(s.key){var l=bl[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=pl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Hr[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ci,charCode:function(s){return s.type==="keypress"?pl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?pl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),k=_r(g),M=ae({},ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),U=_r(M),te=ae({},Oi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ci}),ce=_r(te),Te=ae({},ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),mt=_r(Te),er=ae({},ao,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),st=_r(er),dr=[9,13,27,32],Wt=u&&"CompositionEvent"in window,Fn=null;u&&"documentMode"in document&&(Fn=document.documentMode);var Sn=u&&"TextEvent"in window&&!Fn,so=u&&(!Wt||Fn&&8<Fn&&11>=Fn),wl=" ",Ok=!1;function Ck(s,l){switch(s){case"keyup":return dr.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rk(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var _l=!1;function d6(s,l){switch(s){case"compositionend":return Rk(l);case"keypress":return l.which!==32?null:(Ok=!0,wl);case"textInput":return s=l.data,s===wl&&Ok?null:s;default:return null}}function f6(s,l){if(_l)return s==="compositionend"||!Wt&&Ck(s,l)?(s=su(),an=hl=_n=null,_l=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return so&&l.locale!=="ko"?null:l.data;default:return null}}var h6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mk(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!h6[s.type]:l==="textarea"}function Dk(s,l,h,v){Pr(v),l=Zf(l,"onChange"),0<l.length&&(h=new ml("onChange","change",null,h,v),s.push({event:h,listeners:l}))}var uu=null,du=null;function p6(s){ej(s,0)}function Yf(s){var l=Tl(s);if(W(l))return s}function m6(s,l){if(s==="change")return l}var Lk=!1;if(u){var Zg;if(u){var e0="oninput"in document;if(!e0){var $k=document.createElement("div");$k.setAttribute("oninput","return;"),e0=typeof $k.oninput=="function"}Zg=e0}else Zg=!1;Lk=Zg&&(!document.documentMode||9<document.documentMode)}function Vk(){uu&&(uu.detachEvent("onpropertychange",Fk),du=uu=null)}function Fk(s){if(s.propertyName==="value"&&Yf(du)){var l=[];Dk(l,du,s,aa(s)),Js(p6,l)}}function g6(s,l,h){s==="focusin"?(Vk(),uu=l,du=h,uu.attachEvent("onpropertychange",Fk)):s==="focusout"&&Vk()}function v6(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Yf(du)}function y6(s,l){if(s==="click")return Yf(l)}function x6(s,l){if(s==="input"||s==="change")return Yf(l)}function b6(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var ui=typeof Object.is=="function"?Object.is:b6;function fu(s,l){if(ui(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var h=Object.keys(s),v=Object.keys(l);if(h.length!==v.length)return!1;for(v=0;v<h.length;v++){var w=h[v];if(!d.call(l,w)||!ui(s[w],l[w]))return!1}return!0}function Uk(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Bk(s,l){var h=Uk(s);s=0;for(var v;h;){if(h.nodeType===3){if(v=s+h.textContent.length,s<=l&&v>=l)return{node:h,offset:l-s};s=v}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=Uk(h)}}function qk(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?qk(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function zk(){for(var s=window,l=pe();l instanceof s.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)s=l.contentWindow;else break;l=pe(s.document)}return l}function t0(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}function w6(s){var l=zk(),h=s.focusedElem,v=s.selectionRange;if(l!==h&&h&&h.ownerDocument&&qk(h.ownerDocument.documentElement,h)){if(v!==null&&t0(h)){if(l=v.start,s=v.end,s===void 0&&(s=l),"selectionStart"in h)h.selectionStart=l,h.selectionEnd=Math.min(s,h.value.length);else if(s=(l=h.ownerDocument||document)&&l.defaultView||window,s.getSelection){s=s.getSelection();var w=h.textContent.length,j=Math.min(v.start,w);v=v.end===void 0?j:Math.min(v.end,w),!s.extend&&j>v&&(w=v,v=j,j=w),w=Bk(h,j);var V=Bk(h,v);w&&V&&(s.rangeCount!==1||s.anchorNode!==w.node||s.anchorOffset!==w.offset||s.focusNode!==V.node||s.focusOffset!==V.offset)&&(l=l.createRange(),l.setStart(w.node,w.offset),s.removeAllRanges(),j>v?(s.addRange(l),s.extend(V.node,V.offset)):(l.setEnd(V.node,V.offset),s.addRange(l)))}}for(l=[],s=h;s=s.parentNode;)s.nodeType===1&&l.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<l.length;h++)s=l[h],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var _6=u&&"documentMode"in document&&11>=document.documentMode,Sl=null,r0=null,hu=null,n0=!1;function Wk(s,l,h){var v=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;n0||Sl==null||Sl!==pe(v)||(v=Sl,"selectionStart"in v&&t0(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),hu&&fu(hu,v)||(hu=v,v=Zf(r0,"onSelect"),0<v.length&&(l=new ml("onSelect","select",null,l,h),s.push({event:l,listeners:v}),l.target=Sl)))}function Xf(s,l){var h={};return h[s.toLowerCase()]=l.toLowerCase(),h["Webkit"+s]="webkit"+l,h["Moz"+s]="moz"+l,h}var kl={animationend:Xf("Animation","AnimationEnd"),animationiteration:Xf("Animation","AnimationIteration"),animationstart:Xf("Animation","AnimationStart"),transitionend:Xf("Transition","TransitionEnd")},i0={},Hk={};u&&(Hk=document.createElement("div").style,"AnimationEvent"in window||(delete kl.animationend.animation,delete kl.animationiteration.animation,delete kl.animationstart.animation),"TransitionEvent"in window||delete kl.transitionend.transition);function Qf(s){if(i0[s])return i0[s];if(!kl[s])return s;var l=kl[s],h;for(h in l)if(l.hasOwnProperty(h)&&h in Hk)return i0[s]=l[h];return s}var Gk=Qf("animationend"),Kk=Qf("animationiteration"),Yk=Qf("animationstart"),Xk=Qf("transitionend"),Qk=new Map,Jk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ss(s,l){Qk.set(s,l),a(l,[s])}for(var a0=0;a0<Jk.length;a0++){var s0=Jk[a0],S6=s0.toLowerCase(),k6=s0[0].toUpperCase()+s0.slice(1);ss(S6,"on"+k6)}ss(Gk,"onAnimationEnd"),ss(Kk,"onAnimationIteration"),ss(Yk,"onAnimationStart"),ss("dblclick","onDoubleClick"),ss("focusin","onFocus"),ss("focusout","onBlur"),ss(Xk,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j6=new Set("cancel close invalid load scroll toggle".split(" ").concat(pu));function Zk(s,l,h){var v=s.type||"unknown-event";s.currentTarget=h,ll(v,l,void 0,s),s.currentTarget=null}function ej(s,l){l=(l&4)!==0;for(var h=0;h<s.length;h++){var v=s[h],w=v.event;v=v.listeners;e:{var j=void 0;if(l)for(var V=v.length-1;0<=V;V--){var q=v[V],G=q.instance,oe=q.currentTarget;if(q=q.listener,G!==j&&w.isPropagationStopped())break e;Zk(w,q,oe),j=G}else for(V=0;V<v.length;V++){if(q=v[V],G=q.instance,oe=q.currentTarget,q=q.listener,G!==j&&w.isPropagationStopped())break e;Zk(w,q,oe),j=G}}}if(yn)throw s=ur,yn=!1,ur=null,s}function Et(s,l){var h=l[p0];h===void 0&&(h=l[p0]=new Set);var v=s+"__bubble";h.has(v)||(tj(l,s,2,!1),h.add(v))}function o0(s,l,h){var v=0;l&&(v|=4),tj(h,s,v,l)}var Jf="_reactListening"+Math.random().toString(36).slice(2);function mu(s){if(!s[Jf]){s[Jf]=!0,n.forEach(function(h){h!=="selectionchange"&&(j6.has(h)||o0(h,!1,s),o0(h,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[Jf]||(l[Jf]=!0,o0("selectionchange",!1,l))}}function tj(s,l,h,v){switch(au(l)){case 1:var w=It;break;case 4:w=Qg;break;default:w=iu}h=w.bind(null,l,h,s),w=void 0,!Ya||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(w=!0),v?w!==void 0?s.addEventListener(l,h,{capture:!0,passive:w}):s.addEventListener(l,h,!0):w!==void 0?s.addEventListener(l,h,{passive:w}):s.addEventListener(l,h,!1)}function l0(s,l,h,v,w){var j=v;if((l&1)===0&&(l&2)===0&&v!==null)e:for(;;){if(v===null)return;var V=v.tag;if(V===3||V===4){var q=v.stateNode.containerInfo;if(q===w||q.nodeType===8&&q.parentNode===w)break;if(V===4)for(V=v.return;V!==null;){var G=V.tag;if((G===3||G===4)&&(G=V.stateNode.containerInfo,G===w||G.nodeType===8&&G.parentNode===w))return;V=V.return}for(;q!==null;){if(V=oo(q),V===null)return;if(G=V.tag,G===5||G===6){v=j=V;continue e}q=q.parentNode}}v=v.return}Js(function(){var oe=j,be=aa(h),_e=[];e:{var ye=Qk.get(s);if(ye!==void 0){var Ne=ml,Oe=s;switch(s){case"keypress":if(pl(h)===0)break e;case"keydown":case"keyup":Ne=k;break;case"focusin":Oe="focus",Ne=xl;break;case"focusout":Oe="blur",Ne=xl;break;case"beforeblur":case"afterblur":Ne=xl;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ne=vl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ne=Bf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ne=ce;break;case Gk:case Kk:case Yk:Ne=fa;break;case Xk:Ne=mt;break;case"scroll":Ne=Jg;break;case"wheel":Ne=st;break;case"copy":case"cut":case"paste":Ne=Wf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ne=U}var Re=(l&4)!==0,qt=!Re&&s==="scroll",re=Re?ye!==null?ye+"Capture":null:ye;Re=[];for(var X=oe,se;X!==null;){se=X;var Se=se.stateNode;if(se.tag===5&&Se!==null&&(se=Se,re!==null&&(Se=Rt(X,re),Se!=null&&Re.push(gu(X,Se,se)))),qt)break;X=X.return}0<Re.length&&(ye=new Ne(ye,Oe,null,h,be),_e.push({event:ye,listeners:Re}))}}if((l&7)===0){e:{if(ye=s==="mouseover"||s==="pointerover",Ne=s==="mouseout"||s==="pointerout",ye&&h!==Dn&&(Oe=h.relatedTarget||h.fromElement)&&(oo(Oe)||Oe[ha]))break e;if((Ne||ye)&&(ye=be.window===be?be:(ye=be.ownerDocument)?ye.defaultView||ye.parentWindow:window,Ne?(Oe=h.relatedTarget||h.toElement,Ne=oe,Oe=Oe?oo(Oe):null,Oe!==null&&(qt=Le(Oe),Oe!==qt||Oe.tag!==5&&Oe.tag!==6)&&(Oe=null)):(Ne=null,Oe=oe),Ne!==Oe)){if(Re=vl,Se="onMouseLeave",re="onMouseEnter",X="mouse",(s==="pointerout"||s==="pointerover")&&(Re=U,Se="onPointerLeave",re="onPointerEnter",X="pointer"),qt=Ne==null?ye:Tl(Ne),se=Oe==null?ye:Tl(Oe),ye=new Re(Se,X+"leave",Ne,h,be),ye.target=qt,ye.relatedTarget=se,Se=null,oo(be)===oe&&(Re=new Re(re,X+"enter",Oe,h,be),Re.target=se,Re.relatedTarget=qt,Se=Re),qt=Se,Ne&&Oe)t:{for(Re=Ne,re=Oe,X=0,se=Re;se;se=jl(se))X++;for(se=0,Se=re;Se;Se=jl(Se))se++;for(;0<X-se;)Re=jl(Re),X--;for(;0<se-X;)re=jl(re),se--;for(;X--;){if(Re===re||re!==null&&Re===re.alternate)break t;Re=jl(Re),re=jl(re)}Re=null}else Re=null;Ne!==null&&rj(_e,ye,Ne,Re,!1),Oe!==null&&qt!==null&&rj(_e,qt,Oe,Re,!0)}}e:{if(ye=oe?Tl(oe):window,Ne=ye.nodeName&&ye.nodeName.toLowerCase(),Ne==="select"||Ne==="input"&&ye.type==="file")var $e=m6;else if(Mk(ye))if(Lk)$e=x6;else{$e=v6;var Ue=g6}else(Ne=ye.nodeName)&&Ne.toLowerCase()==="input"&&(ye.type==="checkbox"||ye.type==="radio")&&($e=y6);if($e&&($e=$e(s,oe))){Dk(_e,$e,h,be);break e}Ue&&Ue(s,ye,oe),s==="focusout"&&(Ue=ye._wrapperState)&&Ue.controlled&&ye.type==="number"&&qr(ye,"number",ye.value)}switch(Ue=oe?Tl(oe):window,s){case"focusin":(Mk(Ue)||Ue.contentEditable==="true")&&(Sl=Ue,r0=oe,hu=null);break;case"focusout":hu=r0=Sl=null;break;case"mousedown":n0=!0;break;case"contextmenu":case"mouseup":case"dragend":n0=!1,Wk(_e,h,be);break;case"selectionchange":if(_6)break;case"keydown":case"keyup":Wk(_e,h,be)}var Be;if(Wt)e:{switch(s){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else _l?Ck(s,h)&&(He="onCompositionEnd"):s==="keydown"&&h.keyCode===229&&(He="onCompositionStart");He&&(so&&h.locale!=="ko"&&(_l||He!=="onCompositionStart"?He==="onCompositionEnd"&&_l&&(Be=su()):(_n=be,hl="value"in _n?_n.value:_n.textContent,_l=!0)),Ue=Zf(oe,He),0<Ue.length&&(He=new cu(He,s,null,h,be),_e.push({event:He,listeners:Ue}),Be?He.data=Be:(Be=Rk(h),Be!==null&&(He.data=Be)))),(Be=Sn?d6(s,h):f6(s,h))&&(oe=Zf(oe,"onBeforeInput"),0<oe.length&&(be=new cu("onBeforeInput","beforeinput",null,h,be),_e.push({event:be,listeners:oe}),be.data=Be))}ej(_e,l)})}function gu(s,l,h){return{instance:s,listener:l,currentTarget:h}}function Zf(s,l){for(var h=l+"Capture",v=[];s!==null;){var w=s,j=w.stateNode;w.tag===5&&j!==null&&(w=j,j=Rt(s,h),j!=null&&v.unshift(gu(s,j,w)),j=Rt(s,l),j!=null&&v.push(gu(s,j,w))),s=s.return}return v}function jl(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function rj(s,l,h,v,w){for(var j=l._reactName,V=[];h!==null&&h!==v;){var q=h,G=q.alternate,oe=q.stateNode;if(G!==null&&G===v)break;q.tag===5&&oe!==null&&(q=oe,w?(G=Rt(h,j),G!=null&&V.unshift(gu(h,G,q))):w||(G=Rt(h,j),G!=null&&V.push(gu(h,G,q)))),h=h.return}V.length!==0&&s.push({event:l,listeners:V})}var E6=/\r\n?/g,T6=/\u0000|\uFFFD/g;function nj(s){return(typeof s=="string"?s:""+s).replace(E6,`
`).replace(T6,"")}function eh(s,l,h){if(l=nj(l),nj(s)!==l&&h)throw Error(r(425))}function th(){}var c0=null,u0=null;function d0(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var f0=typeof setTimeout=="function"?setTimeout:void 0,A6=typeof clearTimeout=="function"?clearTimeout:void 0,ij=typeof Promise=="function"?Promise:void 0,N6=typeof queueMicrotask=="function"?queueMicrotask:typeof ij<"u"?function(s){return ij.resolve(null).then(s).catch(P6)}:f0;function P6(s){setTimeout(function(){throw s})}function h0(s,l){var h=l,v=0;do{var w=h.nextSibling;if(s.removeChild(h),w&&w.nodeType===8)if(h=w.data,h==="/$"){if(v===0){s.removeChild(w),li(l);return}v--}else h!=="$"&&h!=="$?"&&h!=="$!"||v++;h=w}while(h);li(l)}function os(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return s}function aj(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var h=s.data;if(h==="$"||h==="$!"||h==="$?"){if(l===0)return s;l--}else h==="/$"&&l++}s=s.previousSibling}return null}var El=Math.random().toString(36).slice(2),Ri="__reactFiber$"+El,vu="__reactProps$"+El,ha="__reactContainer$"+El,p0="__reactEvents$"+El,I6="__reactListeners$"+El,O6="__reactHandles$"+El;function oo(s){var l=s[Ri];if(l)return l;for(var h=s.parentNode;h;){if(l=h[ha]||h[Ri]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(s=aj(s);s!==null;){if(h=s[Ri])return h;s=aj(s)}return l}s=h,h=s.parentNode}return null}function yu(s){return s=s[Ri]||s[ha],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Tl(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(r(33))}function rh(s){return s[vu]||null}var m0=[],Al=-1;function ls(s){return{current:s}}function Tt(s){0>Al||(s.current=m0[Al],m0[Al]=null,Al--)}function _t(s,l){Al++,m0[Al]=s.current,s.current=l}var cs={},Or=ls(cs),sn=ls(!1),lo=cs;function Nl(s,l){var h=s.type.contextTypes;if(!h)return cs;var v=s.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===l)return v.__reactInternalMemoizedMaskedChildContext;var w={},j;for(j in h)w[j]=l[j];return v&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=l,s.__reactInternalMemoizedMaskedChildContext=w),w}function on(s){return s=s.childContextTypes,s!=null}function nh(){Tt(sn),Tt(Or)}function sj(s,l,h){if(Or.current!==cs)throw Error(r(168));_t(Or,l),_t(sn,h)}function oj(s,l,h){var v=s.stateNode;if(l=l.childContextTypes,typeof v.getChildContext!="function")return h;v=v.getChildContext();for(var w in v)if(!(w in l))throw Error(r(108,he(s)||"Unknown",w));return ae({},h,v)}function ih(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||cs,lo=Or.current,_t(Or,s),_t(sn,sn.current),!0}function lj(s,l,h){var v=s.stateNode;if(!v)throw Error(r(169));h?(s=oj(s,l,lo),v.__reactInternalMemoizedMergedChildContext=s,Tt(sn),Tt(Or),_t(Or,s)):Tt(sn),_t(sn,h)}var pa=null,ah=!1,g0=!1;function cj(s){pa===null?pa=[s]:pa.push(s)}function C6(s){ah=!0,cj(s)}function us(){if(!g0&&pa!==null){g0=!0;var s=0,l=nt;try{var h=pa;for(nt=1;s<h.length;s++){var v=h[s];do v=v(!0);while(v!==null)}pa=null,ah=!1}catch(w){throw pa!==null&&(pa=pa.slice(s+1)),Zt(Zs,us),w}finally{nt=l,g0=!1}}return null}var Pl=[],Il=0,sh=null,oh=0,Un=[],Bn=0,co=null,ma=1,ga="";function uo(s,l){Pl[Il++]=oh,Pl[Il++]=sh,sh=s,oh=l}function uj(s,l,h){Un[Bn++]=ma,Un[Bn++]=ga,Un[Bn++]=co,co=s;var v=ma;s=ga;var w=32-Wr(v)-1;v&=~(1<<w),h+=1;var j=32-Wr(l)+w;if(30<j){var V=w-w%5;j=(v&(1<<V)-1).toString(32),v>>=V,w-=V,ma=1<<32-Wr(l)+w|h<<w|v,ga=j+s}else ma=1<<j|h<<w|v,ga=s}function v0(s){s.return!==null&&(uo(s,1),uj(s,1,0))}function y0(s){for(;s===sh;)sh=Pl[--Il],Pl[Il]=null,oh=Pl[--Il],Pl[Il]=null;for(;s===co;)co=Un[--Bn],Un[Bn]=null,ga=Un[--Bn],Un[Bn]=null,ma=Un[--Bn],Un[Bn]=null}var kn=null,jn=null,Ot=!1,di=null;function dj(s,l){var h=Hn(5,null,null,0);h.elementType="DELETED",h.stateNode=l,h.return=s,l=s.deletions,l===null?(s.deletions=[h],s.flags|=16):l.push(h)}function fj(s,l){switch(s.tag){case 5:var h=s.type;return l=l.nodeType!==1||h.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(s.stateNode=l,kn=s,jn=os(l.firstChild),!0):!1;case 6:return l=s.pendingProps===""||l.nodeType!==3?null:l,l!==null?(s.stateNode=l,kn=s,jn=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(h=co!==null?{id:ma,overflow:ga}:null,s.memoizedState={dehydrated:l,treeContext:h,retryLane:1073741824},h=Hn(18,null,null,0),h.stateNode=l,h.return=s,s.child=h,kn=s,jn=null,!0):!1;default:return!1}}function x0(s){return(s.mode&1)!==0&&(s.flags&128)===0}function b0(s){if(Ot){var l=jn;if(l){var h=l;if(!fj(s,l)){if(x0(s))throw Error(r(418));l=os(h.nextSibling);var v=kn;l&&fj(s,l)?dj(v,h):(s.flags=s.flags&-4097|2,Ot=!1,kn=s)}}else{if(x0(s))throw Error(r(418));s.flags=s.flags&-4097|2,Ot=!1,kn=s}}}function hj(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;kn=s}function lh(s){if(s!==kn)return!1;if(!Ot)return hj(s),Ot=!0,!1;var l;if((l=s.tag!==3)&&!(l=s.tag!==5)&&(l=s.type,l=l!=="head"&&l!=="body"&&!d0(s.type,s.memoizedProps)),l&&(l=jn)){if(x0(s))throw pj(),Error(r(418));for(;l;)dj(s,l),l=os(l.nextSibling)}if(hj(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,l=0;s;){if(s.nodeType===8){var h=s.data;if(h==="/$"){if(l===0){jn=os(s.nextSibling);break e}l--}else h!=="$"&&h!=="$!"&&h!=="$?"||l++}s=s.nextSibling}jn=null}}else jn=kn?os(s.stateNode.nextSibling):null;return!0}function pj(){for(var s=jn;s;)s=os(s.nextSibling)}function Ol(){jn=kn=null,Ot=!1}function w0(s){di===null?di=[s]:di.push(s)}var R6=R.ReactCurrentBatchConfig;function xu(s,l,h){if(s=h.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(r(309));var v=h.stateNode}if(!v)throw Error(r(147,s));var w=v,j=""+s;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===j?l.ref:(l=function(V){var q=w.refs;V===null?delete q[j]:q[j]=V},l._stringRef=j,l)}if(typeof s!="string")throw Error(r(284));if(!h._owner)throw Error(r(290,s))}return s}function ch(s,l){throw s=Object.prototype.toString.call(l),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s))}function mj(s){var l=s._init;return l(s._payload)}function gj(s){function l(re,X){if(s){var se=re.deletions;se===null?(re.deletions=[X],re.flags|=16):se.push(X)}}function h(re,X){if(!s)return null;for(;X!==null;)l(re,X),X=X.sibling;return null}function v(re,X){for(re=new Map;X!==null;)X.key!==null?re.set(X.key,X):re.set(X.index,X),X=X.sibling;return re}function w(re,X){return re=ys(re,X),re.index=0,re.sibling=null,re}function j(re,X,se){return re.index=se,s?(se=re.alternate,se!==null?(se=se.index,se<X?(re.flags|=2,X):se):(re.flags|=2,X)):(re.flags|=1048576,X)}function V(re){return s&&re.alternate===null&&(re.flags|=2),re}function q(re,X,se,Se){return X===null||X.tag!==6?(X=fv(se,re.mode,Se),X.return=re,X):(X=w(X,se),X.return=re,X)}function G(re,X,se,Se){var $e=se.type;return $e===T?be(re,X,se.props.children,Se,se.key):X!==null&&(X.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===Q&&mj($e)===X.type)?(Se=w(X,se.props),Se.ref=xu(re,X,se),Se.return=re,Se):(Se=Ch(se.type,se.key,se.props,null,re.mode,Se),Se.ref=xu(re,X,se),Se.return=re,Se)}function oe(re,X,se,Se){return X===null||X.tag!==4||X.stateNode.containerInfo!==se.containerInfo||X.stateNode.implementation!==se.implementation?(X=hv(se,re.mode,Se),X.return=re,X):(X=w(X,se.children||[]),X.return=re,X)}function be(re,X,se,Se,$e){return X===null||X.tag!==7?(X=xo(se,re.mode,Se,$e),X.return=re,X):(X=w(X,se),X.return=re,X)}function _e(re,X,se){if(typeof X=="string"&&X!==""||typeof X=="number")return X=fv(""+X,re.mode,se),X.return=re,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case E:return se=Ch(X.type,X.key,X.props,null,re.mode,se),se.ref=xu(re,null,X),se.return=re,se;case N:return X=hv(X,re.mode,se),X.return=re,X;case Q:var Se=X._init;return _e(re,Se(X._payload),se)}if(zr(X)||J(X))return X=xo(X,re.mode,se,null),X.return=re,X;ch(re,X)}return null}function ye(re,X,se,Se){var $e=X!==null?X.key:null;if(typeof se=="string"&&se!==""||typeof se=="number")return $e!==null?null:q(re,X,""+se,Se);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case E:return se.key===$e?G(re,X,se,Se):null;case N:return se.key===$e?oe(re,X,se,Se):null;case Q:return $e=se._init,ye(re,X,$e(se._payload),Se)}if(zr(se)||J(se))return $e!==null?null:be(re,X,se,Se,null);ch(re,se)}return null}function Ne(re,X,se,Se,$e){if(typeof Se=="string"&&Se!==""||typeof Se=="number")return re=re.get(se)||null,q(X,re,""+Se,$e);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case E:return re=re.get(Se.key===null?se:Se.key)||null,G(X,re,Se,$e);case N:return re=re.get(Se.key===null?se:Se.key)||null,oe(X,re,Se,$e);case Q:var Ue=Se._init;return Ne(re,X,se,Ue(Se._payload),$e)}if(zr(Se)||J(Se))return re=re.get(se)||null,be(X,re,Se,$e,null);ch(X,Se)}return null}function Oe(re,X,se,Se){for(var $e=null,Ue=null,Be=X,He=X=0,pr=null;Be!==null&&He<se.length;He++){Be.index>He?(pr=Be,Be=null):pr=Be.sibling;var ct=ye(re,Be,se[He],Se);if(ct===null){Be===null&&(Be=pr);break}s&&Be&&ct.alternate===null&&l(re,Be),X=j(ct,X,He),Ue===null?$e=ct:Ue.sibling=ct,Ue=ct,Be=pr}if(He===se.length)return h(re,Be),Ot&&uo(re,He),$e;if(Be===null){for(;He<se.length;He++)Be=_e(re,se[He],Se),Be!==null&&(X=j(Be,X,He),Ue===null?$e=Be:Ue.sibling=Be,Ue=Be);return Ot&&uo(re,He),$e}for(Be=v(re,Be);He<se.length;He++)pr=Ne(Be,re,He,se[He],Se),pr!==null&&(s&&pr.alternate!==null&&Be.delete(pr.key===null?He:pr.key),X=j(pr,X,He),Ue===null?$e=pr:Ue.sibling=pr,Ue=pr);return s&&Be.forEach(function(xs){return l(re,xs)}),Ot&&uo(re,He),$e}function Re(re,X,se,Se){var $e=J(se);if(typeof $e!="function")throw Error(r(150));if(se=$e.call(se),se==null)throw Error(r(151));for(var Ue=$e=null,Be=X,He=X=0,pr=null,ct=se.next();Be!==null&&!ct.done;He++,ct=se.next()){Be.index>He?(pr=Be,Be=null):pr=Be.sibling;var xs=ye(re,Be,ct.value,Se);if(xs===null){Be===null&&(Be=pr);break}s&&Be&&xs.alternate===null&&l(re,Be),X=j(xs,X,He),Ue===null?$e=xs:Ue.sibling=xs,Ue=xs,Be=pr}if(ct.done)return h(re,Be),Ot&&uo(re,He),$e;if(Be===null){for(;!ct.done;He++,ct=se.next())ct=_e(re,ct.value,Se),ct!==null&&(X=j(ct,X,He),Ue===null?$e=ct:Ue.sibling=ct,Ue=ct);return Ot&&uo(re,He),$e}for(Be=v(re,Be);!ct.done;He++,ct=se.next())ct=Ne(Be,re,He,ct.value,Se),ct!==null&&(s&&ct.alternate!==null&&Be.delete(ct.key===null?He:ct.key),X=j(ct,X,He),Ue===null?$e=ct:Ue.sibling=ct,Ue=ct);return s&&Be.forEach(function(h$){return l(re,h$)}),Ot&&uo(re,He),$e}function qt(re,X,se,Se){if(typeof se=="object"&&se!==null&&se.type===T&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case E:e:{for(var $e=se.key,Ue=X;Ue!==null;){if(Ue.key===$e){if($e=se.type,$e===T){if(Ue.tag===7){h(re,Ue.sibling),X=w(Ue,se.props.children),X.return=re,re=X;break e}}else if(Ue.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===Q&&mj($e)===Ue.type){h(re,Ue.sibling),X=w(Ue,se.props),X.ref=xu(re,Ue,se),X.return=re,re=X;break e}h(re,Ue);break}else l(re,Ue);Ue=Ue.sibling}se.type===T?(X=xo(se.props.children,re.mode,Se,se.key),X.return=re,re=X):(Se=Ch(se.type,se.key,se.props,null,re.mode,Se),Se.ref=xu(re,X,se),Se.return=re,re=Se)}return V(re);case N:e:{for(Ue=se.key;X!==null;){if(X.key===Ue)if(X.tag===4&&X.stateNode.containerInfo===se.containerInfo&&X.stateNode.implementation===se.implementation){h(re,X.sibling),X=w(X,se.children||[]),X.return=re,re=X;break e}else{h(re,X);break}else l(re,X);X=X.sibling}X=hv(se,re.mode,Se),X.return=re,re=X}return V(re);case Q:return Ue=se._init,qt(re,X,Ue(se._payload),Se)}if(zr(se))return Oe(re,X,se,Se);if(J(se))return Re(re,X,se,Se);ch(re,se)}return typeof se=="string"&&se!==""||typeof se=="number"?(se=""+se,X!==null&&X.tag===6?(h(re,X.sibling),X=w(X,se),X.return=re,re=X):(h(re,X),X=fv(se,re.mode,Se),X.return=re,re=X),V(re)):h(re,X)}return qt}var Cl=gj(!0),vj=gj(!1),uh=ls(null),dh=null,Rl=null,_0=null;function S0(){_0=Rl=dh=null}function k0(s){var l=uh.current;Tt(uh),s._currentValue=l}function j0(s,l,h){for(;s!==null;){var v=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,v!==null&&(v.childLanes|=l)):v!==null&&(v.childLanes&l)!==l&&(v.childLanes|=l),s===h)break;s=s.return}}function Ml(s,l){dh=s,_0=Rl=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&l)!==0&&(ln=!0),s.firstContext=null)}function qn(s){var l=s._currentValue;if(_0!==s)if(s={context:s,memoizedValue:l,next:null},Rl===null){if(dh===null)throw Error(r(308));Rl=s,dh.dependencies={lanes:0,firstContext:s}}else Rl=Rl.next=s;return l}var fo=null;function E0(s){fo===null?fo=[s]:fo.push(s)}function yj(s,l,h,v){var w=l.interleaved;return w===null?(h.next=h,E0(l)):(h.next=w.next,w.next=h),l.interleaved=h,va(s,v)}function va(s,l){s.lanes|=l;var h=s.alternate;for(h!==null&&(h.lanes|=l),h=s,s=s.return;s!==null;)s.childLanes|=l,h=s.alternate,h!==null&&(h.childLanes|=l),h=s,s=s.return;return h.tag===3?h.stateNode:null}var ds=!1;function T0(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xj(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function ya(s,l){return{eventTime:s,lane:l,tag:0,payload:null,callback:null,next:null}}function fs(s,l,h){var v=s.updateQueue;if(v===null)return null;if(v=v.shared,(lt&2)!==0){var w=v.pending;return w===null?l.next=l:(l.next=w.next,w.next=l),v.pending=l,va(s,h)}return w=v.interleaved,w===null?(l.next=l,E0(v)):(l.next=w.next,w.next=l),v.interleaved=l,va(s,h)}function fh(s,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194240)!==0)){var v=l.lanes;v&=s.pendingLanes,h|=v,l.lanes=h,ts(s,h)}}function bj(s,l){var h=s.updateQueue,v=s.alternate;if(v!==null&&(v=v.updateQueue,h===v)){var w=null,j=null;if(h=h.firstBaseUpdate,h!==null){do{var V={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};j===null?w=j=V:j=j.next=V,h=h.next}while(h!==null);j===null?w=j=l:j=j.next=l}else w=j=l;h={baseState:v.baseState,firstBaseUpdate:w,lastBaseUpdate:j,shared:v.shared,effects:v.effects},s.updateQueue=h;return}s=h.lastBaseUpdate,s===null?h.firstBaseUpdate=l:s.next=l,h.lastBaseUpdate=l}function hh(s,l,h,v){var w=s.updateQueue;ds=!1;var j=w.firstBaseUpdate,V=w.lastBaseUpdate,q=w.shared.pending;if(q!==null){w.shared.pending=null;var G=q,oe=G.next;G.next=null,V===null?j=oe:V.next=oe,V=G;var be=s.alternate;be!==null&&(be=be.updateQueue,q=be.lastBaseUpdate,q!==V&&(q===null?be.firstBaseUpdate=oe:q.next=oe,be.lastBaseUpdate=G))}if(j!==null){var _e=w.baseState;V=0,be=oe=G=null,q=j;do{var ye=q.lane,Ne=q.eventTime;if((v&ye)===ye){be!==null&&(be=be.next={eventTime:Ne,lane:0,tag:q.tag,payload:q.payload,callback:q.callback,next:null});e:{var Oe=s,Re=q;switch(ye=l,Ne=h,Re.tag){case 1:if(Oe=Re.payload,typeof Oe=="function"){_e=Oe.call(Ne,_e,ye);break e}_e=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=Re.payload,ye=typeof Oe=="function"?Oe.call(Ne,_e,ye):Oe,ye==null)break e;_e=ae({},_e,ye);break e;case 2:ds=!0}}q.callback!==null&&q.lane!==0&&(s.flags|=64,ye=w.effects,ye===null?w.effects=[q]:ye.push(q))}else Ne={eventTime:Ne,lane:ye,tag:q.tag,payload:q.payload,callback:q.callback,next:null},be===null?(oe=be=Ne,G=_e):be=be.next=Ne,V|=ye;if(q=q.next,q===null){if(q=w.shared.pending,q===null)break;ye=q,q=ye.next,ye.next=null,w.lastBaseUpdate=ye,w.shared.pending=null}}while(!0);if(be===null&&(G=_e),w.baseState=G,w.firstBaseUpdate=oe,w.lastBaseUpdate=be,l=w.shared.interleaved,l!==null){w=l;do V|=w.lane,w=w.next;while(w!==l)}else j===null&&(w.shared.lanes=0);mo|=V,s.lanes=V,s.memoizedState=_e}}function wj(s,l,h){if(s=l.effects,l.effects=null,s!==null)for(l=0;l<s.length;l++){var v=s[l],w=v.callback;if(w!==null){if(v.callback=null,v=h,typeof w!="function")throw Error(r(191,w));w.call(v)}}}var bu={},Mi=ls(bu),wu=ls(bu),_u=ls(bu);function ho(s){if(s===bu)throw Error(r(174));return s}function A0(s,l){switch(_t(_u,l),_t(wu,s),_t(Mi,bu),s=l.nodeType,s){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Ft(null,"");break;default:s=s===8?l.parentNode:l,l=s.namespaceURI||null,s=s.tagName,l=Ft(l,s)}Tt(Mi),_t(Mi,l)}function Dl(){Tt(Mi),Tt(wu),Tt(_u)}function _j(s){ho(_u.current);var l=ho(Mi.current),h=Ft(l,s.type);l!==h&&(_t(wu,s),_t(Mi,h))}function N0(s){wu.current===s&&(Tt(Mi),Tt(wu))}var Mt=ls(0);function ph(s){for(var l=s;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var P0=[];function I0(){for(var s=0;s<P0.length;s++)P0[s]._workInProgressVersionPrimary=null;P0.length=0}var mh=R.ReactCurrentDispatcher,O0=R.ReactCurrentBatchConfig,po=0,Dt=null,tr=null,fr=null,gh=!1,Su=!1,ku=0,M6=0;function Cr(){throw Error(r(321))}function C0(s,l){if(l===null)return!1;for(var h=0;h<l.length&&h<s.length;h++)if(!ui(s[h],l[h]))return!1;return!0}function R0(s,l,h,v,w,j){if(po=j,Dt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,mh.current=s===null||s.memoizedState===null?V6:F6,s=h(v,w),Su){j=0;do{if(Su=!1,ku=0,25<=j)throw Error(r(301));j+=1,fr=tr=null,l.updateQueue=null,mh.current=U6,s=h(v,w)}while(Su)}if(mh.current=xh,l=tr!==null&&tr.next!==null,po=0,fr=tr=Dt=null,gh=!1,l)throw Error(r(300));return s}function M0(){var s=ku!==0;return ku=0,s}function Di(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fr===null?Dt.memoizedState=fr=s:fr=fr.next=s,fr}function zn(){if(tr===null){var s=Dt.alternate;s=s!==null?s.memoizedState:null}else s=tr.next;var l=fr===null?Dt.memoizedState:fr.next;if(l!==null)fr=l,tr=s;else{if(s===null)throw Error(r(310));tr=s,s={memoizedState:tr.memoizedState,baseState:tr.baseState,baseQueue:tr.baseQueue,queue:tr.queue,next:null},fr===null?Dt.memoizedState=fr=s:fr=fr.next=s}return fr}function ju(s,l){return typeof l=="function"?l(s):l}function D0(s){var l=zn(),h=l.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=s;var v=tr,w=v.baseQueue,j=h.pending;if(j!==null){if(w!==null){var V=w.next;w.next=j.next,j.next=V}v.baseQueue=w=j,h.pending=null}if(w!==null){j=w.next,v=v.baseState;var q=V=null,G=null,oe=j;do{var be=oe.lane;if((po&be)===be)G!==null&&(G=G.next={lane:0,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),v=oe.hasEagerState?oe.eagerState:s(v,oe.action);else{var _e={lane:be,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null};G===null?(q=G=_e,V=v):G=G.next=_e,Dt.lanes|=be,mo|=be}oe=oe.next}while(oe!==null&&oe!==j);G===null?V=v:G.next=q,ui(v,l.memoizedState)||(ln=!0),l.memoizedState=v,l.baseState=V,l.baseQueue=G,h.lastRenderedState=v}if(s=h.interleaved,s!==null){w=s;do j=w.lane,Dt.lanes|=j,mo|=j,w=w.next;while(w!==s)}else w===null&&(h.lanes=0);return[l.memoizedState,h.dispatch]}function L0(s){var l=zn(),h=l.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=s;var v=h.dispatch,w=h.pending,j=l.memoizedState;if(w!==null){h.pending=null;var V=w=w.next;do j=s(j,V.action),V=V.next;while(V!==w);ui(j,l.memoizedState)||(ln=!0),l.memoizedState=j,l.baseQueue===null&&(l.baseState=j),h.lastRenderedState=j}return[j,v]}function Sj(){}function kj(s,l){var h=Dt,v=zn(),w=l(),j=!ui(v.memoizedState,w);if(j&&(v.memoizedState=w,ln=!0),v=v.queue,$0(Tj.bind(null,h,v,s),[s]),v.getSnapshot!==l||j||fr!==null&&fr.memoizedState.tag&1){if(h.flags|=2048,Eu(9,Ej.bind(null,h,v,w,l),void 0,null),hr===null)throw Error(r(349));(po&30)!==0||jj(h,l,w)}return w}function jj(s,l,h){s.flags|=16384,s={getSnapshot:l,value:h},l=Dt.updateQueue,l===null?(l={lastEffect:null,stores:null},Dt.updateQueue=l,l.stores=[s]):(h=l.stores,h===null?l.stores=[s]:h.push(s))}function Ej(s,l,h,v){l.value=h,l.getSnapshot=v,Aj(l)&&Nj(s)}function Tj(s,l,h){return h(function(){Aj(l)&&Nj(s)})}function Aj(s){var l=s.getSnapshot;s=s.value;try{var h=l();return!ui(s,h)}catch{return!0}}function Nj(s){var l=va(s,1);l!==null&&mi(l,s,1,-1)}function Pj(s){var l=Di();return typeof s=="function"&&(s=s()),l.memoizedState=l.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ju,lastRenderedState:s},l.queue=s,s=s.dispatch=$6.bind(null,Dt,s),[l.memoizedState,s]}function Eu(s,l,h,v){return s={tag:s,create:l,destroy:h,deps:v,next:null},l=Dt.updateQueue,l===null?(l={lastEffect:null,stores:null},Dt.updateQueue=l,l.lastEffect=s.next=s):(h=l.lastEffect,h===null?l.lastEffect=s.next=s:(v=h.next,h.next=s,s.next=v,l.lastEffect=s)),s}function Ij(){return zn().memoizedState}function vh(s,l,h,v){var w=Di();Dt.flags|=s,w.memoizedState=Eu(1|l,h,void 0,v===void 0?null:v)}function yh(s,l,h,v){var w=zn();v=v===void 0?null:v;var j=void 0;if(tr!==null){var V=tr.memoizedState;if(j=V.destroy,v!==null&&C0(v,V.deps)){w.memoizedState=Eu(l,h,j,v);return}}Dt.flags|=s,w.memoizedState=Eu(1|l,h,j,v)}function Oj(s,l){return vh(8390656,8,s,l)}function $0(s,l){return yh(2048,8,s,l)}function Cj(s,l){return yh(4,2,s,l)}function Rj(s,l){return yh(4,4,s,l)}function Mj(s,l){if(typeof l=="function")return s=s(),l(s),function(){l(null)};if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function Dj(s,l,h){return h=h!=null?h.concat([s]):null,yh(4,4,Mj.bind(null,l,s),h)}function V0(){}function Lj(s,l){var h=zn();l=l===void 0?null:l;var v=h.memoizedState;return v!==null&&l!==null&&C0(l,v[1])?v[0]:(h.memoizedState=[s,l],s)}function $j(s,l){var h=zn();l=l===void 0?null:l;var v=h.memoizedState;return v!==null&&l!==null&&C0(l,v[1])?v[0]:(s=s(),h.memoizedState=[s,l],s)}function Vj(s,l,h){return(po&21)===0?(s.baseState&&(s.baseState=!1,ln=!0),s.memoizedState=h):(ui(h,l)||(h=ro(),Dt.lanes|=h,mo|=h,s.baseState=!0),l)}function D6(s,l){var h=nt;nt=h!==0&&4>h?h:4,s(!0);var v=O0.transition;O0.transition={};try{s(!1),l()}finally{nt=h,O0.transition=v}}function Fj(){return zn().memoizedState}function L6(s,l,h){var v=gs(s);if(h={lane:v,action:h,hasEagerState:!1,eagerState:null,next:null},Uj(s))Bj(l,h);else if(h=yj(s,l,h,v),h!==null){var w=Kr();mi(h,s,v,w),qj(h,l,v)}}function $6(s,l,h){var v=gs(s),w={lane:v,action:h,hasEagerState:!1,eagerState:null,next:null};if(Uj(s))Bj(l,w);else{var j=s.alternate;if(s.lanes===0&&(j===null||j.lanes===0)&&(j=l.lastRenderedReducer,j!==null))try{var V=l.lastRenderedState,q=j(V,h);if(w.hasEagerState=!0,w.eagerState=q,ui(q,V)){var G=l.interleaved;G===null?(w.next=w,E0(l)):(w.next=G.next,G.next=w),l.interleaved=w;return}}catch{}finally{}h=yj(s,l,w,v),h!==null&&(w=Kr(),mi(h,s,v,w),qj(h,l,v))}}function Uj(s){var l=s.alternate;return s===Dt||l!==null&&l===Dt}function Bj(s,l){Su=gh=!0;var h=s.pending;h===null?l.next=l:(l.next=h.next,h.next=l),s.pending=l}function qj(s,l,h){if((h&4194240)!==0){var v=l.lanes;v&=s.pendingLanes,h|=v,l.lanes=h,ts(s,h)}}var xh={readContext:qn,useCallback:Cr,useContext:Cr,useEffect:Cr,useImperativeHandle:Cr,useInsertionEffect:Cr,useLayoutEffect:Cr,useMemo:Cr,useReducer:Cr,useRef:Cr,useState:Cr,useDebugValue:Cr,useDeferredValue:Cr,useTransition:Cr,useMutableSource:Cr,useSyncExternalStore:Cr,useId:Cr,unstable_isNewReconciler:!1},V6={readContext:qn,useCallback:function(s,l){return Di().memoizedState=[s,l===void 0?null:l],s},useContext:qn,useEffect:Oj,useImperativeHandle:function(s,l,h){return h=h!=null?h.concat([s]):null,vh(4194308,4,Mj.bind(null,l,s),h)},useLayoutEffect:function(s,l){return vh(4194308,4,s,l)},useInsertionEffect:function(s,l){return vh(4,2,s,l)},useMemo:function(s,l){var h=Di();return l=l===void 0?null:l,s=s(),h.memoizedState=[s,l],s},useReducer:function(s,l,h){var v=Di();return l=h!==void 0?h(l):l,v.memoizedState=v.baseState=l,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:l},v.queue=s,s=s.dispatch=L6.bind(null,Dt,s),[v.memoizedState,s]},useRef:function(s){var l=Di();return s={current:s},l.memoizedState=s},useState:Pj,useDebugValue:V0,useDeferredValue:function(s){return Di().memoizedState=s},useTransition:function(){var s=Pj(!1),l=s[0];return s=D6.bind(null,s[1]),Di().memoizedState=s,[l,s]},useMutableSource:function(){},useSyncExternalStore:function(s,l,h){var v=Dt,w=Di();if(Ot){if(h===void 0)throw Error(r(407));h=h()}else{if(h=l(),hr===null)throw Error(r(349));(po&30)!==0||jj(v,l,h)}w.memoizedState=h;var j={value:h,getSnapshot:l};return w.queue=j,Oj(Tj.bind(null,v,j,s),[s]),v.flags|=2048,Eu(9,Ej.bind(null,v,j,h,l),void 0,null),h},useId:function(){var s=Di(),l=hr.identifierPrefix;if(Ot){var h=ga,v=ma;h=(v&~(1<<32-Wr(v)-1)).toString(32)+h,l=":"+l+"R"+h,h=ku++,0<h&&(l+="H"+h.toString(32)),l+=":"}else h=M6++,l=":"+l+"r"+h.toString(32)+":";return s.memoizedState=l},unstable_isNewReconciler:!1},F6={readContext:qn,useCallback:Lj,useContext:qn,useEffect:$0,useImperativeHandle:Dj,useInsertionEffect:Cj,useLayoutEffect:Rj,useMemo:$j,useReducer:D0,useRef:Ij,useState:function(){return D0(ju)},useDebugValue:V0,useDeferredValue:function(s){var l=zn();return Vj(l,tr.memoizedState,s)},useTransition:function(){var s=D0(ju)[0],l=zn().memoizedState;return[s,l]},useMutableSource:Sj,useSyncExternalStore:kj,useId:Fj,unstable_isNewReconciler:!1},U6={readContext:qn,useCallback:Lj,useContext:qn,useEffect:$0,useImperativeHandle:Dj,useInsertionEffect:Cj,useLayoutEffect:Rj,useMemo:$j,useReducer:L0,useRef:Ij,useState:function(){return L0(ju)},useDebugValue:V0,useDeferredValue:function(s){var l=zn();return tr===null?l.memoizedState=s:Vj(l,tr.memoizedState,s)},useTransition:function(){var s=L0(ju)[0],l=zn().memoizedState;return[s,l]},useMutableSource:Sj,useSyncExternalStore:kj,useId:Fj,unstable_isNewReconciler:!1};function fi(s,l){if(s&&s.defaultProps){l=ae({},l),s=s.defaultProps;for(var h in s)l[h]===void 0&&(l[h]=s[h]);return l}return l}function F0(s,l,h,v){l=s.memoizedState,h=h(v,l),h=h==null?l:ae({},l,h),s.memoizedState=h,s.lanes===0&&(s.updateQueue.baseState=h)}var bh={isMounted:function(s){return(s=s._reactInternals)?Le(s)===s:!1},enqueueSetState:function(s,l,h){s=s._reactInternals;var v=Kr(),w=gs(s),j=ya(v,w);j.payload=l,h!=null&&(j.callback=h),l=fs(s,j,w),l!==null&&(mi(l,s,w,v),fh(l,s,w))},enqueueReplaceState:function(s,l,h){s=s._reactInternals;var v=Kr(),w=gs(s),j=ya(v,w);j.tag=1,j.payload=l,h!=null&&(j.callback=h),l=fs(s,j,w),l!==null&&(mi(l,s,w,v),fh(l,s,w))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var h=Kr(),v=gs(s),w=ya(h,v);w.tag=2,l!=null&&(w.callback=l),l=fs(s,w,v),l!==null&&(mi(l,s,v,h),fh(l,s,v))}};function zj(s,l,h,v,w,j,V){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(v,j,V):l.prototype&&l.prototype.isPureReactComponent?!fu(h,v)||!fu(w,j):!0}function Wj(s,l,h){var v=!1,w=cs,j=l.contextType;return typeof j=="object"&&j!==null?j=qn(j):(w=on(l)?lo:Or.current,v=l.contextTypes,j=(v=v!=null)?Nl(s,w):cs),l=new l(h,j),s.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=bh,s.stateNode=l,l._reactInternals=s,v&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=w,s.__reactInternalMemoizedMaskedChildContext=j),l}function Hj(s,l,h,v){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,v),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,v),l.state!==s&&bh.enqueueReplaceState(l,l.state,null)}function U0(s,l,h,v){var w=s.stateNode;w.props=h,w.state=s.memoizedState,w.refs={},T0(s);var j=l.contextType;typeof j=="object"&&j!==null?w.context=qn(j):(j=on(l)?lo:Or.current,w.context=Nl(s,j)),w.state=s.memoizedState,j=l.getDerivedStateFromProps,typeof j=="function"&&(F0(s,l,j,h),w.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(l=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),l!==w.state&&bh.enqueueReplaceState(w,w.state,null),hh(s,h,w,v),w.state=s.memoizedState),typeof w.componentDidMount=="function"&&(s.flags|=4194308)}function Ll(s,l){try{var h="",v=l;do h+=fe(v),v=v.return;while(v);var w=h}catch(j){w=`
Error generating stack: `+j.message+`
`+j.stack}return{value:s,source:l,stack:w,digest:null}}function B0(s,l,h){return{value:s,source:null,stack:h??null,digest:l??null}}function q0(s,l){try{console.error(l.value)}catch(h){setTimeout(function(){throw h})}}var B6=typeof WeakMap=="function"?WeakMap:Map;function Gj(s,l,h){h=ya(-1,h),h.tag=3,h.payload={element:null};var v=l.value;return h.callback=function(){Th||(Th=!0,iv=v),q0(s,l)},h}function Kj(s,l,h){h=ya(-1,h),h.tag=3;var v=s.type.getDerivedStateFromError;if(typeof v=="function"){var w=l.value;h.payload=function(){return v(w)},h.callback=function(){q0(s,l)}}var j=s.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(h.callback=function(){q0(s,l),typeof v!="function"&&(ps===null?ps=new Set([this]):ps.add(this));var V=l.stack;this.componentDidCatch(l.value,{componentStack:V!==null?V:""})}),h}function Yj(s,l,h){var v=s.pingCache;if(v===null){v=s.pingCache=new B6;var w=new Set;v.set(l,w)}else w=v.get(l),w===void 0&&(w=new Set,v.set(l,w));w.has(h)||(w.add(h),s=r$.bind(null,s,l,h),l.then(s,s))}function Xj(s){do{var l;if((l=s.tag===13)&&(l=s.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return s;s=s.return}while(s!==null);return null}function Qj(s,l,h,v,w){return(s.mode&1)===0?(s===l?s.flags|=65536:(s.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(l=ya(-1,1),l.tag=2,fs(h,l,1))),h.lanes|=1),s):(s.flags|=65536,s.lanes=w,s)}var q6=R.ReactCurrentOwner,ln=!1;function Gr(s,l,h,v){l.child=s===null?vj(l,null,h,v):Cl(l,s.child,h,v)}function Jj(s,l,h,v,w){h=h.render;var j=l.ref;return Ml(l,w),v=R0(s,l,h,v,j,w),h=M0(),s!==null&&!ln?(l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~w,xa(s,l,w)):(Ot&&h&&v0(l),l.flags|=1,Gr(s,l,v,w),l.child)}function Zj(s,l,h,v,w){if(s===null){var j=h.type;return typeof j=="function"&&!dv(j)&&j.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(l.tag=15,l.type=j,eE(s,l,j,v,w)):(s=Ch(h.type,null,v,l,l.mode,w),s.ref=l.ref,s.return=l,l.child=s)}if(j=s.child,(s.lanes&w)===0){var V=j.memoizedProps;if(h=h.compare,h=h!==null?h:fu,h(V,v)&&s.ref===l.ref)return xa(s,l,w)}return l.flags|=1,s=ys(j,v),s.ref=l.ref,s.return=l,l.child=s}function eE(s,l,h,v,w){if(s!==null){var j=s.memoizedProps;if(fu(j,v)&&s.ref===l.ref)if(ln=!1,l.pendingProps=v=j,(s.lanes&w)!==0)(s.flags&131072)!==0&&(ln=!0);else return l.lanes=s.lanes,xa(s,l,w)}return z0(s,l,h,v,w)}function tE(s,l,h){var v=l.pendingProps,w=v.children,j=s!==null?s.memoizedState:null;if(v.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},_t(Vl,En),En|=h;else{if((h&1073741824)===0)return s=j!==null?j.baseLanes|h:h,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:s,cachePool:null,transitions:null},l.updateQueue=null,_t(Vl,En),En|=s,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=j!==null?j.baseLanes:h,_t(Vl,En),En|=v}else j!==null?(v=j.baseLanes|h,l.memoizedState=null):v=h,_t(Vl,En),En|=v;return Gr(s,l,w,h),l.child}function rE(s,l){var h=l.ref;(s===null&&h!==null||s!==null&&s.ref!==h)&&(l.flags|=512,l.flags|=2097152)}function z0(s,l,h,v,w){var j=on(h)?lo:Or.current;return j=Nl(l,j),Ml(l,w),h=R0(s,l,h,v,j,w),v=M0(),s!==null&&!ln?(l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~w,xa(s,l,w)):(Ot&&v&&v0(l),l.flags|=1,Gr(s,l,h,w),l.child)}function nE(s,l,h,v,w){if(on(h)){var j=!0;ih(l)}else j=!1;if(Ml(l,w),l.stateNode===null)_h(s,l),Wj(l,h,v),U0(l,h,v,w),v=!0;else if(s===null){var V=l.stateNode,q=l.memoizedProps;V.props=q;var G=V.context,oe=h.contextType;typeof oe=="object"&&oe!==null?oe=qn(oe):(oe=on(h)?lo:Or.current,oe=Nl(l,oe));var be=h.getDerivedStateFromProps,_e=typeof be=="function"||typeof V.getSnapshotBeforeUpdate=="function";_e||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(q!==v||G!==oe)&&Hj(l,V,v,oe),ds=!1;var ye=l.memoizedState;V.state=ye,hh(l,v,V,w),G=l.memoizedState,q!==v||ye!==G||sn.current||ds?(typeof be=="function"&&(F0(l,h,be,v),G=l.memoizedState),(q=ds||zj(l,h,q,v,ye,G,oe))?(_e||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(l.flags|=4194308)):(typeof V.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=v,l.memoizedState=G),V.props=v,V.state=G,V.context=oe,v=q):(typeof V.componentDidMount=="function"&&(l.flags|=4194308),v=!1)}else{V=l.stateNode,xj(s,l),q=l.memoizedProps,oe=l.type===l.elementType?q:fi(l.type,q),V.props=oe,_e=l.pendingProps,ye=V.context,G=h.contextType,typeof G=="object"&&G!==null?G=qn(G):(G=on(h)?lo:Or.current,G=Nl(l,G));var Ne=h.getDerivedStateFromProps;(be=typeof Ne=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(q!==_e||ye!==G)&&Hj(l,V,v,G),ds=!1,ye=l.memoizedState,V.state=ye,hh(l,v,V,w);var Oe=l.memoizedState;q!==_e||ye!==Oe||sn.current||ds?(typeof Ne=="function"&&(F0(l,h,Ne,v),Oe=l.memoizedState),(oe=ds||zj(l,h,oe,v,ye,Oe,G)||!1)?(be||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(v,Oe,G),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(v,Oe,G)),typeof V.componentDidUpdate=="function"&&(l.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof V.componentDidUpdate!="function"||q===s.memoizedProps&&ye===s.memoizedState||(l.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||q===s.memoizedProps&&ye===s.memoizedState||(l.flags|=1024),l.memoizedProps=v,l.memoizedState=Oe),V.props=v,V.state=Oe,V.context=G,v=oe):(typeof V.componentDidUpdate!="function"||q===s.memoizedProps&&ye===s.memoizedState||(l.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||q===s.memoizedProps&&ye===s.memoizedState||(l.flags|=1024),v=!1)}return W0(s,l,h,v,j,w)}function W0(s,l,h,v,w,j){rE(s,l);var V=(l.flags&128)!==0;if(!v&&!V)return w&&lj(l,h,!1),xa(s,l,j);v=l.stateNode,q6.current=l;var q=V&&typeof h.getDerivedStateFromError!="function"?null:v.render();return l.flags|=1,s!==null&&V?(l.child=Cl(l,s.child,null,j),l.child=Cl(l,null,q,j)):Gr(s,l,q,j),l.memoizedState=v.state,w&&lj(l,h,!0),l.child}function iE(s){var l=s.stateNode;l.pendingContext?sj(s,l.pendingContext,l.pendingContext!==l.context):l.context&&sj(s,l.context,!1),A0(s,l.containerInfo)}function aE(s,l,h,v,w){return Ol(),w0(w),l.flags|=256,Gr(s,l,h,v),l.child}var H0={dehydrated:null,treeContext:null,retryLane:0};function G0(s){return{baseLanes:s,cachePool:null,transitions:null}}function sE(s,l,h){var v=l.pendingProps,w=Mt.current,j=!1,V=(l.flags&128)!==0,q;if((q=V)||(q=s!==null&&s.memoizedState===null?!1:(w&2)!==0),q?(j=!0,l.flags&=-129):(s===null||s.memoizedState!==null)&&(w|=1),_t(Mt,w&1),s===null)return b0(l),s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((l.mode&1)===0?l.lanes=1:s.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(V=v.children,s=v.fallback,j?(v=l.mode,j=l.child,V={mode:"hidden",children:V},(v&1)===0&&j!==null?(j.childLanes=0,j.pendingProps=V):j=Rh(V,v,0,null),s=xo(s,v,h,null),j.return=l,s.return=l,j.sibling=s,l.child=j,l.child.memoizedState=G0(h),l.memoizedState=H0,s):K0(l,V));if(w=s.memoizedState,w!==null&&(q=w.dehydrated,q!==null))return z6(s,l,V,v,q,w,h);if(j){j=v.fallback,V=l.mode,w=s.child,q=w.sibling;var G={mode:"hidden",children:v.children};return(V&1)===0&&l.child!==w?(v=l.child,v.childLanes=0,v.pendingProps=G,l.deletions=null):(v=ys(w,G),v.subtreeFlags=w.subtreeFlags&14680064),q!==null?j=ys(q,j):(j=xo(j,V,h,null),j.flags|=2),j.return=l,v.return=l,v.sibling=j,l.child=v,v=j,j=l.child,V=s.child.memoizedState,V=V===null?G0(h):{baseLanes:V.baseLanes|h,cachePool:null,transitions:V.transitions},j.memoizedState=V,j.childLanes=s.childLanes&~h,l.memoizedState=H0,v}return j=s.child,s=j.sibling,v=ys(j,{mode:"visible",children:v.children}),(l.mode&1)===0&&(v.lanes=h),v.return=l,v.sibling=null,s!==null&&(h=l.deletions,h===null?(l.deletions=[s],l.flags|=16):h.push(s)),l.child=v,l.memoizedState=null,v}function K0(s,l){return l=Rh({mode:"visible",children:l},s.mode,0,null),l.return=s,s.child=l}function wh(s,l,h,v){return v!==null&&w0(v),Cl(l,s.child,null,h),s=K0(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function z6(s,l,h,v,w,j,V){if(h)return l.flags&256?(l.flags&=-257,v=B0(Error(r(422))),wh(s,l,V,v)):l.memoizedState!==null?(l.child=s.child,l.flags|=128,null):(j=v.fallback,w=l.mode,v=Rh({mode:"visible",children:v.children},w,0,null),j=xo(j,w,V,null),j.flags|=2,v.return=l,j.return=l,v.sibling=j,l.child=v,(l.mode&1)!==0&&Cl(l,s.child,null,V),l.child.memoizedState=G0(V),l.memoizedState=H0,j);if((l.mode&1)===0)return wh(s,l,V,null);if(w.data==="$!"){if(v=w.nextSibling&&w.nextSibling.dataset,v)var q=v.dgst;return v=q,j=Error(r(419)),v=B0(j,v,void 0),wh(s,l,V,v)}if(q=(V&s.childLanes)!==0,ln||q){if(v=hr,v!==null){switch(V&-V){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:w=32;break;case 536870912:w=268435456;break;default:w=0}w=(w&(v.suspendedLanes|V))!==0?0:w,w!==0&&w!==j.retryLane&&(j.retryLane=w,va(s,w),mi(v,s,w,-1))}return uv(),v=B0(Error(r(421))),wh(s,l,V,v)}return w.data==="$?"?(l.flags|=128,l.child=s.child,l=n$.bind(null,s),w._reactRetry=l,null):(s=j.treeContext,jn=os(w.nextSibling),kn=l,Ot=!0,di=null,s!==null&&(Un[Bn++]=ma,Un[Bn++]=ga,Un[Bn++]=co,ma=s.id,ga=s.overflow,co=l),l=K0(l,v.children),l.flags|=4096,l)}function oE(s,l,h){s.lanes|=l;var v=s.alternate;v!==null&&(v.lanes|=l),j0(s.return,l,h)}function Y0(s,l,h,v,w){var j=s.memoizedState;j===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:v,tail:h,tailMode:w}:(j.isBackwards=l,j.rendering=null,j.renderingStartTime=0,j.last=v,j.tail=h,j.tailMode=w)}function lE(s,l,h){var v=l.pendingProps,w=v.revealOrder,j=v.tail;if(Gr(s,l,v.children,h),v=Mt.current,(v&2)!==0)v=v&1|2,l.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&oE(s,h,l);else if(s.tag===19)oE(s,h,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}v&=1}if(_t(Mt,v),(l.mode&1)===0)l.memoizedState=null;else switch(w){case"forwards":for(h=l.child,w=null;h!==null;)s=h.alternate,s!==null&&ph(s)===null&&(w=h),h=h.sibling;h=w,h===null?(w=l.child,l.child=null):(w=h.sibling,h.sibling=null),Y0(l,!1,w,h,j);break;case"backwards":for(h=null,w=l.child,l.child=null;w!==null;){if(s=w.alternate,s!==null&&ph(s)===null){l.child=w;break}s=w.sibling,w.sibling=h,h=w,w=s}Y0(l,!0,h,null,j);break;case"together":Y0(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function _h(s,l){(l.mode&1)===0&&s!==null&&(s.alternate=null,l.alternate=null,l.flags|=2)}function xa(s,l,h){if(s!==null&&(l.dependencies=s.dependencies),mo|=l.lanes,(h&l.childLanes)===0)return null;if(s!==null&&l.child!==s.child)throw Error(r(153));if(l.child!==null){for(s=l.child,h=ys(s,s.pendingProps),l.child=h,h.return=l;s.sibling!==null;)s=s.sibling,h=h.sibling=ys(s,s.pendingProps),h.return=l;h.sibling=null}return l.child}function W6(s,l,h){switch(l.tag){case 3:iE(l),Ol();break;case 5:_j(l);break;case 1:on(l.type)&&ih(l);break;case 4:A0(l,l.stateNode.containerInfo);break;case 10:var v=l.type._context,w=l.memoizedProps.value;_t(uh,v._currentValue),v._currentValue=w;break;case 13:if(v=l.memoizedState,v!==null)return v.dehydrated!==null?(_t(Mt,Mt.current&1),l.flags|=128,null):(h&l.child.childLanes)!==0?sE(s,l,h):(_t(Mt,Mt.current&1),s=xa(s,l,h),s!==null?s.sibling:null);_t(Mt,Mt.current&1);break;case 19:if(v=(h&l.childLanes)!==0,(s.flags&128)!==0){if(v)return lE(s,l,h);l.flags|=128}if(w=l.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),_t(Mt,Mt.current),v)break;return null;case 22:case 23:return l.lanes=0,tE(s,l,h)}return xa(s,l,h)}var cE,X0,uE,dE;cE=function(s,l){for(var h=l.child;h!==null;){if(h.tag===5||h.tag===6)s.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===l)break;for(;h.sibling===null;){if(h.return===null||h.return===l)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},X0=function(){},uE=function(s,l,h,v){var w=s.memoizedProps;if(w!==v){s=l.stateNode,ho(Mi.current);var j=null;switch(h){case"input":w=ge(s,w),v=ge(s,v),j=[];break;case"select":w=ae({},w,{value:void 0}),v=ae({},v,{value:void 0}),j=[];break;case"textarea":w=xr(s,w),v=xr(s,v),j=[];break;default:typeof w.onClick!="function"&&typeof v.onClick=="function"&&(s.onclick=th)}Ks(h,v);var V;h=null;for(oe in w)if(!v.hasOwnProperty(oe)&&w.hasOwnProperty(oe)&&w[oe]!=null)if(oe==="style"){var q=w[oe];for(V in q)q.hasOwnProperty(V)&&(h||(h={}),h[V]="")}else oe!=="dangerouslySetInnerHTML"&&oe!=="children"&&oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&oe!=="autoFocus"&&(i.hasOwnProperty(oe)?j||(j=[]):(j=j||[]).push(oe,null));for(oe in v){var G=v[oe];if(q=w?.[oe],v.hasOwnProperty(oe)&&G!==q&&(G!=null||q!=null))if(oe==="style")if(q){for(V in q)!q.hasOwnProperty(V)||G&&G.hasOwnProperty(V)||(h||(h={}),h[V]="");for(V in G)G.hasOwnProperty(V)&&q[V]!==G[V]&&(h||(h={}),h[V]=G[V])}else h||(j||(j=[]),j.push(oe,h)),h=G;else oe==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,q=q?q.__html:void 0,G!=null&&q!==G&&(j=j||[]).push(oe,G)):oe==="children"?typeof G!="string"&&typeof G!="number"||(j=j||[]).push(oe,""+G):oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&(i.hasOwnProperty(oe)?(G!=null&&oe==="onScroll"&&Et("scroll",s),j||q===G||(j=[])):(j=j||[]).push(oe,G))}h&&(j=j||[]).push("style",h);var oe=j;(l.updateQueue=oe)&&(l.flags|=4)}},dE=function(s,l,h,v){h!==v&&(l.flags|=4)};function Tu(s,l){if(!Ot)switch(s.tailMode){case"hidden":l=s.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s.tail=null:h.sibling=null;break;case"collapsed":h=s.tail;for(var v=null;h!==null;)h.alternate!==null&&(v=h),h=h.sibling;v===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:v.sibling=null}}function Rr(s){var l=s.alternate!==null&&s.alternate.child===s.child,h=0,v=0;if(l)for(var w=s.child;w!==null;)h|=w.lanes|w.childLanes,v|=w.subtreeFlags&14680064,v|=w.flags&14680064,w.return=s,w=w.sibling;else for(w=s.child;w!==null;)h|=w.lanes|w.childLanes,v|=w.subtreeFlags,v|=w.flags,w.return=s,w=w.sibling;return s.subtreeFlags|=v,s.childLanes=h,l}function H6(s,l,h){var v=l.pendingProps;switch(y0(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rr(l),null;case 1:return on(l.type)&&nh(),Rr(l),null;case 3:return v=l.stateNode,Dl(),Tt(sn),Tt(Or),I0(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(s===null||s.child===null)&&(lh(l)?l.flags|=4:s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,di!==null&&(ov(di),di=null))),X0(s,l),Rr(l),null;case 5:N0(l);var w=ho(_u.current);if(h=l.type,s!==null&&l.stateNode!=null)uE(s,l,h,v,w),s.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!v){if(l.stateNode===null)throw Error(r(166));return Rr(l),null}if(s=ho(Mi.current),lh(l)){v=l.stateNode,h=l.type;var j=l.memoizedProps;switch(v[Ri]=l,v[vu]=j,s=(l.mode&1)!==0,h){case"dialog":Et("cancel",v),Et("close",v);break;case"iframe":case"object":case"embed":Et("load",v);break;case"video":case"audio":for(w=0;w<pu.length;w++)Et(pu[w],v);break;case"source":Et("error",v);break;case"img":case"image":case"link":Et("error",v),Et("load",v);break;case"details":Et("toggle",v);break;case"input":Ae(v,j),Et("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!j.multiple},Et("invalid",v);break;case"textarea":Mn(v,j),Et("invalid",v)}Ks(h,j),w=null;for(var V in j)if(j.hasOwnProperty(V)){var q=j[V];V==="children"?typeof q=="string"?v.textContent!==q&&(j.suppressHydrationWarning!==!0&&eh(v.textContent,q,s),w=["children",q]):typeof q=="number"&&v.textContent!==""+q&&(j.suppressHydrationWarning!==!0&&eh(v.textContent,q,s),w=["children",""+q]):i.hasOwnProperty(V)&&q!=null&&V==="onScroll"&&Et("scroll",v)}switch(h){case"input":Ee(v),en(v,j,!0);break;case"textarea":Ee(v),Ei(v);break;case"select":case"option":break;default:typeof j.onClick=="function"&&(v.onclick=th)}v=w,l.updateQueue=v,v!==null&&(l.flags|=4)}else{V=w.nodeType===9?w:w.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Vt(h)),s==="http://www.w3.org/1999/xhtml"?h==="script"?(s=V.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof v.is=="string"?s=V.createElement(h,{is:v.is}):(s=V.createElement(h),h==="select"&&(V=s,v.multiple?V.multiple=!0:v.size&&(V.size=v.size))):s=V.createElementNS(s,h),s[Ri]=l,s[vu]=v,cE(s,l,!1,!1),l.stateNode=s;e:{switch(V=Ys(h,v),h){case"dialog":Et("cancel",s),Et("close",s),w=v;break;case"iframe":case"object":case"embed":Et("load",s),w=v;break;case"video":case"audio":for(w=0;w<pu.length;w++)Et(pu[w],s);w=v;break;case"source":Et("error",s),w=v;break;case"img":case"image":case"link":Et("error",s),Et("load",s),w=v;break;case"details":Et("toggle",s),w=v;break;case"input":Ae(s,v),w=ge(s,v),Et("invalid",s);break;case"option":w=v;break;case"select":s._wrapperState={wasMultiple:!!v.multiple},w=ae({},v,{value:void 0}),Et("invalid",s);break;case"textarea":Mn(s,v),w=xr(s,v),Et("invalid",s);break;default:w=v}Ks(h,w),q=w;for(j in q)if(q.hasOwnProperty(j)){var G=q[j];j==="style"?sl(s,G):j==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,G!=null&&Ga(s,G)):j==="children"?typeof G=="string"?(h!=="textarea"||G!=="")&&ia(s,G):typeof G=="number"&&ia(s,""+G):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(i.hasOwnProperty(j)?G!=null&&j==="onScroll"&&Et("scroll",s):G!=null&&I(s,j,G,V))}switch(h){case"input":Ee(s),en(s,v,!1);break;case"textarea":Ee(s),Ei(s);break;case"option":v.value!=null&&s.setAttribute("value",""+me(v.value));break;case"select":s.multiple=!!v.multiple,j=v.value,j!=null?Jt(s,!!v.multiple,j,!1):v.defaultValue!=null&&Jt(s,!!v.multiple,v.defaultValue,!0);break;default:typeof w.onClick=="function"&&(s.onclick=th)}switch(h){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Rr(l),null;case 6:if(s&&l.stateNode!=null)dE(s,l,s.memoizedProps,v);else{if(typeof v!="string"&&l.stateNode===null)throw Error(r(166));if(h=ho(_u.current),ho(Mi.current),lh(l)){if(v=l.stateNode,h=l.memoizedProps,v[Ri]=l,(j=v.nodeValue!==h)&&(s=kn,s!==null))switch(s.tag){case 3:eh(v.nodeValue,h,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&eh(v.nodeValue,h,(s.mode&1)!==0)}j&&(l.flags|=4)}else v=(h.nodeType===9?h:h.ownerDocument).createTextNode(v),v[Ri]=l,l.stateNode=v}return Rr(l),null;case 13:if(Tt(Mt),v=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Ot&&jn!==null&&(l.mode&1)!==0&&(l.flags&128)===0)pj(),Ol(),l.flags|=98560,j=!1;else if(j=lh(l),v!==null&&v.dehydrated!==null){if(s===null){if(!j)throw Error(r(318));if(j=l.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(r(317));j[Ri]=l}else Ol(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Rr(l),j=!1}else di!==null&&(ov(di),di=null),j=!0;if(!j)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=h,l):(v=v!==null,v!==(s!==null&&s.memoizedState!==null)&&v&&(l.child.flags|=8192,(l.mode&1)!==0&&(s===null||(Mt.current&1)!==0?rr===0&&(rr=3):uv())),l.updateQueue!==null&&(l.flags|=4),Rr(l),null);case 4:return Dl(),X0(s,l),s===null&&mu(l.stateNode.containerInfo),Rr(l),null;case 10:return k0(l.type._context),Rr(l),null;case 17:return on(l.type)&&nh(),Rr(l),null;case 19:if(Tt(Mt),j=l.memoizedState,j===null)return Rr(l),null;if(v=(l.flags&128)!==0,V=j.rendering,V===null)if(v)Tu(j,!1);else{if(rr!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(V=ph(s),V!==null){for(l.flags|=128,Tu(j,!1),v=V.updateQueue,v!==null&&(l.updateQueue=v,l.flags|=4),l.subtreeFlags=0,v=h,h=l.child;h!==null;)j=h,s=v,j.flags&=14680066,V=j.alternate,V===null?(j.childLanes=0,j.lanes=s,j.child=null,j.subtreeFlags=0,j.memoizedProps=null,j.memoizedState=null,j.updateQueue=null,j.dependencies=null,j.stateNode=null):(j.childLanes=V.childLanes,j.lanes=V.lanes,j.child=V.child,j.subtreeFlags=0,j.deletions=null,j.memoizedProps=V.memoizedProps,j.memoizedState=V.memoizedState,j.updateQueue=V.updateQueue,j.type=V.type,s=V.dependencies,j.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),h=h.sibling;return _t(Mt,Mt.current&1|2),l.child}s=s.sibling}j.tail!==null&&wt()>Fl&&(l.flags|=128,v=!0,Tu(j,!1),l.lanes=4194304)}else{if(!v)if(s=ph(V),s!==null){if(l.flags|=128,v=!0,h=s.updateQueue,h!==null&&(l.updateQueue=h,l.flags|=4),Tu(j,!0),j.tail===null&&j.tailMode==="hidden"&&!V.alternate&&!Ot)return Rr(l),null}else 2*wt()-j.renderingStartTime>Fl&&h!==1073741824&&(l.flags|=128,v=!0,Tu(j,!1),l.lanes=4194304);j.isBackwards?(V.sibling=l.child,l.child=V):(h=j.last,h!==null?h.sibling=V:l.child=V,j.last=V)}return j.tail!==null?(l=j.tail,j.rendering=l,j.tail=l.sibling,j.renderingStartTime=wt(),l.sibling=null,h=Mt.current,_t(Mt,v?h&1|2:h&1),l):(Rr(l),null);case 22:case 23:return cv(),v=l.memoizedState!==null,s!==null&&s.memoizedState!==null!==v&&(l.flags|=8192),v&&(l.mode&1)!==0?(En&1073741824)!==0&&(Rr(l),l.subtreeFlags&6&&(l.flags|=8192)):Rr(l),null;case 24:return null;case 25:return null}throw Error(r(156,l.tag))}function G6(s,l){switch(y0(l),l.tag){case 1:return on(l.type)&&nh(),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return Dl(),Tt(sn),Tt(Or),I0(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 5:return N0(l),null;case 13:if(Tt(Mt),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Ol()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return Tt(Mt),null;case 4:return Dl(),null;case 10:return k0(l.type._context),null;case 22:case 23:return cv(),null;case 24:return null;default:return null}}var Sh=!1,Mr=!1,K6=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function $l(s,l){var h=s.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(v){Ut(s,l,v)}else h.current=null}function Q0(s,l,h){try{h()}catch(v){Ut(s,l,v)}}var fE=!1;function Y6(s,l){if(c0=is,s=zk(),t0(s)){if("selectionStart"in s)var h={start:s.selectionStart,end:s.selectionEnd};else e:{h=(h=s.ownerDocument)&&h.defaultView||window;var v=h.getSelection&&h.getSelection();if(v&&v.rangeCount!==0){h=v.anchorNode;var w=v.anchorOffset,j=v.focusNode;v=v.focusOffset;try{h.nodeType,j.nodeType}catch{h=null;break e}var V=0,q=-1,G=-1,oe=0,be=0,_e=s,ye=null;t:for(;;){for(var Ne;_e!==h||w!==0&&_e.nodeType!==3||(q=V+w),_e!==j||v!==0&&_e.nodeType!==3||(G=V+v),_e.nodeType===3&&(V+=_e.nodeValue.length),(Ne=_e.firstChild)!==null;)ye=_e,_e=Ne;for(;;){if(_e===s)break t;if(ye===h&&++oe===w&&(q=V),ye===j&&++be===v&&(G=V),(Ne=_e.nextSibling)!==null)break;_e=ye,ye=_e.parentNode}_e=Ne}h=q===-1||G===-1?null:{start:q,end:G}}else h=null}h=h||{start:0,end:0}}else h=null;for(u0={focusedElem:s,selectionRange:h},is=!1,Pe=l;Pe!==null;)if(l=Pe,s=l.child,(l.subtreeFlags&1028)!==0&&s!==null)s.return=l,Pe=s;else for(;Pe!==null;){l=Pe;try{var Oe=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Oe!==null){var Re=Oe.memoizedProps,qt=Oe.memoizedState,re=l.stateNode,X=re.getSnapshotBeforeUpdate(l.elementType===l.type?Re:fi(l.type,Re),qt);re.__reactInternalSnapshotBeforeUpdate=X}break;case 3:var se=l.stateNode.containerInfo;se.nodeType===1?se.textContent="":se.nodeType===9&&se.documentElement&&se.removeChild(se.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Se){Ut(l,l.return,Se)}if(s=l.sibling,s!==null){s.return=l.return,Pe=s;break}Pe=l.return}return Oe=fE,fE=!1,Oe}function Au(s,l,h){var v=l.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var w=v=v.next;do{if((w.tag&s)===s){var j=w.destroy;w.destroy=void 0,j!==void 0&&Q0(l,h,j)}w=w.next}while(w!==v)}}function kh(s,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var h=l=l.next;do{if((h.tag&s)===s){var v=h.create;h.destroy=v()}h=h.next}while(h!==l)}}function J0(s){var l=s.ref;if(l!==null){var h=s.stateNode;switch(s.tag){case 5:s=h;break;default:s=h}typeof l=="function"?l(s):l.current=s}}function hE(s){var l=s.alternate;l!==null&&(s.alternate=null,hE(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&(delete l[Ri],delete l[vu],delete l[p0],delete l[I6],delete l[O6])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function pE(s){return s.tag===5||s.tag===3||s.tag===4}function mE(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||pE(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Z0(s,l,h){var v=s.tag;if(v===5||v===6)s=s.stateNode,l?h.nodeType===8?h.parentNode.insertBefore(s,l):h.insertBefore(s,l):(h.nodeType===8?(l=h.parentNode,l.insertBefore(s,h)):(l=h,l.appendChild(s)),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=th));else if(v!==4&&(s=s.child,s!==null))for(Z0(s,l,h),s=s.sibling;s!==null;)Z0(s,l,h),s=s.sibling}function ev(s,l,h){var v=s.tag;if(v===5||v===6)s=s.stateNode,l?h.insertBefore(s,l):h.appendChild(s);else if(v!==4&&(s=s.child,s!==null))for(ev(s,l,h),s=s.sibling;s!==null;)ev(s,l,h),s=s.sibling}var Sr=null,hi=!1;function hs(s,l,h){for(h=h.child;h!==null;)gE(s,l,h),h=h.sibling}function gE(s,l,h){if(bn&&typeof bn.onCommitFiberUnmount=="function")try{bn.onCommitFiberUnmount(eo,h)}catch{}switch(h.tag){case 5:Mr||$l(h,l);case 6:var v=Sr,w=hi;Sr=null,hs(s,l,h),Sr=v,hi=w,Sr!==null&&(hi?(s=Sr,h=h.stateNode,s.nodeType===8?s.parentNode.removeChild(h):s.removeChild(h)):Sr.removeChild(h.stateNode));break;case 18:Sr!==null&&(hi?(s=Sr,h=h.stateNode,s.nodeType===8?h0(s.parentNode,h):s.nodeType===1&&h0(s,h),li(s)):h0(Sr,h.stateNode));break;case 4:v=Sr,w=hi,Sr=h.stateNode.containerInfo,hi=!0,hs(s,l,h),Sr=v,hi=w;break;case 0:case 11:case 14:case 15:if(!Mr&&(v=h.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){w=v=v.next;do{var j=w,V=j.destroy;j=j.tag,V!==void 0&&((j&2)!==0||(j&4)!==0)&&Q0(h,l,V),w=w.next}while(w!==v)}hs(s,l,h);break;case 1:if(!Mr&&($l(h,l),v=h.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=h.memoizedProps,v.state=h.memoizedState,v.componentWillUnmount()}catch(q){Ut(h,l,q)}hs(s,l,h);break;case 21:hs(s,l,h);break;case 22:h.mode&1?(Mr=(v=Mr)||h.memoizedState!==null,hs(s,l,h),Mr=v):hs(s,l,h);break;default:hs(s,l,h)}}function vE(s){var l=s.updateQueue;if(l!==null){s.updateQueue=null;var h=s.stateNode;h===null&&(h=s.stateNode=new K6),l.forEach(function(v){var w=i$.bind(null,s,v);h.has(v)||(h.add(v),v.then(w,w))})}}function pi(s,l){var h=l.deletions;if(h!==null)for(var v=0;v<h.length;v++){var w=h[v];try{var j=s,V=l,q=V;e:for(;q!==null;){switch(q.tag){case 5:Sr=q.stateNode,hi=!1;break e;case 3:Sr=q.stateNode.containerInfo,hi=!0;break e;case 4:Sr=q.stateNode.containerInfo,hi=!0;break e}q=q.return}if(Sr===null)throw Error(r(160));gE(j,V,w),Sr=null,hi=!1;var G=w.alternate;G!==null&&(G.return=null),w.return=null}catch(oe){Ut(w,l,oe)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)yE(l,s),l=l.sibling}function yE(s,l){var h=s.alternate,v=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(pi(l,s),Li(s),v&4){try{Au(3,s,s.return),kh(3,s)}catch(Re){Ut(s,s.return,Re)}try{Au(5,s,s.return)}catch(Re){Ut(s,s.return,Re)}}break;case 1:pi(l,s),Li(s),v&512&&h!==null&&$l(h,h.return);break;case 5:if(pi(l,s),Li(s),v&512&&h!==null&&$l(h,h.return),s.flags&32){var w=s.stateNode;try{ia(w,"")}catch(Re){Ut(s,s.return,Re)}}if(v&4&&(w=s.stateNode,w!=null)){var j=s.memoizedProps,V=h!==null?h.memoizedProps:j,q=s.type,G=s.updateQueue;if(s.updateQueue=null,G!==null)try{q==="input"&&j.type==="radio"&&j.name!=null&&Fe(w,j),Ys(q,V);var oe=Ys(q,j);for(V=0;V<G.length;V+=2){var be=G[V],_e=G[V+1];be==="style"?sl(w,_e):be==="dangerouslySetInnerHTML"?Ga(w,_e):be==="children"?ia(w,_e):I(w,be,_e,oe)}switch(q){case"input":$t(w,j);break;case"textarea":ji(w,j);break;case"select":var ye=w._wrapperState.wasMultiple;w._wrapperState.wasMultiple=!!j.multiple;var Ne=j.value;Ne!=null?Jt(w,!!j.multiple,Ne,!1):ye!==!!j.multiple&&(j.defaultValue!=null?Jt(w,!!j.multiple,j.defaultValue,!0):Jt(w,!!j.multiple,j.multiple?[]:"",!1))}w[vu]=j}catch(Re){Ut(s,s.return,Re)}}break;case 6:if(pi(l,s),Li(s),v&4){if(s.stateNode===null)throw Error(r(162));w=s.stateNode,j=s.memoizedProps;try{w.nodeValue=j}catch(Re){Ut(s,s.return,Re)}}break;case 3:if(pi(l,s),Li(s),v&4&&h!==null&&h.memoizedState.isDehydrated)try{li(l.containerInfo)}catch(Re){Ut(s,s.return,Re)}break;case 4:pi(l,s),Li(s);break;case 13:pi(l,s),Li(s),w=s.child,w.flags&8192&&(j=w.memoizedState!==null,w.stateNode.isHidden=j,!j||w.alternate!==null&&w.alternate.memoizedState!==null||(nv=wt())),v&4&&vE(s);break;case 22:if(be=h!==null&&h.memoizedState!==null,s.mode&1?(Mr=(oe=Mr)||be,pi(l,s),Mr=oe):pi(l,s),Li(s),v&8192){if(oe=s.memoizedState!==null,(s.stateNode.isHidden=oe)&&!be&&(s.mode&1)!==0)for(Pe=s,be=s.child;be!==null;){for(_e=Pe=be;Pe!==null;){switch(ye=Pe,Ne=ye.child,ye.tag){case 0:case 11:case 14:case 15:Au(4,ye,ye.return);break;case 1:$l(ye,ye.return);var Oe=ye.stateNode;if(typeof Oe.componentWillUnmount=="function"){v=ye,h=ye.return;try{l=v,Oe.props=l.memoizedProps,Oe.state=l.memoizedState,Oe.componentWillUnmount()}catch(Re){Ut(v,h,Re)}}break;case 5:$l(ye,ye.return);break;case 22:if(ye.memoizedState!==null){wE(_e);continue}}Ne!==null?(Ne.return=ye,Pe=Ne):wE(_e)}be=be.sibling}e:for(be=null,_e=s;;){if(_e.tag===5){if(be===null){be=_e;try{w=_e.stateNode,oe?(j=w.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none"):(q=_e.stateNode,G=_e.memoizedProps.style,V=G!=null&&G.hasOwnProperty("display")?G.display:null,q.style.display=al("display",V))}catch(Re){Ut(s,s.return,Re)}}}else if(_e.tag===6){if(be===null)try{_e.stateNode.nodeValue=oe?"":_e.memoizedProps}catch(Re){Ut(s,s.return,Re)}}else if((_e.tag!==22&&_e.tag!==23||_e.memoizedState===null||_e===s)&&_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===s)break e;for(;_e.sibling===null;){if(_e.return===null||_e.return===s)break e;be===_e&&(be=null),_e=_e.return}be===_e&&(be=null),_e.sibling.return=_e.return,_e=_e.sibling}}break;case 19:pi(l,s),Li(s),v&4&&vE(s);break;case 21:break;default:pi(l,s),Li(s)}}function Li(s){var l=s.flags;if(l&2){try{e:{for(var h=s.return;h!==null;){if(pE(h)){var v=h;break e}h=h.return}throw Error(r(160))}switch(v.tag){case 5:var w=v.stateNode;v.flags&32&&(ia(w,""),v.flags&=-33);var j=mE(s);ev(s,j,w);break;case 3:case 4:var V=v.stateNode.containerInfo,q=mE(s);Z0(s,q,V);break;default:throw Error(r(161))}}catch(G){Ut(s,s.return,G)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function X6(s,l,h){Pe=s,xE(s)}function xE(s,l,h){for(var v=(s.mode&1)!==0;Pe!==null;){var w=Pe,j=w.child;if(w.tag===22&&v){var V=w.memoizedState!==null||Sh;if(!V){var q=w.alternate,G=q!==null&&q.memoizedState!==null||Mr;q=Sh;var oe=Mr;if(Sh=V,(Mr=G)&&!oe)for(Pe=w;Pe!==null;)V=Pe,G=V.child,V.tag===22&&V.memoizedState!==null?_E(w):G!==null?(G.return=V,Pe=G):_E(w);for(;j!==null;)Pe=j,xE(j),j=j.sibling;Pe=w,Sh=q,Mr=oe}bE(s)}else(w.subtreeFlags&8772)!==0&&j!==null?(j.return=w,Pe=j):bE(s)}}function bE(s){for(;Pe!==null;){var l=Pe;if((l.flags&8772)!==0){var h=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Mr||kh(5,l);break;case 1:var v=l.stateNode;if(l.flags&4&&!Mr)if(h===null)v.componentDidMount();else{var w=l.elementType===l.type?h.memoizedProps:fi(l.type,h.memoizedProps);v.componentDidUpdate(w,h.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var j=l.updateQueue;j!==null&&wj(l,j,v);break;case 3:var V=l.updateQueue;if(V!==null){if(h=null,l.child!==null)switch(l.child.tag){case 5:h=l.child.stateNode;break;case 1:h=l.child.stateNode}wj(l,V,h)}break;case 5:var q=l.stateNode;if(h===null&&l.flags&4){h=q;var G=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":G.autoFocus&&h.focus();break;case"img":G.src&&(h.src=G.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var oe=l.alternate;if(oe!==null){var be=oe.memoizedState;if(be!==null){var _e=be.dehydrated;_e!==null&&li(_e)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Mr||l.flags&512&&J0(l)}catch(ye){Ut(l,l.return,ye)}}if(l===s){Pe=null;break}if(h=l.sibling,h!==null){h.return=l.return,Pe=h;break}Pe=l.return}}function wE(s){for(;Pe!==null;){var l=Pe;if(l===s){Pe=null;break}var h=l.sibling;if(h!==null){h.return=l.return,Pe=h;break}Pe=l.return}}function _E(s){for(;Pe!==null;){var l=Pe;try{switch(l.tag){case 0:case 11:case 15:var h=l.return;try{kh(4,l)}catch(G){Ut(l,h,G)}break;case 1:var v=l.stateNode;if(typeof v.componentDidMount=="function"){var w=l.return;try{v.componentDidMount()}catch(G){Ut(l,w,G)}}var j=l.return;try{J0(l)}catch(G){Ut(l,j,G)}break;case 5:var V=l.return;try{J0(l)}catch(G){Ut(l,V,G)}}}catch(G){Ut(l,l.return,G)}if(l===s){Pe=null;break}var q=l.sibling;if(q!==null){q.return=l.return,Pe=q;break}Pe=l.return}}var Q6=Math.ceil,jh=R.ReactCurrentDispatcher,tv=R.ReactCurrentOwner,Wn=R.ReactCurrentBatchConfig,lt=0,hr=null,Ht=null,kr=0,En=0,Vl=ls(0),rr=0,Nu=null,mo=0,Eh=0,rv=0,Pu=null,cn=null,nv=0,Fl=1/0,ba=null,Th=!1,iv=null,ps=null,Ah=!1,ms=null,Nh=0,Iu=0,av=null,Ph=-1,Ih=0;function Kr(){return(lt&6)!==0?wt():Ph!==-1?Ph:Ph=wt()}function gs(s){return(s.mode&1)===0?1:(lt&2)!==0&&kr!==0?kr&-kr:R6.transition!==null?(Ih===0&&(Ih=ro()),Ih):(s=nt,s!==0||(s=window.event,s=s===void 0?16:au(s.type)),s)}function mi(s,l,h,v){if(50<Iu)throw Iu=0,av=null,Error(r(185));es(s,h,v),((lt&2)===0||s!==hr)&&(s===hr&&((lt&2)===0&&(Eh|=h),rr===4&&vs(s,kr)),un(s,v),h===1&&lt===0&&(l.mode&1)===0&&(Fl=wt()+500,ah&&us()))}function un(s,l){var h=s.callbackNode;la(s,l);var v=to(s,s===hr?kr:0);if(v===0)h!==null&&Ir(h),s.callbackNode=null,s.callbackPriority=0;else if(l=v&-v,s.callbackPriority!==l){if(h!=null&&Ir(h),l===1)s.tag===0?C6(kE.bind(null,s)):cj(kE.bind(null,s)),N6(function(){(lt&6)===0&&us()}),h=null;else{switch(rs(v)){case 1:h=Zs;break;case 4:h=Qa;break;case 16:h=$n;break;case 536870912:h=If;break;default:h=$n}h=OE(h,SE.bind(null,s))}s.callbackPriority=l,s.callbackNode=h}}function SE(s,l){if(Ph=-1,Ih=0,(lt&6)!==0)throw Error(r(327));var h=s.callbackNode;if(Ul()&&s.callbackNode!==h)return null;var v=to(s,s===hr?kr:0);if(v===0)return null;if((v&30)!==0||(v&s.expiredLanes)!==0||l)l=Oh(s,v);else{l=v;var w=lt;lt|=2;var j=EE();(hr!==s||kr!==l)&&(ba=null,Fl=wt()+500,vo(s,l));do try{e$();break}catch(q){jE(s,q)}while(!0);S0(),jh.current=j,lt=w,Ht!==null?l=0:(hr=null,kr=0,l=rr)}if(l!==0){if(l===2&&(w=wn(s),w!==0&&(v=w,l=sv(s,w))),l===1)throw h=Nu,vo(s,0),vs(s,v),un(s,wt()),h;if(l===6)vs(s,v);else{if(w=s.current.alternate,(v&30)===0&&!J6(w)&&(l=Oh(s,v),l===2&&(j=wn(s),j!==0&&(v=j,l=sv(s,j))),l===1))throw h=Nu,vo(s,0),vs(s,v),un(s,wt()),h;switch(s.finishedWork=w,s.finishedLanes=v,l){case 0:case 1:throw Error(r(345));case 2:yo(s,cn,ba);break;case 3:if(vs(s,v),(v&130023424)===v&&(l=nv+500-wt(),10<l)){if(to(s,0)!==0)break;if(w=s.suspendedLanes,(w&v)!==v){Kr(),s.pingedLanes|=s.suspendedLanes&w;break}s.timeoutHandle=f0(yo.bind(null,s,cn,ba),l);break}yo(s,cn,ba);break;case 4:if(vs(s,v),(v&4194240)===v)break;for(l=s.eventTimes,w=-1;0<v;){var V=31-Wr(v);j=1<<V,V=l[V],V>w&&(w=V),v&=~j}if(v=w,v=wt()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*Q6(v/1960))-v,10<v){s.timeoutHandle=f0(yo.bind(null,s,cn,ba),v);break}yo(s,cn,ba);break;case 5:yo(s,cn,ba);break;default:throw Error(r(329))}}}return un(s,wt()),s.callbackNode===h?SE.bind(null,s):null}function sv(s,l){var h=Pu;return s.current.memoizedState.isDehydrated&&(vo(s,l).flags|=256),s=Oh(s,l),s!==2&&(l=cn,cn=h,l!==null&&ov(l)),s}function ov(s){cn===null?cn=s:cn.push.apply(cn,s)}function J6(s){for(var l=s;;){if(l.flags&16384){var h=l.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var v=0;v<h.length;v++){var w=h[v],j=w.getSnapshot;w=w.value;try{if(!ui(j(),w))return!1}catch{return!1}}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function vs(s,l){for(l&=~rv,l&=~Eh,s.suspendedLanes|=l,s.pingedLanes&=~l,s=s.expirationTimes;0<l;){var h=31-Wr(l),v=1<<h;s[h]=-1,l&=~v}}function kE(s){if((lt&6)!==0)throw Error(r(327));Ul();var l=to(s,0);if((l&1)===0)return un(s,wt()),null;var h=Oh(s,l);if(s.tag!==0&&h===2){var v=wn(s);v!==0&&(l=v,h=sv(s,v))}if(h===1)throw h=Nu,vo(s,0),vs(s,l),un(s,wt()),h;if(h===6)throw Error(r(345));return s.finishedWork=s.current.alternate,s.finishedLanes=l,yo(s,cn,ba),un(s,wt()),null}function lv(s,l){var h=lt;lt|=1;try{return s(l)}finally{lt=h,lt===0&&(Fl=wt()+500,ah&&us())}}function go(s){ms!==null&&ms.tag===0&&(lt&6)===0&&Ul();var l=lt;lt|=1;var h=Wn.transition,v=nt;try{if(Wn.transition=null,nt=1,s)return s()}finally{nt=v,Wn.transition=h,lt=l,(lt&6)===0&&us()}}function cv(){En=Vl.current,Tt(Vl)}function vo(s,l){s.finishedWork=null,s.finishedLanes=0;var h=s.timeoutHandle;if(h!==-1&&(s.timeoutHandle=-1,A6(h)),Ht!==null)for(h=Ht.return;h!==null;){var v=h;switch(y0(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&nh();break;case 3:Dl(),Tt(sn),Tt(Or),I0();break;case 5:N0(v);break;case 4:Dl();break;case 13:Tt(Mt);break;case 19:Tt(Mt);break;case 10:k0(v.type._context);break;case 22:case 23:cv()}h=h.return}if(hr=s,Ht=s=ys(s.current,null),kr=En=l,rr=0,Nu=null,rv=Eh=mo=0,cn=Pu=null,fo!==null){for(l=0;l<fo.length;l++)if(h=fo[l],v=h.interleaved,v!==null){h.interleaved=null;var w=v.next,j=h.pending;if(j!==null){var V=j.next;j.next=w,v.next=V}h.pending=v}fo=null}return s}function jE(s,l){do{var h=Ht;try{if(S0(),mh.current=xh,gh){for(var v=Dt.memoizedState;v!==null;){var w=v.queue;w!==null&&(w.pending=null),v=v.next}gh=!1}if(po=0,fr=tr=Dt=null,Su=!1,ku=0,tv.current=null,h===null||h.return===null){rr=1,Nu=l,Ht=null;break}e:{var j=s,V=h.return,q=h,G=l;if(l=kr,q.flags|=32768,G!==null&&typeof G=="object"&&typeof G.then=="function"){var oe=G,be=q,_e=be.tag;if((be.mode&1)===0&&(_e===0||_e===11||_e===15)){var ye=be.alternate;ye?(be.updateQueue=ye.updateQueue,be.memoizedState=ye.memoizedState,be.lanes=ye.lanes):(be.updateQueue=null,be.memoizedState=null)}var Ne=Xj(V);if(Ne!==null){Ne.flags&=-257,Qj(Ne,V,q,j,l),Ne.mode&1&&Yj(j,oe,l),l=Ne,G=oe;var Oe=l.updateQueue;if(Oe===null){var Re=new Set;Re.add(G),l.updateQueue=Re}else Oe.add(G);break e}else{if((l&1)===0){Yj(j,oe,l),uv();break e}G=Error(r(426))}}else if(Ot&&q.mode&1){var qt=Xj(V);if(qt!==null){(qt.flags&65536)===0&&(qt.flags|=256),Qj(qt,V,q,j,l),w0(Ll(G,q));break e}}j=G=Ll(G,q),rr!==4&&(rr=2),Pu===null?Pu=[j]:Pu.push(j),j=V;do{switch(j.tag){case 3:j.flags|=65536,l&=-l,j.lanes|=l;var re=Gj(j,G,l);bj(j,re);break e;case 1:q=G;var X=j.type,se=j.stateNode;if((j.flags&128)===0&&(typeof X.getDerivedStateFromError=="function"||se!==null&&typeof se.componentDidCatch=="function"&&(ps===null||!ps.has(se)))){j.flags|=65536,l&=-l,j.lanes|=l;var Se=Kj(j,q,l);bj(j,Se);break e}}j=j.return}while(j!==null)}AE(h)}catch($e){l=$e,Ht===h&&h!==null&&(Ht=h=h.return);continue}break}while(!0)}function EE(){var s=jh.current;return jh.current=xh,s===null?xh:s}function uv(){(rr===0||rr===3||rr===2)&&(rr=4),hr===null||(mo&268435455)===0&&(Eh&268435455)===0||vs(hr,kr)}function Oh(s,l){var h=lt;lt|=2;var v=EE();(hr!==s||kr!==l)&&(ba=null,vo(s,l));do try{Z6();break}catch(w){jE(s,w)}while(!0);if(S0(),lt=h,jh.current=v,Ht!==null)throw Error(r(261));return hr=null,kr=0,rr}function Z6(){for(;Ht!==null;)TE(Ht)}function e$(){for(;Ht!==null&&!Nf();)TE(Ht)}function TE(s){var l=IE(s.alternate,s,En);s.memoizedProps=s.pendingProps,l===null?AE(s):Ht=l,tv.current=null}function AE(s){var l=s;do{var h=l.alternate;if(s=l.return,(l.flags&32768)===0){if(h=H6(h,l,En),h!==null){Ht=h;return}}else{if(h=G6(h,l),h!==null){h.flags&=32767,Ht=h;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{rr=6,Ht=null;return}}if(l=l.sibling,l!==null){Ht=l;return}Ht=l=s}while(l!==null);rr===0&&(rr=5)}function yo(s,l,h){var v=nt,w=Wn.transition;try{Wn.transition=null,nt=1,t$(s,l,h,v)}finally{Wn.transition=w,nt=v}return null}function t$(s,l,h,v){do Ul();while(ms!==null);if((lt&6)!==0)throw Error(r(327));h=s.finishedWork;var w=s.finishedLanes;if(h===null)return null;if(s.finishedWork=null,s.finishedLanes=0,h===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0;var j=h.lanes|h.childLanes;if(xt(s,j),s===hr&&(Ht=hr=null,kr=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||Ah||(Ah=!0,OE($n,function(){return Ul(),null})),j=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||j){j=Wn.transition,Wn.transition=null;var V=nt;nt=1;var q=lt;lt|=4,tv.current=null,Y6(s,h),yE(h,s),w6(u0),is=!!c0,u0=c0=null,s.current=h,X6(h),Gg(),lt=q,nt=V,Wn.transition=j}else s.current=h;if(Ah&&(Ah=!1,ms=s,Nh=w),j=s.pendingLanes,j===0&&(ps=null),Of(h.stateNode),un(s,wt()),l!==null)for(v=s.onRecoverableError,h=0;h<l.length;h++)w=l[h],v(w.value,{componentStack:w.stack,digest:w.digest});if(Th)throw Th=!1,s=iv,iv=null,s;return(Nh&1)!==0&&s.tag!==0&&Ul(),j=s.pendingLanes,(j&1)!==0?s===av?Iu++:(Iu=0,av=s):Iu=0,us(),null}function Ul(){if(ms!==null){var s=rs(Nh),l=Wn.transition,h=nt;try{if(Wn.transition=null,nt=16>s?16:s,ms===null)var v=!1;else{if(s=ms,ms=null,Nh=0,(lt&6)!==0)throw Error(r(331));var w=lt;for(lt|=4,Pe=s.current;Pe!==null;){var j=Pe,V=j.child;if((Pe.flags&16)!==0){var q=j.deletions;if(q!==null){for(var G=0;G<q.length;G++){var oe=q[G];for(Pe=oe;Pe!==null;){var be=Pe;switch(be.tag){case 0:case 11:case 15:Au(8,be,j)}var _e=be.child;if(_e!==null)_e.return=be,Pe=_e;else for(;Pe!==null;){be=Pe;var ye=be.sibling,Ne=be.return;if(hE(be),be===oe){Pe=null;break}if(ye!==null){ye.return=Ne,Pe=ye;break}Pe=Ne}}}var Oe=j.alternate;if(Oe!==null){var Re=Oe.child;if(Re!==null){Oe.child=null;do{var qt=Re.sibling;Re.sibling=null,Re=qt}while(Re!==null)}}Pe=j}}if((j.subtreeFlags&2064)!==0&&V!==null)V.return=j,Pe=V;else e:for(;Pe!==null;){if(j=Pe,(j.flags&2048)!==0)switch(j.tag){case 0:case 11:case 15:Au(9,j,j.return)}var re=j.sibling;if(re!==null){re.return=j.return,Pe=re;break e}Pe=j.return}}var X=s.current;for(Pe=X;Pe!==null;){V=Pe;var se=V.child;if((V.subtreeFlags&2064)!==0&&se!==null)se.return=V,Pe=se;else e:for(V=X;Pe!==null;){if(q=Pe,(q.flags&2048)!==0)try{switch(q.tag){case 0:case 11:case 15:kh(9,q)}}catch($e){Ut(q,q.return,$e)}if(q===V){Pe=null;break e}var Se=q.sibling;if(Se!==null){Se.return=q.return,Pe=Se;break e}Pe=q.return}}if(lt=w,us(),bn&&typeof bn.onPostCommitFiberRoot=="function")try{bn.onPostCommitFiberRoot(eo,s)}catch{}v=!0}return v}finally{nt=h,Wn.transition=l}}return!1}function NE(s,l,h){l=Ll(h,l),l=Gj(s,l,1),s=fs(s,l,1),l=Kr(),s!==null&&(es(s,1,l),un(s,l))}function Ut(s,l,h){if(s.tag===3)NE(s,s,h);else for(;l!==null;){if(l.tag===3){NE(l,s,h);break}else if(l.tag===1){var v=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(ps===null||!ps.has(v))){s=Ll(h,s),s=Kj(l,s,1),l=fs(l,s,1),s=Kr(),l!==null&&(es(l,1,s),un(l,s));break}}l=l.return}}function r$(s,l,h){var v=s.pingCache;v!==null&&v.delete(l),l=Kr(),s.pingedLanes|=s.suspendedLanes&h,hr===s&&(kr&h)===h&&(rr===4||rr===3&&(kr&130023424)===kr&&500>wt()-nv?vo(s,0):rv|=h),un(s,l)}function PE(s,l){l===0&&((s.mode&1)===0?l=1:(l=ul,ul<<=1,(ul&130023424)===0&&(ul=4194304)));var h=Kr();s=va(s,l),s!==null&&(es(s,l,h),un(s,h))}function n$(s){var l=s.memoizedState,h=0;l!==null&&(h=l.retryLane),PE(s,h)}function i$(s,l){var h=0;switch(s.tag){case 13:var v=s.stateNode,w=s.memoizedState;w!==null&&(h=w.retryLane);break;case 19:v=s.stateNode;break;default:throw Error(r(314))}v!==null&&v.delete(l),PE(s,h)}var IE;IE=function(s,l,h){if(s!==null)if(s.memoizedProps!==l.pendingProps||sn.current)ln=!0;else{if((s.lanes&h)===0&&(l.flags&128)===0)return ln=!1,W6(s,l,h);ln=(s.flags&131072)!==0}else ln=!1,Ot&&(l.flags&1048576)!==0&&uj(l,oh,l.index);switch(l.lanes=0,l.tag){case 2:var v=l.type;_h(s,l),s=l.pendingProps;var w=Nl(l,Or.current);Ml(l,h),w=R0(null,l,v,s,w,h);var j=M0();return l.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,on(v)?(j=!0,ih(l)):j=!1,l.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,T0(l),w.updater=bh,l.stateNode=w,w._reactInternals=l,U0(l,v,s,h),l=W0(null,l,v,!0,j,h)):(l.tag=0,Ot&&j&&v0(l),Gr(null,l,w,h),l=l.child),l;case 16:v=l.elementType;e:{switch(_h(s,l),s=l.pendingProps,w=v._init,v=w(v._payload),l.type=v,w=l.tag=s$(v),s=fi(v,s),w){case 0:l=z0(null,l,v,s,h);break e;case 1:l=nE(null,l,v,s,h);break e;case 11:l=Jj(null,l,v,s,h);break e;case 14:l=Zj(null,l,v,fi(v.type,s),h);break e}throw Error(r(306,v,""))}return l;case 0:return v=l.type,w=l.pendingProps,w=l.elementType===v?w:fi(v,w),z0(s,l,v,w,h);case 1:return v=l.type,w=l.pendingProps,w=l.elementType===v?w:fi(v,w),nE(s,l,v,w,h);case 3:e:{if(iE(l),s===null)throw Error(r(387));v=l.pendingProps,j=l.memoizedState,w=j.element,xj(s,l),hh(l,v,null,h);var V=l.memoizedState;if(v=V.element,j.isDehydrated)if(j={element:v,isDehydrated:!1,cache:V.cache,pendingSuspenseBoundaries:V.pendingSuspenseBoundaries,transitions:V.transitions},l.updateQueue.baseState=j,l.memoizedState=j,l.flags&256){w=Ll(Error(r(423)),l),l=aE(s,l,v,h,w);break e}else if(v!==w){w=Ll(Error(r(424)),l),l=aE(s,l,v,h,w);break e}else for(jn=os(l.stateNode.containerInfo.firstChild),kn=l,Ot=!0,di=null,h=vj(l,null,v,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Ol(),v===w){l=xa(s,l,h);break e}Gr(s,l,v,h)}l=l.child}return l;case 5:return _j(l),s===null&&b0(l),v=l.type,w=l.pendingProps,j=s!==null?s.memoizedProps:null,V=w.children,d0(v,w)?V=null:j!==null&&d0(v,j)&&(l.flags|=32),rE(s,l),Gr(s,l,V,h),l.child;case 6:return s===null&&b0(l),null;case 13:return sE(s,l,h);case 4:return A0(l,l.stateNode.containerInfo),v=l.pendingProps,s===null?l.child=Cl(l,null,v,h):Gr(s,l,v,h),l.child;case 11:return v=l.type,w=l.pendingProps,w=l.elementType===v?w:fi(v,w),Jj(s,l,v,w,h);case 7:return Gr(s,l,l.pendingProps,h),l.child;case 8:return Gr(s,l,l.pendingProps.children,h),l.child;case 12:return Gr(s,l,l.pendingProps.children,h),l.child;case 10:e:{if(v=l.type._context,w=l.pendingProps,j=l.memoizedProps,V=w.value,_t(uh,v._currentValue),v._currentValue=V,j!==null)if(ui(j.value,V)){if(j.children===w.children&&!sn.current){l=xa(s,l,h);break e}}else for(j=l.child,j!==null&&(j.return=l);j!==null;){var q=j.dependencies;if(q!==null){V=j.child;for(var G=q.firstContext;G!==null;){if(G.context===v){if(j.tag===1){G=ya(-1,h&-h),G.tag=2;var oe=j.updateQueue;if(oe!==null){oe=oe.shared;var be=oe.pending;be===null?G.next=G:(G.next=be.next,be.next=G),oe.pending=G}}j.lanes|=h,G=j.alternate,G!==null&&(G.lanes|=h),j0(j.return,h,l),q.lanes|=h;break}G=G.next}}else if(j.tag===10)V=j.type===l.type?null:j.child;else if(j.tag===18){if(V=j.return,V===null)throw Error(r(341));V.lanes|=h,q=V.alternate,q!==null&&(q.lanes|=h),j0(V,h,l),V=j.sibling}else V=j.child;if(V!==null)V.return=j;else for(V=j;V!==null;){if(V===l){V=null;break}if(j=V.sibling,j!==null){j.return=V.return,V=j;break}V=V.return}j=V}Gr(s,l,w.children,h),l=l.child}return l;case 9:return w=l.type,v=l.pendingProps.children,Ml(l,h),w=qn(w),v=v(w),l.flags|=1,Gr(s,l,v,h),l.child;case 14:return v=l.type,w=fi(v,l.pendingProps),w=fi(v.type,w),Zj(s,l,v,w,h);case 15:return eE(s,l,l.type,l.pendingProps,h);case 17:return v=l.type,w=l.pendingProps,w=l.elementType===v?w:fi(v,w),_h(s,l),l.tag=1,on(v)?(s=!0,ih(l)):s=!1,Ml(l,h),Wj(l,v,w),U0(l,v,w,h),W0(null,l,v,!0,s,h);case 19:return lE(s,l,h);case 22:return tE(s,l,h)}throw Error(r(156,l.tag))};function OE(s,l){return Zt(s,l)}function a$(s,l,h,v){this.tag=s,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(s,l,h,v){return new a$(s,l,h,v)}function dv(s){return s=s.prototype,!(!s||!s.isReactComponent)}function s$(s){if(typeof s=="function")return dv(s)?1:0;if(s!=null){if(s=s.$$typeof,s===F)return 11;if(s===ne)return 14}return 2}function ys(s,l){var h=s.alternate;return h===null?(h=Hn(s.tag,l,s.key,s.mode),h.elementType=s.elementType,h.type=s.type,h.stateNode=s.stateNode,h.alternate=s,s.alternate=h):(h.pendingProps=l,h.type=s.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=s.flags&14680064,h.childLanes=s.childLanes,h.lanes=s.lanes,h.child=s.child,h.memoizedProps=s.memoizedProps,h.memoizedState=s.memoizedState,h.updateQueue=s.updateQueue,l=s.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=s.sibling,h.index=s.index,h.ref=s.ref,h}function Ch(s,l,h,v,w,j){var V=2;if(v=s,typeof s=="function")dv(s)&&(V=1);else if(typeof s=="string")V=5;else e:switch(s){case T:return xo(h.children,w,j,l);case O:V=8,w|=8;break;case L:return s=Hn(12,h,l,w|2),s.elementType=L,s.lanes=j,s;case $:return s=Hn(13,h,l,w),s.elementType=$,s.lanes=j,s;case ee:return s=Hn(19,h,l,w),s.elementType=ee,s.lanes=j,s;case ie:return Rh(h,w,j,l);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case C:V=10;break e;case D:V=9;break e;case F:V=11;break e;case ne:V=14;break e;case Q:V=16,v=null;break e}throw Error(r(130,s==null?s:typeof s,""))}return l=Hn(V,h,l,w),l.elementType=s,l.type=v,l.lanes=j,l}function xo(s,l,h,v){return s=Hn(7,s,v,l),s.lanes=h,s}function Rh(s,l,h,v){return s=Hn(22,s,v,l),s.elementType=ie,s.lanes=h,s.stateNode={isHidden:!1},s}function fv(s,l,h){return s=Hn(6,s,null,l),s.lanes=h,s}function hv(s,l,h){return l=Hn(4,s.children!==null?s.children:[],s.key,l),l.lanes=h,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}function o$(s,l,h,v,w){this.tag=l,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Za(0),this.expirationTimes=Za(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Za(0),this.identifierPrefix=v,this.onRecoverableError=w,this.mutableSourceEagerHydrationData=null}function pv(s,l,h,v,w,j,V,q,G){return s=new o$(s,l,h,q,G),l===1?(l=1,j===!0&&(l|=8)):l=0,j=Hn(3,null,null,l),s.current=j,j.stateNode=s,j.memoizedState={element:v,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},T0(j),s}function l$(s,l,h){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:N,key:v==null?null:""+v,children:s,containerInfo:l,implementation:h}}function CE(s){if(!s)return cs;s=s._reactInternals;e:{if(Le(s)!==s||s.tag!==1)throw Error(r(170));var l=s;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(on(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(r(171))}if(s.tag===1){var h=s.type;if(on(h))return oj(s,h,l)}return l}function RE(s,l,h,v,w,j,V,q,G){return s=pv(h,v,!0,s,w,j,V,q,G),s.context=CE(null),h=s.current,v=Kr(),w=gs(h),j=ya(v,w),j.callback=l??null,fs(h,j,w),s.current.lanes=w,es(s,w,v),un(s,v),s}function Mh(s,l,h,v){var w=l.current,j=Kr(),V=gs(w);return h=CE(h),l.context===null?l.context=h:l.pendingContext=h,l=ya(j,V),l.payload={element:s},v=v===void 0?null:v,v!==null&&(l.callback=v),s=fs(w,l,V),s!==null&&(mi(s,w,V,j),fh(s,w,V)),V}function Dh(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function ME(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var h=s.retryLane;s.retryLane=h!==0&&h<l?h:l}}function mv(s,l){ME(s,l),(s=s.alternate)&&ME(s,l)}function c$(){return null}var DE=typeof reportError=="function"?reportError:function(s){console.error(s)};function gv(s){this._internalRoot=s}Lh.prototype.render=gv.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(r(409));Mh(s,l,null,null)},Lh.prototype.unmount=gv.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;go(function(){Mh(null,s,null,null)}),l[ha]=null}};function Lh(s){this._internalRoot=s}Lh.prototype.unstable_scheduleHydration=function(s){if(s){var l=Lf();s={blockedOn:null,target:s,priority:l};for(var h=0;h<Pi.length&&l!==0&&l<Pi[h].priority;h++);Pi.splice(h,0,s),h===0&&Ff(s)}};function vv(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function $h(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function LE(){}function u$(s,l,h,v,w){if(w){if(typeof v=="function"){var j=v;v=function(){var oe=Dh(V);j.call(oe)}}var V=RE(l,v,s,0,null,!1,!1,"",LE);return s._reactRootContainer=V,s[ha]=V.current,mu(s.nodeType===8?s.parentNode:s),go(),V}for(;w=s.lastChild;)s.removeChild(w);if(typeof v=="function"){var q=v;v=function(){var oe=Dh(G);q.call(oe)}}var G=pv(s,0,!1,null,null,!1,!1,"",LE);return s._reactRootContainer=G,s[ha]=G.current,mu(s.nodeType===8?s.parentNode:s),go(function(){Mh(l,G,h,v)}),G}function Vh(s,l,h,v,w){var j=h._reactRootContainer;if(j){var V=j;if(typeof w=="function"){var q=w;w=function(){var G=Dh(V);q.call(G)}}Mh(l,V,s,w)}else V=u$(h,l,s,w,v);return Dh(V)}Mf=function(s){switch(s.tag){case 3:var l=s.stateNode;if(l.current.memoizedState.isDehydrated){var h=Ja(l.pendingLanes);h!==0&&(ts(l,h|1),un(l,wt()),(lt&6)===0&&(Fl=wt()+500,us()))}break;case 13:go(function(){var v=va(s,1);if(v!==null){var w=Kr();mi(v,s,1,w)}}),mv(s,1)}},dl=function(s){if(s.tag===13){var l=va(s,134217728);if(l!==null){var h=Kr();mi(l,s,134217728,h)}mv(s,134217728)}},Df=function(s){if(s.tag===13){var l=gs(s),h=va(s,l);if(h!==null){var v=Kr();mi(h,s,l,v)}mv(s,l)}},Lf=function(){return nt},$f=function(s,l){var h=nt;try{return nt=s,l()}finally{nt=h}},Ti=function(s,l,h){switch(l){case"input":if($t(s,h),l=h.name,h.type==="radio"&&l!=null){for(h=s;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<h.length;l++){var v=h[l];if(v!==s&&v.form===s.form){var w=rh(v);if(!w)throw Error(r(90));W(v),$t(v,w)}}}break;case"textarea":ji(s,h);break;case"select":l=h.value,l!=null&&Jt(s,!!h.multiple,l,!1)}},Ai=lv,Qs=go;var d$={usingClientEntryPoint:!1,Events:[yu,Tl,rh,Pr,Xs,lv]},Ou={findFiberByHostInstance:oo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},f$={bundleType:Ou.bundleType,version:Ou.version,rendererPackageName:Ou.rendererPackageName,rendererConfig:Ou.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Pt(s),s===null?null:s.stateNode},findFiberByHostInstance:Ou.findFiberByHostInstance||c$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fh.isDisabled&&Fh.supportsFiber)try{eo=Fh.inject(f$),bn=Fh}catch{}}return dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=d$,dn.createPortal=function(s,l){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vv(l))throw Error(r(200));return l$(s,l,null,h)},dn.createRoot=function(s,l){if(!vv(s))throw Error(r(299));var h=!1,v="",w=DE;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(w=l.onRecoverableError)),l=pv(s,1,!1,null,null,h,!1,v,w),s[ha]=l.current,mu(s.nodeType===8?s.parentNode:s),new gv(l)},dn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=Pt(l),s=s===null?null:s.stateNode,s},dn.flushSync=function(s){return go(s)},dn.hydrate=function(s,l,h){if(!$h(l))throw Error(r(200));return Vh(null,s,l,!0,h)},dn.hydrateRoot=function(s,l,h){if(!vv(s))throw Error(r(405));var v=h!=null&&h.hydratedSources||null,w=!1,j="",V=DE;if(h!=null&&(h.unstable_strictMode===!0&&(w=!0),h.identifierPrefix!==void 0&&(j=h.identifierPrefix),h.onRecoverableError!==void 0&&(V=h.onRecoverableError)),l=RE(l,null,s,1,h??null,w,!1,j,V),s[ha]=l.current,mu(s),v)for(s=0;s<v.length;s++)h=v[s],w=h._getVersion,w=w(h._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[h,w]:l.mutableSourceEagerHydrationData.push(h,w);return new Lh(l)},dn.render=function(s,l,h){if(!$h(l))throw Error(r(200));return Vh(null,s,l,!1,h)},dn.unmountComponentAtNode=function(s){if(!$h(s))throw Error(r(40));return s._reactRootContainer?(go(function(){Vh(null,null,s,!1,function(){s._reactRootContainer=null,s[ha]=null})}),!0):!1},dn.unstable_batchedUpdates=lv,dn.unstable_renderSubtreeIntoContainer=function(s,l,h,v){if(!$h(h))throw Error(r(200));if(s==null||s._reactInternals===void 0)throw Error(r(38));return Vh(s,l,h,!1,v)},dn.version="18.3.1-next-f1338f8080-20240426",dn}var WE;function b$(){if(WE)return bv.exports;WE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),bv.exports=x$(),bv.exports}var HE;function w$(){if(HE)return Bh;HE=1;var t=b$();return Bh.createRoot=t.createRoot,Bh.hydrateRoot=t.hydrateRoot,Bh}var _$=w$();const S$=pt(_$);var GE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},k$=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],o=t[r++],u=t[r++],d=((i&7)<<18|(a&63)<<12|(o&63)<<6|u&63)-65536;e[n++]=String.fromCharCode(55296+(d>>10)),e[n++]=String.fromCharCode(56320+(d&1023))}else{const a=t[r++],o=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},bR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,u=o?t[i+1]:0,d=i+2<t.length,f=d?t[i+2]:0,p=a>>2,m=(a&3)<<4|u>>4;let y=(u&15)<<2|f>>6,x=f&63;d||(x=64,o||(y=64)),n.push(r[p],r[m],r[y],r[x])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(xR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):k$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],u=i<t.length?r[t.charAt(i)]:0;++i;const f=i<t.length?r[t.charAt(i)]:64;++i;const m=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||u==null||f==null||m==null)throw new j$;const y=a<<2|u>>4;if(n.push(y),f!==64){const x=u<<4&240|f>>2;if(n.push(x),m!==64){const S=f<<6&192|m;n.push(S)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class j$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const E$=function(t){const e=xR(t);return bR.encodeByteArray(e,!0)},_p=function(t){return E$(t).replace(/\./g,"")},wR=function(t){try{return bR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A$=()=>T$().__FIREBASE_DEFAULTS__,N$=()=>{if(typeof process>"u"||typeof GE>"u")return;const t=GE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},P$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&wR(t[1]);return e&&JSON.parse(e)},Vm=()=>{try{return A$()||N$()||P$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},_R=t=>{var e,r;return(r=(e=Vm())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},SR=t=>{const e=_R(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},kR=()=>{var t;return(t=Vm())===null||t===void 0?void 0:t.config},jR=t=>{var e;return(e=Vm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[_p(JSON.stringify(r)),_p(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function O$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Br())}function C$(){var t;const e=(t=Vm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function R$(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function M$(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function D$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function L$(){const t=Br();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function $$(){return!C$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function V$(){try{return typeof indexedDB=="object"}catch{return!1}}function F$(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U$="FirebaseError";class ea extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=U$,Object.setPrototypeOf(this,ea.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nf.prototype.create)}}class nf{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?B$(a,n):"Error",u=`${this.serviceName}: ${o} (${i}).`;return new ea(i,u,n)}}function B$(t,e){return t.replace(q$,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const q$=/\{\$([^}]+)}/g;function z$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Sp(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],o=e[i];if(KE(a)&&KE(o)){if(!Sp(a,o))return!1}else if(a!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function KE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Wu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Hu(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function W$(t,e){const r=new H$(t,e);return r.subscribe.bind(r)}class H${constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");G$(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=Sv),i.error===void 0&&(i.error=Sv),i.complete===void 0&&(i.complete=Sv);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function G$(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function Sv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(t){return t&&t._delegate?t._delegate:t}class Ds{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K${constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new I$;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e?.identifier),i=(r=e?.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(X$(e))try{this.getOrInitializeService({instanceIdentifier:So})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=So){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=So){return this.instances.has(e)}getOptions(e=So){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);n===u&&o.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Y$(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=So){return this.component?this.component.multipleInstances?e:So:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Y$(t){return t===So?void 0:t}function X$(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new K$(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(it||(it={}));const J$={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},Z$=it.INFO,e5={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},t5=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=e5[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class O1{constructor(e){this.name=e,this._logLevel=Z$,this._logHandler=t5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in it))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?J$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...e),this._logHandler(this,it.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...e),this._logHandler(this,it.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,it.INFO,...e),this._logHandler(this,it.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,it.WARN,...e),this._logHandler(this,it.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...e),this._logHandler(this,it.ERROR,...e)}}const r5=(t,e)=>e.some(r=>t instanceof r);let YE,XE;function n5(){return YE||(YE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function i5(){return XE||(XE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TR=new WeakMap,$w=new WeakMap,AR=new WeakMap,kv=new WeakMap,C1=new WeakMap;function a5(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{r(Ps(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&TR.set(r,t)}).catch(()=>{}),C1.set(e,t),e}function s5(t){if($w.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});$w.set(t,e)}let Vw={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return $w.get(t);if(e==="objectStoreNames")return t.objectStoreNames||AR.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Ps(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function o5(t){Vw=t(Vw)}function l5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(jv(this),e,...r);return AR.set(n,e.sort?e.sort():[e]),Ps(n)}:i5().includes(t)?function(...e){return t.apply(jv(this),e),Ps(TR.get(this))}:function(...e){return Ps(t.apply(jv(this),e))}}function c5(t){return typeof t=="function"?l5(t):(t instanceof IDBTransaction&&s5(t),r5(t,n5())?new Proxy(t,Vw):t)}function Ps(t){if(t instanceof IDBRequest)return a5(t);if(kv.has(t))return kv.get(t);const e=c5(t);return e!==t&&(kv.set(t,e),C1.set(e,t)),e}const jv=t=>C1.get(t);function u5(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),u=Ps(o);return n&&o.addEventListener("upgradeneeded",d=>{n(Ps(o.result),d.oldVersion,d.newVersion,Ps(o.transaction),d)}),r&&o.addEventListener("blocked",d=>r(d.oldVersion,d.newVersion,d)),u.then(d=>{a&&d.addEventListener("close",()=>a()),i&&d.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const d5=["get","getKey","getAll","getAllKeys","count"],f5=["put","add","delete","clear"],Ev=new Map;function QE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ev.get(e))return Ev.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=f5.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||d5.includes(r)))return;const a=async function(o,...u){const d=this.transaction(o,i?"readwrite":"readonly");let f=d.store;return n&&(f=f.index(u.shift())),(await Promise.all([f[r](...u),i&&d.done]))[0]};return Ev.set(e,a),a}o5(t=>({...t,get:(e,r,n)=>QE(e,r)||t.get(e,r,n),has:(e,r)=>!!QE(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(p5(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function p5(t){const e=t.getComponent();return e?.type==="VERSION"}const Fw="@firebase/app",JE="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca=new O1("@firebase/app"),m5="@firebase/app-compat",g5="@firebase/analytics-compat",v5="@firebase/analytics",y5="@firebase/app-check-compat",x5="@firebase/app-check",b5="@firebase/auth",w5="@firebase/auth-compat",_5="@firebase/database",S5="@firebase/data-connect",k5="@firebase/database-compat",j5="@firebase/functions",E5="@firebase/functions-compat",T5="@firebase/installations",A5="@firebase/installations-compat",N5="@firebase/messaging",P5="@firebase/messaging-compat",I5="@firebase/performance",O5="@firebase/performance-compat",C5="@firebase/remote-config",R5="@firebase/remote-config-compat",M5="@firebase/storage",D5="@firebase/storage-compat",L5="@firebase/firestore",$5="@firebase/vertexai-preview",V5="@firebase/firestore-compat",F5="firebase",U5="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw="[DEFAULT]",B5={[Fw]:"fire-core",[m5]:"fire-core-compat",[v5]:"fire-analytics",[g5]:"fire-analytics-compat",[x5]:"fire-app-check",[y5]:"fire-app-check-compat",[b5]:"fire-auth",[w5]:"fire-auth-compat",[_5]:"fire-rtdb",[S5]:"fire-data-connect",[k5]:"fire-rtdb-compat",[j5]:"fire-fn",[E5]:"fire-fn-compat",[T5]:"fire-iid",[A5]:"fire-iid-compat",[N5]:"fire-fcm",[P5]:"fire-fcm-compat",[I5]:"fire-perf",[O5]:"fire-perf-compat",[C5]:"fire-rc",[R5]:"fire-rc-compat",[M5]:"fire-gcs",[D5]:"fire-gcs-compat",[L5]:"fire-fst",[V5]:"fire-fst-compat",[$5]:"fire-vertex","fire-js":"fire-js",[F5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kp=new Map,q5=new Map,Bw=new Map;function ZE(t,e){try{t.container.addComponent(e)}catch(r){Ca.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function $o(t){const e=t.name;if(Bw.has(e))return Ca.debug(`There were multiple attempts to register component ${e}.`),!1;Bw.set(e,t);for(const r of kp.values())ZE(r,t);for(const r of q5.values())ZE(r,t);return!0}function Fm(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Fi(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Is=new nf("app","Firebase",z5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ds("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Is.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo=U5;function NR(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Uw,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw Is.create("bad-app-name",{appName:String(i)});if(r||(r=kR()),!r)throw Is.create("no-options");const a=kp.get(i);if(a){if(Sp(r,a.options)&&Sp(n,a.config))return a;throw Is.create("duplicate-app",{appName:i})}const o=new Q$(i);for(const d of Bw.values())o.addComponent(d);const u=new W5(r,n,o);return kp.set(i,u),u}function R1(t=Uw){const e=kp.get(t);if(!e&&t===Uw&&kR())return NR();if(!e)throw Is.create("no-app",{appName:t});return e}function Bi(t,e,r){var n;let i=(n=B5[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ca.warn(u.join(" "));return}$o(new Ds(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H5="firebase-heartbeat-database",G5=1,dd="firebase-heartbeat-store";let Tv=null;function PR(){return Tv||(Tv=u5(H5,G5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(dd)}catch(r){console.warn(r)}}}}).catch(t=>{throw Is.create("idb-open",{originalErrorMessage:t.message})})),Tv}async function K5(t){try{const r=(await PR()).transaction(dd),n=await r.objectStore(dd).get(IR(t));return await r.done,n}catch(e){if(e instanceof ea)Ca.warn(e.message);else{const r=Is.create("idb-get",{originalErrorMessage:e?.message});Ca.warn(r.message)}}}async function eT(t,e){try{const n=(await PR()).transaction(dd,"readwrite");await n.objectStore(dd).put(e,IR(t)),await n.done}catch(r){if(r instanceof ea)Ca.warn(r.message);else{const n=Is.create("idb-set",{originalErrorMessage:r?.message});Ca.warn(n.message)}}}function IR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y5=1024,X5=30*24*60*60*1e3;class Q5{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Z5(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=tT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const u=new Date(o.date).valueOf();return Date.now()-u<=X5}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Ca.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=tT(),{heartbeatsToSend:n,unsentEntries:i}=J5(this._heartbeatsCache.heartbeats),a=_p(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return Ca.warn(r),""}}}function tT(){return new Date().toISOString().substring(0,10)}function J5(t,e=Y5){const r=[];let n=t.slice();for(const i of t){const a=r.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),rT(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),rT(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class Z5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return V$()?F$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await K5(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return eT(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return eT(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function rT(t){return _p(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eV(t){$o(new Ds("platform-logger",e=>new h5(e),"PRIVATE")),$o(new Ds("heartbeat",e=>new Q5(e),"PRIVATE")),Bi(Fw,JE,t),Bi(Fw,JE,"esm2017"),Bi("fire-js","")}eV("");var tV="firebase",rV="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bi(tV,rV,"app");function M1(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function OR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nV=OR,CR=new nf("auth","Firebase",OR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp=new O1("@firebase/auth");function iV(t,...e){jp.logLevel<=it.WARN&&jp.warn(`Auth (${Qo}): ${t}`,...e)}function dp(t,...e){jp.logLevel<=it.ERROR&&jp.error(`Auth (${Qo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(t,...e){throw D1(t,...e)}function qi(t,...e){return D1(t,...e)}function RR(t,e,r){const n=Object.assign(Object.assign({},nV()),{[e]:r});return new nf("auth","Firebase",n).create(e,{appName:t.name})}function Pa(t){return RR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function D1(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return CR.create(t,...e)}function ze(t,e,...r){if(!t)throw D1(e,...r)}function ka(t){const e="INTERNAL ASSERTION FAILED: "+t;throw dp(e),new Error(e)}function Ra(t,e){t||ka(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function aV(){return nT()==="http:"||nT()==="https:"}function nT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aV()||M$()||"connection"in navigator)?navigator.onLine:!0}function oV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,r){this.shortDelay=e,this.longDelay=r,Ra(r>e,"Short delay should be less than long delay!"),this.isMobile=O$()||D$()}get(){return sV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(t,e){Ra(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ka("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ka("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ka("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cV=new sf(3e4,6e4);function Fs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Us(t,e,r,n,i={}){return DR(t,i,async()=>{let a={},o={};n&&(e==="GET"?o=n:a={body:JSON.stringify(n)});const u=af(Object.assign({key:t.config.apiKey},o)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const f=Object.assign({method:e,headers:d},a);return R$()||(f.referrerPolicy="no-referrer"),MR.fetch()(LR(t,t.config.apiHost,r,u),f)})}async function DR(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},lV),e);try{const i=new dV(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw qh(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const u=a.ok?o.errorMessage:o.error.message,[d,f]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw qh(t,"credential-already-in-use",o);if(d==="EMAIL_EXISTS")throw qh(t,"email-already-in-use",o);if(d==="USER_DISABLED")throw qh(t,"user-disabled",o);const p=n[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw RR(t,p,f);_i(t,p)}}catch(i){if(i instanceof ea)throw i;_i(t,"network-request-failed",{message:String(i)})}}async function of(t,e,r,n,i={}){const a=await Us(t,e,r,n,i);return"mfaPendingCredential"in a&&_i(t,"multi-factor-auth-required",{_serverResponse:a}),a}function LR(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?L1(t.config,i):`${t.config.apiScheme}://${i}`}function uV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class dV{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(qi(this.auth,"network-request-failed")),cV.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qh(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=qi(t,e,n);return i.customData._tokenResponse=r,i}function iT(t){return t!==void 0&&t.enterprise!==void 0}class fV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return uV(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function hV(t,e){return Us(t,"GET","/v2/recaptchaConfig",Fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pV(t,e){return Us(t,"POST","/v1/accounts:delete",e)}async function $R(t,e){return Us(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function mV(t,e=!1){const r=or(t),n=await r.getIdToken(e),i=$1(n);ze(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a?.sign_in_provider;return{claims:i,token:n,authTime:ed(Av(i.auth_time)),issuedAtTime:ed(Av(i.iat)),expirationTime:ed(Av(i.exp)),signInProvider:o||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Av(t){return Number(t)*1e3}function $1(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return dp("JWT malformed, contained fewer than 3 sections"),null;try{const i=wR(r);return i?JSON.parse(i):(dp("Failed to decode base64 JWT payload"),null)}catch(i){return dp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function aT(t){const e=$1(t);return ze(e,"internal-error"),ze(typeof e.exp<"u","internal-error"),ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fd(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof ea&&gV(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function gV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=ed(this.lastLoginAt),this.creationTime=ed(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ep(t){var e;const r=t.auth,n=await t.getIdToken(),i=await fd(t,$R(r,{idToken:n}));ze(i?.users.length,r,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const o=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?VR(a.providerUserInfo):[],u=xV(t.providerData,o),d=t.isAnonymous,f=!(t.email&&a.passwordHash)&&!u?.length,p=d?f:!1,m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new zw(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,m)}async function yV(t){const e=or(t);await Ep(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function xV(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function VR(t){return t.map(e=>{var{providerId:r}=e,n=M1(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bV(t,e){const r=await DR(t,{},async()=>{const n=af({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=LR(t,i,"/v1/token",`key=${a}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",MR.fetch()(o,{method:"POST",headers:u,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function wV(t,e){return Us(t,"POST","/v2/accounts:revokeToken",Fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ze(e.idToken,"internal-error"),ze(typeof e.idToken<"u","internal-error"),ze(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):aT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){ze(e.length!==0,"internal-error");const r=aT(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(ze(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await bV(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,o=new ec;return n&&(ze(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),i&&(ze(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(ze(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ec,this.toJSON())}_performRefresh(){return ka("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(t,e){ze(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ja{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,a=M1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new zw(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const r=await fd(this,this.stsTokenManager.getToken(this.auth,e));return ze(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return mV(this,e)}reload(){return yV(this)}_assign(e){this!==e&&(ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new ja(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Ep(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fi(this.auth.app))return Promise.reject(Pa(this.auth));const e=await this.getIdToken();return await fd(this,pV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,a,o,u,d,f,p;const m=(n=r.displayName)!==null&&n!==void 0?n:void 0,y=(i=r.email)!==null&&i!==void 0?i:void 0,x=(a=r.phoneNumber)!==null&&a!==void 0?a:void 0,S=(o=r.photoURL)!==null&&o!==void 0?o:void 0,_=(u=r.tenantId)!==null&&u!==void 0?u:void 0,b=(d=r._redirectEventId)!==null&&d!==void 0?d:void 0,P=(f=r.createdAt)!==null&&f!==void 0?f:void 0,A=(p=r.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:I,emailVerified:R,isAnonymous:E,providerData:N,stsTokenManager:T}=r;ze(I&&T,e,"internal-error");const O=ec.fromJSON(this.name,T);ze(typeof I=="string",e,"internal-error"),bs(m,e.name),bs(y,e.name),ze(typeof R=="boolean",e,"internal-error"),ze(typeof E=="boolean",e,"internal-error"),bs(x,e.name),bs(S,e.name),bs(_,e.name),bs(b,e.name),bs(P,e.name),bs(A,e.name);const L=new ja({uid:I,auth:e,email:y,emailVerified:R,displayName:m,isAnonymous:E,photoURL:S,phoneNumber:x,tenantId:_,stsTokenManager:O,createdAt:P,lastLoginAt:A});return N&&Array.isArray(N)&&(L.providerData=N.map(C=>Object.assign({},C))),b&&(L._redirectEventId=b),L}static async _fromIdTokenResponse(e,r,n=!1){const i=new ec;i.updateFromServerResponse(r);const a=new ja({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Ep(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];ze(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?VR(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!a?.length,u=new ec;u.updateFromIdToken(n);const d=new ja({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:o}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new zw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(d,f),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=new Map;function Ea(t){Ra(t instanceof Function,"Expected a class definition");let e=sT.get(t);return e?(Ra(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,sT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}FR.type="NONE";const oT=FR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(t,e,r){return`firebase:${t}:${e}:${r}`}class tc{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=fp(this.userKey,i.apiKey,a),this.fullPersistenceKey=fp("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ja._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new tc(Ea(oT),e,n);const i=(await Promise.all(r.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=i[0]||Ea(oT);const o=fp(n,e.config.apiKey,e.name);let u=null;for(const f of r)try{const p=await f._get(o);if(p){const m=ja._fromJSON(e,p);f!==a&&(u=m),a=f;break}}catch{}const d=i.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new tc(a,e,n):(a=d[0],u&&await a._set(o,u.toJSON()),await Promise.all(r.map(async f=>{if(f!==a)try{await f._remove(o)}catch{}})),new tc(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(UR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(HR(e))return"Blackberry";if(GR(e))return"Webos";if(BR(e))return"Safari";if((e.includes("chrome/")||qR(e))&&!e.includes("edge/"))return"Chrome";if(WR(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if(n?.length===2)return n[1]}return"Other"}function UR(t=Br()){return/firefox\//i.test(t)}function BR(t=Br()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qR(t=Br()){return/crios\//i.test(t)}function zR(t=Br()){return/iemobile/i.test(t)}function WR(t=Br()){return/android/i.test(t)}function HR(t=Br()){return/blackberry/i.test(t)}function GR(t=Br()){return/webos/i.test(t)}function V1(t=Br()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function _V(t=Br()){var e;return V1(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function SV(){return L$()&&document.documentMode===10}function KR(t=Br()){return V1(t)||WR(t)||GR(t)||HR(t)||/windows phone/i.test(t)||zR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(t,e=[]){let r;switch(t){case"Browser":r=lT(Br());break;case"Worker":r=`${lT(Br())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Qo}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((o,u)=>{try{const d=e(a);o(d)}catch(d){u(d)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jV(t,e={}){return Us(t,"GET","/v2/passwordPolicy",Fs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV=6;class TV{constructor(e){var r,n,i,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=o.minPasswordLength)!==null&&r!==void 0?r:EV,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,a,o,u;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(r=d.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(n=d.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(a=d.containsUppercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(o=d.containsNumericCharacter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(u=d.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),d}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cT(this),this.idTokenSubscription=new cT(this),this.beforeStateQueue=new kV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=CR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Ea(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await tc.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await $R(this,{idToken:e}),n=await ja._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(Fi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,u=i?._redirectEventId,d=await this.tryRedirectSignIn(e);(!o||o===u)&&d?.user&&(i=d.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Ep(e)}catch(r){if(r?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=oV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fi(this.app))return Promise.reject(Pa(this));const r=e?or(e):null;return r&&ze(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fi(this.app)?Promise.reject(Pa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fi(this.app)?Promise.reject(Pa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ea(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await jV(this),r=new TV(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new nf("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await wV(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Ea(e)||this._popupRedirectResolver;ze(r,this,"argument-error"),this.redirectPersistenceManager=await tc.create(this,[Ea(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let o=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(ze(u,this,"internal-error"),u.then(()=>{o||a(this.currentUser)}),typeof r=="function"){const d=e.addObserver(r,n,i);return()=>{o=!0,d()}}else{const d=e.addObserver(r);return()=>{o=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=YR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r?.error&&iV(`Error while retrieving App Check token: ${r.error}`),r?.token}}function Jo(t){return or(t)}class cT{constructor(e){this.auth=e,this.observer=null,this.addObserver=W$(r=>this.observer=r)}get next(){return ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Um={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function NV(t){Um=t}function XR(t){return Um.loadJS(t)}function PV(){return Um.recaptchaEnterpriseScript}function IV(){return Um.gapiScript}function OV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const CV="recaptcha-enterprise",RV="NO_RECAPTCHA";class MV{constructor(e){this.type=CV,this.auth=Jo(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,u)=>{hV(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new fV(d);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,o(f.siteKey)}}).catch(d=>{u(d)})})}function i(a,o,u){const d=window.grecaptcha;iT(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(f=>{o(f)}).catch(()=>{o(RV)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,o)=>{n(this.auth).then(u=>{if(!r&&iT(window.grecaptcha))i(u,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let d=PV();d.length!==0&&(d+=u),XR(d).then(()=>{i(u,a,o)}).catch(f=>{o(f)})}}).catch(u=>{o(u)})})}}async function uT(t,e,r,n=!1){const i=new MV(t);let a;try{a=await i.verify(r)}catch{a=await i.verify(r,!0)}const o=Object.assign({},e);return n?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Ww(t,e,r,n){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await uT(t,e,r,r==="getOobCode");return n(t,a)}else return n(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await uT(t,e,r,r==="getOobCode");return n(t,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DV(t,e){const r=Fm(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(Sp(a,e??{}))return i;_i(i,"already-initialized")}return r.initialize({options:e})}function LV(t,e){const r=e?.persistence||[],n=(Array.isArray(r)?r:[r]).map(Ea);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e?.popupRedirectResolver)}function $V(t,e,r){const n=Jo(t);ze(n._canInitEmulator,n,"emulator-config-failed"),ze(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=QR(e),{host:o,port:u}=VV(e),d=u===null?"":`:${u}`;n.config.emulator={url:`${a}//${o}${d}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:o,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),FV()}function QR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function VV(t){const e=QR(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:dT(n.substr(a.length+1))}}else{const[a,o]=n.split(":");return{host:a,port:dT(o)}}}function dT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function FV(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return ka("not implemented")}_getIdTokenResponse(e){return ka("not implemented")}_linkToIdToken(e,r){return ka("not implemented")}_getReauthenticationResolver(e){return ka("not implemented")}}async function UV(t,e){return Us(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BV(t,e){return of(t,"POST","/v1/accounts:signInWithPassword",Fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qV(t,e){return of(t,"POST","/v1/accounts:signInWithEmailLink",Fs(t,e))}async function zV(t,e){return of(t,"POST","/v1/accounts:signInWithEmailLink",Fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd extends F1{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new hd(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new hd(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r?.email&&r?.password){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ww(e,r,"signInWithPassword",BV);case"emailLink":return qV(e,{email:this._email,oobCode:this._password});default:_i(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ww(e,n,"signUpPassword",UV);case"emailLink":return zV(e,{idToken:r,email:this._email,oobCode:this._password});default:_i(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rc(t,e){return of(t,"POST","/v1/accounts:signInWithIdp",Fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WV="http://localhost";class Vo extends F1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Vo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):_i("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,a=M1(r,["providerId","signInMethod"]);if(!n||!i)return null;const o=new Vo(n,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return rc(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,rc(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,rc(e,r)}buildRequest(){const e={requestUri:WV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=af(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function GV(t){const e=Wu(Hu(t)).link,r=e?Wu(Hu(e)).deep_link_id:null,n=Wu(Hu(t)).deep_link_id;return(n?Wu(Hu(n)).link:null)||n||r||e||t}class U1{constructor(e){var r,n,i,a,o,u;const d=Wu(Hu(e)),f=(r=d.apiKey)!==null&&r!==void 0?r:null,p=(n=d.oobCode)!==null&&n!==void 0?n:null,m=HV((i=d.mode)!==null&&i!==void 0?i:null);ze(f&&p&&m,"argument-error"),this.apiKey=f,this.operation=m,this.code=p,this.continueUrl=(a=d.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(o=d.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(u=d.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const r=GV(e);try{return new U1(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(){this.providerId=Vc.PROVIDER_ID}static credential(e,r){return hd._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=U1.parseLink(r);return ze(n,"argument-error"),hd._fromEmailAndCode(e,n.code,n.tenantId)}}Vc.PROVIDER_ID="password";Vc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf extends JR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends lf{constructor(){super("facebook.com")}static credential(e){return Vo._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ss.credential(e.oauthAccessToken)}catch{return null}}}Ss.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ss.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends lf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Vo._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return ks.credential(r,n)}catch{return null}}}ks.GOOGLE_SIGN_IN_METHOD="google.com";ks.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js extends lf{constructor(){super("github.com")}static credential(e){return Vo._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return js.credentialFromTaggedObject(e)}static credentialFromError(e){return js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return js.credential(e.oauthAccessToken)}catch{return null}}}js.GITHUB_SIGN_IN_METHOD="github.com";js.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends lf{constructor(){super("twitter.com")}static credential(e,r){return Vo._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Es.credential(r,n)}catch{return null}}}Es.TWITTER_SIGN_IN_METHOD="twitter.com";Es.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KV(t,e){return of(t,"POST","/v1/accounts:signUp",Fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await ja._fromIdTokenResponse(e,n,i),o=fT(n);return new Fo({user:a,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=fT(n);return new Fo({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function fT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp extends ea{constructor(e,r,n,i){var a;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Tp.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Tp(e,r,n,i)}}function ZR(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Tp._fromErrorAndOperation(t,a,e,n):a})}async function YV(t,e,r=!1){const n=await fd(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Fo._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XV(t,e,r=!1){const{auth:n}=t;if(Fi(n.app))return Promise.reject(Pa(n));const i="reauthenticate";try{const a=await fd(t,ZR(n,i,e,t),r);ze(a.idToken,n,"internal-error");const o=$1(a.idToken);ze(o,n,"internal-error");const{sub:u}=o;return ze(t.uid===u,n,"user-mismatch"),Fo._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&_i(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eM(t,e,r=!1){if(Fi(t.app))return Promise.reject(Pa(t));const n="signIn",i=await ZR(t,n,e),a=await Fo._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}async function QV(t,e){return eM(Jo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tM(t){const e=Jo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function JV(t,e,r){if(Fi(t.app))return Promise.reject(Pa(t));const n=Jo(t),o=await Ww(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",KV).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&tM(t),d}),u=await Fo._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(u.user),u}function ZV(t,e,r){return Fi(t.app)?Promise.reject(Pa(t)):QV(or(t),Vc.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&tM(t),n})}function eF(t,e,r,n){return or(t).onIdTokenChanged(e,r,n)}function tF(t,e,r){return or(t).beforeAuthStateChanged(e,r)}function rF(t,e,r,n){return or(t).onAuthStateChanged(e,r,n)}const Ap="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Ap,"1"),this.storage.removeItem(Ap),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nF=1e3,iF=10;class nM extends rM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=KR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,u,d)=>{this.notifyListeners(o,d)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},a=this.storage.getItem(n);SV()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,iF):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},nF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}nM.type="LOCAL";const aF=nM;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM extends rM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}iM.type="SESSION";const aM=iM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new Bm(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,o=this.handlersMap[i];if(!o?.size)return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const u=Array.from(o).map(async f=>f(r.origin,a)),d=await sF(u);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:d})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((u,d)=>{const f=B1("",20);i.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(m){const y=m;if(y.data.eventId===f)switch(y.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(y.data.response);break;default:clearTimeout(p),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:f,data:r},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(){return window}function lF(t){zi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sM(){return typeof zi().WorkerGlobalScope<"u"&&typeof zi().importScripts=="function"}async function cF(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uF(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function dF(){return sM()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM="firebaseLocalStorageDb",fF=1,Np="firebaseLocalStorage",lM="fbase_key";class cf{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function qm(t,e){return t.transaction([Np],e?"readwrite":"readonly").objectStore(Np)}function hF(){const t=indexedDB.deleteDatabase(oM);return new cf(t).toPromise()}function Hw(){const t=indexedDB.open(oM,fF);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Np,{keyPath:lM})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Np)?e(n):(n.close(),await hF(),e(await Hw()))})})}async function hT(t,e,r){const n=qm(t,!0).put({[lM]:e,value:r});return new cf(n).toPromise()}async function pF(t,e){const r=qm(t,!1).get(e),n=await new cf(r).toPromise();return n===void 0?null:n.value}function pT(t,e){const r=qm(t,!0).delete(e);return new cf(r).toPromise()}const mF=800,gF=3;class cM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hw(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>gF)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bm._getInstance(dF()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await cF(),!this.activeServiceWorker)return;this.sender=new oF(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||uF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Hw();return await hT(e,Ap,"1"),await pT(e,Ap),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>hT(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>pF(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>pT(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=qm(i,!1).getAll();return new cf(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),mF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cM.type="LOCAL";const vF=cM;new sf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yF(t,e){return e?Ea(e):(ze(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1 extends F1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return rc(e,this._buildIdpRequest())}_linkToIdToken(e,r){return rc(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return rc(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function xF(t){return eM(t.auth,new q1(t),t.bypassAuthState)}function bF(t){const{auth:e,user:r}=t;return ze(r,e,"internal-error"),XV(r,new q1(t),t.bypassAuthState)}async function wF(t){const{auth:e,user:r}=t;return ze(r,e,"internal-error"),YV(r,new q1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:o,type:u}=e;if(o){this.reject(o);return}const d={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xF;case"linkViaPopup":case"linkViaRedirect":return wF;case"reauthViaPopup":case"reauthViaRedirect":return bF;default:_i(this.auth,"internal-error")}}resolve(e){Ra(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ra(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _F=new sf(2e3,1e4);class Kl extends uM{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,Kl.currentPopupAction&&Kl.currentPopupAction.cancel(),Kl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ze(e,this.auth,"internal-error"),e}async onExecution(){Ra(this.filter.length===1,"Popup operations only handle one event");const e=B1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(qi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(qi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Kl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_F.get())};e()}}Kl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SF="pendingRedirect",hp=new Map;class kF extends uM{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=hp.get(this.auth._key());if(!e){try{const n=await jF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}hp.set(this.auth._key(),e)}return this.bypassAuthState||hp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jF(t,e){const r=AF(e),n=TF(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function EF(t,e){hp.set(t._key(),e)}function TF(t){return Ea(t._redirectPersistence)}function AF(t){return fp(SF,t.config.apiKey,t.name)}async function NF(t,e,r=!1){if(Fi(t.app))return Promise.reject(Pa(t));const n=Jo(t),i=yF(n,e),o=await new kF(n,i,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PF=10*60*1e3;class IF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!OF(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!dM(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(qi(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=PF&&this.cachedEventUids.clear(),this.cachedEventUids.has(mT(e))}saveEventToCache(e){this.cachedEventUids.add(mT(e)),this.lastProcessedEventTime=Date.now()}}function mT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function dM({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function OF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dM(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CF(t,e={}){return Us(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,MF=/^https?/;async function DF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await CF(t);for(const r of e)try{if(LF(r))return}catch{}_i(t,"unauthorized-domain")}function LF(t){const e=qw(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!MF.test(r))return!1;if(RF.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $F=new sf(3e4,6e4);function gT(){const t=zi().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function VF(t){return new Promise((e,r)=>{var n,i,a;function o(){gT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gT(),r(qi(t,"network-request-failed"))},timeout:$F.get()})}if(!((i=(n=zi().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=zi().gapi)===null||a===void 0)&&a.load)o();else{const u=OV("iframefcb");return zi()[u]=()=>{gapi.load?o():r(qi(t,"network-request-failed"))},XR(`${IV()}?onload=${u}`).catch(d=>r(d))}}).catch(e=>{throw pp=null,e})}let pp=null;function FF(t){return pp=pp||VF(t),pp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UF=new sf(5e3,15e3),BF="__/auth/iframe",qF="emulator/auth/iframe",zF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},WF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HF(t){const e=t.config;ze(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?L1(e,qF):`https://${t.config.authDomain}/${BF}`,n={apiKey:e.apiKey,appName:t.name,v:Qo},i=WF.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${af(n).slice(1)}`}async function GF(t){const e=await FF(t),r=zi().gapi;return ze(r,t,"internal-error"),e.open({where:document.body,url:HF(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zF,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const o=qi(t,"network-request-failed"),u=zi().setTimeout(()=>{a(o)},UF.get());function d(){zi().clearTimeout(u),i(n)}n.ping(d).then(d,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},YF=500,XF=600,QF="_blank",JF="http://localhost";class vT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ZF(t,e,r,n=YF,i=XF){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let u="";const d=Object.assign(Object.assign({},KF),{width:n.toString(),height:i.toString(),top:a,left:o}),f=Br().toLowerCase();r&&(u=qR(f)?QF:r),UR(f)&&(e=e||JF,d.scrollbars="yes");const p=Object.entries(d).reduce((y,[x,S])=>`${y}${x}=${S},`,"");if(_V(f)&&u!=="_self")return eU(e||"",u),new vT(null);const m=window.open(e||"",u,p);ze(m,t,"popup-blocked");try{m.focus()}catch{}return new vT(m)}function eU(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tU="__/auth/handler",rU="emulator/auth/handler",nU=encodeURIComponent("fac");async function yT(t,e,r,n,i,a){ze(t.config.authDomain,t,"auth-domain-config-required"),ze(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Qo,eventId:i};if(e instanceof JR){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",z$(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,m]of Object.entries({}))o[p]=m}if(e instanceof lf){const p=e.getScopes().filter(m=>m!=="");p.length>0&&(o.scopes=p.join(","))}t.tenantId&&(o.tid=t.tenantId);const u=o;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const d=await t._getAppCheckToken(),f=d?`#${nU}=${encodeURIComponent(d)}`:"";return`${iU(t)}?${af(u).slice(1)}${f}`}function iU({config:t}){return t.emulator?L1(t,rU):`https://${t.authDomain}/${tU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="webStorageSupport";class aU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aM,this._completeRedirectFn=NF,this._overrideRedirectResult=EF}async _openPopup(e,r,n,i){var a;Ra((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await yT(e,r,n,qw(),i);return ZF(e,o,B1())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await yT(e,r,n,qw(),i);return lF(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(Ra(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await GF(e),n=new IF(e);return r.register("authEvent",i=>(ze(i?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Nv,{type:Nv},i=>{var a;const o=(a=i?.[0])===null||a===void 0?void 0:a[Nv];o!==void 0&&r(!!o),_i(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=DF(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return KR()||BR()||V1()}}const sU=aU;var xT="@firebase/auth",bT="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cU(t){$o(new Ds("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:u}=n.options;ze(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const d={apiKey:o,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YR(t)},f=new AV(n,i,a,d);return LV(f,r),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),$o(new Ds("auth-internal",e=>{const r=Jo(e.getProvider("auth").getImmediate());return(n=>new oU(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Bi(xT,bT,lU(t)),Bi(xT,bT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uU=5*60,dU=jR("authIdTokenMaxAge")||uU;let wT=null;const fU=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>dU)return;const i=r?.token;wT!==i&&(wT=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function fM(t=R1()){const e=Fm(t,"auth");if(e.isInitialized())return e.getImmediate();const r=DV(t,{popupRedirectResolver:sU,persistence:[vF,aF,aM]}),n=jR("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const o=fU(a.toString());tF(r,o,()=>o(r.currentUser)),eF(r,u=>o(u))}}const i=_R("auth");return i&&$V(r,`http://${i}`),r}function hU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}NV({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=qi("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",hU().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cU("Browser");var _T=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ro,hM;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,O){function L(){}L.prototype=O.prototype,T.D=O.prototype,T.prototype=new L,T.prototype.constructor=T,T.C=function(C,D,F){for(var $=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)$[ee-2]=arguments[ee];return O.prototype[D].apply(C,$)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,O,L){L||(L=0);var C=Array(16);if(typeof O=="string")for(var D=0;16>D;++D)C[D]=O.charCodeAt(L++)|O.charCodeAt(L++)<<8|O.charCodeAt(L++)<<16|O.charCodeAt(L++)<<24;else for(D=0;16>D;++D)C[D]=O[L++]|O[L++]<<8|O[L++]<<16|O[L++]<<24;O=T.g[0],L=T.g[1],D=T.g[2];var F=T.g[3],$=O+(F^L&(D^F))+C[0]+3614090360&4294967295;O=L+($<<7&4294967295|$>>>25),$=F+(D^O&(L^D))+C[1]+3905402710&4294967295,F=O+($<<12&4294967295|$>>>20),$=D+(L^F&(O^L))+C[2]+606105819&4294967295,D=F+($<<17&4294967295|$>>>15),$=L+(O^D&(F^O))+C[3]+3250441966&4294967295,L=D+($<<22&4294967295|$>>>10),$=O+(F^L&(D^F))+C[4]+4118548399&4294967295,O=L+($<<7&4294967295|$>>>25),$=F+(D^O&(L^D))+C[5]+1200080426&4294967295,F=O+($<<12&4294967295|$>>>20),$=D+(L^F&(O^L))+C[6]+2821735955&4294967295,D=F+($<<17&4294967295|$>>>15),$=L+(O^D&(F^O))+C[7]+4249261313&4294967295,L=D+($<<22&4294967295|$>>>10),$=O+(F^L&(D^F))+C[8]+1770035416&4294967295,O=L+($<<7&4294967295|$>>>25),$=F+(D^O&(L^D))+C[9]+2336552879&4294967295,F=O+($<<12&4294967295|$>>>20),$=D+(L^F&(O^L))+C[10]+4294925233&4294967295,D=F+($<<17&4294967295|$>>>15),$=L+(O^D&(F^O))+C[11]+2304563134&4294967295,L=D+($<<22&4294967295|$>>>10),$=O+(F^L&(D^F))+C[12]+1804603682&4294967295,O=L+($<<7&4294967295|$>>>25),$=F+(D^O&(L^D))+C[13]+4254626195&4294967295,F=O+($<<12&4294967295|$>>>20),$=D+(L^F&(O^L))+C[14]+2792965006&4294967295,D=F+($<<17&4294967295|$>>>15),$=L+(O^D&(F^O))+C[15]+1236535329&4294967295,L=D+($<<22&4294967295|$>>>10),$=O+(D^F&(L^D))+C[1]+4129170786&4294967295,O=L+($<<5&4294967295|$>>>27),$=F+(L^D&(O^L))+C[6]+3225465664&4294967295,F=O+($<<9&4294967295|$>>>23),$=D+(O^L&(F^O))+C[11]+643717713&4294967295,D=F+($<<14&4294967295|$>>>18),$=L+(F^O&(D^F))+C[0]+3921069994&4294967295,L=D+($<<20&4294967295|$>>>12),$=O+(D^F&(L^D))+C[5]+3593408605&4294967295,O=L+($<<5&4294967295|$>>>27),$=F+(L^D&(O^L))+C[10]+38016083&4294967295,F=O+($<<9&4294967295|$>>>23),$=D+(O^L&(F^O))+C[15]+3634488961&4294967295,D=F+($<<14&4294967295|$>>>18),$=L+(F^O&(D^F))+C[4]+3889429448&4294967295,L=D+($<<20&4294967295|$>>>12),$=O+(D^F&(L^D))+C[9]+568446438&4294967295,O=L+($<<5&4294967295|$>>>27),$=F+(L^D&(O^L))+C[14]+3275163606&4294967295,F=O+($<<9&4294967295|$>>>23),$=D+(O^L&(F^O))+C[3]+4107603335&4294967295,D=F+($<<14&4294967295|$>>>18),$=L+(F^O&(D^F))+C[8]+1163531501&4294967295,L=D+($<<20&4294967295|$>>>12),$=O+(D^F&(L^D))+C[13]+2850285829&4294967295,O=L+($<<5&4294967295|$>>>27),$=F+(L^D&(O^L))+C[2]+4243563512&4294967295,F=O+($<<9&4294967295|$>>>23),$=D+(O^L&(F^O))+C[7]+1735328473&4294967295,D=F+($<<14&4294967295|$>>>18),$=L+(F^O&(D^F))+C[12]+2368359562&4294967295,L=D+($<<20&4294967295|$>>>12),$=O+(L^D^F)+C[5]+4294588738&4294967295,O=L+($<<4&4294967295|$>>>28),$=F+(O^L^D)+C[8]+2272392833&4294967295,F=O+($<<11&4294967295|$>>>21),$=D+(F^O^L)+C[11]+1839030562&4294967295,D=F+($<<16&4294967295|$>>>16),$=L+(D^F^O)+C[14]+4259657740&4294967295,L=D+($<<23&4294967295|$>>>9),$=O+(L^D^F)+C[1]+2763975236&4294967295,O=L+($<<4&4294967295|$>>>28),$=F+(O^L^D)+C[4]+1272893353&4294967295,F=O+($<<11&4294967295|$>>>21),$=D+(F^O^L)+C[7]+4139469664&4294967295,D=F+($<<16&4294967295|$>>>16),$=L+(D^F^O)+C[10]+3200236656&4294967295,L=D+($<<23&4294967295|$>>>9),$=O+(L^D^F)+C[13]+681279174&4294967295,O=L+($<<4&4294967295|$>>>28),$=F+(O^L^D)+C[0]+3936430074&4294967295,F=O+($<<11&4294967295|$>>>21),$=D+(F^O^L)+C[3]+3572445317&4294967295,D=F+($<<16&4294967295|$>>>16),$=L+(D^F^O)+C[6]+76029189&4294967295,L=D+($<<23&4294967295|$>>>9),$=O+(L^D^F)+C[9]+3654602809&4294967295,O=L+($<<4&4294967295|$>>>28),$=F+(O^L^D)+C[12]+3873151461&4294967295,F=O+($<<11&4294967295|$>>>21),$=D+(F^O^L)+C[15]+530742520&4294967295,D=F+($<<16&4294967295|$>>>16),$=L+(D^F^O)+C[2]+3299628645&4294967295,L=D+($<<23&4294967295|$>>>9),$=O+(D^(L|~F))+C[0]+4096336452&4294967295,O=L+($<<6&4294967295|$>>>26),$=F+(L^(O|~D))+C[7]+1126891415&4294967295,F=O+($<<10&4294967295|$>>>22),$=D+(O^(F|~L))+C[14]+2878612391&4294967295,D=F+($<<15&4294967295|$>>>17),$=L+(F^(D|~O))+C[5]+4237533241&4294967295,L=D+($<<21&4294967295|$>>>11),$=O+(D^(L|~F))+C[12]+1700485571&4294967295,O=L+($<<6&4294967295|$>>>26),$=F+(L^(O|~D))+C[3]+2399980690&4294967295,F=O+($<<10&4294967295|$>>>22),$=D+(O^(F|~L))+C[10]+4293915773&4294967295,D=F+($<<15&4294967295|$>>>17),$=L+(F^(D|~O))+C[1]+2240044497&4294967295,L=D+($<<21&4294967295|$>>>11),$=O+(D^(L|~F))+C[8]+1873313359&4294967295,O=L+($<<6&4294967295|$>>>26),$=F+(L^(O|~D))+C[15]+4264355552&4294967295,F=O+($<<10&4294967295|$>>>22),$=D+(O^(F|~L))+C[6]+2734768916&4294967295,D=F+($<<15&4294967295|$>>>17),$=L+(F^(D|~O))+C[13]+1309151649&4294967295,L=D+($<<21&4294967295|$>>>11),$=O+(D^(L|~F))+C[4]+4149444226&4294967295,O=L+($<<6&4294967295|$>>>26),$=F+(L^(O|~D))+C[11]+3174756917&4294967295,F=O+($<<10&4294967295|$>>>22),$=D+(O^(F|~L))+C[2]+718787259&4294967295,D=F+($<<15&4294967295|$>>>17),$=L+(F^(D|~O))+C[9]+3951481745&4294967295,T.g[0]=T.g[0]+O&4294967295,T.g[1]=T.g[1]+(D+($<<21&4294967295|$>>>11))&4294967295,T.g[2]=T.g[2]+D&4294967295,T.g[3]=T.g[3]+F&4294967295}n.prototype.u=function(T,O){O===void 0&&(O=T.length);for(var L=O-this.blockSize,C=this.B,D=this.h,F=0;F<O;){if(D==0)for(;F<=L;)i(this,T,F),F+=this.blockSize;if(typeof T=="string"){for(;F<O;)if(C[D++]=T.charCodeAt(F++),D==this.blockSize){i(this,C),D=0;break}}else for(;F<O;)if(C[D++]=T[F++],D==this.blockSize){i(this,C),D=0;break}}this.h=D,this.o+=O},n.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var O=1;O<T.length-8;++O)T[O]=0;var L=8*this.o;for(O=T.length-8;O<T.length;++O)T[O]=L&255,L/=256;for(this.u(T),T=Array(16),O=L=0;4>O;++O)for(var C=0;32>C;C+=8)T[L++]=this.g[O]>>>C&255;return T};function a(T,O){var L=u;return Object.prototype.hasOwnProperty.call(L,T)?L[T]:L[T]=O(T)}function o(T,O){this.h=O;for(var L=[],C=!0,D=T.length-1;0<=D;D--){var F=T[D]|0;C&&F==O||(L[D]=F,C=!1)}this.g=L}var u={};function d(T){return-128<=T&&128>T?a(T,function(O){return new o([O|0],0>O?-1:0)}):new o([T|0],0>T?-1:0)}function f(T){if(isNaN(T)||!isFinite(T))return m;if(0>T)return b(f(-T));for(var O=[],L=1,C=0;T>=L;C++)O[C]=T/L|0,L*=4294967296;return new o(O,0)}function p(T,O){if(T.length==0)throw Error("number format error: empty string");if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(T.charAt(0)=="-")return b(p(T.substring(1),O));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var L=f(Math.pow(O,8)),C=m,D=0;D<T.length;D+=8){var F=Math.min(8,T.length-D),$=parseInt(T.substring(D,D+F),O);8>F?(F=f(Math.pow(O,F)),C=C.j(F).add(f($))):(C=C.j(L),C=C.add(f($)))}return C}var m=d(0),y=d(1),x=d(16777216);t=o.prototype,t.m=function(){if(_(this))return-b(this).m();for(var T=0,O=1,L=0;L<this.g.length;L++){var C=this.i(L);T+=(0<=C?C:4294967296+C)*O,O*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(S(this))return"0";if(_(this))return"-"+b(this).toString(T);for(var O=f(Math.pow(T,6)),L=this,C="";;){var D=R(L,O).g;L=P(L,D.j(O));var F=((0<L.g.length?L.g[0]:L.h)>>>0).toString(T);if(L=D,S(L))return F+C;for(;6>F.length;)F="0"+F;C=F+C}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function S(T){if(T.h!=0)return!1;for(var O=0;O<T.g.length;O++)if(T.g[O]!=0)return!1;return!0}function _(T){return T.h==-1}t.l=function(T){return T=P(this,T),_(T)?-1:S(T)?0:1};function b(T){for(var O=T.g.length,L=[],C=0;C<O;C++)L[C]=~T.g[C];return new o(L,~T.h).add(y)}t.abs=function(){return _(this)?b(this):this},t.add=function(T){for(var O=Math.max(this.g.length,T.g.length),L=[],C=0,D=0;D<=O;D++){var F=C+(this.i(D)&65535)+(T.i(D)&65535),$=(F>>>16)+(this.i(D)>>>16)+(T.i(D)>>>16);C=$>>>16,F&=65535,$&=65535,L[D]=$<<16|F}return new o(L,L[L.length-1]&-2147483648?-1:0)};function P(T,O){return T.add(b(O))}t.j=function(T){if(S(this)||S(T))return m;if(_(this))return _(T)?b(this).j(b(T)):b(b(this).j(T));if(_(T))return b(this.j(b(T)));if(0>this.l(x)&&0>T.l(x))return f(this.m()*T.m());for(var O=this.g.length+T.g.length,L=[],C=0;C<2*O;C++)L[C]=0;for(C=0;C<this.g.length;C++)for(var D=0;D<T.g.length;D++){var F=this.i(C)>>>16,$=this.i(C)&65535,ee=T.i(D)>>>16,ne=T.i(D)&65535;L[2*C+2*D]+=$*ne,A(L,2*C+2*D),L[2*C+2*D+1]+=F*ne,A(L,2*C+2*D+1),L[2*C+2*D+1]+=$*ee,A(L,2*C+2*D+1),L[2*C+2*D+2]+=F*ee,A(L,2*C+2*D+2)}for(C=0;C<O;C++)L[C]=L[2*C+1]<<16|L[2*C];for(C=O;C<2*O;C++)L[C]=0;return new o(L,0)};function A(T,O){for(;(T[O]&65535)!=T[O];)T[O+1]+=T[O]>>>16,T[O]&=65535,O++}function I(T,O){this.g=T,this.h=O}function R(T,O){if(S(O))throw Error("division by zero");if(S(T))return new I(m,m);if(_(T))return O=R(b(T),O),new I(b(O.g),b(O.h));if(_(O))return O=R(T,b(O)),new I(b(O.g),O.h);if(30<T.g.length){if(_(T)||_(O))throw Error("slowDivide_ only works with positive integers.");for(var L=y,C=O;0>=C.l(T);)L=E(L),C=E(C);var D=N(L,1),F=N(C,1);for(C=N(C,2),L=N(L,2);!S(C);){var $=F.add(C);0>=$.l(T)&&(D=D.add(L),F=$),C=N(C,1),L=N(L,1)}return O=P(T,D.j(O)),new I(D,O)}for(D=m;0<=T.l(O);){for(L=Math.max(1,Math.floor(T.m()/O.m())),C=Math.ceil(Math.log(L)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),F=f(L),$=F.j(O);_($)||0<$.l(T);)L-=C,F=f(L),$=F.j(O);S(F)&&(F=y),D=D.add(F),T=P(T,$)}return new I(D,T)}t.A=function(T){return R(this,T).h},t.and=function(T){for(var O=Math.max(this.g.length,T.g.length),L=[],C=0;C<O;C++)L[C]=this.i(C)&T.i(C);return new o(L,this.h&T.h)},t.or=function(T){for(var O=Math.max(this.g.length,T.g.length),L=[],C=0;C<O;C++)L[C]=this.i(C)|T.i(C);return new o(L,this.h|T.h)},t.xor=function(T){for(var O=Math.max(this.g.length,T.g.length),L=[],C=0;C<O;C++)L[C]=this.i(C)^T.i(C);return new o(L,this.h^T.h)};function E(T){for(var O=T.g.length+1,L=[],C=0;C<O;C++)L[C]=T.i(C)<<1|T.i(C-1)>>>31;return new o(L,T.h)}function N(T,O){var L=O>>5;O%=32;for(var C=T.g.length-L,D=[],F=0;F<C;F++)D[F]=0<O?T.i(F+L)>>>O|T.i(F+L+1)<<32-O:T.i(F+L);return new o(D,T.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,hM=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=f,o.fromString=p,Ro=o}).apply(typeof _T<"u"?_T:typeof self<"u"?self:typeof window<"u"?window:{});var zh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pM,Gu,mM,mp,Gw,gM,vM,yM;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,k,M){return g==Array.prototype||g==Object.prototype||(g[k]=M.value),g};function r(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof zh=="object"&&zh];for(var k=0;k<g.length;++k){var M=g[k];if(M&&M.Math==Math)return M}throw Error("Cannot find global object")}var n=r(this);function i(g,k){if(k)e:{var M=n;g=g.split(".");for(var U=0;U<g.length-1;U++){var te=g[U];if(!(te in M))break e;M=M[te]}g=g[g.length-1],U=M[g],k=k(U),k!=U&&k!=null&&e(M,g,{configurable:!0,writable:!0,value:k})}}function a(g,k){g instanceof String&&(g+="");var M=0,U=!1,te={next:function(){if(!U&&M<g.length){var ce=M++;return{value:k(ce,g[ce]),done:!1}}return U=!0,{done:!0,value:void 0}}};return te[Symbol.iterator]=function(){return te},te}i("Array.prototype.values",function(g){return g||function(){return a(this,function(k,M){return M})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},u=this||self;function d(g){var k=typeof g;return k=k!="object"?k:g?Array.isArray(g)?"array":k:"null",k=="array"||k=="object"&&typeof g.length=="number"}function f(g){var k=typeof g;return k=="object"&&g!=null||k=="function"}function p(g,k,M){return g.call.apply(g.bind,arguments)}function m(g,k,M){if(!g)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var te=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(te,U),g.apply(k,te)}}return function(){return g.apply(k,arguments)}}function y(g,k,M){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:m,y.apply(null,arguments)}function x(g,k){var M=Array.prototype.slice.call(arguments,1);return function(){var U=M.slice();return U.push.apply(U,arguments),g.apply(this,U)}}function S(g,k){function M(){}M.prototype=k.prototype,g.aa=k.prototype,g.prototype=new M,g.prototype.constructor=g,g.Qb=function(U,te,ce){for(var Te=Array(arguments.length-2),mt=2;mt<arguments.length;mt++)Te[mt-2]=arguments[mt];return k.prototype[te].apply(U,Te)}}function _(g){const k=g.length;if(0<k){const M=Array(k);for(let U=0;U<k;U++)M[U]=g[U];return M}return[]}function b(g,k){for(let M=1;M<arguments.length;M++){const U=arguments[M];if(d(U)){const te=g.length||0,ce=U.length||0;g.length=te+ce;for(let Te=0;Te<ce;Te++)g[te+Te]=U[Te]}else g.push(U)}}class P{constructor(k,M){this.i=k,this.j=M,this.h=0,this.g=null}get(){let k;return 0<this.h?(this.h--,k=this.g,this.g=k.next,k.next=null):k=this.i(),k}}function A(g){return/^[\s\xa0]*$/.test(g)}function I(){var g=u.navigator;return g&&(g=g.userAgent)?g:""}function R(g){return R[" "](g),g}R[" "]=function(){};var E=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function N(g,k,M){for(const U in g)k.call(M,g[U],U,g)}function T(g,k){for(const M in g)k.call(void 0,g[M],M,g)}function O(g){const k={};for(const M in g)k[M]=g[M];return k}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(g,k){let M,U;for(let te=1;te<arguments.length;te++){U=arguments[te];for(M in U)g[M]=U[M];for(let ce=0;ce<L.length;ce++)M=L[ce],Object.prototype.hasOwnProperty.call(U,M)&&(g[M]=U[M])}}function D(g){var k=1;g=g.split(":");const M=[];for(;0<k&&g.length;)M.push(g.shift()),k--;return g.length&&M.push(g.join(":")),M}function F(g){u.setTimeout(()=>{throw g},0)}function $(){var g=J;let k=null;return g.g&&(k=g.g,g.g=g.g.next,g.g||(g.h=null),k.next=null),k}class ee{constructor(){this.h=this.g=null}add(k,M){const U=ne.get();U.set(k,M),this.h?this.h.next=U:this.g=U,this.h=U}}var ne=new P(()=>new Q,g=>g.reset());class Q{constructor(){this.next=this.g=this.h=null}set(k,M){this.h=k,this.g=M,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,Z=!1,J=new ee,ae=()=>{const g=u.Promise.resolve(void 0);ie=()=>{g.then(z)}};var z=()=>{for(var g;g=$();){try{g.h.call(g.g)}catch(M){F(M)}var k=ne;k.j(g),100>k.h&&(k.h++,g.next=k.g,k.g=g)}Z=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function K(g,k){this.type=g,this.g=this.target=k,this.defaultPrevented=!1}K.prototype.h=function(){this.defaultPrevented=!0};var le=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var g=!1,k=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const M=()=>{};u.addEventListener("test",M,k),u.removeEventListener("test",M,k)}catch{}return g}();function fe(g,k){if(K.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var M=this.type=g.type,U=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=k,k=g.relatedTarget){if(E){e:{try{R(k.nodeName);var te=!0;break e}catch{}te=!1}te||(k=null)}}else M=="mouseover"?k=g.fromElement:M=="mouseout"&&(k=g.toElement);this.relatedTarget=k,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:xe[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&fe.aa.h.call(this)}}S(fe,K);var xe={2:"touch",3:"pen",4:"mouse"};fe.prototype.h=function(){fe.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var he="closure_listenable_"+(1e6*Math.random()|0),me=0;function ue(g,k,M,U,te){this.listener=g,this.proxy=null,this.src=k,this.type=M,this.capture=!!U,this.ha=te,this.key=++me,this.da=this.fa=!1}function ke(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Ee(g){this.src=g,this.g={},this.h=0}Ee.prototype.add=function(g,k,M,U,te){var ce=g.toString();g=this.g[ce],g||(g=this.g[ce]=[],this.h++);var Te=pe(g,k,U,te);return-1<Te?(k=g[Te],M||(k.fa=!1)):(k=new ue(k,this.src,ce,!!U,te),k.fa=M,g.push(k)),k};function W(g,k){var M=k.type;if(M in g.g){var U=g.g[M],te=Array.prototype.indexOf.call(U,k,void 0),ce;(ce=0<=te)&&Array.prototype.splice.call(U,te,1),ce&&(ke(k),g.g[M].length==0&&(delete g.g[M],g.h--))}}function pe(g,k,M,U){for(var te=0;te<g.length;++te){var ce=g[te];if(!ce.da&&ce.listener==k&&ce.capture==!!M&&ce.ha==U)return te}return-1}var ge="closure_lm_"+(1e6*Math.random()|0),Ae={};function Fe(g,k,M,U,te){if(Array.isArray(k)){for(var ce=0;ce<k.length;ce++)Fe(g,k[ce],M,U,te);return null}return M=Ei(M),g&&g[he]?g.K(k,M,f(U)?!!U.capture:!1,te):$t(g,k,M,!1,U,te)}function $t(g,k,M,U,te,ce){if(!k)throw Error("Invalid event type");var Te=f(te)?!!te.capture:!!te,mt=Mn(g);if(mt||(g[ge]=mt=new Ee(g)),M=mt.add(k,M,U,Te,ce),M.proxy)return M;if(U=en(),M.proxy=U,U.src=g,U.listener=M,g.addEventListener)le||(te=Te),te===void 0&&(te=!1),g.addEventListener(k.toString(),U,te);else if(g.attachEvent)g.attachEvent(Jt(k.toString()),U);else if(g.addListener&&g.removeListener)g.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return M}function en(){function g(M){return k.call(g.src,g.listener,M)}const k=xr;return g}function qr(g,k,M,U,te){if(Array.isArray(k))for(var ce=0;ce<k.length;ce++)qr(g,k[ce],M,U,te);else U=f(U)?!!U.capture:!!U,M=Ei(M),g&&g[he]?(g=g.i,k=String(k).toString(),k in g.g&&(ce=g.g[k],M=pe(ce,M,U,te),-1<M&&(ke(ce[M]),Array.prototype.splice.call(ce,M,1),ce.length==0&&(delete g.g[k],g.h--)))):g&&(g=Mn(g))&&(k=g.g[k.toString()],g=-1,k&&(g=pe(k,M,U,te)),(M=-1<g?k[g]:null)&&zr(M))}function zr(g){if(typeof g!="number"&&g&&!g.da){var k=g.src;if(k&&k[he])W(k.i,g);else{var M=g.type,U=g.proxy;k.removeEventListener?k.removeEventListener(M,U,g.capture):k.detachEvent?k.detachEvent(Jt(M),U):k.addListener&&k.removeListener&&k.removeListener(U),(M=Mn(k))?(W(M,g),M.h==0&&(M.src=null,k[ge]=null)):ke(g)}}}function Jt(g){return g in Ae?Ae[g]:Ae[g]="on"+g}function xr(g,k){if(g.da)g=!0;else{k=new fe(k,this);var M=g.listener,U=g.ha||g.src;g.fa&&zr(g),g=M.call(U,k)}return g}function Mn(g){return g=g[ge],g instanceof Ee?g:null}var ji="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ei(g){return typeof g=="function"?g:(g[ji]||(g[ji]=function(k){return g.handleEvent(k)}),g[ji])}function Vt(){Y.call(this),this.i=new Ee(this),this.M=this,this.F=null}S(Vt,Y),Vt.prototype[he]=!0,Vt.prototype.removeEventListener=function(g,k,M,U){qr(this,g,k,M,U)};function Ft(g,k){var M,U=g.F;if(U)for(M=[];U;U=U.F)M.push(U);if(g=g.M,U=k.type||k,typeof k=="string")k=new K(k,g);else if(k instanceof K)k.target=k.target||g;else{var te=k;k=new K(U,g),C(k,te)}if(te=!0,M)for(var ce=M.length-1;0<=ce;ce--){var Te=k.g=M[ce];te=ni(Te,U,!0,k)&&te}if(Te=k.g=g,te=ni(Te,U,!0,k)&&te,te=ni(Te,U,!1,k)&&te,M)for(ce=0;ce<M.length;ce++)Te=k.g=M[ce],te=ni(Te,U,!1,k)&&te}Vt.prototype.N=function(){if(Vt.aa.N.call(this),this.i){var g=this.i,k;for(k in g.g){for(var M=g.g[k],U=0;U<M.length;U++)ke(M[U]);delete g.g[k],g.h--}}this.F=null},Vt.prototype.K=function(g,k,M,U){return this.i.add(String(g),k,!1,M,U)},Vt.prototype.L=function(g,k,M,U){return this.i.add(String(g),k,!0,M,U)};function ni(g,k,M,U){if(k=g.i.g[String(k)],!k)return!0;k=k.concat();for(var te=!0,ce=0;ce<k.length;++ce){var Te=k[ce];if(Te&&!Te.da&&Te.capture==M){var mt=Te.listener,er=Te.ha||Te.src;Te.fa&&W(g.i,Te),te=mt.call(er,U)!==!1&&te}}return te&&!U.defaultPrevented}function Ga(g,k,M){if(typeof g=="function")M&&(g=y(g,M));else if(g&&typeof g.handleEvent=="function")g=y(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(k)?-1:u.setTimeout(g,k||0)}function ia(g){g.g=Ga(()=>{g.g=null,g.i&&(g.i=!1,ia(g))},g.l);const k=g.h;g.h=null,g.m.apply(null,k)}class Ka extends Y{constructor(k,M){super(),this.m=k,this.l=M,this.h=null,this.i=!1,this.g=null}j(k){this.h=arguments,this.g?this.i=!0:ia(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tn(g){Y.call(this),this.h=g,this.g={}}S(tn,Y);var al=[];function sl(g){N(g.g,function(k,M){this.g.hasOwnProperty(M)&&zr(k)},g),g.g={}}tn.prototype.N=function(){tn.aa.N.call(this),sl(this)},tn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ol=u.JSON.stringify,Ks=u.JSON.parse,Ys=class{stringify(g){return u.JSON.stringify(g,void 0)}parse(g){return u.JSON.parse(g,void 0)}};function Dn(){}Dn.prototype.h=null;function aa(g){return g.h||(g.h=g.i())}function Ti(){}var rn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function br(){K.call(this,"d")}S(br,K);function Ln(){K.call(this,"c")}S(Ln,K);var Pr={},Xs=null;function Ai(){return Xs=Xs||new Vt}Pr.La="serverreachability";function Qs(g){K.call(this,Pr.La,g)}S(Qs,K);function ii(g){const k=Ai();Ft(k,new Qs(k))}Pr.STAT_EVENT="statevent";function Js(g,k){K.call(this,Pr.STAT_EVENT,g),this.stat=k}S(Js,K);function Rt(g){const k=Ai();Ft(k,new Js(k,g))}Pr.Ma="timingevent";function Ya(g,k){K.call(this,Pr.Ma,g),this.size=k}S(Ya,K);function vn(g,k){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){g()},k)}function sa(){this.g=!0}sa.prototype.xa=function(){this.g=!1};function oa(g,k,M,U,te,ce){g.info(function(){if(g.g)if(ce)for(var Te="",mt=ce.split("&"),er=0;er<mt.length;er++){var st=mt[er].split("=");if(1<st.length){var dr=st[0];st=st[1];var Wt=dr.split("_");Te=2<=Wt.length&&Wt[1]=="type"?Te+(dr+"="+st+"&"):Te+(dr+"=redacted&")}}else Te=null;else Te=ce;return"XMLHTTP REQ ("+U+") [attempt "+te+"]: "+k+`
`+M+`
`+Te})}function cr(g,k,M,U,te,ce,Te){g.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+te+"]: "+k+`
`+M+`
`+ce+" "+Te})}function yn(g,k,M,U){g.info(function(){return"XMLHTTP TEXT ("+k+"): "+eu(g,M)+(U?" "+U:"")})}function ur(g,k){g.info(function(){return"TIMEOUT: "+k})}sa.prototype.info=function(){};function eu(g,k){if(!g.g)return k;if(!k)return null;try{var M=JSON.parse(k);if(M){for(g=0;g<M.length;g++)if(Array.isArray(M[g])){var U=M[g];if(!(2>U.length)){var te=U[1];if(Array.isArray(te)&&!(1>te.length)){var ce=te[0];if(ce!="noop"&&ce!="stop"&&ce!="close")for(var Te=1;Te<te.length;Te++)te[Te]=""}}}}return ol(M)}catch{return k}}var Xa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ll={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Le;function Qe(){}S(Qe,Dn),Qe.prototype.g=function(){return new XMLHttpRequest},Qe.prototype.i=function(){return{}},Le=new Qe;function at(g,k,M,U){this.j=g,this.i=k,this.l=M,this.R=U||1,this.U=new tn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new tt}function tt(){this.i=null,this.g="",this.h=!1}var Pt={},xn={};function Zt(g,k,M){g.L=1,g.v=ts(wn(k)),g.m=M,g.P=!0,Ir(g,null)}function Ir(g,k){g.F=Date.now(),wt(g),g.A=wn(g.v);var M=g.A,U=g.R;Array.isArray(U)||(U=[String(U)]),ns(M.i,"t",U),g.C=0,M=g.j.J,g.h=new tt,g.g=Hf(g.j,M?k:null,!g.m),0<g.O&&(g.M=new Ka(y(g.Y,g,g.g),g.O)),k=g.U,M=g.g,U=g.ca;var te="readystatechange";Array.isArray(te)||(te&&(al[0]=te.toString()),te=al);for(var ce=0;ce<te.length;ce++){var Te=Fe(M,te[ce],U||k.handleEvent,!1,k.h||k);if(!Te)break;k.g[Te.key]=Te}k=g.H?O(g.H):{},g.m?(g.u||(g.u="POST"),k["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,k)):(g.u="GET",g.g.ea(g.A,g.u,null,k)),ii(),oa(g.i,g.u,g.A,g.l,g.R,g.m)}at.prototype.ca=function(g){g=g.target;const k=this.M;k&&an(g)==3?k.j():this.Y(g)},at.prototype.Y=function(g){try{if(g==this.g)e:{const Wt=an(this.g);var k=this.g.Ba();const Fn=this.g.Z();if(!(3>Wt)&&(Wt!=3||this.g&&(this.h.h||this.g.oa()||su(this.g)))){this.J||Wt!=4||k==7||(k==8||0>=Fn?ii(3):ii(2)),Zs(this);var M=this.g.Z();this.X=M;t:if(Nf(this)){var U=su(this.g);g="";var te=U.length,ce=an(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$n(this),Qa(this);var Te="";break t}this.h.i=new u.TextDecoder}for(k=0;k<te;k++)this.h.h=!0,g+=this.h.i.decode(U[k],{stream:!(ce&&k==te-1)});U.length=0,this.h.g+=g,this.C=0,Te=this.h.g}else Te=this.g.oa();if(this.o=M==200,cr(this.i,this.u,this.A,this.l,this.R,Wt,M),this.o){if(this.T&&!this.K){t:{if(this.g){var mt,er=this.g;if((mt=er.g?er.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(mt)){var st=mt;break t}}st=null}if(M=st)yn(this.i,this.l,M,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,tu(this,M);else{this.o=!1,this.s=3,Rt(12),$n(this),Qa(this);break e}}if(this.P){M=!0;let Sn;for(;!this.J&&this.C<Te.length;)if(Sn=Gg(this,Te),Sn==xn){Wt==4&&(this.s=4,Rt(14),M=!1),yn(this.i,this.l,null,"[Incomplete Response]");break}else if(Sn==Pt){this.s=4,Rt(15),yn(this.i,this.l,Te,"[Invalid Chunk]"),M=!1;break}else yn(this.i,this.l,Sn,null),tu(this,Sn);if(Nf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Wt!=4||Te.length!=0||this.h.h||(this.s=1,Rt(16),M=!1),this.o=this.o&&M,!M)yn(this.i,this.l,Te,"[Invalid Chunked Response]"),$n(this),Qa(this);else if(0<Te.length&&!this.W){this.W=!0;var dr=this.j;dr.g==this&&dr.ba&&!dr.M&&(dr.j.info("Great, no buffering proxy detected. Bytes received: "+Te.length),lu(dr),dr.M=!0,Rt(11))}}else yn(this.i,this.l,Te,null),tu(this,Te);Wt==4&&$n(this),this.o&&!this.J&&(Wt==4?xl(this.j,this):(this.o=!1,wt(this)))}else pl(this.g),M==400&&0<Te.indexOf("Unknown SID")?(this.s=3,Rt(12)):(this.s=0,Rt(13)),$n(this),Qa(this)}}}catch{}finally{}};function Nf(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function Gg(g,k){var M=g.C,U=k.indexOf(`
`,M);return U==-1?xn:(M=Number(k.substring(M,U)),isNaN(M)?Pt:(U+=1,U+M>k.length?xn:(k=k.slice(U,U+M),g.C=U+M,k)))}at.prototype.cancel=function(){this.J=!0,$n(this)};function wt(g){g.S=Date.now()+g.I,Pf(g,g.I)}function Pf(g,k){if(g.B!=null)throw Error("WatchDog timer not null");g.B=vn(y(g.ba,g),k)}function Zs(g){g.B&&(u.clearTimeout(g.B),g.B=null)}at.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(ur(this.i,this.A),this.L!=2&&(ii(),Rt(17)),$n(this),this.s=2,Qa(this)):Pf(this,this.S-g)};function Qa(g){g.j.G==0||g.J||xl(g.j,g)}function $n(g){Zs(g);var k=g.M;k&&typeof k.ma=="function"&&k.ma(),g.M=null,sl(g.U),g.g&&(k=g.g,g.g=null,k.abort(),k.ma())}function tu(g,k){try{var M=g.j;if(M.G!=0&&(M.g==g||Wr(M.h,g))){if(!g.K&&Wr(M.h,g)&&M.G==3){try{var U=M.Da.g.parse(k)}catch{U=null}if(Array.isArray(U)&&U.length==3){var te=U;if(te[0]==0){e:if(!M.u){if(M.g)if(M.g.F+3e3<g.F)yl(M),ci(M);else break e;vl(M),Rt(18)}}else M.za=te[1],0<M.za-M.T&&37500>te[2]&&M.F&&M.v==0&&!M.C&&(M.C=vn(y(M.Za,M),6e3));if(1>=Of(M.h)&&M.ca){try{M.ca()}catch{}M.ca=void 0}}else fa(M,11)}else if((g.K||M.g==g)&&yl(M),!A(k))for(te=M.Da.g.parse(k),k=0;k<te.length;k++){let st=te[k];if(M.T=st[0],st=st[1],M.G==2)if(st[0]=="c"){M.K=st[1],M.ia=st[2];const dr=st[3];dr!=null&&(M.la=dr,M.j.info("VER="+M.la));const Wt=st[4];Wt!=null&&(M.Aa=Wt,M.j.info("SVER="+M.Aa));const Fn=st[5];Fn!=null&&typeof Fn=="number"&&0<Fn&&(U=1.5*Fn,M.L=U,M.j.info("backChannelRequestTimeoutMs_="+U)),U=M;const Sn=g.g;if(Sn){const so=Sn.g?Sn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(so){var ce=U.h;ce.g||so.indexOf("spdy")==-1&&so.indexOf("quic")==-1&&so.indexOf("h2")==-1||(ce.j=ce.l,ce.g=new Set,ce.h&&(ru(ce,ce.h),ce.h=null))}if(U.D){const wl=Sn.g?Sn.g.getResponseHeader("X-HTTP-Session-Id"):null;wl&&(U.ya=wl,xt(U.I,U.D,wl))}}M.G=3,M.l&&M.l.ua(),M.ba&&(M.R=Date.now()-g.F,M.j.info("Handshake RTT: "+M.R+"ms")),U=M;var Te=g;if(U.qa=Wf(U,U.J?U.ia:null,U.W),Te.K){Cf(U.h,Te);var mt=Te,er=U.L;er&&(mt.I=er),mt.B&&(Zs(mt),wt(mt)),U.g=Te}else ao(U);0<M.i.length&&Oi(M)}else st[0]!="stop"&&st[0]!="close"||fa(M,7);else M.G==3&&(st[0]=="stop"||st[0]=="close"?st[0]=="stop"?fa(M,7):_r(M):st[0]!="noop"&&M.l&&M.l.ta(st),M.v=0)}}ii(4)}catch{}}var If=class{constructor(g,k){this.g=g,this.map=k}};function eo(g){this.l=g||10,u.PerformanceNavigationTiming?(g=u.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function bn(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Of(g){return g.h?1:g.g?g.g.size:0}function Wr(g,k){return g.h?g.h==k:g.g?g.g.has(k):!1}function ru(g,k){g.g?g.g.add(k):g.h=k}function Cf(g,k){g.h&&g.h==k?g.h=null:g.g&&g.g.has(k)&&g.g.delete(k)}eo.prototype.cancel=function(){if(this.i=Rf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Rf(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let k=g.i;for(const M of g.g.values())k=k.concat(M.D);return k}return _(g.i)}function cl(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(d(g)){for(var k=[],M=g.length,U=0;U<M;U++)k.push(g[U]);return k}k=[],M=0;for(U in g)k[M++]=g[U];return k}function ul(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(d(g)||typeof g=="string"){var k=[];g=g.length;for(var M=0;M<g;M++)k.push(M);return k}k=[],M=0;for(const U in g)k[M++]=U;return k}}}function Ja(g,k){if(g.forEach&&typeof g.forEach=="function")g.forEach(k,void 0);else if(d(g)||typeof g=="string")Array.prototype.forEach.call(g,k,void 0);else for(var M=ul(g),U=cl(g),te=U.length,ce=0;ce<te;ce++)k.call(void 0,U[ce],M&&M[ce],g)}var to=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kg(g,k){if(g){g=g.split("&");for(var M=0;M<g.length;M++){var U=g[M].indexOf("="),te=null;if(0<=U){var ce=g[M].substring(0,U);te=g[M].substring(U+1)}else ce=g[M];k(ce,te?decodeURIComponent(te.replace(/\+/g," ")):"")}}}function la(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof la){this.h=g.h,ro(this,g.j),this.o=g.o,this.g=g.g,Za(this,g.s),this.l=g.l;var k=g.i,M=new Ni;M.i=k.i,k.g&&(M.g=new Map(k.g),M.h=k.h),es(this,M),this.m=g.m}else g&&(k=String(g).match(to))?(this.h=!1,ro(this,k[1]||"",!0),this.o=nt(k[2]||""),this.g=nt(k[3]||"",!0),Za(this,k[4]),this.l=nt(k[5]||"",!0),es(this,k[6]||"",!0),this.m=nt(k[7]||"")):(this.h=!1,this.i=new Ni(null,this.h))}la.prototype.toString=function(){var g=[],k=this.j;k&&g.push(rs(k,dl,!0),":");var M=this.g;return(M||k=="file")&&(g.push("//"),(k=this.o)&&g.push(rs(k,dl,!0),"@"),g.push(encodeURIComponent(String(M)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),M=this.s,M!=null&&g.push(":",String(M))),(M=this.l)&&(this.g&&M.charAt(0)!="/"&&g.push("/"),g.push(rs(M,M.charAt(0)=="/"?Lf:Df,!0))),(M=this.i.toString())&&g.push("?",M),(M=this.m)&&g.push("#",rs(M,nu)),g.join("")};function wn(g){return new la(g)}function ro(g,k,M){g.j=M?nt(k,!0):k,g.j&&(g.j=g.j.replace(/:$/,""))}function Za(g,k){if(k){if(k=Number(k),isNaN(k)||0>k)throw Error("Bad port number "+k);g.s=k}else g.s=null}function es(g,k,M){k instanceof Ni?(g.i=k,Pi(g.i,g.h)):(M||(k=rs(k,$f)),g.i=new Ni(k,g.h))}function xt(g,k,M){g.i.set(k,M)}function ts(g){return xt(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function nt(g,k){return g?k?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function rs(g,k,M){return typeof g=="string"?(g=encodeURI(g).replace(k,Mf),M&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Mf(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var dl=/[#\/\?@]/g,Df=/[#\?:]/g,Lf=/[#\?]/g,$f=/[#\?@]/g,nu=/#/g;function Ni(g,k){this.h=this.g=null,this.i=g||null,this.j=!!k}function wr(g){g.g||(g.g=new Map,g.h=0,g.i&&Kg(g.i,function(k,M){g.add(decodeURIComponent(k.replace(/\+/g," ")),M)}))}t=Ni.prototype,t.add=function(g,k){wr(this),this.i=null,g=Vn(this,g);var M=this.g.get(g);return M||this.g.set(g,M=[]),M.push(k),this.h+=1,this};function ai(g,k){wr(g),k=Vn(g,k),g.g.has(k)&&(g.i=null,g.h-=g.g.get(k).length,g.g.delete(k))}function si(g,k){return wr(g),k=Vn(g,k),g.g.has(k)}t.forEach=function(g,k){wr(this),this.g.forEach(function(M,U){M.forEach(function(te){g.call(k,te,U,this)},this)},this)},t.na=function(){wr(this);const g=Array.from(this.g.values()),k=Array.from(this.g.keys()),M=[];for(let U=0;U<k.length;U++){const te=g[U];for(let ce=0;ce<te.length;ce++)M.push(k[U])}return M},t.V=function(g){wr(this);let k=[];if(typeof g=="string")si(this,g)&&(k=k.concat(this.g.get(Vn(this,g))));else{g=Array.from(this.g.values());for(let M=0;M<g.length;M++)k=k.concat(g[M])}return k},t.set=function(g,k){return wr(this),this.i=null,g=Vn(this,g),si(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[k]),this.h+=1,this},t.get=function(g,k){return g?(g=this.V(g),0<g.length?String(g[0]):k):k};function ns(g,k,M){ai(g,k),0<M.length&&(g.i=null,g.g.set(Vn(g,k),_(M)),g.h+=M.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],k=Array.from(this.g.keys());for(var M=0;M<k.length;M++){var U=k[M];const ce=encodeURIComponent(String(U)),Te=this.V(U);for(U=0;U<Te.length;U++){var te=ce;Te[U]!==""&&(te+="="+encodeURIComponent(String(Te[U]))),g.push(te)}}return this.i=g.join("&")};function Vn(g,k){return k=String(k),g.j&&(k=k.toLowerCase()),k}function Pi(g,k){k&&!g.j&&(wr(g),g.i=null,g.g.forEach(function(M,U){var te=U.toLowerCase();U!=te&&(ai(this,U),ns(this,te,M))},g)),g.j=k}function Yg(g,k){const M=new sa;if(u.Image){const U=new Image;U.onload=x(nn,M,"TestLoadImage: loaded",!0,k,U),U.onerror=x(nn,M,"TestLoadImage: error",!1,k,U),U.onabort=x(nn,M,"TestLoadImage: abort",!1,k,U),U.ontimeout=x(nn,M,"TestLoadImage: timeout",!1,k,U),u.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=g}else k(!1)}function Vf(g,k){const M=new sa,U=new AbortController,te=setTimeout(()=>{U.abort(),nn(M,"TestPingServer: timeout",!1,k)},1e4);fetch(g,{signal:U.signal}).then(ce=>{clearTimeout(te),ce.ok?nn(M,"TestPingServer: ok",!0,k):nn(M,"TestPingServer: server error",!1,k)}).catch(()=>{clearTimeout(te),nn(M,"TestPingServer: error",!1,k)})}function nn(g,k,M,U,te){try{te&&(te.onload=null,te.onerror=null,te.onabort=null,te.ontimeout=null),U(M)}catch{}}function Xg(){this.g=new Ys}function Ff(g,k,M){const U=M||"";try{Ja(g,function(te,ce){let Te=te;f(te)&&(Te=ol(te)),k.push(U+ce+"="+encodeURIComponent(Te))})}catch(te){throw k.push(U+"type="+encodeURIComponent("_badmap")),te}}function ca(g){this.l=g.Ub||null,this.j=g.eb||!1}S(ca,Dn),ca.prototype.g=function(){return new no(this.l,this.j)},ca.prototype.i=function(g){return function(){return g}}({});function no(g,k){Vt.call(this),this.D=g,this.o=k,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(no,Vt),t=no.prototype,t.open=function(g,k){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=k,this.readyState=1,li(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const k={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(k.body=g),(this.D||u).fetch(new Request(this.A,k)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,oi(this)),this.readyState=0},t.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,li(this)),this.g&&(this.readyState=3,li(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Uf(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function Uf(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}t.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var k=g.value?g.value:new Uint8Array(0);(k=this.v.decode(k,{stream:!g.done}))&&(this.response=this.responseText+=k)}g.done?oi(this):li(this),this.readyState==3&&Uf(this)}},t.Ra=function(g){this.g&&(this.response=this.responseText=g,oi(this))},t.Qa=function(g){this.g&&(this.response=g,oi(this))},t.ga=function(){this.g&&oi(this)};function oi(g){g.readyState=4,g.l=null,g.j=null,g.v=null,li(g)}t.setRequestHeader=function(g,k){this.u.append(g,k)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],k=this.h.entries();for(var M=k.next();!M.done;)M=M.value,g.push(M[0]+": "+M[1]),M=k.next();return g.join(`\r
`)};function li(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(no.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function ua(g){let k="";return N(g,function(M,U){k+=U,k+=":",k+=M,k+=`\r
`}),k}function is(g,k,M){e:{for(U in M){var U=!1;break e}U=!0}U||(M=ua(M),typeof g=="string"?M!=null&&encodeURIComponent(String(M)):xt(g,k,M))}function It(g){Vt.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(It,Vt);var Qg=/^https?$/i,iu=["POST","PUT"];t=It.prototype,t.Ha=function(g){this.J=g},t.ea=function(g,k,M,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);k=k?k.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Le.g(),this.v=this.o?aa(this.o):aa(Le),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(k,String(g),!0),this.B=!1}catch(ce){io(this,ce);return}if(g=M||"",M=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var te in U)M.set(te,U[te]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const ce of U.keys())M.set(ce,U.get(ce));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(M.keys()).find(ce=>ce.toLowerCase()=="content-type"),te=u.FormData&&g instanceof u.FormData,!(0<=Array.prototype.indexOf.call(iu,k,void 0))||U||te||M.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ce,Te]of M)this.g.setRequestHeader(ce,Te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{hl(this),this.u=!0,this.g.send(g),this.u=!1}catch(ce){io(this,ce)}};function io(g,k){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=k,g.m=5,fl(g),_n(g)}function fl(g){g.A||(g.A=!0,Ft(g,"complete"),Ft(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,Ft(this,"complete"),Ft(this,"abort"),_n(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_n(this,!0)),It.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?au(this):this.bb())},t.bb=function(){au(this)};function au(g){if(g.h&&typeof o<"u"&&(!g.v[1]||an(g)!=4||g.Z()!=2)){if(g.u&&an(g)==4)Ga(g.Ea,0,g);else if(Ft(g,"readystatechange"),an(g)==4){g.h=!1;try{const Te=g.Z();e:switch(Te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var k=!0;break e;default:k=!1}var M;if(!(M=k)){var U;if(U=Te===0){var te=String(g.D).match(to)[1]||null;!te&&u.self&&u.self.location&&(te=u.self.location.protocol.slice(0,-1)),U=!Qg.test(te?te.toLowerCase():"")}M=U}if(M)Ft(g,"complete"),Ft(g,"success");else{g.m=6;try{var ce=2<an(g)?g.g.statusText:""}catch{ce=""}g.l=ce+" ["+g.Z()+"]",fl(g)}}finally{_n(g)}}}}function _n(g,k){if(g.g){hl(g);const M=g.g,U=g.v[0]?()=>{}:null;g.g=null,g.v=null,k||Ft(g,"ready");try{M.onreadystatechange=U}catch{}}}function hl(g){g.I&&(u.clearTimeout(g.I),g.I=null)}t.isActive=function(){return!!this.g};function an(g){return g.g?g.g.readyState:0}t.Z=function(){try{return 2<an(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(g){if(this.g){var k=this.g.responseText;return g&&k.indexOf(g)==0&&(k=k.substring(g.length)),Ks(k)}};function su(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function pl(g){const k={};g=(g.g&&2<=an(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<g.length;U++){if(A(g[U]))continue;var M=D(g[U]);const te=M[0];if(M=M[1],typeof M!="string")continue;M=M.trim();const ce=k[te]||[];k[te]=ce,ce.push(M)}T(k,function(U){return U.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ii(g,k,M){return M&&M.internalChannelParams&&M.internalChannelParams[g]||k}function ou(g){this.Aa=0,this.i=[],this.j=new sa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ii("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ii("baseRetryDelayMs",5e3,g),this.cb=Ii("retryDelaySeedMs",1e4,g),this.Wa=Ii("forwardChannelMaxRetries",2,g),this.wa=Ii("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new eo(g&&g.concurrentRequestLimit),this.Da=new Xg,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ou.prototype,t.la=8,t.G=1,t.connect=function(g,k,M,U){Rt(0),this.W=g,this.H=k||{},M&&U!==void 0&&(this.H.OSID=M,this.H.OAID=U),this.F=this.X,this.I=Wf(this,null,this.W),Oi(this)};function _r(g){if(ml(g),g.G==3){var k=g.U++,M=wn(g.I);if(xt(M,"SID",g.K),xt(M,"RID",k),xt(M,"TYPE","terminate"),da(g,M),k=new at(g,g.j,k),k.L=2,k.v=ts(wn(M)),M=!1,u.navigator&&u.navigator.sendBeacon)try{M=u.navigator.sendBeacon(k.v.toString(),"")}catch{}!M&&u.Image&&(new Image().src=k.v,M=!0),M||(k.g=Hf(k.j,null),k.g.ea(k.v)),k.F=Date.now(),wt(k)}zf(g)}function ci(g){g.g&&(lu(g),g.g.cancel(),g.g=null)}function ml(g){ci(g),g.u&&(u.clearTimeout(g.u),g.u=null),yl(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&u.clearTimeout(g.s),g.s=null)}function Oi(g){if(!bn(g.h)&&!g.s){g.s=!0;var k=g.Ga;ie||ae(),Z||(ie(),Z=!0),J.add(k,g),g.B=0}}function Jg(g,k){return Of(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=k.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=vn(y(g.Ga,g,k),qf(g,g.B)),g.B++,!0)}t.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const te=new at(this,this.j,g);let ce=this.o;if(this.S&&(ce?(ce=O(ce),C(ce,this.S)):ce=this.S),this.m!==null||this.O||(te.H=ce,ce=null),this.P)e:{for(var k=0,M=0;M<this.i.length;M++){t:{var U=this.i[M];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(k+=U,4096<k){k=M;break e}if(k===4096||M===this.i.length-1){k=M+1;break e}}k=1e3}else k=1e3;k=as(this,te,k),M=wn(this.I),xt(M,"RID",g),xt(M,"CVER",22),this.D&&xt(M,"X-HTTP-Session-Id",this.D),da(this,M),ce&&(this.O?k="headers="+encodeURIComponent(String(ua(ce)))+"&"+k:this.m&&is(M,this.m,ce)),ru(this.h,te),this.Ua&&xt(M,"TYPE","init"),this.P?(xt(M,"$req",k),xt(M,"SID","null"),te.T=!0,Zt(te,M,null)):Zt(te,M,k),this.G=2}}else this.G==3&&(g?gl(this,g):this.i.length==0||bn(this.h)||gl(this))};function gl(g,k){var M;k?M=k.l:M=g.U++;const U=wn(g.I);xt(U,"SID",g.K),xt(U,"RID",M),xt(U,"AID",g.T),da(g,U),g.m&&g.o&&is(U,g.m,g.o),M=new at(g,g.j,M,g.B+1),g.m===null&&(M.H=g.o),k&&(g.i=k.D.concat(g.i)),k=as(g,M,1e3),M.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),ru(g.h,M),Zt(M,U,k)}function da(g,k){g.H&&N(g.H,function(M,U){xt(k,U,M)}),g.l&&Ja({},function(M,U){xt(k,U,M)})}function as(g,k,M){M=Math.min(g.i.length,M);var U=g.l?y(g.l.Na,g.l,g):null;e:{var te=g.i;let ce=-1;for(;;){const Te=["count="+M];ce==-1?0<M?(ce=te[0].g,Te.push("ofs="+ce)):ce=0:Te.push("ofs="+ce);let mt=!0;for(let er=0;er<M;er++){let st=te[er].g;const dr=te[er].map;if(st-=ce,0>st)ce=Math.max(0,te[er].g-100),mt=!1;else try{Ff(dr,Te,"req"+st+"_")}catch{U&&U(dr)}}if(mt){U=Te.join("&");break e}}}return g=g.i.splice(0,M),k.D=g,U}function ao(g){if(!g.g&&!g.u){g.Y=1;var k=g.Fa;ie||ae(),Z||(ie(),Z=!0),J.add(k,g),g.v=0}}function vl(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=vn(y(g.Fa,g),qf(g,g.v)),g.v++,!0)}t.Fa=function(){if(this.u=null,Bf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=vn(y(this.ab,this),g)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Rt(10),ci(this),Bf(this))};function lu(g){g.A!=null&&(u.clearTimeout(g.A),g.A=null)}function Bf(g){g.g=new at(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var k=wn(g.qa);xt(k,"RID","rpc"),xt(k,"SID",g.K),xt(k,"AID",g.T),xt(k,"CI",g.F?"0":"1"),!g.F&&g.ja&&xt(k,"TO",g.ja),xt(k,"TYPE","xmlhttp"),da(g,k),g.m&&g.o&&is(k,g.m,g.o),g.L&&(g.g.I=g.L);var M=g.g;g=g.ia,M.L=1,M.v=ts(wn(k)),M.m=null,M.P=!0,Ir(M,g)}t.Za=function(){this.C!=null&&(this.C=null,ci(this),vl(this),Rt(19))};function yl(g){g.C!=null&&(u.clearTimeout(g.C),g.C=null)}function xl(g,k){var M=null;if(g.g==k){yl(g),lu(g),g.g=null;var U=2}else if(Wr(g.h,k))M=k.D,Cf(g.h,k),U=1;else return;if(g.G!=0){if(k.o)if(U==1){M=k.m?k.m.length:0,k=Date.now()-k.F;var te=g.B;U=Ai(),Ft(U,new Ya(U,M)),Oi(g)}else ao(g);else if(te=k.s,te==3||te==0&&0<k.X||!(U==1&&Jg(g,k)||U==2&&vl(g)))switch(M&&0<M.length&&(k=g.h,k.i=k.i.concat(M)),te){case 1:fa(g,5);break;case 4:fa(g,10);break;case 3:fa(g,6);break;default:fa(g,2)}}}function qf(g,k){let M=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(M*=2),M*k}function fa(g,k){if(g.j.info("Error code "+k),k==2){var M=y(g.fb,g),U=g.Xa;const te=!U;U=new la(U||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||ro(U,"https"),ts(U),te?Yg(U.toString(),M):Vf(U.toString(),M)}else Rt(2);g.G=0,g.l&&g.l.sa(k),zf(g),ml(g)}t.fb=function(g){g?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function zf(g){if(g.G=0,g.ka=[],g.l){const k=Rf(g.h);(k.length!=0||g.i.length!=0)&&(b(g.ka,k),b(g.ka,g.i),g.h.i.length=0,_(g.i),g.i.length=0),g.l.ra()}}function Wf(g,k,M){var U=M instanceof la?wn(M):new la(M);if(U.g!="")k&&(U.g=k+"."+U.g),Za(U,U.s);else{var te=u.location;U=te.protocol,k=k?k+"."+te.hostname:te.hostname,te=+te.port;var ce=new la(null);U&&ro(ce,U),k&&(ce.g=k),te&&Za(ce,te),M&&(ce.l=M),U=ce}return M=g.D,k=g.ya,M&&k&&xt(U,M,k),xt(U,"VER",g.la),da(g,U),U}function Hf(g,k,M){if(k&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return k=g.Ca&&!g.pa?new It(new ca({eb:M})):new It(g.pa),k.Ha(g.J),k}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function cu(){}t=cu.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function bl(){}bl.prototype.g=function(g,k){return new Hr(g,k)};function Hr(g,k){Vt.call(this),this.g=new ou(k),this.l=g,this.h=k&&k.messageUrlParams||null,g=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(g?g["X-WebChannel-Content-Type"]=k.messageContentType:g={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.va&&(g?g["X-WebChannel-Client-Profile"]=k.va:g={"X-WebChannel-Client-Profile":k.va}),this.g.S=g,(g=k&&k.Sb)&&!A(g)&&(this.g.m=g),this.v=k&&k.supportsCrossDomainXhr||!1,this.u=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!A(k)&&(this.g.D=k,g=this.h,g!==null&&k in g&&(g=this.h,k in g&&delete g[k])),this.j=new Ci(this)}S(Hr,Vt),Hr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Hr.prototype.close=function(){_r(this.g)},Hr.prototype.o=function(g){var k=this.g;if(typeof g=="string"){var M={};M.__data__=g,g=M}else this.u&&(M={},M.__data__=ol(g),g=M);k.i.push(new If(k.Ya++,g)),k.G==3&&Oi(k)},Hr.prototype.N=function(){this.g.l=null,delete this.j,_r(this.g),delete this.g,Hr.aa.N.call(this)};function Gf(g){br.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var k=g.__sm__;if(k){e:{for(const M in k){g=M;break e}g=void 0}(this.i=g)&&(g=this.i,k=k!==null&&g in k?k[g]:void 0),this.data=k}else this.data=g}S(Gf,br);function Kf(){Ln.call(this),this.status=1}S(Kf,Ln);function Ci(g){this.g=g}S(Ci,cu),Ci.prototype.ua=function(){Ft(this.g,"a")},Ci.prototype.ta=function(g){Ft(this.g,new Gf(g))},Ci.prototype.sa=function(g){Ft(this.g,new Kf)},Ci.prototype.ra=function(){Ft(this.g,"b")},bl.prototype.createWebChannel=bl.prototype.g,Hr.prototype.send=Hr.prototype.o,Hr.prototype.open=Hr.prototype.m,Hr.prototype.close=Hr.prototype.close,yM=function(){return new bl},vM=function(){return Ai()},gM=Pr,Gw={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xa.NO_ERROR=0,Xa.TIMEOUT=8,Xa.HTTP_ERROR=6,mp=Xa,ll.COMPLETE="complete",mM=ll,Ti.EventType=rn,rn.OPEN="a",rn.CLOSE="b",rn.ERROR="c",rn.MESSAGE="d",Vt.prototype.listen=Vt.prototype.K,Gu=Ti,It.prototype.listenOnce=It.prototype.L,It.prototype.getLastError=It.prototype.Ka,It.prototype.getLastErrorCode=It.prototype.Ba,It.prototype.getStatus=It.prototype.Z,It.prototype.getResponseJson=It.prototype.Oa,It.prototype.getResponseText=It.prototype.oa,It.prototype.send=It.prototype.ea,It.prototype.setWithCredentials=It.prototype.Ha,pM=It}).apply(typeof zh<"u"?zh:typeof self<"u"?self:typeof window<"u"?window:{});const ST="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $r=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};$r.UNAUTHENTICATED=new $r(null),$r.GOOGLE_CREDENTIALS=new $r("google-credentials-uid"),$r.FIRST_PARTY=new $r("first-party-uid"),$r.MOCK_USER=new $r("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fc="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=new O1("@firebase/firestore");function Ru(){return Uo.logLevel}function Me(t,...e){if(Uo.logLevel<=it.DEBUG){const r=e.map(z1);Uo.debug(`Firestore (${Fc}): ${t}`,...r)}}function Ma(t,...e){if(Uo.logLevel<=it.ERROR){const r=e.map(z1);Uo.error(`Firestore (${Fc}): ${t}`,...r)}}function oc(t,...e){if(Uo.logLevel<=it.WARN){const r=e.map(z1);Uo.warn(`Firestore (${Fc}): ${t}`,...r)}}function z1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(t="Unexpected state"){const e=`FIRESTORE (${Fc}) INTERNAL ASSERTION FAILED: `+t;throw Ma(e),new Error(e)}function vt(t,e){t||Ke()}function Xe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ce extends ea{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r($r.UNAUTHENTICATED))}shutdown(){}}class mU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class gU{constructor(e){this.t=e,this.currentUser=$r.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){vt(this.o===void 0);let n=this.i;const i=d=>this.i!==n?(n=this.i,r(d)):Promise.resolve();let a=new Mo;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Mo,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const d=a;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},u=d=>{Me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(d=>u(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(Me("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Mo)}},0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(Me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(vt(typeof n.accessToken=="string"),new xM(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return vt(e===null||typeof e=="string"),new $r(e)}}class vU{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=$r.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class yU{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new vU(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r($r.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bU{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){vt(this.o===void 0);const n=a=>{a.error!=null&&Me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.R;return this.R=a.token,Me("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{Me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):Me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(vt(typeof r.token=="string"),this.R=r.token,new xU(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wU(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=wU(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%e.length))}return n}}function ut(t,e){return t<e?-1:t>e?1:0}function lc(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Ce(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ce(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Ce(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ce(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return sr.fromMillis(Date.now())}static fromDate(e){return sr.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new sr(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ut(this.nanoseconds,e.nanoseconds):ut(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ye(e)}static min(){return new Ye(new sr(0,0))}static max(){return new Ye(new sr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,r,n){r===void 0?r=0:r>e.length&&Ke(),n===void 0?n=e.length-r:n>e.length-r&&Ke(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return pd.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof pd?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=e.get(i),o=r.get(i);if(a<o)return-1;if(a>o)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Nt extends pd{construct(e,r,n){return new Nt(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Ce(ve.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new Nt(r)}static emptyPath(){return new Nt([])}}const _U=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tr extends pd{construct(e,r,n){return new Tr(e,r,n)}static isValidIdentifier(e){return _U.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Tr(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new Ce(ve.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Ce(ve.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Ce(ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=d,i+=2}else u==="`"?(o=!o,i++):u!=="."||o?(n+=u,i++):(a(),i++)}if(a(),o)throw new Ce(ve.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tr(r)}static emptyPath(){return new Tr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.path=e}static fromPath(e){return new Ve(Nt.fromString(e))}static fromName(e){return new Ve(Nt.fromString(e).popFirst(5))}static empty(){return new Ve(Nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Nt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ve(new Nt(e.slice()))}}function SU(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Ye.fromTimestamp(n===1e9?new sr(r+1,0):new sr(r,n));return new Ls(i,Ve.empty(),e)}function kU(t){return new Ls(t.readTime,t.key,-1)}class Ls{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Ls(Ye.min(),Ve.empty(),-1)}static max(){return new Ls(Ye.max(),Ve.empty(),-1)}}function jU(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Ve.comparator(t.documentKey,e.documentKey),r!==0?r:ut(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TU{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uf(t){if(t.code!==ve.FAILED_PRECONDITION||t.message!==EU)throw t;Me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Ke(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new we((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof we?r:we.resolve(r)}catch(r){return we.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):we.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):we.reject(r)}static resolve(e){return new we((r,n)=>{r(e)})}static reject(e){return new we((r,n)=>{n(e)})}static waitFor(e){return new we((r,n)=>{let i=0,a=0,o=!1;e.forEach(u=>{++i,u.next(()=>{++a,o&&a===i&&r()},d=>n(d))}),o=!0,a===i&&r()})}static or(e){let r=we.resolve(!1);for(const n of e)r=r.next(i=>i?we.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(e,r){return new we((n,i)=>{const a=e.length,o=new Array(a);let u=0;for(let d=0;d<a;d++){const f=d;r(e[f]).next(p=>{o[f]=p,++u,u===a&&n(o)},p=>i(p))}})}static doWhile(e,r){return new we((n,i)=>{const a=()=>{e()===!0?r().next(()=>{a()},i):n()};a()})}}function AU(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function df(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}W1.oe=-1;function zm(t){return t==null}function Pp(t){return t===0&&1/t==-1/0}function NU(t){return typeof t=="number"&&Number.isInteger(t)&&!Pp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Zo(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function wM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e,r){this.comparator=e,this.root=r||Er.EMPTY}insert(e,r){return new Lt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Er.BLACK,null,null))}remove(e){return new Lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Er.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wh(this.root,e,this.comparator,!0)}}class Wh{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Er{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??Er.RED,this.left=i??Er.EMPTY,this.right=a??Er.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new Er(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Er.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return Er.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Er.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Er.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ke();const e=this.left.check();if(e!==this.right.check())throw Ke();return e+(this.isRed()?0:1)}}Er.EMPTY=null,Er.RED=!0,Er.BLACK=!1;Er.EMPTY=new class{constructor(){this.size=0}get key(){throw Ke()}get value(){throw Ke()}get color(){throw Ke()}get left(){throw Ke()}get right(){throw Ke()}copy(e,r,n,i,a){return this}insert(e,r,n){return new Er(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this.comparator=e,this.data=new Lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new jT(this.data.getIterator())}getIteratorFrom(e){return new jT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof Ar)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Ar(this.comparator);return r.data=e,r}}class jT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.fields=e,e.sort(Tr.comparator)}static empty(){return new On([])}unionWith(e){let r=new Ar(Tr.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new On(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return lc(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new _M("Invalid base64 string: "+a):a}}(e);return new Nr(r)}static fromUint8Array(e){const r=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new Nr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ut(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nr.EMPTY_BYTE_STRING=new Nr("");const PU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $s(t){if(vt(!!t),typeof t=="string"){let e=0;const r=PU.exec(t);if(vt(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:zt(t.seconds),nanos:zt(t.nanos)}}function zt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Bo(t){return typeof t=="string"?Nr.fromBase64String(t):Nr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(t){var e,r;return((r=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function G1(t){const e=t.mapValue.fields.__previous_value__;return H1(e)?G1(e):e}function md(t){const e=$s(t.mapValue.fields.__local_write_time__.timestampValue);return new sr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(e,r,n,i,a,o,u,d,f){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=f}}class gd{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new gd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof gd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh={mapValue:{}};function qo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?H1(t)?4:CU(t)?9007199254740991:OU(t)?10:11:Ke()}function Xi(t,e){if(t===e)return!0;const r=qo(t);if(r!==qo(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return md(t).isEqual(md(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=$s(i.timestampValue),u=$s(a.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Bo(i.bytesValue).isEqual(Bo(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return zt(i.geoPointValue.latitude)===zt(a.geoPointValue.latitude)&&zt(i.geoPointValue.longitude)===zt(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return zt(i.integerValue)===zt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=zt(i.doubleValue),u=zt(a.doubleValue);return o===u?Pp(o)===Pp(u):isNaN(o)&&isNaN(u)}return!1}(t,e);case 9:return lc(t.arrayValue.values||[],e.arrayValue.values||[],Xi);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},u=a.mapValue.fields||{};if(kT(o)!==kT(u))return!1;for(const d in o)if(o.hasOwnProperty(d)&&(u[d]===void 0||!Xi(o[d],u[d])))return!1;return!0}(t,e);default:return Ke()}}function vd(t,e){return(t.values||[]).find(r=>Xi(r,e))!==void 0}function cc(t,e){if(t===e)return 0;const r=qo(t),n=qo(e);if(r!==n)return ut(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return ut(t.booleanValue,e.booleanValue);case 2:return function(a,o){const u=zt(a.integerValue||a.doubleValue),d=zt(o.integerValue||o.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1}(t,e);case 3:return ET(t.timestampValue,e.timestampValue);case 4:return ET(md(t),md(e));case 5:return ut(t.stringValue,e.stringValue);case 6:return function(a,o){const u=Bo(a),d=Bo(o);return u.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const u=a.split("/"),d=o.split("/");for(let f=0;f<u.length&&f<d.length;f++){const p=ut(u[f],d[f]);if(p!==0)return p}return ut(u.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const u=ut(zt(a.latitude),zt(o.latitude));return u!==0?u:ut(zt(a.longitude),zt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return TT(t.arrayValue,e.arrayValue);case 10:return function(a,o){var u,d,f,p;const m=a.fields||{},y=o.fields||{},x=(u=m.value)===null||u===void 0?void 0:u.arrayValue,S=(d=y.value)===null||d===void 0?void 0:d.arrayValue,_=ut(((f=x?.values)===null||f===void 0?void 0:f.length)||0,((p=S?.values)===null||p===void 0?void 0:p.length)||0);return _!==0?_:TT(x,S)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===Hh.mapValue&&o===Hh.mapValue)return 0;if(a===Hh.mapValue)return 1;if(o===Hh.mapValue)return-1;const u=a.fields||{},d=Object.keys(u),f=o.fields||{},p=Object.keys(f);d.sort(),p.sort();for(let m=0;m<d.length&&m<p.length;++m){const y=ut(d[m],p[m]);if(y!==0)return y;const x=cc(u[d[m]],f[p[m]]);if(x!==0)return x}return ut(d.length,p.length)}(t.mapValue,e.mapValue);default:throw Ke()}}function ET(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ut(t,e);const r=$s(t),n=$s(e),i=ut(r.seconds,n.seconds);return i!==0?i:ut(r.nanos,n.nanos)}function TT(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=cc(r[i],n[i]);if(a)return a}return ut(r.length,n.length)}function uc(t){return Kw(t)}function Kw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=$s(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Bo(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return Ve.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=Kw(a);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const o of n)a?a=!1:i+=",",i+=`${o}:${Kw(r.fields[o])}`;return i+"}"}(t.mapValue):Ke()}function AT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Yw(t){return!!t&&"integerValue"in t}function K1(t){return!!t&&"arrayValue"in t}function NT(t){return!!t&&"nullValue"in t}function PT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function gp(t){return!!t&&"mapValue"in t}function OU(t){var e,r;return((r=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function td(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Zo(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=td(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=td(t.arrayValue.values[r]);return e}return Object.assign({},t)}function CU(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.value=e}static empty(){return new fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!gp(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=td(r)}setAll(e){let r=Tr.emptyPath(),n={},i=[];e.forEach((o,u)=>{if(!r.isImmediateParentOf(u)){const d=this.getFieldsMap(r);this.applyChanges(d,n,i),n={},i=[],r=u.popLast()}o?n[u.lastSegment()]=td(o):i.push(u.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());gp(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Xi(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];gp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){Zo(r,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new fn(td(this.value))}}function SM(t){const e=[];return Zo(t.fields,(r,n)=>{const i=new Tr([r]);if(gp(n)){const a=SM(n.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)}),new On(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,r,n,i,a,o,u){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}static newInvalidDocument(e){return new Vr(e,0,Ye.min(),Ye.min(),Ye.min(),fn.empty(),0)}static newFoundDocument(e,r,n,i){return new Vr(e,1,r,Ye.min(),n,i,0)}static newNoDocument(e,r){return new Vr(e,2,r,Ye.min(),Ye.min(),fn.empty(),0)}static newUnknownDocument(e,r){return new Vr(e,3,r,Ye.min(),Ye.min(),fn.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Vr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e,r){this.position=e,this.inclusive=r}}function IT(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?n=Ve.comparator(Ve.fromName(o.referenceValue),r.key):n=cc(o,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function OT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Xi(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e,r="asc"){this.field=e,this.dir=r}}function RU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kM=class{};class Yt extends kM{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new DU(e,r,n):r==="array-contains"?new VU(e,n):r==="in"?new FU(e,n):r==="not-in"?new UU(e,n):r==="array-contains-any"?new BU(e,n):new Yt(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new LU(e,n):new $U(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(cc(r,this.value)):r!==null&&qo(this.value)===qo(r)&&this.matchesComparison(cc(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ke()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Si extends kM{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new Si(e,r)}matches(e){return jM(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function jM(t){return t.op==="and"}function EM(t){return MU(t)&&jM(t)}function MU(t){for(const e of t.filters)if(e instanceof Si)return!1;return!0}function Xw(t){if(t instanceof Yt)return t.field.canonicalString()+t.op.toString()+uc(t.value);if(EM(t))return t.filters.map(e=>Xw(e)).join(",");{const e=t.filters.map(r=>Xw(r)).join(",");return`${t.op}(${e})`}}function TM(t,e){return t instanceof Yt?function(n,i){return i instanceof Yt&&n.op===i.op&&n.field.isEqual(i.field)&&Xi(n.value,i.value)}(t,e):t instanceof Si?function(n,i){return i instanceof Si&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,o,u)=>a&&TM(o,i.filters[u]),!0):!1}(t,e):void Ke()}function AM(t){return t instanceof Yt?function(r){return`${r.field.canonicalString()} ${r.op} ${uc(r.value)}`}(t):t instanceof Si?function(r){return r.op.toString()+" {"+r.getFilters().map(AM).join(" ,")+"}"}(t):"Filter"}class DU extends Yt{constructor(e,r,n){super(e,r,n),this.key=Ve.fromName(n.referenceValue)}matches(e){const r=Ve.comparator(e.key,this.key);return this.matchesComparison(r)}}class LU extends Yt{constructor(e,r){super(e,"in",r),this.keys=NM("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class $U extends Yt{constructor(e,r){super(e,"not-in",r),this.keys=NM("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function NM(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>Ve.fromName(n.referenceValue))}class VU extends Yt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return K1(r)&&vd(r.arrayValue,this.value)}}class FU extends Yt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&vd(this.value.arrayValue,r)}}class UU extends Yt{constructor(e,r){super(e,"not-in",r)}matches(e){if(vd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!vd(this.value.arrayValue,r)}}class BU extends Yt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!K1(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>vd(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(e,r=null,n=[],i=[],a=null,o=null,u=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ue=null}}function CT(t,e=null,r=[],n=[],i=null,a=null,o=null){return new qU(t,e,r,n,i,a,o)}function Y1(t){const e=Xe(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>Xw(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),zm(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>uc(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>uc(n)).join(",")),e.ue=r}return e.ue}function X1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!RU(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!TM(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!OT(t.startAt,e.startAt)&&OT(t.endAt,e.endAt)}function Qw(t){return Ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,r=null,n=[],i=[],a=null,o="F",u=null,d=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=d,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function zU(t,e,r,n,i,a,o,u){return new ff(t,e,r,n,i,a,o,u)}function Q1(t){return new ff(t)}function RT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function PM(t){return t.collectionGroup!==null}function rd(t){const e=Xe(t);if(e.ce===null){e.ce=[];const r=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let u=new Ar(Tr.comparator);return o.filters.forEach(d=>{d.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(e).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Op(a,n))}),r.has(Tr.keyField().canonicalString())||e.ce.push(new Op(Tr.keyField(),n))}return e.ce}function Wi(t){const e=Xe(t);return e.le||(e.le=WU(e,rd(t))),e.le}function WU(t,e){if(t.limitType==="F")return CT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Op(i.field,a)});const r=t.endAt?new Ip(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Ip(t.startAt.position,t.startAt.inclusive):null;return CT(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function Jw(t,e){const r=t.filters.concat([e]);return new ff(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function Zw(t,e,r){return new ff(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Wm(t,e){return X1(Wi(t),Wi(e))&&t.limitType===e.limitType}function IM(t){return`${Y1(Wi(t))}|lt:${t.limitType}`}function Wl(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>AM(i)).join(", ")}]`),zm(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>uc(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>uc(i)).join(",")),`Target(${n})`}(Wi(t))}; limitType=${t.limitType})`}function Hm(t,e){return e.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):Ve.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(t,e)&&function(n,i){for(const a of rd(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(o,u,d){const f=IT(o,u,d);return o.inclusive?f<=0:f<0}(n.startAt,rd(n),i)||n.endAt&&!function(o,u,d){const f=IT(o,u,d);return o.inclusive?f>=0:f>0}(n.endAt,rd(n),i))}(t,e)}function HU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function OM(t){return(e,r)=>{let n=!1;for(const i of rd(t)){const a=GU(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function GU(t,e,r){const n=t.field.isKeyField()?Ve.comparator(e.key,r.key):function(a,o,u){const d=o.data.field(a),f=u.data.field(a);return d!==null&&f!==null?cc(d,f):Ke()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Ke()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Zo(this.inner,(r,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return wM(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KU=new Lt(Ve.comparator);function Da(){return KU}const CM=new Lt(Ve.comparator);function Ku(...t){let e=CM;for(const r of t)e=e.insert(r.key,r);return e}function RM(t){let e=CM;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function To(){return nd()}function MM(){return nd()}function nd(){return new Uc(t=>t.toString(),(t,e)=>t.isEqual(e))}const YU=new Lt(Ve.comparator),XU=new Ar(Ve.comparator);function rt(...t){let e=XU;for(const r of t)e=e.add(r);return e}const QU=new Ar(ut);function JU(){return QU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pp(e)?"-0":e}}function DM(t){return{integerValue:""+t}}function ZU(t,e){return NU(e)?DM(e):J1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(){this._=void 0}}function eB(t,e,r){return t instanceof Cp?function(i,a){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&H1(a)&&(a=G1(a)),a&&(o.fields.__previous_value__=a),{mapValue:o}}(r,e):t instanceof yd?$M(t,e):t instanceof xd?VM(t,e):function(i,a){const o=LM(i,a),u=MT(o)+MT(i.Pe);return Yw(o)&&Yw(i.Pe)?DM(u):J1(i.serializer,u)}(t,e)}function tB(t,e,r){return t instanceof yd?$M(t,e):t instanceof xd?VM(t,e):r}function LM(t,e){return t instanceof Rp?function(n){return Yw(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class Cp extends Gm{}class yd extends Gm{constructor(e){super(),this.elements=e}}function $M(t,e){const r=FM(e);for(const n of t.elements)r.some(i=>Xi(i,n))||r.push(n);return{arrayValue:{values:r}}}class xd extends Gm{constructor(e){super(),this.elements=e}}function VM(t,e){let r=FM(e);for(const n of t.elements)r=r.filter(i=>!Xi(i,n));return{arrayValue:{values:r}}}class Rp extends Gm{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function MT(t){return zt(t.integerValue||t.doubleValue)}function FM(t){return K1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function rB(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof yd&&i instanceof yd||n instanceof xd&&i instanceof xd?lc(n.elements,i.elements,Xi):n instanceof Rp&&i instanceof Rp?Xi(n.Pe,i.Pe):n instanceof Cp&&i instanceof Cp}(t.transform,e.transform)}class nB{constructor(e,r){this.version=e,this.transformResults=r}}class Zn{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Zn}static exists(e){return new Zn(void 0,e)}static updateTime(e){return new Zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Km{}function UM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Z1(t.key,Zn.none()):new hf(t.key,t.data,Zn.none());{const r=t.data,n=fn.empty();let i=new Ar(Tr.comparator);for(let a of e.fields)if(!i.has(a)){let o=r.field(a);o===null&&a.length>1&&(a=a.popLast(),o=r.field(a)),o===null?n.delete(a):n.set(a,o),i=i.add(a)}return new Bs(t.key,n,new On(i.toArray()),Zn.none())}}function iB(t,e,r){t instanceof hf?function(i,a,o){const u=i.value.clone(),d=LT(i.fieldTransforms,a,o.transformResults);u.setAll(d),a.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,r):t instanceof Bs?function(i,a,o){if(!vp(i.precondition,a))return void a.convertToUnknownDocument(o.version);const u=LT(i.fieldTransforms,a,o.transformResults),d=a.data;d.setAll(BM(i)),d.setAll(u),a.convertToFoundDocument(o.version,d).setHasCommittedMutations()}(t,e,r):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,r)}function id(t,e,r,n){return t instanceof hf?function(a,o,u,d){if(!vp(a.precondition,o))return u;const f=a.value.clone(),p=$T(a.fieldTransforms,d,o);return f.setAll(p),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null}(t,e,r,n):t instanceof Bs?function(a,o,u,d){if(!vp(a.precondition,o))return u;const f=$T(a.fieldTransforms,d,o),p=o.data;return p.setAll(BM(a)),p.setAll(f),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(m=>m.field))}(t,e,r,n):function(a,o,u){return vp(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u}(t,e,r)}function aB(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=LM(n.transform,i||null);a!=null&&(r===null&&(r=fn.empty()),r.set(n.field,a))}return r||null}function DT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&lc(n,i,(a,o)=>rB(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class hf extends Km{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Bs extends Km{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function BM(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function LT(t,e,r){const n=new Map;vt(t.length===r.length);for(let i=0;i<r.length;i++){const a=t[i],o=a.transform,u=e.data.field(a.field);n.set(a.field,tB(o,u,r[i]))}return n}function $T(t,e,r){const n=new Map;for(const i of t){const a=i.transform,o=r.data.field(i.field);n.set(i.field,eB(a,o,e))}return n}class Z1 extends Km{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sB extends Km{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oB{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&iB(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=id(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=id(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=MM();return this.mutations.forEach(i=>{const a=e.get(i.key),o=a.overlayedDocument;let u=this.applyToLocalView(o,a.mutatedFields);u=r.has(i.key)?null:u;const d=UM(o,u);d!==null&&n.set(i.key,d),o.isValidDocument()||o.convertToNoDocument(Ye.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),rt())}isEqual(e){return this.batchId===e.batchId&&lc(this.mutations,e.mutations,(r,n)=>DT(r,n))&&lc(this.baseMutations,e.baseMutations,(r,n)=>DT(r,n))}}class eS{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){vt(e.mutations.length===n.length);let i=function(){return YU}();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,n[o].version);return new eS(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lB{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt,ot;function uB(t){switch(t){default:return Ke();case ve.CANCELLED:case ve.UNKNOWN:case ve.DEADLINE_EXCEEDED:case ve.RESOURCE_EXHAUSTED:case ve.INTERNAL:case ve.UNAVAILABLE:case ve.UNAUTHENTICATED:return!1;case ve.INVALID_ARGUMENT:case ve.NOT_FOUND:case ve.ALREADY_EXISTS:case ve.PERMISSION_DENIED:case ve.FAILED_PRECONDITION:case ve.ABORTED:case ve.OUT_OF_RANGE:case ve.UNIMPLEMENTED:case ve.DATA_LOSS:return!0}}function qM(t){if(t===void 0)return Ma("GRPC error has no .code"),ve.UNKNOWN;switch(t){case Gt.OK:return ve.OK;case Gt.CANCELLED:return ve.CANCELLED;case Gt.UNKNOWN:return ve.UNKNOWN;case Gt.DEADLINE_EXCEEDED:return ve.DEADLINE_EXCEEDED;case Gt.RESOURCE_EXHAUSTED:return ve.RESOURCE_EXHAUSTED;case Gt.INTERNAL:return ve.INTERNAL;case Gt.UNAVAILABLE:return ve.UNAVAILABLE;case Gt.UNAUTHENTICATED:return ve.UNAUTHENTICATED;case Gt.INVALID_ARGUMENT:return ve.INVALID_ARGUMENT;case Gt.NOT_FOUND:return ve.NOT_FOUND;case Gt.ALREADY_EXISTS:return ve.ALREADY_EXISTS;case Gt.PERMISSION_DENIED:return ve.PERMISSION_DENIED;case Gt.FAILED_PRECONDITION:return ve.FAILED_PRECONDITION;case Gt.ABORTED:return ve.ABORTED;case Gt.OUT_OF_RANGE:return ve.OUT_OF_RANGE;case Gt.UNIMPLEMENTED:return ve.UNIMPLEMENTED;case Gt.DATA_LOSS:return ve.DATA_LOSS;default:return Ke()}}(ot=Gt||(Gt={}))[ot.OK=0]="OK",ot[ot.CANCELLED=1]="CANCELLED",ot[ot.UNKNOWN=2]="UNKNOWN",ot[ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ot[ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ot[ot.NOT_FOUND=5]="NOT_FOUND",ot[ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",ot[ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",ot[ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",ot[ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ot[ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ot[ot.ABORTED=10]="ABORTED",ot[ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",ot[ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",ot[ot.INTERNAL=13]="INTERNAL",ot[ot.UNAVAILABLE=14]="UNAVAILABLE",ot[ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dB(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fB=new Ro([4294967295,4294967295],0);function VT(t){const e=dB().encode(t),r=new hM;return r.update(e),new Uint8Array(r.digest())}function FT(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ro([r,n],0),new Ro([i,a],0)]}class tS{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Yu(`Invalid padding: ${r}`);if(n<0)throw new Yu(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Yu(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Yu(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Ro.fromNumber(this.Ie)}Ee(e,r,n){let i=e.add(r.multiply(Ro.fromNumber(n)));return i.compare(fB)===1&&(i=new Ro([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=VT(e),[n,i]=FT(r);for(let a=0;a<this.hashCount;a++){const o=this.Ee(n,i,a);if(!this.de(o))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new tS(a,i,r);return n.forEach(u=>o.insert(u)),o}insert(e){if(this.Ie===0)return;const r=VT(e),[n,i]=FT(r);for(let a=0;a<this.hashCount;a++){const o=this.Ee(n,i,a);this.Ae(o)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Yu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,pf.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new Ym(Ye.min(),i,new Lt(ut),Da(),rt())}}class pf{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new pf(n,r,rt(),rt(),rt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e,r,n,i){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=i}}class zM{constructor(e,r){this.targetId=e,this.me=r}}class WM{constructor(e,r,n=Nr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class UT{constructor(){this.fe=0,this.ge=qT(),this.pe=Nr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=rt(),r=rt(),n=rt();return this.ge.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:Ke()}}),new pf(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=qT()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,vt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class hB{constructor(e){this.Le=e,this.Be=new Map,this.ke=Da(),this.qe=BT(),this.Qe=new Lt(ut)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:Ke()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,i)=>{this.ze(i)&&r(i)})}He(e){const r=e.targetId,n=e.me.count,i=this.Je(r);if(i){const a=i.target;if(Qw(a))if(n===0){const o=new Ve(a.path);this.Ue(r,o,Vr.newNoDocument(o,Ye.min()))}else vt(n===1);else{const o=this.Ye(r);if(o!==n){const u=this.Ze(e),d=u?this.Xe(u,e,o):1;if(d!==0){this.je(r);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,f)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let o,u;try{o=Bo(n).toUint8Array()}catch(d){if(d instanceof _M)return oc("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new tS(o,i,a)}catch(d){return oc(d instanceof Yu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.Ie===0?null:u}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const o=this.Le.tt(),u=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.Ue(r,a,null),i++)}),i}rt(e){const r=new Map;this.Be.forEach((a,o)=>{const u=this.Je(o);if(u){if(a.current&&Qw(u.target)){const d=new Ve(u.target.path);this.ke.get(d)!==null||this.it(o,d)||this.Ue(o,d,Vr.newNoDocument(d,e))}a.be&&(r.set(o,a.ve()),a.Ce())}});let n=rt();this.qe.forEach((a,o)=>{let u=!0;o.forEachWhile(d=>{const f=this.Je(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(n=n.add(a))}),this.ke.forEach((a,o)=>o.setReadTime(e));const i=new Ym(e,r,this.Qe,this.ke,n);return this.ke=Da(),this.qe=BT(),this.Qe=new Lt(ut),i}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new UT,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Ar(ut),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||Me("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new UT),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function BT(){return new Lt(Ve.comparator)}function qT(){return new Lt(Ve.comparator)}const pB={asc:"ASCENDING",desc:"DESCENDING"},mB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gB={and:"AND",or:"OR"};class vB{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function e_(t,e){return t.useProto3Json||zm(e)?e:{value:e}}function Mp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function yB(t,e){return Mp(t,e.toTimestamp())}function Hi(t){return vt(!!t),Ye.fromTimestamp(function(r){const n=$s(r);return new sr(n.seconds,n.nanos)}(t))}function rS(t,e){return t_(t,e).canonicalString()}function t_(t,e){const r=function(i){return new Nt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function GM(t){const e=Nt.fromString(t);return vt(JM(e)),e}function r_(t,e){return rS(t.databaseId,e.path)}function Pv(t,e){const r=GM(e);if(r.get(1)!==t.databaseId.projectId)throw new Ce(ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Ce(ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Ve(YM(r))}function KM(t,e){return rS(t.databaseId,e)}function xB(t){const e=GM(t);return e.length===4?Nt.emptyPath():YM(e)}function n_(t){return new Nt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function YM(t){return vt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function zT(t,e,r){return{name:r_(t,e),fields:r.value.mapValue.fields}}function bB(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ke()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(f,p){return f.useProto3Json?(vt(p===void 0||typeof p=="string"),Nr.fromBase64String(p||"")):(vt(p===void 0||p instanceof Buffer||p instanceof Uint8Array),Nr.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,u=o&&function(f){const p=f.code===void 0?ve.UNKNOWN:qM(f.code);return new Ce(p,f.message||"")}(o);r=new WM(n,i,a,u||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=Pv(t,n.document.name),a=Hi(n.document.updateTime),o=n.document.createTime?Hi(n.document.createTime):Ye.min(),u=new fn({mapValue:{fields:n.document.fields}}),d=Vr.newFoundDocument(i,a,o,u),f=n.targetIds||[],p=n.removedTargetIds||[];r=new yp(f,p,d.key,d)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=Pv(t,n.document),a=n.readTime?Hi(n.readTime):Ye.min(),o=Vr.newNoDocument(i,a),u=n.removedTargetIds||[];r=new yp([],u,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=Pv(t,n.document),a=n.removedTargetIds||[];r=new yp([],a,i,null)}else{if(!("filter"in e))return Ke();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,o=new cB(i,a),u=n.targetId;r=new zM(u,o)}}return r}function wB(t,e){let r;if(e instanceof hf)r={update:zT(t,e.key,e.value)};else if(e instanceof Z1)r={delete:r_(t,e.key)};else if(e instanceof Bs)r={update:zT(t,e.key,e.data),updateMask:PB(e.fieldMask)};else{if(!(e instanceof sB))return Ke();r={verify:r_(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(a,o){const u=o.transform;if(u instanceof Cp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof yd)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof xd)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Rp)return{fieldPath:o.field.canonicalString(),increment:u.Pe};throw Ke()}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:yB(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ke()}(t,e.precondition)),r}function _B(t,e){return t&&t.length>0?(vt(e!==void 0),t.map(r=>function(i,a){let o=i.updateTime?Hi(i.updateTime):Hi(a);return o.isEqual(Ye.min())&&(o=Hi(a)),new nB(o,i.transformResults||[])}(r,e))):[]}function SB(t,e){return{documents:[KM(t,e.path)]}}function kB(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=KM(t,i);const a=function(f){if(f.length!==0)return QM(Si.create(f,"and"))}(e.filters);a&&(r.structuredQuery.where=a);const o=function(f){if(f.length!==0)return f.map(p=>function(y){return{field:Hl(y.field),direction:TB(y.dir)}}(p))}(e.orderBy);o&&(r.structuredQuery.orderBy=o);const u=e_(t,e.limit);return u!==null&&(r.structuredQuery.limit=u),e.startAt&&(r.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{_t:r,parent:i}}function jB(t){let e=xB(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){vt(n===1);const p=r.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let a=[];r.where&&(a=function(m){const y=XM(m);return y instanceof Si&&EM(y)?y.getFilters():[y]}(r.where));let o=[];r.orderBy&&(o=function(m){return m.map(y=>function(S){return new Op(Gl(S.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(y))}(r.orderBy));let u=null;r.limit&&(u=function(m){let y;return y=typeof m=="object"?m.value:m,zm(y)?null:y}(r.limit));let d=null;r.startAt&&(d=function(m){const y=!!m.before,x=m.values||[];return new Ip(x,y)}(r.startAt));let f=null;return r.endAt&&(f=function(m){const y=!m.before,x=m.values||[];return new Ip(x,y)}(r.endAt)),zU(e,i,o,a,u,"F",d,f)}function EB(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ke()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function XM(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Gl(r.unaryFilter.field);return Yt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Gl(r.unaryFilter.field);return Yt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Gl(r.unaryFilter.field);return Yt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Gl(r.unaryFilter.field);return Yt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ke()}}(t):t.fieldFilter!==void 0?function(r){return Yt.create(Gl(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ke()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return Si.create(r.compositeFilter.filters.map(n=>XM(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ke()}}(r.compositeFilter.op))}(t):Ke()}function TB(t){return pB[t]}function AB(t){return mB[t]}function NB(t){return gB[t]}function Hl(t){return{fieldPath:t.canonicalString()}}function Gl(t){return Tr.fromServerFormat(t.fieldPath)}function QM(t){return t instanceof Yt?function(r){if(r.op==="=="){if(PT(r.value))return{unaryFilter:{field:Hl(r.field),op:"IS_NAN"}};if(NT(r.value))return{unaryFilter:{field:Hl(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(PT(r.value))return{unaryFilter:{field:Hl(r.field),op:"IS_NOT_NAN"}};if(NT(r.value))return{unaryFilter:{field:Hl(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hl(r.field),op:AB(r.op),value:r.value}}}(t):t instanceof Si?function(r){const n=r.getFilters().map(i=>QM(i));return n.length===1?n[0]:{compositeFilter:{op:NB(r.op),filters:n}}}(t):Ke()}function PB(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function JM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,r,n,i,a=Ye.min(),o=Ye.min(),u=Nr.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new As(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IB{constructor(e){this.ct=e}}function OB(t){const e=jB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Zw(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CB{constructor(){this.un=new RB}addToCollectionParentIndex(e,r){return this.un.add(r),we.resolve()}getCollectionParents(e,r){return we.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return we.resolve()}deleteFieldIndex(e,r){return we.resolve()}deleteAllFieldIndexes(e){return we.resolve()}createTargetIndexes(e,r){return we.resolve()}getDocumentsMatchingTarget(e,r){return we.resolve(null)}getIndexType(e,r){return we.resolve(0)}getFieldIndexes(e,r){return we.resolve([])}getNextCollectionGroupToUpdate(e){return we.resolve(null)}getMinOffset(e,r){return we.resolve(Ls.min())}getMinOffsetFromCollectionGroup(e,r){return we.resolve(Ls.min())}updateCollectionGroup(e,r,n){return we.resolve()}updateIndexEntries(e,r){return we.resolve()}}class RB{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new Ar(Nt.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Ar(Nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new dc(0)}static kn(){return new dc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB{constructor(){this.changes=new Uc(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Vr.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?we.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LB{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&id(n.mutation,i,On.empty(),sr.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,rt()).next(()=>n))}getLocalViewOfDocuments(e,r,n=rt()){const i=To();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(a=>{let o=Ku();return a.forEach((u,d)=>{o=o.insert(u,d.overlayedDocument)}),o}))}getOverlayedDocuments(e,r){const n=To();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,rt()))}populateOverlays(e,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((o,u)=>{r.set(o,u)})})}computeViews(e,r,n,i){let a=Da();const o=nd(),u=function(){return nd()}();return r.forEach((d,f)=>{const p=n.get(f.key);i.has(f.key)&&(p===void 0||p.mutation instanceof Bs)?a=a.insert(f.key,f):p!==void 0?(o.set(f.key,p.mutation.getFieldMask()),id(p.mutation,f,p.mutation.getFieldMask(),sr.now())):o.set(f.key,On.empty())}),this.recalculateAndSaveOverlays(e,a).next(d=>(d.forEach((f,p)=>o.set(f,p)),r.forEach((f,p)=>{var m;return u.set(f,new DB(p,(m=o.get(f))!==null&&m!==void 0?m:null))}),u))}recalculateAndSaveOverlays(e,r){const n=nd();let i=new Lt((o,u)=>o-u),a=rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>{for(const u of o)u.keys().forEach(d=>{const f=r.get(d);if(f===null)return;let p=n.get(d)||On.empty();p=u.applyToLocalView(f,p),n.set(d,p);const m=(i.get(u.batchId)||rt()).add(d);i=i.insert(u.batchId,m)})}).next(()=>{const o=[],u=i.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),f=d.key,p=d.value,m=MM();p.forEach(y=>{if(!a.has(y)){const x=UM(r.get(y),n.get(y));x!==null&&m.set(y,x),a=a.add(y)}}),o.push(this.documentOverlayCache.saveOverlays(e,f,m))}return we.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(o){return Ve.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):PM(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):we.resolve(To());let u=-1,d=a;return o.next(f=>we.forEach(f,(p,m)=>(u<m.largestBatchId&&(u=m.largestBatchId),a.get(p)?we.resolve():this.remoteDocumentCache.getEntry(e,p).next(y=>{d=d.insert(p,y)}))).next(()=>this.populateOverlays(e,f,a)).next(()=>this.computeViews(e,d,f,rt())).next(p=>({batchId:u,changes:RM(p)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Ve(r)).next(n=>{let i=Ku();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let o=Ku();return this.indexManager.getCollectionParents(e,a).next(u=>we.forEach(u,d=>{const f=function(m,y){return new ff(y,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(r,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,n,i).next(p=>{p.forEach((m,y)=>{o=o.insert(m,y)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i))).next(o=>{a.forEach((d,f)=>{const p=f.getKey();o.get(p)===null&&(o=o.insert(p,Vr.newInvalidDocument(p)))});let u=Ku();return o.forEach((d,f)=>{const p=a.get(d);p!==void 0&&id(p.mutation,f,On.empty(),sr.now()),Hm(r,f)&&(u=u.insert(d,f))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $B{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return we.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:Hi(i.createTime)}}(r)),we.resolve()}getNamedQuery(e,r){return we.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(i){return{name:i.name,query:OB(i.bundledQuery),readTime:Hi(i.readTime)}}(r)),we.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VB{constructor(){this.overlays=new Lt(Ve.comparator),this.Ir=new Map}getOverlay(e,r){return we.resolve(this.overlays.get(r))}getOverlays(e,r){const n=To();return we.forEach(r,i=>this.getOverlay(e,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,a)=>{this.ht(e,r,a)}),we.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(n)),we.resolve()}getOverlaysForCollection(e,r,n){const i=To(),a=r.length+1,o=new Ve(r.child("")),u=this.overlays.getIteratorFrom(o);for(;u.hasNext();){const d=u.getNext().value,f=d.getKey();if(!r.isPrefixOf(f.path))break;f.path.length===a&&d.largestBatchId>n&&i.set(d.getKey(),d)}return we.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new Lt((f,p)=>f-p);const o=this.overlays.getIterator();for(;o.hasNext();){const f=o.getNext().value;if(f.getKey().getCollectionGroup()===r&&f.largestBatchId>n){let p=a.get(f.largestBatchId);p===null&&(p=To(),a=a.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const u=To(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((f,p)=>u.set(f,p)),!(u.size()>=i)););return we.resolve(u)}ht(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new lB(r,n));let a=this.Ir.get(r);a===void 0&&(a=rt(),this.Ir.set(r,a)),this.Ir.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FB{constructor(){this.sessionToken=Nr.EMPTY_BYTE_STRING}getSessionToken(e){return we.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,we.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(){this.Tr=new Ar(mr.Er),this.dr=new Ar(mr.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new mr(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new mr(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new Ve(new Nt([])),n=new mr(r,e),i=new mr(r,e+1),a=[];return this.dr.forEachInRange([n,i],o=>{this.Vr(o),a.push(o.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new Ve(new Nt([])),n=new mr(r,e),i=new mr(r,e+1);let a=rt();return this.dr.forEachInRange([n,i],o=>{a=a.add(o.key)}),a}containsKey(e){const r=new mr(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class mr{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return Ve.comparator(e.key,r.key)||ut(e.wr,r.wr)}static Ar(e,r){return ut(e.wr,r.wr)||Ve.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UB{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new Ar(mr.Er)}checkEmpty(e){return we.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new oB(a,r,n,i);this.mutationQueue.push(o);for(const u of i)this.br=this.br.add(new mr(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return we.resolve(o)}lookupMutationBatch(e,r){return we.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.vr(n),a=i<0?0:i;return we.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return we.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return we.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new mr(r,0),i=new mr(r,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([n,i],o=>{const u=this.Dr(o.wr);a.push(u)}),we.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Ar(ut);return r.forEach(i=>{const a=new mr(i,0),o=new mr(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,o],u=>{n=n.add(u.wr)})}),we.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;Ve.isDocumentKey(a)||(a=a.child(""));const o=new mr(new Ve(a),0);let u=new Ar(ut);return this.br.forEachWhile(d=>{const f=d.key.path;return!!n.isPrefixOf(f)&&(f.length===i&&(u=u.add(d.wr)),!0)},o),we.resolve(this.Cr(u))}Cr(e){const r=[];return e.forEach(n=>{const i=this.Dr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){vt(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return we.forEach(r.mutations,i=>{const a=new mr(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new mr(r,0),i=this.br.firstAfterOrEqual(n);return we.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,we.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BB{constructor(e){this.Mr=e,this.docs=function(){return new Lt(Ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,o=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return we.resolve(n?n.document.mutableCopy():Vr.newInvalidDocument(r))}getEntries(e,r){let n=Da();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():Vr.newInvalidDocument(i))}),we.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=Da();const o=r.path,u=new Ve(o.child("")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:f,value:{document:p}}=d.getNext();if(!o.isPrefixOf(f.path))break;f.path.length>o.length+1||jU(kU(p),n)<=0||(i.has(p.key)||Hm(r,p))&&(a=a.insert(p.key,p.mutableCopy()))}return we.resolve(a)}getAllFromCollectionGroup(e,r,n,i){Ke()}Or(e,r){return we.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new qB(this)}getSize(e){return we.resolve(this.size)}}class qB extends MB{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)}),we.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zB{constructor(e){this.persistence=e,this.Nr=new Uc(r=>Y1(r),X1),this.lastRemoteSnapshotVersion=Ye.min(),this.highestTargetId=0,this.Lr=0,this.Br=new nS,this.targetCount=0,this.kr=dc.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,i)=>r(i)),we.resolve()}getLastRemoteSnapshotVersion(e){return we.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return we.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),we.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),we.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new dc(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,we.resolve()}updateTargetData(e,r){return this.Kn(r),we.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,we.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.Nr.forEach((o,u)=>{u.sequenceNumber<=r&&n.get(u.targetId)===null&&(this.Nr.delete(o),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),we.waitFor(a).next(()=>i)}getTargetCount(e){return we.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return we.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),we.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(o=>{a.push(i.markPotentiallyOrphaned(e,o))}),we.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),we.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return we.resolve(n)}containsKey(e,r){return we.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WB{constructor(e,r){this.qr={},this.overlays={},this.Qr=new W1(0),this.Kr=!1,this.Kr=!0,this.$r=new FB,this.referenceDelegate=e(this),this.Ur=new zB(this),this.indexManager=new CB,this.remoteDocumentCache=function(i){return new BB(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new IB(r),this.Gr=new $B(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new VB,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new UB(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){Me("MemoryPersistence","Starting transaction:",e);const i=new HB(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(a=>this.referenceDelegate.jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Hr(e,r){return we.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class HB extends TU{constructor(e){super(),this.currentSequenceNumber=e}}class iS{constructor(e){this.persistence=e,this.Jr=new nS,this.Yr=null}static Zr(e){return new iS(e)}get Xr(){if(this.Yr)return this.Yr;throw Ke()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),we.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),we.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),we.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(a=>this.Xr.add(a.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return we.forEach(this.Xr,n=>{const i=Ve.fromPath(n);return this.ei(e,i).next(a=>{a||r.removeEntry(i,Ye.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return we.or([()=>we.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(e,r){let n=rt(),i=rt();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new aS(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KB{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return $$()?8:AU(Br())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.Yi(e,r).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.Zi(e,r,i,n).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new GB;return this.Xi(e,r,o).next(u=>{if(a.result=u,this.zi)return this.es(e,r,o,u.size)})}).next(()=>a.result)}es(e,r,n,i){return n.documentReadCount<this.ji?(Ru()<=it.DEBUG&&Me("QueryEngine","SDK will not create cache indexes for query:",Wl(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),we.resolve()):(Ru()<=it.DEBUG&&Me("QueryEngine","Query:",Wl(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(Ru()<=it.DEBUG&&Me("QueryEngine","The SDK decides to create cache indexes for query:",Wl(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wi(r))):we.resolve())}Yi(e,r){if(RT(r))return we.resolve(null);let n=Wi(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=Zw(r,null,"F"),n=Wi(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const o=rt(...a);return this.Ji.getDocuments(e,o).next(u=>this.indexManager.getMinOffset(e,n).next(d=>{const f=this.ts(r,u);return this.ns(r,f,o,d.readTime)?this.Yi(e,Zw(r,null,"F")):this.rs(e,f,r,d)}))})))}Zi(e,r,n,i){return RT(r)||i.isEqual(Ye.min())?we.resolve(null):this.Ji.getDocuments(e,n).next(a=>{const o=this.ts(r,a);return this.ns(r,o,n,i)?we.resolve(null):(Ru()<=it.DEBUG&&Me("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Wl(r)),this.rs(e,o,r,SU(i,-1)).next(u=>u))})}ts(e,r){let n=new Ar(OM(e));return r.forEach((i,a)=>{Hm(e,a)&&(n=n.add(a))}),n}ns(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(e,r,n){return Ru()<=it.DEBUG&&Me("QueryEngine","Using full collection scan to execute query:",Wl(r)),this.Ji.getDocumentsMatchingQuery(e,r,Ls.min(),n)}rs(e,r,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next(a=>(r.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YB{constructor(e,r,n,i){this.persistence=e,this.ss=r,this.serializer=i,this.os=new Lt(ut),this._s=new Uc(a=>Y1(a),X1),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LB(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function XB(t,e,r,n){return new YB(t,e,r,n)}async function ZM(t,e){const r=Xe(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const o=[],u=[];let d=rt();for(const f of i){o.push(f.batchId);for(const p of f.mutations)d=d.add(p.key)}for(const f of a){u.push(f.batchId);for(const p of f.mutations)d=d.add(p.key)}return r.localDocuments.getDocuments(n,d).next(f=>({hs:f,removedBatchIds:o,addedBatchIds:u}))})})}function QB(t,e){const r=Xe(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),a=r.cs.newChangeBuffer({trackRemovals:!0});return function(u,d,f,p){const m=f.batch,y=m.keys();let x=we.resolve();return y.forEach(S=>{x=x.next(()=>p.getEntry(d,S)).next(_=>{const b=f.docVersions.get(S);vt(b!==null),_.version.compareTo(b)<0&&(m.applyToRemoteDocument(_,f),_.isValidDocument()&&(_.setReadTime(f.commitVersion),p.addEntry(_)))})}),x.next(()=>u.mutationQueue.removeMutationBatch(d,m))}(r,n,e,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(u){let d=rt();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(d=d.add(u.batch.mutations[f].key));return d}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function eD(t){const e=Xe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function JB(t,e){const r=Xe(t),n=e.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const u=[];e.targetChanges.forEach((p,m)=>{const y=i.get(m);if(!y)return;u.push(r.Ur.removeMatchingKeys(a,p.removedDocuments,m).next(()=>r.Ur.addMatchingKeys(a,p.addedDocuments,m)));let x=y.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(m)!==null?x=x.withResumeToken(Nr.EMPTY_BYTE_STRING,Ye.min()).withLastLimboFreeSnapshotVersion(Ye.min()):p.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(p.resumeToken,n)),i=i.insert(m,x),function(_,b,P){return _.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(y,x,p)&&u.push(r.Ur.updateTargetData(a,x))});let d=Da(),f=rt();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&u.push(r.persistence.referenceDelegate.updateLimboDocument(a,p))}),u.push(ZB(a,o,e.documentUpdates).next(p=>{d=p.Ps,f=p.Is})),!n.isEqual(Ye.min())){const p=r.Ur.getLastRemoteSnapshotVersion(a).next(m=>r.Ur.setTargetsMetadata(a,a.currentSequenceNumber,n));u.push(p)}return we.waitFor(u).next(()=>o.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,d,f)).next(()=>d)}).then(a=>(r.os=i,a))}function ZB(t,e,r){let n=rt(),i=rt();return r.forEach(a=>n=n.add(a)),e.getEntries(t,n).next(a=>{let o=Da();return r.forEach((u,d)=>{const f=a.get(u);d.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(u)),d.isNoDocument()&&d.version.isEqual(Ye.min())?(e.removeEntry(u,d.readTime),o=o.insert(u,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),o=o.insert(u,d)):Me("LocalStore","Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",d.version)}),{Ps:o,Is:i}})}function e9(t,e){const r=Xe(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function t9(t,e){const r=Xe(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Ur.getTargetData(n,e).next(a=>a?(i=a,we.resolve(i)):r.Ur.allocateTargetId(n).next(o=>(i=new As(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function i_(t,e,r){const n=Xe(t),i=n.os.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,o=>n.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!df(o))throw o;Me("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function WT(t,e,r){const n=Xe(t);let i=Ye.min(),a=rt();return n.persistence.runTransaction("Execute query","readwrite",o=>function(d,f,p){const m=Xe(d),y=m._s.get(p);return y!==void 0?we.resolve(m.os.get(y)):m.Ur.getTargetData(f,p)}(n,o,Wi(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(o,u.targetId).next(d=>{a=d})}).next(()=>n.ss.getDocumentsMatchingQuery(o,e,r?i:Ye.min(),r?a:rt())).next(u=>(r9(n,HU(e),u),{documents:u,Ts:a})))}function r9(t,e,r){let n=t.us.get(e)||Ye.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),t.us.set(e,n)}class HT{constructor(){this.activeTargetIds=JU()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class n9{constructor(){this.so=new HT,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new HT,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Me("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Me("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gh=null;function Iv(){return Gh===null?Gh=function(){return 268435456+Math.round(2147483648*Math.random())}():Gh++,"0x"+Gh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr="WebChannelConnection";class o9 extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(r,n,i,a,o){const u=Iv(),d=this.xo(r,n.toUriEncodedString());Me("RestConnection",`Sending RPC '${r}' ${u}:`,d,i);const f={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(f,a,o),this.No(r,d,f,i).then(p=>(Me("RestConnection",`Received RPC '${r}' ${u}: `,p),p),p=>{throw oc("RestConnection",`RPC '${r}' ${u} failed with error: `,p,"url: ",d,"request:",i),p})}Lo(r,n,i,a,o,u){return this.Mo(r,n,i,a,o)}Oo(r,n,i){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Fc}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,o)=>r[o]=a),i&&i.headers.forEach((a,o)=>r[o]=a)}xo(r,n){const i=a9[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,i){const a=Iv();return new Promise((o,u)=>{const d=new pM;d.setWithCredentials(!0),d.listenOnce(mM.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case mp.NO_ERROR:const p=d.getResponseJson();Me(Dr,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),o(p);break;case mp.TIMEOUT:Me(Dr,`RPC '${e}' ${a} timed out`),u(new Ce(ve.DEADLINE_EXCEEDED,"Request time out"));break;case mp.HTTP_ERROR:const m=d.getStatus();if(Me(Dr,`RPC '${e}' ${a} failed with status:`,m,"response text:",d.getResponseText()),m>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);const x=y?.error;if(x&&x.status&&x.message){const S=function(b){const P=b.toLowerCase().replace(/_/g,"-");return Object.values(ve).indexOf(P)>=0?P:ve.UNKNOWN}(x.status);u(new Ce(S,x.message))}else u(new Ce(ve.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new Ce(ve.UNAVAILABLE,"Connection failed."));break;default:Ke()}}finally{Me(Dr,`RPC '${e}' ${a} completed.`)}});const f=JSON.stringify(i);Me(Dr,`RPC '${e}' ${a} sending request:`,i),d.send(r,"POST",f,n,15)})}Bo(e,r,n){const i=Iv(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=yM(),u=vM(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Oo(d.initMessageHeaders,r,n),d.encodeInitMessageHeaders=!0;const p=a.join("");Me(Dr,`Creating RPC '${e}' stream ${i}: ${p}`,d);const m=o.createWebChannel(p,d);let y=!1,x=!1;const S=new s9({Io:b=>{x?Me(Dr,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(y||(Me(Dr,`Opening RPC '${e}' stream ${i} transport.`),m.open(),y=!0),Me(Dr,`RPC '${e}' stream ${i} sending:`,b),m.send(b))},To:()=>m.close()}),_=(b,P,A)=>{b.listen(P,I=>{try{A(I)}catch(R){setTimeout(()=>{throw R},0)}})};return _(m,Gu.EventType.OPEN,()=>{x||(Me(Dr,`RPC '${e}' stream ${i} transport opened.`),S.yo())}),_(m,Gu.EventType.CLOSE,()=>{x||(x=!0,Me(Dr,`RPC '${e}' stream ${i} transport closed`),S.So())}),_(m,Gu.EventType.ERROR,b=>{x||(x=!0,oc(Dr,`RPC '${e}' stream ${i} transport errored:`,b),S.So(new Ce(ve.UNAVAILABLE,"The operation could not be completed")))}),_(m,Gu.EventType.MESSAGE,b=>{var P;if(!x){const A=b.data[0];vt(!!A);const I=A,R=I.error||((P=I[0])===null||P===void 0?void 0:P.error);if(R){Me(Dr,`RPC '${e}' stream ${i} received error:`,R);const E=R.status;let N=function(L){const C=Gt[L];if(C!==void 0)return qM(C)}(E),T=R.message;N===void 0&&(N=ve.INTERNAL,T="Unknown error status: "+E+" with message "+R.message),x=!0,S.So(new Ce(N,T)),m.close()}else Me(Dr,`RPC '${e}' stream ${i} received:`,A),S.bo(A)}}),_(u,gM.STAT_EVENT,b=>{b.stat===Gw.PROXY?Me(Dr,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===Gw.NOPROXY&&Me(Dr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.wo()},0),S}}function Ov(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(t){return new vB(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e,r,n=1e3,i=1.5,a=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&Me("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e,r,n,i,a,o,u,d){this.ui=e,this.Ho=n,this.Jo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new tD(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===ve.RESOURCE_EXHAUSTED?(Ma(r.toString()),Ma("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===ve.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===r&&this.P_(n,i)},n=>{e(()=>{const i=new Ce(ve.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Me("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(Me("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class l9 extends rD{constructor(e,r,n,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=bB(this.serializer,e),n=function(a){if(!("targetChange"in a))return Ye.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?Ye.min():o.readTime?Hi(o.readTime):Ye.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=n_(this.serializer),r.addTarget=function(a,o){let u;const d=o.target;if(u=Qw(d)?{documents:SB(a,d)}:{query:kB(a,d)._t},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){u.resumeToken=HM(a,o.resumeToken);const f=e_(a,o.expectedCount);f!==null&&(u.expectedCount=f)}else if(o.snapshotVersion.compareTo(Ye.min())>0){u.readTime=Mp(a,o.snapshotVersion.toTimestamp());const f=e_(a,o.expectedCount);f!==null&&(u.expectedCount=f)}return u}(this.serializer,e);const n=EB(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=n_(this.serializer),r.removeTarget=e,this.a_(r)}}class c9 extends rD{constructor(e,r,n,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return vt(!!e.streamToken),this.lastStreamToken=e.streamToken,vt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){vt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=_B(e.writeResults,e.commitTime),n=Hi(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=n_(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>wB(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9 extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Ce(ve.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Mo(e,t_(r,n),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ce(ve.UNKNOWN,a.toString())})}Lo(e,r,n,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Lo(e,t_(r,n),i,o,u,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ce(ve.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class d9{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ma(r),this.D_=!1):Me("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f9{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(o=>{n.enqueueAndForget(async()=>{el(this)&&(Me("RemoteStore","Restarting streams for network reachability change."),await async function(d){const f=Xe(d);f.L_.add(4),await mf(f),f.q_.set("Unknown"),f.L_.delete(4),await Qm(f)}(this))})}),this.q_=new d9(n,i)}}async function Qm(t){if(el(t))for(const e of t.B_)await e(!0)}async function mf(t){for(const e of t.B_)await e(!1)}function nD(t,e){const r=Xe(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),cS(r)?lS(r):Bc(r).r_()&&oS(r,e))}function sS(t,e){const r=Xe(t),n=Bc(r);r.N_.delete(e),n.r_()&&iD(r,e),r.N_.size===0&&(n.r_()?n.o_():el(r)&&r.q_.set("Unknown"))}function oS(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ye.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Bc(t).A_(e)}function iD(t,e){t.Q_.xe(e),Bc(t).R_(e)}function lS(t){t.Q_=new hB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Bc(t).start(),t.q_.v_()}function cS(t){return el(t)&&!Bc(t).n_()&&t.N_.size>0}function el(t){return Xe(t).L_.size===0}function aD(t){t.Q_=void 0}async function h9(t){t.q_.set("Online")}async function p9(t){t.N_.forEach((e,r)=>{oS(t,e)})}async function m9(t,e){aD(t),cS(t)?(t.q_.M_(e),lS(t)):t.q_.set("Unknown")}async function g9(t,e,r){if(t.q_.set("Online"),e instanceof WM&&e.state===2&&e.cause)try{await async function(i,a){const o=a.cause;for(const u of a.targetIds)i.N_.has(u)&&(await i.remoteSyncer.rejectListen(u,o),i.N_.delete(u),i.Q_.removeTarget(u))}(t,e)}catch(n){Me("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Dp(t,n)}else if(e instanceof yp?t.Q_.Ke(e):e instanceof zM?t.Q_.He(e):t.Q_.We(e),!r.isEqual(Ye.min()))try{const n=await eD(t.localStore);r.compareTo(n)>=0&&await function(a,o){const u=a.Q_.rt(o);return u.targetChanges.forEach((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const p=a.N_.get(f);p&&a.N_.set(f,p.withResumeToken(d.resumeToken,o))}}),u.targetMismatches.forEach((d,f)=>{const p=a.N_.get(d);if(!p)return;a.N_.set(d,p.withResumeToken(Nr.EMPTY_BYTE_STRING,p.snapshotVersion)),iD(a,d);const m=new As(p.target,d,f,p.sequenceNumber);oS(a,m)}),a.remoteSyncer.applyRemoteEvent(u)}(t,r)}catch(n){Me("RemoteStore","Failed to raise snapshot:",n),await Dp(t,n)}}async function Dp(t,e,r){if(!df(e))throw e;t.L_.add(1),await mf(t),t.q_.set("Offline"),r||(r=()=>eD(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Me("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await Qm(t)})}function sD(t,e){return e().catch(r=>Dp(t,r,e))}async function Jm(t){const e=Xe(t),r=Vs(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;v9(e);)try{const i=await e9(e.localStore,n);if(i===null){e.O_.length===0&&r.o_();break}n=i.batchId,y9(e,i)}catch(i){await Dp(e,i)}oD(e)&&lD(e)}function v9(t){return el(t)&&t.O_.length<10}function y9(t,e){t.O_.push(e);const r=Vs(t);r.r_()&&r.V_&&r.m_(e.mutations)}function oD(t){return el(t)&&!Vs(t).n_()&&t.O_.length>0}function lD(t){Vs(t).start()}async function x9(t){Vs(t).p_()}async function b9(t){const e=Vs(t);for(const r of t.O_)e.m_(r.mutations)}async function w9(t,e,r){const n=t.O_.shift(),i=eS.from(n,e,r);await sD(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Jm(t)}async function _9(t,e){e&&Vs(t).V_&&await async function(n,i){if(function(o){return uB(o)&&o!==ve.ABORTED}(i.code)){const a=n.O_.shift();Vs(n).s_(),await sD(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Jm(n)}}(t,e),oD(t)&&lD(t)}async function KT(t,e){const r=Xe(t);r.asyncQueue.verifyOperationInProgress(),Me("RemoteStore","RemoteStore received new credentials");const n=el(r);r.L_.add(3),await mf(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await Qm(r)}async function S9(t,e){const r=Xe(t);e?(r.L_.delete(2),await Qm(r)):e||(r.L_.add(2),await mf(r),r.q_.set("Unknown"))}function Bc(t){return t.K_||(t.K_=function(r,n,i){const a=Xe(r);return a.w_(),new l9(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:h9.bind(null,t),Ro:p9.bind(null,t),mo:m9.bind(null,t),d_:g9.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),cS(t)?lS(t):t.q_.set("Unknown")):(await t.K_.stop(),aD(t))})),t.K_}function Vs(t){return t.U_||(t.U_=function(r,n,i){const a=Xe(r);return a.w_(),new c9(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:x9.bind(null,t),mo:_9.bind(null,t),f_:b9.bind(null,t),g_:w9.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Jm(t)):(await t.U_.stop(),t.O_.length>0&&(Me("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new Mo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const o=Date.now()+n,u=new uS(e,r,o,i,a);return u.start(n),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ce(ve.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dS(t,e){if(Ma("AsyncQueue",`${e}: ${t}`),df(t))return new Ce(ve.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e){this.comparator=e?(r,n)=>e(r,n)||Ve.comparator(r.key,n.key):(r,n)=>Ve.comparator(r.key,n.key),this.keyedMap=Ku(),this.sortedSet=new Lt(this.comparator)}static emptySet(e){return new nc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof nc)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new nc;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(){this.W_=new Lt(Ve.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):Ke():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class fc{constructor(e,r,n,i,a,o,u,d,f){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,r,n,i,a){const o=[];return r.forEach(u=>{o.push({type:0,doc:u})}),new fc(e,r,nc.emptySet(r),o,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class j9{constructor(){this.queries=XT(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=Xe(r),a=i.queries;i.queries=XT(),a.forEach((o,u)=>{for(const d of u.j_)d.onError(n)})})(this,new Ce(ve.ABORTED,"Firestore shutting down"))}}function XT(){return new Uc(t=>IM(t),Wm)}async function E9(t,e){const r=Xe(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.H_()&&e.J_()&&(n=2):(a=new k9,n=e.J_()?0:1);try{switch(n){case 0:a.z_=await r.onListen(i,!0);break;case 1:a.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(o){const u=dS(o,`Initialization of query '${Wl(e.query)}' failed`);return void e.onError(u)}r.queries.set(i,a),a.j_.push(e),e.Z_(r.onlineState),a.z_&&e.X_(a.z_)&&fS(r)}async function T9(t,e){const r=Xe(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const o=a.j_.indexOf(e);o>=0&&(a.j_.splice(o,1),a.j_.length===0?i=e.J_()?0:1:!a.H_()&&e.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function A9(t,e){const r=Xe(t);let n=!1;for(const i of e){const a=i.query,o=r.queries.get(a);if(o){for(const u of o.j_)u.X_(i)&&(n=!0);o.z_=i}}n&&fS(r)}function N9(t,e,r){const n=Xe(t),i=n.queries.get(e);if(i)for(const a of i.j_)a.onError(r);n.queries.delete(e)}function fS(t){t.Y_.forEach(e=>{e.next()})}var a_,QT;(QT=a_||(a_={})).ea="default",QT.Cache="cache";class P9{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new fc(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=fc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==a_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e){this.key=e}}class uD{constructor(e){this.key=e}}class I9{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=rt(),this.mutatedKeys=rt(),this.Aa=OM(e),this.Ra=new nc(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new YT,i=r?r.Ra:this.Ra;let a=r?r.mutatedKeys:this.mutatedKeys,o=i,u=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,m)=>{const y=i.get(p),x=Hm(this.query,m)?m:null,S=!!y&&this.mutatedKeys.has(y.key),_=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let b=!1;y&&x?y.data.isEqual(x.data)?S!==_&&(n.track({type:3,doc:x}),b=!0):this.ga(y,x)||(n.track({type:2,doc:x}),b=!0,(d&&this.Aa(x,d)>0||f&&this.Aa(x,f)<0)&&(u=!0)):!y&&x?(n.track({type:0,doc:x}),b=!0):y&&!x&&(n.track({type:1,doc:y}),b=!0,(d||f)&&(u=!0)),b&&(x?(o=o.add(x),a=_?a.add(p):a.delete(p)):(o=o.delete(p),a=a.delete(p)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const p=this.query.limitType==="F"?o.last():o.first();o=o.delete(p.key),a=a.delete(p.key),n.track({type:1,doc:p})}return{Ra:o,fa:n,ns:u,mutatedKeys:a}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((p,m)=>function(x,S){const _=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ke()}};return _(x)-_(S)}(p.type,m.type)||this.Aa(p.doc,m.doc)),this.pa(n),i=i!=null&&i;const u=r&&!i?this.ya():[],d=this.da.size===0&&this.current&&!i?1:0,f=d!==this.Ea;return this.Ea=d,o.length!==0||f?{snapshot:new fc(this.query,e.Ra,a,o,e.mutatedKeys,d===0,f,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:u}:{wa:u}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new YT,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=rt(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new uD(n))}),this.da.forEach(n=>{e.has(n)||r.push(new cD(n))}),r}ba(e){this.Ta=e.Ts,this.da=rt();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return fc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class O9{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class C9{constructor(e){this.key=e,this.va=!1}}class R9{constructor(e,r,n,i,a,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Uc(u=>IM(u),Wm),this.Ma=new Map,this.xa=new Set,this.Oa=new Lt(Ve.comparator),this.Na=new Map,this.La=new nS,this.Ba={},this.ka=new Map,this.qa=dc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function M9(t,e,r=!0){const n=gD(t);let i;const a=n.Fa.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await dD(n,e,r,!0),i}async function D9(t,e){const r=gD(t);await dD(r,e,!0,!1)}async function dD(t,e,r,n){const i=await t9(t.localStore,Wi(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,r);let u;return n&&(u=await L9(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&r&&nD(t.remoteStore,i),u}async function L9(t,e,r,n,i){t.Ka=(m,y,x)=>async function(_,b,P,A){let I=b.view.ma(P);I.ns&&(I=await WT(_.localStore,b.query,!1).then(({documents:T})=>b.view.ma(T,I)));const R=A&&A.targetChanges.get(b.targetId),E=A&&A.targetMismatches.get(b.targetId)!=null,N=b.view.applyChanges(I,_.isPrimaryClient,R,E);return ZT(_,b.targetId,N.wa),N.snapshot}(t,m,y,x);const a=await WT(t.localStore,e,!0),o=new I9(e,a.Ts),u=o.ma(a.documents),d=pf.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),f=o.applyChanges(u,t.isPrimaryClient,d);ZT(t,r,f.wa);const p=new O9(e,r,o);return t.Fa.set(e,p),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),f.snapshot}async function $9(t,e,r){const n=Xe(t),i=n.Fa.get(e),a=n.Ma.get(i.targetId);if(a.length>1)return n.Ma.set(i.targetId,a.filter(o=>!Wm(o,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await i_(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&sS(n.remoteStore,i.targetId),s_(n,i.targetId)}).catch(uf)):(s_(n,i.targetId),await i_(n.localStore,i.targetId,!0))}async function V9(t,e){const r=Xe(t),n=r.Fa.get(e),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),sS(r.remoteStore,n.targetId))}async function F9(t,e,r){const n=G9(t);try{const i=await function(o,u){const d=Xe(o),f=sr.now(),p=u.reduce((x,S)=>x.add(S.key),rt());let m,y;return d.persistence.runTransaction("Locally write mutations","readwrite",x=>{let S=Da(),_=rt();return d.cs.getEntries(x,p).next(b=>{S=b,S.forEach((P,A)=>{A.isValidDocument()||(_=_.add(P))})}).next(()=>d.localDocuments.getOverlayedDocuments(x,S)).next(b=>{m=b;const P=[];for(const A of u){const I=aB(A,m.get(A.key).overlayedDocument);I!=null&&P.push(new Bs(A.key,I,SM(I.value.mapValue),Zn.exists(!0)))}return d.mutationQueue.addMutationBatch(x,f,P,u)}).next(b=>{y=b;const P=b.applyToLocalDocumentSet(m,_);return d.documentOverlayCache.saveOverlays(x,b.batchId,P)})}).then(()=>({batchId:y.batchId,changes:RM(m)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(o,u,d){let f=o.Ba[o.currentUser.toKey()];f||(f=new Lt(ut)),f=f.insert(u,d),o.Ba[o.currentUser.toKey()]=f}(n,i.batchId,r),await gf(n,i.changes),await Jm(n.remoteStore)}catch(i){const a=dS(i,"Failed to persist write");r.reject(a)}}async function fD(t,e){const r=Xe(t);try{const n=await JB(r.localStore,e);e.targetChanges.forEach((i,a)=>{const o=r.Na.get(a);o&&(vt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?vt(o.va):i.removedDocuments.size>0&&(vt(o.va),o.va=!1))}),await gf(r,n,e)}catch(n){await uf(n)}}function JT(t,e,r){const n=Xe(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach((a,o)=>{const u=o.view.Z_(e);u.snapshot&&i.push(u.snapshot)}),function(o,u){const d=Xe(o);d.onlineState=u;let f=!1;d.queries.forEach((p,m)=>{for(const y of m.j_)y.Z_(u)&&(f=!0)}),f&&fS(d)}(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function U9(t,e,r){const n=Xe(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Na.get(e),a=i&&i.key;if(a){let o=new Lt(Ve.comparator);o=o.insert(a,Vr.newNoDocument(a,Ye.min()));const u=rt().add(a),d=new Ym(Ye.min(),new Map,new Lt(ut),o,u);await fD(n,d),n.Oa=n.Oa.remove(a),n.Na.delete(e),hS(n)}else await i_(n.localStore,e,!1).then(()=>s_(n,e,r)).catch(uf)}async function B9(t,e){const r=Xe(t),n=e.batch.batchId;try{const i=await QB(r.localStore,e);pD(r,n,null),hD(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await gf(r,i)}catch(i){await uf(i)}}async function q9(t,e,r){const n=Xe(t);try{const i=await function(o,u){const d=Xe(o);return d.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let p;return d.mutationQueue.lookupMutationBatch(f,u).next(m=>(vt(m!==null),p=m.keys(),d.mutationQueue.removeMutationBatch(f,m))).next(()=>d.mutationQueue.performConsistencyCheck(f)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(f,p,u)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p)).next(()=>d.localDocuments.getDocuments(f,p))})}(n.localStore,e);pD(n,e,r),hD(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await gf(n,i)}catch(i){await uf(i)}}function hD(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function pD(t,e,r){const n=Xe(t);let i=n.Ba[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function s_(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||mD(t,n)})}function mD(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(sS(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),hS(t))}function ZT(t,e,r){for(const n of r)n instanceof cD?(t.La.addReference(n.key,e),z9(t,n)):n instanceof uD?(Me("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||mD(t,n.key)):Ke()}function z9(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(Me("SyncEngine","New document in limbo: "+r),t.xa.add(n),hS(t))}function hS(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new Ve(Nt.fromString(e)),n=t.qa.next();t.Na.set(n,new C9(r)),t.Oa=t.Oa.insert(r,n),nD(t.remoteStore,new As(Wi(Q1(r.path)),n,"TargetPurposeLimboResolution",W1.oe))}}async function gf(t,e,r){const n=Xe(t),i=[],a=[],o=[];n.Fa.isEmpty()||(n.Fa.forEach((u,d)=>{o.push(n.Ka(d,e,r).then(f=>{var p;if((f||r)&&n.isPrimaryClient){const m=f?!f.fromCache:(p=r?.targetChanges.get(d.targetId))===null||p===void 0?void 0:p.current;n.sharedClientState.updateQueryState(d.targetId,m?"current":"not-current")}if(f){i.push(f);const m=aS.Wi(d.targetId,f);a.push(m)}}))}),await Promise.all(o),n.Ca.d_(i),await async function(d,f){const p=Xe(d);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>we.forEach(f,y=>we.forEach(y.$i,x=>p.persistence.referenceDelegate.addReference(m,y.targetId,x)).next(()=>we.forEach(y.Ui,x=>p.persistence.referenceDelegate.removeReference(m,y.targetId,x)))))}catch(m){if(!df(m))throw m;Me("LocalStore","Failed to update sequence numbers: "+m)}for(const m of f){const y=m.targetId;if(!m.fromCache){const x=p.os.get(y),S=x.snapshotVersion,_=x.withLastLimboFreeSnapshotVersion(S);p.os=p.os.insert(y,_)}}}(n.localStore,a))}async function W9(t,e){const r=Xe(t);if(!r.currentUser.isEqual(e)){Me("SyncEngine","User change. New user:",e.toKey());const n=await ZM(r.localStore,e);r.currentUser=e,function(a,o){a.ka.forEach(u=>{u.forEach(d=>{d.reject(new Ce(ve.CANCELLED,o))})}),a.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await gf(r,n.hs)}}function H9(t,e){const r=Xe(t),n=r.Na.get(e);if(n&&n.va)return rt().add(n.key);{let i=rt();const a=r.Ma.get(e);if(!a)return i;for(const o of a){const u=r.Fa.get(o);i=i.unionWith(u.view.Va)}return i}}function gD(t){const e=Xe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=fD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=H9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=U9.bind(null,e),e.Ca.d_=A9.bind(null,e.eventManager),e.Ca.$a=N9.bind(null,e.eventManager),e}function G9(t){const e=Xe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=B9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=q9.bind(null,e),e}class Lp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Xm(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return XB(this.persistence,new KB,e.initialUser,this.serializer)}Ga(e){return new WB(iS.Zr,this.serializer)}Wa(e){return new n9}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lp.provider={build:()=>new Lp};class o_{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>JT(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=W9.bind(null,this.syncEngine),await S9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new j9}()}createDatastore(e){const r=Xm(e.databaseInfo.databaseId),n=function(a){return new o9(a)}(e.databaseInfo);return function(a,o,u,d){return new u9(a,o,u,d)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,a,o,u){return new f9(n,i,a,o,u)}(this.localStore,this.datastore,e.asyncQueue,r=>JT(this.syncEngine,r,0),function(){return GT.D()?new GT:new i9}())}createSyncEngine(e,r){return function(i,a,o,u,d,f,p){const m=new R9(i,a,o,u,d,f);return p&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const a=Xe(i);Me("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await mf(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}o_.provider={build:()=>new o_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K9{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ma("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=$r.UNAUTHENTICATED,this.clientId=bM.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async o=>{Me("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(Me("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=dS(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Cv(t,e){t.asyncQueue.verifyOperationInProgress(),Me("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await ZM(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function eA(t,e){t.asyncQueue.verifyOperationInProgress();const r=await X9(t);Me("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>KT(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>KT(e.remoteStore,i)),t._onlineComponents=e}async function X9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Me("FirestoreClient","Using user provided OfflineComponentProvider");try{await Cv(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===ve.FAILED_PRECONDITION||i.code===ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;oc("Error using user provided cache. Falling back to memory cache: "+r),await Cv(t,new Lp)}}else Me("FirestoreClient","Using default OfflineComponentProvider"),await Cv(t,new Lp);return t._offlineComponents}async function vD(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Me("FirestoreClient","Using user provided OnlineComponentProvider"),await eA(t,t._uninitializedComponentsProvider._online)):(Me("FirestoreClient","Using default OnlineComponentProvider"),await eA(t,new o_))),t._onlineComponents}function Q9(t){return vD(t).then(e=>e.syncEngine)}async function tA(t){const e=await vD(t),r=e.eventManager;return r.onListen=M9.bind(null,e.syncEngine),r.onUnlisten=$9.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=D9.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=V9.bind(null,e.syncEngine),r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(t,e,r){if(!r)throw new Ce(ve.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function J9(t,e,r,n){if(e===!0&&n===!0)throw new Ce(ve.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function nA(t){if(!Ve.isDocumentKey(t))throw new Ce(ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function iA(t){if(Ve.isDocumentKey(t))throw new Ce(ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Zm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ke()}function Gi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ce(ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Zm(t);throw new Ce(ve.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Ce(ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ce(ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}J9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yD((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ce(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ce(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ce(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class eg{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aA({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ce(ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ce(ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aA(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new pU;switch(n.type){case"firstParty":return new yU(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ce(ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=rA.get(r);n&&(Me("ComponentProvider","Removing Datastore"),rA.delete(r),n.terminate())}(this),Promise.resolve()}}function Z9(t,e,r,n={}){var i;const a=(t=Gi(t,eg))._getSettings(),o=`${e}:${r}`;if(a.host!=="firestore.googleapis.com"&&a.host!==o&&oc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),n.mockUserToken){let u,d;if(typeof n.mockUserToken=="string")u=n.mockUserToken,d=$r.MOCK_USER;else{u=ER(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=n.mockUserToken.sub||n.mockUserToken.user_id;if(!f)throw new Ce(ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new $r(f)}t._authCredentials=new mU(new xM(u,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new qc(this.firestore,e,this._query)}}class Jr{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Os(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jr(this.firestore,e,this._key)}}class Os extends qc{constructor(e,r,n){super(e,r,Q1(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jr(this.firestore,null,new Ve(e))}withConverter(e){return new Os(this.firestore,e,this._path)}}function Kh(t,e,...r){if(t=or(t),xD("collection","path",e),t instanceof eg){const n=Nt.fromString(e,...r);return iA(n),new Os(t,null,n)}{if(!(t instanceof Jr||t instanceof Os))throw new Ce(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Nt.fromString(e,...r));return iA(n),new Os(t.firestore,null,n)}}function $i(t,e,...r){if(t=or(t),arguments.length===1&&(e=bM.newId()),xD("doc","path",e),t instanceof eg){const n=Nt.fromString(e,...r);return nA(n),new Jr(t,null,new Ve(n))}{if(!(t instanceof Jr||t instanceof Os))throw new Ce(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Nt.fromString(e,...r));return nA(n),new Jr(t.firestore,t instanceof Os?t.converter:null,new Ve(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new tD(this,"async_queue_retry"),this.Vu=()=>{const n=Ov();n&&Me("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=Ov();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=Ov();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new Mo;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!df(e))throw e;Me("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const i=function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),u}(n);throw Ma("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const i=uS.createAndSchedule(this,e,r,n,a=>this.yu(a));return this.Tu.push(i),i}fu(){this.Eu&&Ke()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function oA(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class zo extends eg{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new sA,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new sA(e),this._firestoreClient=void 0,await e}}}function e8(t,e){const r=typeof t=="object"?t:R1(),n=typeof t=="string"?t:"(default)",i=Fm(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=SR("firestore");a&&Z9(i,...a)}return i}function bD(t){if(t._terminated)throw new Ce(ve.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||t8(t),t._firestoreClient}function t8(t){var e,r,n;const i=t._freezeSettings(),a=function(u,d,f,p){return new IU(u,d,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,yD(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Y9(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(u){const d=u?._online.build();return{_offline:u?._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hc(Nr.fromBase64String(e))}catch(r){throw new Ce(ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new hc(Nr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Ce(ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Ce(ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Ce(ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ut(this._lat,e._lat)||ut(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r8=/^__.*__$/;class n8{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Bs(e,this.data,this.fieldMask,r,this.fieldTransforms):new hf(e,this.data,r,this.fieldTransforms)}}class wD{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new Bs(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function _D(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ke()}}class vS{constructor(e,r,n,i,a,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new vS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return $p(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(_D(this.Cu)&&r8.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class i8{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||Xm(e)}Qu(e,r,n,i=!1){return new vS({Cu:e,methodName:r,qu:n,path:Tr.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rg(t){const e=t._freezeSettings(),r=Xm(t._databaseId);return new i8(t._databaseId,!!e.ignoreUndefinedProperties,r)}function SD(t,e,r,n,i,a={}){const o=t.Qu(a.merge||a.mergeFields?2:0,e,r,i);yS("Data must be an object, but it was:",o,n);const u=kD(n,o);let d,f;if(a.merge)d=new On(o.fieldMask),f=o.fieldTransforms;else if(a.mergeFields){const p=[];for(const m of a.mergeFields){const y=l_(e,m,r);if(!o.contains(y))throw new Ce(ve.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);ED(p,y)||p.push(y)}d=new On(p),f=o.fieldTransforms.filter(m=>d.covers(m.field))}else d=null,f=o.fieldTransforms;return new n8(new fn(u),d,f)}class ng extends pS{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ng}}function a8(t,e,r,n){const i=t.Qu(1,e,r);yS("Data must be an object, but it was:",i,n);const a=[],o=fn.empty();Zo(n,(d,f)=>{const p=xS(e,d,r);f=or(f);const m=i.Nu(p);if(f instanceof ng)a.push(p);else{const y=vf(f,m);y!=null&&(a.push(p),o.set(p,y))}});const u=new On(a);return new wD(o,u,i.fieldTransforms)}function s8(t,e,r,n,i,a){const o=t.Qu(1,e,r),u=[l_(e,n,r)],d=[i];if(a.length%2!=0)throw new Ce(ve.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<a.length;y+=2)u.push(l_(e,a[y])),d.push(a[y+1]);const f=[],p=fn.empty();for(let y=u.length-1;y>=0;--y)if(!ED(f,u[y])){const x=u[y];let S=d[y];S=or(S);const _=o.Nu(x);if(S instanceof ng)f.push(x);else{const b=vf(S,_);b!=null&&(f.push(x),p.set(x,b))}}const m=new On(f);return new wD(p,m,o.fieldTransforms)}function o8(t,e,r,n=!1){return vf(r,t.Qu(n?4:3,e))}function vf(t,e){if(jD(t=or(t)))return yS("Unsupported field value:",e,t),kD(t,e);if(t instanceof pS)return function(n,i){if(!_D(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,i){const a=[];let o=0;for(const u of n){let d=vf(u,i.Lu(o));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),o++}return{arrayValue:{values:a}}}(t,e)}return function(n,i){if((n=or(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return ZU(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=sr.fromDate(n);return{timestampValue:Mp(i.serializer,a)}}if(n instanceof sr){const a=new sr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Mp(i.serializer,a)}}if(n instanceof mS)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof hc)return{bytesValue:HM(i.serializer,n._byteString)};if(n instanceof Jr){const a=i.databaseId,o=n.firestore._databaseId;if(!o.isEqual(a))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:rS(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof gS)return function(o,u){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw u.Bu("VectorValues must only contain numeric values.");return J1(u.serializer,d)})}}}}}}(n,i);throw i.Bu(`Unsupported field value: ${Zm(n)}`)}(t,e)}function kD(t,e){const r={};return wM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zo(t,(n,i)=>{const a=vf(i,e.Mu(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function jD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof sr||t instanceof mS||t instanceof hc||t instanceof Jr||t instanceof pS||t instanceof gS)}function yS(t,e,r){if(!jD(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=Zm(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function l_(t,e,r){if((e=or(e))instanceof tg)return e._internalPath;if(typeof e=="string")return xS(t,e);throw $p("Field path arguments must be of type string or ",t,!1,void 0,r)}const l8=new RegExp("[~\\*/\\[\\]]");function xS(t,e,r){if(e.search(l8)>=0)throw $p(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new tg(...e.split("."))._internalPath}catch{throw $p(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function $p(t,e,r,n,i){const a=n&&!n.isEmpty(),o=i!==void 0;let u=`Function ${e}() called with invalid data`;r&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(a||o)&&(d+=" (found",a&&(d+=` in field ${n}`),o&&(d+=` in document ${i}`),d+=")"),new Ce(ve.INVALID_ARGUMENT,u+t+d)}function ED(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Jr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new c8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(AD("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class c8 extends TD{data(){return super.data()}}function AD(t,e){return typeof e=="string"?xS(t,e):e instanceof tg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u8(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ce(ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bS{}class d8 extends bS{}function f8(t,e,...r){let n=[];e instanceof bS&&n.push(e),n=n.concat(r),function(a){const o=a.filter(d=>d instanceof _S).length,u=a.filter(d=>d instanceof wS).length;if(o>1||o>0&&u>0)throw new Ce(ve.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class wS extends d8{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new wS(e,r,n)}_apply(e){const r=this._parse(e);return ND(e._query,r),new qc(e.firestore,e.converter,Jw(e._query,r))}_parse(e){const r=rg(e.firestore);return function(a,o,u,d,f,p,m){let y;if(f.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Ce(ve.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){cA(m,p);const x=[];for(const S of m)x.push(lA(d,a,S));y={arrayValue:{values:x}}}else y=lA(d,a,m)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||cA(m,p),y=o8(u,o,m,p==="in"||p==="not-in");return Yt.create(f,p,y)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}class _S extends bS{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new _S(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Si.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,a){let o=i;const u=a.getFlattenedFilters();for(const d of u)ND(o,d),o=Jw(o,d)}(e._query,r),new qc(e.firestore,e.converter,Jw(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function lA(t,e,r){if(typeof(r=or(r))=="string"){if(r==="")throw new Ce(ve.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!PM(e)&&r.indexOf("/")!==-1)throw new Ce(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Nt.fromString(r));if(!Ve.isDocumentKey(n))throw new Ce(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return AT(t,new Ve(n))}if(r instanceof Jr)return AT(t,r._key);throw new Ce(ve.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zm(r)}.`)}function cA(t,e){if(!Array.isArray(t)||t.length===0)throw new Ce(ve.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ND(t,e){const r=function(i,a){for(const o of i)for(const u of o.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new Ce(ve.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ce(ve.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class h8{convertValue(e,r="none"){switch(qo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Bo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Ke()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Zo(e,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(e){var r,n,i;const a=(i=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(o=>zt(o.doubleValue));return new gS(a)}convertGeoPoint(e){return new mS(zt(e.latitude),zt(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=G1(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(md(e));default:return null}}convertTimestamp(e){const r=$s(e);return new sr(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Nt.fromString(e);vt(JM(n));const i=new gd(n.get(1),n.get(3)),a=new Ve(n.popFirst(5));return i.isEqual(r)||Ma(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ID extends TD{constructor(e,r,n,i,a,o){super(e,r,n,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new xp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(AD("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class xp extends ID{data(e={}){return super.data(e)}}class p8{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Xu(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new xp(this._firestore,this._userDataWriter,n.key,n,new Xu(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Ce(ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(u=>{const d=new xp(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Xu(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>a||u.type!==3).map(u=>{const d=new xp(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Xu(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,p=-1;return u.type!==0&&(f=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),u.type!==1&&(o=o.add(u.doc),p=o.indexOf(u.doc.key)),{type:m8(u.type),doc:d,oldIndex:f,newIndex:p}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function m8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ke()}}class OD extends h8{constructor(e){super(),this.firestore=e}convertBytes(e){return new hc(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Jr(this.firestore,null,r)}}function g8(t,e,r){t=Gi(t,Jr);const n=Gi(t.firestore,zo),i=PD(t.converter,e,r);return ig(n,[SD(rg(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,Zn.none())])}function Mu(t,e,r,...n){t=Gi(t,Jr);const i=Gi(t.firestore,zo),a=rg(i);let o;return o=typeof(e=or(e))=="string"||e instanceof tg?s8(a,"updateDoc",t._key,e,r,n):a8(a,"updateDoc",t._key,e),ig(i,[o.toMutation(t._key,Zn.exists(!0))])}function uA(t){return ig(Gi(t.firestore,zo),[new Z1(t._key,Zn.none())])}function Rv(t,e){const r=Gi(t.firestore,zo),n=$i(t),i=PD(t.converter,e);return ig(r,[SD(rg(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,Zn.exists(!1))]).then(()=>n)}function dA(t,...e){var r,n,i;t=or(t);let a={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||oA(e[o])||(a=e[o],o++);const u={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(oA(e[o])){const m=e[o];e[o]=(r=m.next)===null||r===void 0?void 0:r.bind(m),e[o+1]=(n=m.error)===null||n===void 0?void 0:n.bind(m),e[o+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let d,f,p;if(t instanceof Jr)f=Gi(t.firestore,zo),p=Q1(t._key.path),d={next:m=>{e[o]&&e[o](v8(f,t,m))},error:e[o+1],complete:e[o+2]};else{const m=Gi(t,qc);f=Gi(m.firestore,zo),p=m._query;const y=new OD(f);d={next:x=>{e[o]&&e[o](new p8(f,y,m,x))},error:e[o+1],complete:e[o+2]},u8(t._query)}return function(y,x,S,_){const b=new K9(_),P=new P9(x,b,S);return y.asyncQueue.enqueueAndForget(async()=>E9(await tA(y),P)),()=>{b.Za(),y.asyncQueue.enqueueAndForget(async()=>T9(await tA(y),P))}}(bD(f),p,u,d)}function ig(t,e){return function(n,i){const a=new Mo;return n.asyncQueue.enqueueAndForget(async()=>F9(await Q9(n),i,a)),a.promise}(bD(t),e)}function v8(t,e,r){const n=r.docs.get(e._key),i=new OD(t);return new ID(t,i,e._key,n,new Xu(r.hasPendingWrites,r.fromCache),e.converter)}(function(e,r=!0){(function(i){Fc=i})(Qo),$o(new Ds("firestore",(n,{instanceIdentifier:i,options:a})=>{const o=n.getProvider("app").getImmediate(),u=new zo(new gU(n.getProvider("auth-internal")),new bU(n.getProvider("app-check-internal")),function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Ce(ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gd(f.options.projectId,p)}(o,i),o);return a=Object.assign({useFetchStreams:r},a),u._setSettings(a),u},"PUBLIC").setMultipleInstances(!0)),Bi(ST,"4.7.3",e),Bi(ST,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD="firebasestorage.googleapis.com",y8="storageBucket",x8=2*60*1e3,b8=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta extends ea{constructor(e,r,n=0){super(Mv(e),`Firebase Storage: ${r} (${Mv(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ta.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Mv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Qi;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Qi||(Qi={}));function Mv(t){return"storage/"+t}function w8(){const t="An unknown error occurred, please check the error payload for server response.";return new ta(Qi.UNKNOWN,t)}function _8(){return new ta(Qi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function S8(){return new ta(Qi.CANCELED,"User canceled the upload/download.")}function k8(t){return new ta(Qi.INVALID_URL,"Invalid URL '"+t+"'.")}function j8(t){return new ta(Qi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function fA(t){return new ta(Qi.INVALID_ARGUMENT,t)}function RD(){return new ta(Qi.APP_DELETED,"The Firebase app was deleted.")}function E8(t){return new ta(Qi.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=xi.makeFromUrl(e,r)}catch{return new xi(e,"")}if(n.path==="")return n;throw j8(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function a(R){R.path.charAt(R.path.length-1)==="/"&&(R.path_=R.path_.slice(0,-1))}const o="(/(.*))?$",u=new RegExp("^gs://"+i+o,"i"),d={bucket:1,path:3};function f(R){R.path_=decodeURIComponent(R.path)}const p="v[A-Za-z0-9_]+",m=r.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",x=new RegExp(`^https?://${m}/${p}/b/${i}/o${y}`,"i"),S={bucket:1,path:3},_=r===CD?"(?:storage.googleapis.com|storage.cloud.google.com)":r,b="([^?#]*)",P=new RegExp(`^https?://${_}/${i}/${b}`,"i"),I=[{regex:u,indices:d,postModify:a},{regex:x,indices:S,postModify:f},{regex:P,indices:{bucket:1,path:2},postModify:f}];for(let R=0;R<I.length;R++){const E=I[R],N=E.regex.exec(e);if(N){const T=N[E.indices.bucket];let O=N[E.indices.path];O||(O=""),n=new xi(T,O),E.postModify(n);break}}if(n==null)throw k8(e);return n}}class T8{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A8(t,e,r){let n=1,i=null,a=null,o=!1,u=0;function d(){return u===2}let f=!1;function p(...b){f||(f=!0,e.apply(null,b))}function m(b){i=setTimeout(()=>{i=null,t(x,d())},b)}function y(){a&&clearTimeout(a)}function x(b,...P){if(f){y();return}if(b){y(),p.call(null,b,...P);return}if(d()||o){y(),p.call(null,b,...P);return}n<64&&(n*=2);let I;u===1?(u=2,I=0):I=(n+Math.random())*1e3,m(I)}let S=!1;function _(b){S||(S=!0,y(),!f&&(i!==null?(b||(u=2),clearTimeout(i),m(0)):b||(u=1)))}return m(0),a=setTimeout(()=>{o=!0,_(!0)},r),_}function N8(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P8(t){return t!==void 0}function hA(t,e,r,n){if(n<e)throw fA(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw fA(`Invalid value for '${t}'. Expected ${r} or less.`)}function I8(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var Vp;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Vp||(Vp={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O8(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return r||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C8{constructor(e,r,n,i,a,o,u,d,f,p,m,y=!0){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=d,this.timeout_=f,this.progressCallback_=p,this.connectionFactory_=m,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,S)=>{this.resolve_=x,this.reject_=S,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new Yh(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=u=>{const d=u.loaded,f=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,f)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const u=a.getErrorCode()===Vp.NO_ERROR,d=a.getStatus();if(!u||O8(d,this.additionalRetryCodes_)&&this.retry){const p=a.getErrorCode()===Vp.ABORT;n(!1,new Yh(!1,null,p));return}const f=this.successCodes_.indexOf(d)!==-1;n(!0,new Yh(f,a))})},r=(n,i)=>{const a=this.resolve_,o=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const d=this.callback_(u,u.getResponse());P8(d)?a(d):a()}catch(d){o(d)}else if(u!==null){const d=w8();d.serverResponse=u.getErrorText(),this.errorCallback_?o(this.errorCallback_(u,d)):o(d)}else if(i.canceled){const d=this.appDelete_?RD():S8();o(d)}else{const d=_8();o(d)}};this.canceled_?r(!1,new Yh(!1,null,!0)):this.backoffId_=A8(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&N8(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Yh{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function R8(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function M8(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function D8(t,e){e&&(t["X-Firebase-GMPID"]=e)}function L8(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function $8(t,e,r,n,i,a,o=!0){const u=I8(t.urlParams),d=t.url+u,f=Object.assign({},t.headers);return D8(f,e),R8(f,r),M8(f,a),L8(f,n),new C8(d,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V8(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function F8(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,r){this._service=e,r instanceof xi?this._location=r:this._location=xi.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new Fp(e,r)}get root(){const e=new xi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return F8(this._location.path)}get storage(){return this._service}get parent(){const e=V8(this._location.path);if(e===null)return null;const r=new xi(this._location.bucket,e);return new Fp(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw E8(e)}}function pA(t,e){const r=e?.[y8];return r==null?null:xi.makeFromBucketSpec(r,t)}function U8(t,e,r,n={}){t.host=`${e}:${r}`,t._protocol="http";const{mockUserToken:i}=n;i&&(t._overrideAuthToken=typeof i=="string"?i:ER(i,t.app.options.projectId))}class B8{constructor(e,r,n,i,a){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=CD,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=x8,this._maxUploadRetryTime=b8,this._requests=new Set,i!=null?this._bucket=xi.makeFromBucketSpec(i,this._host):this._bucket=pA(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=xi.makeFromBucketSpec(this._url,e):this._bucket=pA(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){hA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){hA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Fp(this,e)}_makeRequest(e,r,n,i,a=!0){if(this._deleted)return new T8(RD());{const o=$8(e,this._appId,n,i,r,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const mA="@firebase/storage",gA="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD="storage";function q8(t=R1(),e){t=or(t);const n=Fm(t,MD).getImmediate({identifier:e}),i=SR("storage");return i&&z8(n,...i),n}function z8(t,e,r,n={}){U8(t,e,r,n)}function W8(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new B8(r,n,i,e,Qo)}function H8(){$o(new Ds(MD,W8,"PUBLIC").setMultipleInstances(!0)),Bi(mA,gA,""),Bi(mA,gA,"esm2017")}H8();/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G8=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),DD=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var K8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y8=B.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...u},d)=>B.createElement("svg",{ref:d,...K8,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:DD("lucide",i),...u},[...o.map(([f,p])=>B.createElement(f,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=(t,e)=>{const r=B.forwardRef(({className:n,...i},a)=>B.createElement(Y8,{ref:a,iconNode:e,className:DD(`lucide-${G8(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=De("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X8=De("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q8=De("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J8=De("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=De("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z8=De("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eq=De("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=De("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=De("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=De("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=De("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=De("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=De("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=De("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=De("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bd=De("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tq=De("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=De("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=De("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=De("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=De("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=De("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=De("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=De("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=De("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=De("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rq=De("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=De("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zc=De("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nq=De("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iq=De("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aq=De("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sq=De("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=De("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=De("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oq=De("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=De("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lq=De("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cq=De("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=De("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=De("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bp=De("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qp=De("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uq=De("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=De("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=De("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=De("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dq=De("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wd=De("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=De("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fq=De("TreePine",[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=De("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=De("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=De("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hq=De("Unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=De("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=De("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=De("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=De("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=De("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pq=De("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),mq=({setUserId:t})=>{const[e,r]=B.useState(!0),[n,i]=B.useState(""),[a,o]=B.useState(""),[u,d]=B.useState(""),[f,p]=B.useState(!1),m=fM(),y=async x=>{x.preventDefault(),d(""),p(!0);try{e?await ZV(m,n,a):await JV(m,n,a)}catch(S){d(S.message)}finally{p(!1)}};return c.jsx("div",{className:"min-h-screen bg-slate-100 dark:bg-slate-900 flex flex-col justify-center items-center p-4",children:c.jsxs("div",{className:"w-full max-w-md",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx(pn,{className:"mx-auto h-12 w-auto text-cyan-500"}),c.jsx("h2",{className:"mt-6 text-3xl font-bold tracking-tight text-slate-900 dark:text-white",children:e?"Sign in to your account":"Create a new account"})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 shadow-xl rounded-2xl p-8",children:[c.jsxs("form",{className:"space-y-6",onSubmit:y,children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Email address"}),c.jsx("div",{className:"mt-1",children:c.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:x=>i(x.target.value),className:"block w-full appearance-none rounded-md border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 px-3 py-2 placeholder-slate-400 dark:placeholder-slate-500 shadow-sm focus:border-cyan-500 focus:outline-none focus:ring-cyan-500 sm:text-sm"})})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Password"}),c.jsx("div",{className:"mt-1",children:c.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:a,onChange:x=>o(x.target.value),className:"block w-full appearance-none rounded-md border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 px-3 py-2 placeholder-slate-400 dark:placeholder-slate-500 shadow-sm focus:border-cyan-500 focus:outline-none focus:ring-cyan-500 sm:text-sm"})})]}),u&&c.jsx("div",{className:"rounded-md bg-red-50 p-4",children:c.jsx("p",{className:"text-sm text-red-700",children:u})}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:f,className:"flex w-full justify-center rounded-md border border-transparent bg-cyan-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-cyan-700 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2 disabled:bg-slate-400",children:f?"Processing...":e?"Sign in":"Create account"})})]}),c.jsx("div",{className:"mt-6",children:c.jsxs("p",{className:"text-center text-sm text-slate-500 dark:text-slate-400",children:[e?"Don't have an account?":"Already have an account?",c.jsx("button",{onClick:()=>r(!e),className:"font-medium text-cyan-600 hover:text-cyan-500 ml-1",children:e?"Sign up":"Sign in"})]})})]})]})})},Vi=({title:t,value:e,icon:r,color:n,subtext:i})=>c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl border border-slate-200 dark:border-slate-700 shadow-lg flex flex-col justify-between",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:t}),c.jsx("div",{className:`text-${n}-500 dark:text-${n}-400`,children:r})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-3xl font-bold text-slate-800 dark:text-white mt-2",children:e}),i&&c.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500 mt-1",children:i})]})]});function qD(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=qD(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Je(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=qD(t))&&(n&&(n+=" "),n+=e);return n}var Lv,_A;function gn(){if(_A)return Lv;_A=1;var t=Array.isArray;return Lv=t,Lv}var $v,SA;function zD(){if(SA)return $v;SA=1;var t=typeof Uh=="object"&&Uh&&Uh.Object===Object&&Uh;return $v=t,$v}var Vv,kA;function ra(){if(kA)return Vv;kA=1;var t=zD(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return Vv=r,Vv}var Fv,jA;function xf(){if(jA)return Fv;jA=1;var t=ra(),e=t.Symbol;return Fv=e,Fv}var Uv,EA;function gq(){if(EA)return Uv;EA=1;var t=xf(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function a(o){var u=r.call(o,i),d=o[i];try{o[i]=void 0;var f=!0}catch{}var p=n.call(o);return f&&(u?o[i]=d:delete o[i]),p}return Uv=a,Uv}var Bv,TA;function vq(){if(TA)return Bv;TA=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return Bv=r,Bv}var qv,AA;function qa(){if(AA)return qv;AA=1;var t=xf(),e=gq(),r=vq(),n="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function o(u){return u==null?u===void 0?i:n:a&&a in Object(u)?e(u):r(u)}return qv=o,qv}var zv,NA;function za(){if(NA)return zv;NA=1;function t(e){return e!=null&&typeof e=="object"}return zv=t,zv}var Wv,PA;function Hc(){if(PA)return Wv;PA=1;var t=qa(),e=za(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return Wv=n,Wv}var Hv,IA;function kS(){if(IA)return Hv;IA=1;var t=gn(),e=Hc(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){if(t(a))return!1;var u=typeof a;return u=="number"||u=="symbol"||u=="boolean"||a==null||e(a)?!0:n.test(a)||!r.test(a)||o!=null&&a in Object(o)}return Hv=i,Hv}var Gv,OA;function zs(){if(OA)return Gv;OA=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return Gv=t,Gv}var Kv,CA;function jS(){if(CA)return Kv;CA=1;var t=qa(),e=zs(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(u){if(!e(u))return!1;var d=t(u);return d==n||d==i||d==r||d==a}return Kv=o,Kv}var Yv,RA;function yq(){if(RA)return Yv;RA=1;var t=ra(),e=t["__core-js_shared__"];return Yv=e,Yv}var Xv,MA;function xq(){if(MA)return Xv;MA=1;var t=yq(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!e&&e in n}return Xv=r,Xv}var Qv,DA;function WD(){if(DA)return Qv;DA=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return Qv=r,Qv}var Jv,LA;function bq(){if(LA)return Jv;LA=1;var t=jS(),e=xq(),r=zs(),n=WD(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,u=Object.prototype,d=o.toString,f=u.hasOwnProperty,p=RegExp("^"+d.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(y){if(!r(y)||e(y))return!1;var x=t(y)?p:a;return x.test(n(y))}return Jv=m,Jv}var Zv,$A;function wq(){if($A)return Zv;$A=1;function t(e,r){return e?.[r]}return Zv=t,Zv}var ey,VA;function tl(){if(VA)return ey;VA=1;var t=bq(),e=wq();function r(n,i){var a=e(n,i);return t(a)?a:void 0}return ey=r,ey}var ty,FA;function cg(){if(FA)return ty;FA=1;var t=tl(),e=t(Object,"create");return ty=e,ty}var ry,UA;function _q(){if(UA)return ry;UA=1;var t=cg();function e(){this.__data__=t?t(null):{},this.size=0}return ry=e,ry}var ny,BA;function Sq(){if(BA)return ny;BA=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return ny=t,ny}var iy,qA;function kq(){if(qA)return iy;qA=1;var t=cg(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(a){var o=this.__data__;if(t){var u=o[a];return u===e?void 0:u}return n.call(o,a)?o[a]:void 0}return iy=i,iy}var ay,zA;function jq(){if(zA)return ay;zA=1;var t=cg(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var a=this.__data__;return t?a[i]!==void 0:r.call(a,i)}return ay=n,ay}var sy,WA;function Eq(){if(WA)return sy;WA=1;var t=cg(),e="__lodash_hash_undefined__";function r(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=t&&i===void 0?e:i,this}return sy=r,sy}var oy,HA;function Tq(){if(HA)return oy;HA=1;var t=_q(),e=Sq(),r=kq(),n=jq(),i=Eq();function a(o){var u=-1,d=o==null?0:o.length;for(this.clear();++u<d;){var f=o[u];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,oy=a,oy}var ly,GA;function Aq(){if(GA)return ly;GA=1;function t(){this.__data__=[],this.size=0}return ly=t,ly}var cy,KA;function ES(){if(KA)return cy;KA=1;function t(e,r){return e===r||e!==e&&r!==r}return cy=t,cy}var uy,YA;function ug(){if(YA)return uy;YA=1;var t=ES();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return uy=e,uy}var dy,XA;function Nq(){if(XA)return dy;XA=1;var t=ug(),e=Array.prototype,r=e.splice;function n(i){var a=this.__data__,o=t(a,i);if(o<0)return!1;var u=a.length-1;return o==u?a.pop():r.call(a,o,1),--this.size,!0}return dy=n,dy}var fy,QA;function Pq(){if(QA)return fy;QA=1;var t=ug();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return fy=e,fy}var hy,JA;function Iq(){if(JA)return hy;JA=1;var t=ug();function e(r){return t(this.__data__,r)>-1}return hy=e,hy}var py,ZA;function Oq(){if(ZA)return py;ZA=1;var t=ug();function e(r,n){var i=this.__data__,a=t(i,r);return a<0?(++this.size,i.push([r,n])):i[a][1]=n,this}return py=e,py}var my,eN;function dg(){if(eN)return my;eN=1;var t=Aq(),e=Nq(),r=Pq(),n=Iq(),i=Oq();function a(o){var u=-1,d=o==null?0:o.length;for(this.clear();++u<d;){var f=o[u];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,my=a,my}var gy,tN;function TS(){if(tN)return gy;tN=1;var t=tl(),e=ra(),r=t(e,"Map");return gy=r,gy}var vy,rN;function Cq(){if(rN)return vy;rN=1;var t=Tq(),e=dg(),r=TS();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return vy=n,vy}var yy,nN;function Rq(){if(nN)return yy;nN=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return yy=t,yy}var xy,iN;function fg(){if(iN)return xy;iN=1;var t=Rq();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return xy=e,xy}var by,aN;function Mq(){if(aN)return by;aN=1;var t=fg();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return by=e,by}var wy,sN;function Dq(){if(sN)return wy;sN=1;var t=fg();function e(r){return t(this,r).get(r)}return wy=e,wy}var _y,oN;function Lq(){if(oN)return _y;oN=1;var t=fg();function e(r){return t(this,r).has(r)}return _y=e,_y}var Sy,lN;function $q(){if(lN)return Sy;lN=1;var t=fg();function e(r,n){var i=t(this,r),a=i.size;return i.set(r,n),this.size+=i.size==a?0:1,this}return Sy=e,Sy}var ky,cN;function AS(){if(cN)return ky;cN=1;var t=Cq(),e=Mq(),r=Dq(),n=Lq(),i=$q();function a(o){var u=-1,d=o==null?0:o.length;for(this.clear();++u<d;){var f=o[u];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,ky=a,ky}var jy,uN;function HD(){if(uN)return jy;uN=1;var t=AS(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var o=arguments,u=i?i.apply(this,o):o[0],d=a.cache;if(d.has(u))return d.get(u);var f=n.apply(this,o);return a.cache=d.set(u,f)||d,f};return a.cache=new(r.Cache||t),a}return r.Cache=t,jy=r,jy}var Ey,dN;function Vq(){if(dN)return Ey;dN=1;var t=HD(),e=500;function r(n){var i=t(n,function(o){return a.size===e&&a.clear(),o}),a=i.cache;return i}return Ey=r,Ey}var Ty,fN;function Fq(){if(fN)return Ty;fN=1;var t=Vq(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(o,u,d,f){a.push(d?f.replace(r,"$1"):u||o)}),a});return Ty=n,Ty}var Ay,hN;function NS(){if(hN)return Ay;hN=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=Array(i);++n<i;)a[n]=r(e[n],n,e);return a}return Ay=t,Ay}var Ny,pN;function Uq(){if(pN)return Ny;pN=1;var t=xf(),e=NS(),r=gn(),n=Hc(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function o(u){if(typeof u=="string")return u;if(r(u))return e(u,o)+"";if(n(u))return a?a.call(u):"";var d=u+"";return d=="0"&&1/u==-1/0?"-0":d}return Ny=o,Ny}var Py,mN;function GD(){if(mN)return Py;mN=1;var t=Uq();function e(r){return r==null?"":t(r)}return Py=e,Py}var Iy,gN;function KD(){if(gN)return Iy;gN=1;var t=gn(),e=kS(),r=Fq(),n=GD();function i(a,o){return t(a)?a:e(a,o)?[a]:r(n(a))}return Iy=i,Iy}var Oy,vN;function hg(){if(vN)return Oy;vN=1;var t=Hc();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return Oy=e,Oy}var Cy,yN;function PS(){if(yN)return Cy;yN=1;var t=KD(),e=hg();function r(n,i){i=t(i,n);for(var a=0,o=i.length;n!=null&&a<o;)n=n[e(i[a++])];return a&&a==o?n:void 0}return Cy=r,Cy}var Ry,xN;function YD(){if(xN)return Ry;xN=1;var t=PS();function e(r,n,i){var a=r==null?void 0:t(r,n);return a===void 0?i:a}return Ry=e,Ry}var Bq=YD();const Rn=pt(Bq);var My,bN;function qq(){if(bN)return My;bN=1;function t(e){return e==null}return My=t,My}var zq=qq();const et=pt(zq);var Dy,wN;function Wq(){if(wN)return Dy;wN=1;var t=qa(),e=gn(),r=za(),n="[object String]";function i(a){return typeof a=="string"||!e(a)&&r(a)&&t(a)==n}return Dy=i,Dy}var Hq=Wq();const Wo=pt(Hq);var Gq=jS();const Ge=pt(Gq);var Kq=zs();const Gc=pt(Kq);var Ly={exports:{}},ft={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _N;function Yq(){if(_N)return ft;_N=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen"),S;S=Symbol.for("react.module.reference");function _(b){if(typeof b=="object"&&b!==null){var P=b.$$typeof;switch(P){case t:switch(b=b.type,b){case r:case i:case n:case f:case p:return b;default:switch(b=b&&b.$$typeof,b){case u:case o:case d:case y:case m:case a:return b;default:return P}}case e:return P}}}return ft.ContextConsumer=o,ft.ContextProvider=a,ft.Element=t,ft.ForwardRef=d,ft.Fragment=r,ft.Lazy=y,ft.Memo=m,ft.Portal=e,ft.Profiler=i,ft.StrictMode=n,ft.Suspense=f,ft.SuspenseList=p,ft.isAsyncMode=function(){return!1},ft.isConcurrentMode=function(){return!1},ft.isContextConsumer=function(b){return _(b)===o},ft.isContextProvider=function(b){return _(b)===a},ft.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},ft.isForwardRef=function(b){return _(b)===d},ft.isFragment=function(b){return _(b)===r},ft.isLazy=function(b){return _(b)===y},ft.isMemo=function(b){return _(b)===m},ft.isPortal=function(b){return _(b)===e},ft.isProfiler=function(b){return _(b)===i},ft.isStrictMode=function(b){return _(b)===n},ft.isSuspense=function(b){return _(b)===f},ft.isSuspenseList=function(b){return _(b)===p},ft.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===r||b===i||b===n||b===f||b===p||b===x||typeof b=="object"&&b!==null&&(b.$$typeof===y||b.$$typeof===m||b.$$typeof===a||b.$$typeof===o||b.$$typeof===d||b.$$typeof===S||b.getModuleId!==void 0)},ft.typeOf=_,ft}var SN;function Xq(){return SN||(SN=1,Ly.exports=Yq()),Ly.exports}var Qq=Xq(),$y,kN;function XD(){if(kN)return $y;kN=1;var t=qa(),e=za(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return $y=n,$y}var Vy,jN;function Jq(){if(jN)return Vy;jN=1;var t=XD();function e(r){return t(r)&&r!=+r}return Vy=e,Vy}var Zq=Jq();const bf=pt(Zq);var ez=XD();const tz=pt(ez);var Yr=function(e){return e===0?0:e>0?1:-1},Po=function(e){return Wo(e)&&e.indexOf("%")===e.length-1},je=function(e){return tz(e)&&!bf(e)},rz=function(e){return et(e)},ar=function(e){return je(e)||Wo(e)},nz=0,wf=function(e){var r=++nz;return"".concat(e||"").concat(r)},Xr=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!je(e)&&!Wo(e))return n;var a;if(Po(e)){var o=e.indexOf("%");a=r*parseFloat(e.slice(0,o))/100}else a=+e;return bf(a)&&(a=n),i&&a>r&&(a=r),a},Ts=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},iz=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},ws=function(e,r){return je(e)&&je(r)?function(n){return e+n*(r-e)}:function(){return r}};function d_(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Rn(n,e))===r})}var az=function(e,r){return je(e)&&je(r)?e-r:Wo(e)&&Wo(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function ic(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function f_(t){"@babel/helpers - typeof";return f_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f_(t)}var sz=["viewBox","children"],oz=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],EN=["points","pathLength"],Fy={svg:sz,polygon:EN,polyline:EN},IS=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],zp=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(B.isValidElement(e)&&(n=e.props),!Gc(n))return null;var i={};return Object.keys(n).forEach(function(a){IS.includes(a)&&(i[a]=r||function(o){return n[a](n,o)})}),i},lz=function(e,r,n){return function(i){return e(r,n,i),null}},Ho=function(e,r,n){if(!Gc(e)||f_(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];IS.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=lz(o,r,n))}),i},cz=["children"],uz=["children"];function TN(t,e){if(t==null)return{};var r=dz(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dz(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var AN={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ia=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},NN=null,Uy=null,OS=function t(e){if(e===NN&&Array.isArray(Uy))return Uy;var r=[];return B.Children.forEach(e,function(n){et(n)||(Qq.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),Uy=r,NN=e,r};function ei(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Ia(i)}):n=[Ia(e)],OS(t).forEach(function(i){var a=Rn(i,"type.displayName")||Rn(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function Pn(t,e){var r=ei(t,e);return r&&r[0]}var PN=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!je(n)||n<=0||!je(i)||i<=0)},fz=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],hz=function(e){return e&&e.type&&Wo(e.type)&&fz.indexOf(e.type)>=0},pz=function(e,r,n,i){var a,o=(a=Fy?.[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!Ge(e)&&(i&&o.includes(r)||oz.includes(r))||n&&IS.includes(r)},We=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(B.isValidElement(e)&&(i=e.props),!Gc(i))return null;var a={};return Object.keys(i).forEach(function(o){var u;pz((u=i)===null||u===void 0?void 0:u[o],o,r,n)&&(a[o]=i[o])}),a},h_=function t(e,r){if(e===r)return!0;var n=B.Children.count(e);if(n!==B.Children.count(r))return!1;if(n===0)return!0;if(n===1)return IN(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],o=r[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!IN(a,o))return!1}return!0},IN=function(e,r){if(et(e)&&et(r))return!0;if(!et(e)&&!et(r)){var n=e.props||{},i=n.children,a=TN(n,cz),o=r.props||{},u=o.children,d=TN(o,uz);return i&&u?ic(a,d)&&h_(i,u):!i&&!u?ic(a,d):!1}return!1},ON=function(e,r){var n=[],i={};return OS(e).forEach(function(a,o){if(hz(a))n.push(a);else if(a){var u=Ia(a.type),d=r[u]||{},f=d.handler,p=d.once;if(f&&(!p||!i[u])){var m=f(a,u,o);n.push(m),i[u]=!0}}}),n},mz=function(e){var r=e&&e.type;return r&&AN[r]?AN[r]:null},gz=function(e,r){return OS(r).indexOf(e)},vz=["children","width","height","viewBox","className","style","title","desc"];function p_(){return p_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},p_.apply(this,arguments)}function yz(t,e){if(t==null)return{};var r=xz(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xz(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function m_(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,o=t.style,u=t.title,d=t.desc,f=yz(t,vz),p=i||{width:r,height:n,x:0,y:0},m=Je("recharts-surface",a);return H.createElement("svg",p_({},We(f,!0,"svg"),{className:m,width:r,height:n,style:o,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),H.createElement("title",null,u),H.createElement("desc",null,d),e)}var bz=["children","className"];function g_(){return g_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},g_.apply(this,arguments)}function wz(t,e){if(t==null)return{};var r=_z(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _z(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var gt=H.forwardRef(function(t,e){var r=t.children,n=t.className,i=wz(t,bz),a=Je("recharts-layer",n);return H.createElement("g",g_({className:a},We(i,!0),{ref:e}),r)}),wi=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]},By,CN;function Sz(){if(CN)return By;CN=1;function t(e,r,n){var i=-1,a=e.length;r<0&&(r=-r>a?0:a+r),n=n>a?a:n,n<0&&(n+=a),a=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(a);++i<a;)o[i]=e[i+r];return o}return By=t,By}var qy,RN;function kz(){if(RN)return qy;RN=1;var t=Sz();function e(r,n,i){var a=r.length;return i=i===void 0?a:i,!n&&i>=a?r:t(r,n,i)}return qy=e,qy}var zy,MN;function QD(){if(MN)return zy;MN=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",o="\\u200d",u=RegExp("["+o+t+i+a+"]");function d(f){return u.test(f)}return zy=d,zy}var Wy,DN;function jz(){if(DN)return Wy;DN=1;function t(e){return e.split("")}return Wy=t,Wy}var Hy,LN;function Ez(){if(LN)return Hy;LN=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",o="["+t+"]",u="["+i+"]",d="\\ud83c[\\udffb-\\udfff]",f="(?:"+u+"|"+d+")",p="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",x="\\u200d",S=f+"?",_="["+a+"]?",b="(?:"+x+"(?:"+[p,m,y].join("|")+")"+_+S+")*",P=_+S+b,A="(?:"+[p+u+"?",u,m,y,o].join("|")+")",I=RegExp(d+"(?="+d+")|"+A+P,"g");function R(E){return E.match(I)||[]}return Hy=R,Hy}var Gy,$N;function Tz(){if($N)return Gy;$N=1;var t=jz(),e=QD(),r=Ez();function n(i){return e(i)?r(i):t(i)}return Gy=n,Gy}var Ky,VN;function Az(){if(VN)return Ky;VN=1;var t=kz(),e=QD(),r=Tz(),n=GD();function i(a){return function(o){o=n(o);var u=e(o)?r(o):void 0,d=u?u[0]:o.charAt(0),f=u?t(u,1).join(""):o.slice(1);return d[a]()+f}}return Ky=i,Ky}var Yy,FN;function Nz(){if(FN)return Yy;FN=1;var t=Az(),e=t("toUpperCase");return Yy=e,Yy}var Pz=Nz();const pg=pt(Pz);function kt(t){return function(){return t}}const JD=Math.cos,Wp=Math.sin,ki=Math.sqrt,Hp=Math.PI,mg=2*Hp,v_=Math.PI,y_=2*v_,ko=1e-6,Iz=y_-ko;function ZD(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function Oz(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return ZD;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class Cz{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?ZD:Oz(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,u=this._y1,d=n-e,f=i-r,p=o-e,m=u-r,y=p*p+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(y>ko)if(!(Math.abs(m*d-f*p)>ko)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let x=n-o,S=i-u,_=d*d+f*f,b=x*x+S*S,P=Math.sqrt(_),A=Math.sqrt(y),I=a*Math.tan((v_-Math.acos((_+y-b)/(2*P*A)))/2),R=I/A,E=I/P;Math.abs(R-1)>ko&&this._append`L${e+R*p},${r+R*m}`,this._append`A${a},${a},0,0,${+(m*x>p*S)},${this._x1=e+E*d},${this._y1=r+E*f}`}}arc(e,r,n,i,a,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(i),d=n*Math.sin(i),f=e+u,p=r+d,m=1^o,y=o?i-a:a-i;this._x1===null?this._append`M${f},${p}`:(Math.abs(this._x1-f)>ko||Math.abs(this._y1-p)>ko)&&this._append`L${f},${p}`,n&&(y<0&&(y=y%y_+y_),y>Iz?this._append`A${n},${n},0,1,${m},${e-u},${r-d}A${n},${n},0,1,${m},${this._x1=f},${this._y1=p}`:y>ko&&this._append`A${n},${n},0,${+(y>=v_)},${m},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function CS(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new Cz(e)}function RS(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function e4(t){this._context=t}e4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function gg(t){return new e4(t)}function t4(t){return t[0]}function r4(t){return t[1]}function n4(t,e){var r=kt(!0),n=null,i=gg,a=null,o=CS(u);t=typeof t=="function"?t:t===void 0?t4:kt(t),e=typeof e=="function"?e:e===void 0?r4:kt(e);function u(d){var f,p=(d=RS(d)).length,m,y=!1,x;for(n==null&&(a=i(x=o())),f=0;f<=p;++f)!(f<p&&r(m=d[f],f,d))===y&&((y=!y)?a.lineStart():a.lineEnd()),y&&a.point(+t(m,f,d),+e(m,f,d));if(x)return a=null,x+""||null}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:kt(+d),u):t},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:kt(+d),u):e},u.defined=function(d){return arguments.length?(r=typeof d=="function"?d:kt(!!d),u):r},u.curve=function(d){return arguments.length?(i=d,n!=null&&(a=i(n)),u):i},u.context=function(d){return arguments.length?(d==null?n=a=null:a=i(n=d),u):n},u}function Qh(t,e,r){var n=null,i=kt(!0),a=null,o=gg,u=null,d=CS(f);t=typeof t=="function"?t:t===void 0?t4:kt(+t),e=typeof e=="function"?e:kt(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?r4:kt(+r);function f(m){var y,x,S,_=(m=RS(m)).length,b,P=!1,A,I=new Array(_),R=new Array(_);for(a==null&&(u=o(A=d())),y=0;y<=_;++y){if(!(y<_&&i(b=m[y],y,m))===P)if(P=!P)x=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),S=y-1;S>=x;--S)u.point(I[S],R[S]);u.lineEnd(),u.areaEnd()}P&&(I[y]=+t(b,y,m),R[y]=+e(b,y,m),u.point(n?+n(b,y,m):I[y],r?+r(b,y,m):R[y]))}if(A)return u=null,A+""||null}function p(){return n4().defined(i).curve(o).context(a)}return f.x=function(m){return arguments.length?(t=typeof m=="function"?m:kt(+m),n=null,f):t},f.x0=function(m){return arguments.length?(t=typeof m=="function"?m:kt(+m),f):t},f.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:kt(+m),f):n},f.y=function(m){return arguments.length?(e=typeof m=="function"?m:kt(+m),r=null,f):e},f.y0=function(m){return arguments.length?(e=typeof m=="function"?m:kt(+m),f):e},f.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:kt(+m),f):r},f.lineX0=f.lineY0=function(){return p().x(t).y(e)},f.lineY1=function(){return p().x(t).y(r)},f.lineX1=function(){return p().x(n).y(e)},f.defined=function(m){return arguments.length?(i=typeof m=="function"?m:kt(!!m),f):i},f.curve=function(m){return arguments.length?(o=m,a!=null&&(u=o(a)),f):o},f.context=function(m){return arguments.length?(m==null?a=u=null:u=o(a=m),f):a},f}class i4{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function Rz(t){return new i4(t,!0)}function Mz(t){return new i4(t,!1)}const MS={draw(t,e){const r=ki(e/Hp);t.moveTo(r,0),t.arc(0,0,r,0,mg)}},Dz={draw(t,e){const r=ki(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},a4=ki(1/3),Lz=a4*2,$z={draw(t,e){const r=ki(e/Lz),n=r*a4;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},Vz={draw(t,e){const r=ki(e),n=-r/2;t.rect(n,n,r,r)}},Fz=.8908130915292852,s4=Wp(Hp/10)/Wp(7*Hp/10),Uz=Wp(mg/10)*s4,Bz=-JD(mg/10)*s4,qz={draw(t,e){const r=ki(e*Fz),n=Uz*r,i=Bz*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const o=mg*a/5,u=JD(o),d=Wp(o);t.lineTo(d*r,-u*r),t.lineTo(u*n-d*i,d*n+u*i)}t.closePath()}},Xy=ki(3),zz={draw(t,e){const r=-ki(e/(Xy*3));t.moveTo(0,r*2),t.lineTo(-Xy*r,-r),t.lineTo(Xy*r,-r),t.closePath()}},Gn=-.5,Kn=ki(3)/2,x_=1/ki(12),Wz=(x_/2+1)*3,Hz={draw(t,e){const r=ki(e/Wz),n=r/2,i=r*x_,a=n,o=r*x_+r,u=-a,d=o;t.moveTo(n,i),t.lineTo(a,o),t.lineTo(u,d),t.lineTo(Gn*n-Kn*i,Kn*n+Gn*i),t.lineTo(Gn*a-Kn*o,Kn*a+Gn*o),t.lineTo(Gn*u-Kn*d,Kn*u+Gn*d),t.lineTo(Gn*n+Kn*i,Gn*i-Kn*n),t.lineTo(Gn*a+Kn*o,Gn*o-Kn*a),t.lineTo(Gn*u+Kn*d,Gn*d-Kn*u),t.closePath()}};function Gz(t,e){let r=null,n=CS(i);t=typeof t=="function"?t:kt(t||MS),e=typeof e=="function"?e:kt(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:kt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:kt(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Gp(){}function Kp(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function o4(t){this._context=t}o4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Kp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Kp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Kz(t){return new o4(t)}function l4(t){this._context=t}l4.prototype={areaStart:Gp,areaEnd:Gp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Kp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Yz(t){return new l4(t)}function c4(t){this._context=t}c4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Kp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Xz(t){return new c4(t)}function u4(t){this._context=t}u4.prototype={areaStart:Gp,areaEnd:Gp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Qz(t){return new u4(t)}function UN(t){return t<0?-1:1}function BN(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),u=(a*i+o*n)/(n+i);return(UN(a)+UN(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(u))||0}function qN(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Qy(t,e,r){var n=t._x0,i=t._y0,a=t._x1,o=t._y1,u=(a-n)/3;t._context.bezierCurveTo(n+u,i+u*e,a-u,o-u*r,a,o)}function Yp(t){this._context=t}Yp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Qy(this,this._t0,qN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Qy(this,qN(this,r=BN(this,t,e)),r);break;default:Qy(this,this._t0,r=BN(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function d4(t){this._context=new f4(t)}(d4.prototype=Object.create(Yp.prototype)).point=function(t,e){Yp.prototype.point.call(this,e,t)};function f4(t){this._context=t}f4.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function Jz(t){return new Yp(t)}function Zz(t){return new d4(t)}function h4(t){this._context=t}h4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=zN(t),i=zN(e),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function zN(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function e7(t){return new h4(t)}function vg(t,e){this._context=t,this._t=e}vg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function t7(t){return new vg(t,.5)}function r7(t){return new vg(t,0)}function n7(t){return new vg(t,1)}function mc(t,e){if((o=t.length)>1)for(var r=1,n,i,a=t[e[0]],o,u=a.length;r<o;++r)for(i=a,a=t[e[r]],n=0;n<u;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function b_(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function i7(t,e){return t[e]}function a7(t){const e=[];return e.key=t,e}function s7(){var t=kt([]),e=b_,r=mc,n=i7;function i(a){var o=Array.from(t.apply(this,arguments),a7),u,d=o.length,f=-1,p;for(const m of a)for(u=0,++f;u<d;++u)(o[u][f]=[0,+n(m,o[u].key,f,a)]).data=m;for(u=0,p=RS(e(o));u<d;++u)o[p[u]].index=u;return r(o,p),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:kt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:kt(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?b_:typeof a=="function"?a:kt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??mc,i):r},i}function o7(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}mc(t,e)}}function l7(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var o=0,u=0;o<i;++o)u+=t[o][r][1]||0;n[r][1]+=n[r][0]=-u/2}mc(t,e)}}function c7(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var u=0,d=0,f=0;u<o;++u){for(var p=t[e[u]],m=p[n][1]||0,y=p[n-1][1]||0,x=(m-y)/2,S=0;S<u;++S){var _=t[e[S]],b=_[n][1]||0,P=_[n-1][1]||0;x+=b-P}d+=m,f+=x*m}i[n-1][1]+=i[n-1][0]=r,d&&(r-=f/d)}i[n-1][1]+=i[n-1][0]=r,mc(t,e)}}function _d(t){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_d(t)}var u7=["type","size","sizeType"];function w_(){return w_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},w_.apply(this,arguments)}function WN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function HN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WN(Object(r),!0).forEach(function(n){d7(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function d7(t,e,r){return e=f7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f7(t){var e=h7(t,"string");return _d(e)=="symbol"?e:e+""}function h7(t,e){if(_d(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_d(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function p7(t,e){if(t==null)return{};var r=m7(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function m7(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var p4={symbolCircle:MS,symbolCross:Dz,symbolDiamond:$z,symbolSquare:Vz,symbolStar:qz,symbolTriangle:zz,symbolWye:Hz},g7=Math.PI/180,v7=function(e){var r="symbol".concat(pg(e));return p4[r]||MS},y7=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*g7;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},x7=function(e,r){p4["symbol".concat(pg(e))]=r},DS=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,o=e.sizeType,u=o===void 0?"area":o,d=p7(e,u7),f=HN(HN({},d),{},{type:n,size:a,sizeType:u}),p=function(){var b=v7(n),P=Gz().type(b).size(y7(a,u,n));return P()},m=f.className,y=f.cx,x=f.cy,S=We(f,!0);return y===+y&&x===+x&&a===+a?H.createElement("path",w_({},S,{className:Je("recharts-symbols",m),transform:"translate(".concat(y,", ").concat(x,")"),d:p()})):null};DS.registerSymbol=x7;function gc(t){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gc(t)}function __(){return __=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},__.apply(this,arguments)}function GN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function b7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GN(Object(r),!0).forEach(function(n){Sd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function w7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _7(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,g4(n.key),n)}}function S7(t,e,r){return e&&_7(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function k7(t,e,r){return e=Xp(e),j7(t,m4()?Reflect.construct(e,r||[],Xp(t).constructor):e.apply(t,r))}function j7(t,e){if(e&&(gc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E7(t)}function E7(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m4=function(){return!!t})()}function Xp(t){return Xp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xp(t)}function T7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S_(t,e)}function S_(t,e){return S_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},S_(t,e)}function Sd(t,e,r){return e=g4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g4(t){var e=A7(t,"string");return gc(e)=="symbol"?e:e+""}function A7(t,e){if(gc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Yn=32,LS=function(t){function e(){return w7(this,e),k7(this,e,arguments)}return T7(e,t),S7(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=Yn/2,o=Yn/6,u=Yn/3,d=n.inactive?i:n.color;if(n.type==="plainline")return H.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:Yn,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return H.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(a,"h").concat(u,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*u,",").concat(a,`
            H`).concat(Yn,"M").concat(2*u,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(u,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return H.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Yn/8,"h").concat(Yn,"v").concat(Yn*3/4,"h").concat(-Yn,"z"),className:"recharts-legend-icon"});if(H.isValidElement(n.legendIcon)){var f=b7({},n);return delete f.legendIcon,H.cloneElement(n.legendIcon,f)}return H.createElement(DS,{fill:d,cx:a,cy:a,size:Yn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,o=i.iconSize,u=i.layout,d=i.formatter,f=i.inactiveColor,p={x:0,y:0,width:Yn,height:Yn},m={display:u==="horizontal"?"inline-block":"block",marginRight:10},y={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(x,S){var _=x.formatter||d,b=Je(Sd(Sd({"recharts-legend-item":!0},"legend-item-".concat(S),!0),"inactive",x.inactive));if(x.type==="none")return null;var P=Ge(x.value)?null:x.value;wi(!Ge(x.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var A=x.inactive?f:x.color;return H.createElement("li",__({className:b,style:m,key:"legend-item-".concat(S)},Ho(n.props,x,S)),H.createElement(m_,{width:o,height:o,viewBox:p,style:y},n.renderIcon(x)),H.createElement("span",{className:"recharts-legend-item-text",style:{color:A}},_?_(P,x,S):P))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,o=n.align;if(!i||!i.length)return null;var u={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return H.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])}(B.PureComponent);Sd(LS,"displayName","Legend");Sd(LS,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Jy,KN;function N7(){if(KN)return Jy;KN=1;var t=dg();function e(){this.__data__=new t,this.size=0}return Jy=e,Jy}var Zy,YN;function P7(){if(YN)return Zy;YN=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return Zy=t,Zy}var ex,XN;function I7(){if(XN)return ex;XN=1;function t(e){return this.__data__.get(e)}return ex=t,ex}var tx,QN;function O7(){if(QN)return tx;QN=1;function t(e){return this.__data__.has(e)}return tx=t,tx}var rx,JN;function C7(){if(JN)return rx;JN=1;var t=dg(),e=TS(),r=AS(),n=200;function i(a,o){var u=this.__data__;if(u instanceof t){var d=u.__data__;if(!e||d.length<n-1)return d.push([a,o]),this.size=++u.size,this;u=this.__data__=new r(d)}return u.set(a,o),this.size=u.size,this}return rx=i,rx}var nx,ZN;function v4(){if(ZN)return nx;ZN=1;var t=dg(),e=N7(),r=P7(),n=I7(),i=O7(),a=C7();function o(u){var d=this.__data__=new t(u);this.size=d.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=i,o.prototype.set=a,nx=o,nx}var ix,eP;function R7(){if(eP)return ix;eP=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return ix=e,ix}var ax,tP;function M7(){if(tP)return ax;tP=1;function t(e){return this.__data__.has(e)}return ax=t,ax}var sx,rP;function y4(){if(rP)return sx;rP=1;var t=AS(),e=R7(),r=M7();function n(i){var a=-1,o=i==null?0:i.length;for(this.__data__=new t;++a<o;)this.add(i[a])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,sx=n,sx}var ox,nP;function x4(){if(nP)return ox;nP=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return ox=t,ox}var lx,iP;function b4(){if(iP)return lx;iP=1;function t(e,r){return e.has(r)}return lx=t,lx}var cx,aP;function w4(){if(aP)return cx;aP=1;var t=y4(),e=x4(),r=b4(),n=1,i=2;function a(o,u,d,f,p,m){var y=d&n,x=o.length,S=u.length;if(x!=S&&!(y&&S>x))return!1;var _=m.get(o),b=m.get(u);if(_&&b)return _==u&&b==o;var P=-1,A=!0,I=d&i?new t:void 0;for(m.set(o,u),m.set(u,o);++P<x;){var R=o[P],E=u[P];if(f)var N=y?f(E,R,P,u,o,m):f(R,E,P,o,u,m);if(N!==void 0){if(N)continue;A=!1;break}if(I){if(!e(u,function(T,O){if(!r(I,O)&&(R===T||p(R,T,d,f,m)))return I.push(O)})){A=!1;break}}else if(!(R===E||p(R,E,d,f,m))){A=!1;break}}return m.delete(o),m.delete(u),A}return cx=a,cx}var ux,sP;function D7(){if(sP)return ux;sP=1;var t=ra(),e=t.Uint8Array;return ux=e,ux}var dx,oP;function L7(){if(oP)return dx;oP=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,a){n[++r]=[a,i]}),n}return dx=t,dx}var fx,lP;function $S(){if(lP)return fx;lP=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return fx=t,fx}var hx,cP;function $7(){if(cP)return hx;cP=1;var t=xf(),e=D7(),r=ES(),n=w4(),i=L7(),a=$S(),o=1,u=2,d="[object Boolean]",f="[object Date]",p="[object Error]",m="[object Map]",y="[object Number]",x="[object RegExp]",S="[object Set]",_="[object String]",b="[object Symbol]",P="[object ArrayBuffer]",A="[object DataView]",I=t?t.prototype:void 0,R=I?I.valueOf:void 0;function E(N,T,O,L,C,D,F){switch(O){case A:if(N.byteLength!=T.byteLength||N.byteOffset!=T.byteOffset)return!1;N=N.buffer,T=T.buffer;case P:return!(N.byteLength!=T.byteLength||!D(new e(N),new e(T)));case d:case f:case y:return r(+N,+T);case p:return N.name==T.name&&N.message==T.message;case x:case _:return N==T+"";case m:var $=i;case S:var ee=L&o;if($||($=a),N.size!=T.size&&!ee)return!1;var ne=F.get(N);if(ne)return ne==T;L|=u,F.set(N,T);var Q=n($(N),$(T),L,C,D,F);return F.delete(N),Q;case b:if(R)return R.call(N)==R.call(T)}return!1}return hx=E,hx}var px,uP;function _4(){if(uP)return px;uP=1;function t(e,r){for(var n=-1,i=r.length,a=e.length;++n<i;)e[a+n]=r[n];return e}return px=t,px}var mx,dP;function V7(){if(dP)return mx;dP=1;var t=_4(),e=gn();function r(n,i,a){var o=i(n);return e(n)?o:t(o,a(n))}return mx=r,mx}var gx,fP;function F7(){if(fP)return gx;fP=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=0,o=[];++n<i;){var u=e[n];r(u,n,e)&&(o[a++]=u)}return o}return gx=t,gx}var vx,hP;function U7(){if(hP)return vx;hP=1;function t(){return[]}return vx=t,vx}var yx,pP;function B7(){if(pP)return yx;pP=1;var t=F7(),e=U7(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(u){return n.call(o,u)}))}:e;return yx=a,yx}var xx,mP;function q7(){if(mP)return xx;mP=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return xx=t,xx}var bx,gP;function z7(){if(gP)return bx;gP=1;var t=qa(),e=za(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return bx=n,bx}var wx,vP;function VS(){if(vP)return wx;vP=1;var t=z7(),e=za(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,a=t(function(){return arguments}())?t:function(o){return e(o)&&n.call(o,"callee")&&!i.call(o,"callee")};return wx=a,wx}var Qu={exports:{}},_x,yP;function W7(){if(yP)return _x;yP=1;function t(){return!1}return _x=t,_x}Qu.exports;var xP;function S4(){return xP||(xP=1,function(t,e){var r=ra(),n=W7(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,u=o?r.Buffer:void 0,d=u?u.isBuffer:void 0,f=d||n;t.exports=f}(Qu,Qu.exports)),Qu.exports}var Sx,bP;function FS(){if(bP)return Sx;bP=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var a=typeof n;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return Sx=r,Sx}var kx,wP;function US(){if(wP)return kx;wP=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return kx=e,kx}var jx,_P;function H7(){if(_P)return jx;_P=1;var t=qa(),e=US(),r=za(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",o="[object Date]",u="[object Error]",d="[object Function]",f="[object Map]",p="[object Number]",m="[object Object]",y="[object RegExp]",x="[object Set]",S="[object String]",_="[object WeakMap]",b="[object ArrayBuffer]",P="[object DataView]",A="[object Float32Array]",I="[object Float64Array]",R="[object Int8Array]",E="[object Int16Array]",N="[object Int32Array]",T="[object Uint8Array]",O="[object Uint8ClampedArray]",L="[object Uint16Array]",C="[object Uint32Array]",D={};D[A]=D[I]=D[R]=D[E]=D[N]=D[T]=D[O]=D[L]=D[C]=!0,D[n]=D[i]=D[b]=D[a]=D[P]=D[o]=D[u]=D[d]=D[f]=D[p]=D[m]=D[y]=D[x]=D[S]=D[_]=!1;function F($){return r($)&&e($.length)&&!!D[t($)]}return jx=F,jx}var Ex,SP;function k4(){if(SP)return Ex;SP=1;function t(e){return function(r){return e(r)}}return Ex=t,Ex}var Ju={exports:{}};Ju.exports;var kP;function G7(){return kP||(kP=1,function(t,e){var r=zD(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,u=function(){try{var d=i&&i.require&&i.require("util").types;return d||o&&o.binding&&o.binding("util")}catch{}}();t.exports=u}(Ju,Ju.exports)),Ju.exports}var Tx,jP;function j4(){if(jP)return Tx;jP=1;var t=H7(),e=k4(),r=G7(),n=r&&r.isTypedArray,i=n?e(n):t;return Tx=i,Tx}var Ax,EP;function K7(){if(EP)return Ax;EP=1;var t=q7(),e=VS(),r=gn(),n=S4(),i=FS(),a=j4(),o=Object.prototype,u=o.hasOwnProperty;function d(f,p){var m=r(f),y=!m&&e(f),x=!m&&!y&&n(f),S=!m&&!y&&!x&&a(f),_=m||y||x||S,b=_?t(f.length,String):[],P=b.length;for(var A in f)(p||u.call(f,A))&&!(_&&(A=="length"||x&&(A=="offset"||A=="parent")||S&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||i(A,P)))&&b.push(A);return b}return Ax=d,Ax}var Nx,TP;function Y7(){if(TP)return Nx;TP=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return Nx=e,Nx}var Px,AP;function E4(){if(AP)return Px;AP=1;function t(e,r){return function(n){return e(r(n))}}return Px=t,Px}var Ix,NP;function X7(){if(NP)return Ix;NP=1;var t=E4(),e=t(Object.keys,Object);return Ix=e,Ix}var Ox,PP;function Q7(){if(PP)return Ox;PP=1;var t=Y7(),e=X7(),r=Object.prototype,n=r.hasOwnProperty;function i(a){if(!t(a))return e(a);var o=[];for(var u in Object(a))n.call(a,u)&&u!="constructor"&&o.push(u);return o}return Ox=i,Ox}var Cx,IP;function _f(){if(IP)return Cx;IP=1;var t=jS(),e=US();function r(n){return n!=null&&e(n.length)&&!t(n)}return Cx=r,Cx}var Rx,OP;function yg(){if(OP)return Rx;OP=1;var t=K7(),e=Q7(),r=_f();function n(i){return r(i)?t(i):e(i)}return Rx=n,Rx}var Mx,CP;function J7(){if(CP)return Mx;CP=1;var t=V7(),e=B7(),r=yg();function n(i){return t(i,r,e)}return Mx=n,Mx}var Dx,RP;function Z7(){if(RP)return Dx;RP=1;var t=J7(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(a,o,u,d,f,p){var m=u&e,y=t(a),x=y.length,S=t(o),_=S.length;if(x!=_&&!m)return!1;for(var b=x;b--;){var P=y[b];if(!(m?P in o:n.call(o,P)))return!1}var A=p.get(a),I=p.get(o);if(A&&I)return A==o&&I==a;var R=!0;p.set(a,o),p.set(o,a);for(var E=m;++b<x;){P=y[b];var N=a[P],T=o[P];if(d)var O=m?d(T,N,P,o,a,p):d(N,T,P,a,o,p);if(!(O===void 0?N===T||f(N,T,u,d,p):O)){R=!1;break}E||(E=P=="constructor")}if(R&&!E){var L=a.constructor,C=o.constructor;L!=C&&"constructor"in a&&"constructor"in o&&!(typeof L=="function"&&L instanceof L&&typeof C=="function"&&C instanceof C)&&(R=!1)}return p.delete(a),p.delete(o),R}return Dx=i,Dx}var Lx,MP;function eW(){if(MP)return Lx;MP=1;var t=tl(),e=ra(),r=t(e,"DataView");return Lx=r,Lx}var $x,DP;function tW(){if(DP)return $x;DP=1;var t=tl(),e=ra(),r=t(e,"Promise");return $x=r,$x}var Vx,LP;function T4(){if(LP)return Vx;LP=1;var t=tl(),e=ra(),r=t(e,"Set");return Vx=r,Vx}var Fx,$P;function rW(){if($P)return Fx;$P=1;var t=tl(),e=ra(),r=t(e,"WeakMap");return Fx=r,Fx}var Ux,VP;function nW(){if(VP)return Ux;VP=1;var t=eW(),e=TS(),r=tW(),n=T4(),i=rW(),a=qa(),o=WD(),u="[object Map]",d="[object Object]",f="[object Promise]",p="[object Set]",m="[object WeakMap]",y="[object DataView]",x=o(t),S=o(e),_=o(r),b=o(n),P=o(i),A=a;return(t&&A(new t(new ArrayBuffer(1)))!=y||e&&A(new e)!=u||r&&A(r.resolve())!=f||n&&A(new n)!=p||i&&A(new i)!=m)&&(A=function(I){var R=a(I),E=R==d?I.constructor:void 0,N=E?o(E):"";if(N)switch(N){case x:return y;case S:return u;case _:return f;case b:return p;case P:return m}return R}),Ux=A,Ux}var Bx,FP;function iW(){if(FP)return Bx;FP=1;var t=v4(),e=w4(),r=$7(),n=Z7(),i=nW(),a=gn(),o=S4(),u=j4(),d=1,f="[object Arguments]",p="[object Array]",m="[object Object]",y=Object.prototype,x=y.hasOwnProperty;function S(_,b,P,A,I,R){var E=a(_),N=a(b),T=E?p:i(_),O=N?p:i(b);T=T==f?m:T,O=O==f?m:O;var L=T==m,C=O==m,D=T==O;if(D&&o(_)){if(!o(b))return!1;E=!0,L=!1}if(D&&!L)return R||(R=new t),E||u(_)?e(_,b,P,A,I,R):r(_,b,T,P,A,I,R);if(!(P&d)){var F=L&&x.call(_,"__wrapped__"),$=C&&x.call(b,"__wrapped__");if(F||$){var ee=F?_.value():_,ne=$?b.value():b;return R||(R=new t),I(ee,ne,P,A,R)}}return D?(R||(R=new t),n(_,b,P,A,I,R)):!1}return Bx=S,Bx}var qx,UP;function BS(){if(UP)return qx;UP=1;var t=iW(),e=za();function r(n,i,a,o,u){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,a,o,r,u)}return qx=r,qx}var zx,BP;function aW(){if(BP)return zx;BP=1;var t=v4(),e=BS(),r=1,n=2;function i(a,o,u,d){var f=u.length,p=f,m=!d;if(a==null)return!p;for(a=Object(a);f--;){var y=u[f];if(m&&y[2]?y[1]!==a[y[0]]:!(y[0]in a))return!1}for(;++f<p;){y=u[f];var x=y[0],S=a[x],_=y[1];if(m&&y[2]){if(S===void 0&&!(x in a))return!1}else{var b=new t;if(d)var P=d(S,_,x,a,o,b);if(!(P===void 0?e(_,S,r|n,d,b):P))return!1}}return!0}return zx=i,zx}var Wx,qP;function A4(){if(qP)return Wx;qP=1;var t=zs();function e(r){return r===r&&!t(r)}return Wx=e,Wx}var Hx,zP;function sW(){if(zP)return Hx;zP=1;var t=A4(),e=yg();function r(n){for(var i=e(n),a=i.length;a--;){var o=i[a],u=n[o];i[a]=[o,u,t(u)]}return i}return Hx=r,Hx}var Gx,WP;function N4(){if(WP)return Gx;WP=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return Gx=t,Gx}var Kx,HP;function oW(){if(HP)return Kx;HP=1;var t=aW(),e=sW(),r=N4();function n(i){var a=e(i);return a.length==1&&a[0][2]?r(a[0][0],a[0][1]):function(o){return o===i||t(o,i,a)}}return Kx=n,Kx}var Yx,GP;function lW(){if(GP)return Yx;GP=1;function t(e,r){return e!=null&&r in Object(e)}return Yx=t,Yx}var Xx,KP;function cW(){if(KP)return Xx;KP=1;var t=KD(),e=VS(),r=gn(),n=FS(),i=US(),a=hg();function o(u,d,f){d=t(d,u);for(var p=-1,m=d.length,y=!1;++p<m;){var x=a(d[p]);if(!(y=u!=null&&f(u,x)))break;u=u[x]}return y||++p!=m?y:(m=u==null?0:u.length,!!m&&i(m)&&n(x,m)&&(r(u)||e(u)))}return Xx=o,Xx}var Qx,YP;function uW(){if(YP)return Qx;YP=1;var t=lW(),e=cW();function r(n,i){return n!=null&&e(n,i,t)}return Qx=r,Qx}var Jx,XP;function dW(){if(XP)return Jx;XP=1;var t=BS(),e=YD(),r=uW(),n=kS(),i=A4(),a=N4(),o=hg(),u=1,d=2;function f(p,m){return n(p)&&i(m)?a(o(p),m):function(y){var x=e(y,p);return x===void 0&&x===m?r(y,p):t(m,x,u|d)}}return Jx=f,Jx}var Zx,QP;function Kc(){if(QP)return Zx;QP=1;function t(e){return e}return Zx=t,Zx}var eb,JP;function fW(){if(JP)return eb;JP=1;function t(e){return function(r){return r?.[e]}}return eb=t,eb}var tb,ZP;function hW(){if(ZP)return tb;ZP=1;var t=PS();function e(r){return function(n){return t(n,r)}}return tb=e,tb}var rb,e2;function pW(){if(e2)return rb;e2=1;var t=fW(),e=hW(),r=kS(),n=hg();function i(a){return r(a)?t(n(a)):e(a)}return rb=i,rb}var nb,t2;function na(){if(t2)return nb;t2=1;var t=oW(),e=dW(),r=Kc(),n=gn(),i=pW();function a(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?e(o[0],o[1]):t(o):i(o)}return nb=a,nb}var ib,r2;function P4(){if(r2)return ib;r2=1;function t(e,r,n,i){for(var a=e.length,o=n+(i?1:-1);i?o--:++o<a;)if(r(e[o],o,e))return o;return-1}return ib=t,ib}var ab,n2;function mW(){if(n2)return ab;n2=1;function t(e){return e!==e}return ab=t,ab}var sb,i2;function gW(){if(i2)return sb;i2=1;function t(e,r,n){for(var i=n-1,a=e.length;++i<a;)if(e[i]===r)return i;return-1}return sb=t,sb}var ob,a2;function vW(){if(a2)return ob;a2=1;var t=P4(),e=mW(),r=gW();function n(i,a,o){return a===a?r(i,a,o):t(i,e,o)}return ob=n,ob}var lb,s2;function yW(){if(s2)return lb;s2=1;var t=vW();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return lb=e,lb}var cb,o2;function xW(){if(o2)return cb;o2=1;function t(e,r,n){for(var i=-1,a=e==null?0:e.length;++i<a;)if(n(r,e[i]))return!0;return!1}return cb=t,cb}var ub,l2;function bW(){if(l2)return ub;l2=1;function t(){}return ub=t,ub}var db,c2;function wW(){if(c2)return db;c2=1;var t=T4(),e=bW(),r=$S(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(a){return new t(a)}:e;return db=i,db}var fb,u2;function _W(){if(u2)return fb;u2=1;var t=y4(),e=yW(),r=xW(),n=b4(),i=wW(),a=$S(),o=200;function u(d,f,p){var m=-1,y=e,x=d.length,S=!0,_=[],b=_;if(p)S=!1,y=r;else if(x>=o){var P=f?null:i(d);if(P)return a(P);S=!1,y=n,b=new t}else b=f?[]:_;e:for(;++m<x;){var A=d[m],I=f?f(A):A;if(A=p||A!==0?A:0,S&&I===I){for(var R=b.length;R--;)if(b[R]===I)continue e;f&&b.push(I),_.push(A)}else y(b,I,p)||(b!==_&&b.push(I),_.push(A))}return _}return fb=u,fb}var hb,d2;function SW(){if(d2)return hb;d2=1;var t=na(),e=_W();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return hb=r,hb}var kW=SW();const f2=pt(kW);function I4(t,e,r){return e===!0?f2(t,r):Ge(e)?f2(t,e):t}function vc(t){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vc(t)}var jW=["ref"];function h2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?h2(Object(r),!0).forEach(function(n){xg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function EW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,C4(n.key),n)}}function TW(t,e,r){return e&&p2(t.prototype,e),r&&p2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function AW(t,e,r){return e=Qp(e),NW(t,O4()?Reflect.construct(e,r||[],Qp(t).constructor):e.apply(t,r))}function NW(t,e){if(e&&(vc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PW(t)}function PW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O4=function(){return!!t})()}function Qp(t){return Qp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qp(t)}function IW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k_(t,e)}function k_(t,e){return k_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},k_(t,e)}function xg(t,e,r){return e=C4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function C4(t){var e=OW(t,"string");return vc(e)=="symbol"?e:e+""}function OW(t,e){if(vc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function CW(t,e){if(t==null)return{};var r=RW(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function RW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function MW(t){return t.value}function DW(t,e){if(H.isValidElement(t))return H.cloneElement(t,e);if(typeof t=="function")return H.createElement(t,e);e.ref;var r=CW(e,jW);return H.createElement(LS,r)}var m2=1,Cs=function(t){function e(){var r;EW(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=AW(this,e,[].concat(i)),xg(r,"lastBoundingBox",{width:-1,height:-1}),r}return IW(e,t),TW(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>m2||Math.abs(i.height-this.lastBoundingBox.height)>m2)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?wa({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,o=i.align,u=i.verticalAlign,d=i.margin,f=i.chartWidth,p=i.chartHeight,m,y;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var x=this.getBBoxSnapshot();m={left:((f||0)-x.width)/2}}else m=o==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(u==="middle"){var S=this.getBBoxSnapshot();y={top:((p||0)-S.height)/2}}else y=u==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return wa(wa({},m),y)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,o=i.width,u=i.height,d=i.wrapperStyle,f=i.payloadUniqBy,p=i.payload,m=wa(wa({position:"absolute",width:o||"auto",height:u||"auto"},this.getDefaultPosition(d)),d);return H.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(x){n.wrapperNode=x}},DW(a,wa(wa({},this.props),{},{payload:I4(p,f,MW)})))}}],[{key:"getWithHeight",value:function(n,i){var a=wa(wa({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&je(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])}(B.PureComponent);xg(Cs,"displayName","Legend");xg(Cs,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var pb,g2;function LW(){if(g2)return pb;g2=1;var t=xf(),e=VS(),r=gn(),n=t?t.isConcatSpreadable:void 0;function i(a){return r(a)||e(a)||!!(n&&a&&a[n])}return pb=i,pb}var mb,v2;function R4(){if(v2)return mb;v2=1;var t=_4(),e=LW();function r(n,i,a,o,u){var d=-1,f=n.length;for(a||(a=e),u||(u=[]);++d<f;){var p=n[d];i>0&&a(p)?i>1?r(p,i-1,a,o,u):t(u,p):o||(u[u.length]=p)}return u}return mb=r,mb}var gb,y2;function $W(){if(y2)return gb;y2=1;function t(e){return function(r,n,i){for(var a=-1,o=Object(r),u=i(r),d=u.length;d--;){var f=u[e?d:++a];if(n(o[f],f,o)===!1)break}return r}}return gb=t,gb}var vb,x2;function VW(){if(x2)return vb;x2=1;var t=$W(),e=t();return vb=e,vb}var yb,b2;function M4(){if(b2)return yb;b2=1;var t=VW(),e=yg();function r(n,i){return n&&t(n,i,e)}return yb=r,yb}var xb,w2;function FW(){if(w2)return xb;w2=1;var t=_f();function e(r,n){return function(i,a){if(i==null)return i;if(!t(i))return r(i,a);for(var o=i.length,u=n?o:-1,d=Object(i);(n?u--:++u<o)&&a(d[u],u,d)!==!1;);return i}}return xb=e,xb}var bb,_2;function qS(){if(_2)return bb;_2=1;var t=M4(),e=FW(),r=e(t);return bb=r,bb}var wb,S2;function D4(){if(S2)return wb;S2=1;var t=qS(),e=_f();function r(n,i){var a=-1,o=e(n)?Array(n.length):[];return t(n,function(u,d,f){o[++a]=i(u,d,f)}),o}return wb=r,wb}var _b,k2;function UW(){if(k2)return _b;k2=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return _b=t,_b}var Sb,j2;function BW(){if(j2)return Sb;j2=1;var t=Hc();function e(r,n){if(r!==n){var i=r!==void 0,a=r===null,o=r===r,u=t(r),d=n!==void 0,f=n===null,p=n===n,m=t(n);if(!f&&!m&&!u&&r>n||u&&d&&p&&!f&&!m||a&&d&&p||!i&&p||!o)return 1;if(!a&&!u&&!m&&r<n||m&&i&&o&&!a&&!u||f&&i&&o||!d&&o||!p)return-1}return 0}return Sb=e,Sb}var kb,E2;function qW(){if(E2)return kb;E2=1;var t=BW();function e(r,n,i){for(var a=-1,o=r.criteria,u=n.criteria,d=o.length,f=i.length;++a<d;){var p=t(o[a],u[a]);if(p){if(a>=f)return p;var m=i[a];return p*(m=="desc"?-1:1)}}return r.index-n.index}return kb=e,kb}var jb,T2;function zW(){if(T2)return jb;T2=1;var t=NS(),e=PS(),r=na(),n=D4(),i=UW(),a=k4(),o=qW(),u=Kc(),d=gn();function f(p,m,y){m.length?m=t(m,function(_){return d(_)?function(b){return e(b,_.length===1?_[0]:_)}:_}):m=[u];var x=-1;m=t(m,a(r));var S=n(p,function(_,b,P){var A=t(m,function(I){return I(_)});return{criteria:A,index:++x,value:_}});return i(S,function(_,b){return o(_,b,y)})}return jb=f,jb}var Eb,A2;function WW(){if(A2)return Eb;A2=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return Eb=t,Eb}var Tb,N2;function HW(){if(N2)return Tb;N2=1;var t=WW(),e=Math.max;function r(n,i,a){return i=e(i===void 0?n.length-1:i,0),function(){for(var o=arguments,u=-1,d=e(o.length-i,0),f=Array(d);++u<d;)f[u]=o[i+u];u=-1;for(var p=Array(i+1);++u<i;)p[u]=o[u];return p[i]=a(f),t(n,this,p)}}return Tb=r,Tb}var Ab,P2;function GW(){if(P2)return Ab;P2=1;function t(e){return function(){return e}}return Ab=t,Ab}var Nb,I2;function L4(){if(I2)return Nb;I2=1;var t=tl(),e=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return Nb=e,Nb}var Pb,O2;function KW(){if(O2)return Pb;O2=1;var t=GW(),e=L4(),r=Kc(),n=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:r;return Pb=n,Pb}var Ib,C2;function YW(){if(C2)return Ib;C2=1;var t=800,e=16,r=Date.now;function n(i){var a=0,o=0;return function(){var u=r(),d=e-(u-o);if(o=u,d>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return Ib=n,Ib}var Ob,R2;function XW(){if(R2)return Ob;R2=1;var t=KW(),e=YW(),r=e(t);return Ob=r,Ob}var Cb,M2;function QW(){if(M2)return Cb;M2=1;var t=Kc(),e=HW(),r=XW();function n(i,a){return r(e(i,a,t),i+"")}return Cb=n,Cb}var Rb,D2;function bg(){if(D2)return Rb;D2=1;var t=ES(),e=_f(),r=FS(),n=zs();function i(a,o,u){if(!n(u))return!1;var d=typeof o;return(d=="number"?e(u)&&r(o,u.length):d=="string"&&o in u)?t(u[o],a):!1}return Rb=i,Rb}var Mb,L2;function JW(){if(L2)return Mb;L2=1;var t=R4(),e=zW(),r=QW(),n=bg(),i=r(function(a,o){if(a==null)return[];var u=o.length;return u>1&&n(a,o[0],o[1])?o=[]:u>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),e(a,t(o,1),[])});return Mb=i,Mb}var ZW=JW();const zS=pt(ZW);function kd(t){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kd(t)}function j_(){return j_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},j_.apply(this,arguments)}function eH(t,e){return iH(t)||nH(t,e)||rH(t,e)||tH()}function tH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rH(t,e){if(t){if(typeof t=="string")return $2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $2(t,e)}}function $2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nH(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function iH(t){if(Array.isArray(t))return t}function V2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Db(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V2(Object(r),!0).forEach(function(n){aH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aH(t,e,r){return e=sH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sH(t){var e=oH(t,"string");return kd(e)=="symbol"?e:e+""}function oH(t,e){if(kd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lH(t){return Array.isArray(t)&&ar(t[0])&&ar(t[1])?t.join(" ~ "):t}var cH=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,u=o===void 0?{}:o,d=e.labelStyle,f=d===void 0?{}:d,p=e.payload,m=e.formatter,y=e.itemSorter,x=e.wrapperClassName,S=e.labelClassName,_=e.label,b=e.labelFormatter,P=e.accessibilityLayer,A=P===void 0?!1:P,I=function(){if(p&&p.length){var F={padding:0,margin:0},$=(y?zS(p,y):p).map(function(ee,ne){if(ee.type==="none")return null;var Q=Db({display:"block",paddingTop:4,paddingBottom:4,color:ee.color||"#000"},u),ie=ee.formatter||m||lH,Z=ee.value,J=ee.name,ae=Z,z=J;if(ie&&ae!=null&&z!=null){var Y=ie(Z,J,ee,ne,p);if(Array.isArray(Y)){var K=eH(Y,2);ae=K[0],z=K[1]}else ae=Y}return H.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(ne),style:Q},ar(z)?H.createElement("span",{className:"recharts-tooltip-item-name"},z):null,ar(z)?H.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,H.createElement("span",{className:"recharts-tooltip-item-value"},ae),H.createElement("span",{className:"recharts-tooltip-item-unit"},ee.unit||""))});return H.createElement("ul",{className:"recharts-tooltip-item-list",style:F},$)}return null},R=Db({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),E=Db({margin:0},f),N=!et(_),T=N?_:"",O=Je("recharts-default-tooltip",x),L=Je("recharts-tooltip-label",S);N&&b&&p!==void 0&&p!==null&&(T=b(_,p));var C=A?{role:"status","aria-live":"assertive"}:{};return H.createElement("div",j_({className:O,style:R},C),H.createElement("p",{className:L,style:E},H.isValidElement(T)?T:"".concat(T)),I())};function jd(t){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jd(t)}function Jh(t,e,r){return e=uH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uH(t){var e=dH(t,"string");return jd(e)=="symbol"?e:e+""}function dH(t,e){if(jd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Du="recharts-tooltip-wrapper",fH={visibility:"hidden"};function hH(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Je(Du,Jh(Jh(Jh(Jh({},"".concat(Du,"-right"),je(r)&&e&&je(e.x)&&r>=e.x),"".concat(Du,"-left"),je(r)&&e&&je(e.x)&&r<e.x),"".concat(Du,"-bottom"),je(n)&&e&&je(e.y)&&n>=e.y),"".concat(Du,"-top"),je(n)&&e&&je(e.y)&&n<e.y))}function F2(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,u=t.tooltipDimension,d=t.viewBox,f=t.viewBoxDimension;if(a&&je(a[n]))return a[n];var p=r[n]-u-i,m=r[n]+i;if(e[n])return o[n]?p:m;if(o[n]){var y=p,x=d[n];return y<x?Math.max(m,d[n]):Math.max(p,d[n])}var S=m+u,_=d[n]+f;return S>_?Math.max(p,d[n]):Math.max(m,d[n])}function pH(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function mH(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,u=t.useTranslate3d,d=t.viewBox,f,p,m;return o.height>0&&o.width>0&&r?(p=F2({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:d,viewBoxDimension:d.width}),m=F2({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:d,viewBoxDimension:d.height}),f=pH({translateX:p,translateY:m,useTranslate3d:u})):f=fH,{cssProperties:f,cssClasses:hH({translateX:p,translateY:m,coordinate:r})}}function yc(t){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yc(t)}function U2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function B2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?U2(Object(r),!0).forEach(function(n){T_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,V4(n.key),n)}}function yH(t,e,r){return e&&vH(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xH(t,e,r){return e=Jp(e),bH(t,$4()?Reflect.construct(e,r||[],Jp(t).constructor):e.apply(t,r))}function bH(t,e){if(e&&(yc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wH(t)}function wH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($4=function(){return!!t})()}function Jp(t){return Jp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jp(t)}function _H(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E_(t,e)}function E_(t,e){return E_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},E_(t,e)}function T_(t,e,r){return e=V4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function V4(t){var e=SH(t,"string");return yc(e)=="symbol"?e:e+""}function SH(t,e){if(yc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var q2=1,kH=function(t){function e(){var r;gH(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=xH(this,e,[].concat(i)),T_(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),T_(r,"handleKeyDown",function(o){if(o.key==="Escape"){var u,d,f,p;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&u!==void 0?u:0,y:(f=(p=r.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&f!==void 0?f:0}})}}),r}return _H(e,t),yH(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>q2||Math.abs(n.height-this.state.lastBoundingBox.height)>q2)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,u=i.animationDuration,d=i.animationEasing,f=i.children,p=i.coordinate,m=i.hasPayload,y=i.isAnimationActive,x=i.offset,S=i.position,_=i.reverseDirection,b=i.useTranslate3d,P=i.viewBox,A=i.wrapperStyle,I=mH({allowEscapeViewBox:o,coordinate:p,offsetTopLeft:x,position:S,reverseDirection:_,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:P}),R=I.cssClasses,E=I.cssProperties,N=B2(B2({transition:y&&a?"transform ".concat(u,"ms ").concat(d):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&m?"visible":"hidden",position:"absolute",top:0,left:0},A);return H.createElement("div",{tabIndex:-1,className:R,style:N,ref:function(O){n.wrapperNode=O}},f)}}])}(B.PureComponent),jH=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Yc={isSsr:jH()};function xc(t){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xc(t)}function z2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function W2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?z2(Object(r),!0).forEach(function(n){WS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function EH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,U4(n.key),n)}}function AH(t,e,r){return e&&TH(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function NH(t,e,r){return e=Zp(e),PH(t,F4()?Reflect.construct(e,r||[],Zp(t).constructor):e.apply(t,r))}function PH(t,e){if(e&&(xc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IH(t)}function IH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F4=function(){return!!t})()}function Zp(t){return Zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zp(t)}function OH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A_(t,e)}function A_(t,e){return A_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},A_(t,e)}function WS(t,e,r){return e=U4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function U4(t){var e=CH(t,"string");return xc(e)=="symbol"?e:e+""}function CH(t,e){if(xc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function RH(t){return t.dataKey}function MH(t,e){return H.isValidElement(t)?H.cloneElement(t,e):typeof t=="function"?H.createElement(t,e):H.createElement(cH,e)}var Xn=function(t){function e(){return EH(this,e),NH(this,e,arguments)}return OH(e,t),AH(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,u=i.animationDuration,d=i.animationEasing,f=i.content,p=i.coordinate,m=i.filterNull,y=i.isAnimationActive,x=i.offset,S=i.payload,_=i.payloadUniqBy,b=i.position,P=i.reverseDirection,A=i.useTranslate3d,I=i.viewBox,R=i.wrapperStyle,E=S??[];m&&E.length&&(E=I4(S.filter(function(T){return T.value!=null&&(T.hide!==!0||n.props.includeHidden)}),_,RH));var N=E.length>0;return H.createElement(kH,{allowEscapeViewBox:o,animationDuration:u,animationEasing:d,isAnimationActive:y,active:a,coordinate:p,hasPayload:N,offset:x,position:b,reverseDirection:P,useTranslate3d:A,viewBox:I,wrapperStyle:R},MH(f,W2(W2({},this.props),{},{payload:E})))}}])}(B.PureComponent);WS(Xn,"displayName","Tooltip");WS(Xn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Yc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Lb,H2;function DH(){if(H2)return Lb;H2=1;var t=ra(),e=function(){return t.Date.now()};return Lb=e,Lb}var $b,G2;function LH(){if(G2)return $b;G2=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return $b=e,$b}var Vb,K2;function $H(){if(K2)return Vb;K2=1;var t=LH(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return Vb=r,Vb}var Fb,Y2;function B4(){if(Y2)return Fb;Y2=1;var t=$H(),e=zs(),r=Hc(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,u=parseInt;function d(f){if(typeof f=="number")return f;if(r(f))return n;if(e(f)){var p=typeof f.valueOf=="function"?f.valueOf():f;f=e(p)?p+"":p}if(typeof f!="string")return f===0?f:+f;f=t(f);var m=a.test(f);return m||o.test(f)?u(f.slice(2),m?2:8):i.test(f)?n:+f}return Fb=d,Fb}var Ub,X2;function VH(){if(X2)return Ub;X2=1;var t=zs(),e=DH(),r=B4(),n="Expected a function",i=Math.max,a=Math.min;function o(u,d,f){var p,m,y,x,S,_,b=0,P=!1,A=!1,I=!0;if(typeof u!="function")throw new TypeError(n);d=r(d)||0,t(f)&&(P=!!f.leading,A="maxWait"in f,y=A?i(r(f.maxWait)||0,d):y,I="trailing"in f?!!f.trailing:I);function R($){var ee=p,ne=m;return p=m=void 0,b=$,x=u.apply(ne,ee),x}function E($){return b=$,S=setTimeout(O,d),P?R($):x}function N($){var ee=$-_,ne=$-b,Q=d-ee;return A?a(Q,y-ne):Q}function T($){var ee=$-_,ne=$-b;return _===void 0||ee>=d||ee<0||A&&ne>=y}function O(){var $=e();if(T($))return L($);S=setTimeout(O,N($))}function L($){return S=void 0,I&&p?R($):(p=m=void 0,x)}function C(){S!==void 0&&clearTimeout(S),b=0,p=_=m=S=void 0}function D(){return S===void 0?x:L(e())}function F(){var $=e(),ee=T($);if(p=arguments,m=this,_=$,ee){if(S===void 0)return E(_);if(A)return clearTimeout(S),S=setTimeout(O,d),R(_)}return S===void 0&&(S=setTimeout(O,d)),x}return F.cancel=C,F.flush=D,F}return Ub=o,Ub}var Bb,Q2;function FH(){if(Q2)return Bb;Q2=1;var t=VH(),e=zs(),r="Expected a function";function n(i,a,o){var u=!0,d=!0;if(typeof i!="function")throw new TypeError(r);return e(o)&&(u="leading"in o?!!o.leading:u,d="trailing"in o?!!o.trailing:d),t(i,a,{leading:u,maxWait:a,trailing:d})}return Bb=n,Bb}var UH=FH();const q4=pt(UH);function Ed(t){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ed(t)}function J2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?J2(Object(r),!0).forEach(function(n){BH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):J2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BH(t,e,r){return e=qH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qH(t){var e=zH(t,"string");return Ed(e)=="symbol"?e:e+""}function zH(t,e){if(Ed(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ed(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WH(t,e){return YH(t)||KH(t,e)||GH(t,e)||HH()}function HH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GH(t,e){if(t){if(typeof t=="string")return Z2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z2(t,e)}}function Z2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function KH(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function YH(t){if(Array.isArray(t))return t}var HS=B.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,o=a===void 0?"100%":a,u=t.height,d=u===void 0?"100%":u,f=t.minWidth,p=f===void 0?0:f,m=t.minHeight,y=t.maxHeight,x=t.children,S=t.debounce,_=S===void 0?0:S,b=t.id,P=t.className,A=t.onResize,I=t.style,R=I===void 0?{}:I,E=B.useRef(null),N=B.useRef();N.current=A,B.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var T=B.useState({containerWidth:i.width,containerHeight:i.height}),O=WH(T,2),L=O[0],C=O[1],D=B.useCallback(function($,ee){C(function(ne){var Q=Math.round($),ie=Math.round(ee);return ne.containerWidth===Q&&ne.containerHeight===ie?ne:{containerWidth:Q,containerHeight:ie}})},[]);B.useEffect(function(){var $=function(J){var ae,z=J[0].contentRect,Y=z.width,K=z.height;D(Y,K),(ae=N.current)===null||ae===void 0||ae.call(N,Y,K)};_>0&&($=q4($,_,{trailing:!0,leading:!1}));var ee=new ResizeObserver($),ne=E.current.getBoundingClientRect(),Q=ne.width,ie=ne.height;return D(Q,ie),ee.observe(E.current),function(){ee.disconnect()}},[D,_]);var F=B.useMemo(function(){var $=L.containerWidth,ee=L.containerHeight;if($<0||ee<0)return null;wi(Po(o)||Po(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,d),wi(!r||r>0,"The aspect(%s) must be greater than zero.",r);var ne=Po(o)?$:o,Q=Po(d)?ee:d;r&&r>0&&(ne?Q=ne/r:Q&&(ne=Q*r),y&&Q>y&&(Q=y)),wi(ne>0||Q>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,ne,Q,o,d,p,m,r);var ie=!Array.isArray(x)&&Ia(x.type).endsWith("Chart");return H.Children.map(x,function(Z){return H.isValidElement(Z)?B.cloneElement(Z,Zh({width:ne,height:Q},ie?{style:Zh({height:"100%",width:"100%",maxHeight:Q,maxWidth:ne},Z.props.style)}:{})):Z})},[r,x,d,y,m,p,L,o]);return H.createElement("div",{id:b?"".concat(b):void 0,className:Je("recharts-responsive-container",P),style:Zh(Zh({},R),{},{width:o,height:d,minWidth:p,minHeight:m,maxHeight:y}),ref:E},F)}),wg=function(e){return null};wg.displayName="Cell";function Td(t){"@babel/helpers - typeof";return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Td(t)}function eI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function N_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eI(Object(r),!0).forEach(function(n){XH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function XH(t,e,r){return e=QH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QH(t){var e=JH(t,"string");return Td(e)=="symbol"?e:e+""}function JH(t,e){if(Td(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Td(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bl={widthCache:{},cacheCount:0},ZH=2e3,eG={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},tI="recharts_measurement_span";function tG(t){var e=N_({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var ad=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Yc.isSsr)return{width:0,height:0};var n=tG(r),i=JSON.stringify({text:e,copyStyle:n});if(Bl.widthCache[i])return Bl.widthCache[i];try{var a=document.getElementById(tI);a||(a=document.createElement("span"),a.setAttribute("id",tI),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=N_(N_({},eG),n);Object.assign(a.style,o),a.textContent="".concat(e);var u=a.getBoundingClientRect(),d={width:u.width,height:u.height};return Bl.widthCache[i]=d,++Bl.cacheCount>ZH&&(Bl.cacheCount=0,Bl.widthCache={}),d}catch{return{width:0,height:0}}},rG=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Ad(t){"@babel/helpers - typeof";return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ad(t)}function em(t,e){return sG(t)||aG(t,e)||iG(t,e)||nG()}function nG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iG(t,e){if(t){if(typeof t=="string")return rI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rI(t,e)}}function rI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function aG(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function sG(t){if(Array.isArray(t))return t}function oG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cG(n.key),n)}}function lG(t,e,r){return e&&nI(t.prototype,e),r&&nI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function cG(t){var e=uG(t,"string");return Ad(e)=="symbol"?e:e+""}function uG(t,e){if(Ad(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var iI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,aI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,dG=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,fG=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,z4={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},hG=Object.keys(z4),Yl="NaN";function pG(t,e){return t*z4[e]}var ep=function(){function t(e,r){oG(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!dG.test(r)&&(this.num=NaN,this.unit=""),hG.includes(r)&&(this.num=pG(e,r),this.unit="px")}return lG(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=fG.exec(r))!==null&&n!==void 0?n:[],a=em(i,3),o=a[1],u=a[2];return new t(parseFloat(o),u??"")}}])}();function W4(t){if(t.includes(Yl))return Yl;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=iI.exec(e))!==null&&r!==void 0?r:[],i=em(n,4),a=i[1],o=i[2],u=i[3],d=ep.parse(a??""),f=ep.parse(u??""),p=o==="*"?d.multiply(f):d.divide(f);if(p.isNaN())return Yl;e=e.replace(iI,p.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,y=(m=aI.exec(e))!==null&&m!==void 0?m:[],x=em(y,4),S=x[1],_=x[2],b=x[3],P=ep.parse(S??""),A=ep.parse(b??""),I=_==="+"?P.add(A):P.subtract(A);if(I.isNaN())return Yl;e=e.replace(aI,I.toString())}return e}var sI=/\(([^()]*)\)/;function mG(t){for(var e=t;e.includes("(");){var r=sI.exec(e),n=em(r,2),i=n[1];e=e.replace(sI,W4(i))}return e}function gG(t){var e=t.replace(/\s+/g,"");return e=mG(e),e=W4(e),e}function vG(t){try{return gG(t)}catch{return Yl}}function qb(t){var e=vG(t.slice(5,-1));return e===Yl?"":e}var yG=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],xG=["dx","dy","angle","className","breakAll"];function P_(){return P_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},P_.apply(this,arguments)}function oI(t,e){if(t==null)return{};var r=bG(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function bG(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function lI(t,e){return kG(t)||SG(t,e)||_G(t,e)||wG()}function wG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _G(t,e){if(t){if(typeof t=="string")return cI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cI(t,e)}}function cI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function SG(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function kG(t){if(Array.isArray(t))return t}var H4=/[ \f\n\r\t\v\u2028\u2029]+/,G4=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];et(r)||(n?a=r.toString().split(""):a=r.toString().split(H4));var o=a.map(function(d){return{word:d,width:ad(d,i).width}}),u=n?0:ad("",i).width;return{wordsWithComputedWidth:o,spaceWidth:u}}catch{return null}},jG=function(e,r,n,i,a){var o=e.maxLines,u=e.children,d=e.style,f=e.breakAll,p=je(o),m=u,y=function(){var ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ne.reduce(function(Q,ie){var Z=ie.word,J=ie.width,ae=Q[Q.length-1];if(ae&&(i==null||a||ae.width+J+n<Number(i)))ae.words.push(Z),ae.width+=J+n;else{var z={words:[Z],width:J};Q.push(z)}return Q},[])},x=y(r),S=function(ne){return ne.reduce(function(Q,ie){return Q.width>ie.width?Q:ie})};if(!p)return x;for(var _="",b=function(ne){var Q=m.slice(0,ne),ie=G4({breakAll:f,style:d,children:Q+_}).wordsWithComputedWidth,Z=y(ie),J=Z.length>o||S(Z).width>Number(i);return[J,Z]},P=0,A=m.length-1,I=0,R;P<=A&&I<=m.length-1;){var E=Math.floor((P+A)/2),N=E-1,T=b(N),O=lI(T,2),L=O[0],C=O[1],D=b(E),F=lI(D,1),$=F[0];if(!L&&!$&&(P=E+1),L&&$&&(A=E-1),!L&&$){R=C;break}I++}return R||x},uI=function(e){var r=et(e)?[]:e.toString().split(H4);return[{words:r}]},EG=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,u=e.maxLines;if((r||n)&&!Yc.isSsr){var d,f,p=G4({breakAll:o,children:i,style:a});if(p){var m=p.wordsWithComputedWidth,y=p.spaceWidth;d=m,f=y}else return uI(i);return jG({breakAll:o,children:i,maxLines:u,style:a},d,f,r,n)}return uI(i)},dI="#808080",Go=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.lineHeight,u=o===void 0?"1em":o,d=e.capHeight,f=d===void 0?"0.71em":d,p=e.scaleToFit,m=p===void 0?!1:p,y=e.textAnchor,x=y===void 0?"start":y,S=e.verticalAnchor,_=S===void 0?"end":S,b=e.fill,P=b===void 0?dI:b,A=oI(e,yG),I=B.useMemo(function(){return EG({breakAll:A.breakAll,children:A.children,maxLines:A.maxLines,scaleToFit:m,style:A.style,width:A.width})},[A.breakAll,A.children,A.maxLines,m,A.style,A.width]),R=A.dx,E=A.dy,N=A.angle,T=A.className,O=A.breakAll,L=oI(A,xG);if(!ar(n)||!ar(a))return null;var C=n+(je(R)?R:0),D=a+(je(E)?E:0),F;switch(_){case"start":F=qb("calc(".concat(f,")"));break;case"middle":F=qb("calc(".concat((I.length-1)/2," * -").concat(u," + (").concat(f," / 2))"));break;default:F=qb("calc(".concat(I.length-1," * -").concat(u,")"));break}var $=[];if(m){var ee=I[0].width,ne=A.width;$.push("scale(".concat((je(ne)?ne/ee:1)/ee,")"))}return N&&$.push("rotate(".concat(N,", ").concat(C,", ").concat(D,")")),$.length&&(L.transform=$.join(" ")),H.createElement("text",P_({},We(L,!0),{x:C,y:D,className:Je("recharts-text",T),textAnchor:x,fill:P.includes("url")?dI:P}),I.map(function(Q,ie){var Z=Q.words.join(O?"":" ");return H.createElement("tspan",{x:C,dy:ie===0?F:u,key:"".concat(Z,"-").concat(ie)},Z)}))};function Rs(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function TG(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function GS(t){let e,r,n;t.length!==2?(e=Rs,r=(u,d)=>Rs(t(u),d),n=(u,d)=>t(u)-d):(e=t===Rs||t===TG?t:AG,r=t,n=t);function i(u,d,f=0,p=u.length){if(f<p){if(e(d,d)!==0)return p;do{const m=f+p>>>1;r(u[m],d)<0?f=m+1:p=m}while(f<p)}return f}function a(u,d,f=0,p=u.length){if(f<p){if(e(d,d)!==0)return p;do{const m=f+p>>>1;r(u[m],d)<=0?f=m+1:p=m}while(f<p)}return f}function o(u,d,f=0,p=u.length){const m=i(u,d,f,p-1);return m>f&&n(u[m-1],d)>-n(u[m],d)?m-1:m}return{left:i,center:o,right:a}}function AG(){return 0}function K4(t){return t===null?NaN:+t}function*NG(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const PG=GS(Rs),Sf=PG.right;GS(K4).center;class fI extends Map{constructor(e,r=CG){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(hI(this,e))}has(e){return super.has(hI(this,e))}set(e,r){return super.set(IG(this,e),r)}delete(e){return super.delete(OG(this,e))}}function hI({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function IG({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function OG({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function CG(t){return t!==null&&typeof t=="object"?t.valueOf():t}function RG(t=Rs){if(t===Rs)return Y4;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function Y4(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const MG=Math.sqrt(50),DG=Math.sqrt(10),LG=Math.sqrt(2);function tm(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=MG?10:a>=DG?5:a>=LG?2:1;let u,d,f;return i<0?(f=Math.pow(10,-i)/o,u=Math.round(t*f),d=Math.round(e*f),u/f<t&&++u,d/f>e&&--d,f=-f):(f=Math.pow(10,i)*o,u=Math.round(t/f),d=Math.round(e/f),u*f<t&&++u,d*f>e&&--d),d<u&&.5<=r&&r<2?tm(t,e,r*2):[u,d,f]}function I_(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,o]=n?tm(e,t,r):tm(t,e,r);if(!(a>=i))return[];const u=a-i+1,d=new Array(u);if(n)if(o<0)for(let f=0;f<u;++f)d[f]=(a-f)/-o;else for(let f=0;f<u;++f)d[f]=(a-f)*o;else if(o<0)for(let f=0;f<u;++f)d[f]=(i+f)/-o;else for(let f=0;f<u;++f)d[f]=(i+f)*o;return d}function O_(t,e,r){return e=+e,t=+t,r=+r,tm(t,e,r)[2]}function C_(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?O_(e,t,r):O_(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function pI(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function mI(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function X4(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?Y4:RG(i);n>r;){if(n-r>600){const d=n-r+1,f=e-r+1,p=Math.log(d),m=.5*Math.exp(2*p/3),y=.5*Math.sqrt(p*m*(d-m)/d)*(f-d/2<0?-1:1),x=Math.max(r,Math.floor(e-f*m/d+y)),S=Math.min(n,Math.floor(e+(d-f)*m/d+y));X4(t,e,x,S,i)}const a=t[e];let o=r,u=n;for(Lu(t,r,e),i(t[n],a)>0&&Lu(t,r,n);o<u;){for(Lu(t,o,u),++o,--u;i(t[o],a)<0;)++o;for(;i(t[u],a)>0;)--u}i(t[r],a)===0?Lu(t,r,u):(++u,Lu(t,u,n)),u<=e&&(r=u+1),e<=u&&(n=u-1)}return t}function Lu(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function $G(t,e,r){if(t=Float64Array.from(NG(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return mI(t);if(e>=1)return pI(t);var n,i=(n-1)*e,a=Math.floor(i),o=pI(X4(t,a).subarray(0,a+1)),u=mI(t.subarray(a+1));return o+(u-o)*(i-a)}}function VG(t,e,r=K4){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),o=+r(t[a],a,t),u=+r(t[a+1],a+1,t);return o+(u-o)*(i-a)}}function FG(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function ri(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Wa(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const R_=Symbol("implicit");function KS(){var t=new fI,e=[],r=[],n=R_;function i(a){let o=t.get(a);if(o===void 0){if(n!==R_)return n;t.set(a,o=e.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new fI;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return KS(e,r).unknown(n)},ri.apply(i,arguments),i}function Nd(){var t=KS().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,o,u=!1,d=0,f=0,p=.5;delete t.unknown;function m(){var y=e().length,x=i<n,S=x?i:n,_=x?n:i;a=(_-S)/Math.max(1,y-d+f*2),u&&(a=Math.floor(a)),S+=(_-S-a*(y-d))*p,o=a*(1-d),u&&(S=Math.round(S),o=Math.round(o));var b=FG(y).map(function(P){return S+a*P});return r(x?b.reverse():b)}return t.domain=function(y){return arguments.length?(e(y),m()):e()},t.range=function(y){return arguments.length?([n,i]=y,n=+n,i=+i,m()):[n,i]},t.rangeRound=function(y){return[n,i]=y,n=+n,i=+i,u=!0,m()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(y){return arguments.length?(u=!!y,m()):u},t.padding=function(y){return arguments.length?(d=Math.min(1,f=+y),m()):d},t.paddingInner=function(y){return arguments.length?(d=Math.min(1,y),m()):d},t.paddingOuter=function(y){return arguments.length?(f=+y,m()):f},t.align=function(y){return arguments.length?(p=Math.max(0,Math.min(1,y)),m()):p},t.copy=function(){return Nd(e(),[n,i]).round(u).paddingInner(d).paddingOuter(f).align(p)},ri.apply(m(),arguments)}function Q4(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Q4(e())},t}function sd(){return Q4(Nd.apply(null,arguments).paddingInner(1))}function YS(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function J4(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function kf(){}var Pd=.7,rm=1/Pd,ac="\\s*([+-]?\\d+)\\s*",Id="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ki="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",UG=/^#([0-9a-f]{3,8})$/,BG=new RegExp(`^rgb\\(${ac},${ac},${ac}\\)$`),qG=new RegExp(`^rgb\\(${Ki},${Ki},${Ki}\\)$`),zG=new RegExp(`^rgba\\(${ac},${ac},${ac},${Id}\\)$`),WG=new RegExp(`^rgba\\(${Ki},${Ki},${Ki},${Id}\\)$`),HG=new RegExp(`^hsl\\(${Id},${Ki},${Ki}\\)$`),GG=new RegExp(`^hsla\\(${Id},${Ki},${Ki},${Id}\\)$`),gI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};YS(kf,Od,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:vI,formatHex:vI,formatHex8:KG,formatHsl:YG,formatRgb:yI,toString:yI});function vI(){return this.rgb().formatHex()}function KG(){return this.rgb().formatHex8()}function YG(){return Z4(this).formatHsl()}function yI(){return this.rgb().formatRgb()}function Od(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=UG.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?xI(e):r===3?new hn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?tp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?tp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=BG.exec(t))?new hn(e[1],e[2],e[3],1):(e=qG.exec(t))?new hn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=zG.exec(t))?tp(e[1],e[2],e[3],e[4]):(e=WG.exec(t))?tp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=HG.exec(t))?_I(e[1],e[2]/100,e[3]/100,1):(e=GG.exec(t))?_I(e[1],e[2]/100,e[3]/100,e[4]):gI.hasOwnProperty(t)?xI(gI[t]):t==="transparent"?new hn(NaN,NaN,NaN,0):null}function xI(t){return new hn(t>>16&255,t>>8&255,t&255,1)}function tp(t,e,r,n){return n<=0&&(t=e=r=NaN),new hn(t,e,r,n)}function XG(t){return t instanceof kf||(t=Od(t)),t?(t=t.rgb(),new hn(t.r,t.g,t.b,t.opacity)):new hn}function M_(t,e,r,n){return arguments.length===1?XG(t):new hn(t,e,r,n??1)}function hn(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}YS(hn,M_,J4(kf,{brighter(t){return t=t==null?rm:Math.pow(rm,t),new hn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Pd:Math.pow(Pd,t),new hn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new hn(Do(this.r),Do(this.g),Do(this.b),nm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bI,formatHex:bI,formatHex8:QG,formatRgb:wI,toString:wI}));function bI(){return`#${Io(this.r)}${Io(this.g)}${Io(this.b)}`}function QG(){return`#${Io(this.r)}${Io(this.g)}${Io(this.b)}${Io((isNaN(this.opacity)?1:this.opacity)*255)}`}function wI(){const t=nm(this.opacity);return`${t===1?"rgb(":"rgba("}${Do(this.r)}, ${Do(this.g)}, ${Do(this.b)}${t===1?")":`, ${t})`}`}function nm(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Do(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Io(t){return t=Do(t),(t<16?"0":"")+t.toString(16)}function _I(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new yi(t,e,r,n)}function Z4(t){if(t instanceof yi)return new yi(t.h,t.s,t.l,t.opacity);if(t instanceof kf||(t=Od(t)),!t)return new yi;if(t instanceof yi)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,u=a-i,d=(a+i)/2;return u?(e===a?o=(r-n)/u+(r<n)*6:r===a?o=(n-e)/u+2:o=(e-r)/u+4,u/=d<.5?a+i:2-a-i,o*=60):u=d>0&&d<1?0:o,new yi(o,u,d,t.opacity)}function JG(t,e,r,n){return arguments.length===1?Z4(t):new yi(t,e,r,n??1)}function yi(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}YS(yi,JG,J4(kf,{brighter(t){return t=t==null?rm:Math.pow(rm,t),new yi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Pd:Math.pow(Pd,t),new yi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new hn(zb(t>=240?t-240:t+120,i,n),zb(t,i,n),zb(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new yi(SI(this.h),rp(this.s),rp(this.l),nm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=nm(this.opacity);return`${t===1?"hsl(":"hsla("}${SI(this.h)}, ${rp(this.s)*100}%, ${rp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function SI(t){return t=(t||0)%360,t<0?t+360:t}function rp(t){return Math.max(0,Math.min(1,t||0))}function zb(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const XS=t=>()=>t;function ZG(t,e){return function(r){return t+r*e}}function eK(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function tK(t){return(t=+t)==1?eL:function(e,r){return r-e?eK(e,r,t):XS(isNaN(e)?r:e)}}function eL(t,e){var r=e-t;return r?ZG(t,r):XS(isNaN(t)?e:t)}const kI=function t(e){var r=tK(e);function n(i,a){var o=r((i=M_(i)).r,(a=M_(a)).r),u=r(i.g,a.g),d=r(i.b,a.b),f=eL(i.opacity,a.opacity);return function(p){return i.r=o(p),i.g=u(p),i.b=d(p),i.opacity=f(p),i+""}}return n.gamma=t,n}(1);function rK(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function nK(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function iK(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=Xc(t[o],e[o]);for(;o<r;++o)a[o]=e[o];return function(u){for(o=0;o<n;++o)a[o]=i[o](u);return a}}function aK(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function im(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function sK(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Xc(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var D_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Wb=new RegExp(D_.source,"g");function oK(t){return function(){return t}}function lK(t){return function(e){return t(e)+""}}function cK(t,e){var r=D_.lastIndex=Wb.lastIndex=0,n,i,a,o=-1,u=[],d=[];for(t=t+"",e=e+"";(n=D_.exec(t))&&(i=Wb.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),u[o]?u[o]+=a:u[++o]=a),(n=n[0])===(i=i[0])?u[o]?u[o]+=i:u[++o]=i:(u[++o]=null,d.push({i:o,x:im(n,i)})),r=Wb.lastIndex;return r<e.length&&(a=e.slice(r),u[o]?u[o]+=a:u[++o]=a),u.length<2?d[0]?lK(d[0].x):oK(e):(e=d.length,function(f){for(var p=0,m;p<e;++p)u[(m=d[p]).i]=m.x(f);return u.join("")})}function Xc(t,e){var r=typeof e,n;return e==null||r==="boolean"?XS(e):(r==="number"?im:r==="string"?(n=Od(e))?(e=n,kI):cK:e instanceof Od?kI:e instanceof Date?aK:nK(e)?rK:Array.isArray(e)?iK:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?sK:im)(t,e)}function QS(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function uK(t,e){e===void 0&&(e=t,t=Xc);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(o){var u=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[u](o-u)}}function dK(t){return function(){return t}}function am(t){return+t}var jI=[0,1];function Qr(t){return t}function L_(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:dK(isNaN(e)?NaN:.5)}function fK(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function hK(t,e,r){var n=t[0],i=t[1],a=e[0],o=e[1];return i<n?(n=L_(i,n),a=r(o,a)):(n=L_(n,i),a=r(a,o)),function(u){return a(n(u))}}function pK(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=L_(t[o],t[o+1]),a[o]=r(e[o],e[o+1]);return function(u){var d=Sf(t,u,1,n)-1;return a[d](i[d](u))}}function jf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function _g(){var t=jI,e=jI,r=Xc,n,i,a,o=Qr,u,d,f;function p(){var y=Math.min(t.length,e.length);return o!==Qr&&(o=fK(t[0],t[y-1])),u=y>2?pK:hK,d=f=null,m}function m(y){return y==null||isNaN(y=+y)?a:(d||(d=u(t.map(n),e,r)))(n(o(y)))}return m.invert=function(y){return o(i((f||(f=u(e,t.map(n),im)))(y)))},m.domain=function(y){return arguments.length?(t=Array.from(y,am),p()):t.slice()},m.range=function(y){return arguments.length?(e=Array.from(y),p()):e.slice()},m.rangeRound=function(y){return e=Array.from(y),r=QS,p()},m.clamp=function(y){return arguments.length?(o=y?!0:Qr,p()):o!==Qr},m.interpolate=function(y){return arguments.length?(r=y,p()):r},m.unknown=function(y){return arguments.length?(a=y,m):a},function(y,x){return n=y,i=x,p()}}function JS(){return _g()(Qr,Qr)}function mK(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function sm(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function bc(t){return t=sm(Math.abs(t)),t?t[1]:NaN}function gK(t,e){return function(r,n){for(var i=r.length,a=[],o=0,u=t[0],d=0;i>0&&u>0&&(d+u+1>n&&(u=Math.max(1,n-d)),a.push(r.substring(i-=u,i+u)),!((d+=u+1)>n));)u=t[o=(o+1)%t.length];return a.reverse().join(e)}}function vK(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var yK=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Cd(t){if(!(e=yK.exec(t)))throw new Error("invalid format: "+t);var e;return new ZS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Cd.prototype=ZS.prototype;function ZS(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}ZS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function xK(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var tL;function bK(t,e){var r=sm(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(tL=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+sm(t,Math.max(0,e+a-1))[0]}function EI(t,e){var r=sm(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const TI={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:mK,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>EI(t*100,e),r:EI,s:bK,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function AI(t){return t}var NI=Array.prototype.map,PI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function wK(t){var e=t.grouping===void 0||t.thousands===void 0?AI:gK(NI.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?AI:vK(NI.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function f(m){m=Cd(m);var y=m.fill,x=m.align,S=m.sign,_=m.symbol,b=m.zero,P=m.width,A=m.comma,I=m.precision,R=m.trim,E=m.type;E==="n"?(A=!0,E="g"):TI[E]||(I===void 0&&(I=12),R=!0,E="g"),(b||y==="0"&&x==="=")&&(b=!0,y="0",x="=");var N=_==="$"?r:_==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",T=_==="$"?n:/[%p]/.test(E)?o:"",O=TI[E],L=/[defgprs%]/.test(E);I=I===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,I)):Math.max(0,Math.min(20,I));function C(D){var F=N,$=T,ee,ne,Q;if(E==="c")$=O(D)+$,D="";else{D=+D;var ie=D<0||1/D<0;if(D=isNaN(D)?d:O(Math.abs(D),I),R&&(D=xK(D)),ie&&+D==0&&S!=="+"&&(ie=!1),F=(ie?S==="("?S:u:S==="-"||S==="("?"":S)+F,$=(E==="s"?PI[8+tL/3]:"")+$+(ie&&S==="("?")":""),L){for(ee=-1,ne=D.length;++ee<ne;)if(Q=D.charCodeAt(ee),48>Q||Q>57){$=(Q===46?i+D.slice(ee+1):D.slice(ee))+$,D=D.slice(0,ee);break}}}A&&!b&&(D=e(D,1/0));var Z=F.length+D.length+$.length,J=Z<P?new Array(P-Z+1).join(y):"";switch(A&&b&&(D=e(J+D,J.length?P-$.length:1/0),J=""),x){case"<":D=F+D+$+J;break;case"=":D=F+J+D+$;break;case"^":D=J.slice(0,Z=J.length>>1)+F+D+$+J.slice(Z);break;default:D=J+F+D+$;break}return a(D)}return C.toString=function(){return m+""},C}function p(m,y){var x=f((m=Cd(m),m.type="f",m)),S=Math.max(-8,Math.min(8,Math.floor(bc(y)/3)))*3,_=Math.pow(10,-S),b=PI[8+S/3];return function(P){return x(_*P)+b}}return{format:f,formatPrefix:p}}var np,ek,rL;_K({thousands:",",grouping:[3],currency:["$",""]});function _K(t){return np=wK(t),ek=np.format,rL=np.formatPrefix,np}function SK(t){return Math.max(0,-bc(Math.abs(t)))}function kK(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(bc(e)/3)))*3-bc(Math.abs(t)))}function jK(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,bc(e)-bc(t))+1}function nL(t,e,r,n){var i=C_(t,e,r),a;switch(n=Cd(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=kK(i,o))&&(n.precision=a),rL(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=jK(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=SK(i))&&(n.precision=a-(n.type==="%")*2);break}}return ek(n)}function Ws(t){var e=t.domain;return t.ticks=function(r){var n=e();return I_(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return nL(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,o=n[i],u=n[a],d,f,p=10;for(u<o&&(f=o,o=u,u=f,f=i,i=a,a=f);p-- >0;){if(f=O_(o,u,r),f===d)return n[i]=o,n[a]=u,e(n);if(f>0)o=Math.floor(o/f)*f,u=Math.ceil(u/f)*f;else if(f<0)o=Math.ceil(o*f)/f,u=Math.floor(u*f)/f;else break;d=f}return t},t}function om(){var t=JS();return t.copy=function(){return jf(t,om())},ri.apply(t,arguments),Ws(t)}function iL(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,am),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return iL(t).unknown(e)},t=arguments.length?Array.from(t,am):[0,1],Ws(r)}function aL(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),t[r]=e.floor(i),t[n]=e.ceil(a),t}function II(t){return Math.log(t)}function OI(t){return Math.exp(t)}function EK(t){return-Math.log(-t)}function TK(t){return-Math.exp(-t)}function AK(t){return isFinite(t)?+("1e"+t):t<0?0:t}function NK(t){return t===10?AK:t===Math.E?Math.exp:e=>Math.pow(t,e)}function PK(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function CI(t){return(e,r)=>-t(-e,r)}function tk(t){const e=t(II,OI),r=e.domain;let n=10,i,a;function o(){return i=PK(n),a=NK(n),r()[0]<0?(i=CI(i),a=CI(a),t(EK,TK)):t(II,OI),e}return e.base=function(u){return arguments.length?(n=+u,o()):n},e.domain=function(u){return arguments.length?(r(u),o()):r()},e.ticks=u=>{const d=r();let f=d[0],p=d[d.length-1];const m=p<f;m&&([f,p]=[p,f]);let y=i(f),x=i(p),S,_;const b=u==null?10:+u;let P=[];if(!(n%1)&&x-y<b){if(y=Math.floor(y),x=Math.ceil(x),f>0){for(;y<=x;++y)for(S=1;S<n;++S)if(_=y<0?S/a(-y):S*a(y),!(_<f)){if(_>p)break;P.push(_)}}else for(;y<=x;++y)for(S=n-1;S>=1;--S)if(_=y>0?S/a(-y):S*a(y),!(_<f)){if(_>p)break;P.push(_)}P.length*2<b&&(P=I_(f,p,b))}else P=I_(y,x,Math.min(x-y,b)).map(a);return m?P.reverse():P},e.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=Cd(d)).precision==null&&(d.trim=!0),d=ek(d)),u===1/0)return d;const f=Math.max(1,n*u/e.ticks().length);return p=>{let m=p/a(Math.round(i(p)));return m*n<n-.5&&(m*=n),m<=f?d(p):""}},e.nice=()=>r(aL(r(),{floor:u=>a(Math.floor(i(u))),ceil:u=>a(Math.ceil(i(u)))})),e}function sL(){const t=tk(_g()).domain([1,10]);return t.copy=()=>jf(t,sL()).base(t.base()),ri.apply(t,arguments),t}function RI(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function MI(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function rk(t){var e=1,r=t(RI(e),MI(e));return r.constant=function(n){return arguments.length?t(RI(e=+n),MI(e)):e},Ws(r)}function oL(){var t=rk(_g());return t.copy=function(){return jf(t,oL()).constant(t.constant())},ri.apply(t,arguments)}function DI(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function IK(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function OK(t){return t<0?-t*t:t*t}function nk(t){var e=t(Qr,Qr),r=1;function n(){return r===1?t(Qr,Qr):r===.5?t(IK,OK):t(DI(r),DI(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Ws(e)}function ik(){var t=nk(_g());return t.copy=function(){return jf(t,ik()).exponent(t.exponent())},ri.apply(t,arguments),t}function CK(){return ik.apply(null,arguments).exponent(.5)}function LI(t){return Math.sign(t)*t*t}function RK(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function lL(){var t=JS(),e=[0,1],r=!1,n;function i(a){var o=RK(t(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return t.invert(LI(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,am)).map(LI)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return lL(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},ri.apply(i,arguments),Ws(i)}function cL(){var t=[],e=[],r=[],n;function i(){var o=0,u=Math.max(1,e.length);for(r=new Array(u-1);++o<u;)r[o-1]=VG(t,o/u);return a}function a(o){return o==null||isNaN(o=+o)?n:e[Sf(r,o)]}return a.invertExtent=function(o){var u=e.indexOf(o);return u<0?[NaN,NaN]:[u>0?r[u-1]:t[0],u<r.length?r[u]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let u of o)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Rs),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return cL().domain(t).range(e).unknown(n)},ri.apply(a,arguments)}function uL(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function o(d){return d!=null&&d<=d?i[Sf(n,d,0,r)]:a}function u(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*e-(d-r)*t)/(r+1);return o}return o.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,u()):[t,e]},o.range=function(d){return arguments.length?(r=(i=Array.from(d)).length-1,u()):i.slice()},o.invertExtent=function(d){var f=i.indexOf(d);return f<0?[NaN,NaN]:f<1?[t,n[0]]:f>=r?[n[r-1],e]:[n[f-1],n[f]]},o.unknown=function(d){return arguments.length&&(a=d),o},o.thresholds=function(){return n.slice()},o.copy=function(){return uL().domain([t,e]).range(i).unknown(a)},ri.apply(Ws(o),arguments)}function dL(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[Sf(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return dL().domain(t).range(e).unknown(r)},ri.apply(i,arguments)}const Hb=new Date,Gb=new Date;function lr(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),u=i.ceil(a);return a-o<u-a?o:u},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,u)=>{const d=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<o)||!(u>0))return d;let f;do d.push(f=new Date(+a)),e(a,u),t(a);while(f<a&&a<o);return d},i.filter=a=>lr(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,u)=>{if(o>=o)if(u<0)for(;++u<=0;)for(;e(o,-1),!a(o););else for(;--u>=0;)for(;e(o,1),!a(o););}),r&&(i.count=(a,o)=>(Hb.setTime(+a),Gb.setTime(+o),t(Hb),t(Gb),Math.floor(r(Hb,Gb))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const lm=lr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);lm.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?lr(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):lm);lm.range;const Ta=1e3,Jn=Ta*60,Aa=Jn*60,Va=Aa*24,ak=Va*7,$I=Va*30,Kb=Va*365,Oo=lr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ta)},(t,e)=>(e-t)/Ta,t=>t.getUTCSeconds());Oo.range;const sk=lr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ta)},(t,e)=>{t.setTime(+t+e*Jn)},(t,e)=>(e-t)/Jn,t=>t.getMinutes());sk.range;const ok=lr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Jn)},(t,e)=>(e-t)/Jn,t=>t.getUTCMinutes());ok.range;const lk=lr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ta-t.getMinutes()*Jn)},(t,e)=>{t.setTime(+t+e*Aa)},(t,e)=>(e-t)/Aa,t=>t.getHours());lk.range;const ck=lr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Aa)},(t,e)=>(e-t)/Aa,t=>t.getUTCHours());ck.range;const Ef=lr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Jn)/Va,t=>t.getDate()-1);Ef.range;const Sg=lr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Va,t=>t.getUTCDate()-1);Sg.range;const fL=lr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Va,t=>Math.floor(t/Va));fL.range;function rl(t){return lr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Jn)/ak)}const kg=rl(0),cm=rl(1),MK=rl(2),DK=rl(3),wc=rl(4),LK=rl(5),$K=rl(6);kg.range;cm.range;MK.range;DK.range;wc.range;LK.range;$K.range;function nl(t){return lr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/ak)}const jg=nl(0),um=nl(1),VK=nl(2),FK=nl(3),_c=nl(4),UK=nl(5),BK=nl(6);jg.range;um.range;VK.range;FK.range;_c.range;UK.range;BK.range;const uk=lr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());uk.range;const dk=lr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());dk.range;const Fa=lr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Fa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:lr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Fa.range;const Ua=lr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ua.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:lr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Ua.range;function hL(t,e,r,n,i,a){const o=[[Oo,1,Ta],[Oo,5,5*Ta],[Oo,15,15*Ta],[Oo,30,30*Ta],[a,1,Jn],[a,5,5*Jn],[a,15,15*Jn],[a,30,30*Jn],[i,1,Aa],[i,3,3*Aa],[i,6,6*Aa],[i,12,12*Aa],[n,1,Va],[n,2,2*Va],[r,1,ak],[e,1,$I],[e,3,3*$I],[t,1,Kb]];function u(f,p,m){const y=p<f;y&&([f,p]=[p,f]);const x=m&&typeof m.range=="function"?m:d(f,p,m),S=x?x.range(f,+p+1):[];return y?S.reverse():S}function d(f,p,m){const y=Math.abs(p-f)/m,x=GS(([,,b])=>b).right(o,y);if(x===o.length)return t.every(C_(f/Kb,p/Kb,m));if(x===0)return lm.every(Math.max(C_(f,p,m),1));const[S,_]=o[y/o[x-1][2]<o[x][2]/y?x-1:x];return S.every(_)}return[u,d]}const[qK,zK]=hL(Ua,dk,jg,fL,ck,ok),[WK,HK]=hL(Fa,uk,kg,Ef,lk,sk);function Yb(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Xb(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function $u(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function GK(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,o=t.shortDays,u=t.months,d=t.shortMonths,f=Vu(i),p=Fu(i),m=Vu(a),y=Fu(a),x=Vu(o),S=Fu(o),_=Vu(u),b=Fu(u),P=Vu(d),A=Fu(d),I={a:ie,A:Z,b:J,B:ae,c:null,d:zI,e:zI,f:gY,g:EY,G:AY,H:hY,I:pY,j:mY,L:pL,m:vY,M:yY,p:z,q:Y,Q:GI,s:KI,S:xY,u:bY,U:wY,V:_Y,w:SY,W:kY,x:null,X:null,y:jY,Y:TY,Z:NY,"%":HI},R={a:K,A:le,b:fe,B:xe,c:null,d:WI,e:WI,f:CY,g:qY,G:WY,H:PY,I:IY,j:OY,L:gL,m:RY,M:MY,p:he,q:me,Q:GI,s:KI,S:DY,u:LY,U:$Y,V:VY,w:FY,W:UY,x:null,X:null,y:BY,Y:zY,Z:HY,"%":HI},E={a:C,A:D,b:F,B:$,c:ee,d:BI,e:BI,f:cY,g:UI,G:FI,H:qI,I:qI,j:aY,L:lY,m:iY,M:sY,p:L,q:nY,Q:dY,s:fY,S:oY,u:JK,U:ZK,V:eY,w:QK,W:tY,x:ne,X:Q,y:UI,Y:FI,Z:rY,"%":uY};I.x=N(r,I),I.X=N(n,I),I.c=N(e,I),R.x=N(r,R),R.X=N(n,R),R.c=N(e,R);function N(ue,ke){return function(Ee){var W=[],pe=-1,ge=0,Ae=ue.length,Fe,$t,en;for(Ee instanceof Date||(Ee=new Date(+Ee));++pe<Ae;)ue.charCodeAt(pe)===37&&(W.push(ue.slice(ge,pe)),($t=VI[Fe=ue.charAt(++pe)])!=null?Fe=ue.charAt(++pe):$t=Fe==="e"?" ":"0",(en=ke[Fe])&&(Fe=en(Ee,$t)),W.push(Fe),ge=pe+1);return W.push(ue.slice(ge,pe)),W.join("")}}function T(ue,ke){return function(Ee){var W=$u(1900,void 0,1),pe=O(W,ue,Ee+="",0),ge,Ae;if(pe!=Ee.length)return null;if("Q"in W)return new Date(W.Q);if("s"in W)return new Date(W.s*1e3+("L"in W?W.L:0));if(ke&&!("Z"in W)&&(W.Z=0),"p"in W&&(W.H=W.H%12+W.p*12),W.m===void 0&&(W.m="q"in W?W.q:0),"V"in W){if(W.V<1||W.V>53)return null;"w"in W||(W.w=1),"Z"in W?(ge=Xb($u(W.y,0,1)),Ae=ge.getUTCDay(),ge=Ae>4||Ae===0?um.ceil(ge):um(ge),ge=Sg.offset(ge,(W.V-1)*7),W.y=ge.getUTCFullYear(),W.m=ge.getUTCMonth(),W.d=ge.getUTCDate()+(W.w+6)%7):(ge=Yb($u(W.y,0,1)),Ae=ge.getDay(),ge=Ae>4||Ae===0?cm.ceil(ge):cm(ge),ge=Ef.offset(ge,(W.V-1)*7),W.y=ge.getFullYear(),W.m=ge.getMonth(),W.d=ge.getDate()+(W.w+6)%7)}else("W"in W||"U"in W)&&("w"in W||(W.w="u"in W?W.u%7:"W"in W?1:0),Ae="Z"in W?Xb($u(W.y,0,1)).getUTCDay():Yb($u(W.y,0,1)).getDay(),W.m=0,W.d="W"in W?(W.w+6)%7+W.W*7-(Ae+5)%7:W.w+W.U*7-(Ae+6)%7);return"Z"in W?(W.H+=W.Z/100|0,W.M+=W.Z%100,Xb(W)):Yb(W)}}function O(ue,ke,Ee,W){for(var pe=0,ge=ke.length,Ae=Ee.length,Fe,$t;pe<ge;){if(W>=Ae)return-1;if(Fe=ke.charCodeAt(pe++),Fe===37){if(Fe=ke.charAt(pe++),$t=E[Fe in VI?ke.charAt(pe++):Fe],!$t||(W=$t(ue,Ee,W))<0)return-1}else if(Fe!=Ee.charCodeAt(W++))return-1}return W}function L(ue,ke,Ee){var W=f.exec(ke.slice(Ee));return W?(ue.p=p.get(W[0].toLowerCase()),Ee+W[0].length):-1}function C(ue,ke,Ee){var W=x.exec(ke.slice(Ee));return W?(ue.w=S.get(W[0].toLowerCase()),Ee+W[0].length):-1}function D(ue,ke,Ee){var W=m.exec(ke.slice(Ee));return W?(ue.w=y.get(W[0].toLowerCase()),Ee+W[0].length):-1}function F(ue,ke,Ee){var W=P.exec(ke.slice(Ee));return W?(ue.m=A.get(W[0].toLowerCase()),Ee+W[0].length):-1}function $(ue,ke,Ee){var W=_.exec(ke.slice(Ee));return W?(ue.m=b.get(W[0].toLowerCase()),Ee+W[0].length):-1}function ee(ue,ke,Ee){return O(ue,e,ke,Ee)}function ne(ue,ke,Ee){return O(ue,r,ke,Ee)}function Q(ue,ke,Ee){return O(ue,n,ke,Ee)}function ie(ue){return o[ue.getDay()]}function Z(ue){return a[ue.getDay()]}function J(ue){return d[ue.getMonth()]}function ae(ue){return u[ue.getMonth()]}function z(ue){return i[+(ue.getHours()>=12)]}function Y(ue){return 1+~~(ue.getMonth()/3)}function K(ue){return o[ue.getUTCDay()]}function le(ue){return a[ue.getUTCDay()]}function fe(ue){return d[ue.getUTCMonth()]}function xe(ue){return u[ue.getUTCMonth()]}function he(ue){return i[+(ue.getUTCHours()>=12)]}function me(ue){return 1+~~(ue.getUTCMonth()/3)}return{format:function(ue){var ke=N(ue+="",I);return ke.toString=function(){return ue},ke},parse:function(ue){var ke=T(ue+="",!1);return ke.toString=function(){return ue},ke},utcFormat:function(ue){var ke=N(ue+="",R);return ke.toString=function(){return ue},ke},utcParse:function(ue){var ke=T(ue+="",!0);return ke.toString=function(){return ue},ke}}}var VI={"-":"",_:" ",0:"0"},yr=/^\s*\d+/,KK=/^%/,YK=/[\\^$*+?|[\]().{}]/g;function dt(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function XK(t){return t.replace(YK,"\\$&")}function Vu(t){return new RegExp("^(?:"+t.map(XK).join("|")+")","i")}function Fu(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function QK(t,e,r){var n=yr.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function JK(t,e,r){var n=yr.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function ZK(t,e,r){var n=yr.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function eY(t,e,r){var n=yr.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function tY(t,e,r){var n=yr.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function FI(t,e,r){var n=yr.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function UI(t,e,r){var n=yr.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function rY(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function nY(t,e,r){var n=yr.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function iY(t,e,r){var n=yr.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function BI(t,e,r){var n=yr.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function aY(t,e,r){var n=yr.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function qI(t,e,r){var n=yr.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function sY(t,e,r){var n=yr.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function oY(t,e,r){var n=yr.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function lY(t,e,r){var n=yr.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function cY(t,e,r){var n=yr.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function uY(t,e,r){var n=KK.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function dY(t,e,r){var n=yr.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function fY(t,e,r){var n=yr.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function zI(t,e){return dt(t.getDate(),e,2)}function hY(t,e){return dt(t.getHours(),e,2)}function pY(t,e){return dt(t.getHours()%12||12,e,2)}function mY(t,e){return dt(1+Ef.count(Fa(t),t),e,3)}function pL(t,e){return dt(t.getMilliseconds(),e,3)}function gY(t,e){return pL(t,e)+"000"}function vY(t,e){return dt(t.getMonth()+1,e,2)}function yY(t,e){return dt(t.getMinutes(),e,2)}function xY(t,e){return dt(t.getSeconds(),e,2)}function bY(t){var e=t.getDay();return e===0?7:e}function wY(t,e){return dt(kg.count(Fa(t)-1,t),e,2)}function mL(t){var e=t.getDay();return e>=4||e===0?wc(t):wc.ceil(t)}function _Y(t,e){return t=mL(t),dt(wc.count(Fa(t),t)+(Fa(t).getDay()===4),e,2)}function SY(t){return t.getDay()}function kY(t,e){return dt(cm.count(Fa(t)-1,t),e,2)}function jY(t,e){return dt(t.getFullYear()%100,e,2)}function EY(t,e){return t=mL(t),dt(t.getFullYear()%100,e,2)}function TY(t,e){return dt(t.getFullYear()%1e4,e,4)}function AY(t,e){var r=t.getDay();return t=r>=4||r===0?wc(t):wc.ceil(t),dt(t.getFullYear()%1e4,e,4)}function NY(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+dt(e/60|0,"0",2)+dt(e%60,"0",2)}function WI(t,e){return dt(t.getUTCDate(),e,2)}function PY(t,e){return dt(t.getUTCHours(),e,2)}function IY(t,e){return dt(t.getUTCHours()%12||12,e,2)}function OY(t,e){return dt(1+Sg.count(Ua(t),t),e,3)}function gL(t,e){return dt(t.getUTCMilliseconds(),e,3)}function CY(t,e){return gL(t,e)+"000"}function RY(t,e){return dt(t.getUTCMonth()+1,e,2)}function MY(t,e){return dt(t.getUTCMinutes(),e,2)}function DY(t,e){return dt(t.getUTCSeconds(),e,2)}function LY(t){var e=t.getUTCDay();return e===0?7:e}function $Y(t,e){return dt(jg.count(Ua(t)-1,t),e,2)}function vL(t){var e=t.getUTCDay();return e>=4||e===0?_c(t):_c.ceil(t)}function VY(t,e){return t=vL(t),dt(_c.count(Ua(t),t)+(Ua(t).getUTCDay()===4),e,2)}function FY(t){return t.getUTCDay()}function UY(t,e){return dt(um.count(Ua(t)-1,t),e,2)}function BY(t,e){return dt(t.getUTCFullYear()%100,e,2)}function qY(t,e){return t=vL(t),dt(t.getUTCFullYear()%100,e,2)}function zY(t,e){return dt(t.getUTCFullYear()%1e4,e,4)}function WY(t,e){var r=t.getUTCDay();return t=r>=4||r===0?_c(t):_c.ceil(t),dt(t.getUTCFullYear()%1e4,e,4)}function HY(){return"+0000"}function HI(){return"%"}function GI(t){return+t}function KI(t){return Math.floor(+t/1e3)}var ql,yL,xL;GY({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function GY(t){return ql=GK(t),yL=ql.format,ql.parse,xL=ql.utcFormat,ql.utcParse,ql}function KY(t){return new Date(t)}function YY(t){return t instanceof Date?+t:+new Date(+t)}function fk(t,e,r,n,i,a,o,u,d,f){var p=JS(),m=p.invert,y=p.domain,x=f(".%L"),S=f(":%S"),_=f("%I:%M"),b=f("%I %p"),P=f("%a %d"),A=f("%b %d"),I=f("%B"),R=f("%Y");function E(N){return(d(N)<N?x:u(N)<N?S:o(N)<N?_:a(N)<N?b:n(N)<N?i(N)<N?P:A:r(N)<N?I:R)(N)}return p.invert=function(N){return new Date(m(N))},p.domain=function(N){return arguments.length?y(Array.from(N,YY)):y().map(KY)},p.ticks=function(N){var T=y();return t(T[0],T[T.length-1],N??10)},p.tickFormat=function(N,T){return T==null?E:f(T)},p.nice=function(N){var T=y();return(!N||typeof N.range!="function")&&(N=e(T[0],T[T.length-1],N??10)),N?y(aL(T,N)):p},p.copy=function(){return jf(p,fk(t,e,r,n,i,a,o,u,d,f))},p}function XY(){return ri.apply(fk(WK,HK,Fa,uk,kg,Ef,lk,sk,Oo,yL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function QY(){return ri.apply(fk(qK,zK,Ua,dk,jg,Sg,ck,ok,Oo,xL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Eg(){var t=0,e=1,r,n,i,a,o=Qr,u=!1,d;function f(m){return m==null||isNaN(m=+m)?d:o(i===0?.5:(m=(a(m)-r)*i,u?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([t,e]=m,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),f):[t,e]},f.clamp=function(m){return arguments.length?(u=!!m,f):u},f.interpolator=function(m){return arguments.length?(o=m,f):o};function p(m){return function(y){var x,S;return arguments.length?([x,S]=y,o=m(x,S),f):[o(0),o(1)]}}return f.range=p(Xc),f.rangeRound=p(QS),f.unknown=function(m){return arguments.length?(d=m,f):d},function(m){return a=m,r=m(t),n=m(e),i=r===n?0:1/(n-r),f}}function Hs(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function bL(){var t=Ws(Eg()(Qr));return t.copy=function(){return Hs(t,bL())},Wa.apply(t,arguments)}function wL(){var t=tk(Eg()).domain([1,10]);return t.copy=function(){return Hs(t,wL()).base(t.base())},Wa.apply(t,arguments)}function _L(){var t=rk(Eg());return t.copy=function(){return Hs(t,_L()).constant(t.constant())},Wa.apply(t,arguments)}function hk(){var t=nk(Eg());return t.copy=function(){return Hs(t,hk()).exponent(t.exponent())},Wa.apply(t,arguments)}function JY(){return hk.apply(null,arguments).exponent(.5)}function SL(){var t=[],e=Qr;function r(n){if(n!=null&&!isNaN(n=+n))return e((Sf(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Rs),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>$G(t,a/n))},r.copy=function(){return SL(e).domain(t)},Wa.apply(r,arguments)}function Tg(){var t=0,e=.5,r=1,n=1,i,a,o,u,d,f=Qr,p,m=!1,y;function x(_){return isNaN(_=+_)?y:(_=.5+((_=+p(_))-a)*(n*_<n*a?u:d),f(m?Math.max(0,Math.min(1,_)):_))}x.domain=function(_){return arguments.length?([t,e,r]=_,i=p(t=+t),a=p(e=+e),o=p(r=+r),u=i===a?0:.5/(a-i),d=a===o?0:.5/(o-a),n=a<i?-1:1,x):[t,e,r]},x.clamp=function(_){return arguments.length?(m=!!_,x):m},x.interpolator=function(_){return arguments.length?(f=_,x):f};function S(_){return function(b){var P,A,I;return arguments.length?([P,A,I]=b,f=uK(_,[P,A,I]),x):[f(0),f(.5),f(1)]}}return x.range=S(Xc),x.rangeRound=S(QS),x.unknown=function(_){return arguments.length?(y=_,x):y},function(_){return p=_,i=_(t),a=_(e),o=_(r),u=i===a?0:.5/(a-i),d=a===o?0:.5/(o-a),n=a<i?-1:1,x}}function kL(){var t=Ws(Tg()(Qr));return t.copy=function(){return Hs(t,kL())},Wa.apply(t,arguments)}function jL(){var t=tk(Tg()).domain([.1,1,10]);return t.copy=function(){return Hs(t,jL()).base(t.base())},Wa.apply(t,arguments)}function EL(){var t=rk(Tg());return t.copy=function(){return Hs(t,EL()).constant(t.constant())},Wa.apply(t,arguments)}function pk(){var t=nk(Tg());return t.copy=function(){return Hs(t,pk()).exponent(t.exponent())},Wa.apply(t,arguments)}function ZY(){return pk.apply(null,arguments).exponent(.5)}const YI=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Nd,scaleDiverging:kL,scaleDivergingLog:jL,scaleDivergingPow:pk,scaleDivergingSqrt:ZY,scaleDivergingSymlog:EL,scaleIdentity:iL,scaleImplicit:R_,scaleLinear:om,scaleLog:sL,scaleOrdinal:KS,scalePoint:sd,scalePow:ik,scaleQuantile:cL,scaleQuantize:uL,scaleRadial:lL,scaleSequential:bL,scaleSequentialLog:wL,scaleSequentialPow:hk,scaleSequentialQuantile:SL,scaleSequentialSqrt:JY,scaleSequentialSymlog:_L,scaleSqrt:CK,scaleSymlog:oL,scaleThreshold:dL,scaleTime:XY,scaleUtc:QY,tickFormat:nL},Symbol.toStringTag,{value:"Module"}));var Qb,XI;function Ag(){if(XI)return Qb;XI=1;var t=Hc();function e(r,n,i){for(var a=-1,o=r.length;++a<o;){var u=r[a],d=n(u);if(d!=null&&(f===void 0?d===d&&!t(d):i(d,f)))var f=d,p=u}return p}return Qb=e,Qb}var Jb,QI;function TL(){if(QI)return Jb;QI=1;function t(e,r){return e>r}return Jb=t,Jb}var Zb,JI;function eX(){if(JI)return Zb;JI=1;var t=Ag(),e=TL(),r=Kc();function n(i){return i&&i.length?t(i,r,e):void 0}return Zb=n,Zb}var tX=eX();const Ng=pt(tX);var ew,ZI;function AL(){if(ZI)return ew;ZI=1;function t(e,r){return e<r}return ew=t,ew}var tw,eO;function rX(){if(eO)return tw;eO=1;var t=Ag(),e=AL(),r=Kc();function n(i){return i&&i.length?t(i,r,e):void 0}return tw=n,tw}var nX=rX();const Pg=pt(nX);var rw,tO;function iX(){if(tO)return rw;tO=1;var t=NS(),e=na(),r=D4(),n=gn();function i(a,o){var u=n(a)?t:r;return u(a,e(o,3))}return rw=i,rw}var nw,rO;function aX(){if(rO)return nw;rO=1;var t=R4(),e=iX();function r(n,i){return t(e(n,i),1)}return nw=r,nw}var sX=aX();const oX=pt(sX);var iw,nO;function lX(){if(nO)return iw;nO=1;var t=BS();function e(r,n){return t(r,n)}return iw=e,iw}var cX=lX();const Ig=pt(cX);var Qc=1e9,uX={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},gk,Ct=!0,ti="[DecimalError] ",Lo=ti+"Invalid argument: ",mk=ti+"Exponent out of range: ",Jc=Math.floor,jo=Math.pow,dX=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,In,gr=1e7,At=7,NL=9007199254740991,dm=Jc(NL/At),Ie={};Ie.absoluteValue=Ie.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ie.comparedTo=Ie.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Ie.decimalPlaces=Ie.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*At;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Ie.dividedBy=Ie.div=function(t){return Oa(this,new this.constructor(t))};Ie.dividedToIntegerBy=Ie.idiv=function(t){var e=this,r=e.constructor;return bt(Oa(e,new r(t),0,1),r.precision)};Ie.equals=Ie.eq=function(t){return!this.cmp(t)};Ie.exponent=function(){return Qt(this)};Ie.greaterThan=Ie.gt=function(t){return this.cmp(t)>0};Ie.greaterThanOrEqualTo=Ie.gte=function(t){return this.cmp(t)>=0};Ie.isInteger=Ie.isint=function(){return this.e>this.d.length-2};Ie.isNegative=Ie.isneg=function(){return this.s<0};Ie.isPositive=Ie.ispos=function(){return this.s>0};Ie.isZero=function(){return this.s===0};Ie.lessThan=Ie.lt=function(t){return this.cmp(t)<0};Ie.lessThanOrEqualTo=Ie.lte=function(t){return this.cmp(t)<1};Ie.logarithm=Ie.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(In))throw Error(ti+"NaN");if(r.s<1)throw Error(ti+(r.s?"NaN":"-Infinity"));return r.eq(In)?new n(0):(Ct=!1,e=Oa(Rd(r,a),Rd(t,a),a),Ct=!0,bt(e,i))};Ie.minus=Ie.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?OL(e,t):PL(e,(t.s=-t.s,t))};Ie.modulo=Ie.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(ti+"NaN");return r.s?(Ct=!1,e=Oa(r,t,0,1).times(t),Ct=!0,r.minus(e)):bt(new n(r),i)};Ie.naturalExponential=Ie.exp=function(){return IL(this)};Ie.naturalLogarithm=Ie.ln=function(){return Rd(this)};Ie.negated=Ie.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ie.plus=Ie.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?PL(e,t):OL(e,(t.s=-t.s,t))};Ie.precision=Ie.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Lo+t);if(e=Qt(i)+1,n=i.d.length-1,r=n*At+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Ie.squareRoot=Ie.sqrt=function(){var t,e,r,n,i,a,o,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(ti+"NaN")}for(t=Qt(u),Ct=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=Ui(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Jc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new d(e)):n=new d(i.toString()),r=d.precision,i=o=r+3;;)if(a=n,n=a.plus(Oa(u,a,o+2)).times(.5),Ui(a.d).slice(0,o)===(e=Ui(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(bt(a,r+1,0),a.times(a).eq(u)){n=a;break}}else if(e!="9999")break;o+=4}return Ct=!0,bt(n,r)};Ie.times=Ie.mul=function(t){var e,r,n,i,a,o,u,d,f,p=this,m=p.constructor,y=p.d,x=(t=new m(t)).d;if(!p.s||!t.s)return new m(0);for(t.s*=p.s,r=p.e+t.e,d=y.length,f=x.length,d<f&&(a=y,y=x,x=a,o=d,d=f,f=o),a=[],o=d+f,n=o;n--;)a.push(0);for(n=f;--n>=0;){for(e=0,i=d+n;i>n;)u=a[i]+x[n]*y[i-n-1]+e,a[i--]=u%gr|0,e=u/gr|0;a[i]=(a[i]+e)%gr|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,Ct?bt(t,m.precision):t};Ie.toDecimalPlaces=Ie.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Ji(t,0,Qc),e===void 0?e=n.rounding:Ji(e,0,8),bt(r,t+Qt(r)+1,e))};Ie.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Ko(n,!0):(Ji(t,0,Qc),e===void 0?e=i.rounding:Ji(e,0,8),n=bt(new i(n),t+1,e),r=Ko(n,!0,t+1)),r};Ie.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?Ko(i):(Ji(t,0,Qc),e===void 0?e=a.rounding:Ji(e,0,8),n=bt(new a(i),t+Qt(i)+1,e),r=Ko(n.abs(),!1,t+Qt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Ie.toInteger=Ie.toint=function(){var t=this,e=t.constructor;return bt(new e(t),Qt(t)+1,e.rounding)};Ie.toNumber=function(){return+this};Ie.toPower=Ie.pow=function(t){var e,r,n,i,a,o,u=this,d=u.constructor,f=12,p=+(t=new d(t));if(!t.s)return new d(In);if(u=new d(u),!u.s){if(t.s<1)throw Error(ti+"Infinity");return u}if(u.eq(In))return u;if(n=d.precision,t.eq(In))return bt(u,n);if(e=t.e,r=t.d.length-1,o=e>=r,a=u.s,o){if((r=p<0?-p:p)<=NL){for(i=new d(In),e=Math.ceil(n/At+4),Ct=!1;r%2&&(i=i.times(u),aO(i.d,e)),r=Jc(r/2),r!==0;)u=u.times(u),aO(u.d,e);return Ct=!0,t.s<0?new d(In).div(i):bt(i,n)}}else if(a<0)throw Error(ti+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,u.s=1,Ct=!1,i=t.times(Rd(u,n+f)),Ct=!0,i=IL(i),i.s=a,i};Ie.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=Qt(i),n=Ko(i,r<=a.toExpNeg||r>=a.toExpPos)):(Ji(t,1,Qc),e===void 0?e=a.rounding:Ji(e,0,8),i=bt(new a(i),t,e),r=Qt(i),n=Ko(i,t<=r||r<=a.toExpNeg,t)),n};Ie.toSignificantDigits=Ie.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Ji(t,1,Qc),e===void 0?e=n.rounding:Ji(e,0,8)),bt(new n(r),t,e)};Ie.toString=Ie.valueOf=Ie.val=Ie.toJSON=Ie[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Qt(t),r=t.constructor;return Ko(t,e<=r.toExpNeg||e>=r.toExpPos)};function PL(t,e){var r,n,i,a,o,u,d,f,p=t.constructor,m=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),Ct?bt(e,m):e;if(d=t.d,f=e.d,o=t.e,i=e.e,d=d.slice(),a=o-i,a){for(a<0?(n=d,a=-a,u=f.length):(n=f,i=o,u=d.length),o=Math.ceil(m/At),u=o>u?o+1:u+1,a>u&&(a=u,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(u=d.length,a=f.length,u-a<0&&(a=u,n=f,f=d,d=n),r=0;a;)r=(d[--a]=d[a]+f[a]+r)/gr|0,d[a]%=gr;for(r&&(d.unshift(r),++i),u=d.length;d[--u]==0;)d.pop();return e.d=d,e.e=i,Ct?bt(e,m):e}function Ji(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Lo+t)}function Ui(t){var e,r,n,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)n=t[e]+"",r=At-n.length,r&&(a+=_s(r)),a+=n;o=t[e],n=o+"",r=At-n.length,r&&(a+=_s(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Oa=function(){function t(n,i){var a,o=0,u=n.length;for(n=n.slice();u--;)a=n[u]*i+o,n[u]=a%gr|0,o=a/gr|0;return o&&n.unshift(o),n}function e(n,i,a,o){var u,d;if(a!=o)d=a>o?1:-1;else for(u=d=0;u<a;u++)if(n[u]!=i[u]){d=n[u]>i[u]?1:-1;break}return d}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*gr+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var u,d,f,p,m,y,x,S,_,b,P,A,I,R,E,N,T,O,L=n.constructor,C=n.s==i.s?1:-1,D=n.d,F=i.d;if(!n.s)return new L(n);if(!i.s)throw Error(ti+"Division by zero");for(d=n.e-i.e,T=F.length,E=D.length,x=new L(C),S=x.d=[],f=0;F[f]==(D[f]||0);)++f;if(F[f]>(D[f]||0)&&--d,a==null?A=a=L.precision:o?A=a+(Qt(n)-Qt(i))+1:A=a,A<0)return new L(0);if(A=A/At+2|0,f=0,T==1)for(p=0,F=F[0],A++;(f<E||p)&&A--;f++)I=p*gr+(D[f]||0),S[f]=I/F|0,p=I%F|0;else{for(p=gr/(F[0]+1)|0,p>1&&(F=t(F,p),D=t(D,p),T=F.length,E=D.length),R=T,_=D.slice(0,T),b=_.length;b<T;)_[b++]=0;O=F.slice(),O.unshift(0),N=F[0],F[1]>=gr/2&&++N;do p=0,u=e(F,_,T,b),u<0?(P=_[0],T!=b&&(P=P*gr+(_[1]||0)),p=P/N|0,p>1?(p>=gr&&(p=gr-1),m=t(F,p),y=m.length,b=_.length,u=e(m,_,y,b),u==1&&(p--,r(m,T<y?O:F,y))):(p==0&&(u=p=1),m=F.slice()),y=m.length,y<b&&m.unshift(0),r(_,m,b),u==-1&&(b=_.length,u=e(F,_,T,b),u<1&&(p++,r(_,T<b?O:F,b))),b=_.length):u===0&&(p++,_=[0]),S[f++]=p,u&&_[0]?_[b++]=D[R]||0:(_=[D[R]],b=1);while((R++<E||_[0]!==void 0)&&A--)}return S[0]||S.shift(),x.e=d,bt(x,o?a+Qt(x)+1:a)}}();function IL(t,e){var r,n,i,a,o,u,d=0,f=0,p=t.constructor,m=p.precision;if(Qt(t)>16)throw Error(mk+Qt(t));if(!t.s)return new p(In);for(Ct=!1,u=m,o=new p(.03125);t.abs().gte(.1);)t=t.times(o),f+=5;for(n=Math.log(jo(2,f))/Math.LN10*2+5|0,u+=n,r=i=a=new p(In),p.precision=u;;){if(i=bt(i.times(t),u),r=r.times(++d),o=a.plus(Oa(i,r,u)),Ui(o.d).slice(0,u)===Ui(a.d).slice(0,u)){for(;f--;)a=bt(a.times(a),u);return p.precision=m,e==null?(Ct=!0,bt(a,m)):a}a=o}}function Qt(t){for(var e=t.e*At,r=t.d[0];r>=10;r/=10)e++;return e}function aw(t,e,r){if(e>t.LN10.sd())throw Ct=!0,r&&(t.precision=r),Error(ti+"LN10 precision limit exceeded");return bt(new t(t.LN10),e)}function _s(t){for(var e="";t--;)e+="0";return e}function Rd(t,e){var r,n,i,a,o,u,d,f,p,m=1,y=10,x=t,S=x.d,_=x.constructor,b=_.precision;if(x.s<1)throw Error(ti+(x.s?"NaN":"-Infinity"));if(x.eq(In))return new _(0);if(e==null?(Ct=!1,f=b):f=e,x.eq(10))return e==null&&(Ct=!0),aw(_,f);if(f+=y,_.precision=f,r=Ui(S),n=r.charAt(0),a=Qt(x),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)x=x.times(t),r=Ui(x.d),n=r.charAt(0),m++;a=Qt(x),n>1?(x=new _("0."+r),a++):x=new _(n+"."+r.slice(1))}else return d=aw(_,f+2,b).times(a+""),x=Rd(new _(n+"."+r.slice(1)),f-y).plus(d),_.precision=b,e==null?(Ct=!0,bt(x,b)):x;for(u=o=x=Oa(x.minus(In),x.plus(In),f),p=bt(x.times(x),f),i=3;;){if(o=bt(o.times(p),f),d=u.plus(Oa(o,new _(i),f)),Ui(d.d).slice(0,f)===Ui(u.d).slice(0,f))return u=u.times(2),a!==0&&(u=u.plus(aw(_,f+2,b).times(a+""))),u=Oa(u,new _(m),f),_.precision=b,e==null?(Ct=!0,bt(u,b)):u;u=d,i+=2}}function iO(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Jc(r/At),t.d=[],n=(r+1)%At,r<0&&(n+=At),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=At;n<i;)t.d.push(+e.slice(n,n+=At));e=e.slice(n),n=At-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Ct&&(t.e>dm||t.e<-dm))throw Error(mk+r)}else t.s=0,t.e=0,t.d=[0];return t}function bt(t,e,r){var n,i,a,o,u,d,f,p,m=t.d;for(o=1,a=m[0];a>=10;a/=10)o++;if(n=e-o,n<0)n+=At,i=e,f=m[p=0];else{if(p=Math.ceil((n+1)/At),a=m.length,p>=a)return t;for(f=a=m[p],o=1;a>=10;a/=10)o++;n%=At,i=n-At+o}if(r!==void 0&&(a=jo(10,o-i-1),u=f/a%10|0,d=e<0||m[p+1]!==void 0||f%a,d=r<4?(u||d)&&(r==0||r==(t.s<0?3:2)):u>5||u==5&&(r==4||d||r==6&&(n>0?i>0?f/jo(10,o-i):0:m[p-1])%10&1||r==(t.s<0?8:7))),e<1||!m[0])return d?(a=Qt(t),m.length=1,e=e-a-1,m[0]=jo(10,(At-e%At)%At),t.e=Jc(-e/At)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(n==0?(m.length=p,a=1,p--):(m.length=p+1,a=jo(10,At-n),m[p]=i>0?(f/jo(10,o-i)%jo(10,i)|0)*a:0),d)for(;;)if(p==0){(m[0]+=a)==gr&&(m[0]=1,++t.e);break}else{if(m[p]+=a,m[p]!=gr)break;m[p--]=0,a=1}for(n=m.length;m[--n]===0;)m.pop();if(Ct&&(t.e>dm||t.e<-dm))throw Error(mk+Qt(t));return t}function OL(t,e){var r,n,i,a,o,u,d,f,p,m,y=t.constructor,x=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),Ct?bt(e,x):e;if(d=t.d,m=e.d,n=e.e,f=t.e,d=d.slice(),o=f-n,o){for(p=o<0,p?(r=d,o=-o,u=m.length):(r=m,n=f,u=d.length),i=Math.max(Math.ceil(x/At),u)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=d.length,u=m.length,p=i<u,p&&(u=i),i=0;i<u;i++)if(d[i]!=m[i]){p=d[i]<m[i];break}o=0}for(p&&(r=d,d=m,m=r,e.s=-e.s),u=d.length,i=m.length-u;i>0;--i)d[u++]=0;for(i=m.length;i>o;){if(d[--i]<m[i]){for(a=i;a&&d[--a]===0;)d[a]=gr-1;--d[a],d[i]+=gr}d[i]-=m[i]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(e.d=d,e.e=n,Ct?bt(e,x):e):new y(0)}function Ko(t,e,r){var n,i=Qt(t),a=Ui(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+_s(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+_s(-i-1)+a,r&&(n=r-o)>0&&(a+=_s(n))):i>=o?(a+=_s(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+_s(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=_s(n))),t.s<0?"-"+a:a}function aO(t,e){if(t.length>e)return t.length=e,!0}function CL(t){var e,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Lo+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return iO(o,a.toString())}else if(typeof a!="string")throw Error(Lo+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,dX.test(a))iO(o,a);else throw Error(Lo+a)}if(i.prototype=Ie,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=CL,i.config=i.set=fX,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function fX(t){if(!t||typeof t!="object")throw Error(ti+"Object expected");var e,r,n,i=["precision",1,Qc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Jc(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Lo+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Lo+r+": "+n);return this}var gk=CL(uX);In=new gk(1);const yt=gk;function hX(t){return vX(t)||gX(t)||mX(t)||pX()}function pX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mX(t,e){if(t){if(typeof t=="string")return $_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $_(t,e)}}function gX(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function vX(t){if(Array.isArray(t))return $_(t)}function $_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var yX=function(e){return e},RL={},ML=function(e){return e===RL},sO=function(e){return function r(){return arguments.length===0||arguments.length===1&&ML(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},xX=function t(e,r){return e===1?r:sO(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(function(u){return u!==RL}).length;return o>=e?r.apply(void 0,i):t(e-o,sO(function(){for(var u=arguments.length,d=new Array(u),f=0;f<u;f++)d[f]=arguments[f];var p=i.map(function(m){return ML(m)?d.shift():m});return r.apply(void 0,hX(p).concat(d))}))})},Og=function(e){return xX(e.length,e)},V_=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},bX=Og(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),wX=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return yX;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(u,d){return d(u)},a.apply(void 0,arguments))}},F_=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},DL=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r&&a.every(function(u,d){return u===r[d]})||(r=a,n=e.apply(void 0,a)),n}};function _X(t){var e;return t===0?e=1:e=Math.floor(new yt(t).abs().log(10).toNumber())+1,e}function SX(t,e,r){for(var n=new yt(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var kX=Og(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),jX=Og(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),EX=Og(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const Cg={rangeStep:SX,getDigitCount:_X,interpolateNumber:kX,uninterpolateNumber:jX,uninterpolateTruncation:EX};function U_(t){return NX(t)||AX(t)||LL(t)||TX()}function TX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AX(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function NX(t){if(Array.isArray(t))return B_(t)}function Md(t,e){return OX(t)||IX(t,e)||LL(t,e)||PX()}function PX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LL(t,e){if(t){if(typeof t=="string")return B_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B_(t,e)}}function B_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function IX(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),u;!(n=(u=o.next()).done)&&(r.push(u.value),!(e&&r.length===e));n=!0);}catch(d){i=!0,a=d}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}}function OX(t){if(Array.isArray(t))return t}function $L(t){var e=Md(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function VL(t,e,r){if(t.lte(0))return new yt(0);var n=Cg.getDigitCount(t.toNumber()),i=new yt(10).pow(n),a=t.div(i),o=n!==1?.05:.1,u=new yt(Math.ceil(a.div(o).toNumber())).add(r).mul(o),d=u.mul(i);return e?d:new yt(Math.ceil(d))}function CX(t,e,r){var n=1,i=new yt(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new yt(10).pow(Cg.getDigitCount(t)-1),i=new yt(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new yt(Math.floor(t)))}else t===0?i=new yt(Math.floor((e-1)/2)):r||(i=new yt(Math.floor(t)));var o=Math.floor((e-1)/2),u=wX(bX(function(d){return i.add(new yt(d-o).mul(n)).toNumber()}),V_);return u(0,e)}function FL(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new yt(0),tickMin:new yt(0),tickMax:new yt(0)};var a=VL(new yt(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new yt(0):(o=new yt(t).add(e).div(2),o=o.sub(new yt(o).mod(a)));var u=Math.ceil(o.sub(t).div(a).toNumber()),d=Math.ceil(new yt(e).sub(o).div(a).toNumber()),f=u+d+1;return f>r?FL(t,e,r,n,i+1):(f<r&&(d=e>0?d+(r-f):d,u=e>0?u:u+(r-f)),{step:a,tickMin:o.sub(new yt(u).mul(a)),tickMax:o.add(new yt(d).mul(a))})}function RX(t){var e=Md(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),u=$L([r,n]),d=Md(u,2),f=d[0],p=d[1];if(f===-1/0||p===1/0){var m=p===1/0?[f].concat(U_(V_(0,i-1).map(function(){return 1/0}))):[].concat(U_(V_(0,i-1).map(function(){return-1/0})),[p]);return r>n?F_(m):m}if(f===p)return CX(f,i,a);var y=FL(f,p,o,a),x=y.step,S=y.tickMin,_=y.tickMax,b=Cg.rangeStep(S,_.add(new yt(.1).mul(x)),x);return r>n?F_(b):b}function MX(t,e){var r=Md(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=$L([n,i]),u=Md(o,2),d=u[0],f=u[1];if(d===-1/0||f===1/0)return[n,i];if(d===f)return[d];var p=Math.max(e,2),m=VL(new yt(f).sub(d).div(p-1),a,0),y=[].concat(U_(Cg.rangeStep(new yt(d),new yt(f).sub(new yt(.99).mul(m)),m)),[f]);return n>i?F_(y):y}var DX=DL(RX),LX=DL(MX),$X="Invariant failed";function Yo(t,e){throw new Error($X)}var VX=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Sc(t){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sc(t)}function fm(){return fm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fm.apply(this,arguments)}function FX(t,e){return zX(t)||qX(t,e)||BX(t,e)||UX()}function UX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BX(t,e){if(t){if(typeof t=="string")return oO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oO(t,e)}}function oO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qX(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function zX(t){if(Array.isArray(t))return t}function WX(t,e){if(t==null)return{};var r=HX(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function HX(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function GX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qL(n.key),n)}}function YX(t,e,r){return e&&KX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function XX(t,e,r){return e=hm(e),QX(t,UL()?Reflect.construct(e,r||[],hm(t).constructor):e.apply(t,r))}function QX(t,e){if(e&&(Sc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JX(t)}function JX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UL=function(){return!!t})()}function hm(t){return hm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hm(t)}function ZX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q_(t,e)}function q_(t,e){return q_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},q_(t,e)}function BL(t,e,r){return e=qL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qL(t){var e=eQ(t,"string");return Sc(e)=="symbol"?e:e+""}function eQ(t,e){if(Sc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Rg=function(t){function e(){return GX(this,e),XX(this,e,arguments)}return ZX(e,t),YX(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,o=n.width,u=n.dataKey,d=n.data,f=n.dataPointFormatter,p=n.xAxis,m=n.yAxis,y=WX(n,VX),x=We(y,!1);this.props.direction==="x"&&p.type!=="number"&&Yo();var S=d.map(function(_){var b=f(_,u),P=b.x,A=b.y,I=b.value,R=b.errorVal;if(!R)return null;var E=[],N,T;if(Array.isArray(R)){var O=FX(R,2);N=O[0],T=O[1]}else N=T=R;if(a==="vertical"){var L=p.scale,C=A+i,D=C+o,F=C-o,$=L(I-N),ee=L(I+T);E.push({x1:ee,y1:D,x2:ee,y2:F}),E.push({x1:$,y1:C,x2:ee,y2:C}),E.push({x1:$,y1:D,x2:$,y2:F})}else if(a==="horizontal"){var ne=m.scale,Q=P+i,ie=Q-o,Z=Q+o,J=ne(I-N),ae=ne(I+T);E.push({x1:ie,y1:ae,x2:Z,y2:ae}),E.push({x1:Q,y1:J,x2:Q,y2:ae}),E.push({x1:ie,y1:J,x2:Z,y2:J})}return H.createElement(gt,fm({className:"recharts-errorBar",key:"bar-".concat(E.map(function(z){return"".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))},x),E.map(function(z){return H.createElement("line",fm({},z,{key:"line-".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))}))});return H.createElement(gt,{className:"recharts-errorBars"},S)}}])}(H.Component);BL(Rg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});BL(Rg,"displayName","ErrorBar");function Dd(t){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dd(t)}function lO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lO(Object(r),!0).forEach(function(n){tQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tQ(t,e,r){return e=rQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rQ(t){var e=nQ(t,"string");return Dd(e)=="symbol"?e:e+""}function nQ(t,e){if(Dd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zL=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=Pn(r,Cs);if(!o)return null;var u=Cs.defaultProps,d=u!==void 0?bo(bo({},u),o.props):{},f;return o.props&&o.props.payload?f=o.props&&o.props.payload:a==="children"?f=(n||[]).reduce(function(p,m){var y=m.item,x=m.props,S=x.sectors||x.data||[];return p.concat(S.map(function(_){return{type:o.props.iconType||y.props.legendType,value:_.name,color:_.fill,payload:_}}))},[]):f=(n||[]).map(function(p){var m=p.item,y=m.type.defaultProps,x=y!==void 0?bo(bo({},y),m.props):{},S=x.dataKey,_=x.name,b=x.legendType,P=x.hide;return{inactive:P,dataKey:S,type:d.iconType||b||"square",color:vk(m),value:_||S,payload:x}}),bo(bo(bo({},d),Cs.getWithHeight(o,i)),{},{payload:f,item:o})};function Ld(t){"@babel/helpers - typeof";return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ld(t)}function cO(t){return oQ(t)||sQ(t)||aQ(t)||iQ()}function iQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aQ(t,e){if(t){if(typeof t=="string")return z_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z_(t,e)}}function sQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function oQ(t){if(Array.isArray(t))return z_(t)}function z_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function uO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Bt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uO(Object(r),!0).forEach(function(n){sc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sc(t,e,r){return e=lQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lQ(t){var e=cQ(t,"string");return Ld(e)=="symbol"?e:e+""}function cQ(t,e){if(Ld(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ur(t,e,r){return et(t)||et(e)?r:ar(e)?Rn(t,e,r):Ge(e)?e(t):r}function od(t,e,r,n){var i=oX(t,function(u){return Ur(u,e)});if(r==="number"){var a=i.filter(function(u){return je(u)||parseFloat(u)});return a.length?[Pg(a),Ng(a)]:[1/0,-1/0]}var o=n?i.filter(function(u){return!et(u)}):i;return o.map(function(u){return ar(u)||u instanceof Date?u:""})}var uQ=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,u=(r=n?.length)!==null&&r!==void 0?r:0;if(u<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var d=a.range,f=0;f<u;f++){var p=f>0?i[f-1].coordinate:i[u-1].coordinate,m=i[f].coordinate,y=f>=u-1?i[0].coordinate:i[f+1].coordinate,x=void 0;if(Yr(m-p)!==Yr(y-m)){var S=[];if(Yr(y-m)===Yr(d[1]-d[0])){x=y;var _=m+d[1]-d[0];S[0]=Math.min(_,(_+p)/2),S[1]=Math.max(_,(_+p)/2)}else{x=p;var b=y+d[1]-d[0];S[0]=Math.min(m,(b+m)/2),S[1]=Math.max(m,(b+m)/2)}var P=[Math.min(m,(x+m)/2),Math.max(m,(x+m)/2)];if(e>P[0]&&e<=P[1]||e>=S[0]&&e<=S[1]){o=i[f].index;break}}else{var A=Math.min(p,y),I=Math.max(p,y);if(e>(A+m)/2&&e<=(I+m)/2){o=i[f].index;break}}}else for(var R=0;R<u;R++)if(R===0&&e<=(n[R].coordinate+n[R+1].coordinate)/2||R>0&&R<u-1&&e>(n[R].coordinate+n[R-1].coordinate)/2&&e<=(n[R].coordinate+n[R+1].coordinate)/2||R===u-1&&e>(n[R].coordinate+n[R-1].coordinate)/2){o=n[R].index;break}return o},vk=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Bt(Bt({},e.type.defaultProps),e.props):e.props,o=a.stroke,u=a.fill,d;switch(i){case"Line":d=o;break;case"Area":case"Radar":d=o&&o!=="none"?o:u;break;default:d=u;break}return d},dQ=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},u=Object.keys(a),d=0,f=u.length;d<f;d++)for(var p=a[u[d]].stackGroups,m=Object.keys(p),y=0,x=m.length;y<x;y++){var S=p[m[y]],_=S.items,b=S.cateAxisId,P=_.filter(function(T){return Ia(T.type).indexOf("Bar")>=0});if(P&&P.length){var A=P[0].type.defaultProps,I=A!==void 0?Bt(Bt({},A),P[0].props):P[0].props,R=I.barSize,E=I[b];o[E]||(o[E]=[]);var N=et(R)?r:R;o[E].push({item:P[0],stackList:P.slice(1),barSize:et(N)?void 0:Xr(N,n,0)})}}return o},fQ=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,u=e.maxBarSize,d=o.length;if(d<1)return null;var f=Xr(r,i,0,!0),p,m=[];if(o[0].barSize===+o[0].barSize){var y=!1,x=i/d,S=o.reduce(function(R,E){return R+E.barSize||0},0);S+=(d-1)*f,S>=i&&(S-=(d-1)*f,f=0),S>=i&&x>0&&(y=!0,x*=.9,S=d*x);var _=(i-S)/2>>0,b={offset:_-f,size:0};p=o.reduce(function(R,E){var N={item:E.item,position:{offset:b.offset+b.size+f,size:y?x:E.barSize}},T=[].concat(cO(R),[N]);return b=T[T.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(O){T.push({item:O,position:b})}),T},m)}else{var P=Xr(n,i,0,!0);i-2*P-(d-1)*f<=0&&(f=0);var A=(i-2*P-(d-1)*f)/d;A>1&&(A>>=0);var I=u===+u?Math.min(A,u):A;p=o.reduce(function(R,E,N){var T=[].concat(cO(R),[{item:E.item,position:{offset:P+(A+f)*N+(A-I)/2,size:I}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(O){T.push({item:O,position:T[T.length-1].position})}),T},m)}return p},hQ=function(e,r,n,i){var a=n.children,o=n.width,u=n.margin,d=o-(u.left||0)-(u.right||0),f=zL({children:a,legendWidth:d});if(f){var p=i||{},m=p.width,y=p.height,x=f.align,S=f.verticalAlign,_=f.layout;if((_==="vertical"||_==="horizontal"&&S==="middle")&&x!=="center"&&je(e[x]))return Bt(Bt({},e),{},sc({},x,e[x]+(m||0)));if((_==="horizontal"||_==="vertical"&&x==="center")&&S!=="middle"&&je(e[S]))return Bt(Bt({},e),{},sc({},S,e[S]+(y||0)))}return e},pQ=function(e,r,n){return et(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},WL=function(e,r,n,i,a){var o=r.props.children,u=ei(o,Rg).filter(function(f){return pQ(i,a,f.props.direction)});if(u&&u.length){var d=u.map(function(f){return f.props.dataKey});return e.reduce(function(f,p){var m=Ur(p,n);if(et(m))return f;var y=Array.isArray(m)?[Pg(m),Ng(m)]:[m,m],x=d.reduce(function(S,_){var b=Ur(p,_,0),P=y[0]-Math.abs(Array.isArray(b)?b[0]:b),A=y[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(P,S[0]),Math.max(A,S[1])]},[1/0,-1/0]);return[Math.min(x[0],f[0]),Math.max(x[1],f[1])]},[1/0,-1/0])}return null},mQ=function(e,r,n,i,a){var o=r.map(function(u){return WL(e,u,n,a,i)}).filter(function(u){return!et(u)});return o&&o.length?o.reduce(function(u,d){return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]):null},HL=function(e,r,n,i,a){var o=r.map(function(d){var f=d.props.dataKey;return n==="number"&&f&&WL(e,d,f,i)||od(e,f,n,a)});if(n==="number")return o.reduce(function(d,f){return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);var u={};return o.reduce(function(d,f){for(var p=0,m=f.length;p<m;p++)u[f[p]]||(u[f[p]]=!0,d.push(f[p]));return d},[])},GL=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},KL=function(e,r,n,i){if(i)return e.map(function(d){return d.coordinate});var a,o,u=e.map(function(d){return d.coordinate===r&&(a=!0),d.coordinate===n&&(o=!0),d.coordinate});return a||u.push(r),o||u.push(n),u},Na=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,u=e.range,d=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/d:0;if(f=e.axisType==="angleAxis"&&u?.length>=2?Yr(u[0]-u[1])*2*f:f,r&&(e.ticks||e.niceTicks)){var p=(e.ticks||e.niceTicks).map(function(m){var y=a?a.indexOf(m):m;return{coordinate:i(y)+f,value:m,offset:f}});return p.filter(function(m){return!bf(m.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(m,y){return{coordinate:i(m)+f,value:m,index:y,offset:f}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(m){return{coordinate:i(m)+f,value:m,offset:f}}):i.domain().map(function(m,y){return{coordinate:i(m)+f,value:a?a[m]:m,index:y,offset:f}})},sw=new WeakMap,ip=function(e,r){if(typeof r!="function")return e;sw.has(e)||sw.set(e,new WeakMap);var n=sw.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},YL=function(e,r,n){var i=e.scale,a=e.type,o=e.layout,u=e.axisType;if(i==="auto")return o==="radial"&&u==="radiusAxis"?{scale:Nd(),realScaleType:"band"}:o==="radial"&&u==="angleAxis"?{scale:om(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:sd(),realScaleType:"point"}:a==="category"?{scale:Nd(),realScaleType:"band"}:{scale:om(),realScaleType:"linear"};if(Wo(i)){var d="scale".concat(pg(i));return{scale:(YI[d]||sd)(),realScaleType:YI[d]?d:"point"}}return Ge(i)?{scale:i}:{scale:sd(),realScaleType:"point"}},dO=1e-4,XL=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-dO,o=Math.max(i[0],i[1])+dO,u=e(r[0]),d=e(r[n-1]);(u<a||u>o||d<a||d>o)&&e.domain([r[0],r[n-1]])}},gQ=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},vQ=function(e,r){if(!r||r.length!==2||!je(r[0])||!je(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!je(e[0])||e[0]<n)&&(a[0]=n),(!je(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},yQ=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0,u=0;u<r;++u){var d=bf(e[u][n][1])?e[u][n][0]:e[u][n][1];d>=0?(e[u][n][0]=a,e[u][n][1]=a+d,a=e[u][n][1]):(e[u][n][0]=o,e[u][n][1]=o+d,o=e[u][n][1])}},xQ=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0;o<r;++o){var u=bf(e[o][n][1])?e[o][n][0]:e[o][n][1];u>=0?(e[o][n][0]=a,e[o][n][1]=a+u,a=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},bQ={sign:yQ,expand:o7,none:mc,silhouette:l7,wiggle:c7,positive:xQ},wQ=function(e,r,n){var i=r.map(function(u){return u.props.dataKey}),a=bQ[n],o=s7().keys(i).value(function(u,d){return+Ur(u,d,0)}).order(b_).offset(a);return o(e)},_Q=function(e,r,n,i,a,o){if(!e)return null;var u=o?r.reverse():r,d={},f=u.reduce(function(m,y){var x,S=(x=y.type)!==null&&x!==void 0&&x.defaultProps?Bt(Bt({},y.type.defaultProps),y.props):y.props,_=S.stackId,b=S.hide;if(b)return m;var P=S[n],A=m[P]||{hasStack:!1,stackGroups:{}};if(ar(_)){var I=A.stackGroups[_]||{numericAxisId:n,cateAxisId:i,items:[]};I.items.push(y),A.hasStack=!0,A.stackGroups[_]=I}else A.stackGroups[wf("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[y]};return Bt(Bt({},m),{},sc({},P,A))},d),p={};return Object.keys(f).reduce(function(m,y){var x=f[y];if(x.hasStack){var S={};x.stackGroups=Object.keys(x.stackGroups).reduce(function(_,b){var P=x.stackGroups[b];return Bt(Bt({},_),{},sc({},b,{numericAxisId:n,cateAxisId:i,items:P.items,stackedData:wQ(e,P.items,a)}))},S)}return Bt(Bt({},m),{},sc({},y,x))},p)},QL=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,o=r.originalDomain,u=r.allowDecimals,d=n||r.scale;if(d!=="auto"&&d!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var f=e.domain();if(!f.length)return null;var p=DX(f,a,u);return e.domain([Pg(p),Ng(p)]),{niceTicks:p}}if(a&&i==="number"){var m=e.domain(),y=LX(m,a,u);return{niceTicks:y}}return null},fO=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,u=e.index;if(r.type==="category")return n[u]?n[u].coordinate+i:null;var d=Ur(o,r.dataKey,r.domain[u]);return et(d)?null:r.scale(d)-a/2+i},SQ=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},kQ=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Bt(Bt({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(ar(a)){var o=r[a];if(o){var u=o.items.indexOf(e);return u>=0?o.stackedData[u]:null}}return null},jQ=function(e){return e.reduce(function(r,n){return[Pg(n.concat([r[0]]).filter(je)),Ng(n.concat([r[1]]).filter(je))]},[1/0,-1/0])},JL=function(e,r,n){return Object.keys(e).reduce(function(i,a){var o=e[a],u=o.stackedData,d=u.reduce(function(f,p){var m=jQ(p.slice(r,n+1));return[Math.min(f[0],m[0]),Math.max(f[1],m[1])]},[1/0,-1/0]);return[Math.min(d[0],i[0]),Math.max(d[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},hO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,pO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,W_=function(e,r,n){if(Ge(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(je(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(hO.test(e[0])){var a=+hO.exec(e[0])[1];i[0]=r[0]-a}else Ge(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(je(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(pO.test(e[1])){var o=+pO.exec(e[1])[1];i[1]=r[1]+o}else Ge(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},pm=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=zS(r,function(m){return m.coordinate}),o=1/0,u=1,d=a.length;u<d;u++){var f=a[u],p=a[u-1];o=Math.min((f.coordinate||0)-(p.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},mO=function(e,r,n){return!e||!e.length||Ig(e,Rn(n,"type.defaultProps.domain"))?r:e},ZL=function(e,r){var n=e.type.defaultProps?Bt(Bt({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,o=n.unit,u=n.formatter,d=n.tooltipType,f=n.chartType,p=n.hide;return Bt(Bt({},We(e,!1)),{},{dataKey:i,unit:o,formatter:u,name:a||i,color:vk(e),value:Ur(r,i),type:d,payload:r,chartType:f,hide:p})};function $d(t){"@babel/helpers - typeof";return $d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$d(t)}function gO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _a(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gO(Object(r),!0).forEach(function(n){e3(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function e3(t,e,r){return e=EQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EQ(t){var e=TQ(t,"string");return $d(e)=="symbol"?e:e+""}function TQ(t,e){if($d(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($d(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AQ(t,e){return OQ(t)||IQ(t,e)||PQ(t,e)||NQ()}function NQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PQ(t,e){if(t){if(typeof t=="string")return vO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vO(t,e)}}function vO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function IQ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function OQ(t){if(Array.isArray(t))return t}var mm=Math.PI/180,CQ=function(e){return e*180/Math.PI},jt=function(e,r,n,i){return{x:e+Math.cos(-mm*i)*n,y:r+Math.sin(-mm*i)*n}},t3=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},RQ=function(e,r,n,i,a){var o=e.width,u=e.height,d=e.startAngle,f=e.endAngle,p=Xr(e.cx,o,o/2),m=Xr(e.cy,u,u/2),y=t3(o,u,n),x=Xr(e.innerRadius,y,0),S=Xr(e.outerRadius,y,y*.8),_=Object.keys(r);return _.reduce(function(b,P){var A=r[P],I=A.domain,R=A.reversed,E;if(et(A.range))i==="angleAxis"?E=[d,f]:i==="radiusAxis"&&(E=[x,S]),R&&(E=[E[1],E[0]]);else{E=A.range;var N=E,T=AQ(N,2);d=T[0],f=T[1]}var O=YL(A,a),L=O.realScaleType,C=O.scale;C.domain(I).range(E),XL(C);var D=QL(C,_a(_a({},A),{},{realScaleType:L})),F=_a(_a(_a({},A),D),{},{range:E,radius:S,realScaleType:L,scale:C,cx:p,cy:m,innerRadius:x,outerRadius:S,startAngle:d,endAngle:f});return _a(_a({},b),{},e3({},P,F))},{})},MQ=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))},DQ=function(e,r){var n=e.x,i=e.y,a=r.cx,o=r.cy,u=MQ({x:n,y:i},{x:a,y:o});if(u<=0)return{radius:u};var d=(n-a)/u,f=Math.acos(d);return i>o&&(f=2*Math.PI-f),{radius:u,angle:CQ(f),angleInRadian:f}},LQ=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:r-o*360,endAngle:n-o*360}},$Q=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),o=Math.floor(i/360),u=Math.min(a,o);return e+u*360},yO=function(e,r){var n=e.x,i=e.y,a=DQ({x:n,y:i},r),o=a.radius,u=a.angle,d=r.innerRadius,f=r.outerRadius;if(o<d||o>f)return!1;if(o===0)return!0;var p=LQ(r),m=p.startAngle,y=p.endAngle,x=u,S;if(m<=y){for(;x>y;)x-=360;for(;x<m;)x+=360;S=x>=m&&x<=y}else{for(;x>m;)x-=360;for(;x<y;)x+=360;S=x>=y&&x<=m}return S?_a(_a({},r),{},{radius:o,angle:$Q(x,r)}):null},r3=function(e){return!B.isValidElement(e)&&!Ge(e)&&typeof e!="boolean"?e.className:""};function Vd(t){"@babel/helpers - typeof";return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vd(t)}var VQ=["offset"];function FQ(t){return zQ(t)||qQ(t)||BQ(t)||UQ()}function UQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BQ(t,e){if(t){if(typeof t=="string")return H_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H_(t,e)}}function qQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zQ(t){if(Array.isArray(t))return H_(t)}function H_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function WQ(t,e){if(t==null)return{};var r=HQ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function HQ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function xO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ir(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xO(Object(r),!0).forEach(function(n){GQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function GQ(t,e,r){return e=KQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KQ(t){var e=YQ(t,"string");return Vd(e)=="symbol"?e:e+""}function YQ(t,e){if(Vd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fd(){return Fd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fd.apply(this,arguments)}var XQ=function(e){var r=e.value,n=e.formatter,i=et(e.children)?r:e.children;return Ge(n)?n(i):i},QQ=function(e,r){var n=Yr(r-e),i=Math.min(Math.abs(r-e),360);return n*i},JQ=function(e,r,n){var i=e.position,a=e.viewBox,o=e.offset,u=e.className,d=a,f=d.cx,p=d.cy,m=d.innerRadius,y=d.outerRadius,x=d.startAngle,S=d.endAngle,_=d.clockWise,b=(m+y)/2,P=QQ(x,S),A=P>=0?1:-1,I,R;i==="insideStart"?(I=x+A*o,R=_):i==="insideEnd"?(I=S-A*o,R=!_):i==="end"&&(I=S+A*o,R=_),R=P<=0?R:!R;var E=jt(f,p,b,I),N=jt(f,p,b,I+(R?1:-1)*359),T="M".concat(E.x,",").concat(E.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(R?0:1,`,
    `).concat(N.x,",").concat(N.y),O=et(e.id)?wf("recharts-radial-line-"):e.id;return H.createElement("text",Fd({},n,{dominantBaseline:"central",className:Je("recharts-radial-bar-label",u)}),H.createElement("defs",null,H.createElement("path",{id:O,d:T})),H.createElement("textPath",{xlinkHref:"#".concat(O)},r))},ZQ=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,o=a.cx,u=a.cy,d=a.innerRadius,f=a.outerRadius,p=a.startAngle,m=a.endAngle,y=(p+m)/2;if(i==="outside"){var x=jt(o,u,f+n,y),S=x.x,_=x.y;return{x:S,y:_,textAnchor:S>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:u,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:u,textAnchor:"middle",verticalAnchor:"end"};var b=(d+f)/2,P=jt(o,u,b,y),A=P.x,I=P.y;return{x:A,y:I,textAnchor:"middle",verticalAnchor:"middle"}},eJ=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,o=r,u=o.x,d=o.y,f=o.width,p=o.height,m=p>=0?1:-1,y=m*i,x=m>0?"end":"start",S=m>0?"start":"end",_=f>=0?1:-1,b=_*i,P=_>0?"end":"start",A=_>0?"start":"end";if(a==="top"){var I={x:u+f/2,y:d-m*i,textAnchor:"middle",verticalAnchor:x};return ir(ir({},I),n?{height:Math.max(d-n.y,0),width:f}:{})}if(a==="bottom"){var R={x:u+f/2,y:d+p+y,textAnchor:"middle",verticalAnchor:S};return ir(ir({},R),n?{height:Math.max(n.y+n.height-(d+p),0),width:f}:{})}if(a==="left"){var E={x:u-b,y:d+p/2,textAnchor:P,verticalAnchor:"middle"};return ir(ir({},E),n?{width:Math.max(E.x-n.x,0),height:p}:{})}if(a==="right"){var N={x:u+f+b,y:d+p/2,textAnchor:A,verticalAnchor:"middle"};return ir(ir({},N),n?{width:Math.max(n.x+n.width-N.x,0),height:p}:{})}var T=n?{width:f,height:p}:{};return a==="insideLeft"?ir({x:u+b,y:d+p/2,textAnchor:A,verticalAnchor:"middle"},T):a==="insideRight"?ir({x:u+f-b,y:d+p/2,textAnchor:P,verticalAnchor:"middle"},T):a==="insideTop"?ir({x:u+f/2,y:d+y,textAnchor:"middle",verticalAnchor:S},T):a==="insideBottom"?ir({x:u+f/2,y:d+p-y,textAnchor:"middle",verticalAnchor:x},T):a==="insideTopLeft"?ir({x:u+b,y:d+y,textAnchor:A,verticalAnchor:S},T):a==="insideTopRight"?ir({x:u+f-b,y:d+y,textAnchor:P,verticalAnchor:S},T):a==="insideBottomLeft"?ir({x:u+b,y:d+p-y,textAnchor:A,verticalAnchor:x},T):a==="insideBottomRight"?ir({x:u+f-b,y:d+p-y,textAnchor:P,verticalAnchor:x},T):Gc(a)&&(je(a.x)||Po(a.x))&&(je(a.y)||Po(a.y))?ir({x:u+Xr(a.x,f),y:d+Xr(a.y,p),textAnchor:"end",verticalAnchor:"end"},T):ir({x:u+f/2,y:d+p/2,textAnchor:"middle",verticalAnchor:"middle"},T)},tJ=function(e){return"cx"in e&&je(e.cx)};function vr(t){var e=t.offset,r=e===void 0?5:e,n=WQ(t,VQ),i=ir({offset:r},n),a=i.viewBox,o=i.position,u=i.value,d=i.children,f=i.content,p=i.className,m=p===void 0?"":p,y=i.textBreakAll;if(!a||et(u)&&et(d)&&!B.isValidElement(f)&&!Ge(f))return null;if(B.isValidElement(f))return B.cloneElement(f,i);var x;if(Ge(f)){if(x=B.createElement(f,i),B.isValidElement(x))return x}else x=XQ(i);var S=tJ(a),_=We(i,!0);if(S&&(o==="insideStart"||o==="insideEnd"||o==="end"))return JQ(i,x,_);var b=S?ZQ(i):eJ(i);return H.createElement(Go,Fd({className:Je("recharts-label",m)},_,b,{breakAll:y}),x)}vr.displayName="Label";var n3=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,u=e.r,d=e.radius,f=e.innerRadius,p=e.outerRadius,m=e.x,y=e.y,x=e.top,S=e.left,_=e.width,b=e.height,P=e.clockWise,A=e.labelViewBox;if(A)return A;if(je(_)&&je(b)){if(je(m)&&je(y))return{x:m,y,width:_,height:b};if(je(x)&&je(S))return{x,y:S,width:_,height:b}}return je(m)&&je(y)?{x:m,y,width:0,height:0}:je(r)&&je(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:f||0,outerRadius:p||d||u||0,clockWise:P}:e.viewBox?e.viewBox:{}},rJ=function(e,r){return e?e===!0?H.createElement(vr,{key:"label-implicit",viewBox:r}):ar(e)?H.createElement(vr,{key:"label-implicit",viewBox:r,value:e}):B.isValidElement(e)?e.type===vr?B.cloneElement(e,{key:"label-implicit",viewBox:r}):H.createElement(vr,{key:"label-implicit",content:e,viewBox:r}):Ge(e)?H.createElement(vr,{key:"label-implicit",content:e,viewBox:r}):Gc(e)?H.createElement(vr,Fd({viewBox:r},e,{key:"label-implicit"})):null:null},nJ=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=n3(e),o=ei(i,vr).map(function(d,f){return B.cloneElement(d,{viewBox:r||a,key:"label-".concat(f)})});if(!n)return o;var u=rJ(e.label,r||a);return[u].concat(FQ(o))};vr.parseViewBox=n3;vr.renderCallByParent=nJ;var ow,bO;function iJ(){if(bO)return ow;bO=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return ow=t,ow}var aJ=iJ();const sJ=pt(aJ);function Ud(t){"@babel/helpers - typeof";return Ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ud(t)}var oJ=["valueAccessor"],lJ=["data","dataKey","clockWise","id","textBreakAll"];function cJ(t){return hJ(t)||fJ(t)||dJ(t)||uJ()}function uJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dJ(t,e){if(t){if(typeof t=="string")return G_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G_(t,e)}}function fJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hJ(t){if(Array.isArray(t))return G_(t)}function G_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function gm(){return gm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gm.apply(this,arguments)}function wO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _O(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wO(Object(r),!0).forEach(function(n){pJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pJ(t,e,r){return e=mJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mJ(t){var e=gJ(t,"string");return Ud(e)=="symbol"?e:e+""}function gJ(t,e){if(Ud(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SO(t,e){if(t==null)return{};var r=vJ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function vJ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var yJ=function(e){return Array.isArray(e.value)?sJ(e.value):e.value};function Ms(t){var e=t.valueAccessor,r=e===void 0?yJ:e,n=SO(t,oJ),i=n.data,a=n.dataKey,o=n.clockWise,u=n.id,d=n.textBreakAll,f=SO(n,lJ);return!i||!i.length?null:H.createElement(gt,{className:"recharts-label-list"},i.map(function(p,m){var y=et(a)?r(p,m):Ur(p&&p.payload,a),x=et(u)?{}:{id:"".concat(u,"-").concat(m)};return H.createElement(vr,gm({},We(p,!0),f,x,{parentViewBox:p.parentViewBox,value:y,textBreakAll:d,viewBox:vr.parseViewBox(et(o)?p:_O(_O({},p),{},{clockWise:o})),key:"label-".concat(m),index:m}))}))}Ms.displayName="LabelList";function xJ(t,e){return t?t===!0?H.createElement(Ms,{key:"labelList-implicit",data:e}):H.isValidElement(t)||Ge(t)?H.createElement(Ms,{key:"labelList-implicit",data:e,content:t}):Gc(t)?H.createElement(Ms,gm({data:e},t,{key:"labelList-implicit"})):null:null}function bJ(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=ei(n,Ms).map(function(o,u){return B.cloneElement(o,{data:e,key:"labelList-".concat(u)})});if(!r)return i;var a=xJ(t.label,e);return[a].concat(cJ(i))}Ms.renderCallByParent=bJ;function Bd(t){"@babel/helpers - typeof";return Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bd(t)}function K_(){return K_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},K_.apply(this,arguments)}function kO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kO(Object(r),!0).forEach(function(n){wJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wJ(t,e,r){return e=_J(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _J(t){var e=SJ(t,"string");return Bd(e)=="symbol"?e:e+""}function SJ(t,e){if(Bd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kJ=function(e,r){var n=Yr(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},ap=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,o=e.sign,u=e.isExternal,d=e.cornerRadius,f=e.cornerIsExternal,p=d*(u?1:-1)+i,m=Math.asin(d/p)/mm,y=f?a:a+o*m,x=jt(r,n,p,y),S=jt(r,n,i,y),_=f?a-o*m:a,b=jt(r,n,p*Math.cos(m*mm),_);return{center:x,circleTangency:S,lineTangency:b,theta:m}},i3=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,u=e.endAngle,d=kJ(o,u),f=o+d,p=jt(r,n,a,o),m=jt(r,n,a,f),y="M ".concat(p.x,",").concat(p.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(o>f),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(i>0){var x=jt(r,n,i,o),S=jt(r,n,i,f);y+="L ".concat(S.x,",").concat(S.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(o<=f),`,
            `).concat(x.x,",").concat(x.y," Z")}else y+="L ".concat(r,",").concat(n," Z");return y},jJ=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,u=e.forceCornerRadius,d=e.cornerIsExternal,f=e.startAngle,p=e.endAngle,m=Yr(p-f),y=ap({cx:r,cy:n,radius:a,angle:f,sign:m,cornerRadius:o,cornerIsExternal:d}),x=y.circleTangency,S=y.lineTangency,_=y.theta,b=ap({cx:r,cy:n,radius:a,angle:p,sign:-m,cornerRadius:o,cornerIsExternal:d}),P=b.circleTangency,A=b.lineTangency,I=b.theta,R=d?Math.abs(f-p):Math.abs(f-p)-_-I;if(R<0)return u?"M ".concat(S.x,",").concat(S.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):i3({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:f,endAngle:p});var E="M ".concat(S.x,",").concat(S.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(R>180),",").concat(+(m<0),",").concat(P.x,",").concat(P.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(A.x,",").concat(A.y,`
  `);if(i>0){var N=ap({cx:r,cy:n,radius:i,angle:f,sign:m,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),T=N.circleTangency,O=N.lineTangency,L=N.theta,C=ap({cx:r,cy:n,radius:i,angle:p,sign:-m,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),D=C.circleTangency,F=C.lineTangency,$=C.theta,ee=d?Math.abs(f-p):Math.abs(f-p)-L-$;if(ee<0&&o===0)return"".concat(E,"L").concat(r,",").concat(n,"Z");E+="L".concat(F.x,",").concat(F.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(ee>180),",").concat(+(m>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(O.x,",").concat(O.y,"Z")}else E+="L".concat(r,",").concat(n,"Z");return E},EJ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},yk=function(e){var r=jO(jO({},EJ),e),n=r.cx,i=r.cy,a=r.innerRadius,o=r.outerRadius,u=r.cornerRadius,d=r.forceCornerRadius,f=r.cornerIsExternal,p=r.startAngle,m=r.endAngle,y=r.className;if(o<a||p===m)return null;var x=Je("recharts-sector",y),S=o-a,_=Xr(u,S,0,!0),b;return _>0&&Math.abs(p-m)<360?b=jJ({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(_,S/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:p,endAngle:m}):b=i3({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:p,endAngle:m}),H.createElement("path",K_({},We(r,!0),{className:x,d:b,role:"img"}))};function qd(t){"@babel/helpers - typeof";return qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qd(t)}function Y_(){return Y_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Y_.apply(this,arguments)}function EO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function TO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EO(Object(r),!0).forEach(function(n){TJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TJ(t,e,r){return e=AJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AJ(t){var e=NJ(t,"string");return qd(e)=="symbol"?e:e+""}function NJ(t,e){if(qd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AO={curveBasisClosed:Yz,curveBasisOpen:Xz,curveBasis:Kz,curveBumpX:Rz,curveBumpY:Mz,curveLinearClosed:Qz,curveLinear:gg,curveMonotoneX:Jz,curveMonotoneY:Zz,curveNatural:e7,curveStep:t7,curveStepAfter:n7,curveStepBefore:r7},sp=function(e){return e.x===+e.x&&e.y===+e.y},Uu=function(e){return e.x},Bu=function(e){return e.y},PJ=function(e,r){if(Ge(e))return e;var n="curve".concat(pg(e));return(n==="curveMonotone"||n==="curveBump")&&r?AO["".concat(n).concat(r==="vertical"?"Y":"X")]:AO[n]||gg},IJ=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,o=e.baseLine,u=e.layout,d=e.connectNulls,f=d===void 0?!1:d,p=PJ(n,u),m=f?a.filter(function(_){return sp(_)}):a,y;if(Array.isArray(o)){var x=f?o.filter(function(_){return sp(_)}):o,S=m.map(function(_,b){return TO(TO({},_),{},{base:x[b]})});return u==="vertical"?y=Qh().y(Bu).x1(Uu).x0(function(_){return _.base.x}):y=Qh().x(Uu).y1(Bu).y0(function(_){return _.base.y}),y.defined(sp).curve(p),y(S)}return u==="vertical"&&je(o)?y=Qh().y(Bu).x1(Uu).x0(o):je(o)?y=Qh().x(Uu).y1(Bu).y0(o):y=n4().x(Uu).y(Bu),y.defined(sp).curve(p),y(m)},X_=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?IJ(e):i;return B.createElement("path",Y_({},We(e,!1),zp(e),{className:Je("recharts-curve",r),d:o,ref:a}))},lw={exports:{}},cw,NO;function OJ(){if(NO)return cw;NO=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return cw=t,cw}var uw,PO;function CJ(){if(PO)return uw;PO=1;var t=OJ();function e(){}function r(){}return r.resetWarningCache=e,uw=function(){function n(o,u,d,f,p,m){if(m!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return a.PropTypes=a,a},uw}var IO;function RJ(){return IO||(IO=1,lw.exports=CJ()()),lw.exports}var MJ=RJ();const ht=pt(MJ);var DJ=Object.getOwnPropertyNames,LJ=Object.getOwnPropertySymbols,$J=Object.prototype.hasOwnProperty;function OO(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function op(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,o=a.get(r),u=a.get(n);if(o&&u)return o===n&&u===r;a.set(r,n),a.set(n,r);var d=t(r,n,i);return a.delete(r),a.delete(n),d}}function CO(t){return DJ(t).concat(LJ(t))}var VJ=Object.hasOwn||function(t,e){return $J.call(t,e)};function il(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var FJ="__v",UJ="__o",BJ="_owner",RO=Object.getOwnPropertyDescriptor,MO=Object.keys;function qJ(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function zJ(t,e){return il(t.getTime(),e.getTime())}function WJ(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function HJ(t,e){return t===e}function DO(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.entries(),o,u,d=0;(o=a.next())&&!o.done;){for(var f=e.entries(),p=!1,m=0;(u=f.next())&&!u.done;){if(i[m]){m++;continue}var y=o.value,x=u.value;if(r.equals(y[0],x[0],d,m,t,e,r)&&r.equals(y[1],x[1],y[0],x[0],t,e,r)){p=i[m]=!0;break}m++}if(!p)return!1;d++}return!0}var GJ=il;function KJ(t,e,r){var n=MO(t),i=n.length;if(MO(e).length!==i)return!1;for(;i-- >0;)if(!a3(t,e,r,n[i]))return!1;return!0}function qu(t,e,r){var n=CO(t),i=n.length;if(CO(e).length!==i)return!1;for(var a,o,u;i-- >0;)if(a=n[i],!a3(t,e,r,a)||(o=RO(t,a),u=RO(e,a),(o||u)&&(!o||!u||o.configurable!==u.configurable||o.enumerable!==u.enumerable||o.writable!==u.writable)))return!1;return!0}function YJ(t,e){return il(t.valueOf(),e.valueOf())}function XJ(t,e){return t.source===e.source&&t.flags===e.flags}function LO(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.values(),o,u;(o=a.next())&&!o.done;){for(var d=e.values(),f=!1,p=0;(u=d.next())&&!u.done;){if(!i[p]&&r.equals(o.value,u.value,o.value,u.value,t,e,r)){f=i[p]=!0;break}p++}if(!f)return!1}return!0}function QJ(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function JJ(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function a3(t,e,r,n){return(n===BJ||n===UJ||n===FJ)&&(t.$$typeof||e.$$typeof)?!0:VJ(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var ZJ="[object Arguments]",eZ="[object Boolean]",tZ="[object Date]",rZ="[object Error]",nZ="[object Map]",iZ="[object Number]",aZ="[object Object]",sZ="[object RegExp]",oZ="[object Set]",lZ="[object String]",cZ="[object URL]",uZ=Array.isArray,$O=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,VO=Object.assign,dZ=Object.prototype.toString.call.bind(Object.prototype.toString);function fZ(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,u=t.areObjectsEqual,d=t.arePrimitiveWrappersEqual,f=t.areRegExpsEqual,p=t.areSetsEqual,m=t.areTypedArraysEqual,y=t.areUrlsEqual;return function(S,_,b){if(S===_)return!0;if(S==null||_==null)return!1;var P=typeof S;if(P!==typeof _)return!1;if(P!=="object")return P==="number"?o(S,_,b):P==="function"?i(S,_,b):!1;var A=S.constructor;if(A!==_.constructor)return!1;if(A===Object)return u(S,_,b);if(uZ(S))return e(S,_,b);if($O!=null&&$O(S))return m(S,_,b);if(A===Date)return r(S,_,b);if(A===RegExp)return f(S,_,b);if(A===Map)return a(S,_,b);if(A===Set)return p(S,_,b);var I=dZ(S);return I===tZ?r(S,_,b):I===sZ?f(S,_,b):I===nZ?a(S,_,b):I===oZ?p(S,_,b):I===aZ?typeof S.then!="function"&&typeof _.then!="function"&&u(S,_,b):I===cZ?y(S,_,b):I===rZ?n(S,_,b):I===ZJ?u(S,_,b):I===eZ||I===iZ||I===lZ?d(S,_,b):!1}}function hZ(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?qu:qJ,areDatesEqual:zJ,areErrorsEqual:WJ,areFunctionsEqual:HJ,areMapsEqual:n?OO(DO,qu):DO,areNumbersEqual:GJ,areObjectsEqual:n?qu:KJ,arePrimitiveWrappersEqual:YJ,areRegExpsEqual:XJ,areSetsEqual:n?OO(LO,qu):LO,areTypedArraysEqual:n?qu:QJ,areUrlsEqual:JJ};if(r&&(i=VO({},i,r(i))),e){var a=op(i.areArraysEqual),o=op(i.areMapsEqual),u=op(i.areObjectsEqual),d=op(i.areSetsEqual);i=VO({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:u,areSetsEqual:d})}return i}function pZ(t){return function(e,r,n,i,a,o,u){return t(e,r,u)}}function mZ(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(d,f){var p=n(),m=p.cache,y=m===void 0?e?new WeakMap:void 0:m,x=p.meta;return r(d,f,{cache:y,equals:i,meta:x,strict:a})};if(e)return function(d,f){return r(d,f,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(d,f){return r(d,f,o)}}var gZ=Gs();Gs({strict:!0});Gs({circular:!0});Gs({circular:!0,strict:!0});Gs({createInternalComparator:function(){return il}});Gs({strict:!0,createInternalComparator:function(){return il}});Gs({circular:!0,createInternalComparator:function(){return il}});Gs({circular:!0,createInternalComparator:function(){return il},strict:!0});function Gs(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,u=hZ(t),d=fZ(u),f=n?n(d):pZ(d);return mZ({circular:r,comparator:d,createState:i,equals:f,strict:o})}function vZ(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function FO(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):vZ(i)};requestAnimationFrame(n)}function Q_(t){"@babel/helpers - typeof";return Q_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q_(t)}function yZ(t){return _Z(t)||wZ(t)||bZ(t)||xZ()}function xZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bZ(t,e){if(t){if(typeof t=="string")return UO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UO(t,e)}}function UO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function wZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _Z(t){if(Array.isArray(t))return t}function SZ(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,u=yZ(o),d=u[0],f=u.slice(1);if(typeof d=="number"){FO(i.bind(null,f),d);return}i(d),FO(i.bind(null,f));return}Q_(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function zd(t){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zd(t)}function BO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BO(Object(r),!0).forEach(function(n){s3(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function s3(t,e,r){return e=kZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kZ(t){var e=jZ(t,"string");return zd(e)==="symbol"?e:String(e)}function jZ(t,e){if(zd(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var EZ=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},TZ=function(e){return e},AZ=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},ld=function(e,r){return Object.keys(r).reduce(function(n,i){return qO(qO({},n),{},s3({},i,e(i,r[i])))},{})},zO=function(e,r,n){return e.map(function(i){return"".concat(AZ(i)," ").concat(r,"ms ").concat(n)}).join(",")};function NZ(t,e){return OZ(t)||IZ(t,e)||o3(t,e)||PZ()}function PZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IZ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function OZ(t){if(Array.isArray(t))return t}function CZ(t){return DZ(t)||MZ(t)||o3(t)||RZ()}function RZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o3(t,e){if(t){if(typeof t=="string")return J_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J_(t,e)}}function MZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function DZ(t){if(Array.isArray(t))return J_(t)}function J_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var vm=1e-4,l3=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},c3=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},WO=function(e,r){return function(n){var i=l3(e,r);return c3(i,n)}},LZ=function(e,r){return function(n){var i=l3(e,r),a=[].concat(CZ(i.map(function(o,u){return o*u}).slice(1)),[0]);return c3(a,n)}},HO=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],o=r[2],u=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,o=1,u=1;break;case"ease":i=.25,a=.1,o=.25,u=1;break;case"ease-in":i=.42,a=0,o=1,u=1;break;case"ease-out":i=.42,a=0,o=.58,u=1;break;case"ease-in-out":i=0,a=0,o=.58,u=1;break;default:{var d=r[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var f=d[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),p=NZ(f,4);i=p[0],a=p[1],o=p[2],u=p[3]}}}var m=WO(i,o),y=WO(a,u),x=LZ(i,o),S=function(P){return P>1?1:P<0?0:P},_=function(P){for(var A=P>1?1:P,I=A,R=0;R<8;++R){var E=m(I)-A,N=x(I);if(Math.abs(E-A)<vm||N<vm)return y(I);I=S(I-E/N)}return y(I)};return _.isStepper=!1,_},$Z=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,o=e.dt,u=o===void 0?17:o,d=function(p,m,y){var x=-(p-m)*n,S=y*a,_=y+(x-S)*u/1e3,b=y*u/1e3+p;return Math.abs(b-m)<vm&&Math.abs(_)<vm?[m,0]:[b,_]};return d.isStepper=!0,d.dt=u,d},VZ=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return HO(i);case"spring":return $Z();default:if(i.split("(")[0]==="cubic-bezier")return HO(i)}return typeof i=="function"?i:null};function Wd(t){"@babel/helpers - typeof";return Wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wd(t)}function GO(t){return BZ(t)||UZ(t)||u3(t)||FZ()}function FZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function BZ(t){if(Array.isArray(t))return e1(t)}function KO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KO(Object(r),!0).forEach(function(n){Z_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Z_(t,e,r){return e=qZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qZ(t){var e=zZ(t,"string");return Wd(e)==="symbol"?e:String(e)}function zZ(t,e){if(Wd(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WZ(t,e){return KZ(t)||GZ(t,e)||u3(t,e)||HZ()}function HZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u3(t,e){if(t){if(typeof t=="string")return e1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e1(t,e)}}function e1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function GZ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function KZ(t){if(Array.isArray(t))return t}var ym=function(e,r,n){return e+(r-e)*n},t1=function(e){var r=e.from,n=e.to;return r!==n},YZ=function t(e,r,n){var i=ld(function(a,o){if(t1(o)){var u=e(o.from,o.to,o.velocity),d=WZ(u,2),f=d[0],p=d[1];return jr(jr({},o),{},{from:f,velocity:p})}return o},r);return n<1?ld(function(a,o){return t1(o)?jr(jr({},o),{},{velocity:ym(o.velocity,i[a].velocity,n),from:ym(o.from,i[a].from,n)}):o},r):t(e,i,n-1)};const XZ=function(t,e,r,n,i){var a=EZ(t,e),o=a.reduce(function(b,P){return jr(jr({},b),{},Z_({},P,[t[P],e[P]]))},{}),u=a.reduce(function(b,P){return jr(jr({},b),{},Z_({},P,{from:t[P],velocity:0,to:e[P]}))},{}),d=-1,f,p,m=function(){return null},y=function(){return ld(function(P,A){return A.from},u)},x=function(){return!Object.values(u).filter(t1).length},S=function(P){f||(f=P);var A=P-f,I=A/r.dt;u=YZ(r,u,I),i(jr(jr(jr({},t),e),y())),f=P,x()||(d=requestAnimationFrame(m))},_=function(P){p||(p=P);var A=(P-p)/n,I=ld(function(E,N){return ym.apply(void 0,GO(N).concat([r(A)]))},o);if(i(jr(jr(jr({},t),e),I)),A<1)d=requestAnimationFrame(m);else{var R=ld(function(E,N){return ym.apply(void 0,GO(N).concat([r(1)]))},o);i(jr(jr(jr({},t),e),R))}};return m=r.isStepper?S:_,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(d)}}};function kc(t){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kc(t)}var QZ=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function JZ(t,e){if(t==null)return{};var r=ZZ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ZZ(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function dw(t){return nee(t)||ree(t)||tee(t)||eee()}function eee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tee(t,e){if(t){if(typeof t=="string")return r1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r1(t,e)}}function ree(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nee(t){if(Array.isArray(t))return r1(t)}function r1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function YO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YO(Object(r),!0).forEach(function(n){Zu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zu(t,e,r){return e=d3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aee(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,d3(n.key),n)}}function see(t,e,r){return e&&aee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function d3(t){var e=oee(t,"string");return kc(e)==="symbol"?e:String(e)}function oee(t,e){if(kc(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n1(t,e)}function n1(t,e){return n1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},n1(t,e)}function cee(t){var e=uee();return function(){var n=xm(t),i;if(e){var a=xm(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return i1(this,i)}}function i1(t,e){if(e&&(kc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a1(t)}function a1(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uee(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function xm(t){return xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xm(t)}var Ba=function(t){lee(r,t);var e=cee(r);function r(n,i){var a;iee(this,r),a=e.call(this,n,i);var o=a.props,u=o.isActive,d=o.attributeName,f=o.from,p=o.to,m=o.steps,y=o.children,x=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(a1(a)),a.changeStyle=a.changeStyle.bind(a1(a)),!u||x<=0)return a.state={style:{}},typeof y=="function"&&(a.state={style:p}),i1(a);if(m&&m.length)a.state={style:m[0].style};else if(f){if(typeof y=="function")return a.state={style:f},i1(a);a.state={style:d?Zu({},d,f):f}}else a.state={style:{}};return a}return see(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,u=a.canBegin,d=a.attributeName,f=a.shouldReAnimate,p=a.to,m=a.from,y=this.state.style;if(u){if(!o){var x={style:d?Zu({},d,p):p};this.state&&y&&(d&&y[d]!==p||!d&&y!==p)&&this.setState(x);return}if(!(gZ(i.to,p)&&i.canBegin&&i.isActive)){var S=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var _=S||f?m:i.to;if(this.state&&y){var b={style:d?Zu({},d,_):_};(d&&y[d]!==_||!d&&y!==_)&&this.setState(b)}this.runAnimation(gi(gi({},this.props),{},{from:_,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,u=i.to,d=i.duration,f=i.easing,p=i.begin,m=i.onAnimationEnd,y=i.onAnimationStart,x=XZ(o,u,VZ(f),d,this.changeStyle),S=function(){a.stopJSAnimation=x()};this.manager.start([y,p,S,d,m])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,u=i.begin,d=i.onAnimationStart,f=o[0],p=f.style,m=f.duration,y=m===void 0?0:m,x=function(_,b,P){if(P===0)return _;var A=b.duration,I=b.easing,R=I===void 0?"ease":I,E=b.style,N=b.properties,T=b.onAnimationEnd,O=P>0?o[P-1]:b,L=N||Object.keys(E);if(typeof R=="function"||R==="spring")return[].concat(dw(_),[a.runJSAnimation.bind(a,{from:O.style,to:E,duration:A,easing:R}),A]);var C=zO(L,A,R),D=gi(gi(gi({},O.style),E),{},{transition:C});return[].concat(dw(_),[D,A,T]).filter(TZ)};return this.manager.start([d].concat(dw(o.reduce(x,[p,Math.max(y,u)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=SZ());var a=i.begin,o=i.duration,u=i.attributeName,d=i.to,f=i.easing,p=i.onAnimationStart,m=i.onAnimationEnd,y=i.steps,x=i.children,S=this.manager;if(this.unSubscribe=S.subscribe(this.handleStyleChange),typeof f=="function"||typeof x=="function"||f==="spring"){this.runJSAnimation(i);return}if(y.length>1){this.runStepAnimation(i);return}var _=u?Zu({},u,d):d,b=zO(Object.keys(_),o,f);S.start([p,a,gi(gi({},_),{},{transition:b}),o,m])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var u=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var d=JZ(i,QZ),f=B.Children.count(a),p=this.state.style;if(typeof a=="function")return a(p);if(!u||f===0||o<=0)return a;var m=function(x){var S=x.props,_=S.style,b=_===void 0?{}:_,P=S.className,A=B.cloneElement(x,gi(gi({},d),{},{style:gi(gi({},b),p),className:P}));return A};return f===1?m(B.Children.only(a)):H.createElement("div",null,B.Children.map(a,function(y){return m(y)}))}}]),r}(B.PureComponent);Ba.displayName="Animate";Ba.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ba.propTypes={from:ht.oneOfType([ht.object,ht.string]),to:ht.oneOfType([ht.object,ht.string]),attributeName:ht.string,duration:ht.number,begin:ht.number,easing:ht.oneOfType([ht.string,ht.func]),steps:ht.arrayOf(ht.shape({duration:ht.number.isRequired,style:ht.object.isRequired,easing:ht.oneOfType([ht.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ht.func]),properties:ht.arrayOf("string"),onAnimationEnd:ht.func})),children:ht.oneOfType([ht.node,ht.func]),isActive:ht.bool,canBegin:ht.bool,onAnimationEnd:ht.func,shouldReAnimate:ht.bool,onAnimationStart:ht.func,onAnimationReStart:ht.func};function Hd(t){"@babel/helpers - typeof";return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hd(t)}function bm(){return bm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bm.apply(this,arguments)}function dee(t,e){return mee(t)||pee(t,e)||hee(t,e)||fee()}function fee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hee(t,e){if(t){if(typeof t=="string")return XO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XO(t,e)}}function XO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pee(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function mee(t){if(Array.isArray(t))return t}function QO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function JO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QO(Object(r),!0).forEach(function(n){gee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gee(t,e,r){return e=vee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vee(t){var e=yee(t,"string");return Hd(e)=="symbol"?e:e+""}function yee(t,e){if(Hd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZO=function(e,r,n,i,a){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),u=i>=0?1:-1,d=n>=0?1:-1,f=i>=0&&n>=0||i<0&&n<0?1:0,p;if(o>0&&a instanceof Array){for(var m=[0,0,0,0],y=0,x=4;y<x;y++)m[y]=a[y]>o?o:a[y];p="M".concat(e,",").concat(r+u*m[0]),m[0]>0&&(p+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(f,",").concat(e+d*m[0],",").concat(r)),p+="L ".concat(e+n-d*m[1],",").concat(r),m[1]>0&&(p+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(f,`,
        `).concat(e+n,",").concat(r+u*m[1])),p+="L ".concat(e+n,",").concat(r+i-u*m[2]),m[2]>0&&(p+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(f,`,
        `).concat(e+n-d*m[2],",").concat(r+i)),p+="L ".concat(e+d*m[3],",").concat(r+i),m[3]>0&&(p+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(r+i-u*m[3])),p+="Z"}else if(o>0&&a===+a&&a>0){var S=Math.min(o,a);p="M ".concat(e,",").concat(r+u*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e+d*S,",").concat(r,`
            L `).concat(e+n-d*S,",").concat(r,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e+n,",").concat(r+u*S,`
            L `).concat(e+n,",").concat(r+i-u*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e+n-d*S,",").concat(r+i,`
            L `).concat(e+d*S,",").concat(r+i,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e,",").concat(r+i-u*S," Z")}else p="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return p},xee=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,o=r.y,u=r.width,d=r.height;if(Math.abs(u)>0&&Math.abs(d)>0){var f=Math.min(a,a+u),p=Math.max(a,a+u),m=Math.min(o,o+d),y=Math.max(o,o+d);return n>=f&&n<=p&&i>=m&&i<=y}return!1},bee={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xk=function(e){var r=JO(JO({},bee),e),n=B.useRef(),i=B.useState(-1),a=dee(i,2),o=a[0],u=a[1];B.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var R=n.current.getTotalLength();R&&u(R)}catch{}},[]);var d=r.x,f=r.y,p=r.width,m=r.height,y=r.radius,x=r.className,S=r.animationEasing,_=r.animationDuration,b=r.animationBegin,P=r.isAnimationActive,A=r.isUpdateAnimationActive;if(d!==+d||f!==+f||p!==+p||m!==+m||p===0||m===0)return null;var I=Je("recharts-rectangle",x);return A?H.createElement(Ba,{canBegin:o>0,from:{width:p,height:m,x:d,y:f},to:{width:p,height:m,x:d,y:f},duration:_,animationEasing:S,isActive:A},function(R){var E=R.width,N=R.height,T=R.x,O=R.y;return H.createElement(Ba,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:_,isActive:P,easing:S},H.createElement("path",bm({},We(r,!0),{className:I,d:ZO(T,O,E,N,y),ref:n})))}):H.createElement("path",bm({},We(r,!0),{className:I,d:ZO(d,f,p,m,y)}))},wee=["points","className","baseLinePoints","connectNulls"];function Xl(){return Xl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xl.apply(this,arguments)}function _ee(t,e){if(t==null)return{};var r=See(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function See(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function eC(t){return Tee(t)||Eee(t)||jee(t)||kee()}function kee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jee(t,e){if(t){if(typeof t=="string")return s1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s1(t,e)}}function Eee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Tee(t){if(Array.isArray(t))return s1(t)}function s1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var tC=function(e){return e&&e.x===+e.x&&e.y===+e.y},Aee=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){tC(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),tC(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},cd=function(e,r){var n=Aee(e);r&&(n=[n.reduce(function(a,o){return[].concat(eC(a),eC(o))},[])]);var i=n.map(function(a){return a.reduce(function(o,u,d){return"".concat(o).concat(d===0?"M":"L").concat(u.x,",").concat(u.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},Nee=function(e,r,n){var i=cd(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(cd(r.reverse(),n).slice(1))},Pee=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,o=_ee(e,wee);if(!r||!r.length)return null;var u=Je("recharts-polygon",n);if(i&&i.length){var d=o.stroke&&o.stroke!=="none",f=Nee(r,i,a);return H.createElement("g",{className:u},H.createElement("path",Xl({},We(o,!0),{fill:f.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:f})),d?H.createElement("path",Xl({},We(o,!0),{fill:"none",d:cd(r,a)})):null,d?H.createElement("path",Xl({},We(o,!0),{fill:"none",d:cd(i,a)})):null)}var p=cd(r,a);return H.createElement("path",Xl({},We(o,!0),{fill:p.slice(-1)==="Z"?o.fill:"none",className:u,d:p}))};function o1(){return o1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o1.apply(this,arguments)}var bk=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,o=Je("recharts-dot",a);return r===+r&&n===+n&&i===+i?B.createElement("circle",o1({},We(e,!1),zp(e),{className:o,cx:r,cy:n,r:i})):null};function Gd(t){"@babel/helpers - typeof";return Gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gd(t)}var Iee=["x","y","top","left","width","height","className"];function l1(){return l1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},l1.apply(this,arguments)}function rC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Oee(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rC(Object(r),!0).forEach(function(n){Cee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cee(t,e,r){return e=Ree(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ree(t){var e=Mee(t,"string");return Gd(e)=="symbol"?e:e+""}function Mee(t,e){if(Gd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dee(t,e){if(t==null)return{};var r=Lee(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Lee(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var $ee=function(e,r,n,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},Vee=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.top,u=o===void 0?0:o,d=e.left,f=d===void 0?0:d,p=e.width,m=p===void 0?0:p,y=e.height,x=y===void 0?0:y,S=e.className,_=Dee(e,Iee),b=Oee({x:n,y:a,top:u,left:f,width:m,height:x},_);return!je(n)||!je(a)||!je(m)||!je(x)||!je(u)||!je(f)?null:H.createElement("path",l1({},We(b,!0),{className:Je("recharts-cross",S),d:$ee(n,a,m,x,u,f)}))},fw,nC;function Fee(){if(nC)return fw;nC=1;var t=Ag(),e=TL(),r=na();function n(i,a){return i&&i.length?t(i,r(a,2),e):void 0}return fw=n,fw}var Uee=Fee();const Bee=pt(Uee);var hw,iC;function qee(){if(iC)return hw;iC=1;var t=Ag(),e=na(),r=AL();function n(i,a){return i&&i.length?t(i,e(a,2),r):void 0}return hw=n,hw}var zee=qee();const Wee=pt(zee);var Hee=["cx","cy","angle","ticks","axisLine"],Gee=["ticks","tick","angle","tickFormatter","stroke"];function jc(t){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jc(t)}function ud(){return ud=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ud.apply(this,arguments)}function aC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aC(Object(r),!0).forEach(function(n){Mg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sC(t,e){if(t==null)return{};var r=Kee(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Kee(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Yee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oC(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,h3(n.key),n)}}function Xee(t,e,r){return e&&oC(t.prototype,e),r&&oC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qee(t,e,r){return e=wm(e),Jee(t,f3()?Reflect.construct(e,r||[],wm(t).constructor):e.apply(t,r))}function Jee(t,e){if(e&&(jc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zee(t)}function Zee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f3=function(){return!!t})()}function wm(t){return wm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wm(t)}function ete(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c1(t,e)}function c1(t,e){return c1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},c1(t,e)}function Mg(t,e,r){return e=h3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h3(t){var e=tte(t,"string");return jc(e)=="symbol"?e:e+""}function tte(t,e){if(jc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dg=function(t){function e(){return Yee(this,e),Qee(this,e,arguments)}return ete(e,t),Xee(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,o=a.angle,u=a.cx,d=a.cy;return jt(u,d,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,u=n.ticks,d=Bee(u,function(p){return p.coordinate||0}),f=Wee(u,function(p){return p.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:f.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,u=n.ticks,d=n.axisLine,f=sC(n,Hee),p=u.reduce(function(S,_){return[Math.min(S[0],_.coordinate),Math.max(S[1],_.coordinate)]},[1/0,-1/0]),m=jt(i,a,p[0],o),y=jt(i,a,p[1],o),x=wo(wo(wo({},We(f,!1)),{},{fill:"none"},We(d,!1)),{},{x1:m.x,y1:m.y,x2:y.x,y2:y.y});return H.createElement("line",ud({className:"recharts-polar-radius-axis-line"},x))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,u=i.angle,d=i.tickFormatter,f=i.stroke,p=sC(i,Gee),m=this.getTickTextAnchor(),y=We(p,!1),x=We(o,!1),S=a.map(function(_,b){var P=n.getTickValueCoord(_),A=wo(wo(wo(wo({textAnchor:m,transform:"rotate(".concat(90-u,", ").concat(P.x,", ").concat(P.y,")")},y),{},{stroke:"none",fill:f},x),{},{index:b},P),{},{payload:_});return H.createElement(gt,ud({className:Je("recharts-polar-radius-axis-tick",r3(o)),key:"tick-".concat(_.coordinate)},Ho(n.props,_,b)),e.renderTickItem(o,A,d?d(_.value,b):_.value))});return H.createElement(gt,{className:"recharts-polar-radius-axis-ticks"},S)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,o=n.tick;return!i||!i.length?null:H.createElement(gt,{className:Je("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),vr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return H.isValidElement(n)?o=H.cloneElement(n,i):Ge(n)?o=n(i):o=H.createElement(Go,ud({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(B.PureComponent);Mg(Dg,"displayName","PolarRadiusAxis");Mg(Dg,"axisType","radiusAxis");Mg(Dg,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Ec(t){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ec(t)}function Eo(){return Eo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Eo.apply(this,arguments)}function lC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _o(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lC(Object(r),!0).forEach(function(n){Lg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cC(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,m3(n.key),n)}}function nte(t,e,r){return e&&cC(t.prototype,e),r&&cC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ite(t,e,r){return e=_m(e),ate(t,p3()?Reflect.construct(e,r||[],_m(t).constructor):e.apply(t,r))}function ate(t,e){if(e&&(Ec(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ste(t)}function ste(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p3=function(){return!!t})()}function _m(t){return _m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_m(t)}function ote(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u1(t,e)}function u1(t,e){return u1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},u1(t,e)}function Lg(t,e,r){return e=m3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m3(t){var e=lte(t,"string");return Ec(e)=="symbol"?e:e+""}function lte(t,e){if(Ec(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ec(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cte=Math.PI/180,uC=1e-5,$g=function(t){function e(){return rte(this,e),ite(this,e,arguments)}return ote(e,t),nte(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,o=i.cy,u=i.radius,d=i.orientation,f=i.tickSize,p=f||8,m=jt(a,o,u,n.coordinate),y=jt(a,o,u+(d==="inner"?-1:1)*p,n.coordinate);return{x1:m.x,y1:m.y,x2:y.x,y2:y.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*cte),o;return a>uC?o=i==="outer"?"start":"end":a<-uC?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.radius,u=n.axisLine,d=n.axisLineType,f=_o(_o({},We(this.props,!1)),{},{fill:"none"},We(u,!1));if(d==="circle")return H.createElement(bk,Eo({className:"recharts-polar-angle-axis-line"},f,{cx:i,cy:a,r:o}));var p=this.props.ticks,m=p.map(function(y){return jt(i,a,o,y.coordinate)});return H.createElement(Pee,Eo({className:"recharts-polar-angle-axis-line"},f,{points:m}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,u=i.tickLine,d=i.tickFormatter,f=i.stroke,p=We(this.props,!1),m=We(o,!1),y=_o(_o({},p),{},{fill:"none"},We(u,!1)),x=a.map(function(S,_){var b=n.getTickLineCoord(S),P=n.getTickTextAnchor(S),A=_o(_o(_o({textAnchor:P},p),{},{stroke:"none",fill:f},m),{},{index:_,payload:S,x:b.x2,y:b.y2});return H.createElement(gt,Eo({className:Je("recharts-polar-angle-axis-tick",r3(o)),key:"tick-".concat(S.coordinate)},Ho(n.props,S,_)),u&&H.createElement("line",Eo({className:"recharts-polar-angle-axis-tick-line"},y,b)),o&&e.renderTickItem(o,A,d?d(S.value,_):S.value))});return H.createElement(gt,{className:"recharts-polar-angle-axis-ticks"},x)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,o=n.axisLine;return a<=0||!i||!i.length?null:H.createElement(gt,{className:Je("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var o;return H.isValidElement(n)?o=H.cloneElement(n,i):Ge(n)?o=n(i):o=H.createElement(Go,Eo({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(B.PureComponent);Lg($g,"displayName","PolarAngleAxis");Lg($g,"axisType","angleAxis");Lg($g,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var pw,dC;function ute(){if(dC)return pw;dC=1;var t=E4(),e=t(Object.getPrototypeOf,Object);return pw=e,pw}var mw,fC;function dte(){if(fC)return mw;fC=1;var t=qa(),e=ute(),r=za(),n="[object Object]",i=Function.prototype,a=Object.prototype,o=i.toString,u=a.hasOwnProperty,d=o.call(Object);function f(p){if(!r(p)||t(p)!=n)return!1;var m=e(p);if(m===null)return!0;var y=u.call(m,"constructor")&&m.constructor;return typeof y=="function"&&y instanceof y&&o.call(y)==d}return mw=f,mw}var fte=dte();const hte=pt(fte);var gw,hC;function pte(){if(hC)return gw;hC=1;var t=qa(),e=za(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return gw=n,gw}var mte=pte();const gte=pt(mte);function Kd(t){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kd(t)}function Sm(){return Sm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sm.apply(this,arguments)}function vte(t,e){return wte(t)||bte(t,e)||xte(t,e)||yte()}function yte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xte(t,e){if(t){if(typeof t=="string")return pC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pC(t,e)}}function pC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function bte(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function wte(t){if(Array.isArray(t))return t}function mC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mC(Object(r),!0).forEach(function(n){_te(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _te(t,e,r){return e=Ste(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ste(t){var e=kte(t,"string");return Kd(e)=="symbol"?e:e+""}function kte(t,e){if(Kd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vC=function(e,r,n,i,a){var o=n-i,u;return u="M ".concat(e,",").concat(r),u+="L ".concat(e+n,",").concat(r),u+="L ".concat(e+n-o/2,",").concat(r+a),u+="L ".concat(e+n-o/2-i,",").concat(r+a),u+="L ".concat(e,",").concat(r," Z"),u},jte={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ete=function(e){var r=gC(gC({},jte),e),n=B.useRef(),i=B.useState(-1),a=vte(i,2),o=a[0],u=a[1];B.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var I=n.current.getTotalLength();I&&u(I)}catch{}},[]);var d=r.x,f=r.y,p=r.upperWidth,m=r.lowerWidth,y=r.height,x=r.className,S=r.animationEasing,_=r.animationDuration,b=r.animationBegin,P=r.isUpdateAnimationActive;if(d!==+d||f!==+f||p!==+p||m!==+m||y!==+y||p===0&&m===0||y===0)return null;var A=Je("recharts-trapezoid",x);return P?H.createElement(Ba,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:y,x:d,y:f},to:{upperWidth:p,lowerWidth:m,height:y,x:d,y:f},duration:_,animationEasing:S,isActive:P},function(I){var R=I.upperWidth,E=I.lowerWidth,N=I.height,T=I.x,O=I.y;return H.createElement(Ba,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:_,easing:S},H.createElement("path",Sm({},We(r,!0),{className:A,d:vC(T,O,R,E,N),ref:n})))}):H.createElement("g",null,H.createElement("path",Sm({},We(r,!0),{className:A,d:vC(d,f,p,m,y)})))},Tte=["option","shapeType","propTransformer","activeClassName","isActive"];function Yd(t){"@babel/helpers - typeof";return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yd(t)}function Ate(t,e){if(t==null)return{};var r=Nte(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Nte(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function yC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function km(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yC(Object(r),!0).forEach(function(n){Pte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pte(t,e,r){return e=Ite(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ite(t){var e=Ote(t,"string");return Yd(e)=="symbol"?e:e+""}function Ote(t,e){if(Yd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cte(t,e){return km(km({},e),t)}function Rte(t,e){return t==="symbols"}function xC(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return H.createElement(xk,r);case"trapezoid":return H.createElement(Ete,r);case"sector":return H.createElement(yk,r);case"symbols":if(Rte(e))return H.createElement(DS,r);break;default:return null}}function Mte(t){return B.isValidElement(t)?t.props:t}function g3(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?Cte:n,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,u=t.isActive,d=Ate(t,Tte),f;if(B.isValidElement(e))f=B.cloneElement(e,km(km({},d),Mte(e)));else if(Ge(e))f=e(d);else if(hte(e)&&!gte(e)){var p=i(e,d);f=H.createElement(xC,{shapeType:r,elementProps:p})}else{var m=d;f=H.createElement(xC,{shapeType:r,elementProps:m})}return u?H.createElement(gt,{className:o},f):f}function Vg(t,e){return e!=null&&"trapezoids"in t.props}function Fg(t,e){return e!=null&&"sectors"in t.props}function Xd(t,e){return e!=null&&"points"in t.props}function Dte(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function Lte(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function $te(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function Vte(t,e){var r;return Vg(t,e)?r=Dte:Fg(t,e)?r=Lte:Xd(t,e)&&(r=$te),r}function Fte(t,e){var r;return Vg(t,e)?r="trapezoids":Fg(t,e)?r="sectors":Xd(t,e)&&(r="points"),r}function Ute(t,e){if(Vg(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Fg(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Xd(t,e)?e.payload:{}}function Bte(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=Fte(r,e),a=Ute(r,e),o=n.filter(function(d,f){var p=Ig(a,d),m=r.props[i].filter(function(S){var _=Vte(r,e);return _(S,e)}),y=r.props[i].indexOf(m[m.length-1]),x=f===y;return p&&x}),u=n.indexOf(o[o.length-1]);return u}var wp;function Tc(t){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tc(t)}function Ql(){return Ql=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ql.apply(this,arguments)}function bC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function St(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bC(Object(r),!0).forEach(function(n){Qn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wC(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,y3(n.key),n)}}function zte(t,e,r){return e&&wC(t.prototype,e),r&&wC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wte(t,e,r){return e=jm(e),Hte(t,v3()?Reflect.construct(e,r||[],jm(t).constructor):e.apply(t,r))}function Hte(t,e){if(e&&(Tc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gte(t)}function Gte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v3=function(){return!!t})()}function jm(t){return jm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jm(t)}function Kte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d1(t,e)}function d1(t,e){return d1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},d1(t,e)}function Qn(t,e,r){return e=y3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y3(t){var e=Yte(t,"string");return Tc(e)=="symbol"?e:e+""}function Yte(t,e){if(Tc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ha=function(t){function e(r){var n;return qte(this,e),n=Wte(this,e,[r]),Qn(n,"pieRef",null),Qn(n,"sectorRefs",[]),Qn(n,"id",wf("recharts-pie-")),Qn(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ge(i)&&i()}),Qn(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ge(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Kte(e,t),zte(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,u=a.labelLine,d=a.dataKey,f=a.valueKey,p=We(this.props,!1),m=We(o,!1),y=We(u,!1),x=o&&o.offsetRadius||20,S=n.map(function(_,b){var P=(_.startAngle+_.endAngle)/2,A=jt(_.cx,_.cy,_.outerRadius+x,P),I=St(St(St(St({},p),_),{},{stroke:"none"},m),{},{index:b,textAnchor:e.getTextAnchor(A.x,_.cx)},A),R=St(St(St(St({},p),_),{},{fill:"none",stroke:_.fill},y),{},{index:b,points:[jt(_.cx,_.cy,_.outerRadius,P),A]}),E=d;return et(d)&&et(f)?E="value":et(d)&&(E=f),H.createElement(gt,{key:"label-".concat(_.startAngle,"-").concat(_.endAngle,"-").concat(_.midAngle,"-").concat(b)},u&&e.renderLabelLineItem(u,R,"line"),e.renderLabelItem(o,I,Ur(_,E)))});return H.createElement(gt,{className:"recharts-pie-labels"},S)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,o=a.activeShape,u=a.blendStroke,d=a.inactiveShape;return n.map(function(f,p){if(f?.startAngle===0&&f?.endAngle===0&&n.length!==1)return null;var m=i.isActiveIndex(p),y=d&&i.hasActiveIndex()?d:null,x=m?o:y,S=St(St({},f),{},{stroke:u?f.fill:f.stroke,tabIndex:-1});return H.createElement(gt,Ql({ref:function(b){b&&!i.sectorRefs.includes(b)&&i.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},Ho(i.props,f,p),{key:"sector-".concat(f?.startAngle,"-").concat(f?.endAngle,"-").concat(f.midAngle,"-").concat(p)}),H.createElement(g3,Ql({option:x,isActive:m,shapeType:"sector"},S)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,o=i.isAnimationActive,u=i.animationBegin,d=i.animationDuration,f=i.animationEasing,p=i.animationId,m=this.state,y=m.prevSectors,x=m.prevIsAnimationActive;return H.createElement(Ba,{begin:u,duration:d,isActive:o,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(p,"-").concat(x),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(S){var _=S.t,b=[],P=a&&a[0],A=P.startAngle;return a.forEach(function(I,R){var E=y&&y[R],N=R>0?Rn(I,"paddingAngle",0):0;if(E){var T=ws(E.endAngle-E.startAngle,I.endAngle-I.startAngle),O=St(St({},I),{},{startAngle:A+N,endAngle:A+T(_)+N});b.push(O),A=O.endAngle}else{var L=I.endAngle,C=I.startAngle,D=ws(0,L-C),F=D(_),$=St(St({},I),{},{startAngle:A+N,endAngle:A+F+N});b.push($),A=$.endAngle}}),H.createElement(gt,null,n.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var u=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[u].focus(),i.setState({sectorToFocus:u});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!Ig(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,o=i.sectors,u=i.className,d=i.label,f=i.cx,p=i.cy,m=i.innerRadius,y=i.outerRadius,x=i.isAnimationActive,S=this.state.isAnimationFinished;if(a||!o||!o.length||!je(f)||!je(p)||!je(m)||!je(y))return null;var _=Je("recharts-pie",u);return H.createElement(gt,{tabIndex:this.props.rootTabIndex,className:_,ref:function(P){n.pieRef=P}},this.renderSectors(),d&&this.renderLabels(o),vr.renderCallByParent(this.props,null,!1),(!x||S)&&Ms.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(H.isValidElement(n))return H.cloneElement(n,i);if(Ge(n))return n(i);var o=Je("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return H.createElement(X_,Ql({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,a){if(H.isValidElement(n))return H.cloneElement(n,i);var o=a;if(Ge(n)&&(o=n(i),H.isValidElement(o)))return o;var u=Je("recharts-pie-label-text",typeof n!="boolean"&&!Ge(n)?n.className:"");return H.createElement(Go,Ql({},i,{alignmentBaseline:"middle",className:u}),o)}}])}(B.PureComponent);wp=Ha;Qn(Ha,"displayName","Pie");Qn(Ha,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Yc.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Qn(Ha,"parseDeltaAngle",function(t,e){var r=Yr(e-t),n=Math.min(Math.abs(e-t),360);return r*n});Qn(Ha,"getRealPieData",function(t){var e=t.data,r=t.children,n=We(t,!1),i=ei(r,wg);return e&&e.length?e.map(function(a,o){return St(St(St({payload:a},n),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return St(St({},n),a.props)}):[]});Qn(Ha,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,a=e.height,o=t3(i,a),u=n+Xr(t.cx,i,i/2),d=r+Xr(t.cy,a,a/2),f=Xr(t.innerRadius,o,0),p=Xr(t.outerRadius,o,o*.8),m=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:u,cy:d,innerRadius:f,outerRadius:p,maxRadius:m}});Qn(Ha,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?St(St({},e.type.defaultProps),e.props):e.props,i=wp.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,o=n.startAngle,u=n.endAngle,d=n.paddingAngle,f=n.dataKey,p=n.nameKey,m=n.valueKey,y=n.tooltipType,x=Math.abs(n.minAngle),S=wp.parseCoordinateOfPie(n,r),_=wp.parseDeltaAngle(o,u),b=Math.abs(_),P=f;et(f)&&et(m)?(wi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),P="value"):et(f)&&(wi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),P=m);var A=i.filter(function(O){return Ur(O,P,0)!==0}).length,I=(b>=360?A:A-1)*d,R=b-A*x-I,E=i.reduce(function(O,L){var C=Ur(L,P,0);return O+(je(C)?C:0)},0),N;if(E>0){var T;N=i.map(function(O,L){var C=Ur(O,P,0),D=Ur(O,p,L),F=(je(C)?C:0)/E,$;L?$=T.endAngle+Yr(_)*d*(C!==0?1:0):$=o;var ee=$+Yr(_)*((C!==0?x:0)+F*R),ne=($+ee)/2,Q=(S.innerRadius+S.outerRadius)/2,ie=[{name:D,value:C,payload:O,dataKey:P,type:y}],Z=jt(S.cx,S.cy,Q,ne);return T=St(St(St({percent:F,cornerRadius:a,name:D,tooltipPayload:ie,midAngle:ne,middleRadius:Q,tooltipPosition:Z},O),S),{},{value:Ur(O,P),startAngle:$,endAngle:ee,payload:O,paddingAngle:Yr(_)*d}),T})}return St(St({},S),{},{sectors:N,data:i})});var vw,_C;function Xte(){if(_C)return vw;_C=1;var t=Math.ceil,e=Math.max;function r(n,i,a,o){for(var u=-1,d=e(t((i-n)/(a||1)),0),f=Array(d);d--;)f[o?d:++u]=n,n+=a;return f}return vw=r,vw}var yw,SC;function x3(){if(SC)return yw;SC=1;var t=B4(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var a=i<0?-1:1;return a*r}return i===i?i:0}return yw=n,yw}var xw,kC;function Qte(){if(kC)return xw;kC=1;var t=Xte(),e=bg(),r=x3();function n(i){return function(a,o,u){return u&&typeof u!="number"&&e(a,o,u)&&(o=u=void 0),a=r(a),o===void 0?(o=a,a=0):o=r(o),u=u===void 0?a<o?1:-1:r(u),t(a,o,u,i)}}return xw=n,xw}var bw,jC;function Jte(){if(jC)return bw;jC=1;var t=Qte(),e=t();return bw=e,bw}var Zte=Jte();const Em=pt(Zte);function Qd(t){"@babel/helpers - typeof";return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qd(t)}function EC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function TC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EC(Object(r),!0).forEach(function(n){b3(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function b3(t,e,r){return e=ere(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ere(t){var e=tre(t,"string");return Qd(e)=="symbol"?e:e+""}function tre(t,e){if(Qd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rre=["Webkit","Moz","O","ms"],nre=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=rre.reduce(function(a,o){return TC(TC({},a),{},b3({},o+n,r))},{});return i[e]=r,i};function Ac(t){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ac(t)}function Tm(){return Tm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tm.apply(this,arguments)}function AC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ww(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AC(Object(r),!0).forEach(function(n){Nn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ire(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NC(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_3(n.key),n)}}function are(t,e,r){return e&&NC(t.prototype,e),r&&NC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function sre(t,e,r){return e=Am(e),ore(t,w3()?Reflect.construct(e,r||[],Am(t).constructor):e.apply(t,r))}function ore(t,e){if(e&&(Ac(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lre(t)}function lre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w3=function(){return!!t})()}function Am(t){return Am=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Am(t)}function cre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f1(t,e)}function f1(t,e){return f1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},f1(t,e)}function Nn(t,e,r){return e=_3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _3(t){var e=ure(t,"string");return Ac(e)=="symbol"?e:e+""}function ure(t,e){if(Ac(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var dre=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,o=e.width,u=e.travellerWidth;if(!r||!r.length)return{};var d=r.length,f=sd().domain(Em(0,d)).range([a,a+o-u]),p=f.domain().map(function(m){return f(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(n),endX:f(i),scale:f,scaleValues:p}},PC=function(e){return e.changedTouches&&!!e.changedTouches.length},Nc=function(t){function e(r){var n;return ire(this,e),n=sre(this,e,[r]),Nn(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Nn(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Nn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,o=i.onDragEnd,u=i.startIndex;o?.({endIndex:a,startIndex:u})}),n.detachDragEndListener()}),Nn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Nn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Nn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Nn(n,"handleSlideDragStart",function(i){var a=PC(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return cre(e,t),are(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,o=this.state.scaleValues,u=this.props,d=u.gap,f=u.data,p=f.length-1,m=Math.min(i,a),y=Math.max(i,a),x=e.getIndexInRange(o,m),S=e.getIndexInRange(o,y);return{startIndex:x-x%d,endIndex:S===p?p:S-S%d}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,o=i.tickFormatter,u=i.dataKey,d=Ur(a[n],u,n);return Ge(o)?o(d,n):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,o=i.startX,u=i.endX,d=this.props,f=d.x,p=d.width,m=d.travellerWidth,y=d.startIndex,x=d.endIndex,S=d.onChange,_=n.pageX-a;_>0?_=Math.min(_,f+p-m-u,f+p-m-o):_<0&&(_=Math.max(_,f-o,f-u));var b=this.getIndex({startX:o+_,endX:u+_});(b.startIndex!==y||b.endIndex!==x)&&S&&S(b),this.setState({startX:o+_,endX:u+_,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=PC(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,u=i.endX,d=i.startX,f=this.state[o],p=this.props,m=p.x,y=p.width,x=p.travellerWidth,S=p.onChange,_=p.gap,b=p.data,P={startX:this.state.startX,endX:this.state.endX},A=n.pageX-a;A>0?A=Math.min(A,m+y-x-f):A<0&&(A=Math.max(A,m-f)),P[o]=f+A;var I=this.getIndex(P),R=I.startIndex,E=I.endIndex,N=function(){var O=b.length-1;return o==="startX"&&(u>d?R%_===0:E%_===0)||u<d&&E===O||o==="endX"&&(u>d?E%_===0:R%_===0)||u>d&&E===O};this.setState(Nn(Nn({},o,f+A),"brushMoveStartX",n.pageX),function(){S&&N()&&S(I)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,o=this.state,u=o.scaleValues,d=o.startX,f=o.endX,p=this.state[i],m=u.indexOf(p);if(m!==-1){var y=m+n;if(!(y===-1||y>=u.length)){var x=u[y];i==="startX"&&x>=f||i==="endX"&&x<=d||this.setState(Nn({},i,x),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,u=n.height,d=n.fill,f=n.stroke;return H.createElement("rect",{stroke:f,fill:d,x:i,y:a,width:o,height:u})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,u=n.height,d=n.data,f=n.children,p=n.padding,m=B.Children.only(f);return m?H.cloneElement(m,{x:i,y:a,width:o,height:u,margin:p,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,o,u=this,d=this.props,f=d.y,p=d.travellerWidth,m=d.height,y=d.traveller,x=d.ariaLabel,S=d.data,_=d.startIndex,b=d.endIndex,P=Math.max(n,this.props.x),A=ww(ww({},We(this.props,!1)),{},{x:P,y:f,width:p,height:m}),I=x||"Min value: ".concat((a=S[_])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=S[b])===null||o===void 0?void 0:o.name);return H.createElement(gt,{tabIndex:0,role:"slider","aria-label":I,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),u.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,i))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(y,A))}},{key:"renderSlide",value:function(n,i){var a=this.props,o=a.y,u=a.height,d=a.stroke,f=a.travellerWidth,p=Math.min(n,i)+f,m=Math.max(Math.abs(i-n)-f,0);return H.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:p,y:o,width:m,height:u})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,o=n.y,u=n.height,d=n.travellerWidth,f=n.stroke,p=this.state,m=p.startX,y=p.endX,x=5,S={pointerEvents:"none",fill:f};return H.createElement(gt,{className:"recharts-brush-texts"},H.createElement(Go,Tm({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,y)-x,y:o+u/2},S),this.getTextOfTick(i)),H.createElement(Go,Tm({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,y)+d+x,y:o+u/2},S),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,o=n.children,u=n.x,d=n.y,f=n.width,p=n.height,m=n.alwaysShowText,y=this.state,x=y.startX,S=y.endX,_=y.isTextActive,b=y.isSlideMoving,P=y.isTravellerMoving,A=y.isTravellerFocused;if(!i||!i.length||!je(u)||!je(d)||!je(f)||!je(p)||f<=0||p<=0)return null;var I=Je("recharts-brush",a),R=H.Children.count(o)===1,E=nre("userSelect","none");return H.createElement(gt,{className:I,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),R&&this.renderPanorama(),this.renderSlide(x,S),this.renderTravellerLayer(x,"startX"),this.renderTravellerLayer(S,"endX"),(_||b||P||A||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,o=n.width,u=n.height,d=n.stroke,f=Math.floor(a+u/2)-1;return H.createElement(H.Fragment,null,H.createElement("rect",{x:i,y:a,width:o,height:u,fill:d,stroke:"none"}),H.createElement("line",{x1:i+1,y1:f,x2:i+o-1,y2:f,fill:"none",stroke:"#fff"}),H.createElement("line",{x1:i+1,y1:f+2,x2:i+o-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return H.isValidElement(n)?a=H.cloneElement(n,i):Ge(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,o=n.width,u=n.x,d=n.travellerWidth,f=n.updateId,p=n.startIndex,m=n.endIndex;if(a!==i.prevData||f!==i.prevUpdateId)return ww({prevData:a,prevTravellerWidth:d,prevUpdateId:f,prevX:u,prevWidth:o},a&&a.length?dre({data:a,width:o,x:u,travellerWidth:d,startIndex:p,endIndex:m}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||u!==i.prevX||d!==i.prevTravellerWidth)){i.scale.range([u,u+o-d]);var y=i.scale.domain().map(function(x){return i.scale(x)});return{prevData:a,prevTravellerWidth:d,prevUpdateId:f,prevX:u,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:y}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,o=0,u=a-1;u-o>1;){var d=Math.floor((o+u)/2);n[d]>i?u=d:o=d}return i>=n[u]?u:o}}])}(B.PureComponent);Nn(Nc,"displayName","Brush");Nn(Nc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var _w,IC;function fre(){if(IC)return _w;IC=1;var t=qS();function e(r,n){var i;return t(r,function(a,o,u){return i=n(a,o,u),!i}),!!i}return _w=e,_w}var Sw,OC;function hre(){if(OC)return Sw;OC=1;var t=x4(),e=na(),r=fre(),n=gn(),i=bg();function a(o,u,d){var f=n(o)?t:r;return d&&i(o,u,d)&&(u=void 0),f(o,e(u,3))}return Sw=a,Sw}var pre=hre();const mre=pt(pre);var Yi=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},kw,CC;function gre(){if(CC)return kw;CC=1;var t=L4();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return kw=e,kw}var jw,RC;function vre(){if(RC)return jw;RC=1;var t=gre(),e=M4(),r=na();function n(i,a){var o={};return a=r(a,3),e(i,function(u,d,f){t(o,d,a(u,d,f))}),o}return jw=n,jw}var yre=vre();const xre=pt(yre);var Ew,MC;function bre(){if(MC)return Ew;MC=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return Ew=t,Ew}var Tw,DC;function wre(){if(DC)return Tw;DC=1;var t=qS();function e(r,n){var i=!0;return t(r,function(a,o,u){return i=!!n(a,o,u),i}),i}return Tw=e,Tw}var Aw,LC;function _re(){if(LC)return Aw;LC=1;var t=bre(),e=wre(),r=na(),n=gn(),i=bg();function a(o,u,d){var f=n(o)?t:e;return d&&i(o,u,d)&&(u=void 0),f(o,r(u,3))}return Aw=a,Aw}var Sre=_re();const S3=pt(Sre);var kre=["x","y"];function Jd(t){"@babel/helpers - typeof";return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jd(t)}function h1(){return h1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},h1.apply(this,arguments)}function $C(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$C(Object(r),!0).forEach(function(n){jre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$C(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jre(t,e,r){return e=Ere(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ere(t){var e=Tre(t,"string");return Jd(e)=="symbol"?e:e+""}function Tre(t,e){if(Jd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Are(t,e){if(t==null)return{};var r=Nre(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Nre(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Pre(t,e){var r=t.x,n=t.y,i=Are(t,kre),a="".concat(r),o=parseInt(a,10),u="".concat(n),d=parseInt(u,10),f="".concat(e.height||i.height),p=parseInt(f,10),m="".concat(e.width||i.width),y=parseInt(m,10);return zu(zu(zu(zu(zu({},e),i),o?{x:o}:{}),d?{y:d}:{}),{},{height:p,width:y,name:e.name,radius:e.radius})}function VC(t){return H.createElement(g3,h1({shapeType:"rectangle",propTransformer:Pre,activeClassName:"recharts-active-bar"},t))}var Ire=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=je(n)||rz(n);return a?e(n,i):(a||Yo(),r)}},Ore=["value","background"],k3;function Pc(t){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pc(t)}function Cre(t,e){if(t==null)return{};var r=Rre(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Rre(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Nm(){return Nm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nm.apply(this,arguments)}function FC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Kt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FC(Object(r),!0).forEach(function(n){Ns(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UC(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,E3(n.key),n)}}function Dre(t,e,r){return e&&UC(t.prototype,e),r&&UC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lre(t,e,r){return e=Pm(e),$re(t,j3()?Reflect.construct(e,r||[],Pm(t).constructor):e.apply(t,r))}function $re(t,e){if(e&&(Pc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vre(t)}function Vre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j3=function(){return!!t})()}function Pm(t){return Pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pm(t)}function Fre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p1(t,e)}function p1(t,e){return p1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},p1(t,e)}function Ns(t,e,r){return e=E3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function E3(t){var e=Ure(t,"string");return Pc(e)=="symbol"?e:e+""}function Ure(t,e){if(Pc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Zi=function(t){function e(){var r;Mre(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Lre(this,e,[].concat(i)),Ns(r,"state",{isAnimationFinished:!1}),Ns(r,"id",wf("recharts-bar-")),Ns(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Ns(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Fre(e,t),Dre(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,o=a.shape,u=a.dataKey,d=a.activeIndex,f=a.activeBar,p=We(this.props,!1);return n&&n.map(function(m,y){var x=y===d,S=x?f:o,_=Kt(Kt(Kt({},p),m),{},{isActive:x,option:S,index:y,dataKey:u,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return H.createElement(gt,Nm({className:"recharts-bar-rectangle"},Ho(i.props,m,y),{key:"rectangle-".concat(m?.x,"-").concat(m?.y,"-").concat(m?.value,"-").concat(y)}),H.createElement(VC,_))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.layout,u=i.isAnimationActive,d=i.animationBegin,f=i.animationDuration,p=i.animationEasing,m=i.animationId,y=this.state.prevData;return H.createElement(Ba,{begin:d,duration:f,isActive:u,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var S=x.t,_=a.map(function(b,P){var A=y&&y[P];if(A){var I=ws(A.x,b.x),R=ws(A.y,b.y),E=ws(A.width,b.width),N=ws(A.height,b.height);return Kt(Kt({},b),{},{x:I(S),y:R(S),width:E(S),height:N(S)})}if(o==="horizontal"){var T=ws(0,b.height),O=T(S);return Kt(Kt({},b),{},{y:b.y+b.height-O,height:O})}var L=ws(0,b.width),C=L(S);return Kt(Kt({},b),{},{width:C})});return H.createElement(gt,null,n.renderRectanglesStatically(_))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!Ig(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,o=i.dataKey,u=i.activeIndex,d=We(this.props.background,!1);return a.map(function(f,p){f.value;var m=f.background,y=Cre(f,Ore);if(!m)return null;var x=Kt(Kt(Kt(Kt(Kt({},y),{},{fill:"#eee"},m),d),Ho(n.props,f,p)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:p,className:"recharts-bar-background-rectangle"});return H.createElement(VC,Nm({key:"background-bar-".concat(p),option:n.props.background,isActive:p===u},x))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,u=a.xAxis,d=a.yAxis,f=a.layout,p=a.children,m=ei(p,Rg);if(!m)return null;var y=f==="vertical"?o[0].height/2:o[0].width/2,x=function(b,P){var A=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:A,errorVal:Ur(b,P)}},S={clipPath:n?"url(#clipPath-".concat(i,")"):null};return H.createElement(gt,S,m.map(function(_){return H.cloneElement(_,{key:"error-bar-".concat(i,"-").concat(_.props.dataKey),data:o,xAxis:u,yAxis:d,layout:f,offset:y,dataPointFormatter:x})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,u=n.xAxis,d=n.yAxis,f=n.left,p=n.top,m=n.width,y=n.height,x=n.isAnimationActive,S=n.background,_=n.id;if(i||!a||!a.length)return null;var b=this.state.isAnimationFinished,P=Je("recharts-bar",o),A=u&&u.allowDataOverflow,I=d&&d.allowDataOverflow,R=A||I,E=et(_)?this.id:_;return H.createElement(gt,{className:P},A||I?H.createElement("defs",null,H.createElement("clipPath",{id:"clipPath-".concat(E)},H.createElement("rect",{x:A?f:f-m/2,y:I?p:p-y/2,width:A?m:m*2,height:I?y:y*2}))):null,H.createElement(gt,{className:"recharts-bar-rectangles",clipPath:R?"url(#clipPath-".concat(E,")"):null},S?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(R,E),(!x||b)&&Ms.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(B.PureComponent);k3=Zi;Ns(Zi,"displayName","Bar");Ns(Zi,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Yc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ns(Zi,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,u=t.xAxisTicks,d=t.yAxisTicks,f=t.stackedData,p=t.dataStartIndex,m=t.displayedData,y=t.offset,x=gQ(n,r);if(!x)return null;var S=e.layout,_=r.type.defaultProps,b=_!==void 0?Kt(Kt({},_),r.props):r.props,P=b.dataKey,A=b.children,I=b.minPointSize,R=S==="horizontal"?o:a,E=f?R.scale.domain():null,N=SQ({numericAxis:R}),T=ei(A,wg),O=m.map(function(L,C){var D,F,$,ee,ne,Q;f?D=vQ(f[p+C],E):(D=Ur(L,P),Array.isArray(D)||(D=[N,D]));var ie=Ire(I,k3.defaultProps.minPointSize)(D[1],C);if(S==="horizontal"){var Z,J=[o.scale(D[0]),o.scale(D[1])],ae=J[0],z=J[1];F=fO({axis:a,ticks:u,bandSize:i,offset:x.offset,entry:L,index:C}),$=(Z=z??ae)!==null&&Z!==void 0?Z:void 0,ee=x.size;var Y=ae-z;if(ne=Number.isNaN(Y)?0:Y,Q={x:F,y:o.y,width:ee,height:o.height},Math.abs(ie)>0&&Math.abs(ne)<Math.abs(ie)){var K=Yr(ne||ie)*(Math.abs(ie)-Math.abs(ne));$-=K,ne+=K}}else{var le=[a.scale(D[0]),a.scale(D[1])],fe=le[0],xe=le[1];if(F=fe,$=fO({axis:o,ticks:d,bandSize:i,offset:x.offset,entry:L,index:C}),ee=xe-fe,ne=x.size,Q={x:a.x,y:$,width:a.width,height:ne},Math.abs(ie)>0&&Math.abs(ee)<Math.abs(ie)){var he=Yr(ee||ie)*(Math.abs(ie)-Math.abs(ee));ee+=he}}return Kt(Kt(Kt({},L),{},{x:F,y:$,width:ee,height:ne,value:f?D:D[1],payload:L,background:Q},T&&T[C]&&T[C].props),{},{tooltipPayload:[ZL(r,L)],tooltipPosition:{x:F+ee/2,y:$+ne/2}})});return Kt({data:O,layout:S},y)});function Zd(t){"@babel/helpers - typeof";return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zd(t)}function Bre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BC(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,T3(n.key),n)}}function qre(t,e,r){return e&&BC(t.prototype,e),r&&BC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function qC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qC(Object(r),!0).forEach(function(n){Ug(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ug(t,e,r){return e=T3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function T3(t){var e=zre(t,"string");return Zd(e)=="symbol"?e:e+""}function zre(t,e){if(Zd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wre=function(e,r,n,i,a){var o=e.width,u=e.height,d=e.layout,f=e.children,p=Object.keys(r),m={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:u-n.bottom,bottomMirror:u-n.bottom},y=!!Pn(f,Zi);return p.reduce(function(x,S){var _=r[S],b=_.orientation,P=_.domain,A=_.padding,I=A===void 0?{}:A,R=_.mirror,E=_.reversed,N="".concat(b).concat(R?"Mirror":""),T,O,L,C,D;if(_.type==="number"&&(_.padding==="gap"||_.padding==="no-gap")){var F=P[1]-P[0],$=1/0,ee=_.categoricalDomain.sort(az);if(ee.forEach(function(le,fe){fe>0&&($=Math.min((le||0)-(ee[fe-1]||0),$))}),Number.isFinite($)){var ne=$/F,Q=_.layout==="vertical"?n.height:n.width;if(_.padding==="gap"&&(T=ne*Q/2),_.padding==="no-gap"){var ie=Xr(e.barCategoryGap,ne*Q),Z=ne*Q/2;T=Z-ie-(Z-ie)/Q*ie}}}i==="xAxis"?O=[n.left+(I.left||0)+(T||0),n.left+n.width-(I.right||0)-(T||0)]:i==="yAxis"?O=d==="horizontal"?[n.top+n.height-(I.bottom||0),n.top+(I.top||0)]:[n.top+(I.top||0)+(T||0),n.top+n.height-(I.bottom||0)-(T||0)]:O=_.range,E&&(O=[O[1],O[0]]);var J=YL(_,a,y),ae=J.scale,z=J.realScaleType;ae.domain(P).range(O),XL(ae);var Y=QL(ae,vi(vi({},_),{},{realScaleType:z}));i==="xAxis"?(D=b==="top"&&!R||b==="bottom"&&R,L=n.left,C=m[N]-D*_.height):i==="yAxis"&&(D=b==="left"&&!R||b==="right"&&R,L=m[N]-D*_.width,C=n.top);var K=vi(vi(vi({},_),Y),{},{realScaleType:z,x:L,y:C,scale:ae,width:i==="xAxis"?n.width:_.width,height:i==="yAxis"?n.height:_.height});return K.bandSize=pm(K,Y),!_.hide&&i==="xAxis"?m[N]+=(D?-1:1)*K.height:_.hide||(m[N]+=(D?-1:1)*K.width),vi(vi({},x),{},Ug({},S,K))},{})},A3=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(i,o),width:Math.abs(a-n),height:Math.abs(o-i)}},Hre=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return A3({x:r,y:n},{x:i,y:a})},N3=function(){function t(e){Bre(this,t),this.scale=e}return qre(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(r)+u}default:return this.scale(r)}if(i){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+d}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();Ug(N3,"EPS",1e-4);var wk=function(e){var r=Object.keys(e).reduce(function(n,i){return vi(vi({},n),{},Ug({},i,N3.create(e[i])))},{});return vi(vi({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,u=a.position;return xre(i,function(d,f){return r[f].apply(d,{bandAware:o,position:u})})},isInRange:function(i){return S3(i,function(a,o){return r[o].isInRange(a)})}})};function Gre(t){return(t%180+180)%180}var Kre=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Gre(i),o=a*Math.PI/180,u=Math.atan(n/r),d=o>u&&o<Math.PI-u?n/Math.sin(o):r/Math.cos(o);return Math.abs(d)},Nw,zC;function Yre(){if(zC)return Nw;zC=1;var t=na(),e=_f(),r=yg();function n(i){return function(a,o,u){var d=Object(a);if(!e(a)){var f=t(o,3);a=r(a),o=function(m){return f(d[m],m,d)}}var p=i(a,o,u);return p>-1?d[f?a[p]:p]:void 0}}return Nw=n,Nw}var Pw,WC;function Xre(){if(WC)return Pw;WC=1;var t=x3();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return Pw=e,Pw}var Iw,HC;function Qre(){if(HC)return Iw;HC=1;var t=P4(),e=na(),r=Xre(),n=Math.max;function i(a,o,u){var d=a==null?0:a.length;if(!d)return-1;var f=u==null?0:r(u);return f<0&&(f=n(d+f,0)),t(a,e(o,3),f)}return Iw=i,Iw}var Ow,GC;function Jre(){if(GC)return Ow;GC=1;var t=Yre(),e=Qre(),r=t(e);return Ow=r,Ow}var Zre=Jre();const ene=pt(Zre);var tne=HD();const rne=pt(tne);var nne=rne(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),_k=B.createContext(void 0),Sk=B.createContext(void 0),P3=B.createContext(void 0),I3=B.createContext({}),O3=B.createContext(void 0),C3=B.createContext(0),R3=B.createContext(0),KC=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,o=e.clipPathId,u=e.children,d=e.width,f=e.height,p=nne(a);return H.createElement(_k.Provider,{value:n},H.createElement(Sk.Provider,{value:i},H.createElement(I3.Provider,{value:a},H.createElement(P3.Provider,{value:p},H.createElement(O3.Provider,{value:o},H.createElement(C3.Provider,{value:f},H.createElement(R3.Provider,{value:d},u)))))))},ine=function(){return B.useContext(O3)},M3=function(e){var r=B.useContext(_k);r==null&&Yo();var n=r[e];return n==null&&Yo(),n},ane=function(){var e=B.useContext(_k);return Ts(e)},sne=function(){var e=B.useContext(Sk),r=ene(e,function(n){return S3(n.domain,Number.isFinite)});return r||Ts(e)},D3=function(e){var r=B.useContext(Sk);r==null&&Yo();var n=r[e];return n==null&&Yo(),n},one=function(){var e=B.useContext(P3);return e},lne=function(){return B.useContext(I3)},kk=function(){return B.useContext(R3)},jk=function(){return B.useContext(C3)};function Ic(t){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ic(t)}function cne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function une(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$3(n.key),n)}}function dne(t,e,r){return e&&une(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fne(t,e,r){return e=Im(e),hne(t,L3()?Reflect.construct(e,r||[],Im(t).constructor):e.apply(t,r))}function hne(t,e){if(e&&(Ic(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pne(t)}function pne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L3=function(){return!!t})()}function Im(t){return Im=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Im(t)}function mne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m1(t,e)}function m1(t,e){return m1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},m1(t,e)}function YC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function XC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YC(Object(r),!0).forEach(function(n){Ek(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ek(t,e,r){return e=$3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $3(t){var e=gne(t,"string");return Ic(e)=="symbol"?e:e+""}function gne(t,e){if(Ic(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function vne(t,e){return wne(t)||bne(t,e)||xne(t,e)||yne()}function yne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xne(t,e){if(t){if(typeof t=="string")return QC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QC(t,e)}}function QC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function bne(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function wne(t){if(Array.isArray(t))return t}function g1(){return g1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},g1.apply(this,arguments)}var _ne=function(e,r){var n;return H.isValidElement(e)?n=H.cloneElement(e,r):Ge(e)?n=e(r):n=H.createElement("line",g1({},r,{className:"recharts-reference-line-line"})),n},Sne=function(e,r,n,i,a,o,u,d,f){var p=a.x,m=a.y,y=a.width,x=a.height;if(n){var S=f.y,_=e.y.apply(S,{position:o});if(Yi(f,"discard")&&!e.y.isInRange(_))return null;var b=[{x:p+y,y:_},{x:p,y:_}];return d==="left"?b.reverse():b}if(r){var P=f.x,A=e.x.apply(P,{position:o});if(Yi(f,"discard")&&!e.x.isInRange(A))return null;var I=[{x:A,y:m+x},{x:A,y:m}];return u==="top"?I.reverse():I}if(i){var R=f.segment,E=R.map(function(N){return e.apply(N,{position:o})});return Yi(f,"discard")&&mre(E,function(N){return!e.isInRange(N)})?null:E}return null};function kne(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,u=t.className,d=t.alwaysShow,f=ine(),p=M3(i),m=D3(a),y=one();if(!f||!y)return null;wi(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var x=wk({x:p.scale,y:m.scale}),S=ar(e),_=ar(r),b=n&&n.length===2,P=Sne(x,S,_,b,y,t.position,p.orientation,m.orientation,t);if(!P)return null;var A=vne(P,2),I=A[0],R=I.x,E=I.y,N=A[1],T=N.x,O=N.y,L=Yi(t,"hidden")?"url(#".concat(f,")"):void 0,C=XC(XC({clipPath:L},We(t,!0)),{},{x1:R,y1:E,x2:T,y2:O});return H.createElement(gt,{className:Je("recharts-reference-line",u)},_ne(o,C),vr.renderCallByParent(t,Hre({x1:R,y1:E,x2:T,y2:O})))}var Tk=function(t){function e(){return cne(this,e),fne(this,e,arguments)}return mne(e,t),dne(e,[{key:"render",value:function(){return H.createElement(kne,this.props)}}])}(H.Component);Ek(Tk,"displayName","ReferenceLine");Ek(Tk,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function v1(){return v1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},v1.apply(this,arguments)}function Oc(t){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oc(t)}function JC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ZC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JC(Object(r),!0).forEach(function(n){Bg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ene(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,F3(n.key),n)}}function Tne(t,e,r){return e&&Ene(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ane(t,e,r){return e=Om(e),Nne(t,V3()?Reflect.construct(e,r||[],Om(t).constructor):e.apply(t,r))}function Nne(t,e){if(e&&(Oc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pne(t)}function Pne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V3=function(){return!!t})()}function Om(t){return Om=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Om(t)}function Ine(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y1(t,e)}function y1(t,e){return y1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},y1(t,e)}function Bg(t,e,r){return e=F3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function F3(t){var e=One(t,"string");return Oc(e)=="symbol"?e:e+""}function One(t,e){if(Oc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Cne=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,o=wk({x:i.scale,y:a.scale}),u=o.apply({x:r,y:n},{bandAware:!0});return Yi(e,"discard")&&!o.isInRange(u)?null:u},qg=function(t){function e(){return jne(this,e),Ane(this,e,arguments)}return Ine(e,t),Tne(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,o=n.r,u=n.alwaysShow,d=n.clipPathId,f=ar(i),p=ar(a);if(wi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!p)return null;var m=Cne(this.props);if(!m)return null;var y=m.x,x=m.y,S=this.props,_=S.shape,b=S.className,P=Yi(this.props,"hidden")?"url(#".concat(d,")"):void 0,A=ZC(ZC({clipPath:P},We(this.props,!0)),{},{cx:y,cy:x});return H.createElement(gt,{className:Je("recharts-reference-dot",b)},e.renderDot(_,A),vr.renderCallByParent(this.props,{x:y-o,y:x-o,width:2*o,height:2*o}))}}])}(H.Component);Bg(qg,"displayName","ReferenceDot");Bg(qg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Bg(qg,"renderDot",function(t,e){var r;return H.isValidElement(t)?r=H.cloneElement(t,e):Ge(t)?r=t(e):r=H.createElement(bk,v1({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function x1(){return x1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},x1.apply(this,arguments)}function Cc(t){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cc(t)}function eR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eR(Object(r),!0).forEach(function(n){zg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mne(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,B3(n.key),n)}}function Dne(t,e,r){return e&&Mne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lne(t,e,r){return e=Cm(e),$ne(t,U3()?Reflect.construct(e,r||[],Cm(t).constructor):e.apply(t,r))}function $ne(t,e){if(e&&(Cc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vne(t)}function Vne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U3=function(){return!!t})()}function Cm(t){return Cm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cm(t)}function Fne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b1(t,e)}function b1(t,e){return b1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},b1(t,e)}function zg(t,e,r){return e=B3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function B3(t){var e=Une(t,"string");return Cc(e)=="symbol"?e:e+""}function Une(t,e){if(Cc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Bne=function(e,r,n,i,a){var o=a.x1,u=a.x2,d=a.y1,f=a.y2,p=a.xAxis,m=a.yAxis;if(!p||!m)return null;var y=wk({x:p.scale,y:m.scale}),x={x:e?y.x.apply(o,{position:"start"}):y.x.rangeMin,y:n?y.y.apply(d,{position:"start"}):y.y.rangeMin},S={x:r?y.x.apply(u,{position:"end"}):y.x.rangeMax,y:i?y.y.apply(f,{position:"end"}):y.y.rangeMax};return Yi(a,"discard")&&(!y.isInRange(x)||!y.isInRange(S))?null:A3(x,S)},Wg=function(t){function e(){return Rne(this,e),Lne(this,e,arguments)}return Fne(e,t),Dne(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,o=n.y1,u=n.y2,d=n.className,f=n.alwaysShow,p=n.clipPathId;wi(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=ar(i),y=ar(a),x=ar(o),S=ar(u),_=this.props.shape;if(!m&&!y&&!x&&!S&&!_)return null;var b=Bne(m,y,x,S,this.props);if(!b&&!_)return null;var P=Yi(this.props,"hidden")?"url(#".concat(p,")"):void 0;return H.createElement(gt,{className:Je("recharts-reference-area",d)},e.renderRect(_,tR(tR({clipPath:P},We(this.props,!0)),b)),vr.renderCallByParent(this.props,b))}}])}(H.Component);zg(Wg,"displayName","ReferenceArea");zg(Wg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});zg(Wg,"renderRect",function(t,e){var r;return H.isValidElement(t)?r=H.cloneElement(t,e):Ge(t)?r=t(e):r=H.createElement(xk,x1({},e,{className:"recharts-reference-area-rect"})),r});function q3(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function qne(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Kre(n,r)}function zne(t,e,r){var n=r==="width",i=t.x,a=t.y,o=t.width,u=t.height;return e===1?{start:n?i:a,end:n?i+o:a+u}:{start:n?i+o:a+u,end:n?i:a}}function Rm(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function Wne(t,e){return q3(t,e+1)}function Hne(t,e,r,n,i){for(var a=(n||[]).slice(),o=e.start,u=e.end,d=0,f=1,p=o,m=function(){var S=n?.[d];if(S===void 0)return{v:q3(n,f)};var _=d,b,P=function(){return b===void 0&&(b=r(S,_)),b},A=S.coordinate,I=d===0||Rm(t,A,P,p,u);I||(d=0,p=o,f+=1),I&&(p=A+t*(P()/2+i),d+=f)},y;f<=a.length;)if(y=m(),y)return y.v;return[]}function ef(t){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ef(t)}function rR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Lr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rR(Object(r),!0).forEach(function(n){Gne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gne(t,e,r){return e=Kne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kne(t){var e=Yne(t,"string");return ef(e)=="symbol"?e:e+""}function Yne(t,e){if(ef(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xne(t,e,r,n,i){for(var a=(n||[]).slice(),o=a.length,u=e.start,d=e.end,f=function(y){var x=a[y],S,_=function(){return S===void 0&&(S=r(x,y)),S};if(y===o-1){var b=t*(x.coordinate+t*_()/2-d);a[y]=x=Lr(Lr({},x),{},{tickCoord:b>0?x.coordinate-b*t:x.coordinate})}else a[y]=x=Lr(Lr({},x),{},{tickCoord:x.coordinate});var P=Rm(t,x.tickCoord,_,u,d);P&&(d=x.tickCoord-t*(_()/2+i),a[y]=Lr(Lr({},x),{},{isShow:!0}))},p=o-1;p>=0;p--)f(p);return a}function Qne(t,e,r,n,i,a){var o=(n||[]).slice(),u=o.length,d=e.start,f=e.end;if(a){var p=n[u-1],m=r(p,u-1),y=t*(p.coordinate+t*m/2-f);o[u-1]=p=Lr(Lr({},p),{},{tickCoord:y>0?p.coordinate-y*t:p.coordinate});var x=Rm(t,p.tickCoord,function(){return m},d,f);x&&(f=p.tickCoord-t*(m/2+i),o[u-1]=Lr(Lr({},p),{},{isShow:!0}))}for(var S=a?u-1:u,_=function(A){var I=o[A],R,E=function(){return R===void 0&&(R=r(I,A)),R};if(A===0){var N=t*(I.coordinate-t*E()/2-d);o[A]=I=Lr(Lr({},I),{},{tickCoord:N<0?I.coordinate-N*t:I.coordinate})}else o[A]=I=Lr(Lr({},I),{},{tickCoord:I.coordinate});var T=Rm(t,I.tickCoord,E,d,f);T&&(d=I.tickCoord+t*(E()/2+i),o[A]=Lr(Lr({},I),{},{isShow:!0}))},b=0;b<S;b++)_(b);return o}function Ak(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,u=t.orientation,d=t.interval,f=t.tickFormatter,p=t.unit,m=t.angle;if(!i||!i.length||!n)return[];if(je(d)||Yc.isSsr)return Wne(i,typeof d=="number"&&je(d)?d:0);var y=[],x=u==="top"||u==="bottom"?"width":"height",S=p&&x==="width"?ad(p,{fontSize:e,letterSpacing:r}):{width:0,height:0},_=function(I,R){var E=Ge(f)?f(I.value,R):I.value;return x==="width"?qne(ad(E,{fontSize:e,letterSpacing:r}),S,m):ad(E,{fontSize:e,letterSpacing:r})[x]},b=i.length>=2?Yr(i[1].coordinate-i[0].coordinate):1,P=zne(a,b,x);return d==="equidistantPreserveStart"?Hne(b,P,_,i,o):(d==="preserveStart"||d==="preserveStartEnd"?y=Qne(b,P,_,i,o,d==="preserveStartEnd"):y=Xne(b,P,_,i,o),y.filter(function(A){return A.isShow}))}var Jne=["viewBox"],Zne=["viewBox"],eie=["ticks"];function Rc(t){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rc(t)}function Jl(){return Jl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jl.apply(this,arguments)}function nR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nR(Object(r),!0).forEach(function(n){Nk(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cw(t,e){if(t==null)return{};var r=tie(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function rie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,W3(n.key),n)}}function nie(t,e,r){return e&&iR(t.prototype,e),r&&iR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function iie(t,e,r){return e=Mm(e),aie(t,z3()?Reflect.construct(e,r||[],Mm(t).constructor):e.apply(t,r))}function aie(t,e){if(e&&(Rc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sie(t)}function sie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function z3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z3=function(){return!!t})()}function Mm(t){return Mm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mm(t)}function oie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w1(t,e)}function w1(t,e){return w1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},w1(t,e)}function Nk(t,e,r){return e=W3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function W3(t){var e=lie(t,"string");return Rc(e)=="symbol"?e:e+""}function lie(t,e){if(Rc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Zc=function(t){function e(r){var n;return rie(this,e),n=iie(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return oie(e,t),nie(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,o=Cw(n,Jne),u=this.props,d=u.viewBox,f=Cw(u,Zne);return!ic(a,d)||!ic(o,f)||!ic(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,o=i.y,u=i.width,d=i.height,f=i.orientation,p=i.tickSize,m=i.mirror,y=i.tickMargin,x,S,_,b,P,A,I=m?-1:1,R=n.tickSize||p,E=je(n.tickCoord)?n.tickCoord:n.coordinate;switch(f){case"top":x=S=n.coordinate,b=o+ +!m*d,_=b-I*R,A=_-I*y,P=E;break;case"left":_=b=n.coordinate,S=a+ +!m*u,x=S-I*R,P=x-I*y,A=E;break;case"right":_=b=n.coordinate,S=a+ +m*u,x=S+I*R,P=x+I*y,A=E;break;default:x=S=n.coordinate,b=o+ +m*d,_=b+I*R,A=_+I*y,P=E;break}return{line:{x1:x,y1:_,x2:S,y2:b},tick:{x:P,y:A}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,u=n.height,d=n.orientation,f=n.mirror,p=n.axisLine,m=nr(nr(nr({},We(this.props,!1)),We(p,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var y=+(d==="top"&&!f||d==="bottom"&&f);m=nr(nr({},m),{},{x1:i,y1:a+y*u,x2:i+o,y2:a+y*u})}else{var x=+(d==="left"&&!f||d==="right"&&f);m=nr(nr({},m),{},{x1:i+x*o,y1:a,x2:i+x*o,y2:a+u})}return H.createElement("line",Jl({},m,{className:Je("recharts-cartesian-axis-line",Rn(p,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var o=this,u=this.props,d=u.tickLine,f=u.stroke,p=u.tick,m=u.tickFormatter,y=u.unit,x=Ak(nr(nr({},this.props),{},{ticks:n}),i,a),S=this.getTickTextAnchor(),_=this.getTickVerticalAnchor(),b=We(this.props,!1),P=We(p,!1),A=nr(nr({},b),{},{fill:"none"},We(d,!1)),I=x.map(function(R,E){var N=o.getTickLineCoord(R),T=N.line,O=N.tick,L=nr(nr(nr(nr({textAnchor:S,verticalAnchor:_},b),{},{stroke:"none",fill:f},P),O),{},{index:E,payload:R,visibleTicksCount:x.length,tickFormatter:m});return H.createElement(gt,Jl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(R.value,"-").concat(R.coordinate,"-").concat(R.tickCoord)},Ho(o.props,R,E)),d&&H.createElement("line",Jl({},A,T,{className:Je("recharts-cartesian-axis-tick-line",Rn(d,"className"))})),p&&e.renderTickItem(p,L,"".concat(Ge(m)?m(R.value,E):R.value).concat(y||"")))});return H.createElement("g",{className:"recharts-cartesian-axis-ticks"},I)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,o=i.width,u=i.height,d=i.ticksGenerator,f=i.className,p=i.hide;if(p)return null;var m=this.props,y=m.ticks,x=Cw(m,eie),S=y;return Ge(d)&&(S=y&&y.length>0?d(this.props):d(x)),o<=0||u<=0||!S||!S.length?null:H.createElement(gt,{className:Je("recharts-cartesian-axis",f),ref:function(b){n.layerReference=b}},a&&this.renderAxisLine(),this.renderTicks(S,this.state.fontSize,this.state.letterSpacing),vr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var o,u=Je(i.className,"recharts-cartesian-axis-tick-value");return H.isValidElement(n)?o=H.cloneElement(n,nr(nr({},i),{},{className:u})):Ge(n)?o=n(nr(nr({},i),{},{className:u})):o=H.createElement(Go,Jl({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(B.Component);Nk(Zc,"displayName","CartesianAxis");Nk(Zc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var cie=["x1","y1","x2","y2","key"],uie=["offset"];function Xo(t){"@babel/helpers - typeof";return Xo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xo(t)}function aR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aR(Object(r),!0).forEach(function(n){die(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function die(t,e,r){return e=fie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fie(t){var e=hie(t,"string");return Xo(e)=="symbol"?e:e+""}function hie(t,e){if(Xo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Co(){return Co=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Co.apply(this,arguments)}function sR(t,e){if(t==null)return{};var r=pie(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var mie=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,o=e.width,u=e.height,d=e.ry;return H.createElement("rect",{x:i,y:a,ry:d,width:o,height:u,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function H3(t,e){var r;if(H.isValidElement(t))r=H.cloneElement(t,e);else if(Ge(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,o=e.y2,u=e.key,d=sR(e,cie),f=We(d,!1);f.offset;var p=sR(f,uie);r=H.createElement("line",Co({},p,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:u}))}return r}function gie(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(u,d){var f=Fr(Fr({},t),{},{x1:e,y1:u,x2:e+r,y2:u,key:"line-".concat(d),index:d});return H3(i,f)});return H.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function vie(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(u,d){var f=Fr(Fr({},t),{},{x1:u,y1:e,x2:u,y2:e+r,key:"line-".concat(d),index:d});return H3(i,f)});return H.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function yie(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,o=t.height,u=t.horizontalPoints,d=t.horizontal,f=d===void 0?!0:d;if(!f||!e||!e.length)return null;var p=u.map(function(y){return Math.round(y+i-i)}).sort(function(y,x){return y-x});i!==p[0]&&p.unshift(0);var m=p.map(function(y,x){var S=!p[x+1],_=S?i+o-y:p[x+1]-y;if(_<=0)return null;var b=x%e.length;return H.createElement("rect",{key:"react-".concat(x),y,x:n,height:_,width:a,stroke:"none",fill:e[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return H.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function xie(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,u=t.width,d=t.height,f=t.verticalPoints;if(!r||!n||!n.length)return null;var p=f.map(function(y){return Math.round(y+a-a)}).sort(function(y,x){return y-x});a!==p[0]&&p.unshift(0);var m=p.map(function(y,x){var S=!p[x+1],_=S?a+u-y:p[x+1]-y;if(_<=0)return null;var b=x%n.length;return H.createElement("rect",{key:"react-".concat(x),x:y,y:o,width:_,height:d,stroke:"none",fill:n[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return H.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var bie=function(e,r){var n=e.xAxis,i=e.width,a=e.height,o=e.offset;return KL(Ak(Fr(Fr(Fr({},Zc.defaultProps),n),{},{ticks:Na(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,r)},wie=function(e,r){var n=e.yAxis,i=e.width,a=e.height,o=e.offset;return KL(Ak(Fr(Fr(Fr({},Zc.defaultProps),n),{},{ticks:Na(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,r)},zl={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Pk(t){var e,r,n,i,a,o,u=kk(),d=jk(),f=lne(),p=Fr(Fr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:zl.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:zl.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:zl.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:zl.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:zl.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:zl.verticalFill,x:je(t.x)?t.x:f.left,y:je(t.y)?t.y:f.top,width:je(t.width)?t.width:f.width,height:je(t.height)?t.height:f.height}),m=p.x,y=p.y,x=p.width,S=p.height,_=p.syncWithTicks,b=p.horizontalValues,P=p.verticalValues,A=ane(),I=sne();if(!je(x)||x<=0||!je(S)||S<=0||!je(m)||m!==+m||!je(y)||y!==+y)return null;var R=p.verticalCoordinatesGenerator||bie,E=p.horizontalCoordinatesGenerator||wie,N=p.horizontalPoints,T=p.verticalPoints;if((!N||!N.length)&&Ge(E)){var O=b&&b.length,L=E({yAxis:I?Fr(Fr({},I),{},{ticks:O?b:I.ticks}):void 0,width:u,height:d,offset:f},O?!0:_);wi(Array.isArray(L),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Xo(L),"]")),Array.isArray(L)&&(N=L)}if((!T||!T.length)&&Ge(R)){var C=P&&P.length,D=R({xAxis:A?Fr(Fr({},A),{},{ticks:C?P:A.ticks}):void 0,width:u,height:d,offset:f},C?!0:_);wi(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Xo(D),"]")),Array.isArray(D)&&(T=D)}return H.createElement("g",{className:"recharts-cartesian-grid"},H.createElement(mie,{fill:p.fill,fillOpacity:p.fillOpacity,x:p.x,y:p.y,width:p.width,height:p.height,ry:p.ry}),H.createElement(gie,Co({},p,{offset:f,horizontalPoints:N,xAxis:A,yAxis:I})),H.createElement(vie,Co({},p,{offset:f,verticalPoints:T,xAxis:A,yAxis:I})),H.createElement(yie,Co({},p,{horizontalPoints:N})),H.createElement(xie,Co({},p,{verticalPoints:T})))}Pk.displayName="CartesianGrid";function Mc(t){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mc(t)}function _ie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Y3(n.key),n)}}function kie(t,e,r){return e&&Sie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jie(t,e,r){return e=Dm(e),Eie(t,G3()?Reflect.construct(e,r||[],Dm(t).constructor):e.apply(t,r))}function Eie(t,e){if(e&&(Mc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tie(t)}function Tie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G3=function(){return!!t})()}function Dm(t){return Dm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dm(t)}function Aie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_1(t,e)}function _1(t,e){return _1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_1(t,e)}function K3(t,e,r){return e=Y3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Y3(t){var e=Nie(t,"string");return Mc(e)=="symbol"?e:e+""}function Nie(t,e){if(Mc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function S1(){return S1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},S1.apply(this,arguments)}function Pie(t){var e=t.xAxisId,r=kk(),n=jk(),i=M3(e);return i==null?null:B.createElement(Zc,S1({},i,{className:Je("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Na(o,!0)}}))}var Tf=function(t){function e(){return _ie(this,e),jie(this,e,arguments)}return Aie(e,t),kie(e,[{key:"render",value:function(){return B.createElement(Pie,this.props)}}])}(B.Component);K3(Tf,"displayName","XAxis");K3(Tf,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Dc(t){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dc(t)}function Iie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,J3(n.key),n)}}function Cie(t,e,r){return e&&Oie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rie(t,e,r){return e=Lm(e),Mie(t,X3()?Reflect.construct(e,r||[],Lm(t).constructor):e.apply(t,r))}function Mie(t,e){if(e&&(Dc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Die(t)}function Die(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function X3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X3=function(){return!!t})()}function Lm(t){return Lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lm(t)}function Lie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k1(t,e)}function k1(t,e){return k1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},k1(t,e)}function Q3(t,e,r){return e=J3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function J3(t){var e=$ie(t,"string");return Dc(e)=="symbol"?e:e+""}function $ie(t,e){if(Dc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function j1(){return j1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},j1.apply(this,arguments)}var Vie=function(e){var r=e.yAxisId,n=kk(),i=jk(),a=D3(r);return a==null?null:B.createElement(Zc,j1({},a,{className:Je("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(u){return Na(u,!0)}}))},Af=function(t){function e(){return Iie(this,e),Rie(this,e,arguments)}return Lie(e,t),Cie(e,[{key:"render",value:function(){return B.createElement(Vie,this.props)}}])}(B.Component);Q3(Af,"displayName","YAxis");Q3(Af,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function oR(t){return qie(t)||Bie(t)||Uie(t)||Fie()}function Fie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uie(t,e){if(t){if(typeof t=="string")return E1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E1(t,e)}}function Bie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qie(t){if(Array.isArray(t))return E1(t)}function E1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var T1=function(e,r,n,i,a){var o=ei(e,Tk),u=ei(e,qg),d=[].concat(oR(o),oR(u)),f=ei(e,Wg),p="".concat(i,"Id"),m=i[0],y=r;if(d.length&&(y=d.reduce(function(_,b){if(b.props[p]===n&&Yi(b.props,"extendDomain")&&je(b.props[m])){var P=b.props[m];return[Math.min(_[0],P),Math.max(_[1],P)]}return _},y)),f.length){var x="".concat(m,"1"),S="".concat(m,"2");y=f.reduce(function(_,b){if(b.props[p]===n&&Yi(b.props,"extendDomain")&&je(b.props[x])&&je(b.props[S])){var P=b.props[x],A=b.props[S];return[Math.min(_[0],P,A),Math.max(_[1],P,A)]}return _},y)}return a&&a.length&&(y=a.reduce(function(_,b){return je(b)?[Math.min(_[0],b),Math.max(_[1],b)]:_},y)),y},Rw={exports:{}},lR;function zie(){return lR||(lR=1,function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(d,f,p){this.fn=d,this.context=f,this.once=p||!1}function a(d,f,p,m,y){if(typeof p!="function")throw new TypeError("The listener must be a function");var x=new i(p,m||d,y),S=r?r+f:f;return d._events[S]?d._events[S].fn?d._events[S]=[d._events[S],x]:d._events[S].push(x):(d._events[S]=x,d._eventsCount++),d}function o(d,f){--d._eventsCount===0?d._events=new n:delete d._events[f]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],p,m;if(this._eventsCount===0)return f;for(m in p=this._events)e.call(p,m)&&f.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},u.prototype.listeners=function(f){var p=r?r+f:f,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var y=0,x=m.length,S=new Array(x);y<x;y++)S[y]=m[y].fn;return S},u.prototype.listenerCount=function(f){var p=r?r+f:f,m=this._events[p];return m?m.fn?1:m.length:0},u.prototype.emit=function(f,p,m,y,x,S){var _=r?r+f:f;if(!this._events[_])return!1;var b=this._events[_],P=arguments.length,A,I;if(b.fn){switch(b.once&&this.removeListener(f,b.fn,void 0,!0),P){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,p),!0;case 3:return b.fn.call(b.context,p,m),!0;case 4:return b.fn.call(b.context,p,m,y),!0;case 5:return b.fn.call(b.context,p,m,y,x),!0;case 6:return b.fn.call(b.context,p,m,y,x,S),!0}for(I=1,A=new Array(P-1);I<P;I++)A[I-1]=arguments[I];b.fn.apply(b.context,A)}else{var R=b.length,E;for(I=0;I<R;I++)switch(b[I].once&&this.removeListener(f,b[I].fn,void 0,!0),P){case 1:b[I].fn.call(b[I].context);break;case 2:b[I].fn.call(b[I].context,p);break;case 3:b[I].fn.call(b[I].context,p,m);break;case 4:b[I].fn.call(b[I].context,p,m,y);break;default:if(!A)for(E=1,A=new Array(P-1);E<P;E++)A[E-1]=arguments[E];b[I].fn.apply(b[I].context,A)}}return!0},u.prototype.on=function(f,p,m){return a(this,f,p,m,!1)},u.prototype.once=function(f,p,m){return a(this,f,p,m,!0)},u.prototype.removeListener=function(f,p,m,y){var x=r?r+f:f;if(!this._events[x])return this;if(!p)return o(this,x),this;var S=this._events[x];if(S.fn)S.fn===p&&(!y||S.once)&&(!m||S.context===m)&&o(this,x);else{for(var _=0,b=[],P=S.length;_<P;_++)(S[_].fn!==p||y&&!S[_].once||m&&S[_].context!==m)&&b.push(S[_]);b.length?this._events[x]=b.length===1?b[0]:b:o(this,x)}return this},u.prototype.removeAllListeners=function(f){var p;return f?(p=r?r+f:f,this._events[p]&&o(this,p)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,t.exports=u}(Rw)),Rw.exports}var Wie=zie();const Hie=pt(Wie);var Mw=new Hie,Dw="recharts.syncMouseEvents";function tf(t){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(t)}function Gie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Z3(n.key),n)}}function Yie(t,e,r){return e&&Kie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lw(t,e,r){return e=Z3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Z3(t){var e=Xie(t,"string");return tf(e)=="symbol"?e:e+""}function Xie(t,e){if(tf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Qie=function(){function t(){Gie(this,t),Lw(this,"activeIndex",0),Lw(this,"coordinateList",[]),Lw(this,"layout","horizontal")}return Yie(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,o=r.container,u=o===void 0?null:o,d=r.layout,f=d===void 0?null:d,p=r.offset,m=p===void 0?null:p,y=r.mouseHandlerCallback,x=y===void 0?null:y;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=u??this.container,this.layout=f??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=x??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,u=i.height,d=this.coordinateList[this.activeIndex].coordinate,f=((r=window)===null||r===void 0?void 0:r.scrollX)||0,p=((n=window)===null||n===void 0?void 0:n.scrollY)||0,m=a+d+f,y=o+this.offset.top+u/2+p;this.mouseHandlerCallback({pageX:m,pageY:y})}}}])}();function Jie(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t?.[0],i=t?.[1];if(n&&i&&je(n)&&je(i))return!0}return!1}function Zie(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function e6(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,o=jt(e,r,n,i),u=jt(e,r,n,a);return{points:[o,u],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function eae(t,e,r){var n,i,a,o;if(t==="horizontal")n=e.x,a=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var u=e.cx,d=e.cy,f=e.innerRadius,p=e.outerRadius,m=e.angle,y=jt(u,d,f,m),x=jt(u,d,p,m);n=y.x,i=y.y,a=x.x,o=x.y}else return e6(e);return[{x:n,y:i},{x:a,y:o}]}function rf(t){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rf(t)}function cR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cR(Object(r),!0).forEach(function(n){tae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tae(t,e,r){return e=rae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rae(t){var e=nae(t,"string");return rf(e)=="symbol"?e:e+""}function nae(t,e){if(rf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iae(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,u=t.activePayload,d=t.offset,f=t.activeTooltipIndex,p=t.tooltipAxisBandSize,m=t.layout,y=t.chartName,x=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!x||!a||!o||y!=="ScatterChart"&&i!=="axis")return null;var S,_=X_;if(y==="ScatterChart")S=o,_=Vee;else if(y==="BarChart")S=Zie(m,o,d,p),_=xk;else if(m==="radial"){var b=e6(o),P=b.cx,A=b.cy,I=b.radius,R=b.startAngle,E=b.endAngle;S={cx:P,cy:A,startAngle:R,endAngle:E,innerRadius:I,outerRadius:I},_=yk}else S={points:eae(m,o,d)},_=X_;var N=lp(lp(lp(lp({stroke:"#ccc",pointerEvents:"none"},d),S),We(x,!1)),{},{payload:u,payloadIndex:f,className:Je("recharts-tooltip-cursor",x.className)});return B.isValidElement(x)?B.cloneElement(x,N):B.createElement(_,N)}var aae=["item"],sae=["children","className","width","height","style","compact","title","desc"];function Lc(t){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lc(t)}function Zl(){return Zl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zl.apply(this,arguments)}function uR(t,e){return cae(t)||lae(t,e)||r6(t,e)||oae()}function oae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lae(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,u=[],d=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function cae(t){if(Array.isArray(t))return t}function dR(t,e){if(t==null)return{};var r=uae(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function uae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function dae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fae(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n6(n.key),n)}}function hae(t,e,r){return e&&fae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pae(t,e,r){return e=$m(e),mae(t,t6()?Reflect.construct(e,r||[],$m(t).constructor):e.apply(t,r))}function mae(t,e){if(e&&(Lc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gae(t)}function gae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t6=function(){return!!t})()}function $m(t){return $m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$m(t)}function vae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A1(t,e)}function A1(t,e){return A1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},A1(t,e)}function $c(t){return bae(t)||xae(t)||r6(t)||yae()}function yae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r6(t,e){if(t){if(typeof t=="string")return N1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N1(t,e)}}function xae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bae(t){if(Array.isArray(t))return N1(t)}function N1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function de(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fR(Object(r),!0).forEach(function(n){qe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qe(t,e,r){return e=n6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n6(t){var e=wae(t,"string");return Lc(e)=="symbol"?e:e+""}function wae(t,e){if(Lc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _ae={xAxis:["bottom","top"],yAxis:["left","right"]},Sae={width:"100%",height:"100%"},i6={x:0,y:0};function cp(t){return t}var kae=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},jae=function(e,r,n,i){var a=r.find(function(p){return p&&p.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,u=i.radius;return de(de(de({},i),jt(i.cx,i.cy,u,o)),{},{angle:o,radius:u})}var d=a.coordinate,f=i.angle;return de(de(de({},i),jt(i.cx,i.cy,d,f)),{},{angle:f,radius:d})}return i6},Hg=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(u,d){var f=d.props.data;return f&&f.length?[].concat($c(u),$c(f)):u},[]);return o.length>0?o:e&&e.length&&je(i)&&je(a)?e.slice(i,a+1):[]};function a6(t){return t==="number"?[0,"auto"]:void 0}var P1=function(e,r,n,i){var a=e.graphicalItems,o=e.tooltipAxis,u=Hg(r,e);return n<0||!a||!a.length||n>=u.length?null:a.reduce(function(d,f){var p,m=(p=f.props.data)!==null&&p!==void 0?p:r;m&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(m=m.slice(e.dataStartIndex,e.dataEndIndex+1));var y;if(o.dataKey&&!o.allowDuplicatedCategory){var x=m===void 0?u:m;y=d_(x,o.dataKey,i)}else y=m&&m[n]||u[n];return y?[].concat($c(d),[ZL(f,y)]):d},[])},hR=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},o=kae(a,n),u=e.orderedTooltipTicks,d=e.tooltipAxis,f=e.tooltipTicks,p=uQ(o,u,f,d);if(p>=0&&f){var m=f[p]&&f[p].value,y=P1(e,r,p,m),x=jae(n,u,p,a);return{activeTooltipIndex:p,activeLabel:m,activePayload:y,activeCoordinate:x}}return null},Eae=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,o=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,p=e.layout,m=e.children,y=e.stackOffset,x=GL(p,a);return n.reduce(function(S,_){var b,P=_.type.defaultProps!==void 0?de(de({},_.type.defaultProps),_.props):_.props,A=P.type,I=P.dataKey,R=P.allowDataOverflow,E=P.allowDuplicatedCategory,N=P.scale,T=P.ticks,O=P.includeHidden,L=P[o];if(S[L])return S;var C=Hg(e.data,{graphicalItems:i.filter(function(Y){var K,le=o in Y.props?Y.props[o]:(K=Y.type.defaultProps)===null||K===void 0?void 0:K[o];return le===L}),dataStartIndex:d,dataEndIndex:f}),D=C.length,F,$,ee;Jie(P.domain,R,A)&&(F=W_(P.domain,null,R),x&&(A==="number"||N!=="auto")&&(ee=od(C,I,"category")));var ne=a6(A);if(!F||F.length===0){var Q,ie=(Q=P.domain)!==null&&Q!==void 0?Q:ne;if(I){if(F=od(C,I,A),A==="category"&&x){var Z=iz(F);E&&Z?($=F,F=Em(0,D)):E||(F=mO(ie,F,_).reduce(function(Y,K){return Y.indexOf(K)>=0?Y:[].concat($c(Y),[K])},[]))}else if(A==="category")E?F=F.filter(function(Y){return Y!==""&&!et(Y)}):F=mO(ie,F,_).reduce(function(Y,K){return Y.indexOf(K)>=0||K===""||et(K)?Y:[].concat($c(Y),[K])},[]);else if(A==="number"){var J=mQ(C,i.filter(function(Y){var K,le,fe=o in Y.props?Y.props[o]:(K=Y.type.defaultProps)===null||K===void 0?void 0:K[o],xe="hide"in Y.props?Y.props.hide:(le=Y.type.defaultProps)===null||le===void 0?void 0:le.hide;return fe===L&&(O||!xe)}),I,a,p);J&&(F=J)}x&&(A==="number"||N!=="auto")&&(ee=od(C,I,"category"))}else x?F=Em(0,D):u&&u[L]&&u[L].hasStack&&A==="number"?F=y==="expand"?[0,1]:JL(u[L].stackGroups,d,f):F=HL(C,i.filter(function(Y){var K=o in Y.props?Y.props[o]:Y.type.defaultProps[o],le="hide"in Y.props?Y.props.hide:Y.type.defaultProps.hide;return K===L&&(O||!le)}),A,p,!0);if(A==="number")F=T1(m,F,L,a,T),ie&&(F=W_(ie,F,R));else if(A==="category"&&ie){var ae=ie,z=F.every(function(Y){return ae.indexOf(Y)>=0});z&&(F=ae)}}return de(de({},S),{},qe({},L,de(de({},P),{},{axisType:a,domain:F,categoricalDomain:ee,duplicateDomain:$,originalDomain:(b=P.domain)!==null&&b!==void 0?b:ne,isCategorical:x,layout:p})))},{})},Tae=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,o=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,p=e.layout,m=e.children,y=Hg(e.data,{graphicalItems:n,dataStartIndex:d,dataEndIndex:f}),x=y.length,S=GL(p,a),_=-1;return n.reduce(function(b,P){var A=P.type.defaultProps!==void 0?de(de({},P.type.defaultProps),P.props):P.props,I=A[o],R=a6("number");if(!b[I]){_++;var E;return S?E=Em(0,x):u&&u[I]&&u[I].hasStack?(E=JL(u[I].stackGroups,d,f),E=T1(m,E,I,a)):(E=W_(R,HL(y,n.filter(function(N){var T,O,L=o in N.props?N.props[o]:(T=N.type.defaultProps)===null||T===void 0?void 0:T[o],C="hide"in N.props?N.props.hide:(O=N.type.defaultProps)===null||O===void 0?void 0:O.hide;return L===I&&!C}),"number",p),i.defaultProps.allowDataOverflow),E=T1(m,E,I,a)),de(de({},b),{},qe({},I,de(de({axisType:a},i.defaultProps),{},{hide:!0,orientation:Rn(_ae,"".concat(a,".").concat(_%2),null),domain:E,originalDomain:R,isCategorical:S,layout:p})))}return b},{})},Aae=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,p=e.children,m="".concat(i,"Id"),y=ei(p,a),x={};return y&&y.length?x=Eae(e,{axes:y,graphicalItems:o,axisType:i,axisIdKey:m,stackGroups:u,dataStartIndex:d,dataEndIndex:f}):o&&o.length&&(x=Tae(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:m,stackGroups:u,dataStartIndex:d,dataEndIndex:f})),x},Nae=function(e){var r=Ts(e),n=Na(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:zS(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:pm(r,n)}},pR=function(e){var r=e.children,n=e.defaultShowTooltip,i=Pn(r,Nc),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},Pae=function(e){return!e||!e.length?!1:e.some(function(r){var n=Ia(r&&r.type);return n&&n.indexOf("Bar")>=0})},mR=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Iae=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,u=e.yAxisMap,d=u===void 0?{}:u,f=n.width,p=n.height,m=n.children,y=n.margin||{},x=Pn(m,Nc),S=Pn(m,Cs),_=Object.keys(d).reduce(function(E,N){var T=d[N],O=T.orientation;return!T.mirror&&!T.hide?de(de({},E),{},qe({},O,E[O]+T.width)):E},{left:y.left||0,right:y.right||0}),b=Object.keys(o).reduce(function(E,N){var T=o[N],O=T.orientation;return!T.mirror&&!T.hide?de(de({},E),{},qe({},O,Rn(E,"".concat(O))+T.height)):E},{top:y.top||0,bottom:y.bottom||0}),P=de(de({},b),_),A=P.bottom;x&&(P.bottom+=x.props.height||Nc.defaultProps.height),S&&r&&(P=hQ(P,i,n,r));var I=f-P.left-P.right,R=p-P.top-P.bottom;return de(de({brushBottom:A},P),{},{width:Math.max(I,0),height:Math.max(R,0)})},Oae=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},s6=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,u=o===void 0?["axis"]:o,d=e.axisComponents,f=e.legendContent,p=e.formatAxisMap,m=e.defaultProps,y=function(P,A){var I=A.graphicalItems,R=A.stackGroups,E=A.offset,N=A.updateId,T=A.dataStartIndex,O=A.dataEndIndex,L=P.barSize,C=P.layout,D=P.barGap,F=P.barCategoryGap,$=P.maxBarSize,ee=mR(C),ne=ee.numericAxisName,Q=ee.cateAxisName,ie=Pae(I),Z=[];return I.forEach(function(J,ae){var z=Hg(P.data,{graphicalItems:[J],dataStartIndex:T,dataEndIndex:O}),Y=J.type.defaultProps!==void 0?de(de({},J.type.defaultProps),J.props):J.props,K=Y.dataKey,le=Y.maxBarSize,fe=Y["".concat(ne,"Id")],xe=Y["".concat(Q,"Id")],he={},me=d.reduce(function(Jt,xr){var Mn=A["".concat(xr.axisType,"Map")],ji=Y["".concat(xr.axisType,"Id")];Mn&&Mn[ji]||xr.axisType==="zAxis"||Yo();var Ei=Mn[ji];return de(de({},Jt),{},qe(qe({},xr.axisType,Ei),"".concat(xr.axisType,"Ticks"),Na(Ei)))},he),ue=me[Q],ke=me["".concat(Q,"Ticks")],Ee=R&&R[fe]&&R[fe].hasStack&&kQ(J,R[fe].stackGroups),W=Ia(J.type).indexOf("Bar")>=0,pe=pm(ue,ke),ge=[],Ae=ie&&dQ({barSize:L,stackGroups:R,totalSize:Oae(me,Q)});if(W){var Fe,$t,en=et(le)?$:le,qr=(Fe=($t=pm(ue,ke,!0))!==null&&$t!==void 0?$t:en)!==null&&Fe!==void 0?Fe:0;ge=fQ({barGap:D,barCategoryGap:F,bandSize:qr!==pe?qr:pe,sizeList:Ae[xe],maxBarSize:en}),qr!==pe&&(ge=ge.map(function(Jt){return de(de({},Jt),{},{position:de(de({},Jt.position),{},{offset:Jt.position.offset-qr/2})})}))}var zr=J&&J.type&&J.type.getComposedData;zr&&Z.push({props:de(de({},zr(de(de({},me),{},{displayedData:z,props:P,dataKey:K,item:J,bandSize:pe,barPosition:ge,offset:E,stackedData:Ee,layout:C,dataStartIndex:T,dataEndIndex:O}))),{},qe(qe(qe({key:J.key||"item-".concat(ae)},ne,me[ne]),Q,me[Q]),"animationId",N)),childIndex:gz(J,P.children),item:J})}),Z},x=function(P,A){var I=P.props,R=P.dataStartIndex,E=P.dataEndIndex,N=P.updateId;if(!PN({props:I}))return null;var T=I.children,O=I.layout,L=I.stackOffset,C=I.data,D=I.reverseStackOrder,F=mR(O),$=F.numericAxisName,ee=F.cateAxisName,ne=ei(T,n),Q=_Q(C,ne,"".concat($,"Id"),"".concat(ee,"Id"),L,D),ie=d.reduce(function(Y,K){var le="".concat(K.axisType,"Map");return de(de({},Y),{},qe({},le,Aae(I,de(de({},K),{},{graphicalItems:ne,stackGroups:K.axisType===$&&Q,dataStartIndex:R,dataEndIndex:E}))))},{}),Z=Iae(de(de({},ie),{},{props:I,graphicalItems:ne}),A?.legendBBox);Object.keys(ie).forEach(function(Y){ie[Y]=p(I,ie[Y],Z,Y.replace("Map",""),r)});var J=ie["".concat(ee,"Map")],ae=Nae(J),z=y(I,de(de({},ie),{},{dataStartIndex:R,dataEndIndex:E,updateId:N,graphicalItems:ne,stackGroups:Q,offset:Z}));return de(de({formattedGraphicalItems:z,graphicalItems:ne,offset:Z,stackGroups:Q},ae),ie)},S=function(b){function P(A){var I,R,E;return dae(this,P),E=pae(this,P,[A]),qe(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),qe(E,"accessibilityManager",new Qie),qe(E,"handleLegendBBoxUpdate",function(N){if(N){var T=E.state,O=T.dataStartIndex,L=T.dataEndIndex,C=T.updateId;E.setState(de({legendBBox:N},x({props:E.props,dataStartIndex:O,dataEndIndex:L,updateId:C},de(de({},E.state),{},{legendBBox:N}))))}}),qe(E,"handleReceiveSyncEvent",function(N,T,O){if(E.props.syncId===N){if(O===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(T)}}),qe(E,"handleBrushChange",function(N){var T=N.startIndex,O=N.endIndex;if(T!==E.state.dataStartIndex||O!==E.state.dataEndIndex){var L=E.state.updateId;E.setState(function(){return de({dataStartIndex:T,dataEndIndex:O},x({props:E.props,dataStartIndex:T,dataEndIndex:O,updateId:L},E.state))}),E.triggerSyncEvent({dataStartIndex:T,dataEndIndex:O})}}),qe(E,"handleMouseEnter",function(N){var T=E.getMouseInfo(N);if(T){var O=de(de({},T),{},{isTooltipActive:!0});E.setState(O),E.triggerSyncEvent(O);var L=E.props.onMouseEnter;Ge(L)&&L(O,N)}}),qe(E,"triggeredAfterMouseMove",function(N){var T=E.getMouseInfo(N),O=T?de(de({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(O),E.triggerSyncEvent(O);var L=E.props.onMouseMove;Ge(L)&&L(O,N)}),qe(E,"handleItemMouseEnter",function(N){E.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),qe(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),qe(E,"handleMouseMove",function(N){N.persist(),E.throttleTriggeredAfterMouseMove(N)}),qe(E,"handleMouseLeave",function(N){E.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};E.setState(T),E.triggerSyncEvent(T);var O=E.props.onMouseLeave;Ge(O)&&O(T,N)}),qe(E,"handleOuterEvent",function(N){var T=mz(N),O=Rn(E.props,"".concat(T));if(T&&Ge(O)){var L,C;/.*touch.*/i.test(T)?C=E.getMouseInfo(N.changedTouches[0]):C=E.getMouseInfo(N),O((L=C)!==null&&L!==void 0?L:{},N)}}),qe(E,"handleClick",function(N){var T=E.getMouseInfo(N);if(T){var O=de(de({},T),{},{isTooltipActive:!0});E.setState(O),E.triggerSyncEvent(O);var L=E.props.onClick;Ge(L)&&L(O,N)}}),qe(E,"handleMouseDown",function(N){var T=E.props.onMouseDown;if(Ge(T)){var O=E.getMouseInfo(N);T(O,N)}}),qe(E,"handleMouseUp",function(N){var T=E.props.onMouseUp;if(Ge(T)){var O=E.getMouseInfo(N);T(O,N)}}),qe(E,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),qe(E,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&E.handleMouseDown(N.changedTouches[0])}),qe(E,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&E.handleMouseUp(N.changedTouches[0])}),qe(E,"handleDoubleClick",function(N){var T=E.props.onDoubleClick;if(Ge(T)){var O=E.getMouseInfo(N);T(O,N)}}),qe(E,"handleContextMenu",function(N){var T=E.props.onContextMenu;if(Ge(T)){var O=E.getMouseInfo(N);T(O,N)}}),qe(E,"triggerSyncEvent",function(N){E.props.syncId!==void 0&&Mw.emit(Dw,E.props.syncId,N,E.eventEmitterSymbol)}),qe(E,"applySyncEvent",function(N){var T=E.props,O=T.layout,L=T.syncMethod,C=E.state.updateId,D=N.dataStartIndex,F=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)E.setState(de({dataStartIndex:D,dataEndIndex:F},x({props:E.props,dataStartIndex:D,dataEndIndex:F,updateId:C},E.state)));else if(N.activeTooltipIndex!==void 0){var $=N.chartX,ee=N.chartY,ne=N.activeTooltipIndex,Q=E.state,ie=Q.offset,Z=Q.tooltipTicks;if(!ie)return;if(typeof L=="function")ne=L(Z,N);else if(L==="value"){ne=-1;for(var J=0;J<Z.length;J++)if(Z[J].value===N.activeLabel){ne=J;break}}var ae=de(de({},ie),{},{x:ie.left,y:ie.top}),z=Math.min($,ae.x+ae.width),Y=Math.min(ee,ae.y+ae.height),K=Z[ne]&&Z[ne].value,le=P1(E.state,E.props.data,ne),fe=Z[ne]?{x:O==="horizontal"?Z[ne].coordinate:z,y:O==="horizontal"?Y:Z[ne].coordinate}:i6;E.setState(de(de({},N),{},{activeLabel:K,activeCoordinate:fe,activePayload:le,activeTooltipIndex:ne}))}else E.setState(N)}),qe(E,"renderCursor",function(N){var T,O=E.state,L=O.isTooltipActive,C=O.activeCoordinate,D=O.activePayload,F=O.offset,$=O.activeTooltipIndex,ee=O.tooltipAxisBandSize,ne=E.getTooltipEventType(),Q=(T=N.props.active)!==null&&T!==void 0?T:L,ie=E.props.layout,Z=N.key||"_recharts-cursor";return H.createElement(iae,{key:Z,activeCoordinate:C,activePayload:D,activeTooltipIndex:$,chartName:r,element:N,isActive:Q,layout:ie,offset:F,tooltipAxisBandSize:ee,tooltipEventType:ne})}),qe(E,"renderPolarAxis",function(N,T,O){var L=Rn(N,"type.axisType"),C=Rn(E.state,"".concat(L,"Map")),D=N.type.defaultProps,F=D!==void 0?de(de({},D),N.props):N.props,$=C&&C[F["".concat(L,"Id")]];return B.cloneElement(N,de(de({},$),{},{className:Je(L,$.className),key:N.key||"".concat(T,"-").concat(O),ticks:Na($,!0)}))}),qe(E,"renderPolarGrid",function(N){var T=N.props,O=T.radialLines,L=T.polarAngles,C=T.polarRadius,D=E.state,F=D.radiusAxisMap,$=D.angleAxisMap,ee=Ts(F),ne=Ts($),Q=ne.cx,ie=ne.cy,Z=ne.innerRadius,J=ne.outerRadius;return B.cloneElement(N,{polarAngles:Array.isArray(L)?L:Na(ne,!0).map(function(ae){return ae.coordinate}),polarRadius:Array.isArray(C)?C:Na(ee,!0).map(function(ae){return ae.coordinate}),cx:Q,cy:ie,innerRadius:Z,outerRadius:J,key:N.key||"polar-grid",radialLines:O})}),qe(E,"renderLegend",function(){var N=E.state.formattedGraphicalItems,T=E.props,O=T.children,L=T.width,C=T.height,D=E.props.margin||{},F=L-(D.left||0)-(D.right||0),$=zL({children:O,formattedGraphicalItems:N,legendWidth:F,legendContent:f});if(!$)return null;var ee=$.item,ne=dR($,aae);return B.cloneElement(ee,de(de({},ne),{},{chartWidth:L,chartHeight:C,margin:D,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),qe(E,"renderTooltip",function(){var N,T=E.props,O=T.children,L=T.accessibilityLayer,C=Pn(O,Xn);if(!C)return null;var D=E.state,F=D.isTooltipActive,$=D.activeCoordinate,ee=D.activePayload,ne=D.activeLabel,Q=D.offset,ie=(N=C.props.active)!==null&&N!==void 0?N:F;return B.cloneElement(C,{viewBox:de(de({},Q),{},{x:Q.left,y:Q.top}),active:ie,label:ne,payload:ie?ee:[],coordinate:$,accessibilityLayer:L})}),qe(E,"renderBrush",function(N){var T=E.props,O=T.margin,L=T.data,C=E.state,D=C.offset,F=C.dataStartIndex,$=C.dataEndIndex,ee=C.updateId;return B.cloneElement(N,{key:N.key||"_recharts-brush",onChange:ip(E.handleBrushChange,N.props.onChange),data:L,x:je(N.props.x)?N.props.x:D.left,y:je(N.props.y)?N.props.y:D.top+D.height+D.brushBottom-(O.bottom||0),width:je(N.props.width)?N.props.width:D.width,startIndex:F,endIndex:$,updateId:"brush-".concat(ee)})}),qe(E,"renderReferenceElement",function(N,T,O){if(!N)return null;var L=E,C=L.clipPathId,D=E.state,F=D.xAxisMap,$=D.yAxisMap,ee=D.offset,ne=N.type.defaultProps||{},Q=N.props,ie=Q.xAxisId,Z=ie===void 0?ne.xAxisId:ie,J=Q.yAxisId,ae=J===void 0?ne.yAxisId:J;return B.cloneElement(N,{key:N.key||"".concat(T,"-").concat(O),xAxis:F[Z],yAxis:$[ae],viewBox:{x:ee.left,y:ee.top,width:ee.width,height:ee.height},clipPathId:C})}),qe(E,"renderActivePoints",function(N){var T=N.item,O=N.activePoint,L=N.basePoint,C=N.childIndex,D=N.isRange,F=[],$=T.props.key,ee=T.item.type.defaultProps!==void 0?de(de({},T.item.type.defaultProps),T.item.props):T.item.props,ne=ee.activeDot,Q=ee.dataKey,ie=de(de({index:C,dataKey:Q,cx:O.x,cy:O.y,r:4,fill:vk(T.item),strokeWidth:2,stroke:"#fff",payload:O.payload,value:O.value},We(ne,!1)),zp(ne));return F.push(P.renderActiveDot(ne,ie,"".concat($,"-activePoint-").concat(C))),L?F.push(P.renderActiveDot(ne,de(de({},ie),{},{cx:L.x,cy:L.y}),"".concat($,"-basePoint-").concat(C))):D&&F.push(null),F}),qe(E,"renderGraphicChild",function(N,T,O){var L=E.filterFormatItem(N,T,O);if(!L)return null;var C=E.getTooltipEventType(),D=E.state,F=D.isTooltipActive,$=D.tooltipAxis,ee=D.activeTooltipIndex,ne=D.activeLabel,Q=E.props.children,ie=Pn(Q,Xn),Z=L.props,J=Z.points,ae=Z.isRange,z=Z.baseLine,Y=L.item.type.defaultProps!==void 0?de(de({},L.item.type.defaultProps),L.item.props):L.item.props,K=Y.activeDot,le=Y.hide,fe=Y.activeBar,xe=Y.activeShape,he=!!(!le&&F&&ie&&(K||fe||xe)),me={};C!=="axis"&&ie&&ie.props.trigger==="click"?me={onClick:ip(E.handleItemMouseEnter,N.props.onClick)}:C!=="axis"&&(me={onMouseLeave:ip(E.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:ip(E.handleItemMouseEnter,N.props.onMouseEnter)});var ue=B.cloneElement(N,de(de({},L.props),me));function ke(xr){return typeof $.dataKey=="function"?$.dataKey(xr.payload):null}if(he)if(ee>=0){var Ee,W;if($.dataKey&&!$.allowDuplicatedCategory){var pe=typeof $.dataKey=="function"?ke:"payload.".concat($.dataKey.toString());Ee=d_(J,pe,ne),W=ae&&z&&d_(z,pe,ne)}else Ee=J?.[ee],W=ae&&z&&z[ee];if(xe||fe){var ge=N.props.activeIndex!==void 0?N.props.activeIndex:ee;return[B.cloneElement(N,de(de(de({},L.props),me),{},{activeIndex:ge})),null,null]}if(!et(Ee))return[ue].concat($c(E.renderActivePoints({item:L,activePoint:Ee,basePoint:W,childIndex:ee,isRange:ae})))}else{var Ae,Fe=(Ae=E.getItemByXY(E.state.activeCoordinate))!==null&&Ae!==void 0?Ae:{graphicalItem:ue},$t=Fe.graphicalItem,en=$t.item,qr=en===void 0?N:en,zr=$t.childIndex,Jt=de(de(de({},L.props),me),{},{activeIndex:zr});return[B.cloneElement(qr,Jt),null,null]}return ae?[ue,null,null]:[ue,null]}),qe(E,"renderCustomized",function(N,T,O){return B.cloneElement(N,de(de({key:"recharts-customized-".concat(O)},E.props),E.state))}),qe(E,"renderMap",{CartesianGrid:{handler:cp,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:cp},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:cp},YAxis:{handler:cp},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((I=A.id)!==null&&I!==void 0?I:wf("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=q4(E.triggeredAfterMouseMove,(R=A.throttleDelay)!==null&&R!==void 0?R:1e3/60),E.state={},E}return vae(P,b),hae(P,[{key:"componentDidMount",value:function(){var I,R;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(I=this.props.margin.left)!==null&&I!==void 0?I:0,top:(R=this.props.margin.top)!==null&&R!==void 0?R:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var I=this.props,R=I.children,E=I.data,N=I.height,T=I.layout,O=Pn(R,Xn);if(O){var L=O.props.defaultIndex;if(!(typeof L!="number"||L<0||L>this.state.tooltipTicks.length-1)){var C=this.state.tooltipTicks[L]&&this.state.tooltipTicks[L].value,D=P1(this.state,E,L,C),F=this.state.tooltipTicks[L].coordinate,$=(this.state.offset.top+N)/2,ee=T==="horizontal",ne=ee?{x:F,y:$}:{y:F,x:$},Q=this.state.formattedGraphicalItems.find(function(Z){var J=Z.item;return J.type.name==="Scatter"});Q&&(ne=de(de({},ne),Q.props.points[L].tooltipPosition),D=Q.props.points[L].tooltipPayload);var ie={activeTooltipIndex:L,isTooltipActive:!0,activeLabel:C,activePayload:D,activeCoordinate:ne};this.setState(ie),this.renderCursor(O),this.accessibilityManager.setIndex(L)}}}},{key:"getSnapshotBeforeUpdate",value:function(I,R){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==R.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==I.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==I.margin){var E,N;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(I){h_([Pn(I.children,Xn)],[Pn(this.props.children,Xn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var I=Pn(this.props.children,Xn);if(I&&typeof I.props.shared=="boolean"){var R=I.props.shared?"axis":"item";return u.indexOf(R)>=0?R:a}return a}},{key:"getMouseInfo",value:function(I){if(!this.container)return null;var R=this.container,E=R.getBoundingClientRect(),N=rG(E),T={chartX:Math.round(I.pageX-N.left),chartY:Math.round(I.pageY-N.top)},O=E.width/R.offsetWidth||1,L=this.inRange(T.chartX,T.chartY,O);if(!L)return null;var C=this.state,D=C.xAxisMap,F=C.yAxisMap,$=this.getTooltipEventType(),ee=hR(this.state,this.props.data,this.props.layout,L);if($!=="axis"&&D&&F){var ne=Ts(D).scale,Q=Ts(F).scale,ie=ne&&ne.invert?ne.invert(T.chartX):null,Z=Q&&Q.invert?Q.invert(T.chartY):null;return de(de({},T),{},{xValue:ie,yValue:Z},ee)}return ee?de(de({},T),ee):null}},{key:"inRange",value:function(I,R){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,T=I/E,O=R/E;if(N==="horizontal"||N==="vertical"){var L=this.state.offset,C=T>=L.left&&T<=L.left+L.width&&O>=L.top&&O<=L.top+L.height;return C?{x:T,y:O}:null}var D=this.state,F=D.angleAxisMap,$=D.radiusAxisMap;if(F&&$){var ee=Ts(F);return yO({x:T,y:O},ee)}return null}},{key:"parseEventsOfWrapper",value:function(){var I=this.props.children,R=this.getTooltipEventType(),E=Pn(I,Xn),N={};E&&R==="axis"&&(E.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=zp(this.props,this.handleOuterEvent);return de(de({},T),N)}},{key:"addListener",value:function(){Mw.on(Dw,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Mw.removeListener(Dw,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(I,R,E){for(var N=this.state.formattedGraphicalItems,T=0,O=N.length;T<O;T++){var L=N[T];if(L.item===I||L.props.key===I.key||R===Ia(L.item.type)&&E===L.childIndex)return L}return null}},{key:"renderClipPath",value:function(){var I=this.clipPathId,R=this.state.offset,E=R.left,N=R.top,T=R.height,O=R.width;return H.createElement("defs",null,H.createElement("clipPath",{id:I},H.createElement("rect",{x:E,y:N,height:T,width:O})))}},{key:"getXScales",value:function(){var I=this.state.xAxisMap;return I?Object.entries(I).reduce(function(R,E){var N=uR(E,2),T=N[0],O=N[1];return de(de({},R),{},qe({},T,O.scale))},{}):null}},{key:"getYScales",value:function(){var I=this.state.yAxisMap;return I?Object.entries(I).reduce(function(R,E){var N=uR(E,2),T=N[0],O=N[1];return de(de({},R),{},qe({},T,O.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(I){var R;return(R=this.state.xAxisMap)===null||R===void 0||(R=R[I])===null||R===void 0?void 0:R.scale}},{key:"getYScaleByAxisId",value:function(I){var R;return(R=this.state.yAxisMap)===null||R===void 0||(R=R[I])===null||R===void 0?void 0:R.scale}},{key:"getItemByXY",value:function(I){var R=this.state,E=R.formattedGraphicalItems,N=R.activeItem;if(E&&E.length)for(var T=0,O=E.length;T<O;T++){var L=E[T],C=L.props,D=L.item,F=D.type.defaultProps!==void 0?de(de({},D.type.defaultProps),D.props):D.props,$=Ia(D.type);if($==="Bar"){var ee=(C.data||[]).find(function(Z){return xee(I,Z)});if(ee)return{graphicalItem:L,payload:ee}}else if($==="RadialBar"){var ne=(C.data||[]).find(function(Z){return yO(I,Z)});if(ne)return{graphicalItem:L,payload:ne}}else if(Vg(L,N)||Fg(L,N)||Xd(L,N)){var Q=Bte({graphicalItem:L,activeTooltipItem:N,itemData:F.data}),ie=F.activeIndex===void 0?Q:F.activeIndex;return{graphicalItem:de(de({},L),{},{childIndex:ie}),payload:Xd(L,N)?F.data[Q]:L.props.data[Q]}}}return null}},{key:"render",value:function(){var I=this;if(!PN(this))return null;var R=this.props,E=R.children,N=R.className,T=R.width,O=R.height,L=R.style,C=R.compact,D=R.title,F=R.desc,$=dR(R,sae),ee=We($,!1);if(C)return H.createElement(KC,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},H.createElement(m_,Zl({},ee,{width:T,height:O,title:D,desc:F}),this.renderClipPath(),ON(E,this.renderMap)));if(this.props.accessibilityLayer){var ne,Q;ee.tabIndex=(ne=this.props.tabIndex)!==null&&ne!==void 0?ne:0,ee.role=(Q=this.props.role)!==null&&Q!==void 0?Q:"application",ee.onKeyDown=function(Z){I.accessibilityManager.keyboardEvent(Z)},ee.onFocus=function(){I.accessibilityManager.focus()}}var ie=this.parseEventsOfWrapper();return H.createElement(KC,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},H.createElement("div",Zl({className:Je("recharts-wrapper",N),style:de({position:"relative",cursor:"default",width:T,height:O},L)},ie,{ref:function(J){I.container=J}}),H.createElement(m_,Zl({},ee,{width:T,height:O,title:D,desc:F,style:Sae}),this.renderClipPath(),ON(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(B.Component);qe(S,"displayName",r),qe(S,"defaultProps",de({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),qe(S,"getDerivedStateFromProps",function(b,P){var A=b.dataKey,I=b.data,R=b.children,E=b.width,N=b.height,T=b.layout,O=b.stackOffset,L=b.margin,C=P.dataStartIndex,D=P.dataEndIndex;if(P.updateId===void 0){var F=pR(b);return de(de(de({},F),{},{updateId:0},x(de(de({props:b},F),{},{updateId:0}),P)),{},{prevDataKey:A,prevData:I,prevWidth:E,prevHeight:N,prevLayout:T,prevStackOffset:O,prevMargin:L,prevChildren:R})}if(A!==P.prevDataKey||I!==P.prevData||E!==P.prevWidth||N!==P.prevHeight||T!==P.prevLayout||O!==P.prevStackOffset||!ic(L,P.prevMargin)){var $=pR(b),ee={chartX:P.chartX,chartY:P.chartY,isTooltipActive:P.isTooltipActive},ne=de(de({},hR(P,I,T)),{},{updateId:P.updateId+1}),Q=de(de(de({},$),ee),ne);return de(de(de({},Q),x(de({props:b},Q),P)),{},{prevDataKey:A,prevData:I,prevWidth:E,prevHeight:N,prevLayout:T,prevStackOffset:O,prevMargin:L,prevChildren:R})}if(!h_(R,P.prevChildren)){var ie,Z,J,ae,z=Pn(R,Nc),Y=z&&(ie=(Z=z.props)===null||Z===void 0?void 0:Z.startIndex)!==null&&ie!==void 0?ie:C,K=z&&(J=(ae=z.props)===null||ae===void 0?void 0:ae.endIndex)!==null&&J!==void 0?J:D,le=Y!==C||K!==D,fe=!et(I),xe=fe&&!le?P.updateId:P.updateId+1;return de(de({updateId:xe},x(de(de({props:b},P),{},{updateId:xe,dataStartIndex:Y,dataEndIndex:K}),P)),{},{prevChildren:R,dataStartIndex:Y,dataEndIndex:K})}return null}),qe(S,"renderActiveDot",function(b,P,A){var I;return B.isValidElement(b)?I=B.cloneElement(b,P):Ge(b)?I=b(P):I=H.createElement(bk,P),H.createElement(gt,{className:"recharts-active-dot",key:A},I)});var _=B.forwardRef(function(P,A){return H.createElement(S,Zl({},P,{ref:A}))});return _.displayName=S.displayName,_},o6=s6({chartName:"BarChart",GraphicalChild:Zi,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Tf},{axisType:"yAxis",AxisComp:Af}],formatAxisMap:Wre}),Cae=s6({chartName:"PieChart",GraphicalChild:Ha,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:$g},{axisType:"radiusAxis",AxisComp:Dg}],formatAxisMap:RQ,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Rae={"single-member-llc":20,"s-corp":20,"c-corp":21,partnership:20},Mae=({jobs:t,bills:e,weeklyCosts:r,taxPayments:n,openModal:i,handleDelete:a})=>{const[o,u]=B.useState(20),[d,f]=B.useState("single-member-llc"),[p,m]=B.useState("quarterly"),[y,x]=B.useState(!1);B.useEffect(()=>{u(Rae[d])},[d]);const S=B.useMemo(()=>{const I=new Date;let R,E;switch(p){case"weekly":R=new Date(I.setDate(I.getDate()-I.getDay())),E=new Date(I.setDate(I.getDate()-I.getDay()+6));break;case"monthly":R=new Date(I.getFullYear(),I.getMonth(),1),E=new Date(I.getFullYear(),I.getMonth()+1,0);break;case"quarterly":const N=Math.floor(I.getMonth()/3);R=new Date(I.getFullYear(),N*3,1),E=new Date(I.getFullYear(),N*3+3,0);break;case"yearly":R=new Date(I.getFullYear(),0,1),E=new Date(I.getFullYear(),11,31);break;default:R=new Date,E=new Date}return{start:R,end:E}},[p]),_=B.useMemo(()=>{const I=t.filter(F=>{if(!F.date)return!1;const $=new Date(F.date);return $>=S.start&&$<=S.end}),R=e.reduce((F,$)=>F+$.amount,0)+r.reduce((F,$)=>F+$.amount,0)*4.33,E=(S.end-S.start)/(1e3*60*60*24*30.44),N=R*E,T=I.reduce((F,$)=>F+($.revenue||0),0),O=I.reduce((F,$)=>F+($.materialCost||0)+($.laborCost||0),0),L=T-O,C=L-N,D=C>0?C*(o/100):0;return{netProfit:C,estimatedTax:D,grossProfit:L,periodOperatingExpenses:N}},[t,e,r,o,S]),b=B.useMemo(()=>n.filter(I=>{const R=new Date(I.date);return R>=S.start&&R<=S.end}).reduce((I,R)=>I+(R.amount||0),0),[n,S]),P=_.estimatedTax-b,A=[{name:"Tax Liability","Estimated Tax":_.estimatedTax,"Taxes Paid":b}];return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Tax Estimation"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 items-end",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"filingStatus",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Filing Status"}),c.jsxs("select",{id:"filingStatus",value:d,onChange:I=>f(I.target.value),className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",children:[c.jsx("option",{value:"single-member-llc",children:"Single-Member LLC"}),c.jsx("option",{value:"s-corp",children:"S-Corporation"}),c.jsx("option",{value:"c-corp",children:"C-Corporation"}),c.jsx("option",{value:"partnership",children:"Partnership"})]}),(d==="llc"||d==="single-member-llc")&&c.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"LLC tax rates vary. Consult a tax professional."})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"taxRate",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Estimated Tax Rate (%)"}),c.jsx("input",{id:"taxRate",type:"number",value:o,onChange:I=>u(parseFloat(I.target.value)||0),className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Estimation Period"}),c.jsxs("div",{className:"flex items-center gap-1 bg-slate-100 dark:bg-slate-700 rounded-md p-1",children:[c.jsx("button",{onClick:()=>m("weekly"),className:`w-full px-2 py-1 text-xs rounded ${p==="weekly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Weekly"}),c.jsx("button",{onClick:()=>m("monthly"),className:`w-full px-2 py-1 text-xs rounded ${p==="monthly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Monthly"}),c.jsx("button",{onClick:()=>m("quarterly"),className:`w-full px-2 py-1 text-xs rounded ${p==="quarterly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Quarterly"}),c.jsx("button",{onClick:()=>m("yearly"),className:`w-full px-2 py-1 text-xs rounded ${p==="yearly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Yearly"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:[c.jsx(Vi,{title:`Estimated ${p} Net Profit`,value:`$${_.netProfit.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:c.jsx(pn,{}),color:"blue"}),c.jsx(Vi,{title:"Estimated Tax Liability",value:`$${_.estimatedTax.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:c.jsx(pn,{}),color:"orange",subtext:_.netProfit<=0?"No tax on negative profit":""}),c.jsx(Vi,{title:"Overpayment / (Underpayment)",value:`${P<0?"-":""}$${Math.abs(P).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:c.jsx(pn,{}),color:P<0?"green":"red",subtext:P<0?"You have overpaid":"Remaining balance due"})]}),c.jsxs("div",{className:"mt-4",children:[c.jsxs("button",{onClick:()=>x(!y),className:"flex items-center gap-2 text-sm text-slate-500 dark:text-slate-400 hover:underline",children:["Show Calculation Breakdown ",c.jsx(bd,{className:`transition-transform ${y?"rotate-180":""}`,size:16})]}),y&&c.jsxs("div",{className:"mt-2 p-4 bg-slate-100 dark:bg-slate-700/50 rounded-lg text-sm space-y-2 animate-fade-in",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Gross Profit (from Jobs):"})," ",c.jsxs("span",{className:"font-mono",children:["$",_.grossProfit.toFixed(2)]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"- Est. Operating Expenses:"})," ",c.jsxs("span",{className:"font-mono",children:["$",_.periodOperatingExpenses.toFixed(2)]})]}),c.jsx("hr",{className:"border-slate-300 dark:border-slate-600"}),c.jsxs("div",{className:"flex justify-between font-bold",children:[c.jsx("span",{children:"= Estimated Net Profit:"})," ",c.jsxs("span",{className:"font-mono",children:["$",_.netProfit.toFixed(2)]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsxs("span",{children:["x Tax Rate (",o,"%):"]})," ",c.jsxs("span",{className:"font-mono",children:["$",_.estimatedTax.toFixed(2)]})]})]})]}),_.netProfit<=0&&c.jsxs("div",{className:"mt-4 p-3 bg-blue-100 dark:bg-blue-900/50 border border-blue-400 dark:border-blue-700 text-blue-800 dark:text-blue-200 rounded-lg flex items-center gap-3",children:[c.jsx(iq,{size:20}),c.jsx("p",{className:"text-sm",children:"Your estimated tax is $0.00 because your estimated net profit is negative. The tax rate will apply once your profit is positive."})]}),c.jsxs("div",{className:"mt-6",children:[c.jsx("h4",{className:"text-lg font-bold text-slate-800 dark:text-white mb-2",children:"Liability vs. Payments"}),c.jsx(HS,{width:"100%",height:200,children:c.jsxs(o6,{data:A,layout:"vertical",margin:{top:5,right:20,left:20,bottom:5},children:[c.jsx(Pk,{strokeDasharray:"3 3"}),c.jsx(Tf,{type:"number"}),c.jsx(Af,{type:"category",dataKey:"name",hide:!0}),c.jsx(Xn,{formatter:I=>`$${I.toLocaleString()}`}),c.jsx(Cs,{}),c.jsx(Zi,{dataKey:"Estimated Tax",fill:"#f97316"}),c.jsx(Zi,{dataKey:"Taxes Paid",fill:"#16a34a"})]})})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Recorded Tax Payments"}),c.jsxs("button",{onClick:()=>i("taxPayment"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(mn,{size:16})," Record Payment"]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-3",children:"Date"}),c.jsx("th",{className:"p-3",children:"Notes"}),c.jsx("th",{className:"p-3 text-right",children:"Amount"}),c.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),c.jsx("tbody",{className:"text-sm",children:n.map(I=>c.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50",children:[c.jsx("td",{className:"p-3 font-medium",children:I.date}),c.jsx("td",{className:"p-3",children:I.notes}),c.jsxs("td",{className:"p-3 text-right font-mono",children:["$",(I.amount||0).toFixed(2)]}),c.jsxs("td",{className:"p-3 text-center",children:[c.jsx("button",{onClick:()=>i("taxPayment",I),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:c.jsx(Zr,{size:16})}),c.jsx("button",{onClick:()=>a("taxPayment",I.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:c.jsx(Xt,{size:16})})]})]},I.id))})]})})]})]})},Dae=({invoices:t,openModal:e,handleDelete:r,handleBulkDelete:n,searchTerm:i,setSearchTerm:a,selectedIds:o,setSelectedIds:u,handleImportCSV:d,handleExportCSV:f,handleToggleInvoicePaid:p})=>{const[m,y]=B.useState("All"),[x,S]=B.useState("All"),[_,b]=B.useState(!1),P=[{key:"status",header:"Status",render:C=>c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>p(C.id,C.status),children:C.status==="Paid"?c.jsx(bi,{className:"text-green-500",size:20}):c.jsx($D,{className:"text-slate-400 dark:text-slate-600",size:20})}),c.jsx(A,{status:C.invoiceStatus||C.status})]})},{key:"invoiceNumber",header:"Invoice #",render:C=>c.jsxs("div",{className:C.status==="Paid"?"opacity-60":"",children:[c.jsx("div",{className:"font-medium text-slate-900 dark:text-white",children:C.invoiceNumber||`INV-${C.id}`}),c.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Job: ",C.jobNumber||"N/A"]})]})},{key:"customer",header:"Customer",render:C=>c.jsxs("div",{className:C.status==="Paid"?"opacity-60":"",children:[c.jsx("div",{className:`font-medium ${C.status==="Paid"?"line-through":""}`,children:C.customer}),c.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:C.billTo&&C.billTo!==C.customer?`Bill to: ${C.billTo}`:""})]})},{key:"jobType",header:"Job Type",render:C=>c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx(I,{jobType:C.jobType}),c.jsx(R,{priority:C.priority})]})},{key:"grandTotal",header:"Amount",className:"text-right",render:C=>c.jsxs("div",{className:`text-right ${C.status==="Paid"?"opacity-60":""}`,children:[c.jsxs("div",{className:`font-mono font-bold ${C.status==="Paid"?"line-through text-green-600":"text-slate-900 dark:text-white"}`,children:["$",parseFloat(C.grandTotal?.toString().replace(/[$,]/g,"")||C.grandTotal||0).toFixed(2)]}),c.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:C.netTerms||"Net 30"})]})},{key:"dueDate",header:"Due Date",className:"text-center",render:C=>c.jsxs("div",{className:`text-center ${C.status==="Paid"?"opacity-60":""}`,children:[c.jsx("div",{className:C.status==="Paid"?"line-through":"",children:C.dueDate||"N/A"}),C.daysElapsed>0&&C.status!=="Paid"&&c.jsxs("div",{className:"text-xs text-orange-600 dark:text-orange-400",children:[C.daysElapsed," days elapsed"]}),E(C)&&c.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 font-medium",children:"OVERDUE"})]})},{key:"description",header:"Description",render:C=>c.jsxs("div",{className:`max-w-xs ${C.status==="Paid"?"opacity-60":""}`,children:[c.jsx("div",{className:"text-sm truncate",title:C.description,children:C.description||"No description"}),c.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:C.serviceAddress&&c.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[c.jsx(lg,{size:10}),c.jsx("span",{className:"truncate",children:C.serviceAddress})]})})]})}],A=({status:C})=>{const D=F=>{switch(F){case"Paid":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900 dark:text-green-200";case"Sent":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900 dark:text-blue-200";case"Open":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900 dark:text-orange-200";case"Overdue":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-700 dark:text-gray-200"}};return c.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${D(C)}`,children:C||"Unknown"})},I=({jobType:C})=>{const D=F=>{switch(F){case"Service Call":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"Planned Maintenance":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"Installation":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200";case"Emergency":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}};return c.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded text-xs font-medium ${D(C)}`,children:C||"N/A"})},R=({priority:C})=>{if(!C)return null;const D=F=>{switch(F){case"ER":return"bg-red-100 text-red-800 border-red-300 dark:bg-red-900 dark:text-red-200";case"URG":return"bg-orange-100 text-orange-800 border-orange-300 dark:bg-orange-900 dark:text-orange-200";case"STD":return"bg-gray-100 text-gray-800 border-gray-300 dark:bg-gray-700 dark:text-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-300 dark:bg-gray-700 dark:text-gray-200"}};return c.jsx("span",{className:`inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium border ${D(C)}`,children:C})},E=C=>C.status==="Paid"||!C.dueDate?!1:new Date(C.dueDate)<new Date,N=B.useMemo(()=>{const C=t.reduce((Q,ie)=>{const Z=parseFloat(ie.grandTotal?.toString().replace(/[$,]/g,"")||0);return Q+Z},0),D=t.filter(Q=>Q.status==="Paid"||Q.invoiceStatus==="Paid"),F=D.reduce((Q,ie)=>{const Z=parseFloat(ie.grandTotal?.toString().replace(/[$,]/g,"")||0);return Q+Z},0),ee=t.filter(Q=>Q.status!=="Paid"&&Q.invoiceStatus!=="Paid").reduce((Q,ie)=>{const Z=parseFloat(ie.grandTotal?.toString().replace(/[$,]/g,"")||0);return Q+Z},0),ne=t.filter(Q=>E(Q));return{totalInvoices:t.length,totalAmount:C,paidAmount:F,outstandingAmount:ee,overdueCount:ne.length,paidCount:D.length}},[t]),T=B.useMemo(()=>t.filter(C=>{const D=!i||String(C.invoiceNumber||"").toLowerCase().includes(i.toLowerCase())||String(C.customer||"").toLowerCase().includes(i.toLowerCase())||String(C.vehicleId||"").toLowerCase().includes(i.toLowerCase()),F=m==="all"||C.status===m,$=x==="all"||C.priority===x;return D&&F&&$}),[t,i,m,x]),O=C=>{C.target.checked?u(T.map(D=>D.id)):u([])},L=()=>{const C=["Invoice Number","Job Number","Customer","Bill To","Grand Total","Total Cost","Net Terms","Transaction Date","Due Date","Payment Date","Completed On","Invoice Status","Terms","Priority","Description","Service Address","Location Type","Job Type","Line Items","Payments","Days Elapsed","Company","Division"],D=T.map(Q=>[Q.invoiceNumber||`INV-${Q.id}`,Q.jobNumber||"",Q.customer||"",Q.billTo||"",Q.grandTotal||"",Q.totalCost||"",Q.netTerms||"",Q.transactionDate||"",Q.dueDate||"",Q.paymentDate||"",Q.completedOn||"",Q.invoiceStatus||Q.status||"",Q.terms||"",Q.priority||"",Q.description||"",Q.serviceAddress||"",Q.locationType||"",Q.jobType||"",Q.lineItems||"",Q.payments||"",Q.daysElapsed||0,Q.company||"Mechanical Temp",Q.division||"HVAC & Refrigeration"]),F=[C,...D].map(Q=>Q.map(ie=>`"${ie}"`).join(",")).join(`
`),$=new Blob([F],{type:"text/csv"}),ee=URL.createObjectURL($),ne=document.createElement("a");ne.href=ee,ne.download=`appsheet_invoices_${new Date().toISOString().split("T")[0]}.csv`,ne.click(),URL.revokeObjectURL(ee)};return c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border-b border-blue-200 dark:border-blue-800 p-4 rounded-t-xl",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(wA,{className:"text-blue-600 dark:text-blue-400",size:20}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-blue-900 dark:text-blue-100",children:"AppSheet Integration"}),c.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[t.length," invoices  Last sync: 2 hours ago"]})]})]}),c.jsxs("button",{onClick:()=>b(!_),className:"flex items-center gap-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[c.jsx(wA,{size:16}),"Sync Now"]})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 border-b border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[c.jsx(Cn,{className:"text-slate-500",size:16}),c.jsx("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Total"})]}),c.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:N.totalInvoices}),c.jsxs("div",{className:"text-sm text-slate-500",children:["$",N.totalAmount.toLocaleString()]})]}),c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[c.jsx(bi,{className:"text-green-500",size:16}),c.jsx("span",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:"Paid"})]}),c.jsx("div",{className:"text-2xl font-bold text-green-600",children:N.paidCount}),c.jsxs("div",{className:"text-sm text-green-600",children:["$",N.paidAmount.toLocaleString()]})]}),c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[c.jsx(og,{className:"text-orange-500",size:16}),c.jsx("span",{className:"text-sm font-medium text-orange-600 dark:text-orange-400",children:"Outstanding"})]}),c.jsx("div",{className:"text-2xl font-bold text-orange-600",children:t.length-N.paidCount}),c.jsxs("div",{className:"text-sm text-orange-600",children:["$",N.outstandingAmount.toLocaleString()]})]}),c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[c.jsx(yf,{className:"text-red-500",size:16}),c.jsx("span",{className:"text-sm font-medium text-red-600 dark:text-red-400",children:"Overdue"})]}),c.jsx("div",{className:"text-2xl font-bold text-red-600",children:N.overdueCount}),c.jsx("div",{className:"text-sm text-red-600",children:"Needs attention"})]})]}),c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center gap-4 mb-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Invoice Management"}),c.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Showing ",T.length," of ",t.length," invoices"]})]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx("input",{type:"text",placeholder:"Search invoices...",value:i,onChange:C=>a(C.target.value),className:"w-full md:w-auto bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white"}),c.jsxs("select",{value:m,onChange:C=>y(C.target.value),className:"bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white",children:[c.jsx("option",{value:"All",children:"All Status"}),c.jsx("option",{value:"Paid",children:"Paid"}),c.jsx("option",{value:"Sent",children:"Sent"}),c.jsx("option",{value:"Open",children:"Open"}),c.jsx("option",{value:"Overdue",children:"Overdue"})]}),c.jsxs("select",{value:x,onChange:C=>S(C.target.value),className:"bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white",children:[c.jsx("option",{value:"All",children:"All Priority"}),c.jsx("option",{value:"ER",children:"Emergency"}),c.jsx("option",{value:"URG",children:"Urgent"}),c.jsx("option",{value:"STD",children:"Standard"})]}),o.length>0&&c.jsxs("button",{onClick:()=>n("invoice",o),className:"flex items-center gap-2 text-sm bg-red-600 hover:bg-red-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(Xt,{size:16})," Delete (",o.length,")"]}),c.jsx("input",{type:"file",id:"csv-importer-invoice",className:"hidden",accept:".csv",onChange:C=>d(C.target.files[0],"invoice")}),c.jsxs("label",{htmlFor:"csv-importer-invoice",className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[c.jsx(qs,{size:16})," Import CSV"]}),c.jsxs("button",{onClick:L,className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(Cn,{size:16})," Export AppSheet CSV"]}),c.jsxs("button",{onClick:()=>e("invoice"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(mn,{size:16})," Add New"]})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-3",children:c.jsx("input",{type:"checkbox",onChange:O,checked:o.length===T.length&&T.length>0,className:"rounded border-slate-300 dark:border-slate-600"})}),P.map(C=>c.jsx("th",{className:`p-3 ${C.className||""}`,children:C.header},C.key)),c.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),c.jsx("tbody",{className:"text-sm",children:T.map(C=>c.jsxs("tr",{className:`border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors ${C.status==="Paid"?"text-slate-400 dark:text-slate-500":"text-slate-700 dark:text-slate-200"}`,children:[c.jsx("td",{className:"p-3",children:c.jsx("input",{type:"checkbox",checked:o.includes(C.id),onChange:()=>{u(D=>D.includes(C.id)?D.filter(F=>F!==C.id):[...D,C.id])},className:"rounded border-slate-300 dark:border-slate-600"})}),P.map(D=>c.jsx("td",{className:`p-3 ${D.className||""}`,children:D.render(C)},D.key)),c.jsx("td",{className:"p-3 text-center",children:c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c.jsx("button",{onClick:()=>{},className:"text-slate-500 dark:text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",title:"View Details",children:c.jsx(rq,{size:16})}),c.jsx("button",{onClick:()=>e("invoice",C),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 transition-colors",title:"Edit Invoice",children:c.jsx(Zr,{size:16})}),c.jsx("button",{onClick:()=>r("invoice",C.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500 transition-colors",title:"Delete Invoice",children:c.jsx(Xt,{size:16})})]})})]},C.id))})]})}),T.length===0&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Cn,{className:"mx-auto text-slate-400 mb-4",size:48}),c.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-2",children:"No invoices found"}),c.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:i||m!=="All"||x!=="All"?"Try adjusting your search or filters":"Get started by importing your AppSheet invoice data"})]})]})]})},Lae=({clients:t,openModal:e,handleDelete:r,handleBulkDelete:n,searchTerm:i,setSearchTerm:a,selectedIds:o,setSelectedIds:u,handleImportCSV:d,handleExportCSV:f,handleBulkUpdate:p})=>{const[m,y]=B.useState("name"),[x,S]=B.useState("asc"),[_,b]=B.useState("all"),[P,A]=B.useState("all"),[I,R]=B.useState("hierarchy"),[E,N]=B.useState(new Set),[T,O]=B.useState(!1),[L,C]=B.useState(!1),[D,F]=B.useState(""),[$,ee]=B.useState(null),ne=B.useMemo(()=>t.filter(W=>!W.parentId||W.parentId===""),[t]),Q=B.useMemo(()=>t.filter(W=>!W.parentId||W.parentId===""),[t]),ie=B.useMemo(()=>{let W=t.filter(pe=>{const ge=(pe.name||"").toLowerCase().includes(i.toLowerCase())||(pe.address||"").toLowerCase().includes(i.toLowerCase())||(pe.email||"").toLowerCase().includes(i.toLowerCase())||(pe.phone||"").includes(i),Ae=_==="all"||_==="parent"&&(!pe.parentId||pe.parentId==="")||_==="location"&&pe.parentId&&pe.parentId!==""||_==="unassigned"&&(!pe.parentId||pe.parentId==="")||_==="active"&&pe.status==="Active"||_==="inactive"&&pe.status==="Inactive",Fe=P==="all"||pe.parentId===P||pe.id===P;return ge&&Ae&&Fe});return W.sort((pe,ge)=>{let Ae=pe[m]||"",Fe=ge[m]||"";return m==="name"&&(Ae=Ae.toLowerCase(),Fe=Fe.toLowerCase()),x==="asc"?Ae<Fe?-1:Ae>Fe?1:0:Ae>Fe?-1:Ae<Fe?1:0}),W},[t,i,m,x,_,P]),Z=B.useMemo(()=>ie.filter(pe=>!pe.parentId||pe.parentId==="").map(pe=>({...pe,children:ie.filter(ge=>ge.parentId===pe.id)})),[ie]),J=W=>{m===W?S(x==="asc"?"desc":"asc"):(y(W),S("asc"))},ae=W=>{const pe=new Set(E);pe.has(W)?pe.delete(W):pe.add(W),N(pe)},z=W=>{W.target.checked?u(ie.map(pe=>pe.id)):u([])},Y=()=>{if(o.length>0&&D){const W=o.map(pe=>({id:pe,parentId:D}));p&&p("client",W),u([]),C(!1),F("")}},K=()=>{if(o.length>0){const W=o.map(pe=>({id:pe,parentId:""}));p&&p("client",W),u([])}},le=(W,pe)=>{ee(pe),W.dataTransfer.effectAllowed="move"},fe=W=>{W.preventDefault(),W.dataTransfer.dropEffect="move"},xe=(W,pe)=>{if(W.preventDefault(),$&&$.id!==pe.id){const ge={id:$.id,parentId:pe.id};p&&p("client",[ge])}ee(null)},he=W=>{const pe=t.filter(ge=>ge.parentId===W.id).map(ge=>ge.id);u(ge=>{const Ae=new Set([...ge,W.id,...pe]);return Array.from(Ae)})},me=({client:W,isChild:pe=!1,parent:ge=null})=>c.jsx("div",{className:`bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-4 hover:shadow-md transition-all duration-200 ${pe?"ml-6 border-l-4 border-l-blue-400 bg-blue-50/30 dark:bg-blue-900/10":"border-l-4 border-l-purple-400"} ${o.includes(W.id)?"ring-2 ring-blue-500 bg-blue-50 dark:bg-blue-900/20":""}`,draggable:!pe,onDragStart:Ae=>le(Ae,W),onDragOver:fe,onDrop:Ae=>!pe&&xe(Ae,W),children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("input",{type:"checkbox",checked:o.includes(W.id),onChange:()=>{u(Ae=>Ae.includes(W.id)?Ae.filter(Fe=>Fe!==W.id):[...Ae,W.id])},className:"rounded"}),pe?c.jsx(u_,{className:"h-4 w-4 text-blue-500"}):c.jsx(vA,{className:"h-5 w-5 text-purple-600"}),c.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white",children:W.name}),W.status&&c.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${W.status==="Active"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:W.status}),pe&&ge&&c.jsxs("span",{className:"text-xs text-blue-600 dark:text-blue-400 bg-blue-100 dark:bg-blue-900/30 px-2 py-1 rounded",children:[" ",ge.name]})]}),c.jsxs("div",{className:"space-y-1 text-sm text-slate-600 dark:text-slate-400",children:[W.address&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(lg,{className:"h-4 w-4"}),c.jsx("span",{children:W.address})]}),W.phone&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Bp,{className:"h-4 w-4"}),c.jsx("span",{children:W.phone})]}),W.email&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Up,{className:"h-4 w-4"}),c.jsx("span",{children:W.email})]})]})]}),c.jsxs("div",{className:"flex gap-1 ml-4",children:[!pe&&c.jsx("button",{onClick:()=>he(W),className:"p-1 text-slate-400 hover:text-purple-600 hover:bg-purple-50 dark:hover:bg-purple-900/30 rounded",title:"Select Parent & All Locations",children:c.jsx(bp,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>e("client",W),className:"p-1 text-slate-400 hover:text-cyan-600 hover:bg-cyan-50 dark:hover:bg-cyan-900/30 rounded",title:"Edit Client",children:c.jsx(Zr,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>r("client",W.id),className:"p-1 text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 rounded",title:"Delete Client",children:c.jsx(Xt,{className:"h-4 w-4"})})]})]})}),ue=()=>c.jsxs("div",{className:"space-y-6",children:[Q.length>0&&c.jsxs("div",{className:"border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h4",{className:"font-semibold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[c.jsx(bp,{className:"h-5 w-5"}),"Unassigned Clients (",Q.filter(W=>ie.includes(W)).length,")"]}),c.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Drag clients to parent companies below"})]}),c.jsx("div",{className:"space-y-2",children:Q.filter(W=>ie.includes(W)).map(W=>c.jsx(me,{client:W},W.id))})]}),Z.filter(W=>W.children.length>0).map(W=>c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>ae(W.id),className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-700 rounded",children:E.has(W.id)?c.jsx(bd,{className:"h-4 w-4"}):c.jsx(tq,{className:"h-4 w-4"})}),c.jsx("div",{className:"flex-1",children:c.jsx(me,{client:W})}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:"text-sm text-slate-500 bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded-full",children:[W.children.length," locations"]}),c.jsx("button",{onClick:()=>he(W),className:"text-xs bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400 px-2 py-1 rounded hover:bg-purple-200 dark:hover:bg-purple-900/50",title:"Select All",children:"Select All"})]})]}),E.has(W.id)&&c.jsx("div",{className:"space-y-2 border-l-2 border-purple-200 dark:border-purple-700 ml-4 pl-4",children:W.children.map(pe=>c.jsx(me,{client:pe,isChild:!0,parent:W},pe.id))})]},W.id))]}),ke=()=>c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-3",children:c.jsx("input",{type:"checkbox",onChange:z})}),c.jsx("th",{className:"p-3",children:c.jsxs("button",{onClick:()=>J("name"),className:"flex items-center gap-1 hover:text-slate-700 dark:hover:text-slate-200",children:["Name",m==="name"&&(x==="asc"?c.jsx(No,{className:"h-3 w-3"}):c.jsx(Ao,{className:"h-3 w-3"}))]})}),c.jsx("th",{className:"p-3",children:"Type"}),c.jsx("th",{className:"p-3",children:c.jsxs("button",{onClick:()=>J("address"),className:"flex items-center gap-1 hover:text-slate-700 dark:hover:text-slate-200",children:["Address",m==="address"&&(x==="asc"?c.jsx(No,{className:"h-3 w-3"}):c.jsx(Ao,{className:"h-3 w-3"}))]})}),c.jsx("th",{className:"p-3",children:"Contact"}),c.jsx("th",{className:"p-3",children:"Parent Company"}),c.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),c.jsx("tbody",{className:"text-sm",children:ie.map(W=>{const pe=ne.find(Ae=>Ae.id===W.parentId),ge=o.includes(W.id);return c.jsxs("tr",{className:`border-b border-slate-200 dark:border-slate-700/50 text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700/50 ${ge?"bg-blue-50 dark:bg-blue-900/20":""}`,children:[c.jsx("td",{className:"p-3",children:c.jsx("input",{type:"checkbox",checked:ge,onChange:()=>{u(Ae=>Ae.includes(W.id)?Ae.filter(Fe=>Fe!==W.id):[...Ae,W.id])}})}),c.jsx("td",{className:"p-3",children:c.jsxs("div",{className:"flex items-center gap-2",children:[W.parentId?c.jsx(u_,{className:"h-4 w-4 text-blue-500"}):c.jsx(vA,{className:"h-4 w-4 text-purple-600"}),c.jsx("span",{className:"font-medium",children:W.name})]})}),c.jsx("td",{className:"p-3",children:c.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${W.parentId?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400"}`,children:W.parentId?"Location":"Parent"})}),c.jsx("td",{className:"p-3",children:c.jsx("span",{children:W.address})}),c.jsx("td",{className:"p-3",children:c.jsxs("div",{className:"space-y-1",children:[W.phone&&c.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[c.jsx(Bp,{className:"h-3 w-3"}),c.jsx("span",{children:W.phone})]}),W.email&&c.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[c.jsx(Up,{className:"h-3 w-3"}),c.jsx("span",{children:W.email})]})]})}),c.jsx("td",{className:"p-3",children:pe?c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(J8,{className:"h-3 w-3 text-slate-400"}),c.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:pe.name})]}):c.jsx("span",{className:"text-xs text-slate-400",children:""})}),c.jsxs("td",{className:"p-3 text-center",children:[c.jsx("button",{onClick:()=>e("client",W),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:c.jsx(Zr,{size:16})}),c.jsx("button",{onClick:()=>r("client",W.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:c.jsx(Xt,{size:16})})]})]},W.id)})})]})}),Ee=()=>c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ie.map(W=>{const pe=ne.find(ge=>ge.id===W.parentId);return c.jsx(me,{client:W,isChild:!!W.parentId,parent:pe},W.id)})});return c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center mb-6 gap-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Client Management"}),c.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:[ie.length," of ",t.length," clients",o.length>0&&`  ${o.length} selected`]})]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.length>0&&c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:()=>C(!0),className:"flex items-center gap-2 text-sm bg-purple-600 hover:bg-purple-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(aq,{size:16})," Assign Parent (",o.length,")"]}),c.jsxs("button",{onClick:K,className:"flex items-center gap-2 text-sm bg-orange-600 hover:bg-orange-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(hq,{size:16})," Remove Parent"]}),c.jsxs("button",{onClick:()=>n("client",o),className:"flex items-center gap-2 text-sm bg-red-600 hover:bg-red-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(Xt,{size:16})," Delete (",o.length,")"]})]}),c.jsx("input",{type:"file",id:"csv-importer-client",className:"hidden",accept:".csv",onChange:W=>d(W.target.files[0],"client")}),c.jsxs("label",{htmlFor:"csv-importer-client",className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[c.jsx(qs,{size:16})," Import CSV"]}),c.jsxs("button",{onClick:()=>f(t,"clients"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(Cn,{size:16})," Export CSV"]}),c.jsxs("button",{onClick:()=>e("client"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(mn,{size:16})," Add New"]})]})]}),L&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-6 w-full max-w-md",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h4",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Assign Parent Company"}),c.jsx("button",{onClick:()=>C(!1),className:"text-slate-400 hover:text-slate-600",children:c.jsx(Wc,{className:"h-5 w-5"})})]}),c.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4",children:["Assign ",o.length," selected clients to a parent company:"]}),c.jsxs("select",{value:D,onChange:W=>F(W.target.value),className:"w-full px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-800 dark:text-white mb-4",children:[c.jsx("option",{value:"",children:"Select Parent Company"}),ne.map(W=>c.jsx("option",{value:W.id,children:W.name},W.id))]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:()=>C(!1),className:"flex-1 px-4 py-2 text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200",children:"Cancel"}),c.jsx("button",{onClick:Y,disabled:!D,className:"flex-1 px-4 py-2 bg-purple-600 hover:bg-purple-500 text-white rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Assign"})]})]})}),c.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 mb-6",children:[c.jsxs("div",{className:"flex-1 relative",children:[c.jsx(La,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),c.jsx("input",{type:"text",placeholder:"Search clients by name, address, phone, or email...",value:i,onChange:W=>a(W.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-800 dark:text-white"})]}),c.jsxs("button",{onClick:()=>O(!T),className:"flex items-center gap-2 px-4 py-2 bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600",children:[c.jsx(zc,{className:"h-4 w-4"}),"Filters",c.jsx(bd,{className:`h-4 w-4 transition-transform ${T?"rotate-180":""}`})]}),c.jsxs("div",{className:"flex rounded-lg border border-slate-300 dark:border-slate-600 overflow-hidden",children:[c.jsx("button",{onClick:()=>R("hierarchy"),className:`px-3 py-2 text-sm ${I==="hierarchy"?"bg-blue-500 text-white":"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600"}`,title:"Hierarchy View",children:c.jsx(fq,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>R("list"),className:`px-3 py-2 text-sm ${I==="list"?"bg-blue-500 text-white":"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600"}`,title:"Table View",children:c.jsx(sq,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>R("cards"),className:`px-3 py-2 text-sm ${I==="cards"?"bg-blue-500 text-white":"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600"}`,title:"Card View",children:c.jsx(nq,{className:"h-4 w-4"})})]})]}),T&&c.jsx("div",{className:"bg-slate-50 dark:bg-slate-700/50 rounded-lg p-4 mb-6 space-y-4",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Filter by Type"}),c.jsxs("select",{value:_,onChange:W=>b(W.target.value),className:"w-full px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-800 dark:text-white",children:[c.jsx("option",{value:"all",children:"All Clients"}),c.jsx("option",{value:"parent",children:"Parent Companies Only"}),c.jsx("option",{value:"location",children:"Store Locations Only"}),c.jsx("option",{value:"unassigned",children:"Unassigned Clients"}),c.jsx("option",{value:"active",children:"Active Only"}),c.jsx("option",{value:"inactive",children:"Inactive Only"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Filter by Parent Company"}),c.jsxs("select",{value:P,onChange:W=>A(W.target.value),className:"w-full px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-800 dark:text-white",children:[c.jsx("option",{value:"all",children:"All Companies"}),ne.map(W=>c.jsx("option",{value:W.id,children:W.name},W.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Sort by"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("select",{value:m,onChange:W=>y(W.target.value),className:"flex-1 px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-800 dark:text-white",children:[c.jsx("option",{value:"name",children:"Name"}),c.jsx("option",{value:"address",children:"Address"}),c.jsx("option",{value:"phone",children:"Phone"}),c.jsx("option",{value:"email",children:"Email"})]}),c.jsx("button",{onClick:()=>S(x==="asc"?"desc":"asc"),className:"px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600",children:x==="asc"?c.jsx(No,{className:"h-4 w-4"}):c.jsx(Ao,{className:"h-4 w-4"})})]})]})]})}),c.jsx("div",{className:"min-h-[400px]",children:ie.length===0?c.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-slate-500 dark:text-slate-400",children:[c.jsx(bp,{className:"h-12 w-12 mb-4"}),c.jsx("h3",{className:"text-lg font-medium mb-2",children:"No clients found"}),c.jsx("p",{className:"text-sm text-center",children:i||_!=="all"||P!=="all"?"Try adjusting your search or filters":"Get started by adding your first client"})]}):c.jsxs(c.Fragment,{children:[I==="hierarchy"&&c.jsx(ue,{}),I==="list"&&c.jsx(ke,{}),I==="cards"&&c.jsx(Ee,{})]})})]})},$ae=({vehicles:t=[],maintenanceLogs:e=[],openModal:r,handleDelete:n,searchTerm:i="",setSearchTerm:a,jobs:o=[]})=>{const[u,d]=B.useState("all"),[f,p]=B.useState("grid"),[m,y]=B.useState("name"),[x,S]=B.useState("asc"),[_,b]=B.useState([]),[P,A]=B.useState(!1),[I,R]=B.useState(null),[E,N]=B.useState(!1),[T,O]=B.useState("vehicles"),L=[{value:"oil_change",label:"Oil Change",interval:3e3,category:"Engine",cost:50},{value:"tire_rotation",label:"Tire Rotation",interval:6e3,category:"Tires",cost:25},{value:"brake_service",label:"Brake Service",interval:12e3,category:"Brakes",cost:300},{value:"transmission",label:"Transmission Service",interval:3e4,category:"Transmission",cost:150},{value:"coolant_flush",label:"Coolant Flush",interval:24e3,category:"Cooling",cost:100},{value:"air_filter",label:"Air Filter",interval:12e3,category:"Engine",cost:30},{value:"spark_plugs",label:"Spark Plugs",interval:3e4,category:"Engine",cost:120},{value:"belts_hoses",label:"Belts & Hoses",interval:24e3,category:"Engine",cost:200},{value:"battery",label:"Battery Service",interval:36e3,category:"Electrical",cost:150},{value:"inspection",label:"Annual Inspection",interval:12e3,category:"Legal",cost:50},{value:"ac_service",label:"A/C Service",interval:12e3,category:"HVAC",cost:180},{value:"general_repair",label:"General Repair",interval:0,category:"Repair",cost:200},{value:"preventive",label:"Preventive Maintenance",interval:6e3,category:"Maintenance",cost:100}];B.useEffect(()=>{console.log("Vehicles updated:",t.length),b([...t])},[t]);const C=({onImport:K})=>{const le=B.useRef(null),fe=xe=>{const he=xe.target.files[0];he&&(K(he),xe.target.value="")};return c.jsxs("div",{className:"inline-block",children:[c.jsx("input",{ref:le,type:"file",accept:".csv",onChange:fe,style:{display:"none"}}),c.jsxs("button",{onClick:()=>le.current?.click(),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-lg transition-colors",children:[c.jsx(qs,{size:16}),"Import Vehicles"]})]})},D=K=>{if(!K){alert("Please select a file.");return}const le=new FileReader;le.onload=fe=>{try{const he=fe.target.result.split(`
`).filter(Ee=>Ee.trim());if(he.length<2){alert("CSV file must have at least a header row and one data row.");return}const me=Ee=>{const W=[];let pe="",ge=!1;for(let Ae=0;Ae<Ee.length;Ae++){const Fe=Ee[Ae];Fe==='"'?ge=!ge:Fe===","&&!ge?(W.push(pe.trim()),pe=""):pe+=Fe}return W.push(pe.trim()),W},ue=me(he[0]).map(Ee=>Ee.replace(/"/g,"").trim().toLowerCase()),ke=[];for(let Ee=1;Ee<he.length;Ee++){const W=me(he[Ee]),pe={};ue.forEach((ge,Ae)=>{const Fe=W[Ae]?W[Ae].replace(/"/g,"").trim():"";ge.includes("name")||ge.includes("vehicle")?pe.name=Fe:ge.includes("make")?pe.make=Fe.toUpperCase():ge.includes("model")?pe.model=Fe:ge.includes("year")?pe.year=Fe:ge.includes("license")||ge.includes("plate")?pe.licensePlate=Fe:ge.includes("vin")?pe.vin=Fe:ge.includes("mileage")||ge.includes("miles")?pe.currentMileage=parseInt(Fe)||0:ge.includes("status")?pe.status=Fe.toLowerCase()||"active":ge.includes("notes")&&(pe.notes=Fe)}),(pe.name||pe.make&&pe.model)&&(pe.name=pe.name||`${pe.make} ${pe.model}`,pe.status=pe.status||"active",ke.push(pe))}if(ke.length===0){alert("No valid vehicle records found in the CSV file.");return}ke.forEach(Ee=>{r("vehicle",Ee)}),alert(`Found ${ke.length} vehicles to import. Please review and save each one.`)}catch(xe){console.error("Error parsing CSV:",xe),alert("Error parsing CSV file. Please check the file format.")}},le.readAsText(K)},F=()=>{if(_.length===0){alert("No vehicles to export.");return}const K=_.map(ue=>({"Vehicle Name":ue.name||"",Make:ue.make||"",Model:ue.model||"",Year:ue.year||"","License Plate":ue.licensePlate||"",VIN:ue.vin||"","Current Mileage":ue.currentMileage||0,Status:ue.status||"active",Notes:ue.notes||"","Date Added":ue.createdAt?new Date(ue.createdAt.seconds*1e3).toLocaleDateString():""})),le=Object.keys(K[0]),fe=[le.join(","),...K.map(ue=>le.map(ke=>{const Ee=ue[ke];return typeof Ee=="string"&&(Ee.includes(",")||Ee.includes('"')||Ee.includes(`
`))?`"${Ee.replace(/"/g,'""')}"`:Ee}).join(","))].join(`
`),xe=new Blob([fe],{type:"text/csv;charset=utf-8;"}),he=URL.createObjectURL(xe),me=document.createElement("a");me.href=he,me.download=`vehicle-fleet-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(me),me.click(),document.body.removeChild(me),URL.revokeObjectURL(he),console.log(`Exported ${_.length} vehicles to CSV`)},$=()=>{const K=[{"Vehicle Name":"Service Truck 1",Make:"FORD",Model:"F-150",Year:"2020","License Plate":"ABC123",VIN:"1FTFW1ET0LKD12345","Current Mileage":"75000",Status:"active",Notes:"Primary service vehicle"}],le=Object.keys(K[0]),fe=[le.join(","),...K.map(ue=>le.map(ke=>ue[ke]).join(","))].join(`
`),xe=new Blob([fe],{type:"text/csv;charset=utf-8;"}),he=URL.createObjectURL(xe),me=document.createElement("a");me.href=he,me.download="vehicle-import-template.csv",document.body.appendChild(me),me.click(),document.body.removeChild(me),URL.revokeObjectURL(he)},ee=async(K,le)=>{if(window.confirm('Delete "'+le+'"?')){console.log("Starting delete for vehicle:",K,le),A(!0);try{const fe=_.filter(xe=>xe.id!==K);b(fe),await n("vehicle",K),console.log("Vehicle deleted successfully")}catch(fe){console.error("Delete failed, reverting UI:",fe),b([...t]),alert("Failed to delete vehicle: "+fe.message)}finally{A(!1)}}},ne=()=>{let K=0;return _.forEach(le=>{L.forEach(fe=>{if(fe.interval>0){const xe=e.filter(ke=>ke.vehicleId===le.id&&ke.serviceType===fe.value).sort((ke,Ee)=>new Date(Ee.date)-new Date(ke.date))[0],he=le.currentMileage||0,me=xe&&xe.mileage||0;he-me>=fe.interval&&K++}})}),K},Q=B.useMemo(()=>{const K=_.filter(W=>!W.status||W.status==="active"),le=_.reduce((W,pe)=>W+(pe.currentMileage||0),0),fe=_.length>0?le/_.length:0,xe=new Date().getFullYear(),he=_.reduce((W,pe)=>W+(xe-parseInt(pe.year||xe)),0),me=_.length>0?he/_.length:0,ue=_.filter(W=>(W.currentMileage||0)>1e5).length,ke=e.filter(W=>W.date&&new Date(W.date).getFullYear()===xe).reduce((W,pe)=>W+(pe.cost||0),0),Ee=ne();return{totalVehicles:_.length,activeVehicles:K.length,avgMileage:Math.round(fe),avgAge:me.toFixed(1),highMileageVehicles:ue,totalMaintenanceCost:ke,overdueMaintenance:Ee}},[_,e]),ie=K=>{const le=[],fe=K.currentMileage||0;return L.forEach(xe=>{if(xe.interval>0){const he=e.filter(Ee=>Ee.vehicleId===K.id&&Ee.serviceType===xe.value).sort((Ee,W)=>new Date(W.date)-new Date(Ee.date))[0],me=he&&he.mileage||0,ue=fe-me,ke=xe.interval-ue;ue>=xe.interval?le.push({type:"overdue",service:xe.label,mileage:Math.abs(ke),severity:"high"}):ke<=1e3&&ke>0&&le.push({type:"due_soon",service:xe.label,mileage:ke,severity:"medium"})}}),le.sort((xe,he)=>he.severity==="high"?1:-1)},Z=B.useMemo(()=>{let K=_;return i&&(K=K.filter(fe=>fe.name?.toLowerCase().includes(i.toLowerCase())||fe.make?.toLowerCase().includes(i.toLowerCase())||fe.model?.toLowerCase().includes(i.toLowerCase())||fe.licensePlate?.toLowerCase().includes(i.toLowerCase())||fe.vin?.toLowerCase().includes(i.toLowerCase()))),u!=="all"&&(K=K.filter(fe=>(fe.status||"active")===u)),[...K].sort((fe,xe)=>{let he,me;switch(m){case"name":he=fe.name||"",me=xe.name||"";break;case"mileage":he=fe.currentMileage||0,me=xe.currentMileage||0;break;case"year":he=parseInt(fe.year||0),me=parseInt(xe.year||0);break;case"make":he=fe.make||"",me=xe.make||"";break;default:he=fe.name||"",me=xe.name||""}return typeof he=="string"?x==="asc"?he.localeCompare(me):me.localeCompare(he):x==="asc"?he-me:me-he})},[_,i,u,m,x]),J=K=>{const le=K.status||"active";return le==="active"?{status:"active",color:"text-green-500",icon:bi,bg:"bg-green-50 border-green-200 dark:bg-green-900/10 dark:border-green-800",label:"Active"}:le==="maintenance"?{status:"maintenance",color:"text-yellow-500",icon:pc,bg:"bg-yellow-50 border-yellow-200 dark:bg-yellow-900/10 dark:border-yellow-800",label:"In Maintenance"}:{status:"inactive",color:"text-gray-500",icon:xA,bg:"bg-gray-50 border-gray-200 dark:bg-gray-900/10 dark:border-gray-800",label:"Inactive"}},ae=({title:K,value:le,icon:fe,color:xe,subtext:he,onClick:me})=>c.jsx("div",{className:`bg-white dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700 transition-all hover:shadow-md ${me?"cursor-pointer hover:border-blue-300":""}`,onClick:me,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:K}),c.jsx("p",{className:"text-2xl font-bold "+xe,children:le}),he&&c.jsx("p",{className:"text-xs text-slate-400",children:he})]}),c.jsx(fe,{size:24,className:xe})]})}),z=()=>{const[K,le]=B.useState({vehicleId:I?.id||"",serviceType:"",description:"",cost:"",mileage:"",date:new Date().toISOString().split("T")[0],nextServiceMileage:"",notes:""}),fe=L.find(he=>he.value===K.serviceType),xe=he=>{he.preventDefault();const me={...K,cost:parseFloat(K.cost)||0,mileage:parseInt(K.mileage)||0,nextServiceMileage:parseInt(K.nextServiceMileage)||0,createdAt:new Date().toISOString()};!me.nextServiceMileage&&fe?.interval&&(me.nextServiceMileage=me.mileage+fe.interval),r("maintenanceLog",me),N(!1),le({vehicleId:"",serviceType:"",description:"",cost:"",mileage:"",date:new Date().toISOString().split("T")[0],nextServiceMileage:"",notes:""})};return B.useEffect(()=>{fe&&le(he=>({...he,cost:he.cost||fe.cost.toString(),description:he.description||fe.label}))},[fe]),E?c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[c.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[c.jsx(Sa,{className:"text-blue-500",size:24}),"Add Service Record"]}),c.jsx("button",{onClick:()=>N(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:c.jsx(xA,{size:24})})]})}),c.jsxs("div",{className:"p-6 space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Vehicle *"}),c.jsxs("select",{value:K.vehicleId,onChange:he=>le(me=>({...me,vehicleId:he.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",required:!0,children:[c.jsx("option",{value:"",children:"Select Vehicle"}),_.map(he=>c.jsxs("option",{value:he.id,children:[he.name||"Unnamed"," - ",he.make," ",he.model]},he.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Service Type *"}),c.jsxs("select",{value:K.serviceType,onChange:he=>le(me=>({...me,serviceType:he.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",required:!0,children:[c.jsx("option",{value:"",children:"Select Service"}),L.map(he=>c.jsxs("option",{value:he.value,children:[he.label," (",he.category,")"]},he.value))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Service Date *"}),c.jsx("input",{type:"date",value:K.date,onChange:he=>le(me=>({...me,date:he.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Current Mileage"}),c.jsx("input",{type:"number",value:K.mileage,onChange:he=>le(me=>({...me,mileage:he.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:"e.g., 45000"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Cost ($)"}),c.jsx("input",{type:"number",step:"0.01",value:K.cost,onChange:he=>le(me=>({...me,cost:he.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:"0.00"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Next Service Mileage"}),c.jsx("input",{type:"number",value:K.nextServiceMileage,onChange:he=>le(me=>({...me,nextServiceMileage:he.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:fe?`Auto: ${(parseInt(K.mileage)||0)+fe.interval}`:"Optional"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Description"}),c.jsx("input",{type:"text",value:K.description,onChange:he=>le(me=>({...me,description:he.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:"Brief description of the service"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Notes"}),c.jsx("textarea",{value:K.notes,onChange:he=>le(me=>({...me,notes:he.target.value})),rows:"3",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 resize-none",placeholder:"Additional notes, parts used, recommendations, etc."})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>N(!1),className:"px-4 py-2 text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200",children:"Cancel"}),c.jsx("button",{type:"button",onClick:xe,className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors",children:"Add Service Record"})]})]})]})}):null},Y=()=>{const K=[...e].sort((le,fe)=>new Date(fe.date)-new Date(le.date));return c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[c.jsx(Sa,{className:"text-blue-500",size:24}),"Maintenance History"]}),c.jsxs("button",{onClick:()=>{R(null),N(!0)},className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg transition-colors",children:[c.jsx(qp,{size:18}),"Add Service"]})]}),K.length>0?c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-3",children:"Date"}),c.jsx("th",{className:"p-3",children:"Vehicle"}),c.jsx("th",{className:"p-3",children:"Service"}),c.jsx("th",{className:"p-3",children:"Mileage"}),c.jsx("th",{className:"p-3",children:"Cost"}),c.jsx("th",{className:"p-3",children:"Next Due"}),c.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),c.jsx("tbody",{children:K.map(le=>{const fe=_.find(he=>he.id===le.vehicleId),xe=L.find(he=>he.value===le.serviceType);return c.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[c.jsx("td",{className:"p-3",children:le.date?new Date(le.date).toLocaleDateString():"N/A"}),c.jsx("td",{className:"p-3",children:c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:fe?.name||"Unknown Vehicle"}),c.jsxs("div",{className:"text-xs text-slate-500",children:[fe?.make," ",fe?.model]})]})}),c.jsx("td",{className:"p-3",children:c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:xe?.label||le.serviceType}),le.description&&c.jsx("div",{className:"text-xs text-slate-500",children:le.description})]})}),c.jsx("td",{className:"p-3 font-mono",children:(le.mileage||0).toLocaleString()}),c.jsxs("td",{className:"p-3 font-mono",children:["$",(le.cost||0).toFixed(2)]}),c.jsx("td",{className:"p-3 font-mono",children:le.nextServiceMileage?le.nextServiceMileage.toLocaleString():"N/A"}),c.jsx("td",{className:"p-3",children:c.jsxs("div",{className:"flex items-center justify-center gap-1",children:[c.jsx("button",{onClick:()=>r("maintenanceLog",le),className:"p-1 text-slate-500 hover:text-blue-600 transition-colors",title:"Edit Service",children:c.jsx(Zr,{size:16})}),c.jsx("button",{onClick:()=>n("maintenanceLog",le.id),className:"p-1 text-slate-500 hover:text-red-600 transition-colors",title:"Delete Service",children:c.jsx(Xt,{size:16})})]})})]},le.id)})})]})}):c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Sa,{size:48,className:"text-slate-300 dark:text-slate-600 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-slate-500 dark:text-slate-400 mb-2",children:"No maintenance records yet"}),c.jsx("p",{className:"text-slate-400 dark:text-slate-500 mb-4",children:"Start tracking your vehicle maintenance and services"}),c.jsx("button",{onClick:()=>N(!0),className:"bg-blue-600 hover:bg-blue-500 text-white px-6 py-2 rounded-lg transition-colors",children:"Add First Service"})]})]})};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[c.jsx(ag,{className:"text-blue-500",size:24}),"Fleet Overview"]}),_.length>0&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(C,{onImport:D}),c.jsxs("button",{onClick:F,className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white px-3 py-2 rounded-lg transition-colors",children:[c.jsx(VD,{size:16}),"Export Vehicles"]}),c.jsxs("button",{onClick:$,className:"flex items-center gap-2 text-sm bg-purple-600 hover:bg-purple-500 text-white px-3 py-2 rounded-lg transition-colors",children:[c.jsx(Cn,{size:16}),"CSV Template"]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-7 gap-4",children:[c.jsx(ae,{title:"Total Vehicles",value:Q.totalVehicles,icon:Xh,color:"text-blue-500"}),c.jsx(ae,{title:"Active Fleet",value:Q.activeVehicles,icon:bi,color:"text-green-500",subtext:(Q.activeVehicles/(Q.totalVehicles||1)*100).toFixed(0)+"% active"}),c.jsx(ae,{title:"Avg Mileage",value:Q.avgMileage.toLocaleString(),icon:lg,color:"text-purple-500",subtext:"miles per vehicle"}),c.jsx(ae,{title:"Fleet Age",value:Q.avgAge+" yrs",icon:og,color:"text-orange-500",subtext:"average age"}),c.jsx(ae,{title:"High Mileage",value:Q.highMileageVehicles,icon:$a,color:"text-amber-500",subtext:">100k miles"}),c.jsx(ae,{title:"Maintenance Cost",value:"$"+Q.totalMaintenanceCost.toLocaleString(),icon:pn,color:"text-emerald-500",subtext:"this year"}),c.jsx(ae,{title:"Overdue Services",value:Q.overdueMaintenance,icon:yf,color:Q.overdueMaintenance>0?"text-red-500":"text-green-500",subtext:"need attention",onClick:()=>O("maintenance")})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 overflow-hidden",children:[c.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700",children:c.jsxs("nav",{className:"flex",children:[c.jsx("button",{onClick:()=>O("vehicles"),className:`px-6 py-4 text-sm font-medium transition-colors ${T==="vehicles"?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 bg-blue-50 dark:bg-blue-900/10":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-300"}`,children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Xh,{size:18}),"Vehicles (",_.length,")"]})}),c.jsx("button",{onClick:()=>O("maintenance"),className:`px-6 py-4 text-sm font-medium transition-colors ${T==="maintenance"?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 bg-blue-50 dark:bg-blue-900/10":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-300"}`,children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Sa,{size:18}),"Maintenance (",e.length,")",Q.overdueMaintenance>0&&c.jsx("span",{className:"bg-red-500 text-white text-xs rounded-full px-2 py-1",children:Q.overdueMaintenance})]})})]})}),c.jsx("div",{className:"p-6",children:T==="vehicles"?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Vehicle Fleet Management"}),c.jsxs("div",{className:"flex items-center gap-2",children:[_.length>0&&c.jsxs("button",{onClick:()=>p(f==="grid"?"table":"grid"),className:"flex items-center gap-2 text-sm bg-slate-100 hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-300 px-3 py-2 rounded-lg transition-colors",children:[f==="grid"?c.jsx(Cn,{size:16}):c.jsx(Xh,{size:16}),f==="grid"?"Table View":"Grid View"]}),c.jsxs("button",{onClick:()=>r("vehicle"),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg transition-colors",children:[c.jsx(qp,{size:18}),"Add Vehicle"]})]})]}),_.length>0&&c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx(La,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:18}),c.jsx("input",{type:"text",placeholder:"Search by name, make, model, license plate, or VIN...",value:i,onChange:K=>a(K.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(zc,{size:18,className:"text-slate-400"}),c.jsxs("select",{value:u,onChange:K=>d(K.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"all",children:"All Status"}),c.jsx("option",{value:"active",children:"Active"}),c.jsx("option",{value:"maintenance",children:"In Maintenance"}),c.jsx("option",{value:"retired",children:"Retired"})]}),c.jsxs("select",{value:m,onChange:K=>y(K.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"name",children:"Sort by Name"}),c.jsx("option",{value:"mileage",children:"Sort by Mileage"}),c.jsx("option",{value:"year",children:"Sort by Year"}),c.jsx("option",{value:"make",children:"Sort by Make"})]}),c.jsx("button",{onClick:()=>S(x==="asc"?"desc":"asc"),className:"p-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600 transition-colors",title:"Sort "+(x==="asc"?"Descending":"Ascending"),children:c.jsx($a,{size:18,className:x==="desc"?"rotate-180":""})})]})]}),_.length>0?f==="grid"?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Z.map(K=>{const le=J(K),fe=ie(K);return c.jsxs("div",{className:"p-5 rounded-lg border-2 transition-all hover:shadow-lg group "+le.bg+(P?" opacity-50":""),children:[c.jsxs("div",{className:"flex items-start justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(le.icon,{size:24,className:le.color}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-slate-800 dark:text-white text-lg",children:K.name||"Unnamed Vehicle"}),c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:le.label})]})]}),c.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[c.jsx("button",{onClick:()=>{R(K),N(!0)},className:"p-2 text-slate-500 hover:text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg transition-colors",title:"Add Service",disabled:P,children:c.jsx(Sa,{size:16})}),c.jsx("button",{onClick:()=>r("vehicle",K),className:"p-2 text-slate-500 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"Edit Vehicle",disabled:P,children:c.jsx(Zr,{size:16})}),c.jsx("button",{onClick:()=>ee(K.id,K.name||"Unnamed Vehicle"),className:"p-2 text-slate-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete Vehicle",disabled:P,children:c.jsx(Xt,{size:16})})]})]}),fe.length>0&&c.jsxs("div",{className:"mb-4 p-3 bg-amber-50 dark:bg-amber-900/20 rounded-lg border border-amber-200 dark:border-amber-800",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(c_,{size:16,className:"text-amber-600"}),c.jsx("span",{className:"text-sm font-medium text-amber-800 dark:text-amber-200",children:"Maintenance Alerts"})]}),c.jsxs("div",{className:"space-y-1",children:[fe.slice(0,2).map((xe,he)=>c.jsx("div",{className:"text-xs",children:c.jsxs("span",{className:xe.type==="overdue"?"text-red-700 dark:text-red-300":"text-amber-700 dark:text-amber-300",children:[xe.service,": ",xe.type==="overdue"?`${xe.mileage} miles overdue`:`due in ${xe.mileage} miles`]})},he)),fe.length>2&&c.jsxs("div",{className:"text-xs text-amber-600 dark:text-amber-400",children:["+",fe.length-2," more alerts"]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-slate-600 dark:text-slate-400 block",children:"Make/Model"}),c.jsxs("span",{className:"font-medium",children:[K.make||"N/A"," ",K.model||"N/A"]})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-slate-600 dark:text-slate-400 block",children:"Year"}),c.jsx("span",{className:"font-medium",children:K.year||"N/A"})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-slate-600 dark:text-slate-400 block",children:"License"}),c.jsx("span",{className:"font-medium",children:K.licensePlate||"N/A"})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-slate-600 dark:text-slate-400 block",children:"Mileage"}),c.jsxs("span",{className:"font-medium",children:[(K.currentMileage||0).toLocaleString()," mi"]})]}),c.jsxs("div",{className:"col-span-2",children:[c.jsx("span",{className:"text-slate-600 dark:text-slate-400 block",children:"VIN"}),c.jsx("span",{className:"font-medium text-xs",children:K.vin||"N/A"})]})]})]},K.id)})}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-3",children:"Status"}),c.jsx("th",{className:"p-3",children:"Vehicle"}),c.jsx("th",{className:"p-3",children:"Make/Model"}),c.jsx("th",{className:"p-3",children:"Year"}),c.jsx("th",{className:"p-3",children:"License"}),c.jsx("th",{className:"p-3",children:"Mileage"}),c.jsx("th",{className:"p-3",children:"Alerts"}),c.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),c.jsx("tbody",{children:Z.map(K=>{const le=J(K),fe=ie(K);return c.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50"+(P?" opacity-50":""),children:[c.jsx("td",{className:"p-3",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(le.icon,{size:16,className:le.color}),c.jsx("span",{className:"text-xs",children:le.label})]})}),c.jsx("td",{className:"p-3",children:c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:K.name||"Unnamed"}),K.vin&&c.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:["VIN: ",K.vin.slice(-6)]})]})}),c.jsxs("td",{className:"p-3",children:[K.make||"N/A"," ",K.model||"N/A"]}),c.jsx("td",{className:"p-3",children:K.year||"N/A"}),c.jsx("td",{className:"p-3",children:K.licensePlate||"N/A"}),c.jsx("td",{className:"p-3 font-mono",children:(K.currentMileage||0).toLocaleString()}),c.jsx("td",{className:"p-3",children:fe.length>0?c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(c_,{size:14,className:"text-amber-500"}),c.jsxs("span",{className:"text-xs text-amber-600 dark:text-amber-400",children:[fe.length," alert",fe.length>1?"s":""]})]}):c.jsx("span",{className:"text-xs text-green-600 dark:text-green-400",children:" Up to date"})}),c.jsx("td",{className:"p-3",children:c.jsxs("div",{className:"flex items-center justify-center gap-1",children:[c.jsx("button",{onClick:()=>{R(K),N(!0)},className:"p-1 text-slate-500 hover:text-green-600 transition-colors",title:"Add Service",disabled:P,children:c.jsx(Sa,{size:16})}),c.jsx("button",{onClick:()=>r("vehicle",K),className:"p-1 text-slate-500 hover:text-blue-600 transition-colors",title:"Edit Vehicle",disabled:P,children:c.jsx(Zr,{size:16})}),c.jsx("button",{onClick:()=>ee(K.id,K.name||"Unnamed Vehicle"),className:"p-1 text-slate-500 hover:text-red-600 transition-colors",title:"Delete Vehicle",disabled:P,children:c.jsx(Xt,{size:16})})]})})]},K.id)})})]})}):c.jsxs("div",{className:"text-center py-16",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-slate-100 dark:bg-slate-700 rounded-full mb-6",children:c.jsx(Xh,{size:40,className:"text-slate-400 dark:text-slate-500"})}),c.jsx("h3",{className:"text-xl font-medium text-slate-500 dark:text-slate-400 mb-3",children:"No vehicles in your fleet yet"}),c.jsx("p",{className:"text-slate-400 dark:text-slate-500 mb-6 max-w-md mx-auto",children:"Start building your fleet by adding your first vehicle. Track maintenance, costs, and manage your entire fleet from one place."}),c.jsx("button",{onClick:()=>r("vehicle"),className:"bg-blue-600 hover:bg-blue-500 text-white px-8 py-3 rounded-lg transition-colors font-medium text-lg",disabled:P,children:"Add Your First Vehicle"})]})]}):c.jsx(Y,{})})]}),c.jsx(z,{}),P&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),c.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"Deleting vehicle..."})]})})]})},Vae=({inventory:t,openModal:e,handleDelete:r,handleBulkDelete:n,searchTerm:i,setSearchTerm:a,selectedIds:o,setSelectedIds:u,handleImportCSV:d,handleExportCSV:f})=>{const p=[{key:"name",header:"Item Name",render:x=>c.jsx("span",{className:"font-medium",children:x.name})},{key:"quantity",header:"Quantity on Hand",className:"text-center",render:x=>c.jsx("span",{children:x.quantity})},{key:"cost",header:"Cost per Item",className:"text-right",render:x=>c.jsxs("span",{className:"font-mono",children:["$",(x.cost||0).toFixed(2)]})}],m=B.useMemo(()=>t.filter(x=>(x.name||"").toLowerCase().includes(i.toLowerCase())),[t,i]),y=x=>{x.target.checked?u(m.map(S=>S.id)):u([])};return c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Inventory Management"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"text",placeholder:"Search Inventory...",value:i,onChange:x=>a(x.target.value),className:"w-full md:w-auto bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white"}),o.length>0&&c.jsxs("button",{onClick:()=>n("inventory",o),className:"flex items-center gap-2 text-sm bg-red-600 hover:bg-red-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(Xt,{size:16})," Delete (",o.length,")"]}),c.jsx("input",{type:"file",id:"csv-importer-inventory",className:"hidden",accept:".csv",onChange:x=>d(x.target.files[0],"inventory")}),c.jsxs("label",{htmlFor:"csv-importer-inventory",className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[c.jsx(qs,{size:16})," Import CSV"]}),c.jsxs("button",{onClick:()=>f(t,"inventory"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(Cn,{size:16})," Export to CSV"]}),c.jsxs("button",{onClick:()=>e("inventory"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(mn,{size:16})," Add New"]})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-3",children:c.jsx("input",{type:"checkbox",onChange:y})}),p.map(x=>c.jsx("th",{className:`p-3 ${x.className||""}`,children:x.header},x.key)),c.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),c.jsx("tbody",{className:"text-sm",children:m.map(x=>c.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 text-slate-700 dark:text-slate-200",children:[c.jsx("td",{className:"p-3",children:c.jsx("input",{type:"checkbox",checked:o.includes(x.id),onChange:()=>{u(S=>S.includes(x.id)?S.filter(_=>_!==x.id):[...S,x.id])}})}),p.map(S=>c.jsx("td",{className:`p-3 ${S.className||""}`,children:S.render(x)},S.key)),c.jsxs("td",{className:"p-3 text-center",children:[c.jsx("button",{onClick:()=>e("inventory",x),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:c.jsx(Zr,{size:16})}),c.jsx("button",{onClick:()=>r("inventory",x.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:c.jsx(Xt,{size:16})})]})]},x.id))})]})})]})},Fae=({clients:t,jobs:e,bills:r,inventory:n})=>{const i=B.useMemo(()=>t.map(u=>{const d=e.filter(m=>m.clientId===u.id),f=d.reduce((m,y)=>m+(y.revenue||0),0),p=d.reduce((m,y)=>m+(y.materialCost||0)+(y.laborCost||0),0);return{name:u.name,netProfit:f-p}}).sort((u,d)=>d.netProfit-u.netProfit),[t,e]),a=B.useMemo(()=>{const u={},d=new Date;return d.setMonth(d.getMonth()-12),e.forEach(f=>{if(f.date&&new Date(f.date)>d){const p=new Date(f.date).toISOString().slice(0,7);u[p]||(u[p]={revenue:0,expenses:0}),u[p].revenue+=f.revenue||0}}),r.forEach(f=>{const p=f.createdAt?.toDate?f.createdAt.toDate():new Date;if(p>d){const m=p.toISOString().slice(0,7);u[m]||(u[m]={revenue:0,expenses:0}),u[m].expenses+=f.amount||0}}),Object.keys(u).map(f=>({month:f,Revenue:u[f].revenue,Expenses:u[f].expenses})).sort((f,p)=>f.month.localeCompare(p.month))},[e,r]),o=B.useMemo(()=>n.map(u=>({name:u.name,totalValue:(u.quantity||0)*(u.cost||0)})).sort((u,d)=>d.totalValue-u.totalValue),[n]);return c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Revenue vs. Expenses Trend (Last 12 Months)"}),c.jsx(HS,{width:"100%",height:300,children:c.jsxs(o6,{data:a,children:[c.jsx(Pk,{strokeDasharray:"3 3"}),c.jsx(Tf,{dataKey:"month",stroke:"#64748b"}),c.jsx(Af,{stroke:"#64748b",tickFormatter:u=>`$${u/1e3}k`}),c.jsx(Xn,{contentStyle:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0"},formatter:u=>`$${u.toLocaleString()}`}),c.jsx(Cs,{}),c.jsx(Zi,{dataKey:"Revenue",fill:"#22c55e"}),c.jsx(Zi,{dataKey:"Expenses",fill:"#ef4444"})]})})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Client Profitability"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-3",children:"Client"}),c.jsx("th",{className:"p-3 text-right",children:"Net Profit"})]})}),c.jsx("tbody",{children:i.map(u=>c.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50",children:[c.jsx("td",{className:"p-3 font-medium",children:u.name}),c.jsxs("td",{className:`p-3 text-right font-mono ${u.netProfit>=0?"text-green-600 dark:text-green-400":"text-red-500"}`,children:["$",u.netProfit.toFixed(2)]})]},u.name))})]})})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Inventory Value"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-3",children:"Item"}),c.jsx("th",{className:"p-3 text-center",children:"Quantity"}),c.jsx("th",{className:"p-3 text-right",children:"Total Value"})]})}),c.jsx("tbody",{children:o.map(u=>c.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50",children:[c.jsx("td",{className:"p-3 font-medium",children:u.name}),c.jsx("td",{className:"p-3 text-center",children:n.find(d=>d.name===u.name)?.quantity}),c.jsxs("td",{className:"p-3 text-right font-mono",children:["$",u.totalValue.toFixed(2)]})]},u.name))})]})})]})]})},Uae=({bills:t,paidStatus:e,onClose:r})=>{const n=B.useMemo(()=>{const i=new Date,a=new Date;return a.setDate(i.getDate()+3),t.filter(o=>{if(e[o.id])return!1;const u=new Date(i.getFullYear(),i.getMonth(),o.dueDay);return u>=i&&u<=a})},[t,e]);return n.length===0?null:c.jsxs("div",{className:"bg-yellow-100 dark:bg-yellow-900/50 border border-yellow-400 dark:border-yellow-700 text-yellow-800 dark:text-yellow-200 px-4 py-3 rounded-lg relative mb-6",role:"alert",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(c_,{size:20,className:"mr-3"}),c.jsxs("div",{children:[c.jsx("strong",{className:"font-bold",children:"Upcoming Bills!"}),c.jsx("ul",{className:"list-disc list-inside mt-1",children:n.map(i=>c.jsxs("li",{children:[i.name," is due on day ",i.dueDay,"."]},i.id))})]})]}),c.jsx("button",{onClick:r,className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:c.jsx(Wc,{size:18})})]})},Bae=({data:t,onSliceClick:e})=>{const[r,n]=B.useState(0),i=B.useCallback((o,u)=>{n(u)},[n]),a=o=>{const{cx:u,cy:d,innerRadius:f,outerRadius:p,startAngle:m,endAngle:y,fill:x,payload:S}=o;return c.jsxs("g",{className:"cursor-pointer",onClick:()=>e(S.name),children:[c.jsx("text",{x:u,y:d,dy:8,textAnchor:"middle",fill:x,className:"font-bold text-lg",children:S.name}),c.jsx(yk,{cx:u,cy:d,innerRadius:f,outerRadius:p,startAngle:m,endAngle:y,fill:x})]})};return c.jsx(HS,{width:"100%",height:300,children:c.jsxs(Cae,{children:[c.jsx(Xn,{contentStyle:{backgroundColor:"#334155",border:"1px solid #475569",borderRadius:"0.5rem"},labelStyle:{color:"#cbd5e1"},itemStyle:{color:"#f1f5f9"},formatter:o=>`$${o.toFixed(2)}`}),c.jsx(Ha,{activeIndex:r,activeShape:a,data:t,cx:"50%",cy:"50%",innerRadius:70,outerRadius:90,fill:"#8884d8",dataKey:"value",onMouseEnter:i,onClick:o=>e(o.name),children:t.map((o,u)=>c.jsx(wg,{fill:o.color},`cell-${u}`))})]})})},qae=({invoices:t=[],bills:e=[],weeklyCosts:r=[],currentBankBalance:n=0,setCurrentBankBalance:i})=>{const a=x=>{if(x==null||x==="")return 0;const S=typeof x=="string"?parseFloat(x.replace(/[^0-9.-]/g,"")):Number(x);return isNaN(S)?0:S},o=t.filter(x=>x.status==="Unpaid"),u=o.reduce((x,S)=>x+a(S.grandTotal),0),d=e.reduce((x,S)=>x+a(S.amount),0),f=r.reduce((x,S)=>x+a(S.amount),0)*4.33,p=d+f,m=a(n)+u-p,y=()=>{const x=prompt("Enter current bank balance:",n);if(x!==null&&!isNaN(x)&&x.trim()!==""){const S=parseFloat(x);S>=0?i(S):alert("Please enter a positive number for the balance.")}};return c.jsx("div",{className:"space-y-6",children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-6",children:"Cash Flow Forecast"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[c.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400 font-medium",children:"Current Balance"}),c.jsxs("p",{className:"text-2xl font-bold text-blue-700 dark:text-blue-300",children:["$",a(n).toLocaleString()]})]}),c.jsx(pn,{className:"text-blue-600 dark:text-blue-400",size:24})]}),c.jsx("button",{onClick:y,className:"mt-2 text-xs text-blue-600 dark:text-blue-400 hover:underline cursor-pointer",children:"Update Balance"}),c.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Click to update your current bank balance"})]}),c.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:"Pending Revenue"}),c.jsxs("p",{className:"text-2xl font-bold text-green-700 dark:text-green-300",children:["$",u.toLocaleString()]})]}),c.jsx($a,{className:"text-green-600 dark:text-green-400",size:24})]}),c.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:[o.length," unpaid invoices"]})]}),c.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-lg",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 font-medium",children:"Monthly Expenses"}),c.jsxs("p",{className:"text-2xl font-bold text-red-700 dark:text-red-300",children:["$",p.toLocaleString()]})]}),c.jsx(BD,{className:"text-red-600 dark:text-red-400",size:24})]}),c.jsx("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:"Bills + Weekly costs"})]}),c.jsxs("div",{className:`${m>=0?"bg-green-50 dark:bg-green-900/20":"bg-red-50 dark:bg-red-900/20"} p-4 rounded-lg`,children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:`text-sm font-medium ${m>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:"Projected Balance"}),c.jsxs("p",{className:`text-2xl font-bold ${m>=0?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:["$",m.toLocaleString()]})]}),m>=0?c.jsx($a,{className:"text-green-600 dark:text-green-400",size:24}):c.jsx(pc,{className:"text-red-600 dark:text-red-400",size:24})]}),c.jsx("p",{className:`text-xs mt-1 ${m>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:"After collections & expenses"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:"Pending Collections"}),c.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:o.length>0?o.map((x,S)=>c.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 dark:bg-slate-700 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-slate-800 dark:text-white",children:x.billTo||x.customer||"Unknown Client"}),c.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Due: ",x.dueDate||"No date"]})]}),c.jsxs("p",{className:"font-bold text-green-600 dark:text-green-400",children:["$",a(x.grandTotal).toLocaleString()]})]},S)):c.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-center py-4",children:"No pending invoices"})})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:"Monthly Obligations"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 dark:bg-slate-700 rounded-lg",children:[c.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Monthly Bills"}),c.jsxs("span",{className:"font-bold text-red-600 dark:text-red-400",children:["$",d.toLocaleString()]})]}),c.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 dark:bg-slate-700 rounded-lg",children:[c.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Weekly Costs (Monthly)"}),c.jsxs("span",{className:"font-bold text-red-600 dark:text-red-400",children:["$",f.toLocaleString()]})]}),c.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-100 dark:bg-slate-600 rounded-lg border-t-2 border-slate-300 dark:border-slate-500",children:[c.jsx("span",{className:"font-semibold text-slate-800 dark:text-white",children:"Total Expenses"}),c.jsxs("span",{className:"font-bold text-red-700 dark:text-red-300 text-lg",children:["$",p.toLocaleString()]})]})]})]})]}),m<0&&c.jsxs("div",{className:"mt-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(pc,{className:"text-red-600 dark:text-red-400",size:20}),c.jsx("h4",{className:"font-semibold text-red-800 dark:text-red-200",children:"Cash Flow Alert"})]}),c.jsx("p",{className:"text-red-700 dark:text-red-300 mt-2",children:"Your projected balance is negative. Consider following up on pending invoices or reducing expenses."})]}),a(n)===0&&c.jsxs("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(pn,{className:"text-blue-600 dark:text-blue-400",size:20}),c.jsx("h4",{className:"font-semibold text-blue-800 dark:text-blue-200",children:"Update Your Balance"})]}),c.jsx("p",{className:"text-blue-700 dark:text-blue-300 mt-2",children:'Click "Update Balance" above to enter your current bank balance for accurate cash flow forecasting.'})]})]})})},zae=({title:t,data:e,columns:r,type:n,searchTerm:i,setSearchTerm:a,handleImportCSV:o,handleExportCSV:u,openModal:d,handleDelete:f,debtPayoffStrategies:p})=>c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-4 gap-4",children:[c.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:t}),c.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[c.jsx("input",{type:"text",placeholder:"Search...",value:i,onChange:m=>a(m.target.value),className:"w-full md:w-auto bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white"}),(n==="client"||n==="job"||n==="inventory"||n==="invoice")&&c.jsxs(c.Fragment,{children:[c.jsx("input",{type:"file",id:`csv-importer-${n}`,className:"hidden",accept:".csv",onChange:m=>o(m.target.files[0],n)}),c.jsxs("label",{htmlFor:`csv-importer-${n}`,className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[c.jsx(qs,{size:16})," Import CSV"]})]}),c.jsxs("button",{onClick:()=>u(e,n),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(Cn,{size:16})," Export to CSV"]}),c.jsxs("button",{onClick:()=>d(n),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(mn,{size:16})," Add New"]})]})]}),n==="debt"&&p&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6 bg-slate-100 dark:bg-slate-800/50 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-lg text-cyan-600 dark:text-cyan-400 mb-2",children:"Avalanche Method"}),c.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mb-3",children:"Pay off debts with the highest interest rate first to save the most money over time."}),c.jsx("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:p.avalanche.map(m=>c.jsxs("li",{children:[m.name," ",c.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:["(",m.interestRate,"%)"]})]},m.id))})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-lg text-green-600 dark:text-green-400 mb-2",children:"Snowball Method"}),c.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mb-3",children:"Pay off debts with the smallest balance first for quick wins and motivation."}),c.jsx("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:p.snowball.map(m=>c.jsxs("li",{children:[m.name," ",c.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:["($",(m.totalAmount-m.paidAmount).toFixed(2),")"]})]},m.id))})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:c.jsxs("tr",{children:[r.map(m=>c.jsx("th",{className:`p-3 ${m.className||""}`,children:m.header},m.key)),c.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),c.jsx("tbody",{className:"text-sm",children:e.map(m=>c.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 text-slate-700 dark:text-slate-200",children:[r.map(y=>c.jsx("td",{className:`p-3 ${y.className||""}`,children:y.render(m)},y.key)),c.jsxs("td",{className:"p-3 text-center",children:[c.jsx("button",{onClick:()=>d(n,m),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:c.jsx(Zr,{size:16})}),c.jsx("button",{onClick:()=>f(n,m.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:c.jsx(Xt,{size:16})})]})]},m.id))})]})})]}),Wae=({jobs:t,clients:e,openModal:r,handleDelete:n,searchTerm:i,setSearchTerm:a,handleImportCSV:o,handleExportCSV:u})=>{const d=[{key:"name",header:"Job/Client",render:f=>c.jsx("span",{className:"font-medium",children:f.name})},{key:"client",header:"Client",render:f=>c.jsx("span",{children:e.find(p=>p.id===f.clientId)?.name||"N/A"})},{key:"revenue",header:"Revenue",className:"text-right",render:f=>c.jsxs("span",{className:"font-mono text-green-600 dark:text-green-400",children:["$",(f.revenue||0).toFixed(2)]})},{key:"materialCost",header:"Material Cost",className:"text-right",render:f=>c.jsxs("span",{className:"font-mono text-orange-600 dark:text-orange-400",children:["$",(f.materialCost||0).toFixed(2)]})},{key:"laborCost",header:"Labor Cost",className:"text-right",render:f=>c.jsxs("span",{className:"font-mono text-orange-600 dark:text-orange-400",children:["$",(f.laborCost||0).toFixed(2)]})},{key:"netProfit",header:"Net Profit",className:"text-right font-bold",render:f=>c.jsxs("span",{className:"font-mono text-cyan-600 dark:text-cyan-400",children:["$",((f.revenue||0)-(f.materialCost||0)-(f.laborCost||0)).toFixed(2)]})}];return c.jsx(zae,{title:"Job Profitability",data:t,columns:d,type:"job",searchTerm:i,setSearchTerm:a,handleImportCSV:o,handleExportCSV:u,openModal:r,handleDelete:n})},Hae=({jobs:t,bills:e,weeklyCosts:r,reportingPeriod:n,dateRange:i})=>{const a=B.useMemo(()=>{const u=t.filter(A=>{if(!A.date)return!1;const I=new Date(A.date);return I>=i.start&&I<=i.end}),d=u.reduce((A,I)=>A+(I.revenue||0),0),f=u.reduce((A,I)=>A+(I.materialCost||0)+(I.laborCost||0),0),p=d-f,m=(i.end-i.start)/(1e3*60*60*24*30.44),y=e.reduce((A,I)=>{const R=I.category||"Uncategorized";return A[R]=(A[R]||0)+I.amount,A},{}),x=r.reduce((A,I)=>A+I.amount,0)*m;x>0&&(y["Weekly & Misc"]=(y["Weekly & Misc"]||0)+x);const S=Object.values(y).reduce((A,I)=>A+I,0),_=p-S,b=d>0?p/d*100:0,P=d>0?_/d*100:0;return{revenue:d,cogs:f,grossProfit:p,operatingExpenses:S,expensesByCategory:y,netProfit:_,grossProfitMargin:b,netProfitMargin:P}},[t,e,r,i]),o=()=>{const u={month:"long",year:"numeric"};if(n==="monthly")return`For the Month of ${i.start.toLocaleString("default",u)}`;if(n==="quarterly"){const d={month:"long",day:"numeric",year:"numeric"};return`For the Quarter Ending ${i.end.toLocaleDateString("default",d)}`}return n==="yearly"?`For the Year ${i.start.getFullYear()}`:""};return c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-2",children:"Profit & Loss Statement"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:o()}),c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("div",{className:"flex justify-between items-center p-3 font-semibold",children:[c.jsx("span",{children:"Total Revenue"}),c.jsxs("span",{className:"font-mono",children:["$",a.revenue.toFixed(2)]})]}),c.jsxs("div",{className:"flex justify-between items-center p-3 pl-8",children:[c.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Cost of Goods Sold (COGS)"}),c.jsxs("span",{className:"font-mono",children:["($",a.cogs.toFixed(2),")"]})]}),c.jsx("hr",{className:"border-slate-200 dark:border-slate-700 my-2"}),c.jsxs("div",{className:"flex justify-between items-center p-3 font-bold text-lg",children:[c.jsx("span",{children:"Gross Profit"}),c.jsxs("span",{className:"font-mono",children:["$",a.grossProfit.toFixed(2)]})]}),c.jsxs("div",{className:"flex justify-between items-center p-1 pl-8 text-xs text-slate-500",children:[c.jsx("span",{children:"Gross Profit Margin"}),c.jsxs("span",{className:"font-mono",children:[a.grossProfitMargin.toFixed(1),"%"]})]}),c.jsx("hr",{className:"border-slate-200 dark:border-slate-700 my-2"}),c.jsx("div",{className:"p-3 font-semibold",children:c.jsx("span",{children:"Operating Expenses"})}),Object.entries(a.expensesByCategory).map(([u,d])=>c.jsxs("div",{className:"flex justify-between items-center p-1 pl-8",children:[c.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:u}),c.jsxs("span",{className:"font-mono",children:["($",d.toFixed(2),")"]})]},u)),c.jsxs("div",{className:"flex justify-between items-center p-3 pl-8 font-semibold",children:[c.jsx("span",{children:"Total Operating Expenses"}),c.jsxs("span",{className:"font-mono",children:["($",a.operatingExpenses.toFixed(2),")"]})]}),c.jsx("hr",{className:"border-slate-300 dark:border-slate-600 my-2 border-2"}),c.jsxs("div",{className:"flex justify-between items-center p-3 font-bold text-xl",style:{color:a.netProfit>=0?"#22c55e":"#ef4444"},children:[c.jsx("span",{children:"Net Profit"}),c.jsx("span",{className:"font-mono",children:a.netProfit<0?`-$${Math.abs(a.netProfit).toFixed(2)}`:`$${a.netProfit.toFixed(2)}`})]}),c.jsxs("div",{className:"flex justify-between items-center p-1 pl-8 text-xs text-slate-500",children:[c.jsx("span",{children:"Net Profit Margin"}),c.jsxs("span",{className:"font-mono",children:[a.netProfitMargin.toFixed(1),"%"]})]})]})]})},Gae=({debts:t=[],openModal:e,handleDelete:r,searchTerm:n,setSearchTerm:i,handleImportCSV:a,handleExportCSV:o,debtPayoffStrategies:u={avalanche:[],snowball:[]}})=>{const[d,f]=B.useState("overview"),[p,m]=B.useState("avalanche"),[y,x]=B.useState(500),S=B.useMemo(()=>{const E=t.reduce((D,F)=>D+(F.totalAmount||0),0),N=t.reduce((D,F)=>D+(F.paidAmount||0),0),T=E-N,O=t.length>0?t.reduce((D,F)=>D+(F.interestRate||0),0)/t.length:0,L=Math.max(...t.map(D=>D.interestRate||0)),C=Math.min(...t.map(D=>(D.totalAmount||0)-(D.paidAmount||0)));return{totalDebt:E,totalPaid:N,totalRemaining:T,avgInterestRate:O,highestInterest:L,lowestBalance:C===1/0?0:C,payoffProgress:E>0?N/E*100:0}},[t]),_=E=>{const N=u[E]||[];let T=[],O=0,L=y;return N.forEach((C,D)=>{const F=(C.totalAmount||0)-(C.paidAmount||0),$=(C.interestRate||0)/100/12;if(F>0&&L>0){const ee=Math.ceil(Math.log(1+F*$/L)/Math.log(1+$));T.push({...C,monthsToPayoff:isFinite(ee)?ee:0,order:D+1,remaining:F}),O=Math.max(O,ee)}}),{timeline:T,totalMonthsToPayoff:O}},b=_("avalanche"),P=_("snowball"),A=B.useMemo(()=>n?t.filter(E=>E.name?.toLowerCase().includes(n.toLowerCase())||E.creditor?.toLowerCase().includes(n.toLowerCase())):t,[t,n]),I=E=>(E.totalAmount||0)-(E.paidAmount||0)<=0?"text-green-600 dark:text-green-400":E.interestRate>20?"text-red-600 dark:text-red-400":E.interestRate>10?"text-yellow-600 dark:text-yellow-400":"text-blue-600 dark:text-blue-400",R=E=>E.interestRate>20?c.jsx(pc,{className:"text-red-500",size:16}):E.interestRate>10?c.jsx($a,{className:"text-yellow-500",size:16}):c.jsx(bi,{className:"text-green-500",size:16});return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Debt Management"}),c.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Track debts, plan payoffs, and achieve financial freedom"})]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsxs("button",{onClick:()=>a&&a(),className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(qs,{size:16}),"Import"]}),c.jsxs("button",{onClick:()=>o&&o(t,"debts"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(VD,{size:16}),"Export"]}),c.jsxs("button",{onClick:()=>e("debt"),className:"flex items-center gap-2 bg-purple-600 hover:bg-purple-500 text-white px-4 py-2 rounded-lg transition-colors",children:[c.jsx(mn,{size:18}),"Add Debt"]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Total Debt"}),c.jsxs("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:["$",S.totalDebt.toLocaleString()]})]}),c.jsx(Dv,{className:"text-red-600 dark:text-red-400",size:24})]}),c.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["Remaining: $",S.totalRemaining.toLocaleString()]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Paid Off"}),c.jsxs("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:["$",S.totalPaid.toLocaleString()]})]}),c.jsx(bi,{className:"text-green-600 dark:text-green-400",size:24})]}),c.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:[S.payoffProgress.toFixed(1),"% complete"]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Avg Interest"}),c.jsxs("p",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:[S.avgInterestRate.toFixed(1),"%"]})]}),c.jsx(UD,{className:"text-orange-600 dark:text-orange-400",size:24})]}),c.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["Highest: ",S.highestInterest,"%"]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Active Debts"}),c.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:t.filter(E=>E.totalAmount-E.paidAmount>0).length})]}),c.jsx(ag,{className:"text-blue-600 dark:text-blue-400",size:24})]}),c.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["of ",t.length," total"]})]})]}),c.jsx("div",{className:"bg-white dark:bg-slate-800 p-1 rounded-lg border border-slate-200 dark:border-slate-700",children:c.jsxs("div",{className:"flex space-x-1",children:[c.jsxs("button",{onClick:()=>f("overview"),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${d==="overview"?"bg-purple-600 text-white shadow":"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white"}`,children:[c.jsx(Dv,{size:16}),"Overview"]}),c.jsxs("button",{onClick:()=>f("strategies"),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${d==="strategies"?"bg-purple-600 text-white shadow":"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white"}`,children:[c.jsx(wd,{size:16}),"Payoff Strategies"]}),c.jsxs("button",{onClick:()=>f("calculator"),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${d==="calculator"?"bg-purple-600 text-white shadow":"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white"}`,children:[c.jsx(yA,{size:16}),"Calculator"]})]})}),d==="overview"&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"relative",children:[c.jsx(La,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),c.jsx("input",{type:"text",placeholder:"Search debts...",value:n,onChange:E=>i(E.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),c.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 overflow-hidden",children:A.length===0?c.jsxs("div",{className:"text-center py-12 text-slate-500 dark:text-slate-400",children:[c.jsx(Dv,{size:48,className:"mx-auto mb-4 opacity-50"}),c.jsx("h4",{className:"text-lg font-semibold mb-2",children:"No debts found"}),c.jsx("p",{className:"mb-4",children:"Add your debts to start tracking and planning payoffs."}),c.jsx("button",{onClick:()=>e("debt"),className:"bg-purple-600 hover:bg-purple-500 text-white px-6 py-2 rounded-lg transition-colors",children:"Add First Debt"})]}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Debt Details"}),c.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Interest Rate"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Total Amount"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Paid"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Remaining"}),c.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Progress"}),c.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:A.map(E=>{const N=(E.totalAmount||0)-(E.paidAmount||0),T=E.totalAmount>0?(E.paidAmount||0)/E.totalAmount*100:0;return c.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[R(E),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-slate-900 dark:text-white",children:E.name}),E.creditor&&c.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:E.creditor})]})]})}),c.jsx("td",{className:"px-6 py-4 text-center",children:c.jsxs("span",{className:`font-mono font-semibold ${I(E)}`,children:[(E.interestRate||0).toFixed(1),"%"]})}),c.jsx("td",{className:"px-6 py-4 text-right",children:c.jsxs("span",{className:"font-mono text-slate-900 dark:text-white",children:["$",(E.totalAmount||0).toLocaleString()]})}),c.jsx("td",{className:"px-6 py-4 text-right",children:c.jsxs("span",{className:"font-mono text-green-600 dark:text-green-400",children:["$",(E.paidAmount||0).toLocaleString()]})}),c.jsx("td",{className:"px-6 py-4 text-right",children:c.jsxs("span",{className:"font-mono font-semibold text-orange-600 dark:text-orange-400",children:["$",N.toLocaleString()]})}),c.jsxs("td",{className:"px-6 py-4",children:[c.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-3",children:c.jsx("div",{className:"bg-gradient-to-r from-green-400 to-green-600 h-3 rounded-full transition-all duration-300",style:{width:`${Math.min(T,100)}%`}})}),c.jsxs("div",{className:"text-xs text-center mt-1 text-slate-500 dark:text-slate-400",children:[T.toFixed(1),"%"]})]}),c.jsx("td",{className:"px-6 py-4 text-center",children:c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c.jsx("button",{onClick:()=>e("debt",E),className:"text-slate-400 hover:text-blue-500 transition-colors",title:"Edit debt",children:c.jsx(Zr,{size:16})}),c.jsx("button",{onClick:()=>r("debt",E.id),className:"text-slate-400 hover:text-red-500 transition-colors",title:"Delete debt",children:c.jsx(Xt,{size:16})})]})})]},E.id)})})]})})})]}),d==="strategies"&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:"Debt Payoff Strategies"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:`p-4 rounded-lg border-2 cursor-pointer transition-colors ${p==="avalanche"?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-slate-200 dark:border-slate-700 hover:border-purple-300"}`,onClick:()=>m("avalanche"),children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx(BD,{className:"text-purple-600",size:20}),c.jsx("h4",{className:"font-semibold text-slate-800 dark:text-white",children:"Debt Avalanche"})]}),c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-3",children:"Pay off debts with highest interest rates first. Saves more money on interest."}),c.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-500",children:["Estimated timeline: ",b.totalMonthsToPayoff," months"]})]}),c.jsxs("div",{className:`p-4 rounded-lg border-2 cursor-pointer transition-colors ${p==="snowball"?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-slate-200 dark:border-slate-700 hover:border-purple-300"}`,onClick:()=>m("snowball"),children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx(pq,{className:"text-purple-600",size:20}),c.jsx("h4",{className:"font-semibold text-slate-800 dark:text-white",children:"Debt Snowball"})]}),c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-3",children:"Pay off smallest balances first. Builds momentum and motivation."}),c.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-500",children:["Estimated timeline: ",P.totalMonthsToPayoff," months"]})]})]}),c.jsxs("div",{className:"mt-6",children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Monthly Debt Payment Budget"}),c.jsxs("div",{className:"relative",children:[c.jsx(pn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),c.jsx("input",{type:"number",value:y,onChange:E=>x(parseFloat(E.target.value)||0),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"500"})]})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:[p==="avalanche"?"Avalanche":"Snowball"," Payoff Plan"]}),c.jsx("div",{className:"space-y-4",children:(p==="avalanche"?b.timeline:P.timeline).map((E,N)=>c.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[c.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-purple-600 text-white rounded-full flex items-center justify-center text-sm font-semibold",children:E.order}),c.jsxs("div",{className:"flex-grow",children:[c.jsx("div",{className:"font-medium text-slate-900 dark:text-white",children:E.name}),c.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:["$",E.remaining.toLocaleString()," remaining at ",E.interestRate,"%"]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"text-sm font-medium text-slate-900 dark:text-white",children:[E.monthsToPayoff," months"]}),c.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"to pay off"})]})]},E.id))})]})]}),d==="calculator"&&c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:"Debt Payoff Calculator"}),c.jsxs("div",{className:"text-center text-slate-500 dark:text-slate-400 py-12",children:[c.jsx(yA,{size:48,className:"mx-auto mb-4 opacity-50"}),c.jsx("p",{children:"Advanced debt calculator coming soon!"}),c.jsx("p",{className:"text-sm mt-2",children:"Calculate exact payoff dates, interest savings, and payment schedules."})]})]})]})},Kae=({incomes:t,openModal:e,handleDelete:r})=>{const[n,i]=B.useState(""),[a,o]=B.useState("all"),[u,d]=B.useState("all"),[f,p]=B.useState({key:"amount",direction:"desc"}),m=["all","monthly","weekly","quarterly","annually","one-time","project-based"],y=["all","active","pending","completed","paused"],x=B.useMemo(()=>t.filter(E=>{const N=E.name.toLowerCase().includes(n.toLowerCase())||E.notes&&E.notes.toLowerCase().includes(n.toLowerCase()),T=a==="all"||E.type===a,O=u==="all"||E.status===u;return N&&T&&O}).sort((E,N)=>{if(f.key==="amount"){const T=parseFloat(E.amount)||0,O=parseFloat(N.amount)||0;return f.direction==="asc"?T-O:O-T}return f.key==="name"?f.direction==="asc"?E.name.localeCompare(N.name):N.name.localeCompare(E.name):0}),[t,n,a,u,f]),S=B.useMemo(()=>{const R=t.filter(D=>D.status!=="completed"&&D.status!=="paused"),N=R.map(D=>{const F=parseFloat(D.amount)||0;switch(D.type){case"weekly":return F*4.33;case"quarterly":return F/3;case"annually":return F/12;case"monthly":default:return F}}).reduce((D,F)=>D+F,0),T=N*12,O=t.reduce((D,F)=>{const $=F.type||"monthly",ee=parseFloat(F.amount)||0;return D[$]=(D[$]||0)+ee,D},{}),L=t.reduce((D,F)=>{const $=F.status||"active";return D[$]=(D[$]||0)+1,D},{}),C=t.reduce((D,F)=>{const $=parseFloat(F.amount)||0;return $>D.amount?{name:F.name,amount:$}:D},{name:"None",amount:0});return{totalMonthlyIncome:N,totalAnnualIncome:T,typeBreakdown:O,statusBreakdown:L,highestIncome:C,activeCount:R.length,totalCount:t.length,averageIncome:R.length>0?N/R.length:0}},[t]),_=R=>{p(E=>({key:R,direction:E.key===R&&E.direction==="desc"?"asc":"desc"}))},b=R=>{switch(R){case"active":return c.jsx(bi,{size:14,className:"text-green-500"});case"pending":return c.jsx(og,{size:14,className:"text-yellow-500"});case"completed":return c.jsx(bi,{size:14,className:"text-blue-500"});case"paused":return c.jsx(pc,{size:14,className:"text-red-500"});default:return c.jsx(bi,{size:14,className:"text-green-500"})}},P=R=>{const E={monthly:"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200",weekly:"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200",quarterly:"bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-200",annually:"bg-orange-100 dark:bg-orange-900/30 text-orange-800 dark:text-orange-200","one-time":"bg-gray-100 dark:bg-gray-900/30 text-gray-800 dark:text-gray-200","project-based":"bg-cyan-100 dark:bg-cyan-900/30 text-cyan-800 dark:text-cyan-200"};return E[R]||E.monthly},A=(R,E)=>{const N=parseFloat(R)||0;switch(E){case"weekly":return N*4.33;case"quarterly":return N/3;case"annually":return N/12;case"monthly":default:return N}},I=()=>{if(t.length===0){alert("No income sources to export.");return}try{const R=["Source Name","Amount","Type","Monthly Equivalent","Annual Equivalent","Status","Recurring","Notes"],E=t.map(C=>[C.name||"",(parseFloat(C.amount)||0).toFixed(2),C.type||"monthly",A(C.amount,C.type).toFixed(2),(A(C.amount,C.type)*12).toFixed(2),C.status||"active",C.isRecurring?"Yes":"No",C.notes||""]),N=[R.join(","),...E.map(C=>C.map(D=>typeof D=="string"&&D.includes(",")?`"${D}"`:D).join(","))].join(`
`),T=new Blob([N],{type:"text/csv;charset=utf-8;"}),O=document.createElement("a"),L=URL.createObjectURL(T);O.setAttribute("href",L),O.setAttribute("download",`income_sources_${new Date().toISOString().split("T")[0]}.csv`),O.style.visibility="hidden",document.body.appendChild(O),O.click(),document.body.removeChild(O),alert(`Successfully exported ${t.length} income sources!`)}catch(R){console.error("Error exporting CSV:",R),alert("Failed to export CSV: "+R.message)}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Monthly Income"}),c.jsxs("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:["$",S.totalMonthlyIncome.toLocaleString()]})]}),c.jsx(pn,{className:"text-green-600 dark:text-green-400",size:24})]}),c.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:[S.activeCount," active sources"]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Annual Projection"}),c.jsxs("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:["$",S.totalAnnualIncome.toLocaleString()]})]}),c.jsx($a,{className:"text-blue-600 dark:text-blue-400",size:24})]}),c.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Based on current rates"})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Average Income"}),c.jsxs("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:["$",S.averageIncome.toLocaleString()]})]}),c.jsx(ag,{className:"text-purple-600 dark:text-purple-400",size:24})]}),c.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Per active source/month"})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Top Source"}),c.jsx("p",{className:"text-lg font-bold text-orange-600 dark:text-orange-400 truncate",children:S.highestIncome.name})]}),c.jsx(wd,{className:"text-orange-600 dark:text-orange-400",size:24})]}),c.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["$",S.highestIncome.amount.toLocaleString()]})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Income Sources"}),c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:"Track and manage your revenue streams and income sources"})]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsxs("button",{onClick:I,className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(Cn,{size:16}),"Export CSV"]}),c.jsxs("button",{onClick:()=>e("income"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(mn,{size:16}),"Add Income Source"]})]})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[c.jsx("div",{className:"flex-1",children:c.jsxs("div",{className:"relative",children:[c.jsx(La,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),c.jsx("input",{type:"text",placeholder:"Search income sources...",value:n,onChange:R=>i(R.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm"})]})}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(zc,{className:"text-slate-400",size:16}),c.jsx("select",{value:a,onChange:R=>o(R.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",children:m.map(R=>c.jsx("option",{value:R,children:R==="all"?"All Types":R.charAt(0).toUpperCase()+R.slice(1).replace("-"," ")},R))}),c.jsx("select",{value:u,onChange:R=>d(R.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",children:y.map(R=>c.jsx("option",{value:R,children:R==="all"?"All Status":R.charAt(0).toUpperCase()+R.slice(1)},R))})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-3 cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",onClick:()=>_("name"),children:c.jsxs("div",{className:"flex items-center gap-1",children:["Income Source",f.key==="name"&&c.jsx("span",{children:f.direction==="asc"?"":""})]})}),c.jsx("th",{className:"p-3 text-right cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",onClick:()=>_("amount"),children:c.jsxs("div",{className:"flex items-center justify-end gap-1",children:["Amount",f.key==="amount"&&c.jsx("span",{children:f.direction==="asc"?"":""})]})}),c.jsx("th",{className:"p-3",children:"Type"}),c.jsx("th",{className:"p-3 text-right",children:"Monthly Equiv."}),c.jsx("th",{className:"p-3 text-right",children:"Annual Equiv."}),c.jsx("th",{className:"p-3",children:"Status"}),c.jsx("th",{className:"p-3",children:"Recurring"}),c.jsx("th",{className:"p-3",children:"Notes"}),c.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),c.jsx("tbody",{className:"text-sm",children:x.length>0?x.map(R=>{const E=parseFloat(R.amount)||0,N=A(E,R.type),T=N*12;return c.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[c.jsx("td",{className:"p-3",children:c.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:R.name})}),c.jsx("td",{className:"p-3 text-right",children:c.jsxs("span",{className:"font-mono font-bold text-green-600 dark:text-green-400",children:["$",E.toFixed(2)]})}),c.jsx("td",{className:"p-3",children:c.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${P(R.type)}`,children:(R.type||"monthly").replace("-"," ")})}),c.jsx("td",{className:"p-3 text-right",children:c.jsxs("span",{className:"font-mono text-blue-600 dark:text-blue-400",children:["$",N.toFixed(2)]})}),c.jsx("td",{className:"p-3 text-right",children:c.jsxs("span",{className:"font-mono text-purple-600 dark:text-purple-400",children:["$",T.toLocaleString()]})}),c.jsx("td",{className:"p-3",children:c.jsxs("div",{className:"flex items-center gap-1",children:[b(R.status),c.jsx("span",{className:"text-xs capitalize",children:R.status||"active"})]})}),c.jsx("td",{className:"p-3",children:c.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${R.isRecurring?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200":"bg-gray-100 dark:bg-gray-900/30 text-gray-800 dark:text-gray-200"}`,children:R.isRecurring?"Yes":"No"})}),c.jsx("td",{className:"p-3 max-w-xs",children:c.jsx("span",{className:"text-slate-600 dark:text-slate-400 truncate",children:R.notes&&R.notes.length>30?`${R.notes.substring(0,30)}...`:R.notes||""})}),c.jsx("td",{className:"p-3 text-center",children:c.jsxs("div",{className:"flex items-center justify-center gap-1",children:[c.jsx("button",{onClick:()=>e("income",R),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 p-1 rounded transition-colors",title:"Edit income source",children:c.jsx(Zr,{size:16})}),c.jsx("button",{onClick:()=>r("income",R.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500 p-1 rounded transition-colors",title:"Delete income source",children:c.jsx(Xt,{size:16})})]})})]},R.id)}):c.jsx("tr",{children:c.jsx("td",{colSpan:"9",className:"p-8 text-center text-slate-500 dark:text-slate-400",children:n||a!=="all"||u!=="all"?c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(La,{size:24,className:"text-slate-400"}),c.jsx("span",{children:"No income sources match your search criteria"}),c.jsx("button",{onClick:()=>{i(""),o("all"),d("all")},className:"text-cyan-600 hover:text-cyan-500 text-sm font-medium",children:"Clear filters"})]}):c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(pn,{size:24,className:"text-slate-400"}),c.jsx("span",{children:"No income sources added yet"}),c.jsx("button",{onClick:()=>e("income"),className:"text-cyan-600 hover:text-cyan-500 text-sm font-medium",children:"Add your first income source"})]})})})})]})}),x.length>0&&c.jsx("div",{className:"mt-4 p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg border",children:c.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 text-sm",children:[c.jsx("div",{className:"flex items-center gap-4",children:c.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:["Showing ",x.length," of ",t.length," income sources"]})}),c.jsxs("div",{className:"flex items-center gap-6 font-medium",children:[c.jsxs("span",{className:"text-green-600 dark:text-green-400",children:["Monthly: $",x.reduce((R,E)=>R+A(E.amount,E.type),0).toFixed(2)]}),c.jsxs("span",{className:"text-blue-600 dark:text-blue-400",children:["Annual: $",(x.reduce((R,E)=>R+A(E.amount,E.type),0)*12).toLocaleString()]})]})]})})]}),S.totalCount>=1&&S.highestIncome.amount>S.totalMonthlyIncome*.7&&c.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(pc,{className:"text-amber-600 dark:text-amber-400",size:20}),c.jsx("h4",{className:"font-semibold text-amber-800 dark:text-amber-200",children:"Income Diversification Alert"})]}),c.jsxs("p",{className:"text-amber-700 dark:text-amber-300 text-sm mt-2",children:["Your top income source (",S.highestIncome.name,") represents over 70% of your total income. Consider diversifying your income streams to reduce financial risk."]})]})]})},Yae=({goalsWithProgress:t=[],openModal:e,onDeleteGoal:r,onEditGoal:n})=>{const[i,a]=B.useState(null),[o,u]=B.useState(!1),[d,f]=B.useState({name:"",description:"",target:"",current:0,deadline:"",type:"savings"}),p=A=>{a(A)},m=A=>{r(A),a(null)},y=()=>{a(null)},x=A=>A>=100?"from-green-500 to-emerald-500":A>=80?"from-green-500 to-green-600":A>=50?"from-yellow-500 to-orange-500":A>=25?"from-orange-500 to-red-500":"from-red-500 to-red-600",S=A=>{const I=new Date,E=new Date(A)-I,N=Math.ceil(E/(1e3*60*60*24));return N<0?{text:"Overdue",color:"text-red-500",bgColor:"bg-red-100 dark:bg-red-900/20"}:N===0?{text:"Due Today",color:"text-orange-500",bgColor:"bg-orange-100 dark:bg-orange-900/20"}:N===1?{text:"1 day left",color:"text-orange-500",bgColor:"bg-orange-100 dark:bg-orange-900/20"}:N<=7?{text:`${N} days left`,color:"text-yellow-600",bgColor:"bg-yellow-100 dark:bg-yellow-900/20"}:N<=30?{text:`${N} days left`,color:"text-blue-600",bgColor:"bg-blue-100 dark:bg-blue-900/20"}:{text:`${N} days left`,color:"text-slate-600",bgColor:"bg-slate-100 dark:bg-slate-700"}},_=A=>{const I=A.target-A.current,R=Math.ceil((new Date(A.deadline)-new Date)/(1e3*60*60*24));return R>0?Math.ceil(I/R):0},b=(A,I)=>{console.log("Update goal progress:",A,I)},P=A=>{A.preventDefault(),d.name&&d.target&&d.deadline&&(e("goal",{name:d.name,description:d.description,targetValue:Number(d.target),current:Number(d.current),deadline:d.deadline,type:d.type}),f({name:"",description:"",target:"",current:0,deadline:"",type:"savings"}),u(!1))};return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-gradient-to-br from-cyan-100 to-blue-100 dark:from-cyan-900/30 dark:to-blue-900/30 rounded-lg",children:c.jsx(wd,{className:"w-6 h-6 text-cyan-600 dark:text-cyan-400"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Financial Goals"}),c.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:[t.filter(A=>A.progress>=100).length," of ",t.length," completed"]})]})]}),c.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 text-white px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 shadow-lg hover:shadow-xl",children:[c.jsx(qp,{size:16}),"Add Goal"]})]}),t.length>0&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[c.jsx("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 p-4 rounded-lg border border-green-200 dark:border-green-800",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-800 rounded-lg",children:c.jsx(bi,{className:"text-green-600 dark:text-green-400",size:20})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:"Completed"}),c.jsx("p",{className:"text-xl font-bold text-green-800 dark:text-green-200",children:t.filter(A=>A.progress>=100).length})]})]})}),c.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-800 rounded-lg",children:c.jsx($a,{className:"text-blue-600 dark:text-blue-400",size:20})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"In Progress"}),c.jsx("p",{className:"text-xl font-bold text-blue-800 dark:text-blue-200",children:t.filter(A=>A.progress>0&&A.progress<100).length})]})]})}),c.jsx("div",{className:"bg-gradient-to-br from-orange-50 to-red-50 dark:from-orange-900/20 dark:to-red-900/20 p-4 rounded-lg border border-orange-200 dark:border-orange-800",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-800 rounded-lg",children:c.jsx(og,{className:"text-orange-600 dark:text-orange-400",size:20})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-orange-700 dark:text-orange-300",children:"Total Value"}),c.jsxs("p",{className:"text-xl font-bold text-orange-800 dark:text-orange-200",children:["$",t.reduce((A,I)=>A+(I.targetValue||0),0).toLocaleString()]})]})]})})]}),c.jsx("div",{className:"space-y-4",children:t.length===0?c.jsxs("div",{className:"text-center py-12 text-slate-500 dark:text-slate-400",children:[c.jsx("div",{className:"bg-slate-100 dark:bg-slate-700 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4",children:c.jsx(wd,{size:32,className:"opacity-50"})}),c.jsx("h4",{className:"font-semibold text-lg mb-2",children:"No financial goals yet"}),c.jsx("p",{className:"text-sm mb-4",children:"Set your first goal and start tracking your financial progress!"}),c.jsx("button",{onClick:()=>u(!0),className:"bg-cyan-600 hover:bg-cyan-500 text-white px-6 py-2 rounded-lg text-sm font-medium transition-colors",children:"Create Your First Goal"})]}):t.map(A=>{const I=A.progress||0,R=I>=100,E=(A.targetValue||0)-(A.current||0),N=S(A.deadline),T=x(I),O=N.text==="Overdue",L=_({target:A.targetValue||0,current:A.current||0,deadline:A.deadline});return c.jsx("div",{className:`relative border rounded-lg p-5 transition-all duration-200 hover:shadow-md ${R?"border-green-200 dark:border-green-800 bg-gradient-to-r from-green-50/50 to-emerald-50/50 dark:from-green-900/10 dark:to-emerald-900/10":O?"border-red-200 dark:border-red-800 bg-gradient-to-r from-red-50/50 to-pink-50/50 dark:from-red-900/10 dark:to-pink-900/10":"border-slate-200 dark:border-slate-600 hover:border-cyan-300 dark:hover:border-cyan-700"}`,children:i!==A.id?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("h4",{className:"font-semibold text-slate-800 dark:text-white",children:A.name}),R&&c.jsx("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-800 text-green-800 dark:text-green-200 text-xs font-medium rounded-full",children:" Completed"}),A.type&&c.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${A.type==="savings"?"bg-blue-100 dark:bg-blue-800 text-blue-800 dark:text-blue-200":A.type==="debt"?"bg-red-100 dark:bg-red-800 text-red-800 dark:text-red-200":A.type==="investment"?"bg-purple-100 dark:bg-purple-800 text-purple-800 dark:text-purple-200":A.type==="purchase"?"bg-orange-100 dark:bg-orange-800 text-orange-800 dark:text-orange-200":"bg-cyan-100 dark:bg-cyan-800 text-cyan-800 dark:text-cyan-200"}`,children:A.type||"savings"}),c.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${N.bgColor} ${N.color}`,children:N.text})]}),A.description&&c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-3",children:A.description}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Current"}),c.jsxs("p",{className:"font-semibold text-slate-800 dark:text-white",children:["$",(A.current||0).toLocaleString()]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Target"}),c.jsxs("p",{className:"font-semibold text-slate-800 dark:text-white",children:["$",(A.targetValue||0).toLocaleString()]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Remaining"}),c.jsxs("p",{className:"font-semibold text-slate-800 dark:text-white",children:["$",E>0?E.toLocaleString():"0"]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Daily Need"}),c.jsxs("p",{className:"font-semibold text-slate-800 dark:text-white",children:["$",L>0?L.toLocaleString():"0"]})]})]})]}),c.jsxs("div",{className:"flex gap-2 ml-4",children:[c.jsx("button",{onClick:()=>b(A.id,(A.current||0)+(A.targetValue||0)*.1),className:"text-green-600 hover:text-green-500 p-2 rounded-lg hover:bg-green-50 dark:hover:bg-green-900/20 transition-colors",title:"Add 10%",children:c.jsx(qp,{size:18})}),c.jsx("button",{onClick:()=>b(A.id,Math.max(0,(A.current||0)-(A.targetValue||0)*.1)),className:"text-orange-600 hover:text-orange-500 p-2 rounded-lg hover:bg-orange-50 dark:hover:bg-orange-900/20 transition-colors",title:"Subtract 10%",children:c.jsx(lq,{size:18})}),c.jsx("button",{onClick:()=>p(A.id),className:"text-red-600 hover:text-red-500 p-2 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",title:"Delete Goal",children:c.jsx(Xt,{size:18})})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex justify-between items-center text-sm",children:[c.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Progress"}),c.jsxs("span",{className:`font-bold ${R?"text-green-600":"text-cyan-600"}`,children:[I.toFixed(1),"%"]})]}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-4",children:c.jsx("div",{className:`h-4 rounded-full transition-all duration-700 relative overflow-hidden bg-gradient-to-r ${T}`,style:{width:`${Math.min(I,100)}%`},children:c.jsx("div",{className:"absolute inset-0 bg-white/20 animate-pulse"})})}),I>15&&c.jsx("div",{className:"absolute inset-0 flex items-center px-2",children:c.jsxs("span",{className:"text-xs font-medium text-white drop-shadow",children:["$",(A.current||0).toLocaleString()]})})]}),c.jsxs("div",{className:"flex justify-between text-xs text-slate-500 dark:text-slate-400",children:[c.jsxs("span",{children:["Deadline: ",new Date(A.deadline).toLocaleDateString()]}),!R&&E>0&&L>0&&c.jsxs("span",{children:["Need $",L.toLocaleString(),"/day"]})]})]})]}):c.jsx("div",{className:"flex items-center justify-center py-8",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"bg-red-100 dark:bg-red-900/30 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:c.jsx(Xt,{className:"text-red-600 dark:text-red-400",size:24})}),c.jsxs("p",{className:"text-slate-800 dark:text-white font-medium mb-4",children:['Delete "',A.name,'"?']}),c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-6",children:"This action cannot be undone."}),c.jsxs("div",{className:"flex gap-3 justify-center",children:[c.jsx("button",{onClick:()=>m(A.id),className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors font-medium",children:"Delete Goal"}),c.jsx("button",{onClick:y,className:"px-4 py-2 bg-slate-300 hover:bg-slate-400 dark:bg-slate-600 dark:hover:bg-slate-500 text-slate-800 dark:text-white rounded-lg transition-colors font-medium",children:"Cancel"})]})]})})},A.id)})})]}),o&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 w-full max-w-lg border border-slate-200 dark:border-slate-700 shadow-2xl",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Create Financial Goal"}),c.jsx("button",{onClick:()=>u(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:c.jsx(Wc,{size:20})})]}),c.jsxs("form",{onSubmit:P,className:"space-y-5",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Goal Type"}),c.jsxs("select",{value:d.type,onChange:A=>f({...d,type:A.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[c.jsx("option",{value:"savings",children:" Savings Goal"}),c.jsx("option",{value:"debt",children:" Debt Payoff"}),c.jsx("option",{value:"investment",children:" Investment Target"}),c.jsx("option",{value:"purchase",children:" Large Purchase"}),c.jsx("option",{value:"emergency",children:" Emergency Fund"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Goal Name"}),c.jsx("input",{type:"text",value:d.name,onChange:A=>f({...d,name:A.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Emergency Fund, New Car, Pay off Credit Card",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Description"}),c.jsx("textarea",{value:d.description,onChange:A=>f({...d,description:A.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Brief description of your goal and why it matters to you",rows:"3"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Current Amount"}),c.jsx("input",{type:"number",value:d.current,onChange:A=>f({...d,current:Number(A.target.value)}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0",min:"0"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Target Amount"}),c.jsx("input",{type:"number",value:d.target,onChange:A=>f({...d,target:Number(A.target.value)}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"10000",required:!0,min:"1"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Target Deadline"}),c.jsx("input",{type:"date",value:d.deadline,onChange:A=>f({...d,deadline:A.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,min:new Date().toISOString().split("T")[0]})]}),d.target>0&&d.deadline&&c.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:[c.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 font-medium mb-1",children:"Goal Calculation:"}),c.jsxs("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:["To reach $",d.target.toLocaleString()," by ",new Date(d.deadline).toLocaleDateString(),", you need to save $",Math.ceil((d.target-d.current)/Math.max(1,Math.ceil((new Date(d.deadline)-new Date)/(1e3*60*60*24)))).toLocaleString()," per day."]})]}),c.jsxs("div",{className:"flex gap-3 pt-2",children:[c.jsx("button",{type:"button",onClick:()=>u(!1),className:"flex-1 px-4 py-2 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors font-medium",children:"Cancel"}),c.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500 text-white rounded-lg transition-all duration-200 font-medium shadow-lg hover:shadow-xl",children:"Create Goal"})]})]})]})})]})},Xae=({weeklyCosts:t,openModal:e,handleDelete:r})=>{const[n,i]=B.useState(""),[a,o]=B.useState("all"),[u,d]=B.useState({key:"amount",direction:"desc"}),f=["all","Payroll","Fuel & Maintenance","Equipment Rental","Utilities","Insurance","Marketing","Office Expenses","Supplies","Contractors","Other"],p=B.useMemo(()=>t.filter(_=>{const b=_.name.toLowerCase().includes(n.toLowerCase())||_.notes&&_.notes.toLowerCase().includes(n.toLowerCase()),P=a==="all"||_.category===a;return b&&P}).sort((_,b)=>{if(u.key==="amount"){const P=parseFloat(_.amount)||0,A=parseFloat(b.amount)||0;return u.direction==="asc"?P-A:A-P}return u.key==="name"?u.direction==="asc"?_.name.localeCompare(b.name):b.name.localeCompare(_.name):0}),[t,n,a,u]),m=B.useMemo(()=>{const S=t.reduce((E,N)=>E+(parseFloat(N.amount)||0),0),_=S*4.33,b=S*52,P=t.reduce((E,N)=>(parseFloat(N.amount)||0)>E?parseFloat(N.amount)||0:E,0),A=t.length>0?S/t.length:0,I=t.reduce((E,N)=>{const T=N.category||"Other";return E[T]=(E[T]||0)+(parseFloat(N.amount)||0),E},{}),R=Object.entries(I).reduce((E,[N,T])=>T>(E.amount||0)?{category:N,amount:T}:E,{category:"None",amount:0});return{totalWeekly:S,totalMonthly:_,totalAnnual:b,highestCost:P,averageCost:A,categoryTotals:I,topCategory:R,itemCount:t.length}},[t]),y=S=>{d(_=>({key:S,direction:_.key===S&&_.direction==="desc"?"asc":"desc"}))},x=()=>{if(t.length===0){alert("No weekly costs to export.");return}try{const S=["Name","Weekly Amount","Monthly Amount (4.33x)","Annual Amount (52x)","Category","Notes"],_=t.map(R=>[R.name||"",(parseFloat(R.amount)||0).toFixed(2),((parseFloat(R.amount)||0)*4.33).toFixed(2),((parseFloat(R.amount)||0)*52).toFixed(2),R.category||"Other",R.notes||""]),b=[S.join(","),..._.map(R=>R.map(E=>typeof E=="string"&&E.includes(",")?`"${E}"`:E).join(","))].join(`
`),P=new Blob([b],{type:"text/csv;charset=utf-8;"}),A=document.createElement("a"),I=URL.createObjectURL(P);A.setAttribute("href",I),A.setAttribute("download",`weekly_costs_${new Date().toISOString().split("T")[0]}.csv`),A.style.visibility="hidden",document.body.appendChild(A),A.click(),document.body.removeChild(A),alert(`Successfully exported ${t.length} weekly costs!`)}catch(S){console.error("Error exporting CSV:",S),alert("Failed to export CSV: "+S.message)}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Weekly Total"}),c.jsxs("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:["$",m.totalWeekly.toLocaleString()]})]}),c.jsx(sg,{className:"text-red-600 dark:text-red-400",size:24})]}),c.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:[m.itemCount," cost items"]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Monthly Impact"}),c.jsxs("p",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:["$",m.totalMonthly.toLocaleString()]})]}),c.jsx($a,{className:"text-orange-600 dark:text-orange-400",size:24})]}),c.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"x4.33 weeks/month"})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Annual Impact"}),c.jsxs("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:["$",m.totalAnnual.toLocaleString()]})]}),c.jsx(ag,{className:"text-purple-600 dark:text-purple-400",size:24})]}),c.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"x52 weeks/year"})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Top Category"}),c.jsx("p",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:m.topCategory.category})]}),c.jsx(pn,{className:"text-blue-600 dark:text-blue-400",size:24})]}),c.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["$",m.topCategory.amount.toLocaleString(),"/week"]})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Recurring Weekly Costs"}),c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:"Track and manage your regular weekly business expenses"})]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsxs("button",{onClick:x,className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(Cn,{size:16}),"Export CSV"]}),c.jsxs("button",{onClick:()=>e("weekly"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(mn,{size:16}),"Add Weekly Cost"]})]})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[c.jsx("div",{className:"flex-1",children:c.jsxs("div",{className:"relative",children:[c.jsx(La,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),c.jsx("input",{type:"text",placeholder:"Search weekly costs...",value:n,onChange:S=>i(S.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm"})]})}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(zc,{className:"text-slate-400",size:16}),c.jsx("select",{value:a,onChange:S=>o(S.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",children:f.map(S=>c.jsx("option",{value:S,children:S==="all"?"All Categories":S},S))})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-3 cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",onClick:()=>y("name"),children:c.jsxs("div",{className:"flex items-center gap-1",children:["Cost Item",u.key==="name"&&c.jsx("span",{children:u.direction==="asc"?"":""})]})}),c.jsx("th",{className:"p-3",children:"Category"}),c.jsx("th",{className:"p-3 text-right cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",onClick:()=>y("amount"),children:c.jsxs("div",{className:"flex items-center justify-end gap-1",children:["Weekly Amount",u.key==="amount"&&c.jsx("span",{children:u.direction==="asc"?"":""})]})}),c.jsx("th",{className:"p-3 text-right",children:"Monthly Impact"}),c.jsx("th",{className:"p-3 text-right",children:"Annual Impact"}),c.jsx("th",{className:"p-3",children:"Notes"}),c.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),c.jsx("tbody",{className:"text-sm",children:p.length>0?p.map(S=>{const _=parseFloat(S.amount)||0,b=_*4.33,P=_*52;return c.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[c.jsx("td",{className:"p-3",children:c.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:S.name})}),c.jsx("td",{className:"p-3",children:c.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200",children:S.category||"Other"})}),c.jsx("td",{className:"p-3 text-right",children:c.jsxs("span",{className:"font-mono font-bold text-red-600 dark:text-red-400",children:["$",_.toFixed(2)]})}),c.jsx("td",{className:"p-3 text-right",children:c.jsxs("span",{className:"font-mono text-orange-600 dark:text-orange-400",children:["$",b.toFixed(2)]})}),c.jsx("td",{className:"p-3 text-right",children:c.jsxs("span",{className:"font-mono text-purple-600 dark:text-purple-400",children:["$",P.toLocaleString()]})}),c.jsx("td",{className:"p-3 max-w-xs",children:c.jsx("span",{className:"text-slate-600 dark:text-slate-400 truncate",children:S.notes&&S.notes.length>50?`${S.notes.substring(0,50)}...`:S.notes||""})}),c.jsx("td",{className:"p-3 text-center",children:c.jsxs("div",{className:"flex items-center justify-center gap-1",children:[c.jsx("button",{onClick:()=>e("weekly",S),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 p-1 rounded transition-colors",title:"Edit cost",children:c.jsx(Zr,{size:16})}),c.jsx("button",{onClick:()=>r("weekly",S.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500 p-1 rounded transition-colors",title:"Delete cost",children:c.jsx(Xt,{size:16})})]})})]},S.id)}):c.jsx("tr",{children:c.jsx("td",{colSpan:"7",className:"p-8 text-center text-slate-500 dark:text-slate-400",children:n||a!=="all"?c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(La,{size:24,className:"text-slate-400"}),c.jsx("span",{children:"No weekly costs match your search criteria"}),c.jsx("button",{onClick:()=>{i(""),o("all")},className:"text-cyan-600 hover:text-cyan-500 text-sm font-medium",children:"Clear filters"})]}):c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(pn,{size:24,className:"text-slate-400"}),c.jsx("span",{children:"No weekly costs added yet"}),c.jsx("button",{onClick:()=>e("weekly"),className:"text-cyan-600 hover:text-cyan-500 text-sm font-medium",children:"Add your first weekly cost"})]})})})})]})}),p.length>0&&c.jsx("div",{className:"mt-4 p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg border",children:c.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 text-sm",children:[c.jsx("div",{className:"flex items-center gap-4",children:c.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:["Showing ",p.length," of ",t.length," costs"]})}),c.jsxs("div",{className:"flex items-center gap-6 font-medium",children:[c.jsxs("span",{className:"text-red-600 dark:text-red-400",children:["Weekly: $",p.reduce((S,_)=>S+(parseFloat(_.amount)||0),0).toFixed(2)]}),c.jsxs("span",{className:"text-orange-600 dark:text-orange-400",children:["Monthly: $",(p.reduce((S,_)=>S+(parseFloat(_.amount)||0),0)*4.33).toFixed(2)]}),c.jsxs("span",{className:"text-purple-600 dark:text-purple-400",children:["Annual: $",(p.reduce((S,_)=>S+(parseFloat(_.amount)||0),0)*52).toLocaleString()]})]})]})})]}),m.highestCost>1e3&&c.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(yf,{className:"text-amber-600 dark:text-amber-400",size:20}),c.jsx("h4",{className:"font-semibold text-amber-800 dark:text-amber-200",children:"High Weekly Cost Alert"})]}),c.jsxs("p",{className:"text-amber-700 dark:text-amber-300 text-sm mt-2",children:["You have a weekly cost of $",m.highestCost.toLocaleString(),", which amounts to $",(m.highestCost*52).toLocaleString()," annually. Consider reviewing this expense for potential savings opportunities."]})]})]})},Qae=({bills:t,paidStatus:e,selectedCategory:r,setSelectedCategory:n,handleTogglePaid:i,handleSort:a,openModal:o,handleDelete:u,handleEnhancedExportCSV:d})=>{const[f,p]=B.useState(""),[m,y]=B.useState("dueDay"),[x,S]=B.useState("asc"),[_,b]=B.useState("all"),[P,A]=B.useState("all"),[I,R]=B.useState("all"),[E,N]=B.useState(!1),T=new Date,O=new Date(T.getFullYear(),T.getMonth(),T.getDate()-T.getDay()),L=new Date(O.getTime()+6*24*60*60*1e3),C=new Date(L.getTime()+1*24*60*60*1e3),D=new Date(C.getTime()+6*24*60*60*1e3),F=new Date(T.getFullYear(),T.getMonth(),1),$=new Date(T.getFullYear(),T.getMonth()+1,0),ee=B.useMemo(()=>{let J=t.filter(ae=>{if(r&&ae.category!==r||f&&!ae.name.toLowerCase().includes(f.toLowerCase())||_==="paid"&&!e[ae.id]||_==="unpaid"&&e[ae.id]||I==="under100"&&ae.amount>=100||I==="100to500"&&(ae.amount<100||ae.amount>500)||I==="over500"&&ae.amount<=500)return!1;if(P!=="all"&&ae.dueDay){const z=new Date(T.getFullYear(),T.getMonth(),ae.dueDay);switch(z<T&&z.setMonth(z.getMonth()+1),P){case"overdue":if(z>=T)return!1;break;case"thisWeek":if(z<O||z>L)return!1;break;case"nextWeek":if(z<C||z>D)return!1;break;case"thisMonth":if(z<F||z>$)return!1;break}}return!0});return J.sort((ae,z)=>{let Y=ae[m],K=z[m];m==="status"&&(Y=e[ae.id]?"paid":"unpaid",K=e[z.id]?"paid":"unpaid"),typeof Y=="string"&&(Y=Y.toLowerCase(),K=K.toLowerCase());let le=0;return Y<K&&(le=-1),Y>K&&(le=1),x==="desc"?-le:le}),J},[t,r,f,_,P,I,m,x,e,T]),ne=J=>{m===J?S(x==="asc"?"desc":"asc"):(y(J),S("asc"))},Q=()=>{p(""),y("dueDay"),S("asc"),b("all"),A("all"),R("all"),n(null)},ie=B.useMemo(()=>{let J=0;return f&&J++,r&&J++,_!=="all"&&J++,P!=="all"&&J++,I!=="all"&&J++,J},[f,r,_,P,I]),Z=({type:J,label:ae})=>{const z=H.useRef(null);return c.jsxs("div",{className:"inline-block",children:[c.jsx("input",{ref:z,type:"file",accept:".csv",onChange:Y=>{Y.target.files[0]&&(window.handleEnhancedCSVImport?.(Y.target.files[0],J),Y.target.value="")},style:{display:"none"}}),c.jsxs("button",{onClick:()=>z.current?.click(),className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(qs,{size:16}),ae]})]})};return c.jsxs("div",{className:"lg:col-span-3 bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 mb-6",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Monthly Bills"}),r&&c.jsxs("button",{onClick:()=>n(null),className:"text-sm text-cyan-500 dark:text-cyan-400 hover:underline",children:["Clear Filter: ",r]}),ie>0&&c.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200",children:[ie," filter",ie!==1?"s":""," active"]})]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx(Z,{type:"bill",label:"Import"}),c.jsxs("button",{onClick:()=>d(ee,"bills"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(Cn,{size:16})," Export"]})]})]}),c.jsxs("div",{className:"space-y-4 mb-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[c.jsxs("div",{className:"flex-1 relative",children:[c.jsx(La,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),c.jsx("input",{type:"text",placeholder:"Search bills by name...",value:f,onChange:J=>p(J.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm focus:ring-2 focus:ring-cyan-500 focus:border-transparent"}),f&&c.jsx("button",{onClick:()=>p(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600",children:c.jsx(Wc,{size:16})})]}),c.jsxs("button",{onClick:()=>N(!E),className:`flex items-center gap-2 px-4 py-2 rounded-md border transition-colors ${E?"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-700 text-blue-700 dark:text-blue-300":"border-slate-300 dark:border-slate-600 text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[c.jsx(zc,{size:16}),"Filters",c.jsx(bd,{className:`transition-transform ${E?"rotate-180":""}`,size:16})]}),ie>0&&c.jsx("button",{onClick:Q,className:"px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-md transition-colors",children:"Clear All"})]}),E&&c.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-4 rounded-lg border border-slate-200 dark:border-slate-600",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Sort By"}),c.jsxs("select",{value:`${m}-${x}`,onChange:J=>{const[ae,z]=J.target.value.split("-");y(ae),S(z)},className:"w-full px-3 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[c.jsx("option",{value:"name-asc",children:"Name (A-Z)"}),c.jsx("option",{value:"name-desc",children:"Name (Z-A)"}),c.jsx("option",{value:"dueDay-asc",children:"Due Date (Early)"}),c.jsx("option",{value:"dueDay-desc",children:"Due Date (Late)"}),c.jsx("option",{value:"amount-asc",children:"Amount (Low-High)"}),c.jsx("option",{value:"amount-desc",children:"Amount (High-Low)"}),c.jsx("option",{value:"status-asc",children:"Status (Unpaid First)"}),c.jsx("option",{value:"status-desc",children:"Status (Paid First)"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Payment Status"}),c.jsxs("select",{value:_,onChange:J=>b(J.target.value),className:"w-full px-3 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[c.jsx("option",{value:"all",children:"All Bills"}),c.jsx("option",{value:"unpaid",children:"Unpaid Only"}),c.jsx("option",{value:"paid",children:"Paid Only"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Due Date"}),c.jsxs("select",{value:P,onChange:J=>A(J.target.value),className:"w-full px-3 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[c.jsx("option",{value:"all",children:"All Dates"}),c.jsx("option",{value:"overdue",children:"Overdue"}),c.jsx("option",{value:"thisWeek",children:"This Week"}),c.jsx("option",{value:"nextWeek",children:"Next Week"}),c.jsx("option",{value:"thisMonth",children:"This Month"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Amount Range"}),c.jsxs("select",{value:I,onChange:J=>R(J.target.value),className:"w-full px-3 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[c.jsx("option",{value:"all",children:"All Amounts"}),c.jsx("option",{value:"under100",children:"Under $100"}),c.jsx("option",{value:"100to500",children:"$100 - $500"}),c.jsx("option",{value:"over500",children:"Over $500"})]})]})]}),c.jsx("div",{className:"mt-3 pt-3 border-t border-slate-200 dark:border-slate-600",children:c.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Showing ",ee.length," of ",t.length," bills",ie>0&&` with ${ie} filter${ie!==1?"s":""} applied`]})})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-3",children:c.jsxs("button",{onClick:()=>ne("status"),className:"flex items-center gap-1 hover:text-slate-700 dark:hover:text-slate-300",children:["Status",m==="status"&&(x==="asc"?c.jsx(No,{size:14}):c.jsx(Ao,{size:14}))]})}),c.jsx("th",{className:"p-3",children:c.jsxs("button",{onClick:()=>ne("name"),className:"flex items-center gap-1 hover:text-slate-700 dark:hover:text-slate-300",children:["Name",m==="name"&&(x==="asc"?c.jsx(No,{size:14}):c.jsx(Ao,{size:14}))]})}),c.jsx("th",{className:"p-3",children:"Notes"}),c.jsx("th",{className:"p-3",children:"Receipt"}),c.jsx("th",{className:"p-3 text-right",children:c.jsxs("button",{onClick:()=>ne("amount"),className:"flex items-center gap-1 ml-auto hover:text-slate-700 dark:hover:text-slate-300",children:["Amount",m==="amount"&&(x==="asc"?c.jsx(No,{size:14}):c.jsx(Ao,{size:14}))]})}),c.jsx("th",{className:"p-3 text-center",children:c.jsxs("button",{onClick:()=>ne("dueDay"),className:"flex items-center gap-1 mx-auto hover:text-slate-700 dark:hover:text-slate-300",children:["Due Day",m==="dueDay"&&(x==="asc"?c.jsx(No,{size:14}):c.jsx(Ao,{size:14}))]})}),c.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),c.jsx("tbody",{children:ee.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:"7",className:"p-8 text-center text-slate-500 dark:text-slate-400",children:t.length===0?c.jsxs("div",{children:[c.jsx("p",{className:"text-lg font-medium mb-2",children:"No bills added yet"}),c.jsx("p",{className:"text-sm",children:'Click "Add New Bill" to get started'})]}):c.jsxs("div",{children:[c.jsx("p",{className:"text-lg font-medium mb-2",children:"No bills match your filters"}),c.jsx("p",{className:"text-sm",children:"Try adjusting your search or filter criteria"})]})})}):ee.map(J=>c.jsxs("tr",{className:`border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors ${e[J.id]?"text-slate-400 dark:text-slate-500":"text-slate-700 dark:text-slate-200"}`,children:[c.jsx("td",{className:"p-3",children:c.jsx("button",{onClick:()=>i(J.id),className:"hover:scale-110 transition-transform",children:e[J.id]?c.jsx(bi,{className:"text-green-500",size:20}):c.jsx($D,{className:"text-slate-400 dark:text-slate-600",size:20})})}),c.jsxs("td",{className:`p-3 font-medium ${e[J.id]?"line-through":""}`,children:[J.name,J.category&&c.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:J.category})]}),c.jsx("td",{className:"p-3 text-center",children:J.notes&&c.jsxs("div",{className:"group relative flex justify-center",children:[c.jsx(FD,{size:16,className:"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}),c.jsx("span",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 text-xs text-white bg-slate-700 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:J.notes})]})}),c.jsx("td",{className:"p-3 text-center",children:J.attachmentURL?c.jsx("a",{href:J.attachmentURL,target:"_blank",rel:"noopener noreferrer",className:"hover:scale-110 transition-transform inline-block",children:c.jsx(bA,{size:16,className:"text-cyan-500 dark:text-cyan-400"})}):c.jsx(bA,{size:16,className:"text-slate-400 dark:text-slate-600"})}),c.jsxs("td",{className:"p-3 text-right font-mono font-semibold",children:["$",(J.amount||0).toFixed(2)]}),c.jsx("td",{className:"p-3 text-center font-medium",children:J.dueDay}),c.jsx("td",{className:"p-3 text-center",children:c.jsxs("div",{className:"flex items-center justify-center gap-1",children:[c.jsx("button",{onClick:()=>o("bill",J),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 p-1 rounded transition-colors",title:"Edit bill",children:c.jsx(Zr,{size:16})}),c.jsx("button",{onClick:()=>u("bill",J.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500 p-1 rounded transition-colors",title:"Delete bill",children:c.jsx(Xt,{size:16})})]})})]},J.id))})]})}),c.jsxs("button",{onClick:()=>o("bill"),className:"mt-4 flex items-center gap-2 text-cyan-600 dark:text-cyan-400 hover:text-cyan-500 dark:hover:text-cyan-300 font-semibold transition-colors",children:[c.jsx(mn,{size:18}),"Add New Bill"]})]})},Jae=({type:t,label:e,acceptTypes:r=".csv"})=>{const n=H.useRef(null);return c.jsxs("div",{className:"inline-block",children:[c.jsx("input",{ref:n,type:"file",accept:r,onChange:i=>{i.target.files[0]&&(window.handleEnhancedCSVImport?.(i.target.files[0],t),i.target.value="")},style:{display:"none"}}),c.jsxs("button",{onClick:()=>n.current?.click(),className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(qs,{size:16}),e]})]})},Zae=({recurringWork:t,openModal:e,handleDelete:r,handleEnhancedExportCSV:n,searchTerm:i,setSearchTerm:a})=>{const o=H.useMemo(()=>t.filter(u=>Object.values(u).some(d=>String(d).toLowerCase().includes(i.toLowerCase()))),[t,i]);return c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Recurring Work Management"}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx(Jae,{type:"recurring",label:"Import"}),c.jsxs("button",{onClick:()=>n(t,"recurring_work",["name","clientId","revenue","frequency","nextDueDate","notes"]),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[c.jsx(Cn,{size:16}),"Export"]}),c.jsxs("button",{onClick:()=>e("recurring"),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg transition-colors",children:[c.jsx(mn,{size:18}),"Add Recurring Work"]})]})]}),c.jsx("div",{className:"mb-4",children:c.jsx("input",{type:"text",placeholder:"Search recurring work...",value:i,onChange:u=>a(u.target.value),className:"w-full px-4 py-2 border rounded-md bg-white dark:bg-slate-700 border-slate-300 dark:border-slate-600 focus:ring-cyan-500 focus:border-cyan-500"})}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-3",children:"Work Name"}),c.jsx("th",{className:"p-3",children:"Client ID"}),c.jsx("th",{className:"p-3 text-right",children:"Revenue"}),c.jsx("th",{className:"p-3",children:"Frequency"}),c.jsx("th",{className:"p-3",children:"Next Due Date"}),c.jsx("th",{className:"p-3",children:"Notes"}),c.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),c.jsx("tbody",{children:o.length>0?o.map(u=>c.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[c.jsx("td",{className:"p-3 font-medium",children:u.name}),c.jsx("td",{className:"p-3",children:u.clientId}),c.jsxs("td",{className:"p-3 text-right font-mono",children:["$",(u.revenue||0).toFixed(2)]}),c.jsx("td",{className:"p-3",children:u.frequency}),c.jsx("td",{className:"p-3",children:u.nextDueDate}),c.jsx("td",{className:"p-3 text-sm text-slate-500",children:u.notes}),c.jsxs("td",{className:"p-3 text-center",children:[c.jsx("button",{onClick:()=>e("recurring",u),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:c.jsx(Zr,{size:16})}),c.jsx("button",{onClick:()=>r("recurring",u.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:c.jsx(Xt,{size:16})})]})]},u.id)):c.jsx("tr",{children:c.jsx("td",{colSpan:"7",className:"p-6 text-center text-slate-500",children:"No recurring work found."})})})]})})]})},ese=({currentView:t,setCurrentView:e,onAddOrderClick:r})=>c.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-10",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[t!=="dashboard"?c.jsx("button",{onClick:()=>e("dashboard"),className:"p-2 rounded-full hover:bg-gray-100",children:c.jsx(Q8,{size:24})}):c.jsx(Sa,{className:"h-8 w-8 text-blue-600"}),c.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"HVAC Dispatch"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("button",{onClick:()=>e("billing"),className:"flex items-center gap-2 text-gray-600 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[c.jsx(Cn,{size:20})," Billing"]}),c.jsxs("button",{onClick:()=>e("reporting"),className:"flex items-center gap-2 text-gray-600 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[c.jsx(eq,{size:20})," Reporting"]}),c.jsxs("button",{onClick:()=>e("route"),className:"flex items-center gap-2 text-gray-600 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[c.jsx(oq,{size:20})," Route"]}),c.jsxs("button",{onClick:()=>e("dispatch"),className:"flex items-center gap-2 text-gray-600 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[c.jsx(sg,{size:20})," Dispatch"]}),c.jsxs("button",{onClick:()=>e("customers"),className:"flex items-center gap-2 text-gray-600 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[c.jsx(bp,{size:20})," Customers"]}),c.jsxs("button",{onClick:()=>e("technicians"),className:"flex items-center gap-2 text-gray-600 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[c.jsx(SS,{size:20})," Technicians"]}),c.jsxs("button",{onClick:r,className:"flex items-center gap-2 bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:[c.jsx(mn,{size:20})," Add Work Order"]})]})]})})}),tse=t=>t&&typeof t=="number"?new Date(Math.round((t-25569)*86400*1e3)):null,rse=t=>{const e=tse(t);return e?e.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):null},nse=t=>{if(!t)return"";const[e,r]=t.split(":"),n=parseInt(e,10),i=n>=12?"PM":"AM";return`${(n+11)%12+1}:${r} ${i}`},gR=t=>({emergency:"bg-red-100 text-red-800 border-red-500",urgent:"bg-orange-100 text-orange-800 border-orange-500",regular:"bg-blue-100 text-blue-800 border-blue-500",low:"bg-gray-100 text-gray-800 border-gray-500"})[t?.toLowerCase()]||"bg-gray-100 text-gray-800 border-gray-500",ise=t=>({completed:"bg-green-100 text-green-800",scheduled:"bg-blue-100 text-blue-800",open:"bg-yellow-100 text-yellow-800","in progress":"bg-purple-100 text-purple-800","on hold":"bg-pink-100 text-pink-800",cancelled:"bg-red-100 text-red-800"})[t?.toLowerCase()]||"bg-gray-100 text-gray-800",ase=({order:t,onSelectOrder:e})=>c.jsxs("div",{className:"bg-white rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300 overflow-hidden border-l-4",style:{borderColor:gR(t.Priority).borderColor},children:[c.jsxs("div",{className:"p-5",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsx("span",{className:`text-xs font-bold uppercase px-2 py-1 rounded-full ${gR(t.Priority)}`,children:t.Priority}),c.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full ${ise(t["Order Status"])}`,children:t["Order Status"]})]}),c.jsxs("p",{className:"text-xs text-gray-500 font-semibold mt-3 flex items-center",children:[c.jsx(LD,{size:12,className:"mr-1.5"})," ",t.Client]}),c.jsxs("h3",{className:"text-lg font-bold text-gray-800",children:[t.Company," - #",t["Loc #"]]}),c.jsx("p",{className:"text-sm text-gray-500 font-medium",children:t.Task}),c.jsxs("div",{className:"mt-4 space-y-2 text-sm text-gray-600",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(SS,{className:"w-4 h-4 mr-2 text-gray-400"}),c.jsx("span",{children:t.technician?.join(", ")||"Unassigned"})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(sg,{className:"w-4 h-4 mr-2 text-gray-400"}),c.jsxs("span",{children:["Scheduled: ",rse(t["Schedule Date"])||"Not Set"," ",t.startTime&&`(${nse(t.startTime)})`]})]}),t.clientWO&&c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"font-bold mr-2",children:"Client WO:"}),c.jsx("span",{children:t.clientWO})]})]})]}),c.jsx("div",{className:"bg-gray-50 px-5 py-3",children:c.jsx("button",{onClick:()=>e(t),className:"w-full text-sm font-semibold text-blue-600 hover:text-blue-800 transition-colors",children:"View Details"})})]}),sse=({orders:t,onSelectOrder:e,searchTerm:r,setSearchTerm:n,statusFilter:i,setStatusFilter:a})=>c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-8",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"relative md:col-span-2",children:[c.jsx(La,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsx("input",{type:"text",placeholder:"Search by WO#, Client, Location, Tech...",value:r,onChange:o=>n(o.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("div",{className:"relative",children:[c.jsx(zc,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),c.jsxs("select",{value:i,onChange:o=>a(o.target.value),className:"w-full appearance-none pl-10 pr-8 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white",children:[c.jsx("option",{children:"All"}),c.jsx("option",{children:"Open"}),c.jsx("option",{children:"Scheduled"}),c.jsx("option",{children:"In Progress"}),c.jsx("option",{children:"On Hold"}),c.jsx("option",{children:"Completed"}),c.jsx("option",{children:"Cancelled"})]}),c.jsx(bd,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",size:20})]})]})}),t.length>0?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(o=>c.jsx(ase,{order:o,onSelectOrder:e},o.id))}):c.jsxs("div",{className:"text-center py-16 px-6 bg-white rounded-lg shadow-sm",children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-700",children:"No Work Orders Found"}),c.jsx("p",{className:"text-gray-500 mt-2",children:"Try adjusting your search or filter criteria."})]})]}),ose=t=>t&&typeof t=="number"?new Date(Math.round((t-25569)*86400*1e3)):null,lse=t=>t?t.getTime()/864e5+25569:null,cse=t=>{const e=ose(t);return e?e.toISOString().split("T")[0]:""},use=t=>t?lse(new Date(t+"T00:00:00")):null,vR=t=>({emergency:"bg-red-100 text-red-800 border-red-500",urgent:"bg-orange-100 text-orange-800 border-orange-500",regular:"bg-blue-100 text-blue-800 border-blue-500",low:"bg-gray-100 text-gray-800 border-gray-500"})[t?.toLowerCase()]||"bg-gray-100 text-gray-800 border-gray-500",dse=t=>({available:"bg-green-100 text-green-800","on site":"bg-blue-100 text-blue-800","en route":"bg-yellow-100 text-yellow-800","on break":"bg-gray-100 text-gray-800","on call":"bg-teal-100 text-teal-800","day off":"bg-slate-200 text-slate-800"})[t?.toLowerCase()]||"bg-gray-100 text-gray-800",fse=({workOrders:t,technicians:e,onSelectOrder:r,onUpdateOrder:n})=>{const[i,a]=B.useState(new Date().toISOString().split("T")[0]),o=Array.from({length:13},(b,P)=>P+7),u=e.filter(b=>b.name!=="Unassigned"),d=b=>{const P=u.findIndex(A=>A.name===b);return P===-1?-1:P+2},f=b=>{if(!b)return 0;const[P,A]=b.split(":").map(Number);return isNaN(P)||isNaN(A)?0:(P-7)*4+A/15+2},p=t.filter(b=>cse(b["Schedule Date"])===i&&b.startTime&&b.endTime&&b.technician?.length>0),m=t.filter(b=>b["Order Status"]==="Open"||!b.technician||b.technician.length===0).sort((b,P)=>{const A={Emergency:1,Urgent:2,Regular:3,Low:4};return(A[b.Priority]||5)-(A[P.Priority]||5)}),y=(b,P)=>{b.dataTransfer.setData("workOrder",JSON.stringify(P))},x=(b,P,A)=>{b.preventDefault();const I=JSON.parse(b.dataTransfer.getData("workOrder")),R=A,E=`${String(parseInt(A.split(":")[0])+2).padStart(2,"0")}:${A.split(":")[1]}`;n(I.id,{...I,technician:[P],"Schedule Date":use(i),startTime:R,endTime:E,"Order Status":"Scheduled"})},S=b=>{b.preventDefault();const P=JSON.parse(b.dataTransfer.getData("workOrder"));n(P.id,{...P,technician:[],"Schedule Date":null,startTime:null,endTime:null,"Order Status":"Open"})},_=b=>b.preventDefault();return c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm flex justify-between items-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Dispatch Board"}),c.jsx("input",{type:"date",value:i,onChange:b=>a(b.target.value),className:"p-2 border border-gray-300 rounded-lg"})]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsxs("div",{className:"w-1/4 bg-white p-4 rounded-lg shadow-sm",onDrop:S,onDragOver:_,children:[c.jsx("h3",{className:"text-lg font-bold mb-4",children:"Unassigned Jobs"}),c.jsx("div",{className:"space-y-2 max-h-[70vh] overflow-y-auto",children:m.map(b=>c.jsxs("div",{draggable:!0,onDragStart:P=>y(P,b),className:`p-2 border-l-4 rounded cursor-grab ${vR(b.Priority)}`,children:[c.jsx("p",{className:"font-bold text-sm",children:b.Company}),c.jsx("p",{className:"text-xs text-gray-600",children:b.Task})]},b.id))})]}),c.jsx("div",{className:"w-3/4 bg-white p-4 rounded-lg shadow-sm overflow-x-auto",children:c.jsxs("div",{className:"grid gap-px bg-gray-200 min-w-max",style:{gridTemplateColumns:`60px repeat(${u.length}, minmax(200px, 1fr))`,gridTemplateRows:`auto repeat(${o.length*4}, 20px)`},children:[c.jsx("div",{className:"bg-gray-100 sticky top-0 z-10"}),u.map(b=>c.jsxs("div",{className:"bg-gray-100 text-center font-bold p-2 sticky top-0 z-10 flex flex-col",children:[c.jsx("span",{children:b.name}),c.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full mt-1 ${dse(b.status)}`,children:b.status})]},b.id)),o.map(b=>c.jsxs(H.Fragment,{children:[c.jsxs("div",{className:"row-start-auto bg-gray-50 text-right pr-2 text-xs text-gray-500 -translate-y-2 sticky left-0 z-10",style:{gridRow:(b-7)*4+2},children:[b>12?b-12:b,":00 ",b>=12?"PM":"AM"]}),u.map((P,A)=>c.jsx(H.Fragment,{children:Array.from({length:4}).map((I,R)=>c.jsx("div",{onDrop:E=>x(E,P.name,`${String(b).padStart(2,"0")}:${String(R*15).padStart(2,"0")}`),onDragOver:_,className:"border-t border-gray-200",style:{gridRow:(b-7)*4+R+2,gridColumn:A+2}},`${P.id}-${b}-${R}`))},P.id))]},b)),p.flatMap(b=>b.technician.map(P=>{const A=d(P),I=f(b.startTime),R=f(b.endTime);return A<0||!I||!R||R<=I?null:c.jsxs("div",{draggable:!0,onDragStart:E=>y(E,b),className:`p-2 m-px rounded-lg text-xs cursor-grab overflow-hidden ${vR(b.Priority)}`,style:{gridColumn:A,gridRow:`${I} / ${R}`},onClick:()=>r(b),children:[c.jsx("p",{className:"font-bold truncate",children:b.Company}),c.jsx("p",{className:"truncate",children:b.Task})]},`${b.id}-${P}`)}))]})})]})]})},hse=t=>({"national account":"bg-blue-100 text-blue-800",commercial:"bg-purple-100 text-purple-800",residential:"bg-green-100 text-green-800",maintenance:"bg-yellow-100 text-yellow-800"})[t?.toLowerCase()]||"bg-gray-100 text-gray-800",pse=({onClose:t,onAddCustomer:e})=>{const[r,n]=B.useState(""),[i,a]=B.useState("Commercial"),[o,u]=B.useState(""),[d,f]=B.useState(""),[p,m]=B.useState(""),[y,x]=B.useState(""),[S,_]=B.useState(""),[b,P]=B.useState("MI"),[A,I]=B.useState(""),R=E=>{if(E.preventDefault(),!r.trim()){alert("Customer name cannot be empty.");return}e({name:r,type:i,contact:{name:o,email:d,phone:p},billingAddress:{street:y,city:S,state:b,zip:A},locations:[]}),t()};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:c.jsxs("form",{onSubmit:R,className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[c.jsx("div",{className:"p-6 border-b",children:c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Add New Customer"})}),c.jsxs("div",{className:"p-6 overflow-y-auto space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Customer Name"}),c.jsx("input",{type:"text",value:r,onChange:E=>n(E.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Customer Type"}),c.jsxs("select",{value:i,onChange:E=>a(E.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",children:[c.jsx("option",{children:"Commercial"}),c.jsx("option",{children:"Residential"}),c.jsx("option",{children:"National Account"}),c.jsx("option",{children:"Maintenance"})]})]})]}),c.jsxs("div",{className:"pt-4 border-t",children:[c.jsx("h3",{className:"font-semibold",children:"Primary Contact"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-2",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-xs",children:"Name"}),c.jsx("input",{value:o,onChange:E=>u(E.target.value),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs",children:"Email"}),c.jsx("input",{value:d,onChange:E=>f(E.target.value),type:"email",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs",children:"Phone"}),c.jsx("input",{value:p,onChange:E=>m(E.target.value),type:"tel",className:"w-full p-2 border border-gray-300 rounded-lg"})]})]})]}),c.jsxs("div",{className:"pt-4 border-t",children:[c.jsx("h3",{className:"font-semibold",children:"Billing Address"}),c.jsxs("div",{className:"mt-2",children:[c.jsx("label",{className:"text-xs",children:"Street"}),c.jsx("input",{value:y,onChange:E=>x(E.target.value),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-2",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-xs",children:"City"}),c.jsx("input",{value:S,onChange:E=>_(E.target.value),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs",children:"State"}),c.jsx("input",{value:b,onChange:E=>P(E.target.value),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs",children:"Zip"}),c.jsx("input",{value:A,onChange:E=>I(E.target.value),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]})]})]})]}),c.jsxs("div",{className:"p-6 bg-gray-50 border-t flex justify-end gap-4",children:[c.jsx("button",{type:"button",onClick:t,className:"text-gray-700 font-bold py-2 px-4",children:"Cancel"}),c.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-green-700",children:"Save Customer"})]})]})})},mse=({customer:t,onClose:e,onUpdateCustomer:r})=>{const[n,i]=B.useState(t),a=(u,d=null)=>{const{name:f,value:p}=u.target;i(d?m=>({...m,[d]:{...m[d],[f]:p}}):m=>({...m,[f]:p}))},o=u=>{u.preventDefault(),r(n),e()};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:c.jsxs("form",{onSubmit:o,className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[c.jsx("div",{className:"p-6 border-b",children:c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Edit Customer"})}),c.jsxs("div",{className:"p-6 overflow-y-auto space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Customer Name"}),c.jsx("input",{type:"text",name:"name",value:n.name,onChange:a,className:"w-full p-2 border border-gray-300 rounded-lg",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Customer Type"}),c.jsxs("select",{name:"type",value:n.type,onChange:a,className:"w-full p-2 border border-gray-300 rounded-lg",children:[c.jsx("option",{children:"Commercial"}),c.jsx("option",{children:"Residential"}),c.jsx("option",{children:"National Account"}),c.jsx("option",{children:"Maintenance"})]})]})]}),c.jsxs("div",{className:"pt-4 border-t",children:[c.jsx("h3",{className:"font-semibold",children:"Primary Contact"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-2",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-xs",children:"Name"}),c.jsx("input",{name:"name",value:n.contact.name,onChange:u=>a(u,"contact"),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs",children:"Email"}),c.jsx("input",{name:"email",value:n.contact.email,onChange:u=>a(u,"contact"),type:"email",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs",children:"Phone"}),c.jsx("input",{name:"phone",value:n.contact.phone,onChange:u=>a(u,"contact"),type:"tel",className:"w-full p-2 border border-gray-300 rounded-lg"})]})]})]}),c.jsxs("div",{className:"pt-4 border-t",children:[c.jsx("h3",{className:"font-semibold",children:"Billing Address"}),c.jsxs("div",{className:"mt-2",children:[c.jsx("label",{className:"text-xs",children:"Street"}),c.jsx("input",{name:"street",value:n.billingAddress.street,onChange:u=>a(u,"billingAddress"),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-2",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-xs",children:"City"}),c.jsx("input",{name:"city",value:n.billingAddress.city,onChange:u=>a(u,"billingAddress"),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs",children:"State"}),c.jsx("input",{name:"state",value:n.billingAddress.state,onChange:u=>a(u,"billingAddress"),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs",children:"Zip"}),c.jsx("input",{name:"zip",value:n.billingAddress.zip,onChange:u=>a(u,"billingAddress"),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]})]})]})]}),c.jsxs("div",{className:"p-6 bg-gray-50 border-t flex justify-end gap-4",children:[c.jsx("button",{type:"button",onClick:e,className:"text-gray-700 font-bold py-2 px-4",children:"Cancel"}),c.jsx("button",{type:"submit",className:"bg-blue-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-blue-700",children:"Save Changes"})]})]})})},gse=({customer:t,onClose:e,onAddLocation:r})=>{const[n,i]=B.useState(""),[a,o]=B.useState(""),[u,d]=B.useState(""),[f,p]=B.useState("MI"),m=y=>{if(y.preventDefault(),!n.trim()){alert("Location name cannot be empty.");return}r(t.id,{name:n,locNum:a,city:u,state:f}),e()};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:c.jsxs("form",{onSubmit:m,className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[c.jsx("div",{className:"p-6 border-b",children:c.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:["Add Location to ",t.name]})}),c.jsxs("div",{className:"p-6 space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Location Name"}),c.jsx("input",{type:"text",value:n,onChange:y=>i(y.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Location #"}),c.jsx("input",{type:"text",value:a,onChange:y=>o(y.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"City"}),c.jsx("input",{type:"text",value:u,onChange:y=>d(y.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"State"}),c.jsx("input",{type:"text",value:f,onChange:y=>p(y.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]})]})]}),c.jsxs("div",{className:"p-6 bg-gray-50 border-t flex justify-end gap-4",children:[c.jsx("button",{type:"button",onClick:e,className:"text-gray-700 font-bold py-2 px-4",children:"Cancel"}),c.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-green-700",children:"Add Location"})]})]})})},vse=({customers:t,onAddCustomer:e,onUpdateCustomer:r,onAddLocation:n})=>{const[i,a]=B.useState(!1),[o,u]=B.useState(null),[d,f]=B.useState(null);return c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Customer Management"}),c.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-2 bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:[c.jsx(mn,{size:20})," Add New Customer"]})]}),c.jsx("div",{className:"space-y-4",children:t.map(p=>c.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900",children:p.name}),c.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full ${hse(p.type)}`,children:p.type})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>u(p),className:"text-sm text-blue-600 hover:underline",children:"Edit Details"}),c.jsx("button",{onClick:()=>f(p),className:"text-sm text-green-600 hover:underline",children:"Add Location"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[c.jsxs("div",{className:"text-sm",children:[c.jsx("p",{className:"font-semibold text-gray-600",children:"Primary Contact"}),c.jsxs("p",{className:"flex items-center gap-2",children:[c.jsx(SS,{size:14})," ",p.contact.name]}),c.jsxs("p",{className:"flex items-center gap-2",children:[c.jsx(Up,{size:14})," ",p.contact.email]}),c.jsxs("p",{className:"flex items-center gap-2",children:[c.jsx(Bp,{size:14})," ",p.contact.phone]})]}),c.jsxs("div",{className:"text-sm",children:[c.jsx("p",{className:"font-semibold text-gray-600",children:"Billing Address"}),c.jsx("p",{children:p.billingAddress.street}),c.jsxs("p",{children:[p.billingAddress.city,", ",p.billingAddress.state," ",p.billingAddress.zip]})]})]}),c.jsxs("div",{className:"mt-3 pt-3 border-t",children:[c.jsxs("h4",{className:"text-sm font-semibold text-gray-600 mb-1",children:["Service Locations (",p.locations.length,")"]}),c.jsx("div",{className:"pl-4 border-l-2 space-y-1",children:p.locations.map((m,y)=>c.jsxs("div",{className:"text-sm text-gray-700",children:[c.jsx("span",{className:"font-semibold",children:m.name})," (#",m.locNum,") - ",m.city,", ",m.state]},`${m.name}-${m.locNum}-${y}`))})]})]},p.id))}),i&&c.jsx(pse,{onAddCustomer:e,onClose:()=>a(!1)}),o&&c.jsx(mse,{customer:o,onUpdateCustomer:r,onClose:()=>u(null)}),d&&c.jsx(gse,{customer:d,onAddLocation:n,onClose:()=>f(null)})]})},yse=({onClose:t,onAdd:e})=>{const[r,n]=B.useState(""),[i,a]=B.useState(""),[o,u]=B.useState(""),d=f=>{f.preventDefault(),r.trim()&&(e({name:r,email:i,phone:o,status:"Available"}),t())};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:c.jsxs("form",{onSubmit:d,className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[c.jsx("div",{className:"p-6 border-b",children:c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Add New Technician"})}),c.jsxs("div",{className:"p-6 space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Name"}),c.jsx("input",{type:"text",value:r,onChange:f=>n(f.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Email"}),c.jsx("input",{type:"email",value:i,onChange:f=>a(f.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Phone"}),c.jsx("input",{type:"tel",value:o,onChange:f=>u(f.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]})]}),c.jsxs("div",{className:"p-6 bg-gray-50 border-t flex justify-end gap-4",children:[c.jsx("button",{type:"button",onClick:t,className:"text-gray-700 font-bold py-2 px-4",children:"Cancel"}),c.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-green-700",children:"Save Technician"})]})]})})},xse=({technician:t,onClose:e,onUpdate:r})=>{const[n,i]=B.useState(t),a=u=>i(d=>({...d,[u.target.name]:u.target.value})),o=u=>{u.preventDefault(),r(n),e()};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:c.jsxs("form",{onSubmit:o,className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[c.jsx("div",{className:"p-6 border-b",children:c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Edit Technician"})}),c.jsxs("div",{className:"p-6 space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Name"}),c.jsx("input",{type:"text",name:"name",value:n.name,onChange:a,className:"w-full p-2 border border-gray-300 rounded-lg",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Email"}),c.jsx("input",{type:"email",name:"email",value:n.email,onChange:a,className:"w-full p-2 border border-gray-300 rounded-lg"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Phone"}),c.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:a,className:"w-full p-2 border border-gray-300 rounded-lg"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Status"}),c.jsxs("select",{name:"status",value:n.status,onChange:a,className:"w-full p-2 border border-gray-300 rounded-lg",children:[c.jsx("option",{children:"Available"}),c.jsx("option",{children:"En Route"}),c.jsx("option",{children:"On Site"}),c.jsx("option",{children:"On Break"}),c.jsx("option",{children:"On Call"}),c.jsx("option",{children:"Day Off"})]})]})]}),c.jsxs("div",{className:"p-6 bg-gray-50 border-t flex justify-end gap-4",children:[c.jsx("button",{type:"button",onClick:e,className:"text-gray-700 font-bold py-2 px-4",children:"Cancel"}),c.jsx("button",{type:"submit",className:"bg-blue-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-blue-700",children:"Save Changes"})]})]})})},bse=({technicians:t,onAddTechnician:e,onUpdateTechnician:r,onDeleteTechnician:n})=>{const[i,a]=B.useState(!1),[o,u]=B.useState(null);return c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Technician Management"}),c.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-2 bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:[c.jsx(mn,{size:20})," Add New Technician"]})]}),c.jsx("div",{className:"space-y-4",children:t.map(d=>c.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900",children:d.name}),c.jsxs("div",{className:"text-sm text-gray-600 flex items-center gap-4 mt-1",children:[c.jsxs("span",{className:"flex items-center gap-1.5",children:[c.jsx(Up,{size:14})," ",d.email]}),c.jsxs("span",{className:"flex items-center gap-1.5",children:[c.jsx(Bp,{size:14})," ",d.phone]})]})]}),d.name!=="Unassigned"&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>u(d),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-full",children:c.jsx(Zr,{size:16})}),c.jsx("button",{onClick:()=>n(d.id),className:"p-2 text-red-600 hover:bg-red-100 rounded-full",children:c.jsx(Xt,{size:16})})]})]},d.id))}),i&&c.jsx(yse,{onAdd:e,onClose:()=>a(!1)}),o&&c.jsx(xse,{technician:o,onUpdate:r,onClose:()=>u(null)})]})},l6=t=>t&&typeof t=="number"?new Date(Math.round((t-25569)*86400*1e3)):null,wse=t=>{const e=l6(t);return e?e.toISOString().split("T")[0]:""},up=t=>{if(!t)return"";const[e,r]=t.split(":"),n=parseInt(e,10),i=n>=12?"PM":"AM";return`${(n+11)%12+1}:${r} ${i}`},_se=({workOrders:t,technicians:e})=>{const[r,n]=B.useState("ALL"),[i,a]=B.useState("today"),[o,u]=B.useState(new Date().toISOString().split("T")[0]),[d,f]=B.useState(new Date().toISOString().split("T")[0]),p=B.useMemo(()=>{let x=new Date,S=new Date;switch(i){case"today":x.setHours(0,0,0,0),S.setHours(23,59,59,999);break;case"3-day":x.setHours(0,0,0,0),S.setDate(x.getDate()+2),S.setHours(23,59,59,999);break;case"week":const P=x.getDay();x.setDate(x.getDate()-P),x.setHours(0,0,0,0),S.setDate(x.getDate()+6),S.setHours(23,59,59,999);break;case"custom":x=new Date(o+"T00:00:00"),S=new Date(d+"T23:59:59");break}const _=t.filter(P=>{const A=l6(P["Schedule Date"]);return A&&A>=x&&A<=S}),b=e.find(P=>P.id===r)?.name;return r!=="ALL"?_.filter(P=>P.technician.includes(b)).sort((P,A)=>(P.startTime||"").localeCompare(A.startTime||"")):_.sort((P,A)=>(P.startTime||"").localeCompare(A.startTime||""))},[r,t,e,i,o,d]),m=B.useMemo(()=>p.reduce((x,S)=>{const _=wse(S["Schedule Date"]);return x[_]||(x[_]={}),S.technician.forEach(b=>{x[_][b]||(x[_][b]=[]),x[_][b].push(S)}),x},{}),[p]),y=()=>window.print();return c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6 print:hidden",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Route Planning"}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("select",{value:i,onChange:x=>a(x.target.value),className:"p-2 border border-gray-300 rounded-lg",children:[c.jsx("option",{value:"today",children:"Today"}),c.jsx("option",{value:"3-day",children:"Next 3 Days"}),c.jsx("option",{value:"week",children:"This Week"}),c.jsx("option",{value:"custom",children:"Custom Range"})]}),i==="custom"&&c.jsxs(c.Fragment,{children:[c.jsx("input",{type:"date",value:o,onChange:x=>u(x.target.value),className:"p-2 border border-gray-300 rounded-lg"}),c.jsx("input",{type:"date",value:d,onChange:x=>f(x.target.value),className:"p-2 border border-gray-300 rounded-lg"})]}),c.jsxs("select",{value:r,onChange:x=>n(x.target.value==="ALL"?"ALL":Number(x.target.value)),className:"p-2 border border-gray-300 rounded-lg",children:[c.jsx("option",{value:"ALL",children:"All Technicians"}),e.filter(x=>x.name!=="Unassigned").map(x=>c.jsx("option",{value:x.id,children:x.name},x.id))]}),c.jsxs("button",{onClick:y,className:"flex items-center gap-2 bg-gray-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-700",children:[c.jsx(uq,{size:20})," Print Route"]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"md:col-span-1 print:col-span-3",children:[c.jsx("h3",{className:"font-bold text-lg mb-2",children:"Job Order"}),Object.keys(m).length>0?Object.entries(m).map(([x,S])=>c.jsxs("div",{className:"mb-4",children:[c.jsx("h4",{className:"font-bold text-xl mb-2 p-2 bg-gray-200 rounded-md sticky top-20",children:new Date(x+"T00:00:00").toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"})}),Object.entries(S).map(([_,b])=>c.jsxs("div",{className:"mb-4",children:[r==="ALL"&&c.jsx("h5",{className:"font-bold text-md mb-2 p-2 bg-gray-100 rounded-md",children:_}),c.jsx("div",{className:"space-y-2",children:b.map((P,A)=>c.jsxs("div",{className:"p-3 border rounded-lg flex items-center gap-4",children:[c.jsx("span",{className:"text-xl font-bold text-gray-400",children:A+1}),c.jsxs("div",{children:[c.jsxs("p",{className:"font-bold",children:[up(P.startTime)," - ",up(P.endTime)]}),c.jsxs("p",{children:[P.Company," - ",P.City]}),c.jsx("p",{className:"text-sm text-gray-600",children:P.Task})]})]},P.id))})]},_))]},x)):c.jsx("p",{children:"No jobs scheduled for this selection."})]}),c.jsx("div",{className:"md:col-span-2 bg-gray-200 rounded-lg flex items-center justify-center h-96 print:hidden",children:c.jsx("p",{className:"text-gray-500",children:"Map Placeholder"})})]}),c.jsx("style",{children:"@media print { body * { visibility: hidden; } .print-container, .print-container * { visibility: visible; } .print-container { position: absolute; left: 0; top: 0; width: 100%; } }"}),c.jsxs("div",{className:"print-container hidden print:block",children:[c.jsxs("h2",{className:"text-2xl font-bold mb-4",children:["Route for ",r==="ALL"?"All Technicians":e.find(x=>x.id===r)?.name," on ",new Date(o+"T00:00:00").toLocaleDateString()]}),Object.entries(m).map(([x,S])=>c.jsxs("div",{className:"mb-4",children:[c.jsx("h3",{className:"font-bold text-lg mt-4 border-t pt-2",children:new Date(x+"T00:00:00").toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"})}),Object.entries(S).map(([_,b])=>c.jsxs("div",{className:"mb-2",children:[c.jsx("h4",{className:"font-semibold text-md mt-2",children:_}),b.map((P,A)=>c.jsxs("div",{className:"p-2 border-b",children:[c.jsx("p",{children:c.jsxs("strong",{children:[A+1,". ",up(P.startTime)," - ",up(P.endTime),": ",P.Company]})}),c.jsxs("p",{children:[P.Task," at ",P.City,", ",P.State]})]},P.id))]},_))]},x))]})]})},yR=t=>t==null?"N/A":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t),Sse=({invoices:t,quotes:e})=>{const[r,n]=B.useState("invoices");return c.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Billing"}),c.jsxs("button",{className:"flex items-center gap-2 bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:[c.jsx(mn,{size:20})," Create Quote"]})]}),c.jsx("div",{className:"border-b border-gray-200",children:c.jsxs("nav",{className:"-mb-px flex gap-6",children:[c.jsx("button",{onClick:()=>n("invoices"),className:`py-4 px-1 border-b-2 font-medium text-sm ${r==="invoices"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Invoices"}),c.jsx("button",{onClick:()=>n("quotes"),className:`py-4 px-1 border-b-2 font-medium text-sm ${r==="quotes"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Quotes"})]})}),c.jsxs("div",{className:"mt-6",children:[r==="invoices"&&c.jsx("div",{children:t.map(i=>c.jsxs("div",{children:[i.id," - ",i.customerName," - ",yR(i.amount)," - ",i.status]},i.id))}),r==="quotes"&&c.jsx("div",{children:e.map(i=>c.jsxs("div",{children:[i.id," - ",i.customerName," - ",yR(i.amount)," - ",i.status]},i.id))})]})]})},c6=t=>t&&typeof t=="number"?new Date(Math.round((t-25569)*86400*1e3)):null,u6=t=>t?t.getTime()/864e5+25569:null,kse=t=>{const e=c6(t);return e?e.toISOString().split("T")[0]:""},jse=t=>t?u6(new Date(t+"T00:00:00")):null,Ese=t=>t?new Date(t).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}):"",Tse=t=>t==null?"N/A":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t),Ase=t=>{const e=c6(t);return e?e.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):null},Nse=t=>({emergency:"bg-red-100 text-red-800 border-red-500",urgent:"bg-orange-100 text-orange-800 border-orange-500",regular:"bg-blue-100 text-blue-800 border-blue-500",low:"bg-gray-100 text-gray-800 border-gray-500"})[t?.toLowerCase()]||"bg-gray-100 text-gray-800 border-gray-500",Pse=({order:t,onClose:e,onUpdate:r,onAddNote:n,technicians:i})=>{if(!t)return null;const[a,o]=B.useState(t["Order Status"]),[u,d]=B.useState(t.technician||[]),[f,p]=B.useState(kse(t["Schedule Date"])),[m,y]=B.useState(t.startTime||""),[x,S]=B.useState(t.endTime||""),[_,b]=B.useState(""),[P,A]=B.useState(t.clientWO||""),I=N=>{const T=u.includes(N)?u.filter(O=>O!==N):[...u,N];d(T)},R=()=>{const N={};a!==t["Order Status"]&&(N["Order Status"]=a,a==="Completed"&&!t["Completed Date"]&&(N["Completed Date"]=u6(new Date))),JSON.stringify(u)!==JSON.stringify(t.technician)&&(N.technician=u);const T=jse(f);(T!==t["Schedule Date"]||m!==t.startTime||x!==t.endTime)&&(N["Schedule Date"]=T,N.startTime=m,N.endTime=x,a==="Open"&&f&&(N["Order Status"]="Scheduled")),P!==t.clientWO&&(N.clientWO=P),Object.keys(N).length>0&&r(t.id,N)},E=[{label:"Work Order #",value:t["WO#"],icon:c.jsx(Sa,{})},{label:"Client WO#",value:t.clientWO,icon:c.jsx(LD,{})},{label:"Location",value:`${t.Company} (#${t["Loc #"]})`,icon:c.jsx(u_,{})},{label:"Address",value:`${t.City}, ${t.State}`,icon:c.jsx(lg,{})},{label:"Priority",value:t.Priority,icon:c.jsx(yf,{}),style:`${Nse(t.Priority)} px-2 py-0.5 rounded-full text-xs font-semibold`},{label:"Task",value:t.Task},{label:"NTE Amount",value:Tse(t.NTE)},{label:"Created Date",value:Ase(t["Created Date"])}];return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-3xl max-h-[90vh] flex flex-col",children:[c.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Work Order Details"}),c.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:c.jsx(Wc,{size:28})})]}),c.jsxs("div",{className:"p-6 overflow-y-auto",children:[c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4",children:E.map(N=>c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-xs text-gray-500 font-medium",children:N.label}),c.jsxs("span",{className:`text-base text-gray-900 font-semibold flex items-center gap-2 mt-1 ${N.style||""}`,children:[N.icon&&c.jsx("span",{className:"text-gray-400",children:H.cloneElement(N.icon,{size:16})}),c.jsx("span",{className:N.style||"",children:N.value})]})]},N.label))}),c.jsxs("div",{className:"mt-6 pt-6 border-t",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-3",children:"Job Management"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Status"}),c.jsxs("select",{value:a,onChange:N=>o(N.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",children:[c.jsx("option",{children:"Open"}),c.jsx("option",{children:"Scheduled"}),c.jsx("option",{children:"In Progress"}),c.jsx("option",{children:"On Hold"}),c.jsx("option",{children:"Completed"}),c.jsx("option",{children:"Cancelled"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Assigned Technicians"}),c.jsx("div",{className:"border p-2 rounded-lg max-h-24 overflow-y-auto",children:i.filter(N=>N.name!=="Unassigned").map(N=>c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",id:`tech-${N.id}`,checked:u.includes(N.name),onChange:()=>I(N.name),className:"mr-2"}),c.jsx("label",{htmlFor:`tech-${N.id}`,children:N.name})]},N.id))})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Schedule Date"}),c.jsx("input",{type:"date",value:f,onChange:N=>p(N.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Start Time"}),c.jsx("input",{type:"time",value:m,onChange:N=>y(N.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"End Time"}),c.jsx("input",{type:"time",value:x,onChange:N=>S(N.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]})]}),c.jsxs("div",{className:"mt-4",children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Client WO#"}),c.jsx("input",{type:"text",value:P,onChange:N=>A(N.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),c.jsx("div",{className:"mt-4 flex justify-end",children:c.jsx("button",{onClick:R,className:"bg-blue-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-blue-700",children:"Save Changes"})})]}),c.jsxs("div",{className:"mt-6 pt-6 border-t",children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-700 mb-3 flex items-center",children:[c.jsx(FD,{size:20,className:"mr-2"}),"Work Notes"]}),c.jsx("div",{className:"space-y-3 max-h-48 overflow-y-auto bg-gray-50 p-3 rounded-lg",children:t.notes&&t.notes.length>0?t.notes.sort((N,T)=>new Date(T.timestamp)-new Date(N.timestamp)).map((N,T)=>c.jsxs("div",{className:"text-sm bg-white p-2 rounded shadow-sm",children:[c.jsx("p",{className:"text-gray-800",children:N.text}),c.jsx("p",{className:"text-xs text-gray-500 mt-1 text-right",children:Ese(N.timestamp)})]},T)):c.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No notes for this job yet."})}),c.jsxs("div",{className:"mt-4",children:[c.jsx("textarea",{value:_,onChange:N=>b(N.target.value),placeholder:"Add a new note...",rows:"3",className:"w-full p-2 border border-gray-300 rounded-lg"}),c.jsx("div",{className:"flex justify-end mt-2",children:c.jsx("button",{onClick:()=>n(t.id,_,()=>b("")),disabled:!_.trim(),className:"bg-green-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:"Add Note"})})]})]})]})]})})},Ise=t=>t?t.getTime()/864e5+25569:null,Ose=t=>t?Ise(new Date(t+"T00:00:00")):null,Cse=({onClose:t,onAddOrder:e,customers:r})=>{const[n,i]=B.useState(r[0]?.id||""),[a,o]=B.useState(""),[u,d]=B.useState(""),[f,p]=B.useState("Regular"),[m,y]=B.useState("Heating & Cooling"),[x,S]=B.useState(""),[_,b]=B.useState(""),[P,A]=B.useState(""),[I,R]=B.useState(""),[E,N]=B.useState(""),T=B.useMemo(()=>r.find(C=>C.id===n),[n,r]);B.useEffect(()=>{if(T?.locations?.[0]){const C=T.locations[0];o(`${C.name}-${C.locNum}-0`)}else o("")},[T]);const O=C=>{o(C)},L=C=>{C.preventDefault();const[D,F]=a.split("-").slice(0,2),$=T.locations.find(ee=>ee.name===D&&ee.locNum===F);if(!n||!$||!u){alert("Please fill out all required fields.");return}e({Client:T.name,Company:$.name,"Loc #":$.locNum,Task:u,Priority:f,Category:m,City:$.city,State:$.state,NTE:parseFloat(x)||0,"Schedule Date":Ose(_),startTime:P,endTime:I,clientWO:E})};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:c.jsxs("form",{onSubmit:L,className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[c.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Add New Work Order"}),c.jsx("button",{type:"button",onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:c.jsx(Wc,{size:28})})]}),c.jsxs("div",{className:"p-6 overflow-y-auto space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Client"}),c.jsx("select",{value:n,onChange:C=>i(parseInt(C.target.value)),className:"w-full p-2 border border-gray-300 rounded-lg",children:r.map(C=>c.jsx("option",{value:C.id,children:C.name},C.id))})]}),T&&c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Location"}),c.jsx("select",{value:a,onChange:C=>O(C.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",children:T.locations.map((C,D)=>c.jsxs("option",{value:`${C.name}-${C.locNum}-${D}`,children:[C.name," (#",C.locNum,")"]},`${C.name}-${C.locNum}-${D}`))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Client WO#"}),c.jsx("input",{type:"text",value:E,onChange:C=>N(C.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Task / Issue"}),c.jsx("textarea",{value:u,onChange:C=>d(C.target.value),rows:"3",className:"w-full p-2 border border-gray-300 rounded-lg",required:!0})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Priority"}),c.jsxs("select",{value:f,onChange:C=>p(C.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",children:[c.jsx("option",{children:"Regular"}),c.jsx("option",{children:"Low"}),c.jsx("option",{children:"Urgent"}),c.jsx("option",{children:"Emergency"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Category"}),c.jsxs("select",{value:m,onChange:C=>y(C.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",children:[c.jsx("option",{children:"Heating & Cooling"}),c.jsx("option",{children:"Refrigeration"}),c.jsx("option",{children:"Maintenance"}),c.jsx("option",{children:"Plumbing"}),c.jsx("option",{children:"Other"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"NTE Amount ($)"}),c.jsx("input",{type:"number",value:x,onChange:C=>S(C.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",placeholder:"e.g., 500"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Schedule Date"}),c.jsx("input",{type:"date",value:_,onChange:C=>b(C.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Start Time"}),c.jsx("input",{type:"time",value:P,onChange:C=>A(C.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"End Time"}),c.jsx("input",{type:"time",value:I,onChange:C=>R(C.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]})]})]}),c.jsx("div",{className:"p-6 bg-gray-50 border-t mt-auto",children:c.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-700",children:"Create Work Order"})})]})})},Rse={apiKey:"AIzaSyAlev0GFpv3rzRYCJaMALOqlPwaowNfynI",authDomain:"hvac-finance-dashboard.firebaseapp.com",projectId:"hvac-finance-dashboard",storageBucket:"hvac-finance-dashboard.firebasestorage.app",messagingSenderId:"917610618621",appId:"1:917610618621:web:83c621d154c5f62c9be894"},Tn="hvac-master-dashboard",Ik=NR(Rse),Mse=fM(Ik),An=e8(Ik);q8(Ik);const Dse=t=>t?t.getTime()/864e5+25569:null,Lse=()=>{const[t,e]=B.useState(null),[r,n]=B.useState(!0),[i,a]=B.useState("finance"),[o,u]=B.useState("dashboard"),[d,f]=B.useState([]),[p,m]=B.useState([]),[y,x]=B.useState([]),[S,_]=B.useState([]),[b,P]=B.useState([]),[A,I]=B.useState([]),[R,E]=B.useState([]),[N,T]=B.useState([]),[O,L]=B.useState([]),[C,D]=B.useState([]),[F,$]=B.useState([]),[ee,ne]=B.useState([]),[Q,ie]=B.useState([]),[Z,J]=B.useState([]),[ae,z]=B.useState([]),[Y,K]=B.useState([]),[le,fe]=B.useState([]),[xe,he]=B.useState(""),[me,ue]=B.useState("All"),[ke,Ee]=B.useState(null),[W,pe]=B.useState(!1),[ge,Ae]=B.useState("dashboard"),[Fe,$t]=B.useState(!1),[en,qr]=B.useState(null),[zr,Jt]=B.useState("bill"),[xr,Mn]=B.useState("dark"),[ji,Ei]=B.useState({key:"dueDay",direction:"ascending"}),[Vt,Ft]=B.useState(""),[ni,Ga]=B.useState(null),[ia,Ka]=B.useState(0),[tn,al]=B.useState({start:new Date,end:new Date}),[sl,ol]=B.useState("monthly"),[Ks,Ys]=B.useState(!0),[Dn,aa]=B.useState({});B.useEffect(()=>{const Le=rF(Mse,Qe=>{e(Qe?Qe.uid:null),n(!1)});return()=>Le()},[]);const Ti=B.useMemo(()=>tn.start.getFullYear()+"-"+String(tn.start.getMonth()+1).padStart(2,"0"),[tn]);B.useEffect(()=>{if(!t)return;const Qe=Object.entries({bills:f,debts:m,incomes:x,weeklyCosts:_,jobs:P,tasks:I,invoices:E,taxPayments:T,goals:L,clients:J,inventory:D,vehicles:$,maintenanceLogs:ne,recurringWork:ie,workOrders:z,customers:K,technicians:fe}).map(([tt,Pt])=>dA(f8(Kh(An,"artifacts",Tn,"users",t,tt)),xn=>{Pt(xn.docs.map(Zt=>({id:Zt.id,...Zt.data()})))},xn=>console.error(`Error fetching ${tt}:`,xn))),at=dA($i(An,"artifacts",Tn,"users",t,"paidStatus",Ti),tt=>{aa(tt.exists()?tt.data().status:{})},tt=>console.error("Error fetching paid status:",tt));return()=>{Qe.forEach(tt=>tt()),at()}},[t,Ti]);const rn=()=>Mn(xr==="light"?"dark":"light"),br=B.useMemo(()=>b.filter(Le=>{if(!Le.date)return!1;const Qe=new Date(Le.date);return Qe>=tn.start&&Qe<=tn.end}),[b,tn]),Ln=B.useMemo(()=>{const Le=y.reduce((Zt,Ir)=>Zt+(Ir.amount||0),0),Qe=d.reduce((Zt,Ir)=>Zt+(Ir.amount||0),0),at=S.reduce((Zt,Ir)=>Zt+(Ir.amount||0),0)*4.33,tt=Qe+at,Pt=Le-tt,xn=p.reduce((Zt,Ir)=>Zt+((Ir.totalAmount||0)-(Ir.paidAmount||0)),0);return{totalIncome:Le,totalOutflow:tt,netCashFlow:Pt,totalDebt:xn}},[d,p,y,S]),Pr=B.useMemo(()=>{const Le=br.reduce((tt,Pt)=>tt+(Pt.revenue||0),0),Qe=br.reduce((tt,Pt)=>tt+(Pt.materialCost||0)+(Pt.laborCost||0),0),at=Le-Qe;return{revenue:Le,cogs:Qe,grossProfit:at}},[br]),Xs=B.useMemo(()=>{const Le=d.reduce((at,tt)=>{const Pt=tt.category||"Uncategorized";return at[Pt]=(at[Pt]||0)+tt.amount,at},{}),Qe=["#0088FE","#00C49F","#FFBB28","#FF8042","#AF19FF","#FF1943","#19D4FF"];return Object.entries(Le).map(([at,tt],Pt)=>({name:at,value:tt,color:Qe[Pt%Qe.length]})).sort((at,tt)=>tt.value-at.value)},[d]),Ai=(Le,Qe)=>{const at=$i(An,"artifacts",Tn,"users",t,"workOrders",Le);Mu(at,Qe),ke&&ke.id===Le&&Ee(tt=>({...tt,...Qe}))},Qs=(Le,Qe,at)=>{if(!Qe.trim())return;const tt={text:Qe.trim(),timestamp:new Date().toISOString()},Pt=$i(An,"artifacts",Tn,"users",t,"workOrders",Le),Zt=[...ae.find(Ir=>Ir.id===Le)?.notes||[],tt];Mu(Pt,{notes:Zt}),at()},ii=Le=>{const Qe=`WO-${Date.now()}`,at={...Le,"WO#":Qe,id:Qe,"Created Date":Dse(new Date),"Order Status":Le["Schedule Date"]?"Scheduled":"Open",notes:[],technician:[]};Rv(Kh(An,"artifacts",Tn,"users",t,"workOrders"),at),pe(!1)},Js=Le=>{Rv(Kh(An,"artifacts",Tn,"users",t,"customers"),{...Le,id:Date.now().toString()})},Rt=Le=>{Mu($i(An,"artifacts",Tn,"users",t,"customers",Le.id),Le)},Ya=(Le,Qe)=>{const at=$i(An,"artifacts",Tn,"users",t,"customers",Le),tt=Y.find(Pt=>Pt.id===Le);Mu(at,{locations:[...tt.locations,Qe]})},vn=Le=>{Rv(Kh(An,"artifacts",Tn,"users",t,"technicians"),{...Le,id:Date.now().toString()})},sa=Le=>{Mu($i(An,"artifacts",Tn,"users",t,"technicians",Le.id),Le)},oa=Le=>{uA($i(An,"artifacts",Tn,"users",t,"technicians",Le))},cr=async(Le,Qe)=>{if(!t||!window.confirm("Delete this item?"))return;const tt={bill:"bills",debt:"debts",income:"incomes",weekly:"weeklyCosts",job:"jobs",task:"tasks",invoice:"invoices",taxPayment:"taxPayments",goal:"goals",client:"clients",inventory:"inventory",vehicle:"vehicles",maintenanceLog:"maintenanceLogs",recurring:"recurringWork"}[Le];if(!tt)return alert("Invalid item type for deletion.");try{await uA($i(An,"artifacts",Tn,"users",t,tt,Qe))}catch{alert(`Failed to delete ${Le}.`)}},yn=async Le=>{t&&await g8($i(An,"artifacts",Tn,"users",t,"paidStatus",Ti),{status:{...Dn,[Le]:!Dn[Le]}},{merge:!0})},ur=(Le,Qe=null)=>{Jt(Le),qr(Qe),$t(!0)},eu=B.useMemo(()=>ae.filter(Le=>(me==="All"||Le["Order Status"]===me)&&Object.values(Le).some(Qe=>String(Qe).toLowerCase().includes(xe.toLowerCase()))),[ae,xe,me]),Xa=()=>c.jsxs(c.Fragment,{children:[c.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-center mb-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Business Financial Dashboard"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Manage your company's finances."})]}),c.jsx("div",{className:"flex items-center gap-4",children:c.jsx("button",{onClick:rn,className:"p-2 rounded-full bg-slate-200 dark:bg-slate-800 border border-slate-300 dark:border-slate-700",children:xr==="light"?c.jsx(cq,{size:20}):c.jsx(dq,{size:20})})})]}),c.jsxs("nav",{className:"flex items-center border-b border-slate-200 dark:border-slate-700 mb-6 overflow-x-auto",children:[c.jsx("button",{onClick:()=>Ae("dashboard"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ge==="dashboard"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Dashboard"}),c.jsx("button",{onClick:()=>Ae("reports"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ge==="reports"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Reports"}),c.jsx("button",{onClick:()=>Ae("invoices"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ge==="invoices"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Invoices"}),c.jsx("button",{onClick:()=>Ae("jobs"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ge==="jobs"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Jobs"}),c.jsx("button",{onClick:()=>Ae("recurring"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ge==="recurring"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Recurring"}),c.jsx("button",{onClick:()=>Ae("clients"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ge==="clients"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Clients"}),c.jsx("button",{onClick:()=>Ae("vehicles"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ge==="vehicles"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Vehicles"}),c.jsx("button",{onClick:()=>Ae("inventory"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ge==="inventory"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Inventory"}),c.jsx("button",{onClick:()=>Ae("debts"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ge==="debts"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Debt"}),c.jsx("button",{onClick:()=>Ae("incomes"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ge==="incomes"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Income"}),c.jsx("button",{onClick:()=>Ae("weeklyCosts"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ge==="weeklyCosts"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Weekly Costs"}),c.jsx("button",{onClick:()=>Ae("goals"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ge==="goals"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Goals"}),c.jsx("button",{onClick:()=>Ae("pnl"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ge==="pnl"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"P&L"}),c.jsx("button",{onClick:()=>Ae("forecast"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ge==="forecast"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Forecast"}),c.jsx("button",{onClick:()=>Ae("tax"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${ge==="tax"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Tax"})]}),c.jsxs("main",{children:[ge==="dashboard"&&c.jsxs(c.Fragment,{children:[Ks&&c.jsx(Uae,{bills:d,paidStatus:Dn,onClose:()=>Ys(!1)}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[c.jsx(Vi,{title:"Total Monthly Income",value:`$${Ln.totalIncome.toLocaleString()}`,icon:c.jsx(Z8,{size:24}),color:"green"}),c.jsx(Vi,{title:"Total Monthly Outflow",value:`$${Ln.totalOutflow.toLocaleString()}`,icon:c.jsx(X8,{size:24}),color:"red"}),c.jsx(Vi,{title:"Projected Net",value:`$${Ln.netCashFlow.toLocaleString()}`,icon:c.jsx(pn,{size:24}),color:Ln.netCashFlow>=0?"cyan":"amber"}),c.jsx(Vi,{title:"Outstanding Debt",value:`$${Ln.totalDebt.toLocaleString()}`,icon:c.jsx(yf,{size:24}),color:"orange"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[c.jsx(Vi,{title:"Gross Profit Margin",value:`${Pr.revenue>0?(Pr.grossProfit/Pr.revenue*100).toFixed(1):"0.0"}%`,icon:c.jsx(UD,{size:24}),color:"teal",subtext:"For selected period"}),c.jsx(Vi,{title:"Avg. Job Revenue",value:`$${(Pr.revenue/(br.length||1)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:c.jsx($a,{size:24}),color:"indigo",subtext:`${br.length} jobs`}),c.jsx(Vi,{title:"Avg. Job Profit",value:`$${(Pr.grossProfit/(br.length||1)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:c.jsx(wd,{size:24}),color:"purple",subtext:"Gross profit per job"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[c.jsx(Qae,{bills:d,paidStatus:Dn,setPaidStatus:aa,selectedCategory:ni,setSelectedCategory:Ga,handleTogglePaid:yn,handleSort:Ei,openModal:ur,handleDelete:cr,handleEnhancedExportCSV:()=>{}}),c.jsx("div",{className:"lg:col-span-2 space-y-6",children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[c.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:"Expense Breakdown"}),c.jsx(Bae,{data:Xs,onSliceClick:Ga})]})})]})]}),ge==="reports"&&c.jsx(Fae,{clients:Z,jobs:b,bills:d,inventory:C}),ge==="invoices"&&c.jsx(Dae,{invoices:R,openModal:ur,handleDelete:cr}),ge==="jobs"&&c.jsx(Wae,{jobs:b,clients:Z,openModal:ur,handleDelete:cr,searchTerm:Vt,setSearchTerm:Ft}),ge==="recurring"&&c.jsx(Zae,{recurringWork:Q,openModal:ur,handleDelete:cr,searchTerm:Vt,setSearchTerm:Ft}),ge==="clients"&&c.jsx(Lae,{clients:Z,openModal:ur,handleDelete:cr}),ge==="vehicles"&&c.jsx($ae,{vehicles:F,maintenanceLogs:ee,openModal:ur,handleDelete:cr}),ge==="inventory"&&c.jsx(Vae,{inventory:C,openModal:ur,handleDelete:cr}),ge==="debts"&&c.jsx(Gae,{debts:p,openModal:ur,handleDelete:cr}),ge==="incomes"&&c.jsx(Kae,{incomes:y,openModal:ur,handleDelete:cr}),ge==="weeklyCosts"&&c.jsx(Xae,{weeklyCosts:S,openModal:ur,handleDelete:cr}),ge==="goals"&&c.jsx(Yae,{goalsWithProgress:[],openModal:ur}),ge==="pnl"&&c.jsx(Hae,{jobs:b,bills:d,weeklyCosts:S}),ge==="forecast"&&c.jsx(qae,{invoices:R,bills:d,weeklyCosts:S}),ge==="tax"&&c.jsx(Mae,{jobs:b,bills:d,weeklyCosts:S,taxPayments:N,openModal:ur,handleDelete:cr})]})]}),ll=()=>{switch(o){case"customers":return c.jsx(vse,{customers:Y,onAddCustomer:Js,onUpdateCustomer:Rt,onAddLocation:Ya});case"dispatch":return c.jsx(fse,{workOrders:ae,technicians:le,onSelectOrder:Ee,onUpdateOrder:Ai});case"technicians":return c.jsx(bse,{technicians:le,onAddTechnician:vn,onUpdateTechnician:sa,onDeleteTechnician:oa});case"route":return c.jsx(_se,{workOrders:ae,technicians:le});case"billing":return c.jsx(Sse,{invoices:R,quotes:[]});default:return c.jsx(sse,{orders:eu,onSelectOrder:Ee,searchTerm:xe,setSearchTerm:he,statusFilter:me,setStatusFilter:ue})}};return r?c.jsx("div",{className:"bg-slate-900 text-white min-h-screen flex items-center justify-center",children:c.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-cyan-500"})}):t?c.jsxs("div",{className:"bg-gray-50 min-h-screen font-sans",children:[c.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-20",children:c.jsx("div",{className:"max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8 py-3",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx(Sa,{className:"h-8 w-8 text-blue-600"}),c.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"HVAC Business Suite"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("button",{onClick:()=>a("finance"),className:`font-semibold py-2 px-4 rounded-lg flex items-center gap-2 ${i==="finance"?"bg-blue-600 text-white":"hover:bg-gray-100"}`,children:[c.jsx(pn,{size:20})," Finance"]}),c.jsxs("button",{onClick:()=>a("dispatch"),className:`font-semibold py-2 px-4 rounded-lg flex items-center gap-2 ${i==="dispatch"?"bg-blue-600 text-white":"hover:bg-gray-100"}`,children:[c.jsx(sg,{size:20})," Dispatch"]})]})]})})}),i==="dispatch"&&c.jsxs(c.Fragment,{children:[c.jsx(ese,{currentView:o,setCurrentView:u,onAddOrderClick:()=>pe(!0)}),c.jsx("main",{className:"max-w-screen-xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:ll()}),ke&&c.jsx(Pse,{order:ke,onClose:()=>Ee(null),onUpdate:Ai,onAddNote:Qs,technicians:le}),W&&c.jsx(Cse,{customers:Y,onAddOrder:ii,onClose:()=>pe(!1)})]}),i==="finance"&&c.jsx("div",{className:`${xr} bg-slate-100 dark:bg-slate-900 text-slate-800 dark:text-white`,children:c.jsx("div",{className:"max-w-7xl mx-auto p-4 sm:p-6 lg:p-8",children:Xa()})})]}):c.jsx(mq,{})};S$.createRoot(document.getElementById("root")).render(c.jsx(H.StrictMode,{children:c.jsx(Lse,{})}));
