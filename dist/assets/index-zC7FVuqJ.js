(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var dp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $v={exports:{}},Xu={},Fv={exports:{}},nt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _T;function f5(){if(_T)return nt;_T=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function y(W){return W===null||typeof W!="object"?null:(W=m&&W[m]||W["@@iterator"],typeof W=="function"?W:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,w={};function b(W,J,X){this.props=W,this.context=J,this.refs=w,this.updater=X||x}b.prototype.isReactComponent={},b.prototype.setState=function(W,J){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,J,"setState")},b.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function N(){}N.prototype=b.prototype;function E(W,J,X){this.props=W,this.context=J,this.refs=w,this.updater=X||x}var P=E.prototype=new N;P.constructor=E,k(P,b.prototype),P.isPureReactComponent=!0;var R=Array.isArray,j=Object.prototype.hasOwnProperty,C={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function I(W,J,X){var le,ge={},he=null,de=null;if(J!=null)for(le in J.ref!==void 0&&(de=J.ref),J.key!==void 0&&(he=""+J.key),J)j.call(J,le)&&!A.hasOwnProperty(le)&&(ge[le]=J[le]);var be=arguments.length-2;if(be===1)ge.children=X;else if(1<be){for(var z=Array(be),me=0;me<be;me++)z[me]=arguments[me+2];ge.children=z}if(W&&W.defaultProps)for(le in be=W.defaultProps,be)ge[le]===void 0&&(ge[le]=be[le]);return{$$typeof:t,type:W,key:he,ref:de,props:ge,_owner:C.current}}function L(W,J){return{$$typeof:t,type:W.type,key:J,ref:W.ref,props:W.props,_owner:W._owner}}function O(W){return typeof W=="object"&&W!==null&&W.$$typeof===t}function D(W){var J={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(X){return J[X]})}var F=/\/+/g;function $(W,J){return typeof W=="object"&&W!==null&&W.key!=null?D(""+W.key):J.toString(36)}function ae(W,J,X,le,ge){var he=typeof W;(he==="undefined"||he==="boolean")&&(W=null);var de=!1;if(W===null)de=!0;else switch(he){case"string":case"number":de=!0;break;case"object":switch(W.$$typeof){case t:case e:de=!0}}if(de)return de=W,ge=ge(de),W=le===""?"."+$(de,0):le,R(ge)?(X="",W!=null&&(X=W.replace(F,"$&/")+"/"),ae(ge,J,X,"",function(me){return me})):ge!=null&&(O(ge)&&(ge=L(ge,X+(!ge.key||de&&de.key===ge.key?"":(""+ge.key).replace(F,"$&/")+"/")+W)),J.push(ge)),1;if(de=0,le=le===""?".":le+":",R(W))for(var be=0;be<W.length;be++){he=W[be];var z=le+$(he,be);de+=ae(he,J,X,z,ge)}else if(z=y(W),typeof z=="function")for(W=z.call(W),be=0;!(he=W.next()).done;)he=he.value,z=le+$(he,be++),de+=ae(he,J,X,z,ge);else if(he==="object")throw J=String(W),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return de}function ee(W,J,X){if(W==null)return W;var le=[],ge=0;return ae(W,le,"","",function(he){return J.call(X,he,ge++)}),le}function G(W){if(W._status===-1){var J=W._result;J=J(),J.then(function(X){(W._status===0||W._status===-1)&&(W._status=1,W._result=X)},function(X){(W._status===0||W._status===-1)&&(W._status=2,W._result=X)}),W._status===-1&&(W._status=0,W._result=J)}if(W._status===1)return W._result.default;throw W._result}var ne={current:null},Q={transition:null},Z={ReactCurrentDispatcher:ne,ReactCurrentBatchConfig:Q,ReactCurrentOwner:C};function re(){throw Error("act(...) is not supported in production builds of React.")}return nt.Children={map:ee,forEach:function(W,J,X){ee(W,function(){J.apply(this,arguments)},X)},count:function(W){var J=0;return ee(W,function(){J++}),J},toArray:function(W){return ee(W,function(J){return J})||[]},only:function(W){if(!O(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},nt.Component=b,nt.Fragment=r,nt.Profiler=a,nt.PureComponent=E,nt.StrictMode=n,nt.Suspense=d,nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,nt.act=re,nt.cloneElement=function(W,J,X){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var le=k({},W.props),ge=W.key,he=W.ref,de=W._owner;if(J!=null){if(J.ref!==void 0&&(he=J.ref,de=C.current),J.key!==void 0&&(ge=""+J.key),W.type&&W.type.defaultProps)var be=W.type.defaultProps;for(z in J)j.call(J,z)&&!A.hasOwnProperty(z)&&(le[z]=J[z]===void 0&&be!==void 0?be[z]:J[z])}var z=arguments.length-2;if(z===1)le.children=X;else if(1<z){be=Array(z);for(var me=0;me<z;me++)be[me]=arguments[me+2];le.children=be}return{$$typeof:t,type:W.type,key:ge,ref:he,props:le,_owner:de}},nt.createContext=function(W){return W={$$typeof:l,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:i,_context:W},W.Consumer=W},nt.createElement=I,nt.createFactory=function(W){var J=I.bind(null,W);return J.type=W,J},nt.createRef=function(){return{current:null}},nt.forwardRef=function(W){return{$$typeof:c,render:W}},nt.isValidElement=O,nt.lazy=function(W){return{$$typeof:p,_payload:{_status:-1,_result:W},_init:G}},nt.memo=function(W,J){return{$$typeof:h,type:W,compare:J===void 0?null:J}},nt.startTransition=function(W){var J=Q.transition;Q.transition={};try{W()}finally{Q.transition=J}},nt.unstable_act=re,nt.useCallback=function(W,J){return ne.current.useCallback(W,J)},nt.useContext=function(W){return ne.current.useContext(W)},nt.useDebugValue=function(){},nt.useDeferredValue=function(W){return ne.current.useDeferredValue(W)},nt.useEffect=function(W,J){return ne.current.useEffect(W,J)},nt.useId=function(){return ne.current.useId()},nt.useImperativeHandle=function(W,J,X){return ne.current.useImperativeHandle(W,J,X)},nt.useInsertionEffect=function(W,J){return ne.current.useInsertionEffect(W,J)},nt.useLayoutEffect=function(W,J){return ne.current.useLayoutEffect(W,J)},nt.useMemo=function(W,J){return ne.current.useMemo(W,J)},nt.useReducer=function(W,J,X){return ne.current.useReducer(W,J,X)},nt.useRef=function(W){return ne.current.useRef(W)},nt.useState=function(W){return ne.current.useState(W)},nt.useSyncExternalStore=function(W,J,X){return ne.current.useSyncExternalStore(W,J,X)},nt.useTransition=function(){return ne.current.useTransition()},nt.version="18.3.1",nt}var kT;function ek(){return kT||(kT=1,Fv.exports=f5()),Fv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jT;function p5(){if(jT)return Xu;jT=1;var t=ek(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,h){var p,m={},y=null,x=null;h!==void 0&&(y=""+h),d.key!==void 0&&(y=""+d.key),d.ref!==void 0&&(x=d.ref);for(p in d)n.call(d,p)&&!i.hasOwnProperty(p)&&(m[p]=d[p]);if(c&&c.defaultProps)for(p in d=c.defaultProps,d)m[p]===void 0&&(m[p]=d[p]);return{$$typeof:e,type:c,key:y,ref:x,props:m,_owner:a.current}}return Xu.Fragment=r,Xu.jsx=l,Xu.jsxs=l,Xu}var NT;function m5(){return NT||(NT=1,$v.exports=p5()),$v.exports}var s=m5(),B=ek();const K=xt(B);var hp={},Vv={exports:{}},Cn={},Bv={exports:{}},Uv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ST;function g5(){return ST||(ST=1,function(t){function e(Q,Z){var re=Q.length;Q.push(Z);e:for(;0<re;){var W=re-1>>>1,J=Q[W];if(0<a(J,Z))Q[W]=Z,Q[re]=J,re=W;else break e}}function r(Q){return Q.length===0?null:Q[0]}function n(Q){if(Q.length===0)return null;var Z=Q[0],re=Q.pop();if(re!==Z){Q[0]=re;e:for(var W=0,J=Q.length,X=J>>>1;W<X;){var le=2*(W+1)-1,ge=Q[le],he=le+1,de=Q[he];if(0>a(ge,re))he<J&&0>a(de,ge)?(Q[W]=de,Q[he]=re,W=he):(Q[W]=ge,Q[le]=re,W=le);else if(he<J&&0>a(de,re))Q[W]=de,Q[he]=re,W=he;else break e}}return Z}function a(Q,Z){var re=Q.sortIndex-Z.sortIndex;return re!==0?re:Q.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],h=[],p=1,m=null,y=3,x=!1,k=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(Q){for(var Z=r(h);Z!==null;){if(Z.callback===null)n(h);else if(Z.startTime<=Q)n(h),Z.sortIndex=Z.expirationTime,e(d,Z);else break;Z=r(h)}}function R(Q){if(w=!1,P(Q),!k)if(r(d)!==null)k=!0,G(j);else{var Z=r(h);Z!==null&&ne(R,Z.startTime-Q)}}function j(Q,Z){k=!1,w&&(w=!1,N(I),I=-1),x=!0;var re=y;try{for(P(Z),m=r(d);m!==null&&(!(m.expirationTime>Z)||Q&&!D());){var W=m.callback;if(typeof W=="function"){m.callback=null,y=m.priorityLevel;var J=W(m.expirationTime<=Z);Z=t.unstable_now(),typeof J=="function"?m.callback=J:m===r(d)&&n(d),P(Z)}else n(d);m=r(d)}if(m!==null)var X=!0;else{var le=r(h);le!==null&&ne(R,le.startTime-Z),X=!1}return X}finally{m=null,y=re,x=!1}}var C=!1,A=null,I=-1,L=5,O=-1;function D(){return!(t.unstable_now()-O<L)}function F(){if(A!==null){var Q=t.unstable_now();O=Q;var Z=!0;try{Z=A(!0,Q)}finally{Z?$():(C=!1,A=null)}}else C=!1}var $;if(typeof E=="function")$=function(){E(F)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,ee=ae.port2;ae.port1.onmessage=F,$=function(){ee.postMessage(null)}}else $=function(){b(F,0)};function G(Q){A=Q,C||(C=!0,$())}function ne(Q,Z){I=b(function(){Q(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){k||x||(k=!0,G(j))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return r(d)},t.unstable_next=function(Q){switch(y){case 1:case 2:case 3:var Z=3;break;default:Z=y}var re=y;y=Z;try{return Q()}finally{y=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,Z){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var re=y;y=Q;try{return Z()}finally{y=re}},t.unstable_scheduleCallback=function(Q,Z,re){var W=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?W+re:W):re=W,Q){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=re+J,Q={id:p++,callback:Z,priorityLevel:Q,startTime:re,expirationTime:J,sortIndex:-1},re>W?(Q.sortIndex=re,e(h,Q),r(d)===null&&Q===r(h)&&(w?(N(I),I=-1):w=!0,ne(R,re-W))):(Q.sortIndex=J,e(d,Q),k||x||(k=!0,G(j))),Q},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(Q){var Z=y;return function(){var re=y;y=Z;try{return Q.apply(this,arguments)}finally{y=re}}}}(Uv)),Uv}var TT;function v5(){return TT||(TT=1,Bv.exports=g5()),Bv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ET;function y5(){if(ET)return Cn;ET=1;var t=ek(),e=v5();function r(o){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+o,f=1;f<arguments.length;f++)u+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+o+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function i(o,u){l(o,u),l(o+"Capture",u)}function l(o,u){for(a[o]=u,o=0;o<u.length;o++)n.add(u[o])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function y(o){return d.call(m,o)?!0:d.call(p,o)?!1:h.test(o)?m[o]=!0:(p[o]=!0,!1)}function x(o,u,f,v){if(f!==null&&f.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return v?!1:f!==null?!f.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function k(o,u,f,v){if(u===null||typeof u>"u"||x(o,u,f,v))return!0;if(v)return!1;if(f!==null)switch(f.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function w(o,u,f,v,_,T,V){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=v,this.attributeNamespace=_,this.mustUseProperty=f,this.propertyName=o,this.type=u,this.sanitizeURL=T,this.removeEmptyString=V}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){b[o]=new w(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var u=o[0];b[u]=new w(u,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){b[o]=new w(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){b[o]=new w(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){b[o]=new w(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){b[o]=new w(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){b[o]=new w(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){b[o]=new w(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){b[o]=new w(o,5,!1,o.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function E(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var u=o.replace(N,E);b[u]=new w(u,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var u=o.replace(N,E);b[u]=new w(u,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var u=o.replace(N,E);b[u]=new w(u,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){b[o]=new w(o,1,!1,o.toLowerCase(),null,!1,!1)}),b.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){b[o]=new w(o,1,!1,o.toLowerCase(),null,!0,!0)});function P(o,u,f,v){var _=b.hasOwnProperty(u)?b[u]:null;(_!==null?_.type!==0:v||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(k(u,f,_,v)&&(f=null),v||_===null?y(u)&&(f===null?o.removeAttribute(u):o.setAttribute(u,""+f)):_.mustUseProperty?o[_.propertyName]=f===null?_.type===3?!1:"":f:(u=_.attributeName,v=_.attributeNamespace,f===null?o.removeAttribute(u):(_=_.type,f=_===3||_===4&&f===!0?"":""+f,v?o.setAttributeNS(v,u,f):o.setAttribute(u,f))))}var R=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),C=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),D=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),ne=Symbol.for("react.offscreen"),Q=Symbol.iterator;function Z(o){return o===null||typeof o!="object"?null:(o=Q&&o[Q]||o["@@iterator"],typeof o=="function"?o:null)}var re=Object.assign,W;function J(o){if(W===void 0)try{throw Error()}catch(f){var u=f.stack.trim().match(/\n( *(at )?)/);W=u&&u[1]||""}return`
`+W+o}var X=!1;function le(o,u){if(!o||X)return"";X=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(ce){var v=ce}Reflect.construct(o,[],u)}else{try{u.call()}catch(ce){v=ce}o.call(u.prototype)}else{try{throw Error()}catch(ce){v=ce}o()}}catch(ce){if(ce&&v&&typeof ce.stack=="string"){for(var _=ce.stack.split(`
`),T=v.stack.split(`
`),V=_.length-1,H=T.length-1;1<=V&&0<=H&&_[V]!==T[H];)H--;for(;1<=V&&0<=H;V--,H--)if(_[V]!==T[H]){if(V!==1||H!==1)do if(V--,H--,0>H||_[V]!==T[H]){var Y=`
`+_[V].replace(" at new "," at ");return o.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",o.displayName)),Y}while(1<=V&&0<=H);break}}}finally{X=!1,Error.prepareStackTrace=f}return(o=o?o.displayName||o.name:"")?J(o):""}function ge(o){switch(o.tag){case 5:return J(o.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return o=le(o.type,!1),o;case 11:return o=le(o.type.render,!1),o;case 1:return o=le(o.type,!0),o;default:return""}}function he(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case A:return"Fragment";case C:return"Portal";case L:return"Profiler";case I:return"StrictMode";case $:return"Suspense";case ae:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case D:return(o.displayName||"Context")+".Consumer";case O:return(o._context.displayName||"Context")+".Provider";case F:var u=o.render;return o=o.displayName,o||(o=u.displayName||u.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case ee:return u=o.displayName||null,u!==null?u:he(o.type)||"Memo";case G:u=o._payload,o=o._init;try{return he(o(u))}catch{}}return null}function de(o){var u=o.type;switch(o.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=u.render,o=o.displayName||o.name||"",u.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return he(u);case 8:return u===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function be(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function z(o){var u=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function me(o){var u=z(o)?"checked":"value",f=Object.getOwnPropertyDescriptor(o.constructor.prototype,u),v=""+o[u];if(!o.hasOwnProperty(u)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var _=f.get,T=f.set;return Object.defineProperty(o,u,{configurable:!0,get:function(){return _.call(this)},set:function(V){v=""+V,T.call(this,V)}}),Object.defineProperty(o,u,{enumerable:f.enumerable}),{getValue:function(){return v},setValue:function(V){v=""+V},stopTracking:function(){o._valueTracker=null,delete o[u]}}}}function xe(o){o._valueTracker||(o._valueTracker=me(o))}function q(o){if(!o)return!1;var u=o._valueTracker;if(!u)return!0;var f=u.getValue(),v="";return o&&(v=z(o)?o.checked?"true":"false":o.value),o=v,o!==f?(u.setValue(o),!0):!1}function ue(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function _e(o,u){var f=u.checked;return re({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??o._wrapperState.initialChecked})}function Ie(o,u){var f=u.defaultValue==null?"":u.defaultValue,v=u.checked!=null?u.checked:u.defaultChecked;f=be(u.value!=null?u.value:f),o._wrapperState={initialChecked:v,initialValue:f,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function Ue(o,u){u=u.checked,u!=null&&P(o,"checked",u,!1)}function tr(o,u){Ue(o,u);var f=be(u.value),v=u.type;if(f!=null)v==="number"?(f===0&&o.value===""||o.value!=f)&&(o.value=""+f):o.value!==""+f&&(o.value=""+f);else if(v==="submit"||v==="reset"){o.removeAttribute("value");return}u.hasOwnProperty("value")?ln(o,u.type,f):u.hasOwnProperty("defaultValue")&&ln(o,u.type,be(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(o.defaultChecked=!!u.defaultChecked)}function yr(o,u,f){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var v=u.type;if(!(v!=="submit"&&v!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+o._wrapperState.initialValue,f||u===o.value||(o.value=u),o.defaultValue=u}f=o.name,f!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,f!==""&&(o.name=f)}function ln(o,u,f){(u!=="number"||ue(o.ownerDocument)!==o)&&(f==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+f&&(o.defaultValue=""+f))}var Dt=Array.isArray;function Mt(o,u,f,v){if(o=o.options,u){u={};for(var _=0;_<f.length;_++)u["$"+f[_]]=!0;for(f=0;f<o.length;f++)_=u.hasOwnProperty("$"+o[f].value),o[f].selected!==_&&(o[f].selected=_),_&&v&&(o[f].defaultSelected=!0)}else{for(f=""+be(f),u=null,_=0;_<o.length;_++){if(o[_].value===f){o[_].selected=!0,v&&(o[_].defaultSelected=!0);return}u!==null||o[_].disabled||(u=o[_])}u!==null&&(u.selected=!0)}}function Mr(o,u){if(u.dangerouslySetInnerHTML!=null)throw Error(r(91));return re({},u,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function cn(o,u){var f=u.value;if(f==null){if(f=u.children,u=u.defaultValue,f!=null){if(u!=null)throw Error(r(92));if(Dt(f)){if(1<f.length)throw Error(r(93));f=f[0]}u=f}u==null&&(u=""),f=u}o._wrapperState={initialValue:be(f)}}function dr(o,u){var f=be(u.value),v=be(u.defaultValue);f!=null&&(f=""+f,f!==o.value&&(o.value=f),u.defaultValue==null&&o.defaultValue!==f&&(o.defaultValue=f)),v!=null&&(o.defaultValue=""+v)}function Ln(o){var u=o.textContent;u===o._wrapperState.initialValue&&u!==""&&u!==null&&(o.value=u)}function Gt(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kt(o,u){return o==null||o==="http://www.w3.org/1999/xhtml"?Gt(u):o==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var $n,gt=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,f,v,_){MSApp.execUnsafeLocalFunction(function(){return o(u,f,v,_)})}:o}(function(o,u){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=u;else{for($n=$n||document.createElement("div"),$n.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=$n.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;u.firstChild;)o.appendChild(u.firstChild)}});function Ga(o,u){if(u){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=u;return}}o.textContent=u}var _i={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ki=["Webkit","ms","Moz","O"];Object.keys(_i).forEach(function(o){ki.forEach(function(u){u=u+o.charAt(0).toUpperCase()+o.substring(1),_i[u]=_i[o]})});function wn(o,u,f){return u==null||typeof u=="boolean"||u===""?"":f||typeof u!="number"||u===0||_i.hasOwnProperty(o)&&_i[o]?(""+u).trim():u+"px"}function vo(o,u){o=o.style;for(var f in u)if(u.hasOwnProperty(f)){var v=f.indexOf("--")===0,_=wn(f,u[f],v);f==="float"&&(f="cssFloat"),v?o.setProperty(f,_):o[f]=_}}var yo=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ji(o,u){if(u){if(yo[o]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(r(137,o));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(r(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(r(61))}if(u.style!=null&&typeof u.style!="object")throw Error(r(62))}}function ea(o,u){if(o.indexOf("-")===-1)return typeof u.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ka=null;function ta(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var ra=null,_n=null,na=null;function ps(o){if(o=Du(o)){if(typeof ra!="function")throw Error(r(280));var u=o.stateNode;u&&(u=Sf(u),ra(o.stateNode,o.type,u))}}function aa(o){_n?na?na.push(o):na=[o]:_n=o}function xo(){if(_n){var o=_n,u=na;if(na=_n=null,ps(o),u)for(o=0;o<u.length;o++)ps(u[o])}}function Ni(o,u){return o(u)}function bo(){}var Ut=!1;function wo(o,u,f){if(Ut)return o(u,f);Ut=!0;try{return Ni(o,u,f)}finally{Ut=!1,(_n!==null||na!==null)&&(bo(),xo())}}function Yt(o,u){var f=o.stateNode;if(f===null)return null;var v=Sf(f);if(v===null)return null;f=v[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(o=o.type,v=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!v;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(r(231,u,typeof f));return f}var xr=!1;if(c)try{var un={};Object.defineProperty(un,"passive",{get:function(){xr=!0}}),window.addEventListener("test",un,un),window.removeEventListener("test",un,un)}catch{xr=!1}function Si(o,u,f,v,_,T,V,H,Y){var ce=Array.prototype.slice.call(arguments,3);try{u.apply(f,ce)}catch(je){this.onError(je)}}var Ti=!1,fe=null,ye=!1,Ve=null,Ce={onError:function(o){Ti=!0,fe=o}};function He(o,u,f,v,_,T,V,H,Y){Ti=!1,fe=null,Si.apply(Ce,arguments)}function Tt(o,u,f,v,_,T,V,H,Y){if(He.apply(this,arguments),Ti){if(Ti){var ce=fe;Ti=!1,fe=null}else throw Error(r(198));ye||(ye=!0,Ve=ce)}}function it(o){var u=o,f=o;if(o.alternate)for(;u.return;)u=u.return;else{o=u;do u=o,(u.flags&4098)!==0&&(f=u.return),o=u.return;while(o)}return u.tag===3?f:null}function dt(o){if(o.tag===13){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function qt(o){if(it(o)!==o)throw Error(r(188))}function rt(o){var u=o.alternate;if(!u){if(u=it(o),u===null)throw Error(r(188));return u!==o?null:o}for(var f=o,v=u;;){var _=f.return;if(_===null)break;var T=_.alternate;if(T===null){if(v=_.return,v!==null){f=v;continue}break}if(_.child===T.child){for(T=_.child;T;){if(T===f)return qt(_),o;if(T===v)return qt(_),u;T=T.sibling}throw Error(r(188))}if(f.return!==v.return)f=_,v=T;else{for(var V=!1,H=_.child;H;){if(H===f){V=!0,f=_,v=T;break}if(H===v){V=!0,v=_,f=T;break}H=H.sibling}if(!V){for(H=T.child;H;){if(H===f){V=!0,f=T,v=_;break}if(H===v){V=!0,v=T,f=_;break}H=H.sibling}if(!V)throw Error(r(189))}}if(f.alternate!==v)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?o:u}function Et(o){return o=rt(o),o!==null?At(o):null}function At(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var u=At(o);if(u!==null)return u;o=o.sibling}return null}var rr=e.unstable_scheduleCallback,Fn=e.unstable_cancelCallback,ia=e.unstable_shouldYield,Xt=e.unstable_requestPaint,Ct=e.unstable_now,Zh=e.unstable_getCurrentPriorityLevel,_o=e.unstable_ImmediatePriority,ms=e.unstable_UserBlockingPriority,sa=e.unstable_NormalPriority,yu=e.unstable_LowPriority,ef=e.unstable_IdlePriority,ko=null,Vn=null;function tf(o){if(Vn&&typeof Vn.onCommitFiberRoot=="function")try{Vn.onCommitFiberRoot(ko,o,void 0,(o.current.flags&128)===128)}catch{}}var dn=Math.clz32?Math.clz32:nf,xu=Math.log,rf=Math.LN2;function nf(o){return o>>>=0,o===0?32:31-(xu(o)/rf|0)|0}var El=64,Al=4194304;function gs(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function jo(o,u){var f=o.pendingLanes;if(f===0)return 0;var v=0,_=o.suspendedLanes,T=o.pingedLanes,V=f&268435455;if(V!==0){var H=V&~_;H!==0?v=gs(H):(T&=V,T!==0&&(v=gs(T)))}else V=f&~_,V!==0?v=gs(V):T!==0&&(v=gs(T));if(v===0)return 0;if(u!==0&&u!==v&&(u&_)===0&&(_=v&-v,T=u&-u,_>=T||_===16&&(T&4194240)!==0))return u;if((v&4)!==0&&(v|=f&16),u=o.entangledLanes,u!==0)for(o=o.entanglements,u&=v;0<u;)f=31-dn(u),_=1<<f,v|=o[f],u&=~_;return v}function pg(o,u){switch(o){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ei(o,u){for(var f=o.suspendedLanes,v=o.pingedLanes,_=o.expirationTimes,T=o.pendingLanes;0<T;){var V=31-dn(T),H=1<<V,Y=_[V];Y===-1?((H&f)===0||(H&v)!==0)&&(_[V]=pg(H,u)):Y<=u&&(o.expiredLanes|=H),T&=~H}}function Bn(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function No(){var o=El;return El<<=1,(El&4194240)===0&&(El=64),o}function vs(o){for(var u=[],f=0;31>f;f++)u.push(o);return u}function ys(o,u,f){o.pendingLanes|=u,u!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,u=31-dn(u),o[u]=f}function jt(o,u){var f=o.pendingLanes&~u;o.pendingLanes=u,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=u,o.mutableReadLanes&=u,o.entangledLanes&=u,u=o.entanglements;var v=o.eventTimes;for(o=o.expirationTimes;0<f;){var _=31-dn(f),T=1<<_;u[_]=0,v[_]=-1,o[_]=-1,f&=~T}}function xs(o,u){var f=o.entangledLanes|=u;for(o=o.entanglements;f;){var v=31-dn(f),_=1<<v;_&u|o[v]&u&&(o[v]|=u),f&=~_}}var ot=0;function bs(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var af,Cl,sf,of,lf,bu=!1,Ya=[],Lr=null,Sa=null,Ta=null,ws=new Map,oa=new Map,Xa=[],mg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cf(o,u){switch(o){case"focusin":case"focusout":Lr=null;break;case"dragenter":case"dragleave":Sa=null;break;case"mouseover":case"mouseout":Ta=null;break;case"pointerover":case"pointerout":ws.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":oa.delete(u.pointerId)}}function kn(o,u,f,v,_,T){return o===null||o.nativeEvent!==T?(o={blockedOn:u,domEventName:f,eventSystemFlags:v,nativeEvent:T,targetContainers:[_]},u!==null&&(u=Du(u),u!==null&&Cl(u)),o):(o.eventSystemFlags|=v,u=o.targetContainers,_!==null&&u.indexOf(_)===-1&&u.push(_),o)}function gg(o,u,f,v,_){switch(u){case"focusin":return Lr=kn(Lr,o,u,f,v,_),!0;case"dragenter":return Sa=kn(Sa,o,u,f,v,_),!0;case"mouseover":return Ta=kn(Ta,o,u,f,v,_),!0;case"pointerover":var T=_.pointerId;return ws.set(T,kn(ws.get(T)||null,o,u,f,v,_)),!0;case"gotpointercapture":return T=_.pointerId,oa.set(T,kn(oa.get(T)||null,o,u,f,v,_)),!0}return!1}function uf(o){var u=Co(o.target);if(u!==null){var f=it(u);if(f!==null){if(u=f.tag,u===13){if(u=dt(f),u!==null){o.blockedOn=u,lf(o.priority,function(){sf(f)});return}}else if(u===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Ai(o){if(o.blockedOn!==null)return!1;for(var u=o.targetContainers;0<u.length;){var f=Pl(o.domEventName,o.eventSystemFlags,u[0],o.nativeEvent);if(f===null){f=o.nativeEvent;var v=new f.constructor(f.type,f);Ka=v,f.target.dispatchEvent(v),Ka=null}else return u=Du(f),u!==null&&Cl(u),o.blockedOn=f,!1;u.shift()}return!0}function So(o,u,f){Ai(o)&&f.delete(u)}function df(){bu=!1,Lr!==null&&Ai(Lr)&&(Lr=null),Sa!==null&&Ai(Sa)&&(Sa=null),Ta!==null&&Ai(Ta)&&(Ta=null),ws.forEach(So),oa.forEach(So)}function Ea(o,u){o.blockedOn===u&&(o.blockedOn=null,bu||(bu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,df)))}function Aa(o){function u(_){return Ea(_,o)}if(0<Ya.length){Ea(Ya[0],o);for(var f=1;f<Ya.length;f++){var v=Ya[f];v.blockedOn===o&&(v.blockedOn=null)}}for(Lr!==null&&Ea(Lr,o),Sa!==null&&Ea(Sa,o),Ta!==null&&Ea(Ta,o),ws.forEach(u),oa.forEach(u),f=0;f<Xa.length;f++)v=Xa[f],v.blockedOn===o&&(v.blockedOn=null);for(;0<Xa.length&&(f=Xa[0],f.blockedOn===null);)uf(f),f.blockedOn===null&&Xa.shift()}var Ci=R.ReactCurrentBatchConfig,_s=!0;function zt(o,u,f,v){var _=ot,T=Ci.transition;Ci.transition=null;try{ot=1,wu(o,u,f,v)}finally{ot=_,Ci.transition=T}}function vg(o,u,f,v){var _=ot,T=Ci.transition;Ci.transition=null;try{ot=4,wu(o,u,f,v)}finally{ot=_,Ci.transition=T}}function wu(o,u,f,v){if(_s){var _=Pl(o,u,f,v);if(_===null)Eg(o,u,v,To,f),cf(o,v);else if(gg(_,o,u,f,v))v.stopPropagation();else if(cf(o,v),u&4&&-1<mg.indexOf(o)){for(;_!==null;){var T=Du(_);if(T!==null&&af(T),T=Pl(o,u,f,v),T===null&&Eg(o,u,v,To,f),T===_)break;_=T}_!==null&&v.stopPropagation()}else Eg(o,u,v,null,f)}}var To=null;function Pl(o,u,f,v){if(To=null,o=ta(v),o=Co(o),o!==null)if(u=it(o),u===null)o=null;else if(f=u.tag,f===13){if(o=dt(u),o!==null)return o;o=null}else if(f===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;o=null}else u!==o&&(o=null);return To=o,null}function _u(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zh()){case _o:return 1;case ms:return 4;case sa:case yu:return 16;case ef:return 536870912;default:return 16}default:return 16}}var Un=null,Il=null,jn=null;function ku(){if(jn)return jn;var o,u=Il,f=u.length,v,_="value"in Un?Un.value:Un.textContent,T=_.length;for(o=0;o<f&&u[o]===_[o];o++);var V=f-o;for(v=1;v<=V&&u[f-v]===_[T-v];v++);return jn=_.slice(o,1<v?1-v:void 0)}function Ol(o){var u=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&u===13&&(o=13)):o=u,o===10&&(o=13),32<=o||o===13?o:0}function Qa(){return!0}function ju(){return!1}function $r(o){function u(f,v,_,T,V){this._reactName=f,this._targetInst=_,this.type=v,this.nativeEvent=T,this.target=V,this.currentTarget=null;for(var H in o)o.hasOwnProperty(H)&&(f=o[H],this[H]=f?f(T):T[H]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Qa:ju,this.isPropagationStopped=ju,this}return re(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Qa)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Qa)},persist:function(){},isPersistent:Qa}),u}var Ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rl=$r(Ca),Ja=re({},Ca,{view:0,detail:0}),yg=$r(Ja),Dl,Pi,ks,Eo=re({},Ja,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Za,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==ks&&(ks&&o.type==="mousemove"?(Dl=o.screenX-ks.screenX,Pi=o.screenY-ks.screenY):Pi=Dl=0,ks=o),Dl)},movementY:function(o){return"movementY"in o?o.movementY:Pi}}),Ml=$r(Eo),Nu=re({},Eo,{dataTransfer:0}),hf=$r(Nu),Ll=re({},Ja,{relatedTarget:0}),$l=$r(Ll),ff=re({},Ca,{animationName:0,elapsedTime:0,pseudoElement:0}),Ii=$r(ff),pf=re({},Ca,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),mf=$r(pf),gf=re({},Ca,{data:0}),Su=$r(gf),Fl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yf(o){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(o):(o=vf[o])?!!u[o]:!1}function Za(){return yf}var g=re({},Ja,{key:function(o){if(o.key){var u=Fl[o.key]||o.key;if(u!=="Unidentified")return u}return o.type==="keypress"?(o=Ol(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?hn[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Za,charCode:function(o){return o.type==="keypress"?Ol(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Ol(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),S=$r(g),M=re({},Eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),U=$r(M),ie=re({},Ja,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Za}),pe=$r(ie),Ae=re({},Ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),bt=$r(Ae),br=re({},Eo,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),ct=$r(br),Er=[9,13,27,32],hr=c&&"CompositionEvent"in window,la=null;c&&"documentMode"in document&&(la=document.documentMode);var qn=c&&"TextEvent"in window&&!la,Ao=c&&(!hr||la&&8<la&&11>=la),Vl=" ",gN=!1;function vN(o,u){switch(o){case"keyup":return Er.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yN(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Bl=!1;function u$(o,u){switch(o){case"compositionend":return yN(u);case"keypress":return u.which!==32?null:(gN=!0,Vl);case"textInput":return o=u.data,o===Vl&&gN?null:o;default:return null}}function d$(o,u){if(Bl)return o==="compositionend"||!hr&&vN(o,u)?(o=ku(),jn=Il=Un=null,Bl=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Ao&&u.locale!=="ko"?null:u.data;default:return null}}var h$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xN(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u==="input"?!!h$[o.type]:u==="textarea"}function bN(o,u,f,v){aa(v),u=kf(u,"onChange"),0<u.length&&(f=new Rl("onChange","change",null,f,v),o.push({event:f,listeners:u}))}var Tu=null,Eu=null;function f$(o){$N(o,0)}function xf(o){var u=Hl(o);if(q(u))return o}function p$(o,u){if(o==="change")return u}var wN=!1;if(c){var xg;if(c){var bg="oninput"in document;if(!bg){var _N=document.createElement("div");_N.setAttribute("oninput","return;"),bg=typeof _N.oninput=="function"}xg=bg}else xg=!1;wN=xg&&(!document.documentMode||9<document.documentMode)}function kN(){Tu&&(Tu.detachEvent("onpropertychange",jN),Eu=Tu=null)}function jN(o){if(o.propertyName==="value"&&xf(Eu)){var u=[];bN(u,Eu,o,ta(o)),wo(f$,u)}}function m$(o,u,f){o==="focusin"?(kN(),Tu=u,Eu=f,Tu.attachEvent("onpropertychange",jN)):o==="focusout"&&kN()}function g$(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return xf(Eu)}function v$(o,u){if(o==="click")return xf(u)}function y$(o,u){if(o==="input"||o==="change")return xf(u)}function x$(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}var Pa=typeof Object.is=="function"?Object.is:x$;function Au(o,u){if(Pa(o,u))return!0;if(typeof o!="object"||o===null||typeof u!="object"||u===null)return!1;var f=Object.keys(o),v=Object.keys(u);if(f.length!==v.length)return!1;for(v=0;v<f.length;v++){var _=f[v];if(!d.call(u,_)||!Pa(o[_],u[_]))return!1}return!0}function NN(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function SN(o,u){var f=NN(o);o=0;for(var v;f;){if(f.nodeType===3){if(v=o+f.textContent.length,o<=u&&v>=u)return{node:f,offset:u-o};o=v}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=NN(f)}}function TN(o,u){return o&&u?o===u?!0:o&&o.nodeType===3?!1:u&&u.nodeType===3?TN(o,u.parentNode):"contains"in o?o.contains(u):o.compareDocumentPosition?!!(o.compareDocumentPosition(u)&16):!1:!1}function EN(){for(var o=window,u=ue();u instanceof o.HTMLIFrameElement;){try{var f=typeof u.contentWindow.location.href=="string"}catch{f=!1}if(f)o=u.contentWindow;else break;u=ue(o.document)}return u}function wg(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u&&(u==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||u==="textarea"||o.contentEditable==="true")}function b$(o){var u=EN(),f=o.focusedElem,v=o.selectionRange;if(u!==f&&f&&f.ownerDocument&&TN(f.ownerDocument.documentElement,f)){if(v!==null&&wg(f)){if(u=v.start,o=v.end,o===void 0&&(o=u),"selectionStart"in f)f.selectionStart=u,f.selectionEnd=Math.min(o,f.value.length);else if(o=(u=f.ownerDocument||document)&&u.defaultView||window,o.getSelection){o=o.getSelection();var _=f.textContent.length,T=Math.min(v.start,_);v=v.end===void 0?T:Math.min(v.end,_),!o.extend&&T>v&&(_=v,v=T,T=_),_=SN(f,T);var V=SN(f,v);_&&V&&(o.rangeCount!==1||o.anchorNode!==_.node||o.anchorOffset!==_.offset||o.focusNode!==V.node||o.focusOffset!==V.offset)&&(u=u.createRange(),u.setStart(_.node,_.offset),o.removeAllRanges(),T>v?(o.addRange(u),o.extend(V.node,V.offset)):(u.setEnd(V.node,V.offset),o.addRange(u)))}}for(u=[],o=f;o=o.parentNode;)o.nodeType===1&&u.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<u.length;f++)o=u[f],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var w$=c&&"documentMode"in document&&11>=document.documentMode,Ul=null,_g=null,Cu=null,kg=!1;function AN(o,u,f){var v=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;kg||Ul==null||Ul!==ue(v)||(v=Ul,"selectionStart"in v&&wg(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Cu&&Au(Cu,v)||(Cu=v,v=kf(_g,"onSelect"),0<v.length&&(u=new Rl("onSelect","select",null,u,f),o.push({event:u,listeners:v}),u.target=Ul)))}function bf(o,u){var f={};return f[o.toLowerCase()]=u.toLowerCase(),f["Webkit"+o]="webkit"+u,f["Moz"+o]="moz"+u,f}var ql={animationend:bf("Animation","AnimationEnd"),animationiteration:bf("Animation","AnimationIteration"),animationstart:bf("Animation","AnimationStart"),transitionend:bf("Transition","TransitionEnd")},jg={},CN={};c&&(CN=document.createElement("div").style,"AnimationEvent"in window||(delete ql.animationend.animation,delete ql.animationiteration.animation,delete ql.animationstart.animation),"TransitionEvent"in window||delete ql.transitionend.transition);function wf(o){if(jg[o])return jg[o];if(!ql[o])return o;var u=ql[o],f;for(f in u)if(u.hasOwnProperty(f)&&f in CN)return jg[o]=u[f];return o}var PN=wf("animationend"),IN=wf("animationiteration"),ON=wf("animationstart"),RN=wf("transitionend"),DN=new Map,MN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function js(o,u){DN.set(o,u),i(u,[o])}for(var Ng=0;Ng<MN.length;Ng++){var Sg=MN[Ng],_$=Sg.toLowerCase(),k$=Sg[0].toUpperCase()+Sg.slice(1);js(_$,"on"+k$)}js(PN,"onAnimationEnd"),js(IN,"onAnimationIteration"),js(ON,"onAnimationStart"),js("dblclick","onDoubleClick"),js("focusin","onFocus"),js("focusout","onBlur"),js(RN,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j$=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pu));function LN(o,u,f){var v=o.type||"unknown-event";o.currentTarget=f,Tt(v,u,void 0,o),o.currentTarget=null}function $N(o,u){u=(u&4)!==0;for(var f=0;f<o.length;f++){var v=o[f],_=v.event;v=v.listeners;e:{var T=void 0;if(u)for(var V=v.length-1;0<=V;V--){var H=v[V],Y=H.instance,ce=H.currentTarget;if(H=H.listener,Y!==T&&_.isPropagationStopped())break e;LN(_,H,ce),T=Y}else for(V=0;V<v.length;V++){if(H=v[V],Y=H.instance,ce=H.currentTarget,H=H.listener,Y!==T&&_.isPropagationStopped())break e;LN(_,H,ce),T=Y}}}if(ye)throw o=Ve,ye=!1,Ve=null,o}function Lt(o,u){var f=u[Rg];f===void 0&&(f=u[Rg]=new Set);var v=o+"__bubble";f.has(v)||(FN(u,o,2,!1),f.add(v))}function Tg(o,u,f){var v=0;u&&(v|=4),FN(f,o,v,u)}var _f="_reactListening"+Math.random().toString(36).slice(2);function Iu(o){if(!o[_f]){o[_f]=!0,n.forEach(function(f){f!=="selectionchange"&&(j$.has(f)||Tg(f,!1,o),Tg(f,!0,o))});var u=o.nodeType===9?o:o.ownerDocument;u===null||u[_f]||(u[_f]=!0,Tg("selectionchange",!1,u))}}function FN(o,u,f,v){switch(_u(u)){case 1:var _=zt;break;case 4:_=vg;break;default:_=wu}f=_.bind(null,u,f,o),_=void 0,!xr||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(_=!0),v?_!==void 0?o.addEventListener(u,f,{capture:!0,passive:_}):o.addEventListener(u,f,!0):_!==void 0?o.addEventListener(u,f,{passive:_}):o.addEventListener(u,f,!1)}function Eg(o,u,f,v,_){var T=v;if((u&1)===0&&(u&2)===0&&v!==null)e:for(;;){if(v===null)return;var V=v.tag;if(V===3||V===4){var H=v.stateNode.containerInfo;if(H===_||H.nodeType===8&&H.parentNode===_)break;if(V===4)for(V=v.return;V!==null;){var Y=V.tag;if((Y===3||Y===4)&&(Y=V.stateNode.containerInfo,Y===_||Y.nodeType===8&&Y.parentNode===_))return;V=V.return}for(;H!==null;){if(V=Co(H),V===null)return;if(Y=V.tag,Y===5||Y===6){v=T=V;continue e}H=H.parentNode}}v=v.return}wo(function(){var ce=T,je=ta(f),Se=[];e:{var ke=DN.get(o);if(ke!==void 0){var Pe=Rl,Le=o;switch(o){case"keypress":if(Ol(f)===0)break e;case"keydown":case"keyup":Pe=S;break;case"focusin":Le="focus",Pe=$l;break;case"focusout":Le="blur",Pe=$l;break;case"beforeblur":case"afterblur":Pe=$l;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pe=Ml;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pe=hf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pe=pe;break;case PN:case IN:case ON:Pe=Ii;break;case RN:Pe=bt;break;case"scroll":Pe=yg;break;case"wheel":Pe=ct;break;case"copy":case"cut":case"paste":Pe=mf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pe=U}var $e=(u&4)!==0,lr=!$e&&o==="scroll",se=$e?ke!==null?ke+"Capture":null:ke;$e=[];for(var te=ce,oe;te!==null;){oe=te;var Te=oe.stateNode;if(oe.tag===5&&Te!==null&&(oe=Te,se!==null&&(Te=Yt(te,se),Te!=null&&$e.push(Ou(te,Te,oe)))),lr)break;te=te.return}0<$e.length&&(ke=new Pe(ke,Le,null,f,je),Se.push({event:ke,listeners:$e}))}}if((u&7)===0){e:{if(ke=o==="mouseover"||o==="pointerover",Pe=o==="mouseout"||o==="pointerout",ke&&f!==Ka&&(Le=f.relatedTarget||f.fromElement)&&(Co(Le)||Le[Oi]))break e;if((Pe||ke)&&(ke=je.window===je?je:(ke=je.ownerDocument)?ke.defaultView||ke.parentWindow:window,Pe?(Le=f.relatedTarget||f.toElement,Pe=ce,Le=Le?Co(Le):null,Le!==null&&(lr=it(Le),Le!==lr||Le.tag!==5&&Le.tag!==6)&&(Le=null)):(Pe=null,Le=ce),Pe!==Le)){if($e=Ml,Te="onMouseLeave",se="onMouseEnter",te="mouse",(o==="pointerout"||o==="pointerover")&&($e=U,Te="onPointerLeave",se="onPointerEnter",te="pointer"),lr=Pe==null?ke:Hl(Pe),oe=Le==null?ke:Hl(Le),ke=new $e(Te,te+"leave",Pe,f,je),ke.target=lr,ke.relatedTarget=oe,Te=null,Co(je)===ce&&($e=new $e(se,te+"enter",Le,f,je),$e.target=oe,$e.relatedTarget=lr,Te=$e),lr=Te,Pe&&Le)t:{for($e=Pe,se=Le,te=0,oe=$e;oe;oe=zl(oe))te++;for(oe=0,Te=se;Te;Te=zl(Te))oe++;for(;0<te-oe;)$e=zl($e),te--;for(;0<oe-te;)se=zl(se),oe--;for(;te--;){if($e===se||se!==null&&$e===se.alternate)break t;$e=zl($e),se=zl(se)}$e=null}else $e=null;Pe!==null&&VN(Se,ke,Pe,$e,!1),Le!==null&&lr!==null&&VN(Se,lr,Le,$e,!0)}}e:{if(ke=ce?Hl(ce):window,Pe=ke.nodeName&&ke.nodeName.toLowerCase(),Pe==="select"||Pe==="input"&&ke.type==="file")var Be=p$;else if(xN(ke))if(wN)Be=y$;else{Be=g$;var ze=m$}else(Pe=ke.nodeName)&&Pe.toLowerCase()==="input"&&(ke.type==="checkbox"||ke.type==="radio")&&(Be=v$);if(Be&&(Be=Be(o,ce))){bN(Se,Be,f,je);break e}ze&&ze(o,ke,ce),o==="focusout"&&(ze=ke._wrapperState)&&ze.controlled&&ke.type==="number"&&ln(ke,"number",ke.value)}switch(ze=ce?Hl(ce):window,o){case"focusin":(xN(ze)||ze.contentEditable==="true")&&(Ul=ze,_g=ce,Cu=null);break;case"focusout":Cu=_g=Ul=null;break;case"mousedown":kg=!0;break;case"contextmenu":case"mouseup":case"dragend":kg=!1,AN(Se,f,je);break;case"selectionchange":if(w$)break;case"keydown":case"keyup":AN(Se,f,je)}var We;if(hr)e:{switch(o){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else Bl?vN(o,f)&&(Xe="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(Xe="onCompositionStart");Xe&&(Ao&&f.locale!=="ko"&&(Bl||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&Bl&&(We=ku()):(Un=je,Il="value"in Un?Un.value:Un.textContent,Bl=!0)),ze=kf(ce,Xe),0<ze.length&&(Xe=new Su(Xe,o,null,f,je),Se.push({event:Xe,listeners:ze}),We?Xe.data=We:(We=yN(f),We!==null&&(Xe.data=We)))),(We=qn?u$(o,f):d$(o,f))&&(ce=kf(ce,"onBeforeInput"),0<ce.length&&(je=new Su("onBeforeInput","beforeinput",null,f,je),Se.push({event:je,listeners:ce}),je.data=We))}$N(Se,u)})}function Ou(o,u,f){return{instance:o,listener:u,currentTarget:f}}function kf(o,u){for(var f=u+"Capture",v=[];o!==null;){var _=o,T=_.stateNode;_.tag===5&&T!==null&&(_=T,T=Yt(o,f),T!=null&&v.unshift(Ou(o,T,_)),T=Yt(o,u),T!=null&&v.push(Ou(o,T,_))),o=o.return}return v}function zl(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function VN(o,u,f,v,_){for(var T=u._reactName,V=[];f!==null&&f!==v;){var H=f,Y=H.alternate,ce=H.stateNode;if(Y!==null&&Y===v)break;H.tag===5&&ce!==null&&(H=ce,_?(Y=Yt(f,T),Y!=null&&V.unshift(Ou(f,Y,H))):_||(Y=Yt(f,T),Y!=null&&V.push(Ou(f,Y,H)))),f=f.return}V.length!==0&&o.push({event:u,listeners:V})}var N$=/\r\n?/g,S$=/\u0000|\uFFFD/g;function BN(o){return(typeof o=="string"?o:""+o).replace(N$,`
`).replace(S$,"")}function jf(o,u,f){if(u=BN(u),BN(o)!==u&&f)throw Error(r(425))}function Nf(){}var Ag=null,Cg=null;function Pg(o,u){return o==="textarea"||o==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Ig=typeof setTimeout=="function"?setTimeout:void 0,T$=typeof clearTimeout=="function"?clearTimeout:void 0,UN=typeof Promise=="function"?Promise:void 0,E$=typeof queueMicrotask=="function"?queueMicrotask:typeof UN<"u"?function(o){return UN.resolve(null).then(o).catch(A$)}:Ig;function A$(o){setTimeout(function(){throw o})}function Og(o,u){var f=u,v=0;do{var _=f.nextSibling;if(o.removeChild(f),_&&_.nodeType===8)if(f=_.data,f==="/$"){if(v===0){o.removeChild(_),Aa(u);return}v--}else f!=="$"&&f!=="$?"&&f!=="$!"||v++;f=_}while(f);Aa(u)}function Ns(o){for(;o!=null;o=o.nextSibling){var u=o.nodeType;if(u===1||u===3)break;if(u===8){if(u=o.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return o}function qN(o){o=o.previousSibling;for(var u=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"){if(u===0)return o;u--}else f==="/$"&&u++}o=o.previousSibling}return null}var Wl=Math.random().toString(36).slice(2),ei="__reactFiber$"+Wl,Ru="__reactProps$"+Wl,Oi="__reactContainer$"+Wl,Rg="__reactEvents$"+Wl,C$="__reactListeners$"+Wl,P$="__reactHandles$"+Wl;function Co(o){var u=o[ei];if(u)return u;for(var f=o.parentNode;f;){if(u=f[Oi]||f[ei]){if(f=u.alternate,u.child!==null||f!==null&&f.child!==null)for(o=qN(o);o!==null;){if(f=o[ei])return f;o=qN(o)}return u}o=f,f=o.parentNode}return null}function Du(o){return o=o[ei]||o[Oi],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Hl(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(r(33))}function Sf(o){return o[Ru]||null}var Dg=[],Gl=-1;function Ss(o){return{current:o}}function $t(o){0>Gl||(o.current=Dg[Gl],Dg[Gl]=null,Gl--)}function Pt(o,u){Gl++,Dg[Gl]=o.current,o.current=u}var Ts={},Kr=Ss(Ts),Nn=Ss(!1),Po=Ts;function Kl(o,u){var f=o.type.contextTypes;if(!f)return Ts;var v=o.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===u)return v.__reactInternalMemoizedMaskedChildContext;var _={},T;for(T in f)_[T]=u[T];return v&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=u,o.__reactInternalMemoizedMaskedChildContext=_),_}function Sn(o){return o=o.childContextTypes,o!=null}function Tf(){$t(Nn),$t(Kr)}function zN(o,u,f){if(Kr.current!==Ts)throw Error(r(168));Pt(Kr,u),Pt(Nn,f)}function WN(o,u,f){var v=o.stateNode;if(u=u.childContextTypes,typeof v.getChildContext!="function")return f;v=v.getChildContext();for(var _ in v)if(!(_ in u))throw Error(r(108,de(o)||"Unknown",_));return re({},f,v)}function Ef(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Ts,Po=Kr.current,Pt(Kr,o),Pt(Nn,Nn.current),!0}function HN(o,u,f){var v=o.stateNode;if(!v)throw Error(r(169));f?(o=WN(o,u,Po),v.__reactInternalMemoizedMergedChildContext=o,$t(Nn),$t(Kr),Pt(Kr,o)):$t(Nn),Pt(Nn,f)}var Ri=null,Af=!1,Mg=!1;function GN(o){Ri===null?Ri=[o]:Ri.push(o)}function I$(o){Af=!0,GN(o)}function Es(){if(!Mg&&Ri!==null){Mg=!0;var o=0,u=ot;try{var f=Ri;for(ot=1;o<f.length;o++){var v=f[o];do v=v(!0);while(v!==null)}Ri=null,Af=!1}catch(_){throw Ri!==null&&(Ri=Ri.slice(o+1)),rr(_o,Es),_}finally{ot=u,Mg=!1}}return null}var Yl=[],Xl=0,Cf=null,Pf=0,ca=[],ua=0,Io=null,Di=1,Mi="";function Oo(o,u){Yl[Xl++]=Pf,Yl[Xl++]=Cf,Cf=o,Pf=u}function KN(o,u,f){ca[ua++]=Di,ca[ua++]=Mi,ca[ua++]=Io,Io=o;var v=Di;o=Mi;var _=32-dn(v)-1;v&=~(1<<_),f+=1;var T=32-dn(u)+_;if(30<T){var V=_-_%5;T=(v&(1<<V)-1).toString(32),v>>=V,_-=V,Di=1<<32-dn(u)+_|f<<_|v,Mi=T+o}else Di=1<<T|f<<_|v,Mi=o}function Lg(o){o.return!==null&&(Oo(o,1),KN(o,1,0))}function $g(o){for(;o===Cf;)Cf=Yl[--Xl],Yl[Xl]=null,Pf=Yl[--Xl],Yl[Xl]=null;for(;o===Io;)Io=ca[--ua],ca[ua]=null,Mi=ca[--ua],ca[ua]=null,Di=ca[--ua],ca[ua]=null}var zn=null,Wn=null,Wt=!1,Ia=null;function YN(o,u){var f=pa(5,null,null,0);f.elementType="DELETED",f.stateNode=u,f.return=o,u=o.deletions,u===null?(o.deletions=[f],o.flags|=16):u.push(f)}function XN(o,u){switch(o.tag){case 5:var f=o.type;return u=u.nodeType!==1||f.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(o.stateNode=u,zn=o,Wn=Ns(u.firstChild),!0):!1;case 6:return u=o.pendingProps===""||u.nodeType!==3?null:u,u!==null?(o.stateNode=u,zn=o,Wn=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(f=Io!==null?{id:Di,overflow:Mi}:null,o.memoizedState={dehydrated:u,treeContext:f,retryLane:1073741824},f=pa(18,null,null,0),f.stateNode=u,f.return=o,o.child=f,zn=o,Wn=null,!0):!1;default:return!1}}function Fg(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Vg(o){if(Wt){var u=Wn;if(u){var f=u;if(!XN(o,u)){if(Fg(o))throw Error(r(418));u=Ns(f.nextSibling);var v=zn;u&&XN(o,u)?YN(v,f):(o.flags=o.flags&-4097|2,Wt=!1,zn=o)}}else{if(Fg(o))throw Error(r(418));o.flags=o.flags&-4097|2,Wt=!1,zn=o}}}function QN(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;zn=o}function If(o){if(o!==zn)return!1;if(!Wt)return QN(o),Wt=!0,!1;var u;if((u=o.tag!==3)&&!(u=o.tag!==5)&&(u=o.type,u=u!=="head"&&u!=="body"&&!Pg(o.type,o.memoizedProps)),u&&(u=Wn)){if(Fg(o))throw JN(),Error(r(418));for(;u;)YN(o,u),u=Ns(u.nextSibling)}if(QN(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,u=0;o;){if(o.nodeType===8){var f=o.data;if(f==="/$"){if(u===0){Wn=Ns(o.nextSibling);break e}u--}else f!=="$"&&f!=="$!"&&f!=="$?"||u++}o=o.nextSibling}Wn=null}}else Wn=zn?Ns(o.stateNode.nextSibling):null;return!0}function JN(){for(var o=Wn;o;)o=Ns(o.nextSibling)}function Ql(){Wn=zn=null,Wt=!1}function Bg(o){Ia===null?Ia=[o]:Ia.push(o)}var O$=R.ReactCurrentBatchConfig;function Mu(o,u,f){if(o=f.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(r(309));var v=f.stateNode}if(!v)throw Error(r(147,o));var _=v,T=""+o;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===T?u.ref:(u=function(V){var H=_.refs;V===null?delete H[T]:H[T]=V},u._stringRef=T,u)}if(typeof o!="string")throw Error(r(284));if(!f._owner)throw Error(r(290,o))}return o}function Of(o,u){throw o=Object.prototype.toString.call(u),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":o))}function ZN(o){var u=o._init;return u(o._payload)}function eS(o){function u(se,te){if(o){var oe=se.deletions;oe===null?(se.deletions=[te],se.flags|=16):oe.push(te)}}function f(se,te){if(!o)return null;for(;te!==null;)u(se,te),te=te.sibling;return null}function v(se,te){for(se=new Map;te!==null;)te.key!==null?se.set(te.key,te):se.set(te.index,te),te=te.sibling;return se}function _(se,te){return se=Ms(se,te),se.index=0,se.sibling=null,se}function T(se,te,oe){return se.index=oe,o?(oe=se.alternate,oe!==null?(oe=oe.index,oe<te?(se.flags|=2,te):oe):(se.flags|=2,te)):(se.flags|=1048576,te)}function V(se){return o&&se.alternate===null&&(se.flags|=2),se}function H(se,te,oe,Te){return te===null||te.tag!==6?(te=Iv(oe,se.mode,Te),te.return=se,te):(te=_(te,oe),te.return=se,te)}function Y(se,te,oe,Te){var Be=oe.type;return Be===A?je(se,te,oe.props.children,Te,oe.key):te!==null&&(te.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===G&&ZN(Be)===te.type)?(Te=_(te,oe.props),Te.ref=Mu(se,te,oe),Te.return=se,Te):(Te=np(oe.type,oe.key,oe.props,null,se.mode,Te),Te.ref=Mu(se,te,oe),Te.return=se,Te)}function ce(se,te,oe,Te){return te===null||te.tag!==4||te.stateNode.containerInfo!==oe.containerInfo||te.stateNode.implementation!==oe.implementation?(te=Ov(oe,se.mode,Te),te.return=se,te):(te=_(te,oe.children||[]),te.return=se,te)}function je(se,te,oe,Te,Be){return te===null||te.tag!==7?(te=Bo(oe,se.mode,Te,Be),te.return=se,te):(te=_(te,oe),te.return=se,te)}function Se(se,te,oe){if(typeof te=="string"&&te!==""||typeof te=="number")return te=Iv(""+te,se.mode,oe),te.return=se,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case j:return oe=np(te.type,te.key,te.props,null,se.mode,oe),oe.ref=Mu(se,null,te),oe.return=se,oe;case C:return te=Ov(te,se.mode,oe),te.return=se,te;case G:var Te=te._init;return Se(se,Te(te._payload),oe)}if(Dt(te)||Z(te))return te=Bo(te,se.mode,oe,null),te.return=se,te;Of(se,te)}return null}function ke(se,te,oe,Te){var Be=te!==null?te.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number")return Be!==null?null:H(se,te,""+oe,Te);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case j:return oe.key===Be?Y(se,te,oe,Te):null;case C:return oe.key===Be?ce(se,te,oe,Te):null;case G:return Be=oe._init,ke(se,te,Be(oe._payload),Te)}if(Dt(oe)||Z(oe))return Be!==null?null:je(se,te,oe,Te,null);Of(se,oe)}return null}function Pe(se,te,oe,Te,Be){if(typeof Te=="string"&&Te!==""||typeof Te=="number")return se=se.get(oe)||null,H(te,se,""+Te,Be);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case j:return se=se.get(Te.key===null?oe:Te.key)||null,Y(te,se,Te,Be);case C:return se=se.get(Te.key===null?oe:Te.key)||null,ce(te,se,Te,Be);case G:var ze=Te._init;return Pe(se,te,oe,ze(Te._payload),Be)}if(Dt(Te)||Z(Te))return se=se.get(oe)||null,je(te,se,Te,Be,null);Of(te,Te)}return null}function Le(se,te,oe,Te){for(var Be=null,ze=null,We=te,Xe=te=0,Pr=null;We!==null&&Xe<oe.length;Xe++){We.index>Xe?(Pr=We,We=null):Pr=We.sibling;var ft=ke(se,We,oe[Xe],Te);if(ft===null){We===null&&(We=Pr);break}o&&We&&ft.alternate===null&&u(se,We),te=T(ft,te,Xe),ze===null?Be=ft:ze.sibling=ft,ze=ft,We=Pr}if(Xe===oe.length)return f(se,We),Wt&&Oo(se,Xe),Be;if(We===null){for(;Xe<oe.length;Xe++)We=Se(se,oe[Xe],Te),We!==null&&(te=T(We,te,Xe),ze===null?Be=We:ze.sibling=We,ze=We);return Wt&&Oo(se,Xe),Be}for(We=v(se,We);Xe<oe.length;Xe++)Pr=Pe(We,se,Xe,oe[Xe],Te),Pr!==null&&(o&&Pr.alternate!==null&&We.delete(Pr.key===null?Xe:Pr.key),te=T(Pr,te,Xe),ze===null?Be=Pr:ze.sibling=Pr,ze=Pr);return o&&We.forEach(function(Ls){return u(se,Ls)}),Wt&&Oo(se,Xe),Be}function $e(se,te,oe,Te){var Be=Z(oe);if(typeof Be!="function")throw Error(r(150));if(oe=Be.call(oe),oe==null)throw Error(r(151));for(var ze=Be=null,We=te,Xe=te=0,Pr=null,ft=oe.next();We!==null&&!ft.done;Xe++,ft=oe.next()){We.index>Xe?(Pr=We,We=null):Pr=We.sibling;var Ls=ke(se,We,ft.value,Te);if(Ls===null){We===null&&(We=Pr);break}o&&We&&Ls.alternate===null&&u(se,We),te=T(Ls,te,Xe),ze===null?Be=Ls:ze.sibling=Ls,ze=Ls,We=Pr}if(ft.done)return f(se,We),Wt&&Oo(se,Xe),Be;if(We===null){for(;!ft.done;Xe++,ft=oe.next())ft=Se(se,ft.value,Te),ft!==null&&(te=T(ft,te,Xe),ze===null?Be=ft:ze.sibling=ft,ze=ft);return Wt&&Oo(se,Xe),Be}for(We=v(se,We);!ft.done;Xe++,ft=oe.next())ft=Pe(We,se,Xe,ft.value,Te),ft!==null&&(o&&ft.alternate!==null&&We.delete(ft.key===null?Xe:ft.key),te=T(ft,te,Xe),ze===null?Be=ft:ze.sibling=ft,ze=ft);return o&&We.forEach(function(h5){return u(se,h5)}),Wt&&Oo(se,Xe),Be}function lr(se,te,oe,Te){if(typeof oe=="object"&&oe!==null&&oe.type===A&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case j:e:{for(var Be=oe.key,ze=te;ze!==null;){if(ze.key===Be){if(Be=oe.type,Be===A){if(ze.tag===7){f(se,ze.sibling),te=_(ze,oe.props.children),te.return=se,se=te;break e}}else if(ze.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===G&&ZN(Be)===ze.type){f(se,ze.sibling),te=_(ze,oe.props),te.ref=Mu(se,ze,oe),te.return=se,se=te;break e}f(se,ze);break}else u(se,ze);ze=ze.sibling}oe.type===A?(te=Bo(oe.props.children,se.mode,Te,oe.key),te.return=se,se=te):(Te=np(oe.type,oe.key,oe.props,null,se.mode,Te),Te.ref=Mu(se,te,oe),Te.return=se,se=Te)}return V(se);case C:e:{for(ze=oe.key;te!==null;){if(te.key===ze)if(te.tag===4&&te.stateNode.containerInfo===oe.containerInfo&&te.stateNode.implementation===oe.implementation){f(se,te.sibling),te=_(te,oe.children||[]),te.return=se,se=te;break e}else{f(se,te);break}else u(se,te);te=te.sibling}te=Ov(oe,se.mode,Te),te.return=se,se=te}return V(se);case G:return ze=oe._init,lr(se,te,ze(oe._payload),Te)}if(Dt(oe))return Le(se,te,oe,Te);if(Z(oe))return $e(se,te,oe,Te);Of(se,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"?(oe=""+oe,te!==null&&te.tag===6?(f(se,te.sibling),te=_(te,oe),te.return=se,se=te):(f(se,te),te=Iv(oe,se.mode,Te),te.return=se,se=te),V(se)):f(se,te)}return lr}var Jl=eS(!0),tS=eS(!1),Rf=Ss(null),Df=null,Zl=null,Ug=null;function qg(){Ug=Zl=Df=null}function zg(o){var u=Rf.current;$t(Rf),o._currentValue=u}function Wg(o,u,f){for(;o!==null;){var v=o.alternate;if((o.childLanes&u)!==u?(o.childLanes|=u,v!==null&&(v.childLanes|=u)):v!==null&&(v.childLanes&u)!==u&&(v.childLanes|=u),o===f)break;o=o.return}}function ec(o,u){Df=o,Ug=Zl=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&u)!==0&&(Tn=!0),o.firstContext=null)}function da(o){var u=o._currentValue;if(Ug!==o)if(o={context:o,memoizedValue:u,next:null},Zl===null){if(Df===null)throw Error(r(308));Zl=o,Df.dependencies={lanes:0,firstContext:o}}else Zl=Zl.next=o;return u}var Ro=null;function Hg(o){Ro===null?Ro=[o]:Ro.push(o)}function rS(o,u,f,v){var _=u.interleaved;return _===null?(f.next=f,Hg(u)):(f.next=_.next,_.next=f),u.interleaved=f,Li(o,v)}function Li(o,u){o.lanes|=u;var f=o.alternate;for(f!==null&&(f.lanes|=u),f=o,o=o.return;o!==null;)o.childLanes|=u,f=o.alternate,f!==null&&(f.childLanes|=u),f=o,o=o.return;return f.tag===3?f.stateNode:null}var As=!1;function Gg(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nS(o,u){o=o.updateQueue,u.updateQueue===o&&(u.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function $i(o,u){return{eventTime:o,lane:u,tag:0,payload:null,callback:null,next:null}}function Cs(o,u,f){var v=o.updateQueue;if(v===null)return null;if(v=v.shared,(ht&2)!==0){var _=v.pending;return _===null?u.next=u:(u.next=_.next,_.next=u),v.pending=u,Li(o,f)}return _=v.interleaved,_===null?(u.next=u,Hg(v)):(u.next=_.next,_.next=u),v.interleaved=u,Li(o,f)}function Mf(o,u,f){if(u=u.updateQueue,u!==null&&(u=u.shared,(f&4194240)!==0)){var v=u.lanes;v&=o.pendingLanes,f|=v,u.lanes=f,xs(o,f)}}function aS(o,u){var f=o.updateQueue,v=o.alternate;if(v!==null&&(v=v.updateQueue,f===v)){var _=null,T=null;if(f=f.firstBaseUpdate,f!==null){do{var V={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};T===null?_=T=V:T=T.next=V,f=f.next}while(f!==null);T===null?_=T=u:T=T.next=u}else _=T=u;f={baseState:v.baseState,firstBaseUpdate:_,lastBaseUpdate:T,shared:v.shared,effects:v.effects},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=u:o.next=u,f.lastBaseUpdate=u}function Lf(o,u,f,v){var _=o.updateQueue;As=!1;var T=_.firstBaseUpdate,V=_.lastBaseUpdate,H=_.shared.pending;if(H!==null){_.shared.pending=null;var Y=H,ce=Y.next;Y.next=null,V===null?T=ce:V.next=ce,V=Y;var je=o.alternate;je!==null&&(je=je.updateQueue,H=je.lastBaseUpdate,H!==V&&(H===null?je.firstBaseUpdate=ce:H.next=ce,je.lastBaseUpdate=Y))}if(T!==null){var Se=_.baseState;V=0,je=ce=Y=null,H=T;do{var ke=H.lane,Pe=H.eventTime;if((v&ke)===ke){je!==null&&(je=je.next={eventTime:Pe,lane:0,tag:H.tag,payload:H.payload,callback:H.callback,next:null});e:{var Le=o,$e=H;switch(ke=u,Pe=f,$e.tag){case 1:if(Le=$e.payload,typeof Le=="function"){Se=Le.call(Pe,Se,ke);break e}Se=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=$e.payload,ke=typeof Le=="function"?Le.call(Pe,Se,ke):Le,ke==null)break e;Se=re({},Se,ke);break e;case 2:As=!0}}H.callback!==null&&H.lane!==0&&(o.flags|=64,ke=_.effects,ke===null?_.effects=[H]:ke.push(H))}else Pe={eventTime:Pe,lane:ke,tag:H.tag,payload:H.payload,callback:H.callback,next:null},je===null?(ce=je=Pe,Y=Se):je=je.next=Pe,V|=ke;if(H=H.next,H===null){if(H=_.shared.pending,H===null)break;ke=H,H=ke.next,ke.next=null,_.lastBaseUpdate=ke,_.shared.pending=null}}while(!0);if(je===null&&(Y=Se),_.baseState=Y,_.firstBaseUpdate=ce,_.lastBaseUpdate=je,u=_.shared.interleaved,u!==null){_=u;do V|=_.lane,_=_.next;while(_!==u)}else T===null&&(_.shared.lanes=0);Lo|=V,o.lanes=V,o.memoizedState=Se}}function iS(o,u,f){if(o=u.effects,u.effects=null,o!==null)for(u=0;u<o.length;u++){var v=o[u],_=v.callback;if(_!==null){if(v.callback=null,v=f,typeof _!="function")throw Error(r(191,_));_.call(v)}}}var Lu={},ti=Ss(Lu),$u=Ss(Lu),Fu=Ss(Lu);function Do(o){if(o===Lu)throw Error(r(174));return o}function Kg(o,u){switch(Pt(Fu,u),Pt($u,o),Pt(ti,Lu),o=u.nodeType,o){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:Kt(null,"");break;default:o=o===8?u.parentNode:u,u=o.namespaceURI||null,o=o.tagName,u=Kt(u,o)}$t(ti),Pt(ti,u)}function tc(){$t(ti),$t($u),$t(Fu)}function sS(o){Do(Fu.current);var u=Do(ti.current),f=Kt(u,o.type);u!==f&&(Pt($u,o),Pt(ti,f))}function Yg(o){$u.current===o&&($t(ti),$t($u))}var Qt=Ss(0);function $f(o){for(var u=o;u!==null;){if(u.tag===13){var f=u.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Xg=[];function Qg(){for(var o=0;o<Xg.length;o++)Xg[o]._workInProgressVersionPrimary=null;Xg.length=0}var Ff=R.ReactCurrentDispatcher,Jg=R.ReactCurrentBatchConfig,Mo=0,Jt=null,wr=null,Ar=null,Vf=!1,Vu=!1,Bu=0,R$=0;function Yr(){throw Error(r(321))}function Zg(o,u){if(u===null)return!1;for(var f=0;f<u.length&&f<o.length;f++)if(!Pa(o[f],u[f]))return!1;return!0}function ev(o,u,f,v,_,T){if(Mo=T,Jt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Ff.current=o===null||o.memoizedState===null?$$:F$,o=f(v,_),Vu){T=0;do{if(Vu=!1,Bu=0,25<=T)throw Error(r(301));T+=1,Ar=wr=null,u.updateQueue=null,Ff.current=V$,o=f(v,_)}while(Vu)}if(Ff.current=qf,u=wr!==null&&wr.next!==null,Mo=0,Ar=wr=Jt=null,Vf=!1,u)throw Error(r(300));return o}function tv(){var o=Bu!==0;return Bu=0,o}function ri(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ar===null?Jt.memoizedState=Ar=o:Ar=Ar.next=o,Ar}function ha(){if(wr===null){var o=Jt.alternate;o=o!==null?o.memoizedState:null}else o=wr.next;var u=Ar===null?Jt.memoizedState:Ar.next;if(u!==null)Ar=u,wr=o;else{if(o===null)throw Error(r(310));wr=o,o={memoizedState:wr.memoizedState,baseState:wr.baseState,baseQueue:wr.baseQueue,queue:wr.queue,next:null},Ar===null?Jt.memoizedState=Ar=o:Ar=Ar.next=o}return Ar}function Uu(o,u){return typeof u=="function"?u(o):u}function rv(o){var u=ha(),f=u.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var v=wr,_=v.baseQueue,T=f.pending;if(T!==null){if(_!==null){var V=_.next;_.next=T.next,T.next=V}v.baseQueue=_=T,f.pending=null}if(_!==null){T=_.next,v=v.baseState;var H=V=null,Y=null,ce=T;do{var je=ce.lane;if((Mo&je)===je)Y!==null&&(Y=Y.next={lane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),v=ce.hasEagerState?ce.eagerState:o(v,ce.action);else{var Se={lane:je,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null};Y===null?(H=Y=Se,V=v):Y=Y.next=Se,Jt.lanes|=je,Lo|=je}ce=ce.next}while(ce!==null&&ce!==T);Y===null?V=v:Y.next=H,Pa(v,u.memoizedState)||(Tn=!0),u.memoizedState=v,u.baseState=V,u.baseQueue=Y,f.lastRenderedState=v}if(o=f.interleaved,o!==null){_=o;do T=_.lane,Jt.lanes|=T,Lo|=T,_=_.next;while(_!==o)}else _===null&&(f.lanes=0);return[u.memoizedState,f.dispatch]}function nv(o){var u=ha(),f=u.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var v=f.dispatch,_=f.pending,T=u.memoizedState;if(_!==null){f.pending=null;var V=_=_.next;do T=o(T,V.action),V=V.next;while(V!==_);Pa(T,u.memoizedState)||(Tn=!0),u.memoizedState=T,u.baseQueue===null&&(u.baseState=T),f.lastRenderedState=T}return[T,v]}function oS(){}function lS(o,u){var f=Jt,v=ha(),_=u(),T=!Pa(v.memoizedState,_);if(T&&(v.memoizedState=_,Tn=!0),v=v.queue,av(dS.bind(null,f,v,o),[o]),v.getSnapshot!==u||T||Ar!==null&&Ar.memoizedState.tag&1){if(f.flags|=2048,qu(9,uS.bind(null,f,v,_,u),void 0,null),Cr===null)throw Error(r(349));(Mo&30)!==0||cS(f,u,_)}return _}function cS(o,u,f){o.flags|=16384,o={getSnapshot:u,value:f},u=Jt.updateQueue,u===null?(u={lastEffect:null,stores:null},Jt.updateQueue=u,u.stores=[o]):(f=u.stores,f===null?u.stores=[o]:f.push(o))}function uS(o,u,f,v){u.value=f,u.getSnapshot=v,hS(u)&&fS(o)}function dS(o,u,f){return f(function(){hS(u)&&fS(o)})}function hS(o){var u=o.getSnapshot;o=o.value;try{var f=u();return!Pa(o,f)}catch{return!0}}function fS(o){var u=Li(o,1);u!==null&&Ma(u,o,1,-1)}function pS(o){var u=ri();return typeof o=="function"&&(o=o()),u.memoizedState=u.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uu,lastRenderedState:o},u.queue=o,o=o.dispatch=L$.bind(null,Jt,o),[u.memoizedState,o]}function qu(o,u,f,v){return o={tag:o,create:u,destroy:f,deps:v,next:null},u=Jt.updateQueue,u===null?(u={lastEffect:null,stores:null},Jt.updateQueue=u,u.lastEffect=o.next=o):(f=u.lastEffect,f===null?u.lastEffect=o.next=o:(v=f.next,f.next=o,o.next=v,u.lastEffect=o)),o}function mS(){return ha().memoizedState}function Bf(o,u,f,v){var _=ri();Jt.flags|=o,_.memoizedState=qu(1|u,f,void 0,v===void 0?null:v)}function Uf(o,u,f,v){var _=ha();v=v===void 0?null:v;var T=void 0;if(wr!==null){var V=wr.memoizedState;if(T=V.destroy,v!==null&&Zg(v,V.deps)){_.memoizedState=qu(u,f,T,v);return}}Jt.flags|=o,_.memoizedState=qu(1|u,f,T,v)}function gS(o,u){return Bf(8390656,8,o,u)}function av(o,u){return Uf(2048,8,o,u)}function vS(o,u){return Uf(4,2,o,u)}function yS(o,u){return Uf(4,4,o,u)}function xS(o,u){if(typeof u=="function")return o=o(),u(o),function(){u(null)};if(u!=null)return o=o(),u.current=o,function(){u.current=null}}function bS(o,u,f){return f=f!=null?f.concat([o]):null,Uf(4,4,xS.bind(null,u,o),f)}function iv(){}function wS(o,u){var f=ha();u=u===void 0?null:u;var v=f.memoizedState;return v!==null&&u!==null&&Zg(u,v[1])?v[0]:(f.memoizedState=[o,u],o)}function _S(o,u){var f=ha();u=u===void 0?null:u;var v=f.memoizedState;return v!==null&&u!==null&&Zg(u,v[1])?v[0]:(o=o(),f.memoizedState=[o,u],o)}function kS(o,u,f){return(Mo&21)===0?(o.baseState&&(o.baseState=!1,Tn=!0),o.memoizedState=f):(Pa(f,u)||(f=No(),Jt.lanes|=f,Lo|=f,o.baseState=!0),u)}function D$(o,u){var f=ot;ot=f!==0&&4>f?f:4,o(!0);var v=Jg.transition;Jg.transition={};try{o(!1),u()}finally{ot=f,Jg.transition=v}}function jS(){return ha().memoizedState}function M$(o,u,f){var v=Rs(o);if(f={lane:v,action:f,hasEagerState:!1,eagerState:null,next:null},NS(o))SS(u,f);else if(f=rS(o,u,f,v),f!==null){var _=pn();Ma(f,o,v,_),TS(f,u,v)}}function L$(o,u,f){var v=Rs(o),_={lane:v,action:f,hasEagerState:!1,eagerState:null,next:null};if(NS(o))SS(u,_);else{var T=o.alternate;if(o.lanes===0&&(T===null||T.lanes===0)&&(T=u.lastRenderedReducer,T!==null))try{var V=u.lastRenderedState,H=T(V,f);if(_.hasEagerState=!0,_.eagerState=H,Pa(H,V)){var Y=u.interleaved;Y===null?(_.next=_,Hg(u)):(_.next=Y.next,Y.next=_),u.interleaved=_;return}}catch{}finally{}f=rS(o,u,_,v),f!==null&&(_=pn(),Ma(f,o,v,_),TS(f,u,v))}}function NS(o){var u=o.alternate;return o===Jt||u!==null&&u===Jt}function SS(o,u){Vu=Vf=!0;var f=o.pending;f===null?u.next=u:(u.next=f.next,f.next=u),o.pending=u}function TS(o,u,f){if((f&4194240)!==0){var v=u.lanes;v&=o.pendingLanes,f|=v,u.lanes=f,xs(o,f)}}var qf={readContext:da,useCallback:Yr,useContext:Yr,useEffect:Yr,useImperativeHandle:Yr,useInsertionEffect:Yr,useLayoutEffect:Yr,useMemo:Yr,useReducer:Yr,useRef:Yr,useState:Yr,useDebugValue:Yr,useDeferredValue:Yr,useTransition:Yr,useMutableSource:Yr,useSyncExternalStore:Yr,useId:Yr,unstable_isNewReconciler:!1},$$={readContext:da,useCallback:function(o,u){return ri().memoizedState=[o,u===void 0?null:u],o},useContext:da,useEffect:gS,useImperativeHandle:function(o,u,f){return f=f!=null?f.concat([o]):null,Bf(4194308,4,xS.bind(null,u,o),f)},useLayoutEffect:function(o,u){return Bf(4194308,4,o,u)},useInsertionEffect:function(o,u){return Bf(4,2,o,u)},useMemo:function(o,u){var f=ri();return u=u===void 0?null:u,o=o(),f.memoizedState=[o,u],o},useReducer:function(o,u,f){var v=ri();return u=f!==void 0?f(u):u,v.memoizedState=v.baseState=u,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:u},v.queue=o,o=o.dispatch=M$.bind(null,Jt,o),[v.memoizedState,o]},useRef:function(o){var u=ri();return o={current:o},u.memoizedState=o},useState:pS,useDebugValue:iv,useDeferredValue:function(o){return ri().memoizedState=o},useTransition:function(){var o=pS(!1),u=o[0];return o=D$.bind(null,o[1]),ri().memoizedState=o,[u,o]},useMutableSource:function(){},useSyncExternalStore:function(o,u,f){var v=Jt,_=ri();if(Wt){if(f===void 0)throw Error(r(407));f=f()}else{if(f=u(),Cr===null)throw Error(r(349));(Mo&30)!==0||cS(v,u,f)}_.memoizedState=f;var T={value:f,getSnapshot:u};return _.queue=T,gS(dS.bind(null,v,T,o),[o]),v.flags|=2048,qu(9,uS.bind(null,v,T,f,u),void 0,null),f},useId:function(){var o=ri(),u=Cr.identifierPrefix;if(Wt){var f=Mi,v=Di;f=(v&~(1<<32-dn(v)-1)).toString(32)+f,u=":"+u+"R"+f,f=Bu++,0<f&&(u+="H"+f.toString(32)),u+=":"}else f=R$++,u=":"+u+"r"+f.toString(32)+":";return o.memoizedState=u},unstable_isNewReconciler:!1},F$={readContext:da,useCallback:wS,useContext:da,useEffect:av,useImperativeHandle:bS,useInsertionEffect:vS,useLayoutEffect:yS,useMemo:_S,useReducer:rv,useRef:mS,useState:function(){return rv(Uu)},useDebugValue:iv,useDeferredValue:function(o){var u=ha();return kS(u,wr.memoizedState,o)},useTransition:function(){var o=rv(Uu)[0],u=ha().memoizedState;return[o,u]},useMutableSource:oS,useSyncExternalStore:lS,useId:jS,unstable_isNewReconciler:!1},V$={readContext:da,useCallback:wS,useContext:da,useEffect:av,useImperativeHandle:bS,useInsertionEffect:vS,useLayoutEffect:yS,useMemo:_S,useReducer:nv,useRef:mS,useState:function(){return nv(Uu)},useDebugValue:iv,useDeferredValue:function(o){var u=ha();return wr===null?u.memoizedState=o:kS(u,wr.memoizedState,o)},useTransition:function(){var o=nv(Uu)[0],u=ha().memoizedState;return[o,u]},useMutableSource:oS,useSyncExternalStore:lS,useId:jS,unstable_isNewReconciler:!1};function Oa(o,u){if(o&&o.defaultProps){u=re({},u),o=o.defaultProps;for(var f in o)u[f]===void 0&&(u[f]=o[f]);return u}return u}function sv(o,u,f,v){u=o.memoizedState,f=f(v,u),f=f==null?u:re({},u,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var zf={isMounted:function(o){return(o=o._reactInternals)?it(o)===o:!1},enqueueSetState:function(o,u,f){o=o._reactInternals;var v=pn(),_=Rs(o),T=$i(v,_);T.payload=u,f!=null&&(T.callback=f),u=Cs(o,T,_),u!==null&&(Ma(u,o,_,v),Mf(u,o,_))},enqueueReplaceState:function(o,u,f){o=o._reactInternals;var v=pn(),_=Rs(o),T=$i(v,_);T.tag=1,T.payload=u,f!=null&&(T.callback=f),u=Cs(o,T,_),u!==null&&(Ma(u,o,_,v),Mf(u,o,_))},enqueueForceUpdate:function(o,u){o=o._reactInternals;var f=pn(),v=Rs(o),_=$i(f,v);_.tag=2,u!=null&&(_.callback=u),u=Cs(o,_,v),u!==null&&(Ma(u,o,v,f),Mf(u,o,v))}};function ES(o,u,f,v,_,T,V){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(v,T,V):u.prototype&&u.prototype.isPureReactComponent?!Au(f,v)||!Au(_,T):!0}function AS(o,u,f){var v=!1,_=Ts,T=u.contextType;return typeof T=="object"&&T!==null?T=da(T):(_=Sn(u)?Po:Kr.current,v=u.contextTypes,T=(v=v!=null)?Kl(o,_):Ts),u=new u(f,T),o.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=zf,o.stateNode=u,u._reactInternals=o,v&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=_,o.__reactInternalMemoizedMaskedChildContext=T),u}function CS(o,u,f,v){o=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(f,v),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(f,v),u.state!==o&&zf.enqueueReplaceState(u,u.state,null)}function ov(o,u,f,v){var _=o.stateNode;_.props=f,_.state=o.memoizedState,_.refs={},Gg(o);var T=u.contextType;typeof T=="object"&&T!==null?_.context=da(T):(T=Sn(u)?Po:Kr.current,_.context=Kl(o,T)),_.state=o.memoizedState,T=u.getDerivedStateFromProps,typeof T=="function"&&(sv(o,u,T,f),_.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(u=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),u!==_.state&&zf.enqueueReplaceState(_,_.state,null),Lf(o,f,_,v),_.state=o.memoizedState),typeof _.componentDidMount=="function"&&(o.flags|=4194308)}function rc(o,u){try{var f="",v=u;do f+=ge(v),v=v.return;while(v);var _=f}catch(T){_=`
Error generating stack: `+T.message+`
`+T.stack}return{value:o,source:u,stack:_,digest:null}}function lv(o,u,f){return{value:o,source:null,stack:f??null,digest:u??null}}function cv(o,u){try{console.error(u.value)}catch(f){setTimeout(function(){throw f})}}var B$=typeof WeakMap=="function"?WeakMap:Map;function PS(o,u,f){f=$i(-1,f),f.tag=3,f.payload={element:null};var v=u.value;return f.callback=function(){Qf||(Qf=!0,jv=v),cv(o,u)},f}function IS(o,u,f){f=$i(-1,f),f.tag=3;var v=o.type.getDerivedStateFromError;if(typeof v=="function"){var _=u.value;f.payload=function(){return v(_)},f.callback=function(){cv(o,u)}}var T=o.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(f.callback=function(){cv(o,u),typeof v!="function"&&(Is===null?Is=new Set([this]):Is.add(this));var V=u.stack;this.componentDidCatch(u.value,{componentStack:V!==null?V:""})}),f}function OS(o,u,f){var v=o.pingCache;if(v===null){v=o.pingCache=new B$;var _=new Set;v.set(u,_)}else _=v.get(u),_===void 0&&(_=new Set,v.set(u,_));_.has(f)||(_.add(f),o=t5.bind(null,o,u,f),u.then(o,o))}function RS(o){do{var u;if((u=o.tag===13)&&(u=o.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return o;o=o.return}while(o!==null);return null}function DS(o,u,f,v,_){return(o.mode&1)===0?(o===u?o.flags|=65536:(o.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(u=$i(-1,1),u.tag=2,Cs(f,u,1))),f.lanes|=1),o):(o.flags|=65536,o.lanes=_,o)}var U$=R.ReactCurrentOwner,Tn=!1;function fn(o,u,f,v){u.child=o===null?tS(u,null,f,v):Jl(u,o.child,f,v)}function MS(o,u,f,v,_){f=f.render;var T=u.ref;return ec(u,_),v=ev(o,u,f,v,T,_),f=tv(),o!==null&&!Tn?(u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~_,Fi(o,u,_)):(Wt&&f&&Lg(u),u.flags|=1,fn(o,u,v,_),u.child)}function LS(o,u,f,v,_){if(o===null){var T=f.type;return typeof T=="function"&&!Pv(T)&&T.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(u.tag=15,u.type=T,$S(o,u,T,v,_)):(o=np(f.type,null,v,u,u.mode,_),o.ref=u.ref,o.return=u,u.child=o)}if(T=o.child,(o.lanes&_)===0){var V=T.memoizedProps;if(f=f.compare,f=f!==null?f:Au,f(V,v)&&o.ref===u.ref)return Fi(o,u,_)}return u.flags|=1,o=Ms(T,v),o.ref=u.ref,o.return=u,u.child=o}function $S(o,u,f,v,_){if(o!==null){var T=o.memoizedProps;if(Au(T,v)&&o.ref===u.ref)if(Tn=!1,u.pendingProps=v=T,(o.lanes&_)!==0)(o.flags&131072)!==0&&(Tn=!0);else return u.lanes=o.lanes,Fi(o,u,_)}return uv(o,u,f,v,_)}function FS(o,u,f){var v=u.pendingProps,_=v.children,T=o!==null?o.memoizedState:null;if(v.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pt(ac,Hn),Hn|=f;else{if((f&1073741824)===0)return o=T!==null?T.baseLanes|f:f,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:o,cachePool:null,transitions:null},u.updateQueue=null,Pt(ac,Hn),Hn|=o,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=T!==null?T.baseLanes:f,Pt(ac,Hn),Hn|=v}else T!==null?(v=T.baseLanes|f,u.memoizedState=null):v=f,Pt(ac,Hn),Hn|=v;return fn(o,u,_,f),u.child}function VS(o,u){var f=u.ref;(o===null&&f!==null||o!==null&&o.ref!==f)&&(u.flags|=512,u.flags|=2097152)}function uv(o,u,f,v,_){var T=Sn(f)?Po:Kr.current;return T=Kl(u,T),ec(u,_),f=ev(o,u,f,v,T,_),v=tv(),o!==null&&!Tn?(u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~_,Fi(o,u,_)):(Wt&&v&&Lg(u),u.flags|=1,fn(o,u,f,_),u.child)}function BS(o,u,f,v,_){if(Sn(f)){var T=!0;Ef(u)}else T=!1;if(ec(u,_),u.stateNode===null)Hf(o,u),AS(u,f,v),ov(u,f,v,_),v=!0;else if(o===null){var V=u.stateNode,H=u.memoizedProps;V.props=H;var Y=V.context,ce=f.contextType;typeof ce=="object"&&ce!==null?ce=da(ce):(ce=Sn(f)?Po:Kr.current,ce=Kl(u,ce));var je=f.getDerivedStateFromProps,Se=typeof je=="function"||typeof V.getSnapshotBeforeUpdate=="function";Se||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(H!==v||Y!==ce)&&CS(u,V,v,ce),As=!1;var ke=u.memoizedState;V.state=ke,Lf(u,v,V,_),Y=u.memoizedState,H!==v||ke!==Y||Nn.current||As?(typeof je=="function"&&(sv(u,f,je,v),Y=u.memoizedState),(H=As||ES(u,f,H,v,ke,Y,ce))?(Se||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(u.flags|=4194308)):(typeof V.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=v,u.memoizedState=Y),V.props=v,V.state=Y,V.context=ce,v=H):(typeof V.componentDidMount=="function"&&(u.flags|=4194308),v=!1)}else{V=u.stateNode,nS(o,u),H=u.memoizedProps,ce=u.type===u.elementType?H:Oa(u.type,H),V.props=ce,Se=u.pendingProps,ke=V.context,Y=f.contextType,typeof Y=="object"&&Y!==null?Y=da(Y):(Y=Sn(f)?Po:Kr.current,Y=Kl(u,Y));var Pe=f.getDerivedStateFromProps;(je=typeof Pe=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(H!==Se||ke!==Y)&&CS(u,V,v,Y),As=!1,ke=u.memoizedState,V.state=ke,Lf(u,v,V,_);var Le=u.memoizedState;H!==Se||ke!==Le||Nn.current||As?(typeof Pe=="function"&&(sv(u,f,Pe,v),Le=u.memoizedState),(ce=As||ES(u,f,ce,v,ke,Le,Y)||!1)?(je||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(v,Le,Y),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(v,Le,Y)),typeof V.componentDidUpdate=="function"&&(u.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof V.componentDidUpdate!="function"||H===o.memoizedProps&&ke===o.memoizedState||(u.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||H===o.memoizedProps&&ke===o.memoizedState||(u.flags|=1024),u.memoizedProps=v,u.memoizedState=Le),V.props=v,V.state=Le,V.context=Y,v=ce):(typeof V.componentDidUpdate!="function"||H===o.memoizedProps&&ke===o.memoizedState||(u.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||H===o.memoizedProps&&ke===o.memoizedState||(u.flags|=1024),v=!1)}return dv(o,u,f,v,T,_)}function dv(o,u,f,v,_,T){VS(o,u);var V=(u.flags&128)!==0;if(!v&&!V)return _&&HN(u,f,!1),Fi(o,u,T);v=u.stateNode,U$.current=u;var H=V&&typeof f.getDerivedStateFromError!="function"?null:v.render();return u.flags|=1,o!==null&&V?(u.child=Jl(u,o.child,null,T),u.child=Jl(u,null,H,T)):fn(o,u,H,T),u.memoizedState=v.state,_&&HN(u,f,!0),u.child}function US(o){var u=o.stateNode;u.pendingContext?zN(o,u.pendingContext,u.pendingContext!==u.context):u.context&&zN(o,u.context,!1),Kg(o,u.containerInfo)}function qS(o,u,f,v,_){return Ql(),Bg(_),u.flags|=256,fn(o,u,f,v),u.child}var hv={dehydrated:null,treeContext:null,retryLane:0};function fv(o){return{baseLanes:o,cachePool:null,transitions:null}}function zS(o,u,f){var v=u.pendingProps,_=Qt.current,T=!1,V=(u.flags&128)!==0,H;if((H=V)||(H=o!==null&&o.memoizedState===null?!1:(_&2)!==0),H?(T=!0,u.flags&=-129):(o===null||o.memoizedState!==null)&&(_|=1),Pt(Qt,_&1),o===null)return Vg(u),o=u.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((u.mode&1)===0?u.lanes=1:o.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(V=v.children,o=v.fallback,T?(v=u.mode,T=u.child,V={mode:"hidden",children:V},(v&1)===0&&T!==null?(T.childLanes=0,T.pendingProps=V):T=ap(V,v,0,null),o=Bo(o,v,f,null),T.return=u,o.return=u,T.sibling=o,u.child=T,u.child.memoizedState=fv(f),u.memoizedState=hv,o):pv(u,V));if(_=o.memoizedState,_!==null&&(H=_.dehydrated,H!==null))return q$(o,u,V,v,H,_,f);if(T){T=v.fallback,V=u.mode,_=o.child,H=_.sibling;var Y={mode:"hidden",children:v.children};return(V&1)===0&&u.child!==_?(v=u.child,v.childLanes=0,v.pendingProps=Y,u.deletions=null):(v=Ms(_,Y),v.subtreeFlags=_.subtreeFlags&14680064),H!==null?T=Ms(H,T):(T=Bo(T,V,f,null),T.flags|=2),T.return=u,v.return=u,v.sibling=T,u.child=v,v=T,T=u.child,V=o.child.memoizedState,V=V===null?fv(f):{baseLanes:V.baseLanes|f,cachePool:null,transitions:V.transitions},T.memoizedState=V,T.childLanes=o.childLanes&~f,u.memoizedState=hv,v}return T=o.child,o=T.sibling,v=Ms(T,{mode:"visible",children:v.children}),(u.mode&1)===0&&(v.lanes=f),v.return=u,v.sibling=null,o!==null&&(f=u.deletions,f===null?(u.deletions=[o],u.flags|=16):f.push(o)),u.child=v,u.memoizedState=null,v}function pv(o,u){return u=ap({mode:"visible",children:u},o.mode,0,null),u.return=o,o.child=u}function Wf(o,u,f,v){return v!==null&&Bg(v),Jl(u,o.child,null,f),o=pv(u,u.pendingProps.children),o.flags|=2,u.memoizedState=null,o}function q$(o,u,f,v,_,T,V){if(f)return u.flags&256?(u.flags&=-257,v=lv(Error(r(422))),Wf(o,u,V,v)):u.memoizedState!==null?(u.child=o.child,u.flags|=128,null):(T=v.fallback,_=u.mode,v=ap({mode:"visible",children:v.children},_,0,null),T=Bo(T,_,V,null),T.flags|=2,v.return=u,T.return=u,v.sibling=T,u.child=v,(u.mode&1)!==0&&Jl(u,o.child,null,V),u.child.memoizedState=fv(V),u.memoizedState=hv,T);if((u.mode&1)===0)return Wf(o,u,V,null);if(_.data==="$!"){if(v=_.nextSibling&&_.nextSibling.dataset,v)var H=v.dgst;return v=H,T=Error(r(419)),v=lv(T,v,void 0),Wf(o,u,V,v)}if(H=(V&o.childLanes)!==0,Tn||H){if(v=Cr,v!==null){switch(V&-V){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=(_&(v.suspendedLanes|V))!==0?0:_,_!==0&&_!==T.retryLane&&(T.retryLane=_,Li(o,_),Ma(v,o,_,-1))}return Cv(),v=lv(Error(r(421))),Wf(o,u,V,v)}return _.data==="$?"?(u.flags|=128,u.child=o.child,u=r5.bind(null,o),_._reactRetry=u,null):(o=T.treeContext,Wn=Ns(_.nextSibling),zn=u,Wt=!0,Ia=null,o!==null&&(ca[ua++]=Di,ca[ua++]=Mi,ca[ua++]=Io,Di=o.id,Mi=o.overflow,Io=u),u=pv(u,v.children),u.flags|=4096,u)}function WS(o,u,f){o.lanes|=u;var v=o.alternate;v!==null&&(v.lanes|=u),Wg(o.return,u,f)}function mv(o,u,f,v,_){var T=o.memoizedState;T===null?o.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:v,tail:f,tailMode:_}:(T.isBackwards=u,T.rendering=null,T.renderingStartTime=0,T.last=v,T.tail=f,T.tailMode=_)}function HS(o,u,f){var v=u.pendingProps,_=v.revealOrder,T=v.tail;if(fn(o,u,v.children,f),v=Qt.current,(v&2)!==0)v=v&1|2,u.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=u.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&WS(o,f,u);else if(o.tag===19)WS(o,f,u);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===u)break e;for(;o.sibling===null;){if(o.return===null||o.return===u)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}v&=1}if(Pt(Qt,v),(u.mode&1)===0)u.memoizedState=null;else switch(_){case"forwards":for(f=u.child,_=null;f!==null;)o=f.alternate,o!==null&&$f(o)===null&&(_=f),f=f.sibling;f=_,f===null?(_=u.child,u.child=null):(_=f.sibling,f.sibling=null),mv(u,!1,_,f,T);break;case"backwards":for(f=null,_=u.child,u.child=null;_!==null;){if(o=_.alternate,o!==null&&$f(o)===null){u.child=_;break}o=_.sibling,_.sibling=f,f=_,_=o}mv(u,!0,f,null,T);break;case"together":mv(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Hf(o,u){(u.mode&1)===0&&o!==null&&(o.alternate=null,u.alternate=null,u.flags|=2)}function Fi(o,u,f){if(o!==null&&(u.dependencies=o.dependencies),Lo|=u.lanes,(f&u.childLanes)===0)return null;if(o!==null&&u.child!==o.child)throw Error(r(153));if(u.child!==null){for(o=u.child,f=Ms(o,o.pendingProps),u.child=f,f.return=u;o.sibling!==null;)o=o.sibling,f=f.sibling=Ms(o,o.pendingProps),f.return=u;f.sibling=null}return u.child}function z$(o,u,f){switch(u.tag){case 3:US(u),Ql();break;case 5:sS(u);break;case 1:Sn(u.type)&&Ef(u);break;case 4:Kg(u,u.stateNode.containerInfo);break;case 10:var v=u.type._context,_=u.memoizedProps.value;Pt(Rf,v._currentValue),v._currentValue=_;break;case 13:if(v=u.memoizedState,v!==null)return v.dehydrated!==null?(Pt(Qt,Qt.current&1),u.flags|=128,null):(f&u.child.childLanes)!==0?zS(o,u,f):(Pt(Qt,Qt.current&1),o=Fi(o,u,f),o!==null?o.sibling:null);Pt(Qt,Qt.current&1);break;case 19:if(v=(f&u.childLanes)!==0,(o.flags&128)!==0){if(v)return HS(o,u,f);u.flags|=128}if(_=u.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),Pt(Qt,Qt.current),v)break;return null;case 22:case 23:return u.lanes=0,FS(o,u,f)}return Fi(o,u,f)}var GS,gv,KS,YS;GS=function(o,u){for(var f=u.child;f!==null;){if(f.tag===5||f.tag===6)o.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},gv=function(){},KS=function(o,u,f,v){var _=o.memoizedProps;if(_!==v){o=u.stateNode,Do(ti.current);var T=null;switch(f){case"input":_=_e(o,_),v=_e(o,v),T=[];break;case"select":_=re({},_,{value:void 0}),v=re({},v,{value:void 0}),T=[];break;case"textarea":_=Mr(o,_),v=Mr(o,v),T=[];break;default:typeof _.onClick!="function"&&typeof v.onClick=="function"&&(o.onclick=Nf)}ji(f,v);var V;f=null;for(ce in _)if(!v.hasOwnProperty(ce)&&_.hasOwnProperty(ce)&&_[ce]!=null)if(ce==="style"){var H=_[ce];for(V in H)H.hasOwnProperty(V)&&(f||(f={}),f[V]="")}else ce!=="dangerouslySetInnerHTML"&&ce!=="children"&&ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&ce!=="autoFocus"&&(a.hasOwnProperty(ce)?T||(T=[]):(T=T||[]).push(ce,null));for(ce in v){var Y=v[ce];if(H=_?.[ce],v.hasOwnProperty(ce)&&Y!==H&&(Y!=null||H!=null))if(ce==="style")if(H){for(V in H)!H.hasOwnProperty(V)||Y&&Y.hasOwnProperty(V)||(f||(f={}),f[V]="");for(V in Y)Y.hasOwnProperty(V)&&H[V]!==Y[V]&&(f||(f={}),f[V]=Y[V])}else f||(T||(T=[]),T.push(ce,f)),f=Y;else ce==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,H=H?H.__html:void 0,Y!=null&&H!==Y&&(T=T||[]).push(ce,Y)):ce==="children"?typeof Y!="string"&&typeof Y!="number"||(T=T||[]).push(ce,""+Y):ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&(a.hasOwnProperty(ce)?(Y!=null&&ce==="onScroll"&&Lt("scroll",o),T||H===Y||(T=[])):(T=T||[]).push(ce,Y))}f&&(T=T||[]).push("style",f);var ce=T;(u.updateQueue=ce)&&(u.flags|=4)}},YS=function(o,u,f,v){f!==v&&(u.flags|=4)};function zu(o,u){if(!Wt)switch(o.tailMode){case"hidden":u=o.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var v=null;f!==null;)f.alternate!==null&&(v=f),f=f.sibling;v===null?u||o.tail===null?o.tail=null:o.tail.sibling=null:v.sibling=null}}function Xr(o){var u=o.alternate!==null&&o.alternate.child===o.child,f=0,v=0;if(u)for(var _=o.child;_!==null;)f|=_.lanes|_.childLanes,v|=_.subtreeFlags&14680064,v|=_.flags&14680064,_.return=o,_=_.sibling;else for(_=o.child;_!==null;)f|=_.lanes|_.childLanes,v|=_.subtreeFlags,v|=_.flags,_.return=o,_=_.sibling;return o.subtreeFlags|=v,o.childLanes=f,u}function W$(o,u,f){var v=u.pendingProps;switch($g(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xr(u),null;case 1:return Sn(u.type)&&Tf(),Xr(u),null;case 3:return v=u.stateNode,tc(),$t(Nn),$t(Kr),Qg(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(o===null||o.child===null)&&(If(u)?u.flags|=4:o===null||o.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Ia!==null&&(Tv(Ia),Ia=null))),gv(o,u),Xr(u),null;case 5:Yg(u);var _=Do(Fu.current);if(f=u.type,o!==null&&u.stateNode!=null)KS(o,u,f,v,_),o.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!v){if(u.stateNode===null)throw Error(r(166));return Xr(u),null}if(o=Do(ti.current),If(u)){v=u.stateNode,f=u.type;var T=u.memoizedProps;switch(v[ei]=u,v[Ru]=T,o=(u.mode&1)!==0,f){case"dialog":Lt("cancel",v),Lt("close",v);break;case"iframe":case"object":case"embed":Lt("load",v);break;case"video":case"audio":for(_=0;_<Pu.length;_++)Lt(Pu[_],v);break;case"source":Lt("error",v);break;case"img":case"image":case"link":Lt("error",v),Lt("load",v);break;case"details":Lt("toggle",v);break;case"input":Ie(v,T),Lt("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!T.multiple},Lt("invalid",v);break;case"textarea":cn(v,T),Lt("invalid",v)}ji(f,T),_=null;for(var V in T)if(T.hasOwnProperty(V)){var H=T[V];V==="children"?typeof H=="string"?v.textContent!==H&&(T.suppressHydrationWarning!==!0&&jf(v.textContent,H,o),_=["children",H]):typeof H=="number"&&v.textContent!==""+H&&(T.suppressHydrationWarning!==!0&&jf(v.textContent,H,o),_=["children",""+H]):a.hasOwnProperty(V)&&H!=null&&V==="onScroll"&&Lt("scroll",v)}switch(f){case"input":xe(v),yr(v,T,!0);break;case"textarea":xe(v),Ln(v);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(v.onclick=Nf)}v=_,u.updateQueue=v,v!==null&&(u.flags|=4)}else{V=_.nodeType===9?_:_.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Gt(f)),o==="http://www.w3.org/1999/xhtml"?f==="script"?(o=V.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof v.is=="string"?o=V.createElement(f,{is:v.is}):(o=V.createElement(f),f==="select"&&(V=o,v.multiple?V.multiple=!0:v.size&&(V.size=v.size))):o=V.createElementNS(o,f),o[ei]=u,o[Ru]=v,GS(o,u,!1,!1),u.stateNode=o;e:{switch(V=ea(f,v),f){case"dialog":Lt("cancel",o),Lt("close",o),_=v;break;case"iframe":case"object":case"embed":Lt("load",o),_=v;break;case"video":case"audio":for(_=0;_<Pu.length;_++)Lt(Pu[_],o);_=v;break;case"source":Lt("error",o),_=v;break;case"img":case"image":case"link":Lt("error",o),Lt("load",o),_=v;break;case"details":Lt("toggle",o),_=v;break;case"input":Ie(o,v),_=_e(o,v),Lt("invalid",o);break;case"option":_=v;break;case"select":o._wrapperState={wasMultiple:!!v.multiple},_=re({},v,{value:void 0}),Lt("invalid",o);break;case"textarea":cn(o,v),_=Mr(o,v),Lt("invalid",o);break;default:_=v}ji(f,_),H=_;for(T in H)if(H.hasOwnProperty(T)){var Y=H[T];T==="style"?vo(o,Y):T==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,Y!=null&&gt(o,Y)):T==="children"?typeof Y=="string"?(f!=="textarea"||Y!=="")&&Ga(o,Y):typeof Y=="number"&&Ga(o,""+Y):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(a.hasOwnProperty(T)?Y!=null&&T==="onScroll"&&Lt("scroll",o):Y!=null&&P(o,T,Y,V))}switch(f){case"input":xe(o),yr(o,v,!1);break;case"textarea":xe(o),Ln(o);break;case"option":v.value!=null&&o.setAttribute("value",""+be(v.value));break;case"select":o.multiple=!!v.multiple,T=v.value,T!=null?Mt(o,!!v.multiple,T,!1):v.defaultValue!=null&&Mt(o,!!v.multiple,v.defaultValue,!0);break;default:typeof _.onClick=="function"&&(o.onclick=Nf)}switch(f){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return Xr(u),null;case 6:if(o&&u.stateNode!=null)YS(o,u,o.memoizedProps,v);else{if(typeof v!="string"&&u.stateNode===null)throw Error(r(166));if(f=Do(Fu.current),Do(ti.current),If(u)){if(v=u.stateNode,f=u.memoizedProps,v[ei]=u,(T=v.nodeValue!==f)&&(o=zn,o!==null))switch(o.tag){case 3:jf(v.nodeValue,f,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&jf(v.nodeValue,f,(o.mode&1)!==0)}T&&(u.flags|=4)}else v=(f.nodeType===9?f:f.ownerDocument).createTextNode(v),v[ei]=u,u.stateNode=v}return Xr(u),null;case 13:if($t(Qt),v=u.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Wt&&Wn!==null&&(u.mode&1)!==0&&(u.flags&128)===0)JN(),Ql(),u.flags|=98560,T=!1;else if(T=If(u),v!==null&&v.dehydrated!==null){if(o===null){if(!T)throw Error(r(318));if(T=u.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(r(317));T[ei]=u}else Ql(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Xr(u),T=!1}else Ia!==null&&(Tv(Ia),Ia=null),T=!0;if(!T)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=f,u):(v=v!==null,v!==(o!==null&&o.memoizedState!==null)&&v&&(u.child.flags|=8192,(u.mode&1)!==0&&(o===null||(Qt.current&1)!==0?_r===0&&(_r=3):Cv())),u.updateQueue!==null&&(u.flags|=4),Xr(u),null);case 4:return tc(),gv(o,u),o===null&&Iu(u.stateNode.containerInfo),Xr(u),null;case 10:return zg(u.type._context),Xr(u),null;case 17:return Sn(u.type)&&Tf(),Xr(u),null;case 19:if($t(Qt),T=u.memoizedState,T===null)return Xr(u),null;if(v=(u.flags&128)!==0,V=T.rendering,V===null)if(v)zu(T,!1);else{if(_r!==0||o!==null&&(o.flags&128)!==0)for(o=u.child;o!==null;){if(V=$f(o),V!==null){for(u.flags|=128,zu(T,!1),v=V.updateQueue,v!==null&&(u.updateQueue=v,u.flags|=4),u.subtreeFlags=0,v=f,f=u.child;f!==null;)T=f,o=v,T.flags&=14680066,V=T.alternate,V===null?(T.childLanes=0,T.lanes=o,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=V.childLanes,T.lanes=V.lanes,T.child=V.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=V.memoizedProps,T.memoizedState=V.memoizedState,T.updateQueue=V.updateQueue,T.type=V.type,o=V.dependencies,T.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),f=f.sibling;return Pt(Qt,Qt.current&1|2),u.child}o=o.sibling}T.tail!==null&&Ct()>ic&&(u.flags|=128,v=!0,zu(T,!1),u.lanes=4194304)}else{if(!v)if(o=$f(V),o!==null){if(u.flags|=128,v=!0,f=o.updateQueue,f!==null&&(u.updateQueue=f,u.flags|=4),zu(T,!0),T.tail===null&&T.tailMode==="hidden"&&!V.alternate&&!Wt)return Xr(u),null}else 2*Ct()-T.renderingStartTime>ic&&f!==1073741824&&(u.flags|=128,v=!0,zu(T,!1),u.lanes=4194304);T.isBackwards?(V.sibling=u.child,u.child=V):(f=T.last,f!==null?f.sibling=V:u.child=V,T.last=V)}return T.tail!==null?(u=T.tail,T.rendering=u,T.tail=u.sibling,T.renderingStartTime=Ct(),u.sibling=null,f=Qt.current,Pt(Qt,v?f&1|2:f&1),u):(Xr(u),null);case 22:case 23:return Av(),v=u.memoizedState!==null,o!==null&&o.memoizedState!==null!==v&&(u.flags|=8192),v&&(u.mode&1)!==0?(Hn&1073741824)!==0&&(Xr(u),u.subtreeFlags&6&&(u.flags|=8192)):Xr(u),null;case 24:return null;case 25:return null}throw Error(r(156,u.tag))}function H$(o,u){switch($g(u),u.tag){case 1:return Sn(u.type)&&Tf(),o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 3:return tc(),$t(Nn),$t(Kr),Qg(),o=u.flags,(o&65536)!==0&&(o&128)===0?(u.flags=o&-65537|128,u):null;case 5:return Yg(u),null;case 13:if($t(Qt),o=u.memoizedState,o!==null&&o.dehydrated!==null){if(u.alternate===null)throw Error(r(340));Ql()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 19:return $t(Qt),null;case 4:return tc(),null;case 10:return zg(u.type._context),null;case 22:case 23:return Av(),null;case 24:return null;default:return null}}var Gf=!1,Qr=!1,G$=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function nc(o,u){var f=o.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(v){nr(o,u,v)}else f.current=null}function vv(o,u,f){try{f()}catch(v){nr(o,u,v)}}var XS=!1;function K$(o,u){if(Ag=_s,o=EN(),wg(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var v=f.getSelection&&f.getSelection();if(v&&v.rangeCount!==0){f=v.anchorNode;var _=v.anchorOffset,T=v.focusNode;v=v.focusOffset;try{f.nodeType,T.nodeType}catch{f=null;break e}var V=0,H=-1,Y=-1,ce=0,je=0,Se=o,ke=null;t:for(;;){for(var Pe;Se!==f||_!==0&&Se.nodeType!==3||(H=V+_),Se!==T||v!==0&&Se.nodeType!==3||(Y=V+v),Se.nodeType===3&&(V+=Se.nodeValue.length),(Pe=Se.firstChild)!==null;)ke=Se,Se=Pe;for(;;){if(Se===o)break t;if(ke===f&&++ce===_&&(H=V),ke===T&&++je===v&&(Y=V),(Pe=Se.nextSibling)!==null)break;Se=ke,ke=Se.parentNode}Se=Pe}f=H===-1||Y===-1?null:{start:H,end:Y}}else f=null}f=f||{start:0,end:0}}else f=null;for(Cg={focusedElem:o,selectionRange:f},_s=!1,Oe=u;Oe!==null;)if(u=Oe,o=u.child,(u.subtreeFlags&1028)!==0&&o!==null)o.return=u,Oe=o;else for(;Oe!==null;){u=Oe;try{var Le=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Le!==null){var $e=Le.memoizedProps,lr=Le.memoizedState,se=u.stateNode,te=se.getSnapshotBeforeUpdate(u.elementType===u.type?$e:Oa(u.type,$e),lr);se.__reactInternalSnapshotBeforeUpdate=te}break;case 3:var oe=u.stateNode.containerInfo;oe.nodeType===1?oe.textContent="":oe.nodeType===9&&oe.documentElement&&oe.removeChild(oe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Te){nr(u,u.return,Te)}if(o=u.sibling,o!==null){o.return=u.return,Oe=o;break}Oe=u.return}return Le=XS,XS=!1,Le}function Wu(o,u,f){var v=u.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var _=v=v.next;do{if((_.tag&o)===o){var T=_.destroy;_.destroy=void 0,T!==void 0&&vv(u,f,T)}_=_.next}while(_!==v)}}function Kf(o,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var f=u=u.next;do{if((f.tag&o)===o){var v=f.create;f.destroy=v()}f=f.next}while(f!==u)}}function yv(o){var u=o.ref;if(u!==null){var f=o.stateNode;switch(o.tag){case 5:o=f;break;default:o=f}typeof u=="function"?u(o):u.current=o}}function QS(o){var u=o.alternate;u!==null&&(o.alternate=null,QS(u)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(u=o.stateNode,u!==null&&(delete u[ei],delete u[Ru],delete u[Rg],delete u[C$],delete u[P$])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function JS(o){return o.tag===5||o.tag===3||o.tag===4}function ZS(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||JS(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function xv(o,u,f){var v=o.tag;if(v===5||v===6)o=o.stateNode,u?f.nodeType===8?f.parentNode.insertBefore(o,u):f.insertBefore(o,u):(f.nodeType===8?(u=f.parentNode,u.insertBefore(o,f)):(u=f,u.appendChild(o)),f=f._reactRootContainer,f!=null||u.onclick!==null||(u.onclick=Nf));else if(v!==4&&(o=o.child,o!==null))for(xv(o,u,f),o=o.sibling;o!==null;)xv(o,u,f),o=o.sibling}function bv(o,u,f){var v=o.tag;if(v===5||v===6)o=o.stateNode,u?f.insertBefore(o,u):f.appendChild(o);else if(v!==4&&(o=o.child,o!==null))for(bv(o,u,f),o=o.sibling;o!==null;)bv(o,u,f),o=o.sibling}var Fr=null,Ra=!1;function Ps(o,u,f){for(f=f.child;f!==null;)eT(o,u,f),f=f.sibling}function eT(o,u,f){if(Vn&&typeof Vn.onCommitFiberUnmount=="function")try{Vn.onCommitFiberUnmount(ko,f)}catch{}switch(f.tag){case 5:Qr||nc(f,u);case 6:var v=Fr,_=Ra;Fr=null,Ps(o,u,f),Fr=v,Ra=_,Fr!==null&&(Ra?(o=Fr,f=f.stateNode,o.nodeType===8?o.parentNode.removeChild(f):o.removeChild(f)):Fr.removeChild(f.stateNode));break;case 18:Fr!==null&&(Ra?(o=Fr,f=f.stateNode,o.nodeType===8?Og(o.parentNode,f):o.nodeType===1&&Og(o,f),Aa(o)):Og(Fr,f.stateNode));break;case 4:v=Fr,_=Ra,Fr=f.stateNode.containerInfo,Ra=!0,Ps(o,u,f),Fr=v,Ra=_;break;case 0:case 11:case 14:case 15:if(!Qr&&(v=f.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){_=v=v.next;do{var T=_,V=T.destroy;T=T.tag,V!==void 0&&((T&2)!==0||(T&4)!==0)&&vv(f,u,V),_=_.next}while(_!==v)}Ps(o,u,f);break;case 1:if(!Qr&&(nc(f,u),v=f.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=f.memoizedProps,v.state=f.memoizedState,v.componentWillUnmount()}catch(H){nr(f,u,H)}Ps(o,u,f);break;case 21:Ps(o,u,f);break;case 22:f.mode&1?(Qr=(v=Qr)||f.memoizedState!==null,Ps(o,u,f),Qr=v):Ps(o,u,f);break;default:Ps(o,u,f)}}function tT(o){var u=o.updateQueue;if(u!==null){o.updateQueue=null;var f=o.stateNode;f===null&&(f=o.stateNode=new G$),u.forEach(function(v){var _=n5.bind(null,o,v);f.has(v)||(f.add(v),v.then(_,_))})}}function Da(o,u){var f=u.deletions;if(f!==null)for(var v=0;v<f.length;v++){var _=f[v];try{var T=o,V=u,H=V;e:for(;H!==null;){switch(H.tag){case 5:Fr=H.stateNode,Ra=!1;break e;case 3:Fr=H.stateNode.containerInfo,Ra=!0;break e;case 4:Fr=H.stateNode.containerInfo,Ra=!0;break e}H=H.return}if(Fr===null)throw Error(r(160));eT(T,V,_),Fr=null,Ra=!1;var Y=_.alternate;Y!==null&&(Y.return=null),_.return=null}catch(ce){nr(_,u,ce)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)rT(u,o),u=u.sibling}function rT(o,u){var f=o.alternate,v=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Da(u,o),ni(o),v&4){try{Wu(3,o,o.return),Kf(3,o)}catch($e){nr(o,o.return,$e)}try{Wu(5,o,o.return)}catch($e){nr(o,o.return,$e)}}break;case 1:Da(u,o),ni(o),v&512&&f!==null&&nc(f,f.return);break;case 5:if(Da(u,o),ni(o),v&512&&f!==null&&nc(f,f.return),o.flags&32){var _=o.stateNode;try{Ga(_,"")}catch($e){nr(o,o.return,$e)}}if(v&4&&(_=o.stateNode,_!=null)){var T=o.memoizedProps,V=f!==null?f.memoizedProps:T,H=o.type,Y=o.updateQueue;if(o.updateQueue=null,Y!==null)try{H==="input"&&T.type==="radio"&&T.name!=null&&Ue(_,T),ea(H,V);var ce=ea(H,T);for(V=0;V<Y.length;V+=2){var je=Y[V],Se=Y[V+1];je==="style"?vo(_,Se):je==="dangerouslySetInnerHTML"?gt(_,Se):je==="children"?Ga(_,Se):P(_,je,Se,ce)}switch(H){case"input":tr(_,T);break;case"textarea":dr(_,T);break;case"select":var ke=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!T.multiple;var Pe=T.value;Pe!=null?Mt(_,!!T.multiple,Pe,!1):ke!==!!T.multiple&&(T.defaultValue!=null?Mt(_,!!T.multiple,T.defaultValue,!0):Mt(_,!!T.multiple,T.multiple?[]:"",!1))}_[Ru]=T}catch($e){nr(o,o.return,$e)}}break;case 6:if(Da(u,o),ni(o),v&4){if(o.stateNode===null)throw Error(r(162));_=o.stateNode,T=o.memoizedProps;try{_.nodeValue=T}catch($e){nr(o,o.return,$e)}}break;case 3:if(Da(u,o),ni(o),v&4&&f!==null&&f.memoizedState.isDehydrated)try{Aa(u.containerInfo)}catch($e){nr(o,o.return,$e)}break;case 4:Da(u,o),ni(o);break;case 13:Da(u,o),ni(o),_=o.child,_.flags&8192&&(T=_.memoizedState!==null,_.stateNode.isHidden=T,!T||_.alternate!==null&&_.alternate.memoizedState!==null||(kv=Ct())),v&4&&tT(o);break;case 22:if(je=f!==null&&f.memoizedState!==null,o.mode&1?(Qr=(ce=Qr)||je,Da(u,o),Qr=ce):Da(u,o),ni(o),v&8192){if(ce=o.memoizedState!==null,(o.stateNode.isHidden=ce)&&!je&&(o.mode&1)!==0)for(Oe=o,je=o.child;je!==null;){for(Se=Oe=je;Oe!==null;){switch(ke=Oe,Pe=ke.child,ke.tag){case 0:case 11:case 14:case 15:Wu(4,ke,ke.return);break;case 1:nc(ke,ke.return);var Le=ke.stateNode;if(typeof Le.componentWillUnmount=="function"){v=ke,f=ke.return;try{u=v,Le.props=u.memoizedProps,Le.state=u.memoizedState,Le.componentWillUnmount()}catch($e){nr(v,f,$e)}}break;case 5:nc(ke,ke.return);break;case 22:if(ke.memoizedState!==null){iT(Se);continue}}Pe!==null?(Pe.return=ke,Oe=Pe):iT(Se)}je=je.sibling}e:for(je=null,Se=o;;){if(Se.tag===5){if(je===null){je=Se;try{_=Se.stateNode,ce?(T=_.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):(H=Se.stateNode,Y=Se.memoizedProps.style,V=Y!=null&&Y.hasOwnProperty("display")?Y.display:null,H.style.display=wn("display",V))}catch($e){nr(o,o.return,$e)}}}else if(Se.tag===6){if(je===null)try{Se.stateNode.nodeValue=ce?"":Se.memoizedProps}catch($e){nr(o,o.return,$e)}}else if((Se.tag!==22&&Se.tag!==23||Se.memoizedState===null||Se===o)&&Se.child!==null){Se.child.return=Se,Se=Se.child;continue}if(Se===o)break e;for(;Se.sibling===null;){if(Se.return===null||Se.return===o)break e;je===Se&&(je=null),Se=Se.return}je===Se&&(je=null),Se.sibling.return=Se.return,Se=Se.sibling}}break;case 19:Da(u,o),ni(o),v&4&&tT(o);break;case 21:break;default:Da(u,o),ni(o)}}function ni(o){var u=o.flags;if(u&2){try{e:{for(var f=o.return;f!==null;){if(JS(f)){var v=f;break e}f=f.return}throw Error(r(160))}switch(v.tag){case 5:var _=v.stateNode;v.flags&32&&(Ga(_,""),v.flags&=-33);var T=ZS(o);bv(o,T,_);break;case 3:case 4:var V=v.stateNode.containerInfo,H=ZS(o);xv(o,H,V);break;default:throw Error(r(161))}}catch(Y){nr(o,o.return,Y)}o.flags&=-3}u&4096&&(o.flags&=-4097)}function Y$(o,u,f){Oe=o,nT(o)}function nT(o,u,f){for(var v=(o.mode&1)!==0;Oe!==null;){var _=Oe,T=_.child;if(_.tag===22&&v){var V=_.memoizedState!==null||Gf;if(!V){var H=_.alternate,Y=H!==null&&H.memoizedState!==null||Qr;H=Gf;var ce=Qr;if(Gf=V,(Qr=Y)&&!ce)for(Oe=_;Oe!==null;)V=Oe,Y=V.child,V.tag===22&&V.memoizedState!==null?sT(_):Y!==null?(Y.return=V,Oe=Y):sT(_);for(;T!==null;)Oe=T,nT(T),T=T.sibling;Oe=_,Gf=H,Qr=ce}aT(o)}else(_.subtreeFlags&8772)!==0&&T!==null?(T.return=_,Oe=T):aT(o)}}function aT(o){for(;Oe!==null;){var u=Oe;if((u.flags&8772)!==0){var f=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:Qr||Kf(5,u);break;case 1:var v=u.stateNode;if(u.flags&4&&!Qr)if(f===null)v.componentDidMount();else{var _=u.elementType===u.type?f.memoizedProps:Oa(u.type,f.memoizedProps);v.componentDidUpdate(_,f.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var T=u.updateQueue;T!==null&&iS(u,T,v);break;case 3:var V=u.updateQueue;if(V!==null){if(f=null,u.child!==null)switch(u.child.tag){case 5:f=u.child.stateNode;break;case 1:f=u.child.stateNode}iS(u,V,f)}break;case 5:var H=u.stateNode;if(f===null&&u.flags&4){f=H;var Y=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":Y.autoFocus&&f.focus();break;case"img":Y.src&&(f.src=Y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var ce=u.alternate;if(ce!==null){var je=ce.memoizedState;if(je!==null){var Se=je.dehydrated;Se!==null&&Aa(Se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Qr||u.flags&512&&yv(u)}catch(ke){nr(u,u.return,ke)}}if(u===o){Oe=null;break}if(f=u.sibling,f!==null){f.return=u.return,Oe=f;break}Oe=u.return}}function iT(o){for(;Oe!==null;){var u=Oe;if(u===o){Oe=null;break}var f=u.sibling;if(f!==null){f.return=u.return,Oe=f;break}Oe=u.return}}function sT(o){for(;Oe!==null;){var u=Oe;try{switch(u.tag){case 0:case 11:case 15:var f=u.return;try{Kf(4,u)}catch(Y){nr(u,f,Y)}break;case 1:var v=u.stateNode;if(typeof v.componentDidMount=="function"){var _=u.return;try{v.componentDidMount()}catch(Y){nr(u,_,Y)}}var T=u.return;try{yv(u)}catch(Y){nr(u,T,Y)}break;case 5:var V=u.return;try{yv(u)}catch(Y){nr(u,V,Y)}}}catch(Y){nr(u,u.return,Y)}if(u===o){Oe=null;break}var H=u.sibling;if(H!==null){H.return=u.return,Oe=H;break}Oe=u.return}}var X$=Math.ceil,Yf=R.ReactCurrentDispatcher,wv=R.ReactCurrentOwner,fa=R.ReactCurrentBatchConfig,ht=0,Cr=null,fr=null,Vr=0,Hn=0,ac=Ss(0),_r=0,Hu=null,Lo=0,Xf=0,_v=0,Gu=null,En=null,kv=0,ic=1/0,Vi=null,Qf=!1,jv=null,Is=null,Jf=!1,Os=null,Zf=0,Ku=0,Nv=null,ep=-1,tp=0;function pn(){return(ht&6)!==0?Ct():ep!==-1?ep:ep=Ct()}function Rs(o){return(o.mode&1)===0?1:(ht&2)!==0&&Vr!==0?Vr&-Vr:O$.transition!==null?(tp===0&&(tp=No()),tp):(o=ot,o!==0||(o=window.event,o=o===void 0?16:_u(o.type)),o)}function Ma(o,u,f,v){if(50<Ku)throw Ku=0,Nv=null,Error(r(185));ys(o,f,v),((ht&2)===0||o!==Cr)&&(o===Cr&&((ht&2)===0&&(Xf|=f),_r===4&&Ds(o,Vr)),An(o,v),f===1&&ht===0&&(u.mode&1)===0&&(ic=Ct()+500,Af&&Es()))}function An(o,u){var f=o.callbackNode;Ei(o,u);var v=jo(o,o===Cr?Vr:0);if(v===0)f!==null&&Fn(f),o.callbackNode=null,o.callbackPriority=0;else if(u=v&-v,o.callbackPriority!==u){if(f!=null&&Fn(f),u===1)o.tag===0?I$(lT.bind(null,o)):GN(lT.bind(null,o)),E$(function(){(ht&6)===0&&Es()}),f=null;else{switch(bs(v)){case 1:f=_o;break;case 4:f=ms;break;case 16:f=sa;break;case 536870912:f=ef;break;default:f=sa}f=gT(f,oT.bind(null,o))}o.callbackPriority=u,o.callbackNode=f}}function oT(o,u){if(ep=-1,tp=0,(ht&6)!==0)throw Error(r(327));var f=o.callbackNode;if(sc()&&o.callbackNode!==f)return null;var v=jo(o,o===Cr?Vr:0);if(v===0)return null;if((v&30)!==0||(v&o.expiredLanes)!==0||u)u=rp(o,v);else{u=v;var _=ht;ht|=2;var T=uT();(Cr!==o||Vr!==u)&&(Vi=null,ic=Ct()+500,Fo(o,u));do try{Z$();break}catch(H){cT(o,H)}while(!0);qg(),Yf.current=T,ht=_,fr!==null?u=0:(Cr=null,Vr=0,u=_r)}if(u!==0){if(u===2&&(_=Bn(o),_!==0&&(v=_,u=Sv(o,_))),u===1)throw f=Hu,Fo(o,0),Ds(o,v),An(o,Ct()),f;if(u===6)Ds(o,v);else{if(_=o.current.alternate,(v&30)===0&&!Q$(_)&&(u=rp(o,v),u===2&&(T=Bn(o),T!==0&&(v=T,u=Sv(o,T))),u===1))throw f=Hu,Fo(o,0),Ds(o,v),An(o,Ct()),f;switch(o.finishedWork=_,o.finishedLanes=v,u){case 0:case 1:throw Error(r(345));case 2:Vo(o,En,Vi);break;case 3:if(Ds(o,v),(v&130023424)===v&&(u=kv+500-Ct(),10<u)){if(jo(o,0)!==0)break;if(_=o.suspendedLanes,(_&v)!==v){pn(),o.pingedLanes|=o.suspendedLanes&_;break}o.timeoutHandle=Ig(Vo.bind(null,o,En,Vi),u);break}Vo(o,En,Vi);break;case 4:if(Ds(o,v),(v&4194240)===v)break;for(u=o.eventTimes,_=-1;0<v;){var V=31-dn(v);T=1<<V,V=u[V],V>_&&(_=V),v&=~T}if(v=_,v=Ct()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*X$(v/1960))-v,10<v){o.timeoutHandle=Ig(Vo.bind(null,o,En,Vi),v);break}Vo(o,En,Vi);break;case 5:Vo(o,En,Vi);break;default:throw Error(r(329))}}}return An(o,Ct()),o.callbackNode===f?oT.bind(null,o):null}function Sv(o,u){var f=Gu;return o.current.memoizedState.isDehydrated&&(Fo(o,u).flags|=256),o=rp(o,u),o!==2&&(u=En,En=f,u!==null&&Tv(u)),o}function Tv(o){En===null?En=o:En.push.apply(En,o)}function Q$(o){for(var u=o;;){if(u.flags&16384){var f=u.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var v=0;v<f.length;v++){var _=f[v],T=_.getSnapshot;_=_.value;try{if(!Pa(T(),_))return!1}catch{return!1}}}if(f=u.child,u.subtreeFlags&16384&&f!==null)f.return=u,u=f;else{if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Ds(o,u){for(u&=~_v,u&=~Xf,o.suspendedLanes|=u,o.pingedLanes&=~u,o=o.expirationTimes;0<u;){var f=31-dn(u),v=1<<f;o[f]=-1,u&=~v}}function lT(o){if((ht&6)!==0)throw Error(r(327));sc();var u=jo(o,0);if((u&1)===0)return An(o,Ct()),null;var f=rp(o,u);if(o.tag!==0&&f===2){var v=Bn(o);v!==0&&(u=v,f=Sv(o,v))}if(f===1)throw f=Hu,Fo(o,0),Ds(o,u),An(o,Ct()),f;if(f===6)throw Error(r(345));return o.finishedWork=o.current.alternate,o.finishedLanes=u,Vo(o,En,Vi),An(o,Ct()),null}function Ev(o,u){var f=ht;ht|=1;try{return o(u)}finally{ht=f,ht===0&&(ic=Ct()+500,Af&&Es())}}function $o(o){Os!==null&&Os.tag===0&&(ht&6)===0&&sc();var u=ht;ht|=1;var f=fa.transition,v=ot;try{if(fa.transition=null,ot=1,o)return o()}finally{ot=v,fa.transition=f,ht=u,(ht&6)===0&&Es()}}function Av(){Hn=ac.current,$t(ac)}function Fo(o,u){o.finishedWork=null,o.finishedLanes=0;var f=o.timeoutHandle;if(f!==-1&&(o.timeoutHandle=-1,T$(f)),fr!==null)for(f=fr.return;f!==null;){var v=f;switch($g(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&Tf();break;case 3:tc(),$t(Nn),$t(Kr),Qg();break;case 5:Yg(v);break;case 4:tc();break;case 13:$t(Qt);break;case 19:$t(Qt);break;case 10:zg(v.type._context);break;case 22:case 23:Av()}f=f.return}if(Cr=o,fr=o=Ms(o.current,null),Vr=Hn=u,_r=0,Hu=null,_v=Xf=Lo=0,En=Gu=null,Ro!==null){for(u=0;u<Ro.length;u++)if(f=Ro[u],v=f.interleaved,v!==null){f.interleaved=null;var _=v.next,T=f.pending;if(T!==null){var V=T.next;T.next=_,v.next=V}f.pending=v}Ro=null}return o}function cT(o,u){do{var f=fr;try{if(qg(),Ff.current=qf,Vf){for(var v=Jt.memoizedState;v!==null;){var _=v.queue;_!==null&&(_.pending=null),v=v.next}Vf=!1}if(Mo=0,Ar=wr=Jt=null,Vu=!1,Bu=0,wv.current=null,f===null||f.return===null){_r=1,Hu=u,fr=null;break}e:{var T=o,V=f.return,H=f,Y=u;if(u=Vr,H.flags|=32768,Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var ce=Y,je=H,Se=je.tag;if((je.mode&1)===0&&(Se===0||Se===11||Se===15)){var ke=je.alternate;ke?(je.updateQueue=ke.updateQueue,je.memoizedState=ke.memoizedState,je.lanes=ke.lanes):(je.updateQueue=null,je.memoizedState=null)}var Pe=RS(V);if(Pe!==null){Pe.flags&=-257,DS(Pe,V,H,T,u),Pe.mode&1&&OS(T,ce,u),u=Pe,Y=ce;var Le=u.updateQueue;if(Le===null){var $e=new Set;$e.add(Y),u.updateQueue=$e}else Le.add(Y);break e}else{if((u&1)===0){OS(T,ce,u),Cv();break e}Y=Error(r(426))}}else if(Wt&&H.mode&1){var lr=RS(V);if(lr!==null){(lr.flags&65536)===0&&(lr.flags|=256),DS(lr,V,H,T,u),Bg(rc(Y,H));break e}}T=Y=rc(Y,H),_r!==4&&(_r=2),Gu===null?Gu=[T]:Gu.push(T),T=V;do{switch(T.tag){case 3:T.flags|=65536,u&=-u,T.lanes|=u;var se=PS(T,Y,u);aS(T,se);break e;case 1:H=Y;var te=T.type,oe=T.stateNode;if((T.flags&128)===0&&(typeof te.getDerivedStateFromError=="function"||oe!==null&&typeof oe.componentDidCatch=="function"&&(Is===null||!Is.has(oe)))){T.flags|=65536,u&=-u,T.lanes|=u;var Te=IS(T,H,u);aS(T,Te);break e}}T=T.return}while(T!==null)}hT(f)}catch(Be){u=Be,fr===f&&f!==null&&(fr=f=f.return);continue}break}while(!0)}function uT(){var o=Yf.current;return Yf.current=qf,o===null?qf:o}function Cv(){(_r===0||_r===3||_r===2)&&(_r=4),Cr===null||(Lo&268435455)===0&&(Xf&268435455)===0||Ds(Cr,Vr)}function rp(o,u){var f=ht;ht|=2;var v=uT();(Cr!==o||Vr!==u)&&(Vi=null,Fo(o,u));do try{J$();break}catch(_){cT(o,_)}while(!0);if(qg(),ht=f,Yf.current=v,fr!==null)throw Error(r(261));return Cr=null,Vr=0,_r}function J$(){for(;fr!==null;)dT(fr)}function Z$(){for(;fr!==null&&!ia();)dT(fr)}function dT(o){var u=mT(o.alternate,o,Hn);o.memoizedProps=o.pendingProps,u===null?hT(o):fr=u,wv.current=null}function hT(o){var u=o;do{var f=u.alternate;if(o=u.return,(u.flags&32768)===0){if(f=W$(f,u,Hn),f!==null){fr=f;return}}else{if(f=H$(f,u),f!==null){f.flags&=32767,fr=f;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{_r=6,fr=null;return}}if(u=u.sibling,u!==null){fr=u;return}fr=u=o}while(u!==null);_r===0&&(_r=5)}function Vo(o,u,f){var v=ot,_=fa.transition;try{fa.transition=null,ot=1,e5(o,u,f,v)}finally{fa.transition=_,ot=v}return null}function e5(o,u,f,v){do sc();while(Os!==null);if((ht&6)!==0)throw Error(r(327));f=o.finishedWork;var _=o.finishedLanes;if(f===null)return null;if(o.finishedWork=null,o.finishedLanes=0,f===o.current)throw Error(r(177));o.callbackNode=null,o.callbackPriority=0;var T=f.lanes|f.childLanes;if(jt(o,T),o===Cr&&(fr=Cr=null,Vr=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||Jf||(Jf=!0,gT(sa,function(){return sc(),null})),T=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||T){T=fa.transition,fa.transition=null;var V=ot;ot=1;var H=ht;ht|=4,wv.current=null,K$(o,f),rT(f,o),b$(Cg),_s=!!Ag,Cg=Ag=null,o.current=f,Y$(f),Xt(),ht=H,ot=V,fa.transition=T}else o.current=f;if(Jf&&(Jf=!1,Os=o,Zf=_),T=o.pendingLanes,T===0&&(Is=null),tf(f.stateNode),An(o,Ct()),u!==null)for(v=o.onRecoverableError,f=0;f<u.length;f++)_=u[f],v(_.value,{componentStack:_.stack,digest:_.digest});if(Qf)throw Qf=!1,o=jv,jv=null,o;return(Zf&1)!==0&&o.tag!==0&&sc(),T=o.pendingLanes,(T&1)!==0?o===Nv?Ku++:(Ku=0,Nv=o):Ku=0,Es(),null}function sc(){if(Os!==null){var o=bs(Zf),u=fa.transition,f=ot;try{if(fa.transition=null,ot=16>o?16:o,Os===null)var v=!1;else{if(o=Os,Os=null,Zf=0,(ht&6)!==0)throw Error(r(331));var _=ht;for(ht|=4,Oe=o.current;Oe!==null;){var T=Oe,V=T.child;if((Oe.flags&16)!==0){var H=T.deletions;if(H!==null){for(var Y=0;Y<H.length;Y++){var ce=H[Y];for(Oe=ce;Oe!==null;){var je=Oe;switch(je.tag){case 0:case 11:case 15:Wu(8,je,T)}var Se=je.child;if(Se!==null)Se.return=je,Oe=Se;else for(;Oe!==null;){je=Oe;var ke=je.sibling,Pe=je.return;if(QS(je),je===ce){Oe=null;break}if(ke!==null){ke.return=Pe,Oe=ke;break}Oe=Pe}}}var Le=T.alternate;if(Le!==null){var $e=Le.child;if($e!==null){Le.child=null;do{var lr=$e.sibling;$e.sibling=null,$e=lr}while($e!==null)}}Oe=T}}if((T.subtreeFlags&2064)!==0&&V!==null)V.return=T,Oe=V;else e:for(;Oe!==null;){if(T=Oe,(T.flags&2048)!==0)switch(T.tag){case 0:case 11:case 15:Wu(9,T,T.return)}var se=T.sibling;if(se!==null){se.return=T.return,Oe=se;break e}Oe=T.return}}var te=o.current;for(Oe=te;Oe!==null;){V=Oe;var oe=V.child;if((V.subtreeFlags&2064)!==0&&oe!==null)oe.return=V,Oe=oe;else e:for(V=te;Oe!==null;){if(H=Oe,(H.flags&2048)!==0)try{switch(H.tag){case 0:case 11:case 15:Kf(9,H)}}catch(Be){nr(H,H.return,Be)}if(H===V){Oe=null;break e}var Te=H.sibling;if(Te!==null){Te.return=H.return,Oe=Te;break e}Oe=H.return}}if(ht=_,Es(),Vn&&typeof Vn.onPostCommitFiberRoot=="function")try{Vn.onPostCommitFiberRoot(ko,o)}catch{}v=!0}return v}finally{ot=f,fa.transition=u}}return!1}function fT(o,u,f){u=rc(f,u),u=PS(o,u,1),o=Cs(o,u,1),u=pn(),o!==null&&(ys(o,1,u),An(o,u))}function nr(o,u,f){if(o.tag===3)fT(o,o,f);else for(;u!==null;){if(u.tag===3){fT(u,o,f);break}else if(u.tag===1){var v=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Is===null||!Is.has(v))){o=rc(f,o),o=IS(u,o,1),u=Cs(u,o,1),o=pn(),u!==null&&(ys(u,1,o),An(u,o));break}}u=u.return}}function t5(o,u,f){var v=o.pingCache;v!==null&&v.delete(u),u=pn(),o.pingedLanes|=o.suspendedLanes&f,Cr===o&&(Vr&f)===f&&(_r===4||_r===3&&(Vr&130023424)===Vr&&500>Ct()-kv?Fo(o,0):_v|=f),An(o,u)}function pT(o,u){u===0&&((o.mode&1)===0?u=1:(u=Al,Al<<=1,(Al&130023424)===0&&(Al=4194304)));var f=pn();o=Li(o,u),o!==null&&(ys(o,u,f),An(o,f))}function r5(o){var u=o.memoizedState,f=0;u!==null&&(f=u.retryLane),pT(o,f)}function n5(o,u){var f=0;switch(o.tag){case 13:var v=o.stateNode,_=o.memoizedState;_!==null&&(f=_.retryLane);break;case 19:v=o.stateNode;break;default:throw Error(r(314))}v!==null&&v.delete(u),pT(o,f)}var mT;mT=function(o,u,f){if(o!==null)if(o.memoizedProps!==u.pendingProps||Nn.current)Tn=!0;else{if((o.lanes&f)===0&&(u.flags&128)===0)return Tn=!1,z$(o,u,f);Tn=(o.flags&131072)!==0}else Tn=!1,Wt&&(u.flags&1048576)!==0&&KN(u,Pf,u.index);switch(u.lanes=0,u.tag){case 2:var v=u.type;Hf(o,u),o=u.pendingProps;var _=Kl(u,Kr.current);ec(u,f),_=ev(null,u,v,o,_,f);var T=tv();return u.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Sn(v)?(T=!0,Ef(u)):T=!1,u.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,Gg(u),_.updater=zf,u.stateNode=_,_._reactInternals=u,ov(u,v,o,f),u=dv(null,u,v,!0,T,f)):(u.tag=0,Wt&&T&&Lg(u),fn(null,u,_,f),u=u.child),u;case 16:v=u.elementType;e:{switch(Hf(o,u),o=u.pendingProps,_=v._init,v=_(v._payload),u.type=v,_=u.tag=i5(v),o=Oa(v,o),_){case 0:u=uv(null,u,v,o,f);break e;case 1:u=BS(null,u,v,o,f);break e;case 11:u=MS(null,u,v,o,f);break e;case 14:u=LS(null,u,v,Oa(v.type,o),f);break e}throw Error(r(306,v,""))}return u;case 0:return v=u.type,_=u.pendingProps,_=u.elementType===v?_:Oa(v,_),uv(o,u,v,_,f);case 1:return v=u.type,_=u.pendingProps,_=u.elementType===v?_:Oa(v,_),BS(o,u,v,_,f);case 3:e:{if(US(u),o===null)throw Error(r(387));v=u.pendingProps,T=u.memoizedState,_=T.element,nS(o,u),Lf(u,v,null,f);var V=u.memoizedState;if(v=V.element,T.isDehydrated)if(T={element:v,isDehydrated:!1,cache:V.cache,pendingSuspenseBoundaries:V.pendingSuspenseBoundaries,transitions:V.transitions},u.updateQueue.baseState=T,u.memoizedState=T,u.flags&256){_=rc(Error(r(423)),u),u=qS(o,u,v,f,_);break e}else if(v!==_){_=rc(Error(r(424)),u),u=qS(o,u,v,f,_);break e}else for(Wn=Ns(u.stateNode.containerInfo.firstChild),zn=u,Wt=!0,Ia=null,f=tS(u,null,v,f),u.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Ql(),v===_){u=Fi(o,u,f);break e}fn(o,u,v,f)}u=u.child}return u;case 5:return sS(u),o===null&&Vg(u),v=u.type,_=u.pendingProps,T=o!==null?o.memoizedProps:null,V=_.children,Pg(v,_)?V=null:T!==null&&Pg(v,T)&&(u.flags|=32),VS(o,u),fn(o,u,V,f),u.child;case 6:return o===null&&Vg(u),null;case 13:return zS(o,u,f);case 4:return Kg(u,u.stateNode.containerInfo),v=u.pendingProps,o===null?u.child=Jl(u,null,v,f):fn(o,u,v,f),u.child;case 11:return v=u.type,_=u.pendingProps,_=u.elementType===v?_:Oa(v,_),MS(o,u,v,_,f);case 7:return fn(o,u,u.pendingProps,f),u.child;case 8:return fn(o,u,u.pendingProps.children,f),u.child;case 12:return fn(o,u,u.pendingProps.children,f),u.child;case 10:e:{if(v=u.type._context,_=u.pendingProps,T=u.memoizedProps,V=_.value,Pt(Rf,v._currentValue),v._currentValue=V,T!==null)if(Pa(T.value,V)){if(T.children===_.children&&!Nn.current){u=Fi(o,u,f);break e}}else for(T=u.child,T!==null&&(T.return=u);T!==null;){var H=T.dependencies;if(H!==null){V=T.child;for(var Y=H.firstContext;Y!==null;){if(Y.context===v){if(T.tag===1){Y=$i(-1,f&-f),Y.tag=2;var ce=T.updateQueue;if(ce!==null){ce=ce.shared;var je=ce.pending;je===null?Y.next=Y:(Y.next=je.next,je.next=Y),ce.pending=Y}}T.lanes|=f,Y=T.alternate,Y!==null&&(Y.lanes|=f),Wg(T.return,f,u),H.lanes|=f;break}Y=Y.next}}else if(T.tag===10)V=T.type===u.type?null:T.child;else if(T.tag===18){if(V=T.return,V===null)throw Error(r(341));V.lanes|=f,H=V.alternate,H!==null&&(H.lanes|=f),Wg(V,f,u),V=T.sibling}else V=T.child;if(V!==null)V.return=T;else for(V=T;V!==null;){if(V===u){V=null;break}if(T=V.sibling,T!==null){T.return=V.return,V=T;break}V=V.return}T=V}fn(o,u,_.children,f),u=u.child}return u;case 9:return _=u.type,v=u.pendingProps.children,ec(u,f),_=da(_),v=v(_),u.flags|=1,fn(o,u,v,f),u.child;case 14:return v=u.type,_=Oa(v,u.pendingProps),_=Oa(v.type,_),LS(o,u,v,_,f);case 15:return $S(o,u,u.type,u.pendingProps,f);case 17:return v=u.type,_=u.pendingProps,_=u.elementType===v?_:Oa(v,_),Hf(o,u),u.tag=1,Sn(v)?(o=!0,Ef(u)):o=!1,ec(u,f),AS(u,v,_),ov(u,v,_,f),dv(null,u,v,!0,o,f);case 19:return HS(o,u,f);case 22:return FS(o,u,f)}throw Error(r(156,u.tag))};function gT(o,u){return rr(o,u)}function a5(o,u,f,v){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pa(o,u,f,v){return new a5(o,u,f,v)}function Pv(o){return o=o.prototype,!(!o||!o.isReactComponent)}function i5(o){if(typeof o=="function")return Pv(o)?1:0;if(o!=null){if(o=o.$$typeof,o===F)return 11;if(o===ee)return 14}return 2}function Ms(o,u){var f=o.alternate;return f===null?(f=pa(o.tag,u,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=u,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&14680064,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,u=o.dependencies,f.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f}function np(o,u,f,v,_,T){var V=2;if(v=o,typeof o=="function")Pv(o)&&(V=1);else if(typeof o=="string")V=5;else e:switch(o){case A:return Bo(f.children,_,T,u);case I:V=8,_|=8;break;case L:return o=pa(12,f,u,_|2),o.elementType=L,o.lanes=T,o;case $:return o=pa(13,f,u,_),o.elementType=$,o.lanes=T,o;case ae:return o=pa(19,f,u,_),o.elementType=ae,o.lanes=T,o;case ne:return ap(f,_,T,u);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case O:V=10;break e;case D:V=9;break e;case F:V=11;break e;case ee:V=14;break e;case G:V=16,v=null;break e}throw Error(r(130,o==null?o:typeof o,""))}return u=pa(V,f,u,_),u.elementType=o,u.type=v,u.lanes=T,u}function Bo(o,u,f,v){return o=pa(7,o,v,u),o.lanes=f,o}function ap(o,u,f,v){return o=pa(22,o,v,u),o.elementType=ne,o.lanes=f,o.stateNode={isHidden:!1},o}function Iv(o,u,f){return o=pa(6,o,null,u),o.lanes=f,o}function Ov(o,u,f){return u=pa(4,o.children!==null?o.children:[],o.key,u),u.lanes=f,u.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},u}function s5(o,u,f,v,_){this.tag=u,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vs(0),this.expirationTimes=vs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vs(0),this.identifierPrefix=v,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function Rv(o,u,f,v,_,T,V,H,Y){return o=new s5(o,u,f,H,Y),u===1?(u=1,T===!0&&(u|=8)):u=0,T=pa(3,null,null,u),o.current=T,T.stateNode=o,T.memoizedState={element:v,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gg(T),o}function o5(o,u,f){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:C,key:v==null?null:""+v,children:o,containerInfo:u,implementation:f}}function vT(o){if(!o)return Ts;o=o._reactInternals;e:{if(it(o)!==o||o.tag!==1)throw Error(r(170));var u=o;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Sn(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(r(171))}if(o.tag===1){var f=o.type;if(Sn(f))return WN(o,f,u)}return u}function yT(o,u,f,v,_,T,V,H,Y){return o=Rv(f,v,!0,o,_,T,V,H,Y),o.context=vT(null),f=o.current,v=pn(),_=Rs(f),T=$i(v,_),T.callback=u??null,Cs(f,T,_),o.current.lanes=_,ys(o,_,v),An(o,v),o}function ip(o,u,f,v){var _=u.current,T=pn(),V=Rs(_);return f=vT(f),u.context===null?u.context=f:u.pendingContext=f,u=$i(T,V),u.payload={element:o},v=v===void 0?null:v,v!==null&&(u.callback=v),o=Cs(_,u,V),o!==null&&(Ma(o,_,V,T),Mf(o,_,V)),V}function sp(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function xT(o,u){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<u?f:u}}function Dv(o,u){xT(o,u),(o=o.alternate)&&xT(o,u)}function l5(){return null}var bT=typeof reportError=="function"?reportError:function(o){console.error(o)};function Mv(o){this._internalRoot=o}op.prototype.render=Mv.prototype.render=function(o){var u=this._internalRoot;if(u===null)throw Error(r(409));ip(o,u,null,null)},op.prototype.unmount=Mv.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var u=o.containerInfo;$o(function(){ip(null,o,null,null)}),u[Oi]=null}};function op(o){this._internalRoot=o}op.prototype.unstable_scheduleHydration=function(o){if(o){var u=of();o={blockedOn:null,target:o,priority:u};for(var f=0;f<Xa.length&&u!==0&&u<Xa[f].priority;f++);Xa.splice(f,0,o),f===0&&uf(o)}};function Lv(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function lp(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function wT(){}function c5(o,u,f,v,_){if(_){if(typeof v=="function"){var T=v;v=function(){var ce=sp(V);T.call(ce)}}var V=yT(u,v,o,0,null,!1,!1,"",wT);return o._reactRootContainer=V,o[Oi]=V.current,Iu(o.nodeType===8?o.parentNode:o),$o(),V}for(;_=o.lastChild;)o.removeChild(_);if(typeof v=="function"){var H=v;v=function(){var ce=sp(Y);H.call(ce)}}var Y=Rv(o,0,!1,null,null,!1,!1,"",wT);return o._reactRootContainer=Y,o[Oi]=Y.current,Iu(o.nodeType===8?o.parentNode:o),$o(function(){ip(u,Y,f,v)}),Y}function cp(o,u,f,v,_){var T=f._reactRootContainer;if(T){var V=T;if(typeof _=="function"){var H=_;_=function(){var Y=sp(V);H.call(Y)}}ip(u,V,o,_)}else V=c5(f,u,o,_,v);return sp(V)}af=function(o){switch(o.tag){case 3:var u=o.stateNode;if(u.current.memoizedState.isDehydrated){var f=gs(u.pendingLanes);f!==0&&(xs(u,f|1),An(u,Ct()),(ht&6)===0&&(ic=Ct()+500,Es()))}break;case 13:$o(function(){var v=Li(o,1);if(v!==null){var _=pn();Ma(v,o,1,_)}}),Dv(o,1)}},Cl=function(o){if(o.tag===13){var u=Li(o,134217728);if(u!==null){var f=pn();Ma(u,o,134217728,f)}Dv(o,134217728)}},sf=function(o){if(o.tag===13){var u=Rs(o),f=Li(o,u);if(f!==null){var v=pn();Ma(f,o,u,v)}Dv(o,u)}},of=function(){return ot},lf=function(o,u){var f=ot;try{return ot=o,u()}finally{ot=f}},ra=function(o,u,f){switch(u){case"input":if(tr(o,f),u=f.name,f.type==="radio"&&u!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<f.length;u++){var v=f[u];if(v!==o&&v.form===o.form){var _=Sf(v);if(!_)throw Error(r(90));q(v),tr(v,_)}}}break;case"textarea":dr(o,f);break;case"select":u=f.value,u!=null&&Mt(o,!!f.multiple,u,!1)}},Ni=Ev,bo=$o;var u5={usingClientEntryPoint:!1,Events:[Du,Hl,Sf,aa,xo,Ev]},Yu={findFiberByHostInstance:Co,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},d5={bundleType:Yu.bundleType,version:Yu.version,rendererPackageName:Yu.rendererPackageName,rendererConfig:Yu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Et(o),o===null?null:o.stateNode},findFiberByHostInstance:Yu.findFiberByHostInstance||l5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var up=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!up.isDisabled&&up.supportsFiber)try{ko=up.inject(d5),Vn=up}catch{}}return Cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=u5,Cn.createPortal=function(o,u){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lv(u))throw Error(r(200));return o5(o,u,null,f)},Cn.createRoot=function(o,u){if(!Lv(o))throw Error(r(299));var f=!1,v="",_=bT;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(_=u.onRecoverableError)),u=Rv(o,1,!1,null,null,f,!1,v,_),o[Oi]=u.current,Iu(o.nodeType===8?o.parentNode:o),new Mv(u)},Cn.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var u=o._reactInternals;if(u===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=Et(u),o=o===null?null:o.stateNode,o},Cn.flushSync=function(o){return $o(o)},Cn.hydrate=function(o,u,f){if(!lp(u))throw Error(r(200));return cp(null,o,u,!0,f)},Cn.hydrateRoot=function(o,u,f){if(!Lv(o))throw Error(r(405));var v=f!=null&&f.hydratedSources||null,_=!1,T="",V=bT;if(f!=null&&(f.unstable_strictMode===!0&&(_=!0),f.identifierPrefix!==void 0&&(T=f.identifierPrefix),f.onRecoverableError!==void 0&&(V=f.onRecoverableError)),u=yT(u,null,o,1,f??null,_,!1,T,V),o[Oi]=u.current,Iu(o),v)for(o=0;o<v.length;o++)f=v[o],_=f._getVersion,_=_(f._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[f,_]:u.mutableSourceEagerHydrationData.push(f,_);return new op(u)},Cn.render=function(o,u,f){if(!lp(u))throw Error(r(200));return cp(null,o,u,!1,f)},Cn.unmountComponentAtNode=function(o){if(!lp(o))throw Error(r(40));return o._reactRootContainer?($o(function(){cp(null,null,o,!1,function(){o._reactRootContainer=null,o[Oi]=null})}),!0):!1},Cn.unstable_batchedUpdates=Ev,Cn.unstable_renderSubtreeIntoContainer=function(o,u,f,v){if(!lp(f))throw Error(r(200));if(o==null||o._reactInternals===void 0)throw Error(r(38));return cp(o,u,f,!1,v)},Cn.version="18.3.1-next-f1338f8080-20240426",Cn}var AT;function x5(){if(AT)return Vv.exports;AT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Vv.exports=y5(),Vv.exports}var CT;function b5(){if(CT)return hp;CT=1;var t=x5();return hp.createRoot=t.createRoot,hp.hydrateRoot=t.hydrateRoot,hp}var w5=b5();const _5=xt(w5);var PT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let a=t.charCodeAt(n);a<128?e[r++]=a:a<2048?(e[r++]=a>>6|192,e[r++]=a&63|128):(a&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=a>>18|240,e[r++]=a>>12&63|128,e[r++]=a>>6&63|128,e[r++]=a&63|128):(e[r++]=a>>12|224,e[r++]=a>>6&63|128,e[r++]=a&63|128)}return e},k5=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const a=t[r++];if(a<128)e[n++]=String.fromCharCode(a);else if(a>191&&a<224){const i=t[r++];e[n++]=String.fromCharCode((a&31)<<6|i&63)}else if(a>239&&a<365){const i=t[r++],l=t[r++],c=t[r++],d=((a&7)<<18|(i&63)<<12|(l&63)<<6|c&63)-65536;e[n++]=String.fromCharCode(55296+(d>>10)),e[n++]=String.fromCharCode(56320+(d&1023))}else{const i=t[r++],l=t[r++];e[n++]=String.fromCharCode((a&15)<<12|(i&63)<<6|l&63)}}return e.join("")},ZR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<t.length;a+=3){const i=t[a],l=a+1<t.length,c=l?t[a+1]:0,d=a+2<t.length,h=d?t[a+2]:0,p=i>>2,m=(i&3)<<4|c>>4;let y=(c&15)<<2|h>>6,x=h&63;d||(x=64,l||(y=64)),n.push(r[p],r[m],r[y],r[x])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(JR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):k5(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<t.length;){const i=r[t.charAt(a++)],c=a<t.length?r[t.charAt(a)]:0;++a;const h=a<t.length?r[t.charAt(a)]:64;++a;const m=a<t.length?r[t.charAt(a)]:64;if(++a,i==null||c==null||h==null||m==null)throw new j5;const y=i<<2|c>>4;if(n.push(y),h!==64){const x=c<<4&240|h>>2;if(n.push(x),m!==64){const k=h<<6&192|m;n.push(k)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class j5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const N5=function(t){const e=JR(t);return ZR.encodeByteArray(e,!0)},Wp=function(t){return N5(t).replace(/\./g,"")},eD=function(t){try{return ZR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T5=()=>S5().__FIREBASE_DEFAULTS__,E5=()=>{if(typeof process>"u"||typeof PT>"u")return;const t=PT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},A5=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&eD(t[1]);return e&&JSON.parse(e)},s0=()=>{try{return T5()||E5()||A5()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},tD=t=>{var e,r;return(r=(e=s0())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},rD=t=>{const e=tD(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},nD=()=>{var t;return(t=s0())===null||t===void 0?void 0:t.config},aD=t=>{var e;return(e=s0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",a=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:a,exp:a+3600,auth_time:a,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Wp(JSON.stringify(r)),Wp(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function P5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function I5(){var t;const e=(t=s0())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function O5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function R5(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function D5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function M5(){const t=sn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function L5(){return!I5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $5(){try{return typeof indexedDB=="object"}catch{return!1}}function F5(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var i;e(((i=a.error)===null||i===void 0?void 0:i.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V5="FirebaseError";class xi extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=V5,Object.setPrototypeOf(this,xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sh.prototype.create)}}class Sh{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},a=`${this.service}/${e}`,i=this.errors[e],l=i?B5(i,n):"Error",c=`${this.serviceName}: ${l} (${a}).`;return new xi(a,c,n)}}function B5(t,e){return t.replace(U5,(r,n)=>{const a=e[n];return a!=null?String(a):`<${n}?>`})}const U5=/\{\$([^}]+)}/g;function q5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Hp(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const a of r){if(!n.includes(a))return!1;const i=t[a],l=e[a];if(IT(i)&&IT(l)){if(!Hp(i,l))return!1}else if(i!==l)return!1}for(const a of n)if(!r.includes(a))return!1;return!0}function IT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(a=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function ld(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[a,i]=n.split("=");e[decodeURIComponent(a)]=decodeURIComponent(i)}}),e}function cd(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function z5(t,e){const r=new W5(t,e);return r.subscribe.bind(r)}class W5{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let a;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");H5(e,["next","error","complete"])?a=e:a={next:e,error:r,complete:n},a.next===void 0&&(a.next=qv),a.error===void 0&&(a.error=qv),a.complete===void 0&&(a.complete=qv);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function H5(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function qv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(t){return t&&t._delegate?t._delegate:t}class ao{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new C5;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e?.identifier),a=(r=e?.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(a)return null;throw i}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Y5(e))try{this.getOrInitializeService({instanceIdentifier:Wo})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:a});n.resolve(i)}catch{}}}}clearInstance(e=Wo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wo){return this.instances.has(e)}getOptions(e=Wo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[i,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(i);n===c&&l.resolve(a)}return a}onInit(e,r){var n;const a=this.normalizeInstanceIdentifier(r),i=(n=this.onInitCallbacks.get(a))!==null&&n!==void 0?n:new Set;i.add(e),this.onInitCallbacks.set(a,i);const l=this.instances.get(a);return l&&e(l,a),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const a of n)try{a(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:K5(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Wo){return this.component?this.component.multipleInstances?e:Wo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function K5(t){return t===Wo?void 0:t}function Y5(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new G5(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(lt||(lt={}));const Q5={debug:lt.DEBUG,verbose:lt.VERBOSE,info:lt.INFO,warn:lt.WARN,error:lt.ERROR,silent:lt.SILENT},J5=lt.INFO,Z5={[lt.DEBUG]:"log",[lt.VERBOSE]:"log",[lt.INFO]:"info",[lt.WARN]:"warn",[lt.ERROR]:"error"},eF=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),a=Z5[e];if(a)console[a](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tk{constructor(e){this.name=e,this._logLevel=J5,this._logHandler=eF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Q5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,lt.DEBUG,...e),this._logHandler(this,lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,lt.VERBOSE,...e),this._logHandler(this,lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,lt.INFO,...e),this._logHandler(this,lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,lt.WARN,...e),this._logHandler(this,lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,lt.ERROR,...e),this._logHandler(this,lt.ERROR,...e)}}const tF=(t,e)=>e.some(r=>t instanceof r);let OT,RT;function rF(){return OT||(OT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nF(){return RT||(RT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sD=new WeakMap,i_=new WeakMap,oD=new WeakMap,zv=new WeakMap,rk=new WeakMap;function aF(t){const e=new Promise((r,n)=>{const a=()=>{t.removeEventListener("success",i),t.removeEventListener("error",l)},i=()=>{r(Qs(t.result)),a()},l=()=>{n(t.error),a()};t.addEventListener("success",i),t.addEventListener("error",l)});return e.then(r=>{r instanceof IDBCursor&&sD.set(r,t)}).catch(()=>{}),rk.set(e,t),e}function iF(t){if(i_.has(t))return;const e=new Promise((r,n)=>{const a=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",l),t.removeEventListener("abort",l)},i=()=>{r(),a()},l=()=>{n(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",i),t.addEventListener("error",l),t.addEventListener("abort",l)});i_.set(t,e)}let s_={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return i_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||oD.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Qs(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function sF(t){s_=t(s_)}function oF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Wv(this),e,...r);return oD.set(n,e.sort?e.sort():[e]),Qs(n)}:nF().includes(t)?function(...e){return t.apply(Wv(this),e),Qs(sD.get(this))}:function(...e){return Qs(t.apply(Wv(this),e))}}function lF(t){return typeof t=="function"?oF(t):(t instanceof IDBTransaction&&iF(t),tF(t,rF())?new Proxy(t,s_):t)}function Qs(t){if(t instanceof IDBRequest)return aF(t);if(zv.has(t))return zv.get(t);const e=lF(t);return e!==t&&(zv.set(t,e),rk.set(e,t)),e}const Wv=t=>rk.get(t);function cF(t,e,{blocked:r,upgrade:n,blocking:a,terminated:i}={}){const l=indexedDB.open(t,e),c=Qs(l);return n&&l.addEventListener("upgradeneeded",d=>{n(Qs(l.result),d.oldVersion,d.newVersion,Qs(l.transaction),d)}),r&&l.addEventListener("blocked",d=>r(d.oldVersion,d.newVersion,d)),c.then(d=>{i&&d.addEventListener("close",()=>i()),a&&d.addEventListener("versionchange",h=>a(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const uF=["get","getKey","getAll","getAllKeys","count"],dF=["put","add","delete","clear"],Hv=new Map;function DT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Hv.get(e))return Hv.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,a=dF.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||uF.includes(r)))return;const i=async function(l,...c){const d=this.transaction(l,a?"readwrite":"readonly");let h=d.store;return n&&(h=h.index(c.shift())),(await Promise.all([h[r](...c),a&&d.done]))[0]};return Hv.set(e,i),i}sF(t=>({...t,get:(e,r,n)=>DT(e,r)||t.get(e,r,n),has:(e,r)=>!!DT(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(fF(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function fF(t){const e=t.getComponent();return e?.type==="VERSION"}const o_="@firebase/app",MT="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi=new tk("@firebase/app"),pF="@firebase/app-compat",mF="@firebase/analytics-compat",gF="@firebase/analytics",vF="@firebase/app-check-compat",yF="@firebase/app-check",xF="@firebase/auth",bF="@firebase/auth-compat",wF="@firebase/database",_F="@firebase/data-connect",kF="@firebase/database-compat",jF="@firebase/functions",NF="@firebase/functions-compat",SF="@firebase/installations",TF="@firebase/installations-compat",EF="@firebase/messaging",AF="@firebase/messaging-compat",CF="@firebase/performance",PF="@firebase/performance-compat",IF="@firebase/remote-config",OF="@firebase/remote-config-compat",RF="@firebase/storage",DF="@firebase/storage-compat",MF="@firebase/firestore",LF="@firebase/vertexai-preview",$F="@firebase/firestore-compat",FF="firebase",VF="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_="[DEFAULT]",BF={[o_]:"fire-core",[pF]:"fire-core-compat",[gF]:"fire-analytics",[mF]:"fire-analytics-compat",[yF]:"fire-app-check",[vF]:"fire-app-check-compat",[xF]:"fire-auth",[bF]:"fire-auth-compat",[wF]:"fire-rtdb",[_F]:"fire-data-connect",[kF]:"fire-rtdb-compat",[jF]:"fire-fn",[NF]:"fire-fn-compat",[SF]:"fire-iid",[TF]:"fire-iid-compat",[EF]:"fire-fcm",[AF]:"fire-fcm-compat",[CF]:"fire-perf",[PF]:"fire-perf-compat",[IF]:"fire-rc",[OF]:"fire-rc-compat",[RF]:"fire-gcs",[DF]:"fire-gcs-compat",[MF]:"fire-fst",[$F]:"fire-fst-compat",[LF]:"fire-vertex","fire-js":"fire-js",[FF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp=new Map,UF=new Map,c_=new Map;function LT(t,e){try{t.container.addComponent(e)}catch(r){Zi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function ol(t){const e=t.name;if(c_.has(e))return Zi.debug(`There were multiple attempts to register component ${e}.`),!1;c_.set(e,t);for(const r of Gp.values())LT(r,t);for(const r of UF.values())LT(r,t);return!0}function o0(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function ba(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Js=new Sh("app","Firebase",qF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ao("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Js.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl=VF;function nk(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:l_,automaticDataCollectionEnabled:!1},e),a=n.name;if(typeof a!="string"||!a)throw Js.create("bad-app-name",{appName:String(a)});if(r||(r=nD()),!r)throw Js.create("no-options");const i=Gp.get(a);if(i){if(Hp(r,i.options)&&Hp(n,i.config))return i;throw Js.create("duplicate-app",{appName:a})}const l=new X5(a);for(const d of c_.values())l.addComponent(d);const c=new zF(r,n,l);return Gp.set(a,c),c}function ak(t=l_){const e=Gp.get(t);if(!e&&t===l_&&nD())return nk();if(!e)throw Js.create("no-app",{appName:t});return e}function oi(t,e,r){var n;let a=(n=BF[t])!==null&&n!==void 0?n:t;r&&(a+=`-${r}`);const i=a.match(/\s|\//),l=e.match(/\s|\//);if(i||l){const c=[`Unable to register library "${a}" with version "${e}":`];i&&c.push(`library name "${a}" contains illegal characters (whitespace or "/")`),i&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zi.warn(c.join(" "));return}ol(new ao(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WF="firebase-heartbeat-database",HF=1,Pd="firebase-heartbeat-store";let Gv=null;function lD(){return Gv||(Gv=cF(WF,HF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Pd)}catch(r){console.warn(r)}}}}).catch(t=>{throw Js.create("idb-open",{originalErrorMessage:t.message})})),Gv}async function GF(t){try{const r=(await lD()).transaction(Pd),n=await r.objectStore(Pd).get(cD(t));return await r.done,n}catch(e){if(e instanceof xi)Zi.warn(e.message);else{const r=Js.create("idb-get",{originalErrorMessage:e?.message});Zi.warn(r.message)}}}async function $T(t,e){try{const n=(await lD()).transaction(Pd,"readwrite");await n.objectStore(Pd).put(e,cD(t)),await n.done}catch(r){if(r instanceof xi)Zi.warn(r.message);else{const n=Js.create("idb-set",{originalErrorMessage:r?.message});Zi.warn(n.message)}}}function cD(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KF=1024,YF=30*24*60*60*1e3;class XF{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new JF(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=FT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(l=>l.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const c=new Date(l.date).valueOf();return Date.now()-c<=YF}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Zi.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=FT(),{heartbeatsToSend:n,unsentEntries:a}=QF(this._heartbeatsCache.heartbeats),i=Wp(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(r){return Zi.warn(r),""}}}function FT(){return new Date().toISOString().substring(0,10)}function QF(t,e=KF){const r=[];let n=t.slice();for(const a of t){const i=r.find(l=>l.agent===a.agent);if(i){if(i.dates.push(a.date),VT(r)>e){i.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),VT(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class JF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $5()?F5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await GF(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return $T(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return $T(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function VT(t){return Wp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZF(t){ol(new ao("platform-logger",e=>new hF(e),"PRIVATE")),ol(new ao("heartbeat",e=>new XF(e),"PRIVATE")),oi(o_,MT,t),oi(o_,MT,"esm2017"),oi("fire-js","")}ZF("");var eV="firebase",tV="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */oi(eV,tV,"app");function ik(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function uD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rV=uD,dD=new Sh("auth","Firebase",uD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp=new tk("@firebase/auth");function nV(t,...e){Kp.logLevel<=lt.WARN&&Kp.warn(`Auth (${xl}): ${t}`,...e)}function Rp(t,...e){Kp.logLevel<=lt.ERROR&&Kp.error(`Auth (${xl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function za(t,...e){throw sk(t,...e)}function li(t,...e){return sk(t,...e)}function hD(t,e,r){const n=Object.assign(Object.assign({},rV()),{[e]:r});return new Sh("auth","Firebase",n).create(e,{appName:t.name})}function Va(t){return hD(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sk(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return dD.create(t,...e)}function Ke(t,e,...r){if(!t)throw sk(e,...r)}function Wi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Rp(e),new Error(e)}function es(t,e){t||Wi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function aV(){return BT()==="http:"||BT()==="https:"}function BT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aV()||R5()||"connection"in navigator)?navigator.onLine:!0}function sV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,r){this.shortDelay=e,this.longDelay=r,es(r>e,"Short delay should be less than long delay!"),this.isMobile=P5()||D5()}get(){return iV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(t,e){es(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lV=new Eh(3e4,6e4);function ls(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function lo(t,e,r,n,a={}){return pD(t,a,async()=>{let i={},l={};n&&(e==="GET"?l=n:i={body:JSON.stringify(n)});const c=Th(Object.assign({key:t.config.apiKey},l)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:d},i);return O5()||(h.referrerPolicy="no-referrer"),fD.fetch()(mD(t,t.config.apiHost,r,c),h)})}async function pD(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},oV),e);try{const a=new uV(t),i=await Promise.race([r(),a.promise]);a.clearNetworkTimeout();const l=await i.json();if("needConfirmation"in l)throw fp(t,"account-exists-with-different-credential",l);if(i.ok&&!("errorMessage"in l))return l;{const c=i.ok?l.errorMessage:l.error.message,[d,h]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw fp(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw fp(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw fp(t,"user-disabled",l);const p=n[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw hD(t,p,h);za(t,p)}}catch(a){if(a instanceof xi)throw a;za(t,"network-request-failed",{message:String(a)})}}async function iu(t,e,r,n,a={}){const i=await lo(t,e,r,n,a);return"mfaPendingCredential"in i&&za(t,"multi-factor-auth-required",{_serverResponse:i}),i}function mD(t,e,r,n){const a=`${e}${r}?${n}`;return t.config.emulator?ok(t.config,a):`${t.config.apiScheme}://${a}`}function cV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class uV{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(li(this.auth,"network-request-failed")),lV.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function fp(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const a=li(t,e,n);return a.customData._tokenResponse=r,a}function UT(t){return t!==void 0&&t.enterprise!==void 0}class dV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return cV(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function hV(t,e){return lo(t,"GET","/v2/recaptchaConfig",ls(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fV(t,e){return lo(t,"POST","/v1/accounts:delete",e)}async function gD(t,e){return lo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function pV(t,e=!1){const r=Bt(t),n=await r.getIdToken(e),a=lk(n);Ke(a&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error");const i=typeof a.firebase=="object"?a.firebase:void 0,l=i?.sign_in_provider;return{claims:a,token:n,authTime:yd(Kv(a.auth_time)),issuedAtTime:yd(Kv(a.iat)),expirationTime:yd(Kv(a.exp)),signInProvider:l||null,signInSecondFactor:i?.sign_in_second_factor||null}}function Kv(t){return Number(t)*1e3}function lk(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Rp("JWT malformed, contained fewer than 3 sections"),null;try{const a=eD(r);return a?JSON.parse(a):(Rp("Failed to decode base64 JWT payload"),null)}catch(a){return Rp("Caught error parsing JWT payload as JSON",a?.toString()),null}}function qT(t){const e=lk(t);return Ke(e,"internal-error"),Ke(typeof e.exp<"u","internal-error"),Ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Id(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof xi&&mV(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function mV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=yd(this.lastLoginAt),this.creationTime=yd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yp(t){var e;const r=t.auth,n=await t.getIdToken(),a=await Id(t,gD(r,{idToken:n}));Ke(a?.users.length,r,"internal-error");const i=a.users[0];t._notifyReloadListener(i);const l=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?vD(i.providerUserInfo):[],c=yV(t.providerData,l),d=t.isAnonymous,h=!(t.email&&i.passwordHash)&&!c?.length,p=d?h:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:c,metadata:new d_(i.createdAt,i.lastLoginAt),isAnonymous:p};Object.assign(t,m)}async function vV(t){const e=Bt(t);await Yp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yV(t,e){return[...t.filter(n=>!e.some(a=>a.providerId===n.providerId)),...e]}function vD(t){return t.map(e=>{var{providerId:r}=e,n=ik(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xV(t,e){const r=await pD(t,{},async()=>{const n=Th({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:i}=t.config,l=mD(t,a,"/v1/token",`key=${i}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",fD.fetch()(l,{method:"POST",headers:c,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function bV(t,e){return lo(t,"POST","/v2/accounts:revokeToken",ls(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ke(e.idToken,"internal-error"),Ke(typeof e.idToken<"u","internal-error"),Ke(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):qT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Ke(e.length!==0,"internal-error");const r=qT(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:a,expiresIn:i}=await xV(e,r);this.updateTokensAndExpiration(n,a,Number(i))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:a,expirationTime:i}=r,l=new xc;return n&&(Ke(typeof n=="string","internal-error",{appName:e}),l.refreshToken=n),a&&(Ke(typeof a=="string","internal-error",{appName:e}),l.accessToken=a),i&&(Ke(typeof i=="number","internal-error",{appName:e}),l.expirationTime=i),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xc,this.toJSON())}_performRefresh(){return Wi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $s(t,e){Ke(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Hi{constructor(e){var{uid:r,auth:n,stsTokenManager:a}=e,i=ik(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new d_(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await Id(this,this.stsTokenManager.getToken(this.auth,e));return Ke(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return pV(this,e)}reload(){return vV(this)}_assign(e){this!==e&&(Ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Hi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Yp(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ba(this.auth.app))return Promise.reject(Va(this.auth));const e=await this.getIdToken();return await Id(this,fV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,a,i,l,c,d,h,p;const m=(n=r.displayName)!==null&&n!==void 0?n:void 0,y=(a=r.email)!==null&&a!==void 0?a:void 0,x=(i=r.phoneNumber)!==null&&i!==void 0?i:void 0,k=(l=r.photoURL)!==null&&l!==void 0?l:void 0,w=(c=r.tenantId)!==null&&c!==void 0?c:void 0,b=(d=r._redirectEventId)!==null&&d!==void 0?d:void 0,N=(h=r.createdAt)!==null&&h!==void 0?h:void 0,E=(p=r.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:P,emailVerified:R,isAnonymous:j,providerData:C,stsTokenManager:A}=r;Ke(P&&A,e,"internal-error");const I=xc.fromJSON(this.name,A);Ke(typeof P=="string",e,"internal-error"),$s(m,e.name),$s(y,e.name),Ke(typeof R=="boolean",e,"internal-error"),Ke(typeof j=="boolean",e,"internal-error"),$s(x,e.name),$s(k,e.name),$s(w,e.name),$s(b,e.name),$s(N,e.name),$s(E,e.name);const L=new Hi({uid:P,auth:e,email:y,emailVerified:R,displayName:m,isAnonymous:j,photoURL:k,phoneNumber:x,tenantId:w,stsTokenManager:I,createdAt:N,lastLoginAt:E});return C&&Array.isArray(C)&&(L.providerData=C.map(O=>Object.assign({},O))),b&&(L._redirectEventId=b),L}static async _fromIdTokenResponse(e,r,n=!1){const a=new xc;a.updateFromServerResponse(r);const i=new Hi({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:n});return await Yp(i),i}static async _fromGetAccountInfoResponse(e,r,n){const a=r.users[0];Ke(a.localId!==void 0,"internal-error");const i=a.providerUserInfo!==void 0?vD(a.providerUserInfo):[],l=!(a.email&&a.passwordHash)&&!i?.length,c=new xc;c.updateFromIdToken(n);const d=new Hi({uid:a.localId,auth:e,stsTokenManager:c,isAnonymous:l}),h={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:i,metadata:new d_(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!i?.length};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT=new Map;function Gi(t){es(t instanceof Function,"Expected a class definition");let e=zT.get(t);return e?(es(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,zT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}yD.type="NONE";const WT=yD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(t,e,r){return`firebase:${t}:${e}:${r}`}class bc{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:a,name:i}=this.auth;this.fullUserKey=Dp(this.userKey,a.apiKey,i),this.fullPersistenceKey=Dp("persistence",a.apiKey,i),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Hi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new bc(Gi(WT),e,n);const a=(await Promise.all(r.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let i=a[0]||Gi(WT);const l=Dp(n,e.config.apiKey,e.name);let c=null;for(const h of r)try{const p=await h._get(l);if(p){const m=Hi._fromJSON(e,p);h!==i&&(c=m),i=h;break}}catch{}const d=a.filter(h=>h._shouldAllowMigration);return!i._shouldAllowMigration||!d.length?new bc(i,e,n):(i=d[0],c&&await i._set(l,c.toJSON()),await Promise.all(r.map(async h=>{if(h!==i)try{await h._remove(l)}catch{}})),new bc(i,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_D(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(jD(e))return"Blackberry";if(ND(e))return"Webos";if(bD(e))return"Safari";if((e.includes("chrome/")||wD(e))&&!e.includes("edge/"))return"Chrome";if(kD(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if(n?.length===2)return n[1]}return"Other"}function xD(t=sn()){return/firefox\//i.test(t)}function bD(t=sn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wD(t=sn()){return/crios\//i.test(t)}function _D(t=sn()){return/iemobile/i.test(t)}function kD(t=sn()){return/android/i.test(t)}function jD(t=sn()){return/blackberry/i.test(t)}function ND(t=sn()){return/webos/i.test(t)}function ck(t=sn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function wV(t=sn()){var e;return ck(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _V(){return M5()&&document.documentMode===10}function SD(t=sn()){return ck(t)||kD(t)||ND(t)||jD(t)||/windows phone/i.test(t)||_D(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TD(t,e=[]){let r;switch(t){case"Browser":r=HT(sn());break;case"Worker":r=`${HT(sn())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${xl}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=i=>new Promise((l,c)=>{try{const d=e(i);l(d)}catch(d){c(d)}});n.onAbort=r,this.queue.push(n);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const a of r)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jV(t,e={}){return lo(t,"GET","/v2/passwordPolicy",ls(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV=6;class SV{constructor(e){var r,n,a,i;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=l.minPasswordLength)!==null&&r!==void 0?r:NV,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,a,i,l,c;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(r=d.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(n=d.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(a=d.containsLowercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(i=d.containsUppercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(c=d.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),d}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),a&&(r.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let a=0;a<e.length;a++)n=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,a,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(e,r,n,a){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new GT(this),this.idTokenSubscription=new GT(this),this.beforeStateQueue=new kV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Gi(r)),this._initializationPromise=this.queue(async()=>{var n,a;if(!this._deleted&&(this.persistenceManager=await bc.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await gD(this,{idToken:e}),n=await Hi._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(ba(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,c=a?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&d?.user&&(a=d.user,i=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(a)}catch(l){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Yp(e)}catch(r){if(r?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=sV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ba(this.app))return Promise.reject(Va(this));const r=e?Bt(e):null;return r&&Ke(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ba(this.app)?Promise.reject(Va(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ba(this.app)?Promise.reject(Va(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await jV(this),r=new SV(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Sh("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await bV(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Gi(e)||this._popupRedirectResolver;Ke(r,this,"argument-error"),this.redirectPersistenceManager=await bc.create(this,[Gi(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,a){if(this._deleted)return()=>{};const i=typeof r=="function"?r:r.next.bind(r);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ke(c,this,"internal-error"),c.then(()=>{l||i(this.currentUser)}),typeof r=="function"){const d=e.addObserver(r,n,a);return()=>{l=!0,d()}}else{const d=e.addObserver(r);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=TD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(r["X-Firebase-AppCheck"]=a),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r?.error&&nV(`Error while retrieving App Check token: ${r.error}`),r?.token}}function cs(t){return Bt(t)}class GT{constructor(e){this.auth=e,this.observer=null,this.addObserver=z5(r=>this.observer=r)}get next(){return Ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let l0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function EV(t){l0=t}function ED(t){return l0.loadJS(t)}function AV(){return l0.recaptchaEnterpriseScript}function CV(){return l0.gapiScript}function PV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const IV="recaptcha-enterprise",OV="NO_RECAPTCHA";class RV{constructor(e){this.type=IV,this.auth=cs(e)}async verify(e="verify",r=!1){async function n(i){if(!r){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(l,c)=>{hV(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const h=new dV(d);return i.tenantId==null?i._agentRecaptchaConfig=h:i._tenantRecaptchaConfigs[i.tenantId]=h,l(h.siteKey)}}).catch(d=>{c(d)})})}function a(i,l,c){const d=window.grecaptcha;UT(d)?d.enterprise.ready(()=>{d.enterprise.execute(i,{action:e}).then(h=>{l(h)}).catch(()=>{l(OV)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,l)=>{n(this.auth).then(c=>{if(!r&&UT(window.grecaptcha))a(c,i,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=AV();d.length!==0&&(d+=c),ED(d).then(()=>{a(c,i,l)}).catch(h=>{l(h)})}}).catch(c=>{l(c)})})}}async function KT(t,e,r,n=!1){const a=new RV(t);let i;try{i=await a.verify(r)}catch{i=await a.verify(r,!0)}const l=Object.assign({},e);return n?Object.assign(l,{captchaResp:i}):Object.assign(l,{captchaResponse:i}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function h_(t,e,r,n){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await KT(t,e,r,r==="getOobCode");return n(t,i)}else return n(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await KT(t,e,r,r==="getOobCode");return n(t,l)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DV(t,e){const r=o0(t,"auth");if(r.isInitialized()){const a=r.getImmediate(),i=r.getOptions();if(Hp(i,e??{}))return a;za(a,"already-initialized")}return r.initialize({options:e})}function MV(t,e){const r=e?.persistence||[],n=(Array.isArray(r)?r:[r]).map(Gi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e?.popupRedirectResolver)}function LV(t,e,r){const n=cs(t);Ke(n._canInitEmulator,n,"emulator-config-failed"),Ke(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const a=!1,i=AD(e),{host:l,port:c}=$V(e),d=c===null?"":`:${c}`;n.config.emulator={url:`${i}//${l}${d}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:l,port:c,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:a})}),FV()}function AD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function $V(t){const e=AD(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(n);if(a){const i=a[1];return{host:i,port:YT(n.substr(i.length+1))}}else{const[i,l]=n.split(":");return{host:i,port:YT(l)}}}function YT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function FV(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Wi("not implemented")}_getIdTokenResponse(e){return Wi("not implemented")}_linkToIdToken(e,r){return Wi("not implemented")}_getReauthenticationResolver(e){return Wi("not implemented")}}async function VV(t,e){return lo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BV(t,e){return iu(t,"POST","/v1/accounts:signInWithPassword",ls(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UV(t,e){return iu(t,"POST","/v1/accounts:signInWithEmailLink",ls(t,e))}async function qV(t,e){return iu(t,"POST","/v1/accounts:signInWithEmailLink",ls(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od extends uk{constructor(e,r,n,a=null){super("password",n),this._email=e,this._password=r,this._tenantId=a}static _fromEmailAndPassword(e,r){return new Od(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new Od(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r?.email&&r?.password){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return h_(e,r,"signInWithPassword",BV);case"emailLink":return UV(e,{email:this._email,oobCode:this._password});default:za(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return h_(e,n,"signUpPassword",VV);case"emailLink":return qV(e,{idToken:r,email:this._email,oobCode:this._password});default:za(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wc(t,e){return iu(t,"POST","/v1/accounts:signInWithIdp",ls(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV="http://localhost";class ll extends uk{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new ll(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):za("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:a}=r,i=ik(r,["providerId","signInMethod"]);if(!n||!a)return null;const l=new ll(n,a);return l.idToken=i.idToken||void 0,l.accessToken=i.accessToken||void 0,l.secret=i.secret,l.nonce=i.nonce,l.pendingToken=i.pendingToken||null,l}_getIdTokenResponse(e){const r=this.buildRequest();return wc(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,wc(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,wc(e,r)}buildRequest(){const e={requestUri:zV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Th(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function HV(t){const e=ld(cd(t)).link,r=e?ld(cd(e)).deep_link_id:null,n=ld(cd(t)).deep_link_id;return(n?ld(cd(n)).link:null)||n||r||e||t}class dk{constructor(e){var r,n,a,i,l,c;const d=ld(cd(e)),h=(r=d.apiKey)!==null&&r!==void 0?r:null,p=(n=d.oobCode)!==null&&n!==void 0?n:null,m=WV((a=d.mode)!==null&&a!==void 0?a:null);Ke(h&&p&&m,"argument-error"),this.apiKey=h,this.operation=m,this.code=p,this.continueUrl=(i=d.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(l=d.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(c=d.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const r=HV(e);try{return new dk(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(){this.providerId=su.PROVIDER_ID}static credential(e,r){return Od._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=dk.parseLink(r);return Ke(n,"argument-error"),Od._fromEmailAndCode(e,n.code,n.tenantId)}}su.PROVIDER_ID="password";su.EMAIL_PASSWORD_SIGN_IN_METHOD="password";su.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah extends CD{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us extends Ah{constructor(){super("facebook.com")}static credential(e){return ll._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Us.credentialFromTaggedObject(e)}static credentialFromError(e){return Us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Us.credential(e.oauthAccessToken)}catch{return null}}}Us.FACEBOOK_SIGN_IN_METHOD="facebook.com";Us.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends Ah{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return ll._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return qs.credential(r,n)}catch{return null}}}qs.GOOGLE_SIGN_IN_METHOD="google.com";qs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs extends Ah{constructor(){super("github.com")}static credential(e){return ll._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zs.credential(e.oauthAccessToken)}catch{return null}}}zs.GITHUB_SIGN_IN_METHOD="github.com";zs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws extends Ah{constructor(){super("twitter.com")}static credential(e,r){return ll._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Ws.credential(r,n)}catch{return null}}}Ws.TWITTER_SIGN_IN_METHOD="twitter.com";Ws.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PD(t,e){return iu(t,"POST","/v1/accounts:signUp",ls(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,a=!1){const i=await Hi._fromIdTokenResponse(e,n,a),l=XT(n);return new pi({user:i,providerId:l,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const a=XT(n);return new pi({user:e,providerId:a,_tokenResponse:n,operationType:r})}}function XT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GV(t){var e;if(ba(t.app))return Promise.reject(Va(t));const r=cs(t);if(await r._initializationPromise,!((e=r.currentUser)===null||e===void 0)&&e.isAnonymous)return new pi({user:r.currentUser,providerId:null,operationType:"signIn"});const n=await PD(r,{returnSecureToken:!0}),a=await pi._fromIdTokenResponse(r,"signIn",n,!0);return await r._updateCurrentUser(a.user),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp extends xi{constructor(e,r,n,a){var i;super(r.code,r.message),this.operationType=n,this.user=a,Object.setPrototypeOf(this,Xp.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,a){return new Xp(e,r,n,a)}}function ID(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Xp._fromErrorAndOperation(t,i,e,n):i})}async function KV(t,e,r=!1){const n=await Id(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return pi._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YV(t,e,r=!1){const{auth:n}=t;if(ba(n.app))return Promise.reject(Va(n));const a="reauthenticate";try{const i=await Id(t,ID(n,a,e,t),r);Ke(i.idToken,n,"internal-error");const l=lk(i.idToken);Ke(l,n,"internal-error");const{sub:c}=l;return Ke(t.uid===c,n,"user-mismatch"),pi._forOperation(t,a,i)}catch(i){throw i?.code==="auth/user-not-found"&&za(n,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OD(t,e,r=!1){if(ba(t.app))return Promise.reject(Va(t));const n="signIn",a=await ID(t,n,e),i=await pi._fromIdTokenResponse(t,n,a);return r||await t._updateCurrentUser(i.user),i}async function XV(t,e){return OD(cs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QV(t,e){return iu(t,"POST","/v1/accounts:signInWithCustomToken",ls(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JV(t,e){if(ba(t.app))return Promise.reject(Va(t));const r=cs(t),n=await QV(r,{token:e,returnSecureToken:!0}),a=await pi._fromIdTokenResponse(r,"signIn",n);return await r._updateCurrentUser(a.user),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RD(t){const e=cs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ZV(t,e,r){if(ba(t.app))return Promise.reject(Va(t));const n=cs(t),l=await h_(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",PD).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&RD(t),d}),c=await pi._fromIdTokenResponse(n,"signIn",l);return await n._updateCurrentUser(c.user),c}function e9(t,e,r){return ba(t.app)?Promise.reject(Va(t)):XV(Bt(t),su.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&RD(t),n})}function t9(t,e,r,n){return Bt(t).onIdTokenChanged(e,r,n)}function r9(t,e,r){return Bt(t).beforeAuthStateChanged(e,r)}function n9(t,e,r,n){return Bt(t).onAuthStateChanged(e,r,n)}function a9(t){return Bt(t).signOut()}const Qp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Qp,"1"),this.storage.removeItem(Qp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i9=1e3,s9=10;class MD extends DD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=SD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),a=this.localCache[r];n!==a&&e(r,a,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const n=e.key;r?this.detachListener():this.stopPolling();const a=()=>{const l=this.storage.getItem(n);!r&&this.localCache[n]===l||this.notifyListeners(n,l)},i=this.storage.getItem(n);_V()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,s9):a()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const a of Array.from(n))a(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},i9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}MD.type="LOCAL";const o9=MD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD extends DD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}LD.type="SESSION";const $D=LD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(a=>a.isListeningto(e));if(r)return r;const n=new c0(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:a,data:i}=r.data,l=this.handlersMap[a];if(!l?.size)return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:a});const c=Array.from(l).map(async h=>h(r.origin,i)),d=await l9(c);r.ports[0].postMessage({status:"done",eventId:n,eventType:a,response:d})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}c0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let i,l;return new Promise((c,d)=>{const h=hk("",20);a.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},n);l={messageChannel:a,onMessage(m){const y=m;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(p),i=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),c(y.data.response);break;default:clearTimeout(p),clearTimeout(i),d(new Error("invalid_response"));break}}},this.handlers.add(l),a.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:r},[a.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(){return window}function u9(t){ci().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(){return typeof ci().WorkerGlobalScope<"u"&&typeof ci().importScripts=="function"}async function d9(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function h9(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function f9(){return FD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD="firebaseLocalStorageDb",p9=1,Jp="firebaseLocalStorage",BD="fbase_key";class Ch{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function u0(t,e){return t.transaction([Jp],e?"readwrite":"readonly").objectStore(Jp)}function m9(){const t=indexedDB.deleteDatabase(VD);return new Ch(t).toPromise()}function f_(){const t=indexedDB.open(VD,p9);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Jp,{keyPath:BD})}catch(a){r(a)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Jp)?e(n):(n.close(),await m9(),e(await f_()))})})}async function QT(t,e,r){const n=u0(t,!0).put({[BD]:e,value:r});return new Ch(n).toPromise()}async function g9(t,e){const r=u0(t,!1).get(e),n=await new Ch(r).toPromise();return n===void 0?null:n.value}function JT(t,e){const r=u0(t,!0).delete(e);return new Ch(r).toPromise()}const v9=800,y9=3;class UD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await f_(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>y9)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return FD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=c0._getInstance(f9()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await d9(),!this.activeServiceWorker)return;this.sender=new c9(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||h9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await f_();return await QT(e,Qp,"1"),await JT(e,Qp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>QT(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>g9(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>JT(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const i=u0(a,!1).getAll();return new Ch(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:a,value:i}of e)n.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(i)&&(this.notifyListeners(a,i),r.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!n.has(a)&&(this.notifyListeners(a,null),r.push(a));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const a of Array.from(n))a(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),v9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}UD.type="LOCAL";const x9=UD;new Eh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b9(t,e){return e?Gi(e):(Ke(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk extends uk{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wc(e,this._buildIdpRequest())}_linkToIdToken(e,r){return wc(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return wc(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function w9(t){return OD(t.auth,new fk(t),t.bypassAuthState)}function _9(t){const{auth:e,user:r}=t;return Ke(r,e,"internal-error"),YV(r,new fk(t),t.bypassAuthState)}async function k9(t){const{auth:e,user:r}=t;return Ke(r,e,"internal-error"),KV(r,new fk(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e,r,n,a,i=!1){this.auth=e,this.resolver=n,this.user=a,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:a,tenantId:i,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:r,sessionId:n,tenantId:i||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return w9;case"linkViaPopup":case"linkViaRedirect":return k9;case"reauthViaPopup":case"reauthViaRedirect":return _9;default:za(this.auth,"internal-error")}}resolve(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j9=new Eh(2e3,1e4);class fc extends qD{constructor(e,r,n,a,i){super(e,r,a,i),this.provider=n,this.authWindow=null,this.pollId=null,fc.currentPopupAction&&fc.currentPopupAction.cancel(),fc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ke(e,this.auth,"internal-error"),e}async onExecution(){es(this.filter.length===1,"Popup operations only handle one event");const e=hk();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,j9.get())};e()}}fc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N9="pendingRedirect",Mp=new Map;class S9 extends qD{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Mp.get(this.auth._key());if(!e){try{const n=await T9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Mp.set(this.auth._key(),e)}return this.bypassAuthState||Mp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function T9(t,e){const r=C9(e),n=A9(t);if(!await n._isAvailable())return!1;const a=await n._get(r)==="true";return await n._remove(r),a}function E9(t,e){Mp.set(t._key(),e)}function A9(t){return Gi(t._redirectPersistence)}function C9(t){return Dp(N9,t.config.apiKey,t.name)}async function P9(t,e,r=!1){if(ba(t.app))return Promise.reject(Va(t));const n=cs(t),a=b9(n,e),l=await new S9(n,a,r).execute();return l&&!r&&(delete l.user._redirectEventId,await n._persistUserIfCurrent(l.user),await n._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I9=10*60*1e3;class O9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!R9(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!zD(e)){const a=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(li(this.auth,a))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=I9&&this.cachedEventUids.clear(),this.cachedEventUids.has(ZT(e))}saveEventToCache(e){this.cachedEventUids.add(ZT(e)),this.lastProcessedEventTime=Date.now()}}function ZT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function zD({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function R9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D9(t,e={}){return lo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,L9=/^https?/;async function $9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await D9(t);for(const r of e)try{if(F9(r))return}catch{}za(t,"unauthorized-domain")}function F9(t){const e=u_(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&l.hostname===n}if(!L9.test(r))return!1;if(M9.test(t))return n===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V9=new Eh(3e4,6e4);function eE(){const t=ci().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function B9(t){return new Promise((e,r)=>{var n,a,i;function l(){eE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{eE(),r(li(t,"network-request-failed"))},timeout:V9.get()})}if(!((a=(n=ci().gapi)===null||n===void 0?void 0:n.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((i=ci().gapi)===null||i===void 0)&&i.load)l();else{const c=PV("iframefcb");return ci()[c]=()=>{gapi.load?l():r(li(t,"network-request-failed"))},ED(`${CV()}?onload=${c}`).catch(d=>r(d))}}).catch(e=>{throw Lp=null,e})}let Lp=null;function U9(t){return Lp=Lp||B9(t),Lp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q9=new Eh(5e3,15e3),z9="__/auth/iframe",W9="emulator/auth/iframe",H9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},G9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function K9(t){const e=t.config;Ke(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?ok(e,W9):`https://${t.config.authDomain}/${z9}`,n={apiKey:e.apiKey,appName:t.name,v:xl},a=G9.get(t.config.apiHost);a&&(n.eid=a);const i=t._getFrameworks();return i.length&&(n.fw=i.join(",")),`${r}?${Th(n).slice(1)}`}async function Y9(t){const e=await U9(t),r=ci().gapi;return Ke(r,t,"internal-error"),e.open({where:document.body,url:K9(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:H9,dontclear:!0},n=>new Promise(async(a,i)=>{await n.restyle({setHideOnLeave:!1});const l=li(t,"network-request-failed"),c=ci().setTimeout(()=>{i(l)},q9.get());function d(){ci().clearTimeout(c),a(n)}n.ping(d).then(d,()=>{i(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Q9=500,J9=600,Z9="_blank",eB="http://localhost";class tE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tB(t,e,r,n=Q9,a=J9){const i=Math.max((window.screen.availHeight-a)/2,0).toString(),l=Math.max((window.screen.availWidth-n)/2,0).toString();let c="";const d=Object.assign(Object.assign({},X9),{width:n.toString(),height:a.toString(),top:i,left:l}),h=sn().toLowerCase();r&&(c=wD(h)?Z9:r),xD(h)&&(e=e||eB,d.scrollbars="yes");const p=Object.entries(d).reduce((y,[x,k])=>`${y}${x}=${k},`,"");if(wV(h)&&c!=="_self")return rB(e||"",c),new tE(null);const m=window.open(e||"",c,p);Ke(m,t,"popup-blocked");try{m.focus()}catch{}return new tE(m)}function rB(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nB="__/auth/handler",aB="emulator/auth/handler",iB=encodeURIComponent("fac");async function rE(t,e,r,n,a,i){Ke(t.config.authDomain,t,"auth-domain-config-required"),Ke(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:xl,eventId:a};if(e instanceof CD){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",q5(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,m]of Object.entries({}))l[p]=m}if(e instanceof Ah){const p=e.getScopes().filter(m=>m!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const d=await t._getAppCheckToken(),h=d?`#${iB}=${encodeURIComponent(d)}`:"";return`${sB(t)}?${Th(c).slice(1)}${h}`}function sB({config:t}){return t.emulator?ok(t,aB):`https://${t.authDomain}/${nB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv="webStorageSupport";class oB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$D,this._completeRedirectFn=P9,this._overrideRedirectResult=E9}async _openPopup(e,r,n,a){var i;es((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const l=await rE(e,r,n,u_(),a);return tB(e,l,hk())}async _openRedirect(e,r,n,a){await this._originValidation(e);const i=await rE(e,r,n,u_(),a);return u9(i),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:a,promise:i}=this.eventManagers[r];return a?Promise.resolve(a):(es(i,"If manager is not set, promise should be"),i)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await Y9(e),n=new O9(e);return r.register("authEvent",a=>(Ke(a?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Yv,{type:Yv},a=>{var i;const l=(i=a?.[0])===null||i===void 0?void 0:i[Yv];l!==void 0&&r(!!l),za(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=$9(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return SD()||bD()||ck()}}const lB=oB;var nE="@firebase/auth",aE="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dB(t){ol(new ao("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=n.options;Ke(l&&!l.includes(":"),"invalid-api-key",{appName:n.name});const d={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TD(t)},h=new TV(n,a,i,d);return MV(h,r),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),ol(new ao("auth-internal",e=>{const r=cs(e.getProvider("auth").getImmediate());return(n=>new cB(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),oi(nE,aE,uB(t)),oi(nE,aE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hB=5*60,fB=aD("authIdTokenMaxAge")||hB;let iE=null;const pB=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>fB)return;const a=r?.token;iE!==a&&(iE=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function pk(t=ak()){const e=o0(t,"auth");if(e.isInitialized())return e.getImmediate();const r=DV(t,{popupRedirectResolver:lB,persistence:[x9,o9,$D]}),n=aD("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(n,location.origin);if(location.origin===i.origin){const l=pB(i.toString());r9(r,l,()=>l(r.currentUser)),t9(r,c=>l(c))}}const a=tD("auth");return a&&LV(r,`http://${a}`),r}function mB(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}EV({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=a=>{const i=li("internal-error");i.customData=a,r(i)},n.type="text/javascript",n.charset="UTF-8",mB().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dB("Browser");var sE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rl,WD;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,I){function L(){}L.prototype=I.prototype,A.D=I.prototype,A.prototype=new L,A.prototype.constructor=A,A.C=function(O,D,F){for(var $=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)$[ae-2]=arguments[ae];return I.prototype[D].apply(O,$)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(A,I,L){L||(L=0);var O=Array(16);if(typeof I=="string")for(var D=0;16>D;++D)O[D]=I.charCodeAt(L++)|I.charCodeAt(L++)<<8|I.charCodeAt(L++)<<16|I.charCodeAt(L++)<<24;else for(D=0;16>D;++D)O[D]=I[L++]|I[L++]<<8|I[L++]<<16|I[L++]<<24;I=A.g[0],L=A.g[1],D=A.g[2];var F=A.g[3],$=I+(F^L&(D^F))+O[0]+3614090360&4294967295;I=L+($<<7&4294967295|$>>>25),$=F+(D^I&(L^D))+O[1]+3905402710&4294967295,F=I+($<<12&4294967295|$>>>20),$=D+(L^F&(I^L))+O[2]+606105819&4294967295,D=F+($<<17&4294967295|$>>>15),$=L+(I^D&(F^I))+O[3]+3250441966&4294967295,L=D+($<<22&4294967295|$>>>10),$=I+(F^L&(D^F))+O[4]+4118548399&4294967295,I=L+($<<7&4294967295|$>>>25),$=F+(D^I&(L^D))+O[5]+1200080426&4294967295,F=I+($<<12&4294967295|$>>>20),$=D+(L^F&(I^L))+O[6]+2821735955&4294967295,D=F+($<<17&4294967295|$>>>15),$=L+(I^D&(F^I))+O[7]+4249261313&4294967295,L=D+($<<22&4294967295|$>>>10),$=I+(F^L&(D^F))+O[8]+1770035416&4294967295,I=L+($<<7&4294967295|$>>>25),$=F+(D^I&(L^D))+O[9]+2336552879&4294967295,F=I+($<<12&4294967295|$>>>20),$=D+(L^F&(I^L))+O[10]+4294925233&4294967295,D=F+($<<17&4294967295|$>>>15),$=L+(I^D&(F^I))+O[11]+2304563134&4294967295,L=D+($<<22&4294967295|$>>>10),$=I+(F^L&(D^F))+O[12]+1804603682&4294967295,I=L+($<<7&4294967295|$>>>25),$=F+(D^I&(L^D))+O[13]+4254626195&4294967295,F=I+($<<12&4294967295|$>>>20),$=D+(L^F&(I^L))+O[14]+2792965006&4294967295,D=F+($<<17&4294967295|$>>>15),$=L+(I^D&(F^I))+O[15]+1236535329&4294967295,L=D+($<<22&4294967295|$>>>10),$=I+(D^F&(L^D))+O[1]+4129170786&4294967295,I=L+($<<5&4294967295|$>>>27),$=F+(L^D&(I^L))+O[6]+3225465664&4294967295,F=I+($<<9&4294967295|$>>>23),$=D+(I^L&(F^I))+O[11]+643717713&4294967295,D=F+($<<14&4294967295|$>>>18),$=L+(F^I&(D^F))+O[0]+3921069994&4294967295,L=D+($<<20&4294967295|$>>>12),$=I+(D^F&(L^D))+O[5]+3593408605&4294967295,I=L+($<<5&4294967295|$>>>27),$=F+(L^D&(I^L))+O[10]+38016083&4294967295,F=I+($<<9&4294967295|$>>>23),$=D+(I^L&(F^I))+O[15]+3634488961&4294967295,D=F+($<<14&4294967295|$>>>18),$=L+(F^I&(D^F))+O[4]+3889429448&4294967295,L=D+($<<20&4294967295|$>>>12),$=I+(D^F&(L^D))+O[9]+568446438&4294967295,I=L+($<<5&4294967295|$>>>27),$=F+(L^D&(I^L))+O[14]+3275163606&4294967295,F=I+($<<9&4294967295|$>>>23),$=D+(I^L&(F^I))+O[3]+4107603335&4294967295,D=F+($<<14&4294967295|$>>>18),$=L+(F^I&(D^F))+O[8]+1163531501&4294967295,L=D+($<<20&4294967295|$>>>12),$=I+(D^F&(L^D))+O[13]+2850285829&4294967295,I=L+($<<5&4294967295|$>>>27),$=F+(L^D&(I^L))+O[2]+4243563512&4294967295,F=I+($<<9&4294967295|$>>>23),$=D+(I^L&(F^I))+O[7]+1735328473&4294967295,D=F+($<<14&4294967295|$>>>18),$=L+(F^I&(D^F))+O[12]+2368359562&4294967295,L=D+($<<20&4294967295|$>>>12),$=I+(L^D^F)+O[5]+4294588738&4294967295,I=L+($<<4&4294967295|$>>>28),$=F+(I^L^D)+O[8]+2272392833&4294967295,F=I+($<<11&4294967295|$>>>21),$=D+(F^I^L)+O[11]+1839030562&4294967295,D=F+($<<16&4294967295|$>>>16),$=L+(D^F^I)+O[14]+4259657740&4294967295,L=D+($<<23&4294967295|$>>>9),$=I+(L^D^F)+O[1]+2763975236&4294967295,I=L+($<<4&4294967295|$>>>28),$=F+(I^L^D)+O[4]+1272893353&4294967295,F=I+($<<11&4294967295|$>>>21),$=D+(F^I^L)+O[7]+4139469664&4294967295,D=F+($<<16&4294967295|$>>>16),$=L+(D^F^I)+O[10]+3200236656&4294967295,L=D+($<<23&4294967295|$>>>9),$=I+(L^D^F)+O[13]+681279174&4294967295,I=L+($<<4&4294967295|$>>>28),$=F+(I^L^D)+O[0]+3936430074&4294967295,F=I+($<<11&4294967295|$>>>21),$=D+(F^I^L)+O[3]+3572445317&4294967295,D=F+($<<16&4294967295|$>>>16),$=L+(D^F^I)+O[6]+76029189&4294967295,L=D+($<<23&4294967295|$>>>9),$=I+(L^D^F)+O[9]+3654602809&4294967295,I=L+($<<4&4294967295|$>>>28),$=F+(I^L^D)+O[12]+3873151461&4294967295,F=I+($<<11&4294967295|$>>>21),$=D+(F^I^L)+O[15]+530742520&4294967295,D=F+($<<16&4294967295|$>>>16),$=L+(D^F^I)+O[2]+3299628645&4294967295,L=D+($<<23&4294967295|$>>>9),$=I+(D^(L|~F))+O[0]+4096336452&4294967295,I=L+($<<6&4294967295|$>>>26),$=F+(L^(I|~D))+O[7]+1126891415&4294967295,F=I+($<<10&4294967295|$>>>22),$=D+(I^(F|~L))+O[14]+2878612391&4294967295,D=F+($<<15&4294967295|$>>>17),$=L+(F^(D|~I))+O[5]+4237533241&4294967295,L=D+($<<21&4294967295|$>>>11),$=I+(D^(L|~F))+O[12]+1700485571&4294967295,I=L+($<<6&4294967295|$>>>26),$=F+(L^(I|~D))+O[3]+2399980690&4294967295,F=I+($<<10&4294967295|$>>>22),$=D+(I^(F|~L))+O[10]+4293915773&4294967295,D=F+($<<15&4294967295|$>>>17),$=L+(F^(D|~I))+O[1]+2240044497&4294967295,L=D+($<<21&4294967295|$>>>11),$=I+(D^(L|~F))+O[8]+1873313359&4294967295,I=L+($<<6&4294967295|$>>>26),$=F+(L^(I|~D))+O[15]+4264355552&4294967295,F=I+($<<10&4294967295|$>>>22),$=D+(I^(F|~L))+O[6]+2734768916&4294967295,D=F+($<<15&4294967295|$>>>17),$=L+(F^(D|~I))+O[13]+1309151649&4294967295,L=D+($<<21&4294967295|$>>>11),$=I+(D^(L|~F))+O[4]+4149444226&4294967295,I=L+($<<6&4294967295|$>>>26),$=F+(L^(I|~D))+O[11]+3174756917&4294967295,F=I+($<<10&4294967295|$>>>22),$=D+(I^(F|~L))+O[2]+718787259&4294967295,D=F+($<<15&4294967295|$>>>17),$=L+(F^(D|~I))+O[9]+3951481745&4294967295,A.g[0]=A.g[0]+I&4294967295,A.g[1]=A.g[1]+(D+($<<21&4294967295|$>>>11))&4294967295,A.g[2]=A.g[2]+D&4294967295,A.g[3]=A.g[3]+F&4294967295}n.prototype.u=function(A,I){I===void 0&&(I=A.length);for(var L=I-this.blockSize,O=this.B,D=this.h,F=0;F<I;){if(D==0)for(;F<=L;)a(this,A,F),F+=this.blockSize;if(typeof A=="string"){for(;F<I;)if(O[D++]=A.charCodeAt(F++),D==this.blockSize){a(this,O),D=0;break}}else for(;F<I;)if(O[D++]=A[F++],D==this.blockSize){a(this,O),D=0;break}}this.h=D,this.o+=I},n.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var I=1;I<A.length-8;++I)A[I]=0;var L=8*this.o;for(I=A.length-8;I<A.length;++I)A[I]=L&255,L/=256;for(this.u(A),A=Array(16),I=L=0;4>I;++I)for(var O=0;32>O;O+=8)A[L++]=this.g[I]>>>O&255;return A};function i(A,I){var L=c;return Object.prototype.hasOwnProperty.call(L,A)?L[A]:L[A]=I(A)}function l(A,I){this.h=I;for(var L=[],O=!0,D=A.length-1;0<=D;D--){var F=A[D]|0;O&&F==I||(L[D]=F,O=!1)}this.g=L}var c={};function d(A){return-128<=A&&128>A?i(A,function(I){return new l([I|0],0>I?-1:0)}):new l([A|0],0>A?-1:0)}function h(A){if(isNaN(A)||!isFinite(A))return m;if(0>A)return b(h(-A));for(var I=[],L=1,O=0;A>=L;O++)I[O]=A/L|0,L*=4294967296;return new l(I,0)}function p(A,I){if(A.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(A.charAt(0)=="-")return b(p(A.substring(1),I));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var L=h(Math.pow(I,8)),O=m,D=0;D<A.length;D+=8){var F=Math.min(8,A.length-D),$=parseInt(A.substring(D,D+F),I);8>F?(F=h(Math.pow(I,F)),O=O.j(F).add(h($))):(O=O.j(L),O=O.add(h($)))}return O}var m=d(0),y=d(1),x=d(16777216);t=l.prototype,t.m=function(){if(w(this))return-b(this).m();for(var A=0,I=1,L=0;L<this.g.length;L++){var O=this.i(L);A+=(0<=O?O:4294967296+O)*I,I*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(k(this))return"0";if(w(this))return"-"+b(this).toString(A);for(var I=h(Math.pow(A,6)),L=this,O="";;){var D=R(L,I).g;L=N(L,D.j(I));var F=((0<L.g.length?L.g[0]:L.h)>>>0).toString(A);if(L=D,k(L))return F+O;for(;6>F.length;)F="0"+F;O=F+O}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function k(A){if(A.h!=0)return!1;for(var I=0;I<A.g.length;I++)if(A.g[I]!=0)return!1;return!0}function w(A){return A.h==-1}t.l=function(A){return A=N(this,A),w(A)?-1:k(A)?0:1};function b(A){for(var I=A.g.length,L=[],O=0;O<I;O++)L[O]=~A.g[O];return new l(L,~A.h).add(y)}t.abs=function(){return w(this)?b(this):this},t.add=function(A){for(var I=Math.max(this.g.length,A.g.length),L=[],O=0,D=0;D<=I;D++){var F=O+(this.i(D)&65535)+(A.i(D)&65535),$=(F>>>16)+(this.i(D)>>>16)+(A.i(D)>>>16);O=$>>>16,F&=65535,$&=65535,L[D]=$<<16|F}return new l(L,L[L.length-1]&-2147483648?-1:0)};function N(A,I){return A.add(b(I))}t.j=function(A){if(k(this)||k(A))return m;if(w(this))return w(A)?b(this).j(b(A)):b(b(this).j(A));if(w(A))return b(this.j(b(A)));if(0>this.l(x)&&0>A.l(x))return h(this.m()*A.m());for(var I=this.g.length+A.g.length,L=[],O=0;O<2*I;O++)L[O]=0;for(O=0;O<this.g.length;O++)for(var D=0;D<A.g.length;D++){var F=this.i(O)>>>16,$=this.i(O)&65535,ae=A.i(D)>>>16,ee=A.i(D)&65535;L[2*O+2*D]+=$*ee,E(L,2*O+2*D),L[2*O+2*D+1]+=F*ee,E(L,2*O+2*D+1),L[2*O+2*D+1]+=$*ae,E(L,2*O+2*D+1),L[2*O+2*D+2]+=F*ae,E(L,2*O+2*D+2)}for(O=0;O<I;O++)L[O]=L[2*O+1]<<16|L[2*O];for(O=I;O<2*I;O++)L[O]=0;return new l(L,0)};function E(A,I){for(;(A[I]&65535)!=A[I];)A[I+1]+=A[I]>>>16,A[I]&=65535,I++}function P(A,I){this.g=A,this.h=I}function R(A,I){if(k(I))throw Error("division by zero");if(k(A))return new P(m,m);if(w(A))return I=R(b(A),I),new P(b(I.g),b(I.h));if(w(I))return I=R(A,b(I)),new P(b(I.g),I.h);if(30<A.g.length){if(w(A)||w(I))throw Error("slowDivide_ only works with positive integers.");for(var L=y,O=I;0>=O.l(A);)L=j(L),O=j(O);var D=C(L,1),F=C(O,1);for(O=C(O,2),L=C(L,2);!k(O);){var $=F.add(O);0>=$.l(A)&&(D=D.add(L),F=$),O=C(O,1),L=C(L,1)}return I=N(A,D.j(I)),new P(D,I)}for(D=m;0<=A.l(I);){for(L=Math.max(1,Math.floor(A.m()/I.m())),O=Math.ceil(Math.log(L)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),F=h(L),$=F.j(I);w($)||0<$.l(A);)L-=O,F=h(L),$=F.j(I);k(F)&&(F=y),D=D.add(F),A=N(A,$)}return new P(D,A)}t.A=function(A){return R(this,A).h},t.and=function(A){for(var I=Math.max(this.g.length,A.g.length),L=[],O=0;O<I;O++)L[O]=this.i(O)&A.i(O);return new l(L,this.h&A.h)},t.or=function(A){for(var I=Math.max(this.g.length,A.g.length),L=[],O=0;O<I;O++)L[O]=this.i(O)|A.i(O);return new l(L,this.h|A.h)},t.xor=function(A){for(var I=Math.max(this.g.length,A.g.length),L=[],O=0;O<I;O++)L[O]=this.i(O)^A.i(O);return new l(L,this.h^A.h)};function j(A){for(var I=A.g.length+1,L=[],O=0;O<I;O++)L[O]=A.i(O)<<1|A.i(O-1)>>>31;return new l(L,A.h)}function C(A,I){var L=I>>5;I%=32;for(var O=A.g.length-L,D=[],F=0;F<O;F++)D[F]=0<I?A.i(F+L)>>>I|A.i(F+L+1)<<32-I:A.i(F+L);return new l(D,A.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,WD=n,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=p,rl=l}).apply(typeof sE<"u"?sE:typeof self<"u"?self:typeof window<"u"?window:{});var pp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var HD,ud,GD,$p,p_,KD,YD,XD;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,S,M){return g==Array.prototype||g==Object.prototype||(g[S]=M.value),g};function r(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof pp=="object"&&pp];for(var S=0;S<g.length;++S){var M=g[S];if(M&&M.Math==Math)return M}throw Error("Cannot find global object")}var n=r(this);function a(g,S){if(S)e:{var M=n;g=g.split(".");for(var U=0;U<g.length-1;U++){var ie=g[U];if(!(ie in M))break e;M=M[ie]}g=g[g.length-1],U=M[g],S=S(U),S!=U&&S!=null&&e(M,g,{configurable:!0,writable:!0,value:S})}}function i(g,S){g instanceof String&&(g+="");var M=0,U=!1,ie={next:function(){if(!U&&M<g.length){var pe=M++;return{value:S(pe,g[pe]),done:!1}}return U=!0,{done:!0,value:void 0}}};return ie[Symbol.iterator]=function(){return ie},ie}a("Array.prototype.values",function(g){return g||function(){return i(this,function(S,M){return M})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(g){var S=typeof g;return S=S!="object"?S:g?Array.isArray(g)?"array":S:"null",S=="array"||S=="object"&&typeof g.length=="number"}function h(g){var S=typeof g;return S=="object"&&g!=null||S=="function"}function p(g,S,M){return g.call.apply(g.bind,arguments)}function m(g,S,M){if(!g)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var ie=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ie,U),g.apply(S,ie)}}return function(){return g.apply(S,arguments)}}function y(g,S,M){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:m,y.apply(null,arguments)}function x(g,S){var M=Array.prototype.slice.call(arguments,1);return function(){var U=M.slice();return U.push.apply(U,arguments),g.apply(this,U)}}function k(g,S){function M(){}M.prototype=S.prototype,g.aa=S.prototype,g.prototype=new M,g.prototype.constructor=g,g.Qb=function(U,ie,pe){for(var Ae=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)Ae[bt-2]=arguments[bt];return S.prototype[ie].apply(U,Ae)}}function w(g){const S=g.length;if(0<S){const M=Array(S);for(let U=0;U<S;U++)M[U]=g[U];return M}return[]}function b(g,S){for(let M=1;M<arguments.length;M++){const U=arguments[M];if(d(U)){const ie=g.length||0,pe=U.length||0;g.length=ie+pe;for(let Ae=0;Ae<pe;Ae++)g[ie+Ae]=U[Ae]}else g.push(U)}}class N{constructor(S,M){this.i=S,this.j=M,this.h=0,this.g=null}get(){let S;return 0<this.h?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function E(g){return/^[\s\xa0]*$/.test(g)}function P(){var g=c.navigator;return g&&(g=g.userAgent)?g:""}function R(g){return R[" "](g),g}R[" "]=function(){};var j=P().indexOf("Gecko")!=-1&&!(P().toLowerCase().indexOf("webkit")!=-1&&P().indexOf("Edge")==-1)&&!(P().indexOf("Trident")!=-1||P().indexOf("MSIE")!=-1)&&P().indexOf("Edge")==-1;function C(g,S,M){for(const U in g)S.call(M,g[U],U,g)}function A(g,S){for(const M in g)S.call(void 0,g[M],M,g)}function I(g){const S={};for(const M in g)S[M]=g[M];return S}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(g,S){let M,U;for(let ie=1;ie<arguments.length;ie++){U=arguments[ie];for(M in U)g[M]=U[M];for(let pe=0;pe<L.length;pe++)M=L[pe],Object.prototype.hasOwnProperty.call(U,M)&&(g[M]=U[M])}}function D(g){var S=1;g=g.split(":");const M=[];for(;0<S&&g.length;)M.push(g.shift()),S--;return g.length&&M.push(g.join(":")),M}function F(g){c.setTimeout(()=>{throw g},0)}function $(){var g=Z;let S=null;return g.g&&(S=g.g,g.g=g.g.next,g.g||(g.h=null),S.next=null),S}class ae{constructor(){this.h=this.g=null}add(S,M){const U=ee.get();U.set(S,M),this.h?this.h.next=U:this.g=U,this.h=U}}var ee=new N(()=>new G,g=>g.reset());class G{constructor(){this.next=this.g=this.h=null}set(S,M){this.h=S,this.g=M,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,Q=!1,Z=new ae,re=()=>{const g=c.Promise.resolve(void 0);ne=()=>{g.then(W)}};var W=()=>{for(var g;g=$();){try{g.h.call(g.g)}catch(M){F(M)}var S=ee;S.j(g),100>S.h&&(S.h++,g.next=S.g,S.g=g)}Q=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(g,S){this.type=g,this.g=this.target=S,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var le=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var g=!1,S=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const M=()=>{};c.addEventListener("test",M,S),c.removeEventListener("test",M,S)}catch{}return g}();function ge(g,S){if(X.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var M=this.type=g.type,U=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=S,S=g.relatedTarget){if(j){e:{try{R(S.nodeName);var ie=!0;break e}catch{}ie=!1}ie||(S=null)}}else M=="mouseover"?S=g.fromElement:M=="mouseout"&&(S=g.toElement);this.relatedTarget=S,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:he[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&ge.aa.h.call(this)}}k(ge,X);var he={2:"touch",3:"pen",4:"mouse"};ge.prototype.h=function(){ge.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var de="closure_listenable_"+(1e6*Math.random()|0),be=0;function z(g,S,M,U,ie){this.listener=g,this.proxy=null,this.src=S,this.type=M,this.capture=!!U,this.ha=ie,this.key=++be,this.da=this.fa=!1}function me(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function xe(g){this.src=g,this.g={},this.h=0}xe.prototype.add=function(g,S,M,U,ie){var pe=g.toString();g=this.g[pe],g||(g=this.g[pe]=[],this.h++);var Ae=ue(g,S,U,ie);return-1<Ae?(S=g[Ae],M||(S.fa=!1)):(S=new z(S,this.src,pe,!!U,ie),S.fa=M,g.push(S)),S};function q(g,S){var M=S.type;if(M in g.g){var U=g.g[M],ie=Array.prototype.indexOf.call(U,S,void 0),pe;(pe=0<=ie)&&Array.prototype.splice.call(U,ie,1),pe&&(me(S),g.g[M].length==0&&(delete g.g[M],g.h--))}}function ue(g,S,M,U){for(var ie=0;ie<g.length;++ie){var pe=g[ie];if(!pe.da&&pe.listener==S&&pe.capture==!!M&&pe.ha==U)return ie}return-1}var _e="closure_lm_"+(1e6*Math.random()|0),Ie={};function Ue(g,S,M,U,ie){if(Array.isArray(S)){for(var pe=0;pe<S.length;pe++)Ue(g,S[pe],M,U,ie);return null}return M=Ln(M),g&&g[de]?g.K(S,M,h(U)?!!U.capture:!1,ie):tr(g,S,M,!1,U,ie)}function tr(g,S,M,U,ie,pe){if(!S)throw Error("Invalid event type");var Ae=h(ie)?!!ie.capture:!!ie,bt=cn(g);if(bt||(g[_e]=bt=new xe(g)),M=bt.add(S,M,U,Ae,pe),M.proxy)return M;if(U=yr(),M.proxy=U,U.src=g,U.listener=M,g.addEventListener)le||(ie=Ae),ie===void 0&&(ie=!1),g.addEventListener(S.toString(),U,ie);else if(g.attachEvent)g.attachEvent(Mt(S.toString()),U);else if(g.addListener&&g.removeListener)g.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return M}function yr(){function g(M){return S.call(g.src,g.listener,M)}const S=Mr;return g}function ln(g,S,M,U,ie){if(Array.isArray(S))for(var pe=0;pe<S.length;pe++)ln(g,S[pe],M,U,ie);else U=h(U)?!!U.capture:!!U,M=Ln(M),g&&g[de]?(g=g.i,S=String(S).toString(),S in g.g&&(pe=g.g[S],M=ue(pe,M,U,ie),-1<M&&(me(pe[M]),Array.prototype.splice.call(pe,M,1),pe.length==0&&(delete g.g[S],g.h--)))):g&&(g=cn(g))&&(S=g.g[S.toString()],g=-1,S&&(g=ue(S,M,U,ie)),(M=-1<g?S[g]:null)&&Dt(M))}function Dt(g){if(typeof g!="number"&&g&&!g.da){var S=g.src;if(S&&S[de])q(S.i,g);else{var M=g.type,U=g.proxy;S.removeEventListener?S.removeEventListener(M,U,g.capture):S.detachEvent?S.detachEvent(Mt(M),U):S.addListener&&S.removeListener&&S.removeListener(U),(M=cn(S))?(q(M,g),M.h==0&&(M.src=null,S[_e]=null)):me(g)}}}function Mt(g){return g in Ie?Ie[g]:Ie[g]="on"+g}function Mr(g,S){if(g.da)g=!0;else{S=new ge(S,this);var M=g.listener,U=g.ha||g.src;g.fa&&Dt(g),g=M.call(U,S)}return g}function cn(g){return g=g[_e],g instanceof xe?g:null}var dr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ln(g){return typeof g=="function"?g:(g[dr]||(g[dr]=function(S){return g.handleEvent(S)}),g[dr])}function Gt(){J.call(this),this.i=new xe(this),this.M=this,this.F=null}k(Gt,J),Gt.prototype[de]=!0,Gt.prototype.removeEventListener=function(g,S,M,U){ln(this,g,S,M,U)};function Kt(g,S){var M,U=g.F;if(U)for(M=[];U;U=U.F)M.push(U);if(g=g.M,U=S.type||S,typeof S=="string")S=new X(S,g);else if(S instanceof X)S.target=S.target||g;else{var ie=S;S=new X(U,g),O(S,ie)}if(ie=!0,M)for(var pe=M.length-1;0<=pe;pe--){var Ae=S.g=M[pe];ie=$n(Ae,U,!0,S)&&ie}if(Ae=S.g=g,ie=$n(Ae,U,!0,S)&&ie,ie=$n(Ae,U,!1,S)&&ie,M)for(pe=0;pe<M.length;pe++)Ae=S.g=M[pe],ie=$n(Ae,U,!1,S)&&ie}Gt.prototype.N=function(){if(Gt.aa.N.call(this),this.i){var g=this.i,S;for(S in g.g){for(var M=g.g[S],U=0;U<M.length;U++)me(M[U]);delete g.g[S],g.h--}}this.F=null},Gt.prototype.K=function(g,S,M,U){return this.i.add(String(g),S,!1,M,U)},Gt.prototype.L=function(g,S,M,U){return this.i.add(String(g),S,!0,M,U)};function $n(g,S,M,U){if(S=g.i.g[String(S)],!S)return!0;S=S.concat();for(var ie=!0,pe=0;pe<S.length;++pe){var Ae=S[pe];if(Ae&&!Ae.da&&Ae.capture==M){var bt=Ae.listener,br=Ae.ha||Ae.src;Ae.fa&&q(g.i,Ae),ie=bt.call(br,U)!==!1&&ie}}return ie&&!U.defaultPrevented}function gt(g,S,M){if(typeof g=="function")M&&(g=y(g,M));else if(g&&typeof g.handleEvent=="function")g=y(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(S)?-1:c.setTimeout(g,S||0)}function Ga(g){g.g=gt(()=>{g.g=null,g.i&&(g.i=!1,Ga(g))},g.l);const S=g.h;g.h=null,g.m.apply(null,S)}class _i extends J{constructor(S,M){super(),this.m=S,this.l=M,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:Ga(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ki(g){J.call(this),this.h=g,this.g={}}k(ki,J);var wn=[];function vo(g){C(g.g,function(S,M){this.g.hasOwnProperty(M)&&Dt(S)},g),g.g={}}ki.prototype.N=function(){ki.aa.N.call(this),vo(this)},ki.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yo=c.JSON.stringify,ji=c.JSON.parse,ea=class{stringify(g){return c.JSON.stringify(g,void 0)}parse(g){return c.JSON.parse(g,void 0)}};function Ka(){}Ka.prototype.h=null;function ta(g){return g.h||(g.h=g.i())}function ra(){}var _n={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function na(){X.call(this,"d")}k(na,X);function ps(){X.call(this,"c")}k(ps,X);var aa={},xo=null;function Ni(){return xo=xo||new Gt}aa.La="serverreachability";function bo(g){X.call(this,aa.La,g)}k(bo,X);function Ut(g){const S=Ni();Kt(S,new bo(S))}aa.STAT_EVENT="statevent";function wo(g,S){X.call(this,aa.STAT_EVENT,g),this.stat=S}k(wo,X);function Yt(g){const S=Ni();Kt(S,new wo(S,g))}aa.Ma="timingevent";function xr(g,S){X.call(this,aa.Ma,g),this.size=S}k(xr,X);function un(g,S){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){g()},S)}function Si(){this.g=!0}Si.prototype.xa=function(){this.g=!1};function Ti(g,S,M,U,ie,pe){g.info(function(){if(g.g)if(pe)for(var Ae="",bt=pe.split("&"),br=0;br<bt.length;br++){var ct=bt[br].split("=");if(1<ct.length){var Er=ct[0];ct=ct[1];var hr=Er.split("_");Ae=2<=hr.length&&hr[1]=="type"?Ae+(Er+"="+ct+"&"):Ae+(Er+"=redacted&")}}else Ae=null;else Ae=pe;return"XMLHTTP REQ ("+U+") [attempt "+ie+"]: "+S+`
`+M+`
`+Ae})}function fe(g,S,M,U,ie,pe,Ae){g.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+ie+"]: "+S+`
`+M+`
`+pe+" "+Ae})}function ye(g,S,M,U){g.info(function(){return"XMLHTTP TEXT ("+S+"): "+Ce(g,M)+(U?" "+U:"")})}function Ve(g,S){g.info(function(){return"TIMEOUT: "+S})}Si.prototype.info=function(){};function Ce(g,S){if(!g.g)return S;if(!S)return null;try{var M=JSON.parse(S);if(M){for(g=0;g<M.length;g++)if(Array.isArray(M[g])){var U=M[g];if(!(2>U.length)){var ie=U[1];if(Array.isArray(ie)&&!(1>ie.length)){var pe=ie[0];if(pe!="noop"&&pe!="stop"&&pe!="close")for(var Ae=1;Ae<ie.length;Ae++)ie[Ae]=""}}}}return yo(M)}catch{return S}}var He={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Tt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},it;function dt(){}k(dt,Ka),dt.prototype.g=function(){return new XMLHttpRequest},dt.prototype.i=function(){return{}},it=new dt;function qt(g,S,M,U){this.j=g,this.i=S,this.l=M,this.R=U||1,this.U=new ki(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new rt}function rt(){this.i=null,this.g="",this.h=!1}var Et={},At={};function rr(g,S,M){g.L=1,g.v=xs(Bn(S)),g.m=M,g.P=!0,Fn(g,null)}function Fn(g,S){g.F=Date.now(),Ct(g),g.A=Bn(g.v);var M=g.A,U=g.R;Array.isArray(U)||(U=[String(U)]),ws(M.i,"t",U),g.C=0,M=g.j.J,g.h=new rt,g.g=gf(g.j,M?S:null,!g.m),0<g.O&&(g.M=new _i(y(g.Y,g,g.g),g.O)),S=g.U,M=g.g,U=g.ca;var ie="readystatechange";Array.isArray(ie)||(ie&&(wn[0]=ie.toString()),ie=wn);for(var pe=0;pe<ie.length;pe++){var Ae=Ue(M,ie[pe],U||S.handleEvent,!1,S.h||S);if(!Ae)break;S.g[Ae.key]=Ae}S=g.H?I(g.H):{},g.m?(g.u||(g.u="POST"),S["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,S)):(g.u="GET",g.g.ea(g.A,g.u,null,S)),Ut(),Ti(g.i,g.u,g.A,g.l,g.R,g.m)}qt.prototype.ca=function(g){g=g.target;const S=this.M;S&&jn(g)==3?S.j():this.Y(g)},qt.prototype.Y=function(g){try{if(g==this.g)e:{const hr=jn(this.g);var S=this.g.Ba();const la=this.g.Z();if(!(3>hr)&&(hr!=3||this.g&&(this.h.h||this.g.oa()||ku(this.g)))){this.J||hr!=4||S==7||(S==8||0>=la?Ut(3):Ut(2)),_o(this);var M=this.g.Z();this.X=M;t:if(ia(this)){var U=ku(this.g);g="";var ie=U.length,pe=jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sa(this),ms(this);var Ae="";break t}this.h.i=new c.TextDecoder}for(S=0;S<ie;S++)this.h.h=!0,g+=this.h.i.decode(U[S],{stream:!(pe&&S==ie-1)});U.length=0,this.h.g+=g,this.C=0,Ae=this.h.g}else Ae=this.g.oa();if(this.o=M==200,fe(this.i,this.u,this.A,this.l,this.R,hr,M),this.o){if(this.T&&!this.K){t:{if(this.g){var bt,br=this.g;if((bt=br.g?br.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(bt)){var ct=bt;break t}}ct=null}if(M=ct)ye(this.i,this.l,M,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yu(this,M);else{this.o=!1,this.s=3,Yt(12),sa(this),ms(this);break e}}if(this.P){M=!0;let qn;for(;!this.J&&this.C<Ae.length;)if(qn=Xt(this,Ae),qn==At){hr==4&&(this.s=4,Yt(14),M=!1),ye(this.i,this.l,null,"[Incomplete Response]");break}else if(qn==Et){this.s=4,Yt(15),ye(this.i,this.l,Ae,"[Invalid Chunk]"),M=!1;break}else ye(this.i,this.l,qn,null),yu(this,qn);if(ia(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),hr!=4||Ae.length!=0||this.h.h||(this.s=1,Yt(16),M=!1),this.o=this.o&&M,!M)ye(this.i,this.l,Ae,"[Invalid Chunked Response]"),sa(this),ms(this);else if(0<Ae.length&&!this.W){this.W=!0;var Er=this.j;Er.g==this&&Er.ba&&!Er.M&&(Er.j.info("Great, no buffering proxy detected. Bytes received: "+Ae.length),Nu(Er),Er.M=!0,Yt(11))}}else ye(this.i,this.l,Ae,null),yu(this,Ae);hr==4&&sa(this),this.o&&!this.J&&(hr==4?$l(this.j,this):(this.o=!1,Ct(this)))}else Ol(this.g),M==400&&0<Ae.indexOf("Unknown SID")?(this.s=3,Yt(12)):(this.s=0,Yt(13)),sa(this),ms(this)}}}catch{}finally{}};function ia(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function Xt(g,S){var M=g.C,U=S.indexOf(`
`,M);return U==-1?At:(M=Number(S.substring(M,U)),isNaN(M)?Et:(U+=1,U+M>S.length?At:(S=S.slice(U,U+M),g.C=U+M,S)))}qt.prototype.cancel=function(){this.J=!0,sa(this)};function Ct(g){g.S=Date.now()+g.I,Zh(g,g.I)}function Zh(g,S){if(g.B!=null)throw Error("WatchDog timer not null");g.B=un(y(g.ba,g),S)}function _o(g){g.B&&(c.clearTimeout(g.B),g.B=null)}qt.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(Ve(this.i,this.A),this.L!=2&&(Ut(),Yt(17)),sa(this),this.s=2,ms(this)):Zh(this,this.S-g)};function ms(g){g.j.G==0||g.J||$l(g.j,g)}function sa(g){_o(g);var S=g.M;S&&typeof S.ma=="function"&&S.ma(),g.M=null,vo(g.U),g.g&&(S=g.g,g.g=null,S.abort(),S.ma())}function yu(g,S){try{var M=g.j;if(M.G!=0&&(M.g==g||dn(M.h,g))){if(!g.K&&dn(M.h,g)&&M.G==3){try{var U=M.Da.g.parse(S)}catch{U=null}if(Array.isArray(U)&&U.length==3){var ie=U;if(ie[0]==0){e:if(!M.u){if(M.g)if(M.g.F+3e3<g.F)Ll(M),Ca(M);else break e;Ml(M),Yt(18)}}else M.za=ie[1],0<M.za-M.T&&37500>ie[2]&&M.F&&M.v==0&&!M.C&&(M.C=un(y(M.Za,M),6e3));if(1>=tf(M.h)&&M.ca){try{M.ca()}catch{}M.ca=void 0}}else Ii(M,11)}else if((g.K||M.g==g)&&Ll(M),!E(S))for(ie=M.Da.g.parse(S),S=0;S<ie.length;S++){let ct=ie[S];if(M.T=ct[0],ct=ct[1],M.G==2)if(ct[0]=="c"){M.K=ct[1],M.ia=ct[2];const Er=ct[3];Er!=null&&(M.la=Er,M.j.info("VER="+M.la));const hr=ct[4];hr!=null&&(M.Aa=hr,M.j.info("SVER="+M.Aa));const la=ct[5];la!=null&&typeof la=="number"&&0<la&&(U=1.5*la,M.L=U,M.j.info("backChannelRequestTimeoutMs_="+U)),U=M;const qn=g.g;if(qn){const Ao=qn.g?qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ao){var pe=U.h;pe.g||Ao.indexOf("spdy")==-1&&Ao.indexOf("quic")==-1&&Ao.indexOf("h2")==-1||(pe.j=pe.l,pe.g=new Set,pe.h&&(xu(pe,pe.h),pe.h=null))}if(U.D){const Vl=qn.g?qn.g.getResponseHeader("X-HTTP-Session-Id"):null;Vl&&(U.ya=Vl,jt(U.I,U.D,Vl))}}M.G=3,M.l&&M.l.ua(),M.ba&&(M.R=Date.now()-g.F,M.j.info("Handshake RTT: "+M.R+"ms")),U=M;var Ae=g;if(U.qa=mf(U,U.J?U.ia:null,U.W),Ae.K){rf(U.h,Ae);var bt=Ae,br=U.L;br&&(bt.I=br),bt.B&&(_o(bt),Ct(bt)),U.g=Ae}else Eo(U);0<M.i.length&&Ja(M)}else ct[0]!="stop"&&ct[0]!="close"||Ii(M,7);else M.G==3&&(ct[0]=="stop"||ct[0]=="close"?ct[0]=="stop"?Ii(M,7):$r(M):ct[0]!="noop"&&M.l&&M.l.ta(ct),M.v=0)}}Ut(4)}catch{}}var ef=class{constructor(g,S){this.g=g,this.map=S}};function ko(g){this.l=g||10,c.PerformanceNavigationTiming?(g=c.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Vn(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function tf(g){return g.h?1:g.g?g.g.size:0}function dn(g,S){return g.h?g.h==S:g.g?g.g.has(S):!1}function xu(g,S){g.g?g.g.add(S):g.h=S}function rf(g,S){g.h&&g.h==S?g.h=null:g.g&&g.g.has(S)&&g.g.delete(S)}ko.prototype.cancel=function(){if(this.i=nf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function nf(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let S=g.i;for(const M of g.g.values())S=S.concat(M.D);return S}return w(g.i)}function El(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(d(g)){for(var S=[],M=g.length,U=0;U<M;U++)S.push(g[U]);return S}S=[],M=0;for(U in g)S[M++]=g[U];return S}function Al(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(d(g)||typeof g=="string"){var S=[];g=g.length;for(var M=0;M<g;M++)S.push(M);return S}S=[],M=0;for(const U in g)S[M++]=U;return S}}}function gs(g,S){if(g.forEach&&typeof g.forEach=="function")g.forEach(S,void 0);else if(d(g)||typeof g=="string")Array.prototype.forEach.call(g,S,void 0);else for(var M=Al(g),U=El(g),ie=U.length,pe=0;pe<ie;pe++)S.call(void 0,U[pe],M&&M[pe],g)}var jo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pg(g,S){if(g){g=g.split("&");for(var M=0;M<g.length;M++){var U=g[M].indexOf("="),ie=null;if(0<=U){var pe=g[M].substring(0,U);ie=g[M].substring(U+1)}else pe=g[M];S(pe,ie?decodeURIComponent(ie.replace(/\+/g," ")):"")}}}function Ei(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof Ei){this.h=g.h,No(this,g.j),this.o=g.o,this.g=g.g,vs(this,g.s),this.l=g.l;var S=g.i,M=new Ya;M.i=S.i,S.g&&(M.g=new Map(S.g),M.h=S.h),ys(this,M),this.m=g.m}else g&&(S=String(g).match(jo))?(this.h=!1,No(this,S[1]||"",!0),this.o=ot(S[2]||""),this.g=ot(S[3]||"",!0),vs(this,S[4]),this.l=ot(S[5]||"",!0),ys(this,S[6]||"",!0),this.m=ot(S[7]||"")):(this.h=!1,this.i=new Ya(null,this.h))}Ei.prototype.toString=function(){var g=[],S=this.j;S&&g.push(bs(S,Cl,!0),":");var M=this.g;return(M||S=="file")&&(g.push("//"),(S=this.o)&&g.push(bs(S,Cl,!0),"@"),g.push(encodeURIComponent(String(M)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),M=this.s,M!=null&&g.push(":",String(M))),(M=this.l)&&(this.g&&M.charAt(0)!="/"&&g.push("/"),g.push(bs(M,M.charAt(0)=="/"?of:sf,!0))),(M=this.i.toString())&&g.push("?",M),(M=this.m)&&g.push("#",bs(M,bu)),g.join("")};function Bn(g){return new Ei(g)}function No(g,S,M){g.j=M?ot(S,!0):S,g.j&&(g.j=g.j.replace(/:$/,""))}function vs(g,S){if(S){if(S=Number(S),isNaN(S)||0>S)throw Error("Bad port number "+S);g.s=S}else g.s=null}function ys(g,S,M){S instanceof Ya?(g.i=S,Xa(g.i,g.h)):(M||(S=bs(S,lf)),g.i=new Ya(S,g.h))}function jt(g,S,M){g.i.set(S,M)}function xs(g){return jt(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function ot(g,S){return g?S?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function bs(g,S,M){return typeof g=="string"?(g=encodeURI(g).replace(S,af),M&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function af(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Cl=/[#\/\?@]/g,sf=/[#\?:]/g,of=/[#\?]/g,lf=/[#\?@]/g,bu=/#/g;function Ya(g,S){this.h=this.g=null,this.i=g||null,this.j=!!S}function Lr(g){g.g||(g.g=new Map,g.h=0,g.i&&pg(g.i,function(S,M){g.add(decodeURIComponent(S.replace(/\+/g," ")),M)}))}t=Ya.prototype,t.add=function(g,S){Lr(this),this.i=null,g=oa(this,g);var M=this.g.get(g);return M||this.g.set(g,M=[]),M.push(S),this.h+=1,this};function Sa(g,S){Lr(g),S=oa(g,S),g.g.has(S)&&(g.i=null,g.h-=g.g.get(S).length,g.g.delete(S))}function Ta(g,S){return Lr(g),S=oa(g,S),g.g.has(S)}t.forEach=function(g,S){Lr(this),this.g.forEach(function(M,U){M.forEach(function(ie){g.call(S,ie,U,this)},this)},this)},t.na=function(){Lr(this);const g=Array.from(this.g.values()),S=Array.from(this.g.keys()),M=[];for(let U=0;U<S.length;U++){const ie=g[U];for(let pe=0;pe<ie.length;pe++)M.push(S[U])}return M},t.V=function(g){Lr(this);let S=[];if(typeof g=="string")Ta(this,g)&&(S=S.concat(this.g.get(oa(this,g))));else{g=Array.from(this.g.values());for(let M=0;M<g.length;M++)S=S.concat(g[M])}return S},t.set=function(g,S){return Lr(this),this.i=null,g=oa(this,g),Ta(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[S]),this.h+=1,this},t.get=function(g,S){return g?(g=this.V(g),0<g.length?String(g[0]):S):S};function ws(g,S,M){Sa(g,S),0<M.length&&(g.i=null,g.g.set(oa(g,S),w(M)),g.h+=M.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],S=Array.from(this.g.keys());for(var M=0;M<S.length;M++){var U=S[M];const pe=encodeURIComponent(String(U)),Ae=this.V(U);for(U=0;U<Ae.length;U++){var ie=pe;Ae[U]!==""&&(ie+="="+encodeURIComponent(String(Ae[U]))),g.push(ie)}}return this.i=g.join("&")};function oa(g,S){return S=String(S),g.j&&(S=S.toLowerCase()),S}function Xa(g,S){S&&!g.j&&(Lr(g),g.i=null,g.g.forEach(function(M,U){var ie=U.toLowerCase();U!=ie&&(Sa(this,U),ws(this,ie,M))},g)),g.j=S}function mg(g,S){const M=new Si;if(c.Image){const U=new Image;U.onload=x(kn,M,"TestLoadImage: loaded",!0,S,U),U.onerror=x(kn,M,"TestLoadImage: error",!1,S,U),U.onabort=x(kn,M,"TestLoadImage: abort",!1,S,U),U.ontimeout=x(kn,M,"TestLoadImage: timeout",!1,S,U),c.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=g}else S(!1)}function cf(g,S){const M=new Si,U=new AbortController,ie=setTimeout(()=>{U.abort(),kn(M,"TestPingServer: timeout",!1,S)},1e4);fetch(g,{signal:U.signal}).then(pe=>{clearTimeout(ie),pe.ok?kn(M,"TestPingServer: ok",!0,S):kn(M,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(ie),kn(M,"TestPingServer: error",!1,S)})}function kn(g,S,M,U,ie){try{ie&&(ie.onload=null,ie.onerror=null,ie.onabort=null,ie.ontimeout=null),U(M)}catch{}}function gg(){this.g=new ea}function uf(g,S,M){const U=M||"";try{gs(g,function(ie,pe){let Ae=ie;h(ie)&&(Ae=yo(ie)),S.push(U+pe+"="+encodeURIComponent(Ae))})}catch(ie){throw S.push(U+"type="+encodeURIComponent("_badmap")),ie}}function Ai(g){this.l=g.Ub||null,this.j=g.eb||!1}k(Ai,Ka),Ai.prototype.g=function(){return new So(this.l,this.j)},Ai.prototype.i=function(g){return function(){return g}}({});function So(g,S){Gt.call(this),this.D=g,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(So,Gt),t=So.prototype,t.open=function(g,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=S,this.readyState=1,Aa(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const S={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(S.body=g),(this.D||c).fetch(new Request(this.A,S)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ea(this)),this.readyState=0},t.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Aa(this)),this.g&&(this.readyState=3,Aa(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;df(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function df(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}t.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var S=g.value?g.value:new Uint8Array(0);(S=this.v.decode(S,{stream:!g.done}))&&(this.response=this.responseText+=S)}g.done?Ea(this):Aa(this),this.readyState==3&&df(this)}},t.Ra=function(g){this.g&&(this.response=this.responseText=g,Ea(this))},t.Qa=function(g){this.g&&(this.response=g,Ea(this))},t.ga=function(){this.g&&Ea(this)};function Ea(g){g.readyState=4,g.l=null,g.j=null,g.v=null,Aa(g)}t.setRequestHeader=function(g,S){this.u.append(g,S)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],S=this.h.entries();for(var M=S.next();!M.done;)M=M.value,g.push(M[0]+": "+M[1]),M=S.next();return g.join(`\r
`)};function Aa(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(So.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Ci(g){let S="";return C(g,function(M,U){S+=U,S+=":",S+=M,S+=`\r
`}),S}function _s(g,S,M){e:{for(U in M){var U=!1;break e}U=!0}U||(M=Ci(M),typeof g=="string"?M!=null&&encodeURIComponent(String(M)):jt(g,S,M))}function zt(g){Gt.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(zt,Gt);var vg=/^https?$/i,wu=["POST","PUT"];t=zt.prototype,t.Ha=function(g){this.J=g},t.ea=function(g,S,M,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);S=S?S.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():it.g(),this.v=this.o?ta(this.o):ta(it),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(S,String(g),!0),this.B=!1}catch(pe){To(this,pe);return}if(g=M||"",M=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var ie in U)M.set(ie,U[ie]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const pe of U.keys())M.set(pe,U.get(pe));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(M.keys()).find(pe=>pe.toLowerCase()=="content-type"),ie=c.FormData&&g instanceof c.FormData,!(0<=Array.prototype.indexOf.call(wu,S,void 0))||U||ie||M.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[pe,Ae]of M)this.g.setRequestHeader(pe,Ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Il(this),this.u=!0,this.g.send(g),this.u=!1}catch(pe){To(this,pe)}};function To(g,S){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=S,g.m=5,Pl(g),Un(g)}function Pl(g){g.A||(g.A=!0,Kt(g,"complete"),Kt(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,Kt(this,"complete"),Kt(this,"abort"),Un(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Un(this,!0)),zt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?_u(this):this.bb())},t.bb=function(){_u(this)};function _u(g){if(g.h&&typeof l<"u"&&(!g.v[1]||jn(g)!=4||g.Z()!=2)){if(g.u&&jn(g)==4)gt(g.Ea,0,g);else if(Kt(g,"readystatechange"),jn(g)==4){g.h=!1;try{const Ae=g.Z();e:switch(Ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var M;if(!(M=S)){var U;if(U=Ae===0){var ie=String(g.D).match(jo)[1]||null;!ie&&c.self&&c.self.location&&(ie=c.self.location.protocol.slice(0,-1)),U=!vg.test(ie?ie.toLowerCase():"")}M=U}if(M)Kt(g,"complete"),Kt(g,"success");else{g.m=6;try{var pe=2<jn(g)?g.g.statusText:""}catch{pe=""}g.l=pe+" ["+g.Z()+"]",Pl(g)}}finally{Un(g)}}}}function Un(g,S){if(g.g){Il(g);const M=g.g,U=g.v[0]?()=>{}:null;g.g=null,g.v=null,S||Kt(g,"ready");try{M.onreadystatechange=U}catch{}}}function Il(g){g.I&&(c.clearTimeout(g.I),g.I=null)}t.isActive=function(){return!!this.g};function jn(g){return g.g?g.g.readyState:0}t.Z=function(){try{return 2<jn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(g){if(this.g){var S=this.g.responseText;return g&&S.indexOf(g)==0&&(S=S.substring(g.length)),ji(S)}};function ku(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Ol(g){const S={};g=(g.g&&2<=jn(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<g.length;U++){if(E(g[U]))continue;var M=D(g[U]);const ie=M[0];if(M=M[1],typeof M!="string")continue;M=M.trim();const pe=S[ie]||[];S[ie]=pe,pe.push(M)}A(S,function(U){return U.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qa(g,S,M){return M&&M.internalChannelParams&&M.internalChannelParams[g]||S}function ju(g){this.Aa=0,this.i=[],this.j=new Si,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qa("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qa("baseRetryDelayMs",5e3,g),this.cb=Qa("retryDelaySeedMs",1e4,g),this.Wa=Qa("forwardChannelMaxRetries",2,g),this.wa=Qa("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new ko(g&&g.concurrentRequestLimit),this.Da=new gg,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ju.prototype,t.la=8,t.G=1,t.connect=function(g,S,M,U){Yt(0),this.W=g,this.H=S||{},M&&U!==void 0&&(this.H.OSID=M,this.H.OAID=U),this.F=this.X,this.I=mf(this,null,this.W),Ja(this)};function $r(g){if(Rl(g),g.G==3){var S=g.U++,M=Bn(g.I);if(jt(M,"SID",g.K),jt(M,"RID",S),jt(M,"TYPE","terminate"),Pi(g,M),S=new qt(g,g.j,S),S.L=2,S.v=xs(Bn(M)),M=!1,c.navigator&&c.navigator.sendBeacon)try{M=c.navigator.sendBeacon(S.v.toString(),"")}catch{}!M&&c.Image&&(new Image().src=S.v,M=!0),M||(S.g=gf(S.j,null),S.g.ea(S.v)),S.F=Date.now(),Ct(S)}pf(g)}function Ca(g){g.g&&(Nu(g),g.g.cancel(),g.g=null)}function Rl(g){Ca(g),g.u&&(c.clearTimeout(g.u),g.u=null),Ll(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&c.clearTimeout(g.s),g.s=null)}function Ja(g){if(!Vn(g.h)&&!g.s){g.s=!0;var S=g.Ga;ne||re(),Q||(ne(),Q=!0),Z.add(S,g),g.B=0}}function yg(g,S){return tf(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=S.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=un(y(g.Ga,g,S),ff(g,g.B)),g.B++,!0)}t.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const ie=new qt(this,this.j,g);let pe=this.o;if(this.S&&(pe?(pe=I(pe),O(pe,this.S)):pe=this.S),this.m!==null||this.O||(ie.H=pe,pe=null),this.P)e:{for(var S=0,M=0;M<this.i.length;M++){t:{var U=this.i[M];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(S+=U,4096<S){S=M;break e}if(S===4096||M===this.i.length-1){S=M+1;break e}}S=1e3}else S=1e3;S=ks(this,ie,S),M=Bn(this.I),jt(M,"RID",g),jt(M,"CVER",22),this.D&&jt(M,"X-HTTP-Session-Id",this.D),Pi(this,M),pe&&(this.O?S="headers="+encodeURIComponent(String(Ci(pe)))+"&"+S:this.m&&_s(M,this.m,pe)),xu(this.h,ie),this.Ua&&jt(M,"TYPE","init"),this.P?(jt(M,"$req",S),jt(M,"SID","null"),ie.T=!0,rr(ie,M,null)):rr(ie,M,S),this.G=2}}else this.G==3&&(g?Dl(this,g):this.i.length==0||Vn(this.h)||Dl(this))};function Dl(g,S){var M;S?M=S.l:M=g.U++;const U=Bn(g.I);jt(U,"SID",g.K),jt(U,"RID",M),jt(U,"AID",g.T),Pi(g,U),g.m&&g.o&&_s(U,g.m,g.o),M=new qt(g,g.j,M,g.B+1),g.m===null&&(M.H=g.o),S&&(g.i=S.D.concat(g.i)),S=ks(g,M,1e3),M.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),xu(g.h,M),rr(M,U,S)}function Pi(g,S){g.H&&C(g.H,function(M,U){jt(S,U,M)}),g.l&&gs({},function(M,U){jt(S,U,M)})}function ks(g,S,M){M=Math.min(g.i.length,M);var U=g.l?y(g.l.Na,g.l,g):null;e:{var ie=g.i;let pe=-1;for(;;){const Ae=["count="+M];pe==-1?0<M?(pe=ie[0].g,Ae.push("ofs="+pe)):pe=0:Ae.push("ofs="+pe);let bt=!0;for(let br=0;br<M;br++){let ct=ie[br].g;const Er=ie[br].map;if(ct-=pe,0>ct)pe=Math.max(0,ie[br].g-100),bt=!1;else try{uf(Er,Ae,"req"+ct+"_")}catch{U&&U(Er)}}if(bt){U=Ae.join("&");break e}}}return g=g.i.splice(0,M),S.D=g,U}function Eo(g){if(!g.g&&!g.u){g.Y=1;var S=g.Fa;ne||re(),Q||(ne(),Q=!0),Z.add(S,g),g.v=0}}function Ml(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=un(y(g.Fa,g),ff(g,g.v)),g.v++,!0)}t.Fa=function(){if(this.u=null,hf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=un(y(this.ab,this),g)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Yt(10),Ca(this),hf(this))};function Nu(g){g.A!=null&&(c.clearTimeout(g.A),g.A=null)}function hf(g){g.g=new qt(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var S=Bn(g.qa);jt(S,"RID","rpc"),jt(S,"SID",g.K),jt(S,"AID",g.T),jt(S,"CI",g.F?"0":"1"),!g.F&&g.ja&&jt(S,"TO",g.ja),jt(S,"TYPE","xmlhttp"),Pi(g,S),g.m&&g.o&&_s(S,g.m,g.o),g.L&&(g.g.I=g.L);var M=g.g;g=g.ia,M.L=1,M.v=xs(Bn(S)),M.m=null,M.P=!0,Fn(M,g)}t.Za=function(){this.C!=null&&(this.C=null,Ca(this),Ml(this),Yt(19))};function Ll(g){g.C!=null&&(c.clearTimeout(g.C),g.C=null)}function $l(g,S){var M=null;if(g.g==S){Ll(g),Nu(g),g.g=null;var U=2}else if(dn(g.h,S))M=S.D,rf(g.h,S),U=1;else return;if(g.G!=0){if(S.o)if(U==1){M=S.m?S.m.length:0,S=Date.now()-S.F;var ie=g.B;U=Ni(),Kt(U,new xr(U,M)),Ja(g)}else Eo(g);else if(ie=S.s,ie==3||ie==0&&0<S.X||!(U==1&&yg(g,S)||U==2&&Ml(g)))switch(M&&0<M.length&&(S=g.h,S.i=S.i.concat(M)),ie){case 1:Ii(g,5);break;case 4:Ii(g,10);break;case 3:Ii(g,6);break;default:Ii(g,2)}}}function ff(g,S){let M=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(M*=2),M*S}function Ii(g,S){if(g.j.info("Error code "+S),S==2){var M=y(g.fb,g),U=g.Xa;const ie=!U;U=new Ei(U||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||No(U,"https"),xs(U),ie?mg(U.toString(),M):cf(U.toString(),M)}else Yt(2);g.G=0,g.l&&g.l.sa(S),pf(g),Rl(g)}t.fb=function(g){g?(this.j.info("Successfully pinged google.com"),Yt(2)):(this.j.info("Failed to ping google.com"),Yt(1))};function pf(g){if(g.G=0,g.ka=[],g.l){const S=nf(g.h);(S.length!=0||g.i.length!=0)&&(b(g.ka,S),b(g.ka,g.i),g.h.i.length=0,w(g.i),g.i.length=0),g.l.ra()}}function mf(g,S,M){var U=M instanceof Ei?Bn(M):new Ei(M);if(U.g!="")S&&(U.g=S+"."+U.g),vs(U,U.s);else{var ie=c.location;U=ie.protocol,S=S?S+"."+ie.hostname:ie.hostname,ie=+ie.port;var pe=new Ei(null);U&&No(pe,U),S&&(pe.g=S),ie&&vs(pe,ie),M&&(pe.l=M),U=pe}return M=g.D,S=g.ya,M&&S&&jt(U,M,S),jt(U,"VER",g.la),Pi(g,U),U}function gf(g,S,M){if(S&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return S=g.Ca&&!g.pa?new zt(new Ai({eb:M})):new zt(g.pa),S.Ha(g.J),S}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Su(){}t=Su.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Fl(){}Fl.prototype.g=function(g,S){return new hn(g,S)};function hn(g,S){Gt.call(this),this.g=new ju(S),this.l=g,this.h=S&&S.messageUrlParams||null,g=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(g?g["X-WebChannel-Content-Type"]=S.messageContentType:g={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.va&&(g?g["X-WebChannel-Client-Profile"]=S.va:g={"X-WebChannel-Client-Profile":S.va}),this.g.S=g,(g=S&&S.Sb)&&!E(g)&&(this.g.m=g),this.v=S&&S.supportsCrossDomainXhr||!1,this.u=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!E(S)&&(this.g.D=S,g=this.h,g!==null&&S in g&&(g=this.h,S in g&&delete g[S])),this.j=new Za(this)}k(hn,Gt),hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){$r(this.g)},hn.prototype.o=function(g){var S=this.g;if(typeof g=="string"){var M={};M.__data__=g,g=M}else this.u&&(M={},M.__data__=yo(g),g=M);S.i.push(new ef(S.Ya++,g)),S.G==3&&Ja(S)},hn.prototype.N=function(){this.g.l=null,delete this.j,$r(this.g),delete this.g,hn.aa.N.call(this)};function vf(g){na.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var S=g.__sm__;if(S){e:{for(const M in S){g=M;break e}g=void 0}(this.i=g)&&(g=this.i,S=S!==null&&g in S?S[g]:void 0),this.data=S}else this.data=g}k(vf,na);function yf(){ps.call(this),this.status=1}k(yf,ps);function Za(g){this.g=g}k(Za,Su),Za.prototype.ua=function(){Kt(this.g,"a")},Za.prototype.ta=function(g){Kt(this.g,new vf(g))},Za.prototype.sa=function(g){Kt(this.g,new yf)},Za.prototype.ra=function(){Kt(this.g,"b")},Fl.prototype.createWebChannel=Fl.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,XD=function(){return new Fl},YD=function(){return Ni()},KD=aa,p_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},He.NO_ERROR=0,He.TIMEOUT=8,He.HTTP_ERROR=6,$p=He,Tt.COMPLETE="complete",GD=Tt,ra.EventType=_n,_n.OPEN="a",_n.CLOSE="b",_n.ERROR="c",_n.MESSAGE="d",Gt.prototype.listen=Gt.prototype.K,ud=ra,zt.prototype.listenOnce=zt.prototype.L,zt.prototype.getLastError=zt.prototype.Ka,zt.prototype.getLastErrorCode=zt.prototype.Ba,zt.prototype.getStatus=zt.prototype.Z,zt.prototype.getResponseJson=zt.prototype.Oa,zt.prototype.getResponseText=zt.prototype.oa,zt.prototype.send=zt.prototype.ea,zt.prototype.setWithCredentials=zt.prototype.Ha,HD=zt}).apply(typeof pp<"u"?pp:typeof self<"u"?self:typeof window<"u"?window:{});const oE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let en=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ou="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl=new tk("@firebase/firestore");function Qu(){return cl.logLevel}function Fe(t,...e){if(cl.logLevel<=lt.DEBUG){const r=e.map(mk);cl.debug(`Firestore (${ou}): ${t}`,...r)}}function ts(t,...e){if(cl.logLevel<=lt.ERROR){const r=e.map(mk);cl.error(`Firestore (${ou}): ${t}`,...r)}}function Tc(t,...e){if(cl.logLevel<=lt.WARN){const r=e.map(mk);cl.warn(`Firestore (${ou}): ${t}`,...r)}}function mk(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(t="Unexpected state"){const e=`FIRESTORE (${ou}) INTERNAL ASSERTION FAILED: `+t;throw ts(e),new Error(e)}function _t(t,e){t||Je()}function et(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const we={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends xi{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(en.UNAUTHENTICATED))}shutdown(){}}class vB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class yB{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){_t(this.o===void 0);let n=this.i;const a=d=>this.i!==n?(n=this.i,r(d)):Promise.resolve();let i=new Zs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Zs,e.enqueueRetryable(()=>a(this.currentUser))};const l=()=>{const d=i;e.enqueueRetryable(async()=>{await d.promise,await a(this.currentUser)})},c=d=>{Fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(Fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Zs)}},0),l()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(Fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(_t(typeof n.accessToken=="string"),new QD(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _t(e===null||typeof e=="string"),new en(e)}}class xB{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=en.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class bB{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new xB(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(en.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _B{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){_t(this.o===void 0);const n=i=>{i.error!=null&&Fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const l=i.token!==this.R;return this.R=i.token,Fe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?r(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>n(i))};const a=i=>{Fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>a(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?a(i):Fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(_t(typeof r.token=="string"),this.R=r.token,new wB(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kB(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const a=kB(40);for(let i=0;i<a.length;++i)n.length<20&&a[i]<r&&(n+=e.charAt(a[i]%e.length))}return n}}function pt(t,e){return t<e?-1:t>e?1:0}function Ec(t,e,r){return t.length===e.length&&t.every((n,a)=>r(n,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Re(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Re(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Re(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Sr.fromMillis(Date.now())}static fromDate(e){return Sr.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new Sr(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?pt(this.nanoseconds,e.nanoseconds):pt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ze(e)}static min(){return new Ze(new Sr(0,0))}static max(){return new Ze(new Sr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,r,n){r===void 0?r=0:r>e.length&&Je(),n===void 0?n=e.length-r:n>e.length-r&&Je(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Rd.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Rd?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let a=0;a<n;a++){const i=e.get(a),l=r.get(a);if(i<l)return-1;if(i>l)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Vt extends Rd{construct(e,r,n){return new Vt(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Re(we.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(a=>a.length>0))}return new Vt(r)}static emptyPath(){return new Vt([])}}const jB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zr extends Rd{construct(e,r,n){return new zr(e,r,n)}static isValidIdentifier(e){return jB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new zr(["__name__"])}static fromServerFormat(e){const r=[];let n="",a=0;const i=()=>{if(n.length===0)throw new Re(we.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let l=!1;for(;a<e.length;){const c=e[a];if(c==="\\"){if(a+1===e.length)throw new Re(we.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Re(we.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=d,a+=2}else c==="`"?(l=!l,a++):c!=="."||l?(n+=c,a++):(i(),a++)}if(i(),l)throw new Re(we.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zr(r)}static emptyPath(){return new zr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.path=e}static fromPath(e){return new qe(Vt.fromString(e))}static fromName(e){return new qe(Vt.fromString(e).popFirst(5))}static empty(){return new qe(Vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Vt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qe(new Vt(e.slice()))}}function NB(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,a=Ze.fromTimestamp(n===1e9?new Sr(r+1,0):new Sr(r,n));return new io(a,qe.empty(),e)}function SB(t){return new io(t.readTime,t.key,-1)}class io{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new io(Ze.min(),qe.empty(),-1)}static max(){return new io(Ze.max(),qe.empty(),-1)}}function TB(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=qe.comparator(t.documentKey,e.documentKey),r!==0?r:pt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ph(t){if(t.code!==we.FAILED_PRECONDITION||t.message!==EB)throw t;Fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Je(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Ne((n,a)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(n,a)},this.catchCallback=i=>{this.wrapFailure(r,i).next(n,a)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof Ne?r:Ne.resolve(r)}catch(r){return Ne.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):Ne.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):Ne.reject(r)}static resolve(e){return new Ne((r,n)=>{r(e)})}static reject(e){return new Ne((r,n)=>{n(e)})}static waitFor(e){return new Ne((r,n)=>{let a=0,i=0,l=!1;e.forEach(c=>{++a,c.next(()=>{++i,l&&i===a&&r()},d=>n(d))}),l=!0,i===a&&r()})}static or(e){let r=Ne.resolve(!1);for(const n of e)r=r.next(a=>a?Ne.resolve(a):n());return r}static forEach(e,r){const n=[];return e.forEach((a,i)=>{n.push(r.call(this,a,i))}),this.waitFor(n)}static mapArray(e,r){return new Ne((n,a)=>{const i=e.length,l=new Array(i);let c=0;for(let d=0;d<i;d++){const h=d;r(e[h]).next(p=>{l[h]=p,++c,c===i&&n(l)},p=>a(p))}})}static doWhile(e,r){return new Ne((n,a)=>{const i=()=>{e()===!0?r().next(()=>{i()},a):n()};i()})}}function CB(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Ih(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}gk.oe=-1;function d0(t){return t==null}function Zp(t){return t===0&&1/t==-1/0}function PB(t){return typeof t=="number"&&Number.isInteger(t)&&!Zp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function bl(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function ZD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e,r){this.comparator=e,this.root=r||qr.EMPTY}insert(e,r){return new er(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,qr.BLACK,null,null))}remove(e){return new er(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return r+n.left.size;a<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mp(this.root,e,this.comparator,!1)}getReverseIterator(){return new mp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mp(this.root,e,this.comparator,!0)}}class mp{constructor(e,r,n,a){this.isReverse=a,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=r?n(e.key,r):1,r&&a&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qr{constructor(e,r,n,a,i){this.key=e,this.value=r,this.color=n??qr.RED,this.left=a??qr.EMPTY,this.right=i??qr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,a,i){return new qr(e??this.key,r??this.value,n??this.color,a??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let a=this;const i=n(e,a.key);return a=i<0?a.copy(null,null,null,a.left.insert(e,r,n),null):i===0?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(e,r,n)),a.fixUp()}removeMin(){if(this.left.isEmpty())return qr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,a=this;if(r(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),r(e,a.key)===0){if(a.right.isEmpty())return qr.EMPTY;n=a.right.min(),a=a.copy(n.key,n.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,r))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Je();const e=this.left.check();if(e!==this.right.check())throw Je();return e+(this.isRed()?0:1)}}qr.EMPTY=null,qr.RED=!0,qr.BLACK=!1;qr.EMPTY=new class{constructor(){this.size=0}get key(){throw Je()}get value(){throw Je()}get color(){throw Je()}get left(){throw Je()}get right(){throw Je()}copy(e,r,n,a,i){return this}insert(e,r,n){return new qr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e){this.comparator=e,this.data=new er(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const a=n.getNext();if(this.comparator(a.key,e[1])>=0)return;r(a.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new cE(this.data.getIterator())}getIteratorFrom(e){return new cE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof Wr)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const a=r.getNext().key,i=n.getNext().key;if(this.comparator(a,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Wr(this.comparator);return r.data=e,r}}class cE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.fields=e,e.sort(zr.comparator)}static empty(){return new Xn([])}unionWith(e){let r=new Wr(zr.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Xn(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Ec(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(a){try{return atob(a)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new eM("Invalid base64 string: "+i):i}}(e);return new Gr(r)}static fromUint8Array(e){const r=function(a){let i="";for(let l=0;l<a.length;++l)i+=String.fromCharCode(a[l]);return i}(e);return new Gr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gr.EMPTY_BYTE_STRING=new Gr("");const IB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function so(t){if(_t(!!t),typeof t=="string"){let e=0;const r=IB.exec(t);if(_t(!!r),r[1]){let a=r[1];a=(a+"000000000").substr(0,9),e=Number(a)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:ur(t.seconds),nanos:ur(t.nanos)}}function ur(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ul(t){return typeof t=="string"?Gr.fromBase64String(t):Gr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(t){var e,r;return((r=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function yk(t){const e=t.mapValue.fields.__previous_value__;return vk(e)?yk(e):e}function Dd(t){const e=so(t.mapValue.fields.__local_write_time__.timestampValue);return new Sr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OB{constructor(e,r,n,a,i,l,c,d,h){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=a,this.ssl=i,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=h}}class Md{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Md("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Md&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp={mapValue:{}};function dl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?vk(t)?4:DB(t)?9007199254740991:RB(t)?10:11:Je()}function mi(t,e){if(t===e)return!0;const r=dl(t);if(r!==dl(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Dd(t).isEqual(Dd(e));case 3:return function(a,i){if(typeof a.timestampValue=="string"&&typeof i.timestampValue=="string"&&a.timestampValue.length===i.timestampValue.length)return a.timestampValue===i.timestampValue;const l=so(a.timestampValue),c=so(i.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,i){return ul(a.bytesValue).isEqual(ul(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,i){return ur(a.geoPointValue.latitude)===ur(i.geoPointValue.latitude)&&ur(a.geoPointValue.longitude)===ur(i.geoPointValue.longitude)}(t,e);case 2:return function(a,i){if("integerValue"in a&&"integerValue"in i)return ur(a.integerValue)===ur(i.integerValue);if("doubleValue"in a&&"doubleValue"in i){const l=ur(a.doubleValue),c=ur(i.doubleValue);return l===c?Zp(l)===Zp(c):isNaN(l)&&isNaN(c)}return!1}(t,e);case 9:return Ec(t.arrayValue.values||[],e.arrayValue.values||[],mi);case 10:case 11:return function(a,i){const l=a.mapValue.fields||{},c=i.mapValue.fields||{};if(lE(l)!==lE(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!mi(l[d],c[d])))return!1;return!0}(t,e);default:return Je()}}function Ld(t,e){return(t.values||[]).find(r=>mi(r,e))!==void 0}function Ac(t,e){if(t===e)return 0;const r=dl(t),n=dl(e);if(r!==n)return pt(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return pt(t.booleanValue,e.booleanValue);case 2:return function(i,l){const c=ur(i.integerValue||i.doubleValue),d=ur(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(t,e);case 3:return uE(t.timestampValue,e.timestampValue);case 4:return uE(Dd(t),Dd(e));case 5:return pt(t.stringValue,e.stringValue);case 6:return function(i,l){const c=ul(i),d=ul(l);return c.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(i,l){const c=i.split("/"),d=l.split("/");for(let h=0;h<c.length&&h<d.length;h++){const p=pt(c[h],d[h]);if(p!==0)return p}return pt(c.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,l){const c=pt(ur(i.latitude),ur(l.latitude));return c!==0?c:pt(ur(i.longitude),ur(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return dE(t.arrayValue,e.arrayValue);case 10:return function(i,l){var c,d,h,p;const m=i.fields||{},y=l.fields||{},x=(c=m.value)===null||c===void 0?void 0:c.arrayValue,k=(d=y.value)===null||d===void 0?void 0:d.arrayValue,w=pt(((h=x?.values)===null||h===void 0?void 0:h.length)||0,((p=k?.values)===null||p===void 0?void 0:p.length)||0);return w!==0?w:dE(x,k)}(t.mapValue,e.mapValue);case 11:return function(i,l){if(i===gp.mapValue&&l===gp.mapValue)return 0;if(i===gp.mapValue)return 1;if(l===gp.mapValue)return-1;const c=i.fields||{},d=Object.keys(c),h=l.fields||{},p=Object.keys(h);d.sort(),p.sort();for(let m=0;m<d.length&&m<p.length;++m){const y=pt(d[m],p[m]);if(y!==0)return y;const x=Ac(c[d[m]],h[p[m]]);if(x!==0)return x}return pt(d.length,p.length)}(t.mapValue,e.mapValue);default:throw Je()}}function uE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return pt(t,e);const r=so(t),n=so(e),a=pt(r.seconds,n.seconds);return a!==0?a:pt(r.nanos,n.nanos)}function dE(t,e){const r=t.values||[],n=e.values||[];for(let a=0;a<r.length&&a<n.length;++a){const i=Ac(r[a],n[a]);if(i)return i}return pt(r.length,n.length)}function Cc(t){return m_(t)}function m_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=so(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return ul(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return qe.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",a=!0;for(const i of r.values||[])a?a=!1:n+=",",n+=m_(i);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let a="{",i=!0;for(const l of n)i?i=!1:a+=",",a+=`${l}:${m_(r.fields[l])}`;return a+"}"}(t.mapValue):Je()}function hE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function g_(t){return!!t&&"integerValue"in t}function xk(t){return!!t&&"arrayValue"in t}function fE(t){return!!t&&"nullValue"in t}function pE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Fp(t){return!!t&&"mapValue"in t}function RB(t){var e,r;return((r=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function xd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return bl(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=xd(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=xd(t.arrayValue.values[r]);return e}return Object.assign({},t)}function DB(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.value=e}static empty(){return new On({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!Fp(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=xd(r)}setAll(e){let r=zr.emptyPath(),n={},a=[];e.forEach((l,c)=>{if(!r.isImmediateParentOf(c)){const d=this.getFieldsMap(r);this.applyChanges(d,n,a),n={},a=[],r=c.popLast()}l?n[c.lastSegment()]=xd(l):a.push(c.lastSegment())});const i=this.getFieldsMap(r);this.applyChanges(i,n,a)}delete(e){const r=this.field(e.popLast());Fp(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return mi(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let a=r.mapValue.fields[e.get(n)];Fp(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=a),r=a}return r.mapValue.fields}applyChanges(e,r,n){bl(r,(a,i)=>e[a]=i);for(const a of n)delete e[a]}clone(){return new On(xd(this.value))}}function tM(t){const e=[];return bl(t.fields,(r,n)=>{const a=new zr([r]);if(Fp(n)){const i=tM(n.mapValue).fields;if(i.length===0)e.push(a);else for(const l of i)e.push(a.child(l))}else e.push(a)}),new Xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,r,n,a,i,l,c){this.key=e,this.documentType=r,this.version=n,this.readTime=a,this.createTime=i,this.data=l,this.documentState=c}static newInvalidDocument(e){return new tn(e,0,Ze.min(),Ze.min(),Ze.min(),On.empty(),0)}static newFoundDocument(e,r,n,a){return new tn(e,1,r,Ze.min(),n,a,0)}static newNoDocument(e,r){return new tn(e,2,r,Ze.min(),Ze.min(),On.empty(),0)}static newUnknownDocument(e,r){return new tn(e,3,r,Ze.min(),Ze.min(),On.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,r){this.position=e,this.inclusive=r}}function mE(t,e,r){let n=0;for(let a=0;a<t.position.length;a++){const i=e[a],l=t.position[a];if(i.field.isKeyField()?n=qe.comparator(qe.fromName(l.referenceValue),r.key):n=Ac(l,r.data.field(i.field)),i.dir==="desc"&&(n*=-1),n!==0)break}return n}function gE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!mi(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,r="asc"){this.field=e,this.dir=r}}function MB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rM=class{};class gr extends rM{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new $B(e,r,n):r==="array-contains"?new BB(e,n):r==="in"?new UB(e,n):r==="not-in"?new qB(e,n):r==="array-contains-any"?new zB(e,n):new gr(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new FB(e,n):new VB(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Ac(r,this.value)):r!==null&&dl(this.value)===dl(r)&&this.matchesComparison(Ac(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Je()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wa extends rM{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new Wa(e,r)}matches(e){return nM(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function nM(t){return t.op==="and"}function aM(t){return LB(t)&&nM(t)}function LB(t){for(const e of t.filters)if(e instanceof Wa)return!1;return!0}function v_(t){if(t instanceof gr)return t.field.canonicalString()+t.op.toString()+Cc(t.value);if(aM(t))return t.filters.map(e=>v_(e)).join(",");{const e=t.filters.map(r=>v_(r)).join(",");return`${t.op}(${e})`}}function iM(t,e){return t instanceof gr?function(n,a){return a instanceof gr&&n.op===a.op&&n.field.isEqual(a.field)&&mi(n.value,a.value)}(t,e):t instanceof Wa?function(n,a){return a instanceof Wa&&n.op===a.op&&n.filters.length===a.filters.length?n.filters.reduce((i,l,c)=>i&&iM(l,a.filters[c]),!0):!1}(t,e):void Je()}function sM(t){return t instanceof gr?function(r){return`${r.field.canonicalString()} ${r.op} ${Cc(r.value)}`}(t):t instanceof Wa?function(r){return r.op.toString()+" {"+r.getFilters().map(sM).join(" ,")+"}"}(t):"Filter"}class $B extends gr{constructor(e,r,n){super(e,r,n),this.key=qe.fromName(n.referenceValue)}matches(e){const r=qe.comparator(e.key,this.key);return this.matchesComparison(r)}}class FB extends gr{constructor(e,r){super(e,"in",r),this.keys=oM("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class VB extends gr{constructor(e,r){super(e,"not-in",r),this.keys=oM("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function oM(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>qe.fromName(n.referenceValue))}class BB extends gr{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return xk(r)&&Ld(r.arrayValue,this.value)}}class UB extends gr{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Ld(this.value.arrayValue,r)}}class qB extends gr{constructor(e,r){super(e,"not-in",r)}matches(e){if(Ld(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Ld(this.value.arrayValue,r)}}class zB extends gr{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!xk(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Ld(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WB{constructor(e,r=null,n=[],a=[],i=null,l=null,c=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=a,this.limit=i,this.startAt=l,this.endAt=c,this.ue=null}}function vE(t,e=null,r=[],n=[],a=null,i=null,l=null){return new WB(t,e,r,n,a,i,l)}function bk(t){const e=et(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>v_(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(i){return i.field.canonicalString()+i.dir}(n)).join(","),d0(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Cc(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Cc(n)).join(",")),e.ue=r}return e.ue}function wk(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!MB(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!iM(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!gE(t.startAt,e.startAt)&&gE(t.endAt,e.endAt)}function y_(t){return qe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,r=null,n=[],a=[],i=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=a,this.limit=i,this.limitType=l,this.startAt=c,this.endAt=d,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function HB(t,e,r,n,a,i,l,c){return new Oh(t,e,r,n,a,i,l,c)}function _k(t){return new Oh(t)}function yE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function lM(t){return t.collectionGroup!==null}function bd(t){const e=et(t);if(e.ce===null){e.ce=[];const r=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),r.add(i.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Wr(zr.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(h=>{h.isInequality()&&(c=c.add(h.field))})}),c})(e).forEach(i=>{r.has(i.canonicalString())||i.isKeyField()||e.ce.push(new tm(i,n))}),r.has(zr.keyField().canonicalString())||e.ce.push(new tm(zr.keyField(),n))}return e.ce}function ui(t){const e=et(t);return e.le||(e.le=GB(e,bd(t))),e.le}function GB(t,e){if(t.limitType==="F")return vE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const i=a.dir==="desc"?"asc":"desc";return new tm(a.field,i)});const r=t.endAt?new em(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new em(t.startAt.position,t.startAt.inclusive):null;return vE(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function x_(t,e){const r=t.filters.concat([e]);return new Oh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function b_(t,e,r){return new Oh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function h0(t,e){return wk(ui(t),ui(e))&&t.limitType===e.limitType}function cM(t){return`${bk(ui(t))}|lt:${t.limitType}`}function uc(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(a=>sM(a)).join(", ")}]`),d0(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(a=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(a)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(a=>Cc(a)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(a=>Cc(a)).join(",")),`Target(${n})`}(ui(t))}; limitType=${t.limitType})`}function f0(t,e){return e.isFoundDocument()&&function(n,a){const i=a.key.path;return n.collectionGroup!==null?a.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):qe.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,a){for(const i of bd(n))if(!i.field.isKeyField()&&a.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,a){for(const i of n.filters)if(!i.matches(a))return!1;return!0}(t,e)&&function(n,a){return!(n.startAt&&!function(l,c,d){const h=mE(l,c,d);return l.inclusive?h<=0:h<0}(n.startAt,bd(n),a)||n.endAt&&!function(l,c,d){const h=mE(l,c,d);return l.inclusive?h>=0:h>0}(n.endAt,bd(n),a))}(t,e)}function KB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function uM(t){return(e,r)=>{let n=!1;for(const a of bd(t)){const i=YB(a,e,r);if(i!==0)return i;n=n||a.field.isKeyField()}return 0}}function YB(t,e,r){const n=t.field.isKeyField()?qe.comparator(e.key,r.key):function(i,l,c){const d=l.data.field(i),h=c.data.field(i);return d!==null&&h!==null?Ac(d,h):Je()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Je()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[a,i]of n)if(this.equalsFn(a,e))return i}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let i=0;i<a.length;i++)if(this.equalsFn(a[i][0],e))return void(a[i]=[e,r]);a.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let a=0;a<n.length;a++)if(this.equalsFn(n[a][0],e))return n.length===1?delete this.inner[r]:n.splice(a,1),this.innerSize--,!0;return!1}forEach(e){bl(this.inner,(r,n)=>{for(const[a,i]of n)e(a,i)})}isEmpty(){return ZD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XB=new er(qe.comparator);function rs(){return XB}const dM=new er(qe.comparator);function dd(...t){let e=dM;for(const r of t)e=e.insert(r.key,r);return e}function hM(t){let e=dM;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function Yo(){return wd()}function fM(){return wd()}function wd(){return new lu(t=>t.toString(),(t,e)=>t.isEqual(e))}const QB=new er(qe.comparator),JB=new Wr(qe.comparator);function st(...t){let e=JB;for(const r of t)e=e.add(r);return e}const ZB=new Wr(pt);function eU(){return ZB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zp(e)?"-0":e}}function pM(t){return{integerValue:""+t}}function tU(t,e){return PB(e)?pM(e):kk(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(){this._=void 0}}function rU(t,e,r){return t instanceof $d?function(a,i){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return i&&vk(i)&&(i=yk(i)),i&&(l.fields.__previous_value__=i),{mapValue:l}}(r,e):t instanceof Fd?gM(t,e):t instanceof Vd?vM(t,e):function(a,i){const l=mM(a,i),c=xE(l)+xE(a.Pe);return g_(l)&&g_(a.Pe)?pM(c):kk(a.serializer,c)}(t,e)}function nU(t,e,r){return t instanceof Fd?gM(t,e):t instanceof Vd?vM(t,e):r}function mM(t,e){return t instanceof rm?function(n){return g_(n)||function(i){return!!i&&"doubleValue"in i}(n)}(e)?e:{integerValue:0}:null}class $d extends p0{}class Fd extends p0{constructor(e){super(),this.elements=e}}function gM(t,e){const r=yM(e);for(const n of t.elements)r.some(a=>mi(a,n))||r.push(n);return{arrayValue:{values:r}}}class Vd extends p0{constructor(e){super(),this.elements=e}}function vM(t,e){let r=yM(e);for(const n of t.elements)r=r.filter(a=>!mi(a,n));return{arrayValue:{values:r}}}class rm extends p0{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function xE(t){return ur(t.integerValue||t.doubleValue)}function yM(t){return xk(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU{constructor(e,r){this.field=e,this.transform=r}}function iU(t,e){return t.field.isEqual(e.field)&&function(n,a){return n instanceof Fd&&a instanceof Fd||n instanceof Vd&&a instanceof Vd?Ec(n.elements,a.elements,mi):n instanceof rm&&a instanceof rm?mi(n.Pe,a.Pe):n instanceof $d&&a instanceof $d}(t.transform,e.transform)}class sU{constructor(e,r){this.version=e,this.transformResults=r}}class xn{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new xn}static exists(e){return new xn(void 0,e)}static updateTime(e){return new xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class m0{}function xM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new g0(t.key,xn.none()):new Rh(t.key,t.data,xn.none());{const r=t.data,n=On.empty();let a=new Wr(zr.comparator);for(let i of e.fields)if(!a.has(i)){let l=r.field(i);l===null&&i.length>1&&(i=i.popLast(),l=r.field(i)),l===null?n.delete(i):n.set(i,l),a=a.add(i)}return new co(t.key,n,new Xn(a.toArray()),xn.none())}}function oU(t,e,r){t instanceof Rh?function(a,i,l){const c=a.value.clone(),d=wE(a.fieldTransforms,i,l.transformResults);c.setAll(d),i.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(t,e,r):t instanceof co?function(a,i,l){if(!Vp(a.precondition,i))return void i.convertToUnknownDocument(l.version);const c=wE(a.fieldTransforms,i,l.transformResults),d=i.data;d.setAll(bM(a)),d.setAll(c),i.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(t,e,r):function(a,i,l){i.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,r)}function _d(t,e,r,n){return t instanceof Rh?function(i,l,c,d){if(!Vp(i.precondition,l))return c;const h=i.value.clone(),p=_E(i.fieldTransforms,d,l);return h.setAll(p),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null}(t,e,r,n):t instanceof co?function(i,l,c,d){if(!Vp(i.precondition,l))return c;const h=_E(i.fieldTransforms,d,l),p=l.data;return p.setAll(bM(i)),p.setAll(h),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),c===null?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(m=>m.field))}(t,e,r,n):function(i,l,c){return Vp(i.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(t,e,r)}function lU(t,e){let r=null;for(const n of t.fieldTransforms){const a=e.data.field(n.field),i=mM(n.transform,a||null);i!=null&&(r===null&&(r=On.empty()),r.set(n.field,i))}return r||null}function bE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,a){return n===void 0&&a===void 0||!(!n||!a)&&Ec(n,a,(i,l)=>iU(i,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Rh extends m0{constructor(e,r,n,a=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class co extends m0{constructor(e,r,n,a,i=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=a,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function bM(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function wE(t,e,r){const n=new Map;_t(t.length===r.length);for(let a=0;a<r.length;a++){const i=t[a],l=i.transform,c=e.data.field(i.field);n.set(i.field,nU(l,c,r[a]))}return n}function _E(t,e,r){const n=new Map;for(const a of t){const i=a.transform,l=r.data.field(a.field);n.set(a.field,rU(i,l,e))}return n}class g0 extends m0{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cU extends m0{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{constructor(e,r,n,a){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=a}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let a=0;a<this.mutations.length;a++){const i=this.mutations[a];i.key.isEqual(e.key)&&oU(i,e,n[a])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=_d(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=_d(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=fM();return this.mutations.forEach(a=>{const i=e.get(a.key),l=i.overlayedDocument;let c=this.applyToLocalView(l,i.mutatedFields);c=r.has(a.key)?null:c;const d=xM(l,c);d!==null&&n.set(a.key,d),l.isValidDocument()||l.convertToNoDocument(Ze.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),st())}isEqual(e){return this.batchId===e.batchId&&Ec(this.mutations,e.mutations,(r,n)=>bE(r,n))&&Ec(this.baseMutations,e.baseMutations,(r,n)=>bE(r,n))}}class jk{constructor(e,r,n,a){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=a}static from(e,r,n){_t(e.mutations.length===n.length);let a=function(){return QB}();const i=e.mutations;for(let l=0;l<i.length;l++)a=a.insert(i[l].key,n[l].version);return new jk(e,r,n,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dU{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pr,ut;function fU(t){switch(t){default:return Je();case we.CANCELLED:case we.UNKNOWN:case we.DEADLINE_EXCEEDED:case we.RESOURCE_EXHAUSTED:case we.INTERNAL:case we.UNAVAILABLE:case we.UNAUTHENTICATED:return!1;case we.INVALID_ARGUMENT:case we.NOT_FOUND:case we.ALREADY_EXISTS:case we.PERMISSION_DENIED:case we.FAILED_PRECONDITION:case we.ABORTED:case we.OUT_OF_RANGE:case we.UNIMPLEMENTED:case we.DATA_LOSS:return!0}}function wM(t){if(t===void 0)return ts("GRPC error has no .code"),we.UNKNOWN;switch(t){case pr.OK:return we.OK;case pr.CANCELLED:return we.CANCELLED;case pr.UNKNOWN:return we.UNKNOWN;case pr.DEADLINE_EXCEEDED:return we.DEADLINE_EXCEEDED;case pr.RESOURCE_EXHAUSTED:return we.RESOURCE_EXHAUSTED;case pr.INTERNAL:return we.INTERNAL;case pr.UNAVAILABLE:return we.UNAVAILABLE;case pr.UNAUTHENTICATED:return we.UNAUTHENTICATED;case pr.INVALID_ARGUMENT:return we.INVALID_ARGUMENT;case pr.NOT_FOUND:return we.NOT_FOUND;case pr.ALREADY_EXISTS:return we.ALREADY_EXISTS;case pr.PERMISSION_DENIED:return we.PERMISSION_DENIED;case pr.FAILED_PRECONDITION:return we.FAILED_PRECONDITION;case pr.ABORTED:return we.ABORTED;case pr.OUT_OF_RANGE:return we.OUT_OF_RANGE;case pr.UNIMPLEMENTED:return we.UNIMPLEMENTED;case pr.DATA_LOSS:return we.DATA_LOSS;default:return Je()}}(ut=pr||(pr={}))[ut.OK=0]="OK",ut[ut.CANCELLED=1]="CANCELLED",ut[ut.UNKNOWN=2]="UNKNOWN",ut[ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ut[ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ut[ut.NOT_FOUND=5]="NOT_FOUND",ut[ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",ut[ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",ut[ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",ut[ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ut[ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ut[ut.ABORTED=10]="ABORTED",ut[ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",ut[ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",ut[ut.INTERNAL=13]="INTERNAL",ut[ut.UNAVAILABLE=14]="UNAVAILABLE",ut[ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mU=new rl([4294967295,4294967295],0);function kE(t){const e=pU().encode(t),r=new WD;return r.update(e),new Uint8Array(r.digest())}function jE(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),a=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new rl([r,n],0),new rl([a,i],0)]}class Nk{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new hd(`Invalid padding: ${r}`);if(n<0)throw new hd(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new hd(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new hd(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=rl.fromNumber(this.Ie)}Ee(e,r,n){let a=e.add(r.multiply(rl.fromNumber(n)));return a.compare(mU)===1&&(a=new rl([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=kE(e),[n,a]=jE(r);for(let i=0;i<this.hashCount;i++){const l=this.Ee(n,a,i);if(!this.de(l))return!1}return!0}static create(e,r,n){const a=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),l=new Nk(i,a,r);return n.forEach(c=>l.insert(c)),l}insert(e){if(this.Ie===0)return;const r=kE(e),[n,a]=jE(r);for(let i=0;i<this.hashCount;i++){const l=this.Ee(n,a,i);this.Ae(l)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class hd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e,r,n,a,i){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=a,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const a=new Map;return a.set(e,Dh.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new v0(Ze.min(),a,new er(pt),rs(),st())}}class Dh{constructor(e,r,n,a,i){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=a,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Dh(n,r,st(),st(),st())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e,r,n,a){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=a}}class _M{constructor(e,r){this.targetId=e,this.me=r}}class kM{constructor(e,r,n=Gr.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=a}}class NE{constructor(){this.fe=0,this.ge=TE(),this.pe=Gr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=st(),r=st(),n=st();return this.ge.forEach((a,i)=>{switch(i){case 0:e=e.add(a);break;case 2:r=r.add(a);break;case 1:n=n.add(a);break;default:Je()}}),new Dh(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=TE()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,_t(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class gU{constructor(e){this.Le=e,this.Be=new Map,this.ke=rs(),this.qe=SE(),this.Qe=new er(pt)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:Je()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,a)=>{this.ze(a)&&r(a)})}He(e){const r=e.targetId,n=e.me.count,a=this.Je(r);if(a){const i=a.target;if(y_(i))if(n===0){const l=new qe(i.path);this.Ue(r,l,tn.newNoDocument(l,Ze.min()))}else _t(n===1);else{const l=this.Ye(r);if(l!==n){const c=this.Ze(e),d=c?this.Xe(c,e,l):1;if(d!==0){this.je(r);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,h)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:a=0},hashCount:i=0}=r;let l,c;try{l=ul(n).toUint8Array()}catch(d){if(d instanceof eM)return Tc("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new Nk(l,a,i)}catch(d){return Tc(d instanceof hd?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.Ie===0?null:c}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let a=0;return n.forEach(i=>{const l=this.Le.tt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${i.path.canonicalString()}`;e.mightContain(c)||(this.Ue(r,i,null),a++)}),a}rt(e){const r=new Map;this.Be.forEach((i,l)=>{const c=this.Je(l);if(c){if(i.current&&y_(c.target)){const d=new qe(c.target.path);this.ke.get(d)!==null||this.it(l,d)||this.Ue(l,d,tn.newNoDocument(d,e))}i.be&&(r.set(l,i.ve()),i.Ce())}});let n=st();this.qe.forEach((i,l)=>{let c=!0;l.forEachWhile(d=>{const h=this.Je(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(n=n.add(i))}),this.ke.forEach((i,l)=>l.setReadTime(e));const a=new v0(e,r,this.Qe,this.ke,n);return this.ke=rs(),this.qe=SE(),this.Qe=new er(pt),a}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const a=this.Ge(e);this.it(e,r)?a.Fe(r,1):a.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new NE,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Wr(pt),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||Fe("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new NE),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function SE(){return new er(qe.comparator)}function TE(){return new er(qe.comparator)}const vU={asc:"ASCENDING",desc:"DESCENDING"},yU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xU={and:"AND",or:"OR"};class bU{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function w_(t,e){return t.useProto3Json||d0(e)?e:{value:e}}function nm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function wU(t,e){return nm(t,e.toTimestamp())}function di(t){return _t(!!t),Ze.fromTimestamp(function(r){const n=so(r);return new Sr(n.seconds,n.nanos)}(t))}function Sk(t,e){return __(t,e).canonicalString()}function __(t,e){const r=function(a){return new Vt(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?r:r.child(e)}function NM(t){const e=Vt.fromString(t);return _t(CM(e)),e}function k_(t,e){return Sk(t.databaseId,e.path)}function Xv(t,e){const r=NM(e);if(r.get(1)!==t.databaseId.projectId)throw new Re(we.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Re(we.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new qe(TM(r))}function SM(t,e){return Sk(t.databaseId,e)}function _U(t){const e=NM(t);return e.length===4?Vt.emptyPath():TM(e)}function j_(t){return new Vt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function TM(t){return _t(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function EE(t,e,r){return{name:k_(t,e),fields:r.value.mapValue.fields}}function kU(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Je()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],i=function(h,p){return h.useProto3Json?(_t(p===void 0||typeof p=="string"),Gr.fromBase64String(p||"")):(_t(p===void 0||p instanceof Buffer||p instanceof Uint8Array),Gr.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(h){const p=h.code===void 0?we.UNKNOWN:wM(h.code);return new Re(p,h.message||"")}(l);r=new kM(n,a,i,c||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const a=Xv(t,n.document.name),i=di(n.document.updateTime),l=n.document.createTime?di(n.document.createTime):Ze.min(),c=new On({mapValue:{fields:n.document.fields}}),d=tn.newFoundDocument(a,i,l,c),h=n.targetIds||[],p=n.removedTargetIds||[];r=new Bp(h,p,d.key,d)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const a=Xv(t,n.document),i=n.readTime?di(n.readTime):Ze.min(),l=tn.newNoDocument(a,i),c=n.removedTargetIds||[];r=new Bp([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const a=Xv(t,n.document),i=n.removedTargetIds||[];r=new Bp([],i,a,null)}else{if(!("filter"in e))return Je();{e.filter;const n=e.filter;n.targetId;const{count:a=0,unchangedNames:i}=n,l=new hU(a,i),c=n.targetId;r=new _M(c,l)}}return r}function jU(t,e){let r;if(e instanceof Rh)r={update:EE(t,e.key,e.value)};else if(e instanceof g0)r={delete:k_(t,e.key)};else if(e instanceof co)r={update:EE(t,e.key,e.data),updateMask:OU(e.fieldMask)};else{if(!(e instanceof cU))return Je();r={verify:k_(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(i,l){const c=l.transform;if(c instanceof $d)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Fd)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Vd)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof rm)return{fieldPath:l.field.canonicalString(),increment:c.Pe};throw Je()}(0,n))),e.precondition.isNone||(r.currentDocument=function(a,i){return i.updateTime!==void 0?{updateTime:wU(a,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Je()}(t,e.precondition)),r}function NU(t,e){return t&&t.length>0?(_t(e!==void 0),t.map(r=>function(a,i){let l=a.updateTime?di(a.updateTime):di(i);return l.isEqual(Ze.min())&&(l=di(i)),new sU(l,a.transformResults||[])}(r,e))):[]}function SU(t,e){return{documents:[SM(t,e.path)]}}function TU(t,e){const r={structuredQuery:{}},n=e.path;let a;e.collectionGroup!==null?(a=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=SM(t,a);const i=function(h){if(h.length!==0)return AM(Wa.create(h,"and"))}(e.filters);i&&(r.structuredQuery.where=i);const l=function(h){if(h.length!==0)return h.map(p=>function(y){return{field:dc(y.field),direction:CU(y.dir)}}(p))}(e.orderBy);l&&(r.structuredQuery.orderBy=l);const c=w_(t,e.limit);return c!==null&&(r.structuredQuery.limit=c),e.startAt&&(r.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{_t:r,parent:a}}function EU(t){let e=_U(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let a=null;if(n>0){_t(n===1);const p=r.from[0];p.allDescendants?a=p.collectionId:e=e.child(p.collectionId)}let i=[];r.where&&(i=function(m){const y=EM(m);return y instanceof Wa&&aM(y)?y.getFilters():[y]}(r.where));let l=[];r.orderBy&&(l=function(m){return m.map(y=>function(k){return new tm(hc(k.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(y))}(r.orderBy));let c=null;r.limit&&(c=function(m){let y;return y=typeof m=="object"?m.value:m,d0(y)?null:y}(r.limit));let d=null;r.startAt&&(d=function(m){const y=!!m.before,x=m.values||[];return new em(x,y)}(r.startAt));let h=null;return r.endAt&&(h=function(m){const y=!m.before,x=m.values||[];return new em(x,y)}(r.endAt)),HB(e,a,l,i,c,"F",d,h)}function AU(t,e){const r=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Je()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function EM(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=hc(r.unaryFilter.field);return gr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const a=hc(r.unaryFilter.field);return gr.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=hc(r.unaryFilter.field);return gr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=hc(r.unaryFilter.field);return gr.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Je()}}(t):t.fieldFilter!==void 0?function(r){return gr.create(hc(r.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Je()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return Wa.create(r.compositeFilter.filters.map(n=>EM(n)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Je()}}(r.compositeFilter.op))}(t):Je()}function CU(t){return vU[t]}function PU(t){return yU[t]}function IU(t){return xU[t]}function dc(t){return{fieldPath:t.canonicalString()}}function hc(t){return zr.fromServerFormat(t.fieldPath)}function AM(t){return t instanceof gr?function(r){if(r.op==="=="){if(pE(r.value))return{unaryFilter:{field:dc(r.field),op:"IS_NAN"}};if(fE(r.value))return{unaryFilter:{field:dc(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(pE(r.value))return{unaryFilter:{field:dc(r.field),op:"IS_NOT_NAN"}};if(fE(r.value))return{unaryFilter:{field:dc(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dc(r.field),op:PU(r.op),value:r.value}}}(t):t instanceof Wa?function(r){const n=r.getFilters().map(a=>AM(a));return n.length===1?n[0]:{compositeFilter:{op:IU(r.op),filters:n}}}(t):Je()}function OU(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function CM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,r,n,a,i=Ze.min(),l=Ze.min(),c=Gr.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=a,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new Ys(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{constructor(e){this.ct=e}}function DU(t){const e=EU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?b_(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{constructor(){this.un=new LU}addToCollectionParentIndex(e,r){return this.un.add(r),Ne.resolve()}getCollectionParents(e,r){return Ne.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return Ne.resolve()}deleteFieldIndex(e,r){return Ne.resolve()}deleteAllFieldIndexes(e){return Ne.resolve()}createTargetIndexes(e,r){return Ne.resolve()}getDocumentsMatchingTarget(e,r){return Ne.resolve(null)}getIndexType(e,r){return Ne.resolve(0)}getFieldIndexes(e,r){return Ne.resolve([])}getNextCollectionGroupToUpdate(e){return Ne.resolve(null)}getMinOffset(e,r){return Ne.resolve(io.min())}getMinOffsetFromCollectionGroup(e,r){return Ne.resolve(io.min())}updateCollectionGroup(e,r,n){return Ne.resolve()}updateIndexEntries(e,r){return Ne.resolve()}}class LU{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),a=this.index[r]||new Wr(Vt.comparator),i=!a.has(n);return this.index[r]=a.add(n),i}has(e){const r=e.lastSegment(),n=e.popLast(),a=this.index[r];return a&&a.has(n)}getEntries(e){return(this.index[e]||new Wr(Vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Pc(0)}static kn(){return new Pc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(){this.changes=new lu(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?Ne.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VU{constructor(e,r,n,a){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=a}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(a=>(n=a,this.remoteDocumentCache.getEntry(e,r))).next(a=>(n!==null&&_d(n.mutation,a,Xn.empty(),Sr.now()),a))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,st()).next(()=>n))}getLocalViewOfDocuments(e,r,n=st()){const a=Yo();return this.populateOverlays(e,a,r).next(()=>this.computeViews(e,r,a,n).next(i=>{let l=dd();return i.forEach((c,d)=>{l=l.insert(c,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,r){const n=Yo();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,st()))}populateOverlays(e,r,n){const a=[];return n.forEach(i=>{r.has(i)||a.push(i)}),this.documentOverlayCache.getOverlays(e,a).next(i=>{i.forEach((l,c)=>{r.set(l,c)})})}computeViews(e,r,n,a){let i=rs();const l=wd(),c=function(){return wd()}();return r.forEach((d,h)=>{const p=n.get(h.key);a.has(h.key)&&(p===void 0||p.mutation instanceof co)?i=i.insert(h.key,h):p!==void 0?(l.set(h.key,p.mutation.getFieldMask()),_d(p.mutation,h,p.mutation.getFieldMask(),Sr.now())):l.set(h.key,Xn.empty())}),this.recalculateAndSaveOverlays(e,i).next(d=>(d.forEach((h,p)=>l.set(h,p)),r.forEach((h,p)=>{var m;return c.set(h,new FU(p,(m=l.get(h))!==null&&m!==void 0?m:null))}),c))}recalculateAndSaveOverlays(e,r){const n=wd();let a=new er((l,c)=>l-c),i=st();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(l=>{for(const c of l)c.keys().forEach(d=>{const h=r.get(d);if(h===null)return;let p=n.get(d)||Xn.empty();p=c.applyToLocalView(h,p),n.set(d,p);const m=(a.get(c.batchId)||st()).add(d);a=a.insert(c.batchId,m)})}).next(()=>{const l=[],c=a.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),h=d.key,p=d.value,m=fM();p.forEach(y=>{if(!i.has(y)){const x=xM(r.get(y),n.get(y));x!==null&&m.set(y,x),i=i.add(y)}}),l.push(this.documentOverlayCache.saveOverlays(e,h,m))}return Ne.waitFor(l)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,a){return function(l){return qe.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):lM(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,a):this.getDocumentsMatchingCollectionQuery(e,r,n,a)}getNextDocuments(e,r,n,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,a).next(i=>{const l=a-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,a-i.size):Ne.resolve(Yo());let c=-1,d=i;return l.next(h=>Ne.forEach(h,(p,m)=>(c<m.largestBatchId&&(c=m.largestBatchId),i.get(p)?Ne.resolve():this.remoteDocumentCache.getEntry(e,p).next(y=>{d=d.insert(p,y)}))).next(()=>this.populateOverlays(e,h,i)).next(()=>this.computeViews(e,d,h,st())).next(p=>({batchId:c,changes:hM(p)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new qe(r)).next(n=>{let a=dd();return n.isFoundDocument()&&(a=a.insert(n.key,n)),a})}getDocumentsMatchingCollectionGroupQuery(e,r,n,a){const i=r.collectionGroup;let l=dd();return this.indexManager.getCollectionParents(e,i).next(c=>Ne.forEach(c,d=>{const h=function(m,y){return new Oh(y,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(r,d.child(i));return this.getDocumentsMatchingCollectionQuery(e,h,n,a).next(p=>{p.forEach((m,y)=>{l=l.insert(m,y)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,r,n,a){let i;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(l=>(i=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,i,a))).next(l=>{i.forEach((d,h)=>{const p=h.getKey();l.get(p)===null&&(l=l.insert(p,tn.newInvalidDocument(p)))});let c=dd();return l.forEach((d,h)=>{const p=i.get(d);p!==void 0&&_d(p.mutation,h,Xn.empty(),Sr.now()),f0(r,h)&&(c=c.insert(d,h))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return Ne.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(a){return{id:a.id,version:a.version,createTime:di(a.createTime)}}(r)),Ne.resolve()}getNamedQuery(e,r){return Ne.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(a){return{name:a.name,query:DU(a.bundledQuery),readTime:di(a.readTime)}}(r)),Ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(){this.overlays=new er(qe.comparator),this.Ir=new Map}getOverlay(e,r){return Ne.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Yo();return Ne.forEach(r,a=>this.getOverlay(e,a).next(i=>{i!==null&&n.set(a,i)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((a,i)=>{this.ht(e,r,i)}),Ne.resolve()}removeOverlaysForBatchId(e,r,n){const a=this.Ir.get(n);return a!==void 0&&(a.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(n)),Ne.resolve()}getOverlaysForCollection(e,r,n){const a=Yo(),i=r.length+1,l=new qe(r.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,h=d.getKey();if(!r.isPrefixOf(h.path))break;h.path.length===i&&d.largestBatchId>n&&a.set(d.getKey(),d)}return Ne.resolve(a)}getOverlaysForCollectionGroup(e,r,n,a){let i=new er((h,p)=>h-p);const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===r&&h.largestBatchId>n){let p=i.get(h.largestBatchId);p===null&&(p=Yo(),i=i.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const c=Yo(),d=i.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((h,p)=>c.set(h,p)),!(c.size()>=a)););return Ne.resolve(c)}ht(e,r,n){const a=this.overlays.get(n.key);if(a!==null){const l=this.Ir.get(a.largestBatchId).delete(n.key);this.Ir.set(a.largestBatchId,l)}this.overlays=this.overlays.insert(n.key,new dU(r,n));let i=this.Ir.get(r);i===void 0&&(i=st(),this.Ir.set(r,i)),this.Ir.set(r,i.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(){this.sessionToken=Gr.EMPTY_BYTE_STRING}getSessionToken(e){return Ne.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,Ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(){this.Tr=new Wr(Ir.Er),this.dr=new Wr(Ir.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new Ir(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new Ir(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new qe(new Vt([])),n=new Ir(r,e),a=new Ir(r,e+1),i=[];return this.dr.forEachInRange([n,a],l=>{this.Vr(l),i.push(l.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new qe(new Vt([])),n=new Ir(r,e),a=new Ir(r,e+1);let i=st();return this.dr.forEachInRange([n,a],l=>{i=i.add(l.key)}),i}containsKey(e){const r=new Ir(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Ir{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return qe.comparator(e.key,r.key)||pt(e.wr,r.wr)}static Ar(e,r){return pt(e.wr,r.wr)||qe.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new Wr(Ir.Er)}checkEmpty(e){return Ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,a){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new uU(i,r,n,a);this.mutationQueue.push(l);for(const c of a)this.br=this.br.add(new Ir(c.key,i)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Ne.resolve(l)}lookupMutationBatch(e,r){return Ne.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,a=this.vr(n),i=a<0?0:a;return Ne.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Ne.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Ir(r,0),a=new Ir(r,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([n,a],l=>{const c=this.Dr(l.wr);i.push(c)}),Ne.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Wr(pt);return r.forEach(a=>{const i=new Ir(a,0),l=new Ir(a,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,l],c=>{n=n.add(c.wr)})}),Ne.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,a=n.length+1;let i=n;qe.isDocumentKey(i)||(i=i.child(""));const l=new Ir(new qe(i),0);let c=new Wr(pt);return this.br.forEachWhile(d=>{const h=d.key.path;return!!n.isPrefixOf(h)&&(h.length===a&&(c=c.add(d.wr)),!0)},l),Ne.resolve(this.Cr(c))}Cr(e){const r=[];return e.forEach(n=>{const a=this.Dr(n);a!==null&&r.push(a)}),r}removeMutationBatch(e,r){_t(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return Ne.forEach(r.mutations,a=>{const i=new Ir(a.key,r.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new Ir(r,0),a=this.br.firstAfterOrEqual(n);return Ne.resolve(r.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ne.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e){this.Mr=e,this.docs=function(){return new er(qe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,a=this.docs.get(n),i=a?a.size:0,l=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:l}),this.size+=l-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return Ne.resolve(n?n.document.mutableCopy():tn.newInvalidDocument(r))}getEntries(e,r){let n=rs();return r.forEach(a=>{const i=this.docs.get(a);n=n.insert(a,i?i.document.mutableCopy():tn.newInvalidDocument(a))}),Ne.resolve(n)}getDocumentsMatchingQuery(e,r,n,a){let i=rs();const l=r.path,c=new qe(l.child("")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:h,value:{document:p}}=d.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||TB(SB(p),n)<=0||(a.has(p.key)||f0(r,p))&&(i=i.insert(p.key,p.mutableCopy()))}return Ne.resolve(i)}getAllFromCollectionGroup(e,r,n,a){Je()}Or(e,r){return Ne.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new HU(this)}getSize(e){return Ne.resolve(this.size)}}class HU extends $U{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,a)=>{a.isValidDocument()?r.push(this.cr.addEntry(e,a)):this.cr.removeEntry(n)}),Ne.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(e){this.persistence=e,this.Nr=new lu(r=>bk(r),wk),this.lastRemoteSnapshotVersion=Ze.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Tk,this.targetCount=0,this.kr=Pc.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,a)=>r(a)),Ne.resolve()}getLastRemoteSnapshotVersion(e){return Ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ne.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Ne.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),Ne.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new Pc(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,Ne.resolve()}updateTargetData(e,r){return this.Kn(r),Ne.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,Ne.resolve()}removeTargets(e,r,n){let a=0;const i=[];return this.Nr.forEach((l,c)=>{c.sequenceNumber<=r&&n.get(c.targetId)===null&&(this.Nr.delete(l),i.push(this.removeMatchingKeysForTargetId(e,c.targetId)),a++)}),Ne.waitFor(i).next(()=>a)}getTargetCount(e){return Ne.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return Ne.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),Ne.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const a=this.persistence.referenceDelegate,i=[];return a&&r.forEach(l=>{i.push(a.markPotentiallyOrphaned(e,l))}),Ne.waitFor(i)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),Ne.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return Ne.resolve(n)}containsKey(e,r){return Ne.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(e,r){this.qr={},this.overlays={},this.Qr=new gk(0),this.Kr=!1,this.Kr=!0,this.$r=new qU,this.referenceDelegate=e(this),this.Ur=new GU(this),this.indexManager=new MU,this.remoteDocumentCache=function(a){return new WU(a)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new RU(r),this.Gr=new BU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new UU,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new zU(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){Fe("MemoryPersistence","Starting transaction:",e);const a=new YU(this.Qr.next());return this.referenceDelegate.zr(),n(a).next(i=>this.referenceDelegate.jr(a).next(()=>i)).toPromise().then(i=>(a.raiseOnCommittedEvent(),i))}Hr(e,r){return Ne.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class YU extends AB{constructor(e){super(),this.currentSequenceNumber=e}}class Ek{constructor(e){this.persistence=e,this.Jr=new Tk,this.Yr=null}static Zr(e){return new Ek(e)}get Xr(){if(this.Yr)return this.Yr;throw Je()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),Ne.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),Ne.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),Ne.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(a=>this.Xr.add(a.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(a=>{a.forEach(i=>this.Xr.add(i.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ne.forEach(this.Xr,n=>{const a=qe.fromPath(n);return this.ei(e,a).next(i=>{i||r.removeEntry(a,Ze.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return Ne.or([()=>Ne.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e,r,n,a){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=a}static Wi(e,r){let n=st(),a=st();for(const i of r.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:a=a.add(i.doc.key)}return new Ak(e,r.fromCache,n,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return L5()?8:CB(sn())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,a){const i={result:null};return this.Yi(e,r).next(l=>{i.result=l}).next(()=>{if(!i.result)return this.Zi(e,r,a,n).next(l=>{i.result=l})}).next(()=>{if(i.result)return;const l=new XU;return this.Xi(e,r,l).next(c=>{if(i.result=c,this.zi)return this.es(e,r,l,c.size)})}).next(()=>i.result)}es(e,r,n,a){return n.documentReadCount<this.ji?(Qu()<=lt.DEBUG&&Fe("QueryEngine","SDK will not create cache indexes for query:",uc(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Ne.resolve()):(Qu()<=lt.DEBUG&&Fe("QueryEngine","Query:",uc(r),"scans",n.documentReadCount,"local documents and returns",a,"documents as results."),n.documentReadCount>this.Hi*a?(Qu()<=lt.DEBUG&&Fe("QueryEngine","The SDK decides to create cache indexes for query:",uc(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ui(r))):Ne.resolve())}Yi(e,r){if(yE(r))return Ne.resolve(null);let n=ui(r);return this.indexManager.getIndexType(e,n).next(a=>a===0?null:(r.limit!==null&&a===1&&(r=b_(r,null,"F"),n=ui(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(i=>{const l=st(...i);return this.Ji.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,n).next(d=>{const h=this.ts(r,c);return this.ns(r,h,l,d.readTime)?this.Yi(e,b_(r,null,"F")):this.rs(e,h,r,d)}))})))}Zi(e,r,n,a){return yE(r)||a.isEqual(Ze.min())?Ne.resolve(null):this.Ji.getDocuments(e,n).next(i=>{const l=this.ts(r,i);return this.ns(r,l,n,a)?Ne.resolve(null):(Qu()<=lt.DEBUG&&Fe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),uc(r)),this.rs(e,l,r,NB(a,-1)).next(c=>c))})}ts(e,r){let n=new Wr(uM(e));return r.forEach((a,i)=>{f0(e,i)&&(n=n.add(i))}),n}ns(e,r,n,a){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const i=e.limitType==="F"?r.last():r.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(a)>0)}Xi(e,r,n){return Qu()<=lt.DEBUG&&Fe("QueryEngine","Using full collection scan to execute query:",uc(r)),this.Ji.getDocumentsMatchingQuery(e,r,io.min(),n)}rs(e,r,n,a){return this.Ji.getDocumentsMatchingQuery(e,n,a).next(i=>(r.forEach(l=>{i=i.insert(l.key,l)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{constructor(e,r,n,a){this.persistence=e,this.ss=r,this.serializer=a,this.os=new er(pt),this._s=new lu(i=>bk(i),wk),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new VU(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function ZU(t,e,r,n){return new JU(t,e,r,n)}async function PM(t,e){const r=et(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let a;return r.mutationQueue.getAllMutationBatches(n).next(i=>(a=i,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(i=>{const l=[],c=[];let d=st();for(const h of a){l.push(h.batchId);for(const p of h.mutations)d=d.add(p.key)}for(const h of i){c.push(h.batchId);for(const p of h.mutations)d=d.add(p.key)}return r.localDocuments.getDocuments(n,d).next(h=>({hs:h,removedBatchIds:l,addedBatchIds:c}))})})}function e7(t,e){const r=et(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const a=e.batch.keys(),i=r.cs.newChangeBuffer({trackRemovals:!0});return function(c,d,h,p){const m=h.batch,y=m.keys();let x=Ne.resolve();return y.forEach(k=>{x=x.next(()=>p.getEntry(d,k)).next(w=>{const b=h.docVersions.get(k);_t(b!==null),w.version.compareTo(b)<0&&(m.applyToRemoteDocument(w,h),w.isValidDocument()&&(w.setReadTime(h.commitVersion),p.addEntry(w)))})}),x.next(()=>c.mutationQueue.removeMutationBatch(d,m))}(r,n,e,i).next(()=>i.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,a,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(c){let d=st();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(d=d.add(c.batch.mutations[h].key));return d}(e))).next(()=>r.localDocuments.getDocuments(n,a))})}function IM(t){const e=et(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function t7(t,e){const r=et(t),n=e.snapshotVersion;let a=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const l=r.cs.newChangeBuffer({trackRemovals:!0});a=r.os;const c=[];e.targetChanges.forEach((p,m)=>{const y=a.get(m);if(!y)return;c.push(r.Ur.removeMatchingKeys(i,p.removedDocuments,m).next(()=>r.Ur.addMatchingKeys(i,p.addedDocuments,m)));let x=y.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(m)!==null?x=x.withResumeToken(Gr.EMPTY_BYTE_STRING,Ze.min()).withLastLimboFreeSnapshotVersion(Ze.min()):p.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(p.resumeToken,n)),a=a.insert(m,x),function(w,b,N){return w.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(y,x,p)&&c.push(r.Ur.updateTargetData(i,x))});let d=rs(),h=st();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&c.push(r.persistence.referenceDelegate.updateLimboDocument(i,p))}),c.push(r7(i,l,e.documentUpdates).next(p=>{d=p.Ps,h=p.Is})),!n.isEqual(Ze.min())){const p=r.Ur.getLastRemoteSnapshotVersion(i).next(m=>r.Ur.setTargetsMetadata(i,i.currentSequenceNumber,n));c.push(p)}return Ne.waitFor(c).next(()=>l.apply(i)).next(()=>r.localDocuments.getLocalViewOfDocuments(i,d,h)).next(()=>d)}).then(i=>(r.os=a,i))}function r7(t,e,r){let n=st(),a=st();return r.forEach(i=>n=n.add(i)),e.getEntries(t,n).next(i=>{let l=rs();return r.forEach((c,d)=>{const h=i.get(c);d.isFoundDocument()!==h.isFoundDocument()&&(a=a.add(c)),d.isNoDocument()&&d.version.isEqual(Ze.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):Fe("LocalStore","Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",d.version)}),{Ps:l,Is:a}})}function n7(t,e){const r=et(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function a7(t,e){const r=et(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let a;return r.Ur.getTargetData(n,e).next(i=>i?(a=i,Ne.resolve(a)):r.Ur.allocateTargetId(n).next(l=>(a=new Ys(e,l,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,a).next(()=>a))))}).then(n=>{const a=r.os.get(n.targetId);return(a===null||n.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function N_(t,e,r){const n=et(t),a=n.os.get(e),i=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",i,l=>n.persistence.referenceDelegate.removeTarget(l,a))}catch(l){if(!Ih(l))throw l;Fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}n.os=n.os.remove(e),n._s.delete(a.target)}function AE(t,e,r){const n=et(t);let a=Ze.min(),i=st();return n.persistence.runTransaction("Execute query","readwrite",l=>function(d,h,p){const m=et(d),y=m._s.get(p);return y!==void 0?Ne.resolve(m.os.get(y)):m.Ur.getTargetData(h,p)}(n,l,ui(e)).next(c=>{if(c)return a=c.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(l,c.targetId).next(d=>{i=d})}).next(()=>n.ss.getDocumentsMatchingQuery(l,e,r?a:Ze.min(),r?i:st())).next(c=>(i7(n,KB(e),c),{documents:c,Ts:i})))}function i7(t,e,r){let n=t.us.get(e)||Ze.min();r.forEach((a,i)=>{i.readTime.compareTo(n)>0&&(n=i.readTime)}),t.us.set(e,n)}class CE{constructor(){this.activeTargetIds=eU()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class s7{constructor(){this.so=new CE,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new CE,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o7{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vp=null;function Qv(){return vp===null?vp=function(){return 268435456+Math.round(2147483648*Math.random())}():vp++,"0x"+vp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c7{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr="WebChannelConnection";class u7 extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${a}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${i}`}get Fo(){return!1}Mo(r,n,a,i,l){const c=Qv(),d=this.xo(r,n.toUriEncodedString());Fe("RestConnection",`Sending RPC '${r}' ${c}:`,d,a);const h={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(h,i,l),this.No(r,d,h,a).then(p=>(Fe("RestConnection",`Received RPC '${r}' ${c}: `,p),p),p=>{throw Tc("RestConnection",`RPC '${r}' ${c} failed with error: `,p,"url: ",d,"request:",a),p})}Lo(r,n,a,i,l,c){return this.Mo(r,n,a,i,l)}Oo(r,n,a){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ou}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,l)=>r[l]=i),a&&a.headers.forEach((i,l)=>r[l]=i)}xo(r,n){const a=l7[r];return`${this.Do}/v1/${n}:${a}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,a){const i=Qv();return new Promise((l,c)=>{const d=new HD;d.setWithCredentials(!0),d.listenOnce(GD.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case $p.NO_ERROR:const p=d.getResponseJson();Fe(Jr,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(p)),l(p);break;case $p.TIMEOUT:Fe(Jr,`RPC '${e}' ${i} timed out`),c(new Re(we.DEADLINE_EXCEEDED,"Request time out"));break;case $p.HTTP_ERROR:const m=d.getStatus();if(Fe(Jr,`RPC '${e}' ${i} failed with status:`,m,"response text:",d.getResponseText()),m>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);const x=y?.error;if(x&&x.status&&x.message){const k=function(b){const N=b.toLowerCase().replace(/_/g,"-");return Object.values(we).indexOf(N)>=0?N:we.UNKNOWN}(x.status);c(new Re(k,x.message))}else c(new Re(we.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new Re(we.UNAVAILABLE,"Connection failed."));break;default:Je()}}finally{Fe(Jr,`RPC '${e}' ${i} completed.`)}});const h=JSON.stringify(a);Fe(Jr,`RPC '${e}' ${i} sending request:`,a),d.send(r,"POST",h,n,15)})}Bo(e,r,n){const a=Qv(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=XD(),c=YD(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Oo(d.initMessageHeaders,r,n),d.encodeInitMessageHeaders=!0;const p=i.join("");Fe(Jr,`Creating RPC '${e}' stream ${a}: ${p}`,d);const m=l.createWebChannel(p,d);let y=!1,x=!1;const k=new c7({Io:b=>{x?Fe(Jr,`Not sending because RPC '${e}' stream ${a} is closed:`,b):(y||(Fe(Jr,`Opening RPC '${e}' stream ${a} transport.`),m.open(),y=!0),Fe(Jr,`RPC '${e}' stream ${a} sending:`,b),m.send(b))},To:()=>m.close()}),w=(b,N,E)=>{b.listen(N,P=>{try{E(P)}catch(R){setTimeout(()=>{throw R},0)}})};return w(m,ud.EventType.OPEN,()=>{x||(Fe(Jr,`RPC '${e}' stream ${a} transport opened.`),k.yo())}),w(m,ud.EventType.CLOSE,()=>{x||(x=!0,Fe(Jr,`RPC '${e}' stream ${a} transport closed`),k.So())}),w(m,ud.EventType.ERROR,b=>{x||(x=!0,Tc(Jr,`RPC '${e}' stream ${a} transport errored:`,b),k.So(new Re(we.UNAVAILABLE,"The operation could not be completed")))}),w(m,ud.EventType.MESSAGE,b=>{var N;if(!x){const E=b.data[0];_t(!!E);const P=E,R=P.error||((N=P[0])===null||N===void 0?void 0:N.error);if(R){Fe(Jr,`RPC '${e}' stream ${a} received error:`,R);const j=R.status;let C=function(L){const O=pr[L];if(O!==void 0)return wM(O)}(j),A=R.message;C===void 0&&(C=we.INTERNAL,A="Unknown error status: "+j+" with message "+R.message),x=!0,k.So(new Re(C,A)),m.close()}else Fe(Jr,`RPC '${e}' stream ${a} received:`,E),k.bo(E)}}),w(c,KD.STAT_EVENT,b=>{b.stat===p_.PROXY?Fe(Jr,`RPC '${e}' stream ${a} detected buffering proxy`):b.stat===p_.NOPROXY&&Fe(Jr,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{k.wo()},0),k}}function Jv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(t){return new bU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e,r,n=1e3,a=1.5,i=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=a,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),a=Math.max(0,r-n);a>0&&Fe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,a,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e,r,n,a,i,l,c,d){this.ui=e,this.Ho=n,this.Jo=a,this.connection=i,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new OM(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===we.RESOURCE_EXHAUSTED?(ts(r.toString()),ts("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===we.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,a])=>{this.Yo===r&&this.P_(n,a)},n=>{e(()=>{const a=new Re(we.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(a)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(a=>{n(()=>this.I_(a))}),this.stream.onMessage(a=>{n(()=>++this.e_==1?this.E_(a):this.onNext(a))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(Fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class d7 extends RM{constructor(e,r,n,a,i,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,a,l),this.serializer=i}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=kU(this.serializer,e),n=function(i){if(!("targetChange"in i))return Ze.min();const l=i.targetChange;return l.targetIds&&l.targetIds.length?Ze.min():l.readTime?di(l.readTime):Ze.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=j_(this.serializer),r.addTarget=function(i,l){let c;const d=l.target;if(c=y_(d)?{documents:SU(i,d)}:{query:TU(i,d)._t},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=jM(i,l.resumeToken);const h=w_(i,l.expectedCount);h!==null&&(c.expectedCount=h)}else if(l.snapshotVersion.compareTo(Ze.min())>0){c.readTime=nm(i,l.snapshotVersion.toTimestamp());const h=w_(i,l.expectedCount);h!==null&&(c.expectedCount=h)}return c}(this.serializer,e);const n=AU(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=j_(this.serializer),r.removeTarget=e,this.a_(r)}}class h7 extends RM{constructor(e,r,n,a,i,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,a,l),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return _t(!!e.streamToken),this.lastStreamToken=e.streamToken,_t(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){_t(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=NU(e.writeResults,e.commitTime),n=di(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=j_(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>jU(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f7 extends class{}{constructor(e,r,n,a){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=a,this.y_=!1}w_(){if(this.y_)throw new Re(we.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.connection.Mo(e,__(r,n),a,i,l)).catch(i=>{throw i.name==="FirebaseError"?(i.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Re(we.UNKNOWN,i.toString())})}Lo(e,r,n,a,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Lo(e,__(r,n),a,l,c,i)).catch(l=>{throw l.name==="FirebaseError"?(l.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Re(we.UNKNOWN,l.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class p7{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ts(r),this.D_=!1):Fe("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m7{constructor(e,r,n,a,i){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(l=>{n.enqueueAndForget(async()=>{wl(this)&&(Fe("RemoteStore","Restarting streams for network reachability change."),await async function(d){const h=et(d);h.L_.add(4),await Mh(h),h.q_.set("Unknown"),h.L_.delete(4),await x0(h)}(this))})}),this.q_=new p7(n,a)}}async function x0(t){if(wl(t))for(const e of t.B_)await e(!0)}async function Mh(t){for(const e of t.B_)await e(!1)}function DM(t,e){const r=et(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),Ok(r)?Ik(r):cu(r).r_()&&Pk(r,e))}function Ck(t,e){const r=et(t),n=cu(r);r.N_.delete(e),n.r_()&&MM(r,e),r.N_.size===0&&(n.r_()?n.o_():wl(r)&&r.q_.set("Unknown"))}function Pk(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ze.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}cu(t).A_(e)}function MM(t,e){t.Q_.xe(e),cu(t).R_(e)}function Ik(t){t.Q_=new gU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),cu(t).start(),t.q_.v_()}function Ok(t){return wl(t)&&!cu(t).n_()&&t.N_.size>0}function wl(t){return et(t).L_.size===0}function LM(t){t.Q_=void 0}async function g7(t){t.q_.set("Online")}async function v7(t){t.N_.forEach((e,r)=>{Pk(t,e)})}async function y7(t,e){LM(t),Ok(t)?(t.q_.M_(e),Ik(t)):t.q_.set("Unknown")}async function x7(t,e,r){if(t.q_.set("Online"),e instanceof kM&&e.state===2&&e.cause)try{await async function(a,i){const l=i.cause;for(const c of i.targetIds)a.N_.has(c)&&(await a.remoteSyncer.rejectListen(c,l),a.N_.delete(c),a.Q_.removeTarget(c))}(t,e)}catch(n){Fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await am(t,n)}else if(e instanceof Bp?t.Q_.Ke(e):e instanceof _M?t.Q_.He(e):t.Q_.We(e),!r.isEqual(Ze.min()))try{const n=await IM(t.localStore);r.compareTo(n)>=0&&await function(i,l){const c=i.Q_.rt(l);return c.targetChanges.forEach((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const p=i.N_.get(h);p&&i.N_.set(h,p.withResumeToken(d.resumeToken,l))}}),c.targetMismatches.forEach((d,h)=>{const p=i.N_.get(d);if(!p)return;i.N_.set(d,p.withResumeToken(Gr.EMPTY_BYTE_STRING,p.snapshotVersion)),MM(i,d);const m=new Ys(p.target,d,h,p.sequenceNumber);Pk(i,m)}),i.remoteSyncer.applyRemoteEvent(c)}(t,r)}catch(n){Fe("RemoteStore","Failed to raise snapshot:",n),await am(t,n)}}async function am(t,e,r){if(!Ih(e))throw e;t.L_.add(1),await Mh(t),t.q_.set("Offline"),r||(r=()=>IM(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Fe("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await x0(t)})}function $M(t,e){return e().catch(r=>am(t,r,e))}async function b0(t){const e=et(t),r=oo(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;b7(e);)try{const a=await n7(e.localStore,n);if(a===null){e.O_.length===0&&r.o_();break}n=a.batchId,w7(e,a)}catch(a){await am(e,a)}FM(e)&&VM(e)}function b7(t){return wl(t)&&t.O_.length<10}function w7(t,e){t.O_.push(e);const r=oo(t);r.r_()&&r.V_&&r.m_(e.mutations)}function FM(t){return wl(t)&&!oo(t).n_()&&t.O_.length>0}function VM(t){oo(t).start()}async function _7(t){oo(t).p_()}async function k7(t){const e=oo(t);for(const r of t.O_)e.m_(r.mutations)}async function j7(t,e,r){const n=t.O_.shift(),a=jk.from(n,e,r);await $M(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await b0(t)}async function N7(t,e){e&&oo(t).V_&&await async function(n,a){if(function(l){return fU(l)&&l!==we.ABORTED}(a.code)){const i=n.O_.shift();oo(n).s_(),await $M(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,a)),await b0(n)}}(t,e),FM(t)&&VM(t)}async function IE(t,e){const r=et(t);r.asyncQueue.verifyOperationInProgress(),Fe("RemoteStore","RemoteStore received new credentials");const n=wl(r);r.L_.add(3),await Mh(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await x0(r)}async function S7(t,e){const r=et(t);e?(r.L_.delete(2),await x0(r)):e||(r.L_.add(2),await Mh(r),r.q_.set("Unknown"))}function cu(t){return t.K_||(t.K_=function(r,n,a){const i=et(r);return i.w_(),new d7(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(t.datastore,t.asyncQueue,{Eo:g7.bind(null,t),Ro:v7.bind(null,t),mo:y7.bind(null,t),d_:x7.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Ok(t)?Ik(t):t.q_.set("Unknown")):(await t.K_.stop(),LM(t))})),t.K_}function oo(t){return t.U_||(t.U_=function(r,n,a){const i=et(r);return i.w_(),new h7(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:_7.bind(null,t),mo:N7.bind(null,t),f_:k7.bind(null,t),g_:j7.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await b0(t)):(await t.U_.stop(),t.O_.length>0&&(Fe("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e,r,n,a,i){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=a,this.removalCallback=i,this.deferred=new Zs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,a,i){const l=Date.now()+n,c=new Rk(e,r,l,a,i);return c.start(n),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Re(we.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dk(t,e){if(ts("AsyncQueue",`${e}: ${t}`),Ih(t))return new Re(we.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e){this.comparator=e?(r,n)=>e(r,n)||qe.comparator(r.key,n.key):(r,n)=>qe.comparator(r.key,n.key),this.keyedMap=dd(),this.sortedSet=new er(this.comparator)}static emptySet(e){return new _c(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof _c)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const a=r.getNext().key,i=n.getNext().key;if(!a.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new _c;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(){this.W_=new er(qe.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):Je():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class Ic{constructor(e,r,n,a,i,l,c,d,h){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=a,this.mutatedKeys=i,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,r,n,a,i){const l=[];return r.forEach(c=>{l.push({type:0,doc:c})}),new Ic(e,r,_c.emptySet(r),l,n,a,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&h0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(r[a].type!==n[a].type||!r[a].doc.isEqual(n[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class E7{constructor(){this.queries=RE(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const a=et(r),i=a.queries;a.queries=RE(),i.forEach((l,c)=>{for(const d of c.j_)d.onError(n)})})(this,new Re(we.ABORTED,"Firestore shutting down"))}}function RE(){return new lu(t=>cM(t),h0)}async function BM(t,e){const r=et(t);let n=3;const a=e.query;let i=r.queries.get(a);i?!i.H_()&&e.J_()&&(n=2):(i=new T7,n=e.J_()?0:1);try{switch(n){case 0:i.z_=await r.onListen(a,!0);break;case 1:i.z_=await r.onListen(a,!1);break;case 2:await r.onFirstRemoteStoreListen(a)}}catch(l){const c=Dk(l,`Initialization of query '${uc(e.query)}' failed`);return void e.onError(c)}r.queries.set(a,i),i.j_.push(e),e.Z_(r.onlineState),i.z_&&e.X_(i.z_)&&Mk(r)}async function UM(t,e){const r=et(t),n=e.query;let a=3;const i=r.queries.get(n);if(i){const l=i.j_.indexOf(e);l>=0&&(i.j_.splice(l,1),i.j_.length===0?a=e.J_()?0:1:!i.H_()&&e.J_()&&(a=2))}switch(a){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function A7(t,e){const r=et(t);let n=!1;for(const a of e){const i=a.query,l=r.queries.get(i);if(l){for(const c of l.j_)c.X_(a)&&(n=!0);l.z_=a}}n&&Mk(r)}function C7(t,e,r){const n=et(t),a=n.queries.get(e);if(a)for(const i of a.j_)i.onError(r);n.queries.delete(e)}function Mk(t){t.Y_.forEach(e=>{e.next()})}var S_,DE;(DE=S_||(S_={})).ea="default",DE.Cache="cache";class qM{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const a of e.docChanges)a.type!==3&&n.push(a);e=new Ic(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=Ic.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==S_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e){this.key=e}}class WM{constructor(e){this.key=e}}class P7{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=st(),this.mutatedKeys=st(),this.Aa=uM(e),this.Ra=new _c(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new OE,a=r?r.Ra:this.Ra;let i=r?r.mutatedKeys:this.mutatedKeys,l=a,c=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,h=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((p,m)=>{const y=a.get(p),x=f0(this.query,m)?m:null,k=!!y&&this.mutatedKeys.has(y.key),w=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let b=!1;y&&x?y.data.isEqual(x.data)?k!==w&&(n.track({type:3,doc:x}),b=!0):this.ga(y,x)||(n.track({type:2,doc:x}),b=!0,(d&&this.Aa(x,d)>0||h&&this.Aa(x,h)<0)&&(c=!0)):!y&&x?(n.track({type:0,doc:x}),b=!0):y&&!x&&(n.track({type:1,doc:y}),b=!0,(d||h)&&(c=!0)),b&&(x?(l=l.add(x),i=w?i.add(p):i.delete(p)):(l=l.delete(p),i=i.delete(p)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),i=i.delete(p.key),n.track({type:1,doc:p})}return{Ra:l,fa:n,ns:c,mutatedKeys:i}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,a){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const l=e.fa.G_();l.sort((p,m)=>function(x,k){const w=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Je()}};return w(x)-w(k)}(p.type,m.type)||this.Aa(p.doc,m.doc)),this.pa(n),a=a!=null&&a;const c=r&&!a?this.ya():[],d=this.da.size===0&&this.current&&!a?1:0,h=d!==this.Ea;return this.Ea=d,l.length!==0||h?{snapshot:new Ic(this.query,e.Ra,i,l,e.mutatedKeys,d===0,h,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new OE,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=st(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new WM(n))}),this.da.forEach(n=>{e.has(n)||r.push(new zM(n))}),r}ba(e){this.Ta=e.Ts,this.da=st();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return Ic.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class I7{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class O7{constructor(e){this.key=e,this.va=!1}}class R7{constructor(e,r,n,a,i,l){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=a,this.currentUser=i,this.maxConcurrentLimboResolutions=l,this.Ca={},this.Fa=new lu(c=>cM(c),h0),this.Ma=new Map,this.xa=new Set,this.Oa=new er(qe.comparator),this.Na=new Map,this.La=new Tk,this.Ba={},this.ka=new Map,this.qa=Pc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function D7(t,e,r=!0){const n=QM(t);let a;const i=n.Fa.get(e);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),a=i.view.Da()):a=await HM(n,e,r,!0),a}async function M7(t,e){const r=QM(t);await HM(r,e,!0,!1)}async function HM(t,e,r,n){const a=await a7(t.localStore,ui(e)),i=a.targetId,l=t.sharedClientState.addLocalQueryTarget(i,r);let c;return n&&(c=await L7(t,e,i,l==="current",a.resumeToken)),t.isPrimaryClient&&r&&DM(t.remoteStore,a),c}async function L7(t,e,r,n,a){t.Ka=(m,y,x)=>async function(w,b,N,E){let P=b.view.ma(N);P.ns&&(P=await AE(w.localStore,b.query,!1).then(({documents:A})=>b.view.ma(A,P)));const R=E&&E.targetChanges.get(b.targetId),j=E&&E.targetMismatches.get(b.targetId)!=null,C=b.view.applyChanges(P,w.isPrimaryClient,R,j);return LE(w,b.targetId,C.wa),C.snapshot}(t,m,y,x);const i=await AE(t.localStore,e,!0),l=new P7(e,i.Ts),c=l.ma(i.documents),d=Dh.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",a),h=l.applyChanges(c,t.isPrimaryClient,d);LE(t,r,h.wa);const p=new I7(e,r,l);return t.Fa.set(e,p),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),h.snapshot}async function $7(t,e,r){const n=et(t),a=n.Fa.get(e),i=n.Ma.get(a.targetId);if(i.length>1)return n.Ma.set(a.targetId,i.filter(l=>!h0(l,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(a.targetId),n.sharedClientState.isActiveQueryTarget(a.targetId)||await N_(n.localStore,a.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(a.targetId),r&&Ck(n.remoteStore,a.targetId),T_(n,a.targetId)}).catch(Ph)):(T_(n,a.targetId),await N_(n.localStore,a.targetId,!0))}async function F7(t,e){const r=et(t),n=r.Fa.get(e),a=r.Ma.get(n.targetId);r.isPrimaryClient&&a.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),Ck(r.remoteStore,n.targetId))}async function V7(t,e,r){const n=G7(t);try{const a=await function(l,c){const d=et(l),h=Sr.now(),p=c.reduce((x,k)=>x.add(k.key),st());let m,y;return d.persistence.runTransaction("Locally write mutations","readwrite",x=>{let k=rs(),w=st();return d.cs.getEntries(x,p).next(b=>{k=b,k.forEach((N,E)=>{E.isValidDocument()||(w=w.add(N))})}).next(()=>d.localDocuments.getOverlayedDocuments(x,k)).next(b=>{m=b;const N=[];for(const E of c){const P=lU(E,m.get(E.key).overlayedDocument);P!=null&&N.push(new co(E.key,P,tM(P.value.mapValue),xn.exists(!0)))}return d.mutationQueue.addMutationBatch(x,h,N,c)}).next(b=>{y=b;const N=b.applyToLocalDocumentSet(m,w);return d.documentOverlayCache.saveOverlays(x,b.batchId,N)})}).then(()=>({batchId:y.batchId,changes:hM(m)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(a.batchId),function(l,c,d){let h=l.Ba[l.currentUser.toKey()];h||(h=new er(pt)),h=h.insert(c,d),l.Ba[l.currentUser.toKey()]=h}(n,a.batchId,r),await Lh(n,a.changes),await b0(n.remoteStore)}catch(a){const i=Dk(a,"Failed to persist write");r.reject(i)}}async function GM(t,e){const r=et(t);try{const n=await t7(r.localStore,e);e.targetChanges.forEach((a,i)=>{const l=r.Na.get(i);l&&(_t(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?l.va=!0:a.modifiedDocuments.size>0?_t(l.va):a.removedDocuments.size>0&&(_t(l.va),l.va=!1))}),await Lh(r,n,e)}catch(n){await Ph(n)}}function ME(t,e,r){const n=et(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const a=[];n.Fa.forEach((i,l)=>{const c=l.view.Z_(e);c.snapshot&&a.push(c.snapshot)}),function(l,c){const d=et(l);d.onlineState=c;let h=!1;d.queries.forEach((p,m)=>{for(const y of m.j_)y.Z_(c)&&(h=!0)}),h&&Mk(d)}(n.eventManager,e),a.length&&n.Ca.d_(a),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function B7(t,e,r){const n=et(t);n.sharedClientState.updateQueryState(e,"rejected",r);const a=n.Na.get(e),i=a&&a.key;if(i){let l=new er(qe.comparator);l=l.insert(i,tn.newNoDocument(i,Ze.min()));const c=st().add(i),d=new v0(Ze.min(),new Map,new er(pt),l,c);await GM(n,d),n.Oa=n.Oa.remove(i),n.Na.delete(e),Lk(n)}else await N_(n.localStore,e,!1).then(()=>T_(n,e,r)).catch(Ph)}async function U7(t,e){const r=et(t),n=e.batch.batchId;try{const a=await e7(r.localStore,e);YM(r,n,null),KM(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Lh(r,a)}catch(a){await Ph(a)}}async function q7(t,e,r){const n=et(t);try{const a=await function(l,c){const d=et(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let p;return d.mutationQueue.lookupMutationBatch(h,c).next(m=>(_t(m!==null),p=m.keys(),d.mutationQueue.removeMutationBatch(h,m))).next(()=>d.mutationQueue.performConsistencyCheck(h)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(h,p,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p)).next(()=>d.localDocuments.getDocuments(h,p))})}(n.localStore,e);YM(n,e,r),KM(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Lh(n,a)}catch(a){await Ph(a)}}function KM(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function YM(t,e,r){const n=et(t);let a=n.Ba[n.currentUser.toKey()];if(a){const i=a.get(e);i&&(r?i.reject(r):i.resolve(),a=a.remove(e)),n.Ba[n.currentUser.toKey()]=a}}function T_(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||XM(t,n)})}function XM(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(Ck(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),Lk(t))}function LE(t,e,r){for(const n of r)n instanceof zM?(t.La.addReference(n.key,e),z7(t,n)):n instanceof WM?(Fe("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||XM(t,n.key)):Je()}function z7(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(Fe("SyncEngine","New document in limbo: "+r),t.xa.add(n),Lk(t))}function Lk(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new qe(Vt.fromString(e)),n=t.qa.next();t.Na.set(n,new O7(r)),t.Oa=t.Oa.insert(r,n),DM(t.remoteStore,new Ys(ui(_k(r.path)),n,"TargetPurposeLimboResolution",gk.oe))}}async function Lh(t,e,r){const n=et(t),a=[],i=[],l=[];n.Fa.isEmpty()||(n.Fa.forEach((c,d)=>{l.push(n.Ka(d,e,r).then(h=>{var p;if((h||r)&&n.isPrimaryClient){const m=h?!h.fromCache:(p=r?.targetChanges.get(d.targetId))===null||p===void 0?void 0:p.current;n.sharedClientState.updateQueryState(d.targetId,m?"current":"not-current")}if(h){a.push(h);const m=Ak.Wi(d.targetId,h);i.push(m)}}))}),await Promise.all(l),n.Ca.d_(a),await async function(d,h){const p=et(d);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>Ne.forEach(h,y=>Ne.forEach(y.$i,x=>p.persistence.referenceDelegate.addReference(m,y.targetId,x)).next(()=>Ne.forEach(y.Ui,x=>p.persistence.referenceDelegate.removeReference(m,y.targetId,x)))))}catch(m){if(!Ih(m))throw m;Fe("LocalStore","Failed to update sequence numbers: "+m)}for(const m of h){const y=m.targetId;if(!m.fromCache){const x=p.os.get(y),k=x.snapshotVersion,w=x.withLastLimboFreeSnapshotVersion(k);p.os=p.os.insert(y,w)}}}(n.localStore,i))}async function W7(t,e){const r=et(t);if(!r.currentUser.isEqual(e)){Fe("SyncEngine","User change. New user:",e.toKey());const n=await PM(r.localStore,e);r.currentUser=e,function(i,l){i.ka.forEach(c=>{c.forEach(d=>{d.reject(new Re(we.CANCELLED,l))})}),i.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Lh(r,n.hs)}}function H7(t,e){const r=et(t),n=r.Na.get(e);if(n&&n.va)return st().add(n.key);{let a=st();const i=r.Ma.get(e);if(!i)return a;for(const l of i){const c=r.Fa.get(l);a=a.unionWith(c.view.Va)}return a}}function QM(t){const e=et(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=GM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=H7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=B7.bind(null,e),e.Ca.d_=A7.bind(null,e.eventManager),e.Ca.$a=C7.bind(null,e.eventManager),e}function G7(t){const e=et(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=U7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=q7.bind(null,e),e}class im{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=y0(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return ZU(this.persistence,new QU,e.initialUser,this.serializer)}Ga(e){return new KU(Ek.Zr,this.serializer)}Wa(e){return new s7}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}im.provider={build:()=>new im};class E_{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>ME(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=W7.bind(null,this.syncEngine),await S7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new E7}()}createDatastore(e){const r=y0(e.databaseInfo.databaseId),n=function(i){return new u7(i)}(e.databaseInfo);return function(i,l,c,d){return new f7(i,l,c,d)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,a,i,l,c){return new m7(n,a,i,l,c)}(this.localStore,this.datastore,e.asyncQueue,r=>ME(this.syncEngine,r,0),function(){return PE.D()?new PE:new o7}())}createSyncEngine(e,r){return function(a,i,l,c,d,h,p){const m=new R7(a,i,l,c,d,h);return p&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(a){const i=et(a);Fe("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await Mh(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}E_.provider={build:()=>new E_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ts("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K7{constructor(e,r,n,a,i){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=a,this.user=en.UNAUTHENTICATED,this.clientId=JD.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async l=>{Fe("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(n,l=>(Fe("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=Dk(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Zv(t,e){t.asyncQueue.verifyOperationInProgress(),Fe("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async a=>{n.isEqual(a)||(await PM(e.localStore,a),n=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function $E(t,e){t.asyncQueue.verifyOperationInProgress();const r=await Y7(t);Fe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>IE(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,a)=>IE(e.remoteStore,a)),t._onlineComponents=e}async function Y7(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Fe("FirestoreClient","Using user provided OfflineComponentProvider");try{await Zv(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(a){return a.name==="FirebaseError"?a.code===we.FAILED_PRECONDITION||a.code===we.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(r))throw r;Tc("Error using user provided cache. Falling back to memory cache: "+r),await Zv(t,new im)}}else Fe("FirestoreClient","Using default OfflineComponentProvider"),await Zv(t,new im);return t._offlineComponents}async function ZM(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Fe("FirestoreClient","Using user provided OnlineComponentProvider"),await $E(t,t._uninitializedComponentsProvider._online)):(Fe("FirestoreClient","Using default OnlineComponentProvider"),await $E(t,new E_))),t._onlineComponents}function X7(t){return ZM(t).then(e=>e.syncEngine)}async function A_(t){const e=await ZM(t),r=e.eventManager;return r.onListen=D7.bind(null,e.syncEngine),r.onUnlisten=$7.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=M7.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=F7.bind(null,e.syncEngine),r}function Q7(t,e,r={}){const n=new Zs;return t.asyncQueue.enqueueAndForget(async()=>function(i,l,c,d,h){const p=new JM({next:y=>{p.Za(),l.enqueueAndForget(()=>UM(i,m)),y.fromCache&&d.source==="server"?h.reject(new Re(we.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(y)},error:y=>h.reject(y)}),m=new qM(c,p,{includeMetadataChanges:!0,_a:!0});return BM(i,m)}(await A_(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e4(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t4(t,e,r){if(!r)throw new Re(we.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function J7(t,e,r,n){if(e===!0&&n===!0)throw new Re(we.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function VE(t){if(!qe.isDocumentKey(t))throw new Re(we.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function BE(t){if(qe.isDocumentKey(t))throw new Re(we.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function w0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Je()}function Jn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Re(we.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=w0(t);throw new Re(we.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Re(we.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Re(we.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}J7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=e4((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Re(we.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Re(we.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Re(we.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,a){return n.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _0{constructor(e,r,n,a){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new UE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Re(we.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Re(we.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new UE(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new gB;switch(n.type){case"firstParty":return new bB(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Re(we.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=FE.get(r);n&&(Fe("ComponentProvider","Removing Datastore"),FE.delete(r),n.terminate())}(this),Promise.resolve()}}function Z7(t,e,r,n={}){var a;const i=(t=Jn(t,_0))._getSettings(),l=`${e}:${r}`;if(i.host!=="firestore.googleapis.com"&&i.host!==l&&Tc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:l,ssl:!1})),n.mockUserToken){let c,d;if(typeof n.mockUserToken=="string")c=n.mockUserToken,d=en.MOCK_USER;else{c=iD(n.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new Re(we.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new en(h)}t._authCredentials=new vB(new QD(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new _l(this.firestore,e,this._query)}}class bn{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new eo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bn(this.firestore,e,this._key)}}class eo extends _l{constructor(e,r,n){super(e,r,_k(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bn(this.firestore,null,new qe(e))}withConverter(e){return new eo(this.firestore,e,this._path)}}function In(t,e,...r){if(t=Bt(t),t4("collection","path",e),t instanceof _0){const n=Vt.fromString(e,...r);return BE(n),new eo(t,null,n)}{if(!(t instanceof bn||t instanceof eo))throw new Re(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Vt.fromString(e,...r));return BE(n),new eo(t.firestore,null,n)}}function Nt(t,e,...r){if(t=Bt(t),arguments.length===1&&(e=JD.newId()),t4("doc","path",e),t instanceof _0){const n=Vt.fromString(e,...r);return VE(n),new bn(t,null,new qe(n))}{if(!(t instanceof bn||t instanceof eo))throw new Re(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Vt.fromString(e,...r));return VE(n),new bn(t.firestore,t instanceof eo?t.converter:null,new qe(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new OM(this,"async_queue_retry"),this.Vu=()=>{const n=Jv();n&&Fe("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=Jv();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=Jv();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new Zs;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Ih(e))throw e;Fe("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const a=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(n);throw ts("INTERNAL UNHANDLED ERROR: ",a),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const a=Rk.createAndSchedule(this,e,r,n,i=>this.yu(i));return this.Tu.push(a),a}fu(){this.Eu&&Je()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function zE(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const a=r;for(const i of n)if(i in a&&typeof a[i]=="function")return!0;return!1}(t,["next","error","complete"])}class ns extends _0{constructor(e,r,n,a){super(e,r,n,a),this.type="firestore",this._queue=new qE,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new qE(e),this._firestoreClient=void 0,await e}}}function r4(t,e){const r=typeof t=="object"?t:ak(),n=typeof t=="string"?t:"(default)",a=o0(r,"firestore").getImmediate({identifier:n});if(!a._initialized){const i=rD("firestore");i&&Z7(a,...i)}return a}function k0(t){if(t._terminated)throw new Re(we.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||e8(t),t._firestoreClient}function e8(t){var e,r,n;const a=t._freezeSettings(),i=function(c,d,h,p){return new OB(c,d,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,e4(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._componentsProvider||!((r=a.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=a.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),t._firestoreClient=new K7(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(c){const d=c?._online.build();return{_offline:c?._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Oc(Gr.fromBase64String(e))}catch(r){throw new Re(we.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Oc(Gr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Re(we.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Re(we.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Re(we.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return pt(this._lat,e._lat)||pt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,a){if(n.length!==a.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==a[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t8=/^__.*__$/;class r8{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new co(e,this.data,this.fieldMask,r,this.fieldTransforms):new Rh(e,this.data,r,this.fieldTransforms)}}class n4{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new co(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function a4(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Je()}}class Vk{constructor(e,r,n,a,i,l){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=a,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Vk(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),a=this.Fu({path:n,xu:!1});return a.Ou(e),a}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),a=this.Fu({path:n,xu:!1});return a.vu(),a}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return sm(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(a4(this.Cu)&&t8.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class n8{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||y0(e)}Qu(e,r,n,a=!1){return new Vk({Cu:e,methodName:r,qu:n,path:zr.emptyPath(),xu:!1,ku:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fh(t){const e=t._freezeSettings(),r=y0(t._databaseId);return new n8(t._databaseId,!!e.ignoreUndefinedProperties,r)}function Bk(t,e,r,n,a,i={}){const l=t.Qu(i.merge||i.mergeFields?2:0,e,r,a);qk("Data must be an object, but it was:",l,n);const c=o4(n,l);let d,h;if(i.merge)d=new Xn(l.fieldMask),h=l.fieldTransforms;else if(i.mergeFields){const p=[];for(const m of i.mergeFields){const y=C_(e,m,r);if(!l.contains(y))throw new Re(we.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);c4(p,y)||p.push(y)}d=new Xn(p),h=l.fieldTransforms.filter(m=>d.covers(m.field))}else d=null,h=l.fieldTransforms;return new r8(new On(c),d,h)}class N0 extends j0{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof N0}}class Uk extends j0{_toFieldTransform(e){return new aU(e.path,new $d)}isEqual(e){return e instanceof Uk}}function i4(t,e,r,n){const a=t.Qu(1,e,r);qk("Data must be an object, but it was:",a,n);const i=[],l=On.empty();bl(n,(d,h)=>{const p=zk(e,d,r);h=Bt(h);const m=a.Nu(p);if(h instanceof N0)i.push(p);else{const y=Vh(h,m);y!=null&&(i.push(p),l.set(p,y))}});const c=new Xn(i);return new n4(l,c,a.fieldTransforms)}function s4(t,e,r,n,a,i){const l=t.Qu(1,e,r),c=[C_(e,n,r)],d=[a];if(i.length%2!=0)throw new Re(we.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<i.length;y+=2)c.push(C_(e,i[y])),d.push(i[y+1]);const h=[],p=On.empty();for(let y=c.length-1;y>=0;--y)if(!c4(h,c[y])){const x=c[y];let k=d[y];k=Bt(k);const w=l.Nu(x);if(k instanceof N0)h.push(x);else{const b=Vh(k,w);b!=null&&(h.push(x),p.set(x,b))}}const m=new Xn(h);return new n4(p,m,l.fieldTransforms)}function a8(t,e,r,n=!1){return Vh(r,t.Qu(n?4:3,e))}function Vh(t,e){if(l4(t=Bt(t)))return qk("Unsupported field value:",e,t),o4(t,e);if(t instanceof j0)return function(n,a){if(!a4(a.Cu))throw a.Bu(`${n._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Bu(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(a);i&&a.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,a){const i=[];let l=0;for(const c of n){let d=Vh(c,a.Lu(l));d==null&&(d={nullValue:"NULL_VALUE"}),i.push(d),l++}return{arrayValue:{values:i}}}(t,e)}return function(n,a){if((n=Bt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return tU(a.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Sr.fromDate(n);return{timestampValue:nm(a.serializer,i)}}if(n instanceof Sr){const i=new Sr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:nm(a.serializer,i)}}if(n instanceof $k)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Oc)return{bytesValue:jM(a.serializer,n._byteString)};if(n instanceof bn){const i=a.databaseId,l=n.firestore._databaseId;if(!l.isEqual(i))throw a.Bu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Sk(n.firestore._databaseId||a.databaseId,n._key.path)}}if(n instanceof Fk)return function(l,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:l.toArray().map(d=>{if(typeof d!="number")throw c.Bu("VectorValues must only contain numeric values.");return kk(c.serializer,d)})}}}}}}(n,a);throw a.Bu(`Unsupported field value: ${w0(n)}`)}(t,e)}function o4(t,e){const r={};return ZD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bl(t,(n,a)=>{const i=Vh(a,e.Mu(n));i!=null&&(r[n]=i)}),{mapValue:{fields:r}}}function l4(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Sr||t instanceof $k||t instanceof Oc||t instanceof bn||t instanceof j0||t instanceof Fk)}function qk(t,e,r){if(!l4(r)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(r)){const n=w0(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function C_(t,e,r){if((e=Bt(e))instanceof $h)return e._internalPath;if(typeof e=="string")return zk(t,e);throw sm("Field path arguments must be of type string or ",t,!1,void 0,r)}const i8=new RegExp("[~\\*/\\[\\]]");function zk(t,e,r){if(e.search(i8)>=0)throw sm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new $h(...e.split("."))._internalPath}catch{throw sm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function sm(t,e,r,n,a){const i=n&&!n.isEmpty(),l=a!==void 0;let c=`Function ${e}() called with invalid data`;r&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(i||l)&&(d+=" (found",i&&(d+=` in field ${n}`),l&&(d+=` in document ${a}`),d+=")"),new Re(we.INVALID_ARGUMENT,c+t+d)}function c4(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e,r,n,a,i){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=a,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new bn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new s8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(d4("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class s8 extends u4{data(){return super.data()}}function d4(t,e){return typeof e=="string"?zk(t,e):e instanceof $h?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Re(we.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wk{}class o8 extends Wk{}function l8(t,e,...r){let n=[];e instanceof Wk&&n.push(e),n=n.concat(r),function(i){const l=i.filter(d=>d instanceof Gk).length,c=i.filter(d=>d instanceof Hk).length;if(l>1||l>0&&c>0)throw new Re(we.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)t=a._apply(t);return t}class Hk extends o8{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new Hk(e,r,n)}_apply(e){const r=this._parse(e);return f4(e._query,r),new _l(e.firestore,e.converter,x_(e._query,r))}_parse(e){const r=Fh(e.firestore);return function(i,l,c,d,h,p,m){let y;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Re(we.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){HE(m,p);const x=[];for(const k of m)x.push(WE(d,i,k));y={arrayValue:{values:x}}}else y=WE(d,i,m)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||HE(m,p),y=a8(c,l,m,p==="in"||p==="not-in");return gr.create(h,p,y)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}class Gk extends Wk{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Gk(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Wa.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(a,i){let l=a;const c=i.getFlattenedFilters();for(const d of c)f4(l,d),l=x_(l,d)}(e._query,r),new _l(e.firestore,e.converter,x_(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function WE(t,e,r){if(typeof(r=Bt(r))=="string"){if(r==="")throw new Re(we.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lM(e)&&r.indexOf("/")!==-1)throw new Re(we.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Vt.fromString(r));if(!qe.isDocumentKey(n))throw new Re(we.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return hE(t,new qe(n))}if(r instanceof bn)return hE(t,r._key);throw new Re(we.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${w0(r)}.`)}function HE(t,e){if(!Array.isArray(t)||t.length===0)throw new Re(we.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function f4(t,e){const r=function(a,i){for(const l of a)for(const c of l.getFlattenedFilters())if(i.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new Re(we.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Re(we.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class c8{convertValue(e,r="none"){switch(dl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ur(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(ul(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Je()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return bl(e,(a,i)=>{n[a]=this.convertValue(i,r)}),n}convertVectorValue(e){var r,n,a;const i=(a=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||a===void 0?void 0:a.map(l=>ur(l.doubleValue));return new Fk(i)}convertGeoPoint(e){return new $k(ur(e.latitude),ur(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=yk(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Dd(e));default:return null}}convertTimestamp(e){const r=so(e);return new Sr(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Vt.fromString(e);_t(CM(n));const a=new Md(n.get(1),n.get(3)),i=new qe(n.popFirst(5));return a.isEqual(r)||ts(`Document ${i} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class p4 extends u4{constructor(e,r,n,a,i,l){super(e,r,n,a,l),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Up(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(d4("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class Up extends p4{data(e={}){return super.data(e)}}class m4{constructor(e,r,n,a){this._firestore=e,this._userDataWriter=r,this._snapshot=a,this.metadata=new fd(a.hasPendingWrites,a.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new Up(this._firestore,this._userDataWriter,n.key,n,new fd(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Re(we.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(a,i){if(a._snapshot.oldDocs.isEmpty()){let l=0;return a._snapshot.docChanges.map(c=>{const d=new Up(a._firestore,a._userDataWriter,c.doc.key,c.doc,new fd(a._snapshot.mutatedKeys.has(c.doc.key),a._snapshot.fromCache),a.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(c=>i||c.type!==3).map(c=>{const d=new Up(a._firestore,a._userDataWriter,c.doc.key,c.doc,new fd(a._snapshot.mutatedKeys.has(c.doc.key),a._snapshot.fromCache),a.query.converter);let h=-1,p=-1;return c.type!==0&&(h=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),p=l.indexOf(c.doc.key)),{type:u8(c.type),doc:d,oldIndex:h,newIndex:p}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function u8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Je()}}class Yk extends c8{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oc(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new bn(this.firestore,null,r)}}function g4(t){t=Jn(t,_l);const e=Jn(t.firestore,ns),r=k0(e),n=new Yk(e);return h4(t._query),Q7(r,t._query).then(a=>new m4(e,n,t,a))}function P_(t,e,r){t=Jn(t,bn);const n=Jn(t.firestore,ns),a=Kk(t.converter,e,r);return Bh(n,[Bk(Fh(n),"setDoc",t._key,a,t.converter!==null,r).toMutation(t._key,xn.none())])}function qi(t,e,r,...n){t=Jn(t,bn);const a=Jn(t.firestore,ns),i=Fh(a);let l;return l=typeof(e=Bt(e))=="string"||e instanceof $h?s4(i,"updateDoc",t._key,e,r,n):i4(i,"updateDoc",t._key,e),Bh(a,[l.toMutation(t._key,xn.exists(!0))])}function v4(t){return Bh(Jn(t.firestore,ns),[new g0(t._key,xn.none())])}function om(t,e){const r=Jn(t.firestore,ns),n=Nt(t),a=Kk(t.converter,e);return Bh(r,[Bk(Fh(t.firestore),"addDoc",n._key,a,t.converter!==null,{}).toMutation(n._key,xn.exists(!1))]).then(()=>n)}function zi(t,...e){var r,n,a;t=Bt(t);let i={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||zE(e[l])||(i=e[l],l++);const c={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(zE(e[l])){const m=e[l];e[l]=(r=m.next)===null||r===void 0?void 0:r.bind(m),e[l+1]=(n=m.error)===null||n===void 0?void 0:n.bind(m),e[l+2]=(a=m.complete)===null||a===void 0?void 0:a.bind(m)}let d,h,p;if(t instanceof bn)h=Jn(t.firestore,ns),p=_k(t._key.path),d={next:m=>{e[l]&&e[l](d8(h,t,m))},error:e[l+1],complete:e[l+2]};else{const m=Jn(t,_l);h=Jn(m.firestore,ns),p=m._query;const y=new Yk(h);d={next:x=>{e[l]&&e[l](new m4(h,y,m,x))},error:e[l+1],complete:e[l+2]},h4(t._query)}return function(y,x,k,w){const b=new JM(w),N=new qM(x,b,k);return y.asyncQueue.enqueueAndForget(async()=>BM(await A_(y),N)),()=>{b.Za(),y.asyncQueue.enqueueAndForget(async()=>UM(await A_(y),N))}}(k0(h),p,c,d)}function Bh(t,e){return function(n,a){const i=new Zs;return n.asyncQueue.enqueueAndForget(async()=>V7(await X7(n),a,i)),i.promise}(k0(t),e)}function d8(t,e,r){const n=r.docs.get(e._key),a=new Yk(t);return new p4(t,a,e._key,n,new fd(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h8{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Fh(e)}set(e,r,n){this._verifyNotCommitted();const a=ey(e,this._firestore),i=Kk(a.converter,r,n),l=Bk(this._dataReader,"WriteBatch.set",a._key,i,a.converter!==null,n);return this._mutations.push(l.toMutation(a._key,xn.none())),this}update(e,r,n,...a){this._verifyNotCommitted();const i=ey(e,this._firestore);let l;return l=typeof(r=Bt(r))=="string"||r instanceof $h?s4(this._dataReader,"WriteBatch.update",i._key,r,n,a):i4(this._dataReader,"WriteBatch.update",i._key,r),this._mutations.push(l.toMutation(i._key,xn.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=ey(e,this._firestore);return this._mutations=this._mutations.concat(new g0(r._key,xn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Re(we.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ey(t,e){if((t=Bt(t)).firestore!==e)throw new Re(we.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Hs(){return new Uk("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(t){return k0(t=Jn(t,ns)),new h8(t,e=>Bh(t,e))}(function(e,r=!0){(function(a){ou=a})(xl),ol(new ao("firestore",(n,{instanceIdentifier:a,options:i})=>{const l=n.getProvider("app").getImmediate(),c=new ns(new yB(n.getProvider("auth-internal")),new _B(n.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Re(we.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Md(h.options.projectId,p)}(l,a),l);return i=Object.assign({useFetchStreams:r},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),oi(oE,"4.7.3",e),oi(oE,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4="firebasestorage.googleapis.com",x4="storageBucket",f8=2*60*1e3,p8=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or extends xi{constructor(e,r,n=0){super(ty(e),`Firebase Storage: ${r} (${ty(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,or.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ty(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var sr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(sr||(sr={}));function ty(t){return"storage/"+t}function Xk(){const t="An unknown error occurred, please check the error payload for server response.";return new or(sr.UNKNOWN,t)}function m8(t){return new or(sr.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function g8(t){return new or(sr.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function v8(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new or(sr.UNAUTHENTICATED,t)}function y8(){return new or(sr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function x8(t){return new or(sr.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function b8(){return new or(sr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function w8(){return new or(sr.CANCELED,"User canceled the upload/download.")}function _8(t){return new or(sr.INVALID_URL,"Invalid URL '"+t+"'.")}function k8(t){return new or(sr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function j8(){return new or(sr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+x4+"' property when initializing the app?")}function N8(){return new or(sr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function S8(){return new or(sr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function T8(t){return new or(sr.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function I_(t){return new or(sr.INVALID_ARGUMENT,t)}function b4(){return new or(sr.APP_DELETED,"The Firebase app was deleted.")}function E8(t){return new or(sr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function jd(t,e){return new or(sr.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ju(t){throw new or(sr.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=Qn.makeFromUrl(e,r)}catch{return new Qn(e,"")}if(n.path==="")return n;throw k8(e)}static makeFromUrl(e,r){let n=null;const a="([A-Za-z0-9.\\-_]+)";function i(R){R.path.charAt(R.path.length-1)==="/"&&(R.path_=R.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+a+l,"i"),d={bucket:1,path:3};function h(R){R.path_=decodeURIComponent(R.path)}const p="v[A-Za-z0-9_]+",m=r.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",x=new RegExp(`^https?://${m}/${p}/b/${a}/o${y}`,"i"),k={bucket:1,path:3},w=r===y4?"(?:storage.googleapis.com|storage.cloud.google.com)":r,b="([^?#]*)",N=new RegExp(`^https?://${w}/${a}/${b}`,"i"),P=[{regex:c,indices:d,postModify:i},{regex:x,indices:k,postModify:h},{regex:N,indices:{bucket:1,path:2},postModify:h}];for(let R=0;R<P.length;R++){const j=P[R],C=j.regex.exec(e);if(C){const A=C[j.indices.bucket];let I=C[j.indices.path];I||(I=""),n=new Qn(A,I),j.postModify(n);break}}if(n==null)throw _8(e);return n}}class A8{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C8(t,e,r){let n=1,a=null,i=null,l=!1,c=0;function d(){return c===2}let h=!1;function p(...b){h||(h=!0,e.apply(null,b))}function m(b){a=setTimeout(()=>{a=null,t(x,d())},b)}function y(){i&&clearTimeout(i)}function x(b,...N){if(h){y();return}if(b){y(),p.call(null,b,...N);return}if(d()||l){y(),p.call(null,b,...N);return}n<64&&(n*=2);let P;c===1?(c=2,P=0):P=(n+Math.random())*1e3,m(P)}let k=!1;function w(b){k||(k=!0,y(),!h&&(a!==null?(b||(c=2),clearTimeout(a),m(0)):b||(c=1)))}return m(0),i=setTimeout(()=>{l=!0,w(!0)},r),w}function P8(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I8(t){return t!==void 0}function O8(t){return typeof t=="object"&&!Array.isArray(t)}function Qk(t){return typeof t=="string"||t instanceof String}function GE(t){return Jk()&&t instanceof Blob}function Jk(){return typeof Blob<"u"}function KE(t,e,r,n){if(n<e)throw I_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw I_(`Invalid value for '${t}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zk(t,e,r){let n=e;return r==null&&(n=`https://${e}`),`${r}://${n}/v0${t}`}function w4(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const a=e(n)+"="+e(t[n]);r=r+a+"&"}return r=r.slice(0,-1),r}var nl;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(nl||(nl={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R8(t,e){const r=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return r||a||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8{constructor(e,r,n,a,i,l,c,d,h,p,m,y=!0){this.url_=e,this.method_=r,this.headers_=n,this.body_=a,this.successCodes_=i,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=d,this.timeout_=h,this.progressCallback_=p,this.connectionFactory_=m,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,k)=>{this.resolve_=x,this.reject_=k,this.start_()})}start_(){const e=(n,a)=>{if(a){n(!1,new yp(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const l=c=>{const d=c.loaded,h=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,h)};this.progressCallback_!==null&&i.addUploadProgressListener(l),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(l),this.pendingConnection_=null;const c=i.getErrorCode()===nl.NO_ERROR,d=i.getStatus();if(!c||R8(d,this.additionalRetryCodes_)&&this.retry){const p=i.getErrorCode()===nl.ABORT;n(!1,new yp(!1,null,p));return}const h=this.successCodes_.indexOf(d)!==-1;n(!0,new yp(h,i))})},r=(n,a)=>{const i=this.resolve_,l=this.reject_,c=a.connection;if(a.wasSuccessCode)try{const d=this.callback_(c,c.getResponse());I8(d)?i(d):i()}catch(d){l(d)}else if(c!==null){const d=Xk();d.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,d)):l(d)}else if(a.canceled){const d=this.appDelete_?b4():w8();l(d)}else{const d=b8();l(d)}};this.canceled_?r(!1,new yp(!1,null,!0)):this.backoffId_=C8(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&P8(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class yp{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function M8(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function L8(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function $8(t,e){e&&(t["X-Firebase-GMPID"]=e)}function F8(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function V8(t,e,r,n,a,i,l=!0){const c=w4(t.urlParams),d=t.url+c,h=Object.assign({},t.headers);return $8(h,e),M8(h,r),L8(h,i),F8(h,n),new D8(d,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B8(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function U8(...t){const e=B8();if(e!==void 0){const r=new e;for(let n=0;n<t.length;n++)r.append(t[n]);return r.getBlob()}else{if(Jk())return new Blob(t);throw new or(sr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function q8(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.mozSlice?t.mozSlice(e,r):t.slice?t.slice(e,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z8(t){if(typeof atob>"u")throw T8("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ry{constructor(e,r){this.data=e,this.contentType=r||null}}function W8(t,e){switch(t){case ii.RAW:return new ry(_4(e));case ii.BASE64:case ii.BASE64URL:return new ry(k4(t,e));case ii.DATA_URL:return new ry(G8(e),K8(e))}throw Xk()}function _4(t){const e=[];for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(r<t.length-1&&(t.charCodeAt(r+1)&64512)===56320))e.push(239,191,189);else{const i=n,l=t.charCodeAt(++r);n=65536|(i&1023)<<10|l&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function H8(t){let e;try{e=decodeURIComponent(t)}catch{throw jd(ii.DATA_URL,"Malformed data URL.")}return _4(e)}function k4(t,e){switch(t){case ii.BASE64:{const a=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(a||i)throw jd(t,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case ii.BASE64URL:{const a=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(a||i)throw jd(t,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=z8(e)}catch(a){throw a.message.includes("polyfill")?a:jd(t,"Invalid character found")}const n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return n}class j4{constructor(e){this.base64=!1,this.contentType=null;const r=e.match(/^data:([^,]+)?,/);if(r===null)throw jd(ii.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=r[1]||null;n!=null&&(this.base64=Y8(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function G8(t){const e=new j4(t);return e.base64?k4(ii.BASE64,e.rest):H8(e.rest)}function K8(t){return new j4(t).contentType}function Y8(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,r){let n=0,a="";GE(e)?(this.data_=e,n=e.size,a=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,r){if(GE(this.data_)){const n=this.data_,a=q8(n,e,r);return a===null?null:new Gs(a)}else{const n=new Uint8Array(this.data_.buffer,e,r-e);return new Gs(n,!0)}}static getBlob(...e){if(Jk()){const r=e.map(n=>n instanceof Gs?n.data_:n);return new Gs(U8.apply(null,r))}else{const r=e.map(l=>Qk(l)?W8(ii.RAW,l).data:l.data_);let n=0;r.forEach(l=>{n+=l.byteLength});const a=new Uint8Array(n);let i=0;return r.forEach(l=>{for(let c=0;c<l.length;c++)a[i++]=l[c]}),new Gs(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N4(t){let e;try{e=JSON.parse(t)}catch{return null}return O8(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X8(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Q8(t,e){const r=e.split("/").filter(n=>n.length>0).join("/");return t.length===0?r:t+"/"+r}function S4(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J8(t,e){return e}class mn{constructor(e,r,n,a){this.server=e,this.local=r||e,this.writable=!!n,this.xform=a||J8}}let xp=null;function Z8(t){return!Qk(t)||t.length<2?t:S4(t)}function T4(){if(xp)return xp;const t=[];t.push(new mn("bucket")),t.push(new mn("generation")),t.push(new mn("metageneration")),t.push(new mn("name","fullPath",!0));function e(i,l){return Z8(l)}const r=new mn("name");r.xform=e,t.push(r);function n(i,l){return l!==void 0?Number(l):l}const a=new mn("size");return a.xform=n,t.push(a),t.push(new mn("timeCreated")),t.push(new mn("updated")),t.push(new mn("md5Hash",null,!0)),t.push(new mn("cacheControl",null,!0)),t.push(new mn("contentDisposition",null,!0)),t.push(new mn("contentEncoding",null,!0)),t.push(new mn("contentLanguage",null,!0)),t.push(new mn("contentType",null,!0)),t.push(new mn("metadata","customMetadata",!0)),xp=t,xp}function eq(t,e){function r(){const n=t.bucket,a=t.fullPath,i=new Qn(n,a);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:r})}function tq(t,e,r){const n={};n.type="file";const a=r.length;for(let i=0;i<a;i++){const l=r[i];n[l.local]=l.xform(n,e[l.server])}return eq(n,t),n}function E4(t,e,r){const n=N4(e);return n===null?null:tq(t,n,r)}function rq(t,e,r,n){const a=N4(e);if(a===null||!Qk(a.downloadTokens))return null;const i=a.downloadTokens;if(i.length===0)return null;const l=encodeURIComponent;return i.split(",").map(h=>{const p=t.bucket,m=t.fullPath,y="/b/"+l(p)+"/o/"+l(m),x=Zk(y,r,n),k=w4({alt:"media",token:h});return x+k})[0]}function nq(t,e){const r={},n=e.length;for(let a=0;a<n;a++){const i=e[a];i.writable&&(r[i.server]=t[i.local])}return JSON.stringify(r)}class A4{constructor(e,r,n,a){this.url=e,this.method=r,this.handler=n,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C4(t){if(!t)throw Xk()}function aq(t,e){function r(n,a){const i=E4(t,a,e);return C4(i!==null),i}return r}function iq(t,e){function r(n,a){const i=E4(t,a,e);return C4(i!==null),rq(i,a,t.host,t._protocol)}return r}function P4(t){function e(r,n){let a;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?a=y8():a=v8():r.getStatus()===402?a=g8(t.bucket):r.getStatus()===403?a=x8(t.path):a=n,a.status=r.getStatus(),a.serverResponse=n.serverResponse,a}return e}function sq(t){const e=P4(t);function r(n,a){let i=e(n,a);return n.getStatus()===404&&(i=m8(t.path)),i.serverResponse=a.serverResponse,i}return r}function oq(t,e,r){const n=e.fullServerUrl(),a=Zk(n,t.host,t._protocol),i="GET",l=t.maxOperationRetryTime,c=new A4(a,i,iq(t,r),l);return c.errorHandler=sq(e),c}function lq(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function cq(t,e,r){const n=Object.assign({},r);return n.fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=lq(null,e)),n}function uq(t,e,r,n,a){const i=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function c(){let P="";for(let R=0;R<2;R++)P=P+Math.random().toString().slice(2);return P}const d=c();l["Content-Type"]="multipart/related; boundary="+d;const h=cq(e,n,a),p=nq(h,r),m="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+d+`\r
Content-Type: `+h.contentType+`\r
\r
`,y=`\r
--`+d+"--",x=Gs.getBlob(m,n,y);if(x===null)throw N8();const k={name:h.fullPath},w=Zk(i,t.host,t._protocol),b="POST",N=t.maxUploadRetryTime,E=new A4(w,b,aq(t,r),N);return E.urlParams=k,E.headers=l,E.body=x.uploadData(),E.errorHandler=P4(e),E}class dq{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=nl.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=nl.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=nl.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,n,a){if(this.sent_)throw Ju("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,e,!0),a!==void 0)for(const i in a)a.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,a[i].toString());return n!==void 0?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ju("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ju("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ju("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ju("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class hq extends dq{initXhr(){this.xhr_.responseType="text"}}function I4(){return new hq}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,r){this._service=e,r instanceof Qn?this._location=r:this._location=Qn.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new hl(e,r)}get root(){const e=new Qn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return S4(this._location.path)}get storage(){return this._service}get parent(){const e=X8(this._location.path);if(e===null)return null;const r=new Qn(this._location.bucket,e);return new hl(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw E8(e)}}function fq(t,e,r){t._throwIfRoot("uploadBytes");const n=uq(t.storage,t._location,T4(),new Gs(e,!0),r);return t.storage.makeRequestWithTokens(n,I4).then(a=>({metadata:a,ref:t}))}function pq(t){t._throwIfRoot("getDownloadURL");const e=oq(t.storage,t._location,T4());return t.storage.makeRequestWithTokens(e,I4).then(r=>{if(r===null)throw S8();return r})}function mq(t,e){const r=Q8(t._location.path,e),n=new Qn(t._location.bucket,r);return new hl(t.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gq(t){return/^[A-Za-z]+:\/\//.test(t)}function vq(t,e){return new hl(t,e)}function O4(t,e){if(t instanceof ej){const r=t;if(r._bucket==null)throw j8();const n=new hl(r,r._bucket);return e!=null?O4(n,e):n}else return e!==void 0?mq(t,e):t}function yq(t,e){if(e&&gq(e)){if(t instanceof ej)return vq(t,e);throw I_("To use ref(service, url), the first argument must be a Storage instance.")}else return O4(t,e)}function YE(t,e){const r=e?.[x4];return r==null?null:Qn.makeFromBucketSpec(r,t)}function xq(t,e,r,n={}){t.host=`${e}:${r}`,t._protocol="http";const{mockUserToken:a}=n;a&&(t._overrideAuthToken=typeof a=="string"?a:iD(a,t.app.options.projectId))}class ej{constructor(e,r,n,a,i){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=a,this._firebaseVersion=i,this._bucket=null,this._host=y4,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=f8,this._maxUploadRetryTime=p8,this._requests=new Set,a!=null?this._bucket=Qn.makeFromBucketSpec(a,this._host):this._bucket=YE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Qn.makeFromBucketSpec(this._url,e):this._bucket=YE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){KE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){KE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new hl(this,e)}_makeRequest(e,r,n,a,i=!0){if(this._deleted)return new A8(b4());{const l=V8(e,this._appId,n,a,r,this._firebaseVersion,i);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,r){const[n,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,a).getPromise()}}const XE="@firebase/storage",QE="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4="storage";function bq(t,e,r){return t=Bt(t),fq(t,e,r)}function wq(t){return t=Bt(t),pq(t)}function _q(t,e){return t=Bt(t),yq(t,e)}function kq(t=ak(),e){t=Bt(t);const n=o0(t,R4).getImmediate({identifier:e}),a=rD("storage");return a&&jq(n,...a),n}function jq(t,e,r,n={}){xq(t,e,r,n)}function Nq(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new ej(r,n,a,e,xl)}function Sq(){ol(new ao(R4,Nq,"PUBLIC").setMultipleInstances(!0)),oi(XE,QE,""),oi(XE,QE,"esm2017")}Sq();/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tq=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),D4=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Eq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aq=B.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:l,...c},d)=>B.createElement("svg",{ref:d,...Eq,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:D4("lucide",a),...c},[...l.map(([h,p])=>B.createElement(h,p)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=(t,e)=>{const r=B.forwardRef(({className:n,...a},i)=>B.createElement(Aq,{ref:i,iconNode:e,className:D4(`lucide-${Tq(t)}`,n),...a}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=Me("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cq=Me("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pq=Me("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iq=Me("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=Me("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oq=Me("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rq=Me("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dq=Me("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=Me("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=Me("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=Me("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=Me("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=Me("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kc=Me("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tj=Me("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=Me("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bd=Me("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=Me("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rj=Me("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=Me("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=Me("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=Me("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=Me("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=Me("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=Me("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=Me("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=Me("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=Me("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mq=Me("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=Me("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=Me("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lq=Me("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=Me("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $q=Me("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fq=Me("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vq=Me("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=Me("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=Me("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bq=Me("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=Me("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uq=Me("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qq=Me("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=Me("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=Me("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=Me("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ud=Me("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zq=Me("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=Me("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=Me("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=Me("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wq=Me("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hq=Me("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qd=Me("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=Me("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gq=Me("TreePine",[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=Me("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=Me("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uh=Me("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kq=Me("Unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=Me("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nj=Me("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=Me("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=Me("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=Me("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yq=Me("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Xq=({setUserId:t})=>{const[e,r]=B.useState(!0),[n,a]=B.useState(""),[i,l]=B.useState(""),[c,d]=B.useState(""),[h,p]=B.useState(!1),m=pk(),y=async x=>{x.preventDefault(),d(""),p(!0);try{e?await e9(m,n,i):await ZV(m,n,i)}catch(k){d(k.message)}finally{p(!1)}};return s.jsx("div",{className:"min-h-screen bg-slate-100 dark:bg-slate-900 flex flex-col justify-center items-center p-4",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx(Hr,{className:"mx-auto h-12 w-auto text-cyan-500"}),s.jsx("h2",{className:"mt-6 text-3xl font-bold tracking-tight text-slate-900 dark:text-white",children:e?"Sign in to your account":"Create a new account"})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 shadow-xl rounded-2xl p-8",children:[s.jsxs("form",{className:"space-y-6",onSubmit:y,children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Email address"}),s.jsx("div",{className:"mt-1",children:s.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:x=>a(x.target.value),className:"block w-full appearance-none rounded-md border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 px-3 py-2 placeholder-slate-400 dark:placeholder-slate-500 shadow-sm focus:border-cyan-500 focus:outline-none focus:ring-cyan-500 sm:text-sm"})})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Password"}),s.jsx("div",{className:"mt-1",children:s.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:i,onChange:x=>l(x.target.value),className:"block w-full appearance-none rounded-md border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 px-3 py-2 placeholder-slate-400 dark:placeholder-slate-500 shadow-sm focus:border-cyan-500 focus:outline-none focus:ring-cyan-500 sm:text-sm"})})]}),c&&s.jsx("div",{className:"rounded-md bg-red-50 p-4",children:s.jsx("p",{className:"text-sm text-red-700",children:c})}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:h,className:"flex w-full justify-center rounded-md border border-transparent bg-cyan-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-cyan-700 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2 disabled:bg-slate-400",children:h?"Processing...":e?"Sign in":"Create account"})})]}),s.jsx("div",{className:"mt-6",children:s.jsxs("p",{className:"text-center text-sm text-slate-500 dark:text-slate-400",children:[e?"Don't have an account?":"Already have an account?",s.jsx("button",{onClick:()=>r(!e),className:"font-medium text-cyan-600 hover:text-cyan-500 ml-1",children:e?"Sign up":"Sign in"})]})})]})]})})},ai=({title:t,value:e,icon:r,color:n,subtext:a})=>s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl border border-slate-200 dark:border-slate-700 shadow-lg flex flex-col justify-between",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:t}),s.jsx("div",{className:`text-${n}-500 dark:text-${n}-400`,children:r})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-3xl font-bold text-slate-800 dark:text-white mt-2",children:e}),a&&s.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500 mt-1",children:a})]})]});function q4(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=q4(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function tt(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=q4(t))&&(n&&(n+=" "),n+=e);return n}var ay,rA;function Mn(){if(rA)return ay;rA=1;var t=Array.isArray;return ay=t,ay}var iy,nA;function z4(){if(nA)return iy;nA=1;var t=typeof dp=="object"&&dp&&dp.Object===Object&&dp;return iy=t,iy}var sy,aA;function bi(){if(aA)return sy;aA=1;var t=z4(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return sy=r,sy}var oy,iA;function qh(){if(iA)return oy;iA=1;var t=bi(),e=t.Symbol;return oy=e,oy}var ly,sA;function Qq(){if(sA)return ly;sA=1;var t=qh(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,a=t?t.toStringTag:void 0;function i(l){var c=r.call(l,a),d=l[a];try{l[a]=void 0;var h=!0}catch{}var p=n.call(l);return h&&(c?l[a]=d:delete l[a]),p}return ly=i,ly}var cy,oA;function Jq(){if(oA)return cy;oA=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return cy=r,cy}var uy,lA;function us(){if(lA)return uy;lA=1;var t=qh(),e=Qq(),r=Jq(),n="[object Null]",a="[object Undefined]",i=t?t.toStringTag:void 0;function l(c){return c==null?c===void 0?a:n:i&&i in Object(c)?e(c):r(c)}return uy=l,uy}var dy,cA;function ds(){if(cA)return dy;cA=1;function t(e){return e!=null&&typeof e=="object"}return dy=t,dy}var hy,uA;function uu(){if(uA)return hy;uA=1;var t=us(),e=ds(),r="[object Symbol]";function n(a){return typeof a=="symbol"||e(a)&&t(a)==r}return hy=n,hy}var fy,dA;function aj(){if(dA)return fy;dA=1;var t=Mn(),e=uu(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,l){if(t(i))return!1;var c=typeof i;return c=="number"||c=="symbol"||c=="boolean"||i==null||e(i)?!0:n.test(i)||!r.test(i)||l!=null&&i in Object(l)}return fy=a,fy}var py,hA;function fo(){if(hA)return py;hA=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return py=t,py}var my,fA;function ij(){if(fA)return my;fA=1;var t=us(),e=fo(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function l(c){if(!e(c))return!1;var d=t(c);return d==n||d==a||d==r||d==i}return my=l,my}var gy,pA;function Zq(){if(pA)return gy;pA=1;var t=bi(),e=t["__core-js_shared__"];return gy=e,gy}var vy,mA;function ez(){if(mA)return vy;mA=1;var t=Zq(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!e&&e in n}return vy=r,vy}var yy,gA;function W4(){if(gA)return yy;gA=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return yy=r,yy}var xy,vA;function tz(){if(vA)return xy;vA=1;var t=ij(),e=ez(),r=fo(),n=W4(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,d=l.toString,h=c.hasOwnProperty,p=RegExp("^"+d.call(h).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(y){if(!r(y)||e(y))return!1;var x=t(y)?p:i;return x.test(n(y))}return xy=m,xy}var by,yA;function rz(){if(yA)return by;yA=1;function t(e,r){return e?.[r]}return by=t,by}var wy,xA;function jl(){if(xA)return wy;xA=1;var t=tz(),e=rz();function r(n,a){var i=e(n,a);return t(i)?i:void 0}return wy=r,wy}var _y,bA;function C0(){if(bA)return _y;bA=1;var t=jl(),e=t(Object,"create");return _y=e,_y}var ky,wA;function nz(){if(wA)return ky;wA=1;var t=C0();function e(){this.__data__=t?t(null):{},this.size=0}return ky=e,ky}var jy,_A;function az(){if(_A)return jy;_A=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return jy=t,jy}var Ny,kA;function iz(){if(kA)return Ny;kA=1;var t=C0(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(i){var l=this.__data__;if(t){var c=l[i];return c===e?void 0:c}return n.call(l,i)?l[i]:void 0}return Ny=a,Ny}var Sy,jA;function sz(){if(jA)return Sy;jA=1;var t=C0(),e=Object.prototype,r=e.hasOwnProperty;function n(a){var i=this.__data__;return t?i[a]!==void 0:r.call(i,a)}return Sy=n,Sy}var Ty,NA;function oz(){if(NA)return Ty;NA=1;var t=C0(),e="__lodash_hash_undefined__";function r(n,a){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=t&&a===void 0?e:a,this}return Ty=r,Ty}var Ey,SA;function lz(){if(SA)return Ey;SA=1;var t=nz(),e=az(),r=iz(),n=sz(),a=oz();function i(l){var c=-1,d=l==null?0:l.length;for(this.clear();++c<d;){var h=l[c];this.set(h[0],h[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,Ey=i,Ey}var Ay,TA;function cz(){if(TA)return Ay;TA=1;function t(){this.__data__=[],this.size=0}return Ay=t,Ay}var Cy,EA;function sj(){if(EA)return Cy;EA=1;function t(e,r){return e===r||e!==e&&r!==r}return Cy=t,Cy}var Py,AA;function P0(){if(AA)return Py;AA=1;var t=sj();function e(r,n){for(var a=r.length;a--;)if(t(r[a][0],n))return a;return-1}return Py=e,Py}var Iy,CA;function uz(){if(CA)return Iy;CA=1;var t=P0(),e=Array.prototype,r=e.splice;function n(a){var i=this.__data__,l=t(i,a);if(l<0)return!1;var c=i.length-1;return l==c?i.pop():r.call(i,l,1),--this.size,!0}return Iy=n,Iy}var Oy,PA;function dz(){if(PA)return Oy;PA=1;var t=P0();function e(r){var n=this.__data__,a=t(n,r);return a<0?void 0:n[a][1]}return Oy=e,Oy}var Ry,IA;function hz(){if(IA)return Ry;IA=1;var t=P0();function e(r){return t(this.__data__,r)>-1}return Ry=e,Ry}var Dy,OA;function fz(){if(OA)return Dy;OA=1;var t=P0();function e(r,n){var a=this.__data__,i=t(a,r);return i<0?(++this.size,a.push([r,n])):a[i][1]=n,this}return Dy=e,Dy}var My,RA;function I0(){if(RA)return My;RA=1;var t=cz(),e=uz(),r=dz(),n=hz(),a=fz();function i(l){var c=-1,d=l==null?0:l.length;for(this.clear();++c<d;){var h=l[c];this.set(h[0],h[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,My=i,My}var Ly,DA;function oj(){if(DA)return Ly;DA=1;var t=jl(),e=bi(),r=t(e,"Map");return Ly=r,Ly}var $y,MA;function pz(){if(MA)return $y;MA=1;var t=lz(),e=I0(),r=oj();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return $y=n,$y}var Fy,LA;function mz(){if(LA)return Fy;LA=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return Fy=t,Fy}var Vy,$A;function O0(){if($A)return Vy;$A=1;var t=mz();function e(r,n){var a=r.__data__;return t(n)?a[typeof n=="string"?"string":"hash"]:a.map}return Vy=e,Vy}var By,FA;function gz(){if(FA)return By;FA=1;var t=O0();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return By=e,By}var Uy,VA;function vz(){if(VA)return Uy;VA=1;var t=O0();function e(r){return t(this,r).get(r)}return Uy=e,Uy}var qy,BA;function yz(){if(BA)return qy;BA=1;var t=O0();function e(r){return t(this,r).has(r)}return qy=e,qy}var zy,UA;function xz(){if(UA)return zy;UA=1;var t=O0();function e(r,n){var a=t(this,r),i=a.size;return a.set(r,n),this.size+=a.size==i?0:1,this}return zy=e,zy}var Wy,qA;function lj(){if(qA)return Wy;qA=1;var t=pz(),e=gz(),r=vz(),n=yz(),a=xz();function i(l){var c=-1,d=l==null?0:l.length;for(this.clear();++c<d;){var h=l[c];this.set(h[0],h[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,Wy=i,Wy}var Hy,zA;function H4(){if(zA)return Hy;zA=1;var t=lj(),e="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var i=function(){var l=arguments,c=a?a.apply(this,l):l[0],d=i.cache;if(d.has(c))return d.get(c);var h=n.apply(this,l);return i.cache=d.set(c,h)||d,h};return i.cache=new(r.Cache||t),i}return r.Cache=t,Hy=r,Hy}var Gy,WA;function bz(){if(WA)return Gy;WA=1;var t=H4(),e=500;function r(n){var a=t(n,function(l){return i.size===e&&i.clear(),l}),i=a.cache;return a}return Gy=r,Gy}var Ky,HA;function wz(){if(HA)return Ky;HA=1;var t=bz(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(e,function(l,c,d,h){i.push(d?h.replace(r,"$1"):c||l)}),i});return Ky=n,Ky}var Yy,GA;function cj(){if(GA)return Yy;GA=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,i=Array(a);++n<a;)i[n]=r(e[n],n,e);return i}return Yy=t,Yy}var Xy,KA;function _z(){if(KA)return Xy;KA=1;var t=qh(),e=cj(),r=Mn(),n=uu(),a=t?t.prototype:void 0,i=a?a.toString:void 0;function l(c){if(typeof c=="string")return c;if(r(c))return e(c,l)+"";if(n(c))return i?i.call(c):"";var d=c+"";return d=="0"&&1/c==-1/0?"-0":d}return Xy=l,Xy}var Qy,YA;function G4(){if(YA)return Qy;YA=1;var t=_z();function e(r){return r==null?"":t(r)}return Qy=e,Qy}var Jy,XA;function K4(){if(XA)return Jy;XA=1;var t=Mn(),e=aj(),r=wz(),n=G4();function a(i,l){return t(i)?i:e(i,l)?[i]:r(n(i))}return Jy=a,Jy}var Zy,QA;function R0(){if(QA)return Zy;QA=1;var t=uu();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return Zy=e,Zy}var ex,JA;function uj(){if(JA)return ex;JA=1;var t=K4(),e=R0();function r(n,a){a=t(a,n);for(var i=0,l=a.length;n!=null&&i<l;)n=n[e(a[i++])];return i&&i==l?n:void 0}return ex=r,ex}var tx,ZA;function Y4(){if(ZA)return tx;ZA=1;var t=uj();function e(r,n,a){var i=r==null?void 0:t(r,n);return i===void 0?a:i}return tx=e,tx}var kz=Y4();const Zn=xt(kz);var rx,e2;function jz(){if(e2)return rx;e2=1;function t(e){return e==null}return rx=t,rx}var Nz=jz();const at=xt(Nz);var nx,t2;function Sz(){if(t2)return nx;t2=1;var t=us(),e=Mn(),r=ds(),n="[object String]";function a(i){return typeof i=="string"||!e(i)&&r(i)&&t(i)==n}return nx=a,nx}var Tz=Sz();const fl=xt(Tz);var Ez=ij();const Qe=xt(Ez);var Az=fo();const du=xt(Az);var ax={exports:{}},vt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r2;function Cz(){if(r2)return vt;r2=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen"),k;k=Symbol.for("react.module.reference");function w(b){if(typeof b=="object"&&b!==null){var N=b.$$typeof;switch(N){case t:switch(b=b.type,b){case r:case a:case n:case h:case p:return b;default:switch(b=b&&b.$$typeof,b){case c:case l:case d:case y:case m:case i:return b;default:return N}}case e:return N}}}return vt.ContextConsumer=l,vt.ContextProvider=i,vt.Element=t,vt.ForwardRef=d,vt.Fragment=r,vt.Lazy=y,vt.Memo=m,vt.Portal=e,vt.Profiler=a,vt.StrictMode=n,vt.Suspense=h,vt.SuspenseList=p,vt.isAsyncMode=function(){return!1},vt.isConcurrentMode=function(){return!1},vt.isContextConsumer=function(b){return w(b)===l},vt.isContextProvider=function(b){return w(b)===i},vt.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},vt.isForwardRef=function(b){return w(b)===d},vt.isFragment=function(b){return w(b)===r},vt.isLazy=function(b){return w(b)===y},vt.isMemo=function(b){return w(b)===m},vt.isPortal=function(b){return w(b)===e},vt.isProfiler=function(b){return w(b)===a},vt.isStrictMode=function(b){return w(b)===n},vt.isSuspense=function(b){return w(b)===h},vt.isSuspenseList=function(b){return w(b)===p},vt.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===r||b===a||b===n||b===h||b===p||b===x||typeof b=="object"&&b!==null&&(b.$$typeof===y||b.$$typeof===m||b.$$typeof===i||b.$$typeof===l||b.$$typeof===d||b.$$typeof===k||b.getModuleId!==void 0)},vt.typeOf=w,vt}var n2;function Pz(){return n2||(n2=1,ax.exports=Cz()),ax.exports}var Iz=Pz(),ix,a2;function X4(){if(a2)return ix;a2=1;var t=us(),e=ds(),r="[object Number]";function n(a){return typeof a=="number"||e(a)&&t(a)==r}return ix=n,ix}var sx,i2;function Oz(){if(i2)return sx;i2=1;var t=X4();function e(r){return t(r)&&r!=+r}return sx=e,sx}var Rz=Oz();const zh=xt(Rz);var Dz=X4();const Mz=xt(Dz);var gn=function(e){return e===0?0:e>0?1:-1},Jo=function(e){return fl(e)&&e.indexOf("%")===e.length-1},Ee=function(e){return Mz(e)&&!zh(e)},Lz=function(e){return at(e)},Nr=function(e){return Ee(e)||fl(e)},$z=0,Wh=function(e){var r=++$z;return"".concat(e||"").concat(r)},vn=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ee(e)&&!fl(e))return n;var i;if(Jo(e)){var l=e.indexOf("%");i=r*parseFloat(e.slice(0,l))/100}else i=+e;return zh(i)&&(i=n),a&&i>r&&(i=r),i},Ks=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},Fz=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},a=0;a<r;a++)if(!n[e[a]])n[e[a]]=!0;else return!0;return!1},Vs=function(e,r){return Ee(e)&&Ee(r)?function(n){return e+n*(r-e)}:function(){return r}};function R_(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Zn(n,e))===r})}var Vz=function(e,r){return Ee(e)&&Ee(r)?e-r:fl(e)&&fl(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function jc(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function D_(t){"@babel/helpers - typeof";return D_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D_(t)}var Bz=["viewBox","children"],Uz=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],s2=["points","pathLength"],ox={svg:Bz,polygon:s2,polyline:s2},dj=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],um=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(B.isValidElement(e)&&(n=e.props),!du(n))return null;var a={};return Object.keys(n).forEach(function(i){dj.includes(i)&&(a[i]=r||function(l){return n[i](n,l)})}),a},qz=function(e,r,n){return function(a){return e(r,n,a),null}},pl=function(e,r,n){if(!du(e)||D_(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(i){var l=e[i];dj.includes(i)&&typeof l=="function"&&(a||(a={}),a[i]=qz(l,r,n))}),a},zz=["children"],Wz=["children"];function o2(t,e){if(t==null)return{};var r=Hz(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Hz(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var l2={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Qi=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},c2=null,lx=null,hj=function t(e){if(e===c2&&Array.isArray(lx))return lx;var r=[];return B.Children.forEach(e,function(n){at(n)||(Iz.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),lx=r,c2=e,r};function _a(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(a){return Qi(a)}):n=[Qi(e)],hj(t).forEach(function(a){var i=Zn(a,"type.displayName")||Zn(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function Kn(t,e){var r=_a(t,e);return r&&r[0]}var u2=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,a=r.height;return!(!Ee(n)||n<=0||!Ee(a)||a<=0)},Gz=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Kz=function(e){return e&&e.type&&fl(e.type)&&Gz.indexOf(e.type)>=0},Yz=function(e,r,n,a){var i,l=(i=ox?.[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Qe(e)&&(a&&l.includes(r)||Uz.includes(r))||n&&dj.includes(r)},Ye=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(B.isValidElement(e)&&(a=e.props),!du(a))return null;var i={};return Object.keys(a).forEach(function(l){var c;Yz((c=a)===null||c===void 0?void 0:c[l],l,r,n)&&(i[l]=a[l])}),i},M_=function t(e,r){if(e===r)return!0;var n=B.Children.count(e);if(n!==B.Children.count(r))return!1;if(n===0)return!0;if(n===1)return d2(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=e[a],l=r[a];if(Array.isArray(i)||Array.isArray(l)){if(!t(i,l))return!1}else if(!d2(i,l))return!1}return!0},d2=function(e,r){if(at(e)&&at(r))return!0;if(!at(e)&&!at(r)){var n=e.props||{},a=n.children,i=o2(n,zz),l=r.props||{},c=l.children,d=o2(l,Wz);return a&&c?jc(i,d)&&M_(a,c):!a&&!c?jc(i,d):!1}return!1},h2=function(e,r){var n=[],a={};return hj(e).forEach(function(i,l){if(Kz(i))n.push(i);else if(i){var c=Qi(i.type),d=r[c]||{},h=d.handler,p=d.once;if(h&&(!p||!a[c])){var m=h(i,c,l);n.push(m),a[c]=!0}}}),n},Xz=function(e){var r=e&&e.type;return r&&l2[r]?l2[r]:null},Qz=function(e,r){return hj(r).indexOf(e)},Jz=["children","width","height","viewBox","className","style","title","desc"];function L_(){return L_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},L_.apply(this,arguments)}function Zz(t,e){if(t==null)return{};var r=eW(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function eW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function $_(t){var e=t.children,r=t.width,n=t.height,a=t.viewBox,i=t.className,l=t.style,c=t.title,d=t.desc,h=Zz(t,Jz),p=a||{width:r,height:n,x:0,y:0},m=tt("recharts-surface",i);return K.createElement("svg",L_({},Ye(h,!0,"svg"),{className:m,width:r,height:n,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),K.createElement("title",null,c),K.createElement("desc",null,d),e)}var tW=["children","className"];function F_(){return F_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},F_.apply(this,arguments)}function rW(t,e){if(t==null)return{};var r=nW(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var wt=K.forwardRef(function(t,e){var r=t.children,n=t.className,a=rW(t,tW),i=tt("recharts-layer",n);return K.createElement("g",F_({className:i},Ye(a,!0),{ref:e}),r)}),qa=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]},cx,f2;function aW(){if(f2)return cx;f2=1;function t(e,r,n){var a=-1,i=e.length;r<0&&(r=-r>i?0:i+r),n=n>i?i:n,n<0&&(n+=i),i=r>n?0:n-r>>>0,r>>>=0;for(var l=Array(i);++a<i;)l[a]=e[a+r];return l}return cx=t,cx}var ux,p2;function iW(){if(p2)return ux;p2=1;var t=aW();function e(r,n,a){var i=r.length;return a=a===void 0?i:a,!n&&a>=i?r:t(r,n,a)}return ux=e,ux}var dx,m2;function Q4(){if(m2)return dx;m2=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,i="\\ufe0e\\ufe0f",l="\\u200d",c=RegExp("["+l+t+a+i+"]");function d(h){return c.test(h)}return dx=d,dx}var hx,g2;function sW(){if(g2)return hx;g2=1;function t(e){return e.split("")}return hx=t,hx}var fx,v2;function oW(){if(v2)return fx;v2=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,i="\\ufe0e\\ufe0f",l="["+t+"]",c="["+a+"]",d="\\ud83c[\\udffb-\\udfff]",h="(?:"+c+"|"+d+")",p="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",x="\\u200d",k=h+"?",w="["+i+"]?",b="(?:"+x+"(?:"+[p,m,y].join("|")+")"+w+k+")*",N=w+k+b,E="(?:"+[p+c+"?",c,m,y,l].join("|")+")",P=RegExp(d+"(?="+d+")|"+E+N,"g");function R(j){return j.match(P)||[]}return fx=R,fx}var px,y2;function lW(){if(y2)return px;y2=1;var t=sW(),e=Q4(),r=oW();function n(a){return e(a)?r(a):t(a)}return px=n,px}var mx,x2;function cW(){if(x2)return mx;x2=1;var t=iW(),e=Q4(),r=lW(),n=G4();function a(i){return function(l){l=n(l);var c=e(l)?r(l):void 0,d=c?c[0]:l.charAt(0),h=c?t(c,1).join(""):l.slice(1);return d[i]()+h}}return mx=a,mx}var gx,b2;function uW(){if(b2)return gx;b2=1;var t=cW(),e=t("toUpperCase");return gx=e,gx}var dW=uW();const D0=xt(dW);function Ot(t){return function(){return t}}const J4=Math.cos,dm=Math.sin,Ha=Math.sqrt,hm=Math.PI,M0=2*hm,V_=Math.PI,B_=2*V_,Ho=1e-6,hW=B_-Ho;function Z4(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function fW(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Z4;const r=10**e;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class pW{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Z4:fW(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,a){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,r,n,a,i,l){this._append`C${+e},${+r},${+n},${+a},${this._x1=+i},${this._y1=+l}`}arcTo(e,r,n,a,i){if(e=+e,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let l=this._x1,c=this._y1,d=n-e,h=a-r,p=l-e,m=c-r,y=p*p+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(y>Ho)if(!(Math.abs(m*d-h*p)>Ho)||!i)this._append`L${this._x1=e},${this._y1=r}`;else{let x=n-l,k=a-c,w=d*d+h*h,b=x*x+k*k,N=Math.sqrt(w),E=Math.sqrt(y),P=i*Math.tan((V_-Math.acos((w+y-b)/(2*N*E)))/2),R=P/E,j=P/N;Math.abs(R-1)>Ho&&this._append`L${e+R*p},${r+R*m}`,this._append`A${i},${i},0,0,${+(m*x>p*k)},${this._x1=e+j*d},${this._y1=r+j*h}`}}arc(e,r,n,a,i,l){if(e=+e,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let c=n*Math.cos(a),d=n*Math.sin(a),h=e+c,p=r+d,m=1^l,y=l?a-i:i-a;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>Ho||Math.abs(this._y1-p)>Ho)&&this._append`L${h},${p}`,n&&(y<0&&(y=y%B_+B_),y>hW?this._append`A${n},${n},0,1,${m},${e-c},${r-d}A${n},${n},0,1,${m},${this._x1=h},${this._y1=p}`:y>Ho&&this._append`A${n},${n},0,${+(y>=V_)},${m},${this._x1=e+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(e,r,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function fj(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new pW(e)}function pj(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function e3(t){this._context=t}e3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function L0(t){return new e3(t)}function t3(t){return t[0]}function r3(t){return t[1]}function n3(t,e){var r=Ot(!0),n=null,a=L0,i=null,l=fj(c);t=typeof t=="function"?t:t===void 0?t3:Ot(t),e=typeof e=="function"?e:e===void 0?r3:Ot(e);function c(d){var h,p=(d=pj(d)).length,m,y=!1,x;for(n==null&&(i=a(x=l())),h=0;h<=p;++h)!(h<p&&r(m=d[h],h,d))===y&&((y=!y)?i.lineStart():i.lineEnd()),y&&i.point(+t(m,h,d),+e(m,h,d));if(x)return i=null,x+""||null}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:Ot(+d),c):t},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:Ot(+d),c):e},c.defined=function(d){return arguments.length?(r=typeof d=="function"?d:Ot(!!d),c):r},c.curve=function(d){return arguments.length?(a=d,n!=null&&(i=a(n)),c):a},c.context=function(d){return arguments.length?(d==null?n=i=null:i=a(n=d),c):n},c}function wp(t,e,r){var n=null,a=Ot(!0),i=null,l=L0,c=null,d=fj(h);t=typeof t=="function"?t:t===void 0?t3:Ot(+t),e=typeof e=="function"?e:Ot(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?r3:Ot(+r);function h(m){var y,x,k,w=(m=pj(m)).length,b,N=!1,E,P=new Array(w),R=new Array(w);for(i==null&&(c=l(E=d())),y=0;y<=w;++y){if(!(y<w&&a(b=m[y],y,m))===N)if(N=!N)x=y,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),k=y-1;k>=x;--k)c.point(P[k],R[k]);c.lineEnd(),c.areaEnd()}N&&(P[y]=+t(b,y,m),R[y]=+e(b,y,m),c.point(n?+n(b,y,m):P[y],r?+r(b,y,m):R[y]))}if(E)return c=null,E+""||null}function p(){return n3().defined(a).curve(l).context(i)}return h.x=function(m){return arguments.length?(t=typeof m=="function"?m:Ot(+m),n=null,h):t},h.x0=function(m){return arguments.length?(t=typeof m=="function"?m:Ot(+m),h):t},h.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Ot(+m),h):n},h.y=function(m){return arguments.length?(e=typeof m=="function"?m:Ot(+m),r=null,h):e},h.y0=function(m){return arguments.length?(e=typeof m=="function"?m:Ot(+m),h):e},h.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Ot(+m),h):r},h.lineX0=h.lineY0=function(){return p().x(t).y(e)},h.lineY1=function(){return p().x(t).y(r)},h.lineX1=function(){return p().x(n).y(e)},h.defined=function(m){return arguments.length?(a=typeof m=="function"?m:Ot(!!m),h):a},h.curve=function(m){return arguments.length?(l=m,i!=null&&(c=l(i)),h):l},h.context=function(m){return arguments.length?(m==null?i=c=null:c=l(i=m),h):i},h}class a3{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function mW(t){return new a3(t,!0)}function gW(t){return new a3(t,!1)}const mj={draw(t,e){const r=Ha(e/hm);t.moveTo(r,0),t.arc(0,0,r,0,M0)}},vW={draw(t,e){const r=Ha(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},i3=Ha(1/3),yW=i3*2,xW={draw(t,e){const r=Ha(e/yW),n=r*i3;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},bW={draw(t,e){const r=Ha(e),n=-r/2;t.rect(n,n,r,r)}},wW=.8908130915292852,s3=dm(hm/10)/dm(7*hm/10),_W=dm(M0/10)*s3,kW=-J4(M0/10)*s3,jW={draw(t,e){const r=Ha(e*wW),n=_W*r,a=kW*r;t.moveTo(0,-r),t.lineTo(n,a);for(let i=1;i<5;++i){const l=M0*i/5,c=J4(l),d=dm(l);t.lineTo(d*r,-c*r),t.lineTo(c*n-d*a,d*n+c*a)}t.closePath()}},vx=Ha(3),NW={draw(t,e){const r=-Ha(e/(vx*3));t.moveTo(0,r*2),t.lineTo(-vx*r,-r),t.lineTo(vx*r,-r),t.closePath()}},ma=-.5,ga=Ha(3)/2,U_=1/Ha(12),SW=(U_/2+1)*3,TW={draw(t,e){const r=Ha(e/SW),n=r/2,a=r*U_,i=n,l=r*U_+r,c=-i,d=l;t.moveTo(n,a),t.lineTo(i,l),t.lineTo(c,d),t.lineTo(ma*n-ga*a,ga*n+ma*a),t.lineTo(ma*i-ga*l,ga*i+ma*l),t.lineTo(ma*c-ga*d,ga*c+ma*d),t.lineTo(ma*n+ga*a,ma*a-ga*n),t.lineTo(ma*i+ga*l,ma*l-ga*i),t.lineTo(ma*c+ga*d,ma*d-ga*c),t.closePath()}};function EW(t,e){let r=null,n=fj(a);t=typeof t=="function"?t:Ot(t||mj),e=typeof e=="function"?e:Ot(e===void 0?64:+e);function a(){let i;if(r||(r=i=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(t=typeof i=="function"?i:Ot(i),a):t},a.size=function(i){return arguments.length?(e=typeof i=="function"?i:Ot(+i),a):e},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function fm(){}function pm(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function o3(t){this._context=t}o3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:pm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:pm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function AW(t){return new o3(t)}function l3(t){this._context=t}l3.prototype={areaStart:fm,areaEnd:fm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:pm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function CW(t){return new l3(t)}function c3(t){this._context=t}c3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:pm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function PW(t){return new c3(t)}function u3(t){this._context=t}u3.prototype={areaStart:fm,areaEnd:fm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function IW(t){return new u3(t)}function w2(t){return t<0?-1:1}function _2(t,e,r){var n=t._x1-t._x0,a=e-t._x1,i=(t._y1-t._y0)/(n||a<0&&-0),l=(r-t._y1)/(a||n<0&&-0),c=(i*a+l*n)/(n+a);return(w2(i)+w2(l))*Math.min(Math.abs(i),Math.abs(l),.5*Math.abs(c))||0}function k2(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function yx(t,e,r){var n=t._x0,a=t._y0,i=t._x1,l=t._y1,c=(i-n)/3;t._context.bezierCurveTo(n+c,a+c*e,i-c,l-c*r,i,l)}function mm(t){this._context=t}mm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:yx(this,this._t0,k2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,yx(this,k2(this,r=_2(this,t,e)),r);break;default:yx(this,this._t0,r=_2(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function d3(t){this._context=new h3(t)}(d3.prototype=Object.create(mm.prototype)).point=function(t,e){mm.prototype.point.call(this,e,t)};function h3(t){this._context=t}h3.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,a,i){this._context.bezierCurveTo(e,t,n,r,i,a)}};function OW(t){return new mm(t)}function RW(t){return new d3(t)}function f3(t){this._context=t}f3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=j2(t),a=j2(e),i=0,l=1;l<r;++i,++l)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],t[l],e[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function j2(t){var e,r=t.length-1,n,a=new Array(r),i=new Array(r),l=new Array(r);for(a[0]=0,i[0]=2,l[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,i[e]=4,l[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,i[r-1]=7,l[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/i[e-1],i[e]-=n,l[e]-=n*l[e-1];for(a[r-1]=l[r-1]/i[r-1],e=r-2;e>=0;--e)a[e]=(l[e]-a[e+1])/i[e];for(i[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)i[e]=2*t[e+1]-a[e+1];return[a,i]}function DW(t){return new f3(t)}function $0(t,e){this._context=t,this._t=e}$0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function MW(t){return new $0(t,.5)}function LW(t){return new $0(t,0)}function $W(t){return new $0(t,1)}function Dc(t,e){if((l=t.length)>1)for(var r=1,n,a,i=t[e[0]],l,c=i.length;r<l;++r)for(a=i,i=t[e[r]],n=0;n<c;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function q_(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function FW(t,e){return t[e]}function VW(t){const e=[];return e.key=t,e}function BW(){var t=Ot([]),e=q_,r=Dc,n=FW;function a(i){var l=Array.from(t.apply(this,arguments),VW),c,d=l.length,h=-1,p;for(const m of i)for(c=0,++h;c<d;++c)(l[c][h]=[0,+n(m,l[c].key,h,i)]).data=m;for(c=0,p=pj(e(l));c<d;++c)l[p[c]].index=c;return r(l,p),l}return a.keys=function(i){return arguments.length?(t=typeof i=="function"?i:Ot(Array.from(i)),a):t},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Ot(+i),a):n},a.order=function(i){return arguments.length?(e=i==null?q_:typeof i=="function"?i:Ot(Array.from(i)),a):e},a.offset=function(i){return arguments.length?(r=i??Dc,a):r},a}function UW(t,e){if((n=t.length)>0){for(var r,n,a=0,i=t[0].length,l;a<i;++a){for(l=r=0;r<n;++r)l+=t[r][a][1]||0;if(l)for(r=0;r<n;++r)t[r][a][1]/=l}Dc(t,e)}}function qW(t,e){if((a=t.length)>0){for(var r=0,n=t[e[0]],a,i=n.length;r<i;++r){for(var l=0,c=0;l<a;++l)c+=t[l][r][1]||0;n[r][1]+=n[r][0]=-c/2}Dc(t,e)}}function zW(t,e){if(!(!((l=t.length)>0)||!((i=(a=t[e[0]]).length)>0))){for(var r=0,n=1,a,i,l;n<i;++n){for(var c=0,d=0,h=0;c<l;++c){for(var p=t[e[c]],m=p[n][1]||0,y=p[n-1][1]||0,x=(m-y)/2,k=0;k<c;++k){var w=t[e[k]],b=w[n][1]||0,N=w[n-1][1]||0;x+=b-N}d+=m,h+=x*m}a[n-1][1]+=a[n-1][0]=r,d&&(r-=h/d)}a[n-1][1]+=a[n-1][0]=r,Dc(t,e)}}function zd(t){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zd(t)}var WW=["type","size","sizeType"];function z_(){return z_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},z_.apply(this,arguments)}function N2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function S2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?N2(Object(r),!0).forEach(function(n){HW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HW(t,e,r){return e=GW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GW(t){var e=KW(t,"string");return zd(e)=="symbol"?e:e+""}function KW(t,e){if(zd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YW(t,e){if(t==null)return{};var r=XW(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function XW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var p3={symbolCircle:mj,symbolCross:vW,symbolDiamond:xW,symbolSquare:bW,symbolStar:jW,symbolTriangle:NW,symbolWye:TW},QW=Math.PI/180,JW=function(e){var r="symbol".concat(D0(e));return p3[r]||mj},ZW=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*QW;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},eH=function(e,r){p3["symbol".concat(D0(e))]=r},gj=function(e){var r=e.type,n=r===void 0?"circle":r,a=e.size,i=a===void 0?64:a,l=e.sizeType,c=l===void 0?"area":l,d=YW(e,WW),h=S2(S2({},d),{},{type:n,size:i,sizeType:c}),p=function(){var b=JW(n),N=EW().type(b).size(ZW(i,c,n));return N()},m=h.className,y=h.cx,x=h.cy,k=Ye(h,!0);return y===+y&&x===+x&&i===+i?K.createElement("path",z_({},k,{className:tt("recharts-symbols",m),transform:"translate(".concat(y,", ").concat(x,")"),d:p()})):null};gj.registerSymbol=eH;function Mc(t){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mc(t)}function W_(){return W_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},W_.apply(this,arguments)}function T2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function tH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?T2(Object(r),!0).forEach(function(n){Wd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):T2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,g3(n.key),n)}}function aH(t,e,r){return e&&nH(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function iH(t,e,r){return e=gm(e),sH(t,m3()?Reflect.construct(e,r||[],gm(t).constructor):e.apply(t,r))}function sH(t,e){if(e&&(Mc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oH(t)}function oH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m3=function(){return!!t})()}function gm(t){return gm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gm(t)}function lH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H_(t,e)}function H_(t,e){return H_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},H_(t,e)}function Wd(t,e,r){return e=g3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g3(t){var e=cH(t,"string");return Mc(e)=="symbol"?e:e+""}function cH(t,e){if(Mc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var va=32,vj=function(t){function e(){return rH(this,e),iH(this,e,arguments)}return lH(e,t),aH(e,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=va/2,l=va/6,c=va/3,d=n.inactive?a:n.color;if(n.type==="plainline")return K.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:va,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return K.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(i,"h").concat(c,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*c,",").concat(i,`
            H`).concat(va,"M").concat(2*c,",").concat(i,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(c,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return K.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(va/8,"h").concat(va,"v").concat(va*3/4,"h").concat(-va,"z"),className:"recharts-legend-icon"});if(K.isValidElement(n.legendIcon)){var h=tH({},n);return delete h.legendIcon,K.cloneElement(n.legendIcon,h)}return K.createElement(gj,{fill:d,cx:i,cy:i,size:va,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,l=a.iconSize,c=a.layout,d=a.formatter,h=a.inactiveColor,p={x:0,y:0,width:va,height:va},m={display:c==="horizontal"?"inline-block":"block",marginRight:10},y={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(x,k){var w=x.formatter||d,b=tt(Wd(Wd({"recharts-legend-item":!0},"legend-item-".concat(k),!0),"inactive",x.inactive));if(x.type==="none")return null;var N=Qe(x.value)?null:x.value;qa(!Qe(x.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var E=x.inactive?h:x.color;return K.createElement("li",W_({className:b,style:m,key:"legend-item-".concat(k)},pl(n.props,x,k)),K.createElement($_,{width:l,height:l,viewBox:p,style:y},n.renderIcon(x)),K.createElement("span",{className:"recharts-legend-item-text",style:{color:E}},w?w(N,x,k):N))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,l=n.align;if(!a||!a.length)return null;var c={padding:0,margin:0,textAlign:i==="horizontal"?l:"left"};return K.createElement("ul",{className:"recharts-default-legend",style:c},this.renderItems())}}])}(B.PureComponent);Wd(vj,"displayName","Legend");Wd(vj,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var xx,E2;function uH(){if(E2)return xx;E2=1;var t=I0();function e(){this.__data__=new t,this.size=0}return xx=e,xx}var bx,A2;function dH(){if(A2)return bx;A2=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return bx=t,bx}var wx,C2;function hH(){if(C2)return wx;C2=1;function t(e){return this.__data__.get(e)}return wx=t,wx}var _x,P2;function fH(){if(P2)return _x;P2=1;function t(e){return this.__data__.has(e)}return _x=t,_x}var kx,I2;function pH(){if(I2)return kx;I2=1;var t=I0(),e=oj(),r=lj(),n=200;function a(i,l){var c=this.__data__;if(c instanceof t){var d=c.__data__;if(!e||d.length<n-1)return d.push([i,l]),this.size=++c.size,this;c=this.__data__=new r(d)}return c.set(i,l),this.size=c.size,this}return kx=a,kx}var jx,O2;function v3(){if(O2)return jx;O2=1;var t=I0(),e=uH(),r=dH(),n=hH(),a=fH(),i=pH();function l(c){var d=this.__data__=new t(c);this.size=d.size}return l.prototype.clear=e,l.prototype.delete=r,l.prototype.get=n,l.prototype.has=a,l.prototype.set=i,jx=l,jx}var Nx,R2;function mH(){if(R2)return Nx;R2=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return Nx=e,Nx}var Sx,D2;function gH(){if(D2)return Sx;D2=1;function t(e){return this.__data__.has(e)}return Sx=t,Sx}var Tx,M2;function y3(){if(M2)return Tx;M2=1;var t=lj(),e=mH(),r=gH();function n(a){var i=-1,l=a==null?0:a.length;for(this.__data__=new t;++i<l;)this.add(a[i])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,Tx=n,Tx}var Ex,L2;function x3(){if(L2)return Ex;L2=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(e[n],n,e))return!0;return!1}return Ex=t,Ex}var Ax,$2;function b3(){if($2)return Ax;$2=1;function t(e,r){return e.has(r)}return Ax=t,Ax}var Cx,F2;function w3(){if(F2)return Cx;F2=1;var t=y3(),e=x3(),r=b3(),n=1,a=2;function i(l,c,d,h,p,m){var y=d&n,x=l.length,k=c.length;if(x!=k&&!(y&&k>x))return!1;var w=m.get(l),b=m.get(c);if(w&&b)return w==c&&b==l;var N=-1,E=!0,P=d&a?new t:void 0;for(m.set(l,c),m.set(c,l);++N<x;){var R=l[N],j=c[N];if(h)var C=y?h(j,R,N,c,l,m):h(R,j,N,l,c,m);if(C!==void 0){if(C)continue;E=!1;break}if(P){if(!e(c,function(A,I){if(!r(P,I)&&(R===A||p(R,A,d,h,m)))return P.push(I)})){E=!1;break}}else if(!(R===j||p(R,j,d,h,m))){E=!1;break}}return m.delete(l),m.delete(c),E}return Cx=i,Cx}var Px,V2;function vH(){if(V2)return Px;V2=1;var t=bi(),e=t.Uint8Array;return Px=e,Px}var Ix,B2;function yH(){if(B2)return Ix;B2=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a,i){n[++r]=[i,a]}),n}return Ix=t,Ix}var Ox,U2;function yj(){if(U2)return Ox;U2=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a){n[++r]=a}),n}return Ox=t,Ox}var Rx,q2;function xH(){if(q2)return Rx;q2=1;var t=qh(),e=vH(),r=sj(),n=w3(),a=yH(),i=yj(),l=1,c=2,d="[object Boolean]",h="[object Date]",p="[object Error]",m="[object Map]",y="[object Number]",x="[object RegExp]",k="[object Set]",w="[object String]",b="[object Symbol]",N="[object ArrayBuffer]",E="[object DataView]",P=t?t.prototype:void 0,R=P?P.valueOf:void 0;function j(C,A,I,L,O,D,F){switch(I){case E:if(C.byteLength!=A.byteLength||C.byteOffset!=A.byteOffset)return!1;C=C.buffer,A=A.buffer;case N:return!(C.byteLength!=A.byteLength||!D(new e(C),new e(A)));case d:case h:case y:return r(+C,+A);case p:return C.name==A.name&&C.message==A.message;case x:case w:return C==A+"";case m:var $=a;case k:var ae=L&l;if($||($=i),C.size!=A.size&&!ae)return!1;var ee=F.get(C);if(ee)return ee==A;L|=c,F.set(C,A);var G=n($(C),$(A),L,O,D,F);return F.delete(C),G;case b:if(R)return R.call(C)==R.call(A)}return!1}return Rx=j,Rx}var Dx,z2;function _3(){if(z2)return Dx;z2=1;function t(e,r){for(var n=-1,a=r.length,i=e.length;++n<a;)e[i+n]=r[n];return e}return Dx=t,Dx}var Mx,W2;function bH(){if(W2)return Mx;W2=1;var t=_3(),e=Mn();function r(n,a,i){var l=a(n);return e(n)?l:t(l,i(n))}return Mx=r,Mx}var Lx,H2;function wH(){if(H2)return Lx;H2=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,i=0,l=[];++n<a;){var c=e[n];r(c,n,e)&&(l[i++]=c)}return l}return Lx=t,Lx}var $x,G2;function _H(){if(G2)return $x;G2=1;function t(){return[]}return $x=t,$x}var Fx,K2;function kH(){if(K2)return Fx;K2=1;var t=wH(),e=_H(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(l){return l==null?[]:(l=Object(l),t(a(l),function(c){return n.call(l,c)}))}:e;return Fx=i,Fx}var Vx,Y2;function jH(){if(Y2)return Vx;Y2=1;function t(e,r){for(var n=-1,a=Array(e);++n<e;)a[n]=r(n);return a}return Vx=t,Vx}var Bx,X2;function NH(){if(X2)return Bx;X2=1;var t=us(),e=ds(),r="[object Arguments]";function n(a){return e(a)&&t(a)==r}return Bx=n,Bx}var Ux,Q2;function xj(){if(Q2)return Ux;Q2=1;var t=NH(),e=ds(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,i=t(function(){return arguments}())?t:function(l){return e(l)&&n.call(l,"callee")&&!a.call(l,"callee")};return Ux=i,Ux}var pd={exports:{}},qx,J2;function SH(){if(J2)return qx;J2=1;function t(){return!1}return qx=t,qx}pd.exports;var Z2;function k3(){return Z2||(Z2=1,function(t,e){var r=bi(),n=SH(),a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,l=i&&i.exports===a,c=l?r.Buffer:void 0,d=c?c.isBuffer:void 0,h=d||n;t.exports=h}(pd,pd.exports)),pd.exports}var zx,eC;function bj(){if(eC)return zx;eC=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,a){var i=typeof n;return a=a??t,!!a&&(i=="number"||i!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<a}return zx=r,zx}var Wx,tC;function wj(){if(tC)return Wx;tC=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return Wx=e,Wx}var Hx,rC;function TH(){if(rC)return Hx;rC=1;var t=us(),e=wj(),r=ds(),n="[object Arguments]",a="[object Array]",i="[object Boolean]",l="[object Date]",c="[object Error]",d="[object Function]",h="[object Map]",p="[object Number]",m="[object Object]",y="[object RegExp]",x="[object Set]",k="[object String]",w="[object WeakMap]",b="[object ArrayBuffer]",N="[object DataView]",E="[object Float32Array]",P="[object Float64Array]",R="[object Int8Array]",j="[object Int16Array]",C="[object Int32Array]",A="[object Uint8Array]",I="[object Uint8ClampedArray]",L="[object Uint16Array]",O="[object Uint32Array]",D={};D[E]=D[P]=D[R]=D[j]=D[C]=D[A]=D[I]=D[L]=D[O]=!0,D[n]=D[a]=D[b]=D[i]=D[N]=D[l]=D[c]=D[d]=D[h]=D[p]=D[m]=D[y]=D[x]=D[k]=D[w]=!1;function F($){return r($)&&e($.length)&&!!D[t($)]}return Hx=F,Hx}var Gx,nC;function j3(){if(nC)return Gx;nC=1;function t(e){return function(r){return e(r)}}return Gx=t,Gx}var md={exports:{}};md.exports;var aC;function EH(){return aC||(aC=1,function(t,e){var r=z4(),n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===n,l=i&&r.process,c=function(){try{var d=a&&a.require&&a.require("util").types;return d||l&&l.binding&&l.binding("util")}catch{}}();t.exports=c}(md,md.exports)),md.exports}var Kx,iC;function N3(){if(iC)return Kx;iC=1;var t=TH(),e=j3(),r=EH(),n=r&&r.isTypedArray,a=n?e(n):t;return Kx=a,Kx}var Yx,sC;function AH(){if(sC)return Yx;sC=1;var t=jH(),e=xj(),r=Mn(),n=k3(),a=bj(),i=N3(),l=Object.prototype,c=l.hasOwnProperty;function d(h,p){var m=r(h),y=!m&&e(h),x=!m&&!y&&n(h),k=!m&&!y&&!x&&i(h),w=m||y||x||k,b=w?t(h.length,String):[],N=b.length;for(var E in h)(p||c.call(h,E))&&!(w&&(E=="length"||x&&(E=="offset"||E=="parent")||k&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||a(E,N)))&&b.push(E);return b}return Yx=d,Yx}var Xx,oC;function CH(){if(oC)return Xx;oC=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||t;return r===a}return Xx=e,Xx}var Qx,lC;function S3(){if(lC)return Qx;lC=1;function t(e,r){return function(n){return e(r(n))}}return Qx=t,Qx}var Jx,cC;function PH(){if(cC)return Jx;cC=1;var t=S3(),e=t(Object.keys,Object);return Jx=e,Jx}var Zx,uC;function IH(){if(uC)return Zx;uC=1;var t=CH(),e=PH(),r=Object.prototype,n=r.hasOwnProperty;function a(i){if(!t(i))return e(i);var l=[];for(var c in Object(i))n.call(i,c)&&c!="constructor"&&l.push(c);return l}return Zx=a,Zx}var eb,dC;function Hh(){if(dC)return eb;dC=1;var t=ij(),e=wj();function r(n){return n!=null&&e(n.length)&&!t(n)}return eb=r,eb}var tb,hC;function F0(){if(hC)return tb;hC=1;var t=AH(),e=IH(),r=Hh();function n(a){return r(a)?t(a):e(a)}return tb=n,tb}var rb,fC;function OH(){if(fC)return rb;fC=1;var t=bH(),e=kH(),r=F0();function n(a){return t(a,r,e)}return rb=n,rb}var nb,pC;function RH(){if(pC)return nb;pC=1;var t=OH(),e=1,r=Object.prototype,n=r.hasOwnProperty;function a(i,l,c,d,h,p){var m=c&e,y=t(i),x=y.length,k=t(l),w=k.length;if(x!=w&&!m)return!1;for(var b=x;b--;){var N=y[b];if(!(m?N in l:n.call(l,N)))return!1}var E=p.get(i),P=p.get(l);if(E&&P)return E==l&&P==i;var R=!0;p.set(i,l),p.set(l,i);for(var j=m;++b<x;){N=y[b];var C=i[N],A=l[N];if(d)var I=m?d(A,C,N,l,i,p):d(C,A,N,i,l,p);if(!(I===void 0?C===A||h(C,A,c,d,p):I)){R=!1;break}j||(j=N=="constructor")}if(R&&!j){var L=i.constructor,O=l.constructor;L!=O&&"constructor"in i&&"constructor"in l&&!(typeof L=="function"&&L instanceof L&&typeof O=="function"&&O instanceof O)&&(R=!1)}return p.delete(i),p.delete(l),R}return nb=a,nb}var ab,mC;function DH(){if(mC)return ab;mC=1;var t=jl(),e=bi(),r=t(e,"DataView");return ab=r,ab}var ib,gC;function MH(){if(gC)return ib;gC=1;var t=jl(),e=bi(),r=t(e,"Promise");return ib=r,ib}var sb,vC;function T3(){if(vC)return sb;vC=1;var t=jl(),e=bi(),r=t(e,"Set");return sb=r,sb}var ob,yC;function LH(){if(yC)return ob;yC=1;var t=jl(),e=bi(),r=t(e,"WeakMap");return ob=r,ob}var lb,xC;function $H(){if(xC)return lb;xC=1;var t=DH(),e=oj(),r=MH(),n=T3(),a=LH(),i=us(),l=W4(),c="[object Map]",d="[object Object]",h="[object Promise]",p="[object Set]",m="[object WeakMap]",y="[object DataView]",x=l(t),k=l(e),w=l(r),b=l(n),N=l(a),E=i;return(t&&E(new t(new ArrayBuffer(1)))!=y||e&&E(new e)!=c||r&&E(r.resolve())!=h||n&&E(new n)!=p||a&&E(new a)!=m)&&(E=function(P){var R=i(P),j=R==d?P.constructor:void 0,C=j?l(j):"";if(C)switch(C){case x:return y;case k:return c;case w:return h;case b:return p;case N:return m}return R}),lb=E,lb}var cb,bC;function FH(){if(bC)return cb;bC=1;var t=v3(),e=w3(),r=xH(),n=RH(),a=$H(),i=Mn(),l=k3(),c=N3(),d=1,h="[object Arguments]",p="[object Array]",m="[object Object]",y=Object.prototype,x=y.hasOwnProperty;function k(w,b,N,E,P,R){var j=i(w),C=i(b),A=j?p:a(w),I=C?p:a(b);A=A==h?m:A,I=I==h?m:I;var L=A==m,O=I==m,D=A==I;if(D&&l(w)){if(!l(b))return!1;j=!0,L=!1}if(D&&!L)return R||(R=new t),j||c(w)?e(w,b,N,E,P,R):r(w,b,A,N,E,P,R);if(!(N&d)){var F=L&&x.call(w,"__wrapped__"),$=O&&x.call(b,"__wrapped__");if(F||$){var ae=F?w.value():w,ee=$?b.value():b;return R||(R=new t),P(ae,ee,N,E,R)}}return D?(R||(R=new t),n(w,b,N,E,P,R)):!1}return cb=k,cb}var ub,wC;function _j(){if(wC)return ub;wC=1;var t=FH(),e=ds();function r(n,a,i,l,c){return n===a?!0:n==null||a==null||!e(n)&&!e(a)?n!==n&&a!==a:t(n,a,i,l,r,c)}return ub=r,ub}var db,_C;function VH(){if(_C)return db;_C=1;var t=v3(),e=_j(),r=1,n=2;function a(i,l,c,d){var h=c.length,p=h,m=!d;if(i==null)return!p;for(i=Object(i);h--;){var y=c[h];if(m&&y[2]?y[1]!==i[y[0]]:!(y[0]in i))return!1}for(;++h<p;){y=c[h];var x=y[0],k=i[x],w=y[1];if(m&&y[2]){if(k===void 0&&!(x in i))return!1}else{var b=new t;if(d)var N=d(k,w,x,i,l,b);if(!(N===void 0?e(w,k,r|n,d,b):N))return!1}}return!0}return db=a,db}var hb,kC;function E3(){if(kC)return hb;kC=1;var t=fo();function e(r){return r===r&&!t(r)}return hb=e,hb}var fb,jC;function BH(){if(jC)return fb;jC=1;var t=E3(),e=F0();function r(n){for(var a=e(n),i=a.length;i--;){var l=a[i],c=n[l];a[i]=[l,c,t(c)]}return a}return fb=r,fb}var pb,NC;function A3(){if(NC)return pb;NC=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return pb=t,pb}var mb,SC;function UH(){if(SC)return mb;SC=1;var t=VH(),e=BH(),r=A3();function n(a){var i=e(a);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(l){return l===a||t(l,a,i)}}return mb=n,mb}var gb,TC;function qH(){if(TC)return gb;TC=1;function t(e,r){return e!=null&&r in Object(e)}return gb=t,gb}var vb,EC;function zH(){if(EC)return vb;EC=1;var t=K4(),e=xj(),r=Mn(),n=bj(),a=wj(),i=R0();function l(c,d,h){d=t(d,c);for(var p=-1,m=d.length,y=!1;++p<m;){var x=i(d[p]);if(!(y=c!=null&&h(c,x)))break;c=c[x]}return y||++p!=m?y:(m=c==null?0:c.length,!!m&&a(m)&&n(x,m)&&(r(c)||e(c)))}return vb=l,vb}var yb,AC;function WH(){if(AC)return yb;AC=1;var t=qH(),e=zH();function r(n,a){return n!=null&&e(n,a,t)}return yb=r,yb}var xb,CC;function HH(){if(CC)return xb;CC=1;var t=_j(),e=Y4(),r=WH(),n=aj(),a=E3(),i=A3(),l=R0(),c=1,d=2;function h(p,m){return n(p)&&a(m)?i(l(p),m):function(y){var x=e(y,p);return x===void 0&&x===m?r(y,p):t(m,x,c|d)}}return xb=h,xb}var bb,PC;function hu(){if(PC)return bb;PC=1;function t(e){return e}return bb=t,bb}var wb,IC;function GH(){if(IC)return wb;IC=1;function t(e){return function(r){return r?.[e]}}return wb=t,wb}var _b,OC;function KH(){if(OC)return _b;OC=1;var t=uj();function e(r){return function(n){return t(n,r)}}return _b=e,_b}var kb,RC;function YH(){if(RC)return kb;RC=1;var t=GH(),e=KH(),r=aj(),n=R0();function a(i){return r(i)?t(n(i)):e(i)}return kb=a,kb}var jb,DC;function wi(){if(DC)return jb;DC=1;var t=UH(),e=HH(),r=hu(),n=Mn(),a=YH();function i(l){return typeof l=="function"?l:l==null?r:typeof l=="object"?n(l)?e(l[0],l[1]):t(l):a(l)}return jb=i,jb}var Nb,MC;function C3(){if(MC)return Nb;MC=1;function t(e,r,n,a){for(var i=e.length,l=n+(a?1:-1);a?l--:++l<i;)if(r(e[l],l,e))return l;return-1}return Nb=t,Nb}var Sb,LC;function XH(){if(LC)return Sb;LC=1;function t(e){return e!==e}return Sb=t,Sb}var Tb,$C;function QH(){if($C)return Tb;$C=1;function t(e,r,n){for(var a=n-1,i=e.length;++a<i;)if(e[a]===r)return a;return-1}return Tb=t,Tb}var Eb,FC;function JH(){if(FC)return Eb;FC=1;var t=C3(),e=XH(),r=QH();function n(a,i,l){return i===i?r(a,i,l):t(a,e,l)}return Eb=n,Eb}var Ab,VC;function ZH(){if(VC)return Ab;VC=1;var t=JH();function e(r,n){var a=r==null?0:r.length;return!!a&&t(r,n,0)>-1}return Ab=e,Ab}var Cb,BC;function eG(){if(BC)return Cb;BC=1;function t(e,r,n){for(var a=-1,i=e==null?0:e.length;++a<i;)if(n(r,e[a]))return!0;return!1}return Cb=t,Cb}var Pb,UC;function tG(){if(UC)return Pb;UC=1;function t(){}return Pb=t,Pb}var Ib,qC;function rG(){if(qC)return Ib;qC=1;var t=T3(),e=tG(),r=yj(),n=1/0,a=t&&1/r(new t([,-0]))[1]==n?function(i){return new t(i)}:e;return Ib=a,Ib}var Ob,zC;function nG(){if(zC)return Ob;zC=1;var t=y3(),e=ZH(),r=eG(),n=b3(),a=rG(),i=yj(),l=200;function c(d,h,p){var m=-1,y=e,x=d.length,k=!0,w=[],b=w;if(p)k=!1,y=r;else if(x>=l){var N=h?null:a(d);if(N)return i(N);k=!1,y=n,b=new t}else b=h?[]:w;e:for(;++m<x;){var E=d[m],P=h?h(E):E;if(E=p||E!==0?E:0,k&&P===P){for(var R=b.length;R--;)if(b[R]===P)continue e;h&&b.push(P),w.push(E)}else y(b,P,p)||(b!==w&&b.push(P),w.push(E))}return w}return Ob=c,Ob}var Rb,WC;function aG(){if(WC)return Rb;WC=1;var t=wi(),e=nG();function r(n,a){return n&&n.length?e(n,t(a,2)):[]}return Rb=r,Rb}var iG=aG();const HC=xt(iG);function P3(t,e,r){return e===!0?HC(t,r):Qe(e)?HC(t,e):t}function Lc(t){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lc(t)}var sG=["ref"];function GC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Bi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GC(Object(r),!0).forEach(function(n){V0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KC(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,O3(n.key),n)}}function lG(t,e,r){return e&&KC(t.prototype,e),r&&KC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function cG(t,e,r){return e=vm(e),uG(t,I3()?Reflect.construct(e,r||[],vm(t).constructor):e.apply(t,r))}function uG(t,e){if(e&&(Lc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dG(t)}function dG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I3=function(){return!!t})()}function vm(t){return vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vm(t)}function hG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&G_(t,e)}function G_(t,e){return G_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},G_(t,e)}function V0(t,e,r){return e=O3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function O3(t){var e=fG(t,"string");return Lc(e)=="symbol"?e:e+""}function fG(t,e){if(Lc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function pG(t,e){if(t==null)return{};var r=mG(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mG(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function gG(t){return t.value}function vG(t,e){if(K.isValidElement(t))return K.cloneElement(t,e);if(typeof t=="function")return K.createElement(t,e);e.ref;var r=pG(e,sG);return K.createElement(vj,r)}var YC=1,to=function(t){function e(){var r;oG(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=cG(this,e,[].concat(a)),V0(r,"lastBoundingBox",{width:-1,height:-1}),r}return hG(e,t),lG(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>YC||Math.abs(a.height-this.lastBoundingBox.height)>YC)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Bi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,l=a.align,c=a.verticalAlign,d=a.margin,h=a.chartWidth,p=a.chartHeight,m,y;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(l==="center"&&i==="vertical"){var x=this.getBBoxSnapshot();m={left:((h||0)-x.width)/2}}else m=l==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(c==="middle"){var k=this.getBBoxSnapshot();y={top:((p||0)-k.height)/2}}else y=c==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return Bi(Bi({},m),y)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,l=a.width,c=a.height,d=a.wrapperStyle,h=a.payloadUniqBy,p=a.payload,m=Bi(Bi({position:"absolute",width:l||"auto",height:c||"auto"},this.getDefaultPosition(d)),d);return K.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(x){n.wrapperNode=x}},vG(i,Bi(Bi({},this.props),{},{payload:P3(p,h,gG)})))}}],[{key:"getWithHeight",value:function(n,a){var i=Bi(Bi({},this.defaultProps),n.props),l=i.layout;return l==="vertical"&&Ee(n.props.height)?{height:n.props.height}:l==="horizontal"?{width:n.props.width||a}:null}}])}(B.PureComponent);V0(to,"displayName","Legend");V0(to,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Db,XC;function yG(){if(XC)return Db;XC=1;var t=qh(),e=xj(),r=Mn(),n=t?t.isConcatSpreadable:void 0;function a(i){return r(i)||e(i)||!!(n&&i&&i[n])}return Db=a,Db}var Mb,QC;function R3(){if(QC)return Mb;QC=1;var t=_3(),e=yG();function r(n,a,i,l,c){var d=-1,h=n.length;for(i||(i=e),c||(c=[]);++d<h;){var p=n[d];a>0&&i(p)?a>1?r(p,a-1,i,l,c):t(c,p):l||(c[c.length]=p)}return c}return Mb=r,Mb}var Lb,JC;function xG(){if(JC)return Lb;JC=1;function t(e){return function(r,n,a){for(var i=-1,l=Object(r),c=a(r),d=c.length;d--;){var h=c[e?d:++i];if(n(l[h],h,l)===!1)break}return r}}return Lb=t,Lb}var $b,ZC;function bG(){if(ZC)return $b;ZC=1;var t=xG(),e=t();return $b=e,$b}var Fb,eP;function D3(){if(eP)return Fb;eP=1;var t=bG(),e=F0();function r(n,a){return n&&t(n,a,e)}return Fb=r,Fb}var Vb,tP;function wG(){if(tP)return Vb;tP=1;var t=Hh();function e(r,n){return function(a,i){if(a==null)return a;if(!t(a))return r(a,i);for(var l=a.length,c=n?l:-1,d=Object(a);(n?c--:++c<l)&&i(d[c],c,d)!==!1;);return a}}return Vb=e,Vb}var Bb,rP;function kj(){if(rP)return Bb;rP=1;var t=D3(),e=wG(),r=e(t);return Bb=r,Bb}var Ub,nP;function M3(){if(nP)return Ub;nP=1;var t=kj(),e=Hh();function r(n,a){var i=-1,l=e(n)?Array(n.length):[];return t(n,function(c,d,h){l[++i]=a(c,d,h)}),l}return Ub=r,Ub}var qb,aP;function _G(){if(aP)return qb;aP=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return qb=t,qb}var zb,iP;function kG(){if(iP)return zb;iP=1;var t=uu();function e(r,n){if(r!==n){var a=r!==void 0,i=r===null,l=r===r,c=t(r),d=n!==void 0,h=n===null,p=n===n,m=t(n);if(!h&&!m&&!c&&r>n||c&&d&&p&&!h&&!m||i&&d&&p||!a&&p||!l)return 1;if(!i&&!c&&!m&&r<n||m&&a&&l&&!i&&!c||h&&a&&l||!d&&l||!p)return-1}return 0}return zb=e,zb}var Wb,sP;function jG(){if(sP)return Wb;sP=1;var t=kG();function e(r,n,a){for(var i=-1,l=r.criteria,c=n.criteria,d=l.length,h=a.length;++i<d;){var p=t(l[i],c[i]);if(p){if(i>=h)return p;var m=a[i];return p*(m=="desc"?-1:1)}}return r.index-n.index}return Wb=e,Wb}var Hb,oP;function NG(){if(oP)return Hb;oP=1;var t=cj(),e=uj(),r=wi(),n=M3(),a=_G(),i=j3(),l=jG(),c=hu(),d=Mn();function h(p,m,y){m.length?m=t(m,function(w){return d(w)?function(b){return e(b,w.length===1?w[0]:w)}:w}):m=[c];var x=-1;m=t(m,i(r));var k=n(p,function(w,b,N){var E=t(m,function(P){return P(w)});return{criteria:E,index:++x,value:w}});return a(k,function(w,b){return l(w,b,y)})}return Hb=h,Hb}var Gb,lP;function SG(){if(lP)return Gb;lP=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return Gb=t,Gb}var Kb,cP;function TG(){if(cP)return Kb;cP=1;var t=SG(),e=Math.max;function r(n,a,i){return a=e(a===void 0?n.length-1:a,0),function(){for(var l=arguments,c=-1,d=e(l.length-a,0),h=Array(d);++c<d;)h[c]=l[a+c];c=-1;for(var p=Array(a+1);++c<a;)p[c]=l[c];return p[a]=i(h),t(n,this,p)}}return Kb=r,Kb}var Yb,uP;function EG(){if(uP)return Yb;uP=1;function t(e){return function(){return e}}return Yb=t,Yb}var Xb,dP;function L3(){if(dP)return Xb;dP=1;var t=jl(),e=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return Xb=e,Xb}var Qb,hP;function AG(){if(hP)return Qb;hP=1;var t=EG(),e=L3(),r=hu(),n=e?function(a,i){return e(a,"toString",{configurable:!0,enumerable:!1,value:t(i),writable:!0})}:r;return Qb=n,Qb}var Jb,fP;function CG(){if(fP)return Jb;fP=1;var t=800,e=16,r=Date.now;function n(a){var i=0,l=0;return function(){var c=r(),d=e-(c-l);if(l=c,d>0){if(++i>=t)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return Jb=n,Jb}var Zb,pP;function PG(){if(pP)return Zb;pP=1;var t=AG(),e=CG(),r=e(t);return Zb=r,Zb}var ew,mP;function IG(){if(mP)return ew;mP=1;var t=hu(),e=TG(),r=PG();function n(a,i){return r(e(a,i,t),a+"")}return ew=n,ew}var tw,gP;function B0(){if(gP)return tw;gP=1;var t=sj(),e=Hh(),r=bj(),n=fo();function a(i,l,c){if(!n(c))return!1;var d=typeof l;return(d=="number"?e(c)&&r(l,c.length):d=="string"&&l in c)?t(c[l],i):!1}return tw=a,tw}var rw,vP;function OG(){if(vP)return rw;vP=1;var t=R3(),e=NG(),r=IG(),n=B0(),a=r(function(i,l){if(i==null)return[];var c=l.length;return c>1&&n(i,l[0],l[1])?l=[]:c>2&&n(l[0],l[1],l[2])&&(l=[l[0]]),e(i,t(l,1),[])});return rw=a,rw}var RG=OG();const jj=xt(RG);function Hd(t){"@babel/helpers - typeof";return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hd(t)}function K_(){return K_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},K_.apply(this,arguments)}function DG(t,e){return FG(t)||$G(t,e)||LG(t,e)||MG()}function MG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LG(t,e){if(t){if(typeof t=="string")return yP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yP(t,e)}}function yP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $G(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,l,c=[],d=!0,h=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return c}}function FG(t){if(Array.isArray(t))return t}function xP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function nw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xP(Object(r),!0).forEach(function(n){VG(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function VG(t,e,r){return e=BG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BG(t){var e=UG(t,"string");return Hd(e)=="symbol"?e:e+""}function UG(t,e){if(Hd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qG(t){return Array.isArray(t)&&Nr(t[0])&&Nr(t[1])?t.join(" ~ "):t}var zG=function(e){var r=e.separator,n=r===void 0?" : ":r,a=e.contentStyle,i=a===void 0?{}:a,l=e.itemStyle,c=l===void 0?{}:l,d=e.labelStyle,h=d===void 0?{}:d,p=e.payload,m=e.formatter,y=e.itemSorter,x=e.wrapperClassName,k=e.labelClassName,w=e.label,b=e.labelFormatter,N=e.accessibilityLayer,E=N===void 0?!1:N,P=function(){if(p&&p.length){var F={padding:0,margin:0},$=(y?jj(p,y):p).map(function(ae,ee){if(ae.type==="none")return null;var G=nw({display:"block",paddingTop:4,paddingBottom:4,color:ae.color||"#000"},c),ne=ae.formatter||m||qG,Q=ae.value,Z=ae.name,re=Q,W=Z;if(ne&&re!=null&&W!=null){var J=ne(Q,Z,ae,ee,p);if(Array.isArray(J)){var X=DG(J,2);re=X[0],W=X[1]}else re=J}return K.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(ee),style:G},Nr(W)?K.createElement("span",{className:"recharts-tooltip-item-name"},W):null,Nr(W)?K.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,K.createElement("span",{className:"recharts-tooltip-item-value"},re),K.createElement("span",{className:"recharts-tooltip-item-unit"},ae.unit||""))});return K.createElement("ul",{className:"recharts-tooltip-item-list",style:F},$)}return null},R=nw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),j=nw({margin:0},h),C=!at(w),A=C?w:"",I=tt("recharts-default-tooltip",x),L=tt("recharts-tooltip-label",k);C&&b&&p!==void 0&&p!==null&&(A=b(w,p));var O=E?{role:"status","aria-live":"assertive"}:{};return K.createElement("div",K_({className:I,style:R},O),K.createElement("p",{className:L,style:j},K.isValidElement(A)?A:"".concat(A)),P())};function Gd(t){"@babel/helpers - typeof";return Gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gd(t)}function _p(t,e,r){return e=WG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WG(t){var e=HG(t,"string");return Gd(e)=="symbol"?e:e+""}function HG(t,e){if(Gd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zu="recharts-tooltip-wrapper",GG={visibility:"hidden"};function KG(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return tt(Zu,_p(_p(_p(_p({},"".concat(Zu,"-right"),Ee(r)&&e&&Ee(e.x)&&r>=e.x),"".concat(Zu,"-left"),Ee(r)&&e&&Ee(e.x)&&r<e.x),"".concat(Zu,"-bottom"),Ee(n)&&e&&Ee(e.y)&&n>=e.y),"".concat(Zu,"-top"),Ee(n)&&e&&Ee(e.y)&&n<e.y))}function bP(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,a=t.offsetTopLeft,i=t.position,l=t.reverseDirection,c=t.tooltipDimension,d=t.viewBox,h=t.viewBoxDimension;if(i&&Ee(i[n]))return i[n];var p=r[n]-c-a,m=r[n]+a;if(e[n])return l[n]?p:m;if(l[n]){var y=p,x=d[n];return y<x?Math.max(m,d[n]):Math.max(p,d[n])}var k=m+c,w=d[n]+h;return k>w?Math.max(p,d[n]):Math.max(m,d[n])}function YG(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function XG(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,a=t.position,i=t.reverseDirection,l=t.tooltipBox,c=t.useTranslate3d,d=t.viewBox,h,p,m;return l.height>0&&l.width>0&&r?(p=bP({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),m=bP({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),h=YG({translateX:p,translateY:m,useTranslate3d:c})):h=GG,{cssProperties:h,cssClasses:KG({translateX:p,translateY:m,coordinate:r})}}function $c(t){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$c(t)}function wP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function _P(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wP(Object(r),!0).forEach(function(n){X_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,F3(n.key),n)}}function ZG(t,e,r){return e&&JG(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function eK(t,e,r){return e=ym(e),tK(t,$3()?Reflect.construct(e,r||[],ym(t).constructor):e.apply(t,r))}function tK(t,e){if(e&&($c(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rK(t)}function rK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($3=function(){return!!t})()}function ym(t){return ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ym(t)}function nK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y_(t,e)}function Y_(t,e){return Y_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Y_(t,e)}function X_(t,e,r){return e=F3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function F3(t){var e=aK(t,"string");return $c(e)=="symbol"?e:e+""}function aK(t,e){if($c(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var kP=1,iK=function(t){function e(){var r;QG(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=eK(this,e,[].concat(a)),X_(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),X_(r,"handleKeyDown",function(l){if(l.key==="Escape"){var c,d,h,p;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(c=(d=r.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&c!==void 0?c:0,y:(h=(p=r.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&h!==void 0?h:0}})}}),r}return nK(e,t),ZG(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>kP||Math.abs(n.height-this.state.lastBoundingBox.height)>kP)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,l=a.allowEscapeViewBox,c=a.animationDuration,d=a.animationEasing,h=a.children,p=a.coordinate,m=a.hasPayload,y=a.isAnimationActive,x=a.offset,k=a.position,w=a.reverseDirection,b=a.useTranslate3d,N=a.viewBox,E=a.wrapperStyle,P=XG({allowEscapeViewBox:l,coordinate:p,offsetTopLeft:x,position:k,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:N}),R=P.cssClasses,j=P.cssProperties,C=_P(_P({transition:y&&i?"transform ".concat(c,"ms ").concat(d):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&m?"visible":"hidden",position:"absolute",top:0,left:0},E);return K.createElement("div",{tabIndex:-1,className:R,style:C,ref:function(I){n.wrapperNode=I}},h)}}])}(B.PureComponent),sK=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},fu={isSsr:sK()};function Fc(t){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fc(t)}function jP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function NP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jP(Object(r),!0).forEach(function(n){Nj(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,B3(n.key),n)}}function cK(t,e,r){return e&&lK(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uK(t,e,r){return e=xm(e),dK(t,V3()?Reflect.construct(e,r||[],xm(t).constructor):e.apply(t,r))}function dK(t,e){if(e&&(Fc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hK(t)}function hK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V3=function(){return!!t})()}function xm(t){return xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xm(t)}function fK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Q_(t,e)}function Q_(t,e){return Q_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Q_(t,e)}function Nj(t,e,r){return e=B3(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function B3(t){var e=pK(t,"string");return Fc(e)=="symbol"?e:e+""}function pK(t,e){if(Fc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function mK(t){return t.dataKey}function gK(t,e){return K.isValidElement(t)?K.cloneElement(t,e):typeof t=="function"?K.createElement(t,e):K.createElement(zG,e)}var ya=function(t){function e(){return oK(this,e),uK(this,e,arguments)}return fK(e,t),cK(e,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,l=a.allowEscapeViewBox,c=a.animationDuration,d=a.animationEasing,h=a.content,p=a.coordinate,m=a.filterNull,y=a.isAnimationActive,x=a.offset,k=a.payload,w=a.payloadUniqBy,b=a.position,N=a.reverseDirection,E=a.useTranslate3d,P=a.viewBox,R=a.wrapperStyle,j=k??[];m&&j.length&&(j=P3(k.filter(function(A){return A.value!=null&&(A.hide!==!0||n.props.includeHidden)}),w,mK));var C=j.length>0;return K.createElement(iK,{allowEscapeViewBox:l,animationDuration:c,animationEasing:d,isAnimationActive:y,active:i,coordinate:p,hasPayload:C,offset:x,position:b,reverseDirection:N,useTranslate3d:E,viewBox:P,wrapperStyle:R},gK(h,NP(NP({},this.props),{},{payload:j})))}}])}(B.PureComponent);Nj(ya,"displayName","Tooltip");Nj(ya,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!fu.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var aw,SP;function vK(){if(SP)return aw;SP=1;var t=bi(),e=function(){return t.Date.now()};return aw=e,aw}var iw,TP;function yK(){if(TP)return iw;TP=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return iw=e,iw}var sw,EP;function xK(){if(EP)return sw;EP=1;var t=yK(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return sw=r,sw}var ow,AP;function U3(){if(AP)return ow;AP=1;var t=xK(),e=fo(),r=uu(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;function d(h){if(typeof h=="number")return h;if(r(h))return n;if(e(h)){var p=typeof h.valueOf=="function"?h.valueOf():h;h=e(p)?p+"":p}if(typeof h!="string")return h===0?h:+h;h=t(h);var m=i.test(h);return m||l.test(h)?c(h.slice(2),m?2:8):a.test(h)?n:+h}return ow=d,ow}var lw,CP;function bK(){if(CP)return lw;CP=1;var t=fo(),e=vK(),r=U3(),n="Expected a function",a=Math.max,i=Math.min;function l(c,d,h){var p,m,y,x,k,w,b=0,N=!1,E=!1,P=!0;if(typeof c!="function")throw new TypeError(n);d=r(d)||0,t(h)&&(N=!!h.leading,E="maxWait"in h,y=E?a(r(h.maxWait)||0,d):y,P="trailing"in h?!!h.trailing:P);function R($){var ae=p,ee=m;return p=m=void 0,b=$,x=c.apply(ee,ae),x}function j($){return b=$,k=setTimeout(I,d),N?R($):x}function C($){var ae=$-w,ee=$-b,G=d-ae;return E?i(G,y-ee):G}function A($){var ae=$-w,ee=$-b;return w===void 0||ae>=d||ae<0||E&&ee>=y}function I(){var $=e();if(A($))return L($);k=setTimeout(I,C($))}function L($){return k=void 0,P&&p?R($):(p=m=void 0,x)}function O(){k!==void 0&&clearTimeout(k),b=0,p=w=m=k=void 0}function D(){return k===void 0?x:L(e())}function F(){var $=e(),ae=A($);if(p=arguments,m=this,w=$,ae){if(k===void 0)return j(w);if(E)return clearTimeout(k),k=setTimeout(I,d),R(w)}return k===void 0&&(k=setTimeout(I,d)),x}return F.cancel=O,F.flush=D,F}return lw=l,lw}var cw,PP;function wK(){if(PP)return cw;PP=1;var t=bK(),e=fo(),r="Expected a function";function n(a,i,l){var c=!0,d=!0;if(typeof a!="function")throw new TypeError(r);return e(l)&&(c="leading"in l?!!l.leading:c,d="trailing"in l?!!l.trailing:d),t(a,i,{leading:c,maxWait:i,trailing:d})}return cw=n,cw}var _K=wK();const q3=xt(_K);function Kd(t){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kd(t)}function IP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function kp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IP(Object(r),!0).forEach(function(n){kK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kK(t,e,r){return e=jK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jK(t){var e=NK(t,"string");return Kd(e)=="symbol"?e:e+""}function NK(t,e){if(Kd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SK(t,e){return CK(t)||AK(t,e)||EK(t,e)||TK()}function TK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EK(t,e){if(t){if(typeof t=="string")return OP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OP(t,e)}}function OP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function AK(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,l,c=[],d=!0,h=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return c}}function CK(t){if(Array.isArray(t))return t}var Sj=B.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=t.width,l=i===void 0?"100%":i,c=t.height,d=c===void 0?"100%":c,h=t.minWidth,p=h===void 0?0:h,m=t.minHeight,y=t.maxHeight,x=t.children,k=t.debounce,w=k===void 0?0:k,b=t.id,N=t.className,E=t.onResize,P=t.style,R=P===void 0?{}:P,j=B.useRef(null),C=B.useRef();C.current=E,B.useImperativeHandle(e,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var A=B.useState({containerWidth:a.width,containerHeight:a.height}),I=SK(A,2),L=I[0],O=I[1],D=B.useCallback(function($,ae){O(function(ee){var G=Math.round($),ne=Math.round(ae);return ee.containerWidth===G&&ee.containerHeight===ne?ee:{containerWidth:G,containerHeight:ne}})},[]);B.useEffect(function(){var $=function(Z){var re,W=Z[0].contentRect,J=W.width,X=W.height;D(J,X),(re=C.current)===null||re===void 0||re.call(C,J,X)};w>0&&($=q3($,w,{trailing:!0,leading:!1}));var ae=new ResizeObserver($),ee=j.current.getBoundingClientRect(),G=ee.width,ne=ee.height;return D(G,ne),ae.observe(j.current),function(){ae.disconnect()}},[D,w]);var F=B.useMemo(function(){var $=L.containerWidth,ae=L.containerHeight;if($<0||ae<0)return null;qa(Jo(l)||Jo(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,l,d),qa(!r||r>0,"The aspect(%s) must be greater than zero.",r);var ee=Jo(l)?$:l,G=Jo(d)?ae:d;r&&r>0&&(ee?G=ee/r:G&&(ee=G*r),y&&G>y&&(G=y)),qa(ee>0||G>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,ee,G,l,d,p,m,r);var ne=!Array.isArray(x)&&Qi(x.type).endsWith("Chart");return K.Children.map(x,function(Q){return K.isValidElement(Q)?B.cloneElement(Q,kp({width:ee,height:G},ne?{style:kp({height:"100%",width:"100%",maxHeight:G,maxWidth:ee},Q.props.style)}:{})):Q})},[r,x,d,y,m,p,L,l]);return K.createElement("div",{id:b?"".concat(b):void 0,className:tt("recharts-responsive-container",N),style:kp(kp({},R),{},{width:l,height:d,minWidth:p,minHeight:m,maxHeight:y}),ref:j},F)}),U0=function(e){return null};U0.displayName="Cell";function Yd(t){"@babel/helpers - typeof";return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yd(t)}function RP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function J_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RP(Object(r),!0).forEach(function(n){PK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function PK(t,e,r){return e=IK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function IK(t){var e=OK(t,"string");return Yd(e)=="symbol"?e:e+""}function OK(t,e){if(Yd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oc={widthCache:{},cacheCount:0},RK=2e3,DK={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},DP="recharts_measurement_span";function MK(t){var e=J_({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Nd=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||fu.isSsr)return{width:0,height:0};var n=MK(r),a=JSON.stringify({text:e,copyStyle:n});if(oc.widthCache[a])return oc.widthCache[a];try{var i=document.getElementById(DP);i||(i=document.createElement("span"),i.setAttribute("id",DP),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var l=J_(J_({},DK),n);Object.assign(i.style,l),i.textContent="".concat(e);var c=i.getBoundingClientRect(),d={width:c.width,height:c.height};return oc.widthCache[a]=d,++oc.cacheCount>RK&&(oc.cacheCount=0,oc.widthCache={}),d}catch{return{width:0,height:0}}},LK=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Xd(t){"@babel/helpers - typeof";return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xd(t)}function bm(t,e){return BK(t)||VK(t,e)||FK(t,e)||$K()}function $K(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FK(t,e){if(t){if(typeof t=="string")return MP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MP(t,e)}}function MP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function VK(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,l,c=[],d=!0,h=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return c}}function BK(t){if(Array.isArray(t))return t}function UK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LP(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zK(n.key),n)}}function qK(t,e,r){return e&&LP(t.prototype,e),r&&LP(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function zK(t){var e=WK(t,"string");return Xd(e)=="symbol"?e:e+""}function WK(t,e){if(Xd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $P=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,FP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,HK=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,GK=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,z3={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},KK=Object.keys(z3),pc="NaN";function YK(t,e){return t*z3[e]}var jp=function(){function t(e,r){UK(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!HK.test(r)&&(this.num=NaN,this.unit=""),KK.includes(r)&&(this.num=YK(e,r),this.unit="px")}return qK(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=GK.exec(r))!==null&&n!==void 0?n:[],i=bm(a,3),l=i[1],c=i[2];return new t(parseFloat(l),c??"")}}])}();function W3(t){if(t.includes(pc))return pc;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=$P.exec(e))!==null&&r!==void 0?r:[],a=bm(n,4),i=a[1],l=a[2],c=a[3],d=jp.parse(i??""),h=jp.parse(c??""),p=l==="*"?d.multiply(h):d.divide(h);if(p.isNaN())return pc;e=e.replace($P,p.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,y=(m=FP.exec(e))!==null&&m!==void 0?m:[],x=bm(y,4),k=x[1],w=x[2],b=x[3],N=jp.parse(k??""),E=jp.parse(b??""),P=w==="+"?N.add(E):N.subtract(E);if(P.isNaN())return pc;e=e.replace(FP,P.toString())}return e}var VP=/\(([^()]*)\)/;function XK(t){for(var e=t;e.includes("(");){var r=VP.exec(e),n=bm(r,2),a=n[1];e=e.replace(VP,W3(a))}return e}function QK(t){var e=t.replace(/\s+/g,"");return e=XK(e),e=W3(e),e}function JK(t){try{return QK(t)}catch{return pc}}function uw(t){var e=JK(t.slice(5,-1));return e===pc?"":e}var ZK=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],eY=["dx","dy","angle","className","breakAll"];function Z_(){return Z_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Z_.apply(this,arguments)}function BP(t,e){if(t==null)return{};var r=tY(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tY(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function UP(t,e){return iY(t)||aY(t,e)||nY(t,e)||rY()}function rY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nY(t,e){if(t){if(typeof t=="string")return qP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qP(t,e)}}function qP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function aY(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,l,c=[],d=!0,h=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return c}}function iY(t){if(Array.isArray(t))return t}var H3=/[ \f\n\r\t\v\u2028\u2029]+/,G3=function(e){var r=e.children,n=e.breakAll,a=e.style;try{var i=[];at(r)||(n?i=r.toString().split(""):i=r.toString().split(H3));var l=i.map(function(d){return{word:d,width:Nd(d,a).width}}),c=n?0:Nd(" ",a).width;return{wordsWithComputedWidth:l,spaceWidth:c}}catch{return null}},sY=function(e,r,n,a,i){var l=e.maxLines,c=e.children,d=e.style,h=e.breakAll,p=Ee(l),m=c,y=function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ee.reduce(function(G,ne){var Q=ne.word,Z=ne.width,re=G[G.length-1];if(re&&(a==null||i||re.width+Z+n<Number(a)))re.words.push(Q),re.width+=Z+n;else{var W={words:[Q],width:Z};G.push(W)}return G},[])},x=y(r),k=function(ee){return ee.reduce(function(G,ne){return G.width>ne.width?G:ne})};if(!p)return x;for(var w="…",b=function(ee){var G=m.slice(0,ee),ne=G3({breakAll:h,style:d,children:G+w}).wordsWithComputedWidth,Q=y(ne),Z=Q.length>l||k(Q).width>Number(a);return[Z,Q]},N=0,E=m.length-1,P=0,R;N<=E&&P<=m.length-1;){var j=Math.floor((N+E)/2),C=j-1,A=b(C),I=UP(A,2),L=I[0],O=I[1],D=b(j),F=UP(D,1),$=F[0];if(!L&&!$&&(N=j+1),L&&$&&(E=j-1),!L&&$){R=O;break}P++}return R||x},zP=function(e){var r=at(e)?[]:e.toString().split(H3);return[{words:r}]},oY=function(e){var r=e.width,n=e.scaleToFit,a=e.children,i=e.style,l=e.breakAll,c=e.maxLines;if((r||n)&&!fu.isSsr){var d,h,p=G3({breakAll:l,children:a,style:i});if(p){var m=p.wordsWithComputedWidth,y=p.spaceWidth;d=m,h=y}else return zP(a);return sY({breakAll:l,children:a,maxLines:c,style:i},d,h,r,n)}return zP(a)},WP="#808080",ml=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,i=a===void 0?0:a,l=e.lineHeight,c=l===void 0?"1em":l,d=e.capHeight,h=d===void 0?"0.71em":d,p=e.scaleToFit,m=p===void 0?!1:p,y=e.textAnchor,x=y===void 0?"start":y,k=e.verticalAnchor,w=k===void 0?"end":k,b=e.fill,N=b===void 0?WP:b,E=BP(e,ZK),P=B.useMemo(function(){return oY({breakAll:E.breakAll,children:E.children,maxLines:E.maxLines,scaleToFit:m,style:E.style,width:E.width})},[E.breakAll,E.children,E.maxLines,m,E.style,E.width]),R=E.dx,j=E.dy,C=E.angle,A=E.className,I=E.breakAll,L=BP(E,eY);if(!Nr(n)||!Nr(i))return null;var O=n+(Ee(R)?R:0),D=i+(Ee(j)?j:0),F;switch(w){case"start":F=uw("calc(".concat(h,")"));break;case"middle":F=uw("calc(".concat((P.length-1)/2," * -").concat(c," + (").concat(h," / 2))"));break;default:F=uw("calc(".concat(P.length-1," * -").concat(c,")"));break}var $=[];if(m){var ae=P[0].width,ee=E.width;$.push("scale(".concat((Ee(ee)?ee/ae:1)/ae,")"))}return C&&$.push("rotate(".concat(C,", ").concat(O,", ").concat(D,")")),$.length&&(L.transform=$.join(" ")),K.createElement("text",Z_({},Ye(L,!0),{x:O,y:D,className:tt("recharts-text",A),textAnchor:x,fill:N.includes("url")?WP:N}),P.map(function(G,ne){var Q=G.words.join(I?"":" ");return K.createElement("tspan",{x:O,dy:ne===0?F:c,key:"".concat(Q,"-").concat(ne)},Q)}))};function ro(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function lY(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Tj(t){let e,r,n;t.length!==2?(e=ro,r=(c,d)=>ro(t(c),d),n=(c,d)=>t(c)-d):(e=t===ro||t===lY?t:cY,r=t,n=t);function a(c,d,h=0,p=c.length){if(h<p){if(e(d,d)!==0)return p;do{const m=h+p>>>1;r(c[m],d)<0?h=m+1:p=m}while(h<p)}return h}function i(c,d,h=0,p=c.length){if(h<p){if(e(d,d)!==0)return p;do{const m=h+p>>>1;r(c[m],d)<=0?h=m+1:p=m}while(h<p)}return h}function l(c,d,h=0,p=c.length){const m=a(c,d,h,p-1);return m>h&&n(c[m-1],d)>-n(c[m],d)?m-1:m}return{left:a,center:l,right:i}}function cY(){return 0}function K3(t){return t===null?NaN:+t}function*uY(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const dY=Tj(ro),Gh=dY.right;Tj(K3).center;class HP extends Map{constructor(e,r=pY){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(GP(this,e))}has(e){return super.has(GP(this,e))}set(e,r){return super.set(hY(this,e),r)}delete(e){return super.delete(fY(this,e))}}function GP({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function hY({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function fY({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function pY(t){return t!==null&&typeof t=="object"?t.valueOf():t}function mY(t=ro){if(t===ro)return Y3;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function Y3(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const gY=Math.sqrt(50),vY=Math.sqrt(10),yY=Math.sqrt(2);function wm(t,e,r){const n=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),l=i>=gY?10:i>=vY?5:i>=yY?2:1;let c,d,h;return a<0?(h=Math.pow(10,-a)/l,c=Math.round(t*h),d=Math.round(e*h),c/h<t&&++c,d/h>e&&--d,h=-h):(h=Math.pow(10,a)*l,c=Math.round(t/h),d=Math.round(e/h),c*h<t&&++c,d*h>e&&--d),d<c&&.5<=r&&r<2?wm(t,e,r*2):[c,d,h]}function e1(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[a,i,l]=n?wm(e,t,r):wm(t,e,r);if(!(i>=a))return[];const c=i-a+1,d=new Array(c);if(n)if(l<0)for(let h=0;h<c;++h)d[h]=(i-h)/-l;else for(let h=0;h<c;++h)d[h]=(i-h)*l;else if(l<0)for(let h=0;h<c;++h)d[h]=(a+h)/-l;else for(let h=0;h<c;++h)d[h]=(a+h)*l;return d}function t1(t,e,r){return e=+e,t=+t,r=+r,wm(t,e,r)[2]}function r1(t,e,r){e=+e,t=+t,r=+r;const n=e<t,a=n?t1(e,t,r):t1(t,e,r);return(n?-1:1)*(a<0?1/-a:a)}function KP(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function YP(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function X3(t,e,r=0,n=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(a=a===void 0?Y3:mY(a);n>r;){if(n-r>600){const d=n-r+1,h=e-r+1,p=Math.log(d),m=.5*Math.exp(2*p/3),y=.5*Math.sqrt(p*m*(d-m)/d)*(h-d/2<0?-1:1),x=Math.max(r,Math.floor(e-h*m/d+y)),k=Math.min(n,Math.floor(e+(d-h)*m/d+y));X3(t,e,x,k,a)}const i=t[e];let l=r,c=n;for(ed(t,r,e),a(t[n],i)>0&&ed(t,r,n);l<c;){for(ed(t,l,c),++l,--c;a(t[l],i)<0;)++l;for(;a(t[c],i)>0;)--c}a(t[r],i)===0?ed(t,r,c):(++c,ed(t,c,n)),c<=e&&(r=c+1),e<=c&&(n=c-1)}return t}function ed(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function xY(t,e,r){if(t=Float64Array.from(uY(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return YP(t);if(e>=1)return KP(t);var n,a=(n-1)*e,i=Math.floor(a),l=KP(X3(t,i).subarray(0,i+1)),c=YP(t.subarray(i+1));return l+(c-l)*(a-i)}}function bY(t,e,r=K3){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,a=(n-1)*e,i=Math.floor(a),l=+r(t[i],i,t),c=+r(t[i+1],i+1,t);return l+(c-l)*(a-i)}}function wY(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,i=new Array(a);++n<a;)i[n]=t+n*r;return i}function Na(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function hs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const n1=Symbol("implicit");function Ej(){var t=new HP,e=[],r=[],n=n1;function a(i){let l=t.get(i);if(l===void 0){if(n!==n1)return n;t.set(i,l=e.push(i)-1)}return r[l%r.length]}return a.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new HP;for(const l of i)t.has(l)||t.set(l,e.push(l)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Ej(e,r).unknown(n)},Na.apply(a,arguments),a}function Qd(){var t=Ej().unknown(void 0),e=t.domain,r=t.range,n=0,a=1,i,l,c=!1,d=0,h=0,p=.5;delete t.unknown;function m(){var y=e().length,x=a<n,k=x?a:n,w=x?n:a;i=(w-k)/Math.max(1,y-d+h*2),c&&(i=Math.floor(i)),k+=(w-k-i*(y-d))*p,l=i*(1-d),c&&(k=Math.round(k),l=Math.round(l));var b=wY(y).map(function(N){return k+i*N});return r(x?b.reverse():b)}return t.domain=function(y){return arguments.length?(e(y),m()):e()},t.range=function(y){return arguments.length?([n,a]=y,n=+n,a=+a,m()):[n,a]},t.rangeRound=function(y){return[n,a]=y,n=+n,a=+a,c=!0,m()},t.bandwidth=function(){return l},t.step=function(){return i},t.round=function(y){return arguments.length?(c=!!y,m()):c},t.padding=function(y){return arguments.length?(d=Math.min(1,h=+y),m()):d},t.paddingInner=function(y){return arguments.length?(d=Math.min(1,y),m()):d},t.paddingOuter=function(y){return arguments.length?(h=+y,m()):h},t.align=function(y){return arguments.length?(p=Math.max(0,Math.min(1,y)),m()):p},t.copy=function(){return Qd(e(),[n,a]).round(c).paddingInner(d).paddingOuter(h).align(p)},Na.apply(m(),arguments)}function Q3(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Q3(e())},t}function Sd(){return Q3(Qd.apply(null,arguments).paddingInner(1))}function Aj(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function J3(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Kh(){}var Jd=.7,_m=1/Jd,Nc="\\s*([+-]?\\d+)\\s*",Zd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",hi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_Y=/^#([0-9a-f]{3,8})$/,kY=new RegExp(`^rgb\\(${Nc},${Nc},${Nc}\\)$`),jY=new RegExp(`^rgb\\(${hi},${hi},${hi}\\)$`),NY=new RegExp(`^rgba\\(${Nc},${Nc},${Nc},${Zd}\\)$`),SY=new RegExp(`^rgba\\(${hi},${hi},${hi},${Zd}\\)$`),TY=new RegExp(`^hsl\\(${Zd},${hi},${hi}\\)$`),EY=new RegExp(`^hsla\\(${Zd},${hi},${hi},${Zd}\\)$`),XP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Aj(Kh,eh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:QP,formatHex:QP,formatHex8:AY,formatHsl:CY,formatRgb:JP,toString:JP});function QP(){return this.rgb().formatHex()}function AY(){return this.rgb().formatHex8()}function CY(){return Z3(this).formatHsl()}function JP(){return this.rgb().formatRgb()}function eh(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=_Y.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?ZP(e):r===3?new Rn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Np(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Np(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=kY.exec(t))?new Rn(e[1],e[2],e[3],1):(e=jY.exec(t))?new Rn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=NY.exec(t))?Np(e[1],e[2],e[3],e[4]):(e=SY.exec(t))?Np(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=TY.exec(t))?rI(e[1],e[2]/100,e[3]/100,1):(e=EY.exec(t))?rI(e[1],e[2]/100,e[3]/100,e[4]):XP.hasOwnProperty(t)?ZP(XP[t]):t==="transparent"?new Rn(NaN,NaN,NaN,0):null}function ZP(t){return new Rn(t>>16&255,t>>8&255,t&255,1)}function Np(t,e,r,n){return n<=0&&(t=e=r=NaN),new Rn(t,e,r,n)}function PY(t){return t instanceof Kh||(t=eh(t)),t?(t=t.rgb(),new Rn(t.r,t.g,t.b,t.opacity)):new Rn}function a1(t,e,r,n){return arguments.length===1?PY(t):new Rn(t,e,r,n??1)}function Rn(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}Aj(Rn,a1,J3(Kh,{brighter(t){return t=t==null?_m:Math.pow(_m,t),new Rn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Jd:Math.pow(Jd,t),new Rn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Rn(il(this.r),il(this.g),il(this.b),km(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:eI,formatHex:eI,formatHex8:IY,formatRgb:tI,toString:tI}));function eI(){return`#${Zo(this.r)}${Zo(this.g)}${Zo(this.b)}`}function IY(){return`#${Zo(this.r)}${Zo(this.g)}${Zo(this.b)}${Zo((isNaN(this.opacity)?1:this.opacity)*255)}`}function tI(){const t=km(this.opacity);return`${t===1?"rgb(":"rgba("}${il(this.r)}, ${il(this.g)}, ${il(this.b)}${t===1?")":`, ${t})`}`}function km(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function il(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Zo(t){return t=il(t),(t<16?"0":"")+t.toString(16)}function rI(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Fa(t,e,r,n)}function Z3(t){if(t instanceof Fa)return new Fa(t.h,t.s,t.l,t.opacity);if(t instanceof Kh||(t=eh(t)),!t)return new Fa;if(t instanceof Fa)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,a=Math.min(e,r,n),i=Math.max(e,r,n),l=NaN,c=i-a,d=(i+a)/2;return c?(e===i?l=(r-n)/c+(r<n)*6:r===i?l=(n-e)/c+2:l=(e-r)/c+4,c/=d<.5?i+a:2-i-a,l*=60):c=d>0&&d<1?0:l,new Fa(l,c,d,t.opacity)}function OY(t,e,r,n){return arguments.length===1?Z3(t):new Fa(t,e,r,n??1)}function Fa(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}Aj(Fa,OY,J3(Kh,{brighter(t){return t=t==null?_m:Math.pow(_m,t),new Fa(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Jd:Math.pow(Jd,t),new Fa(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,a=2*r-n;return new Rn(dw(t>=240?t-240:t+120,a,n),dw(t,a,n),dw(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new Fa(nI(this.h),Sp(this.s),Sp(this.l),km(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=km(this.opacity);return`${t===1?"hsl(":"hsla("}${nI(this.h)}, ${Sp(this.s)*100}%, ${Sp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function nI(t){return t=(t||0)%360,t<0?t+360:t}function Sp(t){return Math.max(0,Math.min(1,t||0))}function dw(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const Cj=t=>()=>t;function RY(t,e){return function(r){return t+r*e}}function DY(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function MY(t){return(t=+t)==1?e6:function(e,r){return r-e?DY(e,r,t):Cj(isNaN(e)?r:e)}}function e6(t,e){var r=e-t;return r?RY(t,r):Cj(isNaN(t)?e:t)}const aI=function t(e){var r=MY(e);function n(a,i){var l=r((a=a1(a)).r,(i=a1(i)).r),c=r(a.g,i.g),d=r(a.b,i.b),h=e6(a.opacity,i.opacity);return function(p){return a.r=l(p),a.g=c(p),a.b=d(p),a.opacity=h(p),a+""}}return n.gamma=t,n}(1);function LY(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=t[a]*(1-i)+e[a]*i;return n}}function $Y(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function FY(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),i=new Array(r),l;for(l=0;l<n;++l)a[l]=pu(t[l],e[l]);for(;l<r;++l)i[l]=e[l];return function(c){for(l=0;l<n;++l)i[l]=a[l](c);return i}}function VY(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function jm(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function BY(t,e){var r={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=pu(t[a],e[a]):n[a]=e[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var i1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hw=new RegExp(i1.source,"g");function UY(t){return function(){return t}}function qY(t){return function(e){return t(e)+""}}function zY(t,e){var r=i1.lastIndex=hw.lastIndex=0,n,a,i,l=-1,c=[],d=[];for(t=t+"",e=e+"";(n=i1.exec(t))&&(a=hw.exec(e));)(i=a.index)>r&&(i=e.slice(r,i),c[l]?c[l]+=i:c[++l]=i),(n=n[0])===(a=a[0])?c[l]?c[l]+=a:c[++l]=a:(c[++l]=null,d.push({i:l,x:jm(n,a)})),r=hw.lastIndex;return r<e.length&&(i=e.slice(r),c[l]?c[l]+=i:c[++l]=i),c.length<2?d[0]?qY(d[0].x):UY(e):(e=d.length,function(h){for(var p=0,m;p<e;++p)c[(m=d[p]).i]=m.x(h);return c.join("")})}function pu(t,e){var r=typeof e,n;return e==null||r==="boolean"?Cj(e):(r==="number"?jm:r==="string"?(n=eh(e))?(e=n,aI):zY:e instanceof eh?aI:e instanceof Date?VY:$Y(e)?LY:Array.isArray(e)?FY:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?BY:jm)(t,e)}function Pj(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function WY(t,e){e===void 0&&(e=t,t=pu);for(var r=0,n=e.length-1,a=e[0],i=new Array(n<0?0:n);r<n;)i[r]=t(a,a=e[++r]);return function(l){var c=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return i[c](l-c)}}function HY(t){return function(){return t}}function Nm(t){return+t}var iI=[0,1];function yn(t){return t}function s1(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:HY(isNaN(e)?NaN:.5)}function GY(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function KY(t,e,r){var n=t[0],a=t[1],i=e[0],l=e[1];return a<n?(n=s1(a,n),i=r(l,i)):(n=s1(n,a),i=r(i,l)),function(c){return i(n(c))}}function YY(t,e,r){var n=Math.min(t.length,e.length)-1,a=new Array(n),i=new Array(n),l=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<n;)a[l]=s1(t[l],t[l+1]),i[l]=r(e[l],e[l+1]);return function(c){var d=Gh(t,c,1,n)-1;return i[d](a[d](c))}}function Yh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function q0(){var t=iI,e=iI,r=pu,n,a,i,l=yn,c,d,h;function p(){var y=Math.min(t.length,e.length);return l!==yn&&(l=GY(t[0],t[y-1])),c=y>2?YY:KY,d=h=null,m}function m(y){return y==null||isNaN(y=+y)?i:(d||(d=c(t.map(n),e,r)))(n(l(y)))}return m.invert=function(y){return l(a((h||(h=c(e,t.map(n),jm)))(y)))},m.domain=function(y){return arguments.length?(t=Array.from(y,Nm),p()):t.slice()},m.range=function(y){return arguments.length?(e=Array.from(y),p()):e.slice()},m.rangeRound=function(y){return e=Array.from(y),r=Pj,p()},m.clamp=function(y){return arguments.length?(l=y?!0:yn,p()):l!==yn},m.interpolate=function(y){return arguments.length?(r=y,p()):r},m.unknown=function(y){return arguments.length?(i=y,m):i},function(y,x){return n=y,a=x,p()}}function Ij(){return q0()(yn,yn)}function XY(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Sm(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Vc(t){return t=Sm(Math.abs(t)),t?t[1]:NaN}function QY(t,e){return function(r,n){for(var a=r.length,i=[],l=0,c=t[0],d=0;a>0&&c>0&&(d+c+1>n&&(c=Math.max(1,n-d)),i.push(r.substring(a-=c,a+c)),!((d+=c+1)>n));)c=t[l=(l+1)%t.length];return i.reverse().join(e)}}function JY(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var ZY=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function th(t){if(!(e=ZY.exec(t)))throw new Error("invalid format: "+t);var e;return new Oj({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}th.prototype=Oj.prototype;function Oj(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Oj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function eX(t){e:for(var e=t.length,r=1,n=-1,a;r<e;++r)switch(t[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var t6;function tX(t,e){var r=Sm(t,e);if(!r)return t+"";var n=r[0],a=r[1],i=a-(t6=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=n.length;return i===l?n:i>l?n+new Array(i-l+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Sm(t,Math.max(0,e+i-1))[0]}function sI(t,e){var r=Sm(t,e);if(!r)return t+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const oI={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:XY,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>sI(t*100,e),r:sI,s:tX,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function lI(t){return t}var cI=Array.prototype.map,uI=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function rX(t){var e=t.grouping===void 0||t.thousands===void 0?lI:QY(cI.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?lI:JY(cI.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"−":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function h(m){m=th(m);var y=m.fill,x=m.align,k=m.sign,w=m.symbol,b=m.zero,N=m.width,E=m.comma,P=m.precision,R=m.trim,j=m.type;j==="n"?(E=!0,j="g"):oI[j]||(P===void 0&&(P=12),R=!0,j="g"),(b||y==="0"&&x==="=")&&(b=!0,y="0",x="=");var C=w==="$"?r:w==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",A=w==="$"?n:/[%p]/.test(j)?l:"",I=oI[j],L=/[defgprs%]/.test(j);P=P===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function O(D){var F=C,$=A,ae,ee,G;if(j==="c")$=I(D)+$,D="";else{D=+D;var ne=D<0||1/D<0;if(D=isNaN(D)?d:I(Math.abs(D),P),R&&(D=eX(D)),ne&&+D==0&&k!=="+"&&(ne=!1),F=(ne?k==="("?k:c:k==="-"||k==="("?"":k)+F,$=(j==="s"?uI[8+t6/3]:"")+$+(ne&&k==="("?")":""),L){for(ae=-1,ee=D.length;++ae<ee;)if(G=D.charCodeAt(ae),48>G||G>57){$=(G===46?a+D.slice(ae+1):D.slice(ae))+$,D=D.slice(0,ae);break}}}E&&!b&&(D=e(D,1/0));var Q=F.length+D.length+$.length,Z=Q<N?new Array(N-Q+1).join(y):"";switch(E&&b&&(D=e(Z+D,Z.length?N-$.length:1/0),Z=""),x){case"<":D=F+D+$+Z;break;case"=":D=F+Z+D+$;break;case"^":D=Z.slice(0,Q=Z.length>>1)+F+D+$+Z.slice(Q);break;default:D=Z+F+D+$;break}return i(D)}return O.toString=function(){return m+""},O}function p(m,y){var x=h((m=th(m),m.type="f",m)),k=Math.max(-8,Math.min(8,Math.floor(Vc(y)/3)))*3,w=Math.pow(10,-k),b=uI[8+k/3];return function(N){return x(w*N)+b}}return{format:h,formatPrefix:p}}var Tp,Rj,r6;nX({thousands:",",grouping:[3],currency:["$",""]});function nX(t){return Tp=rX(t),Rj=Tp.format,r6=Tp.formatPrefix,Tp}function aX(t){return Math.max(0,-Vc(Math.abs(t)))}function iX(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Vc(e)/3)))*3-Vc(Math.abs(t)))}function sX(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Vc(e)-Vc(t))+1}function n6(t,e,r,n){var a=r1(t,e,r),i;switch(n=th(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(i=iX(a,l))&&(n.precision=i),r6(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=sX(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=aX(a))&&(n.precision=i-(n.type==="%")*2);break}}return Rj(n)}function po(t){var e=t.domain;return t.ticks=function(r){var n=e();return e1(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var a=e();return n6(a[0],a[a.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),a=0,i=n.length-1,l=n[a],c=n[i],d,h,p=10;for(c<l&&(h=l,l=c,c=h,h=a,a=i,i=h);p-- >0;){if(h=t1(l,c,r),h===d)return n[a]=l,n[i]=c,e(n);if(h>0)l=Math.floor(l/h)*h,c=Math.ceil(c/h)*h;else if(h<0)l=Math.ceil(l*h)/h,c=Math.floor(c*h)/h;else break;d=h}return t},t}function Tm(){var t=Ij();return t.copy=function(){return Yh(t,Tm())},Na.apply(t,arguments),po(t)}function a6(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Nm),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return a6(t).unknown(e)},t=arguments.length?Array.from(t,Nm):[0,1],po(r)}function i6(t,e){t=t.slice();var r=0,n=t.length-1,a=t[r],i=t[n],l;return i<a&&(l=r,r=n,n=l,l=a,a=i,i=l),t[r]=e.floor(a),t[n]=e.ceil(i),t}function dI(t){return Math.log(t)}function hI(t){return Math.exp(t)}function oX(t){return-Math.log(-t)}function lX(t){return-Math.exp(-t)}function cX(t){return isFinite(t)?+("1e"+t):t<0?0:t}function uX(t){return t===10?cX:t===Math.E?Math.exp:e=>Math.pow(t,e)}function dX(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function fI(t){return(e,r)=>-t(-e,r)}function Dj(t){const e=t(dI,hI),r=e.domain;let n=10,a,i;function l(){return a=dX(n),i=uX(n),r()[0]<0?(a=fI(a),i=fI(i),t(oX,lX)):t(dI,hI),e}return e.base=function(c){return arguments.length?(n=+c,l()):n},e.domain=function(c){return arguments.length?(r(c),l()):r()},e.ticks=c=>{const d=r();let h=d[0],p=d[d.length-1];const m=p<h;m&&([h,p]=[p,h]);let y=a(h),x=a(p),k,w;const b=c==null?10:+c;let N=[];if(!(n%1)&&x-y<b){if(y=Math.floor(y),x=Math.ceil(x),h>0){for(;y<=x;++y)for(k=1;k<n;++k)if(w=y<0?k/i(-y):k*i(y),!(w<h)){if(w>p)break;N.push(w)}}else for(;y<=x;++y)for(k=n-1;k>=1;--k)if(w=y>0?k/i(-y):k*i(y),!(w<h)){if(w>p)break;N.push(w)}N.length*2<b&&(N=e1(h,p,b))}else N=e1(y,x,Math.min(x-y,b)).map(i);return m?N.reverse():N},e.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=th(d)).precision==null&&(d.trim=!0),d=Rj(d)),c===1/0)return d;const h=Math.max(1,n*c/e.ticks().length);return p=>{let m=p/i(Math.round(a(p)));return m*n<n-.5&&(m*=n),m<=h?d(p):""}},e.nice=()=>r(i6(r(),{floor:c=>i(Math.floor(a(c))),ceil:c=>i(Math.ceil(a(c)))})),e}function s6(){const t=Dj(q0()).domain([1,10]);return t.copy=()=>Yh(t,s6()).base(t.base()),Na.apply(t,arguments),t}function pI(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function mI(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Mj(t){var e=1,r=t(pI(e),mI(e));return r.constant=function(n){return arguments.length?t(pI(e=+n),mI(e)):e},po(r)}function o6(){var t=Mj(q0());return t.copy=function(){return Yh(t,o6()).constant(t.constant())},Na.apply(t,arguments)}function gI(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function hX(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function fX(t){return t<0?-t*t:t*t}function Lj(t){var e=t(yn,yn),r=1;function n(){return r===1?t(yn,yn):r===.5?t(hX,fX):t(gI(r),gI(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,n()):r},po(e)}function $j(){var t=Lj(q0());return t.copy=function(){return Yh(t,$j()).exponent(t.exponent())},Na.apply(t,arguments),t}function pX(){return $j.apply(null,arguments).exponent(.5)}function vI(t){return Math.sign(t)*t*t}function mX(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function l6(){var t=Ij(),e=[0,1],r=!1,n;function a(i){var l=mX(t(i));return isNaN(l)?n:r?Math.round(l):l}return a.invert=function(i){return t.invert(vI(i))},a.domain=function(i){return arguments.length?(t.domain(i),a):t.domain()},a.range=function(i){return arguments.length?(t.range((e=Array.from(i,Nm)).map(vI)),a):e.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(t.clamp(i),a):t.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return l6(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Na.apply(a,arguments),po(a)}function c6(){var t=[],e=[],r=[],n;function a(){var l=0,c=Math.max(1,e.length);for(r=new Array(c-1);++l<c;)r[l-1]=bY(t,l/c);return i}function i(l){return l==null||isNaN(l=+l)?n:e[Gh(r,l)]}return i.invertExtent=function(l){var c=e.indexOf(l);return c<0?[NaN,NaN]:[c>0?r[c-1]:t[0],c<r.length?r[c]:t[t.length-1]]},i.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let c of l)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(ro),a()},i.range=function(l){return arguments.length?(e=Array.from(l),a()):e.slice()},i.unknown=function(l){return arguments.length?(n=l,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return c6().domain(t).range(e).unknown(n)},Na.apply(i,arguments)}function u6(){var t=0,e=1,r=1,n=[.5],a=[0,1],i;function l(d){return d!=null&&d<=d?a[Gh(n,d,0,r)]:i}function c(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*e-(d-r)*t)/(r+1);return l}return l.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,c()):[t,e]},l.range=function(d){return arguments.length?(r=(a=Array.from(d)).length-1,c()):a.slice()},l.invertExtent=function(d){var h=a.indexOf(d);return h<0?[NaN,NaN]:h<1?[t,n[0]]:h>=r?[n[r-1],e]:[n[h-1],n[h]]},l.unknown=function(d){return arguments.length&&(i=d),l},l.thresholds=function(){return n.slice()},l.copy=function(){return u6().domain([t,e]).range(a).unknown(i)},Na.apply(po(l),arguments)}function d6(){var t=[.5],e=[0,1],r,n=1;function a(i){return i!=null&&i<=i?e[Gh(t,i,0,n)]:r}return a.domain=function(i){return arguments.length?(t=Array.from(i),n=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(i){return arguments.length?(e=Array.from(i),n=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(i){var l=e.indexOf(i);return[t[l-1],t[l]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return d6().domain(t).range(e).unknown(r)},Na.apply(a,arguments)}const fw=new Date,pw=new Date;function Tr(t,e,r,n){function a(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(t(i=new Date(+i)),i),a.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),a.round=i=>{const l=a(i),c=a.ceil(i);return i-l<c-i?l:c},a.offset=(i,l)=>(e(i=new Date(+i),l==null?1:Math.floor(l)),i),a.range=(i,l,c)=>{const d=[];if(i=a.ceil(i),c=c==null?1:Math.floor(c),!(i<l)||!(c>0))return d;let h;do d.push(h=new Date(+i)),e(i,c),t(i);while(h<i&&i<l);return d},a.filter=i=>Tr(l=>{if(l>=l)for(;t(l),!i(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;e(l,-1),!i(l););else for(;--c>=0;)for(;e(l,1),!i(l););}),r&&(a.count=(i,l)=>(fw.setTime(+i),pw.setTime(+l),t(fw),t(pw),Math.floor(r(fw,pw))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?l=>n(l)%i===0:l=>a.count(0,l)%i===0):a)),a}const Em=Tr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Em.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Tr(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Em);Em.range;const Ki=1e3,wa=Ki*60,Yi=wa*60,as=Yi*24,Fj=as*7,yI=as*30,mw=as*365,el=Tr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ki)},(t,e)=>(e-t)/Ki,t=>t.getUTCSeconds());el.range;const Vj=Tr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ki)},(t,e)=>{t.setTime(+t+e*wa)},(t,e)=>(e-t)/wa,t=>t.getMinutes());Vj.range;const Bj=Tr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*wa)},(t,e)=>(e-t)/wa,t=>t.getUTCMinutes());Bj.range;const Uj=Tr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ki-t.getMinutes()*wa)},(t,e)=>{t.setTime(+t+e*Yi)},(t,e)=>(e-t)/Yi,t=>t.getHours());Uj.range;const qj=Tr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Yi)},(t,e)=>(e-t)/Yi,t=>t.getUTCHours());qj.range;const Xh=Tr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*wa)/as,t=>t.getDate()-1);Xh.range;const z0=Tr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/as,t=>t.getUTCDate()-1);z0.range;const h6=Tr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/as,t=>Math.floor(t/as));h6.range;function Nl(t){return Tr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*wa)/Fj)}const W0=Nl(0),Am=Nl(1),gX=Nl(2),vX=Nl(3),Bc=Nl(4),yX=Nl(5),xX=Nl(6);W0.range;Am.range;gX.range;vX.range;Bc.range;yX.range;xX.range;function Sl(t){return Tr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/Fj)}const H0=Sl(0),Cm=Sl(1),bX=Sl(2),wX=Sl(3),Uc=Sl(4),_X=Sl(5),kX=Sl(6);H0.range;Cm.range;bX.range;wX.range;Uc.range;_X.range;kX.range;const zj=Tr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());zj.range;const Wj=Tr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Wj.range;const is=Tr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());is.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Tr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});is.range;const ss=Tr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ss.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Tr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});ss.range;function f6(t,e,r,n,a,i){const l=[[el,1,Ki],[el,5,5*Ki],[el,15,15*Ki],[el,30,30*Ki],[i,1,wa],[i,5,5*wa],[i,15,15*wa],[i,30,30*wa],[a,1,Yi],[a,3,3*Yi],[a,6,6*Yi],[a,12,12*Yi],[n,1,as],[n,2,2*as],[r,1,Fj],[e,1,yI],[e,3,3*yI],[t,1,mw]];function c(h,p,m){const y=p<h;y&&([h,p]=[p,h]);const x=m&&typeof m.range=="function"?m:d(h,p,m),k=x?x.range(h,+p+1):[];return y?k.reverse():k}function d(h,p,m){const y=Math.abs(p-h)/m,x=Tj(([,,b])=>b).right(l,y);if(x===l.length)return t.every(r1(h/mw,p/mw,m));if(x===0)return Em.every(Math.max(r1(h,p,m),1));const[k,w]=l[y/l[x-1][2]<l[x][2]/y?x-1:x];return k.every(w)}return[c,d]}const[jX,NX]=f6(ss,Wj,H0,h6,qj,Bj),[SX,TX]=f6(is,zj,W0,Xh,Uj,Vj);function gw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function vw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function td(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function EX(t){var e=t.dateTime,r=t.date,n=t.time,a=t.periods,i=t.days,l=t.shortDays,c=t.months,d=t.shortMonths,h=rd(a),p=nd(a),m=rd(i),y=nd(i),x=rd(l),k=nd(l),w=rd(c),b=nd(c),N=rd(d),E=nd(d),P={a:ne,A:Q,b:Z,B:re,c:null,d:jI,e:jI,f:QX,g:oQ,G:cQ,H:KX,I:YX,j:XX,L:p6,m:JX,M:ZX,p:W,q:J,Q:TI,s:EI,S:eQ,u:tQ,U:rQ,V:nQ,w:aQ,W:iQ,x:null,X:null,y:sQ,Y:lQ,Z:uQ,"%":SI},R={a:X,A:le,b:ge,B:he,c:null,d:NI,e:NI,f:pQ,g:jQ,G:SQ,H:dQ,I:hQ,j:fQ,L:g6,m:mQ,M:gQ,p:de,q:be,Q:TI,s:EI,S:vQ,u:yQ,U:xQ,V:bQ,w:wQ,W:_Q,x:null,X:null,y:kQ,Y:NQ,Z:TQ,"%":SI},j={a:O,A:D,b:F,B:$,c:ae,d:_I,e:_I,f:zX,g:wI,G:bI,H:kI,I:kI,j:VX,L:qX,m:FX,M:BX,p:L,q:$X,Q:HX,s:GX,S:UX,u:OX,U:RX,V:DX,w:IX,W:MX,x:ee,X:G,y:wI,Y:bI,Z:LX,"%":WX};P.x=C(r,P),P.X=C(n,P),P.c=C(e,P),R.x=C(r,R),R.X=C(n,R),R.c=C(e,R);function C(z,me){return function(xe){var q=[],ue=-1,_e=0,Ie=z.length,Ue,tr,yr;for(xe instanceof Date||(xe=new Date(+xe));++ue<Ie;)z.charCodeAt(ue)===37&&(q.push(z.slice(_e,ue)),(tr=xI[Ue=z.charAt(++ue)])!=null?Ue=z.charAt(++ue):tr=Ue==="e"?" ":"0",(yr=me[Ue])&&(Ue=yr(xe,tr)),q.push(Ue),_e=ue+1);return q.push(z.slice(_e,ue)),q.join("")}}function A(z,me){return function(xe){var q=td(1900,void 0,1),ue=I(q,z,xe+="",0),_e,Ie;if(ue!=xe.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(me&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(_e=vw(td(q.y,0,1)),Ie=_e.getUTCDay(),_e=Ie>4||Ie===0?Cm.ceil(_e):Cm(_e),_e=z0.offset(_e,(q.V-1)*7),q.y=_e.getUTCFullYear(),q.m=_e.getUTCMonth(),q.d=_e.getUTCDate()+(q.w+6)%7):(_e=gw(td(q.y,0,1)),Ie=_e.getDay(),_e=Ie>4||Ie===0?Am.ceil(_e):Am(_e),_e=Xh.offset(_e,(q.V-1)*7),q.y=_e.getFullYear(),q.m=_e.getMonth(),q.d=_e.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),Ie="Z"in q?vw(td(q.y,0,1)).getUTCDay():gw(td(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(Ie+5)%7:q.w+q.U*7-(Ie+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,vw(q)):gw(q)}}function I(z,me,xe,q){for(var ue=0,_e=me.length,Ie=xe.length,Ue,tr;ue<_e;){if(q>=Ie)return-1;if(Ue=me.charCodeAt(ue++),Ue===37){if(Ue=me.charAt(ue++),tr=j[Ue in xI?me.charAt(ue++):Ue],!tr||(q=tr(z,xe,q))<0)return-1}else if(Ue!=xe.charCodeAt(q++))return-1}return q}function L(z,me,xe){var q=h.exec(me.slice(xe));return q?(z.p=p.get(q[0].toLowerCase()),xe+q[0].length):-1}function O(z,me,xe){var q=x.exec(me.slice(xe));return q?(z.w=k.get(q[0].toLowerCase()),xe+q[0].length):-1}function D(z,me,xe){var q=m.exec(me.slice(xe));return q?(z.w=y.get(q[0].toLowerCase()),xe+q[0].length):-1}function F(z,me,xe){var q=N.exec(me.slice(xe));return q?(z.m=E.get(q[0].toLowerCase()),xe+q[0].length):-1}function $(z,me,xe){var q=w.exec(me.slice(xe));return q?(z.m=b.get(q[0].toLowerCase()),xe+q[0].length):-1}function ae(z,me,xe){return I(z,e,me,xe)}function ee(z,me,xe){return I(z,r,me,xe)}function G(z,me,xe){return I(z,n,me,xe)}function ne(z){return l[z.getDay()]}function Q(z){return i[z.getDay()]}function Z(z){return d[z.getMonth()]}function re(z){return c[z.getMonth()]}function W(z){return a[+(z.getHours()>=12)]}function J(z){return 1+~~(z.getMonth()/3)}function X(z){return l[z.getUTCDay()]}function le(z){return i[z.getUTCDay()]}function ge(z){return d[z.getUTCMonth()]}function he(z){return c[z.getUTCMonth()]}function de(z){return a[+(z.getUTCHours()>=12)]}function be(z){return 1+~~(z.getUTCMonth()/3)}return{format:function(z){var me=C(z+="",P);return me.toString=function(){return z},me},parse:function(z){var me=A(z+="",!1);return me.toString=function(){return z},me},utcFormat:function(z){var me=C(z+="",R);return me.toString=function(){return z},me},utcParse:function(z){var me=A(z+="",!0);return me.toString=function(){return z},me}}}var xI={"-":"",_:" ",0:"0"},Dr=/^\s*\d+/,AX=/^%/,CX=/[\\^$*+?|[\]().{}]/g;function mt(t,e,r){var n=t<0?"-":"",a=(n?-t:t)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(e)+a:a)}function PX(t){return t.replace(CX,"\\$&")}function rd(t){return new RegExp("^(?:"+t.map(PX).join("|")+")","i")}function nd(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function IX(t,e,r){var n=Dr.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function OX(t,e,r){var n=Dr.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function RX(t,e,r){var n=Dr.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function DX(t,e,r){var n=Dr.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function MX(t,e,r){var n=Dr.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function bI(t,e,r){var n=Dr.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function wI(t,e,r){var n=Dr.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function LX(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function $X(t,e,r){var n=Dr.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function FX(t,e,r){var n=Dr.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function _I(t,e,r){var n=Dr.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function VX(t,e,r){var n=Dr.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function kI(t,e,r){var n=Dr.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function BX(t,e,r){var n=Dr.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function UX(t,e,r){var n=Dr.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function qX(t,e,r){var n=Dr.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function zX(t,e,r){var n=Dr.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function WX(t,e,r){var n=AX.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function HX(t,e,r){var n=Dr.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function GX(t,e,r){var n=Dr.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function jI(t,e){return mt(t.getDate(),e,2)}function KX(t,e){return mt(t.getHours(),e,2)}function YX(t,e){return mt(t.getHours()%12||12,e,2)}function XX(t,e){return mt(1+Xh.count(is(t),t),e,3)}function p6(t,e){return mt(t.getMilliseconds(),e,3)}function QX(t,e){return p6(t,e)+"000"}function JX(t,e){return mt(t.getMonth()+1,e,2)}function ZX(t,e){return mt(t.getMinutes(),e,2)}function eQ(t,e){return mt(t.getSeconds(),e,2)}function tQ(t){var e=t.getDay();return e===0?7:e}function rQ(t,e){return mt(W0.count(is(t)-1,t),e,2)}function m6(t){var e=t.getDay();return e>=4||e===0?Bc(t):Bc.ceil(t)}function nQ(t,e){return t=m6(t),mt(Bc.count(is(t),t)+(is(t).getDay()===4),e,2)}function aQ(t){return t.getDay()}function iQ(t,e){return mt(Am.count(is(t)-1,t),e,2)}function sQ(t,e){return mt(t.getFullYear()%100,e,2)}function oQ(t,e){return t=m6(t),mt(t.getFullYear()%100,e,2)}function lQ(t,e){return mt(t.getFullYear()%1e4,e,4)}function cQ(t,e){var r=t.getDay();return t=r>=4||r===0?Bc(t):Bc.ceil(t),mt(t.getFullYear()%1e4,e,4)}function uQ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+mt(e/60|0,"0",2)+mt(e%60,"0",2)}function NI(t,e){return mt(t.getUTCDate(),e,2)}function dQ(t,e){return mt(t.getUTCHours(),e,2)}function hQ(t,e){return mt(t.getUTCHours()%12||12,e,2)}function fQ(t,e){return mt(1+z0.count(ss(t),t),e,3)}function g6(t,e){return mt(t.getUTCMilliseconds(),e,3)}function pQ(t,e){return g6(t,e)+"000"}function mQ(t,e){return mt(t.getUTCMonth()+1,e,2)}function gQ(t,e){return mt(t.getUTCMinutes(),e,2)}function vQ(t,e){return mt(t.getUTCSeconds(),e,2)}function yQ(t){var e=t.getUTCDay();return e===0?7:e}function xQ(t,e){return mt(H0.count(ss(t)-1,t),e,2)}function v6(t){var e=t.getUTCDay();return e>=4||e===0?Uc(t):Uc.ceil(t)}function bQ(t,e){return t=v6(t),mt(Uc.count(ss(t),t)+(ss(t).getUTCDay()===4),e,2)}function wQ(t){return t.getUTCDay()}function _Q(t,e){return mt(Cm.count(ss(t)-1,t),e,2)}function kQ(t,e){return mt(t.getUTCFullYear()%100,e,2)}function jQ(t,e){return t=v6(t),mt(t.getUTCFullYear()%100,e,2)}function NQ(t,e){return mt(t.getUTCFullYear()%1e4,e,4)}function SQ(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Uc(t):Uc.ceil(t),mt(t.getUTCFullYear()%1e4,e,4)}function TQ(){return"+0000"}function SI(){return"%"}function TI(t){return+t}function EI(t){return Math.floor(+t/1e3)}var lc,y6,x6;EQ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function EQ(t){return lc=EX(t),y6=lc.format,lc.parse,x6=lc.utcFormat,lc.utcParse,lc}function AQ(t){return new Date(t)}function CQ(t){return t instanceof Date?+t:+new Date(+t)}function Hj(t,e,r,n,a,i,l,c,d,h){var p=Ij(),m=p.invert,y=p.domain,x=h(".%L"),k=h(":%S"),w=h("%I:%M"),b=h("%I %p"),N=h("%a %d"),E=h("%b %d"),P=h("%B"),R=h("%Y");function j(C){return(d(C)<C?x:c(C)<C?k:l(C)<C?w:i(C)<C?b:n(C)<C?a(C)<C?N:E:r(C)<C?P:R)(C)}return p.invert=function(C){return new Date(m(C))},p.domain=function(C){return arguments.length?y(Array.from(C,CQ)):y().map(AQ)},p.ticks=function(C){var A=y();return t(A[0],A[A.length-1],C??10)},p.tickFormat=function(C,A){return A==null?j:h(A)},p.nice=function(C){var A=y();return(!C||typeof C.range!="function")&&(C=e(A[0],A[A.length-1],C??10)),C?y(i6(A,C)):p},p.copy=function(){return Yh(p,Hj(t,e,r,n,a,i,l,c,d,h))},p}function PQ(){return Na.apply(Hj(SX,TX,is,zj,W0,Xh,Uj,Vj,el,y6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function IQ(){return Na.apply(Hj(jX,NX,ss,Wj,H0,z0,qj,Bj,el,x6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function G0(){var t=0,e=1,r,n,a,i,l=yn,c=!1,d;function h(m){return m==null||isNaN(m=+m)?d:l(a===0?.5:(m=(i(m)-r)*a,c?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([t,e]=m,r=i(t=+t),n=i(e=+e),a=r===n?0:1/(n-r),h):[t,e]},h.clamp=function(m){return arguments.length?(c=!!m,h):c},h.interpolator=function(m){return arguments.length?(l=m,h):l};function p(m){return function(y){var x,k;return arguments.length?([x,k]=y,l=m(x,k),h):[l(0),l(1)]}}return h.range=p(pu),h.rangeRound=p(Pj),h.unknown=function(m){return arguments.length?(d=m,h):d},function(m){return i=m,r=m(t),n=m(e),a=r===n?0:1/(n-r),h}}function mo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function b6(){var t=po(G0()(yn));return t.copy=function(){return mo(t,b6())},hs.apply(t,arguments)}function w6(){var t=Dj(G0()).domain([1,10]);return t.copy=function(){return mo(t,w6()).base(t.base())},hs.apply(t,arguments)}function _6(){var t=Mj(G0());return t.copy=function(){return mo(t,_6()).constant(t.constant())},hs.apply(t,arguments)}function Gj(){var t=Lj(G0());return t.copy=function(){return mo(t,Gj()).exponent(t.exponent())},hs.apply(t,arguments)}function OQ(){return Gj.apply(null,arguments).exponent(.5)}function k6(){var t=[],e=yn;function r(n){if(n!=null&&!isNaN(n=+n))return e((Gh(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let a of n)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(ro),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,a)=>e(a/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>xY(t,i/n))},r.copy=function(){return k6(e).domain(t)},hs.apply(r,arguments)}function K0(){var t=0,e=.5,r=1,n=1,a,i,l,c,d,h=yn,p,m=!1,y;function x(w){return isNaN(w=+w)?y:(w=.5+((w=+p(w))-i)*(n*w<n*i?c:d),h(m?Math.max(0,Math.min(1,w)):w))}x.domain=function(w){return arguments.length?([t,e,r]=w,a=p(t=+t),i=p(e=+e),l=p(r=+r),c=a===i?0:.5/(i-a),d=i===l?0:.5/(l-i),n=i<a?-1:1,x):[t,e,r]},x.clamp=function(w){return arguments.length?(m=!!w,x):m},x.interpolator=function(w){return arguments.length?(h=w,x):h};function k(w){return function(b){var N,E,P;return arguments.length?([N,E,P]=b,h=WY(w,[N,E,P]),x):[h(0),h(.5),h(1)]}}return x.range=k(pu),x.rangeRound=k(Pj),x.unknown=function(w){return arguments.length?(y=w,x):y},function(w){return p=w,a=w(t),i=w(e),l=w(r),c=a===i?0:.5/(i-a),d=i===l?0:.5/(l-i),n=i<a?-1:1,x}}function j6(){var t=po(K0()(yn));return t.copy=function(){return mo(t,j6())},hs.apply(t,arguments)}function N6(){var t=Dj(K0()).domain([.1,1,10]);return t.copy=function(){return mo(t,N6()).base(t.base())},hs.apply(t,arguments)}function S6(){var t=Mj(K0());return t.copy=function(){return mo(t,S6()).constant(t.constant())},hs.apply(t,arguments)}function Kj(){var t=Lj(K0());return t.copy=function(){return mo(t,Kj()).exponent(t.exponent())},hs.apply(t,arguments)}function RQ(){return Kj.apply(null,arguments).exponent(.5)}const AI=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Qd,scaleDiverging:j6,scaleDivergingLog:N6,scaleDivergingPow:Kj,scaleDivergingSqrt:RQ,scaleDivergingSymlog:S6,scaleIdentity:a6,scaleImplicit:n1,scaleLinear:Tm,scaleLog:s6,scaleOrdinal:Ej,scalePoint:Sd,scalePow:$j,scaleQuantile:c6,scaleQuantize:u6,scaleRadial:l6,scaleSequential:b6,scaleSequentialLog:w6,scaleSequentialPow:Gj,scaleSequentialQuantile:k6,scaleSequentialSqrt:OQ,scaleSequentialSymlog:_6,scaleSqrt:pX,scaleSymlog:o6,scaleThreshold:d6,scaleTime:PQ,scaleUtc:IQ,tickFormat:n6},Symbol.toStringTag,{value:"Module"}));var yw,CI;function Y0(){if(CI)return yw;CI=1;var t=uu();function e(r,n,a){for(var i=-1,l=r.length;++i<l;){var c=r[i],d=n(c);if(d!=null&&(h===void 0?d===d&&!t(d):a(d,h)))var h=d,p=c}return p}return yw=e,yw}var xw,PI;function T6(){if(PI)return xw;PI=1;function t(e,r){return e>r}return xw=t,xw}var bw,II;function DQ(){if(II)return bw;II=1;var t=Y0(),e=T6(),r=hu();function n(a){return a&&a.length?t(a,r,e):void 0}return bw=n,bw}var MQ=DQ();const X0=xt(MQ);var ww,OI;function E6(){if(OI)return ww;OI=1;function t(e,r){return e<r}return ww=t,ww}var _w,RI;function LQ(){if(RI)return _w;RI=1;var t=Y0(),e=E6(),r=hu();function n(a){return a&&a.length?t(a,r,e):void 0}return _w=n,_w}var $Q=LQ();const Q0=xt($Q);var kw,DI;function FQ(){if(DI)return kw;DI=1;var t=cj(),e=wi(),r=M3(),n=Mn();function a(i,l){var c=n(i)?t:r;return c(i,e(l,3))}return kw=a,kw}var jw,MI;function VQ(){if(MI)return jw;MI=1;var t=R3(),e=FQ();function r(n,a){return t(e(n,a),1)}return jw=r,jw}var BQ=VQ();const UQ=xt(BQ);var Nw,LI;function qQ(){if(LI)return Nw;LI=1;var t=_j();function e(r,n){return t(r,n)}return Nw=e,Nw}var zQ=qQ();const J0=xt(zQ);var mu=1e9,WQ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Xj,Ht=!0,ja="[DecimalError] ",sl=ja+"Invalid argument: ",Yj=ja+"Exponent out of range: ",gu=Math.floor,Go=Math.pow,HQ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Yn,Or=1e7,Ft=7,A6=9007199254740991,Pm=gu(A6/Ft),De={};De.absoluteValue=De.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};De.comparedTo=De.cmp=function(t){var e,r,n,a,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(n=i.d.length,a=t.d.length,e=0,r=n<a?n:a;e<r;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};De.decimalPlaces=De.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Ft;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};De.dividedBy=De.div=function(t){return Ji(this,new this.constructor(t))};De.dividedToIntegerBy=De.idiv=function(t){var e=this,r=e.constructor;return St(Ji(e,new r(t),0,1),r.precision)};De.equals=De.eq=function(t){return!this.cmp(t)};De.exponent=function(){return vr(this)};De.greaterThan=De.gt=function(t){return this.cmp(t)>0};De.greaterThanOrEqualTo=De.gte=function(t){return this.cmp(t)>=0};De.isInteger=De.isint=function(){return this.e>this.d.length-2};De.isNegative=De.isneg=function(){return this.s<0};De.isPositive=De.ispos=function(){return this.s>0};De.isZero=function(){return this.s===0};De.lessThan=De.lt=function(t){return this.cmp(t)<0};De.lessThanOrEqualTo=De.lte=function(t){return this.cmp(t)<1};De.logarithm=De.log=function(t){var e,r=this,n=r.constructor,a=n.precision,i=a+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Yn))throw Error(ja+"NaN");if(r.s<1)throw Error(ja+(r.s?"NaN":"-Infinity"));return r.eq(Yn)?new n(0):(Ht=!1,e=Ji(rh(r,i),rh(t,i),i),Ht=!0,St(e,a))};De.minus=De.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?I6(e,t):C6(e,(t.s=-t.s,t))};De.modulo=De.mod=function(t){var e,r=this,n=r.constructor,a=n.precision;if(t=new n(t),!t.s)throw Error(ja+"NaN");return r.s?(Ht=!1,e=Ji(r,t,0,1).times(t),Ht=!0,r.minus(e)):St(new n(r),a)};De.naturalExponential=De.exp=function(){return P6(this)};De.naturalLogarithm=De.ln=function(){return rh(this)};De.negated=De.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};De.plus=De.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?C6(e,t):I6(e,(t.s=-t.s,t))};De.precision=De.sd=function(t){var e,r,n,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(sl+t);if(e=vr(a)+1,n=a.d.length-1,r=n*Ft+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};De.squareRoot=De.sqrt=function(){var t,e,r,n,a,i,l,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(ja+"NaN")}for(t=vr(c),Ht=!1,a=Math.sqrt(+c),a==0||a==1/0?(e=si(c.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=gu((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new d(e)):n=new d(a.toString()),r=d.precision,a=l=r+3;;)if(i=n,n=i.plus(Ji(c,i,l+2)).times(.5),si(i.d).slice(0,l)===(e=si(n.d)).slice(0,l)){if(e=e.slice(l-3,l+1),a==l&&e=="4999"){if(St(i,r+1,0),i.times(i).eq(c)){n=i;break}}else if(e!="9999")break;l+=4}return Ht=!0,St(n,r)};De.times=De.mul=function(t){var e,r,n,a,i,l,c,d,h,p=this,m=p.constructor,y=p.d,x=(t=new m(t)).d;if(!p.s||!t.s)return new m(0);for(t.s*=p.s,r=p.e+t.e,d=y.length,h=x.length,d<h&&(i=y,y=x,x=i,l=d,d=h,h=l),i=[],l=d+h,n=l;n--;)i.push(0);for(n=h;--n>=0;){for(e=0,a=d+n;a>n;)c=i[a]+x[n]*y[a-n-1]+e,i[a--]=c%Or|0,e=c/Or|0;i[a]=(i[a]+e)%Or|0}for(;!i[--l];)i.pop();return e?++r:i.shift(),t.d=i,t.e=r,Ht?St(t,m.precision):t};De.toDecimalPlaces=De.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(vi(t,0,mu),e===void 0?e=n.rounding:vi(e,0,8),St(r,t+vr(r)+1,e))};De.toExponential=function(t,e){var r,n=this,a=n.constructor;return t===void 0?r=gl(n,!0):(vi(t,0,mu),e===void 0?e=a.rounding:vi(e,0,8),n=St(new a(n),t+1,e),r=gl(n,!0,t+1)),r};De.toFixed=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?gl(a):(vi(t,0,mu),e===void 0?e=i.rounding:vi(e,0,8),n=St(new i(a),t+vr(a)+1,e),r=gl(n.abs(),!1,t+vr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};De.toInteger=De.toint=function(){var t=this,e=t.constructor;return St(new e(t),vr(t)+1,e.rounding)};De.toNumber=function(){return+this};De.toPower=De.pow=function(t){var e,r,n,a,i,l,c=this,d=c.constructor,h=12,p=+(t=new d(t));if(!t.s)return new d(Yn);if(c=new d(c),!c.s){if(t.s<1)throw Error(ja+"Infinity");return c}if(c.eq(Yn))return c;if(n=d.precision,t.eq(Yn))return St(c,n);if(e=t.e,r=t.d.length-1,l=e>=r,i=c.s,l){if((r=p<0?-p:p)<=A6){for(a=new d(Yn),e=Math.ceil(n/Ft+4),Ht=!1;r%2&&(a=a.times(c),FI(a.d,e)),r=gu(r/2),r!==0;)c=c.times(c),FI(c.d,e);return Ht=!0,t.s<0?new d(Yn).div(a):St(a,n)}}else if(i<0)throw Error(ja+"NaN");return i=i<0&&t.d[Math.max(e,r)]&1?-1:1,c.s=1,Ht=!1,a=t.times(rh(c,n+h)),Ht=!0,a=P6(a),a.s=i,a};De.toPrecision=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?(r=vr(a),n=gl(a,r<=i.toExpNeg||r>=i.toExpPos)):(vi(t,1,mu),e===void 0?e=i.rounding:vi(e,0,8),a=St(new i(a),t,e),r=vr(a),n=gl(a,t<=r||r<=i.toExpNeg,t)),n};De.toSignificantDigits=De.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(vi(t,1,mu),e===void 0?e=n.rounding:vi(e,0,8)),St(new n(r),t,e)};De.toString=De.valueOf=De.val=De.toJSON=De[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=vr(t),r=t.constructor;return gl(t,e<=r.toExpNeg||e>=r.toExpPos)};function C6(t,e){var r,n,a,i,l,c,d,h,p=t.constructor,m=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),Ht?St(e,m):e;if(d=t.d,h=e.d,l=t.e,a=e.e,d=d.slice(),i=l-a,i){for(i<0?(n=d,i=-i,c=h.length):(n=h,a=l,c=d.length),l=Math.ceil(m/Ft),c=l>c?l+1:c+1,i>c&&(i=c,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(c=d.length,i=h.length,c-i<0&&(i=c,n=h,h=d,d=n),r=0;i;)r=(d[--i]=d[i]+h[i]+r)/Or|0,d[i]%=Or;for(r&&(d.unshift(r),++a),c=d.length;d[--c]==0;)d.pop();return e.d=d,e.e=a,Ht?St(e,m):e}function vi(t,e,r){if(t!==~~t||t<e||t>r)throw Error(sl+t)}function si(t){var e,r,n,a=t.length-1,i="",l=t[0];if(a>0){for(i+=l,e=1;e<a;e++)n=t[e]+"",r=Ft-n.length,r&&(i+=Bs(r)),i+=n;l=t[e],n=l+"",r=Ft-n.length,r&&(i+=Bs(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return i+l}var Ji=function(){function t(n,a){var i,l=0,c=n.length;for(n=n.slice();c--;)i=n[c]*a+l,n[c]=i%Or|0,l=i/Or|0;return l&&n.unshift(l),n}function e(n,a,i,l){var c,d;if(i!=l)d=i>l?1:-1;else for(c=d=0;c<i;c++)if(n[c]!=a[c]){d=n[c]>a[c]?1:-1;break}return d}function r(n,a,i){for(var l=0;i--;)n[i]-=l,l=n[i]<a[i]?1:0,n[i]=l*Or+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,l){var c,d,h,p,m,y,x,k,w,b,N,E,P,R,j,C,A,I,L=n.constructor,O=n.s==a.s?1:-1,D=n.d,F=a.d;if(!n.s)return new L(n);if(!a.s)throw Error(ja+"Division by zero");for(d=n.e-a.e,A=F.length,j=D.length,x=new L(O),k=x.d=[],h=0;F[h]==(D[h]||0);)++h;if(F[h]>(D[h]||0)&&--d,i==null?E=i=L.precision:l?E=i+(vr(n)-vr(a))+1:E=i,E<0)return new L(0);if(E=E/Ft+2|0,h=0,A==1)for(p=0,F=F[0],E++;(h<j||p)&&E--;h++)P=p*Or+(D[h]||0),k[h]=P/F|0,p=P%F|0;else{for(p=Or/(F[0]+1)|0,p>1&&(F=t(F,p),D=t(D,p),A=F.length,j=D.length),R=A,w=D.slice(0,A),b=w.length;b<A;)w[b++]=0;I=F.slice(),I.unshift(0),C=F[0],F[1]>=Or/2&&++C;do p=0,c=e(F,w,A,b),c<0?(N=w[0],A!=b&&(N=N*Or+(w[1]||0)),p=N/C|0,p>1?(p>=Or&&(p=Or-1),m=t(F,p),y=m.length,b=w.length,c=e(m,w,y,b),c==1&&(p--,r(m,A<y?I:F,y))):(p==0&&(c=p=1),m=F.slice()),y=m.length,y<b&&m.unshift(0),r(w,m,b),c==-1&&(b=w.length,c=e(F,w,A,b),c<1&&(p++,r(w,A<b?I:F,b))),b=w.length):c===0&&(p++,w=[0]),k[h++]=p,c&&w[0]?w[b++]=D[R]||0:(w=[D[R]],b=1);while((R++<j||w[0]!==void 0)&&E--)}return k[0]||k.shift(),x.e=d,St(x,l?i+vr(x)+1:i)}}();function P6(t,e){var r,n,a,i,l,c,d=0,h=0,p=t.constructor,m=p.precision;if(vr(t)>16)throw Error(Yj+vr(t));if(!t.s)return new p(Yn);for(Ht=!1,c=m,l=new p(.03125);t.abs().gte(.1);)t=t.times(l),h+=5;for(n=Math.log(Go(2,h))/Math.LN10*2+5|0,c+=n,r=a=i=new p(Yn),p.precision=c;;){if(a=St(a.times(t),c),r=r.times(++d),l=i.plus(Ji(a,r,c)),si(l.d).slice(0,c)===si(i.d).slice(0,c)){for(;h--;)i=St(i.times(i),c);return p.precision=m,e==null?(Ht=!0,St(i,m)):i}i=l}}function vr(t){for(var e=t.e*Ft,r=t.d[0];r>=10;r/=10)e++;return e}function Sw(t,e,r){if(e>t.LN10.sd())throw Ht=!0,r&&(t.precision=r),Error(ja+"LN10 precision limit exceeded");return St(new t(t.LN10),e)}function Bs(t){for(var e="";t--;)e+="0";return e}function rh(t,e){var r,n,a,i,l,c,d,h,p,m=1,y=10,x=t,k=x.d,w=x.constructor,b=w.precision;if(x.s<1)throw Error(ja+(x.s?"NaN":"-Infinity"));if(x.eq(Yn))return new w(0);if(e==null?(Ht=!1,h=b):h=e,x.eq(10))return e==null&&(Ht=!0),Sw(w,h);if(h+=y,w.precision=h,r=si(k),n=r.charAt(0),i=vr(x),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)x=x.times(t),r=si(x.d),n=r.charAt(0),m++;i=vr(x),n>1?(x=new w("0."+r),i++):x=new w(n+"."+r.slice(1))}else return d=Sw(w,h+2,b).times(i+""),x=rh(new w(n+"."+r.slice(1)),h-y).plus(d),w.precision=b,e==null?(Ht=!0,St(x,b)):x;for(c=l=x=Ji(x.minus(Yn),x.plus(Yn),h),p=St(x.times(x),h),a=3;;){if(l=St(l.times(p),h),d=c.plus(Ji(l,new w(a),h)),si(d.d).slice(0,h)===si(c.d).slice(0,h))return c=c.times(2),i!==0&&(c=c.plus(Sw(w,h+2,b).times(i+""))),c=Ji(c,new w(m),h),w.precision=b,e==null?(Ht=!0,St(c,b)):c;c=d,a+=2}}function $I(t,e){var r,n,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,r=r-n-1,t.e=gu(r/Ft),t.d=[],n=(r+1)%Ft,r<0&&(n+=Ft),n<a){for(n&&t.d.push(+e.slice(0,n)),a-=Ft;n<a;)t.d.push(+e.slice(n,n+=Ft));e=e.slice(n),n=Ft-e.length}else n-=a;for(;n--;)e+="0";if(t.d.push(+e),Ht&&(t.e>Pm||t.e<-Pm))throw Error(Yj+r)}else t.s=0,t.e=0,t.d=[0];return t}function St(t,e,r){var n,a,i,l,c,d,h,p,m=t.d;for(l=1,i=m[0];i>=10;i/=10)l++;if(n=e-l,n<0)n+=Ft,a=e,h=m[p=0];else{if(p=Math.ceil((n+1)/Ft),i=m.length,p>=i)return t;for(h=i=m[p],l=1;i>=10;i/=10)l++;n%=Ft,a=n-Ft+l}if(r!==void 0&&(i=Go(10,l-a-1),c=h/i%10|0,d=e<0||m[p+1]!==void 0||h%i,d=r<4?(c||d)&&(r==0||r==(t.s<0?3:2)):c>5||c==5&&(r==4||d||r==6&&(n>0?a>0?h/Go(10,l-a):0:m[p-1])%10&1||r==(t.s<0?8:7))),e<1||!m[0])return d?(i=vr(t),m.length=1,e=e-i-1,m[0]=Go(10,(Ft-e%Ft)%Ft),t.e=gu(-e/Ft)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(n==0?(m.length=p,i=1,p--):(m.length=p+1,i=Go(10,Ft-n),m[p]=a>0?(h/Go(10,l-a)%Go(10,a)|0)*i:0),d)for(;;)if(p==0){(m[0]+=i)==Or&&(m[0]=1,++t.e);break}else{if(m[p]+=i,m[p]!=Or)break;m[p--]=0,i=1}for(n=m.length;m[--n]===0;)m.pop();if(Ht&&(t.e>Pm||t.e<-Pm))throw Error(Yj+vr(t));return t}function I6(t,e){var r,n,a,i,l,c,d,h,p,m,y=t.constructor,x=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),Ht?St(e,x):e;if(d=t.d,m=e.d,n=e.e,h=t.e,d=d.slice(),l=h-n,l){for(p=l<0,p?(r=d,l=-l,c=m.length):(r=m,n=h,c=d.length),a=Math.max(Math.ceil(x/Ft),c)+2,l>a&&(l=a,r.length=1),r.reverse(),a=l;a--;)r.push(0);r.reverse()}else{for(a=d.length,c=m.length,p=a<c,p&&(c=a),a=0;a<c;a++)if(d[a]!=m[a]){p=d[a]<m[a];break}l=0}for(p&&(r=d,d=m,m=r,e.s=-e.s),c=d.length,a=m.length-c;a>0;--a)d[c++]=0;for(a=m.length;a>l;){if(d[--a]<m[a]){for(i=a;i&&d[--i]===0;)d[i]=Or-1;--d[i],d[a]+=Or}d[a]-=m[a]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(e.d=d,e.e=n,Ht?St(e,x):e):new y(0)}function gl(t,e,r){var n,a=vr(t),i=si(t.d),l=i.length;return e?(r&&(n=r-l)>0?i=i.charAt(0)+"."+i.slice(1)+Bs(n):l>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Bs(-a-1)+i,r&&(n=r-l)>0&&(i+=Bs(n))):a>=l?(i+=Bs(a+1-l),r&&(n=r-a-1)>0&&(i=i+"."+Bs(n))):((n=a+1)<l&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-l)>0&&(a+1===l&&(i+="."),i+=Bs(n))),t.s<0?"-"+i:i}function FI(t,e){if(t.length>e)return t.length=e,!0}function O6(t){var e,r,n;function a(i){var l=this;if(!(l instanceof a))return new a(i);if(l.constructor=a,i instanceof a){l.s=i.s,l.e=i.e,l.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(sl+i);if(i>0)l.s=1;else if(i<0)i=-i,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(i===~~i&&i<1e7){l.e=0,l.d=[i];return}return $I(l,i.toString())}else if(typeof i!="string")throw Error(sl+i);if(i.charCodeAt(0)===45?(i=i.slice(1),l.s=-1):l.s=1,HQ.test(i))$I(l,i);else throw Error(sl+i)}if(a.prototype=De,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=O6,a.config=a.set=GQ,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return a.config(t),a}function GQ(t){if(!t||typeof t!="object")throw Error(ja+"Object expected");var e,r,n,a=["precision",1,mu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=t[r=a[e]])!==void 0)if(gu(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(sl+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(sl+r+": "+n);return this}var Xj=O6(WQ);Yn=new Xj(1);const kt=Xj;function KQ(t){return JQ(t)||QQ(t)||XQ(t)||YQ()}function YQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XQ(t,e){if(t){if(typeof t=="string")return o1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o1(t,e)}}function QQ(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function JQ(t){if(Array.isArray(t))return o1(t)}function o1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var ZQ=function(e){return e},R6={},D6=function(e){return e===R6},VI=function(e){return function r(){return arguments.length===0||arguments.length===1&&D6(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},eJ=function t(e,r){return e===1?r:VI(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var l=a.filter(function(c){return c!==R6}).length;return l>=e?r.apply(void 0,a):t(e-l,VI(function(){for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];var p=a.map(function(m){return D6(m)?d.shift():m});return r.apply(void 0,KQ(p).concat(d))}))})},Z0=function(e){return eJ(e.length,e)},l1=function(e,r){for(var n=[],a=e;a<r;++a)n[a-e]=a;return n},tJ=Z0(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),rJ=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return ZQ;var a=r.reverse(),i=a[0],l=a.slice(1);return function(){return l.reduce(function(c,d){return d(c)},i.apply(void 0,arguments))}},c1=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},M6=function(e){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return r&&i.every(function(c,d){return c===r[d]})||(r=i,n=e.apply(void 0,i)),n}};function nJ(t){var e;return t===0?e=1:e=Math.floor(new kt(t).abs().log(10).toNumber())+1,e}function aJ(t,e,r){for(var n=new kt(t),a=0,i=[];n.lt(e)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var iJ=Z0(function(t,e,r){var n=+t,a=+e;return n+r*(a-n)}),sJ=Z0(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),oJ=Z0(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const eg={rangeStep:aJ,getDigitCount:nJ,interpolateNumber:iJ,uninterpolateNumber:sJ,uninterpolateTruncation:oJ};function u1(t){return uJ(t)||cJ(t)||L6(t)||lJ()}function lJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cJ(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function uJ(t){if(Array.isArray(t))return d1(t)}function nh(t,e){return fJ(t)||hJ(t,e)||L6(t,e)||dJ()}function dJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L6(t,e){if(t){if(typeof t=="string")return d1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d1(t,e)}}function d1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hJ(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,a=!1,i=void 0;try{for(var l=t[Symbol.iterator](),c;!(n=(c=l.next()).done)&&(r.push(c.value),!(e&&r.length===e));n=!0);}catch(d){a=!0,i=d}finally{try{!n&&l.return!=null&&l.return()}finally{if(a)throw i}}return r}}function fJ(t){if(Array.isArray(t))return t}function $6(t){var e=nh(t,2),r=e[0],n=e[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function F6(t,e,r){if(t.lte(0))return new kt(0);var n=eg.getDigitCount(t.toNumber()),a=new kt(10).pow(n),i=t.div(a),l=n!==1?.05:.1,c=new kt(Math.ceil(i.div(l).toNumber())).add(r).mul(l),d=c.mul(a);return e?d:new kt(Math.ceil(d))}function pJ(t,e,r){var n=1,a=new kt(t);if(!a.isint()&&r){var i=Math.abs(t);i<1?(n=new kt(10).pow(eg.getDigitCount(t)-1),a=new kt(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new kt(Math.floor(t)))}else t===0?a=new kt(Math.floor((e-1)/2)):r||(a=new kt(Math.floor(t)));var l=Math.floor((e-1)/2),c=rJ(tJ(function(d){return a.add(new kt(d-l).mul(n)).toNumber()}),l1);return c(0,e)}function V6(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new kt(0),tickMin:new kt(0),tickMax:new kt(0)};var i=F6(new kt(e).sub(t).div(r-1),n,a),l;t<=0&&e>=0?l=new kt(0):(l=new kt(t).add(e).div(2),l=l.sub(new kt(l).mod(i)));var c=Math.ceil(l.sub(t).div(i).toNumber()),d=Math.ceil(new kt(e).sub(l).div(i).toNumber()),h=c+d+1;return h>r?V6(t,e,r,n,a+1):(h<r&&(d=e>0?d+(r-h):d,c=e>0?c:c+(r-h)),{step:i,tickMin:l.sub(new kt(c).mul(i)),tickMax:l.add(new kt(d).mul(i))})}function mJ(t){var e=nh(t,2),r=e[0],n=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(a,2),c=$6([r,n]),d=nh(c,2),h=d[0],p=d[1];if(h===-1/0||p===1/0){var m=p===1/0?[h].concat(u1(l1(0,a-1).map(function(){return 1/0}))):[].concat(u1(l1(0,a-1).map(function(){return-1/0})),[p]);return r>n?c1(m):m}if(h===p)return pJ(h,a,i);var y=V6(h,p,l,i),x=y.step,k=y.tickMin,w=y.tickMax,b=eg.rangeStep(k,w.add(new kt(.1).mul(x)),x);return r>n?c1(b):b}function gJ(t,e){var r=nh(t,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=$6([n,a]),c=nh(l,2),d=c[0],h=c[1];if(d===-1/0||h===1/0)return[n,a];if(d===h)return[d];var p=Math.max(e,2),m=F6(new kt(h).sub(d).div(p-1),i,0),y=[].concat(u1(eg.rangeStep(new kt(d),new kt(h).sub(new kt(.99).mul(m)),m)),[h]);return n>a?c1(y):y}var vJ=M6(mJ),yJ=M6(gJ),xJ="Invariant failed";function vl(t,e){throw new Error(xJ)}var bJ=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function qc(t){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc(t)}function Im(){return Im=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Im.apply(this,arguments)}function wJ(t,e){return NJ(t)||jJ(t,e)||kJ(t,e)||_J()}function _J(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kJ(t,e){if(t){if(typeof t=="string")return BI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BI(t,e)}}function BI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function jJ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,l,c=[],d=!0,h=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return c}}function NJ(t){if(Array.isArray(t))return t}function SJ(t,e){if(t==null)return{};var r=TJ(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function TJ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function EJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,q6(n.key),n)}}function CJ(t,e,r){return e&&AJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function PJ(t,e,r){return e=Om(e),IJ(t,B6()?Reflect.construct(e,r||[],Om(t).constructor):e.apply(t,r))}function IJ(t,e){if(e&&(qc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OJ(t)}function OJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B6=function(){return!!t})()}function Om(t){return Om=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Om(t)}function RJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h1(t,e)}function h1(t,e){return h1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},h1(t,e)}function U6(t,e,r){return e=q6(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function q6(t){var e=DJ(t,"string");return qc(e)=="symbol"?e:e+""}function DJ(t,e){if(qc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tg=function(t){function e(){return EJ(this,e),PJ(this,e,arguments)}return RJ(e,t),CJ(e,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,l=n.width,c=n.dataKey,d=n.data,h=n.dataPointFormatter,p=n.xAxis,m=n.yAxis,y=SJ(n,bJ),x=Ye(y,!1);this.props.direction==="x"&&p.type!=="number"&&vl();var k=d.map(function(w){var b=h(w,c),N=b.x,E=b.y,P=b.value,R=b.errorVal;if(!R)return null;var j=[],C,A;if(Array.isArray(R)){var I=wJ(R,2);C=I[0],A=I[1]}else C=A=R;if(i==="vertical"){var L=p.scale,O=E+a,D=O+l,F=O-l,$=L(P-C),ae=L(P+A);j.push({x1:ae,y1:D,x2:ae,y2:F}),j.push({x1:$,y1:O,x2:ae,y2:O}),j.push({x1:$,y1:D,x2:$,y2:F})}else if(i==="horizontal"){var ee=m.scale,G=N+a,ne=G-l,Q=G+l,Z=ee(P-C),re=ee(P+A);j.push({x1:ne,y1:re,x2:Q,y2:re}),j.push({x1:G,y1:Z,x2:G,y2:re}),j.push({x1:ne,y1:Z,x2:Q,y2:Z})}return K.createElement(wt,Im({className:"recharts-errorBar",key:"bar-".concat(j.map(function(W){return"".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))},x),j.map(function(W){return K.createElement("line",Im({},W,{key:"line-".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))}))});return K.createElement(wt,{className:"recharts-errorBars"},k)}}])}(K.Component);U6(tg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});U6(tg,"displayName","ErrorBar");function ah(t){"@babel/helpers - typeof";return ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ah(t)}function UI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Uo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UI(Object(r),!0).forEach(function(n){MJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function MJ(t,e,r){return e=LJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LJ(t){var e=$J(t,"string");return ah(e)=="symbol"?e:e+""}function $J(t,e){if(ah(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ah(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var z6=function(e){var r=e.children,n=e.formattedGraphicalItems,a=e.legendWidth,i=e.legendContent,l=Kn(r,to);if(!l)return null;var c=to.defaultProps,d=c!==void 0?Uo(Uo({},c),l.props):{},h;return l.props&&l.props.payload?h=l.props&&l.props.payload:i==="children"?h=(n||[]).reduce(function(p,m){var y=m.item,x=m.props,k=x.sectors||x.data||[];return p.concat(k.map(function(w){return{type:l.props.iconType||y.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):h=(n||[]).map(function(p){var m=p.item,y=m.type.defaultProps,x=y!==void 0?Uo(Uo({},y),m.props):{},k=x.dataKey,w=x.name,b=x.legendType,N=x.hide;return{inactive:N,dataKey:k,type:d.iconType||b||"square",color:Qj(m),value:w||k,payload:x}}),Uo(Uo(Uo({},d),to.getWithHeight(l,a)),{},{payload:h,item:l})};function ih(t){"@babel/helpers - typeof";return ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ih(t)}function qI(t){return UJ(t)||BJ(t)||VJ(t)||FJ()}function FJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VJ(t,e){if(t){if(typeof t=="string")return f1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f1(t,e)}}function BJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function UJ(t){if(Array.isArray(t))return f1(t)}function f1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ar(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zI(Object(r),!0).forEach(function(n){Sc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Sc(t,e,r){return e=qJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qJ(t){var e=zJ(t,"string");return ih(e)=="symbol"?e:e+""}function zJ(t,e){if(ih(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ih(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nn(t,e,r){return at(t)||at(e)?r:Nr(e)?Zn(t,e,r):Qe(e)?e(t):r}function Td(t,e,r,n){var a=UQ(t,function(c){return nn(c,e)});if(r==="number"){var i=a.filter(function(c){return Ee(c)||parseFloat(c)});return i.length?[Q0(i),X0(i)]:[1/0,-1/0]}var l=n?a.filter(function(c){return!at(c)}):a;return l.map(function(c){return Nr(c)||c instanceof Date?c:""})}var WJ=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,l=-1,c=(r=n?.length)!==null&&r!==void 0?r:0;if(c<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var d=i.range,h=0;h<c;h++){var p=h>0?a[h-1].coordinate:a[c-1].coordinate,m=a[h].coordinate,y=h>=c-1?a[0].coordinate:a[h+1].coordinate,x=void 0;if(gn(m-p)!==gn(y-m)){var k=[];if(gn(y-m)===gn(d[1]-d[0])){x=y;var w=m+d[1]-d[0];k[0]=Math.min(w,(w+p)/2),k[1]=Math.max(w,(w+p)/2)}else{x=p;var b=y+d[1]-d[0];k[0]=Math.min(m,(b+m)/2),k[1]=Math.max(m,(b+m)/2)}var N=[Math.min(m,(x+m)/2),Math.max(m,(x+m)/2)];if(e>N[0]&&e<=N[1]||e>=k[0]&&e<=k[1]){l=a[h].index;break}}else{var E=Math.min(p,y),P=Math.max(p,y);if(e>(E+m)/2&&e<=(P+m)/2){l=a[h].index;break}}}else for(var R=0;R<c;R++)if(R===0&&e<=(n[R].coordinate+n[R+1].coordinate)/2||R>0&&R<c-1&&e>(n[R].coordinate+n[R-1].coordinate)/2&&e<=(n[R].coordinate+n[R+1].coordinate)/2||R===c-1&&e>(n[R].coordinate+n[R-1].coordinate)/2){l=n[R].index;break}return l},Qj=function(e){var r,n=e,a=n.type.displayName,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?ar(ar({},e.type.defaultProps),e.props):e.props,l=i.stroke,c=i.fill,d;switch(a){case"Line":d=l;break;case"Area":case"Radar":d=l&&l!=="none"?l:c;break;default:d=c;break}return d},HJ=function(e){var r=e.barSize,n=e.totalSize,a=e.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var l={},c=Object.keys(i),d=0,h=c.length;d<h;d++)for(var p=i[c[d]].stackGroups,m=Object.keys(p),y=0,x=m.length;y<x;y++){var k=p[m[y]],w=k.items,b=k.cateAxisId,N=w.filter(function(A){return Qi(A.type).indexOf("Bar")>=0});if(N&&N.length){var E=N[0].type.defaultProps,P=E!==void 0?ar(ar({},E),N[0].props):N[0].props,R=P.barSize,j=P[b];l[j]||(l[j]=[]);var C=at(R)?r:R;l[j].push({item:N[0],stackList:N.slice(1),barSize:at(C)?void 0:vn(C,n,0)})}}return l},GJ=function(e){var r=e.barGap,n=e.barCategoryGap,a=e.bandSize,i=e.sizeList,l=i===void 0?[]:i,c=e.maxBarSize,d=l.length;if(d<1)return null;var h=vn(r,a,0,!0),p,m=[];if(l[0].barSize===+l[0].barSize){var y=!1,x=a/d,k=l.reduce(function(R,j){return R+j.barSize||0},0);k+=(d-1)*h,k>=a&&(k-=(d-1)*h,h=0),k>=a&&x>0&&(y=!0,x*=.9,k=d*x);var w=(a-k)/2>>0,b={offset:w-h,size:0};p=l.reduce(function(R,j){var C={item:j.item,position:{offset:b.offset+b.size+h,size:y?x:j.barSize}},A=[].concat(qI(R),[C]);return b=A[A.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(I){A.push({item:I,position:b})}),A},m)}else{var N=vn(n,a,0,!0);a-2*N-(d-1)*h<=0&&(h=0);var E=(a-2*N-(d-1)*h)/d;E>1&&(E>>=0);var P=c===+c?Math.min(E,c):E;p=l.reduce(function(R,j,C){var A=[].concat(qI(R),[{item:j.item,position:{offset:N+(E+h)*C+(E-P)/2,size:P}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(I){A.push({item:I,position:A[A.length-1].position})}),A},m)}return p},KJ=function(e,r,n,a){var i=n.children,l=n.width,c=n.margin,d=l-(c.left||0)-(c.right||0),h=z6({children:i,legendWidth:d});if(h){var p=a||{},m=p.width,y=p.height,x=h.align,k=h.verticalAlign,w=h.layout;if((w==="vertical"||w==="horizontal"&&k==="middle")&&x!=="center"&&Ee(e[x]))return ar(ar({},e),{},Sc({},x,e[x]+(m||0)));if((w==="horizontal"||w==="vertical"&&x==="center")&&k!=="middle"&&Ee(e[k]))return ar(ar({},e),{},Sc({},k,e[k]+(y||0)))}return e},YJ=function(e,r,n){return at(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},W6=function(e,r,n,a,i){var l=r.props.children,c=_a(l,tg).filter(function(h){return YJ(a,i,h.props.direction)});if(c&&c.length){var d=c.map(function(h){return h.props.dataKey});return e.reduce(function(h,p){var m=nn(p,n);if(at(m))return h;var y=Array.isArray(m)?[Q0(m),X0(m)]:[m,m],x=d.reduce(function(k,w){var b=nn(p,w,0),N=y[0]-Math.abs(Array.isArray(b)?b[0]:b),E=y[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(N,k[0]),Math.max(E,k[1])]},[1/0,-1/0]);return[Math.min(x[0],h[0]),Math.max(x[1],h[1])]},[1/0,-1/0])}return null},XJ=function(e,r,n,a,i){var l=r.map(function(c){return W6(e,c,n,i,a)}).filter(function(c){return!at(c)});return l&&l.length?l.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]):null},H6=function(e,r,n,a,i){var l=r.map(function(d){var h=d.props.dataKey;return n==="number"&&h&&W6(e,d,h,a)||Td(e,h,n,i)});if(n==="number")return l.reduce(function(d,h){return[Math.min(d[0],h[0]),Math.max(d[1],h[1])]},[1/0,-1/0]);var c={};return l.reduce(function(d,h){for(var p=0,m=h.length;p<m;p++)c[h[p]]||(c[h[p]]=!0,d.push(h[p]));return d},[])},G6=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},K6=function(e,r,n,a){if(a)return e.map(function(d){return d.coordinate});var i,l,c=e.map(function(d){return d.coordinate===r&&(i=!0),d.coordinate===n&&(l=!0),d.coordinate});return i||c.push(r),l||c.push(n),c},Xi=function(e,r,n){if(!e)return null;var a=e.scale,i=e.duplicateDomain,l=e.type,c=e.range,d=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,h=(r||n)&&l==="category"&&a.bandwidth?a.bandwidth()/d:0;if(h=e.axisType==="angleAxis"&&c?.length>=2?gn(c[0]-c[1])*2*h:h,r&&(e.ticks||e.niceTicks)){var p=(e.ticks||e.niceTicks).map(function(m){var y=i?i.indexOf(m):m;return{coordinate:a(y)+h,value:m,offset:h}});return p.filter(function(m){return!zh(m.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(m,y){return{coordinate:a(m)+h,value:m,index:y,offset:h}}):a.ticks&&!n?a.ticks(e.tickCount).map(function(m){return{coordinate:a(m)+h,value:m,offset:h}}):a.domain().map(function(m,y){return{coordinate:a(m)+h,value:i?i[m]:m,index:y,offset:h}})},Tw=new WeakMap,Ep=function(e,r){if(typeof r!="function")return e;Tw.has(e)||Tw.set(e,new WeakMap);var n=Tw.get(e);if(n.has(r))return n.get(r);var a=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},Y6=function(e,r,n){var a=e.scale,i=e.type,l=e.layout,c=e.axisType;if(a==="auto")return l==="radial"&&c==="radiusAxis"?{scale:Qd(),realScaleType:"band"}:l==="radial"&&c==="angleAxis"?{scale:Tm(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Sd(),realScaleType:"point"}:i==="category"?{scale:Qd(),realScaleType:"band"}:{scale:Tm(),realScaleType:"linear"};if(fl(a)){var d="scale".concat(D0(a));return{scale:(AI[d]||Sd)(),realScaleType:AI[d]?d:"point"}}return Qe(a)?{scale:a}:{scale:Sd(),realScaleType:"point"}},WI=1e-4,X6=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,a=e.range(),i=Math.min(a[0],a[1])-WI,l=Math.max(a[0],a[1])+WI,c=e(r[0]),d=e(r[n-1]);(c<i||c>l||d<i||d>l)&&e.domain([r[0],r[n-1]])}},QJ=function(e,r){if(!e)return null;for(var n=0,a=e.length;n<a;n++)if(e[n].item===r)return e[n].position;return null},JJ=function(e,r){if(!r||r.length!==2||!Ee(r[0])||!Ee(r[1]))return e;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[e[0],e[1]];return(!Ee(e[0])||e[0]<n)&&(i[0]=n),(!Ee(e[1])||e[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},ZJ=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,l=0,c=0;c<r;++c){var d=zh(e[c][n][1])?e[c][n][0]:e[c][n][1];d>=0?(e[c][n][0]=i,e[c][n][1]=i+d,i=e[c][n][1]):(e[c][n][0]=l,e[c][n][1]=l+d,l=e[c][n][1])}},eZ=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,l=0;l<r;++l){var c=zh(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=i,e[l][n][1]=i+c,i=e[l][n][1]):(e[l][n][0]=0,e[l][n][1]=0)}},tZ={sign:ZJ,expand:UW,none:Dc,silhouette:qW,wiggle:zW,positive:eZ},rZ=function(e,r,n){var a=r.map(function(c){return c.props.dataKey}),i=tZ[n],l=BW().keys(a).value(function(c,d){return+nn(c,d,0)}).order(q_).offset(i);return l(e)},nZ=function(e,r,n,a,i,l){if(!e)return null;var c=l?r.reverse():r,d={},h=c.reduce(function(m,y){var x,k=(x=y.type)!==null&&x!==void 0&&x.defaultProps?ar(ar({},y.type.defaultProps),y.props):y.props,w=k.stackId,b=k.hide;if(b)return m;var N=k[n],E=m[N]||{hasStack:!1,stackGroups:{}};if(Nr(w)){var P=E.stackGroups[w]||{numericAxisId:n,cateAxisId:a,items:[]};P.items.push(y),E.hasStack=!0,E.stackGroups[w]=P}else E.stackGroups[Wh("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[y]};return ar(ar({},m),{},Sc({},N,E))},d),p={};return Object.keys(h).reduce(function(m,y){var x=h[y];if(x.hasStack){var k={};x.stackGroups=Object.keys(x.stackGroups).reduce(function(w,b){var N=x.stackGroups[b];return ar(ar({},w),{},Sc({},b,{numericAxisId:n,cateAxisId:a,items:N.items,stackedData:rZ(e,N.items,i)}))},k)}return ar(ar({},m),{},Sc({},y,x))},p)},Q6=function(e,r){var n=r.realScaleType,a=r.type,i=r.tickCount,l=r.originalDomain,c=r.allowDecimals,d=n||r.scale;if(d!=="auto"&&d!=="linear")return null;if(i&&a==="number"&&l&&(l[0]==="auto"||l[1]==="auto")){var h=e.domain();if(!h.length)return null;var p=vJ(h,i,c);return e.domain([Q0(p),X0(p)]),{niceTicks:p}}if(i&&a==="number"){var m=e.domain(),y=yJ(m,i,c);return{niceTicks:y}}return null},HI=function(e){var r=e.axis,n=e.ticks,a=e.offset,i=e.bandSize,l=e.entry,c=e.index;if(r.type==="category")return n[c]?n[c].coordinate+a:null;var d=nn(l,r.dataKey,r.domain[c]);return at(d)?null:r.scale(d)-i/2+a},aZ=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},iZ=function(e,r){var n,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?ar(ar({},e.type.defaultProps),e.props):e.props,i=a.stackId;if(Nr(i)){var l=r[i];if(l){var c=l.items.indexOf(e);return c>=0?l.stackedData[c]:null}}return null},sZ=function(e){return e.reduce(function(r,n){return[Q0(n.concat([r[0]]).filter(Ee)),X0(n.concat([r[1]]).filter(Ee))]},[1/0,-1/0])},J6=function(e,r,n){return Object.keys(e).reduce(function(a,i){var l=e[i],c=l.stackedData,d=c.reduce(function(h,p){var m=sZ(p.slice(r,n+1));return[Math.min(h[0],m[0]),Math.max(h[1],m[1])]},[1/0,-1/0]);return[Math.min(d[0],a[0]),Math.max(d[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},GI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,KI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,p1=function(e,r,n){if(Qe(e))return e(r,n);if(!Array.isArray(e))return r;var a=[];if(Ee(e[0]))a[0]=n?e[0]:Math.min(e[0],r[0]);else if(GI.test(e[0])){var i=+GI.exec(e[0])[1];a[0]=r[0]-i}else Qe(e[0])?a[0]=e[0](r[0]):a[0]=r[0];if(Ee(e[1]))a[1]=n?e[1]:Math.max(e[1],r[1]);else if(KI.test(e[1])){var l=+KI.exec(e[1])[1];a[1]=r[1]+l}else Qe(e[1])?a[1]=e[1](r[1]):a[1]=r[1];return a},Rm=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&r&&r.length>=2){for(var i=jj(r,function(m){return m.coordinate}),l=1/0,c=1,d=i.length;c<d;c++){var h=i[c],p=i[c-1];l=Math.min((h.coordinate||0)-(p.coordinate||0),l)}return l===1/0?0:l}return n?void 0:0},YI=function(e,r,n){return!e||!e.length||J0(e,Zn(n,"type.defaultProps.domain"))?r:e},Z6=function(e,r){var n=e.type.defaultProps?ar(ar({},e.type.defaultProps),e.props):e.props,a=n.dataKey,i=n.name,l=n.unit,c=n.formatter,d=n.tooltipType,h=n.chartType,p=n.hide;return ar(ar({},Ye(e,!1)),{},{dataKey:a,unit:l,formatter:c,name:i||a,color:Qj(e),value:nn(r,a),type:d,payload:r,chartType:h,hide:p})};function sh(t){"@babel/helpers - typeof";return sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sh(t)}function XI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ui(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XI(Object(r),!0).forEach(function(n){eL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eL(t,e,r){return e=oZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oZ(t){var e=lZ(t,"string");return sh(e)=="symbol"?e:e+""}function lZ(t,e){if(sh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cZ(t,e){return fZ(t)||hZ(t,e)||dZ(t,e)||uZ()}function uZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dZ(t,e){if(t){if(typeof t=="string")return QI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QI(t,e)}}function QI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hZ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,l,c=[],d=!0,h=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return c}}function fZ(t){if(Array.isArray(t))return t}var Dm=Math.PI/180,pZ=function(e){return e*180/Math.PI},Rt=function(e,r,n,a){return{x:e+Math.cos(-Dm*a)*n,y:r+Math.sin(-Dm*a)*n}},tL=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},mZ=function(e,r,n,a,i){var l=e.width,c=e.height,d=e.startAngle,h=e.endAngle,p=vn(e.cx,l,l/2),m=vn(e.cy,c,c/2),y=tL(l,c,n),x=vn(e.innerRadius,y,0),k=vn(e.outerRadius,y,y*.8),w=Object.keys(r);return w.reduce(function(b,N){var E=r[N],P=E.domain,R=E.reversed,j;if(at(E.range))a==="angleAxis"?j=[d,h]:a==="radiusAxis"&&(j=[x,k]),R&&(j=[j[1],j[0]]);else{j=E.range;var C=j,A=cZ(C,2);d=A[0],h=A[1]}var I=Y6(E,i),L=I.realScaleType,O=I.scale;O.domain(P).range(j),X6(O);var D=Q6(O,Ui(Ui({},E),{},{realScaleType:L})),F=Ui(Ui(Ui({},E),D),{},{range:j,radius:k,realScaleType:L,scale:O,cx:p,cy:m,innerRadius:x,outerRadius:k,startAngle:d,endAngle:h});return Ui(Ui({},b),{},eL({},N,F))},{})},gZ=function(e,r){var n=e.x,a=e.y,i=r.x,l=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-l,2))},vZ=function(e,r){var n=e.x,a=e.y,i=r.cx,l=r.cy,c=gZ({x:n,y:a},{x:i,y:l});if(c<=0)return{radius:c};var d=(n-i)/c,h=Math.acos(d);return a>l&&(h=2*Math.PI-h),{radius:c,angle:pZ(h),angleInRadian:h}},yZ=function(e){var r=e.startAngle,n=e.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),l=Math.min(a,i);return{startAngle:r-l*360,endAngle:n-l*360}},xZ=function(e,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),l=Math.floor(a/360),c=Math.min(i,l);return e+c*360},JI=function(e,r){var n=e.x,a=e.y,i=vZ({x:n,y:a},r),l=i.radius,c=i.angle,d=r.innerRadius,h=r.outerRadius;if(l<d||l>h)return!1;if(l===0)return!0;var p=yZ(r),m=p.startAngle,y=p.endAngle,x=c,k;if(m<=y){for(;x>y;)x-=360;for(;x<m;)x+=360;k=x>=m&&x<=y}else{for(;x>m;)x-=360;for(;x<y;)x+=360;k=x>=y&&x<=m}return k?Ui(Ui({},r),{},{radius:l,angle:xZ(x,r)}):null},rL=function(e){return!B.isValidElement(e)&&!Qe(e)&&typeof e!="boolean"?e.className:""};function oh(t){"@babel/helpers - typeof";return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oh(t)}var bZ=["offset"];function wZ(t){return NZ(t)||jZ(t)||kZ(t)||_Z()}function _Z(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kZ(t,e){if(t){if(typeof t=="string")return m1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m1(t,e)}}function jZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function NZ(t){if(Array.isArray(t))return m1(t)}function m1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function SZ(t,e){if(t==null)return{};var r=TZ(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function TZ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ZI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function jr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZI(Object(r),!0).forEach(function(n){EZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function EZ(t,e,r){return e=AZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AZ(t){var e=CZ(t,"string");return oh(e)=="symbol"?e:e+""}function CZ(t,e){if(oh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(oh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lh(){return lh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lh.apply(this,arguments)}var PZ=function(e){var r=e.value,n=e.formatter,a=at(e.children)?r:e.children;return Qe(n)?n(a):a},IZ=function(e,r){var n=gn(r-e),a=Math.min(Math.abs(r-e),360);return n*a},OZ=function(e,r,n){var a=e.position,i=e.viewBox,l=e.offset,c=e.className,d=i,h=d.cx,p=d.cy,m=d.innerRadius,y=d.outerRadius,x=d.startAngle,k=d.endAngle,w=d.clockWise,b=(m+y)/2,N=IZ(x,k),E=N>=0?1:-1,P,R;a==="insideStart"?(P=x+E*l,R=w):a==="insideEnd"?(P=k-E*l,R=!w):a==="end"&&(P=k+E*l,R=w),R=N<=0?R:!R;var j=Rt(h,p,b,P),C=Rt(h,p,b,P+(R?1:-1)*359),A="M".concat(j.x,",").concat(j.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(R?0:1,`,
    `).concat(C.x,",").concat(C.y),I=at(e.id)?Wh("recharts-radial-line-"):e.id;return K.createElement("text",lh({},n,{dominantBaseline:"central",className:tt("recharts-radial-bar-label",c)}),K.createElement("defs",null,K.createElement("path",{id:I,d:A})),K.createElement("textPath",{xlinkHref:"#".concat(I)},r))},RZ=function(e){var r=e.viewBox,n=e.offset,a=e.position,i=r,l=i.cx,c=i.cy,d=i.innerRadius,h=i.outerRadius,p=i.startAngle,m=i.endAngle,y=(p+m)/2;if(a==="outside"){var x=Rt(l,c,h+n,y),k=x.x,w=x.y;return{x:k,y:w,textAnchor:k>=l?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:l,y:c,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:l,y:c,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:l,y:c,textAnchor:"middle",verticalAnchor:"end"};var b=(d+h)/2,N=Rt(l,c,b,y),E=N.x,P=N.y;return{x:E,y:P,textAnchor:"middle",verticalAnchor:"middle"}},DZ=function(e){var r=e.viewBox,n=e.parentViewBox,a=e.offset,i=e.position,l=r,c=l.x,d=l.y,h=l.width,p=l.height,m=p>=0?1:-1,y=m*a,x=m>0?"end":"start",k=m>0?"start":"end",w=h>=0?1:-1,b=w*a,N=w>0?"end":"start",E=w>0?"start":"end";if(i==="top"){var P={x:c+h/2,y:d-m*a,textAnchor:"middle",verticalAnchor:x};return jr(jr({},P),n?{height:Math.max(d-n.y,0),width:h}:{})}if(i==="bottom"){var R={x:c+h/2,y:d+p+y,textAnchor:"middle",verticalAnchor:k};return jr(jr({},R),n?{height:Math.max(n.y+n.height-(d+p),0),width:h}:{})}if(i==="left"){var j={x:c-b,y:d+p/2,textAnchor:N,verticalAnchor:"middle"};return jr(jr({},j),n?{width:Math.max(j.x-n.x,0),height:p}:{})}if(i==="right"){var C={x:c+h+b,y:d+p/2,textAnchor:E,verticalAnchor:"middle"};return jr(jr({},C),n?{width:Math.max(n.x+n.width-C.x,0),height:p}:{})}var A=n?{width:h,height:p}:{};return i==="insideLeft"?jr({x:c+b,y:d+p/2,textAnchor:E,verticalAnchor:"middle"},A):i==="insideRight"?jr({x:c+h-b,y:d+p/2,textAnchor:N,verticalAnchor:"middle"},A):i==="insideTop"?jr({x:c+h/2,y:d+y,textAnchor:"middle",verticalAnchor:k},A):i==="insideBottom"?jr({x:c+h/2,y:d+p-y,textAnchor:"middle",verticalAnchor:x},A):i==="insideTopLeft"?jr({x:c+b,y:d+y,textAnchor:E,verticalAnchor:k},A):i==="insideTopRight"?jr({x:c+h-b,y:d+y,textAnchor:N,verticalAnchor:k},A):i==="insideBottomLeft"?jr({x:c+b,y:d+p-y,textAnchor:E,verticalAnchor:x},A):i==="insideBottomRight"?jr({x:c+h-b,y:d+p-y,textAnchor:N,verticalAnchor:x},A):du(i)&&(Ee(i.x)||Jo(i.x))&&(Ee(i.y)||Jo(i.y))?jr({x:c+vn(i.x,h),y:d+vn(i.y,p),textAnchor:"end",verticalAnchor:"end"},A):jr({x:c+h/2,y:d+p/2,textAnchor:"middle",verticalAnchor:"middle"},A)},MZ=function(e){return"cx"in e&&Ee(e.cx)};function Rr(t){var e=t.offset,r=e===void 0?5:e,n=SZ(t,bZ),a=jr({offset:r},n),i=a.viewBox,l=a.position,c=a.value,d=a.children,h=a.content,p=a.className,m=p===void 0?"":p,y=a.textBreakAll;if(!i||at(c)&&at(d)&&!B.isValidElement(h)&&!Qe(h))return null;if(B.isValidElement(h))return B.cloneElement(h,a);var x;if(Qe(h)){if(x=B.createElement(h,a),B.isValidElement(x))return x}else x=PZ(a);var k=MZ(i),w=Ye(a,!0);if(k&&(l==="insideStart"||l==="insideEnd"||l==="end"))return OZ(a,x,w);var b=k?RZ(a):DZ(a);return K.createElement(ml,lh({className:tt("recharts-label",m)},w,b,{breakAll:y}),x)}Rr.displayName="Label";var nL=function(e){var r=e.cx,n=e.cy,a=e.angle,i=e.startAngle,l=e.endAngle,c=e.r,d=e.radius,h=e.innerRadius,p=e.outerRadius,m=e.x,y=e.y,x=e.top,k=e.left,w=e.width,b=e.height,N=e.clockWise,E=e.labelViewBox;if(E)return E;if(Ee(w)&&Ee(b)){if(Ee(m)&&Ee(y))return{x:m,y,width:w,height:b};if(Ee(x)&&Ee(k))return{x,y:k,width:w,height:b}}return Ee(m)&&Ee(y)?{x:m,y,width:0,height:0}:Ee(r)&&Ee(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:l||a||0,innerRadius:h||0,outerRadius:p||d||c||0,clockWise:N}:e.viewBox?e.viewBox:{}},LZ=function(e,r){return e?e===!0?K.createElement(Rr,{key:"label-implicit",viewBox:r}):Nr(e)?K.createElement(Rr,{key:"label-implicit",viewBox:r,value:e}):B.isValidElement(e)?e.type===Rr?B.cloneElement(e,{key:"label-implicit",viewBox:r}):K.createElement(Rr,{key:"label-implicit",content:e,viewBox:r}):Qe(e)?K.createElement(Rr,{key:"label-implicit",content:e,viewBox:r}):du(e)?K.createElement(Rr,lh({viewBox:r},e,{key:"label-implicit"})):null:null},$Z=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,i=nL(e),l=_a(a,Rr).map(function(d,h){return B.cloneElement(d,{viewBox:r||i,key:"label-".concat(h)})});if(!n)return l;var c=LZ(e.label,r||i);return[c].concat(wZ(l))};Rr.parseViewBox=nL;Rr.renderCallByParent=$Z;var Ew,eO;function FZ(){if(eO)return Ew;eO=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return Ew=t,Ew}var VZ=FZ();const BZ=xt(VZ);function ch(t){"@babel/helpers - typeof";return ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ch(t)}var UZ=["valueAccessor"],qZ=["data","dataKey","clockWise","id","textBreakAll"];function zZ(t){return KZ(t)||GZ(t)||HZ(t)||WZ()}function WZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HZ(t,e){if(t){if(typeof t=="string")return g1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g1(t,e)}}function GZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function KZ(t){if(Array.isArray(t))return g1(t)}function g1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Mm(){return Mm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mm.apply(this,arguments)}function tO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function rO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tO(Object(r),!0).forEach(function(n){YZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YZ(t,e,r){return e=XZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XZ(t){var e=QZ(t,"string");return ch(e)=="symbol"?e:e+""}function QZ(t,e){if(ch(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ch(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nO(t,e){if(t==null)return{};var r=JZ(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function JZ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var ZZ=function(e){return Array.isArray(e.value)?BZ(e.value):e.value};function no(t){var e=t.valueAccessor,r=e===void 0?ZZ:e,n=nO(t,UZ),a=n.data,i=n.dataKey,l=n.clockWise,c=n.id,d=n.textBreakAll,h=nO(n,qZ);return!a||!a.length?null:K.createElement(wt,{className:"recharts-label-list"},a.map(function(p,m){var y=at(i)?r(p,m):nn(p&&p.payload,i),x=at(c)?{}:{id:"".concat(c,"-").concat(m)};return K.createElement(Rr,Mm({},Ye(p,!0),h,x,{parentViewBox:p.parentViewBox,value:y,textBreakAll:d,viewBox:Rr.parseViewBox(at(l)?p:rO(rO({},p),{},{clockWise:l})),key:"label-".concat(m),index:m}))}))}no.displayName="LabelList";function eee(t,e){return t?t===!0?K.createElement(no,{key:"labelList-implicit",data:e}):K.isValidElement(t)||Qe(t)?K.createElement(no,{key:"labelList-implicit",data:e,content:t}):du(t)?K.createElement(no,Mm({data:e},t,{key:"labelList-implicit"})):null:null}function tee(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,a=_a(n,no).map(function(l,c){return B.cloneElement(l,{data:e,key:"labelList-".concat(c)})});if(!r)return a;var i=eee(t.label,e);return[i].concat(zZ(a))}no.renderCallByParent=tee;function uh(t){"@babel/helpers - typeof";return uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uh(t)}function v1(){return v1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},v1.apply(this,arguments)}function aO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function iO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aO(Object(r),!0).forEach(function(n){ree(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ree(t,e,r){return e=nee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nee(t){var e=aee(t,"string");return uh(e)=="symbol"?e:e+""}function aee(t,e){if(uh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iee=function(e,r){var n=gn(r-e),a=Math.min(Math.abs(r-e),359.999);return n*a},Ap=function(e){var r=e.cx,n=e.cy,a=e.radius,i=e.angle,l=e.sign,c=e.isExternal,d=e.cornerRadius,h=e.cornerIsExternal,p=d*(c?1:-1)+a,m=Math.asin(d/p)/Dm,y=h?i:i+l*m,x=Rt(r,n,p,y),k=Rt(r,n,a,y),w=h?i-l*m:i,b=Rt(r,n,p*Math.cos(m*Dm),w);return{center:x,circleTangency:k,lineTangency:b,theta:m}},aL=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,l=e.startAngle,c=e.endAngle,d=iee(l,c),h=l+d,p=Rt(r,n,i,l),m=Rt(r,n,i,h),y="M ".concat(p.x,",").concat(p.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(l>h),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(a>0){var x=Rt(r,n,a,l),k=Rt(r,n,a,h);y+="L ".concat(k.x,",").concat(k.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(l<=h),`,
            `).concat(x.x,",").concat(x.y," Z")}else y+="L ".concat(r,",").concat(n," Z");return y},see=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,l=e.cornerRadius,c=e.forceCornerRadius,d=e.cornerIsExternal,h=e.startAngle,p=e.endAngle,m=gn(p-h),y=Ap({cx:r,cy:n,radius:i,angle:h,sign:m,cornerRadius:l,cornerIsExternal:d}),x=y.circleTangency,k=y.lineTangency,w=y.theta,b=Ap({cx:r,cy:n,radius:i,angle:p,sign:-m,cornerRadius:l,cornerIsExternal:d}),N=b.circleTangency,E=b.lineTangency,P=b.theta,R=d?Math.abs(h-p):Math.abs(h-p)-w-P;if(R<0)return c?"M ".concat(k.x,",").concat(k.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):aL({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:h,endAngle:p});var j="M ".concat(k.x,",").concat(k.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(R>180),",").concat(+(m<0),",").concat(N.x,",").concat(N.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(E.x,",").concat(E.y,`
  `);if(a>0){var C=Ap({cx:r,cy:n,radius:a,angle:h,sign:m,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),A=C.circleTangency,I=C.lineTangency,L=C.theta,O=Ap({cx:r,cy:n,radius:a,angle:p,sign:-m,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),D=O.circleTangency,F=O.lineTangency,$=O.theta,ae=d?Math.abs(h-p):Math.abs(h-p)-L-$;if(ae<0&&l===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(F.x,",").concat(F.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(ae>180),",").concat(+(m>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(I.x,",").concat(I.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},oee={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Jj=function(e){var r=iO(iO({},oee),e),n=r.cx,a=r.cy,i=r.innerRadius,l=r.outerRadius,c=r.cornerRadius,d=r.forceCornerRadius,h=r.cornerIsExternal,p=r.startAngle,m=r.endAngle,y=r.className;if(l<i||p===m)return null;var x=tt("recharts-sector",y),k=l-i,w=vn(c,k,0,!0),b;return w>0&&Math.abs(p-m)<360?b=see({cx:n,cy:a,innerRadius:i,outerRadius:l,cornerRadius:Math.min(w,k/2),forceCornerRadius:d,cornerIsExternal:h,startAngle:p,endAngle:m}):b=aL({cx:n,cy:a,innerRadius:i,outerRadius:l,startAngle:p,endAngle:m}),K.createElement("path",v1({},Ye(r,!0),{className:x,d:b,role:"img"}))};function dh(t){"@babel/helpers - typeof";return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dh(t)}function y1(){return y1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},y1.apply(this,arguments)}function sO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function oO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sO(Object(r),!0).forEach(function(n){lee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lee(t,e,r){return e=cee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cee(t){var e=uee(t,"string");return dh(e)=="symbol"?e:e+""}function uee(t,e){if(dh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lO={curveBasisClosed:CW,curveBasisOpen:PW,curveBasis:AW,curveBumpX:mW,curveBumpY:gW,curveLinearClosed:IW,curveLinear:L0,curveMonotoneX:OW,curveMonotoneY:RW,curveNatural:DW,curveStep:MW,curveStepAfter:$W,curveStepBefore:LW},Cp=function(e){return e.x===+e.x&&e.y===+e.y},ad=function(e){return e.x},id=function(e){return e.y},dee=function(e,r){if(Qe(e))return e;var n="curve".concat(D0(e));return(n==="curveMonotone"||n==="curveBump")&&r?lO["".concat(n).concat(r==="vertical"?"Y":"X")]:lO[n]||L0},hee=function(e){var r=e.type,n=r===void 0?"linear":r,a=e.points,i=a===void 0?[]:a,l=e.baseLine,c=e.layout,d=e.connectNulls,h=d===void 0?!1:d,p=dee(n,c),m=h?i.filter(function(w){return Cp(w)}):i,y;if(Array.isArray(l)){var x=h?l.filter(function(w){return Cp(w)}):l,k=m.map(function(w,b){return oO(oO({},w),{},{base:x[b]})});return c==="vertical"?y=wp().y(id).x1(ad).x0(function(w){return w.base.x}):y=wp().x(ad).y1(id).y0(function(w){return w.base.y}),y.defined(Cp).curve(p),y(k)}return c==="vertical"&&Ee(l)?y=wp().y(id).x1(ad).x0(l):Ee(l)?y=wp().x(ad).y1(id).y0(l):y=n3().x(ad).y(id),y.defined(Cp).curve(p),y(m)},x1=function(e){var r=e.className,n=e.points,a=e.path,i=e.pathRef;if((!n||!n.length)&&!a)return null;var l=n&&n.length?hee(e):a;return B.createElement("path",y1({},Ye(e,!1),um(e),{className:tt("recharts-curve",r),d:l,ref:i}))},Aw={exports:{}},Cw,cO;function fee(){if(cO)return Cw;cO=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Cw=t,Cw}var Pw,uO;function pee(){if(uO)return Pw;uO=1;var t=fee();function e(){}function r(){}return r.resetWarningCache=e,Pw=function(){function n(l,c,d,h,p,m){if(m!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}n.isRequired=n;function a(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:e};return i.PropTypes=i,i},Pw}var dO;function mee(){return dO||(dO=1,Aw.exports=pee()()),Aw.exports}var gee=mee();const yt=xt(gee);var vee=Object.getOwnPropertyNames,yee=Object.getOwnPropertySymbols,xee=Object.prototype.hasOwnProperty;function hO(t,e){return function(n,a,i){return t(n,a,i)&&e(n,a,i)}}function Pp(t){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,a);var i=a.cache,l=i.get(r),c=i.get(n);if(l&&c)return l===n&&c===r;i.set(r,n),i.set(n,r);var d=t(r,n,a);return i.delete(r),i.delete(n),d}}function fO(t){return vee(t).concat(yee(t))}var bee=Object.hasOwn||function(t,e){return xee.call(t,e)};function Tl(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var wee="__v",_ee="__o",kee="_owner",pO=Object.getOwnPropertyDescriptor,mO=Object.keys;function jee(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function Nee(t,e){return Tl(t.getTime(),e.getTime())}function See(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Tee(t,e){return t===e}function gO(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),i=t.entries(),l,c,d=0;(l=i.next())&&!l.done;){for(var h=e.entries(),p=!1,m=0;(c=h.next())&&!c.done;){if(a[m]){m++;continue}var y=l.value,x=c.value;if(r.equals(y[0],x[0],d,m,t,e,r)&&r.equals(y[1],x[1],y[0],x[0],t,e,r)){p=a[m]=!0;break}m++}if(!p)return!1;d++}return!0}var Eee=Tl;function Aee(t,e,r){var n=mO(t),a=n.length;if(mO(e).length!==a)return!1;for(;a-- >0;)if(!iL(t,e,r,n[a]))return!1;return!0}function sd(t,e,r){var n=fO(t),a=n.length;if(fO(e).length!==a)return!1;for(var i,l,c;a-- >0;)if(i=n[a],!iL(t,e,r,i)||(l=pO(t,i),c=pO(e,i),(l||c)&&(!l||!c||l.configurable!==c.configurable||l.enumerable!==c.enumerable||l.writable!==c.writable)))return!1;return!0}function Cee(t,e){return Tl(t.valueOf(),e.valueOf())}function Pee(t,e){return t.source===e.source&&t.flags===e.flags}function vO(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),i=t.values(),l,c;(l=i.next())&&!l.done;){for(var d=e.values(),h=!1,p=0;(c=d.next())&&!c.done;){if(!a[p]&&r.equals(l.value,c.value,l.value,c.value,t,e,r)){h=a[p]=!0;break}p++}if(!h)return!1}return!0}function Iee(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function Oee(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function iL(t,e,r,n){return(n===kee||n===_ee||n===wee)&&(t.$$typeof||e.$$typeof)?!0:bee(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var Ree="[object Arguments]",Dee="[object Boolean]",Mee="[object Date]",Lee="[object Error]",$ee="[object Map]",Fee="[object Number]",Vee="[object Object]",Bee="[object RegExp]",Uee="[object Set]",qee="[object String]",zee="[object URL]",Wee=Array.isArray,yO=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,xO=Object.assign,Hee=Object.prototype.toString.call.bind(Object.prototype.toString);function Gee(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,a=t.areFunctionsEqual,i=t.areMapsEqual,l=t.areNumbersEqual,c=t.areObjectsEqual,d=t.arePrimitiveWrappersEqual,h=t.areRegExpsEqual,p=t.areSetsEqual,m=t.areTypedArraysEqual,y=t.areUrlsEqual;return function(k,w,b){if(k===w)return!0;if(k==null||w==null)return!1;var N=typeof k;if(N!==typeof w)return!1;if(N!=="object")return N==="number"?l(k,w,b):N==="function"?a(k,w,b):!1;var E=k.constructor;if(E!==w.constructor)return!1;if(E===Object)return c(k,w,b);if(Wee(k))return e(k,w,b);if(yO!=null&&yO(k))return m(k,w,b);if(E===Date)return r(k,w,b);if(E===RegExp)return h(k,w,b);if(E===Map)return i(k,w,b);if(E===Set)return p(k,w,b);var P=Hee(k);return P===Mee?r(k,w,b):P===Bee?h(k,w,b):P===$ee?i(k,w,b):P===Uee?p(k,w,b):P===Vee?typeof k.then!="function"&&typeof w.then!="function"&&c(k,w,b):P===zee?y(k,w,b):P===Lee?n(k,w,b):P===Ree?c(k,w,b):P===Dee||P===Fee||P===qee?d(k,w,b):!1}}function Kee(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,a={areArraysEqual:n?sd:jee,areDatesEqual:Nee,areErrorsEqual:See,areFunctionsEqual:Tee,areMapsEqual:n?hO(gO,sd):gO,areNumbersEqual:Eee,areObjectsEqual:n?sd:Aee,arePrimitiveWrappersEqual:Cee,areRegExpsEqual:Pee,areSetsEqual:n?hO(vO,sd):vO,areTypedArraysEqual:n?sd:Iee,areUrlsEqual:Oee};if(r&&(a=xO({},a,r(a))),e){var i=Pp(a.areArraysEqual),l=Pp(a.areMapsEqual),c=Pp(a.areObjectsEqual),d=Pp(a.areSetsEqual);a=xO({},a,{areArraysEqual:i,areMapsEqual:l,areObjectsEqual:c,areSetsEqual:d})}return a}function Yee(t){return function(e,r,n,a,i,l,c){return t(e,r,c)}}function Xee(t){var e=t.circular,r=t.comparator,n=t.createState,a=t.equals,i=t.strict;if(n)return function(d,h){var p=n(),m=p.cache,y=m===void 0?e?new WeakMap:void 0:m,x=p.meta;return r(d,h,{cache:y,equals:a,meta:x,strict:i})};if(e)return function(d,h){return r(d,h,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var l={cache:void 0,equals:a,meta:void 0,strict:i};return function(d,h){return r(d,h,l)}}var Qee=go();go({strict:!0});go({circular:!0});go({circular:!0,strict:!0});go({createInternalComparator:function(){return Tl}});go({strict:!0,createInternalComparator:function(){return Tl}});go({circular:!0,createInternalComparator:function(){return Tl}});go({circular:!0,createInternalComparator:function(){return Tl},strict:!0});function go(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,a=t.createState,i=t.strict,l=i===void 0?!1:i,c=Kee(t),d=Gee(c),h=n?n(d):Yee(d);return Xee({circular:r,comparator:d,createState:a,equals:h,strict:l})}function Jee(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function bO(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>e?(t(i),r=-1):Jee(a)};requestAnimationFrame(n)}function b1(t){"@babel/helpers - typeof";return b1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b1(t)}function Zee(t){return nte(t)||rte(t)||tte(t)||ete()}function ete(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tte(t,e){if(t){if(typeof t=="string")return wO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wO(t,e)}}function wO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function rte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nte(t){if(Array.isArray(t))return t}function ate(){var t={},e=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var l=i,c=Zee(l),d=c[0],h=c.slice(1);if(typeof d=="number"){bO(a.bind(null,h),d);return}a(d),bO(a.bind(null,h));return}b1(i)==="object"&&(t=i,e(t)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return e=i,function(){e=function(){return null}}}}}function hh(t){"@babel/helpers - typeof";return hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hh(t)}function _O(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function kO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_O(Object(r),!0).forEach(function(n){sL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_O(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sL(t,e,r){return e=ite(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ite(t){var e=ste(t,"string");return hh(e)==="symbol"?e:String(e)}function ste(t,e){if(hh(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ote=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},lte=function(e){return e},cte=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Ed=function(e,r){return Object.keys(r).reduce(function(n,a){return kO(kO({},n),{},sL({},a,e(a,r[a])))},{})},jO=function(e,r,n){return e.map(function(a){return"".concat(cte(a)," ").concat(r,"ms ").concat(n)}).join(",")};function ute(t,e){return fte(t)||hte(t,e)||oL(t,e)||dte()}function dte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hte(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,l,c=[],d=!0,h=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return c}}function fte(t){if(Array.isArray(t))return t}function pte(t){return vte(t)||gte(t)||oL(t)||mte()}function mte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oL(t,e){if(t){if(typeof t=="string")return w1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w1(t,e)}}function gte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vte(t){if(Array.isArray(t))return w1(t)}function w1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Lm=1e-4,lL=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},cL=function(e,r){return e.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},NO=function(e,r){return function(n){var a=lL(e,r);return cL(a,n)}},yte=function(e,r){return function(n){var a=lL(e,r),i=[].concat(pte(a.map(function(l,c){return l*c}).slice(1)),[0]);return cL(i,n)}},SO=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0],i=r[1],l=r[2],c=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,l=1,c=1;break;case"ease":a=.25,i=.1,l=.25,c=1;break;case"ease-in":a=.42,i=0,l=1,c=1;break;case"ease-out":a=.42,i=0,l=.58,c=1;break;case"ease-in-out":a=0,i=0,l=.58,c=1;break;default:{var d=r[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var h=d[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),p=ute(h,4);a=p[0],i=p[1],l=p[2],c=p[3]}}}var m=NO(a,l),y=NO(i,c),x=yte(a,l),k=function(N){return N>1?1:N<0?0:N},w=function(N){for(var E=N>1?1:N,P=E,R=0;R<8;++R){var j=m(P)-E,C=x(P);if(Math.abs(j-E)<Lm||C<Lm)return y(P);P=k(P-j/C)}return y(P)};return w.isStepper=!1,w},xte=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,a=e.damping,i=a===void 0?8:a,l=e.dt,c=l===void 0?17:l,d=function(p,m,y){var x=-(p-m)*n,k=y*i,w=y+(x-k)*c/1e3,b=y*c/1e3+p;return Math.abs(b-m)<Lm&&Math.abs(w)<Lm?[m,0]:[b,w]};return d.isStepper=!0,d.dt=c,d},bte=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return SO(a);case"spring":return xte();default:if(a.split("(")[0]==="cubic-bezier")return SO(a)}return typeof a=="function"?a:null};function fh(t){"@babel/helpers - typeof";return fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fh(t)}function TO(t){return kte(t)||_te(t)||uL(t)||wte()}function wte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _te(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kte(t){if(Array.isArray(t))return k1(t)}function EO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ur(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EO(Object(r),!0).forEach(function(n){_1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _1(t,e,r){return e=jte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jte(t){var e=Nte(t,"string");return fh(e)==="symbol"?e:String(e)}function Nte(t,e){if(fh(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ste(t,e){return Ate(t)||Ete(t,e)||uL(t,e)||Tte()}function Tte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uL(t,e){if(t){if(typeof t=="string")return k1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k1(t,e)}}function k1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ete(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,l,c=[],d=!0,h=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return c}}function Ate(t){if(Array.isArray(t))return t}var $m=function(e,r,n){return e+(r-e)*n},j1=function(e){var r=e.from,n=e.to;return r!==n},Cte=function t(e,r,n){var a=Ed(function(i,l){if(j1(l)){var c=e(l.from,l.to,l.velocity),d=Ste(c,2),h=d[0],p=d[1];return Ur(Ur({},l),{},{from:h,velocity:p})}return l},r);return n<1?Ed(function(i,l){return j1(l)?Ur(Ur({},l),{},{velocity:$m(l.velocity,a[i].velocity,n),from:$m(l.from,a[i].from,n)}):l},r):t(e,a,n-1)};const Pte=function(t,e,r,n,a){var i=ote(t,e),l=i.reduce(function(b,N){return Ur(Ur({},b),{},_1({},N,[t[N],e[N]]))},{}),c=i.reduce(function(b,N){return Ur(Ur({},b),{},_1({},N,{from:t[N],velocity:0,to:e[N]}))},{}),d=-1,h,p,m=function(){return null},y=function(){return Ed(function(N,E){return E.from},c)},x=function(){return!Object.values(c).filter(j1).length},k=function(N){h||(h=N);var E=N-h,P=E/r.dt;c=Cte(r,c,P),a(Ur(Ur(Ur({},t),e),y())),h=N,x()||(d=requestAnimationFrame(m))},w=function(N){p||(p=N);var E=(N-p)/n,P=Ed(function(j,C){return $m.apply(void 0,TO(C).concat([r(E)]))},l);if(a(Ur(Ur(Ur({},t),e),P)),E<1)d=requestAnimationFrame(m);else{var R=Ed(function(j,C){return $m.apply(void 0,TO(C).concat([r(1)]))},l);a(Ur(Ur(Ur({},t),e),R))}};return m=r.isStepper?k:w,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(d)}}};function zc(t){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(t)}var Ite=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Ote(t,e){if(t==null)return{};var r=Rte(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Rte(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function Iw(t){return $te(t)||Lte(t)||Mte(t)||Dte()}function Dte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mte(t,e){if(t){if(typeof t=="string")return N1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N1(t,e)}}function Lte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $te(t){if(Array.isArray(t))return N1(t)}function N1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function AO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function La(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AO(Object(r),!0).forEach(function(n){gd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gd(t,e,r){return e=dL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vte(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dL(n.key),n)}}function Bte(t,e,r){return e&&Vte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dL(t){var e=Ute(t,"string");return zc(e)==="symbol"?e:String(e)}function Ute(t,e){if(zc(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S1(t,e)}function S1(t,e){return S1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},S1(t,e)}function zte(t){var e=Wte();return function(){var n=Fm(t),a;if(e){var i=Fm(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return T1(this,a)}}function T1(t,e){if(e&&(zc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E1(t)}function E1(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wte(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Fm(t){return Fm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fm(t)}var os=function(t){qte(r,t);var e=zte(r);function r(n,a){var i;Fte(this,r),i=e.call(this,n,a);var l=i.props,c=l.isActive,d=l.attributeName,h=l.from,p=l.to,m=l.steps,y=l.children,x=l.duration;if(i.handleStyleChange=i.handleStyleChange.bind(E1(i)),i.changeStyle=i.changeStyle.bind(E1(i)),!c||x<=0)return i.state={style:{}},typeof y=="function"&&(i.state={style:p}),T1(i);if(m&&m.length)i.state={style:m[0].style};else if(h){if(typeof y=="function")return i.state={style:h},T1(i);i.state={style:d?gd({},d,h):h}}else i.state={style:{}};return i}return Bte(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,l=a.canBegin;this.mounted=!0,!(!i||!l)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,l=i.isActive,c=i.canBegin,d=i.attributeName,h=i.shouldReAnimate,p=i.to,m=i.from,y=this.state.style;if(c){if(!l){var x={style:d?gd({},d,p):p};this.state&&y&&(d&&y[d]!==p||!d&&y!==p)&&this.setState(x);return}if(!(Qee(a.to,p)&&a.canBegin&&a.isActive)){var k=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=k||h?m:a.to;if(this.state&&y){var b={style:d?gd({},d,w):w};(d&&y[d]!==w||!d&&y!==w)&&this.setState(b)}this.runAnimation(La(La({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,l=a.from,c=a.to,d=a.duration,h=a.easing,p=a.begin,m=a.onAnimationEnd,y=a.onAnimationStart,x=Pte(l,c,bte(h),d,this.changeStyle),k=function(){i.stopJSAnimation=x()};this.manager.start([y,p,k,d,m])}},{key:"runStepAnimation",value:function(a){var i=this,l=a.steps,c=a.begin,d=a.onAnimationStart,h=l[0],p=h.style,m=h.duration,y=m===void 0?0:m,x=function(w,b,N){if(N===0)return w;var E=b.duration,P=b.easing,R=P===void 0?"ease":P,j=b.style,C=b.properties,A=b.onAnimationEnd,I=N>0?l[N-1]:b,L=C||Object.keys(j);if(typeof R=="function"||R==="spring")return[].concat(Iw(w),[i.runJSAnimation.bind(i,{from:I.style,to:j,duration:E,easing:R}),E]);var O=jO(L,E,R),D=La(La(La({},I.style),j),{},{transition:O});return[].concat(Iw(w),[D,E,A]).filter(lte)};return this.manager.start([d].concat(Iw(l.reduce(x,[p,Math.max(y,c)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=ate());var i=a.begin,l=a.duration,c=a.attributeName,d=a.to,h=a.easing,p=a.onAnimationStart,m=a.onAnimationEnd,y=a.steps,x=a.children,k=this.manager;if(this.unSubscribe=k.subscribe(this.handleStyleChange),typeof h=="function"||typeof x=="function"||h==="spring"){this.runJSAnimation(a);return}if(y.length>1){this.runStepAnimation(a);return}var w=c?gd({},c,d):d,b=jO(Object.keys(w),l,h);k.start([p,i,La(La({},w),{},{transition:b}),l,m])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var l=a.duration;a.attributeName,a.easing;var c=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var d=Ote(a,Ite),h=B.Children.count(i),p=this.state.style;if(typeof i=="function")return i(p);if(!c||h===0||l<=0)return i;var m=function(x){var k=x.props,w=k.style,b=w===void 0?{}:w,N=k.className,E=B.cloneElement(x,La(La({},d),{},{style:La(La({},b),p),className:N}));return E};return h===1?m(B.Children.only(i)):K.createElement("div",null,B.Children.map(i,function(y){return m(y)}))}}]),r}(B.PureComponent);os.displayName="Animate";os.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};os.propTypes={from:yt.oneOfType([yt.object,yt.string]),to:yt.oneOfType([yt.object,yt.string]),attributeName:yt.string,duration:yt.number,begin:yt.number,easing:yt.oneOfType([yt.string,yt.func]),steps:yt.arrayOf(yt.shape({duration:yt.number.isRequired,style:yt.object.isRequired,easing:yt.oneOfType([yt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),yt.func]),properties:yt.arrayOf("string"),onAnimationEnd:yt.func})),children:yt.oneOfType([yt.node,yt.func]),isActive:yt.bool,canBegin:yt.bool,onAnimationEnd:yt.func,shouldReAnimate:yt.bool,onAnimationStart:yt.func,onAnimationReStart:yt.func};function ph(t){"@babel/helpers - typeof";return ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ph(t)}function Vm(){return Vm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vm.apply(this,arguments)}function Hte(t,e){return Xte(t)||Yte(t,e)||Kte(t,e)||Gte()}function Gte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kte(t,e){if(t){if(typeof t=="string")return CO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CO(t,e)}}function CO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Yte(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,l,c=[],d=!0,h=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return c}}function Xte(t){if(Array.isArray(t))return t}function PO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function IO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PO(Object(r),!0).forEach(function(n){Qte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qte(t,e,r){return e=Jte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jte(t){var e=Zte(t,"string");return ph(e)=="symbol"?e:e+""}function Zte(t,e){if(ph(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ph(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OO=function(e,r,n,a,i){var l=Math.min(Math.abs(n)/2,Math.abs(a)/2),c=a>=0?1:-1,d=n>=0?1:-1,h=a>=0&&n>=0||a<0&&n<0?1:0,p;if(l>0&&i instanceof Array){for(var m=[0,0,0,0],y=0,x=4;y<x;y++)m[y]=i[y]>l?l:i[y];p="M".concat(e,",").concat(r+c*m[0]),m[0]>0&&(p+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(h,",").concat(e+d*m[0],",").concat(r)),p+="L ".concat(e+n-d*m[1],",").concat(r),m[1]>0&&(p+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(h,`,
        `).concat(e+n,",").concat(r+c*m[1])),p+="L ".concat(e+n,",").concat(r+a-c*m[2]),m[2]>0&&(p+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(h,`,
        `).concat(e+n-d*m[2],",").concat(r+a)),p+="L ".concat(e+d*m[3],",").concat(r+a),m[3]>0&&(p+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(h,`,
        `).concat(e,",").concat(r+a-c*m[3])),p+="Z"}else if(l>0&&i===+i&&i>0){var k=Math.min(l,i);p="M ".concat(e,",").concat(r+c*k,`
            A `).concat(k,",").concat(k,",0,0,").concat(h,",").concat(e+d*k,",").concat(r,`
            L `).concat(e+n-d*k,",").concat(r,`
            A `).concat(k,",").concat(k,",0,0,").concat(h,",").concat(e+n,",").concat(r+c*k,`
            L `).concat(e+n,",").concat(r+a-c*k,`
            A `).concat(k,",").concat(k,",0,0,").concat(h,",").concat(e+n-d*k,",").concat(r+a,`
            L `).concat(e+d*k,",").concat(r+a,`
            A `).concat(k,",").concat(k,",0,0,").concat(h,",").concat(e,",").concat(r+a-c*k," Z")}else p="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return p},ere=function(e,r){if(!e||!r)return!1;var n=e.x,a=e.y,i=r.x,l=r.y,c=r.width,d=r.height;if(Math.abs(c)>0&&Math.abs(d)>0){var h=Math.min(i,i+c),p=Math.max(i,i+c),m=Math.min(l,l+d),y=Math.max(l,l+d);return n>=h&&n<=p&&a>=m&&a<=y}return!1},tre={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Zj=function(e){var r=IO(IO({},tre),e),n=B.useRef(),a=B.useState(-1),i=Hte(a,2),l=i[0],c=i[1];B.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var R=n.current.getTotalLength();R&&c(R)}catch{}},[]);var d=r.x,h=r.y,p=r.width,m=r.height,y=r.radius,x=r.className,k=r.animationEasing,w=r.animationDuration,b=r.animationBegin,N=r.isAnimationActive,E=r.isUpdateAnimationActive;if(d!==+d||h!==+h||p!==+p||m!==+m||p===0||m===0)return null;var P=tt("recharts-rectangle",x);return E?K.createElement(os,{canBegin:l>0,from:{width:p,height:m,x:d,y:h},to:{width:p,height:m,x:d,y:h},duration:w,animationEasing:k,isActive:E},function(R){var j=R.width,C=R.height,A=R.x,I=R.y;return K.createElement(os,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:w,isActive:N,easing:k},K.createElement("path",Vm({},Ye(r,!0),{className:P,d:OO(A,I,j,C,y),ref:n})))}):K.createElement("path",Vm({},Ye(r,!0),{className:P,d:OO(d,h,p,m,y)}))},rre=["points","className","baseLinePoints","connectNulls"];function mc(){return mc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mc.apply(this,arguments)}function nre(t,e){if(t==null)return{};var r=are(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function are(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function RO(t){return lre(t)||ore(t)||sre(t)||ire()}function ire(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sre(t,e){if(t){if(typeof t=="string")return A1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A1(t,e)}}function ore(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lre(t){if(Array.isArray(t))return A1(t)}function A1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var DO=function(e){return e&&e.x===+e.x&&e.y===+e.y},cre=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){DO(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),DO(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Ad=function(e,r){var n=cre(e);r&&(n=[n.reduce(function(i,l){return[].concat(RO(i),RO(l))},[])]);var a=n.map(function(i){return i.reduce(function(l,c,d){return"".concat(l).concat(d===0?"M":"L").concat(c.x,",").concat(c.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},ure=function(e,r,n){var a=Ad(e,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Ad(r.reverse(),n).slice(1))},dre=function(e){var r=e.points,n=e.className,a=e.baseLinePoints,i=e.connectNulls,l=nre(e,rre);if(!r||!r.length)return null;var c=tt("recharts-polygon",n);if(a&&a.length){var d=l.stroke&&l.stroke!=="none",h=ure(r,a,i);return K.createElement("g",{className:c},K.createElement("path",mc({},Ye(l,!0),{fill:h.slice(-1)==="Z"?l.fill:"none",stroke:"none",d:h})),d?K.createElement("path",mc({},Ye(l,!0),{fill:"none",d:Ad(r,i)})):null,d?K.createElement("path",mc({},Ye(l,!0),{fill:"none",d:Ad(a,i)})):null)}var p=Ad(r,i);return K.createElement("path",mc({},Ye(l,!0),{fill:p.slice(-1)==="Z"?l.fill:"none",className:c,d:p}))};function C1(){return C1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},C1.apply(this,arguments)}var eN=function(e){var r=e.cx,n=e.cy,a=e.r,i=e.className,l=tt("recharts-dot",i);return r===+r&&n===+n&&a===+a?B.createElement("circle",C1({},Ye(e,!1),um(e),{className:l,cx:r,cy:n,r:a})):null};function mh(t){"@babel/helpers - typeof";return mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mh(t)}var hre=["x","y","top","left","width","height","className"];function P1(){return P1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},P1.apply(this,arguments)}function MO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function fre(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MO(Object(r),!0).forEach(function(n){pre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pre(t,e,r){return e=mre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mre(t){var e=gre(t,"string");return mh(e)=="symbol"?e:e+""}function gre(t,e){if(mh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vre(t,e){if(t==null)return{};var r=yre(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yre(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var xre=function(e,r,n,a,i,l){return"M".concat(e,",").concat(i,"v").concat(a,"M").concat(l,",").concat(r,"h").concat(n)},bre=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,i=a===void 0?0:a,l=e.top,c=l===void 0?0:l,d=e.left,h=d===void 0?0:d,p=e.width,m=p===void 0?0:p,y=e.height,x=y===void 0?0:y,k=e.className,w=vre(e,hre),b=fre({x:n,y:i,top:c,left:h,width:m,height:x},w);return!Ee(n)||!Ee(i)||!Ee(m)||!Ee(x)||!Ee(c)||!Ee(h)?null:K.createElement("path",P1({},Ye(b,!0),{className:tt("recharts-cross",k),d:xre(n,i,m,x,c,h)}))},Ow,LO;function wre(){if(LO)return Ow;LO=1;var t=Y0(),e=T6(),r=wi();function n(a,i){return a&&a.length?t(a,r(i,2),e):void 0}return Ow=n,Ow}var _re=wre();const kre=xt(_re);var Rw,$O;function jre(){if($O)return Rw;$O=1;var t=Y0(),e=wi(),r=E6();function n(a,i){return a&&a.length?t(a,e(i,2),r):void 0}return Rw=n,Rw}var Nre=jre();const Sre=xt(Nre);var Tre=["cx","cy","angle","ticks","axisLine"],Ere=["ticks","tick","angle","tickFormatter","stroke"];function Wc(t){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wc(t)}function Cd(){return Cd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cd.apply(this,arguments)}function FO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function qo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FO(Object(r),!0).forEach(function(n){rg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function VO(t,e){if(t==null)return{};var r=Are(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Are(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Cre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fL(n.key),n)}}function Pre(t,e,r){return e&&BO(t.prototype,e),r&&BO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ire(t,e,r){return e=Bm(e),Ore(t,hL()?Reflect.construct(e,r||[],Bm(t).constructor):e.apply(t,r))}function Ore(t,e){if(e&&(Wc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rre(t)}function Rre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hL=function(){return!!t})()}function Bm(t){return Bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bm(t)}function Dre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I1(t,e)}function I1(t,e){return I1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},I1(t,e)}function rg(t,e,r){return e=fL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fL(t){var e=Mre(t,"string");return Wc(e)=="symbol"?e:e+""}function Mre(t,e){if(Wc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ng=function(t){function e(){return Cre(this,e),Ire(this,e,arguments)}return Dre(e,t),Pre(e,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,l=i.angle,c=i.cx,d=i.cy;return Rt(c,d,a,l)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,l=n.angle,c=n.ticks,d=kre(c,function(p){return p.coordinate||0}),h=Sre(c,function(p){return p.coordinate||0});return{cx:a,cy:i,startAngle:l,endAngle:l,innerRadius:h.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,l=n.angle,c=n.ticks,d=n.axisLine,h=VO(n,Tre),p=c.reduce(function(k,w){return[Math.min(k[0],w.coordinate),Math.max(k[1],w.coordinate)]},[1/0,-1/0]),m=Rt(a,i,p[0],l),y=Rt(a,i,p[1],l),x=qo(qo(qo({},Ye(h,!1)),{},{fill:"none"},Ye(d,!1)),{},{x1:m.x,y1:m.y,x2:y.x,y2:y.y});return K.createElement("line",Cd({className:"recharts-polar-radius-axis-line"},x))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,l=a.tick,c=a.angle,d=a.tickFormatter,h=a.stroke,p=VO(a,Ere),m=this.getTickTextAnchor(),y=Ye(p,!1),x=Ye(l,!1),k=i.map(function(w,b){var N=n.getTickValueCoord(w),E=qo(qo(qo(qo({textAnchor:m,transform:"rotate(".concat(90-c,", ").concat(N.x,", ").concat(N.y,")")},y),{},{stroke:"none",fill:h},x),{},{index:b},N),{},{payload:w});return K.createElement(wt,Cd({className:tt("recharts-polar-radius-axis-tick",rL(l)),key:"tick-".concat(w.coordinate)},pl(n.props,w,b)),e.renderTickItem(l,E,d?d(w.value,b):w.value))});return K.createElement(wt,{className:"recharts-polar-radius-axis-ticks"},k)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,l=n.tick;return!a||!a.length?null:K.createElement(wt,{className:tt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),l&&this.renderTicks(),Rr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var l;return K.isValidElement(n)?l=K.cloneElement(n,a):Qe(n)?l=n(a):l=K.createElement(ml,Cd({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),l}}])}(B.PureComponent);rg(ng,"displayName","PolarRadiusAxis");rg(ng,"axisType","radiusAxis");rg(ng,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Hc(t){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hc(t)}function Ko(){return Ko=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ko.apply(this,arguments)}function UO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function zo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UO(Object(r),!0).forEach(function(n){ag(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mL(n.key),n)}}function $re(t,e,r){return e&&qO(t.prototype,e),r&&qO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fre(t,e,r){return e=Um(e),Vre(t,pL()?Reflect.construct(e,r||[],Um(t).constructor):e.apply(t,r))}function Vre(t,e){if(e&&(Hc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bre(t)}function Bre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pL=function(){return!!t})()}function Um(t){return Um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Um(t)}function Ure(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O1(t,e)}function O1(t,e){return O1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},O1(t,e)}function ag(t,e,r){return e=mL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mL(t){var e=qre(t,"string");return Hc(e)=="symbol"?e:e+""}function qre(t,e){if(Hc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zre=Math.PI/180,zO=1e-5,ig=function(t){function e(){return Lre(this,e),Fre(this,e,arguments)}return Ure(e,t),$re(e,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,l=a.cy,c=a.radius,d=a.orientation,h=a.tickSize,p=h||8,m=Rt(i,l,c,n.coordinate),y=Rt(i,l,c+(d==="inner"?-1:1)*p,n.coordinate);return{x1:m.x,y1:m.y,x2:y.x,y2:y.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*zre),l;return i>zO?l=a==="outer"?"start":"end":i<-zO?l=a==="outer"?"end":"start":l="middle",l}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,l=n.radius,c=n.axisLine,d=n.axisLineType,h=zo(zo({},Ye(this.props,!1)),{},{fill:"none"},Ye(c,!1));if(d==="circle")return K.createElement(eN,Ko({className:"recharts-polar-angle-axis-line"},h,{cx:a,cy:i,r:l}));var p=this.props.ticks,m=p.map(function(y){return Rt(a,i,l,y.coordinate)});return K.createElement(dre,Ko({className:"recharts-polar-angle-axis-line"},h,{points:m}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,l=a.tick,c=a.tickLine,d=a.tickFormatter,h=a.stroke,p=Ye(this.props,!1),m=Ye(l,!1),y=zo(zo({},p),{},{fill:"none"},Ye(c,!1)),x=i.map(function(k,w){var b=n.getTickLineCoord(k),N=n.getTickTextAnchor(k),E=zo(zo(zo({textAnchor:N},p),{},{stroke:"none",fill:h},m),{},{index:w,payload:k,x:b.x2,y:b.y2});return K.createElement(wt,Ko({className:tt("recharts-polar-angle-axis-tick",rL(l)),key:"tick-".concat(k.coordinate)},pl(n.props,k,w)),c&&K.createElement("line",Ko({className:"recharts-polar-angle-axis-tick-line"},y,b)),l&&e.renderTickItem(l,E,d?d(k.value,w):k.value))});return K.createElement(wt,{className:"recharts-polar-angle-axis-ticks"},x)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,l=n.axisLine;return i<=0||!a||!a.length?null:K.createElement(wt,{className:tt("recharts-polar-angle-axis",this.props.className)},l&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var l;return K.isValidElement(n)?l=K.cloneElement(n,a):Qe(n)?l=n(a):l=K.createElement(ml,Ko({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),l}}])}(B.PureComponent);ag(ig,"displayName","PolarAngleAxis");ag(ig,"axisType","angleAxis");ag(ig,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Dw,WO;function Wre(){if(WO)return Dw;WO=1;var t=S3(),e=t(Object.getPrototypeOf,Object);return Dw=e,Dw}var Mw,HO;function Hre(){if(HO)return Mw;HO=1;var t=us(),e=Wre(),r=ds(),n="[object Object]",a=Function.prototype,i=Object.prototype,l=a.toString,c=i.hasOwnProperty,d=l.call(Object);function h(p){if(!r(p)||t(p)!=n)return!1;var m=e(p);if(m===null)return!0;var y=c.call(m,"constructor")&&m.constructor;return typeof y=="function"&&y instanceof y&&l.call(y)==d}return Mw=h,Mw}var Gre=Hre();const Kre=xt(Gre);var Lw,GO;function Yre(){if(GO)return Lw;GO=1;var t=us(),e=ds(),r="[object Boolean]";function n(a){return a===!0||a===!1||e(a)&&t(a)==r}return Lw=n,Lw}var Xre=Yre();const Qre=xt(Xre);function gh(t){"@babel/helpers - typeof";return gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gh(t)}function qm(){return qm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qm.apply(this,arguments)}function Jre(t,e){return rne(t)||tne(t,e)||ene(t,e)||Zre()}function Zre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ene(t,e){if(t){if(typeof t=="string")return KO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KO(t,e)}}function KO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tne(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,l,c=[],d=!0,h=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return c}}function rne(t){if(Array.isArray(t))return t}function YO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function XO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YO(Object(r),!0).forEach(function(n){nne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nne(t,e,r){return e=ane(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ane(t){var e=ine(t,"string");return gh(e)=="symbol"?e:e+""}function ine(t,e){if(gh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QO=function(e,r,n,a,i){var l=n-a,c;return c="M ".concat(e,",").concat(r),c+="L ".concat(e+n,",").concat(r),c+="L ".concat(e+n-l/2,",").concat(r+i),c+="L ".concat(e+n-l/2-a,",").concat(r+i),c+="L ".concat(e,",").concat(r," Z"),c},sne={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},one=function(e){var r=XO(XO({},sne),e),n=B.useRef(),a=B.useState(-1),i=Jre(a,2),l=i[0],c=i[1];B.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var P=n.current.getTotalLength();P&&c(P)}catch{}},[]);var d=r.x,h=r.y,p=r.upperWidth,m=r.lowerWidth,y=r.height,x=r.className,k=r.animationEasing,w=r.animationDuration,b=r.animationBegin,N=r.isUpdateAnimationActive;if(d!==+d||h!==+h||p!==+p||m!==+m||y!==+y||p===0&&m===0||y===0)return null;var E=tt("recharts-trapezoid",x);return N?K.createElement(os,{canBegin:l>0,from:{upperWidth:0,lowerWidth:0,height:y,x:d,y:h},to:{upperWidth:p,lowerWidth:m,height:y,x:d,y:h},duration:w,animationEasing:k,isActive:N},function(P){var R=P.upperWidth,j=P.lowerWidth,C=P.height,A=P.x,I=P.y;return K.createElement(os,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:w,easing:k},K.createElement("path",qm({},Ye(r,!0),{className:E,d:QO(A,I,R,j,C),ref:n})))}):K.createElement("g",null,K.createElement("path",qm({},Ye(r,!0),{className:E,d:QO(d,h,p,m,y)})))},lne=["option","shapeType","propTransformer","activeClassName","isActive"];function vh(t){"@babel/helpers - typeof";return vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vh(t)}function cne(t,e){if(t==null)return{};var r=une(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function une(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function JO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function zm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JO(Object(r),!0).forEach(function(n){dne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dne(t,e,r){return e=hne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hne(t){var e=fne(t,"string");return vh(e)=="symbol"?e:e+""}function fne(t,e){if(vh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pne(t,e){return zm(zm({},e),t)}function mne(t,e){return t==="symbols"}function ZO(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return K.createElement(Zj,r);case"trapezoid":return K.createElement(one,r);case"sector":return K.createElement(Jj,r);case"symbols":if(mne(e))return K.createElement(gj,r);break;default:return null}}function gne(t){return B.isValidElement(t)?t.props:t}function gL(t){var e=t.option,r=t.shapeType,n=t.propTransformer,a=n===void 0?pne:n,i=t.activeClassName,l=i===void 0?"recharts-active-shape":i,c=t.isActive,d=cne(t,lne),h;if(B.isValidElement(e))h=B.cloneElement(e,zm(zm({},d),gne(e)));else if(Qe(e))h=e(d);else if(Kre(e)&&!Qre(e)){var p=a(e,d);h=K.createElement(ZO,{shapeType:r,elementProps:p})}else{var m=d;h=K.createElement(ZO,{shapeType:r,elementProps:m})}return c?K.createElement(wt,{className:l},h):h}function sg(t,e){return e!=null&&"trapezoids"in t.props}function og(t,e){return e!=null&&"sectors"in t.props}function yh(t,e){return e!=null&&"points"in t.props}function vne(t,e){var r,n,a=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,i=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return a&&i}function yne(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function xne(t,e){var r=t.x===e.x,n=t.y===e.y,a=t.z===e.z;return r&&n&&a}function bne(t,e){var r;return sg(t,e)?r=vne:og(t,e)?r=yne:yh(t,e)&&(r=xne),r}function wne(t,e){var r;return sg(t,e)?r="trapezoids":og(t,e)?r="sectors":yh(t,e)&&(r="points"),r}function _ne(t,e){if(sg(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(og(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return yh(t,e)?e.payload:{}}function kne(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,a=wne(r,e),i=_ne(r,e),l=n.filter(function(d,h){var p=J0(i,d),m=r.props[a].filter(function(k){var w=bne(r,e);return w(k,e)}),y=r.props[a].indexOf(m[m.length-1]),x=h===y;return p&&x}),c=n.indexOf(l[l.length-1]);return c}var qp;function Gc(t){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gc(t)}function gc(){return gc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gc.apply(this,arguments)}function eR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function It(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eR(Object(r),!0).forEach(function(n){xa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yL(n.key),n)}}function Nne(t,e,r){return e&&tR(t.prototype,e),r&&tR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sne(t,e,r){return e=Wm(e),Tne(t,vL()?Reflect.construct(e,r||[],Wm(t).constructor):e.apply(t,r))}function Tne(t,e){if(e&&(Gc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ene(t)}function Ene(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vL=function(){return!!t})()}function Wm(t){return Wm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wm(t)}function Ane(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R1(t,e)}function R1(t,e){return R1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},R1(t,e)}function xa(t,e,r){return e=yL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yL(t){var e=Cne(t,"string");return Gc(e)=="symbol"?e:e+""}function Cne(t,e){if(Gc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fs=function(t){function e(r){var n;return jne(this,e),n=Sne(this,e,[r]),xa(n,"pieRef",null),xa(n,"sectorRefs",[]),xa(n,"id",Wh("recharts-pie-")),xa(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Qe(a)&&a()}),xa(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Qe(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Ane(e,t),Nne(e,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,l=i.label,c=i.labelLine,d=i.dataKey,h=i.valueKey,p=Ye(this.props,!1),m=Ye(l,!1),y=Ye(c,!1),x=l&&l.offsetRadius||20,k=n.map(function(w,b){var N=(w.startAngle+w.endAngle)/2,E=Rt(w.cx,w.cy,w.outerRadius+x,N),P=It(It(It(It({},p),w),{},{stroke:"none"},m),{},{index:b,textAnchor:e.getTextAnchor(E.x,w.cx)},E),R=It(It(It(It({},p),w),{},{fill:"none",stroke:w.fill},y),{},{index:b,points:[Rt(w.cx,w.cy,w.outerRadius,N),E]}),j=d;return at(d)&&at(h)?j="value":at(d)&&(j=h),K.createElement(wt,{key:"label-".concat(w.startAngle,"-").concat(w.endAngle,"-").concat(w.midAngle,"-").concat(b)},c&&e.renderLabelLineItem(c,R,"line"),e.renderLabelItem(l,P,nn(w,j)))});return K.createElement(wt,{className:"recharts-pie-labels"},k)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,l=i.activeShape,c=i.blendStroke,d=i.inactiveShape;return n.map(function(h,p){if(h?.startAngle===0&&h?.endAngle===0&&n.length!==1)return null;var m=a.isActiveIndex(p),y=d&&a.hasActiveIndex()?d:null,x=m?l:y,k=It(It({},h),{},{stroke:c?h.fill:h.stroke,tabIndex:-1});return K.createElement(wt,gc({ref:function(b){b&&!a.sectorRefs.includes(b)&&a.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},pl(a.props,h,p),{key:"sector-".concat(h?.startAngle,"-").concat(h?.endAngle,"-").concat(h.midAngle,"-").concat(p)}),K.createElement(gL,gc({option:x,isActive:m,shapeType:"sector"},k)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,l=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,h=a.animationEasing,p=a.animationId,m=this.state,y=m.prevSectors,x=m.prevIsAnimationActive;return K.createElement(os,{begin:c,duration:d,isActive:l,easing:h,from:{t:0},to:{t:1},key:"pie-".concat(p,"-").concat(x),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(k){var w=k.t,b=[],N=i&&i[0],E=N.startAngle;return i.forEach(function(P,R){var j=y&&y[R],C=R>0?Zn(P,"paddingAngle",0):0;if(j){var A=Vs(j.endAngle-j.startAngle,P.endAngle-P.startAngle),I=It(It({},P),{},{startAngle:E+C,endAngle:E+A(w)+C});b.push(I),E=I.endAngle}else{var L=P.endAngle,O=P.startAngle,D=Vs(0,L-O),F=D(w),$=It(It({},P),{},{startAngle:E+C,endAngle:E+F+C});b.push($),E=$.endAngle}}),K.createElement(wt,null,n.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var l=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"ArrowRight":{var c=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[c].focus(),a.setState({sectorToFocus:c});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,l=this.state.prevSectors;return i&&a&&a.length&&(!l||!J0(l,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,l=a.sectors,c=a.className,d=a.label,h=a.cx,p=a.cy,m=a.innerRadius,y=a.outerRadius,x=a.isAnimationActive,k=this.state.isAnimationFinished;if(i||!l||!l.length||!Ee(h)||!Ee(p)||!Ee(m)||!Ee(y))return null;var w=tt("recharts-pie",c);return K.createElement(wt,{tabIndex:this.props.rootTabIndex,className:w,ref:function(N){n.pieRef=N}},this.renderSectors(),d&&this.renderLabels(l),Rr.renderCallByParent(this.props,null,!1),(!x||k)&&no.renderCallByParent(this.props,l,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(K.isValidElement(n))return K.cloneElement(n,a);if(Qe(n))return n(a);var l=tt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return K.createElement(x1,gc({},a,{key:i,type:"linear",className:l}))}},{key:"renderLabelItem",value:function(n,a,i){if(K.isValidElement(n))return K.cloneElement(n,a);var l=i;if(Qe(n)&&(l=n(a),K.isValidElement(l)))return l;var c=tt("recharts-pie-label-text",typeof n!="boolean"&&!Qe(n)?n.className:"");return K.createElement(ml,gc({},a,{alignmentBaseline:"middle",className:c}),l)}}])}(B.PureComponent);qp=fs;xa(fs,"displayName","Pie");xa(fs,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!fu.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});xa(fs,"parseDeltaAngle",function(t,e){var r=gn(e-t),n=Math.min(Math.abs(e-t),360);return r*n});xa(fs,"getRealPieData",function(t){var e=t.data,r=t.children,n=Ye(t,!1),a=_a(r,U0);return e&&e.length?e.map(function(i,l){return It(It(It({payload:i},n),i),a&&a[l]&&a[l].props)}):a&&a.length?a.map(function(i){return It(It({},n),i.props)}):[]});xa(fs,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,a=e.width,i=e.height,l=tL(a,i),c=n+vn(t.cx,a,a/2),d=r+vn(t.cy,i,i/2),h=vn(t.innerRadius,l,0),p=vn(t.outerRadius,l,l*.8),m=t.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:c,cy:d,innerRadius:h,outerRadius:p,maxRadius:m}});xa(fs,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?It(It({},e.type.defaultProps),e.props):e.props,a=qp.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,l=n.startAngle,c=n.endAngle,d=n.paddingAngle,h=n.dataKey,p=n.nameKey,m=n.valueKey,y=n.tooltipType,x=Math.abs(n.minAngle),k=qp.parseCoordinateOfPie(n,r),w=qp.parseDeltaAngle(l,c),b=Math.abs(w),N=h;at(h)&&at(m)?(qa(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N="value"):at(h)&&(qa(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N=m);var E=a.filter(function(I){return nn(I,N,0)!==0}).length,P=(b>=360?E:E-1)*d,R=b-E*x-P,j=a.reduce(function(I,L){var O=nn(L,N,0);return I+(Ee(O)?O:0)},0),C;if(j>0){var A;C=a.map(function(I,L){var O=nn(I,N,0),D=nn(I,p,L),F=(Ee(O)?O:0)/j,$;L?$=A.endAngle+gn(w)*d*(O!==0?1:0):$=l;var ae=$+gn(w)*((O!==0?x:0)+F*R),ee=($+ae)/2,G=(k.innerRadius+k.outerRadius)/2,ne=[{name:D,value:O,payload:I,dataKey:N,type:y}],Q=Rt(k.cx,k.cy,G,ee);return A=It(It(It({percent:F,cornerRadius:i,name:D,tooltipPayload:ne,midAngle:ee,middleRadius:G,tooltipPosition:Q},I),k),{},{value:nn(I,N),startAngle:$,endAngle:ae,payload:I,paddingAngle:gn(w)*d}),A})}return It(It({},k),{},{sectors:C,data:a})});var $w,rR;function Pne(){if(rR)return $w;rR=1;var t=Math.ceil,e=Math.max;function r(n,a,i,l){for(var c=-1,d=e(t((a-n)/(i||1)),0),h=Array(d);d--;)h[l?d:++c]=n,n+=i;return h}return $w=r,$w}var Fw,nR;function xL(){if(nR)return Fw;nR=1;var t=U3(),e=1/0,r=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=t(a),a===e||a===-e){var i=a<0?-1:1;return i*r}return a===a?a:0}return Fw=n,Fw}var Vw,aR;function Ine(){if(aR)return Vw;aR=1;var t=Pne(),e=B0(),r=xL();function n(a){return function(i,l,c){return c&&typeof c!="number"&&e(i,l,c)&&(l=c=void 0),i=r(i),l===void 0?(l=i,i=0):l=r(l),c=c===void 0?i<l?1:-1:r(c),t(i,l,c,a)}}return Vw=n,Vw}var Bw,iR;function One(){if(iR)return Bw;iR=1;var t=Ine(),e=t();return Bw=e,Bw}var Rne=One();const Hm=xt(Rne);function xh(t){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xh(t)}function sR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function oR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sR(Object(r),!0).forEach(function(n){bL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bL(t,e,r){return e=Dne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dne(t){var e=Mne(t,"string");return xh(e)=="symbol"?e:e+""}function Mne(t,e){if(xh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lne=["Webkit","Moz","O","ms"],$ne=function(e,r){var n=e.replace(/(\w)/,function(i){return i.toUpperCase()}),a=Lne.reduce(function(i,l){return oR(oR({},i),{},bL({},l+n,r))},{});return a[e]=r,a};function Kc(t){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kc(t)}function Gm(){return Gm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gm.apply(this,arguments)}function lR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Uw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lR(Object(r),!0).forEach(function(n){Gn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_L(n.key),n)}}function Vne(t,e,r){return e&&cR(t.prototype,e),r&&cR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bne(t,e,r){return e=Km(e),Une(t,wL()?Reflect.construct(e,r||[],Km(t).constructor):e.apply(t,r))}function Une(t,e){if(e&&(Kc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qne(t)}function qne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wL=function(){return!!t})()}function Km(t){return Km=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Km(t)}function zne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D1(t,e)}function D1(t,e){return D1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},D1(t,e)}function Gn(t,e,r){return e=_L(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _L(t){var e=Wne(t,"string");return Kc(e)=="symbol"?e:e+""}function Wne(t,e){if(Kc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Hne=function(e){var r=e.data,n=e.startIndex,a=e.endIndex,i=e.x,l=e.width,c=e.travellerWidth;if(!r||!r.length)return{};var d=r.length,h=Sd().domain(Hm(0,d)).range([i,i+l-c]),p=h.domain().map(function(m){return h(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:h(n),endX:h(a),scale:h,scaleValues:p}},uR=function(e){return e.changedTouches&&!!e.changedTouches.length},Yc=function(t){function e(r){var n;return Fne(this,e),n=Bne(this,e,[r]),Gn(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Gn(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Gn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,l=a.onDragEnd,c=a.startIndex;l?.({endIndex:i,startIndex:c})}),n.detachDragEndListener()}),Gn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Gn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Gn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Gn(n,"handleSlideDragStart",function(a){var i=uR(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return zne(e,t),Vne(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,l=this.state.scaleValues,c=this.props,d=c.gap,h=c.data,p=h.length-1,m=Math.min(a,i),y=Math.max(a,i),x=e.getIndexInRange(l,m),k=e.getIndexInRange(l,y);return{startIndex:x-x%d,endIndex:k===p?p:k-k%d}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,l=a.tickFormatter,c=a.dataKey,d=nn(i[n],c,n);return Qe(l)?l(d,n):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,l=a.startX,c=a.endX,d=this.props,h=d.x,p=d.width,m=d.travellerWidth,y=d.startIndex,x=d.endIndex,k=d.onChange,w=n.pageX-i;w>0?w=Math.min(w,h+p-m-c,h+p-m-l):w<0&&(w=Math.max(w,h-l,h-c));var b=this.getIndex({startX:l+w,endX:c+w});(b.startIndex!==y||b.endIndex!==x)&&k&&k(b),this.setState({startX:l+w,endX:c+w,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=uR(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,l=a.movingTravellerId,c=a.endX,d=a.startX,h=this.state[l],p=this.props,m=p.x,y=p.width,x=p.travellerWidth,k=p.onChange,w=p.gap,b=p.data,N={startX:this.state.startX,endX:this.state.endX},E=n.pageX-i;E>0?E=Math.min(E,m+y-x-h):E<0&&(E=Math.max(E,m-h)),N[l]=h+E;var P=this.getIndex(N),R=P.startIndex,j=P.endIndex,C=function(){var I=b.length-1;return l==="startX"&&(c>d?R%w===0:j%w===0)||c<d&&j===I||l==="endX"&&(c>d?j%w===0:R%w===0)||c>d&&j===I};this.setState(Gn(Gn({},l,h+E),"brushMoveStartX",n.pageX),function(){k&&C()&&k(P)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,l=this.state,c=l.scaleValues,d=l.startX,h=l.endX,p=this.state[a],m=c.indexOf(p);if(m!==-1){var y=m+n;if(!(y===-1||y>=c.length)){var x=c[y];a==="startX"&&x>=h||a==="endX"&&x<=d||this.setState(Gn({},a,x),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,l=n.width,c=n.height,d=n.fill,h=n.stroke;return K.createElement("rect",{stroke:h,fill:d,x:a,y:i,width:l,height:c})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,l=n.width,c=n.height,d=n.data,h=n.children,p=n.padding,m=B.Children.only(h);return m?K.cloneElement(m,{x:a,y:i,width:l,height:c,margin:p,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,l,c=this,d=this.props,h=d.y,p=d.travellerWidth,m=d.height,y=d.traveller,x=d.ariaLabel,k=d.data,w=d.startIndex,b=d.endIndex,N=Math.max(n,this.props.x),E=Uw(Uw({},Ye(this.props,!1)),{},{x:N,y:h,width:p,height:m}),P=x||"Min value: ".concat((i=k[w])===null||i===void 0?void 0:i.name,", Max value: ").concat((l=k[b])===null||l===void 0?void 0:l.name);return K.createElement(wt,{tabIndex:0,role:"slider","aria-label":P,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),c.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,a))},onFocus:function(){c.setState({isTravellerFocused:!0})},onBlur:function(){c.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(y,E))}},{key:"renderSlide",value:function(n,a){var i=this.props,l=i.y,c=i.height,d=i.stroke,h=i.travellerWidth,p=Math.min(n,a)+h,m=Math.max(Math.abs(a-n)-h,0);return K.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:p,y:l,width:m,height:c})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,l=n.y,c=n.height,d=n.travellerWidth,h=n.stroke,p=this.state,m=p.startX,y=p.endX,x=5,k={pointerEvents:"none",fill:h};return K.createElement(wt,{className:"recharts-brush-texts"},K.createElement(ml,Gm({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,y)-x,y:l+c/2},k),this.getTextOfTick(a)),K.createElement(ml,Gm({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,y)+d+x,y:l+c/2},k),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,l=n.children,c=n.x,d=n.y,h=n.width,p=n.height,m=n.alwaysShowText,y=this.state,x=y.startX,k=y.endX,w=y.isTextActive,b=y.isSlideMoving,N=y.isTravellerMoving,E=y.isTravellerFocused;if(!a||!a.length||!Ee(c)||!Ee(d)||!Ee(h)||!Ee(p)||h<=0||p<=0)return null;var P=tt("recharts-brush",i),R=K.Children.count(l)===1,j=$ne("userSelect","none");return K.createElement(wt,{className:P,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),R&&this.renderPanorama(),this.renderSlide(x,k),this.renderTravellerLayer(x,"startX"),this.renderTravellerLayer(k,"endX"),(w||b||N||E||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,l=n.width,c=n.height,d=n.stroke,h=Math.floor(i+c/2)-1;return K.createElement(K.Fragment,null,K.createElement("rect",{x:a,y:i,width:l,height:c,fill:d,stroke:"none"}),K.createElement("line",{x1:a+1,y1:h,x2:a+l-1,y2:h,fill:"none",stroke:"#fff"}),K.createElement("line",{x1:a+1,y1:h+2,x2:a+l-1,y2:h+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return K.isValidElement(n)?i=K.cloneElement(n,a):Qe(n)?i=n(a):i=e.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,l=n.width,c=n.x,d=n.travellerWidth,h=n.updateId,p=n.startIndex,m=n.endIndex;if(i!==a.prevData||h!==a.prevUpdateId)return Uw({prevData:i,prevTravellerWidth:d,prevUpdateId:h,prevX:c,prevWidth:l},i&&i.length?Hne({data:i,width:l,x:c,travellerWidth:d,startIndex:p,endIndex:m}):{scale:null,scaleValues:null});if(a.scale&&(l!==a.prevWidth||c!==a.prevX||d!==a.prevTravellerWidth)){a.scale.range([c,c+l-d]);var y=a.scale.domain().map(function(x){return a.scale(x)});return{prevData:i,prevTravellerWidth:d,prevUpdateId:h,prevX:c,prevWidth:l,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:y}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,l=0,c=i-1;c-l>1;){var d=Math.floor((l+c)/2);n[d]>a?c=d:l=d}return a>=n[c]?c:l}}])}(B.PureComponent);Gn(Yc,"displayName","Brush");Gn(Yc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var qw,dR;function Gne(){if(dR)return qw;dR=1;var t=kj();function e(r,n){var a;return t(r,function(i,l,c){return a=n(i,l,c),!a}),!!a}return qw=e,qw}var zw,hR;function Kne(){if(hR)return zw;hR=1;var t=x3(),e=wi(),r=Gne(),n=Mn(),a=B0();function i(l,c,d){var h=n(l)?t:r;return d&&a(l,c,d)&&(c=void 0),h(l,e(c,3))}return zw=i,zw}var Yne=Kne();const Xne=xt(Yne);var fi=function(e,r){var n=e.alwaysShow,a=e.ifOverflow;return n&&(a="extendDomain"),a===r},Ww,fR;function Qne(){if(fR)return Ww;fR=1;var t=L3();function e(r,n,a){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return Ww=e,Ww}var Hw,pR;function Jne(){if(pR)return Hw;pR=1;var t=Qne(),e=D3(),r=wi();function n(a,i){var l={};return i=r(i,3),e(a,function(c,d,h){t(l,d,i(c,d,h))}),l}return Hw=n,Hw}var Zne=Jne();const eae=xt(Zne);var Gw,mR;function tae(){if(mR)return Gw;mR=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(!r(e[n],n,e))return!1;return!0}return Gw=t,Gw}var Kw,gR;function rae(){if(gR)return Kw;gR=1;var t=kj();function e(r,n){var a=!0;return t(r,function(i,l,c){return a=!!n(i,l,c),a}),a}return Kw=e,Kw}var Yw,vR;function nae(){if(vR)return Yw;vR=1;var t=tae(),e=rae(),r=wi(),n=Mn(),a=B0();function i(l,c,d){var h=n(l)?t:e;return d&&a(l,c,d)&&(c=void 0),h(l,r(c,3))}return Yw=i,Yw}var aae=nae();const kL=xt(aae);var iae=["x","y"];function bh(t){"@babel/helpers - typeof";return bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bh(t)}function M1(){return M1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},M1.apply(this,arguments)}function yR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function od(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yR(Object(r),!0).forEach(function(n){sae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sae(t,e,r){return e=oae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oae(t){var e=lae(t,"string");return bh(e)=="symbol"?e:e+""}function lae(t,e){if(bh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cae(t,e){if(t==null)return{};var r=uae(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function uae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function dae(t,e){var r=t.x,n=t.y,a=cae(t,iae),i="".concat(r),l=parseInt(i,10),c="".concat(n),d=parseInt(c,10),h="".concat(e.height||a.height),p=parseInt(h,10),m="".concat(e.width||a.width),y=parseInt(m,10);return od(od(od(od(od({},e),a),l?{x:l}:{}),d?{y:d}:{}),{},{height:p,width:y,name:e.name,radius:e.radius})}function xR(t){return K.createElement(gL,M1({shapeType:"rectangle",propTransformer:dae,activeClassName:"recharts-active-bar"},t))}var hae=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof e=="number")return e;var i=Ee(n)||Lz(n);return i?e(n,a):(i||vl(),r)}},fae=["value","background"],jL;function Xc(t){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(t)}function pae(t,e){if(t==null)return{};var r=mae(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Ym(){return Ym=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ym.apply(this,arguments)}function bR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function mr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bR(Object(r),!0).forEach(function(n){Xs(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,SL(n.key),n)}}function vae(t,e,r){return e&&wR(t.prototype,e),r&&wR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function yae(t,e,r){return e=Xm(e),xae(t,NL()?Reflect.construct(e,r||[],Xm(t).constructor):e.apply(t,r))}function xae(t,e){if(e&&(Xc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bae(t)}function bae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NL=function(){return!!t})()}function Xm(t){return Xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xm(t)}function wae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L1(t,e)}function L1(t,e){return L1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},L1(t,e)}function Xs(t,e,r){return e=SL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SL(t){var e=_ae(t,"string");return Xc(e)=="symbol"?e:e+""}function _ae(t,e){if(Xc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var yi=function(t){function e(){var r;gae(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=yae(this,e,[].concat(a)),Xs(r,"state",{isAnimationFinished:!1}),Xs(r,"id",Wh("recharts-bar-")),Xs(r,"handleAnimationEnd",function(){var l=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),l&&l()}),Xs(r,"handleAnimationStart",function(){var l=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),l&&l()}),r}return wae(e,t),vae(e,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,l=i.shape,c=i.dataKey,d=i.activeIndex,h=i.activeBar,p=Ye(this.props,!1);return n&&n.map(function(m,y){var x=y===d,k=x?h:l,w=mr(mr(mr({},p),m),{},{isActive:x,option:k,index:y,dataKey:c,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return K.createElement(wt,Ym({className:"recharts-bar-rectangle"},pl(a.props,m,y),{key:"rectangle-".concat(m?.x,"-").concat(m?.y,"-").concat(m?.value,"-").concat(y)}),K.createElement(xR,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,l=a.layout,c=a.isAnimationActive,d=a.animationBegin,h=a.animationDuration,p=a.animationEasing,m=a.animationId,y=this.state.prevData;return K.createElement(os,{begin:d,duration:h,isActive:c,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var k=x.t,w=i.map(function(b,N){var E=y&&y[N];if(E){var P=Vs(E.x,b.x),R=Vs(E.y,b.y),j=Vs(E.width,b.width),C=Vs(E.height,b.height);return mr(mr({},b),{},{x:P(k),y:R(k),width:j(k),height:C(k)})}if(l==="horizontal"){var A=Vs(0,b.height),I=A(k);return mr(mr({},b),{},{y:b.y+b.height-I,height:I})}var L=Vs(0,b.width),O=L(k);return mr(mr({},b),{},{width:O})});return K.createElement(wt,null,n.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,l=this.state.prevData;return i&&a&&a.length&&(!l||!J0(l,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,l=a.dataKey,c=a.activeIndex,d=Ye(this.props.background,!1);return i.map(function(h,p){h.value;var m=h.background,y=pae(h,fae);if(!m)return null;var x=mr(mr(mr(mr(mr({},y),{},{fill:"#eee"},m),d),pl(n.props,h,p)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:l,index:p,className:"recharts-bar-background-rectangle"});return K.createElement(xR,Ym({key:"background-bar-".concat(p),option:n.props.background,isActive:p===c},x))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,l=i.data,c=i.xAxis,d=i.yAxis,h=i.layout,p=i.children,m=_a(p,tg);if(!m)return null;var y=h==="vertical"?l[0].height/2:l[0].width/2,x=function(b,N){var E=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:E,errorVal:nn(b,N)}},k={clipPath:n?"url(#clipPath-".concat(a,")"):null};return K.createElement(wt,k,m.map(function(w){return K.cloneElement(w,{key:"error-bar-".concat(a,"-").concat(w.props.dataKey),data:l,xAxis:c,yAxis:d,layout:h,offset:y,dataPointFormatter:x})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,l=n.className,c=n.xAxis,d=n.yAxis,h=n.left,p=n.top,m=n.width,y=n.height,x=n.isAnimationActive,k=n.background,w=n.id;if(a||!i||!i.length)return null;var b=this.state.isAnimationFinished,N=tt("recharts-bar",l),E=c&&c.allowDataOverflow,P=d&&d.allowDataOverflow,R=E||P,j=at(w)?this.id:w;return K.createElement(wt,{className:N},E||P?K.createElement("defs",null,K.createElement("clipPath",{id:"clipPath-".concat(j)},K.createElement("rect",{x:E?h:h-m/2,y:P?p:p-y/2,width:E?m:m*2,height:P?y:y*2}))):null,K.createElement(wt,{className:"recharts-bar-rectangles",clipPath:R?"url(#clipPath-".concat(j,")"):null},k?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(R,j),(!x||b)&&no.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(B.PureComponent);jL=yi;Xs(yi,"displayName","Bar");Xs(yi,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!fu.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Xs(yi,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,a=t.bandSize,i=t.xAxis,l=t.yAxis,c=t.xAxisTicks,d=t.yAxisTicks,h=t.stackedData,p=t.dataStartIndex,m=t.displayedData,y=t.offset,x=QJ(n,r);if(!x)return null;var k=e.layout,w=r.type.defaultProps,b=w!==void 0?mr(mr({},w),r.props):r.props,N=b.dataKey,E=b.children,P=b.minPointSize,R=k==="horizontal"?l:i,j=h?R.scale.domain():null,C=aZ({numericAxis:R}),A=_a(E,U0),I=m.map(function(L,O){var D,F,$,ae,ee,G;h?D=JJ(h[p+O],j):(D=nn(L,N),Array.isArray(D)||(D=[C,D]));var ne=hae(P,jL.defaultProps.minPointSize)(D[1],O);if(k==="horizontal"){var Q,Z=[l.scale(D[0]),l.scale(D[1])],re=Z[0],W=Z[1];F=HI({axis:i,ticks:c,bandSize:a,offset:x.offset,entry:L,index:O}),$=(Q=W??re)!==null&&Q!==void 0?Q:void 0,ae=x.size;var J=re-W;if(ee=Number.isNaN(J)?0:J,G={x:F,y:l.y,width:ae,height:l.height},Math.abs(ne)>0&&Math.abs(ee)<Math.abs(ne)){var X=gn(ee||ne)*(Math.abs(ne)-Math.abs(ee));$-=X,ee+=X}}else{var le=[i.scale(D[0]),i.scale(D[1])],ge=le[0],he=le[1];if(F=ge,$=HI({axis:l,ticks:d,bandSize:a,offset:x.offset,entry:L,index:O}),ae=he-ge,ee=x.size,G={x:i.x,y:$,width:i.width,height:ee},Math.abs(ne)>0&&Math.abs(ae)<Math.abs(ne)){var de=gn(ae||ne)*(Math.abs(ne)-Math.abs(ae));ae+=de}}return mr(mr(mr({},L),{},{x:F,y:$,width:ae,height:ee,value:h?D:D[1],payload:L,background:G},A&&A[O]&&A[O].props),{},{tooltipPayload:[Z6(r,L)],tooltipPosition:{x:F+ae/2,y:$+ee/2}})});return mr({data:I,layout:k},y)});function wh(t){"@babel/helpers - typeof";return wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wh(t)}function kae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _R(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,TL(n.key),n)}}function jae(t,e,r){return e&&_R(t.prototype,e),r&&_R(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function kR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function $a(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kR(Object(r),!0).forEach(function(n){lg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lg(t,e,r){return e=TL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TL(t){var e=Nae(t,"string");return wh(e)=="symbol"?e:e+""}function Nae(t,e){if(wh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sae=function(e,r,n,a,i){var l=e.width,c=e.height,d=e.layout,h=e.children,p=Object.keys(r),m={left:n.left,leftMirror:n.left,right:l-n.right,rightMirror:l-n.right,top:n.top,topMirror:n.top,bottom:c-n.bottom,bottomMirror:c-n.bottom},y=!!Kn(h,yi);return p.reduce(function(x,k){var w=r[k],b=w.orientation,N=w.domain,E=w.padding,P=E===void 0?{}:E,R=w.mirror,j=w.reversed,C="".concat(b).concat(R?"Mirror":""),A,I,L,O,D;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var F=N[1]-N[0],$=1/0,ae=w.categoricalDomain.sort(Vz);if(ae.forEach(function(le,ge){ge>0&&($=Math.min((le||0)-(ae[ge-1]||0),$))}),Number.isFinite($)){var ee=$/F,G=w.layout==="vertical"?n.height:n.width;if(w.padding==="gap"&&(A=ee*G/2),w.padding==="no-gap"){var ne=vn(e.barCategoryGap,ee*G),Q=ee*G/2;A=Q-ne-(Q-ne)/G*ne}}}a==="xAxis"?I=[n.left+(P.left||0)+(A||0),n.left+n.width-(P.right||0)-(A||0)]:a==="yAxis"?I=d==="horizontal"?[n.top+n.height-(P.bottom||0),n.top+(P.top||0)]:[n.top+(P.top||0)+(A||0),n.top+n.height-(P.bottom||0)-(A||0)]:I=w.range,j&&(I=[I[1],I[0]]);var Z=Y6(w,i,y),re=Z.scale,W=Z.realScaleType;re.domain(N).range(I),X6(re);var J=Q6(re,$a($a({},w),{},{realScaleType:W}));a==="xAxis"?(D=b==="top"&&!R||b==="bottom"&&R,L=n.left,O=m[C]-D*w.height):a==="yAxis"&&(D=b==="left"&&!R||b==="right"&&R,L=m[C]-D*w.width,O=n.top);var X=$a($a($a({},w),J),{},{realScaleType:W,x:L,y:O,scale:re,width:a==="xAxis"?n.width:w.width,height:a==="yAxis"?n.height:w.height});return X.bandSize=Rm(X,J),!w.hide&&a==="xAxis"?m[C]+=(D?-1:1)*X.height:w.hide||(m[C]+=(D?-1:1)*X.width),$a($a({},x),{},lg({},k,X))},{})},EL=function(e,r){var n=e.x,a=e.y,i=r.x,l=r.y;return{x:Math.min(n,i),y:Math.min(a,l),width:Math.abs(i-n),height:Math.abs(l-a)}},Tae=function(e){var r=e.x1,n=e.y1,a=e.x2,i=e.y2;return EL({x:r,y:n},{x:a,y:i})},AL=function(){function t(e){kae(this,t),this.scale=e}return jae(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}case"end":{var c=this.bandwidth?this.bandwidth():0;return this.scale(r)+c}default:return this.scale(r)}if(a){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+d}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new t(r)}}])}();lg(AL,"EPS",1e-4);var tN=function(e){var r=Object.keys(e).reduce(function(n,a){return $a($a({},n),{},lg({},a,AL.create(e[a])))},{});return $a($a({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=i.bandAware,c=i.position;return eae(a,function(d,h){return r[h].apply(d,{bandAware:l,position:c})})},isInRange:function(a){return kL(a,function(i,l){return r[l].isInRange(i)})}})};function Eae(t){return(t%180+180)%180}var Aae=function(e){var r=e.width,n=e.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Eae(a),l=i*Math.PI/180,c=Math.atan(n/r),d=l>c&&l<Math.PI-c?n/Math.sin(l):r/Math.cos(l);return Math.abs(d)},Xw,jR;function Cae(){if(jR)return Xw;jR=1;var t=wi(),e=Hh(),r=F0();function n(a){return function(i,l,c){var d=Object(i);if(!e(i)){var h=t(l,3);i=r(i),l=function(m){return h(d[m],m,d)}}var p=a(i,l,c);return p>-1?d[h?i[p]:p]:void 0}}return Xw=n,Xw}var Qw,NR;function Pae(){if(NR)return Qw;NR=1;var t=xL();function e(r){var n=t(r),a=n%1;return n===n?a?n-a:n:0}return Qw=e,Qw}var Jw,SR;function Iae(){if(SR)return Jw;SR=1;var t=C3(),e=wi(),r=Pae(),n=Math.max;function a(i,l,c){var d=i==null?0:i.length;if(!d)return-1;var h=c==null?0:r(c);return h<0&&(h=n(d+h,0)),t(i,e(l,3),h)}return Jw=a,Jw}var Zw,TR;function Oae(){if(TR)return Zw;TR=1;var t=Cae(),e=Iae(),r=t(e);return Zw=r,Zw}var Rae=Oae();const Dae=xt(Rae);var Mae=H4();const Lae=xt(Mae);var $ae=Lae(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),rN=B.createContext(void 0),nN=B.createContext(void 0),CL=B.createContext(void 0),PL=B.createContext({}),IL=B.createContext(void 0),OL=B.createContext(0),RL=B.createContext(0),ER=function(e){var r=e.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,l=e.clipPathId,c=e.children,d=e.width,h=e.height,p=$ae(i);return K.createElement(rN.Provider,{value:n},K.createElement(nN.Provider,{value:a},K.createElement(PL.Provider,{value:i},K.createElement(CL.Provider,{value:p},K.createElement(IL.Provider,{value:l},K.createElement(OL.Provider,{value:h},K.createElement(RL.Provider,{value:d},c)))))))},Fae=function(){return B.useContext(IL)},DL=function(e){var r=B.useContext(rN);r==null&&vl();var n=r[e];return n==null&&vl(),n},Vae=function(){var e=B.useContext(rN);return Ks(e)},Bae=function(){var e=B.useContext(nN),r=Dae(e,function(n){return kL(n.domain,Number.isFinite)});return r||Ks(e)},ML=function(e){var r=B.useContext(nN);r==null&&vl();var n=r[e];return n==null&&vl(),n},Uae=function(){var e=B.useContext(CL);return e},qae=function(){return B.useContext(PL)},aN=function(){return B.useContext(RL)},iN=function(){return B.useContext(OL)};function Qc(t){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qc(t)}function zae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wae(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$L(n.key),n)}}function Hae(t,e,r){return e&&Wae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gae(t,e,r){return e=Qm(e),Kae(t,LL()?Reflect.construct(e,r||[],Qm(t).constructor):e.apply(t,r))}function Kae(t,e){if(e&&(Qc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yae(t)}function Yae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LL=function(){return!!t})()}function Qm(t){return Qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qm(t)}function Xae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$1(t,e)}function $1(t,e){return $1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$1(t,e)}function AR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function CR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AR(Object(r),!0).forEach(function(n){sN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sN(t,e,r){return e=$L(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $L(t){var e=Qae(t,"string");return Qc(e)=="symbol"?e:e+""}function Qae(t,e){if(Qc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Jae(t,e){return rie(t)||tie(t,e)||eie(t,e)||Zae()}function Zae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eie(t,e){if(t){if(typeof t=="string")return PR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PR(t,e)}}function PR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tie(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,l,c=[],d=!0,h=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return c}}function rie(t){if(Array.isArray(t))return t}function F1(){return F1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},F1.apply(this,arguments)}var nie=function(e,r){var n;return K.isValidElement(e)?n=K.cloneElement(e,r):Qe(e)?n=e(r):n=K.createElement("line",F1({},r,{className:"recharts-reference-line-line"})),n},aie=function(e,r,n,a,i,l,c,d,h){var p=i.x,m=i.y,y=i.width,x=i.height;if(n){var k=h.y,w=e.y.apply(k,{position:l});if(fi(h,"discard")&&!e.y.isInRange(w))return null;var b=[{x:p+y,y:w},{x:p,y:w}];return d==="left"?b.reverse():b}if(r){var N=h.x,E=e.x.apply(N,{position:l});if(fi(h,"discard")&&!e.x.isInRange(E))return null;var P=[{x:E,y:m+x},{x:E,y:m}];return c==="top"?P.reverse():P}if(a){var R=h.segment,j=R.map(function(C){return e.apply(C,{position:l})});return fi(h,"discard")&&Xne(j,function(C){return!e.isInRange(C)})?null:j}return null};function iie(t){var e=t.x,r=t.y,n=t.segment,a=t.xAxisId,i=t.yAxisId,l=t.shape,c=t.className,d=t.alwaysShow,h=Fae(),p=DL(a),m=ML(i),y=Uae();if(!h||!y)return null;qa(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var x=tN({x:p.scale,y:m.scale}),k=Nr(e),w=Nr(r),b=n&&n.length===2,N=aie(x,k,w,b,y,t.position,p.orientation,m.orientation,t);if(!N)return null;var E=Jae(N,2),P=E[0],R=P.x,j=P.y,C=E[1],A=C.x,I=C.y,L=fi(t,"hidden")?"url(#".concat(h,")"):void 0,O=CR(CR({clipPath:L},Ye(t,!0)),{},{x1:R,y1:j,x2:A,y2:I});return K.createElement(wt,{className:tt("recharts-reference-line",c)},nie(l,O),Rr.renderCallByParent(t,Tae({x1:R,y1:j,x2:A,y2:I})))}var oN=function(t){function e(){return zae(this,e),Gae(this,e,arguments)}return Xae(e,t),Hae(e,[{key:"render",value:function(){return K.createElement(iie,this.props)}}])}(K.Component);sN(oN,"displayName","ReferenceLine");sN(oN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function V1(){return V1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},V1.apply(this,arguments)}function Jc(t){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(t)}function IR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function OR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IR(Object(r),!0).forEach(function(n){cg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,VL(n.key),n)}}function lie(t,e,r){return e&&oie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cie(t,e,r){return e=Jm(e),uie(t,FL()?Reflect.construct(e,r||[],Jm(t).constructor):e.apply(t,r))}function uie(t,e){if(e&&(Jc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return die(t)}function die(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FL=function(){return!!t})()}function Jm(t){return Jm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jm(t)}function hie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B1(t,e)}function B1(t,e){return B1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},B1(t,e)}function cg(t,e,r){return e=VL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VL(t){var e=fie(t,"string");return Jc(e)=="symbol"?e:e+""}function fie(t,e){if(Jc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pie=function(e){var r=e.x,n=e.y,a=e.xAxis,i=e.yAxis,l=tN({x:a.scale,y:i.scale}),c=l.apply({x:r,y:n},{bandAware:!0});return fi(e,"discard")&&!l.isInRange(c)?null:c},ug=function(t){function e(){return sie(this,e),cie(this,e,arguments)}return hie(e,t),lie(e,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,l=n.r,c=n.alwaysShow,d=n.clipPathId,h=Nr(a),p=Nr(i);if(qa(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!h||!p)return null;var m=pie(this.props);if(!m)return null;var y=m.x,x=m.y,k=this.props,w=k.shape,b=k.className,N=fi(this.props,"hidden")?"url(#".concat(d,")"):void 0,E=OR(OR({clipPath:N},Ye(this.props,!0)),{},{cx:y,cy:x});return K.createElement(wt,{className:tt("recharts-reference-dot",b)},e.renderDot(w,E),Rr.renderCallByParent(this.props,{x:y-l,y:x-l,width:2*l,height:2*l}))}}])}(K.Component);cg(ug,"displayName","ReferenceDot");cg(ug,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});cg(ug,"renderDot",function(t,e){var r;return K.isValidElement(t)?r=K.cloneElement(t,e):Qe(t)?r=t(e):r=K.createElement(eN,V1({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function U1(){return U1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},U1.apply(this,arguments)}function Zc(t){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(t)}function RR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function DR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RR(Object(r),!0).forEach(function(n){dg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,UL(n.key),n)}}function vie(t,e,r){return e&&gie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yie(t,e,r){return e=Zm(e),xie(t,BL()?Reflect.construct(e,r||[],Zm(t).constructor):e.apply(t,r))}function xie(t,e){if(e&&(Zc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bie(t)}function bie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BL=function(){return!!t})()}function Zm(t){return Zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zm(t)}function wie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q1(t,e)}function q1(t,e){return q1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},q1(t,e)}function dg(t,e,r){return e=UL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UL(t){var e=_ie(t,"string");return Zc(e)=="symbol"?e:e+""}function _ie(t,e){if(Zc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var kie=function(e,r,n,a,i){var l=i.x1,c=i.x2,d=i.y1,h=i.y2,p=i.xAxis,m=i.yAxis;if(!p||!m)return null;var y=tN({x:p.scale,y:m.scale}),x={x:e?y.x.apply(l,{position:"start"}):y.x.rangeMin,y:n?y.y.apply(d,{position:"start"}):y.y.rangeMin},k={x:r?y.x.apply(c,{position:"end"}):y.x.rangeMax,y:a?y.y.apply(h,{position:"end"}):y.y.rangeMax};return fi(i,"discard")&&(!y.isInRange(x)||!y.isInRange(k))?null:EL(x,k)},hg=function(t){function e(){return mie(this,e),yie(this,e,arguments)}return wie(e,t),vie(e,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,l=n.y1,c=n.y2,d=n.className,h=n.alwaysShow,p=n.clipPathId;qa(h===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=Nr(a),y=Nr(i),x=Nr(l),k=Nr(c),w=this.props.shape;if(!m&&!y&&!x&&!k&&!w)return null;var b=kie(m,y,x,k,this.props);if(!b&&!w)return null;var N=fi(this.props,"hidden")?"url(#".concat(p,")"):void 0;return K.createElement(wt,{className:tt("recharts-reference-area",d)},e.renderRect(w,DR(DR({clipPath:N},Ye(this.props,!0)),b)),Rr.renderCallByParent(this.props,b))}}])}(K.Component);dg(hg,"displayName","ReferenceArea");dg(hg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});dg(hg,"renderRect",function(t,e){var r;return K.isValidElement(t)?r=K.cloneElement(t,e):Qe(t)?r=t(e):r=K.createElement(Zj,U1({},e,{className:"recharts-reference-area-rect"})),r});function qL(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],a=0;a<t.length;a+=e)n.push(t[a]);return n}function jie(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Aae(n,r)}function Nie(t,e,r){var n=r==="width",a=t.x,i=t.y,l=t.width,c=t.height;return e===1?{start:n?a:i,end:n?a+l:i+c}:{start:n?a+l:i+c,end:n?a:i}}function e0(t,e,r,n,a){if(t*e<t*n||t*e>t*a)return!1;var i=r();return t*(e-t*i/2-n)>=0&&t*(e+t*i/2-a)<=0}function Sie(t,e){return qL(t,e+1)}function Tie(t,e,r,n,a){for(var i=(n||[]).slice(),l=e.start,c=e.end,d=0,h=1,p=l,m=function(){var k=n?.[d];if(k===void 0)return{v:qL(n,h)};var w=d,b,N=function(){return b===void 0&&(b=r(k,w)),b},E=k.coordinate,P=d===0||e0(t,E,N,p,c);P||(d=0,p=l,h+=1),P&&(p=E+t*(N()/2+a),d+=h)},y;h<=i.length;)if(y=m(),y)return y.v;return[]}function _h(t){"@babel/helpers - typeof";return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_h(t)}function MR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Zr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MR(Object(r),!0).forEach(function(n){Eie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Eie(t,e,r){return e=Aie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Aie(t){var e=Cie(t,"string");return _h(e)=="symbol"?e:e+""}function Cie(t,e){if(_h(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_h(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pie(t,e,r,n,a){for(var i=(n||[]).slice(),l=i.length,c=e.start,d=e.end,h=function(y){var x=i[y],k,w=function(){return k===void 0&&(k=r(x,y)),k};if(y===l-1){var b=t*(x.coordinate+t*w()/2-d);i[y]=x=Zr(Zr({},x),{},{tickCoord:b>0?x.coordinate-b*t:x.coordinate})}else i[y]=x=Zr(Zr({},x),{},{tickCoord:x.coordinate});var N=e0(t,x.tickCoord,w,c,d);N&&(d=x.tickCoord-t*(w()/2+a),i[y]=Zr(Zr({},x),{},{isShow:!0}))},p=l-1;p>=0;p--)h(p);return i}function Iie(t,e,r,n,a,i){var l=(n||[]).slice(),c=l.length,d=e.start,h=e.end;if(i){var p=n[c-1],m=r(p,c-1),y=t*(p.coordinate+t*m/2-h);l[c-1]=p=Zr(Zr({},p),{},{tickCoord:y>0?p.coordinate-y*t:p.coordinate});var x=e0(t,p.tickCoord,function(){return m},d,h);x&&(h=p.tickCoord-t*(m/2+a),l[c-1]=Zr(Zr({},p),{},{isShow:!0}))}for(var k=i?c-1:c,w=function(E){var P=l[E],R,j=function(){return R===void 0&&(R=r(P,E)),R};if(E===0){var C=t*(P.coordinate-t*j()/2-d);l[E]=P=Zr(Zr({},P),{},{tickCoord:C<0?P.coordinate-C*t:P.coordinate})}else l[E]=P=Zr(Zr({},P),{},{tickCoord:P.coordinate});var A=e0(t,P.tickCoord,j,d,h);A&&(d=P.tickCoord+t*(j()/2+a),l[E]=Zr(Zr({},P),{},{isShow:!0}))},b=0;b<k;b++)w(b);return l}function lN(t,e,r){var n=t.tick,a=t.ticks,i=t.viewBox,l=t.minTickGap,c=t.orientation,d=t.interval,h=t.tickFormatter,p=t.unit,m=t.angle;if(!a||!a.length||!n)return[];if(Ee(d)||fu.isSsr)return Sie(a,typeof d=="number"&&Ee(d)?d:0);var y=[],x=c==="top"||c==="bottom"?"width":"height",k=p&&x==="width"?Nd(p,{fontSize:e,letterSpacing:r}):{width:0,height:0},w=function(P,R){var j=Qe(h)?h(P.value,R):P.value;return x==="width"?jie(Nd(j,{fontSize:e,letterSpacing:r}),k,m):Nd(j,{fontSize:e,letterSpacing:r})[x]},b=a.length>=2?gn(a[1].coordinate-a[0].coordinate):1,N=Nie(i,b,x);return d==="equidistantPreserveStart"?Tie(b,N,w,a,l):(d==="preserveStart"||d==="preserveStartEnd"?y=Iie(b,N,w,a,l,d==="preserveStartEnd"):y=Pie(b,N,w,a,l),y.filter(function(E){return E.isShow}))}var Oie=["viewBox"],Rie=["viewBox"],Die=["ticks"];function eu(t){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eu(t)}function vc(){return vc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vc.apply(this,arguments)}function LR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function kr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LR(Object(r),!0).forEach(function(n){cN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function e_(t,e){if(t==null)return{};var r=Mie(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Mie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Lie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $R(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,WL(n.key),n)}}function $ie(t,e,r){return e&&$R(t.prototype,e),r&&$R(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fie(t,e,r){return e=t0(e),Vie(t,zL()?Reflect.construct(e,r||[],t0(t).constructor):e.apply(t,r))}function Vie(t,e){if(e&&(eu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bie(t)}function Bie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zL=function(){return!!t})()}function t0(t){return t0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},t0(t)}function Uie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z1(t,e)}function z1(t,e){return z1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},z1(t,e)}function cN(t,e,r){return e=WL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WL(t){var e=qie(t,"string");return eu(e)=="symbol"?e:e+""}function qie(t,e){if(eu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(eu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vu=function(t){function e(r){var n;return Lie(this,e),n=Fie(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return Uie(e,t),$ie(e,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,l=e_(n,Oie),c=this.props,d=c.viewBox,h=e_(c,Rie);return!jc(i,d)||!jc(l,h)||!jc(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,l=a.y,c=a.width,d=a.height,h=a.orientation,p=a.tickSize,m=a.mirror,y=a.tickMargin,x,k,w,b,N,E,P=m?-1:1,R=n.tickSize||p,j=Ee(n.tickCoord)?n.tickCoord:n.coordinate;switch(h){case"top":x=k=n.coordinate,b=l+ +!m*d,w=b-P*R,E=w-P*y,N=j;break;case"left":w=b=n.coordinate,k=i+ +!m*c,x=k-P*R,N=x-P*y,E=j;break;case"right":w=b=n.coordinate,k=i+ +m*c,x=k+P*R,N=x+P*y,E=j;break;default:x=k=n.coordinate,b=l+ +m*d,w=b+P*R,E=w+P*y,N=j;break}return{line:{x1:x,y1:w,x2:k,y2:b},tick:{x:N,y:E}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,l;switch(a){case"left":l=i?"start":"end";break;case"right":l=i?"end":"start";break;default:l="middle";break}return l}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,l="end";switch(a){case"left":case"right":l="middle";break;case"top":l=i?"start":"end";break;default:l=i?"end":"start";break}return l}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,l=n.width,c=n.height,d=n.orientation,h=n.mirror,p=n.axisLine,m=kr(kr(kr({},Ye(this.props,!1)),Ye(p,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var y=+(d==="top"&&!h||d==="bottom"&&h);m=kr(kr({},m),{},{x1:a,y1:i+y*c,x2:a+l,y2:i+y*c})}else{var x=+(d==="left"&&!h||d==="right"&&h);m=kr(kr({},m),{},{x1:a+x*l,y1:i,x2:a+x*l,y2:i+c})}return K.createElement("line",vc({},m,{className:tt("recharts-cartesian-axis-line",Zn(p,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var l=this,c=this.props,d=c.tickLine,h=c.stroke,p=c.tick,m=c.tickFormatter,y=c.unit,x=lN(kr(kr({},this.props),{},{ticks:n}),a,i),k=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),b=Ye(this.props,!1),N=Ye(p,!1),E=kr(kr({},b),{},{fill:"none"},Ye(d,!1)),P=x.map(function(R,j){var C=l.getTickLineCoord(R),A=C.line,I=C.tick,L=kr(kr(kr(kr({textAnchor:k,verticalAnchor:w},b),{},{stroke:"none",fill:h},N),I),{},{index:j,payload:R,visibleTicksCount:x.length,tickFormatter:m});return K.createElement(wt,vc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(R.value,"-").concat(R.coordinate,"-").concat(R.tickCoord)},pl(l.props,R,j)),d&&K.createElement("line",vc({},E,A,{className:tt("recharts-cartesian-axis-tick-line",Zn(d,"className"))})),p&&e.renderTickItem(p,L,"".concat(Qe(m)?m(R.value,j):R.value).concat(y||"")))});return K.createElement("g",{className:"recharts-cartesian-axis-ticks"},P)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,l=a.width,c=a.height,d=a.ticksGenerator,h=a.className,p=a.hide;if(p)return null;var m=this.props,y=m.ticks,x=e_(m,Die),k=y;return Qe(d)&&(k=y&&y.length>0?d(this.props):d(x)),l<=0||c<=0||!k||!k.length?null:K.createElement(wt,{className:tt("recharts-cartesian-axis",h),ref:function(b){n.layerReference=b}},i&&this.renderAxisLine(),this.renderTicks(k,this.state.fontSize,this.state.letterSpacing),Rr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var l,c=tt(a.className,"recharts-cartesian-axis-tick-value");return K.isValidElement(n)?l=K.cloneElement(n,kr(kr({},a),{},{className:c})):Qe(n)?l=n(kr(kr({},a),{},{className:c})):l=K.createElement(ml,vc({},a,{className:"recharts-cartesian-axis-tick-value"}),i),l}}])}(B.Component);cN(vu,"displayName","CartesianAxis");cN(vu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var zie=["x1","y1","x2","y2","key"],Wie=["offset"];function yl(t){"@babel/helpers - typeof";return yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yl(t)}function FR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function rn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FR(Object(r),!0).forEach(function(n){Hie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hie(t,e,r){return e=Gie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gie(t){var e=Kie(t,"string");return yl(e)=="symbol"?e:e+""}function Kie(t,e){if(yl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tl(){return tl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tl.apply(this,arguments)}function VR(t,e){if(t==null)return{};var r=Yie(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Yie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Xie=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,a=e.x,i=e.y,l=e.width,c=e.height,d=e.ry;return K.createElement("rect",{x:a,y:i,ry:d,width:l,height:c,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function HL(t,e){var r;if(K.isValidElement(t))r=K.cloneElement(t,e);else if(Qe(t))r=t(e);else{var n=e.x1,a=e.y1,i=e.x2,l=e.y2,c=e.key,d=VR(e,zie),h=Ye(d,!1);h.offset;var p=VR(h,Wie);r=K.createElement("line",tl({},p,{x1:n,y1:a,x2:i,y2:l,fill:"none",key:c}))}return r}function Qie(t){var e=t.x,r=t.width,n=t.horizontal,a=n===void 0?!0:n,i=t.horizontalPoints;if(!a||!i||!i.length)return null;var l=i.map(function(c,d){var h=rn(rn({},t),{},{x1:e,y1:c,x2:e+r,y2:c,key:"line-".concat(d),index:d});return HL(a,h)});return K.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function Jie(t){var e=t.y,r=t.height,n=t.vertical,a=n===void 0?!0:n,i=t.verticalPoints;if(!a||!i||!i.length)return null;var l=i.map(function(c,d){var h=rn(rn({},t),{},{x1:c,y1:e,x2:c,y2:e+r,key:"line-".concat(d),index:d});return HL(a,h)});return K.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Zie(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,a=t.y,i=t.width,l=t.height,c=t.horizontalPoints,d=t.horizontal,h=d===void 0?!0:d;if(!h||!e||!e.length)return null;var p=c.map(function(y){return Math.round(y+a-a)}).sort(function(y,x){return y-x});a!==p[0]&&p.unshift(0);var m=p.map(function(y,x){var k=!p[x+1],w=k?a+l-y:p[x+1]-y;if(w<=0)return null;var b=x%e.length;return K.createElement("rect",{key:"react-".concat(x),y,x:n,height:w,width:i,stroke:"none",fill:e[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function ese(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,a=t.fillOpacity,i=t.x,l=t.y,c=t.width,d=t.height,h=t.verticalPoints;if(!r||!n||!n.length)return null;var p=h.map(function(y){return Math.round(y+i-i)}).sort(function(y,x){return y-x});i!==p[0]&&p.unshift(0);var m=p.map(function(y,x){var k=!p[x+1],w=k?i+c-y:p[x+1]-y;if(w<=0)return null;var b=x%n.length;return K.createElement("rect",{key:"react-".concat(x),x:y,y:l,width:w,height:d,stroke:"none",fill:n[b],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var tse=function(e,r){var n=e.xAxis,a=e.width,i=e.height,l=e.offset;return K6(lN(rn(rn(rn({},vu.defaultProps),n),{},{ticks:Xi(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),l.left,l.left+l.width,r)},rse=function(e,r){var n=e.yAxis,a=e.width,i=e.height,l=e.offset;return K6(lN(rn(rn(rn({},vu.defaultProps),n),{},{ticks:Xi(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),l.top,l.top+l.height,r)},cc={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function uN(t){var e,r,n,a,i,l,c=aN(),d=iN(),h=qae(),p=rn(rn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:cc.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:cc.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:cc.horizontal,horizontalFill:(a=t.horizontalFill)!==null&&a!==void 0?a:cc.horizontalFill,vertical:(i=t.vertical)!==null&&i!==void 0?i:cc.vertical,verticalFill:(l=t.verticalFill)!==null&&l!==void 0?l:cc.verticalFill,x:Ee(t.x)?t.x:h.left,y:Ee(t.y)?t.y:h.top,width:Ee(t.width)?t.width:h.width,height:Ee(t.height)?t.height:h.height}),m=p.x,y=p.y,x=p.width,k=p.height,w=p.syncWithTicks,b=p.horizontalValues,N=p.verticalValues,E=Vae(),P=Bae();if(!Ee(x)||x<=0||!Ee(k)||k<=0||!Ee(m)||m!==+m||!Ee(y)||y!==+y)return null;var R=p.verticalCoordinatesGenerator||tse,j=p.horizontalCoordinatesGenerator||rse,C=p.horizontalPoints,A=p.verticalPoints;if((!C||!C.length)&&Qe(j)){var I=b&&b.length,L=j({yAxis:P?rn(rn({},P),{},{ticks:I?b:P.ticks}):void 0,width:c,height:d,offset:h},I?!0:w);qa(Array.isArray(L),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(yl(L),"]")),Array.isArray(L)&&(C=L)}if((!A||!A.length)&&Qe(R)){var O=N&&N.length,D=R({xAxis:E?rn(rn({},E),{},{ticks:O?N:E.ticks}):void 0,width:c,height:d,offset:h},O?!0:w);qa(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(yl(D),"]")),Array.isArray(D)&&(A=D)}return K.createElement("g",{className:"recharts-cartesian-grid"},K.createElement(Xie,{fill:p.fill,fillOpacity:p.fillOpacity,x:p.x,y:p.y,width:p.width,height:p.height,ry:p.ry}),K.createElement(Qie,tl({},p,{offset:h,horizontalPoints:C,xAxis:E,yAxis:P})),K.createElement(Jie,tl({},p,{offset:h,verticalPoints:A,xAxis:E,yAxis:P})),K.createElement(Zie,tl({},p,{horizontalPoints:C})),K.createElement(ese,tl({},p,{verticalPoints:A})))}uN.displayName="CartesianGrid";function tu(t){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tu(t)}function nse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ase(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,YL(n.key),n)}}function ise(t,e,r){return e&&ase(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sse(t,e,r){return e=r0(e),ose(t,GL()?Reflect.construct(e,r||[],r0(t).constructor):e.apply(t,r))}function ose(t,e){if(e&&(tu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lse(t)}function lse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GL=function(){return!!t})()}function r0(t){return r0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},r0(t)}function cse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W1(t,e)}function W1(t,e){return W1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},W1(t,e)}function KL(t,e,r){return e=YL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YL(t){var e=use(t,"string");return tu(e)=="symbol"?e:e+""}function use(t,e){if(tu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function H1(){return H1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},H1.apply(this,arguments)}function dse(t){var e=t.xAxisId,r=aN(),n=iN(),a=DL(e);return a==null?null:B.createElement(vu,H1({},a,{className:tt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(l){return Xi(l,!0)}}))}var Qh=function(t){function e(){return nse(this,e),sse(this,e,arguments)}return cse(e,t),ise(e,[{key:"render",value:function(){return B.createElement(dse,this.props)}}])}(B.Component);KL(Qh,"displayName","XAxis");KL(Qh,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function ru(t){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ru(t)}function hse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fse(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,JL(n.key),n)}}function pse(t,e,r){return e&&fse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mse(t,e,r){return e=n0(e),gse(t,XL()?Reflect.construct(e,r||[],n0(t).constructor):e.apply(t,r))}function gse(t,e){if(e&&(ru(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vse(t)}function vse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XL=function(){return!!t})()}function n0(t){return n0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},n0(t)}function yse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&G1(t,e)}function G1(t,e){return G1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},G1(t,e)}function QL(t,e,r){return e=JL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JL(t){var e=xse(t,"string");return ru(e)=="symbol"?e:e+""}function xse(t,e){if(ru(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ru(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function K1(){return K1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},K1.apply(this,arguments)}var bse=function(e){var r=e.yAxisId,n=aN(),a=iN(),i=ML(r);return i==null?null:B.createElement(vu,K1({},i,{className:tt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(c){return Xi(c,!0)}}))},Jh=function(t){function e(){return hse(this,e),mse(this,e,arguments)}return yse(e,t),pse(e,[{key:"render",value:function(){return B.createElement(bse,this.props)}}])}(B.Component);QL(Jh,"displayName","YAxis");QL(Jh,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function BR(t){return jse(t)||kse(t)||_se(t)||wse()}function wse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _se(t,e){if(t){if(typeof t=="string")return Y1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y1(t,e)}}function kse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jse(t){if(Array.isArray(t))return Y1(t)}function Y1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var X1=function(e,r,n,a,i){var l=_a(e,oN),c=_a(e,ug),d=[].concat(BR(l),BR(c)),h=_a(e,hg),p="".concat(a,"Id"),m=a[0],y=r;if(d.length&&(y=d.reduce(function(w,b){if(b.props[p]===n&&fi(b.props,"extendDomain")&&Ee(b.props[m])){var N=b.props[m];return[Math.min(w[0],N),Math.max(w[1],N)]}return w},y)),h.length){var x="".concat(m,"1"),k="".concat(m,"2");y=h.reduce(function(w,b){if(b.props[p]===n&&fi(b.props,"extendDomain")&&Ee(b.props[x])&&Ee(b.props[k])){var N=b.props[x],E=b.props[k];return[Math.min(w[0],N,E),Math.max(w[1],N,E)]}return w},y)}return i&&i.length&&(y=i.reduce(function(w,b){return Ee(b)?[Math.min(w[0],b),Math.max(w[1],b)]:w},y)),y},t_={exports:{}},UR;function Nse(){return UR||(UR=1,function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(d,h,p){this.fn=d,this.context=h,this.once=p||!1}function i(d,h,p,m,y){if(typeof p!="function")throw new TypeError("The listener must be a function");var x=new a(p,m||d,y),k=r?r+h:h;return d._events[k]?d._events[k].fn?d._events[k]=[d._events[k],x]:d._events[k].push(x):(d._events[k]=x,d._eventsCount++),d}function l(d,h){--d._eventsCount===0?d._events=new n:delete d._events[h]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var h=[],p,m;if(this._eventsCount===0)return h;for(m in p=this._events)e.call(p,m)&&h.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},c.prototype.listeners=function(h){var p=r?r+h:h,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var y=0,x=m.length,k=new Array(x);y<x;y++)k[y]=m[y].fn;return k},c.prototype.listenerCount=function(h){var p=r?r+h:h,m=this._events[p];return m?m.fn?1:m.length:0},c.prototype.emit=function(h,p,m,y,x,k){var w=r?r+h:h;if(!this._events[w])return!1;var b=this._events[w],N=arguments.length,E,P;if(b.fn){switch(b.once&&this.removeListener(h,b.fn,void 0,!0),N){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,p),!0;case 3:return b.fn.call(b.context,p,m),!0;case 4:return b.fn.call(b.context,p,m,y),!0;case 5:return b.fn.call(b.context,p,m,y,x),!0;case 6:return b.fn.call(b.context,p,m,y,x,k),!0}for(P=1,E=new Array(N-1);P<N;P++)E[P-1]=arguments[P];b.fn.apply(b.context,E)}else{var R=b.length,j;for(P=0;P<R;P++)switch(b[P].once&&this.removeListener(h,b[P].fn,void 0,!0),N){case 1:b[P].fn.call(b[P].context);break;case 2:b[P].fn.call(b[P].context,p);break;case 3:b[P].fn.call(b[P].context,p,m);break;case 4:b[P].fn.call(b[P].context,p,m,y);break;default:if(!E)for(j=1,E=new Array(N-1);j<N;j++)E[j-1]=arguments[j];b[P].fn.apply(b[P].context,E)}}return!0},c.prototype.on=function(h,p,m){return i(this,h,p,m,!1)},c.prototype.once=function(h,p,m){return i(this,h,p,m,!0)},c.prototype.removeListener=function(h,p,m,y){var x=r?r+h:h;if(!this._events[x])return this;if(!p)return l(this,x),this;var k=this._events[x];if(k.fn)k.fn===p&&(!y||k.once)&&(!m||k.context===m)&&l(this,x);else{for(var w=0,b=[],N=k.length;w<N;w++)(k[w].fn!==p||y&&!k[w].once||m&&k[w].context!==m)&&b.push(k[w]);b.length?this._events[x]=b.length===1?b[0]:b:l(this,x)}return this},c.prototype.removeAllListeners=function(h){var p;return h?(p=r?r+h:h,this._events[p]&&l(this,p)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,t.exports=c}(t_)),t_.exports}var Sse=Nse();const Tse=xt(Sse);var r_=new Tse,n_="recharts.syncMouseEvents";function kh(t){"@babel/helpers - typeof";return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kh(t)}function Ese(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ase(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ZL(n.key),n)}}function Cse(t,e,r){return e&&Ase(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function a_(t,e,r){return e=ZL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZL(t){var e=Pse(t,"string");return kh(e)=="symbol"?e:e+""}function Pse(t,e){if(kh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ise=function(){function t(){Ese(this,t),a_(this,"activeIndex",0),a_(this,"coordinateList",[]),a_(this,"layout","horizontal")}return Cse(t,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,l=r.container,c=l===void 0?null:l,d=r.layout,h=d===void 0?null:d,p=r.offset,m=p===void 0?null:p,y=r.mouseHandlerCallback,x=y===void 0?null:y;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=c??this.container,this.layout=h??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=x??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,l=a.y,c=a.height,d=this.coordinateList[this.activeIndex].coordinate,h=((r=window)===null||r===void 0?void 0:r.scrollX)||0,p=((n=window)===null||n===void 0?void 0:n.scrollY)||0,m=i+d+h,y=l+this.offset.top+c/2+p;this.mouseHandlerCallback({pageX:m,pageY:y})}}}])}();function Ose(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t?.[0],a=t?.[1];if(n&&a&&Ee(n)&&Ee(a))return!0}return!1}function Rse(t,e,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function e$(t){var e=t.cx,r=t.cy,n=t.radius,a=t.startAngle,i=t.endAngle,l=Rt(e,r,n,a),c=Rt(e,r,n,i);return{points:[l,c],cx:e,cy:r,radius:n,startAngle:a,endAngle:i}}function Dse(t,e,r){var n,a,i,l;if(t==="horizontal")n=e.x,i=n,a=r.top,l=r.top+r.height;else if(t==="vertical")a=e.y,l=a,n=r.left,i=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var c=e.cx,d=e.cy,h=e.innerRadius,p=e.outerRadius,m=e.angle,y=Rt(c,d,h,m),x=Rt(c,d,p,m);n=y.x,a=y.y,i=x.x,l=x.y}else return e$(e);return[{x:n,y:a},{x:i,y:l}]}function jh(t){"@babel/helpers - typeof";return jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jh(t)}function qR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ip(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qR(Object(r),!0).forEach(function(n){Mse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mse(t,e,r){return e=Lse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lse(t){var e=$se(t,"string");return jh(e)=="symbol"?e:e+""}function $se(t,e){if(jh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fse(t){var e,r,n=t.element,a=t.tooltipEventType,i=t.isActive,l=t.activeCoordinate,c=t.activePayload,d=t.offset,h=t.activeTooltipIndex,p=t.tooltipAxisBandSize,m=t.layout,y=t.chartName,x=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!x||!i||!l||y!=="ScatterChart"&&a!=="axis")return null;var k,w=x1;if(y==="ScatterChart")k=l,w=bre;else if(y==="BarChart")k=Rse(m,l,d,p),w=Zj;else if(m==="radial"){var b=e$(l),N=b.cx,E=b.cy,P=b.radius,R=b.startAngle,j=b.endAngle;k={cx:N,cy:E,startAngle:R,endAngle:j,innerRadius:P,outerRadius:P},w=Jj}else k={points:Dse(m,l,d)},w=x1;var C=Ip(Ip(Ip(Ip({stroke:"#ccc",pointerEvents:"none"},d),k),Ye(x,!1)),{},{payload:c,payloadIndex:h,className:tt("recharts-tooltip-cursor",x.className)});return B.isValidElement(x)?B.cloneElement(x,C):B.createElement(w,C)}var Vse=["item"],Bse=["children","className","width","height","style","compact","title","desc"];function nu(t){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nu(t)}function yc(){return yc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yc.apply(this,arguments)}function zR(t,e){return zse(t)||qse(t,e)||r$(t,e)||Use()}function Use(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qse(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,l,c=[],d=!0,h=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return c}}function zse(t){if(Array.isArray(t))return t}function WR(t,e){if(t==null)return{};var r=Wse(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Wse(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Hse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gse(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n$(n.key),n)}}function Kse(t,e,r){return e&&Gse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yse(t,e,r){return e=a0(e),Xse(t,t$()?Reflect.construct(e,r||[],a0(t).constructor):e.apply(t,r))}function Xse(t,e){if(e&&(nu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qse(t)}function Qse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t$=function(){return!!t})()}function a0(t){return a0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},a0(t)}function Jse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Q1(t,e)}function Q1(t,e){return Q1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Q1(t,e)}function au(t){return toe(t)||eoe(t)||r$(t)||Zse()}function Zse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r$(t,e){if(t){if(typeof t=="string")return J1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J1(t,e)}}function eoe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function toe(t){if(Array.isArray(t))return J1(t)}function J1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function HR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ve(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HR(Object(r),!0).forEach(function(n){Ge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ge(t,e,r){return e=n$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n$(t){var e=roe(t,"string");return nu(e)=="symbol"?e:e+""}function roe(t,e){if(nu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var noe={xAxis:["bottom","top"],yAxis:["left","right"]},aoe={width:"100%",height:"100%"},a$={x:0,y:0};function Op(t){return t}var ioe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},soe=function(e,r,n,a){var i=r.find(function(p){return p&&p.index===n});if(i){if(e==="horizontal")return{x:i.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:i.coordinate};if(e==="centric"){var l=i.coordinate,c=a.radius;return ve(ve(ve({},a),Rt(a.cx,a.cy,c,l)),{},{angle:l,radius:c})}var d=i.coordinate,h=a.angle;return ve(ve(ve({},a),Rt(a.cx,a.cy,d,h)),{},{angle:h,radius:d})}return a$},fg=function(e,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,l=(n??[]).reduce(function(c,d){var h=d.props.data;return h&&h.length?[].concat(au(c),au(h)):c},[]);return l.length>0?l:e&&e.length&&Ee(a)&&Ee(i)?e.slice(a,i+1):[]};function i$(t){return t==="number"?[0,"auto"]:void 0}var Z1=function(e,r,n,a){var i=e.graphicalItems,l=e.tooltipAxis,c=fg(r,e);return n<0||!i||!i.length||n>=c.length?null:i.reduce(function(d,h){var p,m=(p=h.props.data)!==null&&p!==void 0?p:r;m&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(m=m.slice(e.dataStartIndex,e.dataEndIndex+1));var y;if(l.dataKey&&!l.allowDuplicatedCategory){var x=m===void 0?c:m;y=R_(x,l.dataKey,a)}else y=m&&m[n]||c[n];return y?[].concat(au(d),[Z6(h,y)]):d},[])},GR=function(e,r,n,a){var i=a||{x:e.chartX,y:e.chartY},l=ioe(i,n),c=e.orderedTooltipTicks,d=e.tooltipAxis,h=e.tooltipTicks,p=WJ(l,c,h,d);if(p>=0&&h){var m=h[p]&&h[p].value,y=Z1(e,r,p,m),x=soe(n,c,p,i);return{activeTooltipIndex:p,activeLabel:m,activePayload:y,activeCoordinate:x}}return null},ooe=function(e,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,l=r.axisIdKey,c=r.stackGroups,d=r.dataStartIndex,h=r.dataEndIndex,p=e.layout,m=e.children,y=e.stackOffset,x=G6(p,i);return n.reduce(function(k,w){var b,N=w.type.defaultProps!==void 0?ve(ve({},w.type.defaultProps),w.props):w.props,E=N.type,P=N.dataKey,R=N.allowDataOverflow,j=N.allowDuplicatedCategory,C=N.scale,A=N.ticks,I=N.includeHidden,L=N[l];if(k[L])return k;var O=fg(e.data,{graphicalItems:a.filter(function(J){var X,le=l in J.props?J.props[l]:(X=J.type.defaultProps)===null||X===void 0?void 0:X[l];return le===L}),dataStartIndex:d,dataEndIndex:h}),D=O.length,F,$,ae;Ose(N.domain,R,E)&&(F=p1(N.domain,null,R),x&&(E==="number"||C!=="auto")&&(ae=Td(O,P,"category")));var ee=i$(E);if(!F||F.length===0){var G,ne=(G=N.domain)!==null&&G!==void 0?G:ee;if(P){if(F=Td(O,P,E),E==="category"&&x){var Q=Fz(F);j&&Q?($=F,F=Hm(0,D)):j||(F=YI(ne,F,w).reduce(function(J,X){return J.indexOf(X)>=0?J:[].concat(au(J),[X])},[]))}else if(E==="category")j?F=F.filter(function(J){return J!==""&&!at(J)}):F=YI(ne,F,w).reduce(function(J,X){return J.indexOf(X)>=0||X===""||at(X)?J:[].concat(au(J),[X])},[]);else if(E==="number"){var Z=XJ(O,a.filter(function(J){var X,le,ge=l in J.props?J.props[l]:(X=J.type.defaultProps)===null||X===void 0?void 0:X[l],he="hide"in J.props?J.props.hide:(le=J.type.defaultProps)===null||le===void 0?void 0:le.hide;return ge===L&&(I||!he)}),P,i,p);Z&&(F=Z)}x&&(E==="number"||C!=="auto")&&(ae=Td(O,P,"category"))}else x?F=Hm(0,D):c&&c[L]&&c[L].hasStack&&E==="number"?F=y==="expand"?[0,1]:J6(c[L].stackGroups,d,h):F=H6(O,a.filter(function(J){var X=l in J.props?J.props[l]:J.type.defaultProps[l],le="hide"in J.props?J.props.hide:J.type.defaultProps.hide;return X===L&&(I||!le)}),E,p,!0);if(E==="number")F=X1(m,F,L,i,A),ne&&(F=p1(ne,F,R));else if(E==="category"&&ne){var re=ne,W=F.every(function(J){return re.indexOf(J)>=0});W&&(F=re)}}return ve(ve({},k),{},Ge({},L,ve(ve({},N),{},{axisType:i,domain:F,categoricalDomain:ae,duplicateDomain:$,originalDomain:(b=N.domain)!==null&&b!==void 0?b:ee,isCategorical:x,layout:p})))},{})},loe=function(e,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,l=r.axisIdKey,c=r.stackGroups,d=r.dataStartIndex,h=r.dataEndIndex,p=e.layout,m=e.children,y=fg(e.data,{graphicalItems:n,dataStartIndex:d,dataEndIndex:h}),x=y.length,k=G6(p,i),w=-1;return n.reduce(function(b,N){var E=N.type.defaultProps!==void 0?ve(ve({},N.type.defaultProps),N.props):N.props,P=E[l],R=i$("number");if(!b[P]){w++;var j;return k?j=Hm(0,x):c&&c[P]&&c[P].hasStack?(j=J6(c[P].stackGroups,d,h),j=X1(m,j,P,i)):(j=p1(R,H6(y,n.filter(function(C){var A,I,L=l in C.props?C.props[l]:(A=C.type.defaultProps)===null||A===void 0?void 0:A[l],O="hide"in C.props?C.props.hide:(I=C.type.defaultProps)===null||I===void 0?void 0:I.hide;return L===P&&!O}),"number",p),a.defaultProps.allowDataOverflow),j=X1(m,j,P,i)),ve(ve({},b),{},Ge({},P,ve(ve({axisType:i},a.defaultProps),{},{hide:!0,orientation:Zn(noe,"".concat(i,".").concat(w%2),null),domain:j,originalDomain:R,isCategorical:k,layout:p})))}return b},{})},coe=function(e,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,l=r.graphicalItems,c=r.stackGroups,d=r.dataStartIndex,h=r.dataEndIndex,p=e.children,m="".concat(a,"Id"),y=_a(p,i),x={};return y&&y.length?x=ooe(e,{axes:y,graphicalItems:l,axisType:a,axisIdKey:m,stackGroups:c,dataStartIndex:d,dataEndIndex:h}):l&&l.length&&(x=loe(e,{Axis:i,graphicalItems:l,axisType:a,axisIdKey:m,stackGroups:c,dataStartIndex:d,dataEndIndex:h})),x},uoe=function(e){var r=Ks(e),n=Xi(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:jj(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Rm(r,n)}},KR=function(e){var r=e.children,n=e.defaultShowTooltip,a=Kn(r,Yc),i=0,l=0;return e.data&&e.data.length!==0&&(l=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(l=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:l,activeTooltipIndex:-1,isTooltipActive:!!n}},doe=function(e){return!e||!e.length?!1:e.some(function(r){var n=Qi(r&&r.type);return n&&n.indexOf("Bar")>=0})},YR=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},hoe=function(e,r){var n=e.props,a=e.graphicalItems,i=e.xAxisMap,l=i===void 0?{}:i,c=e.yAxisMap,d=c===void 0?{}:c,h=n.width,p=n.height,m=n.children,y=n.margin||{},x=Kn(m,Yc),k=Kn(m,to),w=Object.keys(d).reduce(function(j,C){var A=d[C],I=A.orientation;return!A.mirror&&!A.hide?ve(ve({},j),{},Ge({},I,j[I]+A.width)):j},{left:y.left||0,right:y.right||0}),b=Object.keys(l).reduce(function(j,C){var A=l[C],I=A.orientation;return!A.mirror&&!A.hide?ve(ve({},j),{},Ge({},I,Zn(j,"".concat(I))+A.height)):j},{top:y.top||0,bottom:y.bottom||0}),N=ve(ve({},b),w),E=N.bottom;x&&(N.bottom+=x.props.height||Yc.defaultProps.height),k&&r&&(N=KJ(N,a,n,r));var P=h-N.left-N.right,R=p-N.top-N.bottom;return ve(ve({brushBottom:E},N),{},{width:Math.max(P,0),height:Math.max(R,0)})},foe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},s$=function(e){var r=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,i=a===void 0?"axis":a,l=e.validateTooltipEventTypes,c=l===void 0?["axis"]:l,d=e.axisComponents,h=e.legendContent,p=e.formatAxisMap,m=e.defaultProps,y=function(N,E){var P=E.graphicalItems,R=E.stackGroups,j=E.offset,C=E.updateId,A=E.dataStartIndex,I=E.dataEndIndex,L=N.barSize,O=N.layout,D=N.barGap,F=N.barCategoryGap,$=N.maxBarSize,ae=YR(O),ee=ae.numericAxisName,G=ae.cateAxisName,ne=doe(P),Q=[];return P.forEach(function(Z,re){var W=fg(N.data,{graphicalItems:[Z],dataStartIndex:A,dataEndIndex:I}),J=Z.type.defaultProps!==void 0?ve(ve({},Z.type.defaultProps),Z.props):Z.props,X=J.dataKey,le=J.maxBarSize,ge=J["".concat(ee,"Id")],he=J["".concat(G,"Id")],de={},be=d.reduce(function(Mt,Mr){var cn=E["".concat(Mr.axisType,"Map")],dr=J["".concat(Mr.axisType,"Id")];cn&&cn[dr]||Mr.axisType==="zAxis"||vl();var Ln=cn[dr];return ve(ve({},Mt),{},Ge(Ge({},Mr.axisType,Ln),"".concat(Mr.axisType,"Ticks"),Xi(Ln)))},de),z=be[G],me=be["".concat(G,"Ticks")],xe=R&&R[ge]&&R[ge].hasStack&&iZ(Z,R[ge].stackGroups),q=Qi(Z.type).indexOf("Bar")>=0,ue=Rm(z,me),_e=[],Ie=ne&&HJ({barSize:L,stackGroups:R,totalSize:foe(be,G)});if(q){var Ue,tr,yr=at(le)?$:le,ln=(Ue=(tr=Rm(z,me,!0))!==null&&tr!==void 0?tr:yr)!==null&&Ue!==void 0?Ue:0;_e=GJ({barGap:D,barCategoryGap:F,bandSize:ln!==ue?ln:ue,sizeList:Ie[he],maxBarSize:yr}),ln!==ue&&(_e=_e.map(function(Mt){return ve(ve({},Mt),{},{position:ve(ve({},Mt.position),{},{offset:Mt.position.offset-ln/2})})}))}var Dt=Z&&Z.type&&Z.type.getComposedData;Dt&&Q.push({props:ve(ve({},Dt(ve(ve({},be),{},{displayedData:W,props:N,dataKey:X,item:Z,bandSize:ue,barPosition:_e,offset:j,stackedData:xe,layout:O,dataStartIndex:A,dataEndIndex:I}))),{},Ge(Ge(Ge({key:Z.key||"item-".concat(re)},ee,be[ee]),G,be[G]),"animationId",C)),childIndex:Qz(Z,N.children),item:Z})}),Q},x=function(N,E){var P=N.props,R=N.dataStartIndex,j=N.dataEndIndex,C=N.updateId;if(!u2({props:P}))return null;var A=P.children,I=P.layout,L=P.stackOffset,O=P.data,D=P.reverseStackOrder,F=YR(I),$=F.numericAxisName,ae=F.cateAxisName,ee=_a(A,n),G=nZ(O,ee,"".concat($,"Id"),"".concat(ae,"Id"),L,D),ne=d.reduce(function(J,X){var le="".concat(X.axisType,"Map");return ve(ve({},J),{},Ge({},le,coe(P,ve(ve({},X),{},{graphicalItems:ee,stackGroups:X.axisType===$&&G,dataStartIndex:R,dataEndIndex:j}))))},{}),Q=hoe(ve(ve({},ne),{},{props:P,graphicalItems:ee}),E?.legendBBox);Object.keys(ne).forEach(function(J){ne[J]=p(P,ne[J],Q,J.replace("Map",""),r)});var Z=ne["".concat(ae,"Map")],re=uoe(Z),W=y(P,ve(ve({},ne),{},{dataStartIndex:R,dataEndIndex:j,updateId:C,graphicalItems:ee,stackGroups:G,offset:Q}));return ve(ve({formattedGraphicalItems:W,graphicalItems:ee,offset:Q,stackGroups:G},re),ne)},k=function(b){function N(E){var P,R,j;return Hse(this,N),j=Yse(this,N,[E]),Ge(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ge(j,"accessibilityManager",new Ise),Ge(j,"handleLegendBBoxUpdate",function(C){if(C){var A=j.state,I=A.dataStartIndex,L=A.dataEndIndex,O=A.updateId;j.setState(ve({legendBBox:C},x({props:j.props,dataStartIndex:I,dataEndIndex:L,updateId:O},ve(ve({},j.state),{},{legendBBox:C}))))}}),Ge(j,"handleReceiveSyncEvent",function(C,A,I){if(j.props.syncId===C){if(I===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(A)}}),Ge(j,"handleBrushChange",function(C){var A=C.startIndex,I=C.endIndex;if(A!==j.state.dataStartIndex||I!==j.state.dataEndIndex){var L=j.state.updateId;j.setState(function(){return ve({dataStartIndex:A,dataEndIndex:I},x({props:j.props,dataStartIndex:A,dataEndIndex:I,updateId:L},j.state))}),j.triggerSyncEvent({dataStartIndex:A,dataEndIndex:I})}}),Ge(j,"handleMouseEnter",function(C){var A=j.getMouseInfo(C);if(A){var I=ve(ve({},A),{},{isTooltipActive:!0});j.setState(I),j.triggerSyncEvent(I);var L=j.props.onMouseEnter;Qe(L)&&L(I,C)}}),Ge(j,"triggeredAfterMouseMove",function(C){var A=j.getMouseInfo(C),I=A?ve(ve({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(I),j.triggerSyncEvent(I);var L=j.props.onMouseMove;Qe(L)&&L(I,C)}),Ge(j,"handleItemMouseEnter",function(C){j.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),Ge(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),Ge(j,"handleMouseMove",function(C){C.persist(),j.throttleTriggeredAfterMouseMove(C)}),Ge(j,"handleMouseLeave",function(C){j.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};j.setState(A),j.triggerSyncEvent(A);var I=j.props.onMouseLeave;Qe(I)&&I(A,C)}),Ge(j,"handleOuterEvent",function(C){var A=Xz(C),I=Zn(j.props,"".concat(A));if(A&&Qe(I)){var L,O;/.*touch.*/i.test(A)?O=j.getMouseInfo(C.changedTouches[0]):O=j.getMouseInfo(C),I((L=O)!==null&&L!==void 0?L:{},C)}}),Ge(j,"handleClick",function(C){var A=j.getMouseInfo(C);if(A){var I=ve(ve({},A),{},{isTooltipActive:!0});j.setState(I),j.triggerSyncEvent(I);var L=j.props.onClick;Qe(L)&&L(I,C)}}),Ge(j,"handleMouseDown",function(C){var A=j.props.onMouseDown;if(Qe(A)){var I=j.getMouseInfo(C);A(I,C)}}),Ge(j,"handleMouseUp",function(C){var A=j.props.onMouseUp;if(Qe(A)){var I=j.getMouseInfo(C);A(I,C)}}),Ge(j,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),Ge(j,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&j.handleMouseDown(C.changedTouches[0])}),Ge(j,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&j.handleMouseUp(C.changedTouches[0])}),Ge(j,"handleDoubleClick",function(C){var A=j.props.onDoubleClick;if(Qe(A)){var I=j.getMouseInfo(C);A(I,C)}}),Ge(j,"handleContextMenu",function(C){var A=j.props.onContextMenu;if(Qe(A)){var I=j.getMouseInfo(C);A(I,C)}}),Ge(j,"triggerSyncEvent",function(C){j.props.syncId!==void 0&&r_.emit(n_,j.props.syncId,C,j.eventEmitterSymbol)}),Ge(j,"applySyncEvent",function(C){var A=j.props,I=A.layout,L=A.syncMethod,O=j.state.updateId,D=C.dataStartIndex,F=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)j.setState(ve({dataStartIndex:D,dataEndIndex:F},x({props:j.props,dataStartIndex:D,dataEndIndex:F,updateId:O},j.state)));else if(C.activeTooltipIndex!==void 0){var $=C.chartX,ae=C.chartY,ee=C.activeTooltipIndex,G=j.state,ne=G.offset,Q=G.tooltipTicks;if(!ne)return;if(typeof L=="function")ee=L(Q,C);else if(L==="value"){ee=-1;for(var Z=0;Z<Q.length;Z++)if(Q[Z].value===C.activeLabel){ee=Z;break}}var re=ve(ve({},ne),{},{x:ne.left,y:ne.top}),W=Math.min($,re.x+re.width),J=Math.min(ae,re.y+re.height),X=Q[ee]&&Q[ee].value,le=Z1(j.state,j.props.data,ee),ge=Q[ee]?{x:I==="horizontal"?Q[ee].coordinate:W,y:I==="horizontal"?J:Q[ee].coordinate}:a$;j.setState(ve(ve({},C),{},{activeLabel:X,activeCoordinate:ge,activePayload:le,activeTooltipIndex:ee}))}else j.setState(C)}),Ge(j,"renderCursor",function(C){var A,I=j.state,L=I.isTooltipActive,O=I.activeCoordinate,D=I.activePayload,F=I.offset,$=I.activeTooltipIndex,ae=I.tooltipAxisBandSize,ee=j.getTooltipEventType(),G=(A=C.props.active)!==null&&A!==void 0?A:L,ne=j.props.layout,Q=C.key||"_recharts-cursor";return K.createElement(Fse,{key:Q,activeCoordinate:O,activePayload:D,activeTooltipIndex:$,chartName:r,element:C,isActive:G,layout:ne,offset:F,tooltipAxisBandSize:ae,tooltipEventType:ee})}),Ge(j,"renderPolarAxis",function(C,A,I){var L=Zn(C,"type.axisType"),O=Zn(j.state,"".concat(L,"Map")),D=C.type.defaultProps,F=D!==void 0?ve(ve({},D),C.props):C.props,$=O&&O[F["".concat(L,"Id")]];return B.cloneElement(C,ve(ve({},$),{},{className:tt(L,$.className),key:C.key||"".concat(A,"-").concat(I),ticks:Xi($,!0)}))}),Ge(j,"renderPolarGrid",function(C){var A=C.props,I=A.radialLines,L=A.polarAngles,O=A.polarRadius,D=j.state,F=D.radiusAxisMap,$=D.angleAxisMap,ae=Ks(F),ee=Ks($),G=ee.cx,ne=ee.cy,Q=ee.innerRadius,Z=ee.outerRadius;return B.cloneElement(C,{polarAngles:Array.isArray(L)?L:Xi(ee,!0).map(function(re){return re.coordinate}),polarRadius:Array.isArray(O)?O:Xi(ae,!0).map(function(re){return re.coordinate}),cx:G,cy:ne,innerRadius:Q,outerRadius:Z,key:C.key||"polar-grid",radialLines:I})}),Ge(j,"renderLegend",function(){var C=j.state.formattedGraphicalItems,A=j.props,I=A.children,L=A.width,O=A.height,D=j.props.margin||{},F=L-(D.left||0)-(D.right||0),$=z6({children:I,formattedGraphicalItems:C,legendWidth:F,legendContent:h});if(!$)return null;var ae=$.item,ee=WR($,Vse);return B.cloneElement(ae,ve(ve({},ee),{},{chartWidth:L,chartHeight:O,margin:D,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),Ge(j,"renderTooltip",function(){var C,A=j.props,I=A.children,L=A.accessibilityLayer,O=Kn(I,ya);if(!O)return null;var D=j.state,F=D.isTooltipActive,$=D.activeCoordinate,ae=D.activePayload,ee=D.activeLabel,G=D.offset,ne=(C=O.props.active)!==null&&C!==void 0?C:F;return B.cloneElement(O,{viewBox:ve(ve({},G),{},{x:G.left,y:G.top}),active:ne,label:ee,payload:ne?ae:[],coordinate:$,accessibilityLayer:L})}),Ge(j,"renderBrush",function(C){var A=j.props,I=A.margin,L=A.data,O=j.state,D=O.offset,F=O.dataStartIndex,$=O.dataEndIndex,ae=O.updateId;return B.cloneElement(C,{key:C.key||"_recharts-brush",onChange:Ep(j.handleBrushChange,C.props.onChange),data:L,x:Ee(C.props.x)?C.props.x:D.left,y:Ee(C.props.y)?C.props.y:D.top+D.height+D.brushBottom-(I.bottom||0),width:Ee(C.props.width)?C.props.width:D.width,startIndex:F,endIndex:$,updateId:"brush-".concat(ae)})}),Ge(j,"renderReferenceElement",function(C,A,I){if(!C)return null;var L=j,O=L.clipPathId,D=j.state,F=D.xAxisMap,$=D.yAxisMap,ae=D.offset,ee=C.type.defaultProps||{},G=C.props,ne=G.xAxisId,Q=ne===void 0?ee.xAxisId:ne,Z=G.yAxisId,re=Z===void 0?ee.yAxisId:Z;return B.cloneElement(C,{key:C.key||"".concat(A,"-").concat(I),xAxis:F[Q],yAxis:$[re],viewBox:{x:ae.left,y:ae.top,width:ae.width,height:ae.height},clipPathId:O})}),Ge(j,"renderActivePoints",function(C){var A=C.item,I=C.activePoint,L=C.basePoint,O=C.childIndex,D=C.isRange,F=[],$=A.props.key,ae=A.item.type.defaultProps!==void 0?ve(ve({},A.item.type.defaultProps),A.item.props):A.item.props,ee=ae.activeDot,G=ae.dataKey,ne=ve(ve({index:O,dataKey:G,cx:I.x,cy:I.y,r:4,fill:Qj(A.item),strokeWidth:2,stroke:"#fff",payload:I.payload,value:I.value},Ye(ee,!1)),um(ee));return F.push(N.renderActiveDot(ee,ne,"".concat($,"-activePoint-").concat(O))),L?F.push(N.renderActiveDot(ee,ve(ve({},ne),{},{cx:L.x,cy:L.y}),"".concat($,"-basePoint-").concat(O))):D&&F.push(null),F}),Ge(j,"renderGraphicChild",function(C,A,I){var L=j.filterFormatItem(C,A,I);if(!L)return null;var O=j.getTooltipEventType(),D=j.state,F=D.isTooltipActive,$=D.tooltipAxis,ae=D.activeTooltipIndex,ee=D.activeLabel,G=j.props.children,ne=Kn(G,ya),Q=L.props,Z=Q.points,re=Q.isRange,W=Q.baseLine,J=L.item.type.defaultProps!==void 0?ve(ve({},L.item.type.defaultProps),L.item.props):L.item.props,X=J.activeDot,le=J.hide,ge=J.activeBar,he=J.activeShape,de=!!(!le&&F&&ne&&(X||ge||he)),be={};O!=="axis"&&ne&&ne.props.trigger==="click"?be={onClick:Ep(j.handleItemMouseEnter,C.props.onClick)}:O!=="axis"&&(be={onMouseLeave:Ep(j.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:Ep(j.handleItemMouseEnter,C.props.onMouseEnter)});var z=B.cloneElement(C,ve(ve({},L.props),be));function me(Mr){return typeof $.dataKey=="function"?$.dataKey(Mr.payload):null}if(de)if(ae>=0){var xe,q;if($.dataKey&&!$.allowDuplicatedCategory){var ue=typeof $.dataKey=="function"?me:"payload.".concat($.dataKey.toString());xe=R_(Z,ue,ee),q=re&&W&&R_(W,ue,ee)}else xe=Z?.[ae],q=re&&W&&W[ae];if(he||ge){var _e=C.props.activeIndex!==void 0?C.props.activeIndex:ae;return[B.cloneElement(C,ve(ve(ve({},L.props),be),{},{activeIndex:_e})),null,null]}if(!at(xe))return[z].concat(au(j.renderActivePoints({item:L,activePoint:xe,basePoint:q,childIndex:ae,isRange:re})))}else{var Ie,Ue=(Ie=j.getItemByXY(j.state.activeCoordinate))!==null&&Ie!==void 0?Ie:{graphicalItem:z},tr=Ue.graphicalItem,yr=tr.item,ln=yr===void 0?C:yr,Dt=tr.childIndex,Mt=ve(ve(ve({},L.props),be),{},{activeIndex:Dt});return[B.cloneElement(ln,Mt),null,null]}return re?[z,null,null]:[z,null]}),Ge(j,"renderCustomized",function(C,A,I){return B.cloneElement(C,ve(ve({key:"recharts-customized-".concat(I)},j.props),j.state))}),Ge(j,"renderMap",{CartesianGrid:{handler:Op,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:Op},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:Op},YAxis:{handler:Op},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((P=E.id)!==null&&P!==void 0?P:Wh("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=q3(j.triggeredAfterMouseMove,(R=E.throttleDelay)!==null&&R!==void 0?R:1e3/60),j.state={},j}return Jse(N,b),Kse(N,[{key:"componentDidMount",value:function(){var P,R;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(P=this.props.margin.left)!==null&&P!==void 0?P:0,top:(R=this.props.margin.top)!==null&&R!==void 0?R:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var P=this.props,R=P.children,j=P.data,C=P.height,A=P.layout,I=Kn(R,ya);if(I){var L=I.props.defaultIndex;if(!(typeof L!="number"||L<0||L>this.state.tooltipTicks.length-1)){var O=this.state.tooltipTicks[L]&&this.state.tooltipTicks[L].value,D=Z1(this.state,j,L,O),F=this.state.tooltipTicks[L].coordinate,$=(this.state.offset.top+C)/2,ae=A==="horizontal",ee=ae?{x:F,y:$}:{y:F,x:$},G=this.state.formattedGraphicalItems.find(function(Q){var Z=Q.item;return Z.type.name==="Scatter"});G&&(ee=ve(ve({},ee),G.props.points[L].tooltipPosition),D=G.props.points[L].tooltipPayload);var ne={activeTooltipIndex:L,isTooltipActive:!0,activeLabel:O,activePayload:D,activeCoordinate:ee};this.setState(ne),this.renderCursor(I),this.accessibilityManager.setIndex(L)}}}},{key:"getSnapshotBeforeUpdate",value:function(P,R){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==R.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==P.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==P.margin){var j,C;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(P){M_([Kn(P.children,ya)],[Kn(this.props.children,ya)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var P=Kn(this.props.children,ya);if(P&&typeof P.props.shared=="boolean"){var R=P.props.shared?"axis":"item";return c.indexOf(R)>=0?R:i}return i}},{key:"getMouseInfo",value:function(P){if(!this.container)return null;var R=this.container,j=R.getBoundingClientRect(),C=LK(j),A={chartX:Math.round(P.pageX-C.left),chartY:Math.round(P.pageY-C.top)},I=j.width/R.offsetWidth||1,L=this.inRange(A.chartX,A.chartY,I);if(!L)return null;var O=this.state,D=O.xAxisMap,F=O.yAxisMap,$=this.getTooltipEventType(),ae=GR(this.state,this.props.data,this.props.layout,L);if($!=="axis"&&D&&F){var ee=Ks(D).scale,G=Ks(F).scale,ne=ee&&ee.invert?ee.invert(A.chartX):null,Q=G&&G.invert?G.invert(A.chartY):null;return ve(ve({},A),{},{xValue:ne,yValue:Q},ae)}return ae?ve(ve({},A),ae):null}},{key:"inRange",value:function(P,R){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,A=P/j,I=R/j;if(C==="horizontal"||C==="vertical"){var L=this.state.offset,O=A>=L.left&&A<=L.left+L.width&&I>=L.top&&I<=L.top+L.height;return O?{x:A,y:I}:null}var D=this.state,F=D.angleAxisMap,$=D.radiusAxisMap;if(F&&$){var ae=Ks(F);return JI({x:A,y:I},ae)}return null}},{key:"parseEventsOfWrapper",value:function(){var P=this.props.children,R=this.getTooltipEventType(),j=Kn(P,ya),C={};j&&R==="axis"&&(j.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=um(this.props,this.handleOuterEvent);return ve(ve({},A),C)}},{key:"addListener",value:function(){r_.on(n_,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){r_.removeListener(n_,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(P,R,j){for(var C=this.state.formattedGraphicalItems,A=0,I=C.length;A<I;A++){var L=C[A];if(L.item===P||L.props.key===P.key||R===Qi(L.item.type)&&j===L.childIndex)return L}return null}},{key:"renderClipPath",value:function(){var P=this.clipPathId,R=this.state.offset,j=R.left,C=R.top,A=R.height,I=R.width;return K.createElement("defs",null,K.createElement("clipPath",{id:P},K.createElement("rect",{x:j,y:C,height:A,width:I})))}},{key:"getXScales",value:function(){var P=this.state.xAxisMap;return P?Object.entries(P).reduce(function(R,j){var C=zR(j,2),A=C[0],I=C[1];return ve(ve({},R),{},Ge({},A,I.scale))},{}):null}},{key:"getYScales",value:function(){var P=this.state.yAxisMap;return P?Object.entries(P).reduce(function(R,j){var C=zR(j,2),A=C[0],I=C[1];return ve(ve({},R),{},Ge({},A,I.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(P){var R;return(R=this.state.xAxisMap)===null||R===void 0||(R=R[P])===null||R===void 0?void 0:R.scale}},{key:"getYScaleByAxisId",value:function(P){var R;return(R=this.state.yAxisMap)===null||R===void 0||(R=R[P])===null||R===void 0?void 0:R.scale}},{key:"getItemByXY",value:function(P){var R=this.state,j=R.formattedGraphicalItems,C=R.activeItem;if(j&&j.length)for(var A=0,I=j.length;A<I;A++){var L=j[A],O=L.props,D=L.item,F=D.type.defaultProps!==void 0?ve(ve({},D.type.defaultProps),D.props):D.props,$=Qi(D.type);if($==="Bar"){var ae=(O.data||[]).find(function(Q){return ere(P,Q)});if(ae)return{graphicalItem:L,payload:ae}}else if($==="RadialBar"){var ee=(O.data||[]).find(function(Q){return JI(P,Q)});if(ee)return{graphicalItem:L,payload:ee}}else if(sg(L,C)||og(L,C)||yh(L,C)){var G=kne({graphicalItem:L,activeTooltipItem:C,itemData:F.data}),ne=F.activeIndex===void 0?G:F.activeIndex;return{graphicalItem:ve(ve({},L),{},{childIndex:ne}),payload:yh(L,C)?F.data[G]:L.props.data[G]}}}return null}},{key:"render",value:function(){var P=this;if(!u2(this))return null;var R=this.props,j=R.children,C=R.className,A=R.width,I=R.height,L=R.style,O=R.compact,D=R.title,F=R.desc,$=WR(R,Bse),ae=Ye($,!1);if(O)return K.createElement(ER,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},K.createElement($_,yc({},ae,{width:A,height:I,title:D,desc:F}),this.renderClipPath(),h2(j,this.renderMap)));if(this.props.accessibilityLayer){var ee,G;ae.tabIndex=(ee=this.props.tabIndex)!==null&&ee!==void 0?ee:0,ae.role=(G=this.props.role)!==null&&G!==void 0?G:"application",ae.onKeyDown=function(Q){P.accessibilityManager.keyboardEvent(Q)},ae.onFocus=function(){P.accessibilityManager.focus()}}var ne=this.parseEventsOfWrapper();return K.createElement(ER,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},K.createElement("div",yc({className:tt("recharts-wrapper",C),style:ve({position:"relative",cursor:"default",width:A,height:I},L)},ne,{ref:function(Z){P.container=Z}}),K.createElement($_,yc({},ae,{width:A,height:I,title:D,desc:F,style:aoe}),this.renderClipPath(),h2(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(B.Component);Ge(k,"displayName",r),Ge(k,"defaultProps",ve({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),Ge(k,"getDerivedStateFromProps",function(b,N){var E=b.dataKey,P=b.data,R=b.children,j=b.width,C=b.height,A=b.layout,I=b.stackOffset,L=b.margin,O=N.dataStartIndex,D=N.dataEndIndex;if(N.updateId===void 0){var F=KR(b);return ve(ve(ve({},F),{},{updateId:0},x(ve(ve({props:b},F),{},{updateId:0}),N)),{},{prevDataKey:E,prevData:P,prevWidth:j,prevHeight:C,prevLayout:A,prevStackOffset:I,prevMargin:L,prevChildren:R})}if(E!==N.prevDataKey||P!==N.prevData||j!==N.prevWidth||C!==N.prevHeight||A!==N.prevLayout||I!==N.prevStackOffset||!jc(L,N.prevMargin)){var $=KR(b),ae={chartX:N.chartX,chartY:N.chartY,isTooltipActive:N.isTooltipActive},ee=ve(ve({},GR(N,P,A)),{},{updateId:N.updateId+1}),G=ve(ve(ve({},$),ae),ee);return ve(ve(ve({},G),x(ve({props:b},G),N)),{},{prevDataKey:E,prevData:P,prevWidth:j,prevHeight:C,prevLayout:A,prevStackOffset:I,prevMargin:L,prevChildren:R})}if(!M_(R,N.prevChildren)){var ne,Q,Z,re,W=Kn(R,Yc),J=W&&(ne=(Q=W.props)===null||Q===void 0?void 0:Q.startIndex)!==null&&ne!==void 0?ne:O,X=W&&(Z=(re=W.props)===null||re===void 0?void 0:re.endIndex)!==null&&Z!==void 0?Z:D,le=J!==O||X!==D,ge=!at(P),he=ge&&!le?N.updateId:N.updateId+1;return ve(ve({updateId:he},x(ve(ve({props:b},N),{},{updateId:he,dataStartIndex:J,dataEndIndex:X}),N)),{},{prevChildren:R,dataStartIndex:J,dataEndIndex:X})}return null}),Ge(k,"renderActiveDot",function(b,N,E){var P;return B.isValidElement(b)?P=B.cloneElement(b,N):Qe(b)?P=b(N):P=K.createElement(eN,N),K.createElement(wt,{className:"recharts-active-dot",key:E},P)});var w=B.forwardRef(function(N,E){return K.createElement(k,yc({},N,{ref:E}))});return w.displayName=k.displayName,w},o$=s$({chartName:"BarChart",GraphicalChild:yi,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Qh},{axisType:"yAxis",AxisComp:Jh}],formatAxisMap:Sae}),poe=s$({chartName:"PieChart",GraphicalChild:fs,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:ig},{axisType:"radiusAxis",AxisComp:ng}],formatAxisMap:mZ,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const moe={"single-member-llc":20,"s-corp":20,"c-corp":21,partnership:20},goe=({jobs:t,bills:e,weeklyCosts:r,taxPayments:n,openModal:a,handleDelete:i})=>{const[l,c]=B.useState(20),[d,h]=B.useState("single-member-llc"),[p,m]=B.useState("quarterly"),[y,x]=B.useState(!1);B.useEffect(()=>{c(moe[d])},[d]);const k=B.useMemo(()=>{const P=new Date;let R,j;switch(p){case"weekly":R=new Date(P.setDate(P.getDate()-P.getDay())),j=new Date(P.setDate(P.getDate()-P.getDay()+6));break;case"monthly":R=new Date(P.getFullYear(),P.getMonth(),1),j=new Date(P.getFullYear(),P.getMonth()+1,0);break;case"quarterly":const C=Math.floor(P.getMonth()/3);R=new Date(P.getFullYear(),C*3,1),j=new Date(P.getFullYear(),C*3+3,0);break;case"yearly":R=new Date(P.getFullYear(),0,1),j=new Date(P.getFullYear(),11,31);break;default:R=new Date,j=new Date}return{start:R,end:j}},[p]),w=B.useMemo(()=>{const P=t.filter(F=>{if(!F.date)return!1;const $=new Date(F.date);return $>=k.start&&$<=k.end}),R=e.reduce((F,$)=>F+$.amount,0)+r.reduce((F,$)=>F+$.amount,0)*4.33,j=(k.end-k.start)/(1e3*60*60*24*30.44),C=R*j,A=P.reduce((F,$)=>F+($.revenue||0),0),I=P.reduce((F,$)=>F+($.materialCost||0)+($.laborCost||0),0),L=A-I,O=L-C,D=O>0?O*(l/100):0;return{netProfit:O,estimatedTax:D,grossProfit:L,periodOperatingExpenses:C}},[t,e,r,l,k]),b=B.useMemo(()=>n.filter(P=>{const R=new Date(P.date);return R>=k.start&&R<=k.end}).reduce((P,R)=>P+(R.amount||0),0),[n,k]),N=w.estimatedTax-b,E=[{name:"Tax Liability","Estimated Tax":w.estimatedTax,"Taxes Paid":b}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Tax Estimation"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 items-end",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"filingStatus",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Filing Status"}),s.jsxs("select",{id:"filingStatus",value:d,onChange:P=>h(P.target.value),className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",children:[s.jsx("option",{value:"single-member-llc",children:"Single-Member LLC"}),s.jsx("option",{value:"s-corp",children:"S-Corporation"}),s.jsx("option",{value:"c-corp",children:"C-Corporation"}),s.jsx("option",{value:"partnership",children:"Partnership"})]}),(d==="llc"||d==="single-member-llc")&&s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"LLC tax rates vary. Consult a tax professional."})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"taxRate",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Estimated Tax Rate (%)"}),s.jsx("input",{id:"taxRate",type:"number",value:l,onChange:P=>c(parseFloat(P.target.value)||0),className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Estimation Period"}),s.jsxs("div",{className:"flex items-center gap-1 bg-slate-100 dark:bg-slate-700 rounded-md p-1",children:[s.jsx("button",{onClick:()=>m("weekly"),className:`w-full px-2 py-1 text-xs rounded ${p==="weekly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Weekly"}),s.jsx("button",{onClick:()=>m("monthly"),className:`w-full px-2 py-1 text-xs rounded ${p==="monthly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Monthly"}),s.jsx("button",{onClick:()=>m("quarterly"),className:`w-full px-2 py-1 text-xs rounded ${p==="quarterly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Quarterly"}),s.jsx("button",{onClick:()=>m("yearly"),className:`w-full px-2 py-1 text-xs rounded ${p==="yearly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Yearly"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:[s.jsx(ai,{title:`Estimated ${p} Net Profit`,value:`$${w.netProfit.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:s.jsx(Hr,{}),color:"blue"}),s.jsx(ai,{title:"Estimated Tax Liability",value:`$${w.estimatedTax.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:s.jsx(Hr,{}),color:"orange",subtext:w.netProfit<=0?"No tax on negative profit":""}),s.jsx(ai,{title:"Overpayment / (Underpayment)",value:`${N<0?"-":""}$${Math.abs(N).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:s.jsx(Hr,{}),color:N<0?"green":"red",subtext:N<0?"You have overpaid":"Remaining balance due"})]}),s.jsxs("div",{className:"mt-4",children:[s.jsxs("button",{onClick:()=>x(!y),className:"flex items-center gap-2 text-sm text-slate-500 dark:text-slate-400 hover:underline",children:["Show Calculation Breakdown ",s.jsx(Bd,{className:`transition-transform ${y?"rotate-180":""}`,size:16})]}),y&&s.jsxs("div",{className:"mt-2 p-4 bg-slate-100 dark:bg-slate-700/50 rounded-lg text-sm space-y-2 animate-fade-in",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Gross Profit (from Jobs):"})," ",s.jsxs("span",{className:"font-mono",children:["$",w.grossProfit.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"- Est. Operating Expenses:"})," ",s.jsxs("span",{className:"font-mono",children:["$",w.periodOperatingExpenses.toFixed(2)]})]}),s.jsx("hr",{className:"border-slate-300 dark:border-slate-600"}),s.jsxs("div",{className:"flex justify-between font-bold",children:[s.jsx("span",{children:"= Estimated Net Profit:"})," ",s.jsxs("span",{className:"font-mono",children:["$",w.netProfit.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{children:["x Tax Rate (",l,"%):"]})," ",s.jsxs("span",{className:"font-mono",children:["$",w.estimatedTax.toFixed(2)]})]})]})]}),w.netProfit<=0&&s.jsxs("div",{className:"mt-4 p-3 bg-blue-100 dark:bg-blue-900/50 border border-blue-400 dark:border-blue-700 text-blue-800 dark:text-blue-200 rounded-lg flex items-center gap-3",children:[s.jsx(F4,{size:20}),s.jsx("p",{className:"text-sm",children:"Your estimated tax is $0.00 because your estimated net profit is negative. The tax rate will apply once your profit is positive."})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx("h4",{className:"text-lg font-bold text-slate-800 dark:text-white mb-2",children:"Liability vs. Payments"}),s.jsx(Sj,{width:"100%",height:200,children:s.jsxs(o$,{data:E,layout:"vertical",margin:{top:5,right:20,left:20,bottom:5},children:[s.jsx(uN,{strokeDasharray:"3 3"}),s.jsx(Qh,{type:"number"}),s.jsx(Jh,{type:"category",dataKey:"name",hide:!0}),s.jsx(ya,{formatter:P=>`$${P.toLocaleString()}`}),s.jsx(to,{}),s.jsx(yi,{dataKey:"Estimated Tax",fill:"#f97316"}),s.jsx(yi,{dataKey:"Taxes Paid",fill:"#16a34a"})]})})]})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Recorded Tax Payments"}),s.jsxs("button",{onClick:()=>a("taxPayment"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[s.jsx(on,{size:16})," Record Payment"]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-3",children:"Date"}),s.jsx("th",{className:"p-3",children:"Notes"}),s.jsx("th",{className:"p-3 text-right",children:"Amount"}),s.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),s.jsx("tbody",{className:"text-sm",children:n.map(P=>s.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50",children:[s.jsx("td",{className:"p-3 font-medium",children:P.date}),s.jsx("td",{className:"p-3",children:P.notes}),s.jsxs("td",{className:"p-3 text-right font-mono",children:["$",(P.amount||0).toFixed(2)]}),s.jsxs("td",{className:"p-3 text-center",children:[s.jsx("button",{onClick:()=>a("taxPayment",P),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:s.jsx(an,{size:16})}),s.jsx("button",{onClick:()=>i("taxPayment",P.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:s.jsx(ir,{size:16})})]})]},P.id))})]})})]})]})},voe=({jobs:t,tasks:e,openModal:r})=>{const[n,a]=B.useState(new Date),i=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],l=["January","February","March","April","May","June","July","August","September","October","November","December"],c=new Date(n.getFullYear(),n.getMonth(),1),d=new Date(n.getFullYear(),n.getMonth()+1,0),h=c.getDay(),p=d.getDate(),m=[];for(let w=0;w<h;w++)m.push(null);for(let w=1;w<=p;w++)m.push(new Date(n.getFullYear(),n.getMonth(),w));const y=B.useMemo(()=>{const w={};return t.forEach(b=>{const N=new Date(b.date).toISOString().split("T")[0];w[N]||(w[N]=[]),w[N].push({...b,type:"job"})}),e.forEach(b=>{const N=new Date(b.date).toISOString().split("T")[0];w[N]||(w[N]=[]),w[N].push({...b,type:"task"})}),w},[t,e]),x=()=>{a(new Date(n.getFullYear(),n.getMonth()-1,1))},k=()=>{a(new Date(n.getFullYear(),n.getMonth()+1,1))};return s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("button",{onClick:x,className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:s.jsx(L4,{})}),s.jsxs("h2",{className:"text-xl font-bold",children:[l[n.getMonth()]," ",n.getFullYear()]}),s.jsx("button",{onClick:k,className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:s.jsx(rj,{})})]}),s.jsxs("div",{className:"flex justify-end gap-2 mb-4",children:[s.jsxs("button",{onClick:()=>r("task"),className:"flex items-center gap-2 text-sm bg-amber-500 hover:bg-amber-400 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[s.jsx(on,{size:16})," Add Task"]}),s.jsxs("button",{onClick:()=>r("job"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[s.jsx(on,{size:16})," Add Job"]})]}),s.jsxs("div",{className:"grid grid-cols-7 gap-1 text-center",children:[i.map(w=>s.jsx("div",{className:"font-bold text-sm text-slate-500 dark:text-slate-400 py-2",children:w},w)),m.map((w,b)=>s.jsxs("div",{className:`h-32 border border-slate-200 dark:border-slate-700 rounded-md p-1 overflow-y-auto ${w?"cursor-pointer":"bg-slate-50 dark:bg-slate-800/50"}`,onClick:()=>w&&r("task",{date:w.toISOString().split("T")[0]}),children:[w&&s.jsx("span",{className:"text-xs font-semibold",children:w.getDate()}),w&&y[w.toISOString().split("T")[0]]?.map(N=>s.jsx("div",{onClick:E=>{E.stopPropagation(),r(N.type,N)},className:`text-xs rounded p-1 mt-1 hover:opacity-80 ${N.type==="job"?"bg-cyan-100 dark:bg-cyan-900/50 text-cyan-800 dark:text-cyan-200":"bg-amber-100 dark:bg-amber-900/50 text-amber-800 dark:text-amber-200"}`,children:N.name||N.title},N.id))]},b))]})]})},yoe=({item:t=null,type:e,onSave:r,onClose:n,debts:a=[],clients:i=[],vehicles:l=[]})=>{const[c,d]=B.useState({}),[h,p]=B.useState(null);B.useEffect(()=>{if(t)d(t);else{const b=m(e);d(b)}},[t,e]);const m=b=>({bill:{name:"",amount:"",dueDay:1,category:"Utilities",isAutoPay:!1,isRecurring:!1,notes:""},debt:{name:"",creditor:"",debtType:"Credit Card",totalAmount:"",paidAmount:0,interestRate:"",minimumPayment:"",dueDate:"",notes:""},income:{name:"",amount:"",type:"monthly",status:"active",isRecurring:!0,notes:""},weekly:{name:"",amount:"",category:"Other",notes:""},job:{name:"",revenue:"",materialCost:"",laborCost:"",date:new Date().toISOString().split("T")[0],notes:"",clientId:""},task:{title:"",date:new Date().toISOString().split("T")[0],notes:"",isComplete:!1},invoice:{invoiceNumber:"",jobNumber:"",customer:"",billTo:"",grandTotal:"",totalCost:"",netTerms:"Net 30",transactionDate:new Date().toISOString().split("T")[0],dueDate:"",paymentDate:"",completedOn:"",invoiceStatus:"Open",priority:"STD",terms:"Limited Warranty",description:"",serviceAddress:"",locationType:"Commercial",jobType:"Service Call",lineItems:"",payments:"",company:"Mechanical Temp",division:"HVAC & Refrigeration",status:"Unpaid",net:"",invNum:"",jobNo:"",daysElapsed:0,notes:""},taxPayment:{date:new Date().toISOString().split("T")[0],amount:"",notes:""},goal:{name:"",type:"revenue",targetValue:"",deadline:new Date().toISOString().split("T")[0]},client:{name:"",address:"",phone:"",email:"",parentId:"",isParent:!1,companyType:"regular",notes:""},inventory:{name:"",quantity:"",cost:"",notes:""},vehicle:{name:"",make:"",model:"",year:new Date().getFullYear().toString(),vin:"",licensePlate:"",currentMileage:"",status:"active",color:"",registrationExpiry:"",insuranceExpiry:"",lastServiceMileage:"",nextServiceDue:"",notes:""},maintenanceLog:{vehicleId:"",date:new Date().toISOString().split("T")[0],type:"Oil Change",cost:"",mileage:"",notes:"",nextServiceMileage:""}})[b]||{},y=b=>{const{name:N,value:E,type:P,checked:R}=b.target;d(j=>({...j,[N]:P==="checkbox"?R:E}))},x=b=>{if(b.preventDefault(),!c.name&&!c.title&&!c.billTo&&!c.customer){alert("Please fill in the required fields.");return}const N={...c};if(({bill:["amount","dueDay"],debt:["totalAmount","paidAmount","interestRate","minimumPayment"],income:["amount"],weekly:["amount"],job:["revenue","materialCost","laborCost"],invoice:["grandTotal","totalCost","net","daysElapsed"],taxPayment:["amount"],goal:["targetValue"],inventory:["quantity","cost"],vehicle:["currentMileage","year","lastServiceMileage"],maintenanceLog:["cost","mileage","nextServiceMileage"]}[e]||[]).forEach(R=>{N[R]!==void 0&&N[R]!==""&&(N[R]=parseFloat(N[R])||0)}),e==="client"){if(N.isParent&&N.parentId){alert('A parent company cannot have a parent company. Please uncheck "Is Parent Company" or remove the parent selection.');return}N.isParent?(N.companyType="parent",N.parentId=null):N.parentId?N.companyType="child":N.companyType="regular"}if(e==="invoice"){if(N.invoiceNumber||(N.invoiceNumber=`INV-${Date.now().toString().slice(-6)}`),N.transactionDate&&N.netTerms&&!N.dueDate){const R=new Date(N.transactionDate);let j=30;N.netTerms.includes("45")?j=45:N.netTerms.includes("15")?j=15:N.netTerms.includes("Due on Receipt")&&(j=0);const C=new Date(R);C.setDate(C.getDate()+j),N.dueDate=C.toISOString().split("T")[0]}N.status=N.invoiceStatus==="Paid"?"Paid":"Unpaid",N.net=N.grandTotal,N.invNum=N.invoiceNumber,N.jobNo=N.jobNumber,!N.grandTotal&&N.net&&(N.grandTotal=N.net)}r(N,h)},k=i.filter(b=>(b.isParent||b.companyType==="parent")&&(!t||b.id!==t.id)),w=()=>{switch(e){case"bill":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Bill Name *"}),s.jsx("input",{type:"text",name:"name",value:c.name||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Amount *"}),s.jsx("input",{type:"number",step:"0.01",name:"amount",value:c.amount||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Due Day"}),s.jsx("input",{type:"number",min:"1",max:"31",name:"dueDay",value:c.dueDay||1,onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Category"}),s.jsxs("select",{name:"category",value:c.category||"Utilities",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[s.jsx("option",{value:"Utilities",children:"Utilities"}),s.jsx("option",{value:"Insurance",children:"Insurance"}),s.jsx("option",{value:"Vehicle",children:"Vehicle"}),s.jsx("option",{value:"Software",children:"Software"}),s.jsx("option",{value:"Overhead",children:"Overhead"}),s.jsx("option",{value:"Equipment",children:"Equipment"}),s.jsx("option",{value:"Marketing",children:"Marketing"}),s.jsx("option",{value:"Other",children:"Other"})]})]})]}),s.jsxs("div",{className:"flex gap-6",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",name:"isAutoPay",checked:c.isAutoPay||!1,onChange:y,className:"mr-2"}),s.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Auto Pay"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",name:"isRecurring",checked:c.isRecurring||!1,onChange:y,className:"mr-2"}),s.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Recurring"})]})]})]});case"debt":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Debt Name *"}),s.jsx("input",{type:"text",name:"name",value:c.name||"",onChange:y,placeholder:"e.g., Chase Credit Card, Car Loan",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Creditor/Lender"}),s.jsx("input",{type:"text",name:"creditor",value:c.creditor||"",onChange:y,placeholder:"e.g., Chase Bank, Toyota Financial",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Debt Type"}),s.jsxs("select",{name:"debtType",value:c.debtType||"Credit Card",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[s.jsx("option",{value:"Credit Card",children:"Credit Card"}),s.jsx("option",{value:"Personal Loan",children:"Personal Loan"}),s.jsx("option",{value:"Auto Loan",children:"Auto Loan"}),s.jsx("option",{value:"Mortgage",children:"Mortgage"}),s.jsx("option",{value:"Student Loan",children:"Student Loan"}),s.jsx("option",{value:"Business Loan",children:"Business Loan"}),s.jsx("option",{value:"Medical Debt",children:"Medical Debt"}),s.jsx("option",{value:"Other",children:"Other"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Total Amount *"}),s.jsx("input",{type:"number",step:"0.01",name:"totalAmount",value:c.totalAmount||"",onChange:y,placeholder:"0.00",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Amount Paid"}),s.jsx("input",{type:"number",step:"0.01",name:"paidAmount",value:c.paidAmount||"",onChange:y,placeholder:"0.00",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Interest Rate (%) *"}),s.jsx("input",{type:"number",step:"0.01",name:"interestRate",value:c.interestRate||"",onChange:y,placeholder:"0.00",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Minimum Payment"}),s.jsx("input",{type:"number",step:"0.01",name:"minimumPayment",value:c.minimumPayment||"",onChange:y,placeholder:"0.00",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Payment Due Date"}),s.jsx("input",{type:"date",name:"dueDate",value:c.dueDate||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),(c.totalAmount||c.paidAmount)&&s.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-slate-800 dark:text-white mb-3",children:"Payment Progress"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Remaining Balance:"}),s.jsxs("span",{className:"font-mono font-semibold text-orange-600 dark:text-orange-400",children:["$",((parseFloat(c.totalAmount)||0)-(parseFloat(c.paidAmount)||0)).toFixed(2)]})]}),s.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-600 rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-green-400 to-green-600 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(c.totalAmount>0?(parseFloat(c.paidAmount)||0)/parseFloat(c.totalAmount)*100:0,100)}%`}})}),s.jsxs("div",{className:"text-center text-xs text-slate-500 dark:text-slate-400",children:[c.totalAmount>0?((parseFloat(c.paidAmount)||0)/parseFloat(c.totalAmount)*100).toFixed(1):0,"% paid off"]})]})]})]});case"income":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Income Source Name *"}),s.jsx("input",{type:"text",name:"name",value:c.name||"",onChange:y,placeholder:"e.g., Main Business Revenue, Consulting Services",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Amount *"}),s.jsx("input",{type:"number",step:"0.01",min:"0",name:"amount",value:c.amount||"",onChange:y,placeholder:"0.00",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Income Type *"}),s.jsxs("select",{name:"type",value:c.type||"monthly",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0,children:[s.jsx("option",{value:"monthly",children:"Monthly"}),s.jsx("option",{value:"weekly",children:"Weekly"}),s.jsx("option",{value:"quarterly",children:"Quarterly"}),s.jsx("option",{value:"annually",children:"Annually"}),s.jsx("option",{value:"one-time",children:"One-time"}),s.jsx("option",{value:"project-based",children:"Project-based"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Status"}),s.jsxs("select",{name:"status",value:c.status||"active",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"completed",children:"Completed"}),s.jsx("option",{value:"paused",children:"Paused"})]})]}),s.jsx("div",{className:"flex items-center",children:s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",name:"isRecurring",checked:c.isRecurring||!1,onChange:y,className:"mr-2"}),s.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Recurring Income"})]})})]}),c.amount&&parseFloat(c.amount)>0&&c.type&&s.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[s.jsx("h4",{className:"font-semibold text-green-800 dark:text-green-200 mb-2",children:"Income Projection Analysis"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsxs("span",{className:"text-green-600 dark:text-green-400 font-medium",children:[c.type||"Monthly",":"]}),s.jsxs("p",{className:"font-mono font-bold text-green-600 dark:text-green-400",children:["$",parseFloat(c.amount).toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:"Monthly:"}),s.jsxs("p",{className:"font-mono font-bold text-blue-600 dark:text-blue-400",children:["$",(()=>{const b=parseFloat(c.amount);switch(c.type){case"weekly":return(b*4.33).toFixed(2);case"quarterly":return(b/3).toFixed(2);case"annually":return(b/12).toFixed(2);case"monthly":default:return b.toFixed(2)}})()]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:"Annual:"}),s.jsxs("p",{className:"font-mono font-bold text-purple-600 dark:text-purple-400",children:["$",(()=>{const b=parseFloat(c.amount);let N;switch(c.type){case"weekly":N=b*4.33;break;case"quarterly":N=b/3;break;case"annually":N=b/12;break;case"monthly":default:N=b;break}return(N*12).toLocaleString()})()]})]})]})]})]});case"weekly":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Cost Item Name *"}),s.jsx("input",{type:"text",name:"name",value:c.name||"",onChange:y,placeholder:"e.g., Projected Payroll, Fuel & Maintenance",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Weekly Amount *"}),s.jsx("input",{type:"number",step:"0.01",min:"0",name:"amount",value:c.amount||"",onChange:y,placeholder:"0.00",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Category"}),s.jsxs("select",{name:"category",value:c.category||"Other",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[s.jsx("option",{value:"Payroll",children:"Payroll"}),s.jsx("option",{value:"Fuel & Maintenance",children:"Fuel & Maintenance"}),s.jsx("option",{value:"Equipment Rental",children:"Equipment Rental"}),s.jsx("option",{value:"Utilities",children:"Utilities"}),s.jsx("option",{value:"Insurance",children:"Insurance"}),s.jsx("option",{value:"Marketing",children:"Marketing"}),s.jsx("option",{value:"Office Expenses",children:"Office Expenses"}),s.jsx("option",{value:"Supplies",children:"Supplies"}),s.jsx("option",{value:"Contractors",children:"Contractors"}),s.jsx("option",{value:"Other",children:"Other"})]})]})]}),c.amount&&parseFloat(c.amount)>0&&s.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[s.jsx("h4",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-2",children:"Cost Impact Analysis"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-medium",children:"Weekly:"}),s.jsxs("p",{className:"font-mono font-bold text-red-600 dark:text-red-400",children:["$",parseFloat(c.amount).toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-medium",children:"Monthly:"}),s.jsxs("p",{className:"font-mono font-bold text-orange-600 dark:text-orange-400",children:["$",(parseFloat(c.amount)*4.33).toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-medium",children:"Annual:"}),s.jsxs("p",{className:"font-mono font-bold text-purple-600 dark:text-purple-400",children:["$",(parseFloat(c.amount)*52).toLocaleString()]})]})]})]})]});case"vehicle":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Vehicle Name *"}),s.jsx("input",{type:"text",name:"name",value:c.name||"",onChange:y,placeholder:"e.g., Jason's Truck, Red Van",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Make *"}),s.jsxs("select",{name:"make",value:c.make||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0,children:[s.jsx("option",{value:"",children:"Select Make"}),s.jsx("option",{value:"FORD",children:"Ford"}),s.jsx("option",{value:"CHEVROLET",children:"Chevrolet"}),s.jsx("option",{value:"GMC",children:"GMC"}),s.jsx("option",{value:"TOYOTA",children:"Toyota"}),s.jsx("option",{value:"HONDA",children:"Honda"}),s.jsx("option",{value:"NISSAN",children:"Nissan"}),s.jsx("option",{value:"RAM",children:"Ram"}),s.jsx("option",{value:"DODGE",children:"Dodge"}),s.jsx("option",{value:"JEEP",children:"Jeep"}),s.jsx("option",{value:"HYUNDAI",children:"Hyundai"}),s.jsx("option",{value:"KIA",children:"Kia"}),s.jsx("option",{value:"MAZDA",children:"Mazda"}),s.jsx("option",{value:"SUBARU",children:"Subaru"}),s.jsx("option",{value:"VOLKSWAGEN",children:"Volkswagen"}),s.jsx("option",{value:"BMW",children:"BMW"}),s.jsx("option",{value:"MERCEDES",children:"Mercedes-Benz"}),s.jsx("option",{value:"AUDI",children:"Audi"}),s.jsx("option",{value:"LEXUS",children:"Lexus"}),s.jsx("option",{value:"ACURA",children:"Acura"}),s.jsx("option",{value:"INFINITI",children:"Infiniti"}),s.jsx("option",{value:"CADILLAC",children:"Cadillac"}),s.jsx("option",{value:"LINCOLN",children:"Lincoln"}),s.jsx("option",{value:"BUICK",children:"Buick"}),s.jsx("option",{value:"CHRYSLER",children:"Chrysler"}),s.jsx("option",{value:"OTHER",children:"Other"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Model *"}),s.jsx("input",{type:"text",name:"model",value:c.model||"",onChange:y,placeholder:"e.g., F-150, TRANSIT, SIERRA",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Year *"}),s.jsx("input",{type:"number",min:"1900",max:new Date().getFullYear()+1,name:"year",value:c.year||new Date().getFullYear(),onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Color"}),s.jsx("input",{type:"text",name:"color",value:c.color||"",onChange:y,placeholder:"e.g., White, Black, Blue",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Status"}),s.jsxs("select",{name:"status",value:c.status||"active",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"maintenance",children:"In Maintenance"}),s.jsx("option",{value:"inactive",children:"Inactive"}),s.jsx("option",{value:"sold",children:"Sold"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"VIN"}),s.jsx("input",{type:"text",name:"vin",value:c.vin||"",onChange:y,placeholder:"17-character VIN",maxLength:"17",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"License Plate"}),s.jsx("input",{type:"text",name:"licensePlate",value:c.licensePlate||"",onChange:y,placeholder:"e.g., DD16326",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Current Mileage *"}),s.jsx("input",{type:"number",min:"0",name:"currentMileage",value:c.currentMileage||"",onChange:y,placeholder:"e.g., 104071",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Last Service Mileage"}),s.jsx("input",{type:"number",min:"0",name:"lastServiceMileage",value:c.lastServiceMileage||"",onChange:y,placeholder:"e.g., 98000",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Registration Expiry"}),s.jsx("input",{type:"date",name:"registrationExpiry",value:c.registrationExpiry||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Insurance Expiry"}),s.jsx("input",{type:"date",name:"insuranceExpiry",value:c.insuranceExpiry||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Next Service Due"}),s.jsx("input",{type:"date",name:"nextServiceDue",value:c.nextServiceDue||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),(c.name||c.make||c.model)&&s.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[s.jsx("h4",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-2",children:"🚗 Vehicle Preview"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-medium text-slate-800 dark:text-white",children:c.name||"Unnamed Vehicle"}),s.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:[c.year," ",c.make," ",c.model,c.color&&` (${c.color})`]}),c.licensePlate&&s.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:["Plate: ",c.licensePlate]}),c.currentMileage&&s.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:["Mileage: ",parseInt(c.currentMileage).toLocaleString()," miles"]}),s.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:["Status: ",s.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs ${c.status==="active"?"bg-green-100 text-green-800":c.status==="maintenance"?"bg-yellow-100 text-yellow-800":c.status==="inactive"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:c.status||"active"})]})]})]})]});case"client":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Client Name *"}),s.jsx("input",{type:"text",name:"name",value:c.name||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Phone"}),s.jsx("input",{type:"tel",name:"phone",value:c.phone||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Email"}),s.jsx("input",{type:"email",name:"email",value:c.email||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Address"}),s.jsx("textarea",{name:"address",value:c.address||"",onChange:y,rows:3,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:[s.jsxs("h4",{className:"text-sm font-semibold text-slate-800 dark:text-white mb-3 flex items-center gap-2",children:[s.jsx(al,{size:16}),"Company Structure & Hierarchy"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("input",{type:"checkbox",id:"isParent",name:"isParent",checked:c.isParent||!1,onChange:y,className:"mt-1 w-4 h-4 text-blue-600 bg-white dark:bg-slate-600 border-slate-300 dark:border-slate-500 rounded focus:ring-blue-500"}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"isParent",className:"text-sm font-medium text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[s.jsx(Ua,{size:14}),"This is a parent company"]}),s.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Check this if this company has multiple locations or subsidiaries"})]})]}),!c.isParent&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-400 mb-2",children:"Parent Company (Optional)"}),s.jsxs("select",{name:"parentId",value:c.parentId||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[s.jsx("option",{value:"",children:"-- Independent Company --"}),k.map(b=>s.jsx("option",{value:b.id,children:b.name},b.id))]}),k.length===0&&s.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 mt-1",children:"No parent companies available. Create a parent company first if needed."})]}),s.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 bg-slate-50 dark:bg-slate-700/50 p-3 rounded border",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(F4,{size:12,className:"mt-0.5 flex-shrink-0"}),s.jsx("div",{children:c.isParent?s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-blue-600 dark:text-blue-400 mb-1",children:"Parent Company Benefits:"}),s.jsxs("ul",{className:"space-y-1",children:[s.jsx("li",{children:"• Can have multiple child locations/subsidiaries"}),s.jsx("li",{children:"• Appears in hierarchy view with all child companies"}),s.jsx("li",{children:"• Useful for corporate clients with multiple locations"})]})]}):c.parentId?s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-green-600 dark:text-green-400 mb-1",children:"Child Company Setup:"}),s.jsxs("ul",{className:"space-y-1",children:[s.jsx("li",{children:"• This location will be grouped under the parent company"}),s.jsx("li",{children:"• Jobs and invoices can be tracked separately"}),s.jsx("li",{children:"• Parent company can see consolidated reports"})]})]}):s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Independent Company:"}),s.jsxs("ul",{className:"space-y-1",children:[s.jsx("li",{children:"• Standalone client with no parent/child relationships"}),s.jsx("li",{children:"• Can be converted to parent company later if needed"}),s.jsx("li",{children:"• Most common setup for individual businesses"})]})]})})]})}),(c.isParent||c.parentId)&&s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 rounded border border-slate-200 dark:border-slate-600",children:[s.jsx("h5",{className:"text-xs font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Hierarchy Preview:"}),c.isParent?s.jsxs("div",{className:"text-xs",children:[s.jsxs("div",{className:"flex items-center gap-2 text-blue-600 dark:text-blue-400 font-medium",children:[s.jsx(al,{size:12}),c.name||"New Parent Company"]}),s.jsx("div",{className:"ml-4 mt-1 text-slate-500 dark:text-slate-400",children:"└── Child companies can be added later"})]}):c.parentId&&s.jsxs("div",{className:"text-xs",children:[s.jsxs("div",{className:"flex items-center gap-2 text-blue-600 dark:text-blue-400 font-medium",children:[s.jsx(al,{size:12}),k.find(b=>b.id===c.parentId)?.name||"Parent Company"]}),s.jsxs("div",{className:"ml-4 mt-1 text-green-600 dark:text-green-400 flex items-center gap-1",children:[s.jsx("span",{children:"└──"}),s.jsx(Ua,{size:10}),c.name||"New Child Location"]})]})]})]})]})]});case"job":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Job Name *"}),s.jsx("input",{type:"text",name:"name",value:c.name||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Revenue *"}),s.jsx("input",{type:"number",step:"0.01",name:"revenue",value:c.revenue||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Material Cost"}),s.jsx("input",{type:"number",step:"0.01",name:"materialCost",value:c.materialCost||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Labor Cost"}),s.jsx("input",{type:"number",step:"0.01",name:"laborCost",value:c.laborCost||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Date"}),s.jsx("input",{type:"date",name:"date",value:c.date?c.date.split("T")[0]:"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Client"}),s.jsxs("select",{name:"clientId",value:c.clientId||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[s.jsx("option",{value:"",children:"Select Client"}),i.map(b=>s.jsx("option",{value:b.id,children:b.name},b.id))]})]})]})]});case"maintenanceLog":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Vehicle *"}),s.jsxs("select",{name:"vehicleId",value:c.vehicleId||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0,children:[s.jsx("option",{value:"",children:"Select Vehicle"}),l.map(b=>s.jsxs("option",{value:b.id,children:[b.name||"Unnamed"," - ",b.make," ",b.model]},b.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Service Date *"}),s.jsx("input",{type:"date",name:"date",value:c.date?c.date.split("T")[0]:"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Service Type *"}),s.jsxs("select",{name:"type",value:c.type||"Oil Change",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0,children:[s.jsx("option",{value:"Oil Change",children:"Oil Change"}),s.jsx("option",{value:"Tire Rotation",children:"Tire Rotation"}),s.jsx("option",{value:"Brake Service",children:"Brake Service"}),s.jsx("option",{value:"Transmission Service",children:"Transmission Service"}),s.jsx("option",{value:"Engine Repair",children:"Engine Repair"}),s.jsx("option",{value:"Inspection",children:"Inspection"}),s.jsx("option",{value:"A/C Service",children:"A/C Service"}),s.jsx("option",{value:"Other",children:"Other"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Cost ($)"}),s.jsx("input",{type:"number",step:"0.01",name:"cost",value:c.cost||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Current Mileage *"}),s.jsx("input",{type:"number",name:"mileage",value:c.mileage||"",onChange:y,placeholder:"Current vehicle mileage",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Next Service Mileage"}),s.jsx("input",{type:"number",name:"nextServiceMileage",value:c.nextServiceMileage||"",onChange:y,placeholder:"When next service is due",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]});case"invoice":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800 mb-4",children:[s.jsx("h4",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-2",children:"📋 AppSheet Invoice Data"}),s.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"This form creates invoices compatible with your AppSheet system (1,091 records)"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Invoice Number"}),s.jsx("input",{type:"text",name:"invoiceNumber",value:c.invoiceNumber||"",onChange:y,placeholder:"Auto-generated if empty",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"}),s.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Leave empty to auto-generate (e.g., 12457956)"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Job Number *"}),s.jsx("input",{type:"text",name:"jobNumber",value:c.jobNumber||"",onChange:y,placeholder:"e.g., 6753455-01, 3686529",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Customer *"}),s.jsx("input",{type:"text",name:"customer",value:c.customer||"",onChange:y,placeholder:"e.g., Value City Furniture #175, Rally House #160",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Bill To *"}),s.jsx("input",{type:"text",name:"billTo",value:c.billTo||"",onChange:y,placeholder:"e.g., Value City Furniture, Sampler Stores",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0}),s.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Who receives the invoice"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Grand Total *"}),s.jsx("input",{type:"number",step:"0.01",min:"0",name:"grandTotal",value:c.grandTotal||"",onChange:y,placeholder:"0.00",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Total Cost"}),s.jsx("input",{type:"number",step:"0.01",min:"0",name:"totalCost",value:c.totalCost||"",onChange:y,placeholder:"0.00",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"}),s.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Labor + material costs"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Net Terms"}),s.jsxs("select",{name:"netTerms",value:c.netTerms||"Net 30",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[s.jsx("option",{value:"Net 15",children:"Net 15"}),s.jsx("option",{value:"Net 30",children:"Net 30"}),s.jsx("option",{value:"Net 45",children:"Net 45"}),s.jsx("option",{value:"Due on Receipt",children:"Due on Receipt"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Service Address *"}),s.jsx("input",{type:"text",name:"serviceAddress",value:c.serviceAddress||"",onChange:y,placeholder:"e.g., 27775 Novi Rd, Novi, MI 48377, USA",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Job Description *"}),s.jsx("textarea",{name:"description",value:c.description||"",onChange:y,rows:"3",placeholder:"Describe the work performed, issues found, and solutions provided...",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Transaction Date *"}),s.jsx("input",{type:"date",name:"transactionDate",value:c.transactionDate||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Completed On"}),s.jsx("input",{type:"date",name:"completedOn",value:c.completedOn||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Invoice Status"}),s.jsxs("select",{name:"invoiceStatus",value:c.invoiceStatus||"Open",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[s.jsx("option",{value:"Open",children:"Open"}),s.jsx("option",{value:"Paid",children:"Paid"}),s.jsx("option",{value:"Overdue",children:"Overdue"}),s.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Location Type"}),s.jsxs("select",{name:"locationType",value:c.locationType||"Commercial",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[s.jsx("option",{value:"Commercial",children:"Commercial"}),s.jsx("option",{value:"Residential",children:"Residential"}),s.jsx("option",{value:"Industrial",children:"Industrial"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Job Type"}),s.jsxs("select",{name:"jobType",value:c.jobType||"Service Call",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[s.jsx("option",{value:"Service Call",children:"Service Call"}),s.jsx("option",{value:"Installation",children:"Installation"}),s.jsx("option",{value:"Maintenance",children:"Maintenance"}),s.jsx("option",{value:"Repair",children:"Repair"}),s.jsx("option",{value:"Emergency",children:"Emergency"})]})]})]}),c.grandTotal&&parseFloat(c.grandTotal)>0&&s.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[s.jsx("h4",{className:"font-semibold text-green-800 dark:text-green-200 mb-2",children:"💰 Invoice Summary"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:"Invoice Total:"}),s.jsxs("p",{className:"font-mono font-bold text-green-600 dark:text-green-400 text-lg",children:["$",parseFloat(c.grandTotal||0).toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-medium",children:"Total Costs:"}),s.jsxs("p",{className:"font-mono font-bold text-blue-600 dark:text-blue-400 text-lg",children:["$",parseFloat(c.totalCost||0).toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-purple-600 dark:text-purple-400 font-medium",children:"Profit Margin:"}),s.jsxs("p",{className:"font-mono font-bold text-purple-600 dark:text-purple-400 text-lg",children:["$",(parseFloat(c.grandTotal||0)-parseFloat(c.totalCost||0)).toFixed(2)]})]})]})]})]});case"inventory":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Item Name *"}),s.jsx("input",{type:"text",name:"name",value:c.name||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Quantity *"}),s.jsx("input",{type:"number",min:"0",name:"quantity",value:c.quantity||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Cost per Unit"}),s.jsx("input",{type:"number",step:"0.01",min:"0",name:"cost",value:c.cost||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]})]});case"task":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Task Title *"}),s.jsx("input",{type:"text",name:"title",value:c.title||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Due Date"}),s.jsx("input",{type:"date",name:"date",value:c.date?c.date.split("T")[0]:"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),s.jsx("div",{className:"flex items-center",children:s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",name:"isComplete",checked:c.isComplete||!1,onChange:y,className:"mr-2"}),s.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:"Mark as Complete"})]})})]})]});case"taxPayment":return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Payment Date *"}),s.jsx("input",{type:"date",name:"date",value:c.date?c.date.split("T")[0]:"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Amount *"}),s.jsx("input",{type:"number",step:"0.01",name:"amount",value:c.amount||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]})]})});case"goal":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Goal Name *"}),s.jsx("input",{type:"text",name:"name",value:c.name||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Goal Type"}),s.jsxs("select",{name:"type",value:c.type||"revenue",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[s.jsx("option",{value:"revenue",children:"Revenue"}),s.jsx("option",{value:"profit",children:"Profit"}),s.jsx("option",{value:"clients",children:"New Clients"}),s.jsx("option",{value:"jobs",children:"Completed Jobs"}),s.jsx("option",{value:"debt",children:"Debt Payoff"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Target Value *"}),s.jsx("input",{type:"number",step:"0.01",name:"targetValue",value:c.targetValue||"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Target Date"}),s.jsx("input",{type:"date",name:"deadline",value:c.deadline?c.deadline.split("T")[0]:"",onChange:y,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]})]})]});default:return s.jsxs("div",{children:["Form not implemented for type: ",e]})}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[s.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:t?`Edit ${e}`:`Add New ${e}`}),s.jsx("button",{onClick:n,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:s.jsx(ho,{size:24})})]})}),s.jsxs("div",{className:"p-6 overflow-y-auto max-h-[70vh]",children:[s.jsxs("div",{className:"space-y-4",children:[w(),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Notes"}),s.jsx("textarea",{name:"notes",value:c.notes||"",onChange:y,rows:"3",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"Additional notes or comments..."})]}),(e==="bill"||e==="invoice")&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Attachment"}),s.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:b=>p(b.target.files[0]),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"}),s.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Upload receipt or related document (images and PDFs only)"})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-6 border-t border-slate-200 dark:border-slate-700",children:[s.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200",children:"Cancel"}),s.jsxs("button",{onClick:x,className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded transition-colors",children:[t?"Update":"Add"," ",e]})]})]})]})})},xoe=({invoices:t,openModal:e,handleDelete:r,handleBulkDelete:n,searchTerm:a,setSearchTerm:i,selectedIds:l,setSelectedIds:c,handleImportCSV:d,handleExportCSV:h,handleToggleInvoicePaid:p})=>{const[m,y]=B.useState("All"),[x,k]=B.useState("All"),[w,b]=B.useState(!1),N=[{key:"status",header:"Status",render:O=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>p(O.id,O.status),children:O.status==="Paid"?s.jsx(Ba,{className:"text-green-500",size:20}):s.jsx($4,{className:"text-slate-400 dark:text-slate-600",size:20})}),s.jsx(E,{status:O.invoiceStatus||O.status})]})},{key:"invoiceNumber",header:"Invoice #",render:O=>s.jsxs("div",{className:O.status==="Paid"?"opacity-60":"",children:[s.jsx("div",{className:"font-medium text-slate-900 dark:text-white",children:O.invoiceNumber||`INV-${O.id}`}),s.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Job: ",O.jobNumber||"N/A"]})]})},{key:"customer",header:"Customer",render:O=>s.jsxs("div",{className:O.status==="Paid"?"opacity-60":"",children:[s.jsx("div",{className:`font-medium ${O.status==="Paid"?"line-through":""}`,children:O.customer}),s.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:O.billTo&&O.billTo!==O.customer?`Bill to: ${O.billTo}`:""})]})},{key:"jobType",header:"Job Type",render:O=>s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx(P,{jobType:O.jobType}),s.jsx(R,{priority:O.priority})]})},{key:"grandTotal",header:"Amount",className:"text-right",render:O=>s.jsxs("div",{className:`text-right ${O.status==="Paid"?"opacity-60":""}`,children:[s.jsxs("div",{className:`font-mono font-bold ${O.status==="Paid"?"line-through text-green-600":"text-slate-900 dark:text-white"}`,children:["$",parseFloat(O.grandTotal?.toString().replace(/[$,]/g,"")||O.grandTotal||0).toFixed(2)]}),s.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:O.netTerms||"Net 30"})]})},{key:"dueDate",header:"Due Date",className:"text-center",render:O=>s.jsxs("div",{className:`text-center ${O.status==="Paid"?"opacity-60":""}`,children:[s.jsx("div",{className:O.status==="Paid"?"line-through":"",children:O.dueDate||"N/A"}),O.daysElapsed>0&&O.status!=="Paid"&&s.jsxs("div",{className:"text-xs text-orange-600 dark:text-orange-400",children:[O.daysElapsed," days elapsed"]}),j(O)&&s.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 font-medium",children:"OVERDUE"})]})},{key:"description",header:"Description",render:O=>s.jsxs("div",{className:`max-w-xs ${O.status==="Paid"?"opacity-60":""}`,children:[s.jsx("div",{className:"text-sm truncate",title:O.description,children:O.description||"No description"}),s.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:O.serviceAddress&&s.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[s.jsx(A0,{size:10}),s.jsx("span",{className:"truncate",children:O.serviceAddress})]})})]})}],E=({status:O})=>{const D=F=>{switch(F){case"Paid":return"bg-green-100 text-green-800 border-green-200 dark:bg-green-900 dark:text-green-200";case"Sent":return"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900 dark:text-blue-200";case"Open":return"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900 dark:text-orange-200";case"Overdue":return"bg-red-100 text-red-800 border-red-200 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-700 dark:text-gray-200"}};return s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${D(O)}`,children:O||"Unknown"})},P=({jobType:O})=>{const D=F=>{switch(F){case"Service Call":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"Planned Maintenance":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"Installation":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200";case"Emergency":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}};return s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded text-xs font-medium ${D(O)}`,children:O||"N/A"})},R=({priority:O})=>{if(!O)return null;const D=F=>{switch(F){case"ER":return"bg-red-100 text-red-800 border-red-300 dark:bg-red-900 dark:text-red-200";case"URG":return"bg-orange-100 text-orange-800 border-orange-300 dark:bg-orange-900 dark:text-orange-200";case"STD":return"bg-gray-100 text-gray-800 border-gray-300 dark:bg-gray-700 dark:text-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-300 dark:bg-gray-700 dark:text-gray-200"}};return s.jsx("span",{className:`inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium border ${D(O)}`,children:O})},j=O=>O.status==="Paid"||!O.dueDate?!1:new Date(O.dueDate)<new Date,C=B.useMemo(()=>{const O=t.reduce((G,ne)=>{const Q=parseFloat(ne.grandTotal?.toString().replace(/[$,]/g,"")||0);return G+Q},0),D=t.filter(G=>G.status==="Paid"||G.invoiceStatus==="Paid"),F=D.reduce((G,ne)=>{const Q=parseFloat(ne.grandTotal?.toString().replace(/[$,]/g,"")||0);return G+Q},0),ae=t.filter(G=>G.status!=="Paid"&&G.invoiceStatus!=="Paid").reduce((G,ne)=>{const Q=parseFloat(ne.grandTotal?.toString().replace(/[$,]/g,"")||0);return G+Q},0),ee=t.filter(G=>j(G));return{totalInvoices:t.length,totalAmount:O,paidAmount:F,outstandingAmount:ae,overdueCount:ee.length,paidCount:D.length}},[t]),A=B.useMemo(()=>t.filter(O=>{const D=!a||String(O.invoiceNumber||"").toLowerCase().includes(a.toLowerCase())||String(O.customer||"").toLowerCase().includes(a.toLowerCase())||String(O.vehicleId||"").toLowerCase().includes(a.toLowerCase()),F=m==="all"||O.status===m,$=x==="all"||O.priority===x;return D&&F&&$}),[t,a,m,x]),I=O=>{O.target.checked?c(A.map(D=>D.id)):c([])},L=()=>{const O=["Invoice Number","Job Number","Customer","Bill To","Grand Total","Total Cost","Net Terms","Transaction Date","Due Date","Payment Date","Completed On","Invoice Status","Terms","Priority","Description","Service Address","Location Type","Job Type","Line Items","Payments","Days Elapsed","Company","Division"],D=A.map(G=>[G.invoiceNumber||`INV-${G.id}`,G.jobNumber||"",G.customer||"",G.billTo||"",G.grandTotal||"",G.totalCost||"",G.netTerms||"",G.transactionDate||"",G.dueDate||"",G.paymentDate||"",G.completedOn||"",G.invoiceStatus||G.status||"",G.terms||"",G.priority||"",G.description||"",G.serviceAddress||"",G.locationType||"",G.jobType||"",G.lineItems||"",G.payments||"",G.daysElapsed||0,G.company||"Mechanical Temp",G.division||"HVAC & Refrigeration"]),F=[O,...D].map(G=>G.map(ne=>`"${ne}"`).join(",")).join(`
`),$=new Blob([F],{type:"text/csv"}),ae=URL.createObjectURL($),ee=document.createElement("a");ee.href=ae,ee.download=`appsheet_invoices_${new Date().toISOString().split("T")[0]}.csv`,ee.click(),URL.revokeObjectURL(ae)};return s.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border-b border-blue-200 dark:border-blue-800 p-4 rounded-t-xl",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(tA,{className:"text-blue-600 dark:text-blue-400",size:20}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-blue-900 dark:text-blue-100",children:"AppSheet Integration"}),s.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[t.length," invoices • Last sync: 2 hours ago"]})]})]}),s.jsxs("button",{onClick:()=>b(!w),className:"flex items-center gap-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[s.jsx(tA,{size:16}),"Sync Now"]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 border-b border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[s.jsx(Dn,{className:"text-slate-500",size:16}),s.jsx("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Total"})]}),s.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:C.totalInvoices}),s.jsxs("div",{className:"text-sm text-slate-500",children:["$",C.totalAmount.toLocaleString()]})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[s.jsx(Ba,{className:"text-green-500",size:16}),s.jsx("span",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:"Paid"})]}),s.jsx("div",{className:"text-2xl font-bold text-green-600",children:C.paidCount}),s.jsxs("div",{className:"text-sm text-green-600",children:["$",C.paidAmount.toLocaleString()]})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[s.jsx(T0,{className:"text-orange-500",size:16}),s.jsx("span",{className:"text-sm font-medium text-orange-600 dark:text-orange-400",children:"Outstanding"})]}),s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:t.length-C.paidCount}),s.jsxs("div",{className:"text-sm text-orange-600",children:["$",C.outstandingAmount.toLocaleString()]})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[s.jsx(Uh,{className:"text-red-500",size:16}),s.jsx("span",{className:"text-sm font-medium text-red-600 dark:text-red-400",children:"Overdue"})]}),s.jsx("div",{className:"text-2xl font-bold text-red-600",children:C.overdueCount}),s.jsx("div",{className:"text-sm text-red-600",children:"Needs attention"})]})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Invoice Management"}),s.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Showing ",A.length," of ",t.length," invoices"]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx("input",{type:"text",placeholder:"Search invoices...",value:a,onChange:O=>i(O.target.value),className:"w-full md:w-auto bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white"}),s.jsxs("select",{value:m,onChange:O=>y(O.target.value),className:"bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white",children:[s.jsx("option",{value:"All",children:"All Status"}),s.jsx("option",{value:"Paid",children:"Paid"}),s.jsx("option",{value:"Sent",children:"Sent"}),s.jsx("option",{value:"Open",children:"Open"}),s.jsx("option",{value:"Overdue",children:"Overdue"})]}),s.jsxs("select",{value:x,onChange:O=>k(O.target.value),className:"bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white",children:[s.jsx("option",{value:"All",children:"All Priority"}),s.jsx("option",{value:"ER",children:"Emergency"}),s.jsx("option",{value:"URG",children:"Urgent"}),s.jsx("option",{value:"STD",children:"Standard"})]}),l.length>0&&s.jsxs("button",{onClick:()=>n("invoice",l),className:"flex items-center gap-2 text-sm bg-red-600 hover:bg-red-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[s.jsx(ir,{size:16})," Delete (",l.length,")"]}),s.jsx("input",{type:"file",id:"csv-importer-invoice",className:"hidden",accept:".csv",onChange:O=>d(O.target.files[0],"invoice")}),s.jsxs("label",{htmlFor:"csv-importer-invoice",className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[s.jsx(uo,{size:16})," Import CSV"]}),s.jsxs("button",{onClick:L,className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[s.jsx(Dn,{size:16})," Export AppSheet CSV"]}),s.jsxs("button",{onClick:()=>e("invoice"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[s.jsx(on,{size:16})," Add New"]})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-3",children:s.jsx("input",{type:"checkbox",onChange:I,checked:l.length===A.length&&A.length>0,className:"rounded border-slate-300 dark:border-slate-600"})}),N.map(O=>s.jsx("th",{className:`p-3 ${O.className||""}`,children:O.header},O.key)),s.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),s.jsx("tbody",{className:"text-sm",children:A.map(O=>s.jsxs("tr",{className:`border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors ${O.status==="Paid"?"text-slate-400 dark:text-slate-500":"text-slate-700 dark:text-slate-200"}`,children:[s.jsx("td",{className:"p-3",children:s.jsx("input",{type:"checkbox",checked:l.includes(O.id),onChange:()=>{c(D=>D.includes(O.id)?D.filter(F=>F!==O.id):[...D,O.id])},className:"rounded border-slate-300 dark:border-slate-600"})}),N.map(D=>s.jsx("td",{className:`p-3 ${D.className||""}`,children:D.render(O)},D.key)),s.jsx("td",{className:"p-3 text-center",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("button",{onClick:()=>{},className:"text-slate-500 dark:text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",title:"View Details",children:s.jsx(Mq,{size:16})}),s.jsx("button",{onClick:()=>e("invoice",O),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 transition-colors",title:"Edit Invoice",children:s.jsx(an,{size:16})}),s.jsx("button",{onClick:()=>r("invoice",O.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500 transition-colors",title:"Delete Invoice",children:s.jsx(ir,{size:16})})]})})]},O.id))})]})}),A.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Dn,{className:"mx-auto text-slate-400 mb-4",size:48}),s.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-2",children:"No invoices found"}),s.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:a||m!=="All"||x!=="All"?"Try adjusting your search or filters":"Get started by importing your AppSheet invoice data"})]})]})]})},boe=typeof __firebase_config<"u"?JSON.parse(__firebase_config):{},l$=nk(boe),Zt=r4(l$),XR=pk(l$),cr=typeof __app_id<"u"?__app_id:"hvac-scheduler-app",woe=[{id:"1",name:"Synergy Management",type:"National Account",contact:{name:"Sarah Connor",email:"s.connor@synergy.com",phone:"555-0101"},billingAddress:{street:"100 Main St",city:"Southfield",state:"MI",zip:"48075"},locations:[{name:"Lane Bryant",locNum:"4826",city:"LIVONIA",state:"MI"},{name:"Lane Bryant",locNum:"6065",city:"LATHRUP VLG",state:"MI"}]},{id:"2",name:"Retail Maintenance Inc.",type:"National Account",contact:{name:"Bob Belcher",email:"bob@rmi.com",phone:"555-0102"},billingAddress:{street:"200 Corporate Dr",city:"Troy",state:"MI",zip:"48084"},locations:[{name:"Value City Furniture",locNum:"175",city:"NOVI",state:"MI"},{name:"Value City Furniture",locNum:"188",city:"CANTON TWP",state:"MI"}]},{id:"3",name:"Mr. Henderson",type:"Residential",contact:{name:"James Henderson",email:"j.henderson@email.com",phone:"555-0103"},billingAddress:{street:"123 Oak Ave",city:"Southfield",state:"MI",zip:"48076"},locations:[{name:"Primary Residence",locNum:"N/A",city:"SOUTHFIELD",state:"MI"}]}],_oe=[{"WO#":"6748425-01",clientWO:"SYN-10234",Client:"Synergy Management",Company:"Lane Bryant","Loc #":"4826",Category:"Heating & Cooling",Task:"HVAC Fall Startup","Created Date":45852.5421875,"Schedule Date":45900,startTime:"09:00",endTime:"11:00",City:"LIVONIA",State:"MI",NTE:150.5,technician:["John Smith","Jane Doe"],notes:[],Priority:"Low","Order Status":"Scheduled"},{"WO#":"6694098-01",clientWO:"RMI-55912",Client:"Retail Maintenance Inc.",Company:"Value City Furniture","Loc #":"175",Category:"Heating & Cooling",Task:"AC Leak","Created Date":45792.889,"Schedule Date":45900,startTime:"14:00",endTime:"16:30","Completed Date":45812.498,City:"NOVI",State:"MI",NTE:750,technician:["John Smith"],notes:[{text:"Customer reported leak from ceiling unit.",timestamp:"2025-06-20T14:00:00Z"}],Priority:"Urgent","Order Status":"Completed"},{"WO#":"6693039-01",clientWO:"NSG-345-A",Client:"National Service Group",Company:"Floor & Decor","Loc #":"230",Category:"Heating & Cooling",Task:"Too Hot","Created Date":45791.847,"Schedule Date":null,startTime:null,endTime:null,City:"MADISON HTS",State:"MI",NTE:2500,technician:[],notes:[{text:"Manager called, says store is unbearable.",timestamp:"2025-06-20T09:30:00Z"}],Priority:"Emergency","Order Status":"Open"}].map(t=>({...t,id:t["WO#"]})),koe=[{id:"1",name:"John Smith",email:"john.s@example.com",phone:"555-1111",status:"Available"},{id:"2",name:"Jane Doe",email:"jane.d@example.com",phone:"555-2222",status:"On Site"},{id:"3",name:"Mike Rowe",email:"mike.r@example.com",phone:"555-3333",status:"On Call"},{id:"4",name:"Sarah Jenkins",email:"sarah.j@example.com",phone:"555-4444",status:"Day Off"}],joe=[{id:"INV-001",workOrderId:"6694098-01",customerName:"Retail Maintenance Inc.",date:new Date().toISOString(),amount:750,status:"Paid"}],Noe=[{id:"QT-001",customerName:"Mr. Henderson",date:new Date().toISOString(),amount:1200,description:"New AC unit installation",status:"Sent"}],dN=t=>t&&typeof t=="number"?new Date(Math.round((t-25569)*86400*1e3)):null,hN=t=>t?t.getTime()/864e5+25569:null,fN=t=>{const e=dN(t);return e?e.toISOString().split("T")[0]:""},pN=t=>t?hN(new Date(t+"T00:00:00")):null,vd=t=>{if(!t)return"";const[e,r]=t.split(":"),n=parseInt(e,10),a=n>=12?"PM":"AM";return`${(n+11)%12+1}:${r} ${a}`},c$=t=>{const e=dN(t);return e?e.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):null},Soe=t=>t?new Date(t).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}):"",i0=t=>t==null?"N/A":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t),Nh=t=>({emergency:"bg-red-100 text-red-800 border-red-500",urgent:"bg-orange-100 text-orange-800 border-orange-500",regular:"bg-blue-100 text-blue-800 border-blue-500",low:"bg-gray-100 text-gray-800 border-gray-500"})[t?.toLowerCase()]||"bg-gray-100 text-gray-800 border-gray-500",Toe=t=>({completed:"bg-green-100 text-green-800",scheduled:"bg-blue-100 text-blue-800",open:"bg-yellow-100 text-yellow-800","in progress":"bg-purple-100 text-purple-800","on hold":"bg-pink-100 text-pink-800",cancelled:"bg-red-100 text-red-800"})[t?.toLowerCase()]||"bg-gray-100 text-gray-800",Eoe=t=>({"national account":"bg-blue-100 text-blue-800",commercial:"bg-purple-100 text-purple-800",residential:"bg-green-100 text-green-800",maintenance:"bg-yellow-100 text-yellow-800"})[t?.toLowerCase()]||"bg-gray-100 text-gray-800",Aoe=t=>({available:"bg-green-100 text-green-800","on site":"bg-blue-100 text-blue-800","en route":"bg-yellow-100 text-yellow-800","on break":"bg-gray-100 text-gray-800","on call":"bg-teal-100 text-teal-800","day off":"bg-slate-200 text-slate-800"})[t?.toLowerCase()]||"bg-gray-100 text-gray-800",Coe=({currentView:t,setCurrentView:e,onAddOrderClick:r})=>s.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-10",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[t!=="dashboard"?s.jsx("button",{onClick:()=>e("dashboard"),className:"p-2 rounded-full hover:bg-gray-100",children:s.jsx(Pq,{size:24})}):s.jsx(Fs,{className:"h-8 w-8 text-blue-600"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"HVAC Schedule Dashboard"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>e("billing"),className:"flex items-center gap-2 text-gray-600 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[s.jsx(Dn,{size:20})," Billing"]}),s.jsxs("button",{onClick:()=>e("reporting"),className:"flex items-center gap-2 text-gray-600 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[s.jsx(Dq,{size:20})," Reporting"]}),s.jsxs("button",{onClick:()=>e("route"),className:"flex items-center gap-2 text-gray-600 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[s.jsx(Bq,{size:20})," Route"]}),s.jsxs("button",{onClick:()=>e("dispatch"),className:"flex items-center gap-2 text-gray-600 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[s.jsx(tj,{size:20})," Dispatch"]}),s.jsxs("button",{onClick:()=>e("customers"),className:"flex items-center gap-2 text-gray-600 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[s.jsx(Ua,{size:20})," Customers"]}),s.jsxs("button",{onClick:()=>e("technicians"),className:"flex items-center gap-2 text-gray-600 font-semibold py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:[s.jsx(nj,{size:20})," Technicians"]}),s.jsxs("button",{onClick:r,className:"flex items-center gap-2 bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(on,{size:20})," Add Work Order"]})]})]})})}),Poe=({order:t,onSelectOrder:e})=>s.jsxs("div",{className:"bg-white rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300 overflow-hidden border-l-4",style:{borderColor:Nh(t.Priority).borderColor},children:[s.jsxs("div",{className:"p-5",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("span",{className:`text-xs font-bold uppercase px-2 py-1 rounded-full ${Nh(t.Priority)}`,children:t.Priority}),s.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full ${Toe(t["Order Status"])}`,children:t["Order Status"]})]}),s.jsxs("p",{className:"text-xs text-gray-500 font-semibold mt-3 flex items-center",children:[s.jsx(M4,{size:12,className:"mr-1.5"})," ",t.Client]}),s.jsxs("h3",{className:"text-lg font-bold text-gray-800",children:[t.Company," - #",t["Loc #"]]}),s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:t.Task}),s.jsxs("div",{className:"mt-4 space-y-2 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(nj,{className:"w-4 h-4 mr-2 text-gray-400"}),s.jsx("span",{children:t.technician?.join(", ")||"Unassigned"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(tj,{className:"w-4 h-4 mr-2 text-gray-400"}),s.jsxs("span",{children:["Scheduled: ",c$(t["Schedule Date"])||"Not Set"," ",t.startTime&&`(${vd(t.startTime)})`]})]}),t.clientWO&&s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"font-bold mr-2",children:"Client WO:"}),s.jsx("span",{children:t.clientWO})]})]})]}),s.jsx("div",{className:"bg-gray-50 px-5 py-3",children:s.jsx("button",{onClick:()=>e(t),className:"w-full text-sm font-semibold text-blue-600 hover:text-blue-800 transition-colors",children:"View Details"})})]}),Ioe=({orders:t,onSelectOrder:e,searchTerm:r,setSearchTerm:n,statusFilter:a,setStatusFilter:i})=>s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-8",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"relative md:col-span-2",children:[s.jsx(gi,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"text",placeholder:"Search by WO#, Client, Location, Tech...",value:r,onChange:l=>n(l.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(kl,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),s.jsxs("select",{value:a,onChange:l=>i(l.target.value),className:"w-full appearance-none pl-10 pr-8 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white",children:[s.jsx("option",{children:"All"}),s.jsx("option",{children:"Open"}),s.jsx("option",{children:"Scheduled"}),s.jsx("option",{children:"In Progress"}),s.jsx("option",{children:"On Hold"}),s.jsx("option",{children:"Completed"}),s.jsx("option",{children:"Cancelled"})]}),s.jsx(Bd,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",size:20})]})]})}),t.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(l=>s.jsx(Poe,{order:l,onSelectOrder:e},l.id))}):s.jsxs("div",{className:"text-center py-16 px-6 bg-white rounded-lg shadow-sm",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-700",children:"No Work Orders Found"}),s.jsx("p",{className:"text-gray-500 mt-2",children:"Try adjusting your search or filter criteria."})]})]}),Ooe=({workOrders:t,technicians:e,onSelectOrder:r,onUpdateOrder:n})=>{const[a,i]=B.useState(new Date().toISOString().split("T")[0]),l=Array.from({length:13},(b,N)=>N+7),c=e.filter(b=>b.name!=="Unassigned"),d=b=>{const N=c.findIndex(E=>E.name===b);return N===-1?-1:N+2},h=b=>{if(!b)return 0;const[N,E]=b.split(":").map(Number);return isNaN(N)||isNaN(E)?0:(N-7)*4+E/15+2},p=t.filter(b=>fN(b["Schedule Date"])===a&&b.startTime&&b.endTime&&b.technician?.length>0),m=t.filter(b=>b["Order Status"]==="Open"||!b.technician||b.technician.length===0).sort((b,N)=>{const E={Emergency:1,Urgent:2,Regular:3,Low:4};return(E[b.Priority]||5)-(E[N.Priority]||5)}),y=(b,N)=>{b.dataTransfer.setData("workOrder",JSON.stringify(N))},x=(b,N,E)=>{b.preventDefault();const P=JSON.parse(b.dataTransfer.getData("workOrder")),R=E,j=`${String(parseInt(E.split(":")[0])+2).padStart(2,"0")}:${E.split(":")[1]}`;n(P.id,{technician:[N],"Schedule Date":pN(a),startTime:R,endTime:j,"Order Status":"Scheduled"})},k=b=>{b.preventDefault();const N=JSON.parse(b.dataTransfer.getData("workOrder"));n(N.id,{technician:[],"Schedule Date":null,startTime:null,endTime:null,"Order Status":"Open"})},w=b=>b.preventDefault();return s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Dispatch Board"}),s.jsx("input",{type:"date",value:a,onChange:b=>i(b.target.value),className:"p-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"w-1/4 bg-white p-4 rounded-lg shadow-sm",onDrop:k,onDragOver:w,children:[s.jsx("h3",{className:"text-lg font-bold mb-4",children:"Unassigned Jobs"}),s.jsx("div",{className:"space-y-2 max-h-[70vh] overflow-y-auto",children:m.map(b=>s.jsxs("div",{draggable:!0,onDragStart:N=>y(N,b),className:`p-2 border-l-4 rounded cursor-grab ${Nh(b.Priority)}`,children:[s.jsx("p",{className:"font-bold text-sm",children:b.Company}),s.jsx("p",{className:"text-xs text-gray-600",children:b.Task})]},b.id))})]}),s.jsx("div",{className:"w-3/4 bg-white p-4 rounded-lg shadow-sm overflow-x-auto",children:s.jsxs("div",{className:"grid gap-px bg-gray-200 min-w-max",style:{gridTemplateColumns:`60px repeat(${c.length}, minmax(200px, 1fr))`,gridTemplateRows:`auto repeat(${l.length*4}, 20px)`},children:[s.jsx("div",{className:"bg-gray-100 sticky top-0 z-10"}),c.map(b=>s.jsxs("div",{className:"bg-gray-100 text-center font-bold p-2 sticky top-0 z-10 flex flex-col",children:[s.jsx("span",{children:b.name}),s.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full mt-1 ${Aoe(b.status)}`,children:b.status})]},b.id)),l.map(b=>s.jsxs(K.Fragment,{children:[s.jsxs("div",{className:"row-start-auto bg-gray-50 text-right pr-2 text-xs text-gray-500 -translate-y-2 sticky left-0 z-10",style:{gridRow:(b-7)*4+2},children:[b>12?b-12:b,":00 ",b>=12?"PM":"AM"]}),c.map((N,E)=>s.jsx(K.Fragment,{children:Array.from({length:4}).map((P,R)=>s.jsx("div",{onDrop:j=>x(j,N.name,`${String(b).padStart(2,"0")}:${String(R*15).padStart(2,"0")}`),onDragOver:w,className:"border-t border-gray-200",style:{gridRow:(b-7)*4+R+2,gridColumn:E+2}},`${N.id}-${b}-${R}`))},N.id))]},b)),p.flatMap(b=>b.technician.map(N=>{const E=d(N),P=h(b.startTime),R=h(b.endTime);return E<0||!P||!R||R<=P?null:s.jsxs("div",{draggable:!0,onDragStart:j=>y(j,b),className:`p-2 m-px rounded-lg text-xs cursor-grab overflow-hidden ${Nh(b.Priority)}`,style:{gridColumn:E,gridRow:`${P} / ${R}`},onClick:()=>r(b),children:[s.jsx("p",{className:"font-bold truncate",children:b.Company}),s.jsx("p",{className:"truncate",children:b.Task})]},`${b.id}-${N}`)}))]})})]})]})},Roe=({workOrders:t,technicians:e})=>{const[r,n]=B.useState("ALL"),[a,i]=B.useState("today"),[l,c]=B.useState(new Date().toISOString().split("T")[0]),[d,h]=B.useState(new Date().toISOString().split("T")[0]),p=B.useMemo(()=>{let x=new Date,k=new Date;switch(a){case"today":x=new Date,k=new Date;break;case"3-day":x=new Date,k=new Date,k.setDate(x.getDate()+2);break;case"week":x=new Date;const N=x.getDay();x.setDate(x.getDate()-N),k.setDate(x.getDate()+6);break;case"custom":x=new Date(l+"T00:00:00"),k=new Date(d+"T00:00:00");break}const w=t.filter(N=>{const E=dN(N["Schedule Date"]);return E>=x&&E<=k}),b=e.find(N=>N.id===r)?.name;return r!=="ALL"?w.filter(N=>N.technician.includes(b)).sort((N,E)=>(N.startTime||"").localeCompare(E.startTime||"")):w.sort((N,E)=>(N.startTime||"").localeCompare(E.startTime||""))},[r,t,e,a,l,d]),m=B.useMemo(()=>p.reduce((x,k)=>{const w=fN(k["Schedule Date"]);return x[w]||(x[w]={}),k.technician.forEach(b=>{x[w][b]||(x[w][b]=[]),x[w][b].push(k)}),x},{}),[p]),y=()=>window.print();return s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6 print:hidden",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Route Planning"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("select",{value:a,onChange:x=>i(x.target.value),className:"p-2 border border-gray-300 rounded-lg",children:[s.jsx("option",{value:"today",children:"Today"}),s.jsx("option",{value:"3-day",children:"Next 3 Days"}),s.jsx("option",{value:"week",children:"This Week"}),s.jsx("option",{value:"custom",children:"Custom Range"})]}),a==="custom"&&s.jsxs(s.Fragment,{children:[s.jsx("input",{type:"date",value:l,onChange:x=>c(x.target.value),className:"p-2 border border-gray-300 rounded-lg"}),s.jsx("input",{type:"date",value:d,onChange:x=>h(x.target.value),className:"p-2 border border-gray-300 rounded-lg"})]}),s.jsxs("select",{value:r,onChange:x=>n(x.target.value==="ALL"?"ALL":Number(x.target.value)),className:"p-2 border border-gray-300 rounded-lg",children:[s.jsx("option",{value:"ALL",children:"All Technicians"}),e.filter(x=>x.name!=="Unassigned").map(x=>s.jsx("option",{value:x.id,children:x.name},x.id))]}),s.jsxs("button",{onClick:y,className:"flex items-center gap-2 bg-gray-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-700",children:[s.jsx(zq,{size:20})," Print Route"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"md:col-span-1 print:col-span-3",children:[s.jsx("h3",{className:"font-bold text-lg mb-2",children:"Job Order"}),Object.keys(m).length>0?Object.entries(m).map(([x,k])=>s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"font-bold text-xl mb-2 p-2 bg-gray-200 rounded-md sticky top-20",children:new Date(x+"T00:00:00").toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"})}),Object.entries(k).map(([w,b])=>s.jsxs("div",{className:"mb-4",children:[r==="ALL"&&s.jsx("h5",{className:"font-bold text-md mb-2 p-2 bg-gray-100 rounded-md",children:w}),s.jsx("div",{className:"space-y-2",children:b.map((N,E)=>s.jsxs("div",{className:"p-3 border rounded-lg flex items-center gap-4",children:[s.jsx("span",{className:"text-xl font-bold text-gray-400",children:E+1}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-bold",children:[vd(N.startTime)," - ",vd(N.endTime)]}),s.jsxs("p",{children:[N.Company," - ",N.City]}),s.jsx("p",{className:"text-sm text-gray-600",children:N.Task})]})]},N.id))})]},w))]},x)):s.jsx("p",{children:"No jobs scheduled for this selection."})]}),s.jsx("div",{className:"md:col-span-2 bg-gray-200 rounded-lg flex items-center justify-center h-96 print:hidden",children:s.jsx("p",{className:"text-gray-500",children:"Map Placeholder"})})]}),s.jsx("style",{children:"@media print { body * { visibility: hidden; } .print-container, .print-container * { visibility: visible; } .print-container { position: absolute; left: 0; top: 0; width: 100%; } }"}),s.jsxs("div",{className:"print-container hidden print:block",children:[s.jsxs("h2",{className:"text-2xl font-bold mb-4",children:["Route for ",r==="ALL"?"All Technicians":e.find(x=>x.id===r)?.name," on ",new Date(l+"T00:00:00").toLocaleDateString()]}),Object.entries(m).map(([x,k])=>s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"font-bold text-lg mt-4 border-t pt-2",children:new Date(x+"T00:00:00").toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"})}),Object.entries(k).map(([w,b])=>s.jsxs("div",{className:"mb-2",children:[s.jsx("h4",{className:"font-semibold text-md mt-2",children:w}),b.map((N,E)=>s.jsxs("div",{className:"p-2 border-b",children:[s.jsx("p",{children:s.jsxs("strong",{children:[E+1,". ",vd(N.startTime)," - ",vd(N.endTime),": ",N.Company]})}),s.jsxs("p",{children:[N.Task," at ",N.City,", ",N.State]})]},N.id))]},w))]},x))]})]})},Doe=({customers:t,onAddCustomer:e,onUpdateCustomer:r,onAddLocation:n})=>{const[a,i]=B.useState(!1),[l,c]=B.useState(null),[d,h]=B.useState(null);return s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Customer Management"}),s.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:[s.jsx(on,{size:20})," Add New Customer"]})]}),s.jsx("div",{className:"space-y-4",children:t.map(p=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:p.name}),s.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full ${Eoe(p.type)}`,children:p.type})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>c(p),className:"text-sm text-blue-600 hover:underline",children:"Edit Details"}),s.jsx("button",{onClick:()=>h(p),className:"text-sm text-green-600 hover:underline",children:"Add Location"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-semibold text-gray-600",children:"Primary Contact"}),s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx(nj,{size:14})," ",p.contact.name]}),s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx(lm,{size:14})," ",p.contact.email]}),s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx(cm,{size:14})," ",p.contact.phone]})]}),s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-semibold text-gray-600",children:"Billing Address"}),s.jsx("p",{children:p.billingAddress.street}),s.jsxs("p",{children:[p.billingAddress.city,", ",p.billingAddress.state," ",p.billingAddress.zip]})]})]}),s.jsxs("div",{className:"mt-3 pt-3 border-t",children:[s.jsxs("h4",{className:"text-sm font-semibold text-gray-600 mb-1",children:["Service Locations (",p.locations.length,")"]}),s.jsx("div",{className:"pl-4 border-l-2 space-y-1",children:p.locations.map((m,y)=>s.jsxs("div",{className:"text-sm text-gray-700",children:[s.jsx("span",{className:"font-semibold",children:m.name})," (#",m.locNum,") - ",m.city,", ",m.state]},`${m.name}-${m.locNum}-${y}`))})]})]},p.id))}),a&&s.jsx($oe,{onAddCustomer:e,onClose:()=>i(!1)}),l&&s.jsx(Foe,{customer:l,onUpdateCustomer:r,onClose:()=>c(null)}),d&&s.jsx(Voe,{customer:d,onAddLocation:n,onClose:()=>h(null)})]})},Moe=({technicians:t,onAddTechnician:e,onUpdateTechnician:r,onDeleteTechnician:n})=>{const[a,i]=B.useState(!1),[l,c]=B.useState(null);return s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Technician Management"}),s.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:[s.jsx(on,{size:20})," Add New Technician"]})]}),s.jsx("div",{className:"space-y-4",children:t.map(d=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:d.name}),s.jsxs("div",{className:"text-sm text-gray-600 flex items-center gap-4 mt-1",children:[s.jsxs("span",{className:"flex items-center gap-1.5",children:[s.jsx(lm,{size:14})," ",d.email]}),s.jsxs("span",{className:"flex items-center gap-1.5",children:[s.jsx(cm,{size:14})," ",d.phone]})]})]}),d.name!=="Unassigned"&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>c(d),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-full",children:s.jsx(an,{size:16})}),s.jsx("button",{onClick:()=>n(d.id),className:"p-2 text-red-600 hover:bg-red-100 rounded-full",children:s.jsx(ir,{size:16})})]})]},d.id))}),a&&s.jsx(qoe,{onAdd:e,onClose:()=>i(!1)}),l&&s.jsx(zoe,{technician:l,onUpdate:r,onClose:()=>c(null)})]})},Loe=({order:t,onClose:e,onUpdate:r,onAddNote:n,technicians:a})=>{if(!t)return null;const[i,l]=B.useState(t["Order Status"]),[c,d]=B.useState(t.technician||[]),[h,p]=B.useState(fN(t["Schedule Date"])),[m,y]=B.useState(t.startTime||""),[x,k]=B.useState(t.endTime||""),[w,b]=B.useState(""),[N,E]=B.useState(t.clientWO||""),P=C=>{const A=c.includes(C)?c.filter(I=>I!==C):[...c,C];d(A)},R=()=>{const C={};i!==t["Order Status"]&&(C["Order Status"]=i,i==="Completed"&&!t["Completed Date"]&&(C["Completed Date"]=hN(new Date))),JSON.stringify(c)!==JSON.stringify(t.technician)&&(C.technician=c);const A=pN(h);(A!==t["Schedule Date"]||m!==t.startTime||x!==t.endTime)&&(C["Schedule Date"]=A,C.startTime=m,C.endTime=x,i==="Open"&&h&&(C["Order Status"]="Scheduled")),N!==t.clientWO&&(C.clientWO=N),Object.keys(C).length>0&&r(t.id,C)},j=[{label:"Work Order #",value:t["WO#"],icon:s.jsx(Fs,{})},{label:"Client WO#",value:t.clientWO,icon:s.jsx(M4,{})},{label:"Location",value:`${t.Company} (#${t["Loc #"]})`,icon:s.jsx(al,{})},{label:"Address",value:`${t.City}, ${t.State}`,icon:s.jsx(A0,{})},{label:"Priority",value:t.Priority,icon:s.jsx(Uh,{}),style:Nh(t.Priority)+" px-2 py-0.5 rounded-full text-xs font-semibold"},{label:"Task",value:t.Task},{label:"NTE Amount",value:i0(t.NTE)},{label:"Created Date",value:c$(t["Created Date"])}];return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-3xl max-h-[90vh] flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Work Order Details"}),s.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:s.jsx(ho,{size:28})})]}),s.jsxs("div",{className:"p-6 overflow-y-auto",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4",children:j.map(C=>s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs text-gray-500 font-medium",children:C.label}),s.jsxs("span",{className:`text-base text-gray-900 font-semibold flex items-center gap-2 mt-1 ${C.style||""}`,children:[C.icon&&s.jsx("span",{className:"text-gray-400",children:K.cloneElement(C.icon,{size:16})}),s.jsx("span",{className:C.style||"",children:C.value})]})]},C.label))}),s.jsxs("div",{className:"mt-6 pt-6 border-t",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-3",children:"Job Management"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Status"}),s.jsxs("select",{value:i,onChange:C=>l(C.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",children:[s.jsx("option",{children:"Open"}),s.jsx("option",{children:"Scheduled"}),s.jsx("option",{children:"In Progress"}),s.jsx("option",{children:"On Hold"}),s.jsx("option",{children:"Completed"}),s.jsx("option",{children:"Cancelled"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Assigned Technicians"}),s.jsx("div",{className:"border p-2 rounded-lg max-h-24 overflow-y-auto",children:a.filter(C=>C.name!=="Unassigned").map(C=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:`tech-${C.id}`,checked:c.includes(C.name),onChange:()=>P(C.name),className:"mr-2"}),s.jsx("label",{htmlFor:`tech-${C.id}`,children:C.name})]},C.id))})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Schedule Date"}),s.jsx("input",{type:"date",value:h,onChange:C=>p(C.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Start Time"}),s.jsx("input",{type:"time",value:m,onChange:C=>y(C.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"End Time"}),s.jsx("input",{type:"time",value:x,onChange:C=>k(C.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Client WO#"}),s.jsx("input",{type:"text",value:N,onChange:C=>E(C.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),s.jsx("div",{className:"mt-4 flex justify-end",children:s.jsx("button",{onClick:R,className:"bg-blue-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-blue-700",children:"Save Changes"})})]}),s.jsxs("div",{className:"mt-6 pt-6 border-t",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-700 mb-3 flex items-center",children:[s.jsx(V4,{size:20,className:"mr-2"}),"Work Notes"]}),s.jsx("div",{className:"space-y-3 max-h-48 overflow-y-auto bg-gray-50 p-3 rounded-lg",children:t.notes&&t.notes.length>0?t.notes.sort((C,A)=>new Date(A.timestamp)-new Date(C.timestamp)).map((C,A)=>s.jsxs("div",{className:"text-sm bg-white p-2 rounded shadow-sm",children:[s.jsx("p",{className:"text-gray-800",children:C.text}),s.jsx("p",{className:"text-xs text-gray-500 mt-1 text-right",children:Soe(C.timestamp)})]},A)):s.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No notes for this job yet."})}),s.jsxs("div",{className:"mt-4",children:[s.jsx("textarea",{value:w,onChange:C=>b(C.target.value),placeholder:"Add a new note...",rows:"3",className:"w-full p-2 border border-gray-300 rounded-lg"}),s.jsx("div",{className:"flex justify-end mt-2",children:s.jsx("button",{onClick:()=>n(t.id,w,()=>b("")),disabled:!w.trim(),className:"bg-green-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-green-700 disabled:bg-gray-400",children:"Add Note"})})]})]})]})]})})},$oe=({onClose:t,onAddCustomer:e})=>{const[r,n]=B.useState(""),[a,i]=B.useState("Commercial"),[l,c]=B.useState(""),[d,h]=B.useState(""),[p,m]=B.useState(""),[y,x]=B.useState(""),[k,w]=B.useState(""),[b,N]=B.useState("MI"),[E,P]=B.useState(""),R=j=>{if(j.preventDefault(),!r.trim()){alert("Customer name cannot be empty.");return}e({name:r,type:a,contact:{name:l,email:d,phone:p},billingAddress:{street:y,city:k,state:b,zip:E},locations:[]}),t()};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:s.jsxs("form",{onSubmit:R,className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[s.jsx("div",{className:"p-6 border-b",children:s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Add New Customer"})}),s.jsxs("div",{className:"p-6 overflow-y-auto space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Customer Name"}),s.jsx("input",{type:"text",value:r,onChange:j=>n(j.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Customer Type"}),s.jsxs("select",{value:a,onChange:j=>i(j.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",children:[s.jsx("option",{children:"Commercial"}),s.jsx("option",{children:"Residential"}),s.jsx("option",{children:"National Account"}),s.jsx("option",{children:"Maintenance"})]})]})]}),s.jsxs("div",{className:"pt-4 border-t",children:[s.jsx("h3",{className:"font-semibold",children:"Primary Contact"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs",children:"Name"}),s.jsx("input",{value:l,onChange:j=>c(j.target.value),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs",children:"Email"}),s.jsx("input",{value:d,onChange:j=>h(j.target.value),type:"email",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs",children:"Phone"}),s.jsx("input",{value:p,onChange:j=>m(j.target.value),type:"tel",className:"w-full p-2 border border-gray-300 rounded-lg"})]})]})]}),s.jsxs("div",{className:"pt-4 border-t",children:[s.jsx("h3",{className:"font-semibold",children:"Billing Address"}),s.jsxs("div",{className:"mt-2",children:[s.jsx("label",{className:"text-xs",children:"Street"}),s.jsx("input",{value:y,onChange:j=>x(j.target.value),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs",children:"City"}),s.jsx("input",{value:k,onChange:j=>w(j.target.value),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs",children:"State"}),s.jsx("input",{value:b,onChange:j=>N(j.target.value),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs",children:"Zip"}),s.jsx("input",{value:E,onChange:j=>P(j.target.value),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]})]})]})]}),s.jsxs("div",{className:"p-6 bg-gray-50 border-t flex justify-end gap-4",children:[s.jsx("button",{type:"button",onClick:t,className:"text-gray-700 font-bold py-2 px-4",children:"Cancel"}),s.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-green-700",children:"Save Customer"})]})]})})},Foe=({customer:t,onClose:e,onUpdateCustomer:r})=>{const[n,a]=B.useState(t),i=(c,d=null)=>{const{name:h,value:p}=c.target;a(d?m=>({...m,[d]:{...m[d],[h]:p}}):m=>({...m,[h]:p}))},l=c=>{c.preventDefault(),r(n),e()};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:s.jsxs("form",{onSubmit:l,className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[s.jsx("div",{className:"p-6 border-b",children:s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Edit Customer"})}),s.jsxs("div",{className:"p-6 overflow-y-auto space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Customer Name"}),s.jsx("input",{type:"text",name:"name",value:n.name,onChange:i,className:"w-full p-2 border border-gray-300 rounded-lg",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Customer Type"}),s.jsxs("select",{name:"type",value:n.type,onChange:i,className:"w-full p-2 border border-gray-300 rounded-lg",children:[s.jsx("option",{children:"Commercial"}),s.jsx("option",{children:"Residential"}),s.jsx("option",{children:"National Account"}),s.jsx("option",{children:"Maintenance"})]})]})]}),s.jsxs("div",{className:"pt-4 border-t",children:[s.jsx("h3",{className:"font-semibold",children:"Primary Contact"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs",children:"Name"}),s.jsx("input",{name:"name",value:n.contact.name,onChange:c=>i(c,"contact"),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs",children:"Email"}),s.jsx("input",{name:"email",value:n.contact.email,onChange:c=>i(c,"contact"),type:"email",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs",children:"Phone"}),s.jsx("input",{name:"phone",value:n.contact.phone,onChange:c=>i(c,"contact"),type:"tel",className:"w-full p-2 border border-gray-300 rounded-lg"})]})]})]}),s.jsxs("div",{className:"pt-4 border-t",children:[s.jsx("h3",{className:"font-semibold",children:"Billing Address"}),s.jsxs("div",{className:"mt-2",children:[s.jsx("label",{className:"text-xs",children:"Street"}),s.jsx("input",{name:"street",value:n.billingAddress.street,onChange:c=>i(c,"billingAddress"),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs",children:"City"}),s.jsx("input",{name:"city",value:n.billingAddress.city,onChange:c=>i(c,"billingAddress"),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs",children:"State"}),s.jsx("input",{name:"state",value:n.billingAddress.state,onChange:c=>i(c,"billingAddress"),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs",children:"Zip"}),s.jsx("input",{name:"zip",value:n.billingAddress.zip,onChange:c=>i(c,"billingAddress"),type:"text",className:"w-full p-2 border border-gray-300 rounded-lg"})]})]})]})]}),s.jsxs("div",{className:"p-6 bg-gray-50 border-t flex justify-end gap-4",children:[s.jsx("button",{type:"button",onClick:e,className:"text-gray-700 font-bold py-2 px-4",children:"Cancel"}),s.jsx("button",{type:"submit",className:"bg-blue-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-blue-700",children:"Save Changes"})]})]})})},Voe=({customer:t,onClose:e,onAddLocation:r})=>{const[n,a]=B.useState(""),[i,l]=B.useState(""),[c,d]=B.useState(""),[h,p]=B.useState("MI"),m=y=>{if(y.preventDefault(),!n.trim()){alert("Location name cannot be empty.");return}r(t.id,{name:n,locNum:i,city:c,state:h}),e()};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:s.jsxs("form",{onSubmit:m,className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[s.jsx("div",{className:"p-6 border-b",children:s.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:["Add Location to ",t.name]})}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Location Name"}),s.jsx("input",{type:"text",value:n,onChange:y=>a(y.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Location #"}),s.jsx("input",{type:"text",value:i,onChange:y=>l(y.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"City"}),s.jsx("input",{type:"text",value:c,onChange:y=>d(y.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"State"}),s.jsx("input",{type:"text",value:h,onChange:y=>p(y.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]})]})]}),s.jsxs("div",{className:"p-6 bg-gray-50 border-t flex justify-end gap-4",children:[s.jsx("button",{type:"button",onClick:e,className:"text-gray-700 font-bold py-2 px-4",children:"Cancel"}),s.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-green-700",children:"Add Location"})]})]})})},Boe=({onClose:t,onAddOrder:e,customers:r})=>{const[n,a]=B.useState(r[0]?.id||""),[i,l]=B.useState(""),[c,d]=B.useState(""),[h,p]=B.useState("Regular"),[m,y]=B.useState("Heating & Cooling"),[x,k]=B.useState(""),[w,b]=B.useState(""),[N,E]=B.useState(""),[P,R]=B.useState(""),[j,C]=B.useState(""),A=B.useMemo(()=>r.find(O=>O.id===n),[n,r]);B.useEffect(()=>{if(A?.locations?.[0]){const O=A.locations[0];l(`${O.name}-${O.locNum}-0`)}else l("")},[A]);const I=O=>{l(O)},L=O=>{O.preventDefault();const[D,F]=i.split("-").slice(0,2),$=A.locations.find(ae=>ae.name===D&&ae.locNum===F);if(!n||!$||!c){alert("Please fill out all required fields.");return}e({Client:A.name,Company:$.name,"Loc #":$.locNum,Task:c,Priority:h,Category:m,City:$.city,State:$.state,NTE:parseFloat(x)||0,"Schedule Date":pN(w),startTime:N,endTime:P,clientWO:j})};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:s.jsxs("form",{onSubmit:L,className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Add New Work Order"}),s.jsx("button",{type:"button",onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(ho,{size:28})})]}),s.jsxs("div",{className:"p-6 overflow-y-auto space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Client"}),s.jsx("select",{value:n,onChange:O=>a(O.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",children:r.map(O=>s.jsx("option",{value:O.id,children:O.name},O.id))})]}),A&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Location"}),s.jsx("select",{value:i,onChange:O=>I(O.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",children:A.locations.map((O,D)=>s.jsxs("option",{value:`${O.name}-${O.locNum}-${D}`,children:[O.name," (#",O.locNum,")"]},`${O.name}-${O.locNum}-${D}`))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Client WO#"}),s.jsx("input",{type:"text",value:j,onChange:O=>C(O.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Task / Issue"}),s.jsx("textarea",{value:c,onChange:O=>d(O.target.value),rows:"3",className:"w-full p-2 border border-gray-300 rounded-lg",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Priority"}),s.jsxs("select",{value:h,onChange:O=>p(O.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",children:[s.jsx("option",{children:"Regular"}),s.jsx("option",{children:"Low"}),s.jsx("option",{children:"Urgent"}),s.jsx("option",{children:"Emergency"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Category"}),s.jsxs("select",{value:m,onChange:O=>y(O.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",children:[s.jsx("option",{children:"Heating & Cooling"}),s.jsx("option",{children:"Refrigeration"}),s.jsx("option",{children:"Maintenance"}),s.jsx("option",{children:"Plumbing"}),s.jsx("option",{children:"Other"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"NTE Amount ($)"}),s.jsx("input",{type:"number",value:x,onChange:O=>k(O.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",placeholder:"e.g., 500"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Schedule Date"}),s.jsx("input",{type:"date",value:w,onChange:O=>b(O.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Start Time"}),s.jsx("input",{type:"time",value:N,onChange:O=>E(O.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"End Time"}),s.jsx("input",{type:"time",value:P,onChange:O=>R(O.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]})]})]}),s.jsx("div",{className:"p-6 bg-gray-50 border-t mt-auto",children:s.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-700",children:"Create Work Order"})})]})})},Uoe=()=>{const[t,e]=B.useState([]),[r,n]=B.useState([]),[a,i]=B.useState([]),[l,c]=B.useState([]),[d,h]=B.useState([]),[p,m]=B.useState(""),[y,x]=B.useState("All"),[k,w]=B.useState(null),[b,N]=B.useState(!1),[E,P]=B.useState("dashboard");B.useEffect(()=>{const ee=async()=>{const ne=["hvac_customers","hvac_work_orders","hvac_technicians","hvac_invoices","hvac_quotes"];let Q=!1;for(const Z of ne)if((await g4(In(Zt,"artifacts",cr,"public","data",Z))).empty){Q=!0;break}if(Q){const Z=kd(Zt);woe.forEach(re=>Z.set(Nt(Zt,"artifacts",cr,"public","data","hvac_customers",re.id),re)),_oe.forEach(re=>Z.set(Nt(Zt,"artifacts",cr,"public","data","hvac_work_orders",re.id),re)),koe.forEach(re=>Z.set(Nt(Zt,"artifacts",cr,"public","data","hvac_technicians",re.id),re)),joe.forEach(re=>Z.set(Nt(Zt,"artifacts",cr,"public","data","hvac_invoices",re.id),re)),Noe.forEach(re=>Z.set(Nt(Zt,"artifacts",cr,"public","data","hvac_quotes",re.id),re)),await Z.commit()}};(async()=>{typeof __initial_auth_token<"u"?await JV(XR,__initial_auth_token):await GV(XR),await ee(),zi(In(Zt,"artifacts",cr,"public","data","hvac_work_orders"),ne=>e(ne.docs.map(Q=>({id:Q.id,...Q.data()})))),zi(In(Zt,"artifacts",cr,"public","data","hvac_customers"),ne=>n(ne.docs.map(Q=>({id:Q.id,...Q.data()})))),zi(In(Zt,"artifacts",cr,"public","data","hvac_technicians"),ne=>i(ne.docs.map(Q=>({id:Q.id,...Q.data()})))),zi(In(Zt,"artifacts",cr,"public","data","hvac_invoices"),ne=>c(ne.docs.map(Q=>({id:Q.id,...Q.data()})))),zi(In(Zt,"artifacts",cr,"public","data","hvac_quotes"),ne=>h(ne.docs.map(Q=>({id:Q.id,...Q.data()}))))})()},[]);const R=B.useMemo(()=>t.filter(ee=>(y==="All"||ee["Order Status"]===y)&&Object.values(ee).some(G=>String(G).toLowerCase().includes(p.toLowerCase()))),[t,p,y]),j=async(ee,G)=>{await qi(Nt(Zt,"artifacts",cr,"public","data","hvac_work_orders",ee),G),w(ne=>({...ne,...G}))},C=async(ee,G,ne)=>{if(!G.trim())return;const Q={text:G.trim(),timestamp:new Date().toISOString()},Z=t.find(re=>re.id===ee);await qi(Nt(Zt,"artifacts",cr,"public","data","hvac_work_orders",ee),{notes:[...Z.notes||[],Q]}),ne()},A=async ee=>{const G=`WO-${Date.now()}`;await P_(Nt(Zt,"artifacts",cr,"public","data","hvac_work_orders",G),{...ee,"WO#":G,id:G,"Created Date":hN(new Date),"Order Status":ee["Schedule Date"]?"Scheduled":"Open",notes:[],technician:[]}),N(!1)},I=async ee=>{await om(In(Zt,"artifacts",cr,"public","data","hvac_customers"),ee)},L=async ee=>{await qi(Nt(Zt,"artifacts",cr,"public","data","hvac_customers",ee.id),ee)},O=async(ee,G)=>{const ne=r.find(Q=>Q.id===ee);await qi(Nt(Zt,"artifacts",cr,"public","data","hvac_customers",ee),{locations:[...ne.locations,G]})},D=async ee=>{await om(In(Zt,"artifacts",cr,"public","data","hvac_technicians"),ee)},F=async ee=>{await qi(Nt(Zt,"artifacts",cr,"public","data","hvac_technicians",ee.id),ee)},$=async ee=>{const G=a.find(ne=>ne.id===ee);if(G){const ne=kd(Zt);t.forEach(Q=>{if(Q.technician.includes(G.name)){const Z=Q.technician.filter(re=>re!==G.name);ne.update(Nt(Zt,"artifacts",cr,"public","data","hvac_work_orders",Q.id),{technician:Z})}}),ne.delete(Nt(Zt,"artifacts",cr,"public","data","hvac_technicians",ee)),await ne.commit()}},ae=()=>{switch(E){case"customers":return s.jsx(Doe,{customers:r,onAddCustomer:I,onUpdateCustomer:L,onAddLocation:O});case"dispatch":return s.jsx(Ooe,{workOrders:t,technicians:a,onSelectOrder:w,onUpdateOrder:j});case"technicians":return s.jsx(Moe,{technicians:a,onAddTechnician:D,onUpdateTechnician:F,onDeleteTechnician:$});case"route":return s.jsx(Roe,{workOrders:t,technicians:a});case"reporting":return s.jsx(Woe,{workOrders:t,technicians:a});case"billing":return s.jsx(Hoe,{invoices:l,quotes:d});case"dashboard":default:return s.jsx(Ioe,{orders:R,onSelectOrder:w,searchTerm:p,setSearchTerm:m,statusFilter:y,setStatusFilter:x})}};return s.jsxs("div",{className:"bg-gray-50 min-h-screen font-sans",children:[s.jsx(Coe,{currentView:E,setCurrentView:P,onAddOrderClick:()=>N(!0)}),s.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:ae()}),k&&s.jsx(Loe,{order:k,onClose:()=>w(null),onUpdate:j,onAddNote:C,technicians:a}),b&&s.jsx(Boe,{customers:r,onAddOrder:A,onClose:()=>N(!1)})]})},qoe=({onClose:t,onAdd:e})=>{const[r,n]=B.useState(""),[a,i]=B.useState(""),[l,c]=B.useState(""),d=h=>{h.preventDefault(),r.trim()&&(e({name:r,email:a,phone:l,status:"Available"}),t())};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:s.jsxs("form",{onSubmit:d,className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[s.jsx("div",{className:"p-6 border-b",children:s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Add New Technician"})}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Name"}),s.jsx("input",{type:"text",value:r,onChange:h=>n(h.target.value),className:"w-full p-2 border border-gray-300 rounded-lg",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Email"}),s.jsx("input",{type:"email",value:a,onChange:h=>i(h.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Phone"}),s.jsx("input",{type:"tel",value:l,onChange:h=>c(h.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})]})]}),s.jsxs("div",{className:"p-6 bg-gray-50 border-t flex justify-end gap-4",children:[s.jsx("button",{type:"button",onClick:t,className:"text-gray-700 font-bold py-2 px-4",children:"Cancel"}),s.jsx("button",{type:"submit",className:"bg-green-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-green-700",children:"Save Technician"})]})]})})},zoe=({technician:t,onClose:e,onUpdate:r})=>{const[n,a]=B.useState(t),i=c=>a(d=>({...d,[c.target.name]:c.target.value})),l=c=>{c.preventDefault(),r(n),e()};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4",children:s.jsxs("form",{onSubmit:l,className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:[s.jsx("div",{className:"p-6 border-b",children:s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Edit Technician"})}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Name"}),s.jsx("input",{type:"text",name:"name",value:n.name,onChange:i,className:"w-full p-2 border border-gray-300 rounded-lg",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Email"}),s.jsx("input",{type:"email",name:"email",value:n.email,onChange:i,className:"w-full p-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Phone"}),s.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:i,className:"w-full p-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Status"}),s.jsxs("select",{name:"status",value:n.status,onChange:i,className:"w-full p-2 border border-gray-300 rounded-lg",children:[s.jsx("option",{children:"Available"}),s.jsx("option",{children:"En Route"}),s.jsx("option",{children:"On Site"}),s.jsx("option",{children:"On Break"}),s.jsx("option",{children:"On Call"}),s.jsx("option",{children:"Day Off"})]})]})]}),s.jsxs("div",{className:"p-6 bg-gray-50 border-t flex justify-end gap-4",children:[s.jsx("button",{type:"button",onClick:e,className:"text-gray-700 font-bold py-2 px-4",children:"Cancel"}),s.jsx("button",{type:"submit",className:"bg-blue-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-blue-700",children:"Save Changes"})]})]})})},Woe=({workOrders:t,technicians:e})=>{const r=t.filter(h=>h["Order Status"]==="Completed"),n=t.filter(h=>["Open","Scheduled","In Progress"].includes(h["Order Status"])),a=r.reduce((h,p)=>h+(p.NTE||0),0),i=B.useMemo(()=>e.filter(p=>p.name!=="Unassigned").map(p=>{const m=t.filter(y=>y.technician.includes(p.name)&&y["Order Status"]==="Completed").length;return{name:p.name,count:m}}).sort((p,m)=>m.count-p.count),[t,e]),l=Math.max(...i.map(h=>h.count),0),c=h=>h===0?"text-yellow-500":h===1?"text-gray-400":h===2?"text-yellow-600":"text-gray-400",d=()=>{const h=document.getElementById("reporting-view");html2canvas(h).then(p=>{const m=p.toDataURL("image/png"),y=new jspdf.jsPDF,x=y.internal.pageSize.getWidth(),k=p.height*x/p.width;y.addImage(m,"PNG",0,0,x,k),y.save("hvac-report.pdf")})};return s.jsxs(s.Fragment,{children:[s.jsx("script",{src:"https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"}),s.jsx("script",{src:"https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"}),s.jsxs("div",{id:"reporting-view",className:"bg-white p-6 rounded-lg shadow-sm",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Reporting Dashboard"}),s.jsxs("button",{onClick:d,className:"flex items-center gap-2 bg-gray-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-700",children:[s.jsx(E0,{size:20})," Download PDF"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsxs("div",{className:"p-4 border rounded-lg text-center",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-600",children:"Open/Active Jobs"}),s.jsx("p",{className:"text-5xl font-bold text-yellow-600",children:n.length})]}),s.jsxs("div",{className:"p-4 border rounded-lg text-center",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-600",children:"Completed Jobs"}),s.jsx("p",{className:"text-5xl font-bold text-green-600",children:r.length})]}),s.jsxs("div",{className:"p-4 border rounded-lg text-center",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-600",children:"Potential Revenue"}),s.jsx("p",{className:"text-5xl font-bold text-blue-600",children:i0(a)})]})]}),s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsx("h3",{className:"text-xl font-bold mb-4",children:"Technician Leaderboard"}),s.jsx("div",{className:"space-y-4",children:i.map((h,p)=>s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-10 text-center",children:p<3?s.jsx(Oq,{size:24,className:c(p)}):s.jsx("span",{className:"text-lg font-bold text-gray-400",children:p+1})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-bold",children:h.name}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 mt-1",children:s.jsx("div",{className:"bg-blue-600 h-4 rounded-full",style:{width:`${l>0?h.count/l*100:0}%`}})})]}),s.jsx("div",{className:"w-12 text-right font-bold text-lg",children:h.count})]},h.name))})]})]})]})},Hoe=({invoices:t,quotes:e})=>{const[r,n]=B.useState("invoices");return s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Billing"}),s.jsxs("button",{className:"flex items-center gap-2 bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700",children:[s.jsx(on,{size:20})," Create Quote"]})]}),s.jsx("div",{className:"border-b border-gray-200",children:s.jsxs("nav",{className:"-mb-px flex gap-6",children:[s.jsx("button",{onClick:()=>n("invoices"),className:`py-4 px-1 border-b-2 font-medium text-sm ${r==="invoices"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Invoices"}),s.jsx("button",{onClick:()=>n("quotes"),className:`py-4 px-1 border-b-2 font-medium text-sm ${r==="quotes"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Quotes"})]})}),s.jsxs("div",{className:"mt-6",children:[r==="invoices"&&s.jsx("div",{children:t.map(a=>s.jsxs("div",{children:[a.id," - ",a.customerName," - ",i0(a.amount)," - ",a.status]},a.id))}),r==="quotes"&&s.jsx("div",{children:e.map(a=>s.jsxs("div",{children:[a.id," - ",a.customerName," - ",i0(a.amount)," - ",a.status]},a.id))})]})]})},Goe=({clients:t,openModal:e,handleDelete:r,handleBulkDelete:n,searchTerm:a,setSearchTerm:i,selectedIds:l,setSelectedIds:c,handleImportCSV:d,handleExportCSV:h,handleBulkUpdate:p})=>{const[m,y]=B.useState("name"),[x,k]=B.useState("asc"),[w,b]=B.useState("all"),[N,E]=B.useState("all"),[P,R]=B.useState("hierarchy"),[j,C]=B.useState(new Set),[A,I]=B.useState(!1),[L,O]=B.useState(!1),[D,F]=B.useState(""),[$,ae]=B.useState(null),ee=B.useMemo(()=>t.filter(q=>!q.parentId||q.parentId===""),[t]),G=B.useMemo(()=>t.filter(q=>!q.parentId||q.parentId===""),[t]),ne=B.useMemo(()=>{let q=t.filter(ue=>{const _e=(ue.name||"").toLowerCase().includes(a.toLowerCase())||(ue.address||"").toLowerCase().includes(a.toLowerCase())||(ue.email||"").toLowerCase().includes(a.toLowerCase())||(ue.phone||"").includes(a),Ie=w==="all"||w==="parent"&&(!ue.parentId||ue.parentId==="")||w==="location"&&ue.parentId&&ue.parentId!==""||w==="unassigned"&&(!ue.parentId||ue.parentId==="")||w==="active"&&ue.status==="Active"||w==="inactive"&&ue.status==="Inactive",Ue=N==="all"||ue.parentId===N||ue.id===N;return _e&&Ie&&Ue});return q.sort((ue,_e)=>{let Ie=ue[m]||"",Ue=_e[m]||"";return m==="name"&&(Ie=Ie.toLowerCase(),Ue=Ue.toLowerCase()),x==="asc"?Ie<Ue?-1:Ie>Ue?1:0:Ie>Ue?-1:Ie<Ue?1:0}),q},[t,a,m,x,w,N]),Q=B.useMemo(()=>ne.filter(ue=>!ue.parentId||ue.parentId==="").map(ue=>({...ue,children:ne.filter(_e=>_e.parentId===ue.id)})),[ne]),Z=q=>{m===q?k(x==="asc"?"desc":"asc"):(y(q),k("asc"))},re=q=>{const ue=new Set(j);ue.has(q)?ue.delete(q):ue.add(q),C(ue)},W=q=>{q.target.checked?c(ne.map(ue=>ue.id)):c([])},J=()=>{if(l.length>0&&D){const q=l.map(ue=>({id:ue,parentId:D}));p&&p("client",q),c([]),O(!1),F("")}},X=()=>{if(l.length>0){const q=l.map(ue=>({id:ue,parentId:""}));p&&p("client",q),c([])}},le=(q,ue)=>{ae(ue),q.dataTransfer.effectAllowed="move"},ge=q=>{q.preventDefault(),q.dataTransfer.dropEffect="move"},he=(q,ue)=>{if(q.preventDefault(),$&&$.id!==ue.id){const _e={id:$.id,parentId:ue.id};p&&p("client",[_e])}ae(null)},de=q=>{const ue=t.filter(_e=>_e.parentId===q.id).map(_e=>_e.id);c(_e=>{const Ie=new Set([..._e,q.id,...ue]);return Array.from(Ie)})},be=({client:q,isChild:ue=!1,parent:_e=null})=>s.jsx("div",{className:`bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 p-4 hover:shadow-md transition-all duration-200 ${ue?"ml-6 border-l-4 border-l-blue-400 bg-blue-50/30 dark:bg-blue-900/10":"border-l-4 border-l-purple-400"} ${l.includes(q.id)?"ring-2 ring-blue-500 bg-blue-50 dark:bg-blue-900/20":""}`,draggable:!ue,onDragStart:Ie=>le(Ie,q),onDragOver:ge,onDrop:Ie=>!ue&&he(Ie,q),children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("input",{type:"checkbox",checked:l.includes(q.id),onChange:()=>{c(Ie=>Ie.includes(q.id)?Ie.filter(Ue=>Ue!==q.id):[...Ie,q.id])},className:"rounded"}),ue?s.jsx(al,{className:"h-4 w-4 text-blue-500"}):s.jsx(JE,{className:"h-5 w-5 text-purple-600"}),s.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white",children:q.name}),q.status&&s.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${q.status==="Active"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:q.status}),ue&&_e&&s.jsxs("span",{className:"text-xs text-blue-600 dark:text-blue-400 bg-blue-100 dark:bg-blue-900/30 px-2 py-1 rounded",children:["↳ ",_e.name]})]}),s.jsxs("div",{className:"space-y-1 text-sm text-slate-600 dark:text-slate-400",children:[q.address&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(A0,{className:"h-4 w-4"}),s.jsx("span",{children:q.address})]}),q.phone&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(cm,{className:"h-4 w-4"}),s.jsx("span",{children:q.phone})]}),q.email&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(lm,{className:"h-4 w-4"}),s.jsx("span",{children:q.email})]})]})]}),s.jsxs("div",{className:"flex gap-1 ml-4",children:[!ue&&s.jsx("button",{onClick:()=>de(q),className:"p-1 text-slate-400 hover:text-purple-600 hover:bg-purple-50 dark:hover:bg-purple-900/30 rounded",title:"Select Parent & All Locations",children:s.jsx(Ua,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>e("client",q),className:"p-1 text-slate-400 hover:text-cyan-600 hover:bg-cyan-50 dark:hover:bg-cyan-900/30 rounded",title:"Edit Client",children:s.jsx(an,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>r("client",q.id),className:"p-1 text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 rounded",title:"Delete Client",children:s.jsx(ir,{className:"h-4 w-4"})})]})]})}),z=()=>s.jsxs("div",{className:"space-y-6",children:[G.length>0&&s.jsxs("div",{className:"border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h4",{className:"font-semibold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[s.jsx(Ua,{className:"h-5 w-5"}),"Unassigned Clients (",G.filter(q=>ne.includes(q)).length,")"]}),s.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Drag clients to parent companies below"})]}),s.jsx("div",{className:"space-y-2",children:G.filter(q=>ne.includes(q)).map(q=>s.jsx(be,{client:q},q.id))})]}),Q.filter(q=>q.children.length>0).map(q=>s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>re(q.id),className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-700 rounded",children:j.has(q.id)?s.jsx(Bd,{className:"h-4 w-4"}):s.jsx(rj,{className:"h-4 w-4"})}),s.jsx("div",{className:"flex-1",children:s.jsx(be,{client:q})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm text-slate-500 bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded-full",children:[q.children.length," locations"]}),s.jsx("button",{onClick:()=>de(q),className:"text-xs bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400 px-2 py-1 rounded hover:bg-purple-200 dark:hover:bg-purple-900/50",title:"Select All",children:"Select All"})]})]}),j.has(q.id)&&s.jsx("div",{className:"space-y-2 border-l-2 border-purple-200 dark:border-purple-700 ml-4 pl-4",children:q.children.map(ue=>s.jsx(be,{client:ue,isChild:!0,parent:q},ue.id))})]},q.id))]}),me=()=>s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-3",children:s.jsx("input",{type:"checkbox",onChange:W})}),s.jsx("th",{className:"p-3",children:s.jsxs("button",{onClick:()=>Z("name"),className:"flex items-center gap-1 hover:text-slate-700 dark:hover:text-slate-200",children:["Name",m==="name"&&(x==="asc"?s.jsx(Qo,{className:"h-3 w-3"}):s.jsx(Xo,{className:"h-3 w-3"}))]})}),s.jsx("th",{className:"p-3",children:"Type"}),s.jsx("th",{className:"p-3",children:s.jsxs("button",{onClick:()=>Z("address"),className:"flex items-center gap-1 hover:text-slate-700 dark:hover:text-slate-200",children:["Address",m==="address"&&(x==="asc"?s.jsx(Qo,{className:"h-3 w-3"}):s.jsx(Xo,{className:"h-3 w-3"}))]})}),s.jsx("th",{className:"p-3",children:"Contact"}),s.jsx("th",{className:"p-3",children:"Parent Company"}),s.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),s.jsx("tbody",{className:"text-sm",children:ne.map(q=>{const ue=ee.find(Ie=>Ie.id===q.parentId),_e=l.includes(q.id);return s.jsxs("tr",{className:`border-b border-slate-200 dark:border-slate-700/50 text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700/50 ${_e?"bg-blue-50 dark:bg-blue-900/20":""}`,children:[s.jsx("td",{className:"p-3",children:s.jsx("input",{type:"checkbox",checked:_e,onChange:()=>{c(Ie=>Ie.includes(q.id)?Ie.filter(Ue=>Ue!==q.id):[...Ie,q.id])}})}),s.jsx("td",{className:"p-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[q.parentId?s.jsx(al,{className:"h-4 w-4 text-blue-500"}):s.jsx(JE,{className:"h-4 w-4 text-purple-600"}),s.jsx("span",{className:"font-medium",children:q.name})]})}),s.jsx("td",{className:"p-3",children:s.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${q.parentId?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400"}`,children:q.parentId?"Location":"Parent"})}),s.jsx("td",{className:"p-3",children:s.jsx("span",{children:q.address})}),s.jsx("td",{className:"p-3",children:s.jsxs("div",{className:"space-y-1",children:[q.phone&&s.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[s.jsx(cm,{className:"h-3 w-3"}),s.jsx("span",{children:q.phone})]}),q.email&&s.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[s.jsx(lm,{className:"h-3 w-3"}),s.jsx("span",{children:q.email})]})]})}),s.jsx("td",{className:"p-3",children:ue?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Iq,{className:"h-3 w-3 text-slate-400"}),s.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:ue.name})]}):s.jsx("span",{className:"text-xs text-slate-400",children:"—"})}),s.jsxs("td",{className:"p-3 text-center",children:[s.jsx("button",{onClick:()=>e("client",q),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:s.jsx(an,{size:16})}),s.jsx("button",{onClick:()=>r("client",q.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:s.jsx(ir,{size:16})})]})]},q.id)})})]})}),xe=()=>s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ne.map(q=>{const ue=ee.find(_e=>_e.id===q.parentId);return s.jsx(be,{client:q,isChild:!!q.parentId,parent:ue},q.id)})});return s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center mb-6 gap-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Client Management"}),s.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:[ne.length," of ",t.length," clients",l.length>0&&` • ${l.length} selected`]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.length>0&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>O(!0),className:"flex items-center gap-2 text-sm bg-purple-600 hover:bg-purple-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[s.jsx($q,{size:16})," Assign Parent (",l.length,")"]}),s.jsxs("button",{onClick:X,className:"flex items-center gap-2 text-sm bg-orange-600 hover:bg-orange-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[s.jsx(Kq,{size:16})," Remove Parent"]}),s.jsxs("button",{onClick:()=>n("client",l),className:"flex items-center gap-2 text-sm bg-red-600 hover:bg-red-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[s.jsx(ir,{size:16})," Delete (",l.length,")"]})]}),s.jsx("input",{type:"file",id:"csv-importer-client",className:"hidden",accept:".csv",onChange:q=>d(q.target.files[0],"client")}),s.jsxs("label",{htmlFor:"csv-importer-client",className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[s.jsx(uo,{size:16})," Import CSV"]}),s.jsxs("button",{onClick:()=>h(t,"clients"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[s.jsx(Dn,{size:16})," Export CSV"]}),s.jsxs("button",{onClick:()=>e("client"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[s.jsx(on,{size:16})," Add New"]})]})]}),L&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-6 w-full max-w-md",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h4",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Assign Parent Company"}),s.jsx("button",{onClick:()=>O(!1),className:"text-slate-400 hover:text-slate-600",children:s.jsx(ho,{className:"h-5 w-5"})})]}),s.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4",children:["Assign ",l.length," selected clients to a parent company:"]}),s.jsxs("select",{value:D,onChange:q=>F(q.target.value),className:"w-full px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-800 dark:text-white mb-4",children:[s.jsx("option",{value:"",children:"Select Parent Company"}),ee.map(q=>s.jsx("option",{value:q.id,children:q.name},q.id))]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>O(!1),className:"flex-1 px-4 py-2 text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200",children:"Cancel"}),s.jsx("button",{onClick:J,disabled:!D,className:"flex-1 px-4 py-2 bg-purple-600 hover:bg-purple-500 text-white rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Assign"})]})]})}),s.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 mb-6",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(gi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),s.jsx("input",{type:"text",placeholder:"Search clients by name, address, phone, or email...",value:a,onChange:q=>i(q.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-800 dark:text-white"})]}),s.jsxs("button",{onClick:()=>I(!A),className:"flex items-center gap-2 px-4 py-2 bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600",children:[s.jsx(kl,{className:"h-4 w-4"}),"Filters",s.jsx(Bd,{className:`h-4 w-4 transition-transform ${A?"rotate-180":""}`})]}),s.jsxs("div",{className:"flex rounded-lg border border-slate-300 dark:border-slate-600 overflow-hidden",children:[s.jsx("button",{onClick:()=>R("hierarchy"),className:`px-3 py-2 text-sm ${P==="hierarchy"?"bg-blue-500 text-white":"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600"}`,title:"Hierarchy View",children:s.jsx(Gq,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>R("list"),className:`px-3 py-2 text-sm ${P==="list"?"bg-blue-500 text-white":"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600"}`,title:"Table View",children:s.jsx(Fq,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>R("cards"),className:`px-3 py-2 text-sm ${P==="cards"?"bg-blue-500 text-white":"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600"}`,title:"Card View",children:s.jsx(Lq,{className:"h-4 w-4"})})]})]}),A&&s.jsx("div",{className:"bg-slate-50 dark:bg-slate-700/50 rounded-lg p-4 mb-6 space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Filter by Type"}),s.jsxs("select",{value:w,onChange:q=>b(q.target.value),className:"w-full px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-800 dark:text-white",children:[s.jsx("option",{value:"all",children:"All Clients"}),s.jsx("option",{value:"parent",children:"Parent Companies Only"}),s.jsx("option",{value:"location",children:"Store Locations Only"}),s.jsx("option",{value:"unassigned",children:"Unassigned Clients"}),s.jsx("option",{value:"active",children:"Active Only"}),s.jsx("option",{value:"inactive",children:"Inactive Only"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Filter by Parent Company"}),s.jsxs("select",{value:N,onChange:q=>E(q.target.value),className:"w-full px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-800 dark:text-white",children:[s.jsx("option",{value:"all",children:"All Companies"}),ee.map(q=>s.jsx("option",{value:q.id,children:q.name},q.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Sort by"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("select",{value:m,onChange:q=>y(q.target.value),className:"flex-1 px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-800 dark:text-white",children:[s.jsx("option",{value:"name",children:"Name"}),s.jsx("option",{value:"address",children:"Address"}),s.jsx("option",{value:"phone",children:"Phone"}),s.jsx("option",{value:"email",children:"Email"})]}),s.jsx("button",{onClick:()=>k(x==="asc"?"desc":"asc"),className:"px-3 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600",children:x==="asc"?s.jsx(Qo,{className:"h-4 w-4"}):s.jsx(Xo,{className:"h-4 w-4"})})]})]})]})}),s.jsx("div",{className:"min-h-[400px]",children:ne.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-slate-500 dark:text-slate-400",children:[s.jsx(Ua,{className:"h-12 w-12 mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No clients found"}),s.jsx("p",{className:"text-sm text-center",children:a||w!=="all"||N!=="all"?"Try adjusting your search or filters":"Get started by adding your first client"})]}):s.jsxs(s.Fragment,{children:[P==="hierarchy"&&s.jsx(z,{}),P==="list"&&s.jsx(me,{}),P==="cards"&&s.jsx(xe,{})]})})]})},Koe=({vehicles:t=[],maintenanceLogs:e=[],openModal:r,handleDelete:n,searchTerm:a="",setSearchTerm:i,jobs:l=[]})=>{const[c,d]=B.useState("all"),[h,p]=B.useState("grid"),[m,y]=B.useState("name"),[x,k]=B.useState("asc"),[w,b]=B.useState([]),[N,E]=B.useState(!1),[P,R]=B.useState(null),[j,C]=B.useState(!1),[A,I]=B.useState("vehicles"),L=[{value:"oil_change",label:"Oil Change",interval:3e3,category:"Engine",cost:50},{value:"tire_rotation",label:"Tire Rotation",interval:6e3,category:"Tires",cost:25},{value:"brake_service",label:"Brake Service",interval:12e3,category:"Brakes",cost:300},{value:"transmission",label:"Transmission Service",interval:3e4,category:"Transmission",cost:150},{value:"coolant_flush",label:"Coolant Flush",interval:24e3,category:"Cooling",cost:100},{value:"air_filter",label:"Air Filter",interval:12e3,category:"Engine",cost:30},{value:"spark_plugs",label:"Spark Plugs",interval:3e4,category:"Engine",cost:120},{value:"belts_hoses",label:"Belts & Hoses",interval:24e3,category:"Engine",cost:200},{value:"battery",label:"Battery Service",interval:36e3,category:"Electrical",cost:150},{value:"inspection",label:"Annual Inspection",interval:12e3,category:"Legal",cost:50},{value:"ac_service",label:"A/C Service",interval:12e3,category:"HVAC",cost:180},{value:"general_repair",label:"General Repair",interval:0,category:"Repair",cost:200},{value:"preventive",label:"Preventive Maintenance",interval:6e3,category:"Maintenance",cost:100}];B.useEffect(()=>{console.log("Vehicles updated:",t.length),b([...t])},[t]);const O=({onImport:X})=>{const le=B.useRef(null),ge=he=>{const de=he.target.files[0];de&&(X(de),he.target.value="")};return s.jsxs("div",{className:"inline-block",children:[s.jsx("input",{ref:le,type:"file",accept:".csv",onChange:ge,style:{display:"none"}}),s.jsxs("button",{onClick:()=>le.current?.click(),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-lg transition-colors",children:[s.jsx(uo,{size:16}),"Import Vehicles"]})]})},D=X=>{if(!X){alert("Please select a file.");return}const le=new FileReader;le.onload=ge=>{try{const de=ge.target.result.split(`
`).filter(xe=>xe.trim());if(de.length<2){alert("CSV file must have at least a header row and one data row.");return}const be=xe=>{const q=[];let ue="",_e=!1;for(let Ie=0;Ie<xe.length;Ie++){const Ue=xe[Ie];Ue==='"'?_e=!_e:Ue===","&&!_e?(q.push(ue.trim()),ue=""):ue+=Ue}return q.push(ue.trim()),q},z=be(de[0]).map(xe=>xe.replace(/"/g,"").trim().toLowerCase()),me=[];for(let xe=1;xe<de.length;xe++){const q=be(de[xe]),ue={};z.forEach((_e,Ie)=>{const Ue=q[Ie]?q[Ie].replace(/"/g,"").trim():"";_e.includes("name")||_e.includes("vehicle")?ue.name=Ue:_e.includes("make")?ue.make=Ue.toUpperCase():_e.includes("model")?ue.model=Ue:_e.includes("year")?ue.year=Ue:_e.includes("license")||_e.includes("plate")?ue.licensePlate=Ue:_e.includes("vin")?ue.vin=Ue:_e.includes("mileage")||_e.includes("miles")?ue.currentMileage=parseInt(Ue)||0:_e.includes("status")?ue.status=Ue.toLowerCase()||"active":_e.includes("notes")&&(ue.notes=Ue)}),(ue.name||ue.make&&ue.model)&&(ue.name=ue.name||`${ue.make} ${ue.model}`,ue.status=ue.status||"active",me.push(ue))}if(me.length===0){alert("No valid vehicle records found in the CSV file.");return}me.forEach(xe=>{r("vehicle",xe)}),alert(`Found ${me.length} vehicles to import. Please review and save each one.`)}catch(he){console.error("Error parsing CSV:",he),alert("Error parsing CSV file. Please check the file format.")}},le.readAsText(X)},F=()=>{if(w.length===0){alert("No vehicles to export.");return}const X=w.map(z=>({"Vehicle Name":z.name||"",Make:z.make||"",Model:z.model||"",Year:z.year||"","License Plate":z.licensePlate||"",VIN:z.vin||"","Current Mileage":z.currentMileage||0,Status:z.status||"active",Notes:z.notes||"","Date Added":z.createdAt?new Date(z.createdAt.seconds*1e3).toLocaleDateString():""})),le=Object.keys(X[0]),ge=[le.join(","),...X.map(z=>le.map(me=>{const xe=z[me];return typeof xe=="string"&&(xe.includes(",")||xe.includes('"')||xe.includes(`
`))?`"${xe.replace(/"/g,'""')}"`:xe}).join(","))].join(`
`),he=new Blob([ge],{type:"text/csv;charset=utf-8;"}),de=URL.createObjectURL(he),be=document.createElement("a");be.href=de,be.download=`vehicle-fleet-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(be),be.click(),document.body.removeChild(be),URL.revokeObjectURL(de),console.log(`Exported ${w.length} vehicles to CSV`)},$=()=>{const X=[{"Vehicle Name":"Service Truck 1",Make:"FORD",Model:"F-150",Year:"2020","License Plate":"ABC123",VIN:"1FTFW1ET0LKD12345","Current Mileage":"75000",Status:"active",Notes:"Primary service vehicle"}],le=Object.keys(X[0]),ge=[le.join(","),...X.map(z=>le.map(me=>z[me]).join(","))].join(`
`),he=new Blob([ge],{type:"text/csv;charset=utf-8;"}),de=URL.createObjectURL(he),be=document.createElement("a");be.href=de,be.download="vehicle-import-template.csv",document.body.appendChild(be),be.click(),document.body.removeChild(be),URL.revokeObjectURL(de)},ae=async(X,le)=>{if(window.confirm('Delete "'+le+'"?')){console.log("Starting delete for vehicle:",X,le),E(!0);try{const ge=w.filter(he=>he.id!==X);b(ge),await n("vehicle",X),console.log("Vehicle deleted successfully")}catch(ge){console.error("Delete failed, reverting UI:",ge),b([...t]),alert("Failed to delete vehicle: "+ge.message)}finally{E(!1)}}},ee=()=>{let X=0;return w.forEach(le=>{L.forEach(ge=>{if(ge.interval>0){const he=e.filter(me=>me.vehicleId===le.id&&me.serviceType===ge.value).sort((me,xe)=>new Date(xe.date)-new Date(me.date))[0],de=le.currentMileage||0,be=he&&he.mileage||0;de-be>=ge.interval&&X++}})}),X},G=B.useMemo(()=>{const X=w.filter(q=>!q.status||q.status==="active"),le=w.reduce((q,ue)=>q+(ue.currentMileage||0),0),ge=w.length>0?le/w.length:0,he=new Date().getFullYear(),de=w.reduce((q,ue)=>q+(he-parseInt(ue.year||he)),0),be=w.length>0?de/w.length:0,z=w.filter(q=>(q.currentMileage||0)>1e5).length,me=e.filter(q=>q.date&&new Date(q.date).getFullYear()===he).reduce((q,ue)=>q+(ue.cost||0),0),xe=ee();return{totalVehicles:w.length,activeVehicles:X.length,avgMileage:Math.round(ge),avgAge:be.toFixed(1),highMileageVehicles:z,totalMaintenanceCost:me,overdueMaintenance:xe}},[w,e]),ne=X=>{const le=[],ge=X.currentMileage||0;return L.forEach(he=>{if(he.interval>0){const de=e.filter(xe=>xe.vehicleId===X.id&&xe.serviceType===he.value).sort((xe,q)=>new Date(q.date)-new Date(xe.date))[0],be=de&&de.mileage||0,z=ge-be,me=he.interval-z;z>=he.interval?le.push({type:"overdue",service:he.label,mileage:Math.abs(me),severity:"high"}):me<=1e3&&me>0&&le.push({type:"due_soon",service:he.label,mileage:me,severity:"medium"})}}),le.sort((he,de)=>de.severity==="high"?1:-1)},Q=B.useMemo(()=>{let X=w;return a&&(X=X.filter(ge=>ge.name?.toLowerCase().includes(a.toLowerCase())||ge.make?.toLowerCase().includes(a.toLowerCase())||ge.model?.toLowerCase().includes(a.toLowerCase())||ge.licensePlate?.toLowerCase().includes(a.toLowerCase())||ge.vin?.toLowerCase().includes(a.toLowerCase()))),c!=="all"&&(X=X.filter(ge=>(ge.status||"active")===c)),[...X].sort((ge,he)=>{let de,be;switch(m){case"name":de=ge.name||"",be=he.name||"";break;case"mileage":de=ge.currentMileage||0,be=he.currentMileage||0;break;case"year":de=parseInt(ge.year||0),be=parseInt(he.year||0);break;case"make":de=ge.make||"",be=he.make||"";break;default:de=ge.name||"",be=he.name||""}return typeof de=="string"?x==="asc"?de.localeCompare(be):be.localeCompare(de):x==="asc"?de-be:be-de})},[w,a,c,m,x]),Z=X=>{const le=X.status||"active";return le==="active"?{status:"active",color:"text-green-500",icon:Ba,bg:"bg-green-50 border-green-200 dark:bg-green-900/10 dark:border-green-800",label:"Active"}:le==="maintenance"?{status:"maintenance",color:"text-yellow-500",icon:Rc,bg:"bg-yellow-50 border-yellow-200 dark:bg-yellow-900/10 dark:border-yellow-800",label:"In Maintenance"}:{status:"inactive",color:"text-gray-500",icon:ZE,bg:"bg-gray-50 border-gray-200 dark:bg-gray-900/10 dark:border-gray-800",label:"Inactive"}},re=({title:X,value:le,icon:ge,color:he,subtext:de,onClick:be})=>s.jsx("div",{className:`bg-white dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700 transition-all hover:shadow-md ${be?"cursor-pointer hover:border-blue-300":""}`,onClick:be,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:X}),s.jsx("p",{className:"text-2xl font-bold "+he,children:le}),de&&s.jsx("p",{className:"text-xs text-slate-400",children:de})]}),s.jsx(ge,{size:24,className:he})]})}),W=()=>{const[X,le]=B.useState({vehicleId:P?.id||"",serviceType:"",description:"",cost:"",mileage:"",date:new Date().toISOString().split("T")[0],nextServiceMileage:"",notes:""}),ge=L.find(de=>de.value===X.serviceType),he=de=>{de.preventDefault();const be={...X,cost:parseFloat(X.cost)||0,mileage:parseInt(X.mileage)||0,nextServiceMileage:parseInt(X.nextServiceMileage)||0,createdAt:new Date().toISOString()};!be.nextServiceMileage&&ge?.interval&&(be.nextServiceMileage=be.mileage+ge.interval),r("maintenanceLog",be),C(!1),le({vehicleId:"",serviceType:"",description:"",cost:"",mileage:"",date:new Date().toISOString().split("T")[0],nextServiceMileage:"",notes:""})};return B.useEffect(()=>{ge&&le(de=>({...de,cost:de.cost||ge.cost.toString(),description:de.description||ge.label}))},[ge]),j?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[s.jsx(Fs,{className:"text-blue-500",size:24}),"Add Service Record"]}),s.jsx("button",{onClick:()=>C(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:s.jsx(ZE,{size:24})})]})}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Vehicle *"}),s.jsxs("select",{value:X.vehicleId,onChange:de=>le(be=>({...be,vehicleId:de.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",required:!0,children:[s.jsx("option",{value:"",children:"Select Vehicle"}),w.map(de=>s.jsxs("option",{value:de.id,children:[de.name||"Unnamed"," - ",de.make," ",de.model]},de.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Service Type *"}),s.jsxs("select",{value:X.serviceType,onChange:de=>le(be=>({...be,serviceType:de.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",required:!0,children:[s.jsx("option",{value:"",children:"Select Service"}),L.map(de=>s.jsxs("option",{value:de.value,children:[de.label," (",de.category,")"]},de.value))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Service Date *"}),s.jsx("input",{type:"date",value:X.date,onChange:de=>le(be=>({...be,date:de.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Current Mileage"}),s.jsx("input",{type:"number",value:X.mileage,onChange:de=>le(be=>({...be,mileage:de.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:"e.g., 45000"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Cost ($)"}),s.jsx("input",{type:"number",step:"0.01",value:X.cost,onChange:de=>le(be=>({...be,cost:de.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:"0.00"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Next Service Mileage"}),s.jsx("input",{type:"number",value:X.nextServiceMileage,onChange:de=>le(be=>({...be,nextServiceMileage:de.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:ge?`Auto: ${(parseInt(X.mileage)||0)+ge.interval}`:"Optional"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Description"}),s.jsx("input",{type:"text",value:X.description,onChange:de=>le(be=>({...be,description:de.target.value})),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:"Brief description of the service"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Notes"}),s.jsx("textarea",{value:X.notes,onChange:de=>le(be=>({...be,notes:de.target.value})),rows:"3",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 resize-none",placeholder:"Additional notes, parts used, recommendations, etc."})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>C(!1),className:"px-4 py-2 text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200",children:"Cancel"}),s.jsx("button",{type:"button",onClick:he,className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors",children:"Add Service Record"})]})]})]})}):null},J=()=>{const X=[...e].sort((le,ge)=>new Date(ge.date)-new Date(le.date));return s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[s.jsx(Fs,{className:"text-blue-500",size:24}),"Maintenance History"]}),s.jsxs("button",{onClick:()=>{R(null),C(!0)},className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(Ud,{size:18}),"Add Service"]})]}),X.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-3",children:"Date"}),s.jsx("th",{className:"p-3",children:"Vehicle"}),s.jsx("th",{className:"p-3",children:"Service"}),s.jsx("th",{className:"p-3",children:"Mileage"}),s.jsx("th",{className:"p-3",children:"Cost"}),s.jsx("th",{className:"p-3",children:"Next Due"}),s.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),s.jsx("tbody",{children:X.map(le=>{const ge=w.find(de=>de.id===le.vehicleId),he=L.find(de=>de.value===le.serviceType);return s.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[s.jsx("td",{className:"p-3",children:le.date?new Date(le.date).toLocaleDateString():"N/A"}),s.jsx("td",{className:"p-3",children:s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:ge?.name||"Unknown Vehicle"}),s.jsxs("div",{className:"text-xs text-slate-500",children:[ge?.make," ",ge?.model]})]})}),s.jsx("td",{className:"p-3",children:s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:he?.label||le.serviceType}),le.description&&s.jsx("div",{className:"text-xs text-slate-500",children:le.description})]})}),s.jsx("td",{className:"p-3 font-mono",children:(le.mileage||0).toLocaleString()}),s.jsxs("td",{className:"p-3 font-mono",children:["$",(le.cost||0).toFixed(2)]}),s.jsx("td",{className:"p-3 font-mono",children:le.nextServiceMileage?le.nextServiceMileage.toLocaleString():"N/A"}),s.jsx("td",{className:"p-3",children:s.jsxs("div",{className:"flex items-center justify-center gap-1",children:[s.jsx("button",{onClick:()=>r("maintenanceLog",le),className:"p-1 text-slate-500 hover:text-blue-600 transition-colors",title:"Edit Service",children:s.jsx(an,{size:16})}),s.jsx("button",{onClick:()=>n("maintenanceLog",le.id),className:"p-1 text-slate-500 hover:text-red-600 transition-colors",title:"Delete Service",children:s.jsx(ir,{size:16})})]})})]},le.id)})})]})}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Fs,{size:48,className:"text-slate-300 dark:text-slate-600 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-slate-500 dark:text-slate-400 mb-2",children:"No maintenance records yet"}),s.jsx("p",{className:"text-slate-400 dark:text-slate-500 mb-4",children:"Start tracking your vehicle maintenance and services"}),s.jsx("button",{onClick:()=>C(!0),className:"bg-blue-600 hover:bg-blue-500 text-white px-6 py-2 rounded-lg transition-colors",children:"Add First Service"})]})]})};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[s.jsx(S0,{className:"text-blue-500",size:24}),"Fleet Overview"]}),w.length>0&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(O,{onImport:D}),s.jsxs("button",{onClick:F,className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white px-3 py-2 rounded-lg transition-colors",children:[s.jsx(E0,{size:16}),"Export Vehicles"]}),s.jsxs("button",{onClick:$,className:"flex items-center gap-2 text-sm bg-purple-600 hover:bg-purple-500 text-white px-3 py-2 rounded-lg transition-colors",children:[s.jsx(Dn,{size:16}),"CSV Template"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-7 gap-4",children:[s.jsx(re,{title:"Total Vehicles",value:G.totalVehicles,icon:bp,color:"text-blue-500"}),s.jsx(re,{title:"Active Fleet",value:G.activeVehicles,icon:Ba,color:"text-green-500",subtext:(G.activeVehicles/(G.totalVehicles||1)*100).toFixed(0)+"% active"}),s.jsx(re,{title:"Avg Mileage",value:G.avgMileage.toLocaleString(),icon:A0,color:"text-purple-500",subtext:"miles per vehicle"}),s.jsx(re,{title:"Fleet Age",value:G.avgAge+" yrs",icon:T0,color:"text-orange-500",subtext:"average age"}),s.jsx(re,{title:"High Mileage",value:G.highMileageVehicles,icon:ka,color:"text-amber-500",subtext:">100k miles"}),s.jsx(re,{title:"Maintenance Cost",value:"$"+G.totalMaintenanceCost.toLocaleString(),icon:Hr,color:"text-emerald-500",subtext:"this year"}),s.jsx(re,{title:"Overdue Services",value:G.overdueMaintenance,icon:Uh,color:G.overdueMaintenance>0?"text-red-500":"text-green-500",subtext:"need attention",onClick:()=>I("maintenance")})]})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 overflow-hidden",children:[s.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700",children:s.jsxs("nav",{className:"flex",children:[s.jsx("button",{onClick:()=>I("vehicles"),className:`px-6 py-4 text-sm font-medium transition-colors ${A==="vehicles"?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 bg-blue-50 dark:bg-blue-900/10":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-300"}`,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(bp,{size:18}),"Vehicles (",w.length,")"]})}),s.jsx("button",{onClick:()=>I("maintenance"),className:`px-6 py-4 text-sm font-medium transition-colors ${A==="maintenance"?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 bg-blue-50 dark:bg-blue-900/10":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-300"}`,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Fs,{size:18}),"Maintenance (",e.length,")",G.overdueMaintenance>0&&s.jsx("span",{className:"bg-red-500 text-white text-xs rounded-full px-2 py-1",children:G.overdueMaintenance})]})})]})}),s.jsx("div",{className:"p-6",children:A==="vehicles"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Vehicle Fleet Management"}),s.jsxs("div",{className:"flex items-center gap-2",children:[w.length>0&&s.jsxs("button",{onClick:()=>p(h==="grid"?"table":"grid"),className:"flex items-center gap-2 text-sm bg-slate-100 hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-300 px-3 py-2 rounded-lg transition-colors",children:[h==="grid"?s.jsx(Dn,{size:16}):s.jsx(bp,{size:16}),h==="grid"?"Table View":"Grid View"]}),s.jsxs("button",{onClick:()=>r("vehicle"),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(Ud,{size:18}),"Add Vehicle"]})]})]}),w.length>0&&s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(gi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:18}),s.jsx("input",{type:"text",placeholder:"Search by name, make, model, license plate, or VIN...",value:a,onChange:X=>i(X.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(kl,{size:18,className:"text-slate-400"}),s.jsxs("select",{value:c,onChange:X=>d(X.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"maintenance",children:"In Maintenance"}),s.jsx("option",{value:"retired",children:"Retired"})]}),s.jsxs("select",{value:m,onChange:X=>y(X.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"name",children:"Sort by Name"}),s.jsx("option",{value:"mileage",children:"Sort by Mileage"}),s.jsx("option",{value:"year",children:"Sort by Year"}),s.jsx("option",{value:"make",children:"Sort by Make"})]}),s.jsx("button",{onClick:()=>k(x==="asc"?"desc":"asc"),className:"p-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-600 transition-colors",title:"Sort "+(x==="asc"?"Descending":"Ascending"),children:s.jsx(ka,{size:18,className:x==="desc"?"rotate-180":""})})]})]}),w.length>0?h==="grid"?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Q.map(X=>{const le=Z(X),ge=ne(X);return s.jsxs("div",{className:"p-5 rounded-lg border-2 transition-all hover:shadow-lg group "+le.bg+(N?" opacity-50":""),children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(le.icon,{size:24,className:le.color}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-slate-800 dark:text-white text-lg",children:X.name||"Unnamed Vehicle"}),s.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:le.label})]})]}),s.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx("button",{onClick:()=>{R(X),C(!0)},className:"p-2 text-slate-500 hover:text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg transition-colors",title:"Add Service",disabled:N,children:s.jsx(Fs,{size:16})}),s.jsx("button",{onClick:()=>r("vehicle",X),className:"p-2 text-slate-500 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"Edit Vehicle",disabled:N,children:s.jsx(an,{size:16})}),s.jsx("button",{onClick:()=>ae(X.id,X.name||"Unnamed Vehicle"),className:"p-2 text-slate-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete Vehicle",disabled:N,children:s.jsx(ir,{size:16})})]})]}),ge.length>0&&s.jsxs("div",{className:"mb-4 p-3 bg-amber-50 dark:bg-amber-900/20 rounded-lg border border-amber-200 dark:border-amber-800",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(O_,{size:16,className:"text-amber-600"}),s.jsx("span",{className:"text-sm font-medium text-amber-800 dark:text-amber-200",children:"Maintenance Alerts"})]}),s.jsxs("div",{className:"space-y-1",children:[ge.slice(0,2).map((he,de)=>s.jsx("div",{className:"text-xs",children:s.jsxs("span",{className:he.type==="overdue"?"text-red-700 dark:text-red-300":"text-amber-700 dark:text-amber-300",children:[he.service,": ",he.type==="overdue"?`${he.mileage} miles overdue`:`due in ${he.mileage} miles`]})},de)),ge.length>2&&s.jsxs("div",{className:"text-xs text-amber-600 dark:text-amber-400",children:["+",ge.length-2," more alerts"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-600 dark:text-slate-400 block",children:"Make/Model"}),s.jsxs("span",{className:"font-medium",children:[X.make||"N/A"," ",X.model||"N/A"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-600 dark:text-slate-400 block",children:"Year"}),s.jsx("span",{className:"font-medium",children:X.year||"N/A"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-600 dark:text-slate-400 block",children:"License"}),s.jsx("span",{className:"font-medium",children:X.licensePlate||"N/A"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-600 dark:text-slate-400 block",children:"Mileage"}),s.jsxs("span",{className:"font-medium",children:[(X.currentMileage||0).toLocaleString()," mi"]})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("span",{className:"text-slate-600 dark:text-slate-400 block",children:"VIN"}),s.jsx("span",{className:"font-medium text-xs",children:X.vin||"N/A"})]})]})]},X.id)})}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-3",children:"Status"}),s.jsx("th",{className:"p-3",children:"Vehicle"}),s.jsx("th",{className:"p-3",children:"Make/Model"}),s.jsx("th",{className:"p-3",children:"Year"}),s.jsx("th",{className:"p-3",children:"License"}),s.jsx("th",{className:"p-3",children:"Mileage"}),s.jsx("th",{className:"p-3",children:"Alerts"}),s.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),s.jsx("tbody",{children:Q.map(X=>{const le=Z(X),ge=ne(X);return s.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50"+(N?" opacity-50":""),children:[s.jsx("td",{className:"p-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(le.icon,{size:16,className:le.color}),s.jsx("span",{className:"text-xs",children:le.label})]})}),s.jsx("td",{className:"p-3",children:s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:X.name||"Unnamed"}),X.vin&&s.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:["VIN: ",X.vin.slice(-6)]})]})}),s.jsxs("td",{className:"p-3",children:[X.make||"N/A"," ",X.model||"N/A"]}),s.jsx("td",{className:"p-3",children:X.year||"N/A"}),s.jsx("td",{className:"p-3",children:X.licensePlate||"N/A"}),s.jsx("td",{className:"p-3 font-mono",children:(X.currentMileage||0).toLocaleString()}),s.jsx("td",{className:"p-3",children:ge.length>0?s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(O_,{size:14,className:"text-amber-500"}),s.jsxs("span",{className:"text-xs text-amber-600 dark:text-amber-400",children:[ge.length," alert",ge.length>1?"s":""]})]}):s.jsx("span",{className:"text-xs text-green-600 dark:text-green-400",children:"✓ Up to date"})}),s.jsx("td",{className:"p-3",children:s.jsxs("div",{className:"flex items-center justify-center gap-1",children:[s.jsx("button",{onClick:()=>{R(X),C(!0)},className:"p-1 text-slate-500 hover:text-green-600 transition-colors",title:"Add Service",disabled:N,children:s.jsx(Fs,{size:16})}),s.jsx("button",{onClick:()=>r("vehicle",X),className:"p-1 text-slate-500 hover:text-blue-600 transition-colors",title:"Edit Vehicle",disabled:N,children:s.jsx(an,{size:16})}),s.jsx("button",{onClick:()=>ae(X.id,X.name||"Unnamed Vehicle"),className:"p-1 text-slate-500 hover:text-red-600 transition-colors",title:"Delete Vehicle",disabled:N,children:s.jsx(ir,{size:16})})]})})]},X.id)})})]})}):s.jsxs("div",{className:"text-center py-16",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-slate-100 dark:bg-slate-700 rounded-full mb-6",children:s.jsx(bp,{size:40,className:"text-slate-400 dark:text-slate-500"})}),s.jsx("h3",{className:"text-xl font-medium text-slate-500 dark:text-slate-400 mb-3",children:"No vehicles in your fleet yet"}),s.jsx("p",{className:"text-slate-400 dark:text-slate-500 mb-6 max-w-md mx-auto",children:"Start building your fleet by adding your first vehicle. Track maintenance, costs, and manage your entire fleet from one place."}),s.jsx("button",{onClick:()=>r("vehicle"),className:"bg-blue-600 hover:bg-blue-500 text-white px-8 py-3 rounded-lg transition-colors font-medium text-lg",disabled:N,children:"Add Your First Vehicle"})]})]}):s.jsx(J,{})})]}),s.jsx(W,{}),N&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"Deleting vehicle..."})]})})]})},Yoe=()=>{const[t,e]=B.useState({netProfit:"",ownerSalary:"",ownerPerks:"",depreciation:"",amortization:"",interestExpense:""}),[r,n]=B.useState({recurringRevenue:0,ownerInvolvement:0,customerBase:0,profitabilityTrend:0,technicianTeam:0,brandMarketing:0}),[a,i]=B.useState(0),[l,c]=B.useState(2.75),[d,h]=B.useState(0);B.useEffect(()=>{const E=Object.values(t).map(P=>parseFloat(P)||0).reduce((P,R)=>P+R,0);i(E)},[t]),B.useEffect(()=>{const E=Object.values(r).reduce((P,R)=>P+R,0)/6;E<=.5?c(2+E*1.5):E<=1.5?c(2.75+(E-.5)*.75):c(3.5+(E-1.5)*2)},[r]),B.useEffect(()=>{h(a*l)},[a,l]);const p=(N,E)=>{e(P=>({...P,[N]:E}))},m=(N,E)=>{n(P=>({...P,[N]:E}))},y=N=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(N),x=()=>l<2.75?"Conservative Range":l<3.5?"Average Range":"Premium Range",k=()=>l<2.75?"text-red-600 dark:text-red-400":l<3.5?"text-yellow-600 dark:text-yellow-400":"text-green-600 dark:text-green-400",w=()=>{const E=[["HVAC Business Valuation Calculator"],[""],["Financial Information"],["Pre-Tax Net Profit",y(parseFloat(t.netProfit)||0)],["Owner Salary",y(parseFloat(t.ownerSalary)||0)],["Owner Perks",y(parseFloat(t.ownerPerks)||0)],["Depreciation",y(parseFloat(t.depreciation)||0)],["Amortization",y(parseFloat(t.amortization)||0)],["Interest Expense",y(parseFloat(t.interestExpense)||0)],["Seller Discretionary Earnings (SDE)",y(a)],[""],["Valuation Results"],["SDE",y(a)],["Multiple",l.toFixed(2)+"x"],["Estimated Business Value",y(d)]].map(C=>C.join(",")).join(`
`),P=new Blob([E],{type:"text/csv"}),R=window.URL.createObjectURL(P),j=document.createElement("a");j.href=R,j.download="hvac-business-valuation.csv",j.click(),window.URL.revokeObjectURL(R)},b=[{field:"recurringRevenue",title:"Recurring Revenue",icon:s.jsx(ka,{className:"w-5 h-5"}),options:["< 15% of revenue from service contracts","15% - 30% from service contracts","> 30% from stable service contracts"]},{field:"ownerInvolvement",title:"Owner Involvement",icon:s.jsx(Ua,{className:"w-5 h-5"}),options:["Business relies entirely on you","You are key, but have manager/lead tech","Business runs on systems, with or without you"]},{field:"customerBase",title:"Customer Base",icon:s.jsx(al,{className:"w-5 h-5"}),options:["Top 5 customers > 30% of revenue","Some customer concentration exists","No single customer > 5% of revenue"]},{field:"profitabilityTrend",title:"Profitability Trend",icon:s.jsx(Hr,{className:"w-5 h-5"}),options:["Profits flat, declining, or unpredictable","Profits stable and consistent","Clear year-over-year profit growth"]},{field:"technicianTeam",title:"Technician Team",icon:s.jsx(Ua,{className:"w-5 h-5"}),options:["High turnover; hard to find help","Stable team, normal turnover","Experienced, loyal techs, low turnover"]},{field:"brandMarketing",title:"Brand & Marketing",icon:s.jsx(Wq,{className:"w-5 h-5"}),options:["Little online presence; word-of-mouth only","Basic website and some reviews","Strong brand, great reviews, active marketing"]}];return s.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 overflow-hidden",children:[s.jsx("div",{className:"bg-blue-600 text-white p-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(kc,{className:"w-8 h-8"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"HVAC Business Valuation Calculator"}),s.jsx("p",{className:"text-blue-100 mt-1",children:"Calculate your Seller's Discretionary Earnings (SDE) and estimate your business value"})]})]})}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 p-6",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-lg p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4 text-slate-800 dark:text-white",children:"Financial Information"}),s.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:"Enter your typical annual figures to calculate your SDE:"}),s.jsx("div",{className:"space-y-4",children:[{key:"netProfit",label:"Pre-Tax Net Profit",desc:"From your income statement"},{key:"ownerSalary",label:"+ Owner's Salary",desc:"Your total salary and distributions"},{key:"ownerPerks",label:"+ Owner's Perks",desc:"Health insurance, vehicle costs, etc."},{key:"depreciation",label:"+ Depreciation",desc:"From income statement or tax return"},{key:"amortization",label:"+ Amortization",desc:"From your income statement"},{key:"interestExpense",label:"+ Interest Expense",desc:"Total interest on business debt"}].map(({key:N,label:E,desc:P})=>s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:E}),s.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:P})]}),s.jsx("div",{className:"w-32",children:s.jsx("input",{type:"number",value:t[N],onChange:R=>p(N,R.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"})})]},N))}),s.jsx("div",{className:"mt-6 pt-4 border-t border-slate-200 dark:border-slate-600",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white",children:"Seller's Discretionary Earnings (SDE)"}),s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Your total earnings figure"})]}),s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:y(a)})]})})]}),s.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-6 border-2 border-green-200 dark:border-green-800",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4 text-green-800 dark:text-green-200",children:"Final Valuation"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Your SDE:"}),s.jsx("span",{className:"font-semibold",children:y(a)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"x Valuation Multiple:"}),s.jsxs("span",{className:`font-semibold ${k()}`,children:[l.toFixed(2),"x (",x(),")"]})]}),s.jsx("div",{className:"border-t pt-2",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-lg font-semibold text-slate-800 dark:text-white",children:"Estimated Business Value:"}),s.jsx("span",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:y(d)})]})})]}),s.jsxs("button",{onClick:w,className:"mt-4 w-full bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 transition-colors flex items-center justify-center gap-2",children:[s.jsx(E0,{className:"w-4 h-4"}),"Export Results to CSV"]})]})]}),s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-lg p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4 text-slate-800 dark:text-white",children:"Valuation Multiple Scorecard"}),s.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:"Rate each factor to determine your valuation multiple:"}),s.jsx("div",{className:"space-y-6",children:b.map(({field:N,title:E,icon:P,options:R})=>s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[P,s.jsx("h3",{className:"font-semibold text-slate-800 dark:text-white",children:E})]}),s.jsx("div",{className:"space-y-2",children:R.map((j,C)=>s.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[s.jsx("input",{type:"radio",name:N,value:C,checked:r[N]===C,onChange:A=>m(N,parseInt(A.target.value)),className:"w-4 h-4 text-blue-600 border-slate-300 dark:border-slate-600 focus:ring-blue-500"}),s.jsx("span",{className:`text-sm group-hover:text-blue-600 dark:group-hover:text-blue-400 ${C===0?"text-red-600 dark:text-red-400":C===1?"text-yellow-600 dark:text-yellow-400":"text-green-600 dark:text-green-400"}`,children:j})]},C))})]},N))}),s.jsx("div",{className:"mt-6 pt-4 border-t border-slate-200 dark:border-slate-600",children:s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:[s.jsx("h4",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-2",children:"How to Interpret Your Multiple:"}),s.jsxs("div",{className:"text-sm space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Conservative (2.0x - 2.75x):"})," Higher risk factors present"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Average (2.75x - 3.5x):"})," Mixed risk profile"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Premium (3.5x - 4.5x+):"})," Lower risk, strong fundamentals"]})]})]})]})})]})})]}),s.jsxs("div",{className:"bg-slate-100 dark:bg-slate-700 p-6 border-t",children:[s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-2",children:"Example Calculation:"}),s.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"An HVAC business with $200,000 SDE, solid service contracts, stable team, and growing profits might earn a 3.5x multiple: $200,000 × 3.5 = $700,000 estimated value."})]}),s.jsx("div",{className:"mt-4 text-xs text-slate-500 dark:text-slate-400",children:s.jsxs("p",{children:[s.jsx("strong",{children:"Disclaimer:"})," This calculator provides estimates for informational purposes only. Actual business valuations may vary significantly based on market conditions, buyer preferences, and other factors not captured in this tool. Consult with a business broker or valuation professional for a comprehensive analysis."]})})]})]})},Xoe=({inventory:t,openModal:e,handleDelete:r,handleBulkDelete:n,searchTerm:a,setSearchTerm:i,selectedIds:l,setSelectedIds:c,handleImportCSV:d,handleExportCSV:h})=>{const p=[{key:"name",header:"Item Name",render:x=>s.jsx("span",{className:"font-medium",children:x.name})},{key:"quantity",header:"Quantity on Hand",className:"text-center",render:x=>s.jsx("span",{children:x.quantity})},{key:"cost",header:"Cost per Item",className:"text-right",render:x=>s.jsxs("span",{className:"font-mono",children:["$",(x.cost||0).toFixed(2)]})}],m=B.useMemo(()=>t.filter(x=>(x.name||"").toLowerCase().includes(a.toLowerCase())),[t,a]),y=x=>{x.target.checked?c(m.map(k=>k.id)):c([])};return s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Inventory Management"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"text",placeholder:"Search Inventory...",value:a,onChange:x=>i(x.target.value),className:"w-full md:w-auto bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white"}),l.length>0&&s.jsxs("button",{onClick:()=>n("inventory",l),className:"flex items-center gap-2 text-sm bg-red-600 hover:bg-red-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[s.jsx(ir,{size:16})," Delete (",l.length,")"]}),s.jsx("input",{type:"file",id:"csv-importer-inventory",className:"hidden",accept:".csv",onChange:x=>d(x.target.files[0],"inventory")}),s.jsxs("label",{htmlFor:"csv-importer-inventory",className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[s.jsx(uo,{size:16})," Import CSV"]}),s.jsxs("button",{onClick:()=>h(t,"inventory"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[s.jsx(Dn,{size:16})," Export to CSV"]}),s.jsxs("button",{onClick:()=>e("inventory"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[s.jsx(on,{size:16})," Add New"]})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-3",children:s.jsx("input",{type:"checkbox",onChange:y})}),p.map(x=>s.jsx("th",{className:`p-3 ${x.className||""}`,children:x.header},x.key)),s.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),s.jsx("tbody",{className:"text-sm",children:m.map(x=>s.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 text-slate-700 dark:text-slate-200",children:[s.jsx("td",{className:"p-3",children:s.jsx("input",{type:"checkbox",checked:l.includes(x.id),onChange:()=>{c(k=>k.includes(x.id)?k.filter(w=>w!==x.id):[...k,x.id])}})}),p.map(k=>s.jsx("td",{className:`p-3 ${k.className||""}`,children:k.render(x)},k.key)),s.jsxs("td",{className:"p-3 text-center",children:[s.jsx("button",{onClick:()=>e("inventory",x),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:s.jsx(an,{size:16})}),s.jsx("button",{onClick:()=>r("inventory",x.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:s.jsx(ir,{size:16})})]})]},x.id))})]})})]})},Qoe=({clients:t,jobs:e,bills:r,inventory:n})=>{const a=B.useMemo(()=>t.map(c=>{const d=e.filter(m=>m.clientId===c.id),h=d.reduce((m,y)=>m+(y.revenue||0),0),p=d.reduce((m,y)=>m+(y.materialCost||0)+(y.laborCost||0),0);return{name:c.name,netProfit:h-p}}).sort((c,d)=>d.netProfit-c.netProfit),[t,e]),i=B.useMemo(()=>{const c={},d=new Date;return d.setMonth(d.getMonth()-12),e.forEach(h=>{if(h.date&&new Date(h.date)>d){const p=new Date(h.date).toISOString().slice(0,7);c[p]||(c[p]={revenue:0,expenses:0}),c[p].revenue+=h.revenue||0}}),r.forEach(h=>{const p=h.createdAt?.toDate?h.createdAt.toDate():new Date;if(p>d){const m=p.toISOString().slice(0,7);c[m]||(c[m]={revenue:0,expenses:0}),c[m].expenses+=h.amount||0}}),Object.keys(c).map(h=>({month:h,Revenue:c[h].revenue,Expenses:c[h].expenses})).sort((h,p)=>h.month.localeCompare(p.month))},[e,r]),l=B.useMemo(()=>n.map(c=>({name:c.name,totalValue:(c.quantity||0)*(c.cost||0)})).sort((c,d)=>d.totalValue-c.totalValue),[n]);return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Revenue vs. Expenses Trend (Last 12 Months)"}),s.jsx(Sj,{width:"100%",height:300,children:s.jsxs(o$,{data:i,children:[s.jsx(uN,{strokeDasharray:"3 3"}),s.jsx(Qh,{dataKey:"month",stroke:"#64748b"}),s.jsx(Jh,{stroke:"#64748b",tickFormatter:c=>`$${c/1e3}k`}),s.jsx(ya,{contentStyle:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0"},formatter:c=>`$${c.toLocaleString()}`}),s.jsx(to,{}),s.jsx(yi,{dataKey:"Revenue",fill:"#22c55e"}),s.jsx(yi,{dataKey:"Expenses",fill:"#ef4444"})]})})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Client Profitability"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-3",children:"Client"}),s.jsx("th",{className:"p-3 text-right",children:"Net Profit"})]})}),s.jsx("tbody",{children:a.map(c=>s.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50",children:[s.jsx("td",{className:"p-3 font-medium",children:c.name}),s.jsxs("td",{className:`p-3 text-right font-mono ${c.netProfit>=0?"text-green-600 dark:text-green-400":"text-red-500"}`,children:["$",c.netProfit.toFixed(2)]})]},c.name))})]})})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Inventory Value"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-3",children:"Item"}),s.jsx("th",{className:"p-3 text-center",children:"Quantity"}),s.jsx("th",{className:"p-3 text-right",children:"Total Value"})]})}),s.jsx("tbody",{children:l.map(c=>s.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50",children:[s.jsx("td",{className:"p-3 font-medium",children:c.name}),s.jsx("td",{className:"p-3 text-center",children:n.find(d=>d.name===c.name)?.quantity}),s.jsxs("td",{className:"p-3 text-right font-mono",children:["$",c.totalValue.toFixed(2)]})]},c.name))})]})})]})]})},Joe=({bills:t,paidStatus:e,onClose:r})=>{const n=B.useMemo(()=>{const a=new Date,i=new Date;return i.setDate(a.getDate()+3),t.filter(l=>{if(e[l.id])return!1;const c=new Date(a.getFullYear(),a.getMonth(),l.dueDay);return c>=a&&c<=i})},[t,e]);return n.length===0?null:s.jsxs("div",{className:"bg-yellow-100 dark:bg-yellow-900/50 border border-yellow-400 dark:border-yellow-700 text-yellow-800 dark:text-yellow-200 px-4 py-3 rounded-lg relative mb-6",role:"alert",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(O_,{size:20,className:"mr-3"}),s.jsxs("div",{children:[s.jsx("strong",{className:"font-bold",children:"Upcoming Bills!"}),s.jsx("ul",{className:"list-disc list-inside mt-1",children:n.map(a=>s.jsxs("li",{children:[a.name," is due on day ",a.dueDay,"."]},a.id))})]})]}),s.jsx("button",{onClick:r,className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:s.jsx(ho,{size:18})})]})},Zoe=({data:t,onSliceClick:e})=>{const[r,n]=B.useState(0),a=B.useCallback((l,c)=>{n(c)},[n]),i=l=>{const{cx:c,cy:d,innerRadius:h,outerRadius:p,startAngle:m,endAngle:y,fill:x,payload:k}=l;return s.jsxs("g",{className:"cursor-pointer",onClick:()=>e(k.name),children:[s.jsx("text",{x:c,y:d,dy:8,textAnchor:"middle",fill:x,className:"font-bold text-lg",children:k.name}),s.jsx(Jj,{cx:c,cy:d,innerRadius:h,outerRadius:p,startAngle:m,endAngle:y,fill:x})]})};return s.jsx(Sj,{width:"100%",height:300,children:s.jsxs(poe,{children:[s.jsx(ya,{contentStyle:{backgroundColor:"#334155",border:"1px solid #475569",borderRadius:"0.5rem"},labelStyle:{color:"#cbd5e1"},itemStyle:{color:"#f1f5f9"},formatter:l=>`$${l.toFixed(2)}`}),s.jsx(fs,{activeIndex:r,activeShape:i,data:t,cx:"50%",cy:"50%",innerRadius:70,outerRadius:90,fill:"#8884d8",dataKey:"value",onMouseEnter:a,onClick:l=>e(l.name),children:t.map((l,c)=>s.jsx(U0,{fill:l.color},`cell-${c}`))})]})})},ele=({invoices:t=[],bills:e=[],weeklyCosts:r=[],currentBankBalance:n=0,setCurrentBankBalance:a})=>{const i=x=>{if(x==null||x==="")return 0;const k=typeof x=="string"?parseFloat(x.replace(/[^0-9.-]/g,"")):Number(x);return isNaN(k)?0:k},l=t.filter(x=>x.status==="Unpaid"),c=l.reduce((x,k)=>x+i(k.grandTotal),0),d=e.reduce((x,k)=>x+i(k.amount),0),h=r.reduce((x,k)=>x+i(k.amount),0)*4.33,p=d+h,m=i(n)+c-p,y=()=>{const x=prompt("Enter current bank balance:",n);if(x!==null&&!isNaN(x)&&x.trim()!==""){const k=parseFloat(x);k>=0?a(k):alert("Please enter a positive number for the balance.")}};return s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-6",children:"Cash Flow Forecast"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400 font-medium",children:"Current Balance"}),s.jsxs("p",{className:"text-2xl font-bold text-blue-700 dark:text-blue-300",children:["$",i(n).toLocaleString()]})]}),s.jsx(Hr,{className:"text-blue-600 dark:text-blue-400",size:24})]}),s.jsx("button",{onClick:y,className:"mt-2 text-xs text-blue-600 dark:text-blue-400 hover:underline cursor-pointer",children:"Update Balance"}),s.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Click to update your current bank balance"})]}),s.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:"Pending Revenue"}),s.jsxs("p",{className:"text-2xl font-bold text-green-700 dark:text-green-300",children:["$",c.toLocaleString()]})]}),s.jsx(ka,{className:"text-green-600 dark:text-green-400",size:24})]}),s.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:[l.length," unpaid invoices"]})]}),s.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 font-medium",children:"Monthly Expenses"}),s.jsxs("p",{className:"text-2xl font-bold text-red-700 dark:text-red-300",children:["$",p.toLocaleString()]})]}),s.jsx(U4,{className:"text-red-600 dark:text-red-400",size:24})]}),s.jsx("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:"Bills + Weekly costs"})]}),s.jsxs("div",{className:`${m>=0?"bg-green-50 dark:bg-green-900/20":"bg-red-50 dark:bg-red-900/20"} p-4 rounded-lg`,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-sm font-medium ${m>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:"Projected Balance"}),s.jsxs("p",{className:`text-2xl font-bold ${m>=0?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:["$",m.toLocaleString()]})]}),m>=0?s.jsx(ka,{className:"text-green-600 dark:text-green-400",size:24}):s.jsx(Rc,{className:"text-red-600 dark:text-red-400",size:24})]}),s.jsx("p",{className:`text-xs mt-1 ${m>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:"After collections & expenses"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:"Pending Collections"}),s.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:l.length>0?l.map((x,k)=>s.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 dark:bg-slate-700 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-slate-800 dark:text-white",children:x.billTo||x.customer||"Unknown Client"}),s.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Due: ",x.dueDate||"No date"]})]}),s.jsxs("p",{className:"font-bold text-green-600 dark:text-green-400",children:["$",i(x.grandTotal).toLocaleString()]})]},k)):s.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-center py-4",children:"No pending invoices"})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:"Monthly Obligations"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 dark:bg-slate-700 rounded-lg",children:[s.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Monthly Bills"}),s.jsxs("span",{className:"font-bold text-red-600 dark:text-red-400",children:["$",d.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 dark:bg-slate-700 rounded-lg",children:[s.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Weekly Costs (Monthly)"}),s.jsxs("span",{className:"font-bold text-red-600 dark:text-red-400",children:["$",h.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-100 dark:bg-slate-600 rounded-lg border-t-2 border-slate-300 dark:border-slate-500",children:[s.jsx("span",{className:"font-semibold text-slate-800 dark:text-white",children:"Total Expenses"}),s.jsxs("span",{className:"font-bold text-red-700 dark:text-red-300 text-lg",children:["$",p.toLocaleString()]})]})]})]})]}),m<0&&s.jsxs("div",{className:"mt-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rc,{className:"text-red-600 dark:text-red-400",size:20}),s.jsx("h4",{className:"font-semibold text-red-800 dark:text-red-200",children:"Cash Flow Alert"})]}),s.jsx("p",{className:"text-red-700 dark:text-red-300 mt-2",children:"Your projected balance is negative. Consider following up on pending invoices or reducing expenses."})]}),i(n)===0&&s.jsxs("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Hr,{className:"text-blue-600 dark:text-blue-400",size:20}),s.jsx("h4",{className:"font-semibold text-blue-800 dark:text-blue-200",children:"Update Your Balance"})]}),s.jsx("p",{className:"text-blue-700 dark:text-blue-300 mt-2",children:'Click "Update Balance" above to enter your current bank balance for accurate cash flow forecasting.'})]})]})})},tle=({title:t,data:e,columns:r,type:n,searchTerm:a,setSearchTerm:i,handleImportCSV:l,handleExportCSV:c,openModal:d,handleDelete:h,debtPayoffStrategies:p})=>s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-4 gap-4",children:[s.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:t}),s.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[s.jsx("input",{type:"text",placeholder:"Search...",value:a,onChange:m=>i(m.target.value),className:"w-full md:w-auto bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white"}),(n==="client"||n==="job"||n==="inventory"||n==="invoice")&&s.jsxs(s.Fragment,{children:[s.jsx("input",{type:"file",id:`csv-importer-${n}`,className:"hidden",accept:".csv",onChange:m=>l(m.target.files[0],n)}),s.jsxs("label",{htmlFor:`csv-importer-${n}`,className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[s.jsx(uo,{size:16})," Import CSV"]})]}),s.jsxs("button",{onClick:()=>c(e,n),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[s.jsx(Dn,{size:16})," Export to CSV"]}),s.jsxs("button",{onClick:()=>d(n),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[s.jsx(on,{size:16})," Add New"]})]})]}),n==="debt"&&p&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6 bg-slate-100 dark:bg-slate-800/50 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-lg text-cyan-600 dark:text-cyan-400 mb-2",children:"Avalanche Method"}),s.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mb-3",children:"Pay off debts with the highest interest rate first to save the most money over time."}),s.jsx("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:p.avalanche.map(m=>s.jsxs("li",{children:[m.name," ",s.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:["(",m.interestRate,"%)"]})]},m.id))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-lg text-green-600 dark:text-green-400 mb-2",children:"Snowball Method"}),s.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mb-3",children:"Pay off debts with the smallest balance first for quick wins and motivation."}),s.jsx("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:p.snowball.map(m=>s.jsxs("li",{children:[m.name," ",s.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:["($",(m.totalAmount-m.paidAmount).toFixed(2),")"]})]},m.id))})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:s.jsxs("tr",{children:[r.map(m=>s.jsx("th",{className:`p-3 ${m.className||""}`,children:m.header},m.key)),s.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),s.jsx("tbody",{className:"text-sm",children:e.map(m=>s.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 text-slate-700 dark:text-slate-200",children:[r.map(y=>s.jsx("td",{className:`p-3 ${y.className||""}`,children:y.render(m)},y.key)),s.jsxs("td",{className:"p-3 text-center",children:[s.jsx("button",{onClick:()=>d(n,m),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:s.jsx(an,{size:16})}),s.jsx("button",{onClick:()=>h(n,m.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:s.jsx(ir,{size:16})})]})]},m.id))})]})})]}),rle=({jobs:t,clients:e,openModal:r,handleDelete:n,searchTerm:a,setSearchTerm:i,handleImportCSV:l,handleExportCSV:c})=>{const d=[{key:"name",header:"Job/Client",render:h=>s.jsx("span",{className:"font-medium",children:h.name})},{key:"client",header:"Client",render:h=>s.jsx("span",{children:e.find(p=>p.id===h.clientId)?.name||"N/A"})},{key:"revenue",header:"Revenue",className:"text-right",render:h=>s.jsxs("span",{className:"font-mono text-green-600 dark:text-green-400",children:["$",(h.revenue||0).toFixed(2)]})},{key:"materialCost",header:"Material Cost",className:"text-right",render:h=>s.jsxs("span",{className:"font-mono text-orange-600 dark:text-orange-400",children:["$",(h.materialCost||0).toFixed(2)]})},{key:"laborCost",header:"Labor Cost",className:"text-right",render:h=>s.jsxs("span",{className:"font-mono text-orange-600 dark:text-orange-400",children:["$",(h.laborCost||0).toFixed(2)]})},{key:"netProfit",header:"Net Profit",className:"text-right font-bold",render:h=>s.jsxs("span",{className:"font-mono text-cyan-600 dark:text-cyan-400",children:["$",((h.revenue||0)-(h.materialCost||0)-(h.laborCost||0)).toFixed(2)]})}];return s.jsx(tle,{title:"Job Profitability",data:t,columns:d,type:"job",searchTerm:a,setSearchTerm:i,handleImportCSV:l,handleExportCSV:c,openModal:r,handleDelete:n})},nle=({jobs:t,bills:e,weeklyCosts:r,reportingPeriod:n,dateRange:a})=>{const i=B.useMemo(()=>{const c=t.filter(E=>{if(!E.date)return!1;const P=new Date(E.date);return P>=a.start&&P<=a.end}),d=c.reduce((E,P)=>E+(P.revenue||0),0),h=c.reduce((E,P)=>E+(P.materialCost||0)+(P.laborCost||0),0),p=d-h,m=(a.end-a.start)/(1e3*60*60*24*30.44),y=e.reduce((E,P)=>{const R=P.category||"Uncategorized";return E[R]=(E[R]||0)+P.amount,E},{}),x=r.reduce((E,P)=>E+P.amount,0)*m;x>0&&(y["Weekly & Misc"]=(y["Weekly & Misc"]||0)+x);const k=Object.values(y).reduce((E,P)=>E+P,0),w=p-k,b=d>0?p/d*100:0,N=d>0?w/d*100:0;return{revenue:d,cogs:h,grossProfit:p,operatingExpenses:k,expensesByCategory:y,netProfit:w,grossProfitMargin:b,netProfitMargin:N}},[t,e,r,a]),l=()=>{const c={month:"long",year:"numeric"};if(n==="monthly")return`For the Month of ${a.start.toLocaleString("default",c)}`;if(n==="quarterly"){const d={month:"long",day:"numeric",year:"numeric"};return`For the Quarter Ending ${a.end.toLocaleDateString("default",d)}`}return n==="yearly"?`For the Year ${a.start.getFullYear()}`:""};return s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-2",children:"Profit & Loss Statement"}),s.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:l()}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between items-center p-3 font-semibold",children:[s.jsx("span",{children:"Total Revenue"}),s.jsxs("span",{className:"font-mono",children:["$",i.revenue.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 pl-8",children:[s.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Cost of Goods Sold (COGS)"}),s.jsxs("span",{className:"font-mono",children:["($",i.cogs.toFixed(2),")"]})]}),s.jsx("hr",{className:"border-slate-200 dark:border-slate-700 my-2"}),s.jsxs("div",{className:"flex justify-between items-center p-3 font-bold text-lg",children:[s.jsx("span",{children:"Gross Profit"}),s.jsxs("span",{className:"font-mono",children:["$",i.grossProfit.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between items-center p-1 pl-8 text-xs text-slate-500",children:[s.jsx("span",{children:"Gross Profit Margin"}),s.jsxs("span",{className:"font-mono",children:[i.grossProfitMargin.toFixed(1),"%"]})]}),s.jsx("hr",{className:"border-slate-200 dark:border-slate-700 my-2"}),s.jsx("div",{className:"p-3 font-semibold",children:s.jsx("span",{children:"Operating Expenses"})}),Object.entries(i.expensesByCategory).map(([c,d])=>s.jsxs("div",{className:"flex justify-between items-center p-1 pl-8",children:[s.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:c}),s.jsxs("span",{className:"font-mono",children:["($",d.toFixed(2),")"]})]},c)),s.jsxs("div",{className:"flex justify-between items-center p-3 pl-8 font-semibold",children:[s.jsx("span",{children:"Total Operating Expenses"}),s.jsxs("span",{className:"font-mono",children:["($",i.operatingExpenses.toFixed(2),")"]})]}),s.jsx("hr",{className:"border-slate-300 dark:border-slate-600 my-2 border-2"}),s.jsxs("div",{className:"flex justify-between items-center p-3 font-bold text-xl",style:{color:i.netProfit>=0?"#22c55e":"#ef4444"},children:[s.jsx("span",{children:"Net Profit"}),s.jsx("span",{className:"font-mono",children:i.netProfit<0?`-$${Math.abs(i.netProfit).toFixed(2)}`:`$${i.netProfit.toFixed(2)}`})]}),s.jsxs("div",{className:"flex justify-between items-center p-1 pl-8 text-xs text-slate-500",children:[s.jsx("span",{children:"Net Profit Margin"}),s.jsxs("span",{className:"font-mono",children:[i.netProfitMargin.toFixed(1),"%"]})]})]})]})},ale=({debts:t=[],openModal:e,handleDelete:r,searchTerm:n,setSearchTerm:a,handleImportCSV:i,handleExportCSV:l,debtPayoffStrategies:c={avalanche:[],snowball:[]}})=>{const[d,h]=B.useState("overview"),[p,m]=B.useState("avalanche"),[y,x]=B.useState(500),k=B.useMemo(()=>{const j=t.reduce((D,F)=>D+(F.totalAmount||0),0),C=t.reduce((D,F)=>D+(F.paidAmount||0),0),A=j-C,I=t.length>0?t.reduce((D,F)=>D+(F.interestRate||0),0)/t.length:0,L=Math.max(...t.map(D=>D.interestRate||0)),O=Math.min(...t.map(D=>(D.totalAmount||0)-(D.paidAmount||0)));return{totalDebt:j,totalPaid:C,totalRemaining:A,avgInterestRate:I,highestInterest:L,lowestBalance:O===1/0?0:O,payoffProgress:j>0?C/j*100:0}},[t]),w=j=>{const C=c[j]||[];let A=[],I=0,L=y;return C.forEach((O,D)=>{const F=(O.totalAmount||0)-(O.paidAmount||0),$=(O.interestRate||0)/100/12;if(F>0&&L>0){const ae=Math.ceil(Math.log(1+F*$/L)/Math.log(1+$));A.push({...O,monthsToPayoff:isFinite(ae)?ae:0,order:D+1,remaining:F}),I=Math.max(I,ae)}}),{timeline:A,totalMonthsToPayoff:I}},b=w("avalanche"),N=w("snowball"),E=B.useMemo(()=>n?t.filter(j=>j.name?.toLowerCase().includes(n.toLowerCase())||j.creditor?.toLowerCase().includes(n.toLowerCase())):t,[t,n]),P=j=>(j.totalAmount||0)-(j.paidAmount||0)<=0?"text-green-600 dark:text-green-400":j.interestRate>20?"text-red-600 dark:text-red-400":j.interestRate>10?"text-yellow-600 dark:text-yellow-400":"text-blue-600 dark:text-blue-400",R=j=>j.interestRate>20?s.jsx(Rc,{className:"text-red-500",size:16}):j.interestRate>10?s.jsx(ka,{className:"text-yellow-500",size:16}):s.jsx(Ba,{className:"text-green-500",size:16});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Debt Management"}),s.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Track debts, plan payoffs, and achieve financial freedom"})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs("button",{onClick:()=>i&&i(),className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[s.jsx(uo,{size:16}),"Import"]}),s.jsxs("button",{onClick:()=>l&&l(t,"debts"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[s.jsx(E0,{size:16}),"Export"]}),s.jsxs("button",{onClick:()=>e("debt"),className:"flex items-center gap-2 bg-purple-600 hover:bg-purple-500 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(on,{size:18}),"Add Debt"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Total Debt"}),s.jsxs("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:["$",k.totalDebt.toLocaleString()]})]}),s.jsx(ny,{className:"text-red-600 dark:text-red-400",size:24})]}),s.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["Remaining: $",k.totalRemaining.toLocaleString()]})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Paid Off"}),s.jsxs("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:["$",k.totalPaid.toLocaleString()]})]}),s.jsx(Ba,{className:"text-green-600 dark:text-green-400",size:24})]}),s.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:[k.payoffProgress.toFixed(1),"% complete"]})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Avg Interest"}),s.jsxs("p",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:[k.avgInterestRate.toFixed(1),"%"]})]}),s.jsx(B4,{className:"text-orange-600 dark:text-orange-400",size:24})]}),s.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["Highest: ",k.highestInterest,"%"]})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Active Debts"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:t.filter(j=>j.totalAmount-j.paidAmount>0).length})]}),s.jsx(S0,{className:"text-blue-600 dark:text-blue-400",size:24})]}),s.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["of ",t.length," total"]})]})]}),s.jsx("div",{className:"bg-white dark:bg-slate-800 p-1 rounded-lg border border-slate-200 dark:border-slate-700",children:s.jsxs("div",{className:"flex space-x-1",children:[s.jsxs("button",{onClick:()=>h("overview"),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${d==="overview"?"bg-purple-600 text-white shadow":"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white"}`,children:[s.jsx(ny,{size:16}),"Overview"]}),s.jsxs("button",{onClick:()=>h("strategies"),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${d==="strategies"?"bg-purple-600 text-white shadow":"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white"}`,children:[s.jsx(qd,{size:16}),"Payoff Strategies"]}),s.jsxs("button",{onClick:()=>h("calculator"),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${d==="calculator"?"bg-purple-600 text-white shadow":"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white"}`,children:[s.jsx(kc,{size:16}),"Calculator"]})]})}),d==="overview"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx(gi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),s.jsx("input",{type:"text",placeholder:"Search debts...",value:n,onChange:j=>a(j.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),s.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 overflow-hidden",children:E.length===0?s.jsxs("div",{className:"text-center py-12 text-slate-500 dark:text-slate-400",children:[s.jsx(ny,{size:48,className:"mx-auto mb-4 opacity-50"}),s.jsx("h4",{className:"text-lg font-semibold mb-2",children:"No debts found"}),s.jsx("p",{className:"mb-4",children:"Add your debts to start tracking and planning payoffs."}),s.jsx("button",{onClick:()=>e("debt"),className:"bg-purple-600 hover:bg-purple-500 text-white px-6 py-2 rounded-lg transition-colors",children:"Add First Debt"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700/50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Debt Details"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Interest Rate"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Total Amount"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Paid"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Remaining"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Progress"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:E.map(j=>{const C=(j.totalAmount||0)-(j.paidAmount||0),A=j.totalAmount>0?(j.paidAmount||0)/j.totalAmount*100:0;return s.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[R(j),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-slate-900 dark:text-white",children:j.name}),j.creditor&&s.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:j.creditor})]})]})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsxs("span",{className:`font-mono font-semibold ${P(j)}`,children:[(j.interestRate||0).toFixed(1),"%"]})}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsxs("span",{className:"font-mono text-slate-900 dark:text-white",children:["$",(j.totalAmount||0).toLocaleString()]})}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsxs("span",{className:"font-mono text-green-600 dark:text-green-400",children:["$",(j.paidAmount||0).toLocaleString()]})}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsxs("span",{className:"font-mono font-semibold text-orange-600 dark:text-orange-400",children:["$",C.toLocaleString()]})}),s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-3",children:s.jsx("div",{className:"bg-gradient-to-r from-green-400 to-green-600 h-3 rounded-full transition-all duration-300",style:{width:`${Math.min(A,100)}%`}})}),s.jsxs("div",{className:"text-xs text-center mt-1 text-slate-500 dark:text-slate-400",children:[A.toFixed(1),"%"]})]}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("button",{onClick:()=>e("debt",j),className:"text-slate-400 hover:text-blue-500 transition-colors",title:"Edit debt",children:s.jsx(an,{size:16})}),s.jsx("button",{onClick:()=>r("debt",j.id),className:"text-slate-400 hover:text-red-500 transition-colors",title:"Delete debt",children:s.jsx(ir,{size:16})})]})})]},j.id)})})]})})})]}),d==="strategies"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:"Debt Payoff Strategies"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:`p-4 rounded-lg border-2 cursor-pointer transition-colors ${p==="avalanche"?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-slate-200 dark:border-slate-700 hover:border-purple-300"}`,onClick:()=>m("avalanche"),children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(U4,{className:"text-purple-600",size:20}),s.jsx("h4",{className:"font-semibold text-slate-800 dark:text-white",children:"Debt Avalanche"})]}),s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-3",children:"Pay off debts with highest interest rates first. Saves more money on interest."}),s.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-500",children:["Estimated timeline: ",b.totalMonthsToPayoff," months"]})]}),s.jsxs("div",{className:`p-4 rounded-lg border-2 cursor-pointer transition-colors ${p==="snowball"?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-slate-200 dark:border-slate-700 hover:border-purple-300"}`,onClick:()=>m("snowball"),children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(Yq,{className:"text-purple-600",size:20}),s.jsx("h4",{className:"font-semibold text-slate-800 dark:text-white",children:"Debt Snowball"})]}),s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-3",children:"Pay off smallest balances first. Builds momentum and motivation."}),s.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-500",children:["Estimated timeline: ",N.totalMonthsToPayoff," months"]})]})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Monthly Debt Payment Budget"}),s.jsxs("div",{className:"relative",children:[s.jsx(Hr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),s.jsx("input",{type:"number",value:y,onChange:j=>x(parseFloat(j.target.value)||0),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"500"})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsxs("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:[p==="avalanche"?"Avalanche":"Snowball"," Payoff Plan"]}),s.jsx("div",{className:"space-y-4",children:(p==="avalanche"?b.timeline:N.timeline).map((j,C)=>s.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-purple-600 text-white rounded-full flex items-center justify-center text-sm font-semibold",children:j.order}),s.jsxs("div",{className:"flex-grow",children:[s.jsx("div",{className:"font-medium text-slate-900 dark:text-white",children:j.name}),s.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:["$",j.remaining.toLocaleString()," remaining at ",j.interestRate,"%"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-sm font-medium text-slate-900 dark:text-white",children:[j.monthsToPayoff," months"]}),s.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"to pay off"})]})]},j.id))})]})]}),d==="calculator"&&s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:"Debt Payoff Calculator"}),s.jsxs("div",{className:"text-center text-slate-500 dark:text-slate-400 py-12",children:[s.jsx(kc,{size:48,className:"mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Advanced debt calculator coming soon!"}),s.jsx("p",{className:"text-sm mt-2",children:"Calculate exact payoff dates, interest savings, and payment schedules."})]})]})]})},ile=({incomes:t,openModal:e,handleDelete:r})=>{const[n,a]=B.useState(""),[i,l]=B.useState("all"),[c,d]=B.useState("all"),[h,p]=B.useState({key:"amount",direction:"desc"}),m=["all","monthly","weekly","quarterly","annually","one-time","project-based"],y=["all","active","pending","completed","paused"],x=B.useMemo(()=>t.filter(j=>{const C=j.name.toLowerCase().includes(n.toLowerCase())||j.notes&&j.notes.toLowerCase().includes(n.toLowerCase()),A=i==="all"||j.type===i,I=c==="all"||j.status===c;return C&&A&&I}).sort((j,C)=>{if(h.key==="amount"){const A=parseFloat(j.amount)||0,I=parseFloat(C.amount)||0;return h.direction==="asc"?A-I:I-A}return h.key==="name"?h.direction==="asc"?j.name.localeCompare(C.name):C.name.localeCompare(j.name):0}),[t,n,i,c,h]),k=B.useMemo(()=>{const R=t.filter(D=>D.status!=="completed"&&D.status!=="paused"),C=R.map(D=>{const F=parseFloat(D.amount)||0;switch(D.type){case"weekly":return F*4.33;case"quarterly":return F/3;case"annually":return F/12;case"monthly":default:return F}}).reduce((D,F)=>D+F,0),A=C*12,I=t.reduce((D,F)=>{const $=F.type||"monthly",ae=parseFloat(F.amount)||0;return D[$]=(D[$]||0)+ae,D},{}),L=t.reduce((D,F)=>{const $=F.status||"active";return D[$]=(D[$]||0)+1,D},{}),O=t.reduce((D,F)=>{const $=parseFloat(F.amount)||0;return $>D.amount?{name:F.name,amount:$}:D},{name:"None",amount:0});return{totalMonthlyIncome:C,totalAnnualIncome:A,typeBreakdown:I,statusBreakdown:L,highestIncome:O,activeCount:R.length,totalCount:t.length,averageIncome:R.length>0?C/R.length:0}},[t]),w=R=>{p(j=>({key:R,direction:j.key===R&&j.direction==="desc"?"asc":"desc"}))},b=R=>{switch(R){case"active":return s.jsx(Ba,{size:14,className:"text-green-500"});case"pending":return s.jsx(T0,{size:14,className:"text-yellow-500"});case"completed":return s.jsx(Ba,{size:14,className:"text-blue-500"});case"paused":return s.jsx(Rc,{size:14,className:"text-red-500"});default:return s.jsx(Ba,{size:14,className:"text-green-500"})}},N=R=>{const j={monthly:"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200",weekly:"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200",quarterly:"bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-200",annually:"bg-orange-100 dark:bg-orange-900/30 text-orange-800 dark:text-orange-200","one-time":"bg-gray-100 dark:bg-gray-900/30 text-gray-800 dark:text-gray-200","project-based":"bg-cyan-100 dark:bg-cyan-900/30 text-cyan-800 dark:text-cyan-200"};return j[R]||j.monthly},E=(R,j)=>{const C=parseFloat(R)||0;switch(j){case"weekly":return C*4.33;case"quarterly":return C/3;case"annually":return C/12;case"monthly":default:return C}},P=()=>{if(t.length===0){alert("No income sources to export.");return}try{const R=["Source Name","Amount","Type","Monthly Equivalent","Annual Equivalent","Status","Recurring","Notes"],j=t.map(O=>[O.name||"",(parseFloat(O.amount)||0).toFixed(2),O.type||"monthly",E(O.amount,O.type).toFixed(2),(E(O.amount,O.type)*12).toFixed(2),O.status||"active",O.isRecurring?"Yes":"No",O.notes||""]),C=[R.join(","),...j.map(O=>O.map(D=>typeof D=="string"&&D.includes(",")?`"${D}"`:D).join(","))].join(`
`),A=new Blob([C],{type:"text/csv;charset=utf-8;"}),I=document.createElement("a"),L=URL.createObjectURL(A);I.setAttribute("href",L),I.setAttribute("download",`income_sources_${new Date().toISOString().split("T")[0]}.csv`),I.style.visibility="hidden",document.body.appendChild(I),I.click(),document.body.removeChild(I),alert(`Successfully exported ${t.length} income sources!`)}catch(R){console.error("Error exporting CSV:",R),alert("Failed to export CSV: "+R.message)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Monthly Income"}),s.jsxs("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:["$",k.totalMonthlyIncome.toLocaleString()]})]}),s.jsx(Hr,{className:"text-green-600 dark:text-green-400",size:24})]}),s.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:[k.activeCount," active sources"]})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Annual Projection"}),s.jsxs("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:["$",k.totalAnnualIncome.toLocaleString()]})]}),s.jsx(ka,{className:"text-blue-600 dark:text-blue-400",size:24})]}),s.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Based on current rates"})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Average Income"}),s.jsxs("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:["$",k.averageIncome.toLocaleString()]})]}),s.jsx(S0,{className:"text-purple-600 dark:text-purple-400",size:24})]}),s.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Per active source/month"})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Top Source"}),s.jsx("p",{className:"text-lg font-bold text-orange-600 dark:text-orange-400 truncate",children:k.highestIncome.name})]}),s.jsx(qd,{className:"text-orange-600 dark:text-orange-400",size:24})]}),s.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["$",k.highestIncome.amount.toLocaleString()]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Income Sources"}),s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:"Track and manage your revenue streams and income sources"})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs("button",{onClick:P,className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[s.jsx(Dn,{size:16}),"Export CSV"]}),s.jsxs("button",{onClick:()=>e("income"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[s.jsx(on,{size:16}),"Add Income Source"]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(gi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),s.jsx("input",{type:"text",placeholder:"Search income sources...",value:n,onChange:R=>a(R.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm"})]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(kl,{className:"text-slate-400",size:16}),s.jsx("select",{value:i,onChange:R=>l(R.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",children:m.map(R=>s.jsx("option",{value:R,children:R==="all"?"All Types":R.charAt(0).toUpperCase()+R.slice(1).replace("-"," ")},R))}),s.jsx("select",{value:c,onChange:R=>d(R.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",children:y.map(R=>s.jsx("option",{value:R,children:R==="all"?"All Status":R.charAt(0).toUpperCase()+R.slice(1)},R))})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-3 cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",onClick:()=>w("name"),children:s.jsxs("div",{className:"flex items-center gap-1",children:["Income Source",h.key==="name"&&s.jsx("span",{children:h.direction==="asc"?"↑":"↓"})]})}),s.jsx("th",{className:"p-3 text-right cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",onClick:()=>w("amount"),children:s.jsxs("div",{className:"flex items-center justify-end gap-1",children:["Amount",h.key==="amount"&&s.jsx("span",{children:h.direction==="asc"?"↑":"↓"})]})}),s.jsx("th",{className:"p-3",children:"Type"}),s.jsx("th",{className:"p-3 text-right",children:"Monthly Equiv."}),s.jsx("th",{className:"p-3 text-right",children:"Annual Equiv."}),s.jsx("th",{className:"p-3",children:"Status"}),s.jsx("th",{className:"p-3",children:"Recurring"}),s.jsx("th",{className:"p-3",children:"Notes"}),s.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),s.jsx("tbody",{className:"text-sm",children:x.length>0?x.map(R=>{const j=parseFloat(R.amount)||0,C=E(j,R.type),A=C*12;return s.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[s.jsx("td",{className:"p-3",children:s.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:R.name})}),s.jsx("td",{className:"p-3 text-right",children:s.jsxs("span",{className:"font-mono font-bold text-green-600 dark:text-green-400",children:["$",j.toFixed(2)]})}),s.jsx("td",{className:"p-3",children:s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${N(R.type)}`,children:(R.type||"monthly").replace("-"," ")})}),s.jsx("td",{className:"p-3 text-right",children:s.jsxs("span",{className:"font-mono text-blue-600 dark:text-blue-400",children:["$",C.toFixed(2)]})}),s.jsx("td",{className:"p-3 text-right",children:s.jsxs("span",{className:"font-mono text-purple-600 dark:text-purple-400",children:["$",A.toLocaleString()]})}),s.jsx("td",{className:"p-3",children:s.jsxs("div",{className:"flex items-center gap-1",children:[b(R.status),s.jsx("span",{className:"text-xs capitalize",children:R.status||"active"})]})}),s.jsx("td",{className:"p-3",children:s.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${R.isRecurring?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200":"bg-gray-100 dark:bg-gray-900/30 text-gray-800 dark:text-gray-200"}`,children:R.isRecurring?"Yes":"No"})}),s.jsx("td",{className:"p-3 max-w-xs",children:s.jsx("span",{className:"text-slate-600 dark:text-slate-400 truncate",children:R.notes&&R.notes.length>30?`${R.notes.substring(0,30)}...`:R.notes||"—"})}),s.jsx("td",{className:"p-3 text-center",children:s.jsxs("div",{className:"flex items-center justify-center gap-1",children:[s.jsx("button",{onClick:()=>e("income",R),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 p-1 rounded transition-colors",title:"Edit income source",children:s.jsx(an,{size:16})}),s.jsx("button",{onClick:()=>r("income",R.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500 p-1 rounded transition-colors",title:"Delete income source",children:s.jsx(ir,{size:16})})]})})]},R.id)}):s.jsx("tr",{children:s.jsx("td",{colSpan:"9",className:"p-8 text-center text-slate-500 dark:text-slate-400",children:n||i!=="all"||c!=="all"?s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx(gi,{size:24,className:"text-slate-400"}),s.jsx("span",{children:"No income sources match your search criteria"}),s.jsx("button",{onClick:()=>{a(""),l("all"),d("all")},className:"text-cyan-600 hover:text-cyan-500 text-sm font-medium",children:"Clear filters"})]}):s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx(Hr,{size:24,className:"text-slate-400"}),s.jsx("span",{children:"No income sources added yet"}),s.jsx("button",{onClick:()=>e("income"),className:"text-cyan-600 hover:text-cyan-500 text-sm font-medium",children:"Add your first income source"})]})})})})]})}),x.length>0&&s.jsx("div",{className:"mt-4 p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg border",children:s.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 text-sm",children:[s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:["Showing ",x.length," of ",t.length," income sources"]})}),s.jsxs("div",{className:"flex items-center gap-6 font-medium",children:[s.jsxs("span",{className:"text-green-600 dark:text-green-400",children:["Monthly: $",x.reduce((R,j)=>R+E(j.amount,j.type),0).toFixed(2)]}),s.jsxs("span",{className:"text-blue-600 dark:text-blue-400",children:["Annual: $",(x.reduce((R,j)=>R+E(j.amount,j.type),0)*12).toLocaleString()]})]})]})})]}),k.totalCount>=1&&k.highestIncome.amount>k.totalMonthlyIncome*.7&&s.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rc,{className:"text-amber-600 dark:text-amber-400",size:20}),s.jsx("h4",{className:"font-semibold text-amber-800 dark:text-amber-200",children:"Income Diversification Alert"})]}),s.jsxs("p",{className:"text-amber-700 dark:text-amber-300 text-sm mt-2",children:["Your top income source (",k.highestIncome.name,") represents over 70% of your total income. Consider diversifying your income streams to reduce financial risk."]})]})]})},sle=({goalsWithProgress:t=[],openModal:e,onDeleteGoal:r,onEditGoal:n})=>{const[a,i]=B.useState(null),[l,c]=B.useState(!1),[d,h]=B.useState({name:"",description:"",target:"",current:0,deadline:"",type:"savings"}),p=E=>{i(E)},m=E=>{r(E),i(null)},y=()=>{i(null)},x=E=>E>=100?"from-green-500 to-emerald-500":E>=80?"from-green-500 to-green-600":E>=50?"from-yellow-500 to-orange-500":E>=25?"from-orange-500 to-red-500":"from-red-500 to-red-600",k=E=>{const P=new Date,j=new Date(E)-P,C=Math.ceil(j/(1e3*60*60*24));return C<0?{text:"Overdue",color:"text-red-500",bgColor:"bg-red-100 dark:bg-red-900/20"}:C===0?{text:"Due Today",color:"text-orange-500",bgColor:"bg-orange-100 dark:bg-orange-900/20"}:C===1?{text:"1 day left",color:"text-orange-500",bgColor:"bg-orange-100 dark:bg-orange-900/20"}:C<=7?{text:`${C} days left`,color:"text-yellow-600",bgColor:"bg-yellow-100 dark:bg-yellow-900/20"}:C<=30?{text:`${C} days left`,color:"text-blue-600",bgColor:"bg-blue-100 dark:bg-blue-900/20"}:{text:`${C} days left`,color:"text-slate-600",bgColor:"bg-slate-100 dark:bg-slate-700"}},w=E=>{const P=E.target-E.current,R=Math.ceil((new Date(E.deadline)-new Date)/(1e3*60*60*24));return R>0?Math.ceil(P/R):0},b=(E,P)=>{console.log("Update goal progress:",E,P)},N=E=>{E.preventDefault(),d.name&&d.target&&d.deadline&&(e("goal",{name:d.name,description:d.description,targetValue:Number(d.target),current:Number(d.current),deadline:d.deadline,type:d.type}),h({name:"",description:"",target:"",current:0,deadline:"",type:"savings"}),c(!1))};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-cyan-100 to-blue-100 dark:from-cyan-900/30 dark:to-blue-900/30 rounded-lg",children:s.jsx(qd,{className:"w-6 h-6 text-cyan-600 dark:text-cyan-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Financial Goals"}),s.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:[t.filter(E=>E.progress>=100).length," of ",t.length," completed"]})]})]}),s.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 text-white px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 shadow-lg hover:shadow-xl",children:[s.jsx(Ud,{size:16}),"Add Goal"]})]}),t.length>0&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[s.jsx("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 p-4 rounded-lg border border-green-200 dark:border-green-800",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-800 rounded-lg",children:s.jsx(Ba,{className:"text-green-600 dark:text-green-400",size:20})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:"Completed"}),s.jsx("p",{className:"text-xl font-bold text-green-800 dark:text-green-200",children:t.filter(E=>E.progress>=100).length})]})]})}),s.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-800 rounded-lg",children:s.jsx(ka,{className:"text-blue-600 dark:text-blue-400",size:20})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"In Progress"}),s.jsx("p",{className:"text-xl font-bold text-blue-800 dark:text-blue-200",children:t.filter(E=>E.progress>0&&E.progress<100).length})]})]})}),s.jsx("div",{className:"bg-gradient-to-br from-orange-50 to-red-50 dark:from-orange-900/20 dark:to-red-900/20 p-4 rounded-lg border border-orange-200 dark:border-orange-800",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-800 rounded-lg",children:s.jsx(T0,{className:"text-orange-600 dark:text-orange-400",size:20})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-orange-700 dark:text-orange-300",children:"Total Value"}),s.jsxs("p",{className:"text-xl font-bold text-orange-800 dark:text-orange-200",children:["$",t.reduce((E,P)=>E+(P.targetValue||0),0).toLocaleString()]})]})]})})]}),s.jsx("div",{className:"space-y-4",children:t.length===0?s.jsxs("div",{className:"text-center py-12 text-slate-500 dark:text-slate-400",children:[s.jsx("div",{className:"bg-slate-100 dark:bg-slate-700 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4",children:s.jsx(qd,{size:32,className:"opacity-50"})}),s.jsx("h4",{className:"font-semibold text-lg mb-2",children:"No financial goals yet"}),s.jsx("p",{className:"text-sm mb-4",children:"Set your first goal and start tracking your financial progress!"}),s.jsx("button",{onClick:()=>c(!0),className:"bg-cyan-600 hover:bg-cyan-500 text-white px-6 py-2 rounded-lg text-sm font-medium transition-colors",children:"Create Your First Goal"})]}):t.map(E=>{const P=E.progress||0,R=P>=100,j=(E.targetValue||0)-(E.current||0),C=k(E.deadline),A=x(P),I=C.text==="Overdue",L=w({target:E.targetValue||0,current:E.current||0,deadline:E.deadline});return s.jsx("div",{className:`relative border rounded-lg p-5 transition-all duration-200 hover:shadow-md ${R?"border-green-200 dark:border-green-800 bg-gradient-to-r from-green-50/50 to-emerald-50/50 dark:from-green-900/10 dark:to-emerald-900/10":I?"border-red-200 dark:border-red-800 bg-gradient-to-r from-red-50/50 to-pink-50/50 dark:from-red-900/10 dark:to-pink-900/10":"border-slate-200 dark:border-slate-600 hover:border-cyan-300 dark:hover:border-cyan-700"}`,children:a!==E.id?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h4",{className:"font-semibold text-slate-800 dark:text-white",children:E.name}),R&&s.jsx("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-800 text-green-800 dark:text-green-200 text-xs font-medium rounded-full",children:"✓ Completed"}),E.type&&s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${E.type==="savings"?"bg-blue-100 dark:bg-blue-800 text-blue-800 dark:text-blue-200":E.type==="debt"?"bg-red-100 dark:bg-red-800 text-red-800 dark:text-red-200":E.type==="investment"?"bg-purple-100 dark:bg-purple-800 text-purple-800 dark:text-purple-200":E.type==="purchase"?"bg-orange-100 dark:bg-orange-800 text-orange-800 dark:text-orange-200":"bg-cyan-100 dark:bg-cyan-800 text-cyan-800 dark:text-cyan-200"}`,children:E.type||"savings"}),s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${C.bgColor} ${C.color}`,children:C.text})]}),E.description&&s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-3",children:E.description}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Current"}),s.jsxs("p",{className:"font-semibold text-slate-800 dark:text-white",children:["$",(E.current||0).toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Target"}),s.jsxs("p",{className:"font-semibold text-slate-800 dark:text-white",children:["$",(E.targetValue||0).toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Remaining"}),s.jsxs("p",{className:"font-semibold text-slate-800 dark:text-white",children:["$",j>0?j.toLocaleString():"0"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Daily Need"}),s.jsxs("p",{className:"font-semibold text-slate-800 dark:text-white",children:["$",L>0?L.toLocaleString():"0"]})]})]})]}),s.jsxs("div",{className:"flex gap-2 ml-4",children:[s.jsx("button",{onClick:()=>b(E.id,(E.current||0)+(E.targetValue||0)*.1),className:"text-green-600 hover:text-green-500 p-2 rounded-lg hover:bg-green-50 dark:hover:bg-green-900/20 transition-colors",title:"Add 10%",children:s.jsx(Ud,{size:18})}),s.jsx("button",{onClick:()=>b(E.id,Math.max(0,(E.current||0)-(E.targetValue||0)*.1)),className:"text-orange-600 hover:text-orange-500 p-2 rounded-lg hover:bg-orange-50 dark:hover:bg-orange-900/20 transition-colors",title:"Subtract 10%",children:s.jsx(Uq,{size:18})}),s.jsx("button",{onClick:()=>p(E.id),className:"text-red-600 hover:text-red-500 p-2 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",title:"Delete Goal",children:s.jsx(ir,{size:18})})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Progress"}),s.jsxs("span",{className:`font-bold ${R?"text-green-600":"text-cyan-600"}`,children:[P.toFixed(1),"%"]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-4",children:s.jsx("div",{className:`h-4 rounded-full transition-all duration-700 relative overflow-hidden bg-gradient-to-r ${A}`,style:{width:`${Math.min(P,100)}%`},children:s.jsx("div",{className:"absolute inset-0 bg-white/20 animate-pulse"})})}),P>15&&s.jsx("div",{className:"absolute inset-0 flex items-center px-2",children:s.jsxs("span",{className:"text-xs font-medium text-white drop-shadow",children:["$",(E.current||0).toLocaleString()]})})]}),s.jsxs("div",{className:"flex justify-between text-xs text-slate-500 dark:text-slate-400",children:[s.jsxs("span",{children:["Deadline: ",new Date(E.deadline).toLocaleDateString()]}),!R&&j>0&&L>0&&s.jsxs("span",{children:["Need $",L.toLocaleString(),"/day"]})]})]})]}):s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"bg-red-100 dark:bg-red-900/30 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:s.jsx(ir,{className:"text-red-600 dark:text-red-400",size:24})}),s.jsxs("p",{className:"text-slate-800 dark:text-white font-medium mb-4",children:['Delete "',E.name,'"?']}),s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-6",children:"This action cannot be undone."}),s.jsxs("div",{className:"flex gap-3 justify-center",children:[s.jsx("button",{onClick:()=>m(E.id),className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors font-medium",children:"Delete Goal"}),s.jsx("button",{onClick:y,className:"px-4 py-2 bg-slate-300 hover:bg-slate-400 dark:bg-slate-600 dark:hover:bg-slate-500 text-slate-800 dark:text-white rounded-lg transition-colors font-medium",children:"Cancel"})]})]})})},E.id)})})]}),l&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-6 w-full max-w-lg border border-slate-200 dark:border-slate-700 shadow-2xl",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Create Financial Goal"}),s.jsx("button",{onClick:()=>c(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:s.jsx(ho,{size:20})})]}),s.jsxs("form",{onSubmit:N,className:"space-y-5",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Goal Type"}),s.jsxs("select",{value:d.type,onChange:E=>h({...d,type:E.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"savings",children:"💰 Savings Goal"}),s.jsx("option",{value:"debt",children:"💳 Debt Payoff"}),s.jsx("option",{value:"investment",children:"📈 Investment Target"}),s.jsx("option",{value:"purchase",children:"🛍️ Large Purchase"}),s.jsx("option",{value:"emergency",children:"🆘 Emergency Fund"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Goal Name"}),s.jsx("input",{type:"text",value:d.name,onChange:E=>h({...d,name:E.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Emergency Fund, New Car, Pay off Credit Card",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Description"}),s.jsx("textarea",{value:d.description,onChange:E=>h({...d,description:E.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Brief description of your goal and why it matters to you",rows:"3"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Current Amount"}),s.jsx("input",{type:"number",value:d.current,onChange:E=>h({...d,current:Number(E.target.value)}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0",min:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Target Amount"}),s.jsx("input",{type:"number",value:d.target,onChange:E=>h({...d,target:Number(E.target.value)}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"10000",required:!0,min:"1"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Target Deadline"}),s.jsx("input",{type:"date",value:d.deadline,onChange:E=>h({...d,deadline:E.target.value}),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,min:new Date().toISOString().split("T")[0]})]}),d.target>0&&d.deadline&&s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:[s.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 font-medium mb-1",children:"Goal Calculation:"}),s.jsxs("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:["To reach $",d.target.toLocaleString()," by ",new Date(d.deadline).toLocaleDateString(),", you need to save $",Math.ceil((d.target-d.current)/Math.max(1,Math.ceil((new Date(d.deadline)-new Date)/(1e3*60*60*24)))).toLocaleString()," per day."]})]}),s.jsxs("div",{className:"flex gap-3 pt-2",children:[s.jsx("button",{type:"button",onClick:()=>c(!1),className:"flex-1 px-4 py-2 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors font-medium",children:"Cancel"}),s.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500 text-white rounded-lg transition-all duration-200 font-medium shadow-lg hover:shadow-xl",children:"Create Goal"})]})]})]})})]})},ole=({weeklyCosts:t,openModal:e,handleDelete:r})=>{const[n,a]=B.useState(""),[i,l]=B.useState("all"),[c,d]=B.useState({key:"amount",direction:"desc"}),h=["all","Payroll","Fuel & Maintenance","Equipment Rental","Utilities","Insurance","Marketing","Office Expenses","Supplies","Contractors","Other"],p=B.useMemo(()=>t.filter(w=>{const b=w.name.toLowerCase().includes(n.toLowerCase())||w.notes&&w.notes.toLowerCase().includes(n.toLowerCase()),N=i==="all"||w.category===i;return b&&N}).sort((w,b)=>{if(c.key==="amount"){const N=parseFloat(w.amount)||0,E=parseFloat(b.amount)||0;return c.direction==="asc"?N-E:E-N}return c.key==="name"?c.direction==="asc"?w.name.localeCompare(b.name):b.name.localeCompare(w.name):0}),[t,n,i,c]),m=B.useMemo(()=>{const k=t.reduce((j,C)=>j+(parseFloat(C.amount)||0),0),w=k*4.33,b=k*52,N=t.reduce((j,C)=>(parseFloat(C.amount)||0)>j?parseFloat(C.amount)||0:j,0),E=t.length>0?k/t.length:0,P=t.reduce((j,C)=>{const A=C.category||"Other";return j[A]=(j[A]||0)+(parseFloat(C.amount)||0),j},{}),R=Object.entries(P).reduce((j,[C,A])=>A>(j.amount||0)?{category:C,amount:A}:j,{category:"None",amount:0});return{totalWeekly:k,totalMonthly:w,totalAnnual:b,highestCost:N,averageCost:E,categoryTotals:P,topCategory:R,itemCount:t.length}},[t]),y=k=>{d(w=>({key:k,direction:w.key===k&&w.direction==="desc"?"asc":"desc"}))},x=()=>{if(t.length===0){alert("No weekly costs to export.");return}try{const k=["Name","Weekly Amount","Monthly Amount (4.33x)","Annual Amount (52x)","Category","Notes"],w=t.map(R=>[R.name||"",(parseFloat(R.amount)||0).toFixed(2),((parseFloat(R.amount)||0)*4.33).toFixed(2),((parseFloat(R.amount)||0)*52).toFixed(2),R.category||"Other",R.notes||""]),b=[k.join(","),...w.map(R=>R.map(j=>typeof j=="string"&&j.includes(",")?`"${j}"`:j).join(","))].join(`
`),N=new Blob([b],{type:"text/csv;charset=utf-8;"}),E=document.createElement("a"),P=URL.createObjectURL(N);E.setAttribute("href",P),E.setAttribute("download",`weekly_costs_${new Date().toISOString().split("T")[0]}.csv`),E.style.visibility="hidden",document.body.appendChild(E),E.click(),document.body.removeChild(E),alert(`Successfully exported ${t.length} weekly costs!`)}catch(k){console.error("Error exporting CSV:",k),alert("Failed to export CSV: "+k.message)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Weekly Total"}),s.jsxs("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:["$",m.totalWeekly.toLocaleString()]})]}),s.jsx(tj,{className:"text-red-600 dark:text-red-400",size:24})]}),s.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:[m.itemCount," cost items"]})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Monthly Impact"}),s.jsxs("p",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:["$",m.totalMonthly.toLocaleString()]})]}),s.jsx(ka,{className:"text-orange-600 dark:text-orange-400",size:24})]}),s.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"x4.33 weeks/month"})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Annual Impact"}),s.jsxs("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:["$",m.totalAnnual.toLocaleString()]})]}),s.jsx(S0,{className:"text-purple-600 dark:text-purple-400",size:24})]}),s.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"x52 weeks/year"})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Top Category"}),s.jsx("p",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:m.topCategory.category})]}),s.jsx(Hr,{className:"text-blue-600 dark:text-blue-400",size:24})]}),s.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["$",m.topCategory.amount.toLocaleString(),"/week"]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Recurring Weekly Costs"}),s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:"Track and manage your regular weekly business expenses"})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs("button",{onClick:x,className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[s.jsx(Dn,{size:16}),"Export CSV"]}),s.jsxs("button",{onClick:()=>e("weekly"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[s.jsx(on,{size:16}),"Add Weekly Cost"]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(gi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),s.jsx("input",{type:"text",placeholder:"Search weekly costs...",value:n,onChange:k=>a(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm"})]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(kl,{className:"text-slate-400",size:16}),s.jsx("select",{value:i,onChange:k=>l(k.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",children:h.map(k=>s.jsx("option",{value:k,children:k==="all"?"All Categories":k},k))})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-3 cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",onClick:()=>y("name"),children:s.jsxs("div",{className:"flex items-center gap-1",children:["Cost Item",c.key==="name"&&s.jsx("span",{children:c.direction==="asc"?"↑":"↓"})]})}),s.jsx("th",{className:"p-3",children:"Category"}),s.jsx("th",{className:"p-3 text-right cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",onClick:()=>y("amount"),children:s.jsxs("div",{className:"flex items-center justify-end gap-1",children:["Weekly Amount",c.key==="amount"&&s.jsx("span",{children:c.direction==="asc"?"↑":"↓"})]})}),s.jsx("th",{className:"p-3 text-right",children:"Monthly Impact"}),s.jsx("th",{className:"p-3 text-right",children:"Annual Impact"}),s.jsx("th",{className:"p-3",children:"Notes"}),s.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),s.jsx("tbody",{className:"text-sm",children:p.length>0?p.map(k=>{const w=parseFloat(k.amount)||0,b=w*4.33,N=w*52;return s.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[s.jsx("td",{className:"p-3",children:s.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:k.name})}),s.jsx("td",{className:"p-3",children:s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200",children:k.category||"Other"})}),s.jsx("td",{className:"p-3 text-right",children:s.jsxs("span",{className:"font-mono font-bold text-red-600 dark:text-red-400",children:["$",w.toFixed(2)]})}),s.jsx("td",{className:"p-3 text-right",children:s.jsxs("span",{className:"font-mono text-orange-600 dark:text-orange-400",children:["$",b.toFixed(2)]})}),s.jsx("td",{className:"p-3 text-right",children:s.jsxs("span",{className:"font-mono text-purple-600 dark:text-purple-400",children:["$",N.toLocaleString()]})}),s.jsx("td",{className:"p-3 max-w-xs",children:s.jsx("span",{className:"text-slate-600 dark:text-slate-400 truncate",children:k.notes&&k.notes.length>50?`${k.notes.substring(0,50)}...`:k.notes||"—"})}),s.jsx("td",{className:"p-3 text-center",children:s.jsxs("div",{className:"flex items-center justify-center gap-1",children:[s.jsx("button",{onClick:()=>e("weekly",k),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 p-1 rounded transition-colors",title:"Edit cost",children:s.jsx(an,{size:16})}),s.jsx("button",{onClick:()=>r("weekly",k.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500 p-1 rounded transition-colors",title:"Delete cost",children:s.jsx(ir,{size:16})})]})})]},k.id)}):s.jsx("tr",{children:s.jsx("td",{colSpan:"7",className:"p-8 text-center text-slate-500 dark:text-slate-400",children:n||i!=="all"?s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx(gi,{size:24,className:"text-slate-400"}),s.jsx("span",{children:"No weekly costs match your search criteria"}),s.jsx("button",{onClick:()=>{a(""),l("all")},className:"text-cyan-600 hover:text-cyan-500 text-sm font-medium",children:"Clear filters"})]}):s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx(Hr,{size:24,className:"text-slate-400"}),s.jsx("span",{children:"No weekly costs added yet"}),s.jsx("button",{onClick:()=>e("weekly"),className:"text-cyan-600 hover:text-cyan-500 text-sm font-medium",children:"Add your first weekly cost"})]})})})})]})}),p.length>0&&s.jsx("div",{className:"mt-4 p-4 bg-slate-50 dark:bg-slate-700/50 rounded-lg border",children:s.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 text-sm",children:[s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("span",{className:"text-slate-600 dark:text-slate-400",children:["Showing ",p.length," of ",t.length," costs"]})}),s.jsxs("div",{className:"flex items-center gap-6 font-medium",children:[s.jsxs("span",{className:"text-red-600 dark:text-red-400",children:["Weekly: $",p.reduce((k,w)=>k+(parseFloat(w.amount)||0),0).toFixed(2)]}),s.jsxs("span",{className:"text-orange-600 dark:text-orange-400",children:["Monthly: $",(p.reduce((k,w)=>k+(parseFloat(w.amount)||0),0)*4.33).toFixed(2)]}),s.jsxs("span",{className:"text-purple-600 dark:text-purple-400",children:["Annual: $",(p.reduce((k,w)=>k+(parseFloat(w.amount)||0),0)*52).toLocaleString()]})]})]})})]}),m.highestCost>1e3&&s.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Uh,{className:"text-amber-600 dark:text-amber-400",size:20}),s.jsx("h4",{className:"font-semibold text-amber-800 dark:text-amber-200",children:"High Weekly Cost Alert"})]}),s.jsxs("p",{className:"text-amber-700 dark:text-amber-300 text-sm mt-2",children:["You have a weekly cost of $",m.highestCost.toLocaleString(),", which amounts to $",(m.highestCost*52).toLocaleString()," annually. Consider reviewing this expense for potential savings opportunities."]})]})]})},lle=[{min:1e4,max:1/0,rate:10},{min:8e3,max:9999,rate:8},{min:5e3,max:7999,rate:5},{min:3500,max:4999,rate:3},{min:0,max:3499,rate:1.5}],cle=[{min:1e4,max:1/0,bonus:10},{min:8e3,max:9999,bonus:8},{min:5e3,max:7999,bonus:5},{min:3500,max:4999,bonus:2},{min:0,max:3499,bonus:0}],ule=({userId:t,db:e,appId:r})=>{const[n,a]=B.useState(lle),[i,l]=B.useState(0),[c,d]=B.useState(cle),[h,p]=B.useState(0),[m,y]=B.useState(0),[x,k]=B.useState([]),[w,b]=B.useState("employees"),[N,E]=B.useState(!1),[P,R]=B.useState(null),[j,C]=B.useState(""),[A,I]=B.useState("all"),[L,O]=B.useState("all"),[D,F]=B.useState({name:"",position:"",email:"",phone:"",baseSalary:"",payType:"salary",hourlyRate:"",incentiveType:"none",status:"active",hireDate:new Date().toISOString().split("T")[0],department:"Operations",notes:""});B.useEffect(()=>{if(!t||!e||!r){console.log("Missing Firebase props:",{userId:t,db:e,appId:r});return}console.log("Setting up Firebase listener for employees...");const z=In(e,"artifacts",r,"users",t,"employees"),me=zi(z,xe=>{const q=xe.docs.map(ue=>({id:ue.id,...ue.data()}));console.log("Employees loaded from Firebase:",q),k(q)},xe=>{console.error("Error fetching employees:",xe)});return()=>me()},[t,e,r]);const $=B.useMemo(()=>x.filter(z=>{const me=z.name.toLowerCase().includes(j.toLowerCase())||z.position.toLowerCase().includes(j.toLowerCase())||z.email.toLowerCase().includes(j.toLowerCase()),xe=A==="all"||z.status===A,q=L==="all"||z.department===L;return me&&xe&&q}),[x,j,A,L]),ae=B.useMemo(()=>{const z=x.filter(ue=>ue.status==="active");let me=0,xe=0,q=0;return z.forEach(ue=>{if(ue.payType==="salary"?me+=(ue.baseSalary||0)/12:(me+=(ue.hourlyRate||0)*(ue.hoursWorked||0),q+=ue.hoursWorked||0),ue.incentiveType==="percent"){const _e=n.find(Ie=>ue.salesAmount>=Ie.min&&ue.salesAmount<=Ie.max);_e&&(xe+=ue.salesAmount*(_e.rate/100))}else if(ue.incentiveType==="hourly"){const _e=c.find(Ie=>ue.salesAmount>=Ie.min&&ue.salesAmount<=Ie.max);_e&&(xe+=(ue.hoursWorked||0)*_e.bonus)}}),{activeEmployeeCount:z.length,totalEmployeeCount:x.length,totalBasePay:me,totalIncentives:xe,totalPayroll:me+xe,averagePay:z.length>0?(me+xe)/z.length:0,totalHours:q}},[x,n,c]),ee=B.useMemo(()=>["all",...[...new Set(x.map(me=>me.department))]],[x]),G=B.useMemo(()=>{const z=n.find(me=>i>=me.min&&i<=me.max);return z?i*(z.rate/100):0},[i,n]),ne=B.useMemo(()=>{const z=c.find(me=>h>=me.min&&h<=me.max);return!z||!m?0:m*z.bonus},[h,m,c]),Q=(z,me,xe)=>{const q=[...n];q[z][me]=parseFloat(xe)||0,a(q)},Z=(z,me,xe)=>{const q=[...c];q[z][me]=parseFloat(xe)||0,d(q)},re=(z,me)=>{F(xe=>({...xe,[z]:me}))},W=async()=>{if(console.log("Adding employee:",D),!D.name.trim()){alert("Please enter employee name");return}if(!t||!e||!r){alert("Please ensure you're logged in.");return}try{const z=In(e,"artifacts",r,"users",t,"employees");await om(z,{...D,baseSalary:parseFloat(D.baseSalary)||0,hourlyRate:parseFloat(D.hourlyRate)||0,hoursWorked:0,salesAmount:0,createdAt:Hs()}),console.log("Employee saved to Firebase successfully!"),F({name:"",position:"",email:"",phone:"",baseSalary:"",payType:"salary",hourlyRate:"",incentiveType:"none",status:"active",hireDate:new Date().toISOString().split("T")[0],department:"Operations",notes:""}),E(!1)}catch(z){console.error("Error adding employee:",z),alert("Failed to add employee: "+z.message)}},J=z=>{F(z),R(z.id),E(!0)},X=async()=>{if(!(!t||!e||!P))try{const z=Nt(e,"artifacts",r,"users",t,"employees",P);await qi(z,{...D,baseSalary:parseFloat(D.baseSalary)||0,hourlyRate:parseFloat(D.hourlyRate)||0,modifiedAt:Hs()}),R(null),E(!1),F({name:"",position:"",email:"",phone:"",baseSalary:"",payType:"salary",hourlyRate:"",incentiveType:"none",status:"active",hireDate:new Date().toISOString().split("T")[0],department:"Operations",notes:""})}catch(z){console.error("Error updating employee:",z),alert("Failed to update employee: "+z.message)}},le=async z=>{if(!(!t||!e)&&window.confirm("Are you sure you want to delete this employee?"))try{const me=Nt(e,"artifacts",r,"users",t,"employees",z);await v4(me),console.log("Employee deleted from Firebase")}catch(me){console.error("Error deleting employee:",me),alert("Failed to delete employee: "+me.message)}},ge=async(z,me,xe)=>{if(!(!t||!e))try{const q=Nt(e,"artifacts",r,"users",t,"employees",z);await qi(q,{[me]:parseFloat(xe)||0,modifiedAt:Hs()})}catch(q){console.error("Error updating employee data:",q)}},he=z=>{if(z.incentiveType==="percent"){const me=n.find(xe=>z.salesAmount>=xe.min&&z.salesAmount<=xe.max);return me?z.salesAmount*(me.rate/100):0}else if(z.incentiveType==="hourly"){const me=c.find(xe=>z.salesAmount>=xe.min&&z.salesAmount<=xe.max);return me?(z.hoursWorked||0)*me.bonus:0}return 0},de=z=>z.payType==="salary"?(z.baseSalary||0)/12:(z.hourlyRate||0)*(z.hoursWorked||0),be=z=>{switch(z){case"active":return"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200";case"inactive":return"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-200";case"terminated":return"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-200";default:return"bg-gray-100 dark:bg-gray-900/30 text-gray-800 dark:text-gray-200"}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Payroll Management System"}),s.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Manage employees, calculate payroll, and track incentives"})]})}),s.jsxs("div",{className:"flex space-x-1 bg-slate-100 dark:bg-slate-700 p-1 rounded-lg",children:[s.jsxs("button",{onClick:()=>b("employees"),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${w==="employees"?"bg-white dark:bg-slate-600 text-slate-900 dark:text-white shadow":"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white"}`,children:[s.jsx(Ua,{size:16}),"Employees"]}),s.jsxs("button",{onClick:()=>b("payroll"),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${w==="payroll"?"bg-white dark:bg-slate-600 text-slate-900 dark:text-white shadow":"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white"}`,children:[s.jsx(kc,{size:16}),"Payroll"]}),s.jsxs("button",{onClick:()=>b("incentives"),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors ${w==="incentives"?"bg-white dark:bg-slate-600 text-slate-900 dark:text-white shadow":"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white"}`,children:[s.jsx(ka,{size:16}),"Incentive Calculator"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Active Employees"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:ae.activeEmployeeCount})]}),s.jsx(Ua,{className:"text-blue-600 dark:text-blue-400",size:24})]}),s.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["of ",ae.totalEmployeeCount," total"]})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Monthly Base Pay"}),s.jsxs("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:["$",ae.totalBasePay.toLocaleString()]})]}),s.jsx(Hr,{className:"text-green-600 dark:text-green-400",size:24})]}),s.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:["Avg: $",ae.averagePay.toLocaleString()]})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Incentives"}),s.jsxs("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:["$",ae.totalIncentives.toLocaleString()]})]}),s.jsx(ka,{className:"text-purple-600 dark:text-purple-400",size:24})]}),s.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Current period"})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 font-medium",children:"Total Payroll"}),s.jsxs("p",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:["$",ae.totalPayroll.toLocaleString()]})]}),s.jsx(kc,{className:"text-orange-600 dark:text-orange-400",size:24})]}),s.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Base + incentives"})]})]}),w==="employees"&&s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[s.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Employee Management"}),s.jsxs("button",{onClick:()=>{console.log("Add Employee button clicked"),E(!0)},className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(Ud,{size:16}),"Add Employee"]})]}),x.length===0?s.jsxs("div",{className:"text-center py-12 text-slate-500 dark:text-slate-400",children:[s.jsx(Ua,{size:48,className:"mx-auto mb-4 opacity-50"}),s.jsx("h4",{className:"text-lg font-semibold mb-2",children:"No employees yet"}),s.jsx("p",{className:"mb-4",children:"Add your first employee to get started with payroll management."}),s.jsx("button",{onClick:()=>{console.log("Add First Employee button clicked"),E(!0)},className:"bg-blue-600 hover:bg-blue-500 text-white px-6 py-2 rounded-lg transition-colors",children:"Add First Employee"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(gi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),s.jsx("input",{type:"text",placeholder:"Search employees...",value:j,onChange:z=>C(z.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm"})]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(kl,{className:"text-slate-400",size:16}),s.jsxs("select",{value:A,onChange:z=>I(z.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"inactive",children:"Inactive"}),s.jsx("option",{value:"terminated",children:"Terminated"})]}),s.jsx("select",{value:L,onChange:z=>O(z.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",children:ee.map(z=>s.jsx("option",{value:z,children:z==="all"?"All Departments":z},z))})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-3",children:"Employee"}),s.jsx("th",{className:"p-3",children:"Department"}),s.jsx("th",{className:"p-3",children:"Pay Type"}),s.jsx("th",{className:"p-3",children:"Base Pay"}),s.jsx("th",{className:"p-3",children:"Incentive Type"}),s.jsx("th",{className:"p-3",children:"Status"}),s.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),s.jsx("tbody",{className:"text-sm",children:$.map(z=>s.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[s.jsx("td",{className:"p-3",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-slate-900 dark:text-white",children:z.name}),s.jsx("div",{className:"text-slate-500 dark:text-slate-400",children:z.position}),s.jsx("div",{className:"text-xs text-slate-400",children:z.email})]})}),s.jsx("td",{className:"p-3",children:s.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200",children:z.department})}),s.jsxs("td",{className:"p-3",children:[s.jsx("span",{className:"capitalize",children:z.payType}),s.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:z.payType==="salary"?`$${z.baseSalary.toLocaleString()}/year`:`$${z.hourlyRate}/hour`})]}),s.jsx("td",{className:"p-3",children:s.jsxs("span",{className:"font-mono text-green-600 dark:text-green-400",children:["$",de(z).toLocaleString()]})}),s.jsx("td",{className:"p-3",children:s.jsx("span",{className:"capitalize",children:z.incentiveType})}),s.jsx("td",{className:"p-3",children:s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${be(z.status)}`,children:z.status})}),s.jsx("td",{className:"p-3 text-center",children:s.jsxs("div",{className:"flex items-center justify-center gap-1",children:[s.jsx("button",{onClick:()=>J(z),className:"text-slate-500 dark:text-slate-400 hover:text-blue-500 p-1 rounded transition-colors",title:"Edit employee",children:s.jsx(an,{size:16})}),s.jsx("button",{onClick:()=>le(z.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500 p-1 rounded transition-colors",title:"Delete employee",children:s.jsx(ir,{size:16})})]})})]},z.id))})]})})]}),N&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[s.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:s.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:P?"Edit Employee":"Add New Employee"})}),s.jsx("div",{className:"p-6 overflow-y-auto max-h-[70vh]",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Full Name *"}),s.jsx("input",{type:"text",value:D.name,onChange:z=>re("name",z.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Position *"}),s.jsx("input",{type:"text",value:D.position,onChange:z=>re("position",z.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Email"}),s.jsx("input",{type:"email",value:D.email,onChange:z=>re("email",z.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Phone"}),s.jsx("input",{type:"tel",value:D.phone,onChange:z=>re("phone",z.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Department"}),s.jsxs("select",{value:D.department,onChange:z=>re("department",z.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[s.jsx("option",{value:"Operations",children:"Operations"}),s.jsx("option",{value:"Sales",children:"Sales"}),s.jsx("option",{value:"Administration",children:"Administration"}),s.jsx("option",{value:"Management",children:"Management"}),s.jsx("option",{value:"Other",children:"Other"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Pay Type"}),s.jsxs("select",{value:D.payType,onChange:z=>re("payType",z.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[s.jsx("option",{value:"salary",children:"Salary"}),s.jsx("option",{value:"hourly",children:"Hourly"})]})]}),D.payType==="salary"?s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Annual Salary"}),s.jsx("input",{type:"number",value:D.baseSalary,onChange:z=>re("baseSalary",z.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}):s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Hourly Rate"}),s.jsx("input",{type:"number",step:"0.01",value:D.hourlyRate,onChange:z=>re("hourlyRate",z.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Incentive Type"}),s.jsxs("select",{value:D.incentiveType,onChange:z=>re("incentiveType",z.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[s.jsx("option",{value:"none",children:"None"}),s.jsx("option",{value:"percent",children:"Percentage"}),s.jsx("option",{value:"hourly",children:"Hourly Bonus"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Status"}),s.jsxs("select",{value:D.status,onChange:z=>re("status",z.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"inactive",children:"Inactive"}),s.jsx("option",{value:"terminated",children:"Terminated"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Hire Date"}),s.jsx("input",{type:"date",value:D.hireDate,onChange:z=>re("hireDate",z.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Notes"}),s.jsx("textarea",{value:D.notes,onChange:z=>re("notes",z.target.value),rows:"3",className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",placeholder:"Additional notes about the employee..."})]})]})}),s.jsxs("div",{className:"p-6 border-t border-slate-200 dark:border-slate-700 flex justify-end gap-3",children:[s.jsx("button",{onClick:()=>{E(!1),R(null),F({name:"",position:"",email:"",phone:"",baseSalary:"",payType:"salary",hourlyRate:"",incentiveType:"none",status:"active",hireDate:new Date().toISOString().split("T")[0],department:"Operations",notes:""})},className:"px-4 py-2 text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200",children:"Cancel"}),s.jsx("button",{onClick:()=>{console.log("Form submit button clicked"),P?X():W()},className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded transition-colors",children:P?"Update Employee":"Add Employee"})]})]})})]}),w==="payroll"&&s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-6",children:"Payroll Calculator"}),x.filter(z=>z.status==="active").length===0?s.jsxs("div",{className:"text-center py-12 text-slate-500 dark:text-slate-400",children:[s.jsx(kc,{size:48,className:"mx-auto mb-4 opacity-50"}),s.jsx("h4",{className:"text-lg font-semibold mb-2",children:"No active employees"}),s.jsx("p",{className:"mb-4",children:"Add some employees to start calculating payroll."})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-3",children:"Employee"}),s.jsx("th",{className:"p-3",children:"Hours"}),s.jsx("th",{className:"p-3",children:"Sales"}),s.jsx("th",{className:"p-3",children:"Base Pay"}),s.jsx("th",{className:"p-3",children:"Incentive"}),s.jsx("th",{className:"p-3",children:"Total Pay"})]})}),s.jsx("tbody",{className:"text-sm",children:x.filter(z=>z.status==="active").map(z=>{const me=de(z),xe=he(z),q=me+xe;return s.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50",children:[s.jsxs("td",{className:"p-3",children:[s.jsx("div",{className:"font-medium text-slate-900 dark:text-white",children:z.name}),s.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:z.position})]}),s.jsx("td",{className:"p-3",children:z.payType==="hourly"?s.jsx("input",{type:"number",value:z.hoursWorked||"",onChange:ue=>ge(z.id,"hoursWorked",ue.target.value),className:"w-20 px-2 py-1 border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",placeholder:"0"}):s.jsx("span",{className:"text-slate-400",children:"—"})}),s.jsx("td",{className:"p-3",children:z.incentiveType!=="none"?s.jsx("input",{type:"number",value:z.salesAmount||"",onChange:ue=>ge(z.id,"salesAmount",ue.target.value),className:"w-24 px-2 py-1 border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",placeholder:"0"}):s.jsx("span",{className:"text-slate-400",children:"—"})}),s.jsx("td",{className:"p-3",children:s.jsxs("span",{className:"font-mono text-green-600 dark:text-green-400",children:["$",me.toFixed(2)]})}),s.jsx("td",{className:"p-3",children:s.jsxs("span",{className:"font-mono text-purple-600 dark:text-purple-400",children:["$",xe.toFixed(2)]})}),s.jsx("td",{className:"p-3",children:s.jsxs("span",{className:"font-mono font-bold text-blue-600 dark:text-blue-400",children:["$",q.toFixed(2)]})})]},z.id)})})]})})]}),w==="incentives"&&s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Percent Incentive Calculator"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Bonus Brackets"}),s.jsxs("table",{className:"w-full text-sm text-left",children:[s.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-2",children:"Sales Bracket"}),s.jsx("th",{className:"p-2",children:"% Scale"})]})}),s.jsx("tbody",{children:n.map((z,me)=>s.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700",children:[s.jsxs("td",{className:"p-2 font-mono bg-blue-100 dark:bg-blue-900/50",children:["$",z.min.toLocaleString(),z.max===1/0?"+":` - $${z.max.toLocaleString()}`]}),s.jsxs("td",{className:"p-2 bg-blue-100 dark:bg-blue-900/50",children:[s.jsx("input",{type:"number",value:z.rate,onChange:xe=>Q(me,"rate",xe.target.value),className:"w-20 bg-transparent text-right font-mono"})," %"]})]},me))})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Bonus Calculation"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Actual Sales"}),s.jsxs("div",{className:"relative",children:[s.jsx(Hr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),s.jsx("input",{type:"number",value:i,onChange:z=>l(parseFloat(z.target.value)||0),className:"w-full bg-yellow-100 dark:bg-yellow-800/50 pl-10 p-2 rounded-md"})]})]}),s.jsxs("div",{className:"bg-slate-100 dark:bg-slate-700/50 p-4 rounded-lg text-center",children:[s.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Estimated Bonus"}),s.jsxs("p",{className:"text-3xl font-bold text-green-500",children:["$",G.toFixed(2)]})]})]})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Hourly Incentive Calculator"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Bonus Brackets"}),s.jsxs("table",{className:"w-full text-sm text-left",children:[s.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-2",children:"Sales Bracket"}),s.jsx("th",{className:"p-2",children:"Bonus per Hour"})]})}),s.jsx("tbody",{children:c.map((z,me)=>s.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700",children:[s.jsxs("td",{className:"p-2 font-mono bg-blue-100 dark:bg-blue-900/50",children:["$",z.min.toLocaleString(),z.max===1/0?"+":` - $${z.max.toLocaleString()}`]}),s.jsxs("td",{className:"p-2 bg-blue-100 dark:bg-blue-900/50",children:["$ ",s.jsx("input",{type:"number",value:z.bonus,onChange:xe=>Z(me,"bonus",xe.target.value),className:"w-20 bg-transparent text-right font-mono"})]})]},me))})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Bonus Calculation"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Actual Sales"}),s.jsxs("div",{className:"relative",children:[s.jsx(Hr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),s.jsx("input",{type:"number",value:h,onChange:z=>p(parseFloat(z.target.value)||0),className:"w-full bg-yellow-100 dark:bg-yellow-800/50 pl-10 p-2 rounded-md"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Hours Worked"}),s.jsx("input",{type:"number",value:m,onChange:z=>y(parseFloat(z.target.value)||0),className:"w-full bg-yellow-100 dark:bg-yellow-800/50 p-2 rounded-md"})]}),s.jsxs("div",{className:"bg-slate-100 dark:bg-slate-700/50 p-4 rounded-lg text-center",children:[s.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Estimated Bonus"}),s.jsxs("p",{className:"text-3xl font-bold text-green-500",children:["$",ne.toFixed(2)]})]})]})]})]})]})]})]})},dle=({bills:t,paidStatus:e,selectedCategory:r,setSelectedCategory:n,handleTogglePaid:a,handleSort:i,openModal:l,handleDelete:c,handleEnhancedExportCSV:d})=>{const[h,p]=B.useState(""),[m,y]=B.useState("dueDay"),[x,k]=B.useState("asc"),[w,b]=B.useState("all"),[N,E]=B.useState("all"),[P,R]=B.useState("all"),[j,C]=B.useState(!1),A=new Date,I=new Date(A.getFullYear(),A.getMonth(),A.getDate()-A.getDay()),L=new Date(I.getTime()+6*24*60*60*1e3),O=new Date(L.getTime()+1*24*60*60*1e3),D=new Date(O.getTime()+6*24*60*60*1e3),F=new Date(A.getFullYear(),A.getMonth(),1),$=new Date(A.getFullYear(),A.getMonth()+1,0),ae=B.useMemo(()=>{let Z=t.filter(re=>{if(r&&re.category!==r||h&&!re.name.toLowerCase().includes(h.toLowerCase())||w==="paid"&&!e[re.id]||w==="unpaid"&&e[re.id]||P==="under100"&&re.amount>=100||P==="100to500"&&(re.amount<100||re.amount>500)||P==="over500"&&re.amount<=500)return!1;if(N!=="all"&&re.dueDay){const W=new Date(A.getFullYear(),A.getMonth(),re.dueDay);switch(W<A&&W.setMonth(W.getMonth()+1),N){case"overdue":if(W>=A)return!1;break;case"thisWeek":if(W<I||W>L)return!1;break;case"nextWeek":if(W<O||W>D)return!1;break;case"thisMonth":if(W<F||W>$)return!1;break}}return!0});return Z.sort((re,W)=>{let J=re[m],X=W[m];m==="status"&&(J=e[re.id]?"paid":"unpaid",X=e[W.id]?"paid":"unpaid"),typeof J=="string"&&(J=J.toLowerCase(),X=X.toLowerCase());let le=0;return J<X&&(le=-1),J>X&&(le=1),x==="desc"?-le:le}),Z},[t,r,h,w,N,P,m,x,e,A]),ee=Z=>{m===Z?k(x==="asc"?"desc":"asc"):(y(Z),k("asc"))},G=()=>{p(""),y("dueDay"),k("asc"),b("all"),E("all"),R("all"),n(null)},ne=B.useMemo(()=>{let Z=0;return h&&Z++,r&&Z++,w!=="all"&&Z++,N!=="all"&&Z++,P!=="all"&&Z++,Z},[h,r,w,N,P]),Q=({type:Z,label:re})=>{const W=K.useRef(null);return s.jsxs("div",{className:"inline-block",children:[s.jsx("input",{ref:W,type:"file",accept:".csv",onChange:J=>{J.target.files[0]&&(window.handleEnhancedCSVImport?.(J.target.files[0],Z),J.target.value="")},style:{display:"none"}}),s.jsxs("button",{onClick:()=>W.current?.click(),className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[s.jsx(uo,{size:16}),re]})]})};return s.jsxs("div",{className:"lg:col-span-3 bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Monthly Bills"}),r&&s.jsxs("button",{onClick:()=>n(null),className:"text-sm text-cyan-500 dark:text-cyan-400 hover:underline",children:["Clear Filter: ",r]}),ne>0&&s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200",children:[ne," filter",ne!==1?"s":""," active"]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(Q,{type:"bill",label:"Import"}),s.jsxs("button",{onClick:()=>d(ae,"bills"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[s.jsx(Dn,{size:16})," Export"]})]})]}),s.jsxs("div",{className:"space-y-4 mb-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(gi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),s.jsx("input",{type:"text",placeholder:"Search bills by name...",value:h,onChange:Z=>p(Z.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm focus:ring-2 focus:ring-cyan-500 focus:border-transparent"}),h&&s.jsx("button",{onClick:()=>p(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600",children:s.jsx(ho,{size:16})})]}),s.jsxs("button",{onClick:()=>C(!j),className:`flex items-center gap-2 px-4 py-2 rounded-md border transition-colors ${j?"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-700 text-blue-700 dark:text-blue-300":"border-slate-300 dark:border-slate-600 text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[s.jsx(kl,{size:16}),"Filters",s.jsx(Bd,{className:`transition-transform ${j?"rotate-180":""}`,size:16})]}),ne>0&&s.jsx("button",{onClick:G,className:"px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-md transition-colors",children:"Clear All"})]}),j&&s.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-4 rounded-lg border border-slate-200 dark:border-slate-600",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Sort By"}),s.jsxs("select",{value:`${m}-${x}`,onChange:Z=>{const[re,W]=Z.target.value.split("-");y(re),k(W)},className:"w-full px-3 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[s.jsx("option",{value:"name-asc",children:"Name (A-Z)"}),s.jsx("option",{value:"name-desc",children:"Name (Z-A)"}),s.jsx("option",{value:"dueDay-asc",children:"Due Date (Early)"}),s.jsx("option",{value:"dueDay-desc",children:"Due Date (Late)"}),s.jsx("option",{value:"amount-asc",children:"Amount (Low-High)"}),s.jsx("option",{value:"amount-desc",children:"Amount (High-Low)"}),s.jsx("option",{value:"status-asc",children:"Status (Unpaid First)"}),s.jsx("option",{value:"status-desc",children:"Status (Paid First)"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Payment Status"}),s.jsxs("select",{value:w,onChange:Z=>b(Z.target.value),className:"w-full px-3 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[s.jsx("option",{value:"all",children:"All Bills"}),s.jsx("option",{value:"unpaid",children:"Unpaid Only"}),s.jsx("option",{value:"paid",children:"Paid Only"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Due Date"}),s.jsxs("select",{value:N,onChange:Z=>E(Z.target.value),className:"w-full px-3 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[s.jsx("option",{value:"all",children:"All Dates"}),s.jsx("option",{value:"overdue",children:"Overdue"}),s.jsx("option",{value:"thisWeek",children:"This Week"}),s.jsx("option",{value:"nextWeek",children:"Next Week"}),s.jsx("option",{value:"thisMonth",children:"This Month"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Amount Range"}),s.jsxs("select",{value:P,onChange:Z=>R(Z.target.value),className:"w-full px-3 py-2 text-sm border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white",children:[s.jsx("option",{value:"all",children:"All Amounts"}),s.jsx("option",{value:"under100",children:"Under $100"}),s.jsx("option",{value:"100to500",children:"$100 - $500"}),s.jsx("option",{value:"over500",children:"Over $500"})]})]})]}),s.jsx("div",{className:"mt-3 pt-3 border-t border-slate-200 dark:border-slate-600",children:s.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Showing ",ae.length," of ",t.length," bills",ne>0&&` with ${ne} filter${ne!==1?"s":""} applied`]})})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-3",children:s.jsxs("button",{onClick:()=>ee("status"),className:"flex items-center gap-1 hover:text-slate-700 dark:hover:text-slate-300",children:["Status",m==="status"&&(x==="asc"?s.jsx(Qo,{size:14}):s.jsx(Xo,{size:14}))]})}),s.jsx("th",{className:"p-3",children:s.jsxs("button",{onClick:()=>ee("name"),className:"flex items-center gap-1 hover:text-slate-700 dark:hover:text-slate-300",children:["Name",m==="name"&&(x==="asc"?s.jsx(Qo,{size:14}):s.jsx(Xo,{size:14}))]})}),s.jsx("th",{className:"p-3",children:"Notes"}),s.jsx("th",{className:"p-3",children:"Receipt"}),s.jsx("th",{className:"p-3 text-right",children:s.jsxs("button",{onClick:()=>ee("amount"),className:"flex items-center gap-1 ml-auto hover:text-slate-700 dark:hover:text-slate-300",children:["Amount",m==="amount"&&(x==="asc"?s.jsx(Qo,{size:14}):s.jsx(Xo,{size:14}))]})}),s.jsx("th",{className:"p-3 text-center",children:s.jsxs("button",{onClick:()=>ee("dueDay"),className:"flex items-center gap-1 mx-auto hover:text-slate-700 dark:hover:text-slate-300",children:["Due Day",m==="dueDay"&&(x==="asc"?s.jsx(Qo,{size:14}):s.jsx(Xo,{size:14}))]})}),s.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),s.jsx("tbody",{children:ae.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:"7",className:"p-8 text-center text-slate-500 dark:text-slate-400",children:t.length===0?s.jsxs("div",{children:[s.jsx("p",{className:"text-lg font-medium mb-2",children:"No bills added yet"}),s.jsx("p",{className:"text-sm",children:'Click "Add New Bill" to get started'})]}):s.jsxs("div",{children:[s.jsx("p",{className:"text-lg font-medium mb-2",children:"No bills match your filters"}),s.jsx("p",{className:"text-sm",children:"Try adjusting your search or filter criteria"})]})})}):ae.map(Z=>s.jsxs("tr",{className:`border-b border-slate-200 dark:border-slate-700/50 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors ${e[Z.id]?"text-slate-400 dark:text-slate-500":"text-slate-700 dark:text-slate-200"}`,children:[s.jsx("td",{className:"p-3",children:s.jsx("button",{onClick:()=>a(Z.id),className:"hover:scale-110 transition-transform",children:e[Z.id]?s.jsx(Ba,{className:"text-green-500",size:20}):s.jsx($4,{className:"text-slate-400 dark:text-slate-600",size:20})})}),s.jsxs("td",{className:`p-3 font-medium ${e[Z.id]?"line-through":""}`,children:[Z.name,Z.category&&s.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:Z.category})]}),s.jsx("td",{className:"p-3 text-center",children:Z.notes&&s.jsxs("div",{className:"group relative flex justify-center",children:[s.jsx(V4,{size:16,className:"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}),s.jsx("span",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 text-xs text-white bg-slate-700 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:Z.notes})]})}),s.jsx("td",{className:"p-3 text-center",children:Z.attachmentURL?s.jsx("a",{href:Z.attachmentURL,target:"_blank",rel:"noopener noreferrer",className:"hover:scale-110 transition-transform inline-block",children:s.jsx(eA,{size:16,className:"text-cyan-500 dark:text-cyan-400"})}):s.jsx(eA,{size:16,className:"text-slate-400 dark:text-slate-600"})}),s.jsxs("td",{className:"p-3 text-right font-mono font-semibold",children:["$",(Z.amount||0).toFixed(2)]}),s.jsx("td",{className:"p-3 text-center font-medium",children:Z.dueDay}),s.jsx("td",{className:"p-3 text-center",children:s.jsxs("div",{className:"flex items-center justify-center gap-1",children:[s.jsx("button",{onClick:()=>l("bill",Z),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 p-1 rounded transition-colors",title:"Edit bill",children:s.jsx(an,{size:16})}),s.jsx("button",{onClick:()=>c("bill",Z.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500 p-1 rounded transition-colors",title:"Delete bill",children:s.jsx(ir,{size:16})})]})})]},Z.id))})]})}),s.jsxs("button",{onClick:()=>l("bill"),className:"mt-4 flex items-center gap-2 text-cyan-600 dark:text-cyan-400 hover:text-cyan-500 dark:hover:text-cyan-300 font-semibold transition-colors",children:[s.jsx(on,{size:18}),"Add New Bill"]})]})},zp=({type:t,label:e,acceptTypes:r=".csv"})=>{const n=K.useRef(null);return s.jsxs("div",{className:"inline-block",children:[s.jsx("input",{ref:n,type:"file",accept:r,onChange:a=>{a.target.files[0]&&(window.handleEnhancedCSVImport?.(a.target.files[0],t),a.target.value="")},style:{display:"none"}}),s.jsxs("button",{onClick:()=>n.current?.click(),className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[s.jsx(uo,{size:16}),e]})]})},hle=({recurringWork:t,openModal:e,handleDelete:r,handleEnhancedExportCSV:n,searchTerm:a,setSearchTerm:i})=>{const l=K.useMemo(()=>t.filter(c=>Object.values(c).some(d=>String(d).toLowerCase().includes(a.toLowerCase()))),[t,a]);return s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Recurring Work Management"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(zp,{type:"recurring",label:"Import"}),s.jsxs("button",{onClick:()=>n(t,"recurring_work",["name","clientId","revenue","frequency","nextDueDate","notes"]),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[s.jsx(Dn,{size:16}),"Export"]}),s.jsxs("button",{onClick:()=>e("recurring"),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(on,{size:18}),"Add Recurring Work"]})]})]}),s.jsx("div",{className:"mb-4",children:s.jsx("input",{type:"text",placeholder:"Search recurring work...",value:a,onChange:c=>i(c.target.value),className:"w-full px-4 py-2 border rounded-md bg-white dark:bg-slate-700 border-slate-300 dark:border-slate-600 focus:ring-cyan-500 focus:border-cyan-500"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-3",children:"Work Name"}),s.jsx("th",{className:"p-3",children:"Client ID"}),s.jsx("th",{className:"p-3 text-right",children:"Revenue"}),s.jsx("th",{className:"p-3",children:"Frequency"}),s.jsx("th",{className:"p-3",children:"Next Due Date"}),s.jsx("th",{className:"p-3",children:"Notes"}),s.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),s.jsx("tbody",{children:l.length>0?l.map(c=>s.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700/50",children:[s.jsx("td",{className:"p-3 font-medium",children:c.name}),s.jsx("td",{className:"p-3",children:c.clientId}),s.jsxs("td",{className:"p-3 text-right font-mono",children:["$",(c.revenue||0).toFixed(2)]}),s.jsx("td",{className:"p-3",children:c.frequency}),s.jsx("td",{className:"p-3",children:c.nextDueDate}),s.jsx("td",{className:"p-3 text-sm text-slate-500",children:c.notes}),s.jsxs("td",{className:"p-3 text-center",children:[s.jsx("button",{onClick:()=>e("recurring",c),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:s.jsx(an,{size:16})}),s.jsx("button",{onClick:()=>r("recurring",c.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:s.jsx(ir,{size:16})})]})]},c.id)):s.jsx("tr",{children:s.jsx("td",{colSpan:"7",className:"p-6 text-center text-slate-500",children:"No recurring work found."})})})]})})]})},fle={apiKey:"AIzaSyAlev0GFpv3rzRYCJaMALOqlPwaowNfynI",authDomain:"hvac-finance-dashboard.firebaseapp.com",projectId:"hvac-finance-dashboard",storageBucket:"hvac-finance-dashboard.firebasestorage.app",messagingSenderId:"917610618621",appId:"1:917610618621:web:83c621d154c5f62c9be894"},Pn="hvac-finance-dashboard",mN=nk(fle),QR=pk(mN),Br=r4(mN),ple=kq(mN),mle=()=>{const[t,e]=B.useState(null),[r,n]=B.useState(!0),[a,i]=B.useState([]),[l,c]=B.useState([]),[d,h]=B.useState([]),[p,m]=B.useState([]),[y,x]=B.useState([]),[k,w]=B.useState([]),[b,N]=B.useState([]),[E,P]=B.useState([]),[R,j]=B.useState([]),[C,A]=B.useState([]),[I,L]=B.useState([]),[O,D]=B.useState([]),[F,$]=B.useState([]),[ae,ee]=B.useState([]),[G,ne]=B.useState({}),[Q,Z]=B.useState(!1),[re,W]=B.useState(null),[J,X]=B.useState("bill"),[le,ge]=B.useState({key:"dueDay",direction:"ascending"}),[he,de]=B.useState("dashboard"),[be,z]=B.useState(null),[me,xe]=B.useState(0),[q,ue]=B.useState({start:new Date,end:new Date}),[_e,Ie]=B.useState("monthly"),[Ue,tr]=B.useState(!0),[yr,ln]=B.useState("dark"),[Dt,Mt]=B.useState(""),[Mr,cn]=B.useState([]),[dr,Ln]=B.useState({show:!1,data:[],headers:[],type:"",fileName:""}),[Gt,Kt]=B.useState({}),$n=(fe,ye)=>{if(!fe||!t)return alert("Please select a file and ensure you're logged in.");const Ve=new FileReader;Ve.onload=Ce=>{try{const Tt=Ce.target.result.split(`
`).filter(Et=>Et.trim());if(Tt.length<2)return alert("CSV file must have at least a header row and one data row.");const it=Et=>{const At=[];let rr="",Fn=!1;for(let ia=0;ia<Et.length;ia++){const Xt=Et[ia];Xt==='"'?Fn=!Fn:Xt===","&&!Fn?(At.push(rr.trim()),rr=""):rr+=Xt}return At.push(rr.trim()),At},dt=it(Tt[0]).map(Et=>Et.replace(/"/g,"").trim()),qt=Tt.slice(1,6).map(Et=>{const At=it(Et);return dt.reduce((rr,Fn,ia)=>{let Xt=At[ia]||"";return Xt=Xt.replace(/"/g,"").trim(),rr[Fn]=Xt&&!isNaN(Xt)&&Xt!==""?parseFloat(Xt):Xt,rr},{})}),rt=Tt.slice(1).map(Et=>{const At=it(Et);return dt.reduce((rr,Fn,ia)=>{let Xt=At[ia]||"";return Xt=Xt.replace(/"/g,"").trim(),rr[Fn]=Xt&&!isNaN(Xt)&&Xt!==""?parseFloat(Xt):Xt,rr},{})});Ln({show:!0,data:qt,headers:dt,type:ye,fileName:fe.name,fullData:rt}),Ga(ye,dt)}catch(He){console.error("Error parsing CSV:",He),alert("Error parsing CSV file.")}},Ve.readAsText(fe)};B.useEffect(()=>(window.handleEnhancedCSVImport=$n,()=>{delete window.handleEnhancedCSVImport}),[t]);const gt=(fe,ye)=>{for(const Ve of ye){const Ce=fe.find(He=>He.toLowerCase().includes(Ve.toLowerCase()));if(Ce)return Ce}return fe[0]||""},Ga=(fe,ye)=>{const Ve={job:{name:gt(ye,["name","job name","title","description"]),revenue:gt(ye,["revenue","amount","total","price"]),materialCost:gt(ye,["material cost","materials"]),laborCost:gt(ye,["labor cost","labor"]),date:gt(ye,["date","completed"]),notes:gt(ye,["notes","comments"]),clientId:gt(ye,["client","customer id"])},client:{name:gt(ye,["name","customer name","company"]),address:gt(ye,["address","location"]),phone:gt(ye,["phone","contact"]),email:gt(ye,["email"])},invoice:{billTo:gt(ye,["bill to","customer","client"]),customer:gt(ye,["customer","company"]),jobNo:gt(ye,["job no","job id"]),completedOn:gt(ye,["completed","date"]),net:gt(ye,["net","amount","subtotal"]),grandTotal:gt(ye,["grand total","total"]),status:gt(ye,["status","paid"])},recurring:{name:gt(ye,["name","work name","title"]),clientId:gt(ye,["client id","customer id"]),revenue:gt(ye,["revenue","amount","price"]),frequency:gt(ye,["frequency","schedule"]),nextDueDate:gt(ye,["next due","due date"]),notes:gt(ye,["notes","details"])}};Kt(Ve[fe]||{})},_i=async()=>{if(!dr.fullData.length)return alert("No data to import.");const{type:fe,fullData:ye,fileName:Ve}=dr;try{const He={job:"jobs",client:"clients",invoice:"invoices",inventory:"inventory",recurring:"recurringWork"}[fe];if(!He)return alert("Invalid import type.");const Tt=kd(Br),it=In(Br,"artifacts",Pn,"users",t,He);let dt=0;if(ye.forEach(qt=>{const rt={};if(Object.entries(Gt).forEach(([At,rr])=>{rr&&qt[rr]!==void 0&&qt[rr]!==""&&(rt[At]=qt[rr])}),fe==="job"?(rt.date=rt.date||new Date().toISOString(),rt.revenue=rt.revenue||0,rt.materialCost=rt.materialCost||0,rt.laborCost=rt.laborCost||0):fe==="invoice"?(rt.status=rt.status||"Unpaid",rt.net=rt.net||0,rt.grandTotal=rt.grandTotal||rt.net||0):fe==="recurring"&&(rt.revenue=rt.revenue||0,rt.frequency=rt.frequency||"Monthly",rt.nextDueDate=rt.nextDueDate||new Date().toISOString().split("T")[0]),fe==="job"&&rt.name||fe==="client"&&rt.name||fe==="invoice"&&(rt.billTo||rt.customer)||fe==="inventory"&&rt.name||fe==="recurring"&&rt.name){const At=Nt(it);Tt.set(At,{...rt,importedFrom:Ve,importedAt:Hs(),createdAt:Hs()}),dt++}}),dt===0)return alert("No valid records found to import.");await Tt.commit(),alert(`Successfully imported ${dt} ${He} from ${Ve}!`),Ln({show:!1,data:[],headers:[],type:"",fileName:""}),Kt({})}catch(Ce){console.error("Error importing CSV:",Ce),alert(`Failed to import CSV: ${Ce.message}`)}},ki=()=>dr.show?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg max-w-6xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:["Import Preview: ",dr.fileName]}),s.jsx("button",{onClick:()=>Ln({show:!1,data:[],headers:[],type:"",fileName:""}),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:s.jsx(ho,{size:24})})]}),s.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:["Found ",dr.fullData?.length||0," records. Showing first 5 for preview."]})]}),s.jsxs("div",{className:"p-6 overflow-y-auto",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-3",children:"Map CSV Fields"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.keys(Gt).map(fe=>s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("label",{className:"w-24 text-sm font-medium text-slate-600 dark:text-slate-400",children:[fe,":"]}),s.jsxs("select",{value:Gt[fe]||"",onChange:ye=>Kt(Ve=>({...Ve,[fe]:ye.target.value})),className:"flex-1 px-3 py-1 border border-slate-300 dark:border-slate-600 rounded bg-white dark:bg-slate-700 text-slate-900 dark:text-white text-sm",children:[s.jsx("option",{value:"",children:"-- Skip Field --"}),dr.headers.map(ye=>s.jsx("option",{value:ye,children:ye},ye))]})]},fe))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-3",children:"Data Preview"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm border border-slate-200 dark:border-slate-700",children:[s.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700",children:s.jsx("tr",{children:dr.headers.map(fe=>s.jsx("th",{className:"p-2 text-left border-r border-slate-200 dark:border-slate-600",children:fe},fe))})}),s.jsx("tbody",{children:dr.data.map((fe,ye)=>s.jsx("tr",{className:"border-t border-slate-200 dark:border-slate-700",children:dr.headers.map(Ve=>s.jsx("td",{className:"p-2 border-r border-slate-200 dark:border-slate-600",children:String(fe[Ve]||"")},Ve))},ye))})]})})]})]}),s.jsxs("div",{className:"p-6 border-t border-slate-200 dark:border-slate-700 flex justify-end gap-3 mt-auto",children:[s.jsx("button",{onClick:()=>Ln({show:!1,data:[],headers:[],type:"",fileName:""}),className:"px-4 py-2 text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200",children:"Cancel"}),s.jsxs("button",{onClick:_i,className:"px-6 py-2 bg-green-600 hover:bg-green-500 text-white rounded transition-colors",children:["Import ",dr.fullData?.length||0," Records"]})]})]})}):null,wn=(fe,ye,Ve=null)=>{if(!fe||fe.length===0)return alert("No data to export.");try{const Ce=Ve||Object.keys(fe[0]).filter(Et=>Et!=="id"&&!Et.includes("At")),He=Et=>{if(Et==null)return"";const At=String(Et);return At.includes(",")||At.includes('"')||At.includes(`
`)?`"${At.replace(/"/g,'""')}"`:At},it=[Ce.join(","),...fe.map(Et=>Ce.map(At=>He(Et[At])).join(","))].join(`
`),dt=new Blob([it],{type:"text/csv;charset=utf-8;"}),qt=document.createElement("a"),rt=URL.createObjectURL(dt);qt.setAttribute("href",rt),qt.setAttribute("download",`${Pn}_${ye}_${new Date().toISOString().split("T")[0]}.csv`),qt.style.visibility="hidden",document.body.appendChild(qt),qt.click(),document.body.removeChild(qt)}catch(Ce){console.error("Error exporting CSV:",Ce),alert("Failed to export CSV: "+Ce.message)}},vo=()=>{wn([{"Job Name":"Sample HVAC Install",Revenue:5e3,"Material Cost":2e3,"Labor Cost":1500,Date:"2025-01-15",Customer:"Sample Customer",Notes:"Sample job for import"}],"appsheet_template",["Job Name","Revenue","Material Cost","Labor Cost","Date","Customer","Notes"])};B.useEffect(()=>{document.documentElement.classList.toggle("dark",yr==="dark")},[yr]);const yo=()=>ln(yr==="light"?"dark":"light");B.useEffect(()=>{const fe=new Date;let ye,Ve;if(_e==="monthly")ye=new Date(fe.getFullYear(),fe.getMonth(),1),Ve=new Date(fe.getFullYear(),fe.getMonth()+1,0);else if(_e==="quarterly"){const Ce=Math.floor(fe.getMonth()/3);ye=new Date(fe.getFullYear(),Ce*3,1),Ve=new Date(fe.getFullYear(),Ce*3+3,0)}else ye=new Date(fe.getFullYear(),0,1),Ve=new Date(fe.getFullYear(),11,31);ue({start:ye,end:Ve})},[_e]);const ji=B.useMemo(()=>q.start.getFullYear()+"-"+String(q.start.getMonth()+1).padStart(2,"0"),[q]);B.useEffect(()=>{const fe=n9(QR,ye=>{e(ye?ye.uid:null),n(!1)});return()=>fe()},[]),B.useEffect(()=>{if(!t)return;const ye=Object.entries({bills:i,debts:c,incomes:h,weeklyCosts:m,jobs:x,tasks:w,invoices:N,taxPayments:P,goals:j,clients:A,inventory:L,vehicles:D,maintenanceLogs:$,recurringWork:ee}).map(([Ce,He])=>zi(l8(In(Br,"artifacts",Pn,"users",t,Ce)),Tt=>{He(Tt.docs.map(it=>({id:it.id,...it.data()})))},Tt=>console.error(`Error fetching ${Ce}:`,Tt))),Ve=zi(Nt(Br,"artifacts",Pn,"users",t,"paidStatus",ji),Ce=>{ne(Ce.exists()?Ce.data().status:{})},Ce=>console.error("Error fetching paid status:",Ce));return()=>{ye.forEach(Ce=>Ce()),Ve()}},[t,ji]),B.useEffect(()=>{if(!t)return;const fe=zi(Nt(Br,"artifacts",Pn,"users",t,"settings","currentBalance"),ye=>{xe(ye.exists()&&ye.data().amount||0)},ye=>console.error("Error fetching current balance:",ye));return()=>fe()},[t]);const ea=B.useMemo(()=>y.filter(fe=>{if(!fe.date)return!1;const ye=new Date(fe.date);return ye>=q.start&&ye<=q.end}),[y,q]),Ka=B.useMemo(()=>a.filter(fe=>!be||fe.category===be),[a,be]),ta=B.useMemo(()=>{const fe=d.reduce((it,dt)=>it+(dt.amount||0),0),ye=a.reduce((it,dt)=>it+(dt.amount||0),0),Ve=p.reduce((it,dt)=>it+(dt.amount||0),0)*4.33,Ce=ye+Ve,He=fe-Ce,Tt=l.reduce((it,dt)=>it+((dt.totalAmount||0)-(dt.paidAmount||0)),0);return{totalIncome:fe,totalOutflow:Ce,netCashFlow:He,totalDebt:Tt}},[a,l,d,p]),ra=B.useMemo(()=>{const fe=ea.reduce((Ce,He)=>Ce+(He.revenue||0),0),ye=ea.reduce((Ce,He)=>Ce+(He.materialCost||0)+(He.laborCost||0),0),Ve=fe-ye;return{revenue:fe,cogs:ye,grossProfit:Ve}},[ea]),_n=B.useMemo(()=>{const fe=a.reduce((Ve,Ce)=>{const He=Ce.category||"Uncategorized";return Ve[He]=(Ve[He]||0)+Ce.amount,Ve},{}),ye=["#0088FE","#00C49F","#FFBB28","#FF8042","#AF19FF","#FF1943","#19D4FF"];return Object.entries(fe).map(([Ve,Ce],He)=>({name:Ve,value:Ce,color:ye[He%ye.length]})).sort((Ve,Ce)=>Ce.value-Ve.value)},[a]),na=B.useMemo(()=>{let ye={bills:Ka,debts:l,incomes:d,weeklyCosts:p,jobs:y,goals:R,clients:C,inventory:I,vehicles:O,invoices:b,recurring:ae}[he]||[];return Dt&&(ye=ye.filter(Ve=>Object.values(Ve).some(Ce=>Ce&&String(Ce).toLowerCase().includes(Dt.toLowerCase())))),[...ye].sort((Ve,Ce)=>le.key?Ve[le.key]<Ce[le.key]?le.direction==="ascending"?-1:1:Ve[le.key]>Ce[le.key]?le.direction==="ascending"?1:-1:0:0)},[Ka,l,d,p,y,R,C,I,O,b,ae,le,he,Dt]),ps=B.useMemo(()=>{const fe=l.map(Ce=>({...Ce,remaining:Ce.totalAmount-Ce.paidAmount})).filter(Ce=>Ce.remaining>0),ye=[...fe].sort((Ce,He)=>He.interestRate-Ce.interestRate),Ve=[...fe].sort((Ce,He)=>Ce.remaining-He.remaining);return{avalanche:ye,snowball:Ve}},[l]),aa=B.useMemo(()=>R.map(fe=>{let ye=0;if(fe.type==="debt"){const Ve=l.find(Ce=>Ce.id===fe.targetId);Ve&&(ye=Ve.paidAmount/Ve.totalAmount*100)}else fe.type==="revenue"&&(ye=y.reduce((Ce,He)=>Ce+(He.revenue||0),0)/fe.targetValue*100);return{...fe,progress:Math.min(ye,100)}}),[R,l,y]),xo=fe=>ge(ye=>({key:fe,direction:ye.key===fe&&ye.direction==="ascending"?"descending":"ascending"})),Ni=async fe=>{t&&await P_(Nt(Br,"artifacts",Pn,"users",t,"paidStatus",ji),{status:{...G,[fe]:!G[fe]}},{merge:!0})},bo=async(fe,ye)=>{if(!t)return;const Ve=ye==="Paid"?"Unpaid":"Paid";await qi(Nt(Br,"artifacts",Pn,"users",t,"invoices",fe),{status:Ve})},Ut=(fe,ye=null)=>{X(fe),W(ye),Z(!0)},wo=async fe=>{if(!t)return alert("Please log in to update the balance.");try{await P_(Nt(Br,"artifacts",Pn,"users",t,"settings","currentBalance"),{amount:fe,updatedAt:Hs()},{merge:!0})}catch(ye){console.error("Failed to update current balance:",ye),alert("Failed to update balance: "+ye.message)}},Yt=async(fe,ye)=>{if(!t)return;const Ce={bill:"bills",debt:"debts",income:"incomes",weekly:"weeklyCosts",job:"jobs",task:"tasks",invoice:"invoices",taxPayment:"taxPayments",goal:"goals",client:"clients",inventory:"inventory",vehicle:"vehicles",maintenanceLog:"maintenanceLogs",recurring:"recurringWork"}[J];if(!Ce)return alert("Invalid modal type for saving.");const He=["artifacts",Pn,"users",t,Ce],Tt={...fe,modifiedAt:Hs()};if(ye){const it=_q(ple,`receipts/${t}/${Date.now()}-${ye.name}`);try{await bq(it,ye),Tt.attachmentURL=await wq(it)}catch(dt){return console.error("File upload failed:",dt),alert("File upload failed. Please try again.")}}try{re?.id?await qi(Nt(Br,...He,re.id),Tt):await om(In(Br,...He),{...Tt,createdAt:Hs()}),Z(!1),W(null)}catch(it){console.error("Error saving item:",it),alert("Failed to save item.")}},xr=async(fe,ye)=>{if(!t||!window.confirm("Delete this item?"))return;const Ce={bill:"bills",debt:"debts",income:"incomes",weekly:"weeklyCosts",job:"jobs",task:"tasks",invoice:"invoices",taxPayment:"taxPayments",goal:"goals",client:"clients",inventory:"inventory",vehicle:"vehicles",maintenanceLog:"maintenanceLogs",recurring:"recurringWork"}[fe];if(!Ce)return alert("Invalid item type for deletion.");try{await v4(Nt(Br,"artifacts",Pn,"users",t,Ce,ye))}catch(He){console.error(`Error deleting ${fe}:`,He),alert(`Failed to delete ${fe}. Error: ${He.message}`)}},un=async(fe,ye)=>{if(!t||!ye.length||!window.confirm(`Delete ${ye.length} selected items?`))return;const Ce={inventory:"inventory",invoice:"invoices",client:"clients",vehicle:"vehicles"}[fe];if(!Ce)return alert("Invalid bulk delete type.");try{const He=kd(Br);ye.forEach(Tt=>{He.delete(Nt(Br,"artifacts",Pn,"users",t,Ce,Tt)),fe==="vehicle"&&F.filter(dt=>dt.vehicleId===Tt).forEach(dt=>He.delete(Nt(Br,"artifacts",Pn,"users",t,"maintenanceLogs",dt.id)))}),await He.commit(),cn([])}catch(He){console.error(`Error bulk deleting ${fe}s:`,He),alert(`Failed to delete ${fe}s. Please try again.`)}},Si=async()=>{if(!(!t||!window.confirm("Clear all your business data? This is irreversible.")))try{const fe=["bills","debts","incomes","weeklyCosts","jobs","tasks","invoices","taxPayments","goals","clients","inventory","vehicles","maintenanceLogs","recurringWork","paidStatus","system","settings"];for(const ye of fe){const Ve=await g4(In(Br,"artifacts",Pn,"users",t,ye));if(!Ve.empty){const Ce=kd(Br);Ve.docs.forEach(He=>Ce.delete(He.ref)),await Ce.commit()}}alert("All business data has been cleared.")}catch(fe){console.error("Failed to clear data:",fe),alert("Failed to clear data: "+fe.message)}};if(r)return s.jsx("div",{className:"bg-slate-900 text-white min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-cyan-500"})});if(!t)return s.jsx(Xq,{setUserId:e});const Ti=()=>s.jsxs(s.Fragment,{children:[Ue&&s.jsx(Joe,{bills:a,paidStatus:G,onClose:()=>tr(!1)}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[s.jsx(ai,{title:"Total Monthly Income",value:`$${ta.totalIncome.toLocaleString()}`,icon:s.jsx(Rq,{size:24}),color:"green"}),s.jsx(ai,{title:"Total Monthly Outflow",value:`$${ta.totalOutflow.toLocaleString()}`,icon:s.jsx(Cq,{size:24}),color:"red"}),s.jsx(ai,{title:"Projected Net",value:`$${ta.netCashFlow.toLocaleString()}`,icon:s.jsx(Hr,{size:24}),color:ta.netCashFlow>=0?"cyan":"amber"}),s.jsx(ai,{title:"Outstanding Debt",value:`$${ta.totalDebt.toLocaleString()}`,icon:s.jsx(Uh,{size:24}),color:"orange"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[s.jsx(ai,{title:"Gross Profit Margin",value:`${ra.revenue>0?(ra.grossProfit/ra.revenue*100).toFixed(1):"0.0"}%`,icon:s.jsx(B4,{size:24}),color:"teal",subtext:"For selected period"}),s.jsx(ai,{title:"Avg. Job Revenue",value:`$${(ra.revenue/(ea.length||1)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:s.jsx(ka,{size:24}),color:"indigo",subtext:`${ea.length} jobs`}),s.jsx(ai,{title:"Avg. Job Profit",value:`$${(ra.grossProfit/(ea.length||1)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:s.jsx(qd,{size:24}),color:"purple",subtext:"Gross profit per job"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[s.jsx(dle,{bills:a,paidStatus:G,selectedCategory:be,setSelectedCategory:z,handleTogglePaid:Ni,handleSort:xo,openModal:Ut,handleDelete:xr,handleEnhancedExportCSV:wn}),s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:"Expense Breakdown"}),s.jsx(Zoe,{data:_n,onSliceClick:z})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:"AppSheet Integration"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Import your AppSheet jobs and customer data easily with CSV files."}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(zp,{type:"job",label:"Import Jobs"}),s.jsx(zp,{type:"client",label:"Import Customers"}),s.jsx(zp,{type:"invoice",label:"Import Invoices"})]}),s.jsxs("button",{onClick:vo,className:"w-full flex items-center justify-center gap-2 text-sm bg-purple-600 hover:bg-purple-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[s.jsx(Dn,{size:16})," Download CSV Template"]}),s.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2",children:[s.jsx("p",{children:"• Export data from AppSheet as CSV"}),s.jsx("p",{children:"• Use Import buttons to map fields"}),s.jsx("p",{children:"• Download template for reference"})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[s.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:"Getting Started"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-blue-800 dark:text-blue-200 mb-2",children:"Welcome!"}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{children:"• Use the navigation tabs to add clients, jobs, vehicles, and more."}),s.jsx("p",{children:"• Track your finances and business performance from the dashboard."})]})]}),s.jsxs("button",{onClick:Si,className:"w-full flex items-center justify-center gap-2 text-sm bg-red-600 hover:bg-red-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[s.jsx(ir,{size:16})," Clear All Data"]})]})]})]})]})]});return s.jsxs("div",{className:`${yr} bg-slate-100 dark:bg-slate-900 text-slate-800 dark:text-white min-h-screen font-sans`,children:[s.jsxs("div",{className:"max-w-7xl mx-auto p-4 sm:p-6 lg:p-8",children:[s.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Business Financial Dashboard"}),s.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Complete Business Management Solution"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:yo,className:"p-2 rounded-full bg-slate-200 dark:bg-slate-800 border border-slate-300 dark:border-slate-700",children:yr==="light"?s.jsx(qq,{size:20}):s.jsx(Hq,{size:20})}),s.jsxs("div",{className:"flex items-center gap-4 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 p-3 rounded-lg",children:[s.jsx("span",{className:"text-sm font-semibold",children:"Period:"}),s.jsxs("div",{className:"flex items-center gap-1 bg-slate-100 dark:bg-slate-700 rounded-md p-1",children:[s.jsx("button",{onClick:()=>Ie("monthly"),className:`px-3 py-1 text-sm rounded transition-colors ${_e==="monthly"?"bg-blue-600 text-white shadow":"text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:"Monthly"}),s.jsx("button",{onClick:()=>Ie("quarterly"),className:`px-3 py-1 text-sm rounded transition-colors ${_e==="quarterly"?"bg-blue-600 text-white shadow":"text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:"Quarterly"}),s.jsx("button",{onClick:()=>Ie("yearly"),className:`px-3 py-1 text-sm rounded transition-colors ${_e==="yearly"?"bg-blue-600 text-white shadow":"text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:"Yearly"})]}),s.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[s.jsx("button",{onClick:()=>{const fe=new Date(q.start);_e==="monthly"?fe.setMonth(fe.getMonth()-1):_e==="quarterly"?fe.setMonth(fe.getMonth()-3):fe.setFullYear(fe.getFullYear()-1);let ye;_e==="monthly"?ye=new Date(fe.getFullYear(),fe.getMonth()+1,0):_e==="quarterly"?ye=new Date(fe.getFullYear(),fe.getMonth()+3,0):ye=new Date(fe.getFullYear(),11,31),ue({start:fe,end:ye})},className:"p-1 hover:bg-slate-200 dark:hover:bg-slate-600 rounded transition-colors",title:"Previous period",children:s.jsx(L4,{size:16})}),s.jsxs("span",{className:"text-sm font-medium min-w-[120px] text-center",children:[_e==="monthly"&&q.start.toLocaleDateString("en-US",{month:"short",year:"numeric"}),_e==="quarterly"&&`Q${Math.ceil((q.start.getMonth()+1)/3)} ${q.start.getFullYear()}`,_e==="yearly"&&q.start.getFullYear().toString()]}),s.jsx("button",{onClick:()=>{const fe=new Date(q.start);_e==="monthly"?fe.setMonth(fe.getMonth()+1):_e==="quarterly"?fe.setMonth(fe.getMonth()+3):fe.setFullYear(fe.getFullYear()+1);let ye;_e==="monthly"?ye=new Date(fe.getFullYear(),fe.getMonth()+1,0):_e==="quarterly"?ye=new Date(fe.getFullYear(),fe.getMonth()+3,0):ye=new Date(fe.getFullYear(),11,31),ue({start:fe,end:ye})},className:"p-1 hover:bg-slate-200 dark:hover:bg-slate-600 rounded transition-colors",title:"Next period",children:s.jsx(rj,{size:16})})]})]}),s.jsxs("button",{onClick:()=>a9(QR),className:"flex items-center gap-2 text-sm bg-slate-600 hover:bg-slate-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[s.jsx(Vq,{size:16})," Logout"]})]})]}),s.jsxs("nav",{className:"flex items-center border-b border-slate-200 dark:border-slate-700 mb-6 overflow-x-auto",children:[s.jsx("button",{onClick:()=>de("dashboard"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${he==="dashboard"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Dashboard"}),s.jsx("button",{onClick:()=>de("reports"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${he==="reports"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Reports"}),s.jsx("button",{onClick:()=>de("calendar"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${he==="calendar"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Calendar"}),s.jsx("button",{onClick:()=>de("invoices"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${he==="invoices"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Invoices"}),s.jsx("button",{onClick:()=>de("jobs"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${he==="jobs"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Jobs"}),s.jsx("button",{onClick:()=>de("recurring"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${he==="recurring"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Recurring"}),s.jsx("button",{onClick:()=>de("workorder"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${he==="workorder"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Workorder"}),s.jsx("button",{onClick:()=>de("clients"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${he==="clients"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Clients"}),s.jsx("button",{onClick:()=>de("vehicles"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${he==="vehicles"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Vehicles"}),s.jsx("button",{onClick:()=>de("inventory"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${he==="inventory"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Inventory"}),s.jsx("button",{onClick:()=>de("debts"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${he==="debts"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Debt"}),s.jsx("button",{onClick:()=>de("incomes"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${he==="incomes"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Income"}),s.jsx("button",{onClick:()=>de("weeklyCosts"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${he==="weeklyCosts"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Weekly Costs"}),s.jsx("button",{onClick:()=>de("goals"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${he==="goals"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Goals"}),s.jsx("button",{onClick:()=>de("pnl"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${he==="pnl"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"P&L"}),s.jsx("button",{onClick:()=>de("forecast"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${he==="forecast"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Forecast"}),s.jsx("button",{onClick:()=>de("valuation"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${he==="valuation"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Valuation"}),s.jsx("button",{onClick:()=>de("tax"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${he==="tax"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Tax"}),s.jsx("button",{onClick:()=>de("incentives"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${he==="incentives"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Incentives"})]}),s.jsxs("main",{children:[he==="dashboard"&&Ti(),he==="reports"&&s.jsx(Qoe,{clients:C,jobs:y,bills:a,inventory:I}),he==="valuation"&&s.jsx(Yoe,{}),he==="calendar"&&s.jsx(voe,{jobs:y,tasks:k,openModal:Ut}),he==="invoices"&&s.jsx(xoe,{invoices:b,openModal:Ut,handleDelete:xr,handleBulkDelete:un,selectedIds:Mr,setSelectedIds:cn,searchTerm:Dt,setSearchTerm:Mt,handleImportCSV:$n,handleExportCSV:wn,handleToggleInvoicePaid:bo}),he==="tax"&&s.jsx(goe,{jobs:y,bills:a,weeklyCosts:p,taxPayments:E,openModal:Ut,handleDelete:xr}),he==="pnl"&&s.jsx(nle,{jobs:y,bills:a,weeklyCosts:p,reportingPeriod:_e,dateRange:q}),he==="forecast"&&s.jsx(ele,{invoices:b,bills:a,weeklyCosts:p,currentBankBalance:me,setCurrentBankBalance:wo}),he==="goals"&&s.jsx(sle,{goalsWithProgress:aa,openModal:Ut,onDeleteGoal:fe=>xr("goal",fe),onEditGoal:fe=>Ut("goal",fe)}),he==="incentives"&&s.jsx(ule,{userId:t,db:Br,appId:Pn}),he==="clients"&&s.jsx(Goe,{clients:C,openModal:Ut,handleDelete:xr,handleBulkDelete:un,selectedIds:Mr,setSelectedIds:cn,searchTerm:Dt,setSearchTerm:Mt,handleImportCSV:$n,handleExportCSV:wn,handleBulkUpdate:fe=>handleBulkUpdate("client",fe)}),he==="jobs"&&s.jsx(rle,{jobs:y,clients:C,openModal:Ut,handleDelete:xr,searchTerm:Dt,setSearchTerm:Mt,handleEnhancedExportCSV:wn}),he==="recurring"&&s.jsx(hle,{recurringWork:na,openModal:Ut,handleDelete:xr,handleEnhancedExportCSV:wn,searchTerm:Dt,setSearchTerm:Mt}),he==="workorder"&&s.jsx(Uoe,{}),he==="vehicles"&&s.jsx(Koe,{vehicles:O,maintenanceLogs:F,openModal:Ut,handleDelete:xr,searchTerm:Dt,setSearchTerm:Mt}),he==="inventory"&&s.jsx(Xoe,{inventory:I,openModal:Ut,handleDelete:xr,handleBulkDelete:un,selectedIds:Mr,setSelectedIds:cn,searchTerm:Dt,setSearchTerm:Mt,handleEnhancedExportCSV:wn}),he==="debts"&&s.jsx(ale,{debts:l,openModal:Ut,handleDelete:xr,searchTerm:Dt,setSearchTerm:Mt,debtPayoffStrategies:ps,handleEnhancedExportCSV:wn}),he==="incomes"&&s.jsx(ile,{incomes:d,openModal:Ut,handleDelete:xr}),he==="weeklyCosts"&&s.jsx(ole,{weeklyCosts:p,openModal:Ut,handleDelete:xr})]}),s.jsx("footer",{className:"text-center mt-8 py-4 border-t border-slate-200 dark:border-slate-700",children:s.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Powered by ",s.jsx("a",{href:"https://service.money/",target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-cyan-600 dark:text-cyan-400 hover:underline",children:"Service Coin"})]})})]}),s.jsx(ki,{}),Q&&s.jsx(yoe,{item:re,type:J,onSave:Yt,onClose:()=>Z(!1),debts:l,clients:C,vehicles:O})]})};_5.createRoot(document.getElementById("root")).render(s.jsx(K.StrictMode,{children:s.jsx(mle,{})}));
