(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Xh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wv={exports:{}},$c={},Ev={exports:{}},tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KA;function UV(){if(KA)return tt;KA=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function v(q){return q===null||typeof q!="object"?null:(q=p&&q[p]||q["@@iterator"],typeof q=="function"?q:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,w={};function E(q,G,ce){this.props=q,this.context=G,this.refs=w,this.updater=ce||b}E.prototype.isReactComponent={},E.prototype.setState=function(q,G){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,G,"setState")},E.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function O(){}O.prototype=E.prototype;function k(q,G,ce){this.props=q,this.context=G,this.refs=w,this.updater=ce||b}var I=k.prototype=new O;I.constructor=k,x(I,E.prototype),I.isPureReactComponent=!0;var $=Array.isArray,N=Object.prototype.hasOwnProperty,j={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function P(q,G,ce){var xe,Ne={},be=null,je=null;if(G!=null)for(xe in G.ref!==void 0&&(je=G.ref),G.key!==void 0&&(be=""+G.key),G)N.call(G,xe)&&!A.hasOwnProperty(xe)&&(Ne[xe]=G[xe]);var Fe=arguments.length-2;if(Fe===1)Ne.children=ce;else if(1<Fe){for(var he=Array(Fe),Ie=0;Ie<Fe;Ie++)he[Ie]=arguments[Ie+2];Ne.children=he}if(q&&q.defaultProps)for(xe in Fe=q.defaultProps,Fe)Ne[xe]===void 0&&(Ne[xe]=Fe[xe]);return{$$typeof:t,type:q,key:be,ref:je,props:Ne,_owner:j.current}}function R(q,G){return{$$typeof:t,type:q.type,key:G,ref:q.ref,props:q.props,_owner:q._owner}}function F(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function M(q){var G={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(ce){return G[ce]})}var V=/\/+/g;function D(q,G){return typeof q=="object"&&q!==null&&q.key!=null?M(""+q.key):G.toString(36)}function Z(q,G,ce,xe,Ne){var be=typeof q;(be==="undefined"||be==="boolean")&&(q=null);var je=!1;if(q===null)je=!0;else switch(be){case"string":case"number":je=!0;break;case"object":switch(q.$$typeof){case t:case e:je=!0}}if(je)return je=q,Ne=Ne(je),q=xe===""?"."+D(je,0):xe,$(Ne)?(ce="",q!=null&&(ce=q.replace(V,"$&/")+"/"),Z(Ne,G,ce,"",function(Ie){return Ie})):Ne!=null&&(F(Ne)&&(Ne=R(Ne,ce+(!Ne.key||je&&je.key===Ne.key?"":(""+Ne.key).replace(V,"$&/")+"/")+q)),G.push(Ne)),1;if(je=0,xe=xe===""?".":xe+":",$(q))for(var Fe=0;Fe<q.length;Fe++){be=q[Fe];var he=xe+D(be,Fe);je+=Z(be,G,ce,he,Ne)}else if(he=v(q),typeof he=="function")for(q=he.call(q),Fe=0;!(be=q.next()).done;)be=be.value,he=xe+D(be,Fe++),je+=Z(be,G,ce,he,Ne);else if(be==="object")throw G=String(q),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return je}function ee(q,G,ce){if(q==null)return q;var xe=[],Ne=0;return Z(q,xe,"","",function(be){return G.call(ce,be,Ne++)}),xe}function re(q){if(q._status===-1){var G=q._result;G=G(),G.then(function(ce){(q._status===0||q._status===-1)&&(q._status=1,q._result=ce)},function(ce){(q._status===0||q._status===-1)&&(q._status=2,q._result=ce)}),q._status===-1&&(q._status=0,q._result=G)}if(q._status===1)return q._result.default;throw q._result}var ae={current:null},Q={transition:null},ie={ReactCurrentDispatcher:ae,ReactCurrentBatchConfig:Q,ReactCurrentOwner:j};function oe(){throw Error("act(...) is not supported in production builds of React.")}return tt.Children={map:ee,forEach:function(q,G,ce){ee(q,function(){G.apply(this,arguments)},ce)},count:function(q){var G=0;return ee(q,function(){G++}),G},toArray:function(q){return ee(q,function(G){return G})||[]},only:function(q){if(!F(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},tt.Component=E,tt.Fragment=r,tt.Profiler=i,tt.PureComponent=k,tt.StrictMode=n,tt.Suspense=c,tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,tt.act=oe,tt.cloneElement=function(q,G,ce){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var xe=x({},q.props),Ne=q.key,be=q.ref,je=q._owner;if(G!=null){if(G.ref!==void 0&&(be=G.ref,je=j.current),G.key!==void 0&&(Ne=""+G.key),q.type&&q.type.defaultProps)var Fe=q.type.defaultProps;for(he in G)N.call(G,he)&&!A.hasOwnProperty(he)&&(xe[he]=G[he]===void 0&&Fe!==void 0?Fe[he]:G[he])}var he=arguments.length-2;if(he===1)xe.children=ce;else if(1<he){Fe=Array(he);for(var Ie=0;Ie<he;Ie++)Fe[Ie]=arguments[Ie+2];xe.children=Fe}return{$$typeof:t,type:q.type,key:Ne,ref:be,props:xe,_owner:je}},tt.createContext=function(q){return q={$$typeof:s,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:a,_context:q},q.Consumer=q},tt.createElement=P,tt.createFactory=function(q){var G=P.bind(null,q);return G.type=q,G},tt.createRef=function(){return{current:null}},tt.forwardRef=function(q){return{$$typeof:u,render:q}},tt.isValidElement=F,tt.lazy=function(q){return{$$typeof:h,_payload:{_status:-1,_result:q},_init:re}},tt.memo=function(q,G){return{$$typeof:f,type:q,compare:G===void 0?null:G}},tt.startTransition=function(q){var G=Q.transition;Q.transition={};try{q()}finally{Q.transition=G}},tt.unstable_act=oe,tt.useCallback=function(q,G){return ae.current.useCallback(q,G)},tt.useContext=function(q){return ae.current.useContext(q)},tt.useDebugValue=function(){},tt.useDeferredValue=function(q){return ae.current.useDeferredValue(q)},tt.useEffect=function(q,G){return ae.current.useEffect(q,G)},tt.useId=function(){return ae.current.useId()},tt.useImperativeHandle=function(q,G,ce){return ae.current.useImperativeHandle(q,G,ce)},tt.useInsertionEffect=function(q,G){return ae.current.useInsertionEffect(q,G)},tt.useLayoutEffect=function(q,G){return ae.current.useLayoutEffect(q,G)},tt.useMemo=function(q,G){return ae.current.useMemo(q,G)},tt.useReducer=function(q,G,ce){return ae.current.useReducer(q,G,ce)},tt.useRef=function(q){return ae.current.useRef(q)},tt.useState=function(q){return ae.current.useState(q)},tt.useSyncExternalStore=function(q,G,ce){return ae.current.useSyncExternalStore(q,G,ce)},tt.useTransition=function(){return ae.current.useTransition()},tt.version="18.3.1",tt}var GA;function M1(){return GA||(GA=1,Ev.exports=UV()),Ev.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YA;function qV(){if(YA)return $c;YA=1;var t=M1(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function s(u,c,f){var h,p={},v=null,b=null;f!==void 0&&(v=""+f),c.key!==void 0&&(v=""+c.key),c.ref!==void 0&&(b=c.ref);for(h in c)n.call(c,h)&&!a.hasOwnProperty(h)&&(p[h]=c[h]);if(u&&u.defaultProps)for(h in c=u.defaultProps,c)p[h]===void 0&&(p[h]=c[h]);return{$$typeof:e,type:u,key:v,ref:b,props:p,_owner:i.current}}return $c.Fragment=r,$c.jsx=s,$c.jsxs=s,$c}var XA;function zV(){return XA||(XA=1,wv.exports=qV()),wv.exports}var y=zV(),K=M1();const z=vt(K);var Qh={},Sv={exports:{}},xn={},Tv={exports:{}},Av={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QA;function WV(){return QA||(QA=1,function(t){function e(Q,ie){var oe=Q.length;Q.push(ie);e:for(;0<oe;){var q=oe-1>>>1,G=Q[q];if(0<i(G,ie))Q[q]=ie,Q[oe]=G,oe=q;else break e}}function r(Q){return Q.length===0?null:Q[0]}function n(Q){if(Q.length===0)return null;var ie=Q[0],oe=Q.pop();if(oe!==ie){Q[0]=oe;e:for(var q=0,G=Q.length,ce=G>>>1;q<ce;){var xe=2*(q+1)-1,Ne=Q[xe],be=xe+1,je=Q[be];if(0>i(Ne,oe))be<G&&0>i(je,Ne)?(Q[q]=je,Q[be]=oe,q=be):(Q[q]=Ne,Q[xe]=oe,q=xe);else if(be<G&&0>i(je,oe))Q[q]=je,Q[be]=oe,q=be;else break e}}return ie}function i(Q,ie){var oe=Q.sortIndex-ie.sortIndex;return oe!==0?oe:Q.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],f=[],h=1,p=null,v=3,b=!1,x=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(Q){for(var ie=r(f);ie!==null;){if(ie.callback===null)n(f);else if(ie.startTime<=Q)n(f),ie.sortIndex=ie.expirationTime,e(c,ie);else break;ie=r(f)}}function $(Q){if(w=!1,I(Q),!x)if(r(c)!==null)x=!0,re(N);else{var ie=r(f);ie!==null&&ae($,ie.startTime-Q)}}function N(Q,ie){x=!1,w&&(w=!1,O(P),P=-1),b=!0;var oe=v;try{for(I(ie),p=r(c);p!==null&&(!(p.expirationTime>ie)||Q&&!M());){var q=p.callback;if(typeof q=="function"){p.callback=null,v=p.priorityLevel;var G=q(p.expirationTime<=ie);ie=t.unstable_now(),typeof G=="function"?p.callback=G:p===r(c)&&n(c),I(ie)}else n(c);p=r(c)}if(p!==null)var ce=!0;else{var xe=r(f);xe!==null&&ae($,xe.startTime-ie),ce=!1}return ce}finally{p=null,v=oe,b=!1}}var j=!1,A=null,P=-1,R=5,F=-1;function M(){return!(t.unstable_now()-F<R)}function V(){if(A!==null){var Q=t.unstable_now();F=Q;var ie=!0;try{ie=A(!0,Q)}finally{ie?D():(j=!1,A=null)}}else j=!1}var D;if(typeof k=="function")D=function(){k(V)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,ee=Z.port2;Z.port1.onmessage=V,D=function(){ee.postMessage(null)}}else D=function(){E(V,0)};function re(Q){A=Q,j||(j=!0,D())}function ae(Q,ie){P=E(function(){Q(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){x||b||(x=!0,re(N))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(Q){switch(v){case 1:case 2:case 3:var ie=3;break;default:ie=v}var oe=v;v=ie;try{return Q()}finally{v=oe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,ie){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var oe=v;v=Q;try{return ie()}finally{v=oe}},t.unstable_scheduleCallback=function(Q,ie,oe){var q=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?q+oe:q):oe=q,Q){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=oe+G,Q={id:h++,callback:ie,priorityLevel:Q,startTime:oe,expirationTime:G,sortIndex:-1},oe>q?(Q.sortIndex=oe,e(f,Q),r(c)===null&&Q===r(f)&&(w?(O(P),P=-1):w=!0,ae($,oe-q))):(Q.sortIndex=G,e(c,Q),x||b||(x=!0,re(N))),Q},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(Q){var ie=v;return function(){var oe=v;v=ie;try{return Q.apply(this,arguments)}finally{v=oe}}}}(Av)),Av}var JA;function HV(){return JA||(JA=1,Tv.exports=WV()),Tv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZA;function KV(){if(ZA)return xn;ZA=1;var t=M1(),e=HV();function r(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,d=1;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(o,l){s(o,l),s(o+"Capture",l)}function s(o,l){for(i[o]=l,o=0;o<l.length;o++)n.add(l[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(o){return c.call(p,o)?!0:c.call(h,o)?!1:f.test(o)?p[o]=!0:(h[o]=!0,!1)}function b(o,l,d,g){if(d!==null&&d.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return g?!1:d!==null?!d.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function x(o,l,d,g){if(l===null||typeof l>"u"||b(o,l,d,g))return!0;if(g)return!1;if(d!==null)switch(d.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function w(o,l,d,g,_,T,L){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=g,this.attributeNamespace=_,this.mustUseProperty=d,this.propertyName=o,this.type=l,this.sanitizeURL=T,this.removeEmptyString=L}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){E[o]=new w(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];E[l]=new w(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){E[o]=new w(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){E[o]=new w(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){E[o]=new w(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){E[o]=new w(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){E[o]=new w(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){E[o]=new w(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){E[o]=new w(o,5,!1,o.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function k(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(O,k);E[l]=new w(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(O,k);E[l]=new w(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(O,k);E[l]=new w(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){E[o]=new w(o,1,!1,o.toLowerCase(),null,!1,!1)}),E.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){E[o]=new w(o,1,!1,o.toLowerCase(),null,!0,!0)});function I(o,l,d,g){var _=E.hasOwnProperty(l)?E[l]:null;(_!==null?_.type!==0:g||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(x(l,d,_,g)&&(d=null),g||_===null?v(l)&&(d===null?o.removeAttribute(l):o.setAttribute(l,""+d)):_.mustUseProperty?o[_.propertyName]=d===null?_.type===3?!1:"":d:(l=_.attributeName,g=_.attributeNamespace,d===null?o.removeAttribute(l):(_=_.type,d=_===3||_===4&&d===!0?"":""+d,g?o.setAttributeNS(g,l,d):o.setAttribute(l,d))))}var $=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,N=Symbol.for("react.element"),j=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),M=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),ae=Symbol.for("react.offscreen"),Q=Symbol.iterator;function ie(o){return o===null||typeof o!="object"?null:(o=Q&&o[Q]||o["@@iterator"],typeof o=="function"?o:null)}var oe=Object.assign,q;function G(o){if(q===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);q=l&&l[1]||""}return`
`+q+o}var ce=!1;function xe(o,l){if(!o||ce)return"";ce=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(te){var g=te}Reflect.construct(o,[],l)}else{try{l.call()}catch(te){g=te}o.call(l.prototype)}else{try{throw Error()}catch(te){g=te}o()}}catch(te){if(te&&g&&typeof te.stack=="string"){for(var _=te.stack.split(`
`),T=g.stack.split(`
`),L=_.length-1,U=T.length-1;1<=L&&0<=U&&_[L]!==T[U];)U--;for(;1<=L&&0<=U;L--,U--)if(_[L]!==T[U]){if(L!==1||U!==1)do if(L--,U--,0>U||_[L]!==T[U]){var W=`
`+_[L].replace(" at new "," at ");return o.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",o.displayName)),W}while(1<=L&&0<=U);break}}}finally{ce=!1,Error.prepareStackTrace=d}return(o=o?o.displayName||o.name:"")?G(o):""}function Ne(o){switch(o.tag){case 5:return G(o.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return o=xe(o.type,!1),o;case 11:return o=xe(o.type.render,!1),o;case 1:return o=xe(o.type,!0),o;default:return""}}function be(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case A:return"Fragment";case j:return"Portal";case R:return"Profiler";case P:return"StrictMode";case D:return"Suspense";case Z:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case M:return(o.displayName||"Context")+".Consumer";case F:return(o._context.displayName||"Context")+".Provider";case V:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case ee:return l=o.displayName||null,l!==null?l:be(o.type)||"Memo";case re:l=o._payload,o=o._init;try{return be(o(l))}catch{}}return null}function je(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=l.render,o=o.displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(l);case 8:return l===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Fe(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function he(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Ie(o){var l=he(o)?"checked":"value",d=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),g=""+o[l];if(!o.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var _=d.get,T=d.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return _.call(this)},set:function(L){g=""+L,T.call(this,L)}}),Object.defineProperty(o,l,{enumerable:d.enumerable}),{getValue:function(){return g},setValue:function(L){g=""+L},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function ze(o){o._valueTracker||(o._valueTracker=Ie(o))}function le(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var d=l.getValue(),g="";return o&&(g=he(o)?o.checked?"true":"false":o.value),o=g,o!==d?(l.setValue(o),!0):!1}function st(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function He(o,l){var d=l.checked;return oe({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??o._wrapperState.initialChecked})}function pt(o,l){var d=l.defaultValue==null?"":l.defaultValue,g=l.checked!=null?l.checked:l.defaultChecked;d=Fe(l.value!=null?l.value:d),o._wrapperState={initialChecked:g,initialValue:d,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function Et(o,l){l=l.checked,l!=null&&I(o,"checked",l,!1)}function Ht(o,l){Et(o,l);var d=Fe(l.value),g=l.type;if(d!=null)g==="number"?(d===0&&o.value===""||o.value!=d)&&(o.value=""+d):o.value!==""+d&&(o.value=""+d);else if(g==="submit"||g==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?Jr(o,l.type,d):l.hasOwnProperty("defaultValue")&&Jr(o,l.type,Fe(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function cr(o,l,d){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var g=l.type;if(!(g!=="submit"&&g!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,d||l===o.value||(o.value=l),o.defaultValue=l}d=o.name,d!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,d!==""&&(o.name=d)}function Jr(o,l,d){(l!=="number"||st(o.ownerDocument)!==o)&&(d==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+d&&(o.defaultValue=""+d))}var At=Array.isArray;function Pt(o,l,d,g){if(o=o.options,l){l={};for(var _=0;_<d.length;_++)l["$"+d[_]]=!0;for(d=0;d<o.length;d++)_=l.hasOwnProperty("$"+o[d].value),o[d].selected!==_&&(o[d].selected=_),_&&g&&(o[d].defaultSelected=!0)}else{for(d=""+Fe(d),l=null,_=0;_<o.length;_++){if(o[_].value===d){o[_].selected=!0,g&&(o[_].defaultSelected=!0);return}l!==null||o[_].disabled||(l=o[_])}l!==null&&(l.selected=!0)}}function Or(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(r(91));return oe({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Zr(o,l){var d=l.value;if(d==null){if(d=l.children,l=l.defaultValue,d!=null){if(l!=null)throw Error(r(92));if(At(d)){if(1<d.length)throw Error(r(93));d=d[0]}l=d}l==null&&(l=""),d=l}o._wrapperState={initialValue:Fe(d)}}function pi(o,l){var d=Fe(l.value),g=Fe(l.defaultValue);d!=null&&(d=""+d,d!==o.value&&(o.value=d),l.defaultValue==null&&o.defaultValue!==d&&(o.defaultValue=d)),g!=null&&(o.defaultValue=""+g)}function Bi(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}function Kt(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jt(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?Kt(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var mi,as=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,d,g,_){MSApp.execUnsafeLocalFunction(function(){return o(l,d,g,_)})}:o}(function(o,l){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=l;else{for(mi=mi||document.createElement("div"),mi.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=mi.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function Ui(o,l){if(l){var d=o.firstChild;if(d&&d===o.lastChild&&d.nodeType===3){d.nodeValue=l;return}}o.textContent=l}var Hn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fn=["Webkit","ms","Moz","O"];Object.keys(Hn).forEach(function(o){fn.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),Hn[l]=Hn[o]})});function ao(o,l,d){return l==null||typeof l=="boolean"||l===""?"":d||typeof l!="number"||l===0||Hn.hasOwnProperty(o)&&Hn[o]?(""+l).trim():l+"px"}function gi(o,l){o=o.style;for(var d in l)if(l.hasOwnProperty(d)){var g=d.indexOf("--")===0,_=ao(d,l[d],g);d==="float"&&(d="cssFloat"),g?o.setProperty(d,_):o[d]=_}}var yi=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function os(o,l){if(l){if(yi[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(r(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(r(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(r(61))}if(l.style!=null&&typeof l.style!="object")throw Error(r(62))}}function Kn(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var va=null;function oo(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var qi=null,dn=null,Gn=null;function rr(o){if(o=Ec(o)){if(typeof qi!="function")throw Error(r(280));var l=o.stateNode;l&&(l=fh(l),qi(o.stateNode,o.type,l))}}function Yn(o){dn?Gn?Gn.push(o):Gn=[o]:dn=o}function Vr(){if(dn){var o=dn,l=Gn;if(Gn=dn=null,rr(o),l)for(o=0;o<l.length;o++)rr(l[o])}}function Br(o,l){return o(l)}function Tn(){}var vi=!1;function ba(o,l,d){if(vi)return o(l,d);vi=!0;try{return Br(o,l,d)}finally{vi=!1,(dn!==null||Gn!==null)&&(Tn(),Vr())}}function Ut(o,l){var d=o.stateNode;if(d===null)return null;var g=fh(d);if(g===null)return null;d=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(o=o.type,g=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!g;break e;default:o=!1}if(o)return null;if(d&&typeof d!="function")throw Error(r(231,l,typeof d));return d}var ye=!1;if(u)try{var we={};Object.defineProperty(we,"passive",{get:function(){ye=!0}}),window.addEventListener("test",we,we),window.removeEventListener("test",we,we)}catch{ye=!1}function De(o,l,d,g,_,T,L,U,W){var te=Array.prototype.slice.call(arguments,3);try{l.apply(d,te)}catch(de){this.onError(de)}}var Se=!1,Me=null,$e=!1,ht=null,Ve={onError:function(o){Se=!0,Me=o}};function nr(o,l,d,g,_,T,L,U,W){Se=!1,Me=null,De.apply(Ve,arguments)}function An(o,l,d,g,_,T,L,U,W){if(nr.apply(this,arguments),Se){if(Se){var te=Me;Se=!1,Me=null}else throw Error(r(198));$e||($e=!0,ht=te)}}function hn(o){var l=o,d=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(d=l.return),o=l.return;while(o)}return l.tag===3?d:null}function _a(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function Zt(o){if(hn(o)!==o)throw Error(r(188))}function so(o){var l=o.alternate;if(!l){if(l=hn(o),l===null)throw Error(r(188));return l!==o?null:o}for(var d=o,g=l;;){var _=d.return;if(_===null)break;var T=_.alternate;if(T===null){if(g=_.return,g!==null){d=g;continue}break}if(_.child===T.child){for(T=_.child;T;){if(T===d)return Zt(_),o;if(T===g)return Zt(_),l;T=T.sibling}throw Error(r(188))}if(d.return!==g.return)d=_,g=T;else{for(var L=!1,U=_.child;U;){if(U===d){L=!0,d=_,g=T;break}if(U===g){L=!0,g=_,d=T;break}U=U.sibling}if(!L){for(U=T.child;U;){if(U===d){L=!0,d=T,g=_;break}if(U===g){L=!0,g=T,d=_;break}U=U.sibling}if(!L)throw Error(r(189))}}if(d.alternate!==g)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?o:l}function Xn(o){return o=so(o),o!==null?bi(o):null}function bi(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=bi(o);if(l!==null)return l;o=o.sibling}return null}var zi=e.unstable_scheduleCallback,Pn=e.unstable_cancelCallback,$d=e.unstable_shouldYield,Qg=e.unstable_requestPaint,kt=e.unstable_now,Fd=e.unstable_getCurrentPriorityLevel,ss=e.unstable_ImmediatePriority,lo=e.unstable_UserBlockingPriority,Qn=e.unstable_NormalPriority,oc=e.unstable_LowPriority,Vd=e.unstable_IdlePriority,ls=null,kn=null;function Bd(o){if(kn&&typeof kn.onCommitFiberRoot=="function")try{kn.onCommitFiberRoot(ls,o,void 0,(o.current.flags&128)===128)}catch{}}var en=Math.clz32?Math.clz32:qd,sc=Math.log,Ud=Math.LN2;function qd(o){return o>>>=0,o===0?32:31-(sc(o)/Ud|0)|0}var gl=64,yl=4194304;function uo(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function us(o,l){var d=o.pendingLanes;if(d===0)return 0;var g=0,_=o.suspendedLanes,T=o.pingedLanes,L=d&268435455;if(L!==0){var U=L&~_;U!==0?g=uo(U):(T&=L,T!==0&&(g=uo(T)))}else L=d&~_,L!==0?g=uo(L):T!==0&&(g=uo(T));if(g===0)return 0;if(l!==0&&l!==g&&(l&_)===0&&(_=g&-g,T=l&-l,_>=T||_===16&&(T&4194240)!==0))return l;if((g&4)!==0&&(g|=d&16),l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=g;0<l;)d=31-en(l),_=1<<d,g|=o[d],l&=~_;return g}function Jg(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xa(o,l){for(var d=o.suspendedLanes,g=o.pingedLanes,_=o.expirationTimes,T=o.pendingLanes;0<T;){var L=31-en(T),U=1<<L,W=_[L];W===-1?((U&d)===0||(U&g)!==0)&&(_[L]=Jg(U,l)):W<=l&&(o.expiredLanes|=U),T&=~U}}function In(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function cs(){var o=gl;return gl<<=1,(gl&4194240)===0&&(gl=64),o}function co(o){for(var l=[],d=0;31>d;d++)l.push(o);return l}function fo(o,l,d){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,l=31-en(l),o[l]=d}function St(o,l){var d=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l,l=o.entanglements;var g=o.eventTimes;for(o=o.expirationTimes;0<d;){var _=31-en(d),T=1<<_;l[_]=0,g[_]=-1,o[_]=-1,d&=~T}}function ho(o,l){var d=o.entangledLanes|=l;for(o=o.entanglements;d;){var g=31-en(d),_=1<<g;_&l|o[g]&l&&(o[g]|=l),d&=~_}}var nt=0;function po(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var zd,vl,Wd,Hd,Kd,lc=!1,Wi=[],Cr=null,_i=null,xi=null,mo=new Map,Jn=new Map,Hi=[],Zg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gd(o,l){switch(o){case"focusin":case"focusout":Cr=null;break;case"dragenter":case"dragleave":_i=null;break;case"mouseover":case"mouseout":xi=null;break;case"pointerover":case"pointerout":mo.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jn.delete(l.pointerId)}}function pn(o,l,d,g,_,T){return o===null||o.nativeEvent!==T?(o={blockedOn:l,domEventName:d,eventSystemFlags:g,nativeEvent:T,targetContainers:[_]},l!==null&&(l=Ec(l),l!==null&&vl(l)),o):(o.eventSystemFlags|=g,l=o.targetContainers,_!==null&&l.indexOf(_)===-1&&l.push(_),o)}function ey(o,l,d,g,_){switch(l){case"focusin":return Cr=pn(Cr,o,l,d,g,_),!0;case"dragenter":return _i=pn(_i,o,l,d,g,_),!0;case"mouseover":return xi=pn(xi,o,l,d,g,_),!0;case"pointerover":var T=_.pointerId;return mo.set(T,pn(mo.get(T)||null,o,l,d,g,_)),!0;case"gotpointercapture":return T=_.pointerId,Jn.set(T,pn(Jn.get(T)||null,o,l,d,g,_)),!0}return!1}function Yd(o){var l=ms(o.target);if(l!==null){var d=hn(l);if(d!==null){if(l=d.tag,l===13){if(l=_a(d),l!==null){o.blockedOn=l,Kd(o.priority,function(){Wd(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){o.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}o.blockedOn=null}function wa(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var d=bl(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(d===null){d=o.nativeEvent;var g=new d.constructor(d.type,d);va=g,d.target.dispatchEvent(g),va=null}else return l=Ec(d),l!==null&&vl(l),o.blockedOn=d,!1;l.shift()}return!0}function fs(o,l,d){wa(o)&&d.delete(l)}function Xd(){lc=!1,Cr!==null&&wa(Cr)&&(Cr=null),_i!==null&&wa(_i)&&(_i=null),xi!==null&&wa(xi)&&(xi=null),mo.forEach(fs),Jn.forEach(fs)}function wi(o,l){o.blockedOn===l&&(o.blockedOn=null,lc||(lc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Xd)))}function Ei(o){function l(_){return wi(_,o)}if(0<Wi.length){wi(Wi[0],o);for(var d=1;d<Wi.length;d++){var g=Wi[d];g.blockedOn===o&&(g.blockedOn=null)}}for(Cr!==null&&wi(Cr,o),_i!==null&&wi(_i,o),xi!==null&&wi(xi,o),mo.forEach(l),Jn.forEach(l),d=0;d<Hi.length;d++)g=Hi[d],g.blockedOn===o&&(g.blockedOn=null);for(;0<Hi.length&&(d=Hi[0],d.blockedOn===null);)Yd(d),d.blockedOn===null&&Hi.shift()}var Ea=$.ReactCurrentBatchConfig,go=!0;function $t(o,l,d,g){var _=nt,T=Ea.transition;Ea.transition=null;try{nt=1,uc(o,l,d,g)}finally{nt=_,Ea.transition=T}}function ty(o,l,d,g){var _=nt,T=Ea.transition;Ea.transition=null;try{nt=4,uc(o,l,d,g)}finally{nt=_,Ea.transition=T}}function uc(o,l,d,g){if(go){var _=bl(o,l,d,g);if(_===null)dy(o,l,g,ds,d),Gd(o,g);else if(ey(_,o,l,d,g))g.stopPropagation();else if(Gd(o,g),l&4&&-1<Zg.indexOf(o)){for(;_!==null;){var T=Ec(_);if(T!==null&&zd(T),T=bl(o,l,d,g),T===null&&dy(o,l,g,ds,d),T===_)break;_=T}_!==null&&g.stopPropagation()}else dy(o,l,g,null,d)}}var ds=null;function bl(o,l,d,g){if(ds=null,o=oo(g),o=ms(o),o!==null)if(l=hn(o),l===null)o=null;else if(d=l.tag,d===13){if(o=_a(l),o!==null)return o;o=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null);return ds=o,null}function cc(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Fd()){case ss:return 1;case lo:return 4;case Qn:case oc:return 16;case Vd:return 536870912;default:return 16}default:return 16}}var On=null,_l=null,mn=null;function fc(){if(mn)return mn;var o,l=_l,d=l.length,g,_="value"in On?On.value:On.textContent,T=_.length;for(o=0;o<d&&l[o]===_[o];o++);var L=d-o;for(g=1;g<=L&&l[d-g]===_[T-g];g++);return mn=_.slice(o,1<g?1-g:void 0)}function xl(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function Ki(){return!0}function dc(){return!1}function Nr(o){function l(d,g,_,T,L){this._reactName=d,this._targetInst=_,this.type=g,this.nativeEvent=T,this.target=L,this.currentTarget=null;for(var U in o)o.hasOwnProperty(U)&&(d=o[U],this[U]=d?d(T):T[U]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Ki:dc,this.isPropagationStopped=dc,this}return oe(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Ki)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Ki)},persist:function(){},isPersistent:Ki}),l}var Si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wl=Nr(Si),Gi=oe({},Si,{view:0,detail:0}),ry=Nr(Gi),El,Sa,yo,hs=oe({},Gi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yi,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==yo&&(yo&&o.type==="mousemove"?(El=o.screenX-yo.screenX,Sa=o.screenY-yo.screenY):Sa=El=0,yo=o),El)},movementY:function(o){return"movementY"in o?o.movementY:Sa}}),Sl=Nr(hs),hc=oe({},hs,{dataTransfer:0}),Qd=Nr(hc),Tl=oe({},Gi,{relatedTarget:0}),Al=Nr(Tl),Jd=oe({},Si,{animationName:0,elapsedTime:0,pseudoElement:0}),Ta=Nr(Jd),Zd=oe({},Si,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),eh=Nr(Zd),th=oe({},Si,{data:0}),pc=Nr(th),Pl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nh(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=rh[o])?!!l[o]:!1}function Yi(){return nh}var m=oe({},Gi,{key:function(o){if(o.key){var l=Pl[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=xl(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?tn[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yi,charCode:function(o){return o.type==="keypress"?xl(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?xl(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),S=Nr(m),C=oe({},hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),B=Nr(C),Y=oe({},Gi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yi}),ne=Nr(Y),_e=oe({},Si,{propertyName:0,elapsedTime:0,pseudoElement:0}),_t=Nr(_e),fr=oe({},hs,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),at=Nr(fr),xr=[9,13,27,32],ir=u&&"CompositionEvent"in window,Zn=null;u&&"documentMode"in document&&(Zn=document.documentMode);var Cn=u&&"TextEvent"in window&&!Zn,ps=u&&(!ir||Zn&&8<Zn&&11>=Zn),kl=" ",BS=!1;function US(o,l){switch(o){case"keyup":return xr.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qS(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Il=!1;function FF(o,l){switch(o){case"compositionend":return qS(l);case"keypress":return l.which!==32?null:(BS=!0,kl);case"textInput":return o=l.data,o===kl&&BS?null:o;default:return null}}function VF(o,l){if(Il)return o==="compositionend"||!ir&&US(o,l)?(o=fc(),mn=_l=On=null,Il=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return ps&&l.locale!=="ko"?null:l.data;default:return null}}var BF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zS(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!BF[o.type]:l==="textarea"}function WS(o,l,d,g){Yn(g),l=lh(l,"onChange"),0<l.length&&(d=new wl("onChange","change",null,d,g),o.push({event:d,listeners:l}))}var mc=null,gc=null;function UF(o){uT(o,0)}function ih(o){var l=jl(o);if(le(l))return o}function qF(o,l){if(o==="change")return l}var HS=!1;if(u){var ny;if(u){var iy="oninput"in document;if(!iy){var KS=document.createElement("div");KS.setAttribute("oninput","return;"),iy=typeof KS.oninput=="function"}ny=iy}else ny=!1;HS=ny&&(!document.documentMode||9<document.documentMode)}function GS(){mc&&(mc.detachEvent("onpropertychange",YS),gc=mc=null)}function YS(o){if(o.propertyName==="value"&&ih(gc)){var l=[];WS(l,gc,o,oo(o)),ba(UF,l)}}function zF(o,l,d){o==="focusin"?(GS(),mc=l,gc=d,mc.attachEvent("onpropertychange",YS)):o==="focusout"&&GS()}function WF(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return ih(gc)}function HF(o,l){if(o==="click")return ih(l)}function KF(o,l){if(o==="input"||o==="change")return ih(l)}function GF(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var Ti=typeof Object.is=="function"?Object.is:GF;function yc(o,l){if(Ti(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var d=Object.keys(o),g=Object.keys(l);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var _=d[g];if(!c.call(l,_)||!Ti(o[_],l[_]))return!1}return!0}function XS(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function QS(o,l){var d=XS(o);o=0;for(var g;d;){if(d.nodeType===3){if(g=o+d.textContent.length,o<=l&&g>=l)return{node:d,offset:l-o};o=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=XS(d)}}function JS(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?JS(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function ZS(){for(var o=window,l=st();l instanceof o.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)o=l.contentWindow;else break;l=st(o.document)}return l}function ay(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function YF(o){var l=ZS(),d=o.focusedElem,g=o.selectionRange;if(l!==d&&d&&d.ownerDocument&&JS(d.ownerDocument.documentElement,d)){if(g!==null&&ay(d)){if(l=g.start,o=g.end,o===void 0&&(o=l),"selectionStart"in d)d.selectionStart=l,d.selectionEnd=Math.min(o,d.value.length);else if(o=(l=d.ownerDocument||document)&&l.defaultView||window,o.getSelection){o=o.getSelection();var _=d.textContent.length,T=Math.min(g.start,_);g=g.end===void 0?T:Math.min(g.end,_),!o.extend&&T>g&&(_=g,g=T,T=_),_=QS(d,T);var L=QS(d,g);_&&L&&(o.rangeCount!==1||o.anchorNode!==_.node||o.anchorOffset!==_.offset||o.focusNode!==L.node||o.focusOffset!==L.offset)&&(l=l.createRange(),l.setStart(_.node,_.offset),o.removeAllRanges(),T>g?(o.addRange(l),o.extend(L.node,L.offset)):(l.setEnd(L.node,L.offset),o.addRange(l)))}}for(l=[],o=d;o=o.parentNode;)o.nodeType===1&&l.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<l.length;d++)o=l[d],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var XF=u&&"documentMode"in document&&11>=document.documentMode,Ol=null,oy=null,vc=null,sy=!1;function eT(o,l,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;sy||Ol==null||Ol!==st(g)||(g=Ol,"selectionStart"in g&&ay(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),vc&&yc(vc,g)||(vc=g,g=lh(oy,"onSelect"),0<g.length&&(l=new wl("onSelect","select",null,l,d),o.push({event:l,listeners:g}),l.target=Ol)))}function ah(o,l){var d={};return d[o.toLowerCase()]=l.toLowerCase(),d["Webkit"+o]="webkit"+l,d["Moz"+o]="moz"+l,d}var Cl={animationend:ah("Animation","AnimationEnd"),animationiteration:ah("Animation","AnimationIteration"),animationstart:ah("Animation","AnimationStart"),transitionend:ah("Transition","TransitionEnd")},ly={},tT={};u&&(tT=document.createElement("div").style,"AnimationEvent"in window||(delete Cl.animationend.animation,delete Cl.animationiteration.animation,delete Cl.animationstart.animation),"TransitionEvent"in window||delete Cl.transitionend.transition);function oh(o){if(ly[o])return ly[o];if(!Cl[o])return o;var l=Cl[o],d;for(d in l)if(l.hasOwnProperty(d)&&d in tT)return ly[o]=l[d];return o}var rT=oh("animationend"),nT=oh("animationiteration"),iT=oh("animationstart"),aT=oh("transitionend"),oT=new Map,sT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vo(o,l){oT.set(o,l),a(l,[o])}for(var uy=0;uy<sT.length;uy++){var cy=sT[uy],QF=cy.toLowerCase(),JF=cy[0].toUpperCase()+cy.slice(1);vo(QF,"on"+JF)}vo(rT,"onAnimationEnd"),vo(nT,"onAnimationIteration"),vo(iT,"onAnimationStart"),vo("dblclick","onDoubleClick"),vo("focusin","onFocus"),vo("focusout","onBlur"),vo(aT,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZF=new Set("cancel close invalid load scroll toggle".split(" ").concat(bc));function lT(o,l,d){var g=o.type||"unknown-event";o.currentTarget=d,An(g,l,void 0,o),o.currentTarget=null}function uT(o,l){l=(l&4)!==0;for(var d=0;d<o.length;d++){var g=o[d],_=g.event;g=g.listeners;e:{var T=void 0;if(l)for(var L=g.length-1;0<=L;L--){var U=g[L],W=U.instance,te=U.currentTarget;if(U=U.listener,W!==T&&_.isPropagationStopped())break e;lT(_,U,te),T=W}else for(L=0;L<g.length;L++){if(U=g[L],W=U.instance,te=U.currentTarget,U=U.listener,W!==T&&_.isPropagationStopped())break e;lT(_,U,te),T=W}}}if($e)throw o=ht,$e=!1,ht=null,o}function Rt(o,l){var d=l[vy];d===void 0&&(d=l[vy]=new Set);var g=o+"__bubble";d.has(g)||(cT(l,o,2,!1),d.add(g))}function fy(o,l,d){var g=0;l&&(g|=4),cT(d,o,g,l)}var sh="_reactListening"+Math.random().toString(36).slice(2);function _c(o){if(!o[sh]){o[sh]=!0,n.forEach(function(d){d!=="selectionchange"&&(ZF.has(d)||fy(d,!1,o),fy(d,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[sh]||(l[sh]=!0,fy("selectionchange",!1,l))}}function cT(o,l,d,g){switch(cc(l)){case 1:var _=$t;break;case 4:_=ty;break;default:_=uc}d=_.bind(null,l,d,o),_=void 0,!ye||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(_=!0),g?_!==void 0?o.addEventListener(l,d,{capture:!0,passive:_}):o.addEventListener(l,d,!0):_!==void 0?o.addEventListener(l,d,{passive:_}):o.addEventListener(l,d,!1)}function dy(o,l,d,g,_){var T=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var L=g.tag;if(L===3||L===4){var U=g.stateNode.containerInfo;if(U===_||U.nodeType===8&&U.parentNode===_)break;if(L===4)for(L=g.return;L!==null;){var W=L.tag;if((W===3||W===4)&&(W=L.stateNode.containerInfo,W===_||W.nodeType===8&&W.parentNode===_))return;L=L.return}for(;U!==null;){if(L=ms(U),L===null)return;if(W=L.tag,W===5||W===6){g=T=L;continue e}U=U.parentNode}}g=g.return}ba(function(){var te=T,de=oo(d),me=[];e:{var fe=oT.get(o);if(fe!==void 0){var Ee=wl,ke=o;switch(o){case"keypress":if(xl(d)===0)break e;case"keydown":case"keyup":Ee=S;break;case"focusin":ke="focus",Ee=Al;break;case"focusout":ke="blur",Ee=Al;break;case"beforeblur":case"afterblur":Ee=Al;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ee=Sl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ee=Qd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ee=ne;break;case rT:case nT:case iT:Ee=Ta;break;case aT:Ee=_t;break;case"scroll":Ee=ry;break;case"wheel":Ee=at;break;case"copy":case"cut":case"paste":Ee=eh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ee=B}var Oe=(l&4)!==0,er=!Oe&&o==="scroll",X=Oe?fe!==null?fe+"Capture":null:fe;Oe=[];for(var H=te,J;H!==null;){J=H;var ge=J.stateNode;if(J.tag===5&&ge!==null&&(J=ge,X!==null&&(ge=Ut(H,X),ge!=null&&Oe.push(xc(H,ge,J)))),er)break;H=H.return}0<Oe.length&&(fe=new Ee(fe,ke,null,d,de),me.push({event:fe,listeners:Oe}))}}if((l&7)===0){e:{if(fe=o==="mouseover"||o==="pointerover",Ee=o==="mouseout"||o==="pointerout",fe&&d!==va&&(ke=d.relatedTarget||d.fromElement)&&(ms(ke)||ke[Aa]))break e;if((Ee||fe)&&(fe=de.window===de?de:(fe=de.ownerDocument)?fe.defaultView||fe.parentWindow:window,Ee?(ke=d.relatedTarget||d.toElement,Ee=te,ke=ke?ms(ke):null,ke!==null&&(er=hn(ke),ke!==er||ke.tag!==5&&ke.tag!==6)&&(ke=null)):(Ee=null,ke=te),Ee!==ke)){if(Oe=Sl,ge="onMouseLeave",X="onMouseEnter",H="mouse",(o==="pointerout"||o==="pointerover")&&(Oe=B,ge="onPointerLeave",X="onPointerEnter",H="pointer"),er=Ee==null?fe:jl(Ee),J=ke==null?fe:jl(ke),fe=new Oe(ge,H+"leave",Ee,d,de),fe.target=er,fe.relatedTarget=J,ge=null,ms(de)===te&&(Oe=new Oe(X,H+"enter",ke,d,de),Oe.target=J,Oe.relatedTarget=er,ge=Oe),er=ge,Ee&&ke)t:{for(Oe=Ee,X=ke,H=0,J=Oe;J;J=Nl(J))H++;for(J=0,ge=X;ge;ge=Nl(ge))J++;for(;0<H-J;)Oe=Nl(Oe),H--;for(;0<J-H;)X=Nl(X),J--;for(;H--;){if(Oe===X||X!==null&&Oe===X.alternate)break t;Oe=Nl(Oe),X=Nl(X)}Oe=null}else Oe=null;Ee!==null&&fT(me,fe,Ee,Oe,!1),ke!==null&&er!==null&&fT(me,er,ke,Oe,!0)}}e:{if(fe=te?jl(te):window,Ee=fe.nodeName&&fe.nodeName.toLowerCase(),Ee==="select"||Ee==="input"&&fe.type==="file")var Re=qF;else if(zS(fe))if(HS)Re=KF;else{Re=WF;var Be=zF}else(Ee=fe.nodeName)&&Ee.toLowerCase()==="input"&&(fe.type==="checkbox"||fe.type==="radio")&&(Re=HF);if(Re&&(Re=Re(o,te))){WS(me,Re,d,de);break e}Be&&Be(o,fe,te),o==="focusout"&&(Be=fe._wrapperState)&&Be.controlled&&fe.type==="number"&&Jr(fe,"number",fe.value)}switch(Be=te?jl(te):window,o){case"focusin":(zS(Be)||Be.contentEditable==="true")&&(Ol=Be,oy=te,vc=null);break;case"focusout":vc=oy=Ol=null;break;case"mousedown":sy=!0;break;case"contextmenu":case"mouseup":case"dragend":sy=!1,eT(me,d,de);break;case"selectionchange":if(XF)break;case"keydown":case"keyup":eT(me,d,de)}var Ue;if(ir)e:{switch(o){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else Il?US(o,d)&&(Ge="onCompositionEnd"):o==="keydown"&&d.keyCode===229&&(Ge="onCompositionStart");Ge&&(ps&&d.locale!=="ko"&&(Il||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&Il&&(Ue=fc()):(On=de,_l="value"in On?On.value:On.textContent,Il=!0)),Be=lh(te,Ge),0<Be.length&&(Ge=new pc(Ge,o,null,d,de),me.push({event:Ge,listeners:Be}),Ue?Ge.data=Ue:(Ue=qS(d),Ue!==null&&(Ge.data=Ue)))),(Ue=Cn?FF(o,d):VF(o,d))&&(te=lh(te,"onBeforeInput"),0<te.length&&(de=new pc("onBeforeInput","beforeinput",null,d,de),me.push({event:de,listeners:te}),de.data=Ue))}uT(me,l)})}function xc(o,l,d){return{instance:o,listener:l,currentTarget:d}}function lh(o,l){for(var d=l+"Capture",g=[];o!==null;){var _=o,T=_.stateNode;_.tag===5&&T!==null&&(_=T,T=Ut(o,d),T!=null&&g.unshift(xc(o,T,_)),T=Ut(o,l),T!=null&&g.push(xc(o,T,_))),o=o.return}return g}function Nl(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function fT(o,l,d,g,_){for(var T=l._reactName,L=[];d!==null&&d!==g;){var U=d,W=U.alternate,te=U.stateNode;if(W!==null&&W===g)break;U.tag===5&&te!==null&&(U=te,_?(W=Ut(d,T),W!=null&&L.unshift(xc(d,W,U))):_||(W=Ut(d,T),W!=null&&L.push(xc(d,W,U)))),d=d.return}L.length!==0&&o.push({event:l,listeners:L})}var eV=/\r\n?/g,tV=/\u0000|\uFFFD/g;function dT(o){return(typeof o=="string"?o:""+o).replace(eV,`
`).replace(tV,"")}function uh(o,l,d){if(l=dT(l),dT(o)!==l&&d)throw Error(r(425))}function ch(){}var hy=null,py=null;function my(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var gy=typeof setTimeout=="function"?setTimeout:void 0,rV=typeof clearTimeout=="function"?clearTimeout:void 0,hT=typeof Promise=="function"?Promise:void 0,nV=typeof queueMicrotask=="function"?queueMicrotask:typeof hT<"u"?function(o){return hT.resolve(null).then(o).catch(iV)}:gy;function iV(o){setTimeout(function(){throw o})}function yy(o,l){var d=l,g=0;do{var _=d.nextSibling;if(o.removeChild(d),_&&_.nodeType===8)if(d=_.data,d==="/$"){if(g===0){o.removeChild(_),Ei(l);return}g--}else d!=="$"&&d!=="$?"&&d!=="$!"||g++;d=_}while(d);Ei(l)}function bo(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return o}function pT(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return o;l--}else d==="/$"&&l++}o=o.previousSibling}return null}var Rl=Math.random().toString(36).slice(2),Xi="__reactFiber$"+Rl,wc="__reactProps$"+Rl,Aa="__reactContainer$"+Rl,vy="__reactEvents$"+Rl,aV="__reactListeners$"+Rl,oV="__reactHandles$"+Rl;function ms(o){var l=o[Xi];if(l)return l;for(var d=o.parentNode;d;){if(l=d[Aa]||d[Xi]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(o=pT(o);o!==null;){if(d=o[Xi])return d;o=pT(o)}return l}o=d,d=o.parentNode}return null}function Ec(o){return o=o[Xi]||o[Aa],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function jl(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(r(33))}function fh(o){return o[wc]||null}var by=[],Dl=-1;function _o(o){return{current:o}}function jt(o){0>Dl||(o.current=by[Dl],by[Dl]=null,Dl--)}function It(o,l){Dl++,by[Dl]=o.current,o.current=l}var xo={},Ur=_o(xo),gn=_o(!1),gs=xo;function Ml(o,l){var d=o.type.contextTypes;if(!d)return xo;var g=o.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===l)return g.__reactInternalMemoizedMaskedChildContext;var _={},T;for(T in d)_[T]=l[T];return g&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=_),_}function yn(o){return o=o.childContextTypes,o!=null}function dh(){jt(gn),jt(Ur)}function mT(o,l,d){if(Ur.current!==xo)throw Error(r(168));It(Ur,l),It(gn,d)}function gT(o,l,d){var g=o.stateNode;if(l=l.childContextTypes,typeof g.getChildContext!="function")return d;g=g.getChildContext();for(var _ in g)if(!(_ in l))throw Error(r(108,je(o)||"Unknown",_));return oe({},d,g)}function hh(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||xo,gs=Ur.current,It(Ur,o),It(gn,gn.current),!0}function yT(o,l,d){var g=o.stateNode;if(!g)throw Error(r(169));d?(o=gT(o,l,gs),g.__reactInternalMemoizedMergedChildContext=o,jt(gn),jt(Ur),It(Ur,o)):jt(gn),It(gn,d)}var Pa=null,ph=!1,_y=!1;function vT(o){Pa===null?Pa=[o]:Pa.push(o)}function sV(o){ph=!0,vT(o)}function wo(){if(!_y&&Pa!==null){_y=!0;var o=0,l=nt;try{var d=Pa;for(nt=1;o<d.length;o++){var g=d[o];do g=g(!0);while(g!==null)}Pa=null,ph=!1}catch(_){throw Pa!==null&&(Pa=Pa.slice(o+1)),zi(ss,wo),_}finally{nt=l,_y=!1}}return null}var Ll=[],$l=0,mh=null,gh=0,ei=[],ti=0,ys=null,ka=1,Ia="";function vs(o,l){Ll[$l++]=gh,Ll[$l++]=mh,mh=o,gh=l}function bT(o,l,d){ei[ti++]=ka,ei[ti++]=Ia,ei[ti++]=ys,ys=o;var g=ka;o=Ia;var _=32-en(g)-1;g&=~(1<<_),d+=1;var T=32-en(l)+_;if(30<T){var L=_-_%5;T=(g&(1<<L)-1).toString(32),g>>=L,_-=L,ka=1<<32-en(l)+_|d<<_|g,Ia=T+o}else ka=1<<T|d<<_|g,Ia=o}function xy(o){o.return!==null&&(vs(o,1),bT(o,1,0))}function wy(o){for(;o===mh;)mh=Ll[--$l],Ll[$l]=null,gh=Ll[--$l],Ll[$l]=null;for(;o===ys;)ys=ei[--ti],ei[ti]=null,Ia=ei[--ti],ei[ti]=null,ka=ei[--ti],ei[ti]=null}var Nn=null,Rn=null,Ft=!1,Ai=null;function _T(o,l){var d=ai(5,null,null,0);d.elementType="DELETED",d.stateNode=l,d.return=o,l=o.deletions,l===null?(o.deletions=[d],o.flags|=16):l.push(d)}function xT(o,l){switch(o.tag){case 5:var d=o.type;return l=l.nodeType!==1||d.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,Nn=o,Rn=bo(l.firstChild),!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,Nn=o,Rn=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(d=ys!==null?{id:ka,overflow:Ia}:null,o.memoizedState={dehydrated:l,treeContext:d,retryLane:1073741824},d=ai(18,null,null,0),d.stateNode=l,d.return=o,o.child=d,Nn=o,Rn=null,!0):!1;default:return!1}}function Ey(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Sy(o){if(Ft){var l=Rn;if(l){var d=l;if(!xT(o,l)){if(Ey(o))throw Error(r(418));l=bo(d.nextSibling);var g=Nn;l&&xT(o,l)?_T(g,d):(o.flags=o.flags&-4097|2,Ft=!1,Nn=o)}}else{if(Ey(o))throw Error(r(418));o.flags=o.flags&-4097|2,Ft=!1,Nn=o}}}function wT(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Nn=o}function yh(o){if(o!==Nn)return!1;if(!Ft)return wT(o),Ft=!0,!1;var l;if((l=o.tag!==3)&&!(l=o.tag!==5)&&(l=o.type,l=l!=="head"&&l!=="body"&&!my(o.type,o.memoizedProps)),l&&(l=Rn)){if(Ey(o))throw ET(),Error(r(418));for(;l;)_T(o,l),l=bo(l.nextSibling)}if(wT(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="/$"){if(l===0){Rn=bo(o.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++}o=o.nextSibling}Rn=null}}else Rn=Nn?bo(o.stateNode.nextSibling):null;return!0}function ET(){for(var o=Rn;o;)o=bo(o.nextSibling)}function Fl(){Rn=Nn=null,Ft=!1}function Ty(o){Ai===null?Ai=[o]:Ai.push(o)}var lV=$.ReactCurrentBatchConfig;function Sc(o,l,d){if(o=d.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(r(309));var g=d.stateNode}if(!g)throw Error(r(147,o));var _=g,T=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===T?l.ref:(l=function(L){var U=_.refs;L===null?delete U[T]:U[T]=L},l._stringRef=T,l)}if(typeof o!="string")throw Error(r(284));if(!d._owner)throw Error(r(290,o))}return o}function vh(o,l){throw o=Object.prototype.toString.call(l),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function ST(o){var l=o._init;return l(o._payload)}function TT(o){function l(X,H){if(o){var J=X.deletions;J===null?(X.deletions=[H],X.flags|=16):J.push(H)}}function d(X,H){if(!o)return null;for(;H!==null;)l(X,H),H=H.sibling;return null}function g(X,H){for(X=new Map;H!==null;)H.key!==null?X.set(H.key,H):X.set(H.index,H),H=H.sibling;return X}function _(X,H){return X=Oo(X,H),X.index=0,X.sibling=null,X}function T(X,H,J){return X.index=J,o?(J=X.alternate,J!==null?(J=J.index,J<H?(X.flags|=2,H):J):(X.flags|=2,H)):(X.flags|=1048576,H)}function L(X){return o&&X.alternate===null&&(X.flags|=2),X}function U(X,H,J,ge){return H===null||H.tag!==6?(H=gv(J,X.mode,ge),H.return=X,H):(H=_(H,J),H.return=X,H)}function W(X,H,J,ge){var Re=J.type;return Re===A?de(X,H,J.props.children,ge,J.key):H!==null&&(H.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===re&&ST(Re)===H.type)?(ge=_(H,J.props),ge.ref=Sc(X,H,J),ge.return=X,ge):(ge=Uh(J.type,J.key,J.props,null,X.mode,ge),ge.ref=Sc(X,H,J),ge.return=X,ge)}function te(X,H,J,ge){return H===null||H.tag!==4||H.stateNode.containerInfo!==J.containerInfo||H.stateNode.implementation!==J.implementation?(H=yv(J,X.mode,ge),H.return=X,H):(H=_(H,J.children||[]),H.return=X,H)}function de(X,H,J,ge,Re){return H===null||H.tag!==7?(H=As(J,X.mode,ge,Re),H.return=X,H):(H=_(H,J),H.return=X,H)}function me(X,H,J){if(typeof H=="string"&&H!==""||typeof H=="number")return H=gv(""+H,X.mode,J),H.return=X,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case N:return J=Uh(H.type,H.key,H.props,null,X.mode,J),J.ref=Sc(X,null,H),J.return=X,J;case j:return H=yv(H,X.mode,J),H.return=X,H;case re:var ge=H._init;return me(X,ge(H._payload),J)}if(At(H)||ie(H))return H=As(H,X.mode,J,null),H.return=X,H;vh(X,H)}return null}function fe(X,H,J,ge){var Re=H!==null?H.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return Re!==null?null:U(X,H,""+J,ge);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case N:return J.key===Re?W(X,H,J,ge):null;case j:return J.key===Re?te(X,H,J,ge):null;case re:return Re=J._init,fe(X,H,Re(J._payload),ge)}if(At(J)||ie(J))return Re!==null?null:de(X,H,J,ge,null);vh(X,J)}return null}function Ee(X,H,J,ge,Re){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return X=X.get(J)||null,U(H,X,""+ge,Re);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case N:return X=X.get(ge.key===null?J:ge.key)||null,W(H,X,ge,Re);case j:return X=X.get(ge.key===null?J:ge.key)||null,te(H,X,ge,Re);case re:var Be=ge._init;return Ee(X,H,J,Be(ge._payload),Re)}if(At(ge)||ie(ge))return X=X.get(J)||null,de(H,X,ge,Re,null);vh(H,ge)}return null}function ke(X,H,J,ge){for(var Re=null,Be=null,Ue=H,Ge=H=0,Sr=null;Ue!==null&&Ge<J.length;Ge++){Ue.index>Ge?(Sr=Ue,Ue=null):Sr=Ue.sibling;var ut=fe(X,Ue,J[Ge],ge);if(ut===null){Ue===null&&(Ue=Sr);break}o&&Ue&&ut.alternate===null&&l(X,Ue),H=T(ut,H,Ge),Be===null?Re=ut:Be.sibling=ut,Be=ut,Ue=Sr}if(Ge===J.length)return d(X,Ue),Ft&&vs(X,Ge),Re;if(Ue===null){for(;Ge<J.length;Ge++)Ue=me(X,J[Ge],ge),Ue!==null&&(H=T(Ue,H,Ge),Be===null?Re=Ue:Be.sibling=Ue,Be=Ue);return Ft&&vs(X,Ge),Re}for(Ue=g(X,Ue);Ge<J.length;Ge++)Sr=Ee(Ue,X,Ge,J[Ge],ge),Sr!==null&&(o&&Sr.alternate!==null&&Ue.delete(Sr.key===null?Ge:Sr.key),H=T(Sr,H,Ge),Be===null?Re=Sr:Be.sibling=Sr,Be=Sr);return o&&Ue.forEach(function(Co){return l(X,Co)}),Ft&&vs(X,Ge),Re}function Oe(X,H,J,ge){var Re=ie(J);if(typeof Re!="function")throw Error(r(150));if(J=Re.call(J),J==null)throw Error(r(151));for(var Be=Re=null,Ue=H,Ge=H=0,Sr=null,ut=J.next();Ue!==null&&!ut.done;Ge++,ut=J.next()){Ue.index>Ge?(Sr=Ue,Ue=null):Sr=Ue.sibling;var Co=fe(X,Ue,ut.value,ge);if(Co===null){Ue===null&&(Ue=Sr);break}o&&Ue&&Co.alternate===null&&l(X,Ue),H=T(Co,H,Ge),Be===null?Re=Co:Be.sibling=Co,Be=Co,Ue=Sr}if(ut.done)return d(X,Ue),Ft&&vs(X,Ge),Re;if(Ue===null){for(;!ut.done;Ge++,ut=J.next())ut=me(X,ut.value,ge),ut!==null&&(H=T(ut,H,Ge),Be===null?Re=ut:Be.sibling=ut,Be=ut);return Ft&&vs(X,Ge),Re}for(Ue=g(X,Ue);!ut.done;Ge++,ut=J.next())ut=Ee(Ue,X,Ge,ut.value,ge),ut!==null&&(o&&ut.alternate!==null&&Ue.delete(ut.key===null?Ge:ut.key),H=T(ut,H,Ge),Be===null?Re=ut:Be.sibling=ut,Be=ut);return o&&Ue.forEach(function(BV){return l(X,BV)}),Ft&&vs(X,Ge),Re}function er(X,H,J,ge){if(typeof J=="object"&&J!==null&&J.type===A&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case N:e:{for(var Re=J.key,Be=H;Be!==null;){if(Be.key===Re){if(Re=J.type,Re===A){if(Be.tag===7){d(X,Be.sibling),H=_(Be,J.props.children),H.return=X,X=H;break e}}else if(Be.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===re&&ST(Re)===Be.type){d(X,Be.sibling),H=_(Be,J.props),H.ref=Sc(X,Be,J),H.return=X,X=H;break e}d(X,Be);break}else l(X,Be);Be=Be.sibling}J.type===A?(H=As(J.props.children,X.mode,ge,J.key),H.return=X,X=H):(ge=Uh(J.type,J.key,J.props,null,X.mode,ge),ge.ref=Sc(X,H,J),ge.return=X,X=ge)}return L(X);case j:e:{for(Be=J.key;H!==null;){if(H.key===Be)if(H.tag===4&&H.stateNode.containerInfo===J.containerInfo&&H.stateNode.implementation===J.implementation){d(X,H.sibling),H=_(H,J.children||[]),H.return=X,X=H;break e}else{d(X,H);break}else l(X,H);H=H.sibling}H=yv(J,X.mode,ge),H.return=X,X=H}return L(X);case re:return Be=J._init,er(X,H,Be(J._payload),ge)}if(At(J))return ke(X,H,J,ge);if(ie(J))return Oe(X,H,J,ge);vh(X,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,H!==null&&H.tag===6?(d(X,H.sibling),H=_(H,J),H.return=X,X=H):(d(X,H),H=gv(J,X.mode,ge),H.return=X,X=H),L(X)):d(X,H)}return er}var Vl=TT(!0),AT=TT(!1),bh=_o(null),_h=null,Bl=null,Ay=null;function Py(){Ay=Bl=_h=null}function ky(o){var l=bh.current;jt(bh),o._currentValue=l}function Iy(o,l,d){for(;o!==null;){var g=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),o===d)break;o=o.return}}function Ul(o,l){_h=o,Ay=Bl=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&l)!==0&&(vn=!0),o.firstContext=null)}function ri(o){var l=o._currentValue;if(Ay!==o)if(o={context:o,memoizedValue:l,next:null},Bl===null){if(_h===null)throw Error(r(308));Bl=o,_h.dependencies={lanes:0,firstContext:o}}else Bl=Bl.next=o;return l}var bs=null;function Oy(o){bs===null?bs=[o]:bs.push(o)}function PT(o,l,d,g){var _=l.interleaved;return _===null?(d.next=d,Oy(l)):(d.next=_.next,_.next=d),l.interleaved=d,Oa(o,g)}function Oa(o,l){o.lanes|=l;var d=o.alternate;for(d!==null&&(d.lanes|=l),d=o,o=o.return;o!==null;)o.childLanes|=l,d=o.alternate,d!==null&&(d.childLanes|=l),d=o,o=o.return;return d.tag===3?d.stateNode:null}var Eo=!1;function Cy(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kT(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Ca(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function So(o,l,d){var g=o.updateQueue;if(g===null)return null;if(g=g.shared,(lt&2)!==0){var _=g.pending;return _===null?l.next=l:(l.next=_.next,_.next=l),g.pending=l,Oa(o,d)}return _=g.interleaved,_===null?(l.next=l,Oy(g)):(l.next=_.next,_.next=l),g.interleaved=l,Oa(o,d)}function xh(o,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194240)!==0)){var g=l.lanes;g&=o.pendingLanes,d|=g,l.lanes=d,ho(o,d)}}function IT(o,l){var d=o.updateQueue,g=o.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var _=null,T=null;if(d=d.firstBaseUpdate,d!==null){do{var L={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};T===null?_=T=L:T=T.next=L,d=d.next}while(d!==null);T===null?_=T=l:T=T.next=l}else _=T=l;d={baseState:g.baseState,firstBaseUpdate:_,lastBaseUpdate:T,shared:g.shared,effects:g.effects},o.updateQueue=d;return}o=d.lastBaseUpdate,o===null?d.firstBaseUpdate=l:o.next=l,d.lastBaseUpdate=l}function wh(o,l,d,g){var _=o.updateQueue;Eo=!1;var T=_.firstBaseUpdate,L=_.lastBaseUpdate,U=_.shared.pending;if(U!==null){_.shared.pending=null;var W=U,te=W.next;W.next=null,L===null?T=te:L.next=te,L=W;var de=o.alternate;de!==null&&(de=de.updateQueue,U=de.lastBaseUpdate,U!==L&&(U===null?de.firstBaseUpdate=te:U.next=te,de.lastBaseUpdate=W))}if(T!==null){var me=_.baseState;L=0,de=te=W=null,U=T;do{var fe=U.lane,Ee=U.eventTime;if((g&fe)===fe){de!==null&&(de=de.next={eventTime:Ee,lane:0,tag:U.tag,payload:U.payload,callback:U.callback,next:null});e:{var ke=o,Oe=U;switch(fe=l,Ee=d,Oe.tag){case 1:if(ke=Oe.payload,typeof ke=="function"){me=ke.call(Ee,me,fe);break e}me=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=Oe.payload,fe=typeof ke=="function"?ke.call(Ee,me,fe):ke,fe==null)break e;me=oe({},me,fe);break e;case 2:Eo=!0}}U.callback!==null&&U.lane!==0&&(o.flags|=64,fe=_.effects,fe===null?_.effects=[U]:fe.push(U))}else Ee={eventTime:Ee,lane:fe,tag:U.tag,payload:U.payload,callback:U.callback,next:null},de===null?(te=de=Ee,W=me):de=de.next=Ee,L|=fe;if(U=U.next,U===null){if(U=_.shared.pending,U===null)break;fe=U,U=fe.next,fe.next=null,_.lastBaseUpdate=fe,_.shared.pending=null}}while(!0);if(de===null&&(W=me),_.baseState=W,_.firstBaseUpdate=te,_.lastBaseUpdate=de,l=_.shared.interleaved,l!==null){_=l;do L|=_.lane,_=_.next;while(_!==l)}else T===null&&(_.shared.lanes=0);ws|=L,o.lanes=L,o.memoizedState=me}}function OT(o,l,d){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var g=o[l],_=g.callback;if(_!==null){if(g.callback=null,g=d,typeof _!="function")throw Error(r(191,_));_.call(g)}}}var Tc={},Qi=_o(Tc),Ac=_o(Tc),Pc=_o(Tc);function _s(o){if(o===Tc)throw Error(r(174));return o}function Ny(o,l){switch(It(Pc,l),It(Ac,o),It(Qi,Tc),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Jt(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=Jt(l,o)}jt(Qi),It(Qi,l)}function ql(){jt(Qi),jt(Ac),jt(Pc)}function CT(o){_s(Pc.current);var l=_s(Qi.current),d=Jt(l,o.type);l!==d&&(It(Ac,o),It(Qi,d))}function Ry(o){Ac.current===o&&(jt(Qi),jt(Ac))}var qt=_o(0);function Eh(o){for(var l=o;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var jy=[];function Dy(){for(var o=0;o<jy.length;o++)jy[o]._workInProgressVersionPrimary=null;jy.length=0}var Sh=$.ReactCurrentDispatcher,My=$.ReactCurrentBatchConfig,xs=0,zt=null,dr=null,wr=null,Th=!1,kc=!1,Ic=0,uV=0;function qr(){throw Error(r(321))}function Ly(o,l){if(l===null)return!1;for(var d=0;d<l.length&&d<o.length;d++)if(!Ti(o[d],l[d]))return!1;return!0}function $y(o,l,d,g,_,T){if(xs=T,zt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Sh.current=o===null||o.memoizedState===null?hV:pV,o=d(g,_),kc){T=0;do{if(kc=!1,Ic=0,25<=T)throw Error(r(301));T+=1,wr=dr=null,l.updateQueue=null,Sh.current=mV,o=d(g,_)}while(kc)}if(Sh.current=kh,l=dr!==null&&dr.next!==null,xs=0,wr=dr=zt=null,Th=!1,l)throw Error(r(300));return o}function Fy(){var o=Ic!==0;return Ic=0,o}function Ji(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wr===null?zt.memoizedState=wr=o:wr=wr.next=o,wr}function ni(){if(dr===null){var o=zt.alternate;o=o!==null?o.memoizedState:null}else o=dr.next;var l=wr===null?zt.memoizedState:wr.next;if(l!==null)wr=l,dr=o;else{if(o===null)throw Error(r(310));dr=o,o={memoizedState:dr.memoizedState,baseState:dr.baseState,baseQueue:dr.baseQueue,queue:dr.queue,next:null},wr===null?zt.memoizedState=wr=o:wr=wr.next=o}return wr}function Oc(o,l){return typeof l=="function"?l(o):l}function Vy(o){var l=ni(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=o;var g=dr,_=g.baseQueue,T=d.pending;if(T!==null){if(_!==null){var L=_.next;_.next=T.next,T.next=L}g.baseQueue=_=T,d.pending=null}if(_!==null){T=_.next,g=g.baseState;var U=L=null,W=null,te=T;do{var de=te.lane;if((xs&de)===de)W!==null&&(W=W.next={lane:0,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),g=te.hasEagerState?te.eagerState:o(g,te.action);else{var me={lane:de,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null};W===null?(U=W=me,L=g):W=W.next=me,zt.lanes|=de,ws|=de}te=te.next}while(te!==null&&te!==T);W===null?L=g:W.next=U,Ti(g,l.memoizedState)||(vn=!0),l.memoizedState=g,l.baseState=L,l.baseQueue=W,d.lastRenderedState=g}if(o=d.interleaved,o!==null){_=o;do T=_.lane,zt.lanes|=T,ws|=T,_=_.next;while(_!==o)}else _===null&&(d.lanes=0);return[l.memoizedState,d.dispatch]}function By(o){var l=ni(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=o;var g=d.dispatch,_=d.pending,T=l.memoizedState;if(_!==null){d.pending=null;var L=_=_.next;do T=o(T,L.action),L=L.next;while(L!==_);Ti(T,l.memoizedState)||(vn=!0),l.memoizedState=T,l.baseQueue===null&&(l.baseState=T),d.lastRenderedState=T}return[T,g]}function NT(){}function RT(o,l){var d=zt,g=ni(),_=l(),T=!Ti(g.memoizedState,_);if(T&&(g.memoizedState=_,vn=!0),g=g.queue,Uy(MT.bind(null,d,g,o),[o]),g.getSnapshot!==l||T||wr!==null&&wr.memoizedState.tag&1){if(d.flags|=2048,Cc(9,DT.bind(null,d,g,_,l),void 0,null),Er===null)throw Error(r(349));(xs&30)!==0||jT(d,l,_)}return _}function jT(o,l,d){o.flags|=16384,o={getSnapshot:l,value:d},l=zt.updateQueue,l===null?(l={lastEffect:null,stores:null},zt.updateQueue=l,l.stores=[o]):(d=l.stores,d===null?l.stores=[o]:d.push(o))}function DT(o,l,d,g){l.value=d,l.getSnapshot=g,LT(l)&&$T(o)}function MT(o,l,d){return d(function(){LT(l)&&$T(o)})}function LT(o){var l=o.getSnapshot;o=o.value;try{var d=l();return!Ti(o,d)}catch{return!0}}function $T(o){var l=Oa(o,1);l!==null&&Oi(l,o,1,-1)}function FT(o){var l=Ji();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oc,lastRenderedState:o},l.queue=o,o=o.dispatch=dV.bind(null,zt,o),[l.memoizedState,o]}function Cc(o,l,d,g){return o={tag:o,create:l,destroy:d,deps:g,next:null},l=zt.updateQueue,l===null?(l={lastEffect:null,stores:null},zt.updateQueue=l,l.lastEffect=o.next=o):(d=l.lastEffect,d===null?l.lastEffect=o.next=o:(g=d.next,d.next=o,o.next=g,l.lastEffect=o)),o}function VT(){return ni().memoizedState}function Ah(o,l,d,g){var _=Ji();zt.flags|=o,_.memoizedState=Cc(1|l,d,void 0,g===void 0?null:g)}function Ph(o,l,d,g){var _=ni();g=g===void 0?null:g;var T=void 0;if(dr!==null){var L=dr.memoizedState;if(T=L.destroy,g!==null&&Ly(g,L.deps)){_.memoizedState=Cc(l,d,T,g);return}}zt.flags|=o,_.memoizedState=Cc(1|l,d,T,g)}function BT(o,l){return Ah(8390656,8,o,l)}function Uy(o,l){return Ph(2048,8,o,l)}function UT(o,l){return Ph(4,2,o,l)}function qT(o,l){return Ph(4,4,o,l)}function zT(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function WT(o,l,d){return d=d!=null?d.concat([o]):null,Ph(4,4,zT.bind(null,l,o),d)}function qy(){}function HT(o,l){var d=ni();l=l===void 0?null:l;var g=d.memoizedState;return g!==null&&l!==null&&Ly(l,g[1])?g[0]:(d.memoizedState=[o,l],o)}function KT(o,l){var d=ni();l=l===void 0?null:l;var g=d.memoizedState;return g!==null&&l!==null&&Ly(l,g[1])?g[0]:(o=o(),d.memoizedState=[o,l],o)}function GT(o,l,d){return(xs&21)===0?(o.baseState&&(o.baseState=!1,vn=!0),o.memoizedState=d):(Ti(d,l)||(d=cs(),zt.lanes|=d,ws|=d,o.baseState=!0),l)}function cV(o,l){var d=nt;nt=d!==0&&4>d?d:4,o(!0);var g=My.transition;My.transition={};try{o(!1),l()}finally{nt=d,My.transition=g}}function YT(){return ni().memoizedState}function fV(o,l,d){var g=ko(o);if(d={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null},XT(o))QT(l,d);else if(d=PT(o,l,d,g),d!==null){var _=nn();Oi(d,o,g,_),JT(d,l,g)}}function dV(o,l,d){var g=ko(o),_={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null};if(XT(o))QT(l,_);else{var T=o.alternate;if(o.lanes===0&&(T===null||T.lanes===0)&&(T=l.lastRenderedReducer,T!==null))try{var L=l.lastRenderedState,U=T(L,d);if(_.hasEagerState=!0,_.eagerState=U,Ti(U,L)){var W=l.interleaved;W===null?(_.next=_,Oy(l)):(_.next=W.next,W.next=_),l.interleaved=_;return}}catch{}finally{}d=PT(o,l,_,g),d!==null&&(_=nn(),Oi(d,o,g,_),JT(d,l,g))}}function XT(o){var l=o.alternate;return o===zt||l!==null&&l===zt}function QT(o,l){kc=Th=!0;var d=o.pending;d===null?l.next=l:(l.next=d.next,d.next=l),o.pending=l}function JT(o,l,d){if((d&4194240)!==0){var g=l.lanes;g&=o.pendingLanes,d|=g,l.lanes=d,ho(o,d)}}var kh={readContext:ri,useCallback:qr,useContext:qr,useEffect:qr,useImperativeHandle:qr,useInsertionEffect:qr,useLayoutEffect:qr,useMemo:qr,useReducer:qr,useRef:qr,useState:qr,useDebugValue:qr,useDeferredValue:qr,useTransition:qr,useMutableSource:qr,useSyncExternalStore:qr,useId:qr,unstable_isNewReconciler:!1},hV={readContext:ri,useCallback:function(o,l){return Ji().memoizedState=[o,l===void 0?null:l],o},useContext:ri,useEffect:BT,useImperativeHandle:function(o,l,d){return d=d!=null?d.concat([o]):null,Ah(4194308,4,zT.bind(null,l,o),d)},useLayoutEffect:function(o,l){return Ah(4194308,4,o,l)},useInsertionEffect:function(o,l){return Ah(4,2,o,l)},useMemo:function(o,l){var d=Ji();return l=l===void 0?null:l,o=o(),d.memoizedState=[o,l],o},useReducer:function(o,l,d){var g=Ji();return l=d!==void 0?d(l):l,g.memoizedState=g.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},g.queue=o,o=o.dispatch=fV.bind(null,zt,o),[g.memoizedState,o]},useRef:function(o){var l=Ji();return o={current:o},l.memoizedState=o},useState:FT,useDebugValue:qy,useDeferredValue:function(o){return Ji().memoizedState=o},useTransition:function(){var o=FT(!1),l=o[0];return o=cV.bind(null,o[1]),Ji().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,d){var g=zt,_=Ji();if(Ft){if(d===void 0)throw Error(r(407));d=d()}else{if(d=l(),Er===null)throw Error(r(349));(xs&30)!==0||jT(g,l,d)}_.memoizedState=d;var T={value:d,getSnapshot:l};return _.queue=T,BT(MT.bind(null,g,T,o),[o]),g.flags|=2048,Cc(9,DT.bind(null,g,T,d,l),void 0,null),d},useId:function(){var o=Ji(),l=Er.identifierPrefix;if(Ft){var d=Ia,g=ka;d=(g&~(1<<32-en(g)-1)).toString(32)+d,l=":"+l+"R"+d,d=Ic++,0<d&&(l+="H"+d.toString(32)),l+=":"}else d=uV++,l=":"+l+"r"+d.toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},pV={readContext:ri,useCallback:HT,useContext:ri,useEffect:Uy,useImperativeHandle:WT,useInsertionEffect:UT,useLayoutEffect:qT,useMemo:KT,useReducer:Vy,useRef:VT,useState:function(){return Vy(Oc)},useDebugValue:qy,useDeferredValue:function(o){var l=ni();return GT(l,dr.memoizedState,o)},useTransition:function(){var o=Vy(Oc)[0],l=ni().memoizedState;return[o,l]},useMutableSource:NT,useSyncExternalStore:RT,useId:YT,unstable_isNewReconciler:!1},mV={readContext:ri,useCallback:HT,useContext:ri,useEffect:Uy,useImperativeHandle:WT,useInsertionEffect:UT,useLayoutEffect:qT,useMemo:KT,useReducer:By,useRef:VT,useState:function(){return By(Oc)},useDebugValue:qy,useDeferredValue:function(o){var l=ni();return dr===null?l.memoizedState=o:GT(l,dr.memoizedState,o)},useTransition:function(){var o=By(Oc)[0],l=ni().memoizedState;return[o,l]},useMutableSource:NT,useSyncExternalStore:RT,useId:YT,unstable_isNewReconciler:!1};function Pi(o,l){if(o&&o.defaultProps){l=oe({},l),o=o.defaultProps;for(var d in o)l[d]===void 0&&(l[d]=o[d]);return l}return l}function zy(o,l,d,g){l=o.memoizedState,d=d(g,l),d=d==null?l:oe({},l,d),o.memoizedState=d,o.lanes===0&&(o.updateQueue.baseState=d)}var Ih={isMounted:function(o){return(o=o._reactInternals)?hn(o)===o:!1},enqueueSetState:function(o,l,d){o=o._reactInternals;var g=nn(),_=ko(o),T=Ca(g,_);T.payload=l,d!=null&&(T.callback=d),l=So(o,T,_),l!==null&&(Oi(l,o,_,g),xh(l,o,_))},enqueueReplaceState:function(o,l,d){o=o._reactInternals;var g=nn(),_=ko(o),T=Ca(g,_);T.tag=1,T.payload=l,d!=null&&(T.callback=d),l=So(o,T,_),l!==null&&(Oi(l,o,_,g),xh(l,o,_))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var d=nn(),g=ko(o),_=Ca(d,g);_.tag=2,l!=null&&(_.callback=l),l=So(o,_,g),l!==null&&(Oi(l,o,g,d),xh(l,o,g))}};function ZT(o,l,d,g,_,T,L){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(g,T,L):l.prototype&&l.prototype.isPureReactComponent?!yc(d,g)||!yc(_,T):!0}function eA(o,l,d){var g=!1,_=xo,T=l.contextType;return typeof T=="object"&&T!==null?T=ri(T):(_=yn(l)?gs:Ur.current,g=l.contextTypes,T=(g=g!=null)?Ml(o,_):xo),l=new l(d,T),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Ih,o.stateNode=l,l._reactInternals=o,g&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=_,o.__reactInternalMemoizedMaskedChildContext=T),l}function tA(o,l,d,g){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,g),l.state!==o&&Ih.enqueueReplaceState(l,l.state,null)}function Wy(o,l,d,g){var _=o.stateNode;_.props=d,_.state=o.memoizedState,_.refs={},Cy(o);var T=l.contextType;typeof T=="object"&&T!==null?_.context=ri(T):(T=yn(l)?gs:Ur.current,_.context=Ml(o,T)),_.state=o.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(zy(o,l,T,d),_.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(l=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),l!==_.state&&Ih.enqueueReplaceState(_,_.state,null),wh(o,d,_,g),_.state=o.memoizedState),typeof _.componentDidMount=="function"&&(o.flags|=4194308)}function zl(o,l){try{var d="",g=l;do d+=Ne(g),g=g.return;while(g);var _=d}catch(T){_=`
Error generating stack: `+T.message+`
`+T.stack}return{value:o,source:l,stack:_,digest:null}}function Hy(o,l,d){return{value:o,source:null,stack:d??null,digest:l??null}}function Ky(o,l){try{console.error(l.value)}catch(d){setTimeout(function(){throw d})}}var gV=typeof WeakMap=="function"?WeakMap:Map;function rA(o,l,d){d=Ca(-1,d),d.tag=3,d.payload={element:null};var g=l.value;return d.callback=function(){Mh||(Mh=!0,lv=g),Ky(o,l)},d}function nA(o,l,d){d=Ca(-1,d),d.tag=3;var g=o.type.getDerivedStateFromError;if(typeof g=="function"){var _=l.value;d.payload=function(){return g(_)},d.callback=function(){Ky(o,l)}}var T=o.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(d.callback=function(){Ky(o,l),typeof g!="function"&&(Ao===null?Ao=new Set([this]):Ao.add(this));var L=l.stack;this.componentDidCatch(l.value,{componentStack:L!==null?L:""})}),d}function iA(o,l,d){var g=o.pingCache;if(g===null){g=o.pingCache=new gV;var _=new Set;g.set(l,_)}else _=g.get(l),_===void 0&&(_=new Set,g.set(l,_));_.has(d)||(_.add(d),o=OV.bind(null,o,l,d),l.then(o,o))}function aA(o){do{var l;if((l=o.tag===13)&&(l=o.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return o;o=o.return}while(o!==null);return null}function oA(o,l,d,g,_){return(o.mode&1)===0?(o===l?o.flags|=65536:(o.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(l=Ca(-1,1),l.tag=2,So(d,l,1))),d.lanes|=1),o):(o.flags|=65536,o.lanes=_,o)}var yV=$.ReactCurrentOwner,vn=!1;function rn(o,l,d,g){l.child=o===null?AT(l,null,d,g):Vl(l,o.child,d,g)}function sA(o,l,d,g,_){d=d.render;var T=l.ref;return Ul(l,_),g=$y(o,l,d,g,T,_),d=Fy(),o!==null&&!vn?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~_,Na(o,l,_)):(Ft&&d&&xy(l),l.flags|=1,rn(o,l,g,_),l.child)}function lA(o,l,d,g,_){if(o===null){var T=d.type;return typeof T=="function"&&!mv(T)&&T.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(l.tag=15,l.type=T,uA(o,l,T,g,_)):(o=Uh(d.type,null,g,l,l.mode,_),o.ref=l.ref,o.return=l,l.child=o)}if(T=o.child,(o.lanes&_)===0){var L=T.memoizedProps;if(d=d.compare,d=d!==null?d:yc,d(L,g)&&o.ref===l.ref)return Na(o,l,_)}return l.flags|=1,o=Oo(T,g),o.ref=l.ref,o.return=l,l.child=o}function uA(o,l,d,g,_){if(o!==null){var T=o.memoizedProps;if(yc(T,g)&&o.ref===l.ref)if(vn=!1,l.pendingProps=g=T,(o.lanes&_)!==0)(o.flags&131072)!==0&&(vn=!0);else return l.lanes=o.lanes,Na(o,l,_)}return Gy(o,l,d,g,_)}function cA(o,l,d){var g=l.pendingProps,_=g.children,T=o!==null?o.memoizedState:null;if(g.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},It(Hl,jn),jn|=d;else{if((d&1073741824)===0)return o=T!==null?T.baseLanes|d:d,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,It(Hl,jn),jn|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=T!==null?T.baseLanes:d,It(Hl,jn),jn|=g}else T!==null?(g=T.baseLanes|d,l.memoizedState=null):g=d,It(Hl,jn),jn|=g;return rn(o,l,_,d),l.child}function fA(o,l){var d=l.ref;(o===null&&d!==null||o!==null&&o.ref!==d)&&(l.flags|=512,l.flags|=2097152)}function Gy(o,l,d,g,_){var T=yn(d)?gs:Ur.current;return T=Ml(l,T),Ul(l,_),d=$y(o,l,d,g,T,_),g=Fy(),o!==null&&!vn?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~_,Na(o,l,_)):(Ft&&g&&xy(l),l.flags|=1,rn(o,l,d,_),l.child)}function dA(o,l,d,g,_){if(yn(d)){var T=!0;hh(l)}else T=!1;if(Ul(l,_),l.stateNode===null)Ch(o,l),eA(l,d,g),Wy(l,d,g,_),g=!0;else if(o===null){var L=l.stateNode,U=l.memoizedProps;L.props=U;var W=L.context,te=d.contextType;typeof te=="object"&&te!==null?te=ri(te):(te=yn(d)?gs:Ur.current,te=Ml(l,te));var de=d.getDerivedStateFromProps,me=typeof de=="function"||typeof L.getSnapshotBeforeUpdate=="function";me||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(U!==g||W!==te)&&tA(l,L,g,te),Eo=!1;var fe=l.memoizedState;L.state=fe,wh(l,g,L,_),W=l.memoizedState,U!==g||fe!==W||gn.current||Eo?(typeof de=="function"&&(zy(l,d,de,g),W=l.memoizedState),(U=Eo||ZT(l,d,U,g,fe,W,te))?(me||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(l.flags|=4194308)):(typeof L.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=W),L.props=g,L.state=W,L.context=te,g=U):(typeof L.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{L=l.stateNode,kT(o,l),U=l.memoizedProps,te=l.type===l.elementType?U:Pi(l.type,U),L.props=te,me=l.pendingProps,fe=L.context,W=d.contextType,typeof W=="object"&&W!==null?W=ri(W):(W=yn(d)?gs:Ur.current,W=Ml(l,W));var Ee=d.getDerivedStateFromProps;(de=typeof Ee=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(U!==me||fe!==W)&&tA(l,L,g,W),Eo=!1,fe=l.memoizedState,L.state=fe,wh(l,g,L,_);var ke=l.memoizedState;U!==me||fe!==ke||gn.current||Eo?(typeof Ee=="function"&&(zy(l,d,Ee,g),ke=l.memoizedState),(te=Eo||ZT(l,d,te,g,fe,ke,W)||!1)?(de||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(g,ke,W),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(g,ke,W)),typeof L.componentDidUpdate=="function"&&(l.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof L.componentDidUpdate!="function"||U===o.memoizedProps&&fe===o.memoizedState||(l.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||U===o.memoizedProps&&fe===o.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=ke),L.props=g,L.state=ke,L.context=W,g=te):(typeof L.componentDidUpdate!="function"||U===o.memoizedProps&&fe===o.memoizedState||(l.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||U===o.memoizedProps&&fe===o.memoizedState||(l.flags|=1024),g=!1)}return Yy(o,l,d,g,T,_)}function Yy(o,l,d,g,_,T){fA(o,l);var L=(l.flags&128)!==0;if(!g&&!L)return _&&yT(l,d,!1),Na(o,l,T);g=l.stateNode,yV.current=l;var U=L&&typeof d.getDerivedStateFromError!="function"?null:g.render();return l.flags|=1,o!==null&&L?(l.child=Vl(l,o.child,null,T),l.child=Vl(l,null,U,T)):rn(o,l,U,T),l.memoizedState=g.state,_&&yT(l,d,!0),l.child}function hA(o){var l=o.stateNode;l.pendingContext?mT(o,l.pendingContext,l.pendingContext!==l.context):l.context&&mT(o,l.context,!1),Ny(o,l.containerInfo)}function pA(o,l,d,g,_){return Fl(),Ty(_),l.flags|=256,rn(o,l,d,g),l.child}var Xy={dehydrated:null,treeContext:null,retryLane:0};function Qy(o){return{baseLanes:o,cachePool:null,transitions:null}}function mA(o,l,d){var g=l.pendingProps,_=qt.current,T=!1,L=(l.flags&128)!==0,U;if((U=L)||(U=o!==null&&o.memoizedState===null?!1:(_&2)!==0),U?(T=!0,l.flags&=-129):(o===null||o.memoizedState!==null)&&(_|=1),It(qt,_&1),o===null)return Sy(l),o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((l.mode&1)===0?l.lanes=1:o.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(L=g.children,o=g.fallback,T?(g=l.mode,T=l.child,L={mode:"hidden",children:L},(g&1)===0&&T!==null?(T.childLanes=0,T.pendingProps=L):T=qh(L,g,0,null),o=As(o,g,d,null),T.return=l,o.return=l,T.sibling=o,l.child=T,l.child.memoizedState=Qy(d),l.memoizedState=Xy,o):Jy(l,L));if(_=o.memoizedState,_!==null&&(U=_.dehydrated,U!==null))return vV(o,l,L,g,U,_,d);if(T){T=g.fallback,L=l.mode,_=o.child,U=_.sibling;var W={mode:"hidden",children:g.children};return(L&1)===0&&l.child!==_?(g=l.child,g.childLanes=0,g.pendingProps=W,l.deletions=null):(g=Oo(_,W),g.subtreeFlags=_.subtreeFlags&14680064),U!==null?T=Oo(U,T):(T=As(T,L,d,null),T.flags|=2),T.return=l,g.return=l,g.sibling=T,l.child=g,g=T,T=l.child,L=o.child.memoizedState,L=L===null?Qy(d):{baseLanes:L.baseLanes|d,cachePool:null,transitions:L.transitions},T.memoizedState=L,T.childLanes=o.childLanes&~d,l.memoizedState=Xy,g}return T=o.child,o=T.sibling,g=Oo(T,{mode:"visible",children:g.children}),(l.mode&1)===0&&(g.lanes=d),g.return=l,g.sibling=null,o!==null&&(d=l.deletions,d===null?(l.deletions=[o],l.flags|=16):d.push(o)),l.child=g,l.memoizedState=null,g}function Jy(o,l){return l=qh({mode:"visible",children:l},o.mode,0,null),l.return=o,o.child=l}function Oh(o,l,d,g){return g!==null&&Ty(g),Vl(l,o.child,null,d),o=Jy(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function vV(o,l,d,g,_,T,L){if(d)return l.flags&256?(l.flags&=-257,g=Hy(Error(r(422))),Oh(o,l,L,g)):l.memoizedState!==null?(l.child=o.child,l.flags|=128,null):(T=g.fallback,_=l.mode,g=qh({mode:"visible",children:g.children},_,0,null),T=As(T,_,L,null),T.flags|=2,g.return=l,T.return=l,g.sibling=T,l.child=g,(l.mode&1)!==0&&Vl(l,o.child,null,L),l.child.memoizedState=Qy(L),l.memoizedState=Xy,T);if((l.mode&1)===0)return Oh(o,l,L,null);if(_.data==="$!"){if(g=_.nextSibling&&_.nextSibling.dataset,g)var U=g.dgst;return g=U,T=Error(r(419)),g=Hy(T,g,void 0),Oh(o,l,L,g)}if(U=(L&o.childLanes)!==0,vn||U){if(g=Er,g!==null){switch(L&-L){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=(_&(g.suspendedLanes|L))!==0?0:_,_!==0&&_!==T.retryLane&&(T.retryLane=_,Oa(o,_),Oi(g,o,_,-1))}return pv(),g=Hy(Error(r(421))),Oh(o,l,L,g)}return _.data==="$?"?(l.flags|=128,l.child=o.child,l=CV.bind(null,o),_._reactRetry=l,null):(o=T.treeContext,Rn=bo(_.nextSibling),Nn=l,Ft=!0,Ai=null,o!==null&&(ei[ti++]=ka,ei[ti++]=Ia,ei[ti++]=ys,ka=o.id,Ia=o.overflow,ys=l),l=Jy(l,g.children),l.flags|=4096,l)}function gA(o,l,d){o.lanes|=l;var g=o.alternate;g!==null&&(g.lanes|=l),Iy(o.return,l,d)}function Zy(o,l,d,g,_){var T=o.memoizedState;T===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:_}:(T.isBackwards=l,T.rendering=null,T.renderingStartTime=0,T.last=g,T.tail=d,T.tailMode=_)}function yA(o,l,d){var g=l.pendingProps,_=g.revealOrder,T=g.tail;if(rn(o,l,g.children,d),g=qt.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&gA(o,d,l);else if(o.tag===19)gA(o,d,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}g&=1}if(It(qt,g),(l.mode&1)===0)l.memoizedState=null;else switch(_){case"forwards":for(d=l.child,_=null;d!==null;)o=d.alternate,o!==null&&Eh(o)===null&&(_=d),d=d.sibling;d=_,d===null?(_=l.child,l.child=null):(_=d.sibling,d.sibling=null),Zy(l,!1,_,d,T);break;case"backwards":for(d=null,_=l.child,l.child=null;_!==null;){if(o=_.alternate,o!==null&&Eh(o)===null){l.child=_;break}o=_.sibling,_.sibling=d,d=_,_=o}Zy(l,!0,d,null,T);break;case"together":Zy(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Ch(o,l){(l.mode&1)===0&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function Na(o,l,d){if(o!==null&&(l.dependencies=o.dependencies),ws|=l.lanes,(d&l.childLanes)===0)return null;if(o!==null&&l.child!==o.child)throw Error(r(153));if(l.child!==null){for(o=l.child,d=Oo(o,o.pendingProps),l.child=d,d.return=l;o.sibling!==null;)o=o.sibling,d=d.sibling=Oo(o,o.pendingProps),d.return=l;d.sibling=null}return l.child}function bV(o,l,d){switch(l.tag){case 3:hA(l),Fl();break;case 5:CT(l);break;case 1:yn(l.type)&&hh(l);break;case 4:Ny(l,l.stateNode.containerInfo);break;case 10:var g=l.type._context,_=l.memoizedProps.value;It(bh,g._currentValue),g._currentValue=_;break;case 13:if(g=l.memoizedState,g!==null)return g.dehydrated!==null?(It(qt,qt.current&1),l.flags|=128,null):(d&l.child.childLanes)!==0?mA(o,l,d):(It(qt,qt.current&1),o=Na(o,l,d),o!==null?o.sibling:null);It(qt,qt.current&1);break;case 19:if(g=(d&l.childLanes)!==0,(o.flags&128)!==0){if(g)return yA(o,l,d);l.flags|=128}if(_=l.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),It(qt,qt.current),g)break;return null;case 22:case 23:return l.lanes=0,cA(o,l,d)}return Na(o,l,d)}var vA,ev,bA,_A;vA=function(o,l){for(var d=l.child;d!==null;){if(d.tag===5||d.tag===6)o.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},ev=function(){},bA=function(o,l,d,g){var _=o.memoizedProps;if(_!==g){o=l.stateNode,_s(Qi.current);var T=null;switch(d){case"input":_=He(o,_),g=He(o,g),T=[];break;case"select":_=oe({},_,{value:void 0}),g=oe({},g,{value:void 0}),T=[];break;case"textarea":_=Or(o,_),g=Or(o,g),T=[];break;default:typeof _.onClick!="function"&&typeof g.onClick=="function"&&(o.onclick=ch)}os(d,g);var L;d=null;for(te in _)if(!g.hasOwnProperty(te)&&_.hasOwnProperty(te)&&_[te]!=null)if(te==="style"){var U=_[te];for(L in U)U.hasOwnProperty(L)&&(d||(d={}),d[L]="")}else te!=="dangerouslySetInnerHTML"&&te!=="children"&&te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&te!=="autoFocus"&&(i.hasOwnProperty(te)?T||(T=[]):(T=T||[]).push(te,null));for(te in g){var W=g[te];if(U=_?.[te],g.hasOwnProperty(te)&&W!==U&&(W!=null||U!=null))if(te==="style")if(U){for(L in U)!U.hasOwnProperty(L)||W&&W.hasOwnProperty(L)||(d||(d={}),d[L]="");for(L in W)W.hasOwnProperty(L)&&U[L]!==W[L]&&(d||(d={}),d[L]=W[L])}else d||(T||(T=[]),T.push(te,d)),d=W;else te==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,U=U?U.__html:void 0,W!=null&&U!==W&&(T=T||[]).push(te,W)):te==="children"?typeof W!="string"&&typeof W!="number"||(T=T||[]).push(te,""+W):te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&(i.hasOwnProperty(te)?(W!=null&&te==="onScroll"&&Rt("scroll",o),T||U===W||(T=[])):(T=T||[]).push(te,W))}d&&(T=T||[]).push("style",d);var te=T;(l.updateQueue=te)&&(l.flags|=4)}},_A=function(o,l,d,g){d!==g&&(l.flags|=4)};function Nc(o,l){if(!Ft)switch(o.tailMode){case"hidden":l=o.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o.tail=null:d.sibling=null;break;case"collapsed":d=o.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:g.sibling=null}}function zr(o){var l=o.alternate!==null&&o.alternate.child===o.child,d=0,g=0;if(l)for(var _=o.child;_!==null;)d|=_.lanes|_.childLanes,g|=_.subtreeFlags&14680064,g|=_.flags&14680064,_.return=o,_=_.sibling;else for(_=o.child;_!==null;)d|=_.lanes|_.childLanes,g|=_.subtreeFlags,g|=_.flags,_.return=o,_=_.sibling;return o.subtreeFlags|=g,o.childLanes=d,l}function _V(o,l,d){var g=l.pendingProps;switch(wy(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zr(l),null;case 1:return yn(l.type)&&dh(),zr(l),null;case 3:return g=l.stateNode,ql(),jt(gn),jt(Ur),Dy(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(o===null||o.child===null)&&(yh(l)?l.flags|=4:o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Ai!==null&&(fv(Ai),Ai=null))),ev(o,l),zr(l),null;case 5:Ry(l);var _=_s(Pc.current);if(d=l.type,o!==null&&l.stateNode!=null)bA(o,l,d,g,_),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!g){if(l.stateNode===null)throw Error(r(166));return zr(l),null}if(o=_s(Qi.current),yh(l)){g=l.stateNode,d=l.type;var T=l.memoizedProps;switch(g[Xi]=l,g[wc]=T,o=(l.mode&1)!==0,d){case"dialog":Rt("cancel",g),Rt("close",g);break;case"iframe":case"object":case"embed":Rt("load",g);break;case"video":case"audio":for(_=0;_<bc.length;_++)Rt(bc[_],g);break;case"source":Rt("error",g);break;case"img":case"image":case"link":Rt("error",g),Rt("load",g);break;case"details":Rt("toggle",g);break;case"input":pt(g,T),Rt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!T.multiple},Rt("invalid",g);break;case"textarea":Zr(g,T),Rt("invalid",g)}os(d,T),_=null;for(var L in T)if(T.hasOwnProperty(L)){var U=T[L];L==="children"?typeof U=="string"?g.textContent!==U&&(T.suppressHydrationWarning!==!0&&uh(g.textContent,U,o),_=["children",U]):typeof U=="number"&&g.textContent!==""+U&&(T.suppressHydrationWarning!==!0&&uh(g.textContent,U,o),_=["children",""+U]):i.hasOwnProperty(L)&&U!=null&&L==="onScroll"&&Rt("scroll",g)}switch(d){case"input":ze(g),cr(g,T,!0);break;case"textarea":ze(g),Bi(g);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(g.onclick=ch)}g=_,l.updateQueue=g,g!==null&&(l.flags|=4)}else{L=_.nodeType===9?_:_.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Kt(d)),o==="http://www.w3.org/1999/xhtml"?d==="script"?(o=L.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof g.is=="string"?o=L.createElement(d,{is:g.is}):(o=L.createElement(d),d==="select"&&(L=o,g.multiple?L.multiple=!0:g.size&&(L.size=g.size))):o=L.createElementNS(o,d),o[Xi]=l,o[wc]=g,vA(o,l,!1,!1),l.stateNode=o;e:{switch(L=Kn(d,g),d){case"dialog":Rt("cancel",o),Rt("close",o),_=g;break;case"iframe":case"object":case"embed":Rt("load",o),_=g;break;case"video":case"audio":for(_=0;_<bc.length;_++)Rt(bc[_],o);_=g;break;case"source":Rt("error",o),_=g;break;case"img":case"image":case"link":Rt("error",o),Rt("load",o),_=g;break;case"details":Rt("toggle",o),_=g;break;case"input":pt(o,g),_=He(o,g),Rt("invalid",o);break;case"option":_=g;break;case"select":o._wrapperState={wasMultiple:!!g.multiple},_=oe({},g,{value:void 0}),Rt("invalid",o);break;case"textarea":Zr(o,g),_=Or(o,g),Rt("invalid",o);break;default:_=g}os(d,_),U=_;for(T in U)if(U.hasOwnProperty(T)){var W=U[T];T==="style"?gi(o,W):T==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,W!=null&&as(o,W)):T==="children"?typeof W=="string"?(d!=="textarea"||W!=="")&&Ui(o,W):typeof W=="number"&&Ui(o,""+W):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(i.hasOwnProperty(T)?W!=null&&T==="onScroll"&&Rt("scroll",o):W!=null&&I(o,T,W,L))}switch(d){case"input":ze(o),cr(o,g,!1);break;case"textarea":ze(o),Bi(o);break;case"option":g.value!=null&&o.setAttribute("value",""+Fe(g.value));break;case"select":o.multiple=!!g.multiple,T=g.value,T!=null?Pt(o,!!g.multiple,T,!1):g.defaultValue!=null&&Pt(o,!!g.multiple,g.defaultValue,!0);break;default:typeof _.onClick=="function"&&(o.onclick=ch)}switch(d){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return zr(l),null;case 6:if(o&&l.stateNode!=null)_A(o,l,o.memoizedProps,g);else{if(typeof g!="string"&&l.stateNode===null)throw Error(r(166));if(d=_s(Pc.current),_s(Qi.current),yh(l)){if(g=l.stateNode,d=l.memoizedProps,g[Xi]=l,(T=g.nodeValue!==d)&&(o=Nn,o!==null))switch(o.tag){case 3:uh(g.nodeValue,d,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&uh(g.nodeValue,d,(o.mode&1)!==0)}T&&(l.flags|=4)}else g=(d.nodeType===9?d:d.ownerDocument).createTextNode(g),g[Xi]=l,l.stateNode=g}return zr(l),null;case 13:if(jt(qt),g=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Ft&&Rn!==null&&(l.mode&1)!==0&&(l.flags&128)===0)ET(),Fl(),l.flags|=98560,T=!1;else if(T=yh(l),g!==null&&g.dehydrated!==null){if(o===null){if(!T)throw Error(r(318));if(T=l.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(r(317));T[Xi]=l}else Fl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;zr(l),T=!1}else Ai!==null&&(fv(Ai),Ai=null),T=!0;if(!T)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=d,l):(g=g!==null,g!==(o!==null&&o.memoizedState!==null)&&g&&(l.child.flags|=8192,(l.mode&1)!==0&&(o===null||(qt.current&1)!==0?hr===0&&(hr=3):pv())),l.updateQueue!==null&&(l.flags|=4),zr(l),null);case 4:return ql(),ev(o,l),o===null&&_c(l.stateNode.containerInfo),zr(l),null;case 10:return ky(l.type._context),zr(l),null;case 17:return yn(l.type)&&dh(),zr(l),null;case 19:if(jt(qt),T=l.memoizedState,T===null)return zr(l),null;if(g=(l.flags&128)!==0,L=T.rendering,L===null)if(g)Nc(T,!1);else{if(hr!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(L=Eh(o),L!==null){for(l.flags|=128,Nc(T,!1),g=L.updateQueue,g!==null&&(l.updateQueue=g,l.flags|=4),l.subtreeFlags=0,g=d,d=l.child;d!==null;)T=d,o=g,T.flags&=14680066,L=T.alternate,L===null?(T.childLanes=0,T.lanes=o,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=L.childLanes,T.lanes=L.lanes,T.child=L.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=L.memoizedProps,T.memoizedState=L.memoizedState,T.updateQueue=L.updateQueue,T.type=L.type,o=L.dependencies,T.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),d=d.sibling;return It(qt,qt.current&1|2),l.child}o=o.sibling}T.tail!==null&&kt()>Kl&&(l.flags|=128,g=!0,Nc(T,!1),l.lanes=4194304)}else{if(!g)if(o=Eh(L),o!==null){if(l.flags|=128,g=!0,d=o.updateQueue,d!==null&&(l.updateQueue=d,l.flags|=4),Nc(T,!0),T.tail===null&&T.tailMode==="hidden"&&!L.alternate&&!Ft)return zr(l),null}else 2*kt()-T.renderingStartTime>Kl&&d!==1073741824&&(l.flags|=128,g=!0,Nc(T,!1),l.lanes=4194304);T.isBackwards?(L.sibling=l.child,l.child=L):(d=T.last,d!==null?d.sibling=L:l.child=L,T.last=L)}return T.tail!==null?(l=T.tail,T.rendering=l,T.tail=l.sibling,T.renderingStartTime=kt(),l.sibling=null,d=qt.current,It(qt,g?d&1|2:d&1),l):(zr(l),null);case 22:case 23:return hv(),g=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==g&&(l.flags|=8192),g&&(l.mode&1)!==0?(jn&1073741824)!==0&&(zr(l),l.subtreeFlags&6&&(l.flags|=8192)):zr(l),null;case 24:return null;case 25:return null}throw Error(r(156,l.tag))}function xV(o,l){switch(wy(l),l.tag){case 1:return yn(l.type)&&dh(),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return ql(),jt(gn),jt(Ur),Dy(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 5:return Ry(l),null;case 13:if(jt(qt),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Fl()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return jt(qt),null;case 4:return ql(),null;case 10:return ky(l.type._context),null;case 22:case 23:return hv(),null;case 24:return null;default:return null}}var Nh=!1,Wr=!1,wV=typeof WeakSet=="function"?WeakSet:Set,Te=null;function Wl(o,l){var d=o.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(g){Gt(o,l,g)}else d.current=null}function tv(o,l,d){try{d()}catch(g){Gt(o,l,g)}}var xA=!1;function EV(o,l){if(hy=go,o=ZS(),ay(o)){if("selectionStart"in o)var d={start:o.selectionStart,end:o.selectionEnd};else e:{d=(d=o.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var _=g.anchorOffset,T=g.focusNode;g=g.focusOffset;try{d.nodeType,T.nodeType}catch{d=null;break e}var L=0,U=-1,W=-1,te=0,de=0,me=o,fe=null;t:for(;;){for(var Ee;me!==d||_!==0&&me.nodeType!==3||(U=L+_),me!==T||g!==0&&me.nodeType!==3||(W=L+g),me.nodeType===3&&(L+=me.nodeValue.length),(Ee=me.firstChild)!==null;)fe=me,me=Ee;for(;;){if(me===o)break t;if(fe===d&&++te===_&&(U=L),fe===T&&++de===g&&(W=L),(Ee=me.nextSibling)!==null)break;me=fe,fe=me.parentNode}me=Ee}d=U===-1||W===-1?null:{start:U,end:W}}else d=null}d=d||{start:0,end:0}}else d=null;for(py={focusedElem:o,selectionRange:d},go=!1,Te=l;Te!==null;)if(l=Te,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,Te=o;else for(;Te!==null;){l=Te;try{var ke=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(ke!==null){var Oe=ke.memoizedProps,er=ke.memoizedState,X=l.stateNode,H=X.getSnapshotBeforeUpdate(l.elementType===l.type?Oe:Pi(l.type,Oe),er);X.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var J=l.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ge){Gt(l,l.return,ge)}if(o=l.sibling,o!==null){o.return=l.return,Te=o;break}Te=l.return}return ke=xA,xA=!1,ke}function Rc(o,l,d){var g=l.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var _=g=g.next;do{if((_.tag&o)===o){var T=_.destroy;_.destroy=void 0,T!==void 0&&tv(l,d,T)}_=_.next}while(_!==g)}}function Rh(o,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&o)===o){var g=d.create;d.destroy=g()}d=d.next}while(d!==l)}}function rv(o){var l=o.ref;if(l!==null){var d=o.stateNode;switch(o.tag){case 5:o=d;break;default:o=d}typeof l=="function"?l(o):l.current=o}}function wA(o){var l=o.alternate;l!==null&&(o.alternate=null,wA(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&(delete l[Xi],delete l[wc],delete l[vy],delete l[aV],delete l[oV])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function EA(o){return o.tag===5||o.tag===3||o.tag===4}function SA(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||EA(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function nv(o,l,d){var g=o.tag;if(g===5||g===6)o=o.stateNode,l?d.nodeType===8?d.parentNode.insertBefore(o,l):d.insertBefore(o,l):(d.nodeType===8?(l=d.parentNode,l.insertBefore(o,d)):(l=d,l.appendChild(o)),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=ch));else if(g!==4&&(o=o.child,o!==null))for(nv(o,l,d),o=o.sibling;o!==null;)nv(o,l,d),o=o.sibling}function iv(o,l,d){var g=o.tag;if(g===5||g===6)o=o.stateNode,l?d.insertBefore(o,l):d.appendChild(o);else if(g!==4&&(o=o.child,o!==null))for(iv(o,l,d),o=o.sibling;o!==null;)iv(o,l,d),o=o.sibling}var Rr=null,ki=!1;function To(o,l,d){for(d=d.child;d!==null;)TA(o,l,d),d=d.sibling}function TA(o,l,d){if(kn&&typeof kn.onCommitFiberUnmount=="function")try{kn.onCommitFiberUnmount(ls,d)}catch{}switch(d.tag){case 5:Wr||Wl(d,l);case 6:var g=Rr,_=ki;Rr=null,To(o,l,d),Rr=g,ki=_,Rr!==null&&(ki?(o=Rr,d=d.stateNode,o.nodeType===8?o.parentNode.removeChild(d):o.removeChild(d)):Rr.removeChild(d.stateNode));break;case 18:Rr!==null&&(ki?(o=Rr,d=d.stateNode,o.nodeType===8?yy(o.parentNode,d):o.nodeType===1&&yy(o,d),Ei(o)):yy(Rr,d.stateNode));break;case 4:g=Rr,_=ki,Rr=d.stateNode.containerInfo,ki=!0,To(o,l,d),Rr=g,ki=_;break;case 0:case 11:case 14:case 15:if(!Wr&&(g=d.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){_=g=g.next;do{var T=_,L=T.destroy;T=T.tag,L!==void 0&&((T&2)!==0||(T&4)!==0)&&tv(d,l,L),_=_.next}while(_!==g)}To(o,l,d);break;case 1:if(!Wr&&(Wl(d,l),g=d.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=d.memoizedProps,g.state=d.memoizedState,g.componentWillUnmount()}catch(U){Gt(d,l,U)}To(o,l,d);break;case 21:To(o,l,d);break;case 22:d.mode&1?(Wr=(g=Wr)||d.memoizedState!==null,To(o,l,d),Wr=g):To(o,l,d);break;default:To(o,l,d)}}function AA(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var d=o.stateNode;d===null&&(d=o.stateNode=new wV),l.forEach(function(g){var _=NV.bind(null,o,g);d.has(g)||(d.add(g),g.then(_,_))})}}function Ii(o,l){var d=l.deletions;if(d!==null)for(var g=0;g<d.length;g++){var _=d[g];try{var T=o,L=l,U=L;e:for(;U!==null;){switch(U.tag){case 5:Rr=U.stateNode,ki=!1;break e;case 3:Rr=U.stateNode.containerInfo,ki=!0;break e;case 4:Rr=U.stateNode.containerInfo,ki=!0;break e}U=U.return}if(Rr===null)throw Error(r(160));TA(T,L,_),Rr=null,ki=!1;var W=_.alternate;W!==null&&(W.return=null),_.return=null}catch(te){Gt(_,l,te)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)PA(l,o),l=l.sibling}function PA(o,l){var d=o.alternate,g=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Ii(l,o),Zi(o),g&4){try{Rc(3,o,o.return),Rh(3,o)}catch(Oe){Gt(o,o.return,Oe)}try{Rc(5,o,o.return)}catch(Oe){Gt(o,o.return,Oe)}}break;case 1:Ii(l,o),Zi(o),g&512&&d!==null&&Wl(d,d.return);break;case 5:if(Ii(l,o),Zi(o),g&512&&d!==null&&Wl(d,d.return),o.flags&32){var _=o.stateNode;try{Ui(_,"")}catch(Oe){Gt(o,o.return,Oe)}}if(g&4&&(_=o.stateNode,_!=null)){var T=o.memoizedProps,L=d!==null?d.memoizedProps:T,U=o.type,W=o.updateQueue;if(o.updateQueue=null,W!==null)try{U==="input"&&T.type==="radio"&&T.name!=null&&Et(_,T),Kn(U,L);var te=Kn(U,T);for(L=0;L<W.length;L+=2){var de=W[L],me=W[L+1];de==="style"?gi(_,me):de==="dangerouslySetInnerHTML"?as(_,me):de==="children"?Ui(_,me):I(_,de,me,te)}switch(U){case"input":Ht(_,T);break;case"textarea":pi(_,T);break;case"select":var fe=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!T.multiple;var Ee=T.value;Ee!=null?Pt(_,!!T.multiple,Ee,!1):fe!==!!T.multiple&&(T.defaultValue!=null?Pt(_,!!T.multiple,T.defaultValue,!0):Pt(_,!!T.multiple,T.multiple?[]:"",!1))}_[wc]=T}catch(Oe){Gt(o,o.return,Oe)}}break;case 6:if(Ii(l,o),Zi(o),g&4){if(o.stateNode===null)throw Error(r(162));_=o.stateNode,T=o.memoizedProps;try{_.nodeValue=T}catch(Oe){Gt(o,o.return,Oe)}}break;case 3:if(Ii(l,o),Zi(o),g&4&&d!==null&&d.memoizedState.isDehydrated)try{Ei(l.containerInfo)}catch(Oe){Gt(o,o.return,Oe)}break;case 4:Ii(l,o),Zi(o);break;case 13:Ii(l,o),Zi(o),_=o.child,_.flags&8192&&(T=_.memoizedState!==null,_.stateNode.isHidden=T,!T||_.alternate!==null&&_.alternate.memoizedState!==null||(sv=kt())),g&4&&AA(o);break;case 22:if(de=d!==null&&d.memoizedState!==null,o.mode&1?(Wr=(te=Wr)||de,Ii(l,o),Wr=te):Ii(l,o),Zi(o),g&8192){if(te=o.memoizedState!==null,(o.stateNode.isHidden=te)&&!de&&(o.mode&1)!==0)for(Te=o,de=o.child;de!==null;){for(me=Te=de;Te!==null;){switch(fe=Te,Ee=fe.child,fe.tag){case 0:case 11:case 14:case 15:Rc(4,fe,fe.return);break;case 1:Wl(fe,fe.return);var ke=fe.stateNode;if(typeof ke.componentWillUnmount=="function"){g=fe,d=fe.return;try{l=g,ke.props=l.memoizedProps,ke.state=l.memoizedState,ke.componentWillUnmount()}catch(Oe){Gt(g,d,Oe)}}break;case 5:Wl(fe,fe.return);break;case 22:if(fe.memoizedState!==null){OA(me);continue}}Ee!==null?(Ee.return=fe,Te=Ee):OA(me)}de=de.sibling}e:for(de=null,me=o;;){if(me.tag===5){if(de===null){de=me;try{_=me.stateNode,te?(T=_.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):(U=me.stateNode,W=me.memoizedProps.style,L=W!=null&&W.hasOwnProperty("display")?W.display:null,U.style.display=ao("display",L))}catch(Oe){Gt(o,o.return,Oe)}}}else if(me.tag===6){if(de===null)try{me.stateNode.nodeValue=te?"":me.memoizedProps}catch(Oe){Gt(o,o.return,Oe)}}else if((me.tag!==22&&me.tag!==23||me.memoizedState===null||me===o)&&me.child!==null){me.child.return=me,me=me.child;continue}if(me===o)break e;for(;me.sibling===null;){if(me.return===null||me.return===o)break e;de===me&&(de=null),me=me.return}de===me&&(de=null),me.sibling.return=me.return,me=me.sibling}}break;case 19:Ii(l,o),Zi(o),g&4&&AA(o);break;case 21:break;default:Ii(l,o),Zi(o)}}function Zi(o){var l=o.flags;if(l&2){try{e:{for(var d=o.return;d!==null;){if(EA(d)){var g=d;break e}d=d.return}throw Error(r(160))}switch(g.tag){case 5:var _=g.stateNode;g.flags&32&&(Ui(_,""),g.flags&=-33);var T=SA(o);iv(o,T,_);break;case 3:case 4:var L=g.stateNode.containerInfo,U=SA(o);nv(o,U,L);break;default:throw Error(r(161))}}catch(W){Gt(o,o.return,W)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function SV(o,l,d){Te=o,kA(o)}function kA(o,l,d){for(var g=(o.mode&1)!==0;Te!==null;){var _=Te,T=_.child;if(_.tag===22&&g){var L=_.memoizedState!==null||Nh;if(!L){var U=_.alternate,W=U!==null&&U.memoizedState!==null||Wr;U=Nh;var te=Wr;if(Nh=L,(Wr=W)&&!te)for(Te=_;Te!==null;)L=Te,W=L.child,L.tag===22&&L.memoizedState!==null?CA(_):W!==null?(W.return=L,Te=W):CA(_);for(;T!==null;)Te=T,kA(T),T=T.sibling;Te=_,Nh=U,Wr=te}IA(o)}else(_.subtreeFlags&8772)!==0&&T!==null?(T.return=_,Te=T):IA(o)}}function IA(o){for(;Te!==null;){var l=Te;if((l.flags&8772)!==0){var d=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Wr||Rh(5,l);break;case 1:var g=l.stateNode;if(l.flags&4&&!Wr)if(d===null)g.componentDidMount();else{var _=l.elementType===l.type?d.memoizedProps:Pi(l.type,d.memoizedProps);g.componentDidUpdate(_,d.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var T=l.updateQueue;T!==null&&OT(l,T,g);break;case 3:var L=l.updateQueue;if(L!==null){if(d=null,l.child!==null)switch(l.child.tag){case 5:d=l.child.stateNode;break;case 1:d=l.child.stateNode}OT(l,L,d)}break;case 5:var U=l.stateNode;if(d===null&&l.flags&4){d=U;var W=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":W.autoFocus&&d.focus();break;case"img":W.src&&(d.src=W.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var te=l.alternate;if(te!==null){var de=te.memoizedState;if(de!==null){var me=de.dehydrated;me!==null&&Ei(me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Wr||l.flags&512&&rv(l)}catch(fe){Gt(l,l.return,fe)}}if(l===o){Te=null;break}if(d=l.sibling,d!==null){d.return=l.return,Te=d;break}Te=l.return}}function OA(o){for(;Te!==null;){var l=Te;if(l===o){Te=null;break}var d=l.sibling;if(d!==null){d.return=l.return,Te=d;break}Te=l.return}}function CA(o){for(;Te!==null;){var l=Te;try{switch(l.tag){case 0:case 11:case 15:var d=l.return;try{Rh(4,l)}catch(W){Gt(l,d,W)}break;case 1:var g=l.stateNode;if(typeof g.componentDidMount=="function"){var _=l.return;try{g.componentDidMount()}catch(W){Gt(l,_,W)}}var T=l.return;try{rv(l)}catch(W){Gt(l,T,W)}break;case 5:var L=l.return;try{rv(l)}catch(W){Gt(l,L,W)}}}catch(W){Gt(l,l.return,W)}if(l===o){Te=null;break}var U=l.sibling;if(U!==null){U.return=l.return,Te=U;break}Te=l.return}}var TV=Math.ceil,jh=$.ReactCurrentDispatcher,av=$.ReactCurrentOwner,ii=$.ReactCurrentBatchConfig,lt=0,Er=null,ar=null,jr=0,jn=0,Hl=_o(0),hr=0,jc=null,ws=0,Dh=0,ov=0,Dc=null,bn=null,sv=0,Kl=1/0,Ra=null,Mh=!1,lv=null,Ao=null,Lh=!1,Po=null,$h=0,Mc=0,uv=null,Fh=-1,Vh=0;function nn(){return(lt&6)!==0?kt():Fh!==-1?Fh:Fh=kt()}function ko(o){return(o.mode&1)===0?1:(lt&2)!==0&&jr!==0?jr&-jr:lV.transition!==null?(Vh===0&&(Vh=cs()),Vh):(o=nt,o!==0||(o=window.event,o=o===void 0?16:cc(o.type)),o)}function Oi(o,l,d,g){if(50<Mc)throw Mc=0,uv=null,Error(r(185));fo(o,d,g),((lt&2)===0||o!==Er)&&(o===Er&&((lt&2)===0&&(Dh|=d),hr===4&&Io(o,jr)),_n(o,g),d===1&&lt===0&&(l.mode&1)===0&&(Kl=kt()+500,ph&&wo()))}function _n(o,l){var d=o.callbackNode;xa(o,l);var g=us(o,o===Er?jr:0);if(g===0)d!==null&&Pn(d),o.callbackNode=null,o.callbackPriority=0;else if(l=g&-g,o.callbackPriority!==l){if(d!=null&&Pn(d),l===1)o.tag===0?sV(RA.bind(null,o)):vT(RA.bind(null,o)),nV(function(){(lt&6)===0&&wo()}),d=null;else{switch(po(g)){case 1:d=ss;break;case 4:d=lo;break;case 16:d=Qn;break;case 536870912:d=Vd;break;default:d=Qn}d=BA(d,NA.bind(null,o))}o.callbackPriority=l,o.callbackNode=d}}function NA(o,l){if(Fh=-1,Vh=0,(lt&6)!==0)throw Error(r(327));var d=o.callbackNode;if(Gl()&&o.callbackNode!==d)return null;var g=us(o,o===Er?jr:0);if(g===0)return null;if((g&30)!==0||(g&o.expiredLanes)!==0||l)l=Bh(o,g);else{l=g;var _=lt;lt|=2;var T=DA();(Er!==o||jr!==l)&&(Ra=null,Kl=kt()+500,Ss(o,l));do try{kV();break}catch(U){jA(o,U)}while(!0);Py(),jh.current=T,lt=_,ar!==null?l=0:(Er=null,jr=0,l=hr)}if(l!==0){if(l===2&&(_=In(o),_!==0&&(g=_,l=cv(o,_))),l===1)throw d=jc,Ss(o,0),Io(o,g),_n(o,kt()),d;if(l===6)Io(o,g);else{if(_=o.current.alternate,(g&30)===0&&!AV(_)&&(l=Bh(o,g),l===2&&(T=In(o),T!==0&&(g=T,l=cv(o,T))),l===1))throw d=jc,Ss(o,0),Io(o,g),_n(o,kt()),d;switch(o.finishedWork=_,o.finishedLanes=g,l){case 0:case 1:throw Error(r(345));case 2:Ts(o,bn,Ra);break;case 3:if(Io(o,g),(g&130023424)===g&&(l=sv+500-kt(),10<l)){if(us(o,0)!==0)break;if(_=o.suspendedLanes,(_&g)!==g){nn(),o.pingedLanes|=o.suspendedLanes&_;break}o.timeoutHandle=gy(Ts.bind(null,o,bn,Ra),l);break}Ts(o,bn,Ra);break;case 4:if(Io(o,g),(g&4194240)===g)break;for(l=o.eventTimes,_=-1;0<g;){var L=31-en(g);T=1<<L,L=l[L],L>_&&(_=L),g&=~T}if(g=_,g=kt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*TV(g/1960))-g,10<g){o.timeoutHandle=gy(Ts.bind(null,o,bn,Ra),g);break}Ts(o,bn,Ra);break;case 5:Ts(o,bn,Ra);break;default:throw Error(r(329))}}}return _n(o,kt()),o.callbackNode===d?NA.bind(null,o):null}function cv(o,l){var d=Dc;return o.current.memoizedState.isDehydrated&&(Ss(o,l).flags|=256),o=Bh(o,l),o!==2&&(l=bn,bn=d,l!==null&&fv(l)),o}function fv(o){bn===null?bn=o:bn.push.apply(bn,o)}function AV(o){for(var l=o;;){if(l.flags&16384){var d=l.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var g=0;g<d.length;g++){var _=d[g],T=_.getSnapshot;_=_.value;try{if(!Ti(T(),_))return!1}catch{return!1}}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Io(o,l){for(l&=~ov,l&=~Dh,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var d=31-en(l),g=1<<d;o[d]=-1,l&=~g}}function RA(o){if((lt&6)!==0)throw Error(r(327));Gl();var l=us(o,0);if((l&1)===0)return _n(o,kt()),null;var d=Bh(o,l);if(o.tag!==0&&d===2){var g=In(o);g!==0&&(l=g,d=cv(o,g))}if(d===1)throw d=jc,Ss(o,0),Io(o,l),_n(o,kt()),d;if(d===6)throw Error(r(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,Ts(o,bn,Ra),_n(o,kt()),null}function dv(o,l){var d=lt;lt|=1;try{return o(l)}finally{lt=d,lt===0&&(Kl=kt()+500,ph&&wo())}}function Es(o){Po!==null&&Po.tag===0&&(lt&6)===0&&Gl();var l=lt;lt|=1;var d=ii.transition,g=nt;try{if(ii.transition=null,nt=1,o)return o()}finally{nt=g,ii.transition=d,lt=l,(lt&6)===0&&wo()}}function hv(){jn=Hl.current,jt(Hl)}function Ss(o,l){o.finishedWork=null,o.finishedLanes=0;var d=o.timeoutHandle;if(d!==-1&&(o.timeoutHandle=-1,rV(d)),ar!==null)for(d=ar.return;d!==null;){var g=d;switch(wy(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&dh();break;case 3:ql(),jt(gn),jt(Ur),Dy();break;case 5:Ry(g);break;case 4:ql();break;case 13:jt(qt);break;case 19:jt(qt);break;case 10:ky(g.type._context);break;case 22:case 23:hv()}d=d.return}if(Er=o,ar=o=Oo(o.current,null),jr=jn=l,hr=0,jc=null,ov=Dh=ws=0,bn=Dc=null,bs!==null){for(l=0;l<bs.length;l++)if(d=bs[l],g=d.interleaved,g!==null){d.interleaved=null;var _=g.next,T=d.pending;if(T!==null){var L=T.next;T.next=_,g.next=L}d.pending=g}bs=null}return o}function jA(o,l){do{var d=ar;try{if(Py(),Sh.current=kh,Th){for(var g=zt.memoizedState;g!==null;){var _=g.queue;_!==null&&(_.pending=null),g=g.next}Th=!1}if(xs=0,wr=dr=zt=null,kc=!1,Ic=0,av.current=null,d===null||d.return===null){hr=1,jc=l,ar=null;break}e:{var T=o,L=d.return,U=d,W=l;if(l=jr,U.flags|=32768,W!==null&&typeof W=="object"&&typeof W.then=="function"){var te=W,de=U,me=de.tag;if((de.mode&1)===0&&(me===0||me===11||me===15)){var fe=de.alternate;fe?(de.updateQueue=fe.updateQueue,de.memoizedState=fe.memoizedState,de.lanes=fe.lanes):(de.updateQueue=null,de.memoizedState=null)}var Ee=aA(L);if(Ee!==null){Ee.flags&=-257,oA(Ee,L,U,T,l),Ee.mode&1&&iA(T,te,l),l=Ee,W=te;var ke=l.updateQueue;if(ke===null){var Oe=new Set;Oe.add(W),l.updateQueue=Oe}else ke.add(W);break e}else{if((l&1)===0){iA(T,te,l),pv();break e}W=Error(r(426))}}else if(Ft&&U.mode&1){var er=aA(L);if(er!==null){(er.flags&65536)===0&&(er.flags|=256),oA(er,L,U,T,l),Ty(zl(W,U));break e}}T=W=zl(W,U),hr!==4&&(hr=2),Dc===null?Dc=[T]:Dc.push(T),T=L;do{switch(T.tag){case 3:T.flags|=65536,l&=-l,T.lanes|=l;var X=rA(T,W,l);IT(T,X);break e;case 1:U=W;var H=T.type,J=T.stateNode;if((T.flags&128)===0&&(typeof H.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(Ao===null||!Ao.has(J)))){T.flags|=65536,l&=-l,T.lanes|=l;var ge=nA(T,U,l);IT(T,ge);break e}}T=T.return}while(T!==null)}LA(d)}catch(Re){l=Re,ar===d&&d!==null&&(ar=d=d.return);continue}break}while(!0)}function DA(){var o=jh.current;return jh.current=kh,o===null?kh:o}function pv(){(hr===0||hr===3||hr===2)&&(hr=4),Er===null||(ws&268435455)===0&&(Dh&268435455)===0||Io(Er,jr)}function Bh(o,l){var d=lt;lt|=2;var g=DA();(Er!==o||jr!==l)&&(Ra=null,Ss(o,l));do try{PV();break}catch(_){jA(o,_)}while(!0);if(Py(),lt=d,jh.current=g,ar!==null)throw Error(r(261));return Er=null,jr=0,hr}function PV(){for(;ar!==null;)MA(ar)}function kV(){for(;ar!==null&&!$d();)MA(ar)}function MA(o){var l=VA(o.alternate,o,jn);o.memoizedProps=o.pendingProps,l===null?LA(o):ar=l,av.current=null}function LA(o){var l=o;do{var d=l.alternate;if(o=l.return,(l.flags&32768)===0){if(d=_V(d,l,jn),d!==null){ar=d;return}}else{if(d=xV(d,l),d!==null){d.flags&=32767,ar=d;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{hr=6,ar=null;return}}if(l=l.sibling,l!==null){ar=l;return}ar=l=o}while(l!==null);hr===0&&(hr=5)}function Ts(o,l,d){var g=nt,_=ii.transition;try{ii.transition=null,nt=1,IV(o,l,d,g)}finally{ii.transition=_,nt=g}return null}function IV(o,l,d,g){do Gl();while(Po!==null);if((lt&6)!==0)throw Error(r(327));d=o.finishedWork;var _=o.finishedLanes;if(d===null)return null;if(o.finishedWork=null,o.finishedLanes=0,d===o.current)throw Error(r(177));o.callbackNode=null,o.callbackPriority=0;var T=d.lanes|d.childLanes;if(St(o,T),o===Er&&(ar=Er=null,jr=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||Lh||(Lh=!0,BA(Qn,function(){return Gl(),null})),T=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||T){T=ii.transition,ii.transition=null;var L=nt;nt=1;var U=lt;lt|=4,av.current=null,EV(o,d),PA(d,o),YF(py),go=!!hy,py=hy=null,o.current=d,SV(d),Qg(),lt=U,nt=L,ii.transition=T}else o.current=d;if(Lh&&(Lh=!1,Po=o,$h=_),T=o.pendingLanes,T===0&&(Ao=null),Bd(d.stateNode),_n(o,kt()),l!==null)for(g=o.onRecoverableError,d=0;d<l.length;d++)_=l[d],g(_.value,{componentStack:_.stack,digest:_.digest});if(Mh)throw Mh=!1,o=lv,lv=null,o;return($h&1)!==0&&o.tag!==0&&Gl(),T=o.pendingLanes,(T&1)!==0?o===uv?Mc++:(Mc=0,uv=o):Mc=0,wo(),null}function Gl(){if(Po!==null){var o=po($h),l=ii.transition,d=nt;try{if(ii.transition=null,nt=16>o?16:o,Po===null)var g=!1;else{if(o=Po,Po=null,$h=0,(lt&6)!==0)throw Error(r(331));var _=lt;for(lt|=4,Te=o.current;Te!==null;){var T=Te,L=T.child;if((Te.flags&16)!==0){var U=T.deletions;if(U!==null){for(var W=0;W<U.length;W++){var te=U[W];for(Te=te;Te!==null;){var de=Te;switch(de.tag){case 0:case 11:case 15:Rc(8,de,T)}var me=de.child;if(me!==null)me.return=de,Te=me;else for(;Te!==null;){de=Te;var fe=de.sibling,Ee=de.return;if(wA(de),de===te){Te=null;break}if(fe!==null){fe.return=Ee,Te=fe;break}Te=Ee}}}var ke=T.alternate;if(ke!==null){var Oe=ke.child;if(Oe!==null){ke.child=null;do{var er=Oe.sibling;Oe.sibling=null,Oe=er}while(Oe!==null)}}Te=T}}if((T.subtreeFlags&2064)!==0&&L!==null)L.return=T,Te=L;else e:for(;Te!==null;){if(T=Te,(T.flags&2048)!==0)switch(T.tag){case 0:case 11:case 15:Rc(9,T,T.return)}var X=T.sibling;if(X!==null){X.return=T.return,Te=X;break e}Te=T.return}}var H=o.current;for(Te=H;Te!==null;){L=Te;var J=L.child;if((L.subtreeFlags&2064)!==0&&J!==null)J.return=L,Te=J;else e:for(L=H;Te!==null;){if(U=Te,(U.flags&2048)!==0)try{switch(U.tag){case 0:case 11:case 15:Rh(9,U)}}catch(Re){Gt(U,U.return,Re)}if(U===L){Te=null;break e}var ge=U.sibling;if(ge!==null){ge.return=U.return,Te=ge;break e}Te=U.return}}if(lt=_,wo(),kn&&typeof kn.onPostCommitFiberRoot=="function")try{kn.onPostCommitFiberRoot(ls,o)}catch{}g=!0}return g}finally{nt=d,ii.transition=l}}return!1}function $A(o,l,d){l=zl(d,l),l=rA(o,l,1),o=So(o,l,1),l=nn(),o!==null&&(fo(o,1,l),_n(o,l))}function Gt(o,l,d){if(o.tag===3)$A(o,o,d);else for(;l!==null;){if(l.tag===3){$A(l,o,d);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Ao===null||!Ao.has(g))){o=zl(d,o),o=nA(l,o,1),l=So(l,o,1),o=nn(),l!==null&&(fo(l,1,o),_n(l,o));break}}l=l.return}}function OV(o,l,d){var g=o.pingCache;g!==null&&g.delete(l),l=nn(),o.pingedLanes|=o.suspendedLanes&d,Er===o&&(jr&d)===d&&(hr===4||hr===3&&(jr&130023424)===jr&&500>kt()-sv?Ss(o,0):ov|=d),_n(o,l)}function FA(o,l){l===0&&((o.mode&1)===0?l=1:(l=yl,yl<<=1,(yl&130023424)===0&&(yl=4194304)));var d=nn();o=Oa(o,l),o!==null&&(fo(o,l,d),_n(o,d))}function CV(o){var l=o.memoizedState,d=0;l!==null&&(d=l.retryLane),FA(o,d)}function NV(o,l){var d=0;switch(o.tag){case 13:var g=o.stateNode,_=o.memoizedState;_!==null&&(d=_.retryLane);break;case 19:g=o.stateNode;break;default:throw Error(r(314))}g!==null&&g.delete(l),FA(o,d)}var VA;VA=function(o,l,d){if(o!==null)if(o.memoizedProps!==l.pendingProps||gn.current)vn=!0;else{if((o.lanes&d)===0&&(l.flags&128)===0)return vn=!1,bV(o,l,d);vn=(o.flags&131072)!==0}else vn=!1,Ft&&(l.flags&1048576)!==0&&bT(l,gh,l.index);switch(l.lanes=0,l.tag){case 2:var g=l.type;Ch(o,l),o=l.pendingProps;var _=Ml(l,Ur.current);Ul(l,d),_=$y(null,l,g,o,_,d);var T=Fy();return l.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,yn(g)?(T=!0,hh(l)):T=!1,l.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,Cy(l),_.updater=Ih,l.stateNode=_,_._reactInternals=l,Wy(l,g,o,d),l=Yy(null,l,g,!0,T,d)):(l.tag=0,Ft&&T&&xy(l),rn(null,l,_,d),l=l.child),l;case 16:g=l.elementType;e:{switch(Ch(o,l),o=l.pendingProps,_=g._init,g=_(g._payload),l.type=g,_=l.tag=jV(g),o=Pi(g,o),_){case 0:l=Gy(null,l,g,o,d);break e;case 1:l=dA(null,l,g,o,d);break e;case 11:l=sA(null,l,g,o,d);break e;case 14:l=lA(null,l,g,Pi(g.type,o),d);break e}throw Error(r(306,g,""))}return l;case 0:return g=l.type,_=l.pendingProps,_=l.elementType===g?_:Pi(g,_),Gy(o,l,g,_,d);case 1:return g=l.type,_=l.pendingProps,_=l.elementType===g?_:Pi(g,_),dA(o,l,g,_,d);case 3:e:{if(hA(l),o===null)throw Error(r(387));g=l.pendingProps,T=l.memoizedState,_=T.element,kT(o,l),wh(l,g,null,d);var L=l.memoizedState;if(g=L.element,T.isDehydrated)if(T={element:g,isDehydrated:!1,cache:L.cache,pendingSuspenseBoundaries:L.pendingSuspenseBoundaries,transitions:L.transitions},l.updateQueue.baseState=T,l.memoizedState=T,l.flags&256){_=zl(Error(r(423)),l),l=pA(o,l,g,d,_);break e}else if(g!==_){_=zl(Error(r(424)),l),l=pA(o,l,g,d,_);break e}else for(Rn=bo(l.stateNode.containerInfo.firstChild),Nn=l,Ft=!0,Ai=null,d=AT(l,null,g,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Fl(),g===_){l=Na(o,l,d);break e}rn(o,l,g,d)}l=l.child}return l;case 5:return CT(l),o===null&&Sy(l),g=l.type,_=l.pendingProps,T=o!==null?o.memoizedProps:null,L=_.children,my(g,_)?L=null:T!==null&&my(g,T)&&(l.flags|=32),fA(o,l),rn(o,l,L,d),l.child;case 6:return o===null&&Sy(l),null;case 13:return mA(o,l,d);case 4:return Ny(l,l.stateNode.containerInfo),g=l.pendingProps,o===null?l.child=Vl(l,null,g,d):rn(o,l,g,d),l.child;case 11:return g=l.type,_=l.pendingProps,_=l.elementType===g?_:Pi(g,_),sA(o,l,g,_,d);case 7:return rn(o,l,l.pendingProps,d),l.child;case 8:return rn(o,l,l.pendingProps.children,d),l.child;case 12:return rn(o,l,l.pendingProps.children,d),l.child;case 10:e:{if(g=l.type._context,_=l.pendingProps,T=l.memoizedProps,L=_.value,It(bh,g._currentValue),g._currentValue=L,T!==null)if(Ti(T.value,L)){if(T.children===_.children&&!gn.current){l=Na(o,l,d);break e}}else for(T=l.child,T!==null&&(T.return=l);T!==null;){var U=T.dependencies;if(U!==null){L=T.child;for(var W=U.firstContext;W!==null;){if(W.context===g){if(T.tag===1){W=Ca(-1,d&-d),W.tag=2;var te=T.updateQueue;if(te!==null){te=te.shared;var de=te.pending;de===null?W.next=W:(W.next=de.next,de.next=W),te.pending=W}}T.lanes|=d,W=T.alternate,W!==null&&(W.lanes|=d),Iy(T.return,d,l),U.lanes|=d;break}W=W.next}}else if(T.tag===10)L=T.type===l.type?null:T.child;else if(T.tag===18){if(L=T.return,L===null)throw Error(r(341));L.lanes|=d,U=L.alternate,U!==null&&(U.lanes|=d),Iy(L,d,l),L=T.sibling}else L=T.child;if(L!==null)L.return=T;else for(L=T;L!==null;){if(L===l){L=null;break}if(T=L.sibling,T!==null){T.return=L.return,L=T;break}L=L.return}T=L}rn(o,l,_.children,d),l=l.child}return l;case 9:return _=l.type,g=l.pendingProps.children,Ul(l,d),_=ri(_),g=g(_),l.flags|=1,rn(o,l,g,d),l.child;case 14:return g=l.type,_=Pi(g,l.pendingProps),_=Pi(g.type,_),lA(o,l,g,_,d);case 15:return uA(o,l,l.type,l.pendingProps,d);case 17:return g=l.type,_=l.pendingProps,_=l.elementType===g?_:Pi(g,_),Ch(o,l),l.tag=1,yn(g)?(o=!0,hh(l)):o=!1,Ul(l,d),eA(l,g,_),Wy(l,g,_,d),Yy(null,l,g,!0,o,d);case 19:return yA(o,l,d);case 22:return cA(o,l,d)}throw Error(r(156,l.tag))};function BA(o,l){return zi(o,l)}function RV(o,l,d,g){this.tag=o,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ai(o,l,d,g){return new RV(o,l,d,g)}function mv(o){return o=o.prototype,!(!o||!o.isReactComponent)}function jV(o){if(typeof o=="function")return mv(o)?1:0;if(o!=null){if(o=o.$$typeof,o===V)return 11;if(o===ee)return 14}return 2}function Oo(o,l){var d=o.alternate;return d===null?(d=ai(o.tag,l,o.key,o.mode),d.elementType=o.elementType,d.type=o.type,d.stateNode=o.stateNode,d.alternate=o,o.alternate=d):(d.pendingProps=l,d.type=o.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=o.flags&14680064,d.childLanes=o.childLanes,d.lanes=o.lanes,d.child=o.child,d.memoizedProps=o.memoizedProps,d.memoizedState=o.memoizedState,d.updateQueue=o.updateQueue,l=o.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=o.sibling,d.index=o.index,d.ref=o.ref,d}function Uh(o,l,d,g,_,T){var L=2;if(g=o,typeof o=="function")mv(o)&&(L=1);else if(typeof o=="string")L=5;else e:switch(o){case A:return As(d.children,_,T,l);case P:L=8,_|=8;break;case R:return o=ai(12,d,l,_|2),o.elementType=R,o.lanes=T,o;case D:return o=ai(13,d,l,_),o.elementType=D,o.lanes=T,o;case Z:return o=ai(19,d,l,_),o.elementType=Z,o.lanes=T,o;case ae:return qh(d,_,T,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case F:L=10;break e;case M:L=9;break e;case V:L=11;break e;case ee:L=14;break e;case re:L=16,g=null;break e}throw Error(r(130,o==null?o:typeof o,""))}return l=ai(L,d,l,_),l.elementType=o,l.type=g,l.lanes=T,l}function As(o,l,d,g){return o=ai(7,o,g,l),o.lanes=d,o}function qh(o,l,d,g){return o=ai(22,o,g,l),o.elementType=ae,o.lanes=d,o.stateNode={isHidden:!1},o}function gv(o,l,d){return o=ai(6,o,null,l),o.lanes=d,o}function yv(o,l,d){return l=ai(4,o.children!==null?o.children:[],o.key,l),l.lanes=d,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function DV(o,l,d,g,_){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=co(0),this.expirationTimes=co(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=co(0),this.identifierPrefix=g,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function vv(o,l,d,g,_,T,L,U,W){return o=new DV(o,l,d,U,W),l===1?(l=1,T===!0&&(l|=8)):l=0,T=ai(3,null,null,l),o.current=T,T.stateNode=o,T.memoizedState={element:g,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cy(T),o}function MV(o,l,d){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:j,key:g==null?null:""+g,children:o,containerInfo:l,implementation:d}}function UA(o){if(!o)return xo;o=o._reactInternals;e:{if(hn(o)!==o||o.tag!==1)throw Error(r(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(yn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(r(171))}if(o.tag===1){var d=o.type;if(yn(d))return gT(o,d,l)}return l}function qA(o,l,d,g,_,T,L,U,W){return o=vv(d,g,!0,o,_,T,L,U,W),o.context=UA(null),d=o.current,g=nn(),_=ko(d),T=Ca(g,_),T.callback=l??null,So(d,T,_),o.current.lanes=_,fo(o,_,g),_n(o,g),o}function zh(o,l,d,g){var _=l.current,T=nn(),L=ko(_);return d=UA(d),l.context===null?l.context=d:l.pendingContext=d,l=Ca(T,L),l.payload={element:o},g=g===void 0?null:g,g!==null&&(l.callback=g),o=So(_,l,L),o!==null&&(Oi(o,_,L,T),xh(o,_,L)),L}function Wh(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function zA(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var d=o.retryLane;o.retryLane=d!==0&&d<l?d:l}}function bv(o,l){zA(o,l),(o=o.alternate)&&zA(o,l)}function LV(){return null}var WA=typeof reportError=="function"?reportError:function(o){console.error(o)};function _v(o){this._internalRoot=o}Hh.prototype.render=_v.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(r(409));zh(o,l,null,null)},Hh.prototype.unmount=_v.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;Es(function(){zh(null,o,null,null)}),l[Aa]=null}};function Hh(o){this._internalRoot=o}Hh.prototype.unstable_scheduleHydration=function(o){if(o){var l=Hd();o={blockedOn:null,target:o,priority:l};for(var d=0;d<Hi.length&&l!==0&&l<Hi[d].priority;d++);Hi.splice(d,0,o),d===0&&Yd(o)}};function xv(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Kh(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function HA(){}function $V(o,l,d,g,_){if(_){if(typeof g=="function"){var T=g;g=function(){var te=Wh(L);T.call(te)}}var L=qA(l,g,o,0,null,!1,!1,"",HA);return o._reactRootContainer=L,o[Aa]=L.current,_c(o.nodeType===8?o.parentNode:o),Es(),L}for(;_=o.lastChild;)o.removeChild(_);if(typeof g=="function"){var U=g;g=function(){var te=Wh(W);U.call(te)}}var W=vv(o,0,!1,null,null,!1,!1,"",HA);return o._reactRootContainer=W,o[Aa]=W.current,_c(o.nodeType===8?o.parentNode:o),Es(function(){zh(l,W,d,g)}),W}function Gh(o,l,d,g,_){var T=d._reactRootContainer;if(T){var L=T;if(typeof _=="function"){var U=_;_=function(){var W=Wh(L);U.call(W)}}zh(l,L,o,_)}else L=$V(d,l,o,_,g);return Wh(L)}zd=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var d=uo(l.pendingLanes);d!==0&&(ho(l,d|1),_n(l,kt()),(lt&6)===0&&(Kl=kt()+500,wo()))}break;case 13:Es(function(){var g=Oa(o,1);if(g!==null){var _=nn();Oi(g,o,1,_)}}),bv(o,1)}},vl=function(o){if(o.tag===13){var l=Oa(o,134217728);if(l!==null){var d=nn();Oi(l,o,134217728,d)}bv(o,134217728)}},Wd=function(o){if(o.tag===13){var l=ko(o),d=Oa(o,l);if(d!==null){var g=nn();Oi(d,o,l,g)}bv(o,l)}},Hd=function(){return nt},Kd=function(o,l){var d=nt;try{return nt=o,l()}finally{nt=d}},qi=function(o,l,d){switch(l){case"input":if(Ht(o,d),l=d.name,d.type==="radio"&&l!=null){for(d=o;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<d.length;l++){var g=d[l];if(g!==o&&g.form===o.form){var _=fh(g);if(!_)throw Error(r(90));le(g),Ht(g,_)}}}break;case"textarea":pi(o,d);break;case"select":l=d.value,l!=null&&Pt(o,!!d.multiple,l,!1)}},Br=dv,Tn=Es;var FV={usingClientEntryPoint:!1,Events:[Ec,jl,fh,Yn,Vr,dv]},Lc={findFiberByHostInstance:ms,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},VV={bundleType:Lc.bundleType,version:Lc.version,rendererPackageName:Lc.rendererPackageName,rendererConfig:Lc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Xn(o),o===null?null:o.stateNode},findFiberByHostInstance:Lc.findFiberByHostInstance||LV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yh.isDisabled&&Yh.supportsFiber)try{ls=Yh.inject(VV),kn=Yh}catch{}}return xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FV,xn.createPortal=function(o,l){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xv(l))throw Error(r(200));return MV(o,l,null,d)},xn.createRoot=function(o,l){if(!xv(o))throw Error(r(299));var d=!1,g="",_=WA;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(_=l.onRecoverableError)),l=vv(o,1,!1,null,null,d,!1,g,_),o[Aa]=l.current,_c(o.nodeType===8?o.parentNode:o),new _v(l)},xn.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=Xn(l),o=o===null?null:o.stateNode,o},xn.flushSync=function(o){return Es(o)},xn.hydrate=function(o,l,d){if(!Kh(l))throw Error(r(200));return Gh(null,o,l,!0,d)},xn.hydrateRoot=function(o,l,d){if(!xv(o))throw Error(r(405));var g=d!=null&&d.hydratedSources||null,_=!1,T="",L=WA;if(d!=null&&(d.unstable_strictMode===!0&&(_=!0),d.identifierPrefix!==void 0&&(T=d.identifierPrefix),d.onRecoverableError!==void 0&&(L=d.onRecoverableError)),l=qA(l,null,o,1,d??null,_,!1,T,L),o[Aa]=l.current,_c(o),g)for(o=0;o<g.length;o++)d=g[o],_=d._getVersion,_=_(d._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[d,_]:l.mutableSourceEagerHydrationData.push(d,_);return new Hh(l)},xn.render=function(o,l,d){if(!Kh(l))throw Error(r(200));return Gh(null,o,l,!1,d)},xn.unmountComponentAtNode=function(o){if(!Kh(o))throw Error(r(40));return o._reactRootContainer?(Es(function(){Gh(null,null,o,!1,function(){o._reactRootContainer=null,o[Aa]=null})}),!0):!1},xn.unstable_batchedUpdates=dv,xn.unstable_renderSubtreeIntoContainer=function(o,l,d,g){if(!Kh(d))throw Error(r(200));if(o==null||o._reactInternals===void 0)throw Error(r(38));return Gh(o,l,d,!1,g)},xn.version="18.3.1-next-f1338f8080-20240426",xn}var eP;function GV(){if(eP)return Sv.exports;eP=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Sv.exports=KV(),Sv.exports}var tP;function YV(){if(tP)return Qh;tP=1;var t=GV();return Qh.createRoot=t.createRoot,Qh.hydrateRoot=t.hydrateRoot,Qh}var XV=YV();const QV=vt(XV);var rP={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},JV=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],s=t[r++],u=t[r++],c=((i&7)<<18|(a&63)<<12|(s&63)<<6|u&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const a=t[r++],s=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},N2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,u=s?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,h=a>>2,p=(a&3)<<4|u>>4;let v=(u&15)<<2|f>>6,b=f&63;c||(b=64,s||(v=64)),n.push(r[h],r[p],r[v],r[b])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(C2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):JV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],u=i<t.length?r[t.charAt(i)]:0;++i;const f=i<t.length?r[t.charAt(i)]:64;++i;const p=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||u==null||f==null||p==null)throw new ZV;const v=a<<2|u>>4;if(n.push(v),f!==64){const b=u<<4&240|f>>2;if(n.push(b),p!==64){const x=f<<6&192|p;n.push(x)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ZV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const e3=function(t){const e=C2(t);return N2.encodeByteArray(e,!0)},Op=function(t){return e3(t).replace(/\./g,"")},R2=function(t){try{return N2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3=()=>t3().__FIREBASE_DEFAULTS__,n3=()=>{if(typeof process>"u"||typeof rP>"u")return;const t=rP.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},i3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&R2(t[1]);return e&&JSON.parse(e)},Wm=()=>{try{return r3()||n3()||i3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},j2=t=>{var e,r;return(r=(e=Wm())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},D2=t=>{const e=j2(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},M2=()=>{var t;return(t=Wm())===null||t===void 0?void 0:t.config},L2=t=>{var e;return(e=Wm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Op(JSON.stringify(r)),Op(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function o3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qr())}function s3(){var t;const e=(t=Wm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function l3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function u3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function c3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function f3(){const t=Qr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function d3(){return!s3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function h3(){try{return typeof indexedDB=="object"}catch{return!1}}function p3(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3="FirebaseError";class ma extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=m3,Object.setPrototypeOf(this,ma.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fd.prototype.create)}}class fd{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?g3(a,n):"Error",u=`${this.serviceName}: ${s} (${i}).`;return new ma(i,u,n)}}function g3(t,e){return t.replace(y3,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const y3=/\{\$([^}]+)}/g;function v3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Cp(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],s=e[i];if(nP(a)&&nP(s)){if(!Cp(a,s))return!1}else if(a!==s)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function nP(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Xc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Qc(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function b3(t,e){const r=new _3(t,e);return r.subscribe.bind(r)}class _3{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");x3(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=Pv),i.error===void 0&&(i.error=Pv),i.complete===void 0&&(i.complete=Pv);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function x3(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function Pv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(t){return t&&t._delegate?t._delegate:t}class Ko{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new a3;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e?.identifier),i=(r=e?.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(S3(e))try{this.getOrInitializeService({instanceIdentifier:Os})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=Os){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Os){return this.instances.has(e)}getOptions(e=Os){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);n===u&&s.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(i,a);const s=this.instances.get(i);return s&&e(s,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:E3(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Os){return this.component?this.component.multipleInstances?e:Os:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function E3(t){return t===Os?void 0:t}function S3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new w3(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(it||(it={}));const A3={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},P3=it.INFO,k3={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},I3=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=k3[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class L1{constructor(e){this.name=e,this._logLevel=P3,this._logHandler=I3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in it))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?A3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...e),this._logHandler(this,it.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...e),this._logHandler(this,it.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,it.INFO,...e),this._logHandler(this,it.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,it.WARN,...e),this._logHandler(this,it.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...e),this._logHandler(this,it.ERROR,...e)}}const O3=(t,e)=>e.some(r=>t instanceof r);let iP,aP;function C3(){return iP||(iP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function N3(){return aP||(aP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const F2=new WeakMap,Ux=new WeakMap,V2=new WeakMap,kv=new WeakMap,$1=new WeakMap;function R3(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{r(Uo(t.result)),i()},s=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(r=>{r instanceof IDBCursor&&F2.set(r,t)}).catch(()=>{}),$1.set(e,t),e}function j3(t){if(Ux.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{r(),i()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});Ux.set(t,e)}let qx={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Ux.get(t);if(e==="objectStoreNames")return t.objectStoreNames||V2.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Uo(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function D3(t){qx=t(qx)}function M3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Iv(this),e,...r);return V2.set(n,e.sort?e.sort():[e]),Uo(n)}:N3().includes(t)?function(...e){return t.apply(Iv(this),e),Uo(F2.get(this))}:function(...e){return Uo(t.apply(Iv(this),e))}}function L3(t){return typeof t=="function"?M3(t):(t instanceof IDBTransaction&&j3(t),O3(t,C3())?new Proxy(t,qx):t)}function Uo(t){if(t instanceof IDBRequest)return R3(t);if(kv.has(t))return kv.get(t);const e=L3(t);return e!==t&&(kv.set(t,e),$1.set(e,t)),e}const Iv=t=>$1.get(t);function $3(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),u=Uo(s);return n&&s.addEventListener("upgradeneeded",c=>{n(Uo(s.result),c.oldVersion,c.newVersion,Uo(s.transaction),c)}),r&&s.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),u.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const F3=["get","getKey","getAll","getAllKeys","count"],V3=["put","add","delete","clear"],Ov=new Map;function oP(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ov.get(e))return Ov.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=V3.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||F3.includes(r)))return;const a=async function(s,...u){const c=this.transaction(s,i?"readwrite":"readonly");let f=c.store;return n&&(f=f.index(u.shift())),(await Promise.all([f[r](...u),i&&c.done]))[0]};return Ov.set(e,a),a}D3(t=>({...t,get:(e,r,n)=>oP(e,r)||t.get(e,r,n),has:(e,r)=>!!oP(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(U3(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function U3(t){const e=t.getComponent();return e?.type==="VERSION"}const zx="@firebase/app",sP="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka=new L1("@firebase/app"),q3="@firebase/app-compat",z3="@firebase/analytics-compat",W3="@firebase/analytics",H3="@firebase/app-check-compat",K3="@firebase/app-check",G3="@firebase/auth",Y3="@firebase/auth-compat",X3="@firebase/database",Q3="@firebase/data-connect",J3="@firebase/database-compat",Z3="@firebase/functions",e6="@firebase/functions-compat",t6="@firebase/installations",r6="@firebase/installations-compat",n6="@firebase/messaging",i6="@firebase/messaging-compat",a6="@firebase/performance",o6="@firebase/performance-compat",s6="@firebase/remote-config",l6="@firebase/remote-config-compat",u6="@firebase/storage",c6="@firebase/storage-compat",f6="@firebase/firestore",d6="@firebase/vertexai-preview",h6="@firebase/firestore-compat",p6="firebase",m6="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx="[DEFAULT]",g6={[zx]:"fire-core",[q3]:"fire-core-compat",[W3]:"fire-analytics",[z3]:"fire-analytics-compat",[K3]:"fire-app-check",[H3]:"fire-app-check-compat",[G3]:"fire-auth",[Y3]:"fire-auth-compat",[X3]:"fire-rtdb",[Q3]:"fire-data-connect",[J3]:"fire-rtdb-compat",[Z3]:"fire-fn",[e6]:"fire-fn-compat",[t6]:"fire-iid",[r6]:"fire-iid-compat",[n6]:"fire-fcm",[i6]:"fire-fcm-compat",[a6]:"fire-perf",[o6]:"fire-perf-compat",[s6]:"fire-rc",[l6]:"fire-rc-compat",[u6]:"fire-gcs",[c6]:"fire-gcs-compat",[f6]:"fire-fst",[h6]:"fire-fst-compat",[d6]:"fire-vertex","fire-js":"fire-js",[p6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np=new Map,y6=new Map,Hx=new Map;function lP(t,e){try{t.container.addComponent(e)}catch(r){Ka.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Ws(t){const e=t.name;if(Hx.has(e))return Ka.debug(`There were multiple attempts to register component ${e}.`),!1;Hx.set(e,t);for(const r of Np.values())lP(r,t);for(const r of y6.values())lP(r,t);return!0}function Hm(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function ta(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qo=new fd("app","Firebase",v6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ko("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const il=m6;function B2(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Wx,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw qo.create("bad-app-name",{appName:String(i)});if(r||(r=M2()),!r)throw qo.create("no-options");const a=Np.get(i);if(a){if(Cp(r,a.options)&&Cp(n,a.config))return a;throw qo.create("duplicate-app",{appName:i})}const s=new T3(i);for(const c of Hx.values())s.addComponent(c);const u=new b6(r,n,s);return Np.set(i,u),u}function F1(t=Wx){const e=Np.get(t);if(!e&&t===Wx&&M2())return B2();if(!e)throw qo.create("no-app",{appName:t});return e}function ia(t,e,r){var n;let i=(n=g6[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&u.push("and"),s&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ka.warn(u.join(" "));return}Ws(new Ko(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _6="firebase-heartbeat-database",x6=1,_f="firebase-heartbeat-store";let Cv=null;function U2(){return Cv||(Cv=$3(_6,x6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(_f)}catch(r){console.warn(r)}}}}).catch(t=>{throw qo.create("idb-open",{originalErrorMessage:t.message})})),Cv}async function w6(t){try{const r=(await U2()).transaction(_f),n=await r.objectStore(_f).get(q2(t));return await r.done,n}catch(e){if(e instanceof ma)Ka.warn(e.message);else{const r=qo.create("idb-get",{originalErrorMessage:e?.message});Ka.warn(r.message)}}}async function uP(t,e){try{const n=(await U2()).transaction(_f,"readwrite");await n.objectStore(_f).put(e,q2(t)),await n.done}catch(r){if(r instanceof ma)Ka.warn(r.message);else{const n=qo.create("idb-set",{originalErrorMessage:r?.message});Ka.warn(n.message)}}}function q2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E6=1024,S6=30*24*60*60*1e3;class T6{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new P6(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=cP();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const u=new Date(s.date).valueOf();return Date.now()-u<=S6}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Ka.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=cP(),{heartbeatsToSend:n,unsentEntries:i}=A6(this._heartbeatsCache.heartbeats),a=Op(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return Ka.warn(r),""}}}function cP(){return new Date().toISOString().substring(0,10)}function A6(t,e=E6){const r=[];let n=t.slice();for(const i of t){const a=r.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),fP(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),fP(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class P6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return h3()?p3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await w6(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return uP(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return uP(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function fP(t){return Op(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k6(t){Ws(new Ko("platform-logger",e=>new B3(e),"PRIVATE")),Ws(new Ko("heartbeat",e=>new T6(e),"PRIVATE")),ia(zx,sP,t),ia(zx,sP,"esm2017"),ia("fire-js","")}k6("");var I6="firebase",O6="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ia(I6,O6,"app");function V1(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function z2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const C6=z2,W2=new fd("auth","Firebase",z2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp=new L1("@firebase/auth");function N6(t,...e){Rp.logLevel<=it.WARN&&Rp.warn(`Auth (${il}): ${t}`,...e)}function _p(t,...e){Rp.logLevel<=it.ERROR&&Rp.error(`Auth (${il}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(t,...e){throw B1(t,...e)}function aa(t,...e){return B1(t,...e)}function H2(t,e,r){const n=Object.assign(Object.assign({},C6()),{[e]:r});return new fd("auth","Firebase",n).create(e,{appName:t.name})}function Ua(t){return H2(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function B1(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return W2.create(t,...e)}function Ke(t,e,...r){if(!t)throw B1(e,...r)}function Ma(t){const e="INTERNAL ASSERTION FAILED: "+t;throw _p(e),new Error(e)}function Ga(t,e){t||Ma(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function R6(){return dP()==="http:"||dP()==="https:"}function dP(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(R6()||u3()||"connection"in navigator)?navigator.onLine:!0}function D6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,r){this.shortDelay=e,this.longDelay=r,Ga(r>e,"Short delay should be less than long delay!"),this.isMobile=o3()||c3()}get(){return j6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(t,e){Ga(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ma("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ma("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ma("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L6=new hd(3e4,6e4);function Jo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Zo(t,e,r,n,i={}){return G2(t,i,async()=>{let a={},s={};n&&(e==="GET"?s=n:a={body:JSON.stringify(n)});const u=dd(Object.assign({key:t.config.apiKey},s)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const f=Object.assign({method:e,headers:c},a);return l3()||(f.referrerPolicy="no-referrer"),K2.fetch()(Y2(t,t.config.apiHost,r,u),f)})}async function G2(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},M6),e);try{const i=new F6(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw Jh(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const u=a.ok?s.errorMessage:s.error.message,[c,f]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jh(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Jh(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw Jh(t,"user-disabled",s);const h=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw H2(t,h,f);Mi(t,h)}}catch(i){if(i instanceof ma)throw i;Mi(t,"network-request-failed",{message:String(i)})}}async function pd(t,e,r,n,i={}){const a=await Zo(t,e,r,n,i);return"mfaPendingCredential"in a&&Mi(t,"multi-factor-auth-required",{_serverResponse:a}),a}function Y2(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?U1(t.config,i):`${t.config.apiScheme}://${i}`}function $6(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class F6{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(aa(this.auth,"network-request-failed")),L6.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Jh(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=aa(t,e,n);return i.customData._tokenResponse=r,i}function hP(t){return t!==void 0&&t.enterprise!==void 0}class V6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return $6(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function B6(t,e){return Zo(t,"GET","/v2/recaptchaConfig",Jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U6(t,e){return Zo(t,"POST","/v1/accounts:delete",e)}async function X2(t,e){return Zo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function q6(t,e=!1){const r=Lt(t),n=await r.getIdToken(e),i=q1(n);Ke(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a?.sign_in_provider;return{claims:i,token:n,authTime:sf(Nv(i.auth_time)),issuedAtTime:sf(Nv(i.iat)),expirationTime:sf(Nv(i.exp)),signInProvider:s||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Nv(t){return Number(t)*1e3}function q1(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return _p("JWT malformed, contained fewer than 3 sections"),null;try{const i=R2(r);return i?JSON.parse(i):(_p("Failed to decode base64 JWT payload"),null)}catch(i){return _p("Caught error parsing JWT payload as JSON",i?.toString()),null}}function pP(t){const e=q1(t);return Ke(e,"internal-error"),Ke(typeof e.exp<"u","internal-error"),Ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xf(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof ma&&z6(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function z6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=sf(this.lastLoginAt),this.creationTime=sf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jp(t){var e;const r=t.auth,n=await t.getIdToken(),i=await xf(t,X2(r,{idToken:n}));Ke(i?.users.length,r,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const s=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?Q2(a.providerUserInfo):[],u=K6(t.providerData,s),c=t.isAnonymous,f=!(t.email&&a.passwordHash)&&!u?.length,h=c?f:!1,p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Gx(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function H6(t){const e=Lt(t);await jp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function K6(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function Q2(t){return t.map(e=>{var{providerId:r}=e,n=V1(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G6(t,e){const r=await G2(t,{},async()=>{const n=dd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=Y2(t,i,"/v1/token",`key=${a}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",K2.fetch()(s,{method:"POST",headers:u,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function Y6(t,e){return Zo(t,"POST","/v2/accounts:revokeToken",Jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ke(e.idToken,"internal-error"),Ke(typeof e.idToken<"u","internal-error"),Ke(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Ke(e.length!==0,"internal-error");const r=pP(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await G6(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,s=new lu;return n&&(Ke(typeof n=="string","internal-error",{appName:e}),s.refreshToken=n),i&&(Ke(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(Ke(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new lu,this.toJSON())}_performRefresh(){return Ma("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function No(t,e){Ke(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class La{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,a=V1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new W6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Gx(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const r=await xf(this,this.stsTokenManager.getToken(this.auth,e));return Ke(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return q6(this,e)}reload(){return H6(this)}_assign(e){this!==e&&(Ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new La(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await jp(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ta(this.auth.app))return Promise.reject(Ua(this.auth));const e=await this.getIdToken();return await xf(this,U6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,a,s,u,c,f,h;const p=(n=r.displayName)!==null&&n!==void 0?n:void 0,v=(i=r.email)!==null&&i!==void 0?i:void 0,b=(a=r.phoneNumber)!==null&&a!==void 0?a:void 0,x=(s=r.photoURL)!==null&&s!==void 0?s:void 0,w=(u=r.tenantId)!==null&&u!==void 0?u:void 0,E=(c=r._redirectEventId)!==null&&c!==void 0?c:void 0,O=(f=r.createdAt)!==null&&f!==void 0?f:void 0,k=(h=r.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:I,emailVerified:$,isAnonymous:N,providerData:j,stsTokenManager:A}=r;Ke(I&&A,e,"internal-error");const P=lu.fromJSON(this.name,A);Ke(typeof I=="string",e,"internal-error"),No(p,e.name),No(v,e.name),Ke(typeof $=="boolean",e,"internal-error"),Ke(typeof N=="boolean",e,"internal-error"),No(b,e.name),No(x,e.name),No(w,e.name),No(E,e.name),No(O,e.name),No(k,e.name);const R=new La({uid:I,auth:e,email:v,emailVerified:$,displayName:p,isAnonymous:N,photoURL:x,phoneNumber:b,tenantId:w,stsTokenManager:P,createdAt:O,lastLoginAt:k});return j&&Array.isArray(j)&&(R.providerData=j.map(F=>Object.assign({},F))),E&&(R._redirectEventId=E),R}static async _fromIdTokenResponse(e,r,n=!1){const i=new lu;i.updateFromServerResponse(r);const a=new La({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await jp(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];Ke(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?Q2(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!a?.length,u=new lu;u.updateFromIdToken(n);const c=new La({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:s}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Gx(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(c,f),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP=new Map;function $a(t){Ga(t instanceof Function,"Expected a class definition");let e=mP.get(t);return e?(Ga(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,mP.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}J2.type="NONE";const gP=J2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(t,e,r){return`firebase:${t}:${e}:${r}`}class uu{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=xp(this.userKey,i.apiKey,a),this.fullPersistenceKey=xp("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?La._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new uu($a(gP),e,n);const i=(await Promise.all(r.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=i[0]||$a(gP);const s=xp(n,e.config.apiKey,e.name);let u=null;for(const f of r)try{const h=await f._get(s);if(h){const p=La._fromJSON(e,h);f!==a&&(u=p),a=f;break}}catch{}const c=i.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new uu(a,e,n):(a=c[0],u&&await a._set(s,u.toJSON()),await Promise.all(r.map(async f=>{if(f!==a)try{await f._remove(s)}catch{}})),new uu(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yP(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Z2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iD(e))return"Blackberry";if(aD(e))return"Webos";if(eD(e))return"Safari";if((e.includes("chrome/")||tD(e))&&!e.includes("edge/"))return"Chrome";if(nD(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if(n?.length===2)return n[1]}return"Other"}function Z2(t=Qr()){return/firefox\//i.test(t)}function eD(t=Qr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tD(t=Qr()){return/crios\//i.test(t)}function rD(t=Qr()){return/iemobile/i.test(t)}function nD(t=Qr()){return/android/i.test(t)}function iD(t=Qr()){return/blackberry/i.test(t)}function aD(t=Qr()){return/webos/i.test(t)}function z1(t=Qr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function X6(t=Qr()){var e;return z1(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Q6(){return f3()&&document.documentMode===10}function oD(t=Qr()){return z1(t)||nD(t)||aD(t)||iD(t)||/windows phone/i.test(t)||rD(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(t,e=[]){let r;switch(t){case"Browser":r=yP(Qr());break;case"Worker":r=`${yP(Qr())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${il}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((s,u)=>{try{const c=e(a);s(c)}catch(c){u(c)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z6(t,e={}){return Zo(t,"GET","/v2/passwordPolicy",Jo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eB=6;class tB{constructor(e){var r,n,i,a;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=s.minPasswordLength)!==null&&r!==void 0?r:eB,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,a,s,u;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(r=c.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(n=c.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(a=c.containsUppercaseLetter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(u=c.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),c}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rB{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vP(this),this.idTokenSubscription=new vP(this),this.beforeStateQueue=new J6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=W2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=$a(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await uu.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await X2(this,{idToken:e}),n=await La._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(ta(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,u=i?._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===u)&&c?.user&&(i=c.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await jp(e)}catch(r){if(r?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=D6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ta(this.app))return Promise.reject(Ua(this));const r=e?Lt(e):null;return r&&Ke(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ta(this.app)?Promise.reject(Ua(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ta(this.app)?Promise.reject(Ua(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($a(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Z6(this),r=new tB(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new fd("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await Y6(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&$a(e)||this._popupRedirectResolver;Ke(r,this,"argument-error"),this.redirectPersistenceManager=await uu.create(this,[$a(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let s=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ke(u,this,"internal-error"),u.then(()=>{s||a(this.currentUser)}),typeof r=="function"){const c=e.addObserver(r,n,i);return()=>{s=!0,c()}}else{const c=e.addObserver(r);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r?.error&&N6(`Error while retrieving App Check token: ${r.error}`),r?.token}}function al(t){return Lt(t)}class vP{constructor(e){this.auth=e,this.observer=null,this.addObserver=b3(r=>this.observer=r)}get next(){return Ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Km={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nB(t){Km=t}function lD(t){return Km.loadJS(t)}function iB(){return Km.recaptchaEnterpriseScript}function aB(){return Km.gapiScript}function oB(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const sB="recaptcha-enterprise",lB="NO_RECAPTCHA";class uB{constructor(e){this.type=sB,this.auth=al(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,u)=>{B6(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new V6(c);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,s(f.siteKey)}}).catch(c=>{u(c)})})}function i(a,s,u){const c=window.grecaptcha;hP(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(f=>{s(f)}).catch(()=>{s(lB)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,s)=>{n(this.auth).then(u=>{if(!r&&hP(window.grecaptcha))i(u,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=iB();c.length!==0&&(c+=u),lD(c).then(()=>{i(u,a,s)}).catch(f=>{s(f)})}}).catch(u=>{s(u)})})}}async function bP(t,e,r,n=!1){const i=new uB(t);let a;try{a=await i.verify(r)}catch{a=await i.verify(r,!0)}const s=Object.assign({},e);return n?Object.assign(s,{captchaResp:a}):Object.assign(s,{captchaResponse:a}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Yx(t,e,r,n){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await bP(t,e,r,r==="getOobCode");return n(t,a)}else return n(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await bP(t,e,r,r==="getOobCode");return n(t,s)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cB(t,e){const r=Hm(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(Cp(a,e??{}))return i;Mi(i,"already-initialized")}return r.initialize({options:e})}function fB(t,e){const r=e?.persistence||[],n=(Array.isArray(r)?r:[r]).map($a);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e?.popupRedirectResolver)}function dB(t,e,r){const n=al(t);Ke(n._canInitEmulator,n,"emulator-config-failed"),Ke(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=uD(e),{host:s,port:u}=hB(e),c=u===null?"":`:${u}`;n.config.emulator={url:`${a}//${s}${c}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),pB()}function uD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function hB(t){const e=uD(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:_P(n.substr(a.length+1))}}else{const[a,s]=n.split(":");return{host:a,port:_P(s)}}}function _P(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function pB(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Ma("not implemented")}_getIdTokenResponse(e){return Ma("not implemented")}_linkToIdToken(e,r){return Ma("not implemented")}_getReauthenticationResolver(e){return Ma("not implemented")}}async function mB(t,e){return Zo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gB(t,e){return pd(t,"POST","/v1/accounts:signInWithPassword",Jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yB(t,e){return pd(t,"POST","/v1/accounts:signInWithEmailLink",Jo(t,e))}async function vB(t,e){return pd(t,"POST","/v1/accounts:signInWithEmailLink",Jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf extends W1{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new wf(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new wf(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r?.email&&r?.password){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yx(e,r,"signInWithPassword",gB);case"emailLink":return yB(e,{email:this._email,oobCode:this._password});default:Mi(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yx(e,n,"signUpPassword",mB);case"emailLink":return vB(e,{idToken:r,email:this._email,oobCode:this._password});default:Mi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cu(t,e){return pd(t,"POST","/v1/accounts:signInWithIdp",Jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bB="http://localhost";class Hs extends W1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Hs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Mi("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,a=V1(r,["providerId","signInMethod"]);if(!n||!i)return null;const s=new Hs(n,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const r=this.buildRequest();return cu(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,cu(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,cu(e,r)}buildRequest(){const e={requestUri:bB,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=dd(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _B(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function xB(t){const e=Xc(Qc(t)).link,r=e?Xc(Qc(e)).deep_link_id:null,n=Xc(Qc(t)).deep_link_id;return(n?Xc(Qc(n)).link:null)||n||r||e||t}class H1{constructor(e){var r,n,i,a,s,u;const c=Xc(Qc(e)),f=(r=c.apiKey)!==null&&r!==void 0?r:null,h=(n=c.oobCode)!==null&&n!==void 0?n:null,p=_B((i=c.mode)!==null&&i!==void 0?i:null);Ke(f&&h&&p,"argument-error"),this.apiKey=f,this.operation=p,this.code=h,this.continueUrl=(a=c.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(s=c.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(u=c.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const r=xB(e);try{return new H1(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(){this.providerId=Gu.PROVIDER_ID}static credential(e,r){return wf._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=H1.parseLink(r);return Ke(n,"argument-error"),wf._fromEmailAndCode(e,n.code,n.tenantId)}}Gu.PROVIDER_ID="password";Gu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Gu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md extends cD{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo extends md{constructor(){super("facebook.com")}static credential(e){return Hs._fromParams({providerId:jo.PROVIDER_ID,signInMethod:jo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jo.credentialFromTaggedObject(e)}static credentialFromError(e){return jo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return jo.credential(e.oauthAccessToken)}catch{return null}}}jo.FACEBOOK_SIGN_IN_METHOD="facebook.com";jo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do extends md{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Hs._fromParams({providerId:Do.PROVIDER_ID,signInMethod:Do.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Do.credentialFromTaggedObject(e)}static credentialFromError(e){return Do.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Do.credential(r,n)}catch{return null}}}Do.GOOGLE_SIGN_IN_METHOD="google.com";Do.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo extends md{constructor(){super("github.com")}static credential(e){return Hs._fromParams({providerId:Mo.PROVIDER_ID,signInMethod:Mo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mo.credentialFromTaggedObject(e)}static credentialFromError(e){return Mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mo.credential(e.oauthAccessToken)}catch{return null}}}Mo.GITHUB_SIGN_IN_METHOD="github.com";Mo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo extends md{constructor(){super("twitter.com")}static credential(e,r){return Hs._fromParams({providerId:Lo.PROVIDER_ID,signInMethod:Lo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Lo.credentialFromTaggedObject(e)}static credentialFromError(e){return Lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Lo.credential(r,n)}catch{return null}}}Lo.TWITTER_SIGN_IN_METHOD="twitter.com";Lo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wB(t,e){return pd(t,"POST","/v1/accounts:signUp",Jo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await La._fromIdTokenResponse(e,n,i),s=xP(n);return new Ks({user:a,providerId:s,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=xP(n);return new Ks({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function xP(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp extends ma{constructor(e,r,n,i){var a;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Dp.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Dp(e,r,n,i)}}function fD(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Dp._fromErrorAndOperation(t,a,e,n):a})}async function EB(t,e,r=!1){const n=await xf(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Ks._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SB(t,e,r=!1){const{auth:n}=t;if(ta(n.app))return Promise.reject(Ua(n));const i="reauthenticate";try{const a=await xf(t,fD(n,i,e,t),r);Ke(a.idToken,n,"internal-error");const s=q1(a.idToken);Ke(s,n,"internal-error");const{sub:u}=s;return Ke(t.uid===u,n,"user-mismatch"),Ks._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&Mi(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dD(t,e,r=!1){if(ta(t.app))return Promise.reject(Ua(t));const n="signIn",i=await fD(t,n,e),a=await Ks._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}async function TB(t,e){return dD(al(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hD(t){const e=al(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function AB(t,e,r){if(ta(t.app))return Promise.reject(Ua(t));const n=al(t),s=await Yx(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",wB).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&hD(t),c}),u=await Ks._fromIdTokenResponse(n,"signIn",s);return await n._updateCurrentUser(u.user),u}function PB(t,e,r){return ta(t.app)?Promise.reject(Ua(t)):TB(Lt(t),Gu.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&hD(t),n})}function kB(t,e,r,n){return Lt(t).onIdTokenChanged(e,r,n)}function IB(t,e,r){return Lt(t).beforeAuthStateChanged(e,r)}function OB(t,e,r,n){return Lt(t).onAuthStateChanged(e,r,n)}function CB(t){return Lt(t).signOut()}const Mp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Mp,"1"),this.storage.removeItem(Mp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NB=1e3,RB=10;class mD extends pD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=oD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((s,u,c)=>{this.notifyListeners(s,c)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(n);!r&&this.localCache[n]===s||this.notifyListeners(n,s)},a=this.storage.getItem(n);Q6()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,RB):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},NB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}mD.type="LOCAL";const jB=mD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD extends pD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}gD.type="SESSION";const yD=gD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DB(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new Gm(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,s=this.handlersMap[i];if(!s?.size)return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const u=Array.from(s).map(async f=>f(r.origin,a)),c=await DB(u);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:c})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((u,c)=>{const f=K1("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},n);s={messageChannel:i,onMessage(p){const v=p;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(h),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(v.data.response);break;default:clearTimeout(h),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:f,data:r},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oa(){return window}function LB(t){oa().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(){return typeof oa().WorkerGlobalScope<"u"&&typeof oa().importScripts=="function"}async function $B(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function FB(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function VB(){return vD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD="firebaseLocalStorageDb",BB=1,Lp="firebaseLocalStorage",_D="fbase_key";class gd{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Ym(t,e){return t.transaction([Lp],e?"readwrite":"readonly").objectStore(Lp)}function UB(){const t=indexedDB.deleteDatabase(bD);return new gd(t).toPromise()}function Xx(){const t=indexedDB.open(bD,BB);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Lp,{keyPath:_D})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Lp)?e(n):(n.close(),await UB(),e(await Xx()))})})}async function wP(t,e,r){const n=Ym(t,!0).put({[_D]:e,value:r});return new gd(n).toPromise()}async function qB(t,e){const r=Ym(t,!1).get(e),n=await new gd(r).toPromise();return n===void 0?null:n.value}function EP(t,e){const r=Ym(t,!0).delete(e);return new gd(r).toPromise()}const zB=800,WB=3;class xD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xx(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>WB)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gm._getInstance(VB()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await $B(),!this.activeServiceWorker)return;this.sender=new MB(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||FB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xx();return await wP(e,Mp,"1"),await EP(e,Mp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>wP(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>qB(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>EP(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Ym(i,!1).getAll();return new gd(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xD.type="LOCAL";const HB=xD;new hd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KB(t,e){return e?$a(e):(Ke(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1 extends W1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return cu(e,this._buildIdpRequest())}_linkToIdToken(e,r){return cu(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return cu(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function GB(t){return dD(t.auth,new G1(t),t.bypassAuthState)}function YB(t){const{auth:e,user:r}=t;return Ke(r,e,"internal-error"),SB(r,new G1(t),t.bypassAuthState)}async function XB(t){const{auth:e,user:r}=t;return Ke(r,e,"internal-error"),EB(r,new G1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:s,type:u}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return GB;case"linkViaPopup":case"linkViaRedirect":return XB;case"reauthViaPopup":case"reauthViaRedirect":return YB;default:Mi(this.auth,"internal-error")}}resolve(e){Ga(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ga(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QB=new hd(2e3,1e4);class ru extends wD{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,ru.currentPopupAction&&ru.currentPopupAction.cancel(),ru.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ke(e,this.auth,"internal-error"),e}async onExecution(){Ga(this.filter.length===1,"Popup operations only handle one event");const e=K1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(aa(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(aa(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ru.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(aa(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,QB.get())};e()}}ru.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JB="pendingRedirect",wp=new Map;class ZB extends wD{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=wp.get(this.auth._key());if(!e){try{const n=await eU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}wp.set(this.auth._key(),e)}return this.bypassAuthState||wp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function eU(t,e){const r=nU(e),n=rU(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function tU(t,e){wp.set(t._key(),e)}function rU(t){return $a(t._redirectPersistence)}function nU(t){return xp(JB,t.config.apiKey,t.name)}async function iU(t,e,r=!1){if(ta(t.app))return Promise.reject(Ua(t));const n=al(t),i=KB(n,e),s=await new ZB(n,i,r).execute();return s&&!r&&(delete s.user._redirectEventId,await n._persistUserIfCurrent(s.user),await n._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aU=10*60*1e3;class oU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!sU(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!ED(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(aa(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=aU&&this.cachedEventUids.clear(),this.cachedEventUids.has(SP(e))}saveEventToCache(e){this.cachedEventUids.add(SP(e)),this.lastProcessedEventTime=Date.now()}}function SP(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ED({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function sU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ED(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lU(t,e={}){return Zo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cU=/^https?/;async function fU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await lU(t);for(const r of e)try{if(dU(r))return}catch{}Mi(t,"unauthorized-domain")}function dU(t){const e=Kx(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&s.hostname===n}if(!cU.test(r))return!1;if(uU.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hU=new hd(3e4,6e4);function TP(){const t=oa().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function pU(t){return new Promise((e,r)=>{var n,i,a;function s(){TP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{TP(),r(aa(t,"network-request-failed"))},timeout:hU.get()})}if(!((i=(n=oa().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=oa().gapi)===null||a===void 0)&&a.load)s();else{const u=oB("iframefcb");return oa()[u]=()=>{gapi.load?s():r(aa(t,"network-request-failed"))},lD(`${aB()}?onload=${u}`).catch(c=>r(c))}}).catch(e=>{throw Ep=null,e})}let Ep=null;function mU(t){return Ep=Ep||pU(t),Ep}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gU=new hd(5e3,15e3),yU="__/auth/iframe",vU="emulator/auth/iframe",bU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_U=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xU(t){const e=t.config;Ke(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?U1(e,vU):`https://${t.config.authDomain}/${yU}`,n={apiKey:e.apiKey,appName:t.name,v:il},i=_U.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${dd(n).slice(1)}`}async function wU(t){const e=await mU(t),r=oa().gapi;return Ke(r,t,"internal-error"),e.open({where:document.body,url:xU(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bU,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const s=aa(t,"network-request-failed"),u=oa().setTimeout(()=>{a(s)},gU.get());function c(){oa().clearTimeout(u),i(n)}n.ping(c).then(c,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SU=500,TU=600,AU="_blank",PU="http://localhost";class AP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kU(t,e,r,n=SU,i=TU){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString();let u="";const c=Object.assign(Object.assign({},EU),{width:n.toString(),height:i.toString(),top:a,left:s}),f=Qr().toLowerCase();r&&(u=tD(f)?AU:r),Z2(f)&&(e=e||PU,c.scrollbars="yes");const h=Object.entries(c).reduce((v,[b,x])=>`${v}${b}=${x},`,"");if(X6(f)&&u!=="_self")return IU(e||"",u),new AP(null);const p=window.open(e||"",u,h);Ke(p,t,"popup-blocked");try{p.focus()}catch{}return new AP(p)}function IU(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OU="__/auth/handler",CU="emulator/auth/handler",NU=encodeURIComponent("fac");async function PP(t,e,r,n,i,a){Ke(t.config.authDomain,t,"auth-domain-config-required"),Ke(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:il,eventId:i};if(e instanceof cD){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",v3(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))s[h]=p}if(e instanceof md){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);const u=s;for(const h of Object.keys(u))u[h]===void 0&&delete u[h];const c=await t._getAppCheckToken(),f=c?`#${NU}=${encodeURIComponent(c)}`:"";return`${RU(t)}?${dd(u).slice(1)}${f}`}function RU({config:t}){return t.emulator?U1(t,CU):`https://${t.authDomain}/${OU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="webStorageSupport";class jU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yD,this._completeRedirectFn=iU,this._overrideRedirectResult=tU}async _openPopup(e,r,n,i){var a;Ga((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await PP(e,r,n,Kx(),i);return kU(e,s,K1())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await PP(e,r,n,Kx(),i);return LB(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(Ga(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await wU(e),n=new oU(e);return r.register("authEvent",i=>(Ke(i?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Rv,{type:Rv},i=>{var a;const s=(a=i?.[0])===null||a===void 0?void 0:a[Rv];s!==void 0&&r(!!s),Mi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=fU(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return oD()||eD()||z1()}}const DU=jU;var kP="@firebase/auth",IP="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $U(t){Ws(new Ko("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:u}=n.options;Ke(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:s,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sD(t)},f=new rB(n,i,a,c);return fB(f,r),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Ws(new Ko("auth-internal",e=>{const r=al(e.getProvider("auth").getImmediate());return(n=>new MU(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),ia(kP,IP,LU(t)),ia(kP,IP,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FU=5*60,VU=L2("authIdTokenMaxAge")||FU;let OP=null;const BU=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>VU)return;const i=r?.token;OP!==i&&(OP=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function SD(t=F1()){const e=Hm(t,"auth");if(e.isInitialized())return e.getImmediate();const r=cB(t,{popupRedirectResolver:DU,persistence:[HB,jB,yD]}),n=L2("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const s=BU(a.toString());IB(r,s,()=>s(r.currentUser)),kB(r,u=>s(u))}}const i=j2("auth");return i&&dB(r,`http://${i}`),r}function UU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}nB({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=aa("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",UU().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$U("Browser");var CP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fs,TD;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,P){function R(){}R.prototype=P.prototype,A.D=P.prototype,A.prototype=new R,A.prototype.constructor=A,A.C=function(F,M,V){for(var D=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)D[Z-2]=arguments[Z];return P.prototype[M].apply(F,D)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,P,R){R||(R=0);var F=Array(16);if(typeof P=="string")for(var M=0;16>M;++M)F[M]=P.charCodeAt(R++)|P.charCodeAt(R++)<<8|P.charCodeAt(R++)<<16|P.charCodeAt(R++)<<24;else for(M=0;16>M;++M)F[M]=P[R++]|P[R++]<<8|P[R++]<<16|P[R++]<<24;P=A.g[0],R=A.g[1],M=A.g[2];var V=A.g[3],D=P+(V^R&(M^V))+F[0]+3614090360&4294967295;P=R+(D<<7&4294967295|D>>>25),D=V+(M^P&(R^M))+F[1]+3905402710&4294967295,V=P+(D<<12&4294967295|D>>>20),D=M+(R^V&(P^R))+F[2]+606105819&4294967295,M=V+(D<<17&4294967295|D>>>15),D=R+(P^M&(V^P))+F[3]+3250441966&4294967295,R=M+(D<<22&4294967295|D>>>10),D=P+(V^R&(M^V))+F[4]+4118548399&4294967295,P=R+(D<<7&4294967295|D>>>25),D=V+(M^P&(R^M))+F[5]+1200080426&4294967295,V=P+(D<<12&4294967295|D>>>20),D=M+(R^V&(P^R))+F[6]+2821735955&4294967295,M=V+(D<<17&4294967295|D>>>15),D=R+(P^M&(V^P))+F[7]+4249261313&4294967295,R=M+(D<<22&4294967295|D>>>10),D=P+(V^R&(M^V))+F[8]+1770035416&4294967295,P=R+(D<<7&4294967295|D>>>25),D=V+(M^P&(R^M))+F[9]+2336552879&4294967295,V=P+(D<<12&4294967295|D>>>20),D=M+(R^V&(P^R))+F[10]+4294925233&4294967295,M=V+(D<<17&4294967295|D>>>15),D=R+(P^M&(V^P))+F[11]+2304563134&4294967295,R=M+(D<<22&4294967295|D>>>10),D=P+(V^R&(M^V))+F[12]+1804603682&4294967295,P=R+(D<<7&4294967295|D>>>25),D=V+(M^P&(R^M))+F[13]+4254626195&4294967295,V=P+(D<<12&4294967295|D>>>20),D=M+(R^V&(P^R))+F[14]+2792965006&4294967295,M=V+(D<<17&4294967295|D>>>15),D=R+(P^M&(V^P))+F[15]+1236535329&4294967295,R=M+(D<<22&4294967295|D>>>10),D=P+(M^V&(R^M))+F[1]+4129170786&4294967295,P=R+(D<<5&4294967295|D>>>27),D=V+(R^M&(P^R))+F[6]+3225465664&4294967295,V=P+(D<<9&4294967295|D>>>23),D=M+(P^R&(V^P))+F[11]+643717713&4294967295,M=V+(D<<14&4294967295|D>>>18),D=R+(V^P&(M^V))+F[0]+3921069994&4294967295,R=M+(D<<20&4294967295|D>>>12),D=P+(M^V&(R^M))+F[5]+3593408605&4294967295,P=R+(D<<5&4294967295|D>>>27),D=V+(R^M&(P^R))+F[10]+38016083&4294967295,V=P+(D<<9&4294967295|D>>>23),D=M+(P^R&(V^P))+F[15]+3634488961&4294967295,M=V+(D<<14&4294967295|D>>>18),D=R+(V^P&(M^V))+F[4]+3889429448&4294967295,R=M+(D<<20&4294967295|D>>>12),D=P+(M^V&(R^M))+F[9]+568446438&4294967295,P=R+(D<<5&4294967295|D>>>27),D=V+(R^M&(P^R))+F[14]+3275163606&4294967295,V=P+(D<<9&4294967295|D>>>23),D=M+(P^R&(V^P))+F[3]+4107603335&4294967295,M=V+(D<<14&4294967295|D>>>18),D=R+(V^P&(M^V))+F[8]+1163531501&4294967295,R=M+(D<<20&4294967295|D>>>12),D=P+(M^V&(R^M))+F[13]+2850285829&4294967295,P=R+(D<<5&4294967295|D>>>27),D=V+(R^M&(P^R))+F[2]+4243563512&4294967295,V=P+(D<<9&4294967295|D>>>23),D=M+(P^R&(V^P))+F[7]+1735328473&4294967295,M=V+(D<<14&4294967295|D>>>18),D=R+(V^P&(M^V))+F[12]+2368359562&4294967295,R=M+(D<<20&4294967295|D>>>12),D=P+(R^M^V)+F[5]+4294588738&4294967295,P=R+(D<<4&4294967295|D>>>28),D=V+(P^R^M)+F[8]+2272392833&4294967295,V=P+(D<<11&4294967295|D>>>21),D=M+(V^P^R)+F[11]+1839030562&4294967295,M=V+(D<<16&4294967295|D>>>16),D=R+(M^V^P)+F[14]+4259657740&4294967295,R=M+(D<<23&4294967295|D>>>9),D=P+(R^M^V)+F[1]+2763975236&4294967295,P=R+(D<<4&4294967295|D>>>28),D=V+(P^R^M)+F[4]+1272893353&4294967295,V=P+(D<<11&4294967295|D>>>21),D=M+(V^P^R)+F[7]+4139469664&4294967295,M=V+(D<<16&4294967295|D>>>16),D=R+(M^V^P)+F[10]+3200236656&4294967295,R=M+(D<<23&4294967295|D>>>9),D=P+(R^M^V)+F[13]+681279174&4294967295,P=R+(D<<4&4294967295|D>>>28),D=V+(P^R^M)+F[0]+3936430074&4294967295,V=P+(D<<11&4294967295|D>>>21),D=M+(V^P^R)+F[3]+3572445317&4294967295,M=V+(D<<16&4294967295|D>>>16),D=R+(M^V^P)+F[6]+76029189&4294967295,R=M+(D<<23&4294967295|D>>>9),D=P+(R^M^V)+F[9]+3654602809&4294967295,P=R+(D<<4&4294967295|D>>>28),D=V+(P^R^M)+F[12]+3873151461&4294967295,V=P+(D<<11&4294967295|D>>>21),D=M+(V^P^R)+F[15]+530742520&4294967295,M=V+(D<<16&4294967295|D>>>16),D=R+(M^V^P)+F[2]+3299628645&4294967295,R=M+(D<<23&4294967295|D>>>9),D=P+(M^(R|~V))+F[0]+4096336452&4294967295,P=R+(D<<6&4294967295|D>>>26),D=V+(R^(P|~M))+F[7]+1126891415&4294967295,V=P+(D<<10&4294967295|D>>>22),D=M+(P^(V|~R))+F[14]+2878612391&4294967295,M=V+(D<<15&4294967295|D>>>17),D=R+(V^(M|~P))+F[5]+4237533241&4294967295,R=M+(D<<21&4294967295|D>>>11),D=P+(M^(R|~V))+F[12]+1700485571&4294967295,P=R+(D<<6&4294967295|D>>>26),D=V+(R^(P|~M))+F[3]+2399980690&4294967295,V=P+(D<<10&4294967295|D>>>22),D=M+(P^(V|~R))+F[10]+4293915773&4294967295,M=V+(D<<15&4294967295|D>>>17),D=R+(V^(M|~P))+F[1]+2240044497&4294967295,R=M+(D<<21&4294967295|D>>>11),D=P+(M^(R|~V))+F[8]+1873313359&4294967295,P=R+(D<<6&4294967295|D>>>26),D=V+(R^(P|~M))+F[15]+4264355552&4294967295,V=P+(D<<10&4294967295|D>>>22),D=M+(P^(V|~R))+F[6]+2734768916&4294967295,M=V+(D<<15&4294967295|D>>>17),D=R+(V^(M|~P))+F[13]+1309151649&4294967295,R=M+(D<<21&4294967295|D>>>11),D=P+(M^(R|~V))+F[4]+4149444226&4294967295,P=R+(D<<6&4294967295|D>>>26),D=V+(R^(P|~M))+F[11]+3174756917&4294967295,V=P+(D<<10&4294967295|D>>>22),D=M+(P^(V|~R))+F[2]+718787259&4294967295,M=V+(D<<15&4294967295|D>>>17),D=R+(V^(M|~P))+F[9]+3951481745&4294967295,A.g[0]=A.g[0]+P&4294967295,A.g[1]=A.g[1]+(M+(D<<21&4294967295|D>>>11))&4294967295,A.g[2]=A.g[2]+M&4294967295,A.g[3]=A.g[3]+V&4294967295}n.prototype.u=function(A,P){P===void 0&&(P=A.length);for(var R=P-this.blockSize,F=this.B,M=this.h,V=0;V<P;){if(M==0)for(;V<=R;)i(this,A,V),V+=this.blockSize;if(typeof A=="string"){for(;V<P;)if(F[M++]=A.charCodeAt(V++),M==this.blockSize){i(this,F),M=0;break}}else for(;V<P;)if(F[M++]=A[V++],M==this.blockSize){i(this,F),M=0;break}}this.h=M,this.o+=P},n.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var P=1;P<A.length-8;++P)A[P]=0;var R=8*this.o;for(P=A.length-8;P<A.length;++P)A[P]=R&255,R/=256;for(this.u(A),A=Array(16),P=R=0;4>P;++P)for(var F=0;32>F;F+=8)A[R++]=this.g[P]>>>F&255;return A};function a(A,P){var R=u;return Object.prototype.hasOwnProperty.call(R,A)?R[A]:R[A]=P(A)}function s(A,P){this.h=P;for(var R=[],F=!0,M=A.length-1;0<=M;M--){var V=A[M]|0;F&&V==P||(R[M]=V,F=!1)}this.g=R}var u={};function c(A){return-128<=A&&128>A?a(A,function(P){return new s([P|0],0>P?-1:0)}):new s([A|0],0>A?-1:0)}function f(A){if(isNaN(A)||!isFinite(A))return p;if(0>A)return E(f(-A));for(var P=[],R=1,F=0;A>=R;F++)P[F]=A/R|0,R*=4294967296;return new s(P,0)}function h(A,P){if(A.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(A.charAt(0)=="-")return E(h(A.substring(1),P));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=f(Math.pow(P,8)),F=p,M=0;M<A.length;M+=8){var V=Math.min(8,A.length-M),D=parseInt(A.substring(M,M+V),P);8>V?(V=f(Math.pow(P,V)),F=F.j(V).add(f(D))):(F=F.j(R),F=F.add(f(D)))}return F}var p=c(0),v=c(1),b=c(16777216);t=s.prototype,t.m=function(){if(w(this))return-E(this).m();for(var A=0,P=1,R=0;R<this.g.length;R++){var F=this.i(R);A+=(0<=F?F:4294967296+F)*P,P*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(x(this))return"0";if(w(this))return"-"+E(this).toString(A);for(var P=f(Math.pow(A,6)),R=this,F="";;){var M=$(R,P).g;R=O(R,M.j(P));var V=((0<R.g.length?R.g[0]:R.h)>>>0).toString(A);if(R=M,x(R))return V+F;for(;6>V.length;)V="0"+V;F=V+F}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function x(A){if(A.h!=0)return!1;for(var P=0;P<A.g.length;P++)if(A.g[P]!=0)return!1;return!0}function w(A){return A.h==-1}t.l=function(A){return A=O(this,A),w(A)?-1:x(A)?0:1};function E(A){for(var P=A.g.length,R=[],F=0;F<P;F++)R[F]=~A.g[F];return new s(R,~A.h).add(v)}t.abs=function(){return w(this)?E(this):this},t.add=function(A){for(var P=Math.max(this.g.length,A.g.length),R=[],F=0,M=0;M<=P;M++){var V=F+(this.i(M)&65535)+(A.i(M)&65535),D=(V>>>16)+(this.i(M)>>>16)+(A.i(M)>>>16);F=D>>>16,V&=65535,D&=65535,R[M]=D<<16|V}return new s(R,R[R.length-1]&-2147483648?-1:0)};function O(A,P){return A.add(E(P))}t.j=function(A){if(x(this)||x(A))return p;if(w(this))return w(A)?E(this).j(E(A)):E(E(this).j(A));if(w(A))return E(this.j(E(A)));if(0>this.l(b)&&0>A.l(b))return f(this.m()*A.m());for(var P=this.g.length+A.g.length,R=[],F=0;F<2*P;F++)R[F]=0;for(F=0;F<this.g.length;F++)for(var M=0;M<A.g.length;M++){var V=this.i(F)>>>16,D=this.i(F)&65535,Z=A.i(M)>>>16,ee=A.i(M)&65535;R[2*F+2*M]+=D*ee,k(R,2*F+2*M),R[2*F+2*M+1]+=V*ee,k(R,2*F+2*M+1),R[2*F+2*M+1]+=D*Z,k(R,2*F+2*M+1),R[2*F+2*M+2]+=V*Z,k(R,2*F+2*M+2)}for(F=0;F<P;F++)R[F]=R[2*F+1]<<16|R[2*F];for(F=P;F<2*P;F++)R[F]=0;return new s(R,0)};function k(A,P){for(;(A[P]&65535)!=A[P];)A[P+1]+=A[P]>>>16,A[P]&=65535,P++}function I(A,P){this.g=A,this.h=P}function $(A,P){if(x(P))throw Error("division by zero");if(x(A))return new I(p,p);if(w(A))return P=$(E(A),P),new I(E(P.g),E(P.h));if(w(P))return P=$(A,E(P)),new I(E(P.g),P.h);if(30<A.g.length){if(w(A)||w(P))throw Error("slowDivide_ only works with positive integers.");for(var R=v,F=P;0>=F.l(A);)R=N(R),F=N(F);var M=j(R,1),V=j(F,1);for(F=j(F,2),R=j(R,2);!x(F);){var D=V.add(F);0>=D.l(A)&&(M=M.add(R),V=D),F=j(F,1),R=j(R,1)}return P=O(A,M.j(P)),new I(M,P)}for(M=p;0<=A.l(P);){for(R=Math.max(1,Math.floor(A.m()/P.m())),F=Math.ceil(Math.log(R)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),V=f(R),D=V.j(P);w(D)||0<D.l(A);)R-=F,V=f(R),D=V.j(P);x(V)&&(V=v),M=M.add(V),A=O(A,D)}return new I(M,A)}t.A=function(A){return $(this,A).h},t.and=function(A){for(var P=Math.max(this.g.length,A.g.length),R=[],F=0;F<P;F++)R[F]=this.i(F)&A.i(F);return new s(R,this.h&A.h)},t.or=function(A){for(var P=Math.max(this.g.length,A.g.length),R=[],F=0;F<P;F++)R[F]=this.i(F)|A.i(F);return new s(R,this.h|A.h)},t.xor=function(A){for(var P=Math.max(this.g.length,A.g.length),R=[],F=0;F<P;F++)R[F]=this.i(F)^A.i(F);return new s(R,this.h^A.h)};function N(A){for(var P=A.g.length+1,R=[],F=0;F<P;F++)R[F]=A.i(F)<<1|A.i(F-1)>>>31;return new s(R,A.h)}function j(A,P){var R=P>>5;P%=32;for(var F=A.g.length-R,M=[],V=0;V<F;V++)M[V]=0<P?A.i(V+R)>>>P|A.i(V+R+1)<<32-P:A.i(V+R);return new s(M,A.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,TD=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=f,s.fromString=h,Fs=s}).apply(typeof CP<"u"?CP:typeof self<"u"?self:typeof window<"u"?window:{});var Zh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var AD,Jc,PD,Sp,Qx,kD,ID,OD;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,S,C){return m==Array.prototype||m==Object.prototype||(m[S]=C.value),m};function r(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zh=="object"&&Zh];for(var S=0;S<m.length;++S){var C=m[S];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var n=r(this);function i(m,S){if(S)e:{var C=n;m=m.split(".");for(var B=0;B<m.length-1;B++){var Y=m[B];if(!(Y in C))break e;C=C[Y]}m=m[m.length-1],B=C[m],S=S(B),S!=B&&S!=null&&e(C,m,{configurable:!0,writable:!0,value:S})}}function a(m,S){m instanceof String&&(m+="");var C=0,B=!1,Y={next:function(){if(!B&&C<m.length){var ne=C++;return{value:S(ne,m[ne]),done:!1}}return B=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}i("Array.prototype.values",function(m){return m||function(){return a(this,function(S,C){return C})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},u=this||self;function c(m){var S=typeof m;return S=S!="object"?S:m?Array.isArray(m)?"array":S:"null",S=="array"||S=="object"&&typeof m.length=="number"}function f(m){var S=typeof m;return S=="object"&&m!=null||S=="function"}function h(m,S,C){return m.call.apply(m.bind,arguments)}function p(m,S,C){if(!m)throw Error();if(2<arguments.length){var B=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,B),m.apply(S,Y)}}return function(){return m.apply(S,arguments)}}function v(m,S,C){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,v.apply(null,arguments)}function b(m,S){var C=Array.prototype.slice.call(arguments,1);return function(){var B=C.slice();return B.push.apply(B,arguments),m.apply(this,B)}}function x(m,S){function C(){}C.prototype=S.prototype,m.aa=S.prototype,m.prototype=new C,m.prototype.constructor=m,m.Qb=function(B,Y,ne){for(var _e=Array(arguments.length-2),_t=2;_t<arguments.length;_t++)_e[_t-2]=arguments[_t];return S.prototype[Y].apply(B,_e)}}function w(m){const S=m.length;if(0<S){const C=Array(S);for(let B=0;B<S;B++)C[B]=m[B];return C}return[]}function E(m,S){for(let C=1;C<arguments.length;C++){const B=arguments[C];if(c(B)){const Y=m.length||0,ne=B.length||0;m.length=Y+ne;for(let _e=0;_e<ne;_e++)m[Y+_e]=B[_e]}else m.push(B)}}class O{constructor(S,C){this.i=S,this.j=C,this.h=0,this.g=null}get(){let S;return 0<this.h?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function k(m){return/^[\s\xa0]*$/.test(m)}function I(){var m=u.navigator;return m&&(m=m.userAgent)?m:""}function $(m){return $[" "](m),m}$[" "]=function(){};var N=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function j(m,S,C){for(const B in m)S.call(C,m[B],B,m)}function A(m,S){for(const C in m)S.call(void 0,m[C],C,m)}function P(m){const S={};for(const C in m)S[C]=m[C];return S}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(m,S){let C,B;for(let Y=1;Y<arguments.length;Y++){B=arguments[Y];for(C in B)m[C]=B[C];for(let ne=0;ne<R.length;ne++)C=R[ne],Object.prototype.hasOwnProperty.call(B,C)&&(m[C]=B[C])}}function M(m){var S=1;m=m.split(":");const C=[];for(;0<S&&m.length;)C.push(m.shift()),S--;return m.length&&C.push(m.join(":")),C}function V(m){u.setTimeout(()=>{throw m},0)}function D(){var m=ie;let S=null;return m.g&&(S=m.g,m.g=m.g.next,m.g||(m.h=null),S.next=null),S}class Z{constructor(){this.h=this.g=null}add(S,C){const B=ee.get();B.set(S,C),this.h?this.h.next=B:this.g=B,this.h=B}}var ee=new O(()=>new re,m=>m.reset());class re{constructor(){this.next=this.g=this.h=null}set(S,C){this.h=S,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,Q=!1,ie=new Z,oe=()=>{const m=u.Promise.resolve(void 0);ae=()=>{m.then(q)}};var q=()=>{for(var m;m=D();){try{m.h.call(m.g)}catch(C){V(C)}var S=ee;S.j(m),100>S.h&&(S.h++,m.next=S.g,S.g=m)}Q=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(m,S){this.type=m,this.g=this.target=S,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var xe=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var m=!1,S=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const C=()=>{};u.addEventListener("test",C,S),u.removeEventListener("test",C,S)}catch{}return m}();function Ne(m,S){if(ce.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var C=this.type=m.type,B=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=S,S=m.relatedTarget){if(N){e:{try{$(S.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(S=null)}}else C=="mouseover"?S=m.fromElement:C=="mouseout"&&(S=m.toElement);this.relatedTarget=S,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:be[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&Ne.aa.h.call(this)}}x(Ne,ce);var be={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var je="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function he(m,S,C,B,Y){this.listener=m,this.proxy=null,this.src=S,this.type=C,this.capture=!!B,this.ha=Y,this.key=++Fe,this.da=this.fa=!1}function Ie(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function ze(m){this.src=m,this.g={},this.h=0}ze.prototype.add=function(m,S,C,B,Y){var ne=m.toString();m=this.g[ne],m||(m=this.g[ne]=[],this.h++);var _e=st(m,S,B,Y);return-1<_e?(S=m[_e],C||(S.fa=!1)):(S=new he(S,this.src,ne,!!B,Y),S.fa=C,m.push(S)),S};function le(m,S){var C=S.type;if(C in m.g){var B=m.g[C],Y=Array.prototype.indexOf.call(B,S,void 0),ne;(ne=0<=Y)&&Array.prototype.splice.call(B,Y,1),ne&&(Ie(S),m.g[C].length==0&&(delete m.g[C],m.h--))}}function st(m,S,C,B){for(var Y=0;Y<m.length;++Y){var ne=m[Y];if(!ne.da&&ne.listener==S&&ne.capture==!!C&&ne.ha==B)return Y}return-1}var He="closure_lm_"+(1e6*Math.random()|0),pt={};function Et(m,S,C,B,Y){if(Array.isArray(S)){for(var ne=0;ne<S.length;ne++)Et(m,S[ne],C,B,Y);return null}return C=Bi(C),m&&m[je]?m.K(S,C,f(B)?!!B.capture:!1,Y):Ht(m,S,C,!1,B,Y)}function Ht(m,S,C,B,Y,ne){if(!S)throw Error("Invalid event type");var _e=f(Y)?!!Y.capture:!!Y,_t=Zr(m);if(_t||(m[He]=_t=new ze(m)),C=_t.add(S,C,B,_e,ne),C.proxy)return C;if(B=cr(),C.proxy=B,B.src=m,B.listener=C,m.addEventListener)xe||(Y=_e),Y===void 0&&(Y=!1),m.addEventListener(S.toString(),B,Y);else if(m.attachEvent)m.attachEvent(Pt(S.toString()),B);else if(m.addListener&&m.removeListener)m.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return C}function cr(){function m(C){return S.call(m.src,m.listener,C)}const S=Or;return m}function Jr(m,S,C,B,Y){if(Array.isArray(S))for(var ne=0;ne<S.length;ne++)Jr(m,S[ne],C,B,Y);else B=f(B)?!!B.capture:!!B,C=Bi(C),m&&m[je]?(m=m.i,S=String(S).toString(),S in m.g&&(ne=m.g[S],C=st(ne,C,B,Y),-1<C&&(Ie(ne[C]),Array.prototype.splice.call(ne,C,1),ne.length==0&&(delete m.g[S],m.h--)))):m&&(m=Zr(m))&&(S=m.g[S.toString()],m=-1,S&&(m=st(S,C,B,Y)),(C=-1<m?S[m]:null)&&At(C))}function At(m){if(typeof m!="number"&&m&&!m.da){var S=m.src;if(S&&S[je])le(S.i,m);else{var C=m.type,B=m.proxy;S.removeEventListener?S.removeEventListener(C,B,m.capture):S.detachEvent?S.detachEvent(Pt(C),B):S.addListener&&S.removeListener&&S.removeListener(B),(C=Zr(S))?(le(C,m),C.h==0&&(C.src=null,S[He]=null)):Ie(m)}}}function Pt(m){return m in pt?pt[m]:pt[m]="on"+m}function Or(m,S){if(m.da)m=!0;else{S=new Ne(S,this);var C=m.listener,B=m.ha||m.src;m.fa&&At(m),m=C.call(B,S)}return m}function Zr(m){return m=m[He],m instanceof ze?m:null}var pi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bi(m){return typeof m=="function"?m:(m[pi]||(m[pi]=function(S){return m.handleEvent(S)}),m[pi])}function Kt(){G.call(this),this.i=new ze(this),this.M=this,this.F=null}x(Kt,G),Kt.prototype[je]=!0,Kt.prototype.removeEventListener=function(m,S,C,B){Jr(this,m,S,C,B)};function Jt(m,S){var C,B=m.F;if(B)for(C=[];B;B=B.F)C.push(B);if(m=m.M,B=S.type||S,typeof S=="string")S=new ce(S,m);else if(S instanceof ce)S.target=S.target||m;else{var Y=S;S=new ce(B,m),F(S,Y)}if(Y=!0,C)for(var ne=C.length-1;0<=ne;ne--){var _e=S.g=C[ne];Y=mi(_e,B,!0,S)&&Y}if(_e=S.g=m,Y=mi(_e,B,!0,S)&&Y,Y=mi(_e,B,!1,S)&&Y,C)for(ne=0;ne<C.length;ne++)_e=S.g=C[ne],Y=mi(_e,B,!1,S)&&Y}Kt.prototype.N=function(){if(Kt.aa.N.call(this),this.i){var m=this.i,S;for(S in m.g){for(var C=m.g[S],B=0;B<C.length;B++)Ie(C[B]);delete m.g[S],m.h--}}this.F=null},Kt.prototype.K=function(m,S,C,B){return this.i.add(String(m),S,!1,C,B)},Kt.prototype.L=function(m,S,C,B){return this.i.add(String(m),S,!0,C,B)};function mi(m,S,C,B){if(S=m.i.g[String(S)],!S)return!0;S=S.concat();for(var Y=!0,ne=0;ne<S.length;++ne){var _e=S[ne];if(_e&&!_e.da&&_e.capture==C){var _t=_e.listener,fr=_e.ha||_e.src;_e.fa&&le(m.i,_e),Y=_t.call(fr,B)!==!1&&Y}}return Y&&!B.defaultPrevented}function as(m,S,C){if(typeof m=="function")C&&(m=v(m,C));else if(m&&typeof m.handleEvent=="function")m=v(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(S)?-1:u.setTimeout(m,S||0)}function Ui(m){m.g=as(()=>{m.g=null,m.i&&(m.i=!1,Ui(m))},m.l);const S=m.h;m.h=null,m.m.apply(null,S)}class Hn extends G{constructor(S,C){super(),this.m=S,this.l=C,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:Ui(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fn(m){G.call(this),this.h=m,this.g={}}x(fn,G);var ao=[];function gi(m){j(m.g,function(S,C){this.g.hasOwnProperty(C)&&At(S)},m),m.g={}}fn.prototype.N=function(){fn.aa.N.call(this),gi(this)},fn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yi=u.JSON.stringify,os=u.JSON.parse,Kn=class{stringify(m){return u.JSON.stringify(m,void 0)}parse(m){return u.JSON.parse(m,void 0)}};function va(){}va.prototype.h=null;function oo(m){return m.h||(m.h=m.i())}function qi(){}var dn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Gn(){ce.call(this,"d")}x(Gn,ce);function rr(){ce.call(this,"c")}x(rr,ce);var Yn={},Vr=null;function Br(){return Vr=Vr||new Kt}Yn.La="serverreachability";function Tn(m){ce.call(this,Yn.La,m)}x(Tn,ce);function vi(m){const S=Br();Jt(S,new Tn(S))}Yn.STAT_EVENT="statevent";function ba(m,S){ce.call(this,Yn.STAT_EVENT,m),this.stat=S}x(ba,ce);function Ut(m){const S=Br();Jt(S,new ba(S,m))}Yn.Ma="timingevent";function ye(m,S){ce.call(this,Yn.Ma,m),this.size=S}x(ye,ce);function we(m,S){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){m()},S)}function De(){this.g=!0}De.prototype.xa=function(){this.g=!1};function Se(m,S,C,B,Y,ne){m.info(function(){if(m.g)if(ne)for(var _e="",_t=ne.split("&"),fr=0;fr<_t.length;fr++){var at=_t[fr].split("=");if(1<at.length){var xr=at[0];at=at[1];var ir=xr.split("_");_e=2<=ir.length&&ir[1]=="type"?_e+(xr+"="+at+"&"):_e+(xr+"=redacted&")}}else _e=null;else _e=ne;return"XMLHTTP REQ ("+B+") [attempt "+Y+"]: "+S+`
`+C+`
`+_e})}function Me(m,S,C,B,Y,ne,_e){m.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+Y+"]: "+S+`
`+C+`
`+ne+" "+_e})}function $e(m,S,C,B){m.info(function(){return"XMLHTTP TEXT ("+S+"): "+Ve(m,C)+(B?" "+B:"")})}function ht(m,S){m.info(function(){return"TIMEOUT: "+S})}De.prototype.info=function(){};function Ve(m,S){if(!m.g)return S;if(!S)return null;try{var C=JSON.parse(S);if(C){for(m=0;m<C.length;m++)if(Array.isArray(C[m])){var B=C[m];if(!(2>B.length)){var Y=B[1];if(Array.isArray(Y)&&!(1>Y.length)){var ne=Y[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var _e=1;_e<Y.length;_e++)Y[_e]=""}}}}return yi(C)}catch{return S}}var nr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},An={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},hn;function _a(){}x(_a,va),_a.prototype.g=function(){return new XMLHttpRequest},_a.prototype.i=function(){return{}},hn=new _a;function Zt(m,S,C,B){this.j=m,this.i=S,this.l=C,this.R=B||1,this.U=new fn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new so}function so(){this.i=null,this.g="",this.h=!1}var Xn={},bi={};function zi(m,S,C){m.L=1,m.v=ho(In(S)),m.m=C,m.P=!0,Pn(m,null)}function Pn(m,S){m.F=Date.now(),kt(m),m.A=In(m.v);var C=m.A,B=m.R;Array.isArray(B)||(B=[String(B)]),mo(C.i,"t",B),m.C=0,C=m.j.J,m.h=new so,m.g=th(m.j,C?S:null,!m.m),0<m.O&&(m.M=new Hn(v(m.Y,m,m.g),m.O)),S=m.U,C=m.g,B=m.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(ao[0]=Y.toString()),Y=ao);for(var ne=0;ne<Y.length;ne++){var _e=Et(C,Y[ne],B||S.handleEvent,!1,S.h||S);if(!_e)break;S.g[_e.key]=_e}S=m.H?P(m.H):{},m.m?(m.u||(m.u="POST"),S["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,S)):(m.u="GET",m.g.ea(m.A,m.u,null,S)),vi(),Se(m.i,m.u,m.A,m.l,m.R,m.m)}Zt.prototype.ca=function(m){m=m.target;const S=this.M;S&&mn(m)==3?S.j():this.Y(m)},Zt.prototype.Y=function(m){try{if(m==this.g)e:{const ir=mn(this.g);var S=this.g.Ba();const Zn=this.g.Z();if(!(3>ir)&&(ir!=3||this.g&&(this.h.h||this.g.oa()||fc(this.g)))){this.J||ir!=4||S==7||(S==8||0>=Zn?vi(3):vi(2)),ss(this);var C=this.g.Z();this.X=C;t:if($d(this)){var B=fc(this.g);m="";var Y=B.length,ne=mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qn(this),lo(this);var _e="";break t}this.h.i=new u.TextDecoder}for(S=0;S<Y;S++)this.h.h=!0,m+=this.h.i.decode(B[S],{stream:!(ne&&S==Y-1)});B.length=0,this.h.g+=m,this.C=0,_e=this.h.g}else _e=this.g.oa();if(this.o=C==200,Me(this.i,this.u,this.A,this.l,this.R,ir,C),this.o){if(this.T&&!this.K){t:{if(this.g){var _t,fr=this.g;if((_t=fr.g?fr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(_t)){var at=_t;break t}}at=null}if(C=at)$e(this.i,this.l,C,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,oc(this,C);else{this.o=!1,this.s=3,Ut(12),Qn(this),lo(this);break e}}if(this.P){C=!0;let Cn;for(;!this.J&&this.C<_e.length;)if(Cn=Qg(this,_e),Cn==bi){ir==4&&(this.s=4,Ut(14),C=!1),$e(this.i,this.l,null,"[Incomplete Response]");break}else if(Cn==Xn){this.s=4,Ut(15),$e(this.i,this.l,_e,"[Invalid Chunk]"),C=!1;break}else $e(this.i,this.l,Cn,null),oc(this,Cn);if($d(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ir!=4||_e.length!=0||this.h.h||(this.s=1,Ut(16),C=!1),this.o=this.o&&C,!C)$e(this.i,this.l,_e,"[Invalid Chunked Response]"),Qn(this),lo(this);else if(0<_e.length&&!this.W){this.W=!0;var xr=this.j;xr.g==this&&xr.ba&&!xr.M&&(xr.j.info("Great, no buffering proxy detected. Bytes received: "+_e.length),hc(xr),xr.M=!0,Ut(11))}}else $e(this.i,this.l,_e,null),oc(this,_e);ir==4&&Qn(this),this.o&&!this.J&&(ir==4?Al(this.j,this):(this.o=!1,kt(this)))}else xl(this.g),C==400&&0<_e.indexOf("Unknown SID")?(this.s=3,Ut(12)):(this.s=0,Ut(13)),Qn(this),lo(this)}}}catch{}finally{}};function $d(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function Qg(m,S){var C=m.C,B=S.indexOf(`
`,C);return B==-1?bi:(C=Number(S.substring(C,B)),isNaN(C)?Xn:(B+=1,B+C>S.length?bi:(S=S.slice(B,B+C),m.C=B+C,S)))}Zt.prototype.cancel=function(){this.J=!0,Qn(this)};function kt(m){m.S=Date.now()+m.I,Fd(m,m.I)}function Fd(m,S){if(m.B!=null)throw Error("WatchDog timer not null");m.B=we(v(m.ba,m),S)}function ss(m){m.B&&(u.clearTimeout(m.B),m.B=null)}Zt.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(ht(this.i,this.A),this.L!=2&&(vi(),Ut(17)),Qn(this),this.s=2,lo(this)):Fd(this,this.S-m)};function lo(m){m.j.G==0||m.J||Al(m.j,m)}function Qn(m){ss(m);var S=m.M;S&&typeof S.ma=="function"&&S.ma(),m.M=null,gi(m.U),m.g&&(S=m.g,m.g=null,S.abort(),S.ma())}function oc(m,S){try{var C=m.j;if(C.G!=0&&(C.g==m||en(C.h,m))){if(!m.K&&en(C.h,m)&&C.G==3){try{var B=C.Da.g.parse(S)}catch{B=null}if(Array.isArray(B)&&B.length==3){var Y=B;if(Y[0]==0){e:if(!C.u){if(C.g)if(C.g.F+3e3<m.F)Tl(C),Si(C);else break e;Sl(C),Ut(18)}}else C.za=Y[1],0<C.za-C.T&&37500>Y[2]&&C.F&&C.v==0&&!C.C&&(C.C=we(v(C.Za,C),6e3));if(1>=Bd(C.h)&&C.ca){try{C.ca()}catch{}C.ca=void 0}}else Ta(C,11)}else if((m.K||C.g==m)&&Tl(C),!k(S))for(Y=C.Da.g.parse(S),S=0;S<Y.length;S++){let at=Y[S];if(C.T=at[0],at=at[1],C.G==2)if(at[0]=="c"){C.K=at[1],C.ia=at[2];const xr=at[3];xr!=null&&(C.la=xr,C.j.info("VER="+C.la));const ir=at[4];ir!=null&&(C.Aa=ir,C.j.info("SVER="+C.Aa));const Zn=at[5];Zn!=null&&typeof Zn=="number"&&0<Zn&&(B=1.5*Zn,C.L=B,C.j.info("backChannelRequestTimeoutMs_="+B)),B=C;const Cn=m.g;if(Cn){const ps=Cn.g?Cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ps){var ne=B.h;ne.g||ps.indexOf("spdy")==-1&&ps.indexOf("quic")==-1&&ps.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(sc(ne,ne.h),ne.h=null))}if(B.D){const kl=Cn.g?Cn.g.getResponseHeader("X-HTTP-Session-Id"):null;kl&&(B.ya=kl,St(B.I,B.D,kl))}}C.G=3,C.l&&C.l.ua(),C.ba&&(C.R=Date.now()-m.F,C.j.info("Handshake RTT: "+C.R+"ms")),B=C;var _e=m;if(B.qa=eh(B,B.J?B.ia:null,B.W),_e.K){Ud(B.h,_e);var _t=_e,fr=B.L;fr&&(_t.I=fr),_t.B&&(ss(_t),kt(_t)),B.g=_e}else hs(B);0<C.i.length&&Gi(C)}else at[0]!="stop"&&at[0]!="close"||Ta(C,7);else C.G==3&&(at[0]=="stop"||at[0]=="close"?at[0]=="stop"?Ta(C,7):Nr(C):at[0]!="noop"&&C.l&&C.l.ta(at),C.v=0)}}vi(4)}catch{}}var Vd=class{constructor(m,S){this.g=m,this.map=S}};function ls(m){this.l=m||10,u.PerformanceNavigationTiming?(m=u.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function kn(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Bd(m){return m.h?1:m.g?m.g.size:0}function en(m,S){return m.h?m.h==S:m.g?m.g.has(S):!1}function sc(m,S){m.g?m.g.add(S):m.h=S}function Ud(m,S){m.h&&m.h==S?m.h=null:m.g&&m.g.has(S)&&m.g.delete(S)}ls.prototype.cancel=function(){if(this.i=qd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function qd(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let S=m.i;for(const C of m.g.values())S=S.concat(C.D);return S}return w(m.i)}function gl(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(c(m)){for(var S=[],C=m.length,B=0;B<C;B++)S.push(m[B]);return S}S=[],C=0;for(B in m)S[C++]=m[B];return S}function yl(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(c(m)||typeof m=="string"){var S=[];m=m.length;for(var C=0;C<m;C++)S.push(C);return S}S=[],C=0;for(const B in m)S[C++]=B;return S}}}function uo(m,S){if(m.forEach&&typeof m.forEach=="function")m.forEach(S,void 0);else if(c(m)||typeof m=="string")Array.prototype.forEach.call(m,S,void 0);else for(var C=yl(m),B=gl(m),Y=B.length,ne=0;ne<Y;ne++)S.call(void 0,B[ne],C&&C[ne],m)}var us=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jg(m,S){if(m){m=m.split("&");for(var C=0;C<m.length;C++){var B=m[C].indexOf("="),Y=null;if(0<=B){var ne=m[C].substring(0,B);Y=m[C].substring(B+1)}else ne=m[C];S(ne,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function xa(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof xa){this.h=m.h,cs(this,m.j),this.o=m.o,this.g=m.g,co(this,m.s),this.l=m.l;var S=m.i,C=new Wi;C.i=S.i,S.g&&(C.g=new Map(S.g),C.h=S.h),fo(this,C),this.m=m.m}else m&&(S=String(m).match(us))?(this.h=!1,cs(this,S[1]||"",!0),this.o=nt(S[2]||""),this.g=nt(S[3]||"",!0),co(this,S[4]),this.l=nt(S[5]||"",!0),fo(this,S[6]||"",!0),this.m=nt(S[7]||"")):(this.h=!1,this.i=new Wi(null,this.h))}xa.prototype.toString=function(){var m=[],S=this.j;S&&m.push(po(S,vl,!0),":");var C=this.g;return(C||S=="file")&&(m.push("//"),(S=this.o)&&m.push(po(S,vl,!0),"@"),m.push(encodeURIComponent(String(C)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.s,C!=null&&m.push(":",String(C))),(C=this.l)&&(this.g&&C.charAt(0)!="/"&&m.push("/"),m.push(po(C,C.charAt(0)=="/"?Hd:Wd,!0))),(C=this.i.toString())&&m.push("?",C),(C=this.m)&&m.push("#",po(C,lc)),m.join("")};function In(m){return new xa(m)}function cs(m,S,C){m.j=C?nt(S,!0):S,m.j&&(m.j=m.j.replace(/:$/,""))}function co(m,S){if(S){if(S=Number(S),isNaN(S)||0>S)throw Error("Bad port number "+S);m.s=S}else m.s=null}function fo(m,S,C){S instanceof Wi?(m.i=S,Hi(m.i,m.h)):(C||(S=po(S,Kd)),m.i=new Wi(S,m.h))}function St(m,S,C){m.i.set(S,C)}function ho(m){return St(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function nt(m,S){return m?S?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function po(m,S,C){return typeof m=="string"?(m=encodeURI(m).replace(S,zd),C&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function zd(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var vl=/[#\/\?@]/g,Wd=/[#\?:]/g,Hd=/[#\?]/g,Kd=/[#\?@]/g,lc=/#/g;function Wi(m,S){this.h=this.g=null,this.i=m||null,this.j=!!S}function Cr(m){m.g||(m.g=new Map,m.h=0,m.i&&Jg(m.i,function(S,C){m.add(decodeURIComponent(S.replace(/\+/g," ")),C)}))}t=Wi.prototype,t.add=function(m,S){Cr(this),this.i=null,m=Jn(this,m);var C=this.g.get(m);return C||this.g.set(m,C=[]),C.push(S),this.h+=1,this};function _i(m,S){Cr(m),S=Jn(m,S),m.g.has(S)&&(m.i=null,m.h-=m.g.get(S).length,m.g.delete(S))}function xi(m,S){return Cr(m),S=Jn(m,S),m.g.has(S)}t.forEach=function(m,S){Cr(this),this.g.forEach(function(C,B){C.forEach(function(Y){m.call(S,Y,B,this)},this)},this)},t.na=function(){Cr(this);const m=Array.from(this.g.values()),S=Array.from(this.g.keys()),C=[];for(let B=0;B<S.length;B++){const Y=m[B];for(let ne=0;ne<Y.length;ne++)C.push(S[B])}return C},t.V=function(m){Cr(this);let S=[];if(typeof m=="string")xi(this,m)&&(S=S.concat(this.g.get(Jn(this,m))));else{m=Array.from(this.g.values());for(let C=0;C<m.length;C++)S=S.concat(m[C])}return S},t.set=function(m,S){return Cr(this),this.i=null,m=Jn(this,m),xi(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[S]),this.h+=1,this},t.get=function(m,S){return m?(m=this.V(m),0<m.length?String(m[0]):S):S};function mo(m,S,C){_i(m,S),0<C.length&&(m.i=null,m.g.set(Jn(m,S),w(C)),m.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],S=Array.from(this.g.keys());for(var C=0;C<S.length;C++){var B=S[C];const ne=encodeURIComponent(String(B)),_e=this.V(B);for(B=0;B<_e.length;B++){var Y=ne;_e[B]!==""&&(Y+="="+encodeURIComponent(String(_e[B]))),m.push(Y)}}return this.i=m.join("&")};function Jn(m,S){return S=String(S),m.j&&(S=S.toLowerCase()),S}function Hi(m,S){S&&!m.j&&(Cr(m),m.i=null,m.g.forEach(function(C,B){var Y=B.toLowerCase();B!=Y&&(_i(this,B),mo(this,Y,C))},m)),m.j=S}function Zg(m,S){const C=new De;if(u.Image){const B=new Image;B.onload=b(pn,C,"TestLoadImage: loaded",!0,S,B),B.onerror=b(pn,C,"TestLoadImage: error",!1,S,B),B.onabort=b(pn,C,"TestLoadImage: abort",!1,S,B),B.ontimeout=b(pn,C,"TestLoadImage: timeout",!1,S,B),u.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=m}else S(!1)}function Gd(m,S){const C=new De,B=new AbortController,Y=setTimeout(()=>{B.abort(),pn(C,"TestPingServer: timeout",!1,S)},1e4);fetch(m,{signal:B.signal}).then(ne=>{clearTimeout(Y),ne.ok?pn(C,"TestPingServer: ok",!0,S):pn(C,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(Y),pn(C,"TestPingServer: error",!1,S)})}function pn(m,S,C,B,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),B(C)}catch{}}function ey(){this.g=new Kn}function Yd(m,S,C){const B=C||"";try{uo(m,function(Y,ne){let _e=Y;f(Y)&&(_e=yi(Y)),S.push(B+ne+"="+encodeURIComponent(_e))})}catch(Y){throw S.push(B+"type="+encodeURIComponent("_badmap")),Y}}function wa(m){this.l=m.Ub||null,this.j=m.eb||!1}x(wa,va),wa.prototype.g=function(){return new fs(this.l,this.j)},wa.prototype.i=function(m){return function(){return m}}({});function fs(m,S){Kt.call(this),this.D=m,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(fs,Kt),t=fs.prototype,t.open=function(m,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=S,this.readyState=1,Ei(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const S={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(S.body=m),(this.D||u).fetch(new Request(this.A,S)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wi(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Ei(this)),this.g&&(this.readyState=3,Ei(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Xd(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function Xd(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var S=m.value?m.value:new Uint8Array(0);(S=this.v.decode(S,{stream:!m.done}))&&(this.response=this.responseText+=S)}m.done?wi(this):Ei(this),this.readyState==3&&Xd(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,wi(this))},t.Qa=function(m){this.g&&(this.response=m,wi(this))},t.ga=function(){this.g&&wi(this)};function wi(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Ei(m)}t.setRequestHeader=function(m,S){this.u.append(m,S)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],S=this.h.entries();for(var C=S.next();!C.done;)C=C.value,m.push(C[0]+": "+C[1]),C=S.next();return m.join(`\r
`)};function Ei(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(fs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Ea(m){let S="";return j(m,function(C,B){S+=B,S+=":",S+=C,S+=`\r
`}),S}function go(m,S,C){e:{for(B in C){var B=!1;break e}B=!0}B||(C=Ea(C),typeof m=="string"?C!=null&&encodeURIComponent(String(C)):St(m,S,C))}function $t(m){Kt.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x($t,Kt);var ty=/^https?$/i,uc=["POST","PUT"];t=$t.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,S,C,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);S=S?S.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():hn.g(),this.v=this.o?oo(this.o):oo(hn),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(S,String(m),!0),this.B=!1}catch(ne){ds(this,ne);return}if(m=C||"",C=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var Y in B)C.set(Y,B[Y]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const ne of B.keys())C.set(ne,B.get(ne));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(C.keys()).find(ne=>ne.toLowerCase()=="content-type"),Y=u.FormData&&m instanceof u.FormData,!(0<=Array.prototype.indexOf.call(uc,S,void 0))||B||Y||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,_e]of C)this.g.setRequestHeader(ne,_e);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_l(this),this.u=!0,this.g.send(m),this.u=!1}catch(ne){ds(this,ne)}};function ds(m,S){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=S,m.m=5,bl(m),On(m)}function bl(m){m.A||(m.A=!0,Jt(m,"complete"),Jt(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,Jt(this,"complete"),Jt(this,"abort"),On(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),On(this,!0)),$t.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?cc(this):this.bb())},t.bb=function(){cc(this)};function cc(m){if(m.h&&typeof s<"u"&&(!m.v[1]||mn(m)!=4||m.Z()!=2)){if(m.u&&mn(m)==4)as(m.Ea,0,m);else if(Jt(m,"readystatechange"),mn(m)==4){m.h=!1;try{const _e=m.Z();e:switch(_e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var C;if(!(C=S)){var B;if(B=_e===0){var Y=String(m.D).match(us)[1]||null;!Y&&u.self&&u.self.location&&(Y=u.self.location.protocol.slice(0,-1)),B=!ty.test(Y?Y.toLowerCase():"")}C=B}if(C)Jt(m,"complete"),Jt(m,"success");else{m.m=6;try{var ne=2<mn(m)?m.g.statusText:""}catch{ne=""}m.l=ne+" ["+m.Z()+"]",bl(m)}}finally{On(m)}}}}function On(m,S){if(m.g){_l(m);const C=m.g,B=m.v[0]?()=>{}:null;m.g=null,m.v=null,S||Jt(m,"ready");try{C.onreadystatechange=B}catch{}}}function _l(m){m.I&&(u.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function mn(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<mn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var S=this.g.responseText;return m&&S.indexOf(m)==0&&(S=S.substring(m.length)),os(S)}};function fc(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function xl(m){const S={};m=(m.g&&2<=mn(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<m.length;B++){if(k(m[B]))continue;var C=M(m[B]);const Y=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const ne=S[Y]||[];S[Y]=ne,ne.push(C)}A(S,function(B){return B.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ki(m,S,C){return C&&C.internalChannelParams&&C.internalChannelParams[m]||S}function dc(m){this.Aa=0,this.i=[],this.j=new De,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ki("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ki("baseRetryDelayMs",5e3,m),this.cb=Ki("retryDelaySeedMs",1e4,m),this.Wa=Ki("forwardChannelMaxRetries",2,m),this.wa=Ki("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new ls(m&&m.concurrentRequestLimit),this.Da=new ey,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=dc.prototype,t.la=8,t.G=1,t.connect=function(m,S,C,B){Ut(0),this.W=m,this.H=S||{},C&&B!==void 0&&(this.H.OSID=C,this.H.OAID=B),this.F=this.X,this.I=eh(this,null,this.W),Gi(this)};function Nr(m){if(wl(m),m.G==3){var S=m.U++,C=In(m.I);if(St(C,"SID",m.K),St(C,"RID",S),St(C,"TYPE","terminate"),Sa(m,C),S=new Zt(m,m.j,S),S.L=2,S.v=ho(In(C)),C=!1,u.navigator&&u.navigator.sendBeacon)try{C=u.navigator.sendBeacon(S.v.toString(),"")}catch{}!C&&u.Image&&(new Image().src=S.v,C=!0),C||(S.g=th(S.j,null),S.g.ea(S.v)),S.F=Date.now(),kt(S)}Zd(m)}function Si(m){m.g&&(hc(m),m.g.cancel(),m.g=null)}function wl(m){Si(m),m.u&&(u.clearTimeout(m.u),m.u=null),Tl(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&u.clearTimeout(m.s),m.s=null)}function Gi(m){if(!kn(m.h)&&!m.s){m.s=!0;var S=m.Ga;ae||oe(),Q||(ae(),Q=!0),ie.add(S,m),m.B=0}}function ry(m,S){return Bd(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=S.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=we(v(m.Ga,m,S),Jd(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const Y=new Zt(this,this.j,m);let ne=this.o;if(this.S&&(ne?(ne=P(ne),F(ne,this.S)):ne=this.S),this.m!==null||this.O||(Y.H=ne,ne=null),this.P)e:{for(var S=0,C=0;C<this.i.length;C++){t:{var B=this.i[C];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break t}B=void 0}if(B===void 0)break;if(S+=B,4096<S){S=C;break e}if(S===4096||C===this.i.length-1){S=C+1;break e}}S=1e3}else S=1e3;S=yo(this,Y,S),C=In(this.I),St(C,"RID",m),St(C,"CVER",22),this.D&&St(C,"X-HTTP-Session-Id",this.D),Sa(this,C),ne&&(this.O?S="headers="+encodeURIComponent(String(Ea(ne)))+"&"+S:this.m&&go(C,this.m,ne)),sc(this.h,Y),this.Ua&&St(C,"TYPE","init"),this.P?(St(C,"$req",S),St(C,"SID","null"),Y.T=!0,zi(Y,C,null)):zi(Y,C,S),this.G=2}}else this.G==3&&(m?El(this,m):this.i.length==0||kn(this.h)||El(this))};function El(m,S){var C;S?C=S.l:C=m.U++;const B=In(m.I);St(B,"SID",m.K),St(B,"RID",C),St(B,"AID",m.T),Sa(m,B),m.m&&m.o&&go(B,m.m,m.o),C=new Zt(m,m.j,C,m.B+1),m.m===null&&(C.H=m.o),S&&(m.i=S.D.concat(m.i)),S=yo(m,C,1e3),C.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),sc(m.h,C),zi(C,B,S)}function Sa(m,S){m.H&&j(m.H,function(C,B){St(S,B,C)}),m.l&&uo({},function(C,B){St(S,B,C)})}function yo(m,S,C){C=Math.min(m.i.length,C);var B=m.l?v(m.l.Na,m.l,m):null;e:{var Y=m.i;let ne=-1;for(;;){const _e=["count="+C];ne==-1?0<C?(ne=Y[0].g,_e.push("ofs="+ne)):ne=0:_e.push("ofs="+ne);let _t=!0;for(let fr=0;fr<C;fr++){let at=Y[fr].g;const xr=Y[fr].map;if(at-=ne,0>at)ne=Math.max(0,Y[fr].g-100),_t=!1;else try{Yd(xr,_e,"req"+at+"_")}catch{B&&B(xr)}}if(_t){B=_e.join("&");break e}}}return m=m.i.splice(0,C),S.D=m,B}function hs(m){if(!m.g&&!m.u){m.Y=1;var S=m.Fa;ae||oe(),Q||(ae(),Q=!0),ie.add(S,m),m.v=0}}function Sl(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=we(v(m.Fa,m),Jd(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,Qd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=we(v(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ut(10),Si(this),Qd(this))};function hc(m){m.A!=null&&(u.clearTimeout(m.A),m.A=null)}function Qd(m){m.g=new Zt(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var S=In(m.qa);St(S,"RID","rpc"),St(S,"SID",m.K),St(S,"AID",m.T),St(S,"CI",m.F?"0":"1"),!m.F&&m.ja&&St(S,"TO",m.ja),St(S,"TYPE","xmlhttp"),Sa(m,S),m.m&&m.o&&go(S,m.m,m.o),m.L&&(m.g.I=m.L);var C=m.g;m=m.ia,C.L=1,C.v=ho(In(S)),C.m=null,C.P=!0,Pn(C,m)}t.Za=function(){this.C!=null&&(this.C=null,Si(this),Sl(this),Ut(19))};function Tl(m){m.C!=null&&(u.clearTimeout(m.C),m.C=null)}function Al(m,S){var C=null;if(m.g==S){Tl(m),hc(m),m.g=null;var B=2}else if(en(m.h,S))C=S.D,Ud(m.h,S),B=1;else return;if(m.G!=0){if(S.o)if(B==1){C=S.m?S.m.length:0,S=Date.now()-S.F;var Y=m.B;B=Br(),Jt(B,new ye(B,C)),Gi(m)}else hs(m);else if(Y=S.s,Y==3||Y==0&&0<S.X||!(B==1&&ry(m,S)||B==2&&Sl(m)))switch(C&&0<C.length&&(S=m.h,S.i=S.i.concat(C)),Y){case 1:Ta(m,5);break;case 4:Ta(m,10);break;case 3:Ta(m,6);break;default:Ta(m,2)}}}function Jd(m,S){let C=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(C*=2),C*S}function Ta(m,S){if(m.j.info("Error code "+S),S==2){var C=v(m.fb,m),B=m.Xa;const Y=!B;B=new xa(B||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||cs(B,"https"),ho(B),Y?Zg(B.toString(),C):Gd(B.toString(),C)}else Ut(2);m.G=0,m.l&&m.l.sa(S),Zd(m),wl(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))};function Zd(m){if(m.G=0,m.ka=[],m.l){const S=qd(m.h);(S.length!=0||m.i.length!=0)&&(E(m.ka,S),E(m.ka,m.i),m.h.i.length=0,w(m.i),m.i.length=0),m.l.ra()}}function eh(m,S,C){var B=C instanceof xa?In(C):new xa(C);if(B.g!="")S&&(B.g=S+"."+B.g),co(B,B.s);else{var Y=u.location;B=Y.protocol,S=S?S+"."+Y.hostname:Y.hostname,Y=+Y.port;var ne=new xa(null);B&&cs(ne,B),S&&(ne.g=S),Y&&co(ne,Y),C&&(ne.l=C),B=ne}return C=m.D,S=m.ya,C&&S&&St(B,C,S),St(B,"VER",m.la),Sa(m,B),B}function th(m,S,C){if(S&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return S=m.Ca&&!m.pa?new $t(new wa({eb:C})):new $t(m.pa),S.Ha(m.J),S}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function pc(){}t=pc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Pl(){}Pl.prototype.g=function(m,S){return new tn(m,S)};function tn(m,S){Kt.call(this),this.g=new dc(S),this.l=m,this.h=S&&S.messageUrlParams||null,m=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(m?m["X-WebChannel-Content-Type"]=S.messageContentType:m={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.va&&(m?m["X-WebChannel-Client-Profile"]=S.va:m={"X-WebChannel-Client-Profile":S.va}),this.g.S=m,(m=S&&S.Sb)&&!k(m)&&(this.g.m=m),this.v=S&&S.supportsCrossDomainXhr||!1,this.u=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!k(S)&&(this.g.D=S,m=this.h,m!==null&&S in m&&(m=this.h,S in m&&delete m[S])),this.j=new Yi(this)}x(tn,Kt),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Nr(this.g)},tn.prototype.o=function(m){var S=this.g;if(typeof m=="string"){var C={};C.__data__=m,m=C}else this.u&&(C={},C.__data__=yi(m),m=C);S.i.push(new Vd(S.Ya++,m)),S.G==3&&Gi(S)},tn.prototype.N=function(){this.g.l=null,delete this.j,Nr(this.g),delete this.g,tn.aa.N.call(this)};function rh(m){Gn.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var S=m.__sm__;if(S){e:{for(const C in S){m=C;break e}m=void 0}(this.i=m)&&(m=this.i,S=S!==null&&m in S?S[m]:void 0),this.data=S}else this.data=m}x(rh,Gn);function nh(){rr.call(this),this.status=1}x(nh,rr);function Yi(m){this.g=m}x(Yi,pc),Yi.prototype.ua=function(){Jt(this.g,"a")},Yi.prototype.ta=function(m){Jt(this.g,new rh(m))},Yi.prototype.sa=function(m){Jt(this.g,new nh)},Yi.prototype.ra=function(){Jt(this.g,"b")},Pl.prototype.createWebChannel=Pl.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,OD=function(){return new Pl},ID=function(){return Br()},kD=Yn,Qx={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},nr.NO_ERROR=0,nr.TIMEOUT=8,nr.HTTP_ERROR=6,Sp=nr,An.COMPLETE="complete",PD=An,qi.EventType=dn,dn.OPEN="a",dn.CLOSE="b",dn.ERROR="c",dn.MESSAGE="d",Kt.prototype.listen=Kt.prototype.K,Jc=qi,$t.prototype.listenOnce=$t.prototype.L,$t.prototype.getLastError=$t.prototype.Ka,$t.prototype.getLastErrorCode=$t.prototype.Ba,$t.prototype.getStatus=$t.prototype.Z,$t.prototype.getResponseJson=$t.prototype.Oa,$t.prototype.getResponseText=$t.prototype.oa,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Ha,AD=$t}).apply(typeof Zh<"u"?Zh:typeof self<"u"?self:typeof window<"u"?window:{});const NP="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gr.UNAUTHENTICATED=new Gr(null),Gr.GOOGLE_CREDENTIALS=new Gr("google-credentials-uid"),Gr.FIRST_PARTY=new Gr("first-party-uid"),Gr.MOCK_USER=new Gr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yu="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=new L1("@firebase/firestore");function Fc(){return Gs.logLevel}function Ce(t,...e){if(Gs.logLevel<=it.DEBUG){const r=e.map(Y1);Gs.debug(`Firestore (${Yu}): ${t}`,...r)}}function Ya(t,...e){if(Gs.logLevel<=it.ERROR){const r=e.map(Y1);Gs.error(`Firestore (${Yu}): ${t}`,...r)}}function gu(t,...e){if(Gs.logLevel<=it.WARN){const r=e.map(Y1);Gs.warn(`Firestore (${Yu}): ${t}`,...r)}}function Y1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(t="Unexpected state"){const e=`FIRESTORE (${Yu}) INTERNAL ASSERTION FAILED: `+t;throw Ya(e),new Error(e)}function xt(t,e){t||Xe()}function Ze(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends ma{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Gr.UNAUTHENTICATED))}shutdown(){}}class zU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class WU{constructor(e){this.t=e,this.currentUser=Gr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){xt(this.o===void 0);let n=this.i;const i=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let a=new zo;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new zo,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const c=a;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},u=c=>{Ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(Ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new zo)}},0),s()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(Ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(xt(typeof n.accessToken=="string"),new CD(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xt(e===null||typeof e=="string"),new Gr(e)}}class HU{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=Gr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class KU{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new HU(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Gr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class GU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YU{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){xt(this.o===void 0);const n=a=>{a.error!=null&&Ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.R;return this.R=a.token,Ce("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{Ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):Ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(xt(typeof r.token=="string"),this.R=r.token,new GU(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XU(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=XU(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%e.length))}return n}}function ct(t,e){return t<e?-1:t>e?1:0}function yu(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Ae(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ae(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Ae(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return br.fromMillis(Date.now())}static fromDate(e){return br.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new br(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ct(this.nanoseconds,e.nanoseconds):ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Qe(e)}static min(){return new Qe(new br(0,0))}static max(){return new Qe(new br(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,r,n){r===void 0?r=0:r>e.length&&Xe(),n===void 0?n=e.length-r:n>e.length-r&&Xe(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Ef.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Ef?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=e.get(i),s=r.get(i);if(a<s)return-1;if(a>s)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Mt extends Ef{construct(e,r,n){return new Mt(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Ae(ue.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new Mt(r)}static emptyPath(){return new Mt([])}}const QU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Lr extends Ef{construct(e,r,n){return new Lr(e,r,n)}static isValidIdentifier(e){return QU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Lr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Lr(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new Ae(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Ae(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Ae(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=c,i+=2}else u==="`"?(s=!s,i++):u!=="."||s?(n+=u,i++):(a(),i++)}if(a(),s)throw new Ae(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Lr(r)}static emptyPath(){return new Lr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e){this.path=e}static fromPath(e){return new Le(Mt.fromString(e))}static fromName(e){return new Le(Mt.fromString(e).popFirst(5))}static empty(){return new Le(Mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Mt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Le(new Mt(e.slice()))}}function JU(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Qe.fromTimestamp(n===1e9?new br(r+1,0):new br(r,n));return new Go(i,Le.empty(),e)}function ZU(t){return new Go(t.readTime,t.key,-1)}class Go{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Go(Qe.min(),Le.empty(),-1)}static max(){return new Go(Qe.max(),Le.empty(),-1)}}function eq(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Le.comparator(t.documentKey,e.documentKey),r!==0?r:ct(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rq{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yd(t){if(t.code!==ue.FAILED_PRECONDITION||t.message!==tq)throw t;Ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new pe((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof pe?r:pe.resolve(r)}catch(r){return pe.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):pe.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):pe.reject(r)}static resolve(e){return new pe((r,n)=>{r(e)})}static reject(e){return new pe((r,n)=>{n(e)})}static waitFor(e){return new pe((r,n)=>{let i=0,a=0,s=!1;e.forEach(u=>{++i,u.next(()=>{++a,s&&a===i&&r()},c=>n(c))}),s=!0,a===i&&r()})}static or(e){let r=pe.resolve(!1);for(const n of e)r=r.next(i=>i?pe.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(e,r){return new pe((n,i)=>{const a=e.length,s=new Array(a);let u=0;for(let c=0;c<a;c++){const f=c;r(e[f]).next(h=>{s[f]=h,++u,u===a&&n(s)},h=>i(h))}})}static doWhile(e,r){return new pe((n,i)=>{const a=()=>{e()===!0?r().next(()=>{a()},i):n()};a()})}}function nq(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function vd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}X1.oe=-1;function Xm(t){return t==null}function $p(t){return t===0&&1/t==-1/0}function iq(t){return typeof t=="number"&&Number.isInteger(t)&&!$p(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RP(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function ol(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function RD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,r){this.comparator=e,this.root=r||Mr.EMPTY}insert(e,r){return new Wt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Mr.BLACK,null,null))}remove(e){return new Wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ep(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ep(this.root,e,this.comparator,!1)}getReverseIterator(){return new ep(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ep(this.root,e,this.comparator,!0)}}class ep{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mr{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??Mr.RED,this.left=i??Mr.EMPTY,this.right=a??Mr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new Mr(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Mr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return Mr.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Xe();const e=this.left.check();if(e!==this.right.check())throw Xe();return e+(this.isRed()?0:1)}}Mr.EMPTY=null,Mr.RED=!0,Mr.BLACK=!1;Mr.EMPTY=new class{constructor(){this.size=0}get key(){throw Xe()}get value(){throw Xe()}get color(){throw Xe()}get left(){throw Xe()}get right(){throw Xe()}copy(e,r,n,i,a){return this}insert(e,r,n){return new Mr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e){this.comparator=e,this.data=new Wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new jP(this.data.getIterator())}getIteratorFrom(e){return new jP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof $r)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new $r(this.comparator);return r.data=e,r}}class jP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.fields=e,e.sort(Lr.comparator)}static empty(){return new Bn([])}unionWith(e){let r=new $r(Lr.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Bn(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return yu(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new jD("Invalid base64 string: "+a):a}}(e);return new Fr(r)}static fromUint8Array(e){const r=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new Fr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fr.EMPTY_BYTE_STRING=new Fr("");const aq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yo(t){if(xt(!!t),typeof t=="string"){let e=0;const r=aq.exec(t);if(xt(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:tr(t.seconds),nanos:tr(t.nanos)}}function tr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ys(t){return typeof t=="string"?Fr.fromBase64String(t):Fr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(t){var e,r;return((r=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function J1(t){const e=t.mapValue.fields.__previous_value__;return Q1(e)?J1(e):e}function Sf(t){const e=Yo(t.mapValue.fields.__local_write_time__.timestampValue);return new br(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oq{constructor(e,r,n,i,a,s,u,c,f){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=f}}class Tf{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Tf("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Tf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp={mapValue:{}};function Xs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Q1(t)?4:lq(t)?9007199254740991:sq(t)?10:11:Xe()}function fa(t,e){if(t===e)return!0;const r=Xs(t);if(r!==Xs(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Sf(t).isEqual(Sf(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=Yo(i.timestampValue),u=Yo(a.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Ys(i.bytesValue).isEqual(Ys(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return tr(i.geoPointValue.latitude)===tr(a.geoPointValue.latitude)&&tr(i.geoPointValue.longitude)===tr(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return tr(i.integerValue)===tr(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=tr(i.doubleValue),u=tr(a.doubleValue);return s===u?$p(s)===$p(u):isNaN(s)&&isNaN(u)}return!1}(t,e);case 9:return yu(t.arrayValue.values||[],e.arrayValue.values||[],fa);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},u=a.mapValue.fields||{};if(RP(s)!==RP(u))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(u[c]===void 0||!fa(s[c],u[c])))return!1;return!0}(t,e);default:return Xe()}}function Af(t,e){return(t.values||[]).find(r=>fa(r,e))!==void 0}function vu(t,e){if(t===e)return 0;const r=Xs(t),n=Xs(e);if(r!==n)return ct(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return ct(t.booleanValue,e.booleanValue);case 2:return function(a,s){const u=tr(a.integerValue||a.doubleValue),c=tr(s.integerValue||s.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1}(t,e);case 3:return DP(t.timestampValue,e.timestampValue);case 4:return DP(Sf(t),Sf(e));case 5:return ct(t.stringValue,e.stringValue);case 6:return function(a,s){const u=Ys(a),c=Ys(s);return u.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(a,s){const u=a.split("/"),c=s.split("/");for(let f=0;f<u.length&&f<c.length;f++){const h=ct(u[f],c[f]);if(h!==0)return h}return ct(u.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,s){const u=ct(tr(a.latitude),tr(s.latitude));return u!==0?u:ct(tr(a.longitude),tr(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return MP(t.arrayValue,e.arrayValue);case 10:return function(a,s){var u,c,f,h;const p=a.fields||{},v=s.fields||{},b=(u=p.value)===null||u===void 0?void 0:u.arrayValue,x=(c=v.value)===null||c===void 0?void 0:c.arrayValue,w=ct(((f=b?.values)===null||f===void 0?void 0:f.length)||0,((h=x?.values)===null||h===void 0?void 0:h.length)||0);return w!==0?w:MP(b,x)}(t.mapValue,e.mapValue);case 11:return function(a,s){if(a===tp.mapValue&&s===tp.mapValue)return 0;if(a===tp.mapValue)return 1;if(s===tp.mapValue)return-1;const u=a.fields||{},c=Object.keys(u),f=s.fields||{},h=Object.keys(f);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){const v=ct(c[p],h[p]);if(v!==0)return v;const b=vu(u[c[p]],f[h[p]]);if(b!==0)return b}return ct(c.length,h.length)}(t.mapValue,e.mapValue);default:throw Xe()}}function DP(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ct(t,e);const r=Yo(t),n=Yo(e),i=ct(r.seconds,n.seconds);return i!==0?i:ct(r.nanos,n.nanos)}function MP(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=vu(r[i],n[i]);if(a)return a}return ct(r.length,n.length)}function bu(t){return Jx(t)}function Jx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=Yo(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Ys(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return Le.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=Jx(a);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const s of n)a?a=!1:i+=",",i+=`${s}:${Jx(r.fields[s])}`;return i+"}"}(t.mapValue):Xe()}function LP(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Zx(t){return!!t&&"integerValue"in t}function Z1(t){return!!t&&"arrayValue"in t}function $P(t){return!!t&&"nullValue"in t}function FP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Tp(t){return!!t&&"mapValue"in t}function sq(t){var e,r;return((r=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function lf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ol(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=lf(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=lf(t.arrayValue.values[r]);return e}return Object.assign({},t)}function lq(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!Tp(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=lf(r)}setAll(e){let r=Lr.emptyPath(),n={},i=[];e.forEach((s,u)=>{if(!r.isImmediateParentOf(u)){const c=this.getFieldsMap(r);this.applyChanges(c,n,i),n={},i=[],r=u.popLast()}s?n[u.lastSegment()]=lf(s):i.push(u.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());Tp(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return fa(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];Tp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){ol(r,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new wn(lf(this.value))}}function DD(t){const e=[];return ol(t.fields,(r,n)=>{const i=new Lr([r]);if(Tp(n)){const a=DD(n.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new Bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,r,n,i,a,s,u){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=s,this.documentState=u}static newInvalidDocument(e){return new Yr(e,0,Qe.min(),Qe.min(),Qe.min(),wn.empty(),0)}static newFoundDocument(e,r,n,i){return new Yr(e,1,r,Qe.min(),n,i,0)}static newNoDocument(e,r){return new Yr(e,2,r,Qe.min(),Qe.min(),wn.empty(),0)}static newUnknownDocument(e,r){return new Yr(e,3,r,Qe.min(),Qe.min(),wn.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,r){this.position=e,this.inclusive=r}}function VP(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?n=Le.comparator(Le.fromName(s.referenceValue),r.key):n=vu(s,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function BP(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!fa(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e,r="asc"){this.field=e,this.dir=r}}function uq(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{}class lr extends MD{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new fq(e,r,n):r==="array-contains"?new pq(e,n):r==="in"?new mq(e,n):r==="not-in"?new gq(e,n):r==="array-contains-any"?new yq(e,n):new lr(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new dq(e,n):new hq(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(vu(r,this.value)):r!==null&&Xs(this.value)===Xs(r)&&this.matchesComparison(vu(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Li extends MD{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new Li(e,r)}matches(e){return LD(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function LD(t){return t.op==="and"}function $D(t){return cq(t)&&LD(t)}function cq(t){for(const e of t.filters)if(e instanceof Li)return!1;return!0}function ew(t){if(t instanceof lr)return t.field.canonicalString()+t.op.toString()+bu(t.value);if($D(t))return t.filters.map(e=>ew(e)).join(",");{const e=t.filters.map(r=>ew(r)).join(",");return`${t.op}(${e})`}}function FD(t,e){return t instanceof lr?function(n,i){return i instanceof lr&&n.op===i.op&&n.field.isEqual(i.field)&&fa(n.value,i.value)}(t,e):t instanceof Li?function(n,i){return i instanceof Li&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,s,u)=>a&&FD(s,i.filters[u]),!0):!1}(t,e):void Xe()}function VD(t){return t instanceof lr?function(r){return`${r.field.canonicalString()} ${r.op} ${bu(r.value)}`}(t):t instanceof Li?function(r){return r.op.toString()+" {"+r.getFilters().map(VD).join(" ,")+"}"}(t):"Filter"}class fq extends lr{constructor(e,r,n){super(e,r,n),this.key=Le.fromName(n.referenceValue)}matches(e){const r=Le.comparator(e.key,this.key);return this.matchesComparison(r)}}class dq extends lr{constructor(e,r){super(e,"in",r),this.keys=BD("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class hq extends lr{constructor(e,r){super(e,"not-in",r),this.keys=BD("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function BD(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>Le.fromName(n.referenceValue))}class pq extends lr{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Z1(r)&&Af(r.arrayValue,this.value)}}class mq extends lr{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Af(this.value.arrayValue,r)}}class gq extends lr{constructor(e,r){super(e,"not-in",r)}matches(e){if(Af(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Af(this.value.arrayValue,r)}}class yq extends lr{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Z1(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Af(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vq{constructor(e,r=null,n=[],i=[],a=null,s=null,u=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=s,this.endAt=u,this.ue=null}}function UP(t,e=null,r=[],n=[],i=null,a=null,s=null){return new vq(t,e,r,n,i,a,s)}function eE(t){const e=Ze(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>ew(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),Xm(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>bu(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>bu(n)).join(",")),e.ue=r}return e.ue}function tE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!uq(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!FD(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!BP(t.startAt,e.startAt)&&BP(t.endAt,e.endAt)}function tw(t){return Le.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,r=null,n=[],i=[],a=null,s="F",u=null,c=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=s,this.startAt=u,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function bq(t,e,r,n,i,a,s,u){return new bd(t,e,r,n,i,a,s,u)}function rE(t){return new bd(t)}function qP(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function UD(t){return t.collectionGroup!==null}function uf(t){const e=Ze(t);if(e.ce===null){e.ce=[];const r=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let u=new $r(Lr.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(e).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Vp(a,n))}),r.has(Lr.keyField().canonicalString())||e.ce.push(new Vp(Lr.keyField(),n))}return e.ce}function sa(t){const e=Ze(t);return e.le||(e.le=_q(e,uf(t))),e.le}function _q(t,e){if(t.limitType==="F")return UP(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Vp(i.field,a)});const r=t.endAt?new Fp(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Fp(t.startAt.position,t.startAt.inclusive):null;return UP(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function rw(t,e){const r=t.filters.concat([e]);return new bd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function nw(t,e,r){return new bd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Qm(t,e){return tE(sa(t),sa(e))&&t.limitType===e.limitType}function qD(t){return`${eE(sa(t))}|lt:${t.limitType}`}function Zl(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>VD(i)).join(", ")}]`),Xm(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>bu(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>bu(i)).join(",")),`Target(${n})`}(sa(t))}; limitType=${t.limitType})`}function Jm(t,e){return e.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):Le.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(t,e)&&function(n,i){for(const a of uf(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(s,u,c){const f=VP(s,u,c);return s.inclusive?f<=0:f<0}(n.startAt,uf(n),i)||n.endAt&&!function(s,u,c){const f=VP(s,u,c);return s.inclusive?f>=0:f>0}(n.endAt,uf(n),i))}(t,e)}function xq(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function zD(t){return(e,r)=>{let n=!1;for(const i of uf(t)){const a=wq(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function wq(t,e,r){const n=t.field.isKeyField()?Le.comparator(e.key,r.key):function(a,s,u){const c=s.data.field(a),f=u.data.field(a);return c!==null&&f!==null?vu(c,f):Xe()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Xe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ol(this.inner,(r,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return RD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eq=new Wt(Le.comparator);function Xa(){return Eq}const WD=new Wt(Le.comparator);function Zc(...t){let e=WD;for(const r of t)e=e.insert(r.key,r);return e}function HD(t){let e=WD;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function js(){return cf()}function KD(){return cf()}function cf(){return new Xu(t=>t.toString(),(t,e)=>t.isEqual(e))}const Sq=new Wt(Le.comparator),Tq=new $r(Le.comparator);function rt(...t){let e=Tq;for(const r of t)e=e.add(r);return e}const Aq=new $r(ct);function Pq(){return Aq}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$p(e)?"-0":e}}function GD(t){return{integerValue:""+t}}function kq(t,e){return iq(e)?GD(e):nE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(){this._=void 0}}function Iq(t,e,r){return t instanceof Pf?function(i,a){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Q1(a)&&(a=J1(a)),a&&(s.fields.__previous_value__=a),{mapValue:s}}(r,e):t instanceof kf?XD(t,e):t instanceof If?QD(t,e):function(i,a){const s=YD(i,a),u=zP(s)+zP(i.Pe);return Zx(s)&&Zx(i.Pe)?GD(u):nE(i.serializer,u)}(t,e)}function Oq(t,e,r){return t instanceof kf?XD(t,e):t instanceof If?QD(t,e):r}function YD(t,e){return t instanceof Bp?function(n){return Zx(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class Pf extends Zm{}class kf extends Zm{constructor(e){super(),this.elements=e}}function XD(t,e){const r=JD(e);for(const n of t.elements)r.some(i=>fa(i,n))||r.push(n);return{arrayValue:{values:r}}}class If extends Zm{constructor(e){super(),this.elements=e}}function QD(t,e){let r=JD(e);for(const n of t.elements)r=r.filter(i=>!fa(i,n));return{arrayValue:{values:r}}}class Bp extends Zm{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function zP(t){return tr(t.integerValue||t.doubleValue)}function JD(t){return Z1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cq{constructor(e,r){this.field=e,this.transform=r}}function Nq(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof kf&&i instanceof kf||n instanceof If&&i instanceof If?yu(n.elements,i.elements,fa):n instanceof Bp&&i instanceof Bp?fa(n.Pe,i.Pe):n instanceof Pf&&i instanceof Pf}(t.transform,e.transform)}class Rq{constructor(e,r){this.version=e,this.transformResults=r}}class un{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new un}static exists(e){return new un(void 0,e)}static updateTime(e){return new un(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ap(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class eg{}function ZD(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new tg(t.key,un.none()):new _d(t.key,t.data,un.none());{const r=t.data,n=wn.empty();let i=new $r(Lr.comparator);for(let a of e.fields)if(!i.has(a)){let s=r.field(a);s===null&&a.length>1&&(a=a.popLast(),s=r.field(a)),s===null?n.delete(a):n.set(a,s),i=i.add(a)}return new es(t.key,n,new Bn(i.toArray()),un.none())}}function jq(t,e,r){t instanceof _d?function(i,a,s){const u=i.value.clone(),c=HP(i.fieldTransforms,a,s.transformResults);u.setAll(c),a.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,r):t instanceof es?function(i,a,s){if(!Ap(i.precondition,a))return void a.convertToUnknownDocument(s.version);const u=HP(i.fieldTransforms,a,s.transformResults),c=a.data;c.setAll(eM(i)),c.setAll(u),a.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,r):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,r)}function ff(t,e,r,n){return t instanceof _d?function(a,s,u,c){if(!Ap(a.precondition,s))return u;const f=a.value.clone(),h=KP(a.fieldTransforms,c,s);return f.setAll(h),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null}(t,e,r,n):t instanceof es?function(a,s,u,c){if(!Ap(a.precondition,s))return u;const f=KP(a.fieldTransforms,c,s),h=s.data;return h.setAll(eM(a)),h.setAll(f),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(p=>p.field))}(t,e,r,n):function(a,s,u){return Ap(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):u}(t,e,r)}function Dq(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=YD(n.transform,i||null);a!=null&&(r===null&&(r=wn.empty()),r.set(n.field,a))}return r||null}function WP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&yu(n,i,(a,s)=>Nq(a,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class _d extends eg{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class es extends eg{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function eM(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function HP(t,e,r){const n=new Map;xt(t.length===r.length);for(let i=0;i<r.length;i++){const a=t[i],s=a.transform,u=e.data.field(a.field);n.set(a.field,Oq(s,u,r[i]))}return n}function KP(t,e,r){const n=new Map;for(const i of t){const a=i.transform,s=r.data.field(i.field);n.set(i.field,Iq(a,s,e))}return n}class tg extends eg{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Mq extends eg{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lq{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&jq(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=ff(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=ff(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=KD();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let u=this.applyToLocalView(s,a.mutatedFields);u=r.has(i.key)?null:u;const c=ZD(s,u);c!==null&&n.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Qe.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),rt())}isEqual(e){return this.batchId===e.batchId&&yu(this.mutations,e.mutations,(r,n)=>WP(r,n))&&yu(this.baseMutations,e.baseMutations,(r,n)=>WP(r,n))}}class iE{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){xt(e.mutations.length===n.length);let i=function(){return Sq}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,n[s].version);return new iE(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $q{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fq{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var or,ot;function Vq(t){switch(t){default:return Xe();case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0}}function tM(t){if(t===void 0)return Ya("GRPC error has no .code"),ue.UNKNOWN;switch(t){case or.OK:return ue.OK;case or.CANCELLED:return ue.CANCELLED;case or.UNKNOWN:return ue.UNKNOWN;case or.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case or.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case or.INTERNAL:return ue.INTERNAL;case or.UNAVAILABLE:return ue.UNAVAILABLE;case or.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case or.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case or.NOT_FOUND:return ue.NOT_FOUND;case or.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case or.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case or.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case or.ABORTED:return ue.ABORTED;case or.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case or.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case or.DATA_LOSS:return ue.DATA_LOSS;default:return Xe()}}(ot=or||(or={}))[ot.OK=0]="OK",ot[ot.CANCELLED=1]="CANCELLED",ot[ot.UNKNOWN=2]="UNKNOWN",ot[ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ot[ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ot[ot.NOT_FOUND=5]="NOT_FOUND",ot[ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",ot[ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",ot[ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",ot[ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ot[ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ot[ot.ABORTED=10]="ABORTED",ot[ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",ot[ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",ot[ot.INTERNAL=13]="INTERNAL",ot[ot.UNAVAILABLE=14]="UNAVAILABLE",ot[ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bq(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uq=new Fs([4294967295,4294967295],0);function GP(t){const e=Bq().encode(t),r=new TD;return r.update(e),new Uint8Array(r.digest())}function YP(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Fs([r,n],0),new Fs([i,a],0)]}class aE{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new ef(`Invalid padding: ${r}`);if(n<0)throw new ef(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new ef(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new ef(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Fs.fromNumber(this.Ie)}Ee(e,r,n){let i=e.add(r.multiply(Fs.fromNumber(n)));return i.compare(Uq)===1&&(i=new Fs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=GP(e),[n,i]=YP(r);for(let a=0;a<this.hashCount;a++){const s=this.Ee(n,i,a);if(!this.de(s))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new aE(a,i,r);return n.forEach(u=>s.insert(u)),s}insert(e){if(this.Ie===0)return;const r=GP(e),[n,i]=YP(r);for(let a=0;a<this.hashCount;a++){const s=this.Ee(n,i,a);this.Ae(s)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class ef extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,xd.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new rg(Qe.min(),i,new Wt(ct),Xa(),rt())}}class xd{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new xd(n,r,rt(),rt(),rt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,r,n,i){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=i}}class rM{constructor(e,r){this.targetId=e,this.me=r}}class nM{constructor(e,r,n=Fr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class XP{constructor(){this.fe=0,this.ge=JP(),this.pe=Fr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=rt(),r=rt(),n=rt();return this.ge.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:Xe()}}),new xd(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=JP()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,xt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class qq{constructor(e){this.Le=e,this.Be=new Map,this.ke=Xa(),this.qe=QP(),this.Qe=new Wt(ct)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:Xe()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,i)=>{this.ze(i)&&r(i)})}He(e){const r=e.targetId,n=e.me.count,i=this.Je(r);if(i){const a=i.target;if(tw(a))if(n===0){const s=new Le(a.path);this.Ue(r,s,Yr.newNoDocument(s,Qe.min()))}else xt(n===1);else{const s=this.Ye(r);if(s!==n){const u=this.Ze(e),c=u?this.Xe(u,e,s):1;if(c!==0){this.je(r);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,f)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let s,u;try{s=Ys(n).toUint8Array()}catch(c){if(c instanceof jD)return gu("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new aE(s,i,a)}catch(c){return gu(c instanceof ef?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.Ie===0?null:u}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const s=this.Le.tt(),u=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.Ue(r,a,null),i++)}),i}rt(e){const r=new Map;this.Be.forEach((a,s)=>{const u=this.Je(s);if(u){if(a.current&&tw(u.target)){const c=new Le(u.target.path);this.ke.get(c)!==null||this.it(s,c)||this.Ue(s,c,Yr.newNoDocument(c,e))}a.be&&(r.set(s,a.ve()),a.Ce())}});let n=rt();this.qe.forEach((a,s)=>{let u=!0;s.forEachWhile(c=>{const f=this.Je(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(n=n.add(a))}),this.ke.forEach((a,s)=>s.setReadTime(e));const i=new rg(e,r,this.Qe,this.ke,n);return this.ke=Xa(),this.qe=QP(),this.Qe=new Wt(ct),i}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new XP,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new $r(ct),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||Ce("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new XP),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function QP(){return new Wt(Le.comparator)}function JP(){return new Wt(Le.comparator)}const zq={asc:"ASCENDING",desc:"DESCENDING"},Wq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Hq={and:"AND",or:"OR"};class Kq{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function iw(t,e){return t.useProto3Json||Xm(e)?e:{value:e}}function Up(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Gq(t,e){return Up(t,e.toTimestamp())}function la(t){return xt(!!t),Qe.fromTimestamp(function(r){const n=Yo(r);return new br(n.seconds,n.nanos)}(t))}function oE(t,e){return aw(t,e).canonicalString()}function aw(t,e){const r=function(i){return new Mt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function aM(t){const e=Mt.fromString(t);return xt(cM(e)),e}function ow(t,e){return oE(t.databaseId,e.path)}function jv(t,e){const r=aM(e);if(r.get(1)!==t.databaseId.projectId)throw new Ae(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Ae(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Le(sM(r))}function oM(t,e){return oE(t.databaseId,e)}function Yq(t){const e=aM(t);return e.length===4?Mt.emptyPath():sM(e)}function sw(t){return new Mt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function sM(t){return xt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function ZP(t,e,r){return{name:ow(t,e),fields:r.value.mapValue.fields}}function Xq(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Xe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(f,h){return f.useProto3Json?(xt(h===void 0||typeof h=="string"),Fr.fromBase64String(h||"")):(xt(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Fr.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,u=s&&function(f){const h=f.code===void 0?ue.UNKNOWN:tM(f.code);return new Ae(h,f.message||"")}(s);r=new nM(n,i,a,u||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=jv(t,n.document.name),a=la(n.document.updateTime),s=n.document.createTime?la(n.document.createTime):Qe.min(),u=new wn({mapValue:{fields:n.document.fields}}),c=Yr.newFoundDocument(i,a,s,u),f=n.targetIds||[],h=n.removedTargetIds||[];r=new Pp(f,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=jv(t,n.document),a=n.readTime?la(n.readTime):Qe.min(),s=Yr.newNoDocument(i,a),u=n.removedTargetIds||[];r=new Pp([],u,s.key,s)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=jv(t,n.document),a=n.removedTargetIds||[];r=new Pp([],a,i,null)}else{if(!("filter"in e))return Xe();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,s=new Fq(i,a),u=n.targetId;r=new rM(u,s)}}return r}function Qq(t,e){let r;if(e instanceof _d)r={update:ZP(t,e.key,e.value)};else if(e instanceof tg)r={delete:ow(t,e.key)};else if(e instanceof es)r={update:ZP(t,e.key,e.data),updateMask:o5(e.fieldMask)};else{if(!(e instanceof Mq))return Xe();r={verify:ow(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(a,s){const u=s.transform;if(u instanceof Pf)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof kf)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof If)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Bp)return{fieldPath:s.field.canonicalString(),increment:u.Pe};throw Xe()}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:Gq(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Xe()}(t,e.precondition)),r}function Jq(t,e){return t&&t.length>0?(xt(e!==void 0),t.map(r=>function(i,a){let s=i.updateTime?la(i.updateTime):la(a);return s.isEqual(Qe.min())&&(s=la(a)),new Rq(s,i.transformResults||[])}(r,e))):[]}function Zq(t,e){return{documents:[oM(t,e.path)]}}function e5(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=oM(t,i);const a=function(f){if(f.length!==0)return uM(Li.create(f,"and"))}(e.filters);a&&(r.structuredQuery.where=a);const s=function(f){if(f.length!==0)return f.map(h=>function(v){return{field:eu(v.field),direction:n5(v.dir)}}(h))}(e.orderBy);s&&(r.structuredQuery.orderBy=s);const u=iw(t,e.limit);return u!==null&&(r.structuredQuery.limit=u),e.startAt&&(r.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{_t:r,parent:i}}function t5(t){let e=Yq(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){xt(n===1);const h=r.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let a=[];r.where&&(a=function(p){const v=lM(p);return v instanceof Li&&$D(v)?v.getFilters():[v]}(r.where));let s=[];r.orderBy&&(s=function(p){return p.map(v=>function(x){return new Vp(tu(x.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(v))}(r.orderBy));let u=null;r.limit&&(u=function(p){let v;return v=typeof p=="object"?p.value:p,Xm(v)?null:v}(r.limit));let c=null;r.startAt&&(c=function(p){const v=!!p.before,b=p.values||[];return new Fp(b,v)}(r.startAt));let f=null;return r.endAt&&(f=function(p){const v=!p.before,b=p.values||[];return new Fp(b,v)}(r.endAt)),bq(e,i,s,a,u,"F",c,f)}function r5(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xe()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function lM(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=tu(r.unaryFilter.field);return lr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=tu(r.unaryFilter.field);return lr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=tu(r.unaryFilter.field);return lr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=tu(r.unaryFilter.field);return lr.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Xe()}}(t):t.fieldFilter!==void 0?function(r){return lr.create(tu(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xe()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return Li.create(r.compositeFilter.filters.map(n=>lM(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Xe()}}(r.compositeFilter.op))}(t):Xe()}function n5(t){return zq[t]}function i5(t){return Wq[t]}function a5(t){return Hq[t]}function eu(t){return{fieldPath:t.canonicalString()}}function tu(t){return Lr.fromServerFormat(t.fieldPath)}function uM(t){return t instanceof lr?function(r){if(r.op==="=="){if(FP(r.value))return{unaryFilter:{field:eu(r.field),op:"IS_NAN"}};if($P(r.value))return{unaryFilter:{field:eu(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(FP(r.value))return{unaryFilter:{field:eu(r.field),op:"IS_NOT_NAN"}};if($P(r.value))return{unaryFilter:{field:eu(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eu(r.field),op:i5(r.op),value:r.value}}}(t):t instanceof Li?function(r){const n=r.getFilters().map(i=>uM(i));return n.length===1?n[0]:{compositeFilter:{op:a5(r.op),filters:n}}}(t):Xe()}function o5(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function cM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,r,n,i,a=Qe.min(),s=Qe.min(),u=Fr.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new Vo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Vo(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(e){this.ct=e}}function l5(t){const e=t5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?nw(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{constructor(){this.un=new c5}addToCollectionParentIndex(e,r){return this.un.add(r),pe.resolve()}getCollectionParents(e,r){return pe.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return pe.resolve()}deleteFieldIndex(e,r){return pe.resolve()}deleteAllFieldIndexes(e){return pe.resolve()}createTargetIndexes(e,r){return pe.resolve()}getDocumentsMatchingTarget(e,r){return pe.resolve(null)}getIndexType(e,r){return pe.resolve(0)}getFieldIndexes(e,r){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}getMinOffset(e,r){return pe.resolve(Go.min())}getMinOffsetFromCollectionGroup(e,r){return pe.resolve(Go.min())}updateCollectionGroup(e,r,n){return pe.resolve()}updateIndexEntries(e,r){return pe.resolve()}}class c5{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new $r(Mt.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new $r(Mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new _u(0)}static kn(){return new _u(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{constructor(){this.changes=new Xu(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Yr.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?pe.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&ff(n.mutation,i,Bn.empty(),br.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,rt()).next(()=>n))}getLocalViewOfDocuments(e,r,n=rt()){const i=js();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(a=>{let s=Zc();return a.forEach((u,c)=>{s=s.insert(u,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,r){const n=js();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,rt()))}populateOverlays(e,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,u)=>{r.set(s,u)})})}computeViews(e,r,n,i){let a=Xa();const s=cf(),u=function(){return cf()}();return r.forEach((c,f)=>{const h=n.get(f.key);i.has(f.key)&&(h===void 0||h.mutation instanceof es)?a=a.insert(f.key,f):h!==void 0?(s.set(f.key,h.mutation.getFieldMask()),ff(h.mutation,f,h.mutation.getFieldMask(),br.now())):s.set(f.key,Bn.empty())}),this.recalculateAndSaveOverlays(e,a).next(c=>(c.forEach((f,h)=>s.set(f,h)),r.forEach((f,h)=>{var p;return u.set(f,new d5(h,(p=s.get(f))!==null&&p!==void 0?p:null))}),u))}recalculateAndSaveOverlays(e,r){const n=cf();let i=new Wt((s,u)=>s-u),a=rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(s=>{for(const u of s)u.keys().forEach(c=>{const f=r.get(c);if(f===null)return;let h=n.get(c)||Bn.empty();h=u.applyToLocalView(f,h),n.set(c,h);const p=(i.get(u.batchId)||rt()).add(c);i=i.insert(u.batchId,p)})}).next(()=>{const s=[],u=i.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),f=c.key,h=c.value,p=KD();h.forEach(v=>{if(!a.has(v)){const b=ZD(r.get(v),n.get(v));b!==null&&p.set(v,b),a=a.add(v)}}),s.push(this.documentOverlayCache.saveOverlays(e,f,p))}return pe.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(s){return Le.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):UD(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):pe.resolve(js());let u=-1,c=a;return s.next(f=>pe.forEach(f,(h,p)=>(u<p.largestBatchId&&(u=p.largestBatchId),a.get(h)?pe.resolve():this.remoteDocumentCache.getEntry(e,h).next(v=>{c=c.insert(h,v)}))).next(()=>this.populateOverlays(e,f,a)).next(()=>this.computeViews(e,c,f,rt())).next(h=>({batchId:u,changes:HD(h)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Le(r)).next(n=>{let i=Zc();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let s=Zc();return this.indexManager.getCollectionParents(e,a).next(u=>pe.forEach(u,c=>{const f=function(p,v){return new bd(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(r,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,n,i).next(h=>{h.forEach((p,v)=>{s=s.insert(p,v)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i))).next(s=>{a.forEach((c,f)=>{const h=f.getKey();s.get(h)===null&&(s=s.insert(h,Yr.newInvalidDocument(h)))});let u=Zc();return s.forEach((c,f)=>{const h=a.get(c);h!==void 0&&ff(h.mutation,f,Bn.empty(),br.now()),Jm(r,f)&&(u=u.insert(c,f))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return pe.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:la(i.createTime)}}(r)),pe.resolve()}getNamedQuery(e,r){return pe.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(i){return{name:i.name,query:l5(i.bundledQuery),readTime:la(i.readTime)}}(r)),pe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(){this.overlays=new Wt(Le.comparator),this.Ir=new Map}getOverlay(e,r){return pe.resolve(this.overlays.get(r))}getOverlays(e,r){const n=js();return pe.forEach(r,i=>this.getOverlay(e,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,a)=>{this.ht(e,r,a)}),pe.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(n)),pe.resolve()}getOverlaysForCollection(e,r,n){const i=js(),a=r.length+1,s=new Le(r.child("")),u=this.overlays.getIteratorFrom(s);for(;u.hasNext();){const c=u.getNext().value,f=c.getKey();if(!r.isPrefixOf(f.path))break;f.path.length===a&&c.largestBatchId>n&&i.set(c.getKey(),c)}return pe.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new Wt((f,h)=>f-h);const s=this.overlays.getIterator();for(;s.hasNext();){const f=s.getNext().value;if(f.getKey().getCollectionGroup()===r&&f.largestBatchId>n){let h=a.get(f.largestBatchId);h===null&&(h=js(),a=a.insert(f.largestBatchId,h)),h.set(f.getKey(),f)}}const u=js(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((f,h)=>u.set(f,h)),!(u.size()>=i)););return pe.resolve(u)}ht(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new $q(r,n));let a=this.Ir.get(r);a===void 0&&(a=rt(),this.Ir.set(r,a)),this.Ir.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(){this.sessionToken=Fr.EMPTY_BYTE_STRING}getSessionToken(e){return pe.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,pe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(){this.Tr=new $r(Ar.Er),this.dr=new $r(Ar.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new Ar(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new Ar(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new Le(new Mt([])),n=new Ar(r,e),i=new Ar(r,e+1),a=[];return this.dr.forEachInRange([n,i],s=>{this.Vr(s),a.push(s.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new Le(new Mt([])),n=new Ar(r,e),i=new Ar(r,e+1);let a=rt();return this.dr.forEachInRange([n,i],s=>{a=a.add(s.key)}),a}containsKey(e){const r=new Ar(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Ar{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return Le.comparator(e.key,r.key)||ct(e.wr,r.wr)}static Ar(e,r){return ct(e.wr,r.wr)||Le.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new $r(Ar.Er)}checkEmpty(e){return pe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Lq(a,r,n,i);this.mutationQueue.push(s);for(const u of i)this.br=this.br.add(new Ar(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return pe.resolve(s)}lookupMutationBatch(e,r){return pe.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.vr(n),a=i<0?0:i;return pe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Ar(r,0),i=new Ar(r,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([n,i],s=>{const u=this.Dr(s.wr);a.push(u)}),pe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new $r(ct);return r.forEach(i=>{const a=new Ar(i,0),s=new Ar(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,s],u=>{n=n.add(u.wr)})}),pe.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;Le.isDocumentKey(a)||(a=a.child(""));const s=new Ar(new Le(a),0);let u=new $r(ct);return this.br.forEachWhile(c=>{const f=c.key.path;return!!n.isPrefixOf(f)&&(f.length===i&&(u=u.add(c.wr)),!0)},s),pe.resolve(this.Cr(u))}Cr(e){const r=[];return e.forEach(n=>{const i=this.Dr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){xt(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return pe.forEach(r.mutations,i=>{const a=new Ar(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new Ar(r,0),i=this.br.firstAfterOrEqual(n);return pe.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,pe.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(e){this.Mr=e,this.docs=function(){return new Wt(Le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,s=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return pe.resolve(n?n.document.mutableCopy():Yr.newInvalidDocument(r))}getEntries(e,r){let n=Xa();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():Yr.newInvalidDocument(i))}),pe.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=Xa();const s=r.path,u=new Le(s.child("")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:f,value:{document:h}}=c.getNext();if(!s.isPrefixOf(f.path))break;f.path.length>s.length+1||eq(ZU(h),n)<=0||(i.has(h.key)||Jm(r,h))&&(a=a.insert(h.key,h.mutableCopy()))}return pe.resolve(a)}getAllFromCollectionGroup(e,r,n,i){Xe()}Or(e,r){return pe.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new b5(this)}getSize(e){return pe.resolve(this.size)}}class b5 extends f5{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)}),pe.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(e){this.persistence=e,this.Nr=new Xu(r=>eE(r),tE),this.lastRemoteSnapshotVersion=Qe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new sE,this.targetCount=0,this.kr=_u.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,i)=>r(i)),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),pe.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new _u(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,pe.resolve()}updateTargetData(e,r){return this.Kn(r),pe.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.Nr.forEach((s,u)=>{u.sequenceNumber<=r&&n.get(u.targetId)===null&&(this.Nr.delete(s),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),pe.waitFor(a).next(()=>i)}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return pe.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),pe.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),pe.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),pe.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return pe.resolve(n)}containsKey(e,r){return pe.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(e,r){this.qr={},this.overlays={},this.Qr=new X1(0),this.Kr=!1,this.Kr=!0,this.$r=new g5,this.referenceDelegate=e(this),this.Ur=new _5(this),this.indexManager=new u5,this.remoteDocumentCache=function(i){return new v5(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new s5(r),this.Gr=new p5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new m5,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new y5(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){Ce("MemoryPersistence","Starting transaction:",e);const i=new w5(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(a=>this.referenceDelegate.jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Hr(e,r){return pe.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class w5 extends rq{constructor(e){super(),this.currentSequenceNumber=e}}class lE{constructor(e){this.persistence=e,this.Jr=new sE,this.Yr=null}static Zr(e){return new lE(e)}get Xr(){if(this.Yr)return this.Yr;throw Xe()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),pe.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),pe.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),pe.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(a=>this.Xr.add(a.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.Xr,n=>{const i=Le.fromPath(n);return this.ei(e,i).next(a=>{a||r.removeEntry(i,Qe.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return pe.or([()=>pe.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(e,r){let n=rt(),i=rt();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new uE(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return d3()?8:nq(Qr())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.Yi(e,r).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.Zi(e,r,i,n).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new E5;return this.Xi(e,r,s).next(u=>{if(a.result=u,this.zi)return this.es(e,r,s,u.size)})}).next(()=>a.result)}es(e,r,n,i){return n.documentReadCount<this.ji?(Fc()<=it.DEBUG&&Ce("QueryEngine","SDK will not create cache indexes for query:",Zl(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),pe.resolve()):(Fc()<=it.DEBUG&&Ce("QueryEngine","Query:",Zl(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(Fc()<=it.DEBUG&&Ce("QueryEngine","The SDK decides to create cache indexes for query:",Zl(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,sa(r))):pe.resolve())}Yi(e,r){if(qP(r))return pe.resolve(null);let n=sa(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=nw(r,null,"F"),n=sa(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const s=rt(...a);return this.Ji.getDocuments(e,s).next(u=>this.indexManager.getMinOffset(e,n).next(c=>{const f=this.ts(r,u);return this.ns(r,f,s,c.readTime)?this.Yi(e,nw(r,null,"F")):this.rs(e,f,r,c)}))})))}Zi(e,r,n,i){return qP(r)||i.isEqual(Qe.min())?pe.resolve(null):this.Ji.getDocuments(e,n).next(a=>{const s=this.ts(r,a);return this.ns(r,s,n,i)?pe.resolve(null):(Fc()<=it.DEBUG&&Ce("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Zl(r)),this.rs(e,s,r,JU(i,-1)).next(u=>u))})}ts(e,r){let n=new $r(zD(e));return r.forEach((i,a)=>{Jm(e,a)&&(n=n.add(a))}),n}ns(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(e,r,n){return Fc()<=it.DEBUG&&Ce("QueryEngine","Using full collection scan to execute query:",Zl(r)),this.Ji.getDocumentsMatchingQuery(e,r,Go.min(),n)}rs(e,r,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next(a=>(r.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(e,r,n,i){this.persistence=e,this.ss=r,this.serializer=i,this.os=new Wt(ct),this._s=new Xu(a=>eE(a),tE),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new h5(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function A5(t,e,r,n){return new T5(t,e,r,n)}async function fM(t,e){const r=Ze(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const s=[],u=[];let c=rt();for(const f of i){s.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}for(const f of a){u.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}return r.localDocuments.getDocuments(n,c).next(f=>({hs:f,removedBatchIds:s,addedBatchIds:u}))})})}function P5(t,e){const r=Ze(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),a=r.cs.newChangeBuffer({trackRemovals:!0});return function(u,c,f,h){const p=f.batch,v=p.keys();let b=pe.resolve();return v.forEach(x=>{b=b.next(()=>h.getEntry(c,x)).next(w=>{const E=f.docVersions.get(x);xt(E!==null),w.version.compareTo(E)<0&&(p.applyToRemoteDocument(w,f),w.isValidDocument()&&(w.setReadTime(f.commitVersion),h.addEntry(w)))})}),b.next(()=>u.mutationQueue.removeMutationBatch(c,p))}(r,n,e,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(u){let c=rt();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(c=c.add(u.batch.mutations[f].key));return c}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function dM(t){const e=Ze(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function k5(t,e){const r=Ze(t),n=e.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const u=[];e.targetChanges.forEach((h,p)=>{const v=i.get(p);if(!v)return;u.push(r.Ur.removeMatchingKeys(a,h.removedDocuments,p).next(()=>r.Ur.addMatchingKeys(a,h.addedDocuments,p)));let b=v.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(p)!==null?b=b.withResumeToken(Fr.EMPTY_BYTE_STRING,Qe.min()).withLastLimboFreeSnapshotVersion(Qe.min()):h.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(h.resumeToken,n)),i=i.insert(p,b),function(w,E,O){return w.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(v,b,h)&&u.push(r.Ur.updateTargetData(a,b))});let c=Xa(),f=rt();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&u.push(r.persistence.referenceDelegate.updateLimboDocument(a,h))}),u.push(I5(a,s,e.documentUpdates).next(h=>{c=h.Ps,f=h.Is})),!n.isEqual(Qe.min())){const h=r.Ur.getLastRemoteSnapshotVersion(a).next(p=>r.Ur.setTargetsMetadata(a,a.currentSequenceNumber,n));u.push(h)}return pe.waitFor(u).next(()=>s.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,c,f)).next(()=>c)}).then(a=>(r.os=i,a))}function I5(t,e,r){let n=rt(),i=rt();return r.forEach(a=>n=n.add(a)),e.getEntries(t,n).next(a=>{let s=Xa();return r.forEach((u,c)=>{const f=a.get(u);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(u)),c.isNoDocument()&&c.version.isEqual(Qe.min())?(e.removeEntry(u,c.readTime),s=s.insert(u,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),s=s.insert(u,c)):Ce("LocalStore","Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",c.version)}),{Ps:s,Is:i}})}function O5(t,e){const r=Ze(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function C5(t,e){const r=Ze(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Ur.getTargetData(n,e).next(a=>a?(i=a,pe.resolve(i)):r.Ur.allocateTargetId(n).next(s=>(i=new Vo(e,s,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function lw(t,e,r){const n=Ze(t),i=n.os.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,s=>n.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!vd(s))throw s;Ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function ek(t,e,r){const n=Ze(t);let i=Qe.min(),a=rt();return n.persistence.runTransaction("Execute query","readwrite",s=>function(c,f,h){const p=Ze(c),v=p._s.get(h);return v!==void 0?pe.resolve(p.os.get(v)):p.Ur.getTargetData(f,h)}(n,s,sa(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(s,u.targetId).next(c=>{a=c})}).next(()=>n.ss.getDocumentsMatchingQuery(s,e,r?i:Qe.min(),r?a:rt())).next(u=>(N5(n,xq(e),u),{documents:u,Ts:a})))}function N5(t,e,r){let n=t.us.get(e)||Qe.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),t.us.set(e,n)}class tk{constructor(){this.activeTargetIds=Pq()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class R5{constructor(){this.so=new tk,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new tk,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rp=null;function Dv(){return rp===null?rp=function(){return 268435456+Math.round(2147483648*Math.random())}():rp++,"0x"+rp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr="WebChannelConnection";class L5 extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(r,n,i,a,s){const u=Dv(),c=this.xo(r,n.toUriEncodedString());Ce("RestConnection",`Sending RPC '${r}' ${u}:`,c,i);const f={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(f,a,s),this.No(r,c,f,i).then(h=>(Ce("RestConnection",`Received RPC '${r}' ${u}: `,h),h),h=>{throw gu("RestConnection",`RPC '${r}' ${u} failed with error: `,h,"url: ",c,"request:",i),h})}Lo(r,n,i,a,s,u){return this.Mo(r,n,i,a,s)}Oo(r,n,i){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Yu}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,s)=>r[s]=a),i&&i.headers.forEach((a,s)=>r[s]=a)}xo(r,n){const i=D5[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,i){const a=Dv();return new Promise((s,u)=>{const c=new AD;c.setWithCredentials(!0),c.listenOnce(PD.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Sp.NO_ERROR:const h=c.getResponseJson();Ce(Hr,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(h)),s(h);break;case Sp.TIMEOUT:Ce(Hr,`RPC '${e}' ${a} timed out`),u(new Ae(ue.DEADLINE_EXCEEDED,"Request time out"));break;case Sp.HTTP_ERROR:const p=c.getStatus();if(Ce(Hr,`RPC '${e}' ${a} failed with status:`,p,"response text:",c.getResponseText()),p>0){let v=c.getResponseJson();Array.isArray(v)&&(v=v[0]);const b=v?.error;if(b&&b.status&&b.message){const x=function(E){const O=E.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(O)>=0?O:ue.UNKNOWN}(b.status);u(new Ae(x,b.message))}else u(new Ae(ue.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new Ae(ue.UNAVAILABLE,"Connection failed."));break;default:Xe()}}finally{Ce(Hr,`RPC '${e}' ${a} completed.`)}});const f=JSON.stringify(i);Ce(Hr,`RPC '${e}' ${a} sending request:`,i),c.send(r,"POST",f,n,15)})}Bo(e,r,n){const i=Dv(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=OD(),u=ID(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,r,n),c.encodeInitMessageHeaders=!0;const h=a.join("");Ce(Hr,`Creating RPC '${e}' stream ${i}: ${h}`,c);const p=s.createWebChannel(h,c);let v=!1,b=!1;const x=new M5({Io:E=>{b?Ce(Hr,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(v||(Ce(Hr,`Opening RPC '${e}' stream ${i} transport.`),p.open(),v=!0),Ce(Hr,`RPC '${e}' stream ${i} sending:`,E),p.send(E))},To:()=>p.close()}),w=(E,O,k)=>{E.listen(O,I=>{try{k(I)}catch($){setTimeout(()=>{throw $},0)}})};return w(p,Jc.EventType.OPEN,()=>{b||(Ce(Hr,`RPC '${e}' stream ${i} transport opened.`),x.yo())}),w(p,Jc.EventType.CLOSE,()=>{b||(b=!0,Ce(Hr,`RPC '${e}' stream ${i} transport closed`),x.So())}),w(p,Jc.EventType.ERROR,E=>{b||(b=!0,gu(Hr,`RPC '${e}' stream ${i} transport errored:`,E),x.So(new Ae(ue.UNAVAILABLE,"The operation could not be completed")))}),w(p,Jc.EventType.MESSAGE,E=>{var O;if(!b){const k=E.data[0];xt(!!k);const I=k,$=I.error||((O=I[0])===null||O===void 0?void 0:O.error);if($){Ce(Hr,`RPC '${e}' stream ${i} received error:`,$);const N=$.status;let j=function(R){const F=or[R];if(F!==void 0)return tM(F)}(N),A=$.message;j===void 0&&(j=ue.INTERNAL,A="Unknown error status: "+N+" with message "+$.message),b=!0,x.So(new Ae(j,A)),p.close()}else Ce(Hr,`RPC '${e}' stream ${i} received:`,k),x.bo(k)}}),w(u,kD.STAT_EVENT,E=>{E.stat===Qx.PROXY?Ce(Hr,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===Qx.NOPROXY&&Ce(Hr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.wo()},0),x}}function Mv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(t){return new Kq(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(e,r,n=1e3,i=1.5,a=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&Ce("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e,r,n,i,a,s,u,c){this.ui=e,this.Ho=n,this.Jo=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new hM(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===ue.RESOURCE_EXHAUSTED?(Ya(r.toString()),Ya("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===r&&this.P_(n,i)},n=>{e(()=>{const i=new Ae(ue.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(Ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $5 extends pM{constructor(e,r,n,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=Xq(this.serializer,e),n=function(a){if(!("targetChange"in a))return Qe.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?Qe.min():s.readTime?la(s.readTime):Qe.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=sw(this.serializer),r.addTarget=function(a,s){let u;const c=s.target;if(u=tw(c)?{documents:Zq(a,c)}:{query:e5(a,c)._t},u.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){u.resumeToken=iM(a,s.resumeToken);const f=iw(a,s.expectedCount);f!==null&&(u.expectedCount=f)}else if(s.snapshotVersion.compareTo(Qe.min())>0){u.readTime=Up(a,s.snapshotVersion.toTimestamp());const f=iw(a,s.expectedCount);f!==null&&(u.expectedCount=f)}return u}(this.serializer,e);const n=r5(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=sw(this.serializer),r.removeTarget=e,this.a_(r)}}class F5 extends pM{constructor(e,r,n,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return xt(!!e.streamToken),this.lastStreamToken=e.streamToken,xt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){xt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=Jq(e.writeResults,e.commitTime),n=la(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=sw(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>Qq(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5 extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Ae(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Mo(e,aw(r,n),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ae(ue.UNKNOWN,a.toString())})}Lo(e,r,n,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection.Lo(e,aw(r,n),i,s,u,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ae(ue.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class B5{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ya(r),this.D_=!1):Ce("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(s=>{n.enqueueAndForget(async()=>{sl(this)&&(Ce("RemoteStore","Restarting streams for network reachability change."),await async function(c){const f=Ze(c);f.L_.add(4),await wd(f),f.q_.set("Unknown"),f.L_.delete(4),await ig(f)}(this))})}),this.q_=new B5(n,i)}}async function ig(t){if(sl(t))for(const e of t.B_)await e(!0)}async function wd(t){for(const e of t.B_)await e(!1)}function mM(t,e){const r=Ze(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),hE(r)?dE(r):Qu(r).r_()&&fE(r,e))}function cE(t,e){const r=Ze(t),n=Qu(r);r.N_.delete(e),n.r_()&&gM(r,e),r.N_.size===0&&(n.r_()?n.o_():sl(r)&&r.q_.set("Unknown"))}function fE(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Qe.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Qu(t).A_(e)}function gM(t,e){t.Q_.xe(e),Qu(t).R_(e)}function dE(t){t.Q_=new qq({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Qu(t).start(),t.q_.v_()}function hE(t){return sl(t)&&!Qu(t).n_()&&t.N_.size>0}function sl(t){return Ze(t).L_.size===0}function yM(t){t.Q_=void 0}async function q5(t){t.q_.set("Online")}async function z5(t){t.N_.forEach((e,r)=>{fE(t,e)})}async function W5(t,e){yM(t),hE(t)?(t.q_.M_(e),dE(t)):t.q_.set("Unknown")}async function H5(t,e,r){if(t.q_.set("Online"),e instanceof nM&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const u of a.targetIds)i.N_.has(u)&&(await i.remoteSyncer.rejectListen(u,s),i.N_.delete(u),i.Q_.removeTarget(u))}(t,e)}catch(n){Ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await qp(t,n)}else if(e instanceof Pp?t.Q_.Ke(e):e instanceof rM?t.Q_.He(e):t.Q_.We(e),!r.isEqual(Qe.min()))try{const n=await dM(t.localStore);r.compareTo(n)>=0&&await function(a,s){const u=a.Q_.rt(s);return u.targetChanges.forEach((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const h=a.N_.get(f);h&&a.N_.set(f,h.withResumeToken(c.resumeToken,s))}}),u.targetMismatches.forEach((c,f)=>{const h=a.N_.get(c);if(!h)return;a.N_.set(c,h.withResumeToken(Fr.EMPTY_BYTE_STRING,h.snapshotVersion)),gM(a,c);const p=new Vo(h.target,c,f,h.sequenceNumber);fE(a,p)}),a.remoteSyncer.applyRemoteEvent(u)}(t,r)}catch(n){Ce("RemoteStore","Failed to raise snapshot:",n),await qp(t,n)}}async function qp(t,e,r){if(!vd(e))throw e;t.L_.add(1),await wd(t),t.q_.set("Offline"),r||(r=()=>dM(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ce("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await ig(t)})}function vM(t,e){return e().catch(r=>qp(t,r,e))}async function ag(t){const e=Ze(t),r=Xo(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;K5(e);)try{const i=await O5(e.localStore,n);if(i===null){e.O_.length===0&&r.o_();break}n=i.batchId,G5(e,i)}catch(i){await qp(e,i)}bM(e)&&_M(e)}function K5(t){return sl(t)&&t.O_.length<10}function G5(t,e){t.O_.push(e);const r=Xo(t);r.r_()&&r.V_&&r.m_(e.mutations)}function bM(t){return sl(t)&&!Xo(t).n_()&&t.O_.length>0}function _M(t){Xo(t).start()}async function Y5(t){Xo(t).p_()}async function X5(t){const e=Xo(t);for(const r of t.O_)e.m_(r.mutations)}async function Q5(t,e,r){const n=t.O_.shift(),i=iE.from(n,e,r);await vM(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ag(t)}async function J5(t,e){e&&Xo(t).V_&&await async function(n,i){if(function(s){return Vq(s)&&s!==ue.ABORTED}(i.code)){const a=n.O_.shift();Xo(n).s_(),await vM(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await ag(n)}}(t,e),bM(t)&&_M(t)}async function nk(t,e){const r=Ze(t);r.asyncQueue.verifyOperationInProgress(),Ce("RemoteStore","RemoteStore received new credentials");const n=sl(r);r.L_.add(3),await wd(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await ig(r)}async function Z5(t,e){const r=Ze(t);e?(r.L_.delete(2),await ig(r)):e||(r.L_.add(2),await wd(r),r.q_.set("Unknown"))}function Qu(t){return t.K_||(t.K_=function(r,n,i){const a=Ze(r);return a.w_(),new $5(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:q5.bind(null,t),Ro:z5.bind(null,t),mo:W5.bind(null,t),d_:H5.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),hE(t)?dE(t):t.q_.set("Unknown")):(await t.K_.stop(),yM(t))})),t.K_}function Xo(t){return t.U_||(t.U_=function(r,n,i){const a=Ze(r);return a.w_(),new F5(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Y5.bind(null,t),mo:J5.bind(null,t),f_:X5.bind(null,t),g_:Q5.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await ag(t)):(await t.U_.stop(),t.O_.length>0&&(Ce("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new zo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const s=Date.now()+n,u=new pE(e,r,s,i,a);return u.start(n),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ae(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mE(t,e){if(Ya("AsyncQueue",`${e}: ${t}`),vd(t))return new Ae(ue.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e){this.comparator=e?(r,n)=>e(r,n)||Le.comparator(r.key,n.key):(r,n)=>Le.comparator(r.key,n.key),this.keyedMap=Zc(),this.sortedSet=new Wt(this.comparator)}static emptySet(e){return new fu(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof fu)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new fu;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(){this.W_=new Wt(Le.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):Xe():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class xu{constructor(e,r,n,i,a,s,u,c,f){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,r,n,i,a){const s=[];return r.forEach(u=>{s.push({type:0,doc:u})}),new xu(e,r,fu.emptySet(r),s,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class t9{constructor(){this.queries=ak(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=Ze(r),a=i.queries;i.queries=ak(),a.forEach((s,u)=>{for(const c of u.j_)c.onError(n)})})(this,new Ae(ue.ABORTED,"Firestore shutting down"))}}function ak(){return new Xu(t=>qD(t),Qm)}async function xM(t,e){const r=Ze(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.H_()&&e.J_()&&(n=2):(a=new e9,n=e.J_()?0:1);try{switch(n){case 0:a.z_=await r.onListen(i,!0);break;case 1:a.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(s){const u=mE(s,`Initialization of query '${Zl(e.query)}' failed`);return void e.onError(u)}r.queries.set(i,a),a.j_.push(e),e.Z_(r.onlineState),a.z_&&e.X_(a.z_)&&gE(r)}async function wM(t,e){const r=Ze(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const s=a.j_.indexOf(e);s>=0&&(a.j_.splice(s,1),a.j_.length===0?i=e.J_()?0:1:!a.H_()&&e.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function r9(t,e){const r=Ze(t);let n=!1;for(const i of e){const a=i.query,s=r.queries.get(a);if(s){for(const u of s.j_)u.X_(i)&&(n=!0);s.z_=i}}n&&gE(r)}function n9(t,e,r){const n=Ze(t),i=n.queries.get(e);if(i)for(const a of i.j_)a.onError(r);n.queries.delete(e)}function gE(t){t.Y_.forEach(e=>{e.next()})}var uw,ok;(ok=uw||(uw={})).ea="default",ok.Cache="cache";class EM{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new xu(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=xu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==uw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e){this.key=e}}class TM{constructor(e){this.key=e}}class i9{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=rt(),this.mutatedKeys=rt(),this.Aa=zD(e),this.Ra=new fu(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new ik,i=r?r.Ra:this.Ra;let a=r?r.mutatedKeys:this.mutatedKeys,s=i,u=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{const v=i.get(h),b=Jm(this.query,p)?p:null,x=!!v&&this.mutatedKeys.has(v.key),w=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let E=!1;v&&b?v.data.isEqual(b.data)?x!==w&&(n.track({type:3,doc:b}),E=!0):this.ga(v,b)||(n.track({type:2,doc:b}),E=!0,(c&&this.Aa(b,c)>0||f&&this.Aa(b,f)<0)&&(u=!0)):!v&&b?(n.track({type:0,doc:b}),E=!0):v&&!b&&(n.track({type:1,doc:v}),E=!0,(c||f)&&(u=!0)),E&&(b?(s=s.add(b),a=w?a.add(h):a.delete(h)):(s=s.delete(h),a=a.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),a=a.delete(h.key),n.track({type:1,doc:h})}return{Ra:s,fa:n,ns:u,mutatedKeys:a}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((h,p)=>function(b,x){const w=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xe()}};return w(b)-w(x)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(n),i=i!=null&&i;const u=r&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,f=c!==this.Ea;return this.Ea=c,s.length!==0||f?{snapshot:new xu(this.query,e.Ra,a,s,e.mutatedKeys,c===0,f,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:u}:{wa:u}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new ik,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=rt(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new TM(n))}),this.da.forEach(n=>{e.has(n)||r.push(new SM(n))}),r}ba(e){this.Ta=e.Ts,this.da=rt();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return xu.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class a9{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class o9{constructor(e){this.key=e,this.va=!1}}class s9{constructor(e,r,n,i,a,s){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Xu(u=>qD(u),Qm),this.Ma=new Map,this.xa=new Set,this.Oa=new Wt(Le.comparator),this.Na=new Map,this.La=new sE,this.Ba={},this.ka=new Map,this.qa=_u.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function l9(t,e,r=!0){const n=CM(t);let i;const a=n.Fa.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await AM(n,e,r,!0),i}async function u9(t,e){const r=CM(t);await AM(r,e,!0,!1)}async function AM(t,e,r,n){const i=await C5(t.localStore,sa(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,r);let u;return n&&(u=await c9(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&r&&mM(t.remoteStore,i),u}async function c9(t,e,r,n,i){t.Ka=(p,v,b)=>async function(w,E,O,k){let I=E.view.ma(O);I.ns&&(I=await ek(w.localStore,E.query,!1).then(({documents:A})=>E.view.ma(A,I)));const $=k&&k.targetChanges.get(E.targetId),N=k&&k.targetMismatches.get(E.targetId)!=null,j=E.view.applyChanges(I,w.isPrimaryClient,$,N);return lk(w,E.targetId,j.wa),j.snapshot}(t,p,v,b);const a=await ek(t.localStore,e,!0),s=new i9(e,a.Ts),u=s.ma(a.documents),c=xd.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),f=s.applyChanges(u,t.isPrimaryClient,c);lk(t,r,f.wa);const h=new a9(e,r,s);return t.Fa.set(e,h),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),f.snapshot}async function f9(t,e,r){const n=Ze(t),i=n.Fa.get(e),a=n.Ma.get(i.targetId);if(a.length>1)return n.Ma.set(i.targetId,a.filter(s=>!Qm(s,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await lw(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&cE(n.remoteStore,i.targetId),cw(n,i.targetId)}).catch(yd)):(cw(n,i.targetId),await lw(n.localStore,i.targetId,!0))}async function d9(t,e){const r=Ze(t),n=r.Fa.get(e),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),cE(r.remoteStore,n.targetId))}async function h9(t,e,r){const n=_9(t);try{const i=await function(s,u){const c=Ze(s),f=br.now(),h=u.reduce((b,x)=>b.add(x.key),rt());let p,v;return c.persistence.runTransaction("Locally write mutations","readwrite",b=>{let x=Xa(),w=rt();return c.cs.getEntries(b,h).next(E=>{x=E,x.forEach((O,k)=>{k.isValidDocument()||(w=w.add(O))})}).next(()=>c.localDocuments.getOverlayedDocuments(b,x)).next(E=>{p=E;const O=[];for(const k of u){const I=Dq(k,p.get(k.key).overlayedDocument);I!=null&&O.push(new es(k.key,I,DD(I.value.mapValue),un.exists(!0)))}return c.mutationQueue.addMutationBatch(b,f,O,u)}).next(E=>{v=E;const O=E.applyToLocalDocumentSet(p,w);return c.documentOverlayCache.saveOverlays(b,E.batchId,O)})}).then(()=>({batchId:v.batchId,changes:HD(p)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(s,u,c){let f=s.Ba[s.currentUser.toKey()];f||(f=new Wt(ct)),f=f.insert(u,c),s.Ba[s.currentUser.toKey()]=f}(n,i.batchId,r),await Ed(n,i.changes),await ag(n.remoteStore)}catch(i){const a=mE(i,"Failed to persist write");r.reject(a)}}async function PM(t,e){const r=Ze(t);try{const n=await k5(r.localStore,e);e.targetChanges.forEach((i,a)=>{const s=r.Na.get(a);s&&(xt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?xt(s.va):i.removedDocuments.size>0&&(xt(s.va),s.va=!1))}),await Ed(r,n,e)}catch(n){await yd(n)}}function sk(t,e,r){const n=Ze(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach((a,s)=>{const u=s.view.Z_(e);u.snapshot&&i.push(u.snapshot)}),function(s,u){const c=Ze(s);c.onlineState=u;let f=!1;c.queries.forEach((h,p)=>{for(const v of p.j_)v.Z_(u)&&(f=!0)}),f&&gE(c)}(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function p9(t,e,r){const n=Ze(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Na.get(e),a=i&&i.key;if(a){let s=new Wt(Le.comparator);s=s.insert(a,Yr.newNoDocument(a,Qe.min()));const u=rt().add(a),c=new rg(Qe.min(),new Map,new Wt(ct),s,u);await PM(n,c),n.Oa=n.Oa.remove(a),n.Na.delete(e),yE(n)}else await lw(n.localStore,e,!1).then(()=>cw(n,e,r)).catch(yd)}async function m9(t,e){const r=Ze(t),n=e.batch.batchId;try{const i=await P5(r.localStore,e);IM(r,n,null),kM(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Ed(r,i)}catch(i){await yd(i)}}async function g9(t,e,r){const n=Ze(t);try{const i=await function(s,u){const c=Ze(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let h;return c.mutationQueue.lookupMutationBatch(f,u).next(p=>(xt(p!==null),h=p.keys(),c.mutationQueue.removeMutationBatch(f,p))).next(()=>c.mutationQueue.performConsistencyCheck(f)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(f,h,u)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,h)).next(()=>c.localDocuments.getDocuments(f,h))})}(n.localStore,e);IM(n,e,r),kM(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Ed(n,i)}catch(i){await yd(i)}}function kM(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function IM(t,e,r){const n=Ze(t);let i=n.Ba[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function cw(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||OM(t,n)})}function OM(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(cE(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),yE(t))}function lk(t,e,r){for(const n of r)n instanceof SM?(t.La.addReference(n.key,e),y9(t,n)):n instanceof TM?(Ce("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||OM(t,n.key)):Xe()}function y9(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(Ce("SyncEngine","New document in limbo: "+r),t.xa.add(n),yE(t))}function yE(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new Le(Mt.fromString(e)),n=t.qa.next();t.Na.set(n,new o9(r)),t.Oa=t.Oa.insert(r,n),mM(t.remoteStore,new Vo(sa(rE(r.path)),n,"TargetPurposeLimboResolution",X1.oe))}}async function Ed(t,e,r){const n=Ze(t),i=[],a=[],s=[];n.Fa.isEmpty()||(n.Fa.forEach((u,c)=>{s.push(n.Ka(c,e,r).then(f=>{var h;if((f||r)&&n.isPrimaryClient){const p=f?!f.fromCache:(h=r?.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;n.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(f){i.push(f);const p=uE.Wi(c.targetId,f);a.push(p)}}))}),await Promise.all(s),n.Ca.d_(i),await async function(c,f){const h=Ze(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>pe.forEach(f,v=>pe.forEach(v.$i,b=>h.persistence.referenceDelegate.addReference(p,v.targetId,b)).next(()=>pe.forEach(v.Ui,b=>h.persistence.referenceDelegate.removeReference(p,v.targetId,b)))))}catch(p){if(!vd(p))throw p;Ce("LocalStore","Failed to update sequence numbers: "+p)}for(const p of f){const v=p.targetId;if(!p.fromCache){const b=h.os.get(v),x=b.snapshotVersion,w=b.withLastLimboFreeSnapshotVersion(x);h.os=h.os.insert(v,w)}}}(n.localStore,a))}async function v9(t,e){const r=Ze(t);if(!r.currentUser.isEqual(e)){Ce("SyncEngine","User change. New user:",e.toKey());const n=await fM(r.localStore,e);r.currentUser=e,function(a,s){a.ka.forEach(u=>{u.forEach(c=>{c.reject(new Ae(ue.CANCELLED,s))})}),a.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Ed(r,n.hs)}}function b9(t,e){const r=Ze(t),n=r.Na.get(e);if(n&&n.va)return rt().add(n.key);{let i=rt();const a=r.Ma.get(e);if(!a)return i;for(const s of a){const u=r.Fa.get(s);i=i.unionWith(u.view.Va)}return i}}function CM(t){const e=Ze(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=PM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=b9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=p9.bind(null,e),e.Ca.d_=r9.bind(null,e.eventManager),e.Ca.$a=n9.bind(null,e.eventManager),e}function _9(t){const e=Ze(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=m9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=g9.bind(null,e),e}class zp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ng(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return A5(this.persistence,new S5,e.initialUser,this.serializer)}Ga(e){return new x5(lE.Zr,this.serializer)}Wa(e){return new R5}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zp.provider={build:()=>new zp};class fw{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>sk(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=v9.bind(null,this.syncEngine),await Z5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new t9}()}createDatastore(e){const r=ng(e.databaseInfo.databaseId),n=function(a){return new L5(a)}(e.databaseInfo);return function(a,s,u,c){return new V5(a,s,u,c)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,a,s,u){return new U5(n,i,a,s,u)}(this.localStore,this.datastore,e.asyncQueue,r=>sk(this.syncEngine,r,0),function(){return rk.D()?new rk:new j5}())}createSyncEngine(e,r){return function(i,a,s,u,c,f,h){const p=new s9(i,a,s,u,c,f);return h&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const a=Ze(i);Ce("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await wd(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}fw.provider={build:()=>new fw};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ya("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x9{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=Gr.UNAUTHENTICATED,this.clientId=ND.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async s=>{Ce("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(Ce("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=mE(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Lv(t,e){t.asyncQueue.verifyOperationInProgress(),Ce("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await fM(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function uk(t,e){t.asyncQueue.verifyOperationInProgress();const r=await w9(t);Ce("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>nk(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>nk(e.remoteStore,i)),t._onlineComponents=e}async function w9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ce("FirestoreClient","Using user provided OfflineComponentProvider");try{await Lv(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===ue.FAILED_PRECONDITION||i.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;gu("Error using user provided cache. Falling back to memory cache: "+r),await Lv(t,new zp)}}else Ce("FirestoreClient","Using default OfflineComponentProvider"),await Lv(t,new zp);return t._offlineComponents}async function RM(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ce("FirestoreClient","Using user provided OnlineComponentProvider"),await uk(t,t._uninitializedComponentsProvider._online)):(Ce("FirestoreClient","Using default OnlineComponentProvider"),await uk(t,new fw))),t._onlineComponents}function E9(t){return RM(t).then(e=>e.syncEngine)}async function dw(t){const e=await RM(t),r=e.eventManager;return r.onListen=l9.bind(null,e.syncEngine),r.onUnlisten=f9.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=u9.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=d9.bind(null,e.syncEngine),r}function S9(t,e,r={}){const n=new zo;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,u,c,f){const h=new NM({next:v=>{h.Za(),s.enqueueAndForget(()=>wM(a,p)),v.fromCache&&c.source==="server"?f.reject(new Ae(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),p=new EM(u,h,{includeMetadataChanges:!0,_a:!0});return xM(a,p)}(await dw(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DM(t,e,r){if(!r)throw new Ae(ue.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function T9(t,e,r,n){if(e===!0&&n===!0)throw new Ae(ue.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function fk(t){if(!Le.isDocumentKey(t))throw new Ae(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function dk(t){if(Le.isDocumentKey(t))throw new Ae(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function og(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Xe()}function qn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ae(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=og(t);throw new Ae(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Ae(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ae(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}T9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jM((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ae(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ae(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ae(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sg{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hk({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ae(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ae(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hk(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new qU;switch(n.type){case"firstParty":return new KU(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ae(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=ck.get(r);n&&(Ce("ComponentProvider","Removing Datastore"),ck.delete(r),n.terminate())}(this),Promise.resolve()}}function A9(t,e,r,n={}){var i;const a=(t=qn(t,sg))._getSettings(),s=`${e}:${r}`;if(a.host!=="firestore.googleapis.com"&&a.host!==s&&gu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:s,ssl:!1})),n.mockUserToken){let u,c;if(typeof n.mockUserToken=="string")u=n.mockUserToken,c=Gr.MOCK_USER;else{u=$2(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=n.mockUserToken.sub||n.mockUserToken.user_id;if(!f)throw new Ae(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Gr(f)}t._authCredentials=new zU(new CD(u,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new ll(this.firestore,e,this._query)}}class cn{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}}class Wo extends ll{constructor(e,r,n){super(e,r,rE(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new Le(e))}withConverter(e){return new Wo(this.firestore,e,this._path)}}function pr(t,e,...r){if(t=Lt(t),DM("collection","path",e),t instanceof sg){const n=Mt.fromString(e,...r);return dk(n),new Wo(t,null,n)}{if(!(t instanceof cn||t instanceof Wo))throw new Ae(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Mt.fromString(e,...r));return dk(n),new Wo(t.firestore,null,n)}}function Vt(t,e,...r){if(t=Lt(t),arguments.length===1&&(e=ND.newId()),DM("doc","path",e),t instanceof sg){const n=Mt.fromString(e,...r);return fk(n),new cn(t,null,new Le(n))}{if(!(t instanceof cn||t instanceof Wo))throw new Ae(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Mt.fromString(e,...r));return fk(n),new cn(t.firestore,t instanceof Wo?t.converter:null,new Le(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new hM(this,"async_queue_retry"),this.Vu=()=>{const n=Mv();n&&Ce("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=Mv();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=Mv();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new zo;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!vd(e))throw e;Ce("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const i=function(s){let u=s.message||"";return s.stack&&(u=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),u}(n);throw Ya("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const i=pE.createAndSchedule(this,e,r,n,a=>this.yu(a));return this.Tu.push(i),i}fu(){this.Eu&&Xe()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function mk(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class Qa extends sg{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new pk,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pk(e),this._firestoreClient=void 0,await e}}}function P9(t,e){const r=typeof t=="object"?t:F1(),n=typeof t=="string"?t:"(default)",i=Hm(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=D2("firestore");a&&A9(i,...a)}return i}function lg(t){if(t._terminated)throw new Ae(ue.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||k9(t),t._firestoreClient}function k9(t){var e,r,n;const i=t._freezeSettings(),a=function(u,c,f,h){return new oq(u,c,f,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,jM(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new x9(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(u){const c=u?._online.build();return{_offline:u?._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wu(Fr.fromBase64String(e))}catch(r){throw new Ae(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new wu(Fr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Ae(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Ae(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Ae(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ct(this._lat,e._lat)||ct(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I9=/^__.*__$/;class O9{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new es(e,this.data,this.fieldMask,r,this.fieldTransforms):new _d(e,this.data,r,this.fieldTransforms)}}class MM{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new es(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function LM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xe()}}class _E{constructor(e,r,n,i,a,s){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new _E(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Wp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(LM(this.Cu)&&I9.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class C9{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||ng(e)}Qu(e,r,n,i=!1){return new _E({Cu:e,methodName:r,qu:n,path:Lr.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Td(t){const e=t._freezeSettings(),r=ng(t._databaseId);return new C9(t._databaseId,!!e.ignoreUndefinedProperties,r)}function xE(t,e,r,n,i,a={}){const s=t.Qu(a.merge||a.mergeFields?2:0,e,r,i);EE("Data must be an object, but it was:",s,n);const u=VM(n,s);let c,f;if(a.merge)c=new Bn(s.fieldMask),f=s.fieldTransforms;else if(a.mergeFields){const h=[];for(const p of a.mergeFields){const v=hw(e,p,r);if(!s.contains(v))throw new Ae(ue.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);UM(h,v)||h.push(v)}c=new Bn(h),f=s.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,f=s.fieldTransforms;return new O9(new wn(u),c,f)}class cg extends ug{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof cg}}class wE extends ug{_toFieldTransform(e){return new Cq(e.path,new Pf)}isEqual(e){return e instanceof wE}}function $M(t,e,r,n){const i=t.Qu(1,e,r);EE("Data must be an object, but it was:",i,n);const a=[],s=wn.empty();ol(n,(c,f)=>{const h=SE(e,c,r);f=Lt(f);const p=i.Nu(h);if(f instanceof cg)a.push(h);else{const v=Ad(f,p);v!=null&&(a.push(h),s.set(h,v))}});const u=new Bn(a);return new MM(s,u,i.fieldTransforms)}function FM(t,e,r,n,i,a){const s=t.Qu(1,e,r),u=[hw(e,n,r)],c=[i];if(a.length%2!=0)throw new Ae(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<a.length;v+=2)u.push(hw(e,a[v])),c.push(a[v+1]);const f=[],h=wn.empty();for(let v=u.length-1;v>=0;--v)if(!UM(f,u[v])){const b=u[v];let x=c[v];x=Lt(x);const w=s.Nu(b);if(x instanceof cg)f.push(b);else{const E=Ad(x,w);E!=null&&(f.push(b),h.set(b,E))}}const p=new Bn(f);return new MM(h,p,s.fieldTransforms)}function N9(t,e,r,n=!1){return Ad(r,t.Qu(n?4:3,e))}function Ad(t,e){if(BM(t=Lt(t)))return EE("Unsupported field value:",e,t),VM(t,e);if(t instanceof ug)return function(n,i){if(!LM(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,i){const a=[];let s=0;for(const u of n){let c=Ad(u,i.Lu(s));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),s++}return{arrayValue:{values:a}}}(t,e)}return function(n,i){if((n=Lt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return kq(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=br.fromDate(n);return{timestampValue:Up(i.serializer,a)}}if(n instanceof br){const a=new br(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Up(i.serializer,a)}}if(n instanceof vE)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof wu)return{bytesValue:iM(i.serializer,n._byteString)};if(n instanceof cn){const a=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(a))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:oE(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof bE)return function(s,u){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw u.Bu("VectorValues must only contain numeric values.");return nE(u.serializer,c)})}}}}}}(n,i);throw i.Bu(`Unsupported field value: ${og(n)}`)}(t,e)}function VM(t,e){const r={};return RD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ol(t,(n,i)=>{const a=Ad(i,e.Mu(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function BM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof br||t instanceof vE||t instanceof wu||t instanceof cn||t instanceof ug||t instanceof bE)}function EE(t,e,r){if(!BM(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=og(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function hw(t,e,r){if((e=Lt(e))instanceof Sd)return e._internalPath;if(typeof e=="string")return SE(t,e);throw Wp("Field path arguments must be of type string or ",t,!1,void 0,r)}const R9=new RegExp("[~\\*/\\[\\]]");function SE(t,e,r){if(e.search(R9)>=0)throw Wp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Sd(...e.split("."))._internalPath}catch{throw Wp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Wp(t,e,r,n,i){const a=n&&!n.isEmpty(),s=i!==void 0;let u=`Function ${e}() called with invalid data`;r&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(a||s)&&(c+=" (found",a&&(c+=` in field ${n}`),s&&(c+=` in document ${i}`),c+=")"),new Ae(ue.INVALID_ARGUMENT,u+t+c)}function UM(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new j9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(zM("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class j9 extends qM{data(){return super.data()}}function zM(t,e){return typeof e=="string"?SE(t,e):e instanceof Sd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ae(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class TE{}class D9 extends TE{}function M9(t,e,...r){let n=[];e instanceof TE&&n.push(e),n=n.concat(r),function(a){const s=a.filter(c=>c instanceof PE).length,u=a.filter(c=>c instanceof AE).length;if(s>1||s>0&&u>0)throw new Ae(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class AE extends D9{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new AE(e,r,n)}_apply(e){const r=this._parse(e);return HM(e._query,r),new ll(e.firestore,e.converter,rw(e._query,r))}_parse(e){const r=Td(e.firestore);return function(a,s,u,c,f,h,p){let v;if(f.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Ae(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){yk(p,h);const b=[];for(const x of p)b.push(gk(c,a,x));v={arrayValue:{values:b}}}else v=gk(c,a,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||yk(p,h),v=N9(u,s,p,h==="in"||h==="not-in");return lr.create(f,h,v)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}class PE extends TE{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new PE(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Li.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,a){let s=i;const u=a.getFlattenedFilters();for(const c of u)HM(s,c),s=rw(s,c)}(e._query,r),new ll(e.firestore,e.converter,rw(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function gk(t,e,r){if(typeof(r=Lt(r))=="string"){if(r==="")throw new Ae(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!UD(e)&&r.indexOf("/")!==-1)throw new Ae(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Mt.fromString(r));if(!Le.isDocumentKey(n))throw new Ae(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return LP(t,new Le(n))}if(r instanceof cn)return LP(t,r._key);throw new Ae(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${og(r)}.`)}function yk(t,e){if(!Array.isArray(t)||t.length===0)throw new Ae(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function HM(t,e){const r=function(i,a){for(const s of i)for(const u of s.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new Ae(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ae(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class L9{convertValue(e,r="none"){switch(Xs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Xe()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return ol(e,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(e){var r,n,i;const a=(i=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(s=>tr(s.doubleValue));return new bE(a)}convertGeoPoint(e){return new vE(tr(e.latitude),tr(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=J1(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Sf(e));default:return null}}convertTimestamp(e){const r=Yo(e);return new br(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Mt.fromString(e);xt(cM(n));const i=new Tf(n.get(1),n.get(3)),a=new Le(n.popFirst(5));return i.isEqual(r)||Ya(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class KM extends qM{constructor(e,r,n,i,a,s){super(e,r,n,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new kp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(zM("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class kp extends KM{data(e={}){return super.data(e)}}class GM{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new tf(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new kp(this._firestore,this._userDataWriter,n.key,n,new tf(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Ae(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(u=>{const c=new kp(i._firestore,i._userDataWriter,u.doc.key,u.doc,new tf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>a||u.type!==3).map(u=>{const c=new kp(i._firestore,i._userDataWriter,u.doc.key,u.doc,new tf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,h=-1;return u.type!==0&&(f=s.indexOf(u.doc.key),s=s.delete(u.doc.key)),u.type!==1&&(s=s.add(u.doc),h=s.indexOf(u.doc.key)),{type:$9(u.type),doc:c,oldIndex:f,newIndex:h}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function $9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xe()}}class IE extends L9{constructor(e){super(),this.firestore=e}convertBytes(e){return new wu(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,r)}}function F9(t){t=qn(t,ll);const e=qn(t.firestore,Qa),r=lg(e),n=new IE(e);return WM(t._query),S9(r,t._query).then(i=>new GM(e,n,t,i))}function V9(t,e,r){t=qn(t,cn);const n=qn(t.firestore,Qa),i=kE(t.converter,e,r);return Pd(n,[xE(Td(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,un.none())])}function vk(t,e,r,...n){t=qn(t,cn);const i=qn(t.firestore,Qa),a=Td(i);let s;return s=typeof(e=Lt(e))=="string"||e instanceof Sd?FM(a,"updateDoc",t._key,e,r,n):$M(a,"updateDoc",t._key,e),Pd(i,[s.toMutation(t._key,un.exists(!0))])}function B9(t){return Pd(qn(t.firestore,Qa),[new tg(t._key,un.none())])}function U9(t,e){const r=qn(t.firestore,Qa),n=Vt(t),i=kE(t.converter,e);return Pd(r,[xE(Td(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,un.exists(!1))]).then(()=>n)}function bk(t,...e){var r,n,i;t=Lt(t);let a={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||mk(e[s])||(a=e[s],s++);const u={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(mk(e[s])){const p=e[s];e[s]=(r=p.next)===null||r===void 0?void 0:r.bind(p),e[s+1]=(n=p.error)===null||n===void 0?void 0:n.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let c,f,h;if(t instanceof cn)f=qn(t.firestore,Qa),h=rE(t._key.path),c={next:p=>{e[s]&&e[s](q9(f,t,p))},error:e[s+1],complete:e[s+2]};else{const p=qn(t,ll);f=qn(p.firestore,Qa),h=p._query;const v=new IE(f);c={next:b=>{e[s]&&e[s](new GM(f,v,p,b))},error:e[s+1],complete:e[s+2]},WM(t._query)}return function(v,b,x,w){const E=new NM(w),O=new EM(b,E,x);return v.asyncQueue.enqueueAndForget(async()=>xM(await dw(v),O)),()=>{E.Za(),v.asyncQueue.enqueueAndForget(async()=>wM(await dw(v),O))}}(lg(f),h,u,c)}function Pd(t,e){return function(n,i){const a=new zo;return n.asyncQueue.enqueueAndForget(async()=>h9(await E9(n),i,a)),a.promise}(lg(t),e)}function q9(t,e,r){const n=r.docs.get(e._key),i=new IE(t);return new KM(t,i,e._key,n,new tf(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Td(e)}set(e,r,n){this._verifyNotCommitted();const i=$v(e,this._firestore),a=kE(i.converter,r,n),s=xE(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,n);return this._mutations.push(s.toMutation(i._key,un.none())),this}update(e,r,n,...i){this._verifyNotCommitted();const a=$v(e,this._firestore);let s;return s=typeof(r=Lt(r))=="string"||r instanceof Sd?FM(this._dataReader,"WriteBatch.update",a._key,r,n,i):$M(this._dataReader,"WriteBatch.update",a._key,r),this._mutations.push(s.toMutation(a._key,un.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=$v(e,this._firestore);return this._mutations=this._mutations.concat(new tg(r._key,un.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ae(ue.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function $v(t,e){if((t=Lt(t)).firestore!==e)throw new Ae(ue.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Tr(){return new wE("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function np(t){return lg(t=qn(t,Qa)),new z9(t,e=>Pd(t,e))}(function(e,r=!0){(function(i){Yu=i})(il),Ws(new Ko("firestore",(n,{instanceIdentifier:i,options:a})=>{const s=n.getProvider("app").getImmediate(),u=new Qa(new WU(n.getProvider("auth-internal")),new YU(n.getProvider("app-check-internal")),function(f,h){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Ae(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tf(f.options.projectId,h)}(s,i),s);return a=Object.assign({useFetchStreams:r},a),u._setSettings(a),u},"PUBLIC").setMultipleInstances(!0)),ia(NP,"4.7.3",e),ia(NP,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM="firebasestorage.googleapis.com",XM="storageBucket",W9=2*60*1e3,H9=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt extends ma{constructor(e,r,n=0){super(Fv(e),`Firebase Storage: ${r} (${Fv(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Qt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Fv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Xt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Xt||(Xt={}));function Fv(t){return"storage/"+t}function OE(){const t="An unknown error occurred, please check the error payload for server response.";return new Qt(Xt.UNKNOWN,t)}function K9(t){return new Qt(Xt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function G9(t){return new Qt(Xt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Y9(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Qt(Xt.UNAUTHENTICATED,t)}function X9(){return new Qt(Xt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Q9(t){return new Qt(Xt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function J9(){return new Qt(Xt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Z9(){return new Qt(Xt.CANCELED,"User canceled the upload/download.")}function ez(t){return new Qt(Xt.INVALID_URL,"Invalid URL '"+t+"'.")}function tz(t){return new Qt(Xt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function rz(){return new Qt(Xt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+XM+"' property when initializing the app?")}function nz(){return new Qt(Xt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function iz(){return new Qt(Xt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function az(t){return new Qt(Xt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function pw(t){return new Qt(Xt.INVALID_ARGUMENT,t)}function QM(){return new Qt(Xt.APP_DELETED,"The Firebase app was deleted.")}function oz(t){return new Qt(Xt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function df(t,e){return new Qt(Xt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Vc(t){throw new Qt(Xt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=Un.makeFromUrl(e,r)}catch{return new Un(e,"")}if(n.path==="")return n;throw tz(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function a($){$.path.charAt($.path.length-1)==="/"&&($.path_=$.path_.slice(0,-1))}const s="(/(.*))?$",u=new RegExp("^gs://"+i+s,"i"),c={bucket:1,path:3};function f($){$.path_=decodeURIComponent($.path)}const h="v[A-Za-z0-9_]+",p=r.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",b=new RegExp(`^https?://${p}/${h}/b/${i}/o${v}`,"i"),x={bucket:1,path:3},w=r===YM?"(?:storage.googleapis.com|storage.cloud.google.com)":r,E="([^?#]*)",O=new RegExp(`^https?://${w}/${i}/${E}`,"i"),I=[{regex:u,indices:c,postModify:a},{regex:b,indices:x,postModify:f},{regex:O,indices:{bucket:1,path:2},postModify:f}];for(let $=0;$<I.length;$++){const N=I[$],j=N.regex.exec(e);if(j){const A=j[N.indices.bucket];let P=j[N.indices.path];P||(P=""),n=new Un(A,P),N.postModify(n);break}}if(n==null)throw ez(e);return n}}class sz{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lz(t,e,r){let n=1,i=null,a=null,s=!1,u=0;function c(){return u===2}let f=!1;function h(...E){f||(f=!0,e.apply(null,E))}function p(E){i=setTimeout(()=>{i=null,t(b,c())},E)}function v(){a&&clearTimeout(a)}function b(E,...O){if(f){v();return}if(E){v(),h.call(null,E,...O);return}if(c()||s){v(),h.call(null,E,...O);return}n<64&&(n*=2);let I;u===1?(u=2,I=0):I=(n+Math.random())*1e3,p(I)}let x=!1;function w(E){x||(x=!0,v(),!f&&(i!==null?(E||(u=2),clearTimeout(i),p(0)):E||(u=1)))}return p(0),a=setTimeout(()=>{s=!0,w(!0)},r),w}function uz(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cz(t){return t!==void 0}function fz(t){return typeof t=="object"&&!Array.isArray(t)}function CE(t){return typeof t=="string"||t instanceof String}function _k(t){return NE()&&t instanceof Blob}function NE(){return typeof Blob<"u"}function xk(t,e,r,n){if(n<e)throw pw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw pw(`Invalid value for '${t}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(t,e,r){let n=e;return r==null&&(n=`https://${e}`),`${r}://${n}/v0${t}`}function JM(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var Vs;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Vs||(Vs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dz(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return r||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hz{constructor(e,r,n,i,a,s,u,c,f,h,p,v=!0){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=u,this.errorCallback_=c,this.timeout_=f,this.progressCallback_=h,this.connectionFactory_=p,this.retry=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,x)=>{this.resolve_=b,this.reject_=x,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new ip(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const s=u=>{const c=u.loaded,f=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,f)};this.progressCallback_!==null&&a.addUploadProgressListener(s),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(s),this.pendingConnection_=null;const u=a.getErrorCode()===Vs.NO_ERROR,c=a.getStatus();if(!u||dz(c,this.additionalRetryCodes_)&&this.retry){const h=a.getErrorCode()===Vs.ABORT;n(!1,new ip(!1,null,h));return}const f=this.successCodes_.indexOf(c)!==-1;n(!0,new ip(f,a))})},r=(n,i)=>{const a=this.resolve_,s=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(u,u.getResponse());cz(c)?a(c):a()}catch(c){s(c)}else if(u!==null){const c=OE();c.serverResponse=u.getErrorText(),this.errorCallback_?s(this.errorCallback_(u,c)):s(c)}else if(i.canceled){const c=this.appDelete_?QM():Z9();s(c)}else{const c=J9();s(c)}};this.canceled_?r(!1,new ip(!1,null,!0)):this.backoffId_=lz(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&uz(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ip{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function pz(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function mz(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function gz(t,e){e&&(t["X-Firebase-GMPID"]=e)}function yz(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function vz(t,e,r,n,i,a,s=!0){const u=JM(t.urlParams),c=t.url+u,f=Object.assign({},t.headers);return gz(f,e),pz(f,r),mz(f,a),yz(f,n),new hz(c,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bz(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function _z(...t){const e=bz();if(e!==void 0){const r=new e;for(let n=0;n<t.length;n++)r.append(t[n]);return r.getBlob()}else{if(NE())return new Blob(t);throw new Qt(Xt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function xz(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.mozSlice?t.mozSlice(e,r):t.slice?t.slice(e,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wz(t){if(typeof atob>"u")throw az("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Vv{constructor(e,r){this.data=e,this.contentType=r||null}}function Ez(t,e){switch(t){case ra.RAW:return new Vv(ZM(e));case ra.BASE64:case ra.BASE64URL:return new Vv(eL(t,e));case ra.DATA_URL:return new Vv(Tz(e),Az(e))}throw OE()}function ZM(t){const e=[];for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(r<t.length-1&&(t.charCodeAt(r+1)&64512)===56320))e.push(239,191,189);else{const a=n,s=t.charCodeAt(++r);n=65536|(a&1023)<<10|s&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function Sz(t){let e;try{e=decodeURIComponent(t)}catch{throw df(ra.DATA_URL,"Malformed data URL.")}return ZM(e)}function eL(t,e){switch(t){case ra.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw df(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ra.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw df(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=wz(e)}catch(i){throw i.message.includes("polyfill")?i:df(t,"Invalid character found")}const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}class tL{constructor(e){this.base64=!1,this.contentType=null;const r=e.match(/^data:([^,]+)?,/);if(r===null)throw df(ra.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=r[1]||null;n!=null&&(this.base64=Pz(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function Tz(t){const e=new tL(t);return e.base64?eL(ra.BASE64,e.rest):Sz(e.rest)}function Az(t){return new tL(t).contentType}function Pz(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,r){let n=0,i="";_k(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,r){if(_k(this.data_)){const n=this.data_,i=xz(n,e,r);return i===null?null:new $o(i)}else{const n=new Uint8Array(this.data_.buffer,e,r-e);return new $o(n,!0)}}static getBlob(...e){if(NE()){const r=e.map(n=>n instanceof $o?n.data_:n);return new $o(_z.apply(null,r))}else{const r=e.map(s=>CE(s)?Ez(ra.RAW,s).data:s.data_);let n=0;r.forEach(s=>{n+=s.byteLength});const i=new Uint8Array(n);let a=0;return r.forEach(s=>{for(let u=0;u<s.length;u++)i[a++]=s[u]}),new $o(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rL(t){let e;try{e=JSON.parse(t)}catch{return null}return fz(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kz(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Iz(t,e){const r=e.split("/").filter(n=>n.length>0).join("/");return t.length===0?r:t+"/"+r}function nL(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oz(t,e){return e}class an{constructor(e,r,n,i){this.server=e,this.local=r||e,this.writable=!!n,this.xform=i||Oz}}let ap=null;function Cz(t){return!CE(t)||t.length<2?t:nL(t)}function iL(){if(ap)return ap;const t=[];t.push(new an("bucket")),t.push(new an("generation")),t.push(new an("metageneration")),t.push(new an("name","fullPath",!0));function e(a,s){return Cz(s)}const r=new an("name");r.xform=e,t.push(r);function n(a,s){return s!==void 0?Number(s):s}const i=new an("size");return i.xform=n,t.push(i),t.push(new an("timeCreated")),t.push(new an("updated")),t.push(new an("md5Hash",null,!0)),t.push(new an("cacheControl",null,!0)),t.push(new an("contentDisposition",null,!0)),t.push(new an("contentEncoding",null,!0)),t.push(new an("contentLanguage",null,!0)),t.push(new an("contentType",null,!0)),t.push(new an("metadata","customMetadata",!0)),ap=t,ap}function Nz(t,e){function r(){const n=t.bucket,i=t.fullPath,a=new Un(n,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:r})}function Rz(t,e,r){const n={};n.type="file";const i=r.length;for(let a=0;a<i;a++){const s=r[a];n[s.local]=s.xform(n,e[s.server])}return Nz(n,t),n}function aL(t,e,r){const n=rL(e);return n===null?null:Rz(t,n,r)}function jz(t,e,r,n){const i=rL(e);if(i===null||!CE(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const s=encodeURIComponent;return a.split(",").map(f=>{const h=t.bucket,p=t.fullPath,v="/b/"+s(h)+"/o/"+s(p),b=RE(v,r,n),x=JM({alt:"media",token:f});return b+x})[0]}function Dz(t,e){const r={},n=e.length;for(let i=0;i<n;i++){const a=e[i];a.writable&&(r[a.server]=t[a.local])}return JSON.stringify(r)}class oL{constructor(e,r,n,i){this.url=e,this.method=r,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sL(t){if(!t)throw OE()}function Mz(t,e){function r(n,i){const a=aL(t,i,e);return sL(a!==null),a}return r}function Lz(t,e){function r(n,i){const a=aL(t,i,e);return sL(a!==null),jz(a,i,t.host,t._protocol)}return r}function lL(t){function e(r,n){let i;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?i=X9():i=Y9():r.getStatus()===402?i=G9(t.bucket):r.getStatus()===403?i=Q9(t.path):i=n,i.status=r.getStatus(),i.serverResponse=n.serverResponse,i}return e}function $z(t){const e=lL(t);function r(n,i){let a=e(n,i);return n.getStatus()===404&&(a=K9(t.path)),a.serverResponse=i.serverResponse,a}return r}function Fz(t,e,r){const n=e.fullServerUrl(),i=RE(n,t.host,t._protocol),a="GET",s=t.maxOperationRetryTime,u=new oL(i,a,Lz(t,r),s);return u.errorHandler=$z(e),u}function Vz(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Bz(t,e,r){const n=Object.assign({},r);return n.fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=Vz(null,e)),n}function Uz(t,e,r,n,i){const a=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function u(){let I="";for(let $=0;$<2;$++)I=I+Math.random().toString().slice(2);return I}const c=u();s["Content-Type"]="multipart/related; boundary="+c;const f=Bz(e,n,i),h=Dz(f,r),p="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+c+`\r
Content-Type: `+f.contentType+`\r
\r
`,v=`\r
--`+c+"--",b=$o.getBlob(p,n,v);if(b===null)throw nz();const x={name:f.fullPath},w=RE(a,t.host,t._protocol),E="POST",O=t.maxUploadRetryTime,k=new oL(w,E,Mz(t,r),O);return k.urlParams=x,k.headers=s,k.body=b.uploadData(),k.errorHandler=lL(e),k}class qz{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Vs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Vs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Vs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,n,i){if(this.sent_)throw Vc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,e,!0),i!==void 0)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return n!==void 0?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Vc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Vc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Vc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Vc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class zz extends qz{initXhr(){this.xhr_.responseType="text"}}function uL(){return new zz}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,r){this._service=e,r instanceof Un?this._location=r:this._location=Un.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new Qs(e,r)}get root(){const e=new Un(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return nL(this._location.path)}get storage(){return this._service}get parent(){const e=kz(this._location.path);if(e===null)return null;const r=new Un(this._location.bucket,e);return new Qs(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw oz(e)}}function Wz(t,e,r){t._throwIfRoot("uploadBytes");const n=Uz(t.storage,t._location,iL(),new $o(e,!0),r);return t.storage.makeRequestWithTokens(n,uL).then(i=>({metadata:i,ref:t}))}function Hz(t){t._throwIfRoot("getDownloadURL");const e=Fz(t.storage,t._location,iL());return t.storage.makeRequestWithTokens(e,uL).then(r=>{if(r===null)throw iz();return r})}function Kz(t,e){const r=Iz(t._location.path,e),n=new Un(t._location.bucket,r);return new Qs(t.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gz(t){return/^[A-Za-z]+:\/\//.test(t)}function Yz(t,e){return new Qs(t,e)}function cL(t,e){if(t instanceof jE){const r=t;if(r._bucket==null)throw rz();const n=new Qs(r,r._bucket);return e!=null?cL(n,e):n}else return e!==void 0?Kz(t,e):t}function Xz(t,e){if(e&&Gz(e)){if(t instanceof jE)return Yz(t,e);throw pw("To use ref(service, url), the first argument must be a Storage instance.")}else return cL(t,e)}function wk(t,e){const r=e?.[XM];return r==null?null:Un.makeFromBucketSpec(r,t)}function Qz(t,e,r,n={}){t.host=`${e}:${r}`,t._protocol="http";const{mockUserToken:i}=n;i&&(t._overrideAuthToken=typeof i=="string"?i:$2(i,t.app.options.projectId))}class jE{constructor(e,r,n,i,a){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=YM,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=W9,this._maxUploadRetryTime=H9,this._requests=new Set,i!=null?this._bucket=Un.makeFromBucketSpec(i,this._host):this._bucket=wk(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Un.makeFromBucketSpec(this._url,e):this._bucket=wk(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){xk("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){xk("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Qs(this,e)}_makeRequest(e,r,n,i,a=!0){if(this._deleted)return new sz(QM());{const s=vz(e,this._appId,n,i,r,this._firebaseVersion,a);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const Ek="@firebase/storage",Sk="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL="storage";function Jz(t,e,r){return t=Lt(t),Wz(t,e,r)}function Zz(t){return t=Lt(t),Hz(t)}function e8(t,e){return t=Lt(t),Xz(t,e)}function t8(t=F1(),e){t=Lt(t);const n=Hm(t,fL).getImmediate({identifier:e}),i=D2("storage");return i&&r8(n,...i),n}function r8(t,e,r,n={}){Qz(t,e,r,n)}function n8(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new jE(r,n,i,e,il)}function i8(){Ws(new Ko(fL,n8,"PUBLIC").setMultipleInstances(!0)),ia(Ek,Sk,""),ia(Ek,Sk,"esm2017")}i8();function Tk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Hp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Tk(Object(r),!0).forEach(function(n){dL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Tk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dL(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a8(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function o8(t,e){if(t==null)return{};var r=a8(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function du(t,e){return s8(t)||l8(t,e)||u8(t,e)||c8()}function s8(t){if(Array.isArray(t))return t}function l8(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,s,u;try{for(r=r.call(t);!(i=(s=r.next()).done)&&(n.push(s.value),!(e&&n.length===e));i=!0);}catch(c){a=!0,u=c}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw u}}return n}}function u8(t,e){if(t){if(typeof t=="string")return Ak(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ak(t,e)}}function Ak(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function c8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var f8=["src","checkForExisting"],rf={},Pk=function(e){var r=document.querySelector('script[src="'.concat(e,'"]'));if(r)return rf[e]={loading:!1,error:null,scriptEl:r}},kk=typeof window<"u"&&typeof window.document<"u";function d8(t){var e=t.src,r=t.checkForExisting,n=r===void 0?!1:r,i=o8(t,f8),a=e?rf[e]:void 0;!a&&n&&e&&kk&&(a=Pk(e));var s=K.useState(a?a.loading:!!e),u=du(s,2),c=u[0],f=u[1],h=K.useState(a?a.error:null),p=du(h,2),v=p[0],b=p[1],x=K.useState(!1),w=du(x,2),E=w[0],O=w[1];return K.useEffect(function(){if(!(!kk||!e||E||v)){a=rf[e],!a&&n&&(a=Pk(e));var k;a?k=a.scriptEl:(k=document.createElement("script"),k.src=e,Object.keys(i).forEach(function(N){k[N]===void 0?k.setAttribute(N,i[N]):k[N]=i[N]}),a=rf[e]={loading:!0,error:null,scriptEl:k});var I=function(){a&&(a.loading=!1),f(!1),O(!0)},$=function(j){a&&(a.error=j),b(j)};return k.addEventListener("load",I),k.addEventListener("error",$),document.body.appendChild(k),function(){k.removeEventListener("load",I),k.removeEventListener("error",$),a&&a.loading&&(k.remove(),delete rf[e])}}},[e]),[c,v]}var h8=function(e,r,n){var i={};return delete Object.assign(i,e,dL({},n,e[r]))[r],i},p8=function(e,r){var n={plaid:null,open:!1,onExitCallback:null};if(typeof window>"u"||!window.Plaid)throw new Error("Plaid not loaded");n.plaid=r(Hp(Hp({},e),{},{onExit:function(f,h){n.open=!1,e.onExit&&e.onExit(f,h),n.onExitCallback&&n.onExitCallback()}}));var i=function(){n.plaid&&(n.open=!0,n.onExitCallback=null,n.plaid.open())},a=function(f){n.plaid&&n.plaid.submit(f)},s=function(f,h){if(!n.open||!n.plaid){h&&h();return}n.onExitCallback=h,n.plaid.exit(f),f&&f.force&&(n.open=!1)},u=function(){n.plaid&&(n.plaid.destroy(),n.plaid=null)};return{open:i,submit:a,exit:s,destroy:u}},m8=function(e,r){var n=h8(e,"publicKey","key");return p8(n,r)},g8="https://cdn.plaid.com/link/v2/stable/link-initialize.js",Ik=function(){},y8=function(e){var r=d8({src:g8,checkForExisting:!0}),n=du(r,2),i=n[0],a=n[1],s=K.useState(null),u=du(s,2),c=u[0],f=u[1],h=K.useState(!1),p=du(h,2),v=p[0],b=p[1],x=(e.product||[]).slice().sort().join(",");K.useEffect(function(){if(!i&&!(!e.token&&!e.publicKey&&!e.receivedRedirectUri)){if(a||!window.Plaid){console.error("Error loading Plaid",a);return}c?.exit({force:!0},function(){return c.destroy()});var O=m8(Hp(Hp({},e),{},{onLoad:function(){b(!0),e.onLoad&&e.onLoad()}}),window.Plaid.create);return f(O),function(){return O.exit({force:!0},function(){return O.destroy()})}}},[i,a,e.publicKey,e.token,x]);var w=c!=null&&(!i||v),E=function(){e.token||console.warn("react-plaid-link: You cannot call open() without a valid token supplied to usePlaidLink. This is a no-op.")};return{error:a,ready:w,submit:c?c.submit:Ik,exit:c?c.exit:Ik,open:c?c.open:E}},Ok;(function(t){t.OPEN="OPEN",t.EXIT="EXIT",t.HANDOFF="HANDOFF",t.SELECT_INSTITUTION="SELECT_INSTITUTION",t.ERROR="ERROR",t.BANK_INCOME_INSIGHTS_COMPLETED="BANK_INCOME_INSIGHTS_COMPLETED",t.IDENTITY_VERIFICATION_PASS_SESSION="IDENTITY_VERIFICATION_PASS_SESSION",t.IDENTITY_VERIFICATION_FAIL_SESSION="IDENTITY_VERIFICATION_FAIL_SESSION"})(Ok||(Ok={}));/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v8=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hL=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var b8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _8=K.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:s,...u},c)=>K.createElement("svg",{ref:c,...b8,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:hL("lucide",i),...u},[...s.map(([f,h])=>K.createElement(f,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=(t,e)=>{const r=K.forwardRef(({className:n,...i},a)=>K.createElement(_8,{ref:a,iconNode:e,className:hL(`lucide-${v8(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x8=bt("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w8=bt("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E8=bt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S8=bt("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pL=bt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T8=bt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A8=bt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P8=bt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mL=bt("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=bt("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gL=bt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=bt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kd=bt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k8=bt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I8=bt("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O8=bt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C8=bt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N8=bt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=bt("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R8=bt("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j8=bt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D8=bt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=bt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M8=bt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L8=bt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=bt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $8=bt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F8=bt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=bt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yL=bt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),V8=()=>{const[t,e]=K.useState(!0),[r,n]=K.useState(""),[i,a]=K.useState(""),[s,u]=K.useState(""),[c,f]=K.useState(!1),h=SD(),p=async v=>{v.preventDefault(),u(""),f(!0);try{t?await PB(h,r,i):await AB(h,r,i)}catch(b){u(b.message)}finally{f(!1)}};return y.jsx("div",{className:"min-h-screen bg-slate-100 dark:bg-slate-900 flex flex-col justify-center items-center p-4",children:y.jsxs("div",{className:"w-full max-w-md",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx(Bs,{className:"mx-auto h-12 w-auto text-cyan-500"}),y.jsx("h2",{className:"mt-6 text-3xl font-bold tracking-tight text-slate-900 dark:text-white",children:t?"Sign in to your account":"Create a new account"})]}),y.jsxs("div",{className:"bg-white dark:bg-slate-800 shadow-xl rounded-2xl p-8",children:[y.jsxs("form",{className:"space-y-6",onSubmit:p,children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Email address"}),y.jsx("div",{className:"mt-1",children:y.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:r,onChange:v=>n(v.target.value),className:"block w-full appearance-none rounded-md border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 px-3 py-2 placeholder-slate-400 dark:placeholder-slate-500 shadow-sm focus:border-cyan-500 focus:outline-none focus:ring-cyan-500 sm:text-sm"})})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Password"}),y.jsx("div",{className:"mt-1",children:y.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:i,onChange:v=>a(v.target.value),className:"block w-full appearance-none rounded-md border border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 px-3 py-2 placeholder-slate-400 dark:placeholder-slate-500 shadow-sm focus:border-cyan-500 focus:outline-none focus:ring-cyan-500 sm:text-sm"})})]}),s&&y.jsx("div",{className:"rounded-md bg-red-50 p-4",children:y.jsx("p",{className:"text-sm text-red-700",children:s})}),y.jsx("div",{children:y.jsx("button",{type:"submit",disabled:c,className:"flex w-full justify-center rounded-md border border-transparent bg-cyan-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-cyan-700 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2 disabled:bg-slate-400",children:c?"Processing...":t?"Sign in":"Create account"})})]}),y.jsx("div",{className:"mt-6",children:y.jsxs("p",{className:"text-center text-sm text-slate-500 dark:text-slate-400",children:[t?"Don't have an account?":"Already have an account?",y.jsx("button",{onClick:()=>e(!t),className:"font-medium text-cyan-600 hover:text-cyan-500 ml-1",children:t?"Sign up":"Sign in"})]})})]})]})})},ea=({title:t,value:e,icon:r,color:n,subtext:i})=>y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl border border-slate-200 dark:border-slate-700 shadow-lg flex flex-col justify-between",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h3",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:t}),y.jsx("div",{className:`text-${n}-500 dark:text-${n}-400`,children:r})]}),y.jsxs("div",{children:[y.jsx("p",{className:"text-3xl font-bold text-slate-800 dark:text-white mt-2",children:e}),i&&y.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500 mt-1",children:i})]})]});function vL(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=vL(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function et(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=vL(t))&&(n&&(n+=" "),n+=e);return n}var Bv,Nk;function Sn(){if(Nk)return Bv;Nk=1;var t=Array.isArray;return Bv=t,Bv}var Uv,Rk;function bL(){if(Rk)return Uv;Rk=1;var t=typeof Xh=="object"&&Xh&&Xh.Object===Object&&Xh;return Uv=t,Uv}var qv,jk;function ga(){if(jk)return qv;jk=1;var t=bL(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return qv=r,qv}var zv,Dk;function Id(){if(Dk)return zv;Dk=1;var t=ga(),e=t.Symbol;return zv=e,zv}var Wv,Mk;function B8(){if(Mk)return Wv;Mk=1;var t=Id(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function a(s){var u=r.call(s,i),c=s[i];try{s[i]=void 0;var f=!0}catch{}var h=n.call(s);return f&&(u?s[i]=c:delete s[i]),h}return Wv=a,Wv}var Hv,Lk;function U8(){if(Lk)return Hv;Lk=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return Hv=r,Hv}var Kv,$k;function to(){if($k)return Kv;$k=1;var t=Id(),e=B8(),r=U8(),n="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function s(u){return u==null?u===void 0?i:n:a&&a in Object(u)?e(u):r(u)}return Kv=s,Kv}var Gv,Fk;function ro(){if(Fk)return Gv;Fk=1;function t(e){return e!=null&&typeof e=="object"}return Gv=t,Gv}var Yv,Vk;function Ju(){if(Vk)return Yv;Vk=1;var t=to(),e=ro(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return Yv=n,Yv}var Xv,Bk;function DE(){if(Bk)return Xv;Bk=1;var t=Sn(),e=Ju(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){if(t(a))return!1;var u=typeof a;return u=="number"||u=="symbol"||u=="boolean"||a==null||e(a)?!0:n.test(a)||!r.test(a)||s!=null&&a in Object(s)}return Xv=i,Xv}var Qv,Uk;function ts(){if(Uk)return Qv;Uk=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return Qv=t,Qv}var Jv,qk;function ME(){if(qk)return Jv;qk=1;var t=to(),e=ts(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function s(u){if(!e(u))return!1;var c=t(u);return c==n||c==i||c==r||c==a}return Jv=s,Jv}var Zv,zk;function q8(){if(zk)return Zv;zk=1;var t=ga(),e=t["__core-js_shared__"];return Zv=e,Zv}var e0,Wk;function z8(){if(Wk)return e0;Wk=1;var t=q8(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!e&&e in n}return e0=r,e0}var t0,Hk;function _L(){if(Hk)return t0;Hk=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return t0=r,t0}var r0,Kk;function W8(){if(Kk)return r0;Kk=1;var t=ME(),e=z8(),r=ts(),n=_L(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,s=Function.prototype,u=Object.prototype,c=s.toString,f=u.hasOwnProperty,h=RegExp("^"+c.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(v){if(!r(v)||e(v))return!1;var b=t(v)?h:a;return b.test(n(v))}return r0=p,r0}var n0,Gk;function H8(){if(Gk)return n0;Gk=1;function t(e,r){return e?.[r]}return n0=t,n0}var i0,Yk;function ul(){if(Yk)return i0;Yk=1;var t=W8(),e=H8();function r(n,i){var a=e(n,i);return t(a)?a:void 0}return i0=r,i0}var a0,Xk;function dg(){if(Xk)return a0;Xk=1;var t=ul(),e=t(Object,"create");return a0=e,a0}var o0,Qk;function K8(){if(Qk)return o0;Qk=1;var t=dg();function e(){this.__data__=t?t(null):{},this.size=0}return o0=e,o0}var s0,Jk;function G8(){if(Jk)return s0;Jk=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return s0=t,s0}var l0,Zk;function Y8(){if(Zk)return l0;Zk=1;var t=dg(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(a){var s=this.__data__;if(t){var u=s[a];return u===e?void 0:u}return n.call(s,a)?s[a]:void 0}return l0=i,l0}var u0,eI;function X8(){if(eI)return u0;eI=1;var t=dg(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var a=this.__data__;return t?a[i]!==void 0:r.call(a,i)}return u0=n,u0}var c0,tI;function Q8(){if(tI)return c0;tI=1;var t=dg(),e="__lodash_hash_undefined__";function r(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=t&&i===void 0?e:i,this}return c0=r,c0}var f0,rI;function J8(){if(rI)return f0;rI=1;var t=K8(),e=G8(),r=Y8(),n=X8(),i=Q8();function a(s){var u=-1,c=s==null?0:s.length;for(this.clear();++u<c;){var f=s[u];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,f0=a,f0}var d0,nI;function Z8(){if(nI)return d0;nI=1;function t(){this.__data__=[],this.size=0}return d0=t,d0}var h0,iI;function LE(){if(iI)return h0;iI=1;function t(e,r){return e===r||e!==e&&r!==r}return h0=t,h0}var p0,aI;function hg(){if(aI)return p0;aI=1;var t=LE();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return p0=e,p0}var m0,oI;function e7(){if(oI)return m0;oI=1;var t=hg(),e=Array.prototype,r=e.splice;function n(i){var a=this.__data__,s=t(a,i);if(s<0)return!1;var u=a.length-1;return s==u?a.pop():r.call(a,s,1),--this.size,!0}return m0=n,m0}var g0,sI;function t7(){if(sI)return g0;sI=1;var t=hg();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return g0=e,g0}var y0,lI;function r7(){if(lI)return y0;lI=1;var t=hg();function e(r){return t(this.__data__,r)>-1}return y0=e,y0}var v0,uI;function n7(){if(uI)return v0;uI=1;var t=hg();function e(r,n){var i=this.__data__,a=t(i,r);return a<0?(++this.size,i.push([r,n])):i[a][1]=n,this}return v0=e,v0}var b0,cI;function pg(){if(cI)return b0;cI=1;var t=Z8(),e=e7(),r=t7(),n=r7(),i=n7();function a(s){var u=-1,c=s==null?0:s.length;for(this.clear();++u<c;){var f=s[u];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,b0=a,b0}var _0,fI;function $E(){if(fI)return _0;fI=1;var t=ul(),e=ga(),r=t(e,"Map");return _0=r,_0}var x0,dI;function i7(){if(dI)return x0;dI=1;var t=J8(),e=pg(),r=$E();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return x0=n,x0}var w0,hI;function a7(){if(hI)return w0;hI=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return w0=t,w0}var E0,pI;function mg(){if(pI)return E0;pI=1;var t=a7();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return E0=e,E0}var S0,mI;function o7(){if(mI)return S0;mI=1;var t=mg();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return S0=e,S0}var T0,gI;function s7(){if(gI)return T0;gI=1;var t=mg();function e(r){return t(this,r).get(r)}return T0=e,T0}var A0,yI;function l7(){if(yI)return A0;yI=1;var t=mg();function e(r){return t(this,r).has(r)}return A0=e,A0}var P0,vI;function u7(){if(vI)return P0;vI=1;var t=mg();function e(r,n){var i=t(this,r),a=i.size;return i.set(r,n),this.size+=i.size==a?0:1,this}return P0=e,P0}var k0,bI;function FE(){if(bI)return k0;bI=1;var t=i7(),e=o7(),r=s7(),n=l7(),i=u7();function a(s){var u=-1,c=s==null?0:s.length;for(this.clear();++u<c;){var f=s[u];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,k0=a,k0}var I0,_I;function xL(){if(_I)return I0;_I=1;var t=FE(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var s=arguments,u=i?i.apply(this,s):s[0],c=a.cache;if(c.has(u))return c.get(u);var f=n.apply(this,s);return a.cache=c.set(u,f)||c,f};return a.cache=new(r.Cache||t),a}return r.Cache=t,I0=r,I0}var O0,xI;function c7(){if(xI)return O0;xI=1;var t=xL(),e=500;function r(n){var i=t(n,function(s){return a.size===e&&a.clear(),s}),a=i.cache;return i}return O0=r,O0}var C0,wI;function f7(){if(wI)return C0;wI=1;var t=c7(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(s,u,c,f){a.push(c?f.replace(r,"$1"):u||s)}),a});return C0=n,C0}var N0,EI;function VE(){if(EI)return N0;EI=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=Array(i);++n<i;)a[n]=r(e[n],n,e);return a}return N0=t,N0}var R0,SI;function d7(){if(SI)return R0;SI=1;var t=Id(),e=VE(),r=Sn(),n=Ju(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function s(u){if(typeof u=="string")return u;if(r(u))return e(u,s)+"";if(n(u))return a?a.call(u):"";var c=u+"";return c=="0"&&1/u==-1/0?"-0":c}return R0=s,R0}var j0,TI;function wL(){if(TI)return j0;TI=1;var t=d7();function e(r){return r==null?"":t(r)}return j0=e,j0}var D0,AI;function EL(){if(AI)return D0;AI=1;var t=Sn(),e=DE(),r=f7(),n=wL();function i(a,s){return t(a)?a:e(a,s)?[a]:r(n(a))}return D0=i,D0}var M0,PI;function gg(){if(PI)return M0;PI=1;var t=Ju();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return M0=e,M0}var L0,kI;function BE(){if(kI)return L0;kI=1;var t=EL(),e=gg();function r(n,i){i=t(i,n);for(var a=0,s=i.length;n!=null&&a<s;)n=n[e(i[a++])];return a&&a==s?n:void 0}return L0=r,L0}var $0,II;function SL(){if(II)return $0;II=1;var t=BE();function e(r,n,i){var a=r==null?void 0:t(r,n);return a===void 0?i:a}return $0=e,$0}var h7=SL();const zn=vt(h7);var F0,OI;function p7(){if(OI)return F0;OI=1;function t(e){return e==null}return F0=t,F0}var m7=p7();const Je=vt(m7);var V0,CI;function g7(){if(CI)return V0;CI=1;var t=to(),e=Sn(),r=ro(),n="[object String]";function i(a){return typeof a=="string"||!e(a)&&r(a)&&t(a)==n}return V0=i,V0}var y7=g7();const Js=vt(y7);var v7=ME();const Ye=vt(v7);var b7=ts();const Zu=vt(b7);var B0={exports:{}},mt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NI;function _7(){if(NI)return mt;NI=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),u=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),x;x=Symbol.for("react.module.reference");function w(E){if(typeof E=="object"&&E!==null){var O=E.$$typeof;switch(O){case t:switch(E=E.type,E){case r:case i:case n:case f:case h:return E;default:switch(E=E&&E.$$typeof,E){case u:case s:case c:case v:case p:case a:return E;default:return O}}case e:return O}}}return mt.ContextConsumer=s,mt.ContextProvider=a,mt.Element=t,mt.ForwardRef=c,mt.Fragment=r,mt.Lazy=v,mt.Memo=p,mt.Portal=e,mt.Profiler=i,mt.StrictMode=n,mt.Suspense=f,mt.SuspenseList=h,mt.isAsyncMode=function(){return!1},mt.isConcurrentMode=function(){return!1},mt.isContextConsumer=function(E){return w(E)===s},mt.isContextProvider=function(E){return w(E)===a},mt.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===t},mt.isForwardRef=function(E){return w(E)===c},mt.isFragment=function(E){return w(E)===r},mt.isLazy=function(E){return w(E)===v},mt.isMemo=function(E){return w(E)===p},mt.isPortal=function(E){return w(E)===e},mt.isProfiler=function(E){return w(E)===i},mt.isStrictMode=function(E){return w(E)===n},mt.isSuspense=function(E){return w(E)===f},mt.isSuspenseList=function(E){return w(E)===h},mt.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===r||E===i||E===n||E===f||E===h||E===b||typeof E=="object"&&E!==null&&(E.$$typeof===v||E.$$typeof===p||E.$$typeof===a||E.$$typeof===s||E.$$typeof===c||E.$$typeof===x||E.getModuleId!==void 0)},mt.typeOf=w,mt}var RI;function x7(){return RI||(RI=1,B0.exports=_7()),B0.exports}var w7=x7(),U0,jI;function TL(){if(jI)return U0;jI=1;var t=to(),e=ro(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return U0=n,U0}var q0,DI;function E7(){if(DI)return q0;DI=1;var t=TL();function e(r){return t(r)&&r!=+r}return q0=e,q0}var S7=E7();const Od=vt(S7);var T7=TL();const A7=vt(T7);var on=function(e){return e===0?0:e>0?1:-1},Ds=function(e){return Js(e)&&e.indexOf("%")===e.length-1},ve=function(e){return A7(e)&&!Od(e)},P7=function(e){return Je(e)},vr=function(e){return ve(e)||Js(e)},k7=0,ec=function(e){var r=++k7;return"".concat(e||"").concat(r)},sn=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ve(e)&&!Js(e))return n;var a;if(Ds(e)){var s=e.indexOf("%");a=r*parseFloat(e.slice(0,s))/100}else a=+e;return Od(a)&&(a=n),i&&a>r&&(a=r),a},Fo=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},I7=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Fn=function(e,r){return ve(e)&&ve(r)?function(n){return e+n*(r-e)}:function(){return r}};function Kp(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):zn(n,e))===r})}var O7=function(e,r){return ve(e)&&ve(r)?e-r:Js(e)&&Js(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function hu(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function mw(t){"@babel/helpers - typeof";return mw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mw(t)}var C7=["viewBox","children"],N7=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],MI=["points","pathLength"],z0={svg:C7,polygon:MI,polyline:MI},UE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Gp=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(K.isValidElement(e)&&(n=e.props),!Zu(n))return null;var i={};return Object.keys(n).forEach(function(a){UE.includes(a)&&(i[a]=r||function(s){return n[a](n,s)})}),i},R7=function(e,r,n){return function(i){return e(r,n,i),null}},Zs=function(e,r,n){if(!Zu(e)||mw(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var s=e[a];UE.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=R7(s,r,n))}),i},j7=["children"],D7=["children"];function LI(t,e){if(t==null)return{};var r=M7(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function M7(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function gw(t){"@babel/helpers - typeof";return gw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gw(t)}var $I={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},qa=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},FI=null,W0=null,qE=function t(e){if(e===FI&&Array.isArray(W0))return W0;var r=[];return K.Children.forEach(e,function(n){Je(n)||(w7.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),W0=r,FI=e,r};function Wn(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return qa(i)}):n=[qa(e)],qE(t).forEach(function(i){var a=zn(i,"type.displayName")||zn(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function Ln(t,e){var r=Wn(t,e);return r&&r[0]}var VI=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!ve(n)||n<=0||!ve(i)||i<=0)},L7=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],$7=function(e){return e&&e.type&&Js(e.type)&&L7.indexOf(e.type)>=0},F7=function(e){return e&&gw(e)==="object"&&"clipDot"in e},V7=function(e,r,n,i){var a,s=(a=z0?.[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!Ye(e)&&(i&&s.includes(r)||N7.includes(r))||n&&UE.includes(r)},qe=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(K.isValidElement(e)&&(i=e.props),!Zu(i))return null;var a={};return Object.keys(i).forEach(function(s){var u;V7((u=i)===null||u===void 0?void 0:u[s],s,r,n)&&(a[s]=i[s])}),a},yw=function t(e,r){if(e===r)return!0;var n=K.Children.count(e);if(n!==K.Children.count(r))return!1;if(n===0)return!0;if(n===1)return BI(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],s=r[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!BI(a,s))return!1}return!0},BI=function(e,r){if(Je(e)&&Je(r))return!0;if(!Je(e)&&!Je(r)){var n=e.props||{},i=n.children,a=LI(n,j7),s=r.props||{},u=s.children,c=LI(s,D7);return i&&u?hu(a,c)&&yw(i,u):!i&&!u?hu(a,c):!1}return!1},UI=function(e,r){var n=[],i={};return qE(e).forEach(function(a,s){if($7(a))n.push(a);else if(a){var u=qa(a.type),c=r[u]||{},f=c.handler,h=c.once;if(f&&(!h||!i[u])){var p=f(a,u,s);n.push(p),i[u]=!0}}}),n},B7=function(e){var r=e&&e.type;return r&&$I[r]?$I[r]:null},U7=function(e,r){return qE(r).indexOf(e)},q7=["children","width","height","viewBox","className","style","title","desc"];function vw(){return vw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vw.apply(this,arguments)}function z7(t,e){if(t==null)return{};var r=W7(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function W7(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function bw(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,s=t.style,u=t.title,c=t.desc,f=z7(t,q7),h=i||{width:r,height:n,x:0,y:0},p=et("recharts-surface",a);return z.createElement("svg",vw({},qe(f,!0,"svg"),{className:p,width:r,height:n,style:s,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),z.createElement("title",null,u),z.createElement("desc",null,c),e)}var H7=["children","className"];function _w(){return _w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_w.apply(this,arguments)}function K7(t,e){if(t==null)return{};var r=G7(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function G7(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var ft=z.forwardRef(function(t,e){var r=t.children,n=t.className,i=K7(t,H7),a=et("recharts-layer",n);return z.createElement("g",_w({className:a},qe(i,!0),{ref:e}),r)}),Di=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]},H0,qI;function Y7(){if(qI)return H0;qI=1;function t(e,r,n){var i=-1,a=e.length;r<0&&(r=-r>a?0:a+r),n=n>a?a:n,n<0&&(n+=a),a=r>n?0:n-r>>>0,r>>>=0;for(var s=Array(a);++i<a;)s[i]=e[i+r];return s}return H0=t,H0}var K0,zI;function X7(){if(zI)return K0;zI=1;var t=Y7();function e(r,n,i){var a=r.length;return i=i===void 0?a:i,!n&&i>=a?r:t(r,n,i)}return K0=e,K0}var G0,WI;function AL(){if(WI)return G0;WI=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",s="\\u200d",u=RegExp("["+s+t+i+a+"]");function c(f){return u.test(f)}return G0=c,G0}var Y0,HI;function Q7(){if(HI)return Y0;HI=1;function t(e){return e.split("")}return Y0=t,Y0}var X0,KI;function J7(){if(KI)return X0;KI=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",s="["+t+"]",u="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",f="(?:"+u+"|"+c+")",h="[^"+t+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",b="\\u200d",x=f+"?",w="["+a+"]?",E="(?:"+b+"(?:"+[h,p,v].join("|")+")"+w+x+")*",O=w+x+E,k="(?:"+[h+u+"?",u,p,v,s].join("|")+")",I=RegExp(c+"(?="+c+")|"+k+O,"g");function $(N){return N.match(I)||[]}return X0=$,X0}var Q0,GI;function Z7(){if(GI)return Q0;GI=1;var t=Q7(),e=AL(),r=J7();function n(i){return e(i)?r(i):t(i)}return Q0=n,Q0}var J0,YI;function eW(){if(YI)return J0;YI=1;var t=X7(),e=AL(),r=Z7(),n=wL();function i(a){return function(s){s=n(s);var u=e(s)?r(s):void 0,c=u?u[0]:s.charAt(0),f=u?t(u,1).join(""):s.slice(1);return c[a]()+f}}return J0=i,J0}var Z0,XI;function tW(){if(XI)return Z0;XI=1;var t=eW(),e=t("toUpperCase");return Z0=e,Z0}var rW=tW();const yg=vt(rW);function Ct(t){return function(){return t}}const PL=Math.cos,Yp=Math.sin,Vi=Math.sqrt,Xp=Math.PI,vg=2*Xp,xw=Math.PI,ww=2*xw,Cs=1e-6,nW=ww-Cs;function kL(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function iW(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return kL;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class aW{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?kL:iW(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,s){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,u=this._y1,c=n-e,f=i-r,h=s-e,p=u-r,v=h*h+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(v>Cs)if(!(Math.abs(p*c-f*h)>Cs)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let b=n-s,x=i-u,w=c*c+f*f,E=b*b+x*x,O=Math.sqrt(w),k=Math.sqrt(v),I=a*Math.tan((xw-Math.acos((w+v-E)/(2*O*k)))/2),$=I/k,N=I/O;Math.abs($-1)>Cs&&this._append`L${e+$*h},${r+$*p}`,this._append`A${a},${a},0,0,${+(p*b>h*x)},${this._x1=e+N*c},${this._y1=r+N*f}`}}arc(e,r,n,i,a,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(i),c=n*Math.sin(i),f=e+u,h=r+c,p=1^s,v=s?i-a:a-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>Cs||Math.abs(this._y1-h)>Cs)&&this._append`L${f},${h}`,n&&(v<0&&(v=v%ww+ww),v>nW?this._append`A${n},${n},0,1,${p},${e-u},${r-c}A${n},${n},0,1,${p},${this._x1=f},${this._y1=h}`:v>Cs&&this._append`A${n},${n},0,${+(v>=xw)},${p},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function zE(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new aW(e)}function WE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function IL(t){this._context=t}IL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function bg(t){return new IL(t)}function OL(t){return t[0]}function CL(t){return t[1]}function NL(t,e){var r=Ct(!0),n=null,i=bg,a=null,s=zE(u);t=typeof t=="function"?t:t===void 0?OL:Ct(t),e=typeof e=="function"?e:e===void 0?CL:Ct(e);function u(c){var f,h=(c=WE(c)).length,p,v=!1,b;for(n==null&&(a=i(b=s())),f=0;f<=h;++f)!(f<h&&r(p=c[f],f,c))===v&&((v=!v)?a.lineStart():a.lineEnd()),v&&a.point(+t(p,f,c),+e(p,f,c));if(b)return a=null,b+""||null}return u.x=function(c){return arguments.length?(t=typeof c=="function"?c:Ct(+c),u):t},u.y=function(c){return arguments.length?(e=typeof c=="function"?c:Ct(+c),u):e},u.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ct(!!c),u):r},u.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),u):i},u.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),u):n},u}function op(t,e,r){var n=null,i=Ct(!0),a=null,s=bg,u=null,c=zE(f);t=typeof t=="function"?t:t===void 0?OL:Ct(+t),e=typeof e=="function"?e:Ct(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?CL:Ct(+r);function f(p){var v,b,x,w=(p=WE(p)).length,E,O=!1,k,I=new Array(w),$=new Array(w);for(a==null&&(u=s(k=c())),v=0;v<=w;++v){if(!(v<w&&i(E=p[v],v,p))===O)if(O=!O)b=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),x=v-1;x>=b;--x)u.point(I[x],$[x]);u.lineEnd(),u.areaEnd()}O&&(I[v]=+t(E,v,p),$[v]=+e(E,v,p),u.point(n?+n(E,v,p):I[v],r?+r(E,v,p):$[v]))}if(k)return u=null,k+""||null}function h(){return NL().defined(i).curve(s).context(a)}return f.x=function(p){return arguments.length?(t=typeof p=="function"?p:Ct(+p),n=null,f):t},f.x0=function(p){return arguments.length?(t=typeof p=="function"?p:Ct(+p),f):t},f.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Ct(+p),f):n},f.y=function(p){return arguments.length?(e=typeof p=="function"?p:Ct(+p),r=null,f):e},f.y0=function(p){return arguments.length?(e=typeof p=="function"?p:Ct(+p),f):e},f.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Ct(+p),f):r},f.lineX0=f.lineY0=function(){return h().x(t).y(e)},f.lineY1=function(){return h().x(t).y(r)},f.lineX1=function(){return h().x(n).y(e)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Ct(!!p),f):i},f.curve=function(p){return arguments.length?(s=p,a!=null&&(u=s(a)),f):s},f.context=function(p){return arguments.length?(p==null?a=u=null:u=s(a=p),f):a},f}class RL{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function oW(t){return new RL(t,!0)}function sW(t){return new RL(t,!1)}const HE={draw(t,e){const r=Vi(e/Xp);t.moveTo(r,0),t.arc(0,0,r,0,vg)}},lW={draw(t,e){const r=Vi(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},jL=Vi(1/3),uW=jL*2,cW={draw(t,e){const r=Vi(e/uW),n=r*jL;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},fW={draw(t,e){const r=Vi(e),n=-r/2;t.rect(n,n,r,r)}},dW=.8908130915292852,DL=Yp(Xp/10)/Yp(7*Xp/10),hW=Yp(vg/10)*DL,pW=-PL(vg/10)*DL,mW={draw(t,e){const r=Vi(e*dW),n=hW*r,i=pW*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const s=vg*a/5,u=PL(s),c=Yp(s);t.lineTo(c*r,-u*r),t.lineTo(u*n-c*i,c*n+u*i)}t.closePath()}},eb=Vi(3),gW={draw(t,e){const r=-Vi(e/(eb*3));t.moveTo(0,r*2),t.lineTo(-eb*r,-r),t.lineTo(eb*r,-r),t.closePath()}},oi=-.5,si=Vi(3)/2,Ew=1/Vi(12),yW=(Ew/2+1)*3,vW={draw(t,e){const r=Vi(e/yW),n=r/2,i=r*Ew,a=n,s=r*Ew+r,u=-a,c=s;t.moveTo(n,i),t.lineTo(a,s),t.lineTo(u,c),t.lineTo(oi*n-si*i,si*n+oi*i),t.lineTo(oi*a-si*s,si*a+oi*s),t.lineTo(oi*u-si*c,si*u+oi*c),t.lineTo(oi*n+si*i,oi*i-si*n),t.lineTo(oi*a+si*s,oi*s-si*a),t.lineTo(oi*u+si*c,oi*c-si*u),t.closePath()}};function bW(t,e){let r=null,n=zE(i);t=typeof t=="function"?t:Ct(t||HE),e=typeof e=="function"?e:Ct(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Ct(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Ct(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Qp(){}function Jp(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function ML(t){this._context=t}ML.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Jp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Jp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function _W(t){return new ML(t)}function LL(t){this._context=t}LL.prototype={areaStart:Qp,areaEnd:Qp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Jp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function xW(t){return new LL(t)}function $L(t){this._context=t}$L.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Jp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function wW(t){return new $L(t)}function FL(t){this._context=t}FL.prototype={areaStart:Qp,areaEnd:Qp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function EW(t){return new FL(t)}function QI(t){return t<0?-1:1}function JI(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),s=(r-t._y1)/(i||n<0&&-0),u=(a*i+s*n)/(n+i);return(QI(a)+QI(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(u))||0}function ZI(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function tb(t,e,r){var n=t._x0,i=t._y0,a=t._x1,s=t._y1,u=(a-n)/3;t._context.bezierCurveTo(n+u,i+u*e,a-u,s-u*r,a,s)}function Zp(t){this._context=t}Zp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:tb(this,this._t0,ZI(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,tb(this,ZI(this,r=JI(this,t,e)),r);break;default:tb(this,this._t0,r=JI(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function VL(t){this._context=new BL(t)}(VL.prototype=Object.create(Zp.prototype)).point=function(t,e){Zp.prototype.point.call(this,e,t)};function BL(t){this._context=t}BL.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function SW(t){return new Zp(t)}function TW(t){return new VL(t)}function UL(t){this._context=t}UL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=eO(t),i=eO(e),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function eO(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,s[e]-=n*s[e-1];for(i[r-1]=s[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function AW(t){return new UL(t)}function _g(t,e){this._context=t,this._t=e}_g.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function PW(t){return new _g(t,.5)}function kW(t){return new _g(t,0)}function IW(t){return new _g(t,1)}function Eu(t,e){if((s=t.length)>1)for(var r=1,n,i,a=t[e[0]],s,u=a.length;r<s;++r)for(i=a,a=t[e[r]],n=0;n<u;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Sw(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function OW(t,e){return t[e]}function CW(t){const e=[];return e.key=t,e}function NW(){var t=Ct([]),e=Sw,r=Eu,n=OW;function i(a){var s=Array.from(t.apply(this,arguments),CW),u,c=s.length,f=-1,h;for(const p of a)for(u=0,++f;u<c;++u)(s[u][f]=[0,+n(p,s[u].key,f,a)]).data=p;for(u=0,h=WE(e(s));u<c;++u)s[h[u]].index=u;return r(s,h),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Ct(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Ct(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?Sw:typeof a=="function"?a:Ct(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??Eu,i):r},i}function RW(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=t[r][i][1]||0;if(s)for(r=0;r<n;++r)t[r][i][1]/=s}Eu(t,e)}}function jW(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var s=0,u=0;s<i;++s)u+=t[s][r][1]||0;n[r][1]+=n[r][0]=-u/2}Eu(t,e)}}function DW(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var u=0,c=0,f=0;u<s;++u){for(var h=t[e[u]],p=h[n][1]||0,v=h[n-1][1]||0,b=(p-v)/2,x=0;x<u;++x){var w=t[e[x]],E=w[n][1]||0,O=w[n-1][1]||0;b+=E-O}c+=p,f+=b*p}i[n-1][1]+=i[n-1][0]=r,c&&(r-=f/c)}i[n-1][1]+=i[n-1][0]=r,Eu(t,e)}}function Of(t){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Of(t)}var MW=["type","size","sizeType"];function Tw(){return Tw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tw.apply(this,arguments)}function tO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tO(Object(r),!0).forEach(function(n){LW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LW(t,e,r){return e=$W(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $W(t){var e=FW(t,"string");return Of(e)=="symbol"?e:e+""}function FW(t,e){if(Of(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VW(t,e){if(t==null)return{};var r=BW(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function BW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var qL={symbolCircle:HE,symbolCross:lW,symbolDiamond:cW,symbolSquare:fW,symbolStar:mW,symbolTriangle:gW,symbolWye:vW},UW=Math.PI/180,qW=function(e){var r="symbol".concat(yg(e));return qL[r]||HE},zW=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*UW;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},WW=function(e,r){qL["symbol".concat(yg(e))]=r},KE=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,s=e.sizeType,u=s===void 0?"area":s,c=VW(e,MW),f=rO(rO({},c),{},{type:n,size:a,sizeType:u}),h=function(){var E=qW(n),O=bW().type(E).size(zW(a,u,n));return O()},p=f.className,v=f.cx,b=f.cy,x=qe(f,!0);return v===+v&&b===+b&&a===+a?z.createElement("path",Tw({},x,{className:et("recharts-symbols",p),transform:"translate(".concat(v,", ").concat(b,")"),d:h()})):null};KE.registerSymbol=WW;function Su(t){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Su(t)}function Aw(){return Aw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Aw.apply(this,arguments)}function nO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function HW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nO(Object(r),!0).forEach(function(n){Cf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,WL(n.key),n)}}function YW(t,e,r){return e&&GW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function XW(t,e,r){return e=em(e),QW(t,zL()?Reflect.construct(e,r||[],em(t).constructor):e.apply(t,r))}function QW(t,e){if(e&&(Su(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JW(t)}function JW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zL=function(){return!!t})()}function em(t){return em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},em(t)}function ZW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pw(t,e)}function Pw(t,e){return Pw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Pw(t,e)}function Cf(t,e,r){return e=WL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WL(t){var e=eH(t,"string");return Su(e)=="symbol"?e:e+""}function eH(t,e){if(Su(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var li=32,GE=function(t){function e(){return KW(this,e),XW(this,e,arguments)}return ZW(e,t),YW(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=li/2,s=li/6,u=li/3,c=n.inactive?i:n.color;if(n.type==="plainline")return z.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:li,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return z.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(u,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*u,",").concat(a,`
            H`).concat(li,"M").concat(2*u,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(u,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return z.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(li/8,"h").concat(li,"v").concat(li*3/4,"h").concat(-li,"z"),className:"recharts-legend-icon"});if(z.isValidElement(n.legendIcon)){var f=HW({},n);return delete f.legendIcon,z.cloneElement(n.legendIcon,f)}return z.createElement(KE,{fill:c,cx:a,cy:a,size:li,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,s=i.iconSize,u=i.layout,c=i.formatter,f=i.inactiveColor,h={x:0,y:0,width:li,height:li},p={display:u==="horizontal"?"inline-block":"block",marginRight:10},v={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(b,x){var w=b.formatter||c,E=et(Cf(Cf({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",b.inactive));if(b.type==="none")return null;var O=Ye(b.value)?null:b.value;Di(!Ye(b.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var k=b.inactive?f:b.color;return z.createElement("li",Aw({className:E,style:p,key:"legend-item-".concat(x)},Zs(n.props,b,x)),z.createElement(bw,{width:s,height:s,viewBox:h,style:v},n.renderIcon(b)),z.createElement("span",{className:"recharts-legend-item-text",style:{color:k}},w?w(O,b,x):O))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,s=n.align;if(!i||!i.length)return null;var u={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return z.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])}(K.PureComponent);Cf(GE,"displayName","Legend");Cf(GE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var rb,iO;function tH(){if(iO)return rb;iO=1;var t=pg();function e(){this.__data__=new t,this.size=0}return rb=e,rb}var nb,aO;function rH(){if(aO)return nb;aO=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return nb=t,nb}var ib,oO;function nH(){if(oO)return ib;oO=1;function t(e){return this.__data__.get(e)}return ib=t,ib}var ab,sO;function iH(){if(sO)return ab;sO=1;function t(e){return this.__data__.has(e)}return ab=t,ab}var ob,lO;function aH(){if(lO)return ob;lO=1;var t=pg(),e=$E(),r=FE(),n=200;function i(a,s){var u=this.__data__;if(u instanceof t){var c=u.__data__;if(!e||c.length<n-1)return c.push([a,s]),this.size=++u.size,this;u=this.__data__=new r(c)}return u.set(a,s),this.size=u.size,this}return ob=i,ob}var sb,uO;function HL(){if(uO)return sb;uO=1;var t=pg(),e=tH(),r=rH(),n=nH(),i=iH(),a=aH();function s(u){var c=this.__data__=new t(u);this.size=c.size}return s.prototype.clear=e,s.prototype.delete=r,s.prototype.get=n,s.prototype.has=i,s.prototype.set=a,sb=s,sb}var lb,cO;function oH(){if(cO)return lb;cO=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return lb=e,lb}var ub,fO;function sH(){if(fO)return ub;fO=1;function t(e){return this.__data__.has(e)}return ub=t,ub}var cb,dO;function KL(){if(dO)return cb;dO=1;var t=FE(),e=oH(),r=sH();function n(i){var a=-1,s=i==null?0:i.length;for(this.__data__=new t;++a<s;)this.add(i[a])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,cb=n,cb}var fb,hO;function GL(){if(hO)return fb;hO=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return fb=t,fb}var db,pO;function YL(){if(pO)return db;pO=1;function t(e,r){return e.has(r)}return db=t,db}var hb,mO;function XL(){if(mO)return hb;mO=1;var t=KL(),e=GL(),r=YL(),n=1,i=2;function a(s,u,c,f,h,p){var v=c&n,b=s.length,x=u.length;if(b!=x&&!(v&&x>b))return!1;var w=p.get(s),E=p.get(u);if(w&&E)return w==u&&E==s;var O=-1,k=!0,I=c&i?new t:void 0;for(p.set(s,u),p.set(u,s);++O<b;){var $=s[O],N=u[O];if(f)var j=v?f(N,$,O,u,s,p):f($,N,O,s,u,p);if(j!==void 0){if(j)continue;k=!1;break}if(I){if(!e(u,function(A,P){if(!r(I,P)&&($===A||h($,A,c,f,p)))return I.push(P)})){k=!1;break}}else if(!($===N||h($,N,c,f,p))){k=!1;break}}return p.delete(s),p.delete(u),k}return hb=a,hb}var pb,gO;function lH(){if(gO)return pb;gO=1;var t=ga(),e=t.Uint8Array;return pb=e,pb}var mb,yO;function uH(){if(yO)return mb;yO=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,a){n[++r]=[a,i]}),n}return mb=t,mb}var gb,vO;function YE(){if(vO)return gb;vO=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return gb=t,gb}var yb,bO;function cH(){if(bO)return yb;bO=1;var t=Id(),e=lH(),r=LE(),n=XL(),i=uH(),a=YE(),s=1,u=2,c="[object Boolean]",f="[object Date]",h="[object Error]",p="[object Map]",v="[object Number]",b="[object RegExp]",x="[object Set]",w="[object String]",E="[object Symbol]",O="[object ArrayBuffer]",k="[object DataView]",I=t?t.prototype:void 0,$=I?I.valueOf:void 0;function N(j,A,P,R,F,M,V){switch(P){case k:if(j.byteLength!=A.byteLength||j.byteOffset!=A.byteOffset)return!1;j=j.buffer,A=A.buffer;case O:return!(j.byteLength!=A.byteLength||!M(new e(j),new e(A)));case c:case f:case v:return r(+j,+A);case h:return j.name==A.name&&j.message==A.message;case b:case w:return j==A+"";case p:var D=i;case x:var Z=R&s;if(D||(D=a),j.size!=A.size&&!Z)return!1;var ee=V.get(j);if(ee)return ee==A;R|=u,V.set(j,A);var re=n(D(j),D(A),R,F,M,V);return V.delete(j),re;case E:if($)return $.call(j)==$.call(A)}return!1}return yb=N,yb}var vb,_O;function QL(){if(_O)return vb;_O=1;function t(e,r){for(var n=-1,i=r.length,a=e.length;++n<i;)e[a+n]=r[n];return e}return vb=t,vb}var bb,xO;function fH(){if(xO)return bb;xO=1;var t=QL(),e=Sn();function r(n,i,a){var s=i(n);return e(n)?s:t(s,a(n))}return bb=r,bb}var _b,wO;function dH(){if(wO)return _b;wO=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=0,s=[];++n<i;){var u=e[n];r(u,n,e)&&(s[a++]=u)}return s}return _b=t,_b}var xb,EO;function hH(){if(EO)return xb;EO=1;function t(){return[]}return xb=t,xb}var wb,SO;function pH(){if(SO)return wb;SO=1;var t=dH(),e=hH(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(s){return s==null?[]:(s=Object(s),t(i(s),function(u){return n.call(s,u)}))}:e;return wb=a,wb}var Eb,TO;function mH(){if(TO)return Eb;TO=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return Eb=t,Eb}var Sb,AO;function gH(){if(AO)return Sb;AO=1;var t=to(),e=ro(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return Sb=n,Sb}var Tb,PO;function XE(){if(PO)return Tb;PO=1;var t=gH(),e=ro(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,a=t(function(){return arguments}())?t:function(s){return e(s)&&n.call(s,"callee")&&!i.call(s,"callee")};return Tb=a,Tb}var nf={exports:{}},Ab,kO;function yH(){if(kO)return Ab;kO=1;function t(){return!1}return Ab=t,Ab}nf.exports;var IO;function JL(){return IO||(IO=1,function(t,e){var r=ga(),n=yH(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,u=s?r.Buffer:void 0,c=u?u.isBuffer:void 0,f=c||n;t.exports=f}(nf,nf.exports)),nf.exports}var Pb,OO;function QE(){if(OO)return Pb;OO=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var a=typeof n;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return Pb=r,Pb}var kb,CO;function JE(){if(CO)return kb;CO=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return kb=e,kb}var Ib,NO;function vH(){if(NO)return Ib;NO=1;var t=to(),e=JE(),r=ro(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",s="[object Date]",u="[object Error]",c="[object Function]",f="[object Map]",h="[object Number]",p="[object Object]",v="[object RegExp]",b="[object Set]",x="[object String]",w="[object WeakMap]",E="[object ArrayBuffer]",O="[object DataView]",k="[object Float32Array]",I="[object Float64Array]",$="[object Int8Array]",N="[object Int16Array]",j="[object Int32Array]",A="[object Uint8Array]",P="[object Uint8ClampedArray]",R="[object Uint16Array]",F="[object Uint32Array]",M={};M[k]=M[I]=M[$]=M[N]=M[j]=M[A]=M[P]=M[R]=M[F]=!0,M[n]=M[i]=M[E]=M[a]=M[O]=M[s]=M[u]=M[c]=M[f]=M[h]=M[p]=M[v]=M[b]=M[x]=M[w]=!1;function V(D){return r(D)&&e(D.length)&&!!M[t(D)]}return Ib=V,Ib}var Ob,RO;function ZL(){if(RO)return Ob;RO=1;function t(e){return function(r){return e(r)}}return Ob=t,Ob}var af={exports:{}};af.exports;var jO;function bH(){return jO||(jO=1,function(t,e){var r=bL(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,s=a&&r.process,u=function(){try{var c=i&&i.require&&i.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();t.exports=u}(af,af.exports)),af.exports}var Cb,DO;function e$(){if(DO)return Cb;DO=1;var t=vH(),e=ZL(),r=bH(),n=r&&r.isTypedArray,i=n?e(n):t;return Cb=i,Cb}var Nb,MO;function _H(){if(MO)return Nb;MO=1;var t=mH(),e=XE(),r=Sn(),n=JL(),i=QE(),a=e$(),s=Object.prototype,u=s.hasOwnProperty;function c(f,h){var p=r(f),v=!p&&e(f),b=!p&&!v&&n(f),x=!p&&!v&&!b&&a(f),w=p||v||b||x,E=w?t(f.length,String):[],O=E.length;for(var k in f)(h||u.call(f,k))&&!(w&&(k=="length"||b&&(k=="offset"||k=="parent")||x&&(k=="buffer"||k=="byteLength"||k=="byteOffset")||i(k,O)))&&E.push(k);return E}return Nb=c,Nb}var Rb,LO;function xH(){if(LO)return Rb;LO=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return Rb=e,Rb}var jb,$O;function t$(){if($O)return jb;$O=1;function t(e,r){return function(n){return e(r(n))}}return jb=t,jb}var Db,FO;function wH(){if(FO)return Db;FO=1;var t=t$(),e=t(Object.keys,Object);return Db=e,Db}var Mb,VO;function EH(){if(VO)return Mb;VO=1;var t=xH(),e=wH(),r=Object.prototype,n=r.hasOwnProperty;function i(a){if(!t(a))return e(a);var s=[];for(var u in Object(a))n.call(a,u)&&u!="constructor"&&s.push(u);return s}return Mb=i,Mb}var Lb,BO;function Cd(){if(BO)return Lb;BO=1;var t=ME(),e=JE();function r(n){return n!=null&&e(n.length)&&!t(n)}return Lb=r,Lb}var $b,UO;function xg(){if(UO)return $b;UO=1;var t=_H(),e=EH(),r=Cd();function n(i){return r(i)?t(i):e(i)}return $b=n,$b}var Fb,qO;function SH(){if(qO)return Fb;qO=1;var t=fH(),e=pH(),r=xg();function n(i){return t(i,r,e)}return Fb=n,Fb}var Vb,zO;function TH(){if(zO)return Vb;zO=1;var t=SH(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(a,s,u,c,f,h){var p=u&e,v=t(a),b=v.length,x=t(s),w=x.length;if(b!=w&&!p)return!1;for(var E=b;E--;){var O=v[E];if(!(p?O in s:n.call(s,O)))return!1}var k=h.get(a),I=h.get(s);if(k&&I)return k==s&&I==a;var $=!0;h.set(a,s),h.set(s,a);for(var N=p;++E<b;){O=v[E];var j=a[O],A=s[O];if(c)var P=p?c(A,j,O,s,a,h):c(j,A,O,a,s,h);if(!(P===void 0?j===A||f(j,A,u,c,h):P)){$=!1;break}N||(N=O=="constructor")}if($&&!N){var R=a.constructor,F=s.constructor;R!=F&&"constructor"in a&&"constructor"in s&&!(typeof R=="function"&&R instanceof R&&typeof F=="function"&&F instanceof F)&&($=!1)}return h.delete(a),h.delete(s),$}return Vb=i,Vb}var Bb,WO;function AH(){if(WO)return Bb;WO=1;var t=ul(),e=ga(),r=t(e,"DataView");return Bb=r,Bb}var Ub,HO;function PH(){if(HO)return Ub;HO=1;var t=ul(),e=ga(),r=t(e,"Promise");return Ub=r,Ub}var qb,KO;function r$(){if(KO)return qb;KO=1;var t=ul(),e=ga(),r=t(e,"Set");return qb=r,qb}var zb,GO;function kH(){if(GO)return zb;GO=1;var t=ul(),e=ga(),r=t(e,"WeakMap");return zb=r,zb}var Wb,YO;function IH(){if(YO)return Wb;YO=1;var t=AH(),e=$E(),r=PH(),n=r$(),i=kH(),a=to(),s=_L(),u="[object Map]",c="[object Object]",f="[object Promise]",h="[object Set]",p="[object WeakMap]",v="[object DataView]",b=s(t),x=s(e),w=s(r),E=s(n),O=s(i),k=a;return(t&&k(new t(new ArrayBuffer(1)))!=v||e&&k(new e)!=u||r&&k(r.resolve())!=f||n&&k(new n)!=h||i&&k(new i)!=p)&&(k=function(I){var $=a(I),N=$==c?I.constructor:void 0,j=N?s(N):"";if(j)switch(j){case b:return v;case x:return u;case w:return f;case E:return h;case O:return p}return $}),Wb=k,Wb}var Hb,XO;function OH(){if(XO)return Hb;XO=1;var t=HL(),e=XL(),r=cH(),n=TH(),i=IH(),a=Sn(),s=JL(),u=e$(),c=1,f="[object Arguments]",h="[object Array]",p="[object Object]",v=Object.prototype,b=v.hasOwnProperty;function x(w,E,O,k,I,$){var N=a(w),j=a(E),A=N?h:i(w),P=j?h:i(E);A=A==f?p:A,P=P==f?p:P;var R=A==p,F=P==p,M=A==P;if(M&&s(w)){if(!s(E))return!1;N=!0,R=!1}if(M&&!R)return $||($=new t),N||u(w)?e(w,E,O,k,I,$):r(w,E,A,O,k,I,$);if(!(O&c)){var V=R&&b.call(w,"__wrapped__"),D=F&&b.call(E,"__wrapped__");if(V||D){var Z=V?w.value():w,ee=D?E.value():E;return $||($=new t),I(Z,ee,O,k,$)}}return M?($||($=new t),n(w,E,O,k,I,$)):!1}return Hb=x,Hb}var Kb,QO;function ZE(){if(QO)return Kb;QO=1;var t=OH(),e=ro();function r(n,i,a,s,u){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,a,s,r,u)}return Kb=r,Kb}var Gb,JO;function CH(){if(JO)return Gb;JO=1;var t=HL(),e=ZE(),r=1,n=2;function i(a,s,u,c){var f=u.length,h=f,p=!c;if(a==null)return!h;for(a=Object(a);f--;){var v=u[f];if(p&&v[2]?v[1]!==a[v[0]]:!(v[0]in a))return!1}for(;++f<h;){v=u[f];var b=v[0],x=a[b],w=v[1];if(p&&v[2]){if(x===void 0&&!(b in a))return!1}else{var E=new t;if(c)var O=c(x,w,b,a,s,E);if(!(O===void 0?e(w,x,r|n,c,E):O))return!1}}return!0}return Gb=i,Gb}var Yb,ZO;function n$(){if(ZO)return Yb;ZO=1;var t=ts();function e(r){return r===r&&!t(r)}return Yb=e,Yb}var Xb,eC;function NH(){if(eC)return Xb;eC=1;var t=n$(),e=xg();function r(n){for(var i=e(n),a=i.length;a--;){var s=i[a],u=n[s];i[a]=[s,u,t(u)]}return i}return Xb=r,Xb}var Qb,tC;function i$(){if(tC)return Qb;tC=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return Qb=t,Qb}var Jb,rC;function RH(){if(rC)return Jb;rC=1;var t=CH(),e=NH(),r=i$();function n(i){var a=e(i);return a.length==1&&a[0][2]?r(a[0][0],a[0][1]):function(s){return s===i||t(s,i,a)}}return Jb=n,Jb}var Zb,nC;function jH(){if(nC)return Zb;nC=1;function t(e,r){return e!=null&&r in Object(e)}return Zb=t,Zb}var e_,iC;function DH(){if(iC)return e_;iC=1;var t=EL(),e=XE(),r=Sn(),n=QE(),i=JE(),a=gg();function s(u,c,f){c=t(c,u);for(var h=-1,p=c.length,v=!1;++h<p;){var b=a(c[h]);if(!(v=u!=null&&f(u,b)))break;u=u[b]}return v||++h!=p?v:(p=u==null?0:u.length,!!p&&i(p)&&n(b,p)&&(r(u)||e(u)))}return e_=s,e_}var t_,aC;function MH(){if(aC)return t_;aC=1;var t=jH(),e=DH();function r(n,i){return n!=null&&e(n,i,t)}return t_=r,t_}var r_,oC;function LH(){if(oC)return r_;oC=1;var t=ZE(),e=SL(),r=MH(),n=DE(),i=n$(),a=i$(),s=gg(),u=1,c=2;function f(h,p){return n(h)&&i(p)?a(s(h),p):function(v){var b=e(v,h);return b===void 0&&b===p?r(v,h):t(p,b,u|c)}}return r_=f,r_}var n_,sC;function tc(){if(sC)return n_;sC=1;function t(e){return e}return n_=t,n_}var i_,lC;function $H(){if(lC)return i_;lC=1;function t(e){return function(r){return r?.[e]}}return i_=t,i_}var a_,uC;function FH(){if(uC)return a_;uC=1;var t=BE();function e(r){return function(n){return t(n,r)}}return a_=e,a_}var o_,cC;function VH(){if(cC)return o_;cC=1;var t=$H(),e=FH(),r=DE(),n=gg();function i(a){return r(a)?t(n(a)):e(a)}return o_=i,o_}var s_,fC;function ya(){if(fC)return s_;fC=1;var t=RH(),e=LH(),r=tc(),n=Sn(),i=VH();function a(s){return typeof s=="function"?s:s==null?r:typeof s=="object"?n(s)?e(s[0],s[1]):t(s):i(s)}return s_=a,s_}var l_,dC;function a$(){if(dC)return l_;dC=1;function t(e,r,n,i){for(var a=e.length,s=n+(i?1:-1);i?s--:++s<a;)if(r(e[s],s,e))return s;return-1}return l_=t,l_}var u_,hC;function BH(){if(hC)return u_;hC=1;function t(e){return e!==e}return u_=t,u_}var c_,pC;function UH(){if(pC)return c_;pC=1;function t(e,r,n){for(var i=n-1,a=e.length;++i<a;)if(e[i]===r)return i;return-1}return c_=t,c_}var f_,mC;function qH(){if(mC)return f_;mC=1;var t=a$(),e=BH(),r=UH();function n(i,a,s){return a===a?r(i,a,s):t(i,e,s)}return f_=n,f_}var d_,gC;function zH(){if(gC)return d_;gC=1;var t=qH();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return d_=e,d_}var h_,yC;function WH(){if(yC)return h_;yC=1;function t(e,r,n){for(var i=-1,a=e==null?0:e.length;++i<a;)if(n(r,e[i]))return!0;return!1}return h_=t,h_}var p_,vC;function HH(){if(vC)return p_;vC=1;function t(){}return p_=t,p_}var m_,bC;function KH(){if(bC)return m_;bC=1;var t=r$(),e=HH(),r=YE(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(a){return new t(a)}:e;return m_=i,m_}var g_,_C;function GH(){if(_C)return g_;_C=1;var t=KL(),e=zH(),r=WH(),n=YL(),i=KH(),a=YE(),s=200;function u(c,f,h){var p=-1,v=e,b=c.length,x=!0,w=[],E=w;if(h)x=!1,v=r;else if(b>=s){var O=f?null:i(c);if(O)return a(O);x=!1,v=n,E=new t}else E=f?[]:w;e:for(;++p<b;){var k=c[p],I=f?f(k):k;if(k=h||k!==0?k:0,x&&I===I){for(var $=E.length;$--;)if(E[$]===I)continue e;f&&E.push(I),w.push(k)}else v(E,I,h)||(E!==w&&E.push(I),w.push(k))}return w}return g_=u,g_}var y_,xC;function YH(){if(xC)return y_;xC=1;var t=ya(),e=GH();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return y_=r,y_}var XH=YH();const wC=vt(XH);function o$(t,e,r){return e===!0?wC(t,r):Ye(e)?wC(t,e):t}function Tu(t){"@babel/helpers - typeof";return Tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tu(t)}var QH=["ref"];function EC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ja(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EC(Object(r),!0).forEach(function(n){wg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SC(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,l$(n.key),n)}}function ZH(t,e,r){return e&&SC(t.prototype,e),r&&SC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function eK(t,e,r){return e=tm(e),tK(t,s$()?Reflect.construct(e,r||[],tm(t).constructor):e.apply(t,r))}function tK(t,e){if(e&&(Tu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rK(t)}function rK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s$=function(){return!!t})()}function tm(t){return tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tm(t)}function nK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kw(t,e)}function kw(t,e){return kw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},kw(t,e)}function wg(t,e,r){return e=l$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l$(t){var e=iK(t,"string");return Tu(e)=="symbol"?e:e+""}function iK(t,e){if(Tu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function aK(t,e){if(t==null)return{};var r=oK(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function oK(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function sK(t){return t.value}function lK(t,e){if(z.isValidElement(t))return z.cloneElement(t,e);if(typeof t=="function")return z.createElement(t,e);e.ref;var r=aK(e,QH);return z.createElement(GE,r)}var TC=1,za=function(t){function e(){var r;JH(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=eK(this,e,[].concat(i)),wg(r,"lastBoundingBox",{width:-1,height:-1}),r}return nK(e,t),ZH(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>TC||Math.abs(i.height-this.lastBoundingBox.height)>TC)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ja({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,s=i.align,u=i.verticalAlign,c=i.margin,f=i.chartWidth,h=i.chartHeight,p,v;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&a==="vertical"){var b=this.getBBoxSnapshot();p={left:((f||0)-b.width)/2}}else p=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(u==="middle"){var x=this.getBBoxSnapshot();v={top:((h||0)-x.height)/2}}else v=u==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return ja(ja({},p),v)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,s=i.width,u=i.height,c=i.wrapperStyle,f=i.payloadUniqBy,h=i.payload,p=ja(ja({position:"absolute",width:s||"auto",height:u||"auto"},this.getDefaultPosition(c)),c);return z.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(b){n.wrapperNode=b}},lK(a,ja(ja({},this.props),{},{payload:o$(h,f,sK)})))}}],[{key:"getWithHeight",value:function(n,i){var a=ja(ja({},this.defaultProps),n.props),s=a.layout;return s==="vertical"&&ve(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||i}:null}}])}(K.PureComponent);wg(za,"displayName","Legend");wg(za,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var v_,AC;function uK(){if(AC)return v_;AC=1;var t=Id(),e=XE(),r=Sn(),n=t?t.isConcatSpreadable:void 0;function i(a){return r(a)||e(a)||!!(n&&a&&a[n])}return v_=i,v_}var b_,PC;function u$(){if(PC)return b_;PC=1;var t=QL(),e=uK();function r(n,i,a,s,u){var c=-1,f=n.length;for(a||(a=e),u||(u=[]);++c<f;){var h=n[c];i>0&&a(h)?i>1?r(h,i-1,a,s,u):t(u,h):s||(u[u.length]=h)}return u}return b_=r,b_}var __,kC;function cK(){if(kC)return __;kC=1;function t(e){return function(r,n,i){for(var a=-1,s=Object(r),u=i(r),c=u.length;c--;){var f=u[e?c:++a];if(n(s[f],f,s)===!1)break}return r}}return __=t,__}var x_,IC;function fK(){if(IC)return x_;IC=1;var t=cK(),e=t();return x_=e,x_}var w_,OC;function c$(){if(OC)return w_;OC=1;var t=fK(),e=xg();function r(n,i){return n&&t(n,i,e)}return w_=r,w_}var E_,CC;function dK(){if(CC)return E_;CC=1;var t=Cd();function e(r,n){return function(i,a){if(i==null)return i;if(!t(i))return r(i,a);for(var s=i.length,u=n?s:-1,c=Object(i);(n?u--:++u<s)&&a(c[u],u,c)!==!1;);return i}}return E_=e,E_}var S_,NC;function eS(){if(NC)return S_;NC=1;var t=c$(),e=dK(),r=e(t);return S_=r,S_}var T_,RC;function f$(){if(RC)return T_;RC=1;var t=eS(),e=Cd();function r(n,i){var a=-1,s=e(n)?Array(n.length):[];return t(n,function(u,c,f){s[++a]=i(u,c,f)}),s}return T_=r,T_}var A_,jC;function hK(){if(jC)return A_;jC=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return A_=t,A_}var P_,DC;function pK(){if(DC)return P_;DC=1;var t=Ju();function e(r,n){if(r!==n){var i=r!==void 0,a=r===null,s=r===r,u=t(r),c=n!==void 0,f=n===null,h=n===n,p=t(n);if(!f&&!p&&!u&&r>n||u&&c&&h&&!f&&!p||a&&c&&h||!i&&h||!s)return 1;if(!a&&!u&&!p&&r<n||p&&i&&s&&!a&&!u||f&&i&&s||!c&&s||!h)return-1}return 0}return P_=e,P_}var k_,MC;function mK(){if(MC)return k_;MC=1;var t=pK();function e(r,n,i){for(var a=-1,s=r.criteria,u=n.criteria,c=s.length,f=i.length;++a<c;){var h=t(s[a],u[a]);if(h){if(a>=f)return h;var p=i[a];return h*(p=="desc"?-1:1)}}return r.index-n.index}return k_=e,k_}var I_,LC;function gK(){if(LC)return I_;LC=1;var t=VE(),e=BE(),r=ya(),n=f$(),i=hK(),a=ZL(),s=mK(),u=tc(),c=Sn();function f(h,p,v){p.length?p=t(p,function(w){return c(w)?function(E){return e(E,w.length===1?w[0]:w)}:w}):p=[u];var b=-1;p=t(p,a(r));var x=n(h,function(w,E,O){var k=t(p,function(I){return I(w)});return{criteria:k,index:++b,value:w}});return i(x,function(w,E){return s(w,E,v)})}return I_=f,I_}var O_,$C;function yK(){if($C)return O_;$C=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return O_=t,O_}var C_,FC;function vK(){if(FC)return C_;FC=1;var t=yK(),e=Math.max;function r(n,i,a){return i=e(i===void 0?n.length-1:i,0),function(){for(var s=arguments,u=-1,c=e(s.length-i,0),f=Array(c);++u<c;)f[u]=s[i+u];u=-1;for(var h=Array(i+1);++u<i;)h[u]=s[u];return h[i]=a(f),t(n,this,h)}}return C_=r,C_}var N_,VC;function bK(){if(VC)return N_;VC=1;function t(e){return function(){return e}}return N_=t,N_}var R_,BC;function d$(){if(BC)return R_;BC=1;var t=ul(),e=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return R_=e,R_}var j_,UC;function _K(){if(UC)return j_;UC=1;var t=bK(),e=d$(),r=tc(),n=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:r;return j_=n,j_}var D_,qC;function xK(){if(qC)return D_;qC=1;var t=800,e=16,r=Date.now;function n(i){var a=0,s=0;return function(){var u=r(),c=e-(u-s);if(s=u,c>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return D_=n,D_}var M_,zC;function wK(){if(zC)return M_;zC=1;var t=_K(),e=xK(),r=e(t);return M_=r,M_}var L_,WC;function EK(){if(WC)return L_;WC=1;var t=tc(),e=vK(),r=wK();function n(i,a){return r(e(i,a,t),i+"")}return L_=n,L_}var $_,HC;function Eg(){if(HC)return $_;HC=1;var t=LE(),e=Cd(),r=QE(),n=ts();function i(a,s,u){if(!n(u))return!1;var c=typeof s;return(c=="number"?e(u)&&r(s,u.length):c=="string"&&s in u)?t(u[s],a):!1}return $_=i,$_}var F_,KC;function SK(){if(KC)return F_;KC=1;var t=u$(),e=gK(),r=EK(),n=Eg(),i=r(function(a,s){if(a==null)return[];var u=s.length;return u>1&&n(a,s[0],s[1])?s=[]:u>2&&n(s[0],s[1],s[2])&&(s=[s[0]]),e(a,t(s,1),[])});return F_=i,F_}var TK=SK();const tS=vt(TK);function Nf(t){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nf(t)}function Iw(){return Iw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Iw.apply(this,arguments)}function AK(t,e){return OK(t)||IK(t,e)||kK(t,e)||PK()}function PK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kK(t,e){if(t){if(typeof t=="string")return GC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GC(t,e)}}function GC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function IK(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function OK(t){if(Array.isArray(t))return t}function YC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function V_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YC(Object(r),!0).forEach(function(n){CK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CK(t,e,r){return e=NK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NK(t){var e=RK(t,"string");return Nf(e)=="symbol"?e:e+""}function RK(t,e){if(Nf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jK(t){return Array.isArray(t)&&vr(t[0])&&vr(t[1])?t.join(" ~ "):t}var DK=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,s=e.itemStyle,u=s===void 0?{}:s,c=e.labelStyle,f=c===void 0?{}:c,h=e.payload,p=e.formatter,v=e.itemSorter,b=e.wrapperClassName,x=e.labelClassName,w=e.label,E=e.labelFormatter,O=e.accessibilityLayer,k=O===void 0?!1:O,I=function(){if(h&&h.length){var V={padding:0,margin:0},D=(v?tS(h,v):h).map(function(Z,ee){if(Z.type==="none")return null;var re=V_({display:"block",paddingTop:4,paddingBottom:4,color:Z.color||"#000"},u),ae=Z.formatter||p||jK,Q=Z.value,ie=Z.name,oe=Q,q=ie;if(ae&&oe!=null&&q!=null){var G=ae(Q,ie,Z,ee,h);if(Array.isArray(G)){var ce=AK(G,2);oe=ce[0],q=ce[1]}else oe=G}return z.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(ee),style:re},vr(q)?z.createElement("span",{className:"recharts-tooltip-item-name"},q):null,vr(q)?z.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,z.createElement("span",{className:"recharts-tooltip-item-value"},oe),z.createElement("span",{className:"recharts-tooltip-item-unit"},Z.unit||""))});return z.createElement("ul",{className:"recharts-tooltip-item-list",style:V},D)}return null},$=V_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),N=V_({margin:0},f),j=!Je(w),A=j?w:"",P=et("recharts-default-tooltip",b),R=et("recharts-tooltip-label",x);j&&E&&h!==void 0&&h!==null&&(A=E(w,h));var F=k?{role:"status","aria-live":"assertive"}:{};return z.createElement("div",Iw({className:P,style:$},F),z.createElement("p",{className:R,style:N},z.isValidElement(A)?A:"".concat(A)),I())};function Rf(t){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rf(t)}function sp(t,e,r){return e=MK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MK(t){var e=LK(t,"string");return Rf(e)=="symbol"?e:e+""}function LK(t,e){if(Rf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bc="recharts-tooltip-wrapper",$K={visibility:"hidden"};function FK(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return et(Bc,sp(sp(sp(sp({},"".concat(Bc,"-right"),ve(r)&&e&&ve(e.x)&&r>=e.x),"".concat(Bc,"-left"),ve(r)&&e&&ve(e.x)&&r<e.x),"".concat(Bc,"-bottom"),ve(n)&&e&&ve(e.y)&&n>=e.y),"".concat(Bc,"-top"),ve(n)&&e&&ve(e.y)&&n<e.y))}function XC(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,s=t.reverseDirection,u=t.tooltipDimension,c=t.viewBox,f=t.viewBoxDimension;if(a&&ve(a[n]))return a[n];var h=r[n]-u-i,p=r[n]+i;if(e[n])return s[n]?h:p;if(s[n]){var v=h,b=c[n];return v<b?Math.max(p,c[n]):Math.max(h,c[n])}var x=p+u,w=c[n]+f;return x>w?Math.max(h,c[n]):Math.max(p,c[n])}function VK(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function BK(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,s=t.tooltipBox,u=t.useTranslate3d,c=t.viewBox,f,h,p;return s.height>0&&s.width>0&&r?(h=XC({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),p=XC({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),f=VK({translateX:h,translateY:p,useTranslate3d:u})):f=$K,{cssProperties:f,cssClasses:FK({translateX:h,translateY:p,coordinate:r})}}function Au(t){"@babel/helpers - typeof";return Au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Au(t)}function QC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function JC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QC(Object(r),!0).forEach(function(n){Cw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,p$(n.key),n)}}function zK(t,e,r){return e&&qK(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function WK(t,e,r){return e=rm(e),HK(t,h$()?Reflect.construct(e,r||[],rm(t).constructor):e.apply(t,r))}function HK(t,e){if(e&&(Au(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KK(t)}function KK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h$=function(){return!!t})()}function rm(t){return rm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rm(t)}function GK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ow(t,e)}function Ow(t,e){return Ow=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ow(t,e)}function Cw(t,e,r){return e=p$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function p$(t){var e=YK(t,"string");return Au(e)=="symbol"?e:e+""}function YK(t,e){if(Au(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Au(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ZC=1,XK=function(t){function e(){var r;UK(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=WK(this,e,[].concat(i)),Cw(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Cw(r,"handleKeyDown",function(s){if(s.key==="Escape"){var u,c,f,h;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&u!==void 0?u:0,y:(f=(h=r.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&f!==void 0?f:0}})}}),r}return GK(e,t),zK(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>ZC||Math.abs(n.height-this.state.lastBoundingBox.height)>ZC)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,u=i.animationDuration,c=i.animationEasing,f=i.children,h=i.coordinate,p=i.hasPayload,v=i.isAnimationActive,b=i.offset,x=i.position,w=i.reverseDirection,E=i.useTranslate3d,O=i.viewBox,k=i.wrapperStyle,I=BK({allowEscapeViewBox:s,coordinate:h,offsetTopLeft:b,position:x,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:E,viewBox:O}),$=I.cssClasses,N=I.cssProperties,j=JC(JC({transition:v&&a?"transform ".concat(u,"ms ").concat(c):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&p?"visible":"hidden",position:"absolute",top:0,left:0},k);return z.createElement("div",{tabIndex:-1,className:$,style:j,ref:function(P){n.wrapperNode=P}},f)}}])}(K.PureComponent),QK=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},cl={isSsr:QK()};function Pu(t){"@babel/helpers - typeof";return Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pu(t)}function eN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eN(Object(r),!0).forEach(function(n){rS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,g$(n.key),n)}}function eG(t,e,r){return e&&ZK(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tG(t,e,r){return e=nm(e),rG(t,m$()?Reflect.construct(e,r||[],nm(t).constructor):e.apply(t,r))}function rG(t,e){if(e&&(Pu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nG(t)}function nG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m$=function(){return!!t})()}function nm(t){return nm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nm(t)}function iG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nw(t,e)}function Nw(t,e){return Nw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Nw(t,e)}function rS(t,e,r){return e=g$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g$(t){var e=aG(t,"string");return Pu(e)=="symbol"?e:e+""}function aG(t,e){if(Pu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function oG(t){return t.dataKey}function sG(t,e){return z.isValidElement(t)?z.cloneElement(t,e):typeof t=="function"?z.createElement(t,e):z.createElement(DK,e)}var $n=function(t){function e(){return JK(this,e),tG(this,e,arguments)}return iG(e,t),eG(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,u=i.animationDuration,c=i.animationEasing,f=i.content,h=i.coordinate,p=i.filterNull,v=i.isAnimationActive,b=i.offset,x=i.payload,w=i.payloadUniqBy,E=i.position,O=i.reverseDirection,k=i.useTranslate3d,I=i.viewBox,$=i.wrapperStyle,N=x??[];p&&N.length&&(N=o$(x.filter(function(A){return A.value!=null&&(A.hide!==!0||n.props.includeHidden)}),w,oG));var j=N.length>0;return z.createElement(XK,{allowEscapeViewBox:s,animationDuration:u,animationEasing:c,isAnimationActive:v,active:a,coordinate:h,hasPayload:j,offset:b,position:E,reverseDirection:O,useTranslate3d:k,viewBox:I,wrapperStyle:$},sG(f,tN(tN({},this.props),{},{payload:N})))}}])}(K.PureComponent);rS($n,"displayName","Tooltip");rS($n,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!cl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var B_,rN;function lG(){if(rN)return B_;rN=1;var t=ga(),e=function(){return t.Date.now()};return B_=e,B_}var U_,nN;function uG(){if(nN)return U_;nN=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return U_=e,U_}var q_,iN;function cG(){if(iN)return q_;iN=1;var t=uG(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return q_=r,q_}var z_,aN;function y$(){if(aN)return z_;aN=1;var t=cG(),e=ts(),r=Ju(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,u=parseInt;function c(f){if(typeof f=="number")return f;if(r(f))return n;if(e(f)){var h=typeof f.valueOf=="function"?f.valueOf():f;f=e(h)?h+"":h}if(typeof f!="string")return f===0?f:+f;f=t(f);var p=a.test(f);return p||s.test(f)?u(f.slice(2),p?2:8):i.test(f)?n:+f}return z_=c,z_}var W_,oN;function fG(){if(oN)return W_;oN=1;var t=ts(),e=lG(),r=y$(),n="Expected a function",i=Math.max,a=Math.min;function s(u,c,f){var h,p,v,b,x,w,E=0,O=!1,k=!1,I=!0;if(typeof u!="function")throw new TypeError(n);c=r(c)||0,t(f)&&(O=!!f.leading,k="maxWait"in f,v=k?i(r(f.maxWait)||0,c):v,I="trailing"in f?!!f.trailing:I);function $(D){var Z=h,ee=p;return h=p=void 0,E=D,b=u.apply(ee,Z),b}function N(D){return E=D,x=setTimeout(P,c),O?$(D):b}function j(D){var Z=D-w,ee=D-E,re=c-Z;return k?a(re,v-ee):re}function A(D){var Z=D-w,ee=D-E;return w===void 0||Z>=c||Z<0||k&&ee>=v}function P(){var D=e();if(A(D))return R(D);x=setTimeout(P,j(D))}function R(D){return x=void 0,I&&h?$(D):(h=p=void 0,b)}function F(){x!==void 0&&clearTimeout(x),E=0,h=w=p=x=void 0}function M(){return x===void 0?b:R(e())}function V(){var D=e(),Z=A(D);if(h=arguments,p=this,w=D,Z){if(x===void 0)return N(w);if(k)return clearTimeout(x),x=setTimeout(P,c),$(w)}return x===void 0&&(x=setTimeout(P,c)),b}return V.cancel=F,V.flush=M,V}return W_=s,W_}var H_,sN;function dG(){if(sN)return H_;sN=1;var t=fG(),e=ts(),r="Expected a function";function n(i,a,s){var u=!0,c=!0;if(typeof i!="function")throw new TypeError(r);return e(s)&&(u="leading"in s?!!s.leading:u,c="trailing"in s?!!s.trailing:c),t(i,a,{leading:u,maxWait:a,trailing:c})}return H_=n,H_}var hG=dG();const v$=vt(hG);function jf(t){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jf(t)}function lN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lN(Object(r),!0).forEach(function(n){pG(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pG(t,e,r){return e=mG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mG(t){var e=gG(t,"string");return jf(e)=="symbol"?e:e+""}function gG(t,e){if(jf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yG(t,e){return xG(t)||_G(t,e)||bG(t,e)||vG()}function vG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bG(t,e){if(t){if(typeof t=="string")return uN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uN(t,e)}}function uN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _G(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function xG(t){if(Array.isArray(t))return t}var Sg=K.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,s=a===void 0?"100%":a,u=t.height,c=u===void 0?"100%":u,f=t.minWidth,h=f===void 0?0:f,p=t.minHeight,v=t.maxHeight,b=t.children,x=t.debounce,w=x===void 0?0:x,E=t.id,O=t.className,k=t.onResize,I=t.style,$=I===void 0?{}:I,N=K.useRef(null),j=K.useRef();j.current=k,K.useImperativeHandle(e,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var A=K.useState({containerWidth:i.width,containerHeight:i.height}),P=yG(A,2),R=P[0],F=P[1],M=K.useCallback(function(D,Z){F(function(ee){var re=Math.round(D),ae=Math.round(Z);return ee.containerWidth===re&&ee.containerHeight===ae?ee:{containerWidth:re,containerHeight:ae}})},[]);K.useEffect(function(){var D=function(ie){var oe,q=ie[0].contentRect,G=q.width,ce=q.height;M(G,ce),(oe=j.current)===null||oe===void 0||oe.call(j,G,ce)};w>0&&(D=v$(D,w,{trailing:!0,leading:!1}));var Z=new ResizeObserver(D),ee=N.current.getBoundingClientRect(),re=ee.width,ae=ee.height;return M(re,ae),Z.observe(N.current),function(){Z.disconnect()}},[M,w]);var V=K.useMemo(function(){var D=R.containerWidth,Z=R.containerHeight;if(D<0||Z<0)return null;Di(Ds(s)||Ds(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),Di(!r||r>0,"The aspect(%s) must be greater than zero.",r);var ee=Ds(s)?D:s,re=Ds(c)?Z:c;r&&r>0&&(ee?re=ee/r:re&&(ee=re*r),v&&re>v&&(re=v)),Di(ee>0||re>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,ee,re,s,c,h,p,r);var ae=!Array.isArray(b)&&qa(b.type).endsWith("Chart");return z.Children.map(b,function(Q){return z.isValidElement(Q)?K.cloneElement(Q,lp({width:ee,height:re},ae?{style:lp({height:"100%",width:"100%",maxHeight:re,maxWidth:ee},Q.props.style)}:{})):Q})},[r,b,c,v,p,h,R,s]);return z.createElement("div",{id:E?"".concat(E):void 0,className:et("recharts-responsive-container",O),style:lp(lp({},$),{},{width:s,height:c,minWidth:h,minHeight:p,maxHeight:v}),ref:N},V)}),Tg=function(e){return null};Tg.displayName="Cell";function Df(t){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Df(t)}function cN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Rw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cN(Object(r),!0).forEach(function(n){wG(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wG(t,e,r){return e=EG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EG(t){var e=SG(t,"string");return Df(e)=="symbol"?e:e+""}function SG(t,e){if(Df(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yl={widthCache:{},cacheCount:0},TG=2e3,AG={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},fN="recharts_measurement_span";function PG(t){var e=Rw({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var hf=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||cl.isSsr)return{width:0,height:0};var n=PG(r),i=JSON.stringify({text:e,copyStyle:n});if(Yl.widthCache[i])return Yl.widthCache[i];try{var a=document.getElementById(fN);a||(a=document.createElement("span"),a.setAttribute("id",fN),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=Rw(Rw({},AG),n);Object.assign(a.style,s),a.textContent="".concat(e);var u=a.getBoundingClientRect(),c={width:u.width,height:u.height};return Yl.widthCache[i]=c,++Yl.cacheCount>TG&&(Yl.cacheCount=0,Yl.widthCache={}),c}catch{return{width:0,height:0}}},kG=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Mf(t){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mf(t)}function im(t,e){return NG(t)||CG(t,e)||OG(t,e)||IG()}function IG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OG(t,e){if(t){if(typeof t=="string")return dN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dN(t,e)}}function dN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function CG(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function NG(t){if(Array.isArray(t))return t}function RG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hN(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,DG(n.key),n)}}function jG(t,e,r){return e&&hN(t.prototype,e),r&&hN(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function DG(t){var e=MG(t,"string");return Mf(e)=="symbol"?e:e+""}function MG(t,e){if(Mf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,mN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,LG=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,$G=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,b$={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},FG=Object.keys(b$),nu="NaN";function VG(t,e){return t*b$[e]}var up=function(){function t(e,r){RG(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!LG.test(r)&&(this.num=NaN,this.unit=""),FG.includes(r)&&(this.num=VG(e,r),this.unit="px")}return jG(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=$G.exec(r))!==null&&n!==void 0?n:[],a=im(i,3),s=a[1],u=a[2];return new t(parseFloat(s),u??"")}}])}();function _$(t){if(t.includes(nu))return nu;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=pN.exec(e))!==null&&r!==void 0?r:[],i=im(n,4),a=i[1],s=i[2],u=i[3],c=up.parse(a??""),f=up.parse(u??""),h=s==="*"?c.multiply(f):c.divide(f);if(h.isNaN())return nu;e=e.replace(pN,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var p,v=(p=mN.exec(e))!==null&&p!==void 0?p:[],b=im(v,4),x=b[1],w=b[2],E=b[3],O=up.parse(x??""),k=up.parse(E??""),I=w==="+"?O.add(k):O.subtract(k);if(I.isNaN())return nu;e=e.replace(mN,I.toString())}return e}var gN=/\(([^()]*)\)/;function BG(t){for(var e=t;e.includes("(");){var r=gN.exec(e),n=im(r,2),i=n[1];e=e.replace(gN,_$(i))}return e}function UG(t){var e=t.replace(/\s+/g,"");return e=BG(e),e=_$(e),e}function qG(t){try{return UG(t)}catch{return nu}}function K_(t){var e=qG(t.slice(5,-1));return e===nu?"":e}var zG=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],WG=["dx","dy","angle","className","breakAll"];function jw(){return jw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jw.apply(this,arguments)}function yN(t,e){if(t==null)return{};var r=HG(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function HG(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function vN(t,e){return XG(t)||YG(t,e)||GG(t,e)||KG()}function KG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GG(t,e){if(t){if(typeof t=="string")return bN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bN(t,e)}}function bN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function YG(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function XG(t){if(Array.isArray(t))return t}var x$=/[ \f\n\r\t\v\u2028\u2029]+/,w$=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];Je(r)||(n?a=r.toString().split(""):a=r.toString().split(x$));var s=a.map(function(c){return{word:c,width:hf(c,i).width}}),u=n?0:hf(" ",i).width;return{wordsWithComputedWidth:s,spaceWidth:u}}catch{return null}},QG=function(e,r,n,i,a){var s=e.maxLines,u=e.children,c=e.style,f=e.breakAll,h=ve(s),p=u,v=function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ee.reduce(function(re,ae){var Q=ae.word,ie=ae.width,oe=re[re.length-1];if(oe&&(i==null||a||oe.width+ie+n<Number(i)))oe.words.push(Q),oe.width+=ie+n;else{var q={words:[Q],width:ie};re.push(q)}return re},[])},b=v(r),x=function(ee){return ee.reduce(function(re,ae){return re.width>ae.width?re:ae})};if(!h)return b;for(var w="…",E=function(ee){var re=p.slice(0,ee),ae=w$({breakAll:f,style:c,children:re+w}).wordsWithComputedWidth,Q=v(ae),ie=Q.length>s||x(Q).width>Number(i);return[ie,Q]},O=0,k=p.length-1,I=0,$;O<=k&&I<=p.length-1;){var N=Math.floor((O+k)/2),j=N-1,A=E(j),P=vN(A,2),R=P[0],F=P[1],M=E(N),V=vN(M,1),D=V[0];if(!R&&!D&&(O=N+1),R&&D&&(k=N-1),!R&&D){$=F;break}I++}return $||b},_N=function(e){var r=Je(e)?[]:e.toString().split(x$);return[{words:r}]},JG=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,s=e.breakAll,u=e.maxLines;if((r||n)&&!cl.isSsr){var c,f,h=w$({breakAll:s,children:i,style:a});if(h){var p=h.wordsWithComputedWidth,v=h.spaceWidth;c=p,f=v}else return _N(i);return QG({breakAll:s,children:i,maxLines:u,style:a},c,f,r,n)}return _N(i)},xN="#808080",el=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.lineHeight,u=s===void 0?"1em":s,c=e.capHeight,f=c===void 0?"0.71em":c,h=e.scaleToFit,p=h===void 0?!1:h,v=e.textAnchor,b=v===void 0?"start":v,x=e.verticalAnchor,w=x===void 0?"end":x,E=e.fill,O=E===void 0?xN:E,k=yN(e,zG),I=K.useMemo(function(){return JG({breakAll:k.breakAll,children:k.children,maxLines:k.maxLines,scaleToFit:p,style:k.style,width:k.width})},[k.breakAll,k.children,k.maxLines,p,k.style,k.width]),$=k.dx,N=k.dy,j=k.angle,A=k.className,P=k.breakAll,R=yN(k,WG);if(!vr(n)||!vr(a))return null;var F=n+(ve($)?$:0),M=a+(ve(N)?N:0),V;switch(w){case"start":V=K_("calc(".concat(f,")"));break;case"middle":V=K_("calc(".concat((I.length-1)/2," * -").concat(u," + (").concat(f," / 2))"));break;default:V=K_("calc(".concat(I.length-1," * -").concat(u,")"));break}var D=[];if(p){var Z=I[0].width,ee=k.width;D.push("scale(".concat((ve(ee)?ee/Z:1)/Z,")"))}return j&&D.push("rotate(".concat(j,", ").concat(F,", ").concat(M,")")),D.length&&(R.transform=D.join(" ")),z.createElement("text",jw({},qe(R,!0),{x:F,y:M,className:et("recharts-text",A),textAnchor:b,fill:O.includes("url")?xN:O}),I.map(function(re,ae){var Q=re.words.join(P?"":" ");return z.createElement("tspan",{x:F,dy:ae===0?V:u,key:"".concat(Q,"-").concat(ae)},Q)}))};function Ho(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ZG(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function nS(t){let e,r,n;t.length!==2?(e=Ho,r=(u,c)=>Ho(t(u),c),n=(u,c)=>t(u)-c):(e=t===Ho||t===ZG?t:eY,r=t,n=t);function i(u,c,f=0,h=u.length){if(f<h){if(e(c,c)!==0)return h;do{const p=f+h>>>1;r(u[p],c)<0?f=p+1:h=p}while(f<h)}return f}function a(u,c,f=0,h=u.length){if(f<h){if(e(c,c)!==0)return h;do{const p=f+h>>>1;r(u[p],c)<=0?f=p+1:h=p}while(f<h)}return f}function s(u,c,f=0,h=u.length){const p=i(u,c,f,h-1);return p>f&&n(u[p-1],c)>-n(u[p],c)?p-1:p}return{left:i,center:s,right:a}}function eY(){return 0}function E$(t){return t===null?NaN:+t}function*tY(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const rY=nS(Ho),Nd=rY.right;nS(E$).center;class wN extends Map{constructor(e,r=aY){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(EN(this,e))}has(e){return super.has(EN(this,e))}set(e,r){return super.set(nY(this,e),r)}delete(e){return super.delete(iY(this,e))}}function EN({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function nY({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function iY({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function aY(t){return t!==null&&typeof t=="object"?t.valueOf():t}function oY(t=Ho){if(t===Ho)return S$;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function S$(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const sY=Math.sqrt(50),lY=Math.sqrt(10),uY=Math.sqrt(2);function am(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=sY?10:a>=lY?5:a>=uY?2:1;let u,c,f;return i<0?(f=Math.pow(10,-i)/s,u=Math.round(t*f),c=Math.round(e*f),u/f<t&&++u,c/f>e&&--c,f=-f):(f=Math.pow(10,i)*s,u=Math.round(t/f),c=Math.round(e/f),u*f<t&&++u,c*f>e&&--c),c<u&&.5<=r&&r<2?am(t,e,r*2):[u,c,f]}function Dw(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,s]=n?am(e,t,r):am(t,e,r);if(!(a>=i))return[];const u=a-i+1,c=new Array(u);if(n)if(s<0)for(let f=0;f<u;++f)c[f]=(a-f)/-s;else for(let f=0;f<u;++f)c[f]=(a-f)*s;else if(s<0)for(let f=0;f<u;++f)c[f]=(i+f)/-s;else for(let f=0;f<u;++f)c[f]=(i+f)*s;return c}function Mw(t,e,r){return e=+e,t=+t,r=+r,am(t,e,r)[2]}function Lw(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?Mw(e,t,r):Mw(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function SN(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function TN(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function T$(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?S$:oY(i);n>r;){if(n-r>600){const c=n-r+1,f=e-r+1,h=Math.log(c),p=.5*Math.exp(2*h/3),v=.5*Math.sqrt(h*p*(c-p)/c)*(f-c/2<0?-1:1),b=Math.max(r,Math.floor(e-f*p/c+v)),x=Math.min(n,Math.floor(e+(c-f)*p/c+v));T$(t,e,b,x,i)}const a=t[e];let s=r,u=n;for(Uc(t,r,e),i(t[n],a)>0&&Uc(t,r,n);s<u;){for(Uc(t,s,u),++s,--u;i(t[s],a)<0;)++s;for(;i(t[u],a)>0;)--u}i(t[r],a)===0?Uc(t,r,u):(++u,Uc(t,u,n)),u<=e&&(r=u+1),e<=u&&(n=u-1)}return t}function Uc(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function cY(t,e,r){if(t=Float64Array.from(tY(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return TN(t);if(e>=1)return SN(t);var n,i=(n-1)*e,a=Math.floor(i),s=SN(T$(t,a).subarray(0,a+1)),u=TN(t.subarray(a+1));return s+(u-s)*(i-a)}}function fY(t,e,r=E$){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),s=+r(t[a],a,t),u=+r(t[a+1],a+1,t);return s+(u-s)*(i-a)}}function dY(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function hi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function no(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const $w=Symbol("implicit");function iS(){var t=new wN,e=[],r=[],n=$w;function i(a){let s=t.get(a);if(s===void 0){if(n!==$w)return n;t.set(a,s=e.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new wN;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return iS(e,r).unknown(n)},hi.apply(i,arguments),i}function Lf(){var t=iS().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,s,u=!1,c=0,f=0,h=.5;delete t.unknown;function p(){var v=e().length,b=i<n,x=b?i:n,w=b?n:i;a=(w-x)/Math.max(1,v-c+f*2),u&&(a=Math.floor(a)),x+=(w-x-a*(v-c))*h,s=a*(1-c),u&&(x=Math.round(x),s=Math.round(s));var E=dY(v).map(function(O){return x+a*O});return r(b?E.reverse():E)}return t.domain=function(v){return arguments.length?(e(v),p()):e()},t.range=function(v){return arguments.length?([n,i]=v,n=+n,i=+i,p()):[n,i]},t.rangeRound=function(v){return[n,i]=v,n=+n,i=+i,u=!0,p()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(v){return arguments.length?(u=!!v,p()):u},t.padding=function(v){return arguments.length?(c=Math.min(1,f=+v),p()):c},t.paddingInner=function(v){return arguments.length?(c=Math.min(1,v),p()):c},t.paddingOuter=function(v){return arguments.length?(f=+v,p()):f},t.align=function(v){return arguments.length?(h=Math.max(0,Math.min(1,v)),p()):h},t.copy=function(){return Lf(e(),[n,i]).round(u).paddingInner(c).paddingOuter(f).align(h)},hi.apply(p(),arguments)}function A$(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return A$(e())},t}function pf(){return A$(Lf.apply(null,arguments).paddingInner(1))}function aS(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function P$(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Rd(){}var $f=.7,om=1/$f,pu="\\s*([+-]?\\d+)\\s*",Ff="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ua="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",hY=/^#([0-9a-f]{3,8})$/,pY=new RegExp(`^rgb\\(${pu},${pu},${pu}\\)$`),mY=new RegExp(`^rgb\\(${ua},${ua},${ua}\\)$`),gY=new RegExp(`^rgba\\(${pu},${pu},${pu},${Ff}\\)$`),yY=new RegExp(`^rgba\\(${ua},${ua},${ua},${Ff}\\)$`),vY=new RegExp(`^hsl\\(${Ff},${ua},${ua}\\)$`),bY=new RegExp(`^hsla\\(${Ff},${ua},${ua},${Ff}\\)$`),AN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};aS(Rd,Vf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:PN,formatHex:PN,formatHex8:_Y,formatHsl:xY,formatRgb:kN,toString:kN});function PN(){return this.rgb().formatHex()}function _Y(){return this.rgb().formatHex8()}function xY(){return k$(this).formatHsl()}function kN(){return this.rgb().formatRgb()}function Vf(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=hY.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?IN(e):r===3?new En(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?cp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?cp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=pY.exec(t))?new En(e[1],e[2],e[3],1):(e=mY.exec(t))?new En(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=gY.exec(t))?cp(e[1],e[2],e[3],e[4]):(e=yY.exec(t))?cp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=vY.exec(t))?NN(e[1],e[2]/100,e[3]/100,1):(e=bY.exec(t))?NN(e[1],e[2]/100,e[3]/100,e[4]):AN.hasOwnProperty(t)?IN(AN[t]):t==="transparent"?new En(NaN,NaN,NaN,0):null}function IN(t){return new En(t>>16&255,t>>8&255,t&255,1)}function cp(t,e,r,n){return n<=0&&(t=e=r=NaN),new En(t,e,r,n)}function wY(t){return t instanceof Rd||(t=Vf(t)),t?(t=t.rgb(),new En(t.r,t.g,t.b,t.opacity)):new En}function Fw(t,e,r,n){return arguments.length===1?wY(t):new En(t,e,r,n??1)}function En(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}aS(En,Fw,P$(Rd,{brighter(t){return t=t==null?om:Math.pow(om,t),new En(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?$f:Math.pow($f,t),new En(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new En(Us(this.r),Us(this.g),Us(this.b),sm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ON,formatHex:ON,formatHex8:EY,formatRgb:CN,toString:CN}));function ON(){return`#${Ms(this.r)}${Ms(this.g)}${Ms(this.b)}`}function EY(){return`#${Ms(this.r)}${Ms(this.g)}${Ms(this.b)}${Ms((isNaN(this.opacity)?1:this.opacity)*255)}`}function CN(){const t=sm(this.opacity);return`${t===1?"rgb(":"rgba("}${Us(this.r)}, ${Us(this.g)}, ${Us(this.b)}${t===1?")":`, ${t})`}`}function sm(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Us(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ms(t){return t=Us(t),(t<16?"0":"")+t.toString(16)}function NN(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new ji(t,e,r,n)}function k$(t){if(t instanceof ji)return new ji(t.h,t.s,t.l,t.opacity);if(t instanceof Rd||(t=Vf(t)),!t)return new ji;if(t instanceof ji)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),s=NaN,u=a-i,c=(a+i)/2;return u?(e===a?s=(r-n)/u+(r<n)*6:r===a?s=(n-e)/u+2:s=(e-r)/u+4,u/=c<.5?a+i:2-a-i,s*=60):u=c>0&&c<1?0:s,new ji(s,u,c,t.opacity)}function SY(t,e,r,n){return arguments.length===1?k$(t):new ji(t,e,r,n??1)}function ji(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}aS(ji,SY,P$(Rd,{brighter(t){return t=t==null?om:Math.pow(om,t),new ji(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?$f:Math.pow($f,t),new ji(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new En(G_(t>=240?t-240:t+120,i,n),G_(t,i,n),G_(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new ji(RN(this.h),fp(this.s),fp(this.l),sm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=sm(this.opacity);return`${t===1?"hsl(":"hsla("}${RN(this.h)}, ${fp(this.s)*100}%, ${fp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function RN(t){return t=(t||0)%360,t<0?t+360:t}function fp(t){return Math.max(0,Math.min(1,t||0))}function G_(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const oS=t=>()=>t;function TY(t,e){return function(r){return t+r*e}}function AY(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function PY(t){return(t=+t)==1?I$:function(e,r){return r-e?AY(e,r,t):oS(isNaN(e)?r:e)}}function I$(t,e){var r=e-t;return r?TY(t,r):oS(isNaN(t)?e:t)}const jN=function t(e){var r=PY(e);function n(i,a){var s=r((i=Fw(i)).r,(a=Fw(a)).r),u=r(i.g,a.g),c=r(i.b,a.b),f=I$(i.opacity,a.opacity);return function(h){return i.r=s(h),i.g=u(h),i.b=c(h),i.opacity=f(h),i+""}}return n.gamma=t,n}(1);function kY(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function IY(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function OY(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=rc(t[s],e[s]);for(;s<r;++s)a[s]=e[s];return function(u){for(s=0;s<n;++s)a[s]=i[s](u);return a}}function CY(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function lm(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function NY(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=rc(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Vw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Y_=new RegExp(Vw.source,"g");function RY(t){return function(){return t}}function jY(t){return function(e){return t(e)+""}}function DY(t,e){var r=Vw.lastIndex=Y_.lastIndex=0,n,i,a,s=-1,u=[],c=[];for(t=t+"",e=e+"";(n=Vw.exec(t))&&(i=Y_.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),u[s]?u[s]+=a:u[++s]=a),(n=n[0])===(i=i[0])?u[s]?u[s]+=i:u[++s]=i:(u[++s]=null,c.push({i:s,x:lm(n,i)})),r=Y_.lastIndex;return r<e.length&&(a=e.slice(r),u[s]?u[s]+=a:u[++s]=a),u.length<2?c[0]?jY(c[0].x):RY(e):(e=c.length,function(f){for(var h=0,p;h<e;++h)u[(p=c[h]).i]=p.x(f);return u.join("")})}function rc(t,e){var r=typeof e,n;return e==null||r==="boolean"?oS(e):(r==="number"?lm:r==="string"?(n=Vf(e))?(e=n,jN):DY:e instanceof Vf?jN:e instanceof Date?CY:IY(e)?kY:Array.isArray(e)?OY:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?NY:lm)(t,e)}function sS(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function MY(t,e){e===void 0&&(e=t,t=rc);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(s){var u=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[u](s-u)}}function LY(t){return function(){return t}}function um(t){return+t}var DN=[0,1];function ln(t){return t}function Bw(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:LY(isNaN(e)?NaN:.5)}function $Y(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function FY(t,e,r){var n=t[0],i=t[1],a=e[0],s=e[1];return i<n?(n=Bw(i,n),a=r(s,a)):(n=Bw(n,i),a=r(a,s)),function(u){return a(n(u))}}function VY(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)i[s]=Bw(t[s],t[s+1]),a[s]=r(e[s],e[s+1]);return function(u){var c=Nd(t,u,1,n)-1;return a[c](i[c](u))}}function jd(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ag(){var t=DN,e=DN,r=rc,n,i,a,s=ln,u,c,f;function h(){var v=Math.min(t.length,e.length);return s!==ln&&(s=$Y(t[0],t[v-1])),u=v>2?VY:FY,c=f=null,p}function p(v){return v==null||isNaN(v=+v)?a:(c||(c=u(t.map(n),e,r)))(n(s(v)))}return p.invert=function(v){return s(i((f||(f=u(e,t.map(n),lm)))(v)))},p.domain=function(v){return arguments.length?(t=Array.from(v,um),h()):t.slice()},p.range=function(v){return arguments.length?(e=Array.from(v),h()):e.slice()},p.rangeRound=function(v){return e=Array.from(v),r=sS,h()},p.clamp=function(v){return arguments.length?(s=v?!0:ln,h()):s!==ln},p.interpolate=function(v){return arguments.length?(r=v,h()):r},p.unknown=function(v){return arguments.length?(a=v,p):a},function(v,b){return n=v,i=b,h()}}function lS(){return Ag()(ln,ln)}function BY(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function cm(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function ku(t){return t=cm(Math.abs(t)),t?t[1]:NaN}function UY(t,e){return function(r,n){for(var i=r.length,a=[],s=0,u=t[0],c=0;i>0&&u>0&&(c+u+1>n&&(u=Math.max(1,n-c)),a.push(r.substring(i-=u,i+u)),!((c+=u+1)>n));)u=t[s=(s+1)%t.length];return a.reverse().join(e)}}function qY(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var zY=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Bf(t){if(!(e=zY.exec(t)))throw new Error("invalid format: "+t);var e;return new uS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Bf.prototype=uS.prototype;function uS(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}uS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function WY(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var O$;function HY(t,e){var r=cm(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(O$=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+cm(t,Math.max(0,e+a-1))[0]}function MN(t,e){var r=cm(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const LN={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:BY,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>MN(t*100,e),r:MN,s:HY,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function $N(t){return t}var FN=Array.prototype.map,VN=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function KY(t){var e=t.grouping===void 0||t.thousands===void 0?$N:UY(FN.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?$N:qY(FN.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(p){p=Bf(p);var v=p.fill,b=p.align,x=p.sign,w=p.symbol,E=p.zero,O=p.width,k=p.comma,I=p.precision,$=p.trim,N=p.type;N==="n"?(k=!0,N="g"):LN[N]||(I===void 0&&(I=12),$=!0,N="g"),(E||v==="0"&&b==="=")&&(E=!0,v="0",b="=");var j=w==="$"?r:w==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",A=w==="$"?n:/[%p]/.test(N)?s:"",P=LN[N],R=/[defgprs%]/.test(N);I=I===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,I)):Math.max(0,Math.min(20,I));function F(M){var V=j,D=A,Z,ee,re;if(N==="c")D=P(M)+D,M="";else{M=+M;var ae=M<0||1/M<0;if(M=isNaN(M)?c:P(Math.abs(M),I),$&&(M=WY(M)),ae&&+M==0&&x!=="+"&&(ae=!1),V=(ae?x==="("?x:u:x==="-"||x==="("?"":x)+V,D=(N==="s"?VN[8+O$/3]:"")+D+(ae&&x==="("?")":""),R){for(Z=-1,ee=M.length;++Z<ee;)if(re=M.charCodeAt(Z),48>re||re>57){D=(re===46?i+M.slice(Z+1):M.slice(Z))+D,M=M.slice(0,Z);break}}}k&&!E&&(M=e(M,1/0));var Q=V.length+M.length+D.length,ie=Q<O?new Array(O-Q+1).join(v):"";switch(k&&E&&(M=e(ie+M,ie.length?O-D.length:1/0),ie=""),b){case"<":M=V+M+D+ie;break;case"=":M=V+ie+M+D;break;case"^":M=ie.slice(0,Q=ie.length>>1)+V+M+D+ie.slice(Q);break;default:M=ie+V+M+D;break}return a(M)}return F.toString=function(){return p+""},F}function h(p,v){var b=f((p=Bf(p),p.type="f",p)),x=Math.max(-8,Math.min(8,Math.floor(ku(v)/3)))*3,w=Math.pow(10,-x),E=VN[8+x/3];return function(O){return b(w*O)+E}}return{format:f,formatPrefix:h}}var dp,cS,C$;GY({thousands:",",grouping:[3],currency:["$",""]});function GY(t){return dp=KY(t),cS=dp.format,C$=dp.formatPrefix,dp}function YY(t){return Math.max(0,-ku(Math.abs(t)))}function XY(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ku(e)/3)))*3-ku(Math.abs(t)))}function QY(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ku(e)-ku(t))+1}function N$(t,e,r,n){var i=Lw(t,e,r),a;switch(n=Bf(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=XY(i,s))&&(n.precision=a),C$(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=QY(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=YY(i))&&(n.precision=a-(n.type==="%")*2);break}}return cS(n)}function rs(t){var e=t.domain;return t.ticks=function(r){var n=e();return Dw(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return N$(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,s=n[i],u=n[a],c,f,h=10;for(u<s&&(f=s,s=u,u=f,f=i,i=a,a=f);h-- >0;){if(f=Mw(s,u,r),f===c)return n[i]=s,n[a]=u,e(n);if(f>0)s=Math.floor(s/f)*f,u=Math.ceil(u/f)*f;else if(f<0)s=Math.ceil(s*f)/f,u=Math.floor(u*f)/f;else break;c=f}return t},t}function fm(){var t=lS();return t.copy=function(){return jd(t,fm())},hi.apply(t,arguments),rs(t)}function R$(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,um),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return R$(t).unknown(e)},t=arguments.length?Array.from(t,um):[0,1],rs(r)}function j$(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),t[r]=e.floor(i),t[n]=e.ceil(a),t}function BN(t){return Math.log(t)}function UN(t){return Math.exp(t)}function JY(t){return-Math.log(-t)}function ZY(t){return-Math.exp(-t)}function eX(t){return isFinite(t)?+("1e"+t):t<0?0:t}function tX(t){return t===10?eX:t===Math.E?Math.exp:e=>Math.pow(t,e)}function rX(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function qN(t){return(e,r)=>-t(-e,r)}function fS(t){const e=t(BN,UN),r=e.domain;let n=10,i,a;function s(){return i=rX(n),a=tX(n),r()[0]<0?(i=qN(i),a=qN(a),t(JY,ZY)):t(BN,UN),e}return e.base=function(u){return arguments.length?(n=+u,s()):n},e.domain=function(u){return arguments.length?(r(u),s()):r()},e.ticks=u=>{const c=r();let f=c[0],h=c[c.length-1];const p=h<f;p&&([f,h]=[h,f]);let v=i(f),b=i(h),x,w;const E=u==null?10:+u;let O=[];if(!(n%1)&&b-v<E){if(v=Math.floor(v),b=Math.ceil(b),f>0){for(;v<=b;++v)for(x=1;x<n;++x)if(w=v<0?x/a(-v):x*a(v),!(w<f)){if(w>h)break;O.push(w)}}else for(;v<=b;++v)for(x=n-1;x>=1;--x)if(w=v>0?x/a(-v):x*a(v),!(w<f)){if(w>h)break;O.push(w)}O.length*2<E&&(O=Dw(f,h,E))}else O=Dw(v,b,Math.min(b-v,E)).map(a);return p?O.reverse():O},e.tickFormat=(u,c)=>{if(u==null&&(u=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Bf(c)).precision==null&&(c.trim=!0),c=cS(c)),u===1/0)return c;const f=Math.max(1,n*u/e.ticks().length);return h=>{let p=h/a(Math.round(i(h)));return p*n<n-.5&&(p*=n),p<=f?c(h):""}},e.nice=()=>r(j$(r(),{floor:u=>a(Math.floor(i(u))),ceil:u=>a(Math.ceil(i(u)))})),e}function D$(){const t=fS(Ag()).domain([1,10]);return t.copy=()=>jd(t,D$()).base(t.base()),hi.apply(t,arguments),t}function zN(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function WN(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function dS(t){var e=1,r=t(zN(e),WN(e));return r.constant=function(n){return arguments.length?t(zN(e=+n),WN(e)):e},rs(r)}function M$(){var t=dS(Ag());return t.copy=function(){return jd(t,M$()).constant(t.constant())},hi.apply(t,arguments)}function HN(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function nX(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function iX(t){return t<0?-t*t:t*t}function hS(t){var e=t(ln,ln),r=1;function n(){return r===1?t(ln,ln):r===.5?t(nX,iX):t(HN(r),HN(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},rs(e)}function pS(){var t=hS(Ag());return t.copy=function(){return jd(t,pS()).exponent(t.exponent())},hi.apply(t,arguments),t}function aX(){return pS.apply(null,arguments).exponent(.5)}function KN(t){return Math.sign(t)*t*t}function oX(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function L$(){var t=lS(),e=[0,1],r=!1,n;function i(a){var s=oX(t(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return t.invert(KN(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,um)).map(KN)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return L$(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},hi.apply(i,arguments),rs(i)}function $$(){var t=[],e=[],r=[],n;function i(){var s=0,u=Math.max(1,e.length);for(r=new Array(u-1);++s<u;)r[s-1]=fY(t,s/u);return a}function a(s){return s==null||isNaN(s=+s)?n:e[Nd(r,s)]}return a.invertExtent=function(s){var u=e.indexOf(s);return u<0?[NaN,NaN]:[u>0?r[u-1]:t[0],u<r.length?r[u]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let u of s)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Ho),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return $$().domain(t).range(e).unknown(n)},hi.apply(a,arguments)}function F$(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[Nd(n,c,0,r)]:a}function u(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,u()):[t,e]},s.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,u()):i.slice()},s.invertExtent=function(c){var f=i.indexOf(c);return f<0?[NaN,NaN]:f<1?[t,n[0]]:f>=r?[n[r-1],e]:[n[f-1],n[f]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return F$().domain([t,e]).range(i).unknown(a)},hi.apply(rs(s),arguments)}function V$(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[Nd(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return V$().domain(t).range(e).unknown(r)},hi.apply(i,arguments)}const X_=new Date,Q_=new Date;function _r(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),u=i.ceil(a);return a-s<u-a?s:u},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,u)=>{const c=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<s)||!(u>0))return c;let f;do c.push(f=new Date(+a)),e(a,u),t(a);while(f<a&&a<s);return c},i.filter=a=>_r(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,u)=>{if(s>=s)if(u<0)for(;++u<=0;)for(;e(s,-1),!a(s););else for(;--u>=0;)for(;e(s,1),!a(s););}),r&&(i.count=(a,s)=>(X_.setTime(+a),Q_.setTime(+s),t(X_),t(Q_),Math.floor(r(X_,Q_))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const dm=_r(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);dm.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?_r(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):dm);dm.range;const Fa=1e3,fi=Fa*60,Va=fi*60,Ja=Va*24,mS=Ja*7,GN=Ja*30,J_=Ja*365,Ls=_r(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Fa)},(t,e)=>(e-t)/Fa,t=>t.getUTCSeconds());Ls.range;const gS=_r(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Fa)},(t,e)=>{t.setTime(+t+e*fi)},(t,e)=>(e-t)/fi,t=>t.getMinutes());gS.range;const yS=_r(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*fi)},(t,e)=>(e-t)/fi,t=>t.getUTCMinutes());yS.range;const vS=_r(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Fa-t.getMinutes()*fi)},(t,e)=>{t.setTime(+t+e*Va)},(t,e)=>(e-t)/Va,t=>t.getHours());vS.range;const bS=_r(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Va)},(t,e)=>(e-t)/Va,t=>t.getUTCHours());bS.range;const Dd=_r(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*fi)/Ja,t=>t.getDate()-1);Dd.range;const Pg=_r(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ja,t=>t.getUTCDate()-1);Pg.range;const B$=_r(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ja,t=>Math.floor(t/Ja));B$.range;function fl(t){return _r(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*fi)/mS)}const kg=fl(0),hm=fl(1),sX=fl(2),lX=fl(3),Iu=fl(4),uX=fl(5),cX=fl(6);kg.range;hm.range;sX.range;lX.range;Iu.range;uX.range;cX.range;function dl(t){return _r(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/mS)}const Ig=dl(0),pm=dl(1),fX=dl(2),dX=dl(3),Ou=dl(4),hX=dl(5),pX=dl(6);Ig.range;pm.range;fX.range;dX.range;Ou.range;hX.range;pX.range;const _S=_r(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());_S.range;const xS=_r(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());xS.range;const Za=_r(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Za.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:_r(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Za.range;const eo=_r(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());eo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:_r(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});eo.range;function U$(t,e,r,n,i,a){const s=[[Ls,1,Fa],[Ls,5,5*Fa],[Ls,15,15*Fa],[Ls,30,30*Fa],[a,1,fi],[a,5,5*fi],[a,15,15*fi],[a,30,30*fi],[i,1,Va],[i,3,3*Va],[i,6,6*Va],[i,12,12*Va],[n,1,Ja],[n,2,2*Ja],[r,1,mS],[e,1,GN],[e,3,3*GN],[t,1,J_]];function u(f,h,p){const v=h<f;v&&([f,h]=[h,f]);const b=p&&typeof p.range=="function"?p:c(f,h,p),x=b?b.range(f,+h+1):[];return v?x.reverse():x}function c(f,h,p){const v=Math.abs(h-f)/p,b=nS(([,,E])=>E).right(s,v);if(b===s.length)return t.every(Lw(f/J_,h/J_,p));if(b===0)return dm.every(Math.max(Lw(f,h,p),1));const[x,w]=s[v/s[b-1][2]<s[b][2]/v?b-1:b];return x.every(w)}return[u,c]}const[mX,gX]=U$(eo,xS,Ig,B$,bS,yS),[yX,vX]=U$(Za,_S,kg,Dd,vS,gS);function Z_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ex(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function qc(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function bX(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,s=t.shortDays,u=t.months,c=t.shortMonths,f=zc(i),h=Wc(i),p=zc(a),v=Wc(a),b=zc(s),x=Wc(s),w=zc(u),E=Wc(u),O=zc(c),k=Wc(c),I={a:ae,A:Q,b:ie,B:oe,c:null,d:eR,e:eR,f:UX,g:JX,G:eQ,H:FX,I:VX,j:BX,L:q$,m:qX,M:zX,p:q,q:G,Q:nR,s:iR,S:WX,u:HX,U:KX,V:GX,w:YX,W:XX,x:null,X:null,y:QX,Y:ZX,Z:tQ,"%":rR},$={a:ce,A:xe,b:Ne,B:be,c:null,d:tR,e:tR,f:aQ,g:mQ,G:yQ,H:rQ,I:nQ,j:iQ,L:W$,m:oQ,M:sQ,p:je,q:Fe,Q:nR,s:iR,S:lQ,u:uQ,U:cQ,V:fQ,w:dQ,W:hQ,x:null,X:null,y:pQ,Y:gQ,Z:vQ,"%":rR},N={a:F,A:M,b:V,B:D,c:Z,d:JN,e:JN,f:DX,g:QN,G:XN,H:ZN,I:ZN,j:CX,L:jX,m:OX,M:NX,p:R,q:IX,Q:LX,s:$X,S:RX,u:SX,U:TX,V:AX,w:EX,W:PX,x:ee,X:re,y:QN,Y:XN,Z:kX,"%":MX};I.x=j(r,I),I.X=j(n,I),I.c=j(e,I),$.x=j(r,$),$.X=j(n,$),$.c=j(e,$);function j(he,Ie){return function(ze){var le=[],st=-1,He=0,pt=he.length,Et,Ht,cr;for(ze instanceof Date||(ze=new Date(+ze));++st<pt;)he.charCodeAt(st)===37&&(le.push(he.slice(He,st)),(Ht=YN[Et=he.charAt(++st)])!=null?Et=he.charAt(++st):Ht=Et==="e"?" ":"0",(cr=Ie[Et])&&(Et=cr(ze,Ht)),le.push(Et),He=st+1);return le.push(he.slice(He,st)),le.join("")}}function A(he,Ie){return function(ze){var le=qc(1900,void 0,1),st=P(le,he,ze+="",0),He,pt;if(st!=ze.length)return null;if("Q"in le)return new Date(le.Q);if("s"in le)return new Date(le.s*1e3+("L"in le?le.L:0));if(Ie&&!("Z"in le)&&(le.Z=0),"p"in le&&(le.H=le.H%12+le.p*12),le.m===void 0&&(le.m="q"in le?le.q:0),"V"in le){if(le.V<1||le.V>53)return null;"w"in le||(le.w=1),"Z"in le?(He=ex(qc(le.y,0,1)),pt=He.getUTCDay(),He=pt>4||pt===0?pm.ceil(He):pm(He),He=Pg.offset(He,(le.V-1)*7),le.y=He.getUTCFullYear(),le.m=He.getUTCMonth(),le.d=He.getUTCDate()+(le.w+6)%7):(He=Z_(qc(le.y,0,1)),pt=He.getDay(),He=pt>4||pt===0?hm.ceil(He):hm(He),He=Dd.offset(He,(le.V-1)*7),le.y=He.getFullYear(),le.m=He.getMonth(),le.d=He.getDate()+(le.w+6)%7)}else("W"in le||"U"in le)&&("w"in le||(le.w="u"in le?le.u%7:"W"in le?1:0),pt="Z"in le?ex(qc(le.y,0,1)).getUTCDay():Z_(qc(le.y,0,1)).getDay(),le.m=0,le.d="W"in le?(le.w+6)%7+le.W*7-(pt+5)%7:le.w+le.U*7-(pt+6)%7);return"Z"in le?(le.H+=le.Z/100|0,le.M+=le.Z%100,ex(le)):Z_(le)}}function P(he,Ie,ze,le){for(var st=0,He=Ie.length,pt=ze.length,Et,Ht;st<He;){if(le>=pt)return-1;if(Et=Ie.charCodeAt(st++),Et===37){if(Et=Ie.charAt(st++),Ht=N[Et in YN?Ie.charAt(st++):Et],!Ht||(le=Ht(he,ze,le))<0)return-1}else if(Et!=ze.charCodeAt(le++))return-1}return le}function R(he,Ie,ze){var le=f.exec(Ie.slice(ze));return le?(he.p=h.get(le[0].toLowerCase()),ze+le[0].length):-1}function F(he,Ie,ze){var le=b.exec(Ie.slice(ze));return le?(he.w=x.get(le[0].toLowerCase()),ze+le[0].length):-1}function M(he,Ie,ze){var le=p.exec(Ie.slice(ze));return le?(he.w=v.get(le[0].toLowerCase()),ze+le[0].length):-1}function V(he,Ie,ze){var le=O.exec(Ie.slice(ze));return le?(he.m=k.get(le[0].toLowerCase()),ze+le[0].length):-1}function D(he,Ie,ze){var le=w.exec(Ie.slice(ze));return le?(he.m=E.get(le[0].toLowerCase()),ze+le[0].length):-1}function Z(he,Ie,ze){return P(he,e,Ie,ze)}function ee(he,Ie,ze){return P(he,r,Ie,ze)}function re(he,Ie,ze){return P(he,n,Ie,ze)}function ae(he){return s[he.getDay()]}function Q(he){return a[he.getDay()]}function ie(he){return c[he.getMonth()]}function oe(he){return u[he.getMonth()]}function q(he){return i[+(he.getHours()>=12)]}function G(he){return 1+~~(he.getMonth()/3)}function ce(he){return s[he.getUTCDay()]}function xe(he){return a[he.getUTCDay()]}function Ne(he){return c[he.getUTCMonth()]}function be(he){return u[he.getUTCMonth()]}function je(he){return i[+(he.getUTCHours()>=12)]}function Fe(he){return 1+~~(he.getUTCMonth()/3)}return{format:function(he){var Ie=j(he+="",I);return Ie.toString=function(){return he},Ie},parse:function(he){var Ie=A(he+="",!1);return Ie.toString=function(){return he},Ie},utcFormat:function(he){var Ie=j(he+="",$);return Ie.toString=function(){return he},Ie},utcParse:function(he){var Ie=A(he+="",!0);return Ie.toString=function(){return he},Ie}}}var YN={"-":"",_:" ",0:"0"},Ir=/^\s*\d+/,_X=/^%/,xX=/[\\^$*+?|[\]().{}]/g;function dt(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function wX(t){return t.replace(xX,"\\$&")}function zc(t){return new RegExp("^(?:"+t.map(wX).join("|")+")","i")}function Wc(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function EX(t,e,r){var n=Ir.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function SX(t,e,r){var n=Ir.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function TX(t,e,r){var n=Ir.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function AX(t,e,r){var n=Ir.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function PX(t,e,r){var n=Ir.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function XN(t,e,r){var n=Ir.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function QN(t,e,r){var n=Ir.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function kX(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function IX(t,e,r){var n=Ir.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function OX(t,e,r){var n=Ir.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function JN(t,e,r){var n=Ir.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function CX(t,e,r){var n=Ir.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function ZN(t,e,r){var n=Ir.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function NX(t,e,r){var n=Ir.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function RX(t,e,r){var n=Ir.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function jX(t,e,r){var n=Ir.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function DX(t,e,r){var n=Ir.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function MX(t,e,r){var n=_X.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function LX(t,e,r){var n=Ir.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function $X(t,e,r){var n=Ir.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function eR(t,e){return dt(t.getDate(),e,2)}function FX(t,e){return dt(t.getHours(),e,2)}function VX(t,e){return dt(t.getHours()%12||12,e,2)}function BX(t,e){return dt(1+Dd.count(Za(t),t),e,3)}function q$(t,e){return dt(t.getMilliseconds(),e,3)}function UX(t,e){return q$(t,e)+"000"}function qX(t,e){return dt(t.getMonth()+1,e,2)}function zX(t,e){return dt(t.getMinutes(),e,2)}function WX(t,e){return dt(t.getSeconds(),e,2)}function HX(t){var e=t.getDay();return e===0?7:e}function KX(t,e){return dt(kg.count(Za(t)-1,t),e,2)}function z$(t){var e=t.getDay();return e>=4||e===0?Iu(t):Iu.ceil(t)}function GX(t,e){return t=z$(t),dt(Iu.count(Za(t),t)+(Za(t).getDay()===4),e,2)}function YX(t){return t.getDay()}function XX(t,e){return dt(hm.count(Za(t)-1,t),e,2)}function QX(t,e){return dt(t.getFullYear()%100,e,2)}function JX(t,e){return t=z$(t),dt(t.getFullYear()%100,e,2)}function ZX(t,e){return dt(t.getFullYear()%1e4,e,4)}function eQ(t,e){var r=t.getDay();return t=r>=4||r===0?Iu(t):Iu.ceil(t),dt(t.getFullYear()%1e4,e,4)}function tQ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+dt(e/60|0,"0",2)+dt(e%60,"0",2)}function tR(t,e){return dt(t.getUTCDate(),e,2)}function rQ(t,e){return dt(t.getUTCHours(),e,2)}function nQ(t,e){return dt(t.getUTCHours()%12||12,e,2)}function iQ(t,e){return dt(1+Pg.count(eo(t),t),e,3)}function W$(t,e){return dt(t.getUTCMilliseconds(),e,3)}function aQ(t,e){return W$(t,e)+"000"}function oQ(t,e){return dt(t.getUTCMonth()+1,e,2)}function sQ(t,e){return dt(t.getUTCMinutes(),e,2)}function lQ(t,e){return dt(t.getUTCSeconds(),e,2)}function uQ(t){var e=t.getUTCDay();return e===0?7:e}function cQ(t,e){return dt(Ig.count(eo(t)-1,t),e,2)}function H$(t){var e=t.getUTCDay();return e>=4||e===0?Ou(t):Ou.ceil(t)}function fQ(t,e){return t=H$(t),dt(Ou.count(eo(t),t)+(eo(t).getUTCDay()===4),e,2)}function dQ(t){return t.getUTCDay()}function hQ(t,e){return dt(pm.count(eo(t)-1,t),e,2)}function pQ(t,e){return dt(t.getUTCFullYear()%100,e,2)}function mQ(t,e){return t=H$(t),dt(t.getUTCFullYear()%100,e,2)}function gQ(t,e){return dt(t.getUTCFullYear()%1e4,e,4)}function yQ(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Ou(t):Ou.ceil(t),dt(t.getUTCFullYear()%1e4,e,4)}function vQ(){return"+0000"}function rR(){return"%"}function nR(t){return+t}function iR(t){return Math.floor(+t/1e3)}var Xl,K$,G$;bQ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function bQ(t){return Xl=bX(t),K$=Xl.format,Xl.parse,G$=Xl.utcFormat,Xl.utcParse,Xl}function _Q(t){return new Date(t)}function xQ(t){return t instanceof Date?+t:+new Date(+t)}function wS(t,e,r,n,i,a,s,u,c,f){var h=lS(),p=h.invert,v=h.domain,b=f(".%L"),x=f(":%S"),w=f("%I:%M"),E=f("%I %p"),O=f("%a %d"),k=f("%b %d"),I=f("%B"),$=f("%Y");function N(j){return(c(j)<j?b:u(j)<j?x:s(j)<j?w:a(j)<j?E:n(j)<j?i(j)<j?O:k:r(j)<j?I:$)(j)}return h.invert=function(j){return new Date(p(j))},h.domain=function(j){return arguments.length?v(Array.from(j,xQ)):v().map(_Q)},h.ticks=function(j){var A=v();return t(A[0],A[A.length-1],j??10)},h.tickFormat=function(j,A){return A==null?N:f(A)},h.nice=function(j){var A=v();return(!j||typeof j.range!="function")&&(j=e(A[0],A[A.length-1],j??10)),j?v(j$(A,j)):h},h.copy=function(){return jd(h,wS(t,e,r,n,i,a,s,u,c,f))},h}function wQ(){return hi.apply(wS(yX,vX,Za,_S,kg,Dd,vS,gS,Ls,K$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function EQ(){return hi.apply(wS(mX,gX,eo,xS,Ig,Pg,bS,yS,Ls,G$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Og(){var t=0,e=1,r,n,i,a,s=ln,u=!1,c;function f(p){return p==null||isNaN(p=+p)?c:s(i===0?.5:(p=(a(p)-r)*i,u?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,e]=p,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),f):[t,e]},f.clamp=function(p){return arguments.length?(u=!!p,f):u},f.interpolator=function(p){return arguments.length?(s=p,f):s};function h(p){return function(v){var b,x;return arguments.length?([b,x]=v,s=p(b,x),f):[s(0),s(1)]}}return f.range=h(rc),f.rangeRound=h(sS),f.unknown=function(p){return arguments.length?(c=p,f):c},function(p){return a=p,r=p(t),n=p(e),i=r===n?0:1/(n-r),f}}function ns(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Y$(){var t=rs(Og()(ln));return t.copy=function(){return ns(t,Y$())},no.apply(t,arguments)}function X$(){var t=fS(Og()).domain([1,10]);return t.copy=function(){return ns(t,X$()).base(t.base())},no.apply(t,arguments)}function Q$(){var t=dS(Og());return t.copy=function(){return ns(t,Q$()).constant(t.constant())},no.apply(t,arguments)}function ES(){var t=hS(Og());return t.copy=function(){return ns(t,ES()).exponent(t.exponent())},no.apply(t,arguments)}function SQ(){return ES.apply(null,arguments).exponent(.5)}function J$(){var t=[],e=ln;function r(n){if(n!=null&&!isNaN(n=+n))return e((Nd(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ho),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>cY(t,a/n))},r.copy=function(){return J$(e).domain(t)},no.apply(r,arguments)}function Cg(){var t=0,e=.5,r=1,n=1,i,a,s,u,c,f=ln,h,p=!1,v;function b(w){return isNaN(w=+w)?v:(w=.5+((w=+h(w))-a)*(n*w<n*a?u:c),f(p?Math.max(0,Math.min(1,w)):w))}b.domain=function(w){return arguments.length?([t,e,r]=w,i=h(t=+t),a=h(e=+e),s=h(r=+r),u=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,b):[t,e,r]},b.clamp=function(w){return arguments.length?(p=!!w,b):p},b.interpolator=function(w){return arguments.length?(f=w,b):f};function x(w){return function(E){var O,k,I;return arguments.length?([O,k,I]=E,f=MY(w,[O,k,I]),b):[f(0),f(.5),f(1)]}}return b.range=x(rc),b.rangeRound=x(sS),b.unknown=function(w){return arguments.length?(v=w,b):v},function(w){return h=w,i=w(t),a=w(e),s=w(r),u=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,b}}function Z$(){var t=rs(Cg()(ln));return t.copy=function(){return ns(t,Z$())},no.apply(t,arguments)}function e4(){var t=fS(Cg()).domain([.1,1,10]);return t.copy=function(){return ns(t,e4()).base(t.base())},no.apply(t,arguments)}function t4(){var t=dS(Cg());return t.copy=function(){return ns(t,t4()).constant(t.constant())},no.apply(t,arguments)}function SS(){var t=hS(Cg());return t.copy=function(){return ns(t,SS()).exponent(t.exponent())},no.apply(t,arguments)}function TQ(){return SS.apply(null,arguments).exponent(.5)}const aR=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Lf,scaleDiverging:Z$,scaleDivergingLog:e4,scaleDivergingPow:SS,scaleDivergingSqrt:TQ,scaleDivergingSymlog:t4,scaleIdentity:R$,scaleImplicit:$w,scaleLinear:fm,scaleLog:D$,scaleOrdinal:iS,scalePoint:pf,scalePow:pS,scaleQuantile:$$,scaleQuantize:F$,scaleRadial:L$,scaleSequential:Y$,scaleSequentialLog:X$,scaleSequentialPow:ES,scaleSequentialQuantile:J$,scaleSequentialSqrt:SQ,scaleSequentialSymlog:Q$,scaleSqrt:aX,scaleSymlog:M$,scaleThreshold:V$,scaleTime:wQ,scaleUtc:EQ,tickFormat:N$},Symbol.toStringTag,{value:"Module"}));var tx,oR;function Ng(){if(oR)return tx;oR=1;var t=Ju();function e(r,n,i){for(var a=-1,s=r.length;++a<s;){var u=r[a],c=n(u);if(c!=null&&(f===void 0?c===c&&!t(c):i(c,f)))var f=c,h=u}return h}return tx=e,tx}var rx,sR;function r4(){if(sR)return rx;sR=1;function t(e,r){return e>r}return rx=t,rx}var nx,lR;function AQ(){if(lR)return nx;lR=1;var t=Ng(),e=r4(),r=tc();function n(i){return i&&i.length?t(i,r,e):void 0}return nx=n,nx}var PQ=AQ();const Rg=vt(PQ);var ix,uR;function n4(){if(uR)return ix;uR=1;function t(e,r){return e<r}return ix=t,ix}var ax,cR;function kQ(){if(cR)return ax;cR=1;var t=Ng(),e=n4(),r=tc();function n(i){return i&&i.length?t(i,r,e):void 0}return ax=n,ax}var IQ=kQ();const jg=vt(IQ);var ox,fR;function OQ(){if(fR)return ox;fR=1;var t=VE(),e=ya(),r=f$(),n=Sn();function i(a,s){var u=n(a)?t:r;return u(a,e(s,3))}return ox=i,ox}var sx,dR;function CQ(){if(dR)return sx;dR=1;var t=u$(),e=OQ();function r(n,i){return t(e(n,i),1)}return sx=r,sx}var NQ=CQ();const RQ=vt(NQ);var lx,hR;function jQ(){if(hR)return lx;hR=1;var t=ZE();function e(r,n){return t(r,n)}return lx=e,lx}var DQ=jQ();const Md=vt(DQ);var nc=1e9,MQ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},AS,Bt=!0,di="[DecimalError] ",qs=di+"Invalid argument: ",TS=di+"Exponent out of range: ",ic=Math.floor,Ns=Math.pow,LQ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Vn,Pr=1e7,Dt=7,i4=9007199254740991,mm=ic(i4/Dt),Pe={};Pe.absoluteValue=Pe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Pe.comparedTo=Pe.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Pe.decimalPlaces=Pe.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Dt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Pe.dividedBy=Pe.div=function(t){return Wa(this,new this.constructor(t))};Pe.dividedToIntegerBy=Pe.idiv=function(t){var e=this,r=e.constructor;return Tt(Wa(e,new r(t),0,1),r.precision)};Pe.equals=Pe.eq=function(t){return!this.cmp(t)};Pe.exponent=function(){return ur(this)};Pe.greaterThan=Pe.gt=function(t){return this.cmp(t)>0};Pe.greaterThanOrEqualTo=Pe.gte=function(t){return this.cmp(t)>=0};Pe.isInteger=Pe.isint=function(){return this.e>this.d.length-2};Pe.isNegative=Pe.isneg=function(){return this.s<0};Pe.isPositive=Pe.ispos=function(){return this.s>0};Pe.isZero=function(){return this.s===0};Pe.lessThan=Pe.lt=function(t){return this.cmp(t)<0};Pe.lessThanOrEqualTo=Pe.lte=function(t){return this.cmp(t)<1};Pe.logarithm=Pe.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Vn))throw Error(di+"NaN");if(r.s<1)throw Error(di+(r.s?"NaN":"-Infinity"));return r.eq(Vn)?new n(0):(Bt=!1,e=Wa(Uf(r,a),Uf(t,a),a),Bt=!0,Tt(e,i))};Pe.minus=Pe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?s4(e,t):a4(e,(t.s=-t.s,t))};Pe.modulo=Pe.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(di+"NaN");return r.s?(Bt=!1,e=Wa(r,t,0,1).times(t),Bt=!0,r.minus(e)):Tt(new n(r),i)};Pe.naturalExponential=Pe.exp=function(){return o4(this)};Pe.naturalLogarithm=Pe.ln=function(){return Uf(this)};Pe.negated=Pe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Pe.plus=Pe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?a4(e,t):s4(e,(t.s=-t.s,t))};Pe.precision=Pe.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(qs+t);if(e=ur(i)+1,n=i.d.length-1,r=n*Dt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Pe.squareRoot=Pe.sqrt=function(){var t,e,r,n,i,a,s,u=this,c=u.constructor;if(u.s<1){if(!u.s)return new c(0);throw Error(di+"NaN")}for(t=ur(u),Bt=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=na(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=ic((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(i.toString()),r=c.precision,i=s=r+3;;)if(a=n,n=a.plus(Wa(u,a,s+2)).times(.5),na(a.d).slice(0,s)===(e=na(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Tt(a,r+1,0),a.times(a).eq(u)){n=a;break}}else if(e!="9999")break;s+=4}return Bt=!0,Tt(n,r)};Pe.times=Pe.mul=function(t){var e,r,n,i,a,s,u,c,f,h=this,p=h.constructor,v=h.d,b=(t=new p(t)).d;if(!h.s||!t.s)return new p(0);for(t.s*=h.s,r=h.e+t.e,c=v.length,f=b.length,c<f&&(a=v,v=b,b=a,s=c,c=f,f=s),a=[],s=c+f,n=s;n--;)a.push(0);for(n=f;--n>=0;){for(e=0,i=c+n;i>n;)u=a[i]+b[n]*v[i-n-1]+e,a[i--]=u%Pr|0,e=u/Pr|0;a[i]=(a[i]+e)%Pr|0}for(;!a[--s];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,Bt?Tt(t,p.precision):t};Pe.toDecimalPlaces=Pe.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(da(t,0,nc),e===void 0?e=n.rounding:da(e,0,8),Tt(r,t+ur(r)+1,e))};Pe.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=tl(n,!0):(da(t,0,nc),e===void 0?e=i.rounding:da(e,0,8),n=Tt(new i(n),t+1,e),r=tl(n,!0,t+1)),r};Pe.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?tl(i):(da(t,0,nc),e===void 0?e=a.rounding:da(e,0,8),n=Tt(new a(i),t+ur(i)+1,e),r=tl(n.abs(),!1,t+ur(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Pe.toInteger=Pe.toint=function(){var t=this,e=t.constructor;return Tt(new e(t),ur(t)+1,e.rounding)};Pe.toNumber=function(){return+this};Pe.toPower=Pe.pow=function(t){var e,r,n,i,a,s,u=this,c=u.constructor,f=12,h=+(t=new c(t));if(!t.s)return new c(Vn);if(u=new c(u),!u.s){if(t.s<1)throw Error(di+"Infinity");return u}if(u.eq(Vn))return u;if(n=c.precision,t.eq(Vn))return Tt(u,n);if(e=t.e,r=t.d.length-1,s=e>=r,a=u.s,s){if((r=h<0?-h:h)<=i4){for(i=new c(Vn),e=Math.ceil(n/Dt+4),Bt=!1;r%2&&(i=i.times(u),mR(i.d,e)),r=ic(r/2),r!==0;)u=u.times(u),mR(u.d,e);return Bt=!0,t.s<0?new c(Vn).div(i):Tt(i,n)}}else if(a<0)throw Error(di+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,u.s=1,Bt=!1,i=t.times(Uf(u,n+f)),Bt=!0,i=o4(i),i.s=a,i};Pe.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=ur(i),n=tl(i,r<=a.toExpNeg||r>=a.toExpPos)):(da(t,1,nc),e===void 0?e=a.rounding:da(e,0,8),i=Tt(new a(i),t,e),r=ur(i),n=tl(i,t<=r||r<=a.toExpNeg,t)),n};Pe.toSignificantDigits=Pe.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(da(t,1,nc),e===void 0?e=n.rounding:da(e,0,8)),Tt(new n(r),t,e)};Pe.toString=Pe.valueOf=Pe.val=Pe.toJSON=Pe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=ur(t),r=t.constructor;return tl(t,e<=r.toExpNeg||e>=r.toExpPos)};function a4(t,e){var r,n,i,a,s,u,c,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),Bt?Tt(e,p):e;if(c=t.d,f=e.d,s=t.e,i=e.e,c=c.slice(),a=s-i,a){for(a<0?(n=c,a=-a,u=f.length):(n=f,i=s,u=c.length),s=Math.ceil(p/Dt),u=s>u?s+1:u+1,a>u&&(a=u,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(u=c.length,a=f.length,u-a<0&&(a=u,n=f,f=c,c=n),r=0;a;)r=(c[--a]=c[a]+f[a]+r)/Pr|0,c[a]%=Pr;for(r&&(c.unshift(r),++i),u=c.length;c[--u]==0;)c.pop();return e.d=c,e.e=i,Bt?Tt(e,p):e}function da(t,e,r){if(t!==~~t||t<e||t>r)throw Error(qs+t)}function na(t){var e,r,n,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)n=t[e]+"",r=Dt-n.length,r&&(a+=Ro(r)),a+=n;s=t[e],n=s+"",r=Dt-n.length,r&&(a+=Ro(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Wa=function(){function t(n,i){var a,s=0,u=n.length;for(n=n.slice();u--;)a=n[u]*i+s,n[u]=a%Pr|0,s=a/Pr|0;return s&&n.unshift(s),n}function e(n,i,a,s){var u,c;if(a!=s)c=a>s?1:-1;else for(u=c=0;u<a;u++)if(n[u]!=i[u]){c=n[u]>i[u]?1:-1;break}return c}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*Pr+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var u,c,f,h,p,v,b,x,w,E,O,k,I,$,N,j,A,P,R=n.constructor,F=n.s==i.s?1:-1,M=n.d,V=i.d;if(!n.s)return new R(n);if(!i.s)throw Error(di+"Division by zero");for(c=n.e-i.e,A=V.length,N=M.length,b=new R(F),x=b.d=[],f=0;V[f]==(M[f]||0);)++f;if(V[f]>(M[f]||0)&&--c,a==null?k=a=R.precision:s?k=a+(ur(n)-ur(i))+1:k=a,k<0)return new R(0);if(k=k/Dt+2|0,f=0,A==1)for(h=0,V=V[0],k++;(f<N||h)&&k--;f++)I=h*Pr+(M[f]||0),x[f]=I/V|0,h=I%V|0;else{for(h=Pr/(V[0]+1)|0,h>1&&(V=t(V,h),M=t(M,h),A=V.length,N=M.length),$=A,w=M.slice(0,A),E=w.length;E<A;)w[E++]=0;P=V.slice(),P.unshift(0),j=V[0],V[1]>=Pr/2&&++j;do h=0,u=e(V,w,A,E),u<0?(O=w[0],A!=E&&(O=O*Pr+(w[1]||0)),h=O/j|0,h>1?(h>=Pr&&(h=Pr-1),p=t(V,h),v=p.length,E=w.length,u=e(p,w,v,E),u==1&&(h--,r(p,A<v?P:V,v))):(h==0&&(u=h=1),p=V.slice()),v=p.length,v<E&&p.unshift(0),r(w,p,E),u==-1&&(E=w.length,u=e(V,w,A,E),u<1&&(h++,r(w,A<E?P:V,E))),E=w.length):u===0&&(h++,w=[0]),x[f++]=h,u&&w[0]?w[E++]=M[$]||0:(w=[M[$]],E=1);while(($++<N||w[0]!==void 0)&&k--)}return x[0]||x.shift(),b.e=c,Tt(b,s?a+ur(b)+1:a)}}();function o4(t,e){var r,n,i,a,s,u,c=0,f=0,h=t.constructor,p=h.precision;if(ur(t)>16)throw Error(TS+ur(t));if(!t.s)return new h(Vn);for(Bt=!1,u=p,s=new h(.03125);t.abs().gte(.1);)t=t.times(s),f+=5;for(n=Math.log(Ns(2,f))/Math.LN10*2+5|0,u+=n,r=i=a=new h(Vn),h.precision=u;;){if(i=Tt(i.times(t),u),r=r.times(++c),s=a.plus(Wa(i,r,u)),na(s.d).slice(0,u)===na(a.d).slice(0,u)){for(;f--;)a=Tt(a.times(a),u);return h.precision=p,e==null?(Bt=!0,Tt(a,p)):a}a=s}}function ur(t){for(var e=t.e*Dt,r=t.d[0];r>=10;r/=10)e++;return e}function ux(t,e,r){if(e>t.LN10.sd())throw Bt=!0,r&&(t.precision=r),Error(di+"LN10 precision limit exceeded");return Tt(new t(t.LN10),e)}function Ro(t){for(var e="";t--;)e+="0";return e}function Uf(t,e){var r,n,i,a,s,u,c,f,h,p=1,v=10,b=t,x=b.d,w=b.constructor,E=w.precision;if(b.s<1)throw Error(di+(b.s?"NaN":"-Infinity"));if(b.eq(Vn))return new w(0);if(e==null?(Bt=!1,f=E):f=e,b.eq(10))return e==null&&(Bt=!0),ux(w,f);if(f+=v,w.precision=f,r=na(x),n=r.charAt(0),a=ur(b),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)b=b.times(t),r=na(b.d),n=r.charAt(0),p++;a=ur(b),n>1?(b=new w("0."+r),a++):b=new w(n+"."+r.slice(1))}else return c=ux(w,f+2,E).times(a+""),b=Uf(new w(n+"."+r.slice(1)),f-v).plus(c),w.precision=E,e==null?(Bt=!0,Tt(b,E)):b;for(u=s=b=Wa(b.minus(Vn),b.plus(Vn),f),h=Tt(b.times(b),f),i=3;;){if(s=Tt(s.times(h),f),c=u.plus(Wa(s,new w(i),f)),na(c.d).slice(0,f)===na(u.d).slice(0,f))return u=u.times(2),a!==0&&(u=u.plus(ux(w,f+2,E).times(a+""))),u=Wa(u,new w(p),f),w.precision=E,e==null?(Bt=!0,Tt(u,E)):u;u=c,i+=2}}function pR(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=ic(r/Dt),t.d=[],n=(r+1)%Dt,r<0&&(n+=Dt),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Dt;n<i;)t.d.push(+e.slice(n,n+=Dt));e=e.slice(n),n=Dt-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Bt&&(t.e>mm||t.e<-mm))throw Error(TS+r)}else t.s=0,t.e=0,t.d=[0];return t}function Tt(t,e,r){var n,i,a,s,u,c,f,h,p=t.d;for(s=1,a=p[0];a>=10;a/=10)s++;if(n=e-s,n<0)n+=Dt,i=e,f=p[h=0];else{if(h=Math.ceil((n+1)/Dt),a=p.length,h>=a)return t;for(f=a=p[h],s=1;a>=10;a/=10)s++;n%=Dt,i=n-Dt+s}if(r!==void 0&&(a=Ns(10,s-i-1),u=f/a%10|0,c=e<0||p[h+1]!==void 0||f%a,c=r<4?(u||c)&&(r==0||r==(t.s<0?3:2)):u>5||u==5&&(r==4||c||r==6&&(n>0?i>0?f/Ns(10,s-i):0:p[h-1])%10&1||r==(t.s<0?8:7))),e<1||!p[0])return c?(a=ur(t),p.length=1,e=e-a-1,p[0]=Ns(10,(Dt-e%Dt)%Dt),t.e=ic(-e/Dt)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(n==0?(p.length=h,a=1,h--):(p.length=h+1,a=Ns(10,Dt-n),p[h]=i>0?(f/Ns(10,s-i)%Ns(10,i)|0)*a:0),c)for(;;)if(h==0){(p[0]+=a)==Pr&&(p[0]=1,++t.e);break}else{if(p[h]+=a,p[h]!=Pr)break;p[h--]=0,a=1}for(n=p.length;p[--n]===0;)p.pop();if(Bt&&(t.e>mm||t.e<-mm))throw Error(TS+ur(t));return t}function s4(t,e){var r,n,i,a,s,u,c,f,h,p,v=t.constructor,b=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),Bt?Tt(e,b):e;if(c=t.d,p=e.d,n=e.e,f=t.e,c=c.slice(),s=f-n,s){for(h=s<0,h?(r=c,s=-s,u=p.length):(r=p,n=f,u=c.length),i=Math.max(Math.ceil(b/Dt),u)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=c.length,u=p.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(c[i]!=p[i]){h=c[i]<p[i];break}s=0}for(h&&(r=c,c=p,p=r,e.s=-e.s),u=c.length,i=p.length-u;i>0;--i)c[u++]=0;for(i=p.length;i>s;){if(c[--i]<p[i]){for(a=i;a&&c[--a]===0;)c[a]=Pr-1;--c[a],c[i]+=Pr}c[i]-=p[i]}for(;c[--u]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Bt?Tt(e,b):e):new v(0)}function tl(t,e,r){var n,i=ur(t),a=na(t.d),s=a.length;return e?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+Ro(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ro(-i-1)+a,r&&(n=r-s)>0&&(a+=Ro(n))):i>=s?(a+=Ro(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+Ro(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=Ro(n))),t.s<0?"-"+a:a}function mR(t,e){if(t.length>e)return t.length=e,!0}function l4(t){var e,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(qs+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return pR(s,a.toString())}else if(typeof a!="string")throw Error(qs+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,LQ.test(a))pR(s,a);else throw Error(qs+a)}if(i.prototype=Pe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=l4,i.config=i.set=$Q,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function $Q(t){if(!t||typeof t!="object")throw Error(di+"Object expected");var e,r,n,i=["precision",1,nc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(ic(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(qs+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(qs+r+": "+n);return this}var AS=l4(MQ);Vn=new AS(1);const wt=AS;function FQ(t){return qQ(t)||UQ(t)||BQ(t)||VQ()}function VQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BQ(t,e){if(t){if(typeof t=="string")return Uw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Uw(t,e)}}function UQ(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function qQ(t){if(Array.isArray(t))return Uw(t)}function Uw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var zQ=function(e){return e},u4={},c4=function(e){return e===u4},gR=function(e){return function r(){return arguments.length===0||arguments.length===1&&c4(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},WQ=function t(e,r){return e===1?r:gR(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var s=i.filter(function(u){return u!==u4}).length;return s>=e?r.apply(void 0,i):t(e-s,gR(function(){for(var u=arguments.length,c=new Array(u),f=0;f<u;f++)c[f]=arguments[f];var h=i.map(function(p){return c4(p)?c.shift():p});return r.apply(void 0,FQ(h).concat(c))}))})},Dg=function(e){return WQ(e.length,e)},qw=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},HQ=Dg(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),KQ=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return zQ;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(u,c){return c(u)},a.apply(void 0,arguments))}},zw=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},f4=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r&&a.every(function(u,c){return u===r[c]})||(r=a,n=e.apply(void 0,a)),n}};function GQ(t){var e;return t===0?e=1:e=Math.floor(new wt(t).abs().log(10).toNumber())+1,e}function YQ(t,e,r){for(var n=new wt(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var XQ=Dg(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),QQ=Dg(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),JQ=Dg(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const Mg={rangeStep:YQ,getDigitCount:GQ,interpolateNumber:XQ,uninterpolateNumber:QQ,uninterpolateTruncation:JQ};function Ww(t){return tJ(t)||eJ(t)||d4(t)||ZQ()}function ZQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eJ(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function tJ(t){if(Array.isArray(t))return Hw(t)}function qf(t,e){return iJ(t)||nJ(t,e)||d4(t,e)||rJ()}function rJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d4(t,e){if(t){if(typeof t=="string")return Hw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hw(t,e)}}function Hw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nJ(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var s=t[Symbol.iterator](),u;!(n=(u=s.next()).done)&&(r.push(u.value),!(e&&r.length===e));n=!0);}catch(c){i=!0,a=c}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw a}}return r}}function iJ(t){if(Array.isArray(t))return t}function h4(t){var e=qf(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function p4(t,e,r){if(t.lte(0))return new wt(0);var n=Mg.getDigitCount(t.toNumber()),i=new wt(10).pow(n),a=t.div(i),s=n!==1?.05:.1,u=new wt(Math.ceil(a.div(s).toNumber())).add(r).mul(s),c=u.mul(i);return e?c:new wt(Math.ceil(c))}function aJ(t,e,r){var n=1,i=new wt(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new wt(10).pow(Mg.getDigitCount(t)-1),i=new wt(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new wt(Math.floor(t)))}else t===0?i=new wt(Math.floor((e-1)/2)):r||(i=new wt(Math.floor(t)));var s=Math.floor((e-1)/2),u=KQ(HQ(function(c){return i.add(new wt(c-s).mul(n)).toNumber()}),qw);return u(0,e)}function m4(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new wt(0),tickMin:new wt(0),tickMax:new wt(0)};var a=p4(new wt(e).sub(t).div(r-1),n,i),s;t<=0&&e>=0?s=new wt(0):(s=new wt(t).add(e).div(2),s=s.sub(new wt(s).mod(a)));var u=Math.ceil(s.sub(t).div(a).toNumber()),c=Math.ceil(new wt(e).sub(s).div(a).toNumber()),f=u+c+1;return f>r?m4(t,e,r,n,i+1):(f<r&&(c=e>0?c+(r-f):c,u=e>0?u:u+(r-f)),{step:a,tickMin:s.sub(new wt(u).mul(a)),tickMax:s.add(new wt(c).mul(a))})}function oJ(t){var e=qf(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),u=h4([r,n]),c=qf(u,2),f=c[0],h=c[1];if(f===-1/0||h===1/0){var p=h===1/0?[f].concat(Ww(qw(0,i-1).map(function(){return 1/0}))):[].concat(Ww(qw(0,i-1).map(function(){return-1/0})),[h]);return r>n?zw(p):p}if(f===h)return aJ(f,i,a);var v=m4(f,h,s,a),b=v.step,x=v.tickMin,w=v.tickMax,E=Mg.rangeStep(x,w.add(new wt(.1).mul(b)),b);return r>n?zw(E):E}function sJ(t,e){var r=qf(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=h4([n,i]),u=qf(s,2),c=u[0],f=u[1];if(c===-1/0||f===1/0)return[n,i];if(c===f)return[c];var h=Math.max(e,2),p=p4(new wt(f).sub(c).div(h-1),a,0),v=[].concat(Ww(Mg.rangeStep(new wt(c),new wt(f).sub(new wt(.99).mul(p)),p)),[f]);return n>i?zw(v):v}var lJ=f4(oJ),uJ=f4(sJ),cJ="Invariant failed";function rl(t,e){throw new Error(cJ)}var fJ=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Cu(t){"@babel/helpers - typeof";return Cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cu(t)}function gm(){return gm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gm.apply(this,arguments)}function dJ(t,e){return gJ(t)||mJ(t,e)||pJ(t,e)||hJ()}function hJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pJ(t,e){if(t){if(typeof t=="string")return yR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yR(t,e)}}function yR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function mJ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function gJ(t){if(Array.isArray(t))return t}function yJ(t,e){if(t==null)return{};var r=vJ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function vJ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function bJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _J(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,v4(n.key),n)}}function xJ(t,e,r){return e&&_J(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wJ(t,e,r){return e=ym(e),EJ(t,g4()?Reflect.construct(e,r||[],ym(t).constructor):e.apply(t,r))}function EJ(t,e){if(e&&(Cu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SJ(t)}function SJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g4=function(){return!!t})()}function ym(t){return ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ym(t)}function TJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kw(t,e)}function Kw(t,e){return Kw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Kw(t,e)}function y4(t,e,r){return e=v4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function v4(t){var e=AJ(t,"string");return Cu(e)=="symbol"?e:e+""}function AJ(t,e){if(Cu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ld=function(t){function e(){return bJ(this,e),wJ(this,e,arguments)}return TJ(e,t),xJ(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,s=n.width,u=n.dataKey,c=n.data,f=n.dataPointFormatter,h=n.xAxis,p=n.yAxis,v=yJ(n,fJ),b=qe(v,!1);this.props.direction==="x"&&h.type!=="number"&&rl();var x=c.map(function(w){var E=f(w,u),O=E.x,k=E.y,I=E.value,$=E.errorVal;if(!$)return null;var N=[],j,A;if(Array.isArray($)){var P=dJ($,2);j=P[0],A=P[1]}else j=A=$;if(a==="vertical"){var R=h.scale,F=k+i,M=F+s,V=F-s,D=R(I-j),Z=R(I+A);N.push({x1:Z,y1:M,x2:Z,y2:V}),N.push({x1:D,y1:F,x2:Z,y2:F}),N.push({x1:D,y1:M,x2:D,y2:V})}else if(a==="horizontal"){var ee=p.scale,re=O+i,ae=re-s,Q=re+s,ie=ee(I-j),oe=ee(I+A);N.push({x1:ae,y1:oe,x2:Q,y2:oe}),N.push({x1:re,y1:ie,x2:re,y2:oe}),N.push({x1:ae,y1:ie,x2:Q,y2:ie})}return z.createElement(ft,gm({className:"recharts-errorBar",key:"bar-".concat(N.map(function(q){return"".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))},b),N.map(function(q){return z.createElement("line",gm({},q,{key:"line-".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))}))});return z.createElement(ft,{className:"recharts-errorBars"},x)}}])}(z.Component);y4(Ld,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});y4(Ld,"displayName","ErrorBar");function zf(t){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zf(t)}function vR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ps(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vR(Object(r),!0).forEach(function(n){PJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function PJ(t,e,r){return e=kJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kJ(t){var e=IJ(t,"string");return zf(e)=="symbol"?e:e+""}function IJ(t,e){if(zf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var b4=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,s=Ln(r,za);if(!s)return null;var u=za.defaultProps,c=u!==void 0?Ps(Ps({},u),s.props):{},f;return s.props&&s.props.payload?f=s.props&&s.props.payload:a==="children"?f=(n||[]).reduce(function(h,p){var v=p.item,b=p.props,x=b.sectors||b.data||[];return h.concat(x.map(function(w){return{type:s.props.iconType||v.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):f=(n||[]).map(function(h){var p=h.item,v=p.type.defaultProps,b=v!==void 0?Ps(Ps({},v),p.props):{},x=b.dataKey,w=b.name,E=b.legendType,O=b.hide;return{inactive:O,dataKey:x,type:c.iconType||E||"square",color:PS(p),value:w||x,payload:b}}),Ps(Ps(Ps({},c),za.getWithHeight(s,i)),{},{payload:f,item:s})};function Wf(t){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wf(t)}function bR(t){return RJ(t)||NJ(t)||CJ(t)||OJ()}function OJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CJ(t,e){if(t){if(typeof t=="string")return Gw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gw(t,e)}}function NJ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function RJ(t){if(Array.isArray(t))return Gw(t)}function Gw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _R(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_R(Object(r),!0).forEach(function(n){mu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_R(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mu(t,e,r){return e=jJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jJ(t){var e=DJ(t,"string");return Wf(e)=="symbol"?e:e+""}function DJ(t,e){if(Wf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yr(t,e,r){return Je(t)||Je(e)?r:vr(e)?zn(t,e,r):Ye(e)?e(t):r}function mf(t,e,r,n){var i=RQ(t,function(u){return yr(u,e)});if(r==="number"){var a=i.filter(function(u){return ve(u)||parseFloat(u)});return a.length?[jg(a),Rg(a)]:[1/0,-1/0]}var s=n?i.filter(function(u){return!Je(u)}):i;return s.map(function(u){return vr(u)||u instanceof Date?u:""})}var MJ=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,u=(r=n?.length)!==null&&r!==void 0?r:0;if(u<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,f=0;f<u;f++){var h=f>0?i[f-1].coordinate:i[u-1].coordinate,p=i[f].coordinate,v=f>=u-1?i[0].coordinate:i[f+1].coordinate,b=void 0;if(on(p-h)!==on(v-p)){var x=[];if(on(v-p)===on(c[1]-c[0])){b=v;var w=p+c[1]-c[0];x[0]=Math.min(w,(w+h)/2),x[1]=Math.max(w,(w+h)/2)}else{b=h;var E=v+c[1]-c[0];x[0]=Math.min(p,(E+p)/2),x[1]=Math.max(p,(E+p)/2)}var O=[Math.min(p,(b+p)/2),Math.max(p,(b+p)/2)];if(e>O[0]&&e<=O[1]||e>=x[0]&&e<=x[1]){s=i[f].index;break}}else{var k=Math.min(h,v),I=Math.max(h,v);if(e>(k+p)/2&&e<=(I+p)/2){s=i[f].index;break}}}else for(var $=0;$<u;$++)if($===0&&e<=(n[$].coordinate+n[$+1].coordinate)/2||$>0&&$<u-1&&e>(n[$].coordinate+n[$-1].coordinate)/2&&e<=(n[$].coordinate+n[$+1].coordinate)/2||$===u-1&&e>(n[$].coordinate+n[$-1].coordinate)/2){s=n[$].index;break}return s},PS=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Yt(Yt({},e.type.defaultProps),e.props):e.props,s=a.stroke,u=a.fill,c;switch(i){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:u;break;default:c=u;break}return c},LJ=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},u=Object.keys(a),c=0,f=u.length;c<f;c++)for(var h=a[u[c]].stackGroups,p=Object.keys(h),v=0,b=p.length;v<b;v++){var x=h[p[v]],w=x.items,E=x.cateAxisId,O=w.filter(function(A){return qa(A.type).indexOf("Bar")>=0});if(O&&O.length){var k=O[0].type.defaultProps,I=k!==void 0?Yt(Yt({},k),O[0].props):O[0].props,$=I.barSize,N=I[E];s[N]||(s[N]=[]);var j=Je($)?r:$;s[N].push({item:O[0],stackList:O.slice(1),barSize:Je(j)?void 0:sn(j,n,0)})}}return s},$J=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,s=a===void 0?[]:a,u=e.maxBarSize,c=s.length;if(c<1)return null;var f=sn(r,i,0,!0),h,p=[];if(s[0].barSize===+s[0].barSize){var v=!1,b=i/c,x=s.reduce(function($,N){return $+N.barSize||0},0);x+=(c-1)*f,x>=i&&(x-=(c-1)*f,f=0),x>=i&&b>0&&(v=!0,b*=.9,x=c*b);var w=(i-x)/2>>0,E={offset:w-f,size:0};h=s.reduce(function($,N){var j={item:N.item,position:{offset:E.offset+E.size+f,size:v?b:N.barSize}},A=[].concat(bR($),[j]);return E=A[A.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(P){A.push({item:P,position:E})}),A},p)}else{var O=sn(n,i,0,!0);i-2*O-(c-1)*f<=0&&(f=0);var k=(i-2*O-(c-1)*f)/c;k>1&&(k>>=0);var I=u===+u?Math.min(k,u):k;h=s.reduce(function($,N,j){var A=[].concat(bR($),[{item:N.item,position:{offset:O+(k+f)*j+(k-I)/2,size:I}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(P){A.push({item:P,position:A[A.length-1].position})}),A},p)}return h},FJ=function(e,r,n,i){var a=n.children,s=n.width,u=n.margin,c=s-(u.left||0)-(u.right||0),f=b4({children:a,legendWidth:c});if(f){var h=i||{},p=h.width,v=h.height,b=f.align,x=f.verticalAlign,w=f.layout;if((w==="vertical"||w==="horizontal"&&x==="middle")&&b!=="center"&&ve(e[b]))return Yt(Yt({},e),{},mu({},b,e[b]+(p||0)));if((w==="horizontal"||w==="vertical"&&b==="center")&&x!=="middle"&&ve(e[x]))return Yt(Yt({},e),{},mu({},x,e[x]+(v||0)))}return e},VJ=function(e,r,n){return Je(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},_4=function(e,r,n,i,a){var s=r.props.children,u=Wn(s,Ld).filter(function(f){return VJ(i,a,f.props.direction)});if(u&&u.length){var c=u.map(function(f){return f.props.dataKey});return e.reduce(function(f,h){var p=yr(h,n);if(Je(p))return f;var v=Array.isArray(p)?[jg(p),Rg(p)]:[p,p],b=c.reduce(function(x,w){var E=yr(h,w,0),O=v[0]-Math.abs(Array.isArray(E)?E[0]:E),k=v[1]+Math.abs(Array.isArray(E)?E[1]:E);return[Math.min(O,x[0]),Math.max(k,x[1])]},[1/0,-1/0]);return[Math.min(b[0],f[0]),Math.max(b[1],f[1])]},[1/0,-1/0])}return null},BJ=function(e,r,n,i,a){var s=r.map(function(u){return _4(e,u,n,a,i)}).filter(function(u){return!Je(u)});return s&&s.length?s.reduce(function(u,c){return[Math.min(u[0],c[0]),Math.max(u[1],c[1])]},[1/0,-1/0]):null},x4=function(e,r,n,i,a){var s=r.map(function(c){var f=c.props.dataKey;return n==="number"&&f&&_4(e,c,f,i)||mf(e,f,n,a)});if(n==="number")return s.reduce(function(c,f){return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);var u={};return s.reduce(function(c,f){for(var h=0,p=f.length;h<p;h++)u[f[h]]||(u[f[h]]=!0,c.push(f[h]));return c},[])},w4=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},E4=function(e,r,n,i){if(i)return e.map(function(c){return c.coordinate});var a,s,u=e.map(function(c){return c.coordinate===r&&(a=!0),c.coordinate===n&&(s=!0),c.coordinate});return a||u.push(r),s||u.push(n),u},Ba=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,s=e.type,u=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(r||n)&&s==="category"&&i.bandwidth?i.bandwidth()/c:0;if(f=e.axisType==="angleAxis"&&u?.length>=2?on(u[0]-u[1])*2*f:f,r&&(e.ticks||e.niceTicks)){var h=(e.ticks||e.niceTicks).map(function(p){var v=a?a.indexOf(p):p;return{coordinate:i(v)+f,value:p,offset:f}});return h.filter(function(p){return!Od(p.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(p,v){return{coordinate:i(p)+f,value:p,index:v,offset:f}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(p){return{coordinate:i(p)+f,value:p,offset:f}}):i.domain().map(function(p,v){return{coordinate:i(p)+f,value:a?a[p]:p,index:v,offset:f}})},cx=new WeakMap,hp=function(e,r){if(typeof r!="function")return e;cx.has(e)||cx.set(e,new WeakMap);var n=cx.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},S4=function(e,r,n){var i=e.scale,a=e.type,s=e.layout,u=e.axisType;if(i==="auto")return s==="radial"&&u==="radiusAxis"?{scale:Lf(),realScaleType:"band"}:s==="radial"&&u==="angleAxis"?{scale:fm(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:pf(),realScaleType:"point"}:a==="category"?{scale:Lf(),realScaleType:"band"}:{scale:fm(),realScaleType:"linear"};if(Js(i)){var c="scale".concat(yg(i));return{scale:(aR[c]||pf)(),realScaleType:aR[c]?c:"point"}}return Ye(i)?{scale:i}:{scale:pf(),realScaleType:"point"}},xR=1e-4,T4=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-xR,s=Math.max(i[0],i[1])+xR,u=e(r[0]),c=e(r[n-1]);(u<a||u>s||c<a||c>s)&&e.domain([r[0],r[n-1]])}},UJ=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},qJ=function(e,r){if(!r||r.length!==2||!ve(r[0])||!ve(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!ve(e[0])||e[0]<n)&&(a[0]=n),(!ve(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},zJ=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0,u=0;u<r;++u){var c=Od(e[u][n][1])?e[u][n][0]:e[u][n][1];c>=0?(e[u][n][0]=a,e[u][n][1]=a+c,a=e[u][n][1]):(e[u][n][0]=s,e[u][n][1]=s+c,s=e[u][n][1])}},WJ=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,s=0;s<r;++s){var u=Od(e[s][n][1])?e[s][n][0]:e[s][n][1];u>=0?(e[s][n][0]=a,e[s][n][1]=a+u,a=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},HJ={sign:zJ,expand:RW,none:Eu,silhouette:jW,wiggle:DW,positive:WJ},KJ=function(e,r,n){var i=r.map(function(u){return u.props.dataKey}),a=HJ[n],s=NW().keys(i).value(function(u,c){return+yr(u,c,0)}).order(Sw).offset(a);return s(e)},GJ=function(e,r,n,i,a,s){if(!e)return null;var u=s?r.reverse():r,c={},f=u.reduce(function(p,v){var b,x=(b=v.type)!==null&&b!==void 0&&b.defaultProps?Yt(Yt({},v.type.defaultProps),v.props):v.props,w=x.stackId,E=x.hide;if(E)return p;var O=x[n],k=p[O]||{hasStack:!1,stackGroups:{}};if(vr(w)){var I=k.stackGroups[w]||{numericAxisId:n,cateAxisId:i,items:[]};I.items.push(v),k.hasStack=!0,k.stackGroups[w]=I}else k.stackGroups[ec("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[v]};return Yt(Yt({},p),{},mu({},O,k))},c),h={};return Object.keys(f).reduce(function(p,v){var b=f[v];if(b.hasStack){var x={};b.stackGroups=Object.keys(b.stackGroups).reduce(function(w,E){var O=b.stackGroups[E];return Yt(Yt({},w),{},mu({},E,{numericAxisId:n,cateAxisId:i,items:O.items,stackedData:KJ(e,O.items,a)}))},x)}return Yt(Yt({},p),{},mu({},v,b))},h)},A4=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,s=r.originalDomain,u=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var f=e.domain();if(!f.length)return null;var h=lJ(f,a,u);return e.domain([jg(h),Rg(h)]),{niceTicks:h}}if(a&&i==="number"){var p=e.domain(),v=uJ(p,a,u);return{niceTicks:v}}return null};function wR(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,a=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Je(i[e.dataKey])){var u=Kp(r,"value",i[e.dataKey]);if(u)return u.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var c=yr(i,Je(s)?e.dataKey:s);return Je(c)?null:e.scale(c)}var ER=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,s=e.entry,u=e.index;if(r.type==="category")return n[u]?n[u].coordinate+i:null;var c=yr(s,r.dataKey,r.domain[u]);return Je(c)?null:r.scale(c)-a/2+i},YJ=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},XJ=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Yt(Yt({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(vr(a)){var s=r[a];if(s){var u=s.items.indexOf(e);return u>=0?s.stackedData[u]:null}}return null},QJ=function(e){return e.reduce(function(r,n){return[jg(n.concat([r[0]]).filter(ve)),Rg(n.concat([r[1]]).filter(ve))]},[1/0,-1/0])},P4=function(e,r,n){return Object.keys(e).reduce(function(i,a){var s=e[a],u=s.stackedData,c=u.reduce(function(f,h){var p=QJ(h.slice(r,n+1));return[Math.min(f[0],p[0]),Math.max(f[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},SR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,TR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Yw=function(e,r,n){if(Ye(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(ve(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(SR.test(e[0])){var a=+SR.exec(e[0])[1];i[0]=r[0]-a}else Ye(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(ve(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(TR.test(e[1])){var s=+TR.exec(e[1])[1];i[1]=r[1]+s}else Ye(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},vm=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=tS(r,function(p){return p.coordinate}),s=1/0,u=1,c=a.length;u<c;u++){var f=a[u],h=a[u-1];s=Math.min((f.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},AR=function(e,r,n){return!e||!e.length||Md(e,zn(n,"type.defaultProps.domain"))?r:e},k4=function(e,r){var n=e.type.defaultProps?Yt(Yt({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,s=n.unit,u=n.formatter,c=n.tooltipType,f=n.chartType,h=n.hide;return Yt(Yt({},qe(e,!1)),{},{dataKey:i,unit:s,formatter:u,name:a||i,color:PS(e),value:yr(r,i),type:c,payload:r,chartType:f,hide:h})};function Hf(t){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf(t)}function PR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Da(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PR(Object(r),!0).forEach(function(n){I4(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function I4(t,e,r){return e=JJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JJ(t){var e=ZJ(t,"string");return Hf(e)=="symbol"?e:e+""}function ZJ(t,e){if(Hf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eZ(t,e){return iZ(t)||nZ(t,e)||rZ(t,e)||tZ()}function tZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rZ(t,e){if(t){if(typeof t=="string")return kR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kR(t,e)}}function kR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nZ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function iZ(t){if(Array.isArray(t))return t}var bm=Math.PI/180,aZ=function(e){return e*180/Math.PI},Nt=function(e,r,n,i){return{x:e+Math.cos(-bm*i)*n,y:r+Math.sin(-bm*i)*n}},O4=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},oZ=function(e,r,n,i,a){var s=e.width,u=e.height,c=e.startAngle,f=e.endAngle,h=sn(e.cx,s,s/2),p=sn(e.cy,u,u/2),v=O4(s,u,n),b=sn(e.innerRadius,v,0),x=sn(e.outerRadius,v,v*.8),w=Object.keys(r);return w.reduce(function(E,O){var k=r[O],I=k.domain,$=k.reversed,N;if(Je(k.range))i==="angleAxis"?N=[c,f]:i==="radiusAxis"&&(N=[b,x]),$&&(N=[N[1],N[0]]);else{N=k.range;var j=N,A=eZ(j,2);c=A[0],f=A[1]}var P=S4(k,a),R=P.realScaleType,F=P.scale;F.domain(I).range(N),T4(F);var M=A4(F,Da(Da({},k),{},{realScaleType:R})),V=Da(Da(Da({},k),M),{},{range:N,radius:x,realScaleType:R,scale:F,cx:h,cy:p,innerRadius:b,outerRadius:x,startAngle:c,endAngle:f});return Da(Da({},E),{},I4({},O,V))},{})},sZ=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-s,2))},lZ=function(e,r){var n=e.x,i=e.y,a=r.cx,s=r.cy,u=sZ({x:n,y:i},{x:a,y:s});if(u<=0)return{radius:u};var c=(n-a)/u,f=Math.acos(c);return i>s&&(f=2*Math.PI-f),{radius:u,angle:aZ(f),angleInRadian:f}},uZ=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return{startAngle:r-s*360,endAngle:n-s*360}},cZ=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),s=Math.floor(i/360),u=Math.min(a,s);return e+u*360},IR=function(e,r){var n=e.x,i=e.y,a=lZ({x:n,y:i},r),s=a.radius,u=a.angle,c=r.innerRadius,f=r.outerRadius;if(s<c||s>f)return!1;if(s===0)return!0;var h=uZ(r),p=h.startAngle,v=h.endAngle,b=u,x;if(p<=v){for(;b>v;)b-=360;for(;b<p;)b+=360;x=b>=p&&b<=v}else{for(;b>p;)b-=360;for(;b<v;)b+=360;x=b>=v&&b<=p}return x?Da(Da({},r),{},{radius:s,angle:cZ(b,r)}):null},C4=function(e){return!K.isValidElement(e)&&!Ye(e)&&typeof e!="boolean"?e.className:""};function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}var fZ=["offset"];function dZ(t){return gZ(t)||mZ(t)||pZ(t)||hZ()}function hZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pZ(t,e){if(t){if(typeof t=="string")return Xw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xw(t,e)}}function mZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gZ(t){if(Array.isArray(t))return Xw(t)}function Xw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function yZ(t,e){if(t==null)return{};var r=vZ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function vZ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function OR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OR(Object(r),!0).forEach(function(n){bZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bZ(t,e,r){return e=_Z(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _Z(t){var e=xZ(t,"string");return Kf(e)=="symbol"?e:e+""}function xZ(t,e){if(Kf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gf(){return Gf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gf.apply(this,arguments)}var wZ=function(e){var r=e.value,n=e.formatter,i=Je(e.children)?r:e.children;return Ye(n)?n(i):i},EZ=function(e,r){var n=on(r-e),i=Math.min(Math.abs(r-e),360);return n*i},SZ=function(e,r,n){var i=e.position,a=e.viewBox,s=e.offset,u=e.className,c=a,f=c.cx,h=c.cy,p=c.innerRadius,v=c.outerRadius,b=c.startAngle,x=c.endAngle,w=c.clockWise,E=(p+v)/2,O=EZ(b,x),k=O>=0?1:-1,I,$;i==="insideStart"?(I=b+k*s,$=w):i==="insideEnd"?(I=x-k*s,$=!w):i==="end"&&(I=x+k*s,$=w),$=O<=0?$:!$;var N=Nt(f,h,E,I),j=Nt(f,h,E,I+($?1:-1)*359),A="M".concat(N.x,",").concat(N.y,`
    A`).concat(E,",").concat(E,",0,1,").concat($?0:1,`,
    `).concat(j.x,",").concat(j.y),P=Je(e.id)?ec("recharts-radial-line-"):e.id;return z.createElement("text",Gf({},n,{dominantBaseline:"central",className:et("recharts-radial-bar-label",u)}),z.createElement("defs",null,z.createElement("path",{id:P,d:A})),z.createElement("textPath",{xlinkHref:"#".concat(P)},r))},TZ=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,s=a.cx,u=a.cy,c=a.innerRadius,f=a.outerRadius,h=a.startAngle,p=a.endAngle,v=(h+p)/2;if(i==="outside"){var b=Nt(s,u,f+n,v),x=b.x,w=b.y;return{x,y:w,textAnchor:x>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:u,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:u,textAnchor:"middle",verticalAnchor:"end"};var E=(c+f)/2,O=Nt(s,u,E,v),k=O.x,I=O.y;return{x:k,y:I,textAnchor:"middle",verticalAnchor:"middle"}},AZ=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,s=r,u=s.x,c=s.y,f=s.width,h=s.height,p=h>=0?1:-1,v=p*i,b=p>0?"end":"start",x=p>0?"start":"end",w=f>=0?1:-1,E=w*i,O=w>0?"end":"start",k=w>0?"start":"end";if(a==="top"){var I={x:u+f/2,y:c-p*i,textAnchor:"middle",verticalAnchor:b};return gr(gr({},I),n?{height:Math.max(c-n.y,0),width:f}:{})}if(a==="bottom"){var $={x:u+f/2,y:c+h+v,textAnchor:"middle",verticalAnchor:x};return gr(gr({},$),n?{height:Math.max(n.y+n.height-(c+h),0),width:f}:{})}if(a==="left"){var N={x:u-E,y:c+h/2,textAnchor:O,verticalAnchor:"middle"};return gr(gr({},N),n?{width:Math.max(N.x-n.x,0),height:h}:{})}if(a==="right"){var j={x:u+f+E,y:c+h/2,textAnchor:k,verticalAnchor:"middle"};return gr(gr({},j),n?{width:Math.max(n.x+n.width-j.x,0),height:h}:{})}var A=n?{width:f,height:h}:{};return a==="insideLeft"?gr({x:u+E,y:c+h/2,textAnchor:k,verticalAnchor:"middle"},A):a==="insideRight"?gr({x:u+f-E,y:c+h/2,textAnchor:O,verticalAnchor:"middle"},A):a==="insideTop"?gr({x:u+f/2,y:c+v,textAnchor:"middle",verticalAnchor:x},A):a==="insideBottom"?gr({x:u+f/2,y:c+h-v,textAnchor:"middle",verticalAnchor:b},A):a==="insideTopLeft"?gr({x:u+E,y:c+v,textAnchor:k,verticalAnchor:x},A):a==="insideTopRight"?gr({x:u+f-E,y:c+v,textAnchor:O,verticalAnchor:x},A):a==="insideBottomLeft"?gr({x:u+E,y:c+h-v,textAnchor:k,verticalAnchor:b},A):a==="insideBottomRight"?gr({x:u+f-E,y:c+h-v,textAnchor:O,verticalAnchor:b},A):Zu(a)&&(ve(a.x)||Ds(a.x))&&(ve(a.y)||Ds(a.y))?gr({x:u+sn(a.x,f),y:c+sn(a.y,h),textAnchor:"end",verticalAnchor:"end"},A):gr({x:u+f/2,y:c+h/2,textAnchor:"middle",verticalAnchor:"middle"},A)},PZ=function(e){return"cx"in e&&ve(e.cx)};function kr(t){var e=t.offset,r=e===void 0?5:e,n=yZ(t,fZ),i=gr({offset:r},n),a=i.viewBox,s=i.position,u=i.value,c=i.children,f=i.content,h=i.className,p=h===void 0?"":h,v=i.textBreakAll;if(!a||Je(u)&&Je(c)&&!K.isValidElement(f)&&!Ye(f))return null;if(K.isValidElement(f))return K.cloneElement(f,i);var b;if(Ye(f)){if(b=K.createElement(f,i),K.isValidElement(b))return b}else b=wZ(i);var x=PZ(a),w=qe(i,!0);if(x&&(s==="insideStart"||s==="insideEnd"||s==="end"))return SZ(i,b,w);var E=x?TZ(i):AZ(i);return z.createElement(el,Gf({className:et("recharts-label",p)},w,E,{breakAll:v}),b)}kr.displayName="Label";var N4=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,s=e.endAngle,u=e.r,c=e.radius,f=e.innerRadius,h=e.outerRadius,p=e.x,v=e.y,b=e.top,x=e.left,w=e.width,E=e.height,O=e.clockWise,k=e.labelViewBox;if(k)return k;if(ve(w)&&ve(E)){if(ve(p)&&ve(v))return{x:p,y:v,width:w,height:E};if(ve(b)&&ve(x))return{x:b,y:x,width:w,height:E}}return ve(p)&&ve(v)?{x:p,y:v,width:0,height:0}:ve(r)&&ve(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:s||i||0,innerRadius:f||0,outerRadius:h||c||u||0,clockWise:O}:e.viewBox?e.viewBox:{}},kZ=function(e,r){return e?e===!0?z.createElement(kr,{key:"label-implicit",viewBox:r}):vr(e)?z.createElement(kr,{key:"label-implicit",viewBox:r,value:e}):K.isValidElement(e)?e.type===kr?K.cloneElement(e,{key:"label-implicit",viewBox:r}):z.createElement(kr,{key:"label-implicit",content:e,viewBox:r}):Ye(e)?z.createElement(kr,{key:"label-implicit",content:e,viewBox:r}):Zu(e)?z.createElement(kr,Gf({viewBox:r},e,{key:"label-implicit"})):null:null},IZ=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=N4(e),s=Wn(i,kr).map(function(c,f){return K.cloneElement(c,{viewBox:r||a,key:"label-".concat(f)})});if(!n)return s;var u=kZ(e.label,r||a);return[u].concat(dZ(s))};kr.parseViewBox=N4;kr.renderCallByParent=IZ;var fx,CR;function OZ(){if(CR)return fx;CR=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return fx=t,fx}var CZ=OZ();const NZ=vt(CZ);function Yf(t){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yf(t)}var RZ=["valueAccessor"],jZ=["data","dataKey","clockWise","id","textBreakAll"];function DZ(t){return FZ(t)||$Z(t)||LZ(t)||MZ()}function MZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LZ(t,e){if(t){if(typeof t=="string")return Qw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qw(t,e)}}function $Z(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function FZ(t){if(Array.isArray(t))return Qw(t)}function Qw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _m(){return _m=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_m.apply(this,arguments)}function NR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function RR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NR(Object(r),!0).forEach(function(n){VZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function VZ(t,e,r){return e=BZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BZ(t){var e=UZ(t,"string");return Yf(e)=="symbol"?e:e+""}function UZ(t,e){if(Yf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jR(t,e){if(t==null)return{};var r=qZ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function qZ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var zZ=function(e){return Array.isArray(e.value)?NZ(e.value):e.value};function Ha(t){var e=t.valueAccessor,r=e===void 0?zZ:e,n=jR(t,RZ),i=n.data,a=n.dataKey,s=n.clockWise,u=n.id,c=n.textBreakAll,f=jR(n,jZ);return!i||!i.length?null:z.createElement(ft,{className:"recharts-label-list"},i.map(function(h,p){var v=Je(a)?r(h,p):yr(h&&h.payload,a),b=Je(u)?{}:{id:"".concat(u,"-").concat(p)};return z.createElement(kr,_m({},qe(h,!0),f,b,{parentViewBox:h.parentViewBox,value:v,textBreakAll:c,viewBox:kr.parseViewBox(Je(s)?h:RR(RR({},h),{},{clockWise:s})),key:"label-".concat(p),index:p}))}))}Ha.displayName="LabelList";function WZ(t,e){return t?t===!0?z.createElement(Ha,{key:"labelList-implicit",data:e}):z.isValidElement(t)||Ye(t)?z.createElement(Ha,{key:"labelList-implicit",data:e,content:t}):Zu(t)?z.createElement(Ha,_m({data:e},t,{key:"labelList-implicit"})):null:null}function HZ(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Wn(n,Ha).map(function(s,u){return K.cloneElement(s,{data:e,key:"labelList-".concat(u)})});if(!r)return i;var a=WZ(t.label,e);return[a].concat(DZ(i))}Ha.renderCallByParent=HZ;function Xf(t){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(t)}function Jw(){return Jw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jw.apply(this,arguments)}function DR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function MR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DR(Object(r),!0).forEach(function(n){KZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KZ(t,e,r){return e=GZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GZ(t){var e=YZ(t,"string");return Xf(e)=="symbol"?e:e+""}function YZ(t,e){if(Xf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var XZ=function(e,r){var n=on(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},pp=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,s=e.sign,u=e.isExternal,c=e.cornerRadius,f=e.cornerIsExternal,h=c*(u?1:-1)+i,p=Math.asin(c/h)/bm,v=f?a:a+s*p,b=Nt(r,n,h,v),x=Nt(r,n,i,v),w=f?a-s*p:a,E=Nt(r,n,h*Math.cos(p*bm),w);return{center:b,circleTangency:x,lineTangency:E,theta:p}},R4=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.startAngle,u=e.endAngle,c=XZ(s,u),f=s+c,h=Nt(r,n,a,s),p=Nt(r,n,a,f),v="M ".concat(h.x,",").concat(h.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>f),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(i>0){var b=Nt(r,n,i,s),x=Nt(r,n,i,f);v+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=f),`,
            `).concat(b.x,",").concat(b.y," Z")}else v+="L ".concat(r,",").concat(n," Z");return v},QZ=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,u=e.forceCornerRadius,c=e.cornerIsExternal,f=e.startAngle,h=e.endAngle,p=on(h-f),v=pp({cx:r,cy:n,radius:a,angle:f,sign:p,cornerRadius:s,cornerIsExternal:c}),b=v.circleTangency,x=v.lineTangency,w=v.theta,E=pp({cx:r,cy:n,radius:a,angle:h,sign:-p,cornerRadius:s,cornerIsExternal:c}),O=E.circleTangency,k=E.lineTangency,I=E.theta,$=c?Math.abs(f-h):Math.abs(f-h)-w-I;if($<0)return u?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):R4({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:f,endAngle:h});var N="M ".concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,").concat(+($>180),",").concat(+(p<0),",").concat(O.x,",").concat(O.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(k.x,",").concat(k.y,`
  `);if(i>0){var j=pp({cx:r,cy:n,radius:i,angle:f,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),A=j.circleTangency,P=j.lineTangency,R=j.theta,F=pp({cx:r,cy:n,radius:i,angle:h,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),M=F.circleTangency,V=F.lineTangency,D=F.theta,Z=c?Math.abs(f-h):Math.abs(f-h)-R-D;if(Z<0&&s===0)return"".concat(N,"L").concat(r,",").concat(n,"Z");N+="L".concat(V.x,",").concat(V.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(Z>180),",").concat(+(p>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(P.x,",").concat(P.y,"Z")}else N+="L".concat(r,",").concat(n,"Z");return N},JZ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},kS=function(e){var r=MR(MR({},JZ),e),n=r.cx,i=r.cy,a=r.innerRadius,s=r.outerRadius,u=r.cornerRadius,c=r.forceCornerRadius,f=r.cornerIsExternal,h=r.startAngle,p=r.endAngle,v=r.className;if(s<a||h===p)return null;var b=et("recharts-sector",v),x=s-a,w=sn(u,x,0,!0),E;return w>0&&Math.abs(h-p)<360?E=QZ({cx:n,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(w,x/2),forceCornerRadius:c,cornerIsExternal:f,startAngle:h,endAngle:p}):E=R4({cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:h,endAngle:p}),z.createElement("path",Jw({},qe(r,!0),{className:b,d:E,role:"img"}))};function Qf(t){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qf(t)}function Zw(){return Zw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zw.apply(this,arguments)}function LR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $R(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LR(Object(r),!0).forEach(function(n){ZZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZZ(t,e,r){return e=eee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eee(t){var e=tee(t,"string");return Qf(e)=="symbol"?e:e+""}function tee(t,e){if(Qf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FR={curveBasisClosed:xW,curveBasisOpen:wW,curveBasis:_W,curveBumpX:oW,curveBumpY:sW,curveLinearClosed:EW,curveLinear:bg,curveMonotoneX:SW,curveMonotoneY:TW,curveNatural:AW,curveStep:PW,curveStepAfter:IW,curveStepBefore:kW},mp=function(e){return e.x===+e.x&&e.y===+e.y},Hc=function(e){return e.x},Kc=function(e){return e.y},ree=function(e,r){if(Ye(e))return e;var n="curve".concat(yg(e));return(n==="curveMonotone"||n==="curveBump")&&r?FR["".concat(n).concat(r==="vertical"?"Y":"X")]:FR[n]||bg},nee=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,s=e.baseLine,u=e.layout,c=e.connectNulls,f=c===void 0?!1:c,h=ree(n,u),p=f?a.filter(function(w){return mp(w)}):a,v;if(Array.isArray(s)){var b=f?s.filter(function(w){return mp(w)}):s,x=p.map(function(w,E){return $R($R({},w),{},{base:b[E]})});return u==="vertical"?v=op().y(Kc).x1(Hc).x0(function(w){return w.base.x}):v=op().x(Hc).y1(Kc).y0(function(w){return w.base.y}),v.defined(mp).curve(h),v(x)}return u==="vertical"&&ve(s)?v=op().y(Kc).x1(Hc).x0(s):ve(s)?v=op().x(Hc).y1(Kc).y0(s):v=NL().x(Hc).y(Kc),v.defined(mp).curve(h),v(p)},xm=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?nee(e):i;return K.createElement("path",Zw({},qe(e,!1),Gp(e),{className:et("recharts-curve",r),d:s,ref:a}))},dx={exports:{}},hx,VR;function iee(){if(VR)return hx;VR=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return hx=t,hx}var px,BR;function aee(){if(BR)return px;BR=1;var t=iee();function e(){}function r(){}return r.resetWarningCache=e,px=function(){function n(s,u,c,f,h,p){if(p!==t){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return a.PropTypes=a,a},px}var UR;function oee(){return UR||(UR=1,dx.exports=aee()()),dx.exports}var see=oee();const gt=vt(see);var lee=Object.getOwnPropertyNames,uee=Object.getOwnPropertySymbols,cee=Object.prototype.hasOwnProperty;function qR(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function gp(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,s=a.get(r),u=a.get(n);if(s&&u)return s===n&&u===r;a.set(r,n),a.set(n,r);var c=t(r,n,i);return a.delete(r),a.delete(n),c}}function zR(t){return lee(t).concat(uee(t))}var fee=Object.hasOwn||function(t,e){return cee.call(t,e)};function hl(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var dee="__v",hee="__o",pee="_owner",WR=Object.getOwnPropertyDescriptor,HR=Object.keys;function mee(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function gee(t,e){return hl(t.getTime(),e.getTime())}function yee(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function vee(t,e){return t===e}function KR(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.entries(),s,u,c=0;(s=a.next())&&!s.done;){for(var f=e.entries(),h=!1,p=0;(u=f.next())&&!u.done;){if(i[p]){p++;continue}var v=s.value,b=u.value;if(r.equals(v[0],b[0],c,p,t,e,r)&&r.equals(v[1],b[1],v[0],b[0],t,e,r)){h=i[p]=!0;break}p++}if(!h)return!1;c++}return!0}var bee=hl;function _ee(t,e,r){var n=HR(t),i=n.length;if(HR(e).length!==i)return!1;for(;i-- >0;)if(!j4(t,e,r,n[i]))return!1;return!0}function Gc(t,e,r){var n=zR(t),i=n.length;if(zR(e).length!==i)return!1;for(var a,s,u;i-- >0;)if(a=n[i],!j4(t,e,r,a)||(s=WR(t,a),u=WR(e,a),(s||u)&&(!s||!u||s.configurable!==u.configurable||s.enumerable!==u.enumerable||s.writable!==u.writable)))return!1;return!0}function xee(t,e){return hl(t.valueOf(),e.valueOf())}function wee(t,e){return t.source===e.source&&t.flags===e.flags}function GR(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.values(),s,u;(s=a.next())&&!s.done;){for(var c=e.values(),f=!1,h=0;(u=c.next())&&!u.done;){if(!i[h]&&r.equals(s.value,u.value,s.value,u.value,t,e,r)){f=i[h]=!0;break}h++}if(!f)return!1}return!0}function Eee(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function See(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function j4(t,e,r,n){return(n===pee||n===hee||n===dee)&&(t.$$typeof||e.$$typeof)?!0:fee(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var Tee="[object Arguments]",Aee="[object Boolean]",Pee="[object Date]",kee="[object Error]",Iee="[object Map]",Oee="[object Number]",Cee="[object Object]",Nee="[object RegExp]",Ree="[object Set]",jee="[object String]",Dee="[object URL]",Mee=Array.isArray,YR=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,XR=Object.assign,Lee=Object.prototype.toString.call.bind(Object.prototype.toString);function $ee(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,s=t.areNumbersEqual,u=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,f=t.areRegExpsEqual,h=t.areSetsEqual,p=t.areTypedArraysEqual,v=t.areUrlsEqual;return function(x,w,E){if(x===w)return!0;if(x==null||w==null)return!1;var O=typeof x;if(O!==typeof w)return!1;if(O!=="object")return O==="number"?s(x,w,E):O==="function"?i(x,w,E):!1;var k=x.constructor;if(k!==w.constructor)return!1;if(k===Object)return u(x,w,E);if(Mee(x))return e(x,w,E);if(YR!=null&&YR(x))return p(x,w,E);if(k===Date)return r(x,w,E);if(k===RegExp)return f(x,w,E);if(k===Map)return a(x,w,E);if(k===Set)return h(x,w,E);var I=Lee(x);return I===Pee?r(x,w,E):I===Nee?f(x,w,E):I===Iee?a(x,w,E):I===Ree?h(x,w,E):I===Cee?typeof x.then!="function"&&typeof w.then!="function"&&u(x,w,E):I===Dee?v(x,w,E):I===kee?n(x,w,E):I===Tee?u(x,w,E):I===Aee||I===Oee||I===jee?c(x,w,E):!1}}function Fee(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?Gc:mee,areDatesEqual:gee,areErrorsEqual:yee,areFunctionsEqual:vee,areMapsEqual:n?qR(KR,Gc):KR,areNumbersEqual:bee,areObjectsEqual:n?Gc:_ee,arePrimitiveWrappersEqual:xee,areRegExpsEqual:wee,areSetsEqual:n?qR(GR,Gc):GR,areTypedArraysEqual:n?Gc:Eee,areUrlsEqual:See};if(r&&(i=XR({},i,r(i))),e){var a=gp(i.areArraysEqual),s=gp(i.areMapsEqual),u=gp(i.areObjectsEqual),c=gp(i.areSetsEqual);i=XR({},i,{areArraysEqual:a,areMapsEqual:s,areObjectsEqual:u,areSetsEqual:c})}return i}function Vee(t){return function(e,r,n,i,a,s,u){return t(e,r,u)}}function Bee(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(c,f){var h=n(),p=h.cache,v=p===void 0?e?new WeakMap:void 0:p,b=h.meta;return r(c,f,{cache:v,equals:i,meta:b,strict:a})};if(e)return function(c,f){return r(c,f,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var s={cache:void 0,equals:i,meta:void 0,strict:a};return function(c,f){return r(c,f,s)}}var Uee=is();is({strict:!0});is({circular:!0});is({circular:!0,strict:!0});is({createInternalComparator:function(){return hl}});is({strict:!0,createInternalComparator:function(){return hl}});is({circular:!0,createInternalComparator:function(){return hl}});is({circular:!0,createInternalComparator:function(){return hl},strict:!0});function is(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,s=a===void 0?!1:a,u=Fee(t),c=$ee(u),f=n?n(c):Vee(c);return Bee({circular:r,comparator:c,createState:i,equals:f,strict:s})}function qee(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function QR(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):qee(i)};requestAnimationFrame(n)}function e1(t){"@babel/helpers - typeof";return e1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e1(t)}function zee(t){return Gee(t)||Kee(t)||Hee(t)||Wee()}function Wee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hee(t,e){if(t){if(typeof t=="string")return JR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JR(t,e)}}function JR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Kee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Gee(t){if(Array.isArray(t))return t}function Yee(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var s=a,u=zee(s),c=u[0],f=u.slice(1);if(typeof c=="number"){QR(i.bind(null,f),c);return}i(c),QR(i.bind(null,f));return}e1(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Jf(t){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jf(t)}function ZR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ej(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZR(Object(r),!0).forEach(function(n){D4(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function D4(t,e,r){return e=Xee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xee(t){var e=Qee(t,"string");return Jf(e)==="symbol"?e:String(e)}function Qee(t,e){if(Jf(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jee=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},Zee=function(e){return e},ete=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},gf=function(e,r){return Object.keys(r).reduce(function(n,i){return ej(ej({},n),{},D4({},i,e(i,r[i])))},{})},tj=function(e,r,n){return e.map(function(i){return"".concat(ete(i)," ").concat(r,"ms ").concat(n)}).join(",")};function tte(t,e){return ite(t)||nte(t,e)||M4(t,e)||rte()}function rte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nte(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function ite(t){if(Array.isArray(t))return t}function ate(t){return lte(t)||ste(t)||M4(t)||ote()}function ote(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M4(t,e){if(t){if(typeof t=="string")return t1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t1(t,e)}}function ste(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lte(t){if(Array.isArray(t))return t1(t)}function t1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var wm=1e-4,L4=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},$4=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},rj=function(e,r){return function(n){var i=L4(e,r);return $4(i,n)}},ute=function(e,r){return function(n){var i=L4(e,r),a=[].concat(ate(i.map(function(s,u){return s*u}).slice(1)),[0]);return $4(a,n)}},nj=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],s=r[2],u=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,s=1,u=1;break;case"ease":i=.25,a=.1,s=.25,u=1;break;case"ease-in":i=.42,a=0,s=1,u=1;break;case"ease-out":i=.42,a=0,s=.58,u=1;break;case"ease-in-out":i=0,a=0,s=.58,u=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var f=c[1].split(")")[0].split(",").map(function(E){return parseFloat(E)}),h=tte(f,4);i=h[0],a=h[1],s=h[2],u=h[3]}}}var p=rj(i,s),v=rj(a,u),b=ute(i,s),x=function(O){return O>1?1:O<0?0:O},w=function(O){for(var k=O>1?1:O,I=k,$=0;$<8;++$){var N=p(I)-k,j=b(I);if(Math.abs(N-k)<wm||j<wm)return v(I);I=x(I-N/j)}return v(I)};return w.isStepper=!1,w},cte=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,s=e.dt,u=s===void 0?17:s,c=function(h,p,v){var b=-(h-p)*n,x=v*a,w=v+(b-x)*u/1e3,E=v*u/1e3+h;return Math.abs(E-p)<wm&&Math.abs(w)<wm?[p,0]:[E,w]};return c.isStepper=!0,c.dt=u,c},fte=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return nj(i);case"spring":return cte();default:if(i.split("(")[0]==="cubic-bezier")return nj(i)}return typeof i=="function"?i:null};function Zf(t){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zf(t)}function ij(t){return pte(t)||hte(t)||F4(t)||dte()}function dte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pte(t){if(Array.isArray(t))return n1(t)}function aj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Dr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aj(Object(r),!0).forEach(function(n){r1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function r1(t,e,r){return e=mte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mte(t){var e=gte(t,"string");return Zf(e)==="symbol"?e:String(e)}function gte(t,e){if(Zf(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yte(t,e){return _te(t)||bte(t,e)||F4(t,e)||vte()}function vte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F4(t,e){if(t){if(typeof t=="string")return n1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n1(t,e)}}function n1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function bte(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function _te(t){if(Array.isArray(t))return t}var Em=function(e,r,n){return e+(r-e)*n},i1=function(e){var r=e.from,n=e.to;return r!==n},xte=function t(e,r,n){var i=gf(function(a,s){if(i1(s)){var u=e(s.from,s.to,s.velocity),c=yte(u,2),f=c[0],h=c[1];return Dr(Dr({},s),{},{from:f,velocity:h})}return s},r);return n<1?gf(function(a,s){return i1(s)?Dr(Dr({},s),{},{velocity:Em(s.velocity,i[a].velocity,n),from:Em(s.from,i[a].from,n)}):s},r):t(e,i,n-1)};const wte=function(t,e,r,n,i){var a=Jee(t,e),s=a.reduce(function(E,O){return Dr(Dr({},E),{},r1({},O,[t[O],e[O]]))},{}),u=a.reduce(function(E,O){return Dr(Dr({},E),{},r1({},O,{from:t[O],velocity:0,to:e[O]}))},{}),c=-1,f,h,p=function(){return null},v=function(){return gf(function(O,k){return k.from},u)},b=function(){return!Object.values(u).filter(i1).length},x=function(O){f||(f=O);var k=O-f,I=k/r.dt;u=xte(r,u,I),i(Dr(Dr(Dr({},t),e),v())),f=O,b()||(c=requestAnimationFrame(p))},w=function(O){h||(h=O);var k=(O-h)/n,I=gf(function(N,j){return Em.apply(void 0,ij(j).concat([r(k)]))},s);if(i(Dr(Dr(Dr({},t),e),I)),k<1)c=requestAnimationFrame(p);else{var $=gf(function(N,j){return Em.apply(void 0,ij(j).concat([r(1)]))},s);i(Dr(Dr(Dr({},t),e),$))}};return p=r.isStepper?x:w,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(c)}}};function Nu(t){"@babel/helpers - typeof";return Nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nu(t)}var Ete=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Ste(t,e){if(t==null)return{};var r=Tte(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Tte(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function mx(t){return Ite(t)||kte(t)||Pte(t)||Ate()}function Ate(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pte(t,e){if(t){if(typeof t=="string")return a1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a1(t,e)}}function kte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ite(t){if(Array.isArray(t))return a1(t)}function a1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function oj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ci(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oj(Object(r),!0).forEach(function(n){of(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function of(t,e,r){return e=V4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ote(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cte(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,V4(n.key),n)}}function Nte(t,e,r){return e&&Cte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function V4(t){var e=Rte(t,"string");return Nu(e)==="symbol"?e:String(e)}function Rte(t,e){if(Nu(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o1(t,e)}function o1(t,e){return o1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},o1(t,e)}function Dte(t){var e=Mte();return function(){var n=Sm(t),i;if(e){var a=Sm(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return s1(this,i)}}function s1(t,e){if(e&&(Nu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l1(t)}function l1(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mte(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Sm(t){return Sm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sm(t)}var ha=function(t){jte(r,t);var e=Dte(r);function r(n,i){var a;Ote(this,r),a=e.call(this,n,i);var s=a.props,u=s.isActive,c=s.attributeName,f=s.from,h=s.to,p=s.steps,v=s.children,b=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(l1(a)),a.changeStyle=a.changeStyle.bind(l1(a)),!u||b<=0)return a.state={style:{}},typeof v=="function"&&(a.state={style:h}),s1(a);if(p&&p.length)a.state={style:p[0].style};else if(f){if(typeof v=="function")return a.state={style:f},s1(a);a.state={style:c?of({},c,f):f}}else a.state={style:{}};return a}return Nte(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,u=a.canBegin,c=a.attributeName,f=a.shouldReAnimate,h=a.to,p=a.from,v=this.state.style;if(u){if(!s){var b={style:c?of({},c,h):h};this.state&&v&&(c&&v[c]!==h||!c&&v!==h)&&this.setState(b);return}if(!(Uee(i.to,h)&&i.canBegin&&i.isActive)){var x=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=x||f?p:i.to;if(this.state&&v){var E={style:c?of({},c,w):w};(c&&v[c]!==w||!c&&v!==w)&&this.setState(E)}this.runAnimation(Ci(Ci({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,u=i.to,c=i.duration,f=i.easing,h=i.begin,p=i.onAnimationEnd,v=i.onAnimationStart,b=wte(s,u,fte(f),c,this.changeStyle),x=function(){a.stopJSAnimation=b()};this.manager.start([v,h,x,c,p])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,u=i.begin,c=i.onAnimationStart,f=s[0],h=f.style,p=f.duration,v=p===void 0?0:p,b=function(w,E,O){if(O===0)return w;var k=E.duration,I=E.easing,$=I===void 0?"ease":I,N=E.style,j=E.properties,A=E.onAnimationEnd,P=O>0?s[O-1]:E,R=j||Object.keys(N);if(typeof $=="function"||$==="spring")return[].concat(mx(w),[a.runJSAnimation.bind(a,{from:P.style,to:N,duration:k,easing:$}),k]);var F=tj(R,k,$),M=Ci(Ci(Ci({},P.style),N),{},{transition:F});return[].concat(mx(w),[M,k,A]).filter(Zee)};return this.manager.start([c].concat(mx(s.reduce(b,[h,Math.max(v,u)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Yee());var a=i.begin,s=i.duration,u=i.attributeName,c=i.to,f=i.easing,h=i.onAnimationStart,p=i.onAnimationEnd,v=i.steps,b=i.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof f=="function"||typeof b=="function"||f==="spring"){this.runJSAnimation(i);return}if(v.length>1){this.runStepAnimation(i);return}var w=u?of({},u,c):c,E=tj(Object.keys(w),s,f);x.start([h,a,Ci(Ci({},w),{},{transition:E}),s,p])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var u=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=Ste(i,Ete),f=K.Children.count(a),h=this.state.style;if(typeof a=="function")return a(h);if(!u||f===0||s<=0)return a;var p=function(b){var x=b.props,w=x.style,E=w===void 0?{}:w,O=x.className,k=K.cloneElement(b,Ci(Ci({},c),{},{style:Ci(Ci({},E),h),className:O}));return k};return f===1?p(K.Children.only(a)):z.createElement("div",null,K.Children.map(a,function(v){return p(v)}))}}]),r}(K.PureComponent);ha.displayName="Animate";ha.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ha.propTypes={from:gt.oneOfType([gt.object,gt.string]),to:gt.oneOfType([gt.object,gt.string]),attributeName:gt.string,duration:gt.number,begin:gt.number,easing:gt.oneOfType([gt.string,gt.func]),steps:gt.arrayOf(gt.shape({duration:gt.number.isRequired,style:gt.object.isRequired,easing:gt.oneOfType([gt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),gt.func]),properties:gt.arrayOf("string"),onAnimationEnd:gt.func})),children:gt.oneOfType([gt.node,gt.func]),isActive:gt.bool,canBegin:gt.bool,onAnimationEnd:gt.func,shouldReAnimate:gt.bool,onAnimationStart:gt.func,onAnimationReStart:gt.func};function ed(t){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ed(t)}function Tm(){return Tm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tm.apply(this,arguments)}function Lte(t,e){return Bte(t)||Vte(t,e)||Fte(t,e)||$te()}function $te(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fte(t,e){if(t){if(typeof t=="string")return sj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sj(t,e)}}function sj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Vte(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function Bte(t){if(Array.isArray(t))return t}function lj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function uj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lj(Object(r),!0).forEach(function(n){Ute(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ute(t,e,r){return e=qte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qte(t){var e=zte(t,"string");return ed(e)=="symbol"?e:e+""}function zte(t,e){if(ed(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ed(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cj=function(e,r,n,i,a){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),u=i>=0?1:-1,c=n>=0?1:-1,f=i>=0&&n>=0||i<0&&n<0?1:0,h;if(s>0&&a instanceof Array){for(var p=[0,0,0,0],v=0,b=4;v<b;v++)p[v]=a[v]>s?s:a[v];h="M".concat(e,",").concat(r+u*p[0]),p[0]>0&&(h+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(f,",").concat(e+c*p[0],",").concat(r)),h+="L ".concat(e+n-c*p[1],",").concat(r),p[1]>0&&(h+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(f,`,
        `).concat(e+n,",").concat(r+u*p[1])),h+="L ".concat(e+n,",").concat(r+i-u*p[2]),p[2]>0&&(h+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(f,`,
        `).concat(e+n-c*p[2],",").concat(r+i)),h+="L ".concat(e+c*p[3],",").concat(r+i),p[3]>0&&(h+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(r+i-u*p[3])),h+="Z"}else if(s>0&&a===+a&&a>0){var x=Math.min(s,a);h="M ".concat(e,",").concat(r+u*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(e+c*x,",").concat(r,`
            L `).concat(e+n-c*x,",").concat(r,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(e+n,",").concat(r+u*x,`
            L `).concat(e+n,",").concat(r+i-u*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(e+n-c*x,",").concat(r+i,`
            L `).concat(e+c*x,",").concat(r+i,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(e,",").concat(r+i-u*x," Z")}else h="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return h},Wte=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,s=r.y,u=r.width,c=r.height;if(Math.abs(u)>0&&Math.abs(c)>0){var f=Math.min(a,a+u),h=Math.max(a,a+u),p=Math.min(s,s+c),v=Math.max(s,s+c);return n>=f&&n<=h&&i>=p&&i<=v}return!1},Hte={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},IS=function(e){var r=uj(uj({},Hte),e),n=K.useRef(),i=K.useState(-1),a=Lte(i,2),s=a[0],u=a[1];K.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var $=n.current.getTotalLength();$&&u($)}catch{}},[]);var c=r.x,f=r.y,h=r.width,p=r.height,v=r.radius,b=r.className,x=r.animationEasing,w=r.animationDuration,E=r.animationBegin,O=r.isAnimationActive,k=r.isUpdateAnimationActive;if(c!==+c||f!==+f||h!==+h||p!==+p||h===0||p===0)return null;var I=et("recharts-rectangle",b);return k?z.createElement(ha,{canBegin:s>0,from:{width:h,height:p,x:c,y:f},to:{width:h,height:p,x:c,y:f},duration:w,animationEasing:x,isActive:k},function($){var N=$.width,j=$.height,A=$.x,P=$.y;return z.createElement(ha,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:E,duration:w,isActive:O,easing:x},z.createElement("path",Tm({},qe(r,!0),{className:I,d:cj(A,P,N,j,v),ref:n})))}):z.createElement("path",Tm({},qe(r,!0),{className:I,d:cj(c,f,h,p,v)}))},Kte=["points","className","baseLinePoints","connectNulls"];function iu(){return iu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},iu.apply(this,arguments)}function Gte(t,e){if(t==null)return{};var r=Yte(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Yte(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function fj(t){return Zte(t)||Jte(t)||Qte(t)||Xte()}function Xte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qte(t,e){if(t){if(typeof t=="string")return u1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u1(t,e)}}function Jte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zte(t){if(Array.isArray(t))return u1(t)}function u1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var dj=function(e){return e&&e.x===+e.x&&e.y===+e.y},ere=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){dj(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),dj(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},yf=function(e,r){var n=ere(e);r&&(n=[n.reduce(function(a,s){return[].concat(fj(a),fj(s))},[])]);var i=n.map(function(a){return a.reduce(function(s,u,c){return"".concat(s).concat(c===0?"M":"L").concat(u.x,",").concat(u.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},tre=function(e,r,n){var i=yf(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(yf(r.reverse(),n).slice(1))},rre=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,s=Gte(e,Kte);if(!r||!r.length)return null;var u=et("recharts-polygon",n);if(i&&i.length){var c=s.stroke&&s.stroke!=="none",f=tre(r,i,a);return z.createElement("g",{className:u},z.createElement("path",iu({},qe(s,!0),{fill:f.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:f})),c?z.createElement("path",iu({},qe(s,!0),{fill:"none",d:yf(r,a)})):null,c?z.createElement("path",iu({},qe(s,!0),{fill:"none",d:yf(i,a)})):null)}var h=yf(r,a);return z.createElement("path",iu({},qe(s,!0),{fill:h.slice(-1)==="Z"?s.fill:"none",className:u,d:h}))};function c1(){return c1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},c1.apply(this,arguments)}var Lg=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,s=et("recharts-dot",a);return r===+r&&n===+n&&i===+i?K.createElement("circle",c1({},qe(e,!1),Gp(e),{className:s,cx:r,cy:n,r:i})):null};function td(t){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},td(t)}var nre=["x","y","top","left","width","height","className"];function f1(){return f1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},f1.apply(this,arguments)}function hj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ire(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hj(Object(r),!0).forEach(function(n){are(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function are(t,e,r){return e=ore(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ore(t){var e=sre(t,"string");return td(e)=="symbol"?e:e+""}function sre(t,e){if(td(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(td(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lre(t,e){if(t==null)return{};var r=ure(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ure(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var cre=function(e,r,n,i,a,s){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(s,",").concat(r,"h").concat(n)},fre=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,s=e.top,u=s===void 0?0:s,c=e.left,f=c===void 0?0:c,h=e.width,p=h===void 0?0:h,v=e.height,b=v===void 0?0:v,x=e.className,w=lre(e,nre),E=ire({x:n,y:a,top:u,left:f,width:p,height:b},w);return!ve(n)||!ve(a)||!ve(p)||!ve(b)||!ve(u)||!ve(f)?null:z.createElement("path",f1({},qe(E,!0),{className:et("recharts-cross",x),d:cre(n,a,p,b,u,f)}))},gx,pj;function dre(){if(pj)return gx;pj=1;var t=Ng(),e=r4(),r=ya();function n(i,a){return i&&i.length?t(i,r(a,2),e):void 0}return gx=n,gx}var hre=dre();const pre=vt(hre);var yx,mj;function mre(){if(mj)return yx;mj=1;var t=Ng(),e=ya(),r=n4();function n(i,a){return i&&i.length?t(i,e(a,2),r):void 0}return yx=n,yx}var gre=mre();const yre=vt(gre);var vre=["cx","cy","angle","ticks","axisLine"],bre=["ticks","tick","angle","tickFormatter","stroke"];function Ru(t){"@babel/helpers - typeof";return Ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ru(t)}function vf(){return vf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vf.apply(this,arguments)}function gj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ks(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gj(Object(r),!0).forEach(function(n){$g(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yj(t,e){if(t==null)return{};var r=_re(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _re(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function xre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vj(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,U4(n.key),n)}}function wre(t,e,r){return e&&vj(t.prototype,e),r&&vj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ere(t,e,r){return e=Am(e),Sre(t,B4()?Reflect.construct(e,r||[],Am(t).constructor):e.apply(t,r))}function Sre(t,e){if(e&&(Ru(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tre(t)}function Tre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B4=function(){return!!t})()}function Am(t){return Am=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Am(t)}function Are(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d1(t,e)}function d1(t,e){return d1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},d1(t,e)}function $g(t,e,r){return e=U4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function U4(t){var e=Pre(t,"string");return Ru(e)=="symbol"?e:e+""}function Pre(t,e){if(Ru(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ru(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Fg=function(t){function e(){return xre(this,e),Ere(this,e,arguments)}return Are(e,t),wre(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,s=a.angle,u=a.cx,c=a.cy;return Nt(u,c,i,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,u=n.ticks,c=pre(u,function(h){return h.coordinate||0}),f=yre(u,function(h){return h.coordinate||0});return{cx:i,cy:a,startAngle:s,endAngle:s,innerRadius:f.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,u=n.ticks,c=n.axisLine,f=yj(n,vre),h=u.reduce(function(x,w){return[Math.min(x[0],w.coordinate),Math.max(x[1],w.coordinate)]},[1/0,-1/0]),p=Nt(i,a,h[0],s),v=Nt(i,a,h[1],s),b=ks(ks(ks({},qe(f,!1)),{},{fill:"none"},qe(c,!1)),{},{x1:p.x,y1:p.y,x2:v.x,y2:v.y});return z.createElement("line",vf({className:"recharts-polar-radius-axis-line"},b))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,u=i.angle,c=i.tickFormatter,f=i.stroke,h=yj(i,bre),p=this.getTickTextAnchor(),v=qe(h,!1),b=qe(s,!1),x=a.map(function(w,E){var O=n.getTickValueCoord(w),k=ks(ks(ks(ks({textAnchor:p,transform:"rotate(".concat(90-u,", ").concat(O.x,", ").concat(O.y,")")},v),{},{stroke:"none",fill:f},b),{},{index:E},O),{},{payload:w});return z.createElement(ft,vf({className:et("recharts-polar-radius-axis-tick",C4(s)),key:"tick-".concat(w.coordinate)},Zs(n.props,w,E)),e.renderTickItem(s,k,c?c(w.value,E):w.value))});return z.createElement(ft,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,s=n.tick;return!i||!i.length?null:z.createElement(ft,{className:et("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),s&&this.renderTicks(),kr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var s;return z.isValidElement(n)?s=z.cloneElement(n,i):Ye(n)?s=n(i):s=z.createElement(el,vf({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),s}}])}(K.PureComponent);$g(Fg,"displayName","PolarRadiusAxis");$g(Fg,"axisType","radiusAxis");$g(Fg,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function ju(t){"@babel/helpers - typeof";return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ju(t)}function Rs(){return Rs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rs.apply(this,arguments)}function bj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Is(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bj(Object(r),!0).forEach(function(n){Vg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _j(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,z4(n.key),n)}}function Ire(t,e,r){return e&&_j(t.prototype,e),r&&_j(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ore(t,e,r){return e=Pm(e),Cre(t,q4()?Reflect.construct(e,r||[],Pm(t).constructor):e.apply(t,r))}function Cre(t,e){if(e&&(ju(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nre(t)}function Nre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function q4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q4=function(){return!!t})()}function Pm(t){return Pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pm(t)}function Rre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h1(t,e)}function h1(t,e){return h1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},h1(t,e)}function Vg(t,e,r){return e=z4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function z4(t){var e=jre(t,"string");return ju(e)=="symbol"?e:e+""}function jre(t,e){if(ju(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ju(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Dre=Math.PI/180,xj=1e-5,Bg=function(t){function e(){return kre(this,e),Ore(this,e,arguments)}return Rre(e,t),Ire(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,s=i.cy,u=i.radius,c=i.orientation,f=i.tickSize,h=f||8,p=Nt(a,s,u,n.coordinate),v=Nt(a,s,u+(c==="inner"?-1:1)*h,n.coordinate);return{x1:p.x,y1:p.y,x2:v.x,y2:v.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*Dre),s;return a>xj?s=i==="outer"?"start":"end":a<-xj?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.radius,u=n.axisLine,c=n.axisLineType,f=Is(Is({},qe(this.props,!1)),{},{fill:"none"},qe(u,!1));if(c==="circle")return z.createElement(Lg,Rs({className:"recharts-polar-angle-axis-line"},f,{cx:i,cy:a,r:s}));var h=this.props.ticks,p=h.map(function(v){return Nt(i,a,s,v.coordinate)});return z.createElement(rre,Rs({className:"recharts-polar-angle-axis-line"},f,{points:p}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,u=i.tickLine,c=i.tickFormatter,f=i.stroke,h=qe(this.props,!1),p=qe(s,!1),v=Is(Is({},h),{},{fill:"none"},qe(u,!1)),b=a.map(function(x,w){var E=n.getTickLineCoord(x),O=n.getTickTextAnchor(x),k=Is(Is(Is({textAnchor:O},h),{},{stroke:"none",fill:f},p),{},{index:w,payload:x,x:E.x2,y:E.y2});return z.createElement(ft,Rs({className:et("recharts-polar-angle-axis-tick",C4(s)),key:"tick-".concat(x.coordinate)},Zs(n.props,x,w)),u&&z.createElement("line",Rs({className:"recharts-polar-angle-axis-tick-line"},v,E)),s&&e.renderTickItem(s,k,c?c(x.value,w):x.value))});return z.createElement(ft,{className:"recharts-polar-angle-axis-ticks"},b)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,s=n.axisLine;return a<=0||!i||!i.length?null:z.createElement(ft,{className:et("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var s;return z.isValidElement(n)?s=z.cloneElement(n,i):Ye(n)?s=n(i):s=z.createElement(el,Rs({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),s}}])}(K.PureComponent);Vg(Bg,"displayName","PolarAngleAxis");Vg(Bg,"axisType","angleAxis");Vg(Bg,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var vx,wj;function Mre(){if(wj)return vx;wj=1;var t=t$(),e=t(Object.getPrototypeOf,Object);return vx=e,vx}var bx,Ej;function Lre(){if(Ej)return bx;Ej=1;var t=to(),e=Mre(),r=ro(),n="[object Object]",i=Function.prototype,a=Object.prototype,s=i.toString,u=a.hasOwnProperty,c=s.call(Object);function f(h){if(!r(h)||t(h)!=n)return!1;var p=e(h);if(p===null)return!0;var v=u.call(p,"constructor")&&p.constructor;return typeof v=="function"&&v instanceof v&&s.call(v)==c}return bx=f,bx}var $re=Lre();const Fre=vt($re);var _x,Sj;function Vre(){if(Sj)return _x;Sj=1;var t=to(),e=ro(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return _x=n,_x}var Bre=Vre();const Ure=vt(Bre);function rd(t){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rd(t)}function km(){return km=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},km.apply(this,arguments)}function qre(t,e){return Kre(t)||Hre(t,e)||Wre(t,e)||zre()}function zre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wre(t,e){if(t){if(typeof t=="string")return Tj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tj(t,e)}}function Tj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Hre(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function Kre(t){if(Array.isArray(t))return t}function Aj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Aj(Object(r),!0).forEach(function(n){Gre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Aj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gre(t,e,r){return e=Yre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yre(t){var e=Xre(t,"string");return rd(e)=="symbol"?e:e+""}function Xre(t,e){if(rd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kj=function(e,r,n,i,a){var s=n-i,u;return u="M ".concat(e,",").concat(r),u+="L ".concat(e+n,",").concat(r),u+="L ".concat(e+n-s/2,",").concat(r+a),u+="L ".concat(e+n-s/2-i,",").concat(r+a),u+="L ".concat(e,",").concat(r," Z"),u},Qre={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Jre=function(e){var r=Pj(Pj({},Qre),e),n=K.useRef(),i=K.useState(-1),a=qre(i,2),s=a[0],u=a[1];K.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var I=n.current.getTotalLength();I&&u(I)}catch{}},[]);var c=r.x,f=r.y,h=r.upperWidth,p=r.lowerWidth,v=r.height,b=r.className,x=r.animationEasing,w=r.animationDuration,E=r.animationBegin,O=r.isUpdateAnimationActive;if(c!==+c||f!==+f||h!==+h||p!==+p||v!==+v||h===0&&p===0||v===0)return null;var k=et("recharts-trapezoid",b);return O?z.createElement(ha,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:v,x:c,y:f},to:{upperWidth:h,lowerWidth:p,height:v,x:c,y:f},duration:w,animationEasing:x,isActive:O},function(I){var $=I.upperWidth,N=I.lowerWidth,j=I.height,A=I.x,P=I.y;return z.createElement(ha,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:E,duration:w,easing:x},z.createElement("path",km({},qe(r,!0),{className:k,d:kj(A,P,$,N,j),ref:n})))}):z.createElement("g",null,z.createElement("path",km({},qe(r,!0),{className:k,d:kj(c,f,h,p,v)})))},Zre=["option","shapeType","propTransformer","activeClassName","isActive"];function nd(t){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nd(t)}function ene(t,e){if(t==null)return{};var r=tne(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tne(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Ij(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Im(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ij(Object(r),!0).forEach(function(n){rne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ij(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rne(t,e,r){return e=nne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nne(t){var e=ine(t,"string");return nd(e)=="symbol"?e:e+""}function ine(t,e){if(nd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ane(t,e){return Im(Im({},e),t)}function one(t,e){return t==="symbols"}function Oj(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return z.createElement(IS,r);case"trapezoid":return z.createElement(Jre,r);case"sector":return z.createElement(kS,r);case"symbols":if(one(e))return z.createElement(KE,r);break;default:return null}}function sne(t){return K.isValidElement(t)?t.props:t}function W4(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?ane:n,a=t.activeClassName,s=a===void 0?"recharts-active-shape":a,u=t.isActive,c=ene(t,Zre),f;if(K.isValidElement(e))f=K.cloneElement(e,Im(Im({},c),sne(e)));else if(Ye(e))f=e(c);else if(Fre(e)&&!Ure(e)){var h=i(e,c);f=z.createElement(Oj,{shapeType:r,elementProps:h})}else{var p=c;f=z.createElement(Oj,{shapeType:r,elementProps:p})}return u?z.createElement(ft,{className:s},f):f}function Ug(t,e){return e!=null&&"trapezoids"in t.props}function qg(t,e){return e!=null&&"sectors"in t.props}function id(t,e){return e!=null&&"points"in t.props}function lne(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function une(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function cne(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function fne(t,e){var r;return Ug(t,e)?r=lne:qg(t,e)?r=une:id(t,e)&&(r=cne),r}function dne(t,e){var r;return Ug(t,e)?r="trapezoids":qg(t,e)?r="sectors":id(t,e)&&(r="points"),r}function hne(t,e){if(Ug(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(qg(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return id(t,e)?e.payload:{}}function pne(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=dne(r,e),a=hne(r,e),s=n.filter(function(c,f){var h=Md(a,c),p=r.props[i].filter(function(x){var w=fne(r,e);return w(x,e)}),v=r.props[i].indexOf(p[p.length-1]),b=f===v;return h&&b}),u=n.indexOf(s[s.length-1]);return u}var Ip;function Du(t){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Du(t)}function au(){return au=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},au.apply(this,arguments)}function Cj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ot(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Cj(Object(r),!0).forEach(function(n){ci(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Cj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nj(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,K4(n.key),n)}}function gne(t,e,r){return e&&Nj(t.prototype,e),r&&Nj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function yne(t,e,r){return e=Om(e),vne(t,H4()?Reflect.construct(e,r||[],Om(t).constructor):e.apply(t,r))}function vne(t,e){if(e&&(Du(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bne(t)}function bne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H4=function(){return!!t})()}function Om(t){return Om=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Om(t)}function _ne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p1(t,e)}function p1(t,e){return p1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},p1(t,e)}function ci(t,e,r){return e=K4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function K4(t){var e=xne(t,"string");return Du(e)=="symbol"?e:e+""}function xne(t,e){if(Du(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var io=function(t){function e(r){var n;return mne(this,e),n=yne(this,e,[r]),ci(n,"pieRef",null),ci(n,"sectorRefs",[]),ci(n,"id",ec("recharts-pie-")),ci(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ye(i)&&i()}),ci(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ye(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return _ne(e,t),gne(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.label,u=a.labelLine,c=a.dataKey,f=a.valueKey,h=qe(this.props,!1),p=qe(s,!1),v=qe(u,!1),b=s&&s.offsetRadius||20,x=n.map(function(w,E){var O=(w.startAngle+w.endAngle)/2,k=Nt(w.cx,w.cy,w.outerRadius+b,O),I=Ot(Ot(Ot(Ot({},h),w),{},{stroke:"none"},p),{},{index:E,textAnchor:e.getTextAnchor(k.x,w.cx)},k),$=Ot(Ot(Ot(Ot({},h),w),{},{fill:"none",stroke:w.fill},v),{},{index:E,points:[Nt(w.cx,w.cy,w.outerRadius,O),k]}),N=c;return Je(c)&&Je(f)?N="value":Je(c)&&(N=f),z.createElement(ft,{key:"label-".concat(w.startAngle,"-").concat(w.endAngle,"-").concat(w.midAngle,"-").concat(E)},u&&e.renderLabelLineItem(u,$,"line"),e.renderLabelItem(s,I,yr(w,N)))});return z.createElement(ft,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,s=a.activeShape,u=a.blendStroke,c=a.inactiveShape;return n.map(function(f,h){if(f?.startAngle===0&&f?.endAngle===0&&n.length!==1)return null;var p=i.isActiveIndex(h),v=c&&i.hasActiveIndex()?c:null,b=p?s:v,x=Ot(Ot({},f),{},{stroke:u?f.fill:f.stroke,tabIndex:-1});return z.createElement(ft,au({ref:function(E){E&&!i.sectorRefs.includes(E)&&i.sectorRefs.push(E)},tabIndex:-1,className:"recharts-pie-sector"},Zs(i.props,f,h),{key:"sector-".concat(f?.startAngle,"-").concat(f?.endAngle,"-").concat(f.midAngle,"-").concat(h)}),z.createElement(W4,au({option:b,isActive:p,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,s=i.isAnimationActive,u=i.animationBegin,c=i.animationDuration,f=i.animationEasing,h=i.animationId,p=this.state,v=p.prevSectors,b=p.prevIsAnimationActive;return z.createElement(ha,{begin:u,duration:c,isActive:s,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(h,"-").concat(b),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var w=x.t,E=[],O=a&&a[0],k=O.startAngle;return a.forEach(function(I,$){var N=v&&v[$],j=$>0?zn(I,"paddingAngle",0):0;if(N){var A=Fn(N.endAngle-N.startAngle,I.endAngle-I.startAngle),P=Ot(Ot({},I),{},{startAngle:k+j,endAngle:k+A(w)+j});E.push(P),k=P.endAngle}else{var R=I.endAngle,F=I.startAngle,M=Fn(0,R-F),V=M(w),D=Ot(Ot({},I),{},{startAngle:k+j,endAngle:k+V+j});E.push(D),k=D.endAngle}}),z.createElement(ft,null,n.renderSectorsStatically(E))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var u=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[u].focus(),i.setState({sectorToFocus:u});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,s=this.state.prevSectors;return a&&i&&i.length&&(!s||!Md(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,s=i.sectors,u=i.className,c=i.label,f=i.cx,h=i.cy,p=i.innerRadius,v=i.outerRadius,b=i.isAnimationActive,x=this.state.isAnimationFinished;if(a||!s||!s.length||!ve(f)||!ve(h)||!ve(p)||!ve(v))return null;var w=et("recharts-pie",u);return z.createElement(ft,{tabIndex:this.props.rootTabIndex,className:w,ref:function(O){n.pieRef=O}},this.renderSectors(),c&&this.renderLabels(s),kr.renderCallByParent(this.props,null,!1),(!b||x)&&Ha.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(z.isValidElement(n))return z.cloneElement(n,i);if(Ye(n))return n(i);var s=et("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return z.createElement(xm,au({},i,{key:a,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,i,a){if(z.isValidElement(n))return z.cloneElement(n,i);var s=a;if(Ye(n)&&(s=n(i),z.isValidElement(s)))return s;var u=et("recharts-pie-label-text",typeof n!="boolean"&&!Ye(n)?n.className:"");return z.createElement(el,au({},i,{alignmentBaseline:"middle",className:u}),s)}}])}(K.PureComponent);Ip=io;ci(io,"displayName","Pie");ci(io,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!cl.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ci(io,"parseDeltaAngle",function(t,e){var r=on(e-t),n=Math.min(Math.abs(e-t),360);return r*n});ci(io,"getRealPieData",function(t){var e=t.data,r=t.children,n=qe(t,!1),i=Wn(r,Tg);return e&&e.length?e.map(function(a,s){return Ot(Ot(Ot({payload:a},n),a),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(a){return Ot(Ot({},n),a.props)}):[]});ci(io,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,a=e.height,s=O4(i,a),u=n+sn(t.cx,i,i/2),c=r+sn(t.cy,a,a/2),f=sn(t.innerRadius,s,0),h=sn(t.outerRadius,s,s*.8),p=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:u,cy:c,innerRadius:f,outerRadius:h,maxRadius:p}});ci(io,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?Ot(Ot({},e.type.defaultProps),e.props):e.props,i=Ip.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,s=n.startAngle,u=n.endAngle,c=n.paddingAngle,f=n.dataKey,h=n.nameKey,p=n.valueKey,v=n.tooltipType,b=Math.abs(n.minAngle),x=Ip.parseCoordinateOfPie(n,r),w=Ip.parseDeltaAngle(s,u),E=Math.abs(w),O=f;Je(f)&&Je(p)?(Di(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),O="value"):Je(f)&&(Di(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),O=p);var k=i.filter(function(P){return yr(P,O,0)!==0}).length,I=(E>=360?k:k-1)*c,$=E-k*b-I,N=i.reduce(function(P,R){var F=yr(R,O,0);return P+(ve(F)?F:0)},0),j;if(N>0){var A;j=i.map(function(P,R){var F=yr(P,O,0),M=yr(P,h,R),V=(ve(F)?F:0)/N,D;R?D=A.endAngle+on(w)*c*(F!==0?1:0):D=s;var Z=D+on(w)*((F!==0?b:0)+V*$),ee=(D+Z)/2,re=(x.innerRadius+x.outerRadius)/2,ae=[{name:M,value:F,payload:P,dataKey:O,type:v}],Q=Nt(x.cx,x.cy,re,ee);return A=Ot(Ot(Ot({percent:V,cornerRadius:a,name:M,tooltipPayload:ae,midAngle:ee,middleRadius:re,tooltipPosition:Q},P),x),{},{value:yr(P,O),startAngle:D,endAngle:Z,payload:P,paddingAngle:on(w)*c}),A})}return Ot(Ot({},x),{},{sectors:j,data:i})});var xx,Rj;function wne(){if(Rj)return xx;Rj=1;var t=Math.ceil,e=Math.max;function r(n,i,a,s){for(var u=-1,c=e(t((i-n)/(a||1)),0),f=Array(c);c--;)f[s?c:++u]=n,n+=a;return f}return xx=r,xx}var wx,jj;function G4(){if(jj)return wx;jj=1;var t=y$(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var a=i<0?-1:1;return a*r}return i===i?i:0}return wx=n,wx}var Ex,Dj;function Ene(){if(Dj)return Ex;Dj=1;var t=wne(),e=Eg(),r=G4();function n(i){return function(a,s,u){return u&&typeof u!="number"&&e(a,s,u)&&(s=u=void 0),a=r(a),s===void 0?(s=a,a=0):s=r(s),u=u===void 0?a<s?1:-1:r(u),t(a,s,u,i)}}return Ex=n,Ex}var Sx,Mj;function Sne(){if(Mj)return Sx;Mj=1;var t=Ene(),e=t();return Sx=e,Sx}var Tne=Sne();const Cm=vt(Tne);function ad(t){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ad(t)}function Lj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $j(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Lj(Object(r),!0).forEach(function(n){Y4(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Lj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Y4(t,e,r){return e=Ane(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ane(t){var e=Pne(t,"string");return ad(e)=="symbol"?e:e+""}function Pne(t,e){if(ad(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kne=["Webkit","Moz","O","ms"],Ine=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=kne.reduce(function(a,s){return $j($j({},a),{},Y4({},s+n,r))},{});return i[e]=r,i};function Mu(t){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mu(t)}function Nm(){return Nm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nm.apply(this,arguments)}function Fj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Tx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Fj(Object(r),!0).forEach(function(n){Mn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Fj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function One(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vj(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Q4(n.key),n)}}function Cne(t,e,r){return e&&Vj(t.prototype,e),r&&Vj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nne(t,e,r){return e=Rm(e),Rne(t,X4()?Reflect.construct(e,r||[],Rm(t).constructor):e.apply(t,r))}function Rne(t,e){if(e&&(Mu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jne(t)}function jne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function X4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X4=function(){return!!t})()}function Rm(t){return Rm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rm(t)}function Dne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m1(t,e)}function m1(t,e){return m1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},m1(t,e)}function Mn(t,e,r){return e=Q4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Q4(t){var e=Mne(t,"string");return Mu(e)=="symbol"?e:e+""}function Mne(t,e){if(Mu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Lne=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,s=e.width,u=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,f=pf().domain(Cm(0,c)).range([a,a+s-u]),h=f.domain().map(function(p){return f(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(n),endX:f(i),scale:f,scaleValues:h}},Bj=function(e){return e.changedTouches&&!!e.changedTouches.length},Lu=function(t){function e(r){var n;return One(this,e),n=Nne(this,e,[r]),Mn(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Mn(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Mn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,s=i.onDragEnd,u=i.startIndex;s?.({endIndex:a,startIndex:u})}),n.detachDragEndListener()}),Mn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Mn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Mn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Mn(n,"handleSlideDragStart",function(i){var a=Bj(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Dne(e,t),Cne(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,s=this.state.scaleValues,u=this.props,c=u.gap,f=u.data,h=f.length-1,p=Math.min(i,a),v=Math.max(i,a),b=e.getIndexInRange(s,p),x=e.getIndexInRange(s,v);return{startIndex:b-b%c,endIndex:x===h?h:x-x%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,s=i.tickFormatter,u=i.dataKey,c=yr(a[n],u,n);return Ye(s)?s(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,s=i.startX,u=i.endX,c=this.props,f=c.x,h=c.width,p=c.travellerWidth,v=c.startIndex,b=c.endIndex,x=c.onChange,w=n.pageX-a;w>0?w=Math.min(w,f+h-p-u,f+h-p-s):w<0&&(w=Math.max(w,f-s,f-u));var E=this.getIndex({startX:s+w,endX:u+w});(E.startIndex!==v||E.endIndex!==b)&&x&&x(E),this.setState({startX:s+w,endX:u+w,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=Bj(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,u=i.endX,c=i.startX,f=this.state[s],h=this.props,p=h.x,v=h.width,b=h.travellerWidth,x=h.onChange,w=h.gap,E=h.data,O={startX:this.state.startX,endX:this.state.endX},k=n.pageX-a;k>0?k=Math.min(k,p+v-b-f):k<0&&(k=Math.max(k,p-f)),O[s]=f+k;var I=this.getIndex(O),$=I.startIndex,N=I.endIndex,j=function(){var P=E.length-1;return s==="startX"&&(u>c?$%w===0:N%w===0)||u<c&&N===P||s==="endX"&&(u>c?N%w===0:$%w===0)||u>c&&N===P};this.setState(Mn(Mn({},s,f+k),"brushMoveStartX",n.pageX),function(){x&&j()&&x(I)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,s=this.state,u=s.scaleValues,c=s.startX,f=s.endX,h=this.state[i],p=u.indexOf(h);if(p!==-1){var v=p+n;if(!(v===-1||v>=u.length)){var b=u[v];i==="startX"&&b>=f||i==="endX"&&b<=c||this.setState(Mn({},i,b),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,u=n.height,c=n.fill,f=n.stroke;return z.createElement("rect",{stroke:f,fill:c,x:i,y:a,width:s,height:u})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,u=n.height,c=n.data,f=n.children,h=n.padding,p=K.Children.only(f);return p?z.cloneElement(p,{x:i,y:a,width:s,height:u,margin:h,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,s,u=this,c=this.props,f=c.y,h=c.travellerWidth,p=c.height,v=c.traveller,b=c.ariaLabel,x=c.data,w=c.startIndex,E=c.endIndex,O=Math.max(n,this.props.x),k=Tx(Tx({},qe(this.props,!1)),{},{x:O,y:f,width:h,height:p}),I=b||"Min value: ".concat((a=x[w])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=x[E])===null||s===void 0?void 0:s.name);return z.createElement(ft,{tabIndex:0,role:"slider","aria-label":I,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),u.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,i))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(v,k))}},{key:"renderSlide",value:function(n,i){var a=this.props,s=a.y,u=a.height,c=a.stroke,f=a.travellerWidth,h=Math.min(n,i)+f,p=Math.max(Math.abs(i-n)-f,0);return z.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:h,y:s,width:p,height:u})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,s=n.y,u=n.height,c=n.travellerWidth,f=n.stroke,h=this.state,p=h.startX,v=h.endX,b=5,x={pointerEvents:"none",fill:f};return z.createElement(ft,{className:"recharts-brush-texts"},z.createElement(el,Nm({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,v)-b,y:s+u/2},x),this.getTextOfTick(i)),z.createElement(el,Nm({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,v)+c+b,y:s+u/2},x),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,s=n.children,u=n.x,c=n.y,f=n.width,h=n.height,p=n.alwaysShowText,v=this.state,b=v.startX,x=v.endX,w=v.isTextActive,E=v.isSlideMoving,O=v.isTravellerMoving,k=v.isTravellerFocused;if(!i||!i.length||!ve(u)||!ve(c)||!ve(f)||!ve(h)||f<=0||h<=0)return null;var I=et("recharts-brush",a),$=z.Children.count(s)===1,N=Ine("userSelect","none");return z.createElement(ft,{className:I,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),$&&this.renderPanorama(),this.renderSlide(b,x),this.renderTravellerLayer(b,"startX"),this.renderTravellerLayer(x,"endX"),(w||E||O||k||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,s=n.width,u=n.height,c=n.stroke,f=Math.floor(a+u/2)-1;return z.createElement(z.Fragment,null,z.createElement("rect",{x:i,y:a,width:s,height:u,fill:c,stroke:"none"}),z.createElement("line",{x1:i+1,y1:f,x2:i+s-1,y2:f,fill:"none",stroke:"#fff"}),z.createElement("line",{x1:i+1,y1:f+2,x2:i+s-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return z.isValidElement(n)?a=z.cloneElement(n,i):Ye(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,s=n.width,u=n.x,c=n.travellerWidth,f=n.updateId,h=n.startIndex,p=n.endIndex;if(a!==i.prevData||f!==i.prevUpdateId)return Tx({prevData:a,prevTravellerWidth:c,prevUpdateId:f,prevX:u,prevWidth:s},a&&a.length?Lne({data:a,width:s,x:u,travellerWidth:c,startIndex:h,endIndex:p}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||u!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([u,u+s-c]);var v=i.scale.domain().map(function(b){return i.scale(b)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:f,prevX:u,prevWidth:s,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:v}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,s=0,u=a-1;u-s>1;){var c=Math.floor((s+u)/2);n[c]>i?u=c:s=c}return i>=n[u]?u:s}}])}(K.PureComponent);Mn(Lu,"displayName","Brush");Mn(Lu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Ax,Uj;function $ne(){if(Uj)return Ax;Uj=1;var t=eS();function e(r,n){var i;return t(r,function(a,s,u){return i=n(a,s,u),!i}),!!i}return Ax=e,Ax}var Px,qj;function Fne(){if(qj)return Px;qj=1;var t=GL(),e=ya(),r=$ne(),n=Sn(),i=Eg();function a(s,u,c){var f=n(s)?t:r;return c&&i(s,u,c)&&(u=void 0),f(s,e(u,3))}return Px=a,Px}var Vne=Fne();const Bne=vt(Vne);var ca=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},kx,zj;function Une(){if(zj)return kx;zj=1;var t=d$();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return kx=e,kx}var Ix,Wj;function qne(){if(Wj)return Ix;Wj=1;var t=Une(),e=c$(),r=ya();function n(i,a){var s={};return a=r(a,3),e(i,function(u,c,f){t(s,c,a(u,c,f))}),s}return Ix=n,Ix}var zne=qne();const Wne=vt(zne);var Ox,Hj;function Hne(){if(Hj)return Ox;Hj=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return Ox=t,Ox}var Cx,Kj;function Kne(){if(Kj)return Cx;Kj=1;var t=eS();function e(r,n){var i=!0;return t(r,function(a,s,u){return i=!!n(a,s,u),i}),i}return Cx=e,Cx}var Nx,Gj;function Gne(){if(Gj)return Nx;Gj=1;var t=Hne(),e=Kne(),r=ya(),n=Sn(),i=Eg();function a(s,u,c){var f=n(s)?t:e;return c&&i(s,u,c)&&(u=void 0),f(s,r(u,3))}return Nx=a,Nx}var Yne=Gne();const J4=vt(Yne);var Xne=["x","y"];function od(t){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(t)}function g1(){return g1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},g1.apply(this,arguments)}function Yj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Yj(Object(r),!0).forEach(function(n){Qne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Yj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qne(t,e,r){return e=Jne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jne(t){var e=Zne(t,"string");return od(e)=="symbol"?e:e+""}function Zne(t,e){if(od(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eie(t,e){if(t==null)return{};var r=tie(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function rie(t,e){var r=t.x,n=t.y,i=eie(t,Xne),a="".concat(r),s=parseInt(a,10),u="".concat(n),c=parseInt(u,10),f="".concat(e.height||i.height),h=parseInt(f,10),p="".concat(e.width||i.width),v=parseInt(p,10);return Yc(Yc(Yc(Yc(Yc({},e),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:h,width:v,name:e.name,radius:e.radius})}function Xj(t){return z.createElement(W4,g1({shapeType:"rectangle",propTransformer:rie,activeClassName:"recharts-active-bar"},t))}var nie=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=ve(n)||P7(n);return a?e(n,i):(a||rl(),r)}},iie=["value","background"],Z4;function $u(t){"@babel/helpers - typeof";return $u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$u(t)}function aie(t,e){if(t==null)return{};var r=oie(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function oie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function jm(){return jm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jm.apply(this,arguments)}function Qj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Qj(Object(r),!0).forEach(function(n){Bo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Qj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jj(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tF(n.key),n)}}function lie(t,e,r){return e&&Jj(t.prototype,e),r&&Jj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function uie(t,e,r){return e=Dm(e),cie(t,eF()?Reflect.construct(e,r||[],Dm(t).constructor):e.apply(t,r))}function cie(t,e){if(e&&($u(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fie(t)}function fie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eF=function(){return!!t})()}function Dm(t){return Dm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dm(t)}function die(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y1(t,e)}function y1(t,e){return y1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},y1(t,e)}function Bo(t,e,r){return e=tF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tF(t){var e=hie(t,"string");return $u(e)=="symbol"?e:e+""}function hie(t,e){if($u(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($u(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pa=function(t){function e(){var r;sie(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=uie(this,e,[].concat(i)),Bo(r,"state",{isAnimationFinished:!1}),Bo(r,"id",ec("recharts-bar-")),Bo(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),Bo(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return die(e,t),lie(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,s=a.shape,u=a.dataKey,c=a.activeIndex,f=a.activeBar,h=qe(this.props,!1);return n&&n.map(function(p,v){var b=v===c,x=b?f:s,w=sr(sr(sr({},h),p),{},{isActive:b,option:x,index:v,dataKey:u,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return z.createElement(ft,jm({className:"recharts-bar-rectangle"},Zs(i.props,p,v),{key:"rectangle-".concat(p?.x,"-").concat(p?.y,"-").concat(p?.value,"-").concat(v)}),z.createElement(Xj,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,s=i.layout,u=i.isAnimationActive,c=i.animationBegin,f=i.animationDuration,h=i.animationEasing,p=i.animationId,v=this.state.prevData;return z.createElement(ha,{begin:c,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var x=b.t,w=a.map(function(E,O){var k=v&&v[O];if(k){var I=Fn(k.x,E.x),$=Fn(k.y,E.y),N=Fn(k.width,E.width),j=Fn(k.height,E.height);return sr(sr({},E),{},{x:I(x),y:$(x),width:N(x),height:j(x)})}if(s==="horizontal"){var A=Fn(0,E.height),P=A(x);return sr(sr({},E),{},{y:E.y+E.height-P,height:P})}var R=Fn(0,E.width),F=R(x);return sr(sr({},E),{},{width:F})});return z.createElement(ft,null,n.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!Md(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,s=i.dataKey,u=i.activeIndex,c=qe(this.props.background,!1);return a.map(function(f,h){f.value;var p=f.background,v=aie(f,iie);if(!p)return null;var b=sr(sr(sr(sr(sr({},v),{},{fill:"#eee"},p),c),Zs(n.props,f,h)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:h,className:"recharts-bar-background-rectangle"});return z.createElement(Xj,jm({key:"background-bar-".concat(h),option:n.props.background,isActive:h===u},b))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,u=a.xAxis,c=a.yAxis,f=a.layout,h=a.children,p=Wn(h,Ld);if(!p)return null;var v=f==="vertical"?s[0].height/2:s[0].width/2,b=function(E,O){var k=Array.isArray(E.value)?E.value[1]:E.value;return{x:E.x,y:E.y,value:k,errorVal:yr(E,O)}},x={clipPath:n?"url(#clipPath-".concat(i,")"):null};return z.createElement(ft,x,p.map(function(w){return z.cloneElement(w,{key:"error-bar-".concat(i,"-").concat(w.props.dataKey),data:s,xAxis:u,yAxis:c,layout:f,offset:v,dataPointFormatter:b})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,s=n.className,u=n.xAxis,c=n.yAxis,f=n.left,h=n.top,p=n.width,v=n.height,b=n.isAnimationActive,x=n.background,w=n.id;if(i||!a||!a.length)return null;var E=this.state.isAnimationFinished,O=et("recharts-bar",s),k=u&&u.allowDataOverflow,I=c&&c.allowDataOverflow,$=k||I,N=Je(w)?this.id:w;return z.createElement(ft,{className:O},k||I?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(N)},z.createElement("rect",{x:k?f:f-p/2,y:I?h:h-v/2,width:k?p:p*2,height:I?v:v*2}))):null,z.createElement(ft,{className:"recharts-bar-rectangles",clipPath:$?"url(#clipPath-".concat(N,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar($,N),(!b||E)&&Ha.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(K.PureComponent);Z4=pa;Bo(pa,"displayName","Bar");Bo(pa,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!cl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Bo(pa,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,s=t.yAxis,u=t.xAxisTicks,c=t.yAxisTicks,f=t.stackedData,h=t.dataStartIndex,p=t.displayedData,v=t.offset,b=UJ(n,r);if(!b)return null;var x=e.layout,w=r.type.defaultProps,E=w!==void 0?sr(sr({},w),r.props):r.props,O=E.dataKey,k=E.children,I=E.minPointSize,$=x==="horizontal"?s:a,N=f?$.scale.domain():null,j=YJ({numericAxis:$}),A=Wn(k,Tg),P=p.map(function(R,F){var M,V,D,Z,ee,re;f?M=qJ(f[h+F],N):(M=yr(R,O),Array.isArray(M)||(M=[j,M]));var ae=nie(I,Z4.defaultProps.minPointSize)(M[1],F);if(x==="horizontal"){var Q,ie=[s.scale(M[0]),s.scale(M[1])],oe=ie[0],q=ie[1];V=ER({axis:a,ticks:u,bandSize:i,offset:b.offset,entry:R,index:F}),D=(Q=q??oe)!==null&&Q!==void 0?Q:void 0,Z=b.size;var G=oe-q;if(ee=Number.isNaN(G)?0:G,re={x:V,y:s.y,width:Z,height:s.height},Math.abs(ae)>0&&Math.abs(ee)<Math.abs(ae)){var ce=on(ee||ae)*(Math.abs(ae)-Math.abs(ee));D-=ce,ee+=ce}}else{var xe=[a.scale(M[0]),a.scale(M[1])],Ne=xe[0],be=xe[1];if(V=Ne,D=ER({axis:s,ticks:c,bandSize:i,offset:b.offset,entry:R,index:F}),Z=be-Ne,ee=b.size,re={x:a.x,y:D,width:a.width,height:ee},Math.abs(ae)>0&&Math.abs(Z)<Math.abs(ae)){var je=on(Z||ae)*(Math.abs(ae)-Math.abs(Z));Z+=je}}return sr(sr(sr({},R),{},{x:V,y:D,width:Z,height:ee,value:f?M:M[1],payload:R,background:re},A&&A[F]&&A[F].props),{},{tooltipPayload:[k4(r,R)],tooltipPosition:{x:V+Z/2,y:D+ee/2}})});return sr({data:P,layout:x},v)});function sd(t){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sd(t)}function pie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zj(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rF(n.key),n)}}function mie(t,e,r){return e&&Zj(t.prototype,e),r&&Zj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function e2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ni(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?e2(Object(r),!0).forEach(function(n){zg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zg(t,e,r){return e=rF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rF(t){var e=gie(t,"string");return sd(e)=="symbol"?e:e+""}function gie(t,e){if(sd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nF=function(e,r,n,i,a){var s=e.width,u=e.height,c=e.layout,f=e.children,h=Object.keys(r),p={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:u-n.bottom,bottomMirror:u-n.bottom},v=!!Ln(f,pa);return h.reduce(function(b,x){var w=r[x],E=w.orientation,O=w.domain,k=w.padding,I=k===void 0?{}:k,$=w.mirror,N=w.reversed,j="".concat(E).concat($?"Mirror":""),A,P,R,F,M;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var V=O[1]-O[0],D=1/0,Z=w.categoricalDomain.sort(O7);if(Z.forEach(function(xe,Ne){Ne>0&&(D=Math.min((xe||0)-(Z[Ne-1]||0),D))}),Number.isFinite(D)){var ee=D/V,re=w.layout==="vertical"?n.height:n.width;if(w.padding==="gap"&&(A=ee*re/2),w.padding==="no-gap"){var ae=sn(e.barCategoryGap,ee*re),Q=ee*re/2;A=Q-ae-(Q-ae)/re*ae}}}i==="xAxis"?P=[n.left+(I.left||0)+(A||0),n.left+n.width-(I.right||0)-(A||0)]:i==="yAxis"?P=c==="horizontal"?[n.top+n.height-(I.bottom||0),n.top+(I.top||0)]:[n.top+(I.top||0)+(A||0),n.top+n.height-(I.bottom||0)-(A||0)]:P=w.range,N&&(P=[P[1],P[0]]);var ie=S4(w,a,v),oe=ie.scale,q=ie.realScaleType;oe.domain(O).range(P),T4(oe);var G=A4(oe,Ni(Ni({},w),{},{realScaleType:q}));i==="xAxis"?(M=E==="top"&&!$||E==="bottom"&&$,R=n.left,F=p[j]-M*w.height):i==="yAxis"&&(M=E==="left"&&!$||E==="right"&&$,R=p[j]-M*w.width,F=n.top);var ce=Ni(Ni(Ni({},w),G),{},{realScaleType:q,x:R,y:F,scale:oe,width:i==="xAxis"?n.width:w.width,height:i==="yAxis"?n.height:w.height});return ce.bandSize=vm(ce,G),!w.hide&&i==="xAxis"?p[j]+=(M?-1:1)*ce.height:w.hide||(p[j]+=(M?-1:1)*ce.width),Ni(Ni({},b),{},zg({},x,ce))},{})},iF=function(e,r){var n=e.x,i=e.y,a=r.x,s=r.y;return{x:Math.min(n,a),y:Math.min(i,s),width:Math.abs(a-n),height:Math.abs(s-i)}},yie=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return iF({x:r,y:n},{x:i,y:a})},aF=function(){function t(e){pie(this,t),this.scale=e}return mie(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(r)+u}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();zg(aF,"EPS",1e-4);var OS=function(e){var r=Object.keys(e).reduce(function(n,i){return Ni(Ni({},n),{},zg({},i,aF.create(e[i])))},{});return Ni(Ni({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,u=a.position;return Wne(i,function(c,f){return r[f].apply(c,{bandAware:s,position:u})})},isInRange:function(i){return J4(i,function(a,s){return r[s].isInRange(a)})}})};function vie(t){return(t%180+180)%180}var bie=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=vie(i),s=a*Math.PI/180,u=Math.atan(n/r),c=s>u&&s<Math.PI-u?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},Rx,t2;function _ie(){if(t2)return Rx;t2=1;var t=ya(),e=Cd(),r=xg();function n(i){return function(a,s,u){var c=Object(a);if(!e(a)){var f=t(s,3);a=r(a),s=function(p){return f(c[p],p,c)}}var h=i(a,s,u);return h>-1?c[f?a[h]:h]:void 0}}return Rx=n,Rx}var jx,r2;function xie(){if(r2)return jx;r2=1;var t=G4();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return jx=e,jx}var Dx,n2;function wie(){if(n2)return Dx;n2=1;var t=a$(),e=ya(),r=xie(),n=Math.max;function i(a,s,u){var c=a==null?0:a.length;if(!c)return-1;var f=u==null?0:r(u);return f<0&&(f=n(c+f,0)),t(a,e(s,3),f)}return Dx=i,Dx}var Mx,i2;function Eie(){if(i2)return Mx;i2=1;var t=_ie(),e=wie(),r=t(e);return Mx=r,Mx}var Sie=Eie();const Tie=vt(Sie);var Aie=xL();const Pie=vt(Aie);var kie=Pie(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),CS=K.createContext(void 0),NS=K.createContext(void 0),oF=K.createContext(void 0),sF=K.createContext({}),lF=K.createContext(void 0),uF=K.createContext(0),cF=K.createContext(0),a2=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,s=e.clipPathId,u=e.children,c=e.width,f=e.height,h=kie(a);return z.createElement(CS.Provider,{value:n},z.createElement(NS.Provider,{value:i},z.createElement(sF.Provider,{value:a},z.createElement(oF.Provider,{value:h},z.createElement(lF.Provider,{value:s},z.createElement(uF.Provider,{value:f},z.createElement(cF.Provider,{value:c},u)))))))},Iie=function(){return K.useContext(lF)},fF=function(e){var r=K.useContext(CS);r==null&&rl();var n=r[e];return n==null&&rl(),n},Oie=function(){var e=K.useContext(CS);return Fo(e)},Cie=function(){var e=K.useContext(NS),r=Tie(e,function(n){return J4(n.domain,Number.isFinite)});return r||Fo(e)},dF=function(e){var r=K.useContext(NS);r==null&&rl();var n=r[e];return n==null&&rl(),n},Nie=function(){var e=K.useContext(oF);return e},Rie=function(){return K.useContext(sF)},RS=function(){return K.useContext(cF)},jS=function(){return K.useContext(uF)};function Fu(t){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fu(t)}function jie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Die(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pF(n.key),n)}}function Mie(t,e,r){return e&&Die(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lie(t,e,r){return e=Mm(e),$ie(t,hF()?Reflect.construct(e,r||[],Mm(t).constructor):e.apply(t,r))}function $ie(t,e){if(e&&(Fu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fie(t)}function Fie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hF=function(){return!!t})()}function Mm(t){return Mm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mm(t)}function Vie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v1(t,e)}function v1(t,e){return v1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},v1(t,e)}function o2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function s2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?o2(Object(r),!0).forEach(function(n){DS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DS(t,e,r){return e=pF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pF(t){var e=Bie(t,"string");return Fu(e)=="symbol"?e:e+""}function Bie(t,e){if(Fu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Uie(t,e){return Hie(t)||Wie(t,e)||zie(t,e)||qie()}function qie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zie(t,e){if(t){if(typeof t=="string")return l2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l2(t,e)}}function l2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Wie(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function Hie(t){if(Array.isArray(t))return t}function b1(){return b1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},b1.apply(this,arguments)}var Kie=function(e,r){var n;return z.isValidElement(e)?n=z.cloneElement(e,r):Ye(e)?n=e(r):n=z.createElement("line",b1({},r,{className:"recharts-reference-line-line"})),n},Gie=function(e,r,n,i,a,s,u,c,f){var h=a.x,p=a.y,v=a.width,b=a.height;if(n){var x=f.y,w=e.y.apply(x,{position:s});if(ca(f,"discard")&&!e.y.isInRange(w))return null;var E=[{x:h+v,y:w},{x:h,y:w}];return c==="left"?E.reverse():E}if(r){var O=f.x,k=e.x.apply(O,{position:s});if(ca(f,"discard")&&!e.x.isInRange(k))return null;var I=[{x:k,y:p+b},{x:k,y:p}];return u==="top"?I.reverse():I}if(i){var $=f.segment,N=$.map(function(j){return e.apply(j,{position:s})});return ca(f,"discard")&&Bne(N,function(j){return!e.isInRange(j)})?null:N}return null};function Yie(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,u=t.className,c=t.alwaysShow,f=Iie(),h=fF(i),p=dF(a),v=Nie();if(!f||!v)return null;Di(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var b=OS({x:h.scale,y:p.scale}),x=vr(e),w=vr(r),E=n&&n.length===2,O=Gie(b,x,w,E,v,t.position,h.orientation,p.orientation,t);if(!O)return null;var k=Uie(O,2),I=k[0],$=I.x,N=I.y,j=k[1],A=j.x,P=j.y,R=ca(t,"hidden")?"url(#".concat(f,")"):void 0,F=s2(s2({clipPath:R},qe(t,!0)),{},{x1:$,y1:N,x2:A,y2:P});return z.createElement(ft,{className:et("recharts-reference-line",u)},Kie(s,F),kr.renderCallByParent(t,yie({x1:$,y1:N,x2:A,y2:P})))}var MS=function(t){function e(){return jie(this,e),Lie(this,e,arguments)}return Vie(e,t),Mie(e,[{key:"render",value:function(){return z.createElement(Yie,this.props)}}])}(z.Component);DS(MS,"displayName","ReferenceLine");DS(MS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function _1(){return _1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_1.apply(this,arguments)}function Vu(t){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vu(t)}function u2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function c2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?u2(Object(r),!0).forEach(function(n){Wg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gF(n.key),n)}}function Jie(t,e,r){return e&&Qie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zie(t,e,r){return e=Lm(e),eae(t,mF()?Reflect.construct(e,r||[],Lm(t).constructor):e.apply(t,r))}function eae(t,e){if(e&&(Vu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tae(t)}function tae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mF=function(){return!!t})()}function Lm(t){return Lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lm(t)}function rae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x1(t,e)}function x1(t,e){return x1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},x1(t,e)}function Wg(t,e,r){return e=gF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gF(t){var e=nae(t,"string");return Vu(e)=="symbol"?e:e+""}function nae(t,e){if(Vu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var iae=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,s=OS({x:i.scale,y:a.scale}),u=s.apply({x:r,y:n},{bandAware:!0});return ca(e,"discard")&&!s.isInRange(u)?null:u},Hg=function(t){function e(){return Xie(this,e),Zie(this,e,arguments)}return rae(e,t),Jie(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,s=n.r,u=n.alwaysShow,c=n.clipPathId,f=vr(i),h=vr(a);if(Di(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!h)return null;var p=iae(this.props);if(!p)return null;var v=p.x,b=p.y,x=this.props,w=x.shape,E=x.className,O=ca(this.props,"hidden")?"url(#".concat(c,")"):void 0,k=c2(c2({clipPath:O},qe(this.props,!0)),{},{cx:v,cy:b});return z.createElement(ft,{className:et("recharts-reference-dot",E)},e.renderDot(w,k),kr.renderCallByParent(this.props,{x:v-s,y:b-s,width:2*s,height:2*s}))}}])}(z.Component);Wg(Hg,"displayName","ReferenceDot");Wg(Hg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Wg(Hg,"renderDot",function(t,e){var r;return z.isValidElement(t)?r=z.cloneElement(t,e):Ye(t)?r=t(e):r=z.createElement(Lg,_1({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function w1(){return w1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},w1.apply(this,arguments)}function Bu(t){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bu(t)}function f2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function d2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?f2(Object(r),!0).forEach(function(n){Kg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oae(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vF(n.key),n)}}function sae(t,e,r){return e&&oae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lae(t,e,r){return e=$m(e),uae(t,yF()?Reflect.construct(e,r||[],$m(t).constructor):e.apply(t,r))}function uae(t,e){if(e&&(Bu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cae(t)}function cae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yF=function(){return!!t})()}function $m(t){return $m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$m(t)}function fae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E1(t,e)}function E1(t,e){return E1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},E1(t,e)}function Kg(t,e,r){return e=vF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vF(t){var e=dae(t,"string");return Bu(e)=="symbol"?e:e+""}function dae(t,e){if(Bu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var hae=function(e,r,n,i,a){var s=a.x1,u=a.x2,c=a.y1,f=a.y2,h=a.xAxis,p=a.yAxis;if(!h||!p)return null;var v=OS({x:h.scale,y:p.scale}),b={x:e?v.x.apply(s,{position:"start"}):v.x.rangeMin,y:n?v.y.apply(c,{position:"start"}):v.y.rangeMin},x={x:r?v.x.apply(u,{position:"end"}):v.x.rangeMax,y:i?v.y.apply(f,{position:"end"}):v.y.rangeMax};return ca(a,"discard")&&(!v.isInRange(b)||!v.isInRange(x))?null:iF(b,x)},Gg=function(t){function e(){return aae(this,e),lae(this,e,arguments)}return fae(e,t),sae(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,s=n.y1,u=n.y2,c=n.className,f=n.alwaysShow,h=n.clipPathId;Di(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=vr(i),v=vr(a),b=vr(s),x=vr(u),w=this.props.shape;if(!p&&!v&&!b&&!x&&!w)return null;var E=hae(p,v,b,x,this.props);if(!E&&!w)return null;var O=ca(this.props,"hidden")?"url(#".concat(h,")"):void 0;return z.createElement(ft,{className:et("recharts-reference-area",c)},e.renderRect(w,d2(d2({clipPath:O},qe(this.props,!0)),E)),kr.renderCallByParent(this.props,E))}}])}(z.Component);Kg(Gg,"displayName","ReferenceArea");Kg(Gg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Kg(Gg,"renderRect",function(t,e){var r;return z.isValidElement(t)?r=z.cloneElement(t,e):Ye(t)?r=t(e):r=z.createElement(IS,w1({},e,{className:"recharts-reference-area-rect"})),r});function bF(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function pae(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return bie(n,r)}function mae(t,e,r){var n=r==="width",i=t.x,a=t.y,s=t.width,u=t.height;return e===1?{start:n?i:a,end:n?i+s:a+u}:{start:n?i+s:a+u,end:n?i:a}}function Fm(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function gae(t,e){return bF(t,e+1)}function yae(t,e,r,n,i){for(var a=(n||[]).slice(),s=e.start,u=e.end,c=0,f=1,h=s,p=function(){var x=n?.[c];if(x===void 0)return{v:bF(n,f)};var w=c,E,O=function(){return E===void 0&&(E=r(x,w)),E},k=x.coordinate,I=c===0||Fm(t,k,O,h,u);I||(c=0,h=s,f+=1),I&&(h=k+t*(O()/2+i),c+=f)},v;f<=a.length;)if(v=p(),v)return v.v;return[]}function ld(t){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ld(t)}function h2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Kr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?h2(Object(r),!0).forEach(function(n){vae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vae(t,e,r){return e=bae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bae(t){var e=_ae(t,"string");return ld(e)=="symbol"?e:e+""}function _ae(t,e){if(ld(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xae(t,e,r,n,i){for(var a=(n||[]).slice(),s=a.length,u=e.start,c=e.end,f=function(v){var b=a[v],x,w=function(){return x===void 0&&(x=r(b,v)),x};if(v===s-1){var E=t*(b.coordinate+t*w()/2-c);a[v]=b=Kr(Kr({},b),{},{tickCoord:E>0?b.coordinate-E*t:b.coordinate})}else a[v]=b=Kr(Kr({},b),{},{tickCoord:b.coordinate});var O=Fm(t,b.tickCoord,w,u,c);O&&(c=b.tickCoord-t*(w()/2+i),a[v]=Kr(Kr({},b),{},{isShow:!0}))},h=s-1;h>=0;h--)f(h);return a}function wae(t,e,r,n,i,a){var s=(n||[]).slice(),u=s.length,c=e.start,f=e.end;if(a){var h=n[u-1],p=r(h,u-1),v=t*(h.coordinate+t*p/2-f);s[u-1]=h=Kr(Kr({},h),{},{tickCoord:v>0?h.coordinate-v*t:h.coordinate});var b=Fm(t,h.tickCoord,function(){return p},c,f);b&&(f=h.tickCoord-t*(p/2+i),s[u-1]=Kr(Kr({},h),{},{isShow:!0}))}for(var x=a?u-1:u,w=function(k){var I=s[k],$,N=function(){return $===void 0&&($=r(I,k)),$};if(k===0){var j=t*(I.coordinate-t*N()/2-c);s[k]=I=Kr(Kr({},I),{},{tickCoord:j<0?I.coordinate-j*t:I.coordinate})}else s[k]=I=Kr(Kr({},I),{},{tickCoord:I.coordinate});var A=Fm(t,I.tickCoord,N,c,f);A&&(c=I.tickCoord+t*(N()/2+i),s[k]=Kr(Kr({},I),{},{isShow:!0}))},E=0;E<x;E++)w(E);return s}function LS(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,s=t.minTickGap,u=t.orientation,c=t.interval,f=t.tickFormatter,h=t.unit,p=t.angle;if(!i||!i.length||!n)return[];if(ve(c)||cl.isSsr)return gae(i,typeof c=="number"&&ve(c)?c:0);var v=[],b=u==="top"||u==="bottom"?"width":"height",x=h&&b==="width"?hf(h,{fontSize:e,letterSpacing:r}):{width:0,height:0},w=function(I,$){var N=Ye(f)?f(I.value,$):I.value;return b==="width"?pae(hf(N,{fontSize:e,letterSpacing:r}),x,p):hf(N,{fontSize:e,letterSpacing:r})[b]},E=i.length>=2?on(i[1].coordinate-i[0].coordinate):1,O=mae(a,E,b);return c==="equidistantPreserveStart"?yae(E,O,w,i,s):(c==="preserveStart"||c==="preserveStartEnd"?v=wae(E,O,w,i,s,c==="preserveStartEnd"):v=xae(E,O,w,i,s),v.filter(function(k){return k.isShow}))}var Eae=["viewBox"],Sae=["viewBox"],Tae=["ticks"];function Uu(t){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uu(t)}function ou(){return ou=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ou.apply(this,arguments)}function p2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?p2(Object(r),!0).forEach(function(n){$S(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lx(t,e){if(t==null)return{};var r=Aae(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Aae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Pae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xF(n.key),n)}}function kae(t,e,r){return e&&m2(t.prototype,e),r&&m2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Iae(t,e,r){return e=Vm(e),Oae(t,_F()?Reflect.construct(e,r||[],Vm(t).constructor):e.apply(t,r))}function Oae(t,e){if(e&&(Uu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cae(t)}function Cae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _F(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_F=function(){return!!t})()}function Vm(t){return Vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vm(t)}function Nae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S1(t,e)}function S1(t,e){return S1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},S1(t,e)}function $S(t,e,r){return e=xF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xF(t){var e=Rae(t,"string");return Uu(e)=="symbol"?e:e+""}function Rae(t,e){if(Uu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ac=function(t){function e(r){var n;return Pae(this,e),n=Iae(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return Nae(e,t),kae(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,s=Lx(n,Eae),u=this.props,c=u.viewBox,f=Lx(u,Sae);return!hu(a,c)||!hu(s,f)||!hu(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,s=i.y,u=i.width,c=i.height,f=i.orientation,h=i.tickSize,p=i.mirror,v=i.tickMargin,b,x,w,E,O,k,I=p?-1:1,$=n.tickSize||h,N=ve(n.tickCoord)?n.tickCoord:n.coordinate;switch(f){case"top":b=x=n.coordinate,E=s+ +!p*c,w=E-I*$,k=w-I*v,O=N;break;case"left":w=E=n.coordinate,x=a+ +!p*u,b=x-I*$,O=b-I*v,k=N;break;case"right":w=E=n.coordinate,x=a+ +p*u,b=x+I*$,O=b+I*v,k=N;break;default:b=x=n.coordinate,E=s+ +p*c,w=E+I*$,k=w+I*v,O=N;break}return{line:{x1:b,y1:w,x2:x,y2:E},tick:{x:O,y:k}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,u=n.height,c=n.orientation,f=n.mirror,h=n.axisLine,p=mr(mr(mr({},qe(this.props,!1)),qe(h,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var v=+(c==="top"&&!f||c==="bottom"&&f);p=mr(mr({},p),{},{x1:i,y1:a+v*u,x2:i+s,y2:a+v*u})}else{var b=+(c==="left"&&!f||c==="right"&&f);p=mr(mr({},p),{},{x1:i+b*s,y1:a,x2:i+b*s,y2:a+u})}return z.createElement("line",ou({},p,{className:et("recharts-cartesian-axis-line",zn(h,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var s=this,u=this.props,c=u.tickLine,f=u.stroke,h=u.tick,p=u.tickFormatter,v=u.unit,b=LS(mr(mr({},this.props),{},{ticks:n}),i,a),x=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),E=qe(this.props,!1),O=qe(h,!1),k=mr(mr({},E),{},{fill:"none"},qe(c,!1)),I=b.map(function($,N){var j=s.getTickLineCoord($),A=j.line,P=j.tick,R=mr(mr(mr(mr({textAnchor:x,verticalAnchor:w},E),{},{stroke:"none",fill:f},O),P),{},{index:N,payload:$,visibleTicksCount:b.length,tickFormatter:p});return z.createElement(ft,ou({className:"recharts-cartesian-axis-tick",key:"tick-".concat($.value,"-").concat($.coordinate,"-").concat($.tickCoord)},Zs(s.props,$,N)),c&&z.createElement("line",ou({},k,A,{className:et("recharts-cartesian-axis-tick-line",zn(c,"className"))})),h&&e.renderTickItem(h,R,"".concat(Ye(p)?p($.value,N):$.value).concat(v||"")))});return z.createElement("g",{className:"recharts-cartesian-axis-ticks"},I)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,s=i.width,u=i.height,c=i.ticksGenerator,f=i.className,h=i.hide;if(h)return null;var p=this.props,v=p.ticks,b=Lx(p,Tae),x=v;return Ye(c)&&(x=v&&v.length>0?c(this.props):c(b)),s<=0||u<=0||!x||!x.length?null:z.createElement(ft,{className:et("recharts-cartesian-axis",f),ref:function(E){n.layerReference=E}},a&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),kr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var s,u=et(i.className,"recharts-cartesian-axis-tick-value");return z.isValidElement(n)?s=z.cloneElement(n,mr(mr({},i),{},{className:u})):Ye(n)?s=n(mr(mr({},i),{},{className:u})):s=z.createElement(el,ou({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(K.Component);$S(ac,"displayName","CartesianAxis");$S(ac,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var jae=["x1","y1","x2","y2","key"],Dae=["offset"];function nl(t){"@babel/helpers - typeof";return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nl(t)}function g2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?g2(Object(r),!0).forEach(function(n){Mae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mae(t,e,r){return e=Lae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lae(t){var e=$ae(t,"string");return nl(e)=="symbol"?e:e+""}function $ae(t,e){if(nl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $s(){return $s=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$s.apply(this,arguments)}function y2(t,e){if(t==null)return{};var r=Fae(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Fae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Vae=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,s=e.width,u=e.height,c=e.ry;return z.createElement("rect",{x:i,y:a,ry:c,width:s,height:u,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function wF(t,e){var r;if(z.isValidElement(t))r=z.cloneElement(t,e);else if(Ye(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,s=e.y2,u=e.key,c=y2(e,jae),f=qe(c,!1);f.offset;var h=y2(f,Dae);r=z.createElement("line",$s({},h,{x1:n,y1:i,x2:a,y2:s,fill:"none",key:u}))}return r}function Bae(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(u,c){var f=Xr(Xr({},t),{},{x1:e,y1:u,x2:e+r,y2:u,key:"line-".concat(c),index:c});return wF(i,f)});return z.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function Uae(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(u,c){var f=Xr(Xr({},t),{},{x1:u,y1:e,x2:u,y2:e+r,key:"line-".concat(c),index:c});return wF(i,f)});return z.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function qae(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,s=t.height,u=t.horizontalPoints,c=t.horizontal,f=c===void 0?!0:c;if(!f||!e||!e.length)return null;var h=u.map(function(v){return Math.round(v+i-i)}).sort(function(v,b){return v-b});i!==h[0]&&h.unshift(0);var p=h.map(function(v,b){var x=!h[b+1],w=x?i+s-v:h[b+1]-v;if(w<=0)return null;var E=b%e.length;return z.createElement("rect",{key:"react-".concat(b),y:v,x:n,height:w,width:a,stroke:"none",fill:e[E],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function zae(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,u=t.width,c=t.height,f=t.verticalPoints;if(!r||!n||!n.length)return null;var h=f.map(function(v){return Math.round(v+a-a)}).sort(function(v,b){return v-b});a!==h[0]&&h.unshift(0);var p=h.map(function(v,b){var x=!h[b+1],w=x?a+u-v:h[b+1]-v;if(w<=0)return null;var E=b%n.length;return z.createElement("rect",{key:"react-".concat(b),x:v,y:s,width:w,height:c,stroke:"none",fill:n[E],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var Wae=function(e,r){var n=e.xAxis,i=e.width,a=e.height,s=e.offset;return E4(LS(Xr(Xr(Xr({},ac.defaultProps),n),{},{ticks:Ba(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,r)},Hae=function(e,r){var n=e.yAxis,i=e.width,a=e.height,s=e.offset;return E4(LS(Xr(Xr(Xr({},ac.defaultProps),n),{},{ticks:Ba(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,r)},Ql={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Yg(t){var e,r,n,i,a,s,u=RS(),c=jS(),f=Rie(),h=Xr(Xr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Ql.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Ql.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Ql.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Ql.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Ql.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Ql.verticalFill,x:ve(t.x)?t.x:f.left,y:ve(t.y)?t.y:f.top,width:ve(t.width)?t.width:f.width,height:ve(t.height)?t.height:f.height}),p=h.x,v=h.y,b=h.width,x=h.height,w=h.syncWithTicks,E=h.horizontalValues,O=h.verticalValues,k=Oie(),I=Cie();if(!ve(b)||b<=0||!ve(x)||x<=0||!ve(p)||p!==+p||!ve(v)||v!==+v)return null;var $=h.verticalCoordinatesGenerator||Wae,N=h.horizontalCoordinatesGenerator||Hae,j=h.horizontalPoints,A=h.verticalPoints;if((!j||!j.length)&&Ye(N)){var P=E&&E.length,R=N({yAxis:I?Xr(Xr({},I),{},{ticks:P?E:I.ticks}):void 0,width:u,height:c,offset:f},P?!0:w);Di(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(nl(R),"]")),Array.isArray(R)&&(j=R)}if((!A||!A.length)&&Ye($)){var F=O&&O.length,M=$({xAxis:k?Xr(Xr({},k),{},{ticks:F?O:k.ticks}):void 0,width:u,height:c,offset:f},F?!0:w);Di(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(nl(M),"]")),Array.isArray(M)&&(A=M)}return z.createElement("g",{className:"recharts-cartesian-grid"},z.createElement(Vae,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),z.createElement(Bae,$s({},h,{offset:f,horizontalPoints:j,xAxis:k,yAxis:I})),z.createElement(Uae,$s({},h,{offset:f,verticalPoints:A,xAxis:k,yAxis:I})),z.createElement(qae,$s({},h,{horizontalPoints:j})),z.createElement(zae,$s({},h,{verticalPoints:A})))}Yg.displayName="CartesianGrid";var Kae=["type","layout","connectNulls","ref"],Gae=["key"];function qu(t){"@babel/helpers - typeof";return qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qu(t)}function v2(t,e){if(t==null)return{};var r=Yae(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Yae(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function bf(){return bf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bf.apply(this,arguments)}function b2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Dn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?b2(Object(r),!0).forEach(function(n){Ri(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jl(t){return Zae(t)||Jae(t)||Qae(t)||Xae()}function Xae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qae(t,e){if(t){if(typeof t=="string")return T1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T1(t,e)}}function Jae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zae(t){if(Array.isArray(t))return T1(t)}function T1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function eoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,SF(n.key),n)}}function toe(t,e,r){return e&&_2(t.prototype,e),r&&_2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function roe(t,e,r){return e=Bm(e),noe(t,EF()?Reflect.construct(e,r||[],Bm(t).constructor):e.apply(t,r))}function noe(t,e){if(e&&(qu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ioe(t)}function ioe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EF=function(){return!!t})()}function Bm(t){return Bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bm(t)}function aoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A1(t,e)}function A1(t,e){return A1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},A1(t,e)}function Ri(t,e,r){return e=SF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SF(t){var e=ooe(t,"string");return qu(e)=="symbol"?e:e+""}function ooe(t,e){if(qu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zs=function(t){function e(){var r;eoe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=roe(this,e,[].concat(i)),Ri(r,"state",{isAnimationFinished:!0,totalLength:0}),Ri(r,"generateSimpleStrokeDasharray",function(s,u){return"".concat(u,"px ").concat(s-u,"px")}),Ri(r,"getStrokeDasharray",function(s,u,c){var f=c.reduce(function(O,k){return O+k});if(!f)return r.generateSimpleStrokeDasharray(u,s);for(var h=Math.floor(s/f),p=s%f,v=u-s,b=[],x=0,w=0;x<c.length;w+=c[x],++x)if(w+c[x]>p){b=[].concat(Jl(c.slice(0,x)),[p-w]);break}var E=b.length%2===0?[0,v]:[v];return[].concat(Jl(e.repeat(c,h)),Jl(b),E).map(function(O){return"".concat(O,"px")}).join(", ")}),Ri(r,"id",ec("recharts-line-")),Ri(r,"pathRef",function(s){r.mainCurve=s}),Ri(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Ri(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return aoe(e,t),toe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,u=a.xAxis,c=a.yAxis,f=a.layout,h=a.children,p=Wn(h,Ld);if(!p)return null;var v=function(w,E){return{x:w.x,y:w.y,value:w.value,errorVal:yr(w.payload,E)}},b={clipPath:n?"url(#clipPath-".concat(i,")"):null};return z.createElement(ft,b,p.map(function(x){return z.cloneElement(x,{key:"bar-".concat(x.props.dataKey),data:s,xAxis:u,yAxis:c,layout:f,dataPointFormatter:v})}))}},{key:"renderDots",value:function(n,i,a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var u=this.props,c=u.dot,f=u.points,h=u.dataKey,p=qe(this.props,!1),v=qe(c,!0),b=f.map(function(w,E){var O=Dn(Dn(Dn({key:"dot-".concat(E),r:3},p),v),{},{index:E,cx:w.x,cy:w.y,value:w.value,dataKey:h,payload:w.payload,points:f});return e.renderDotItem(c,O)}),x={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return z.createElement(ft,bf({className:"recharts-line-dots",key:"dots"},x),b)}},{key:"renderCurveStatically",value:function(n,i,a,s){var u=this.props,c=u.type,f=u.layout,h=u.connectNulls;u.ref;var p=v2(u,Kae),v=Dn(Dn(Dn({},qe(p,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},s),{},{type:c,layout:f,connectNulls:h});return z.createElement(xm,bf({},v,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,s=this.props,u=s.points,c=s.strokeDasharray,f=s.isAnimationActive,h=s.animationBegin,p=s.animationDuration,v=s.animationEasing,b=s.animationId,x=s.animateNewValues,w=s.width,E=s.height,O=this.state,k=O.prevPoints,I=O.totalLength;return z.createElement(ha,{begin:h,duration:p,isActive:f,easing:v,from:{t:0},to:{t:1},key:"line-".concat(b),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function($){var N=$.t;if(k){var j=k.length/u.length,A=u.map(function(V,D){var Z=Math.floor(D*j);if(k[Z]){var ee=k[Z],re=Fn(ee.x,V.x),ae=Fn(ee.y,V.y);return Dn(Dn({},V),{},{x:re(N),y:ae(N)})}if(x){var Q=Fn(w*2,V.x),ie=Fn(E/2,V.y);return Dn(Dn({},V),{},{x:Q(N),y:ie(N)})}return Dn(Dn({},V),{},{x:V.x,y:V.y})});return a.renderCurveStatically(A,n,i)}var P=Fn(0,I),R=P(N),F;if(c){var M="".concat(c).split(/[,\s]+/gim).map(function(V){return parseFloat(V)});F=a.getStrokeDasharray(R,I,M)}else F=a.generateSimpleStrokeDasharray(I,R);return a.renderCurveStatically(u,n,i,{strokeDasharray:F})})}},{key:"renderCurve",value:function(n,i){var a=this.props,s=a.points,u=a.isAnimationActive,c=this.state,f=c.prevPoints,h=c.totalLength;return u&&s&&s.length&&(!f&&h>0||!Md(f,s))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(s,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,s=i.dot,u=i.points,c=i.className,f=i.xAxis,h=i.yAxis,p=i.top,v=i.left,b=i.width,x=i.height,w=i.isAnimationActive,E=i.id;if(a||!u||!u.length)return null;var O=this.state.isAnimationFinished,k=u.length===1,I=et("recharts-line",c),$=f&&f.allowDataOverflow,N=h&&h.allowDataOverflow,j=$||N,A=Je(E)?this.id:E,P=(n=qe(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},R=P.r,F=R===void 0?3:R,M=P.strokeWidth,V=M===void 0?2:M,D=F7(s)?s:{},Z=D.clipDot,ee=Z===void 0?!0:Z,re=F*2+V;return z.createElement(ft,{className:I},$||N?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(A)},z.createElement("rect",{x:$?v:v-b/2,y:N?p:p-x/2,width:$?b:b*2,height:N?x:x*2})),!ee&&z.createElement("clipPath",{id:"clipPath-dots-".concat(A)},z.createElement("rect",{x:v-re/2,y:p-re/2,width:b+re,height:x+re}))):null,!k&&this.renderCurve(j,A),this.renderErrorBar(j,A),(k||s)&&this.renderDots(j,ee,A),(!w||O)&&Ha.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(Jl(n),[0]):n,s=[],u=0;u<i;++u)s=[].concat(Jl(s),Jl(a));return s}},{key:"renderDotItem",value:function(n,i){var a;if(z.isValidElement(n))a=z.cloneElement(n,i);else if(Ye(n))a=n(i);else{var s=i.key,u=v2(i,Gae),c=et("recharts-line-dot",typeof n!="boolean"?n.className:"");a=z.createElement(Lg,bf({key:s},u,{className:c}))}return a}}])}(K.PureComponent);Ri(zs,"displayName","Line");Ri(zs,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!cl.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ri(zs,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,s=t.dataKey,u=t.bandSize,c=t.displayedData,f=t.offset,h=e.layout,p=c.map(function(v,b){var x=yr(v,s);return h==="horizontal"?{x:wR({axis:r,ticks:i,bandSize:u,entry:v,index:b}),y:Je(x)?null:n.scale(x),value:x,payload:v}:{x:Je(x)?null:r.scale(x),y:wR({axis:n,ticks:a,bandSize:u,entry:v,index:b}),value:x,payload:v}});return Dn({points:p,layout:h},f)});function zu(t){"@babel/helpers - typeof";return zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zu(t)}function soe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function loe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,PF(n.key),n)}}function uoe(t,e,r){return e&&loe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function coe(t,e,r){return e=Um(e),foe(t,TF()?Reflect.construct(e,r||[],Um(t).constructor):e.apply(t,r))}function foe(t,e){if(e&&(zu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return doe(t)}function doe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TF=function(){return!!t})()}function Um(t){return Um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Um(t)}function hoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P1(t,e)}function P1(t,e){return P1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},P1(t,e)}function AF(t,e,r){return e=PF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PF(t){var e=poe(t,"string");return zu(e)=="symbol"?e:e+""}function poe(t,e){if(zu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function k1(){return k1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},k1.apply(this,arguments)}function moe(t){var e=t.xAxisId,r=RS(),n=jS(),i=fF(e);return i==null?null:K.createElement(ac,k1({},i,{className:et("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return Ba(s,!0)}}))}var pl=function(t){function e(){return soe(this,e),coe(this,e,arguments)}return hoe(e,t),uoe(e,[{key:"render",value:function(){return K.createElement(moe,this.props)}}])}(K.Component);AF(pl,"displayName","XAxis");AF(pl,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Wu(t){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wu(t)}function goe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yoe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,OF(n.key),n)}}function voe(t,e,r){return e&&yoe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function boe(t,e,r){return e=qm(e),_oe(t,kF()?Reflect.construct(e,r||[],qm(t).constructor):e.apply(t,r))}function _oe(t,e){if(e&&(Wu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xoe(t)}function xoe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kF=function(){return!!t})()}function qm(t){return qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qm(t)}function woe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I1(t,e)}function I1(t,e){return I1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},I1(t,e)}function IF(t,e,r){return e=OF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OF(t){var e=Eoe(t,"string");return Wu(e)=="symbol"?e:e+""}function Eoe(t,e){if(Wu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function O1(){return O1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},O1.apply(this,arguments)}var Soe=function(e){var r=e.yAxisId,n=RS(),i=jS(),a=dF(r);return a==null?null:K.createElement(ac,O1({},a,{className:et("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(u){return Ba(u,!0)}}))},ml=function(t){function e(){return goe(this,e),boe(this,e,arguments)}return woe(e,t),voe(e,[{key:"render",value:function(){return K.createElement(Soe,this.props)}}])}(K.Component);IF(ml,"displayName","YAxis");IF(ml,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function x2(t){return koe(t)||Poe(t)||Aoe(t)||Toe()}function Toe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aoe(t,e){if(t){if(typeof t=="string")return C1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C1(t,e)}}function Poe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function koe(t){if(Array.isArray(t))return C1(t)}function C1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var N1=function(e,r,n,i,a){var s=Wn(e,MS),u=Wn(e,Hg),c=[].concat(x2(s),x2(u)),f=Wn(e,Gg),h="".concat(i,"Id"),p=i[0],v=r;if(c.length&&(v=c.reduce(function(w,E){if(E.props[h]===n&&ca(E.props,"extendDomain")&&ve(E.props[p])){var O=E.props[p];return[Math.min(w[0],O),Math.max(w[1],O)]}return w},v)),f.length){var b="".concat(p,"1"),x="".concat(p,"2");v=f.reduce(function(w,E){if(E.props[h]===n&&ca(E.props,"extendDomain")&&ve(E.props[b])&&ve(E.props[x])){var O=E.props[b],k=E.props[x];return[Math.min(w[0],O,k),Math.max(w[1],O,k)]}return w},v)}return a&&a.length&&(v=a.reduce(function(w,E){return ve(E)?[Math.min(w[0],E),Math.max(w[1],E)]:w},v)),v},$x={exports:{}},w2;function Ioe(){return w2||(w2=1,function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,f,h){this.fn=c,this.context=f,this.once=h||!1}function a(c,f,h,p,v){if(typeof h!="function")throw new TypeError("The listener must be a function");var b=new i(h,p||c,v),x=r?r+f:f;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],b]:c._events[x].push(b):(c._events[x]=b,c._eventsCount++),c}function s(c,f){--c._eventsCount===0?c._events=new n:delete c._events[f]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],h,p;if(this._eventsCount===0)return f;for(p in h=this._events)e.call(h,p)&&f.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},u.prototype.listeners=function(f){var h=r?r+f:f,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var v=0,b=p.length,x=new Array(b);v<b;v++)x[v]=p[v].fn;return x},u.prototype.listenerCount=function(f){var h=r?r+f:f,p=this._events[h];return p?p.fn?1:p.length:0},u.prototype.emit=function(f,h,p,v,b,x){var w=r?r+f:f;if(!this._events[w])return!1;var E=this._events[w],O=arguments.length,k,I;if(E.fn){switch(E.once&&this.removeListener(f,E.fn,void 0,!0),O){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,h),!0;case 3:return E.fn.call(E.context,h,p),!0;case 4:return E.fn.call(E.context,h,p,v),!0;case 5:return E.fn.call(E.context,h,p,v,b),!0;case 6:return E.fn.call(E.context,h,p,v,b,x),!0}for(I=1,k=new Array(O-1);I<O;I++)k[I-1]=arguments[I];E.fn.apply(E.context,k)}else{var $=E.length,N;for(I=0;I<$;I++)switch(E[I].once&&this.removeListener(f,E[I].fn,void 0,!0),O){case 1:E[I].fn.call(E[I].context);break;case 2:E[I].fn.call(E[I].context,h);break;case 3:E[I].fn.call(E[I].context,h,p);break;case 4:E[I].fn.call(E[I].context,h,p,v);break;default:if(!k)for(N=1,k=new Array(O-1);N<O;N++)k[N-1]=arguments[N];E[I].fn.apply(E[I].context,k)}}return!0},u.prototype.on=function(f,h,p){return a(this,f,h,p,!1)},u.prototype.once=function(f,h,p){return a(this,f,h,p,!0)},u.prototype.removeListener=function(f,h,p,v){var b=r?r+f:f;if(!this._events[b])return this;if(!h)return s(this,b),this;var x=this._events[b];if(x.fn)x.fn===h&&(!v||x.once)&&(!p||x.context===p)&&s(this,b);else{for(var w=0,E=[],O=x.length;w<O;w++)(x[w].fn!==h||v&&!x[w].once||p&&x[w].context!==p)&&E.push(x[w]);E.length?this._events[b]=E.length===1?E[0]:E:s(this,b)}return this},u.prototype.removeAllListeners=function(f){var h;return f?(h=r?r+f:f,this._events[h]&&s(this,h)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,t.exports=u}($x)),$x.exports}var Ooe=Ioe();const Coe=vt(Ooe);var Fx=new Coe,Vx="recharts.syncMouseEvents";function ud(t){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ud(t)}function Noe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Roe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,CF(n.key),n)}}function joe(t,e,r){return e&&Roe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bx(t,e,r){return e=CF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CF(t){var e=Doe(t,"string");return ud(e)=="symbol"?e:e+""}function Doe(t,e){if(ud(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Moe=function(){function t(){Noe(this,t),Bx(this,"activeIndex",0),Bx(this,"coordinateList",[]),Bx(this,"layout","horizontal")}return joe(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,s=r.container,u=s===void 0?null:s,c=r.layout,f=c===void 0?null:c,h=r.offset,p=h===void 0?null:h,v=r.mouseHandlerCallback,b=v===void 0?null:v;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=u??this.container,this.layout=f??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=b??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,u=i.height,c=this.coordinateList[this.activeIndex].coordinate,f=((r=window)===null||r===void 0?void 0:r.scrollX)||0,h=((n=window)===null||n===void 0?void 0:n.scrollY)||0,p=a+c+f,v=s+this.offset.top+u/2+h;this.mouseHandlerCallback({pageX:p,pageY:v})}}}])}();function Loe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t?.[0],i=t?.[1];if(n&&i&&ve(n)&&ve(i))return!0}return!1}function $oe(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function NF(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,s=Nt(e,r,n,i),u=Nt(e,r,n,a);return{points:[s,u],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function Foe(t,e,r){var n,i,a,s;if(t==="horizontal")n=e.x,a=n,i=r.top,s=r.top+r.height;else if(t==="vertical")i=e.y,s=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var u=e.cx,c=e.cy,f=e.innerRadius,h=e.outerRadius,p=e.angle,v=Nt(u,c,f,p),b=Nt(u,c,h,p);n=v.x,i=v.y,a=b.x,s=b.y}else return NF(e);return[{x:n,y:i},{x:a,y:s}]}function cd(t){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cd(t)}function E2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?E2(Object(r),!0).forEach(function(n){Voe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Voe(t,e,r){return e=Boe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Boe(t){var e=Uoe(t,"string");return cd(e)=="symbol"?e:e+""}function Uoe(t,e){if(cd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qoe(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,s=t.activeCoordinate,u=t.activePayload,c=t.offset,f=t.activeTooltipIndex,h=t.tooltipAxisBandSize,p=t.layout,v=t.chartName,b=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!b||!a||!s||v!=="ScatterChart"&&i!=="axis")return null;var x,w=xm;if(v==="ScatterChart")x=s,w=fre;else if(v==="BarChart")x=$oe(p,s,c,h),w=IS;else if(p==="radial"){var E=NF(s),O=E.cx,k=E.cy,I=E.radius,$=E.startAngle,N=E.endAngle;x={cx:O,cy:k,startAngle:$,endAngle:N,innerRadius:I,outerRadius:I},w=kS}else x={points:Foe(p,s,c)},w=xm;var j=yp(yp(yp(yp({stroke:"#ccc",pointerEvents:"none"},c),x),qe(b,!1)),{},{payload:u,payloadIndex:f,className:et("recharts-tooltip-cursor",b.className)});return K.isValidElement(b)?K.cloneElement(b,j):K.createElement(w,j)}var zoe=["item"],Woe=["children","className","width","height","style","compact","title","desc"];function Hu(t){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hu(t)}function su(){return su=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},su.apply(this,arguments)}function S2(t,e){return Goe(t)||Koe(t,e)||jF(t,e)||Hoe()}function Hoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Koe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,u=[],c=!0,f=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw i}}return u}}function Goe(t){if(Array.isArray(t))return t}function T2(t,e){if(t==null)return{};var r=Yoe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Yoe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Xoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qoe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,DF(n.key),n)}}function Joe(t,e,r){return e&&Qoe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zoe(t,e,r){return e=zm(e),ese(t,RF()?Reflect.construct(e,r||[],zm(t).constructor):e.apply(t,r))}function ese(t,e){if(e&&(Hu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tse(t)}function tse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RF=function(){return!!t})()}function zm(t){return zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zm(t)}function rse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R1(t,e)}function R1(t,e){return R1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},R1(t,e)}function Ku(t){return ase(t)||ise(t)||jF(t)||nse()}function nse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jF(t,e){if(t){if(typeof t=="string")return j1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j1(t,e)}}function ise(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ase(t){if(Array.isArray(t))return j1(t)}function j1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function A2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function se(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A2(Object(r),!0).forEach(function(n){We(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function We(t,e,r){return e=DF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DF(t){var e=ose(t,"string");return Hu(e)=="symbol"?e:e+""}function ose(t,e){if(Hu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sse={xAxis:["bottom","top"],yAxis:["left","right"]},lse={width:"100%",height:"100%"},MF={x:0,y:0};function vp(t){return t}var use=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},cse=function(e,r,n,i){var a=r.find(function(h){return h&&h.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var s=a.coordinate,u=i.radius;return se(se(se({},i),Nt(i.cx,i.cy,u,s)),{},{angle:s,radius:u})}var c=a.coordinate,f=i.angle;return se(se(se({},i),Nt(i.cx,i.cy,c,f)),{},{angle:f,radius:c})}return MF},Xg=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,s=(n??[]).reduce(function(u,c){var f=c.props.data;return f&&f.length?[].concat(Ku(u),Ku(f)):u},[]);return s.length>0?s:e&&e.length&&ve(i)&&ve(a)?e.slice(i,a+1):[]};function LF(t){return t==="number"?[0,"auto"]:void 0}var D1=function(e,r,n,i){var a=e.graphicalItems,s=e.tooltipAxis,u=Xg(r,e);return n<0||!a||!a.length||n>=u.length?null:a.reduce(function(c,f){var h,p=(h=f.props.data)!==null&&h!==void 0?h:r;p&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(p=p.slice(e.dataStartIndex,e.dataEndIndex+1));var v;if(s.dataKey&&!s.allowDuplicatedCategory){var b=p===void 0?u:p;v=Kp(b,s.dataKey,i)}else v=p&&p[n]||u[n];return v?[].concat(Ku(c),[k4(f,v)]):c},[])},P2=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},s=use(a,n),u=e.orderedTooltipTicks,c=e.tooltipAxis,f=e.tooltipTicks,h=MJ(s,u,f,c);if(h>=0&&f){var p=f[h]&&f[h].value,v=D1(e,r,h,p),b=cse(n,u,h,a);return{activeTooltipIndex:h,activeLabel:p,activePayload:v,activeCoordinate:b}}return null},fse=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,s=r.axisIdKey,u=r.stackGroups,c=r.dataStartIndex,f=r.dataEndIndex,h=e.layout,p=e.children,v=e.stackOffset,b=w4(h,a);return n.reduce(function(x,w){var E,O=w.type.defaultProps!==void 0?se(se({},w.type.defaultProps),w.props):w.props,k=O.type,I=O.dataKey,$=O.allowDataOverflow,N=O.allowDuplicatedCategory,j=O.scale,A=O.ticks,P=O.includeHidden,R=O[s];if(x[R])return x;var F=Xg(e.data,{graphicalItems:i.filter(function(G){var ce,xe=s in G.props?G.props[s]:(ce=G.type.defaultProps)===null||ce===void 0?void 0:ce[s];return xe===R}),dataStartIndex:c,dataEndIndex:f}),M=F.length,V,D,Z;Loe(O.domain,$,k)&&(V=Yw(O.domain,null,$),b&&(k==="number"||j!=="auto")&&(Z=mf(F,I,"category")));var ee=LF(k);if(!V||V.length===0){var re,ae=(re=O.domain)!==null&&re!==void 0?re:ee;if(I){if(V=mf(F,I,k),k==="category"&&b){var Q=I7(V);N&&Q?(D=V,V=Cm(0,M)):N||(V=AR(ae,V,w).reduce(function(G,ce){return G.indexOf(ce)>=0?G:[].concat(Ku(G),[ce])},[]))}else if(k==="category")N?V=V.filter(function(G){return G!==""&&!Je(G)}):V=AR(ae,V,w).reduce(function(G,ce){return G.indexOf(ce)>=0||ce===""||Je(ce)?G:[].concat(Ku(G),[ce])},[]);else if(k==="number"){var ie=BJ(F,i.filter(function(G){var ce,xe,Ne=s in G.props?G.props[s]:(ce=G.type.defaultProps)===null||ce===void 0?void 0:ce[s],be="hide"in G.props?G.props.hide:(xe=G.type.defaultProps)===null||xe===void 0?void 0:xe.hide;return Ne===R&&(P||!be)}),I,a,h);ie&&(V=ie)}b&&(k==="number"||j!=="auto")&&(Z=mf(F,I,"category"))}else b?V=Cm(0,M):u&&u[R]&&u[R].hasStack&&k==="number"?V=v==="expand"?[0,1]:P4(u[R].stackGroups,c,f):V=x4(F,i.filter(function(G){var ce=s in G.props?G.props[s]:G.type.defaultProps[s],xe="hide"in G.props?G.props.hide:G.type.defaultProps.hide;return ce===R&&(P||!xe)}),k,h,!0);if(k==="number")V=N1(p,V,R,a,A),ae&&(V=Yw(ae,V,$));else if(k==="category"&&ae){var oe=ae,q=V.every(function(G){return oe.indexOf(G)>=0});q&&(V=oe)}}return se(se({},x),{},We({},R,se(se({},O),{},{axisType:a,domain:V,categoricalDomain:Z,duplicateDomain:D,originalDomain:(E=O.domain)!==null&&E!==void 0?E:ee,isCategorical:b,layout:h})))},{})},dse=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,s=r.axisIdKey,u=r.stackGroups,c=r.dataStartIndex,f=r.dataEndIndex,h=e.layout,p=e.children,v=Xg(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:f}),b=v.length,x=w4(h,a),w=-1;return n.reduce(function(E,O){var k=O.type.defaultProps!==void 0?se(se({},O.type.defaultProps),O.props):O.props,I=k[s],$=LF("number");if(!E[I]){w++;var N;return x?N=Cm(0,b):u&&u[I]&&u[I].hasStack?(N=P4(u[I].stackGroups,c,f),N=N1(p,N,I,a)):(N=Yw($,x4(v,n.filter(function(j){var A,P,R=s in j.props?j.props[s]:(A=j.type.defaultProps)===null||A===void 0?void 0:A[s],F="hide"in j.props?j.props.hide:(P=j.type.defaultProps)===null||P===void 0?void 0:P.hide;return R===I&&!F}),"number",h),i.defaultProps.allowDataOverflow),N=N1(p,N,I,a)),se(se({},E),{},We({},I,se(se({axisType:a},i.defaultProps),{},{hide:!0,orientation:zn(sse,"".concat(a,".").concat(w%2),null),domain:N,originalDomain:$,isCategorical:x,layout:h})))}return E},{})},hse=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,s=r.graphicalItems,u=r.stackGroups,c=r.dataStartIndex,f=r.dataEndIndex,h=e.children,p="".concat(i,"Id"),v=Wn(h,a),b={};return v&&v.length?b=fse(e,{axes:v,graphicalItems:s,axisType:i,axisIdKey:p,stackGroups:u,dataStartIndex:c,dataEndIndex:f}):s&&s.length&&(b=dse(e,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:p,stackGroups:u,dataStartIndex:c,dataEndIndex:f})),b},pse=function(e){var r=Fo(e),n=Ba(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:tS(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:vm(r,n)}},k2=function(e){var r=e.children,n=e.defaultShowTooltip,i=Ln(r,Lu),a=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},mse=function(e){return!e||!e.length?!1:e.some(function(r){var n=qa(r&&r.type);return n&&n.indexOf("Bar")>=0})},I2=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},gse=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,s=a===void 0?{}:a,u=e.yAxisMap,c=u===void 0?{}:u,f=n.width,h=n.height,p=n.children,v=n.margin||{},b=Ln(p,Lu),x=Ln(p,za),w=Object.keys(c).reduce(function(N,j){var A=c[j],P=A.orientation;return!A.mirror&&!A.hide?se(se({},N),{},We({},P,N[P]+A.width)):N},{left:v.left||0,right:v.right||0}),E=Object.keys(s).reduce(function(N,j){var A=s[j],P=A.orientation;return!A.mirror&&!A.hide?se(se({},N),{},We({},P,zn(N,"".concat(P))+A.height)):N},{top:v.top||0,bottom:v.bottom||0}),O=se(se({},E),w),k=O.bottom;b&&(O.bottom+=b.props.height||Lu.defaultProps.height),x&&r&&(O=FJ(O,i,n,r));var I=f-O.left-O.right,$=h-O.top-O.bottom;return se(se({brushBottom:k},O),{},{width:Math.max(I,0),height:Math.max($,0)})},yse=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},FS=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,s=e.validateTooltipEventTypes,u=s===void 0?["axis"]:s,c=e.axisComponents,f=e.legendContent,h=e.formatAxisMap,p=e.defaultProps,v=function(O,k){var I=k.graphicalItems,$=k.stackGroups,N=k.offset,j=k.updateId,A=k.dataStartIndex,P=k.dataEndIndex,R=O.barSize,F=O.layout,M=O.barGap,V=O.barCategoryGap,D=O.maxBarSize,Z=I2(F),ee=Z.numericAxisName,re=Z.cateAxisName,ae=mse(I),Q=[];return I.forEach(function(ie,oe){var q=Xg(O.data,{graphicalItems:[ie],dataStartIndex:A,dataEndIndex:P}),G=ie.type.defaultProps!==void 0?se(se({},ie.type.defaultProps),ie.props):ie.props,ce=G.dataKey,xe=G.maxBarSize,Ne=G["".concat(ee,"Id")],be=G["".concat(re,"Id")],je={},Fe=c.reduce(function(Pt,Or){var Zr=k["".concat(Or.axisType,"Map")],pi=G["".concat(Or.axisType,"Id")];Zr&&Zr[pi]||Or.axisType==="zAxis"||rl();var Bi=Zr[pi];return se(se({},Pt),{},We(We({},Or.axisType,Bi),"".concat(Or.axisType,"Ticks"),Ba(Bi)))},je),he=Fe[re],Ie=Fe["".concat(re,"Ticks")],ze=$&&$[Ne]&&$[Ne].hasStack&&XJ(ie,$[Ne].stackGroups),le=qa(ie.type).indexOf("Bar")>=0,st=vm(he,Ie),He=[],pt=ae&&LJ({barSize:R,stackGroups:$,totalSize:yse(Fe,re)});if(le){var Et,Ht,cr=Je(xe)?D:xe,Jr=(Et=(Ht=vm(he,Ie,!0))!==null&&Ht!==void 0?Ht:cr)!==null&&Et!==void 0?Et:0;He=$J({barGap:M,barCategoryGap:V,bandSize:Jr!==st?Jr:st,sizeList:pt[be],maxBarSize:cr}),Jr!==st&&(He=He.map(function(Pt){return se(se({},Pt),{},{position:se(se({},Pt.position),{},{offset:Pt.position.offset-Jr/2})})}))}var At=ie&&ie.type&&ie.type.getComposedData;At&&Q.push({props:se(se({},At(se(se({},Fe),{},{displayedData:q,props:O,dataKey:ce,item:ie,bandSize:st,barPosition:He,offset:N,stackedData:ze,layout:F,dataStartIndex:A,dataEndIndex:P}))),{},We(We(We({key:ie.key||"item-".concat(oe)},ee,Fe[ee]),re,Fe[re]),"animationId",j)),childIndex:U7(ie,O.children),item:ie})}),Q},b=function(O,k){var I=O.props,$=O.dataStartIndex,N=O.dataEndIndex,j=O.updateId;if(!VI({props:I}))return null;var A=I.children,P=I.layout,R=I.stackOffset,F=I.data,M=I.reverseStackOrder,V=I2(P),D=V.numericAxisName,Z=V.cateAxisName,ee=Wn(A,n),re=GJ(F,ee,"".concat(D,"Id"),"".concat(Z,"Id"),R,M),ae=c.reduce(function(G,ce){var xe="".concat(ce.axisType,"Map");return se(se({},G),{},We({},xe,hse(I,se(se({},ce),{},{graphicalItems:ee,stackGroups:ce.axisType===D&&re,dataStartIndex:$,dataEndIndex:N}))))},{}),Q=gse(se(se({},ae),{},{props:I,graphicalItems:ee}),k?.legendBBox);Object.keys(ae).forEach(function(G){ae[G]=h(I,ae[G],Q,G.replace("Map",""),r)});var ie=ae["".concat(Z,"Map")],oe=pse(ie),q=v(I,se(se({},ae),{},{dataStartIndex:$,dataEndIndex:N,updateId:j,graphicalItems:ee,stackGroups:re,offset:Q}));return se(se({formattedGraphicalItems:q,graphicalItems:ee,offset:Q,stackGroups:re},oe),ae)},x=function(E){function O(k){var I,$,N;return Xoe(this,O),N=Zoe(this,O,[k]),We(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),We(N,"accessibilityManager",new Moe),We(N,"handleLegendBBoxUpdate",function(j){if(j){var A=N.state,P=A.dataStartIndex,R=A.dataEndIndex,F=A.updateId;N.setState(se({legendBBox:j},b({props:N.props,dataStartIndex:P,dataEndIndex:R,updateId:F},se(se({},N.state),{},{legendBBox:j}))))}}),We(N,"handleReceiveSyncEvent",function(j,A,P){if(N.props.syncId===j){if(P===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(A)}}),We(N,"handleBrushChange",function(j){var A=j.startIndex,P=j.endIndex;if(A!==N.state.dataStartIndex||P!==N.state.dataEndIndex){var R=N.state.updateId;N.setState(function(){return se({dataStartIndex:A,dataEndIndex:P},b({props:N.props,dataStartIndex:A,dataEndIndex:P,updateId:R},N.state))}),N.triggerSyncEvent({dataStartIndex:A,dataEndIndex:P})}}),We(N,"handleMouseEnter",function(j){var A=N.getMouseInfo(j);if(A){var P=se(se({},A),{},{isTooltipActive:!0});N.setState(P),N.triggerSyncEvent(P);var R=N.props.onMouseEnter;Ye(R)&&R(P,j)}}),We(N,"triggeredAfterMouseMove",function(j){var A=N.getMouseInfo(j),P=A?se(se({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(P),N.triggerSyncEvent(P);var R=N.props.onMouseMove;Ye(R)&&R(P,j)}),We(N,"handleItemMouseEnter",function(j){N.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),We(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),We(N,"handleMouseMove",function(j){j.persist(),N.throttleTriggeredAfterMouseMove(j)}),We(N,"handleMouseLeave",function(j){N.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};N.setState(A),N.triggerSyncEvent(A);var P=N.props.onMouseLeave;Ye(P)&&P(A,j)}),We(N,"handleOuterEvent",function(j){var A=B7(j),P=zn(N.props,"".concat(A));if(A&&Ye(P)){var R,F;/.*touch.*/i.test(A)?F=N.getMouseInfo(j.changedTouches[0]):F=N.getMouseInfo(j),P((R=F)!==null&&R!==void 0?R:{},j)}}),We(N,"handleClick",function(j){var A=N.getMouseInfo(j);if(A){var P=se(se({},A),{},{isTooltipActive:!0});N.setState(P),N.triggerSyncEvent(P);var R=N.props.onClick;Ye(R)&&R(P,j)}}),We(N,"handleMouseDown",function(j){var A=N.props.onMouseDown;if(Ye(A)){var P=N.getMouseInfo(j);A(P,j)}}),We(N,"handleMouseUp",function(j){var A=N.props.onMouseUp;if(Ye(A)){var P=N.getMouseInfo(j);A(P,j)}}),We(N,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),We(N,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&N.handleMouseDown(j.changedTouches[0])}),We(N,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&N.handleMouseUp(j.changedTouches[0])}),We(N,"handleDoubleClick",function(j){var A=N.props.onDoubleClick;if(Ye(A)){var P=N.getMouseInfo(j);A(P,j)}}),We(N,"handleContextMenu",function(j){var A=N.props.onContextMenu;if(Ye(A)){var P=N.getMouseInfo(j);A(P,j)}}),We(N,"triggerSyncEvent",function(j){N.props.syncId!==void 0&&Fx.emit(Vx,N.props.syncId,j,N.eventEmitterSymbol)}),We(N,"applySyncEvent",function(j){var A=N.props,P=A.layout,R=A.syncMethod,F=N.state.updateId,M=j.dataStartIndex,V=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)N.setState(se({dataStartIndex:M,dataEndIndex:V},b({props:N.props,dataStartIndex:M,dataEndIndex:V,updateId:F},N.state)));else if(j.activeTooltipIndex!==void 0){var D=j.chartX,Z=j.chartY,ee=j.activeTooltipIndex,re=N.state,ae=re.offset,Q=re.tooltipTicks;if(!ae)return;if(typeof R=="function")ee=R(Q,j);else if(R==="value"){ee=-1;for(var ie=0;ie<Q.length;ie++)if(Q[ie].value===j.activeLabel){ee=ie;break}}var oe=se(se({},ae),{},{x:ae.left,y:ae.top}),q=Math.min(D,oe.x+oe.width),G=Math.min(Z,oe.y+oe.height),ce=Q[ee]&&Q[ee].value,xe=D1(N.state,N.props.data,ee),Ne=Q[ee]?{x:P==="horizontal"?Q[ee].coordinate:q,y:P==="horizontal"?G:Q[ee].coordinate}:MF;N.setState(se(se({},j),{},{activeLabel:ce,activeCoordinate:Ne,activePayload:xe,activeTooltipIndex:ee}))}else N.setState(j)}),We(N,"renderCursor",function(j){var A,P=N.state,R=P.isTooltipActive,F=P.activeCoordinate,M=P.activePayload,V=P.offset,D=P.activeTooltipIndex,Z=P.tooltipAxisBandSize,ee=N.getTooltipEventType(),re=(A=j.props.active)!==null&&A!==void 0?A:R,ae=N.props.layout,Q=j.key||"_recharts-cursor";return z.createElement(qoe,{key:Q,activeCoordinate:F,activePayload:M,activeTooltipIndex:D,chartName:r,element:j,isActive:re,layout:ae,offset:V,tooltipAxisBandSize:Z,tooltipEventType:ee})}),We(N,"renderPolarAxis",function(j,A,P){var R=zn(j,"type.axisType"),F=zn(N.state,"".concat(R,"Map")),M=j.type.defaultProps,V=M!==void 0?se(se({},M),j.props):j.props,D=F&&F[V["".concat(R,"Id")]];return K.cloneElement(j,se(se({},D),{},{className:et(R,D.className),key:j.key||"".concat(A,"-").concat(P),ticks:Ba(D,!0)}))}),We(N,"renderPolarGrid",function(j){var A=j.props,P=A.radialLines,R=A.polarAngles,F=A.polarRadius,M=N.state,V=M.radiusAxisMap,D=M.angleAxisMap,Z=Fo(V),ee=Fo(D),re=ee.cx,ae=ee.cy,Q=ee.innerRadius,ie=ee.outerRadius;return K.cloneElement(j,{polarAngles:Array.isArray(R)?R:Ba(ee,!0).map(function(oe){return oe.coordinate}),polarRadius:Array.isArray(F)?F:Ba(Z,!0).map(function(oe){return oe.coordinate}),cx:re,cy:ae,innerRadius:Q,outerRadius:ie,key:j.key||"polar-grid",radialLines:P})}),We(N,"renderLegend",function(){var j=N.state.formattedGraphicalItems,A=N.props,P=A.children,R=A.width,F=A.height,M=N.props.margin||{},V=R-(M.left||0)-(M.right||0),D=b4({children:P,formattedGraphicalItems:j,legendWidth:V,legendContent:f});if(!D)return null;var Z=D.item,ee=T2(D,zoe);return K.cloneElement(Z,se(se({},ee),{},{chartWidth:R,chartHeight:F,margin:M,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),We(N,"renderTooltip",function(){var j,A=N.props,P=A.children,R=A.accessibilityLayer,F=Ln(P,$n);if(!F)return null;var M=N.state,V=M.isTooltipActive,D=M.activeCoordinate,Z=M.activePayload,ee=M.activeLabel,re=M.offset,ae=(j=F.props.active)!==null&&j!==void 0?j:V;return K.cloneElement(F,{viewBox:se(se({},re),{},{x:re.left,y:re.top}),active:ae,label:ee,payload:ae?Z:[],coordinate:D,accessibilityLayer:R})}),We(N,"renderBrush",function(j){var A=N.props,P=A.margin,R=A.data,F=N.state,M=F.offset,V=F.dataStartIndex,D=F.dataEndIndex,Z=F.updateId;return K.cloneElement(j,{key:j.key||"_recharts-brush",onChange:hp(N.handleBrushChange,j.props.onChange),data:R,x:ve(j.props.x)?j.props.x:M.left,y:ve(j.props.y)?j.props.y:M.top+M.height+M.brushBottom-(P.bottom||0),width:ve(j.props.width)?j.props.width:M.width,startIndex:V,endIndex:D,updateId:"brush-".concat(Z)})}),We(N,"renderReferenceElement",function(j,A,P){if(!j)return null;var R=N,F=R.clipPathId,M=N.state,V=M.xAxisMap,D=M.yAxisMap,Z=M.offset,ee=j.type.defaultProps||{},re=j.props,ae=re.xAxisId,Q=ae===void 0?ee.xAxisId:ae,ie=re.yAxisId,oe=ie===void 0?ee.yAxisId:ie;return K.cloneElement(j,{key:j.key||"".concat(A,"-").concat(P),xAxis:V[Q],yAxis:D[oe],viewBox:{x:Z.left,y:Z.top,width:Z.width,height:Z.height},clipPathId:F})}),We(N,"renderActivePoints",function(j){var A=j.item,P=j.activePoint,R=j.basePoint,F=j.childIndex,M=j.isRange,V=[],D=A.props.key,Z=A.item.type.defaultProps!==void 0?se(se({},A.item.type.defaultProps),A.item.props):A.item.props,ee=Z.activeDot,re=Z.dataKey,ae=se(se({index:F,dataKey:re,cx:P.x,cy:P.y,r:4,fill:PS(A.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},qe(ee,!1)),Gp(ee));return V.push(O.renderActiveDot(ee,ae,"".concat(D,"-activePoint-").concat(F))),R?V.push(O.renderActiveDot(ee,se(se({},ae),{},{cx:R.x,cy:R.y}),"".concat(D,"-basePoint-").concat(F))):M&&V.push(null),V}),We(N,"renderGraphicChild",function(j,A,P){var R=N.filterFormatItem(j,A,P);if(!R)return null;var F=N.getTooltipEventType(),M=N.state,V=M.isTooltipActive,D=M.tooltipAxis,Z=M.activeTooltipIndex,ee=M.activeLabel,re=N.props.children,ae=Ln(re,$n),Q=R.props,ie=Q.points,oe=Q.isRange,q=Q.baseLine,G=R.item.type.defaultProps!==void 0?se(se({},R.item.type.defaultProps),R.item.props):R.item.props,ce=G.activeDot,xe=G.hide,Ne=G.activeBar,be=G.activeShape,je=!!(!xe&&V&&ae&&(ce||Ne||be)),Fe={};F!=="axis"&&ae&&ae.props.trigger==="click"?Fe={onClick:hp(N.handleItemMouseEnter,j.props.onClick)}:F!=="axis"&&(Fe={onMouseLeave:hp(N.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:hp(N.handleItemMouseEnter,j.props.onMouseEnter)});var he=K.cloneElement(j,se(se({},R.props),Fe));function Ie(Or){return typeof D.dataKey=="function"?D.dataKey(Or.payload):null}if(je)if(Z>=0){var ze,le;if(D.dataKey&&!D.allowDuplicatedCategory){var st=typeof D.dataKey=="function"?Ie:"payload.".concat(D.dataKey.toString());ze=Kp(ie,st,ee),le=oe&&q&&Kp(q,st,ee)}else ze=ie?.[Z],le=oe&&q&&q[Z];if(be||Ne){var He=j.props.activeIndex!==void 0?j.props.activeIndex:Z;return[K.cloneElement(j,se(se(se({},R.props),Fe),{},{activeIndex:He})),null,null]}if(!Je(ze))return[he].concat(Ku(N.renderActivePoints({item:R,activePoint:ze,basePoint:le,childIndex:Z,isRange:oe})))}else{var pt,Et=(pt=N.getItemByXY(N.state.activeCoordinate))!==null&&pt!==void 0?pt:{graphicalItem:he},Ht=Et.graphicalItem,cr=Ht.item,Jr=cr===void 0?j:cr,At=Ht.childIndex,Pt=se(se(se({},R.props),Fe),{},{activeIndex:At});return[K.cloneElement(Jr,Pt),null,null]}return oe?[he,null,null]:[he,null]}),We(N,"renderCustomized",function(j,A,P){return K.cloneElement(j,se(se({key:"recharts-customized-".concat(P)},N.props),N.state))}),We(N,"renderMap",{CartesianGrid:{handler:vp,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:vp},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:vp},YAxis:{handler:vp},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((I=k.id)!==null&&I!==void 0?I:ec("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=v$(N.triggeredAfterMouseMove,($=k.throttleDelay)!==null&&$!==void 0?$:1e3/60),N.state={},N}return rse(O,E),Joe(O,[{key:"componentDidMount",value:function(){var I,$;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(I=this.props.margin.left)!==null&&I!==void 0?I:0,top:($=this.props.margin.top)!==null&&$!==void 0?$:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var I=this.props,$=I.children,N=I.data,j=I.height,A=I.layout,P=Ln($,$n);if(P){var R=P.props.defaultIndex;if(!(typeof R!="number"||R<0||R>this.state.tooltipTicks.length-1)){var F=this.state.tooltipTicks[R]&&this.state.tooltipTicks[R].value,M=D1(this.state,N,R,F),V=this.state.tooltipTicks[R].coordinate,D=(this.state.offset.top+j)/2,Z=A==="horizontal",ee=Z?{x:V,y:D}:{y:V,x:D},re=this.state.formattedGraphicalItems.find(function(Q){var ie=Q.item;return ie.type.name==="Scatter"});re&&(ee=se(se({},ee),re.props.points[R].tooltipPosition),M=re.props.points[R].tooltipPayload);var ae={activeTooltipIndex:R,isTooltipActive:!0,activeLabel:F,activePayload:M,activeCoordinate:ee};this.setState(ae),this.renderCursor(P),this.accessibilityManager.setIndex(R)}}}},{key:"getSnapshotBeforeUpdate",value:function(I,$){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==$.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==I.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==I.margin){var N,j;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(I){yw([Ln(I.children,$n)],[Ln(this.props.children,$n)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var I=Ln(this.props.children,$n);if(I&&typeof I.props.shared=="boolean"){var $=I.props.shared?"axis":"item";return u.indexOf($)>=0?$:a}return a}},{key:"getMouseInfo",value:function(I){if(!this.container)return null;var $=this.container,N=$.getBoundingClientRect(),j=kG(N),A={chartX:Math.round(I.pageX-j.left),chartY:Math.round(I.pageY-j.top)},P=N.width/$.offsetWidth||1,R=this.inRange(A.chartX,A.chartY,P);if(!R)return null;var F=this.state,M=F.xAxisMap,V=F.yAxisMap,D=this.getTooltipEventType(),Z=P2(this.state,this.props.data,this.props.layout,R);if(D!=="axis"&&M&&V){var ee=Fo(M).scale,re=Fo(V).scale,ae=ee&&ee.invert?ee.invert(A.chartX):null,Q=re&&re.invert?re.invert(A.chartY):null;return se(se({},A),{},{xValue:ae,yValue:Q},Z)}return Z?se(se({},A),Z):null}},{key:"inRange",value:function(I,$){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,A=I/N,P=$/N;if(j==="horizontal"||j==="vertical"){var R=this.state.offset,F=A>=R.left&&A<=R.left+R.width&&P>=R.top&&P<=R.top+R.height;return F?{x:A,y:P}:null}var M=this.state,V=M.angleAxisMap,D=M.radiusAxisMap;if(V&&D){var Z=Fo(V);return IR({x:A,y:P},Z)}return null}},{key:"parseEventsOfWrapper",value:function(){var I=this.props.children,$=this.getTooltipEventType(),N=Ln(I,$n),j={};N&&$==="axis"&&(N.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=Gp(this.props,this.handleOuterEvent);return se(se({},A),j)}},{key:"addListener",value:function(){Fx.on(Vx,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Fx.removeListener(Vx,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(I,$,N){for(var j=this.state.formattedGraphicalItems,A=0,P=j.length;A<P;A++){var R=j[A];if(R.item===I||R.props.key===I.key||$===qa(R.item.type)&&N===R.childIndex)return R}return null}},{key:"renderClipPath",value:function(){var I=this.clipPathId,$=this.state.offset,N=$.left,j=$.top,A=$.height,P=$.width;return z.createElement("defs",null,z.createElement("clipPath",{id:I},z.createElement("rect",{x:N,y:j,height:A,width:P})))}},{key:"getXScales",value:function(){var I=this.state.xAxisMap;return I?Object.entries(I).reduce(function($,N){var j=S2(N,2),A=j[0],P=j[1];return se(se({},$),{},We({},A,P.scale))},{}):null}},{key:"getYScales",value:function(){var I=this.state.yAxisMap;return I?Object.entries(I).reduce(function($,N){var j=S2(N,2),A=j[0],P=j[1];return se(se({},$),{},We({},A,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(I){var $;return($=this.state.xAxisMap)===null||$===void 0||($=$[I])===null||$===void 0?void 0:$.scale}},{key:"getYScaleByAxisId",value:function(I){var $;return($=this.state.yAxisMap)===null||$===void 0||($=$[I])===null||$===void 0?void 0:$.scale}},{key:"getItemByXY",value:function(I){var $=this.state,N=$.formattedGraphicalItems,j=$.activeItem;if(N&&N.length)for(var A=0,P=N.length;A<P;A++){var R=N[A],F=R.props,M=R.item,V=M.type.defaultProps!==void 0?se(se({},M.type.defaultProps),M.props):M.props,D=qa(M.type);if(D==="Bar"){var Z=(F.data||[]).find(function(Q){return Wte(I,Q)});if(Z)return{graphicalItem:R,payload:Z}}else if(D==="RadialBar"){var ee=(F.data||[]).find(function(Q){return IR(I,Q)});if(ee)return{graphicalItem:R,payload:ee}}else if(Ug(R,j)||qg(R,j)||id(R,j)){var re=pne({graphicalItem:R,activeTooltipItem:j,itemData:V.data}),ae=V.activeIndex===void 0?re:V.activeIndex;return{graphicalItem:se(se({},R),{},{childIndex:ae}),payload:id(R,j)?V.data[re]:R.props.data[re]}}}return null}},{key:"render",value:function(){var I=this;if(!VI(this))return null;var $=this.props,N=$.children,j=$.className,A=$.width,P=$.height,R=$.style,F=$.compact,M=$.title,V=$.desc,D=T2($,Woe),Z=qe(D,!1);if(F)return z.createElement(a2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement(bw,su({},Z,{width:A,height:P,title:M,desc:V}),this.renderClipPath(),UI(N,this.renderMap)));if(this.props.accessibilityLayer){var ee,re;Z.tabIndex=(ee=this.props.tabIndex)!==null&&ee!==void 0?ee:0,Z.role=(re=this.props.role)!==null&&re!==void 0?re:"application",Z.onKeyDown=function(Q){I.accessibilityManager.keyboardEvent(Q)},Z.onFocus=function(){I.accessibilityManager.focus()}}var ae=this.parseEventsOfWrapper();return z.createElement(a2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement("div",su({className:et("recharts-wrapper",j),style:se({position:"relative",cursor:"default",width:A,height:P},R)},ae,{ref:function(ie){I.container=ie}}),z.createElement(bw,su({},Z,{width:A,height:P,title:M,desc:V,style:lse}),this.renderClipPath(),UI(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(K.Component);We(x,"displayName",r),We(x,"defaultProps",se({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),We(x,"getDerivedStateFromProps",function(E,O){var k=E.dataKey,I=E.data,$=E.children,N=E.width,j=E.height,A=E.layout,P=E.stackOffset,R=E.margin,F=O.dataStartIndex,M=O.dataEndIndex;if(O.updateId===void 0){var V=k2(E);return se(se(se({},V),{},{updateId:0},b(se(se({props:E},V),{},{updateId:0}),O)),{},{prevDataKey:k,prevData:I,prevWidth:N,prevHeight:j,prevLayout:A,prevStackOffset:P,prevMargin:R,prevChildren:$})}if(k!==O.prevDataKey||I!==O.prevData||N!==O.prevWidth||j!==O.prevHeight||A!==O.prevLayout||P!==O.prevStackOffset||!hu(R,O.prevMargin)){var D=k2(E),Z={chartX:O.chartX,chartY:O.chartY,isTooltipActive:O.isTooltipActive},ee=se(se({},P2(O,I,A)),{},{updateId:O.updateId+1}),re=se(se(se({},D),Z),ee);return se(se(se({},re),b(se({props:E},re),O)),{},{prevDataKey:k,prevData:I,prevWidth:N,prevHeight:j,prevLayout:A,prevStackOffset:P,prevMargin:R,prevChildren:$})}if(!yw($,O.prevChildren)){var ae,Q,ie,oe,q=Ln($,Lu),G=q&&(ae=(Q=q.props)===null||Q===void 0?void 0:Q.startIndex)!==null&&ae!==void 0?ae:F,ce=q&&(ie=(oe=q.props)===null||oe===void 0?void 0:oe.endIndex)!==null&&ie!==void 0?ie:M,xe=G!==F||ce!==M,Ne=!Je(I),be=Ne&&!xe?O.updateId:O.updateId+1;return se(se({updateId:be},b(se(se({props:E},O),{},{updateId:be,dataStartIndex:G,dataEndIndex:ce}),O)),{},{prevChildren:$,dataStartIndex:G,dataEndIndex:ce})}return null}),We(x,"renderActiveDot",function(E,O,k){var I;return K.isValidElement(E)?I=K.cloneElement(E,O):Ye(E)?I=E(O):I=z.createElement(Lg,O),z.createElement(ft,{className:"recharts-active-dot",key:k},I)});var w=K.forwardRef(function(O,k){return z.createElement(x,su({},O,{ref:k}))});return w.displayName=x.displayName,w},vse=FS({chartName:"LineChart",GraphicalChild:zs,axisComponents:[{axisType:"xAxis",AxisComp:pl},{axisType:"yAxis",AxisComp:ml}],formatAxisMap:nF}),$F=FS({chartName:"BarChart",GraphicalChild:pa,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:pl},{axisType:"yAxis",AxisComp:ml}],formatAxisMap:nF}),bse=FS({chartName:"PieChart",GraphicalChild:io,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Bg},{axisType:"radiusAxis",AxisComp:Fg}],formatAxisMap:oZ,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const _se={"single-member-llc":20,"s-corp":20,"c-corp":21,partnership:20},xse=({jobs:t,bills:e,weeklyCosts:r,taxPayments:n,openModal:i,handleDelete:a})=>{const[s,u]=K.useState(20),[c,f]=K.useState("single-member-llc"),[h,p]=K.useState("quarterly"),[v,b]=K.useState(!1);K.useEffect(()=>{u(_se[c])},[c]);const x=K.useMemo(()=>{const I=new Date;let $,N;switch(h){case"weekly":$=new Date(I.setDate(I.getDate()-I.getDay())),N=new Date(I.setDate(I.getDate()-I.getDay()+6));break;case"monthly":$=new Date(I.getFullYear(),I.getMonth(),1),N=new Date(I.getFullYear(),I.getMonth()+1,0);break;case"quarterly":const j=Math.floor(I.getMonth()/3);$=new Date(I.getFullYear(),j*3,1),N=new Date(I.getFullYear(),j*3+3,0);break;case"yearly":$=new Date(I.getFullYear(),0,1),N=new Date(I.getFullYear(),11,31);break;default:$=new Date,N=new Date}return{start:$,end:N}},[h]),w=K.useMemo(()=>{const I=t.filter(V=>{if(!V.date)return!1;const D=new Date(V.date);return D>=x.start&&D<=x.end}),$=e.reduce((V,D)=>V+D.amount,0)+r.reduce((V,D)=>V+D.amount,0)*4.33,N=(x.end-x.start)/(1e3*60*60*24*30.44),j=$*N,A=I.reduce((V,D)=>V+(D.revenue||0),0),P=I.reduce((V,D)=>V+(D.materialCost||0)+(D.laborCost||0),0),R=A-P,F=R-j,M=F>0?F*(s/100):0;return{netProfit:F,estimatedTax:M,grossProfit:R,periodOperatingExpenses:j}},[t,e,r,s,x]),E=K.useMemo(()=>n.filter(I=>{const $=new Date(I.date);return $>=x.start&&$<=x.end}).reduce((I,$)=>I+($.amount||0),0),[n,x]),O=w.estimatedTax-E,k=[{name:"Tax Liability","Estimated Tax":w.estimatedTax,"Taxes Paid":E}];return y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[y.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Tax Estimation"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 items-end",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"filingStatus",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Filing Status"}),y.jsxs("select",{id:"filingStatus",value:c,onChange:I=>f(I.target.value),className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",children:[y.jsx("option",{value:"single-member-llc",children:"Single-Member LLC"}),y.jsx("option",{value:"s-corp",children:"S-Corporation"}),y.jsx("option",{value:"c-corp",children:"C-Corporation"}),y.jsx("option",{value:"partnership",children:"Partnership"})]}),(c==="llc"||c==="single-member-llc")&&y.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"LLC tax rates vary. Consult a tax professional."})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"taxRate",className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Estimated Tax Rate (%)"}),y.jsx("input",{id:"taxRate",type:"number",value:s,onChange:I=>u(parseFloat(I.target.value)||0),className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Estimation Period"}),y.jsxs("div",{className:"flex items-center gap-1 bg-slate-100 dark:bg-slate-700 rounded-md p-1",children:[y.jsx("button",{onClick:()=>p("weekly"),className:`w-full px-2 py-1 text-xs rounded ${h==="weekly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Weekly"}),y.jsx("button",{onClick:()=>p("monthly"),className:`w-full px-2 py-1 text-xs rounded ${h==="monthly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Monthly"}),y.jsx("button",{onClick:()=>p("quarterly"),className:`w-full px-2 py-1 text-xs rounded ${h==="quarterly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Quarterly"}),y.jsx("button",{onClick:()=>p("yearly"),className:`w-full px-2 py-1 text-xs rounded ${h==="yearly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Yearly"})]})]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:[y.jsx(ea,{title:`Estimated ${h} Net Profit`,value:`$${w.netProfit.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:y.jsx(Bs,{}),color:"blue"}),y.jsx(ea,{title:"Estimated Tax Liability",value:`$${w.estimatedTax.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:y.jsx(Bs,{}),color:"orange",subtext:w.netProfit<=0?"No tax on negative profit":""}),y.jsx(ea,{title:"Overpayment / (Underpayment)",value:`${O<0?"-":""}$${Math.abs(O).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:y.jsx(Bs,{}),color:O<0?"green":"red",subtext:O<0?"You have overpaid":"Remaining balance due"})]}),y.jsxs("div",{className:"mt-4",children:[y.jsxs("button",{onClick:()=>b(!v),className:"flex items-center gap-2 text-sm text-slate-500 dark:text-slate-400 hover:underline",children:["Show Calculation Breakdown ",y.jsx(pL,{className:`transition-transform ${v?"rotate-180":""}`,size:16})]}),v&&y.jsxs("div",{className:"mt-2 p-4 bg-slate-100 dark:bg-slate-700/50 rounded-lg text-sm space-y-2 animate-fade-in",children:[y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{children:"Gross Profit (from Jobs):"})," ",y.jsxs("span",{className:"font-mono",children:["$",w.grossProfit.toFixed(2)]})]}),y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{children:"- Est. Operating Expenses:"})," ",y.jsxs("span",{className:"font-mono",children:["$",w.periodOperatingExpenses.toFixed(2)]})]}),y.jsx("hr",{className:"border-slate-300 dark:border-slate-600"}),y.jsxs("div",{className:"flex justify-between font-bold",children:[y.jsx("span",{children:"= Estimated Net Profit:"})," ",y.jsxs("span",{className:"font-mono",children:["$",w.netProfit.toFixed(2)]})]}),y.jsxs("div",{className:"flex justify-between",children:[y.jsxs("span",{children:["x Tax Rate (",s,"%):"]})," ",y.jsxs("span",{className:"font-mono",children:["$",w.estimatedTax.toFixed(2)]})]})]})]}),w.netProfit<=0&&y.jsxs("div",{className:"mt-4 p-3 bg-blue-100 dark:bg-blue-900/50 border border-blue-400 dark:border-blue-700 text-blue-800 dark:text-blue-200 rounded-lg flex items-center gap-3",children:[y.jsx(k8,{size:20}),y.jsx("p",{className:"text-sm",children:"Your estimated tax is $0.00 because your estimated net profit is negative. The tax rate will apply once your profit is positive."})]}),y.jsxs("div",{className:"mt-6",children:[y.jsx("h4",{className:"text-lg font-bold text-slate-800 dark:text-white mb-2",children:"Liability vs. Payments"}),y.jsx(Sg,{width:"100%",height:200,children:y.jsxs($F,{data:k,layout:"vertical",margin:{top:5,right:20,left:20,bottom:5},children:[y.jsx(Yg,{strokeDasharray:"3 3"}),y.jsx(pl,{type:"number"}),y.jsx(ml,{type:"category",dataKey:"name",hide:!0}),y.jsx($n,{formatter:I=>`$${I.toLocaleString()}`}),y.jsx(za,{}),y.jsx(pa,{dataKey:"Estimated Tax",fill:"#f97316"}),y.jsx(pa,{dataKey:"Taxes Paid",fill:"#16a34a"})]})})]})]}),y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Recorded Tax Payments"}),y.jsxs("button",{onClick:()=>i("taxPayment"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[y.jsx($i,{size:16})," Record Payment"]})]}),y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-left",children:[y.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:y.jsxs("tr",{children:[y.jsx("th",{className:"p-3",children:"Date"}),y.jsx("th",{className:"p-3",children:"Notes"}),y.jsx("th",{className:"p-3 text-right",children:"Amount"}),y.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),y.jsx("tbody",{className:"text-sm",children:n.map(I=>y.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50",children:[y.jsx("td",{className:"p-3 font-medium",children:I.date}),y.jsx("td",{className:"p-3",children:I.notes}),y.jsxs("td",{className:"p-3 text-right font-mono",children:["$",(I.amount||0).toFixed(2)]}),y.jsxs("td",{className:"p-3 text-center",children:[y.jsx("button",{onClick:()=>i("taxPayment",I),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:y.jsx(Qo,{size:16})}),y.jsx("button",{onClick:()=>a("taxPayment",I.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:y.jsx(Fi,{size:16})})]})]},I.id))})]})})]})]})},wse=({jobs:t,tasks:e,openModal:r})=>{const[n,i]=K.useState(new Date),a=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],s=["January","February","March","April","May","June","July","August","September","October","November","December"],u=new Date(n.getFullYear(),n.getMonth(),1),c=new Date(n.getFullYear(),n.getMonth()+1,0),f=u.getDay(),h=c.getDate(),p=[];for(let w=0;w<f;w++)p.push(null);for(let w=1;w<=h;w++)p.push(new Date(n.getFullYear(),n.getMonth(),w));const v=K.useMemo(()=>{const w={};return t.forEach(E=>{const O=new Date(E.date).toISOString().split("T")[0];w[O]||(w[O]=[]),w[O].push({...E,type:"job"})}),e.forEach(E=>{const O=new Date(E.date).toISOString().split("T")[0];w[O]||(w[O]=[]),w[O].push({...E,type:"task"})}),w},[t,e]),b=()=>{i(new Date(n.getFullYear(),n.getMonth()-1,1))},x=()=>{i(new Date(n.getFullYear(),n.getMonth()+1,1))};return y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsx("button",{onClick:b,className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:y.jsx(T8,{})}),y.jsxs("h2",{className:"text-xl font-bold",children:[s[n.getMonth()]," ",n.getFullYear()]}),y.jsx("button",{onClick:x,className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700",children:y.jsx(A8,{})})]}),y.jsxs("div",{className:"flex justify-end gap-2 mb-4",children:[y.jsxs("button",{onClick:()=>r("task"),className:"flex items-center gap-2 text-sm bg-amber-500 hover:bg-amber-400 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[y.jsx($i,{size:16})," Add Task"]}),y.jsxs("button",{onClick:()=>r("job"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[y.jsx($i,{size:16})," Add Job"]})]}),y.jsxs("div",{className:"grid grid-cols-7 gap-1 text-center",children:[a.map(w=>y.jsx("div",{className:"font-bold text-sm text-slate-500 dark:text-slate-400 py-2",children:w},w)),p.map((w,E)=>y.jsxs("div",{className:`h-32 border border-slate-200 dark:border-slate-700 rounded-md p-1 overflow-y-auto ${w?"cursor-pointer":"bg-slate-50 dark:bg-slate-800/50"}`,onClick:()=>w&&r("task",{date:w.toISOString().split("T")[0]}),children:[w&&y.jsx("span",{className:"text-xs font-semibold",children:w.getDate()}),w&&v[w.toISOString().split("T")[0]]?.map(O=>y.jsx("div",{onClick:k=>{k.stopPropagation(),r(O.type,O)},className:`text-xs rounded p-1 mt-1 hover:opacity-80 ${O.type==="job"?"bg-cyan-100 dark:bg-cyan-900/50 text-cyan-800 dark:text-cyan-200":"bg-amber-100 dark:bg-amber-900/50 text-amber-800 dark:text-amber-200"}`,children:O.name||O.title},O.id))]},E))]})]})},Ese=({children:t,onClose:e})=>y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center p-4 animate-fade-in",children:y.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-lg m-4 relative border dark:border-slate-700",children:[y.jsx("button",{onClick:e,className:"absolute top-3 right-3 text-slate-400 hover:text-slate-800 dark:hover:text-white transition-colors",children:y.jsx(yL,{size:24})}),y.jsx("div",{className:"p-6",children:t})]})}),Sse=["Software","Fuel","Vehicle","Insurance","Marketing","Supplies","Overhead","Payroll","Taxes","Utilities","General"],Tse=({item:t,type:e,onSave:r,onClose:n,debts:i,clients:a,vehicles:s})=>{const[u,c]=K.useState({}),[f,h]=K.useState(null),[p,v]=K.useState(!1);K.useEffect(()=>{const O={bill:{name:"",amount:0,dueDay:1,isAutoPay:!1,category:"General",notes:"",attachmentURL:null,isRecurring:!1,vehicleId:""},debt:{name:"",totalAmount:0,paidAmount:0,interestRate:0,notes:""},income:{name:"",amount:0,type:"monthly",notes:"",isRecurring:!1},weekly:{name:"",amount:0,notes:""},job:{name:"",revenue:0,materialCost:0,laborCost:0,notes:"",date:new Date().toISOString().split("T")[0],clientId:""},task:{title:"",date:new Date().toISOString().split("T")[0],notes:"",isComplete:!1},invoice:{billTo:"",customer:"",jobNo:"",completedOn:"",invNum:"",terms:"",net:0,dueDate:"",status:"",grandTotal:0},taxPayment:{date:new Date().toISOString().split("T")[0],amount:0,notes:""},goal:{name:"",type:"revenue",targetValue:5e4,deadline:"",targetId:""},client:{name:"",address:"",phone:"",email:"",parentId:""},inventory:{name:"",quantity:0,cost:0},vehicle:{name:"",make:"",model:"",year:"",vin:"",licensePlate:"",currentMileage:0},maintenanceLog:{date:new Date().toISOString().split("T")[0],mileage:"",workPerformed:"",cost:0,notes:"",vehicleId:t?.vehicleId||""}};c(t||O[e])},[t,e]);const b=O=>{const{name:k,value:I,type:$,checked:N}=O.target;c(j=>({...j,[k]:$==="checkbox"?N:$==="number"?parseFloat(I)||0:I}))},x=O=>{O.target.files[0]&&h(O.target.files[0])},w=async O=>{O.preventDefault(),v(!0),await r(u,f),v(!1)},E=()=>{const O=a.filter(k=>!k.parentId);switch(e){case"bill":return y.jsxs(y.Fragment,{children:[" ",y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Bill Name"}),y.jsx("input",{type:"text",name:"name",value:u.name||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]})," ",y.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Amount"}),y.jsx("input",{type:"number",name:"amount",value:u.amount||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Due Day"}),y.jsx("input",{type:"number",name:"dueDay",min:"1",max:"31",value:u.dueDay||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]})]})," ",y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Category"}),y.jsx("input",{list:"bill-categories",type:"text",name:"category",value:u.category||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"}),y.jsx("datalist",{id:"bill-categories",children:Sse.map(k=>y.jsx("option",{value:k},k))})]})," ",u.category==="Vehicle"&&y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Assign to Vehicle"}),y.jsxs("select",{name:"vehicleId",value:u.vehicleId||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",children:[y.jsx("option",{value:"",children:"-- Select Vehicle --"}),s.map(k=>y.jsx("option",{value:k.id,children:k.name},k.id))]})]})," ",y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Notes"}),y.jsx("textarea",{name:"notes",value:u.notes||"",onChange:b,rows:"2",className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Attach Receipt (Optional)"}),y.jsx("input",{type:"file",onChange:x,className:"w-full text-sm text-slate-500 dark:text-slate-400 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-cyan-50 file:text-cyan-700 hover:file:bg-cyan-100"})]})," ",y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx("input",{type:"checkbox",id:"isAutoPay",name:"isAutoPay",checked:u.isAutoPay||!1,onChange:b,className:"h-4 w-4 rounded"}),y.jsx("label",{htmlFor:"isAutoPay",className:"ml-2 text-sm text-slate-600 dark:text-slate-300",children:"Enabled for Autopay"})]}),y.jsxs("div",{className:"flex items-center",children:[y.jsx("input",{type:"checkbox",id:"isRecurring",name:"isRecurring",checked:u.isRecurring||!1,onChange:b,className:"h-4 w-4 rounded"}),y.jsx("label",{htmlFor:"isRecurring",className:"ml-2 text-sm text-slate-600 dark:text-slate-300",children:"Is Recurring?"})]})]})," "]});case"invoice":return y.jsxs(y.Fragment,{children:[" ",y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Bill To"}),y.jsx("input",{type:"text",name:"billTo",value:u.billTo||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})," ",y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Customer"}),y.jsx("input",{type:"text",name:"customer",value:u.customer||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})," ",y.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Grand Total"}),y.jsx("input",{type:"number",name:"grandTotal",value:u.grandTotal||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Status"}),y.jsx("input",{type:"text",name:"status",value:u.status||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]})]});case"taxPayment":return y.jsxs(y.Fragment,{children:[" ",y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Payment Date"}),y.jsx("input",{type:"date",name:"date",value:u.date||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Amount Paid"}),y.jsx("input",{type:"number",name:"amount",value:u.amount||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Notes (e.g., Q2 Federal)"}),y.jsx("textarea",{name:"notes",value:u.notes||"",onChange:b,rows:"3",className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]});case"debt":return y.jsxs(y.Fragment,{children:[" ",y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Debt Name"}),y.jsx("input",{type:"text",name:"name",value:u.name||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]})," ",y.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Total Amount"}),y.jsx("input",{type:"number",name:"totalAmount",value:u.totalAmount||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Paid Amount"}),y.jsx("input",{type:"number",name:"paidAmount",value:u.paidAmount||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Interest Rate (%)"}),y.jsx("input",{type:"number",name:"interestRate",value:u.interestRate||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Notes"}),y.jsx("textarea",{name:"notes",value:u.notes||"",onChange:b,rows:"3",className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]});case"income":return y.jsxs(y.Fragment,{children:[" ",y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Income Source"}),y.jsx("input",{type:"text",name:"name",value:u.name||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Amount"}),y.jsx("input",{type:"number",name:"amount",value:u.amount||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Notes"}),y.jsx("textarea",{name:"notes",value:u.notes||"",onChange:b,rows:"3",className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),y.jsxs("div",{className:"flex items-center",children:[y.jsx("input",{type:"checkbox",id:"isRecurring",name:"isRecurring",checked:u.isRecurring||!1,onChange:b,className:"h-4 w-4 rounded"}),y.jsx("label",{htmlFor:"isRecurring",className:"ml-2 text-sm text-slate-600 dark:text-slate-300",children:"Is Recurring?"})]})]});case"weekly":return y.jsxs(y.Fragment,{children:[" ",y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Cost Name"}),y.jsx("input",{type:"text",name:"name",value:u.name||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Weekly Amount"}),y.jsx("input",{type:"number",name:"amount",value:u.amount||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Notes"}),y.jsx("textarea",{name:"notes",value:u.notes||"",onChange:b,rows:"3",className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]});case"job":return y.jsxs(y.Fragment,{children:[" ",y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Job Name/Client"}),y.jsx("input",{type:"text",name:"name",value:u.name||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Link to Client Location"}),y.jsx("select",{name:"clientId",value:u.clientId||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",children:O.map(k=>y.jsx("optgroup",{label:k.name,children:a.filter(I=>I.parentId===k.id||I.id===k.id).map(I=>y.jsx("option",{value:I.id,children:I.name},I.id))},k.id))})]})," ",y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Job Date"}),y.jsx("input",{type:"date",name:"date",value:u.date||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})," ",y.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Revenue"}),y.jsx("input",{type:"number",name:"revenue",value:u.revenue||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Material Cost"}),y.jsx("input",{type:"number",name:"materialCost",value:u.materialCost||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Labor Cost"}),y.jsx("input",{type:"number",name:"laborCost",value:u.laborCost||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Notes"}),y.jsx("textarea",{name:"notes",value:u.notes||"",onChange:b,rows:"3",className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]});case"task":return y.jsxs(y.Fragment,{children:[" ",y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Task Title"}),y.jsx("input",{type:"text",name:"title",value:u.title||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Date"}),y.jsx("input",{type:"date",name:"date",value:u.date||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Notes"}),y.jsx("textarea",{name:"notes",value:u.notes||"",onChange:b,rows:"3",className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),y.jsxs("div",{className:"flex items-center",children:[y.jsx("input",{type:"checkbox",id:"isComplete",name:"isComplete",checked:u.isComplete||!1,onChange:b,className:"h-4 w-4 rounded"}),y.jsx("label",{htmlFor:"isComplete",className:"ml-2 text-sm text-slate-600 dark:text-slate-300",children:"Is Complete?"})]})]});case"goal":return y.jsxs(y.Fragment,{children:[" ",y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Goal Name"}),y.jsx("input",{type:"text",name:"name",value:u.name||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]})," ",y.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Goal Type"}),y.jsxs("select",{name:"type",value:u.type||"revenue",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",children:[y.jsx("option",{value:"revenue",children:"Revenue"}),y.jsx("option",{value:"debt",children:"Debt Payoff"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Deadline"}),y.jsx("input",{type:"date",name:"deadline",value:u.deadline||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]})," ",u.type==="revenue"&&y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Target Revenue ($)"}),y.jsx("input",{type:"number",name:"targetValue",value:u.targetValue||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})," ",u.type==="debt"&&y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Select Debt to Pay Off"}),y.jsxs("select",{name:"targetId",value:u.targetId||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",children:[y.jsx("option",{value:"",children:"-- Select a Debt --"}),i.map(k=>y.jsx("option",{value:k.id,children:k.name},k.id))]})]})," "]});case"client":return y.jsxs(y.Fragment,{children:[" ",y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Client/Location Name"}),y.jsx("input",{type:"text",name:"name",value:u.name||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Parent Account (Optional)"}),y.jsxs("select",{name:"parentId",value:u.parentId||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",children:[y.jsx("option",{value:"",children:"-- None (Is a Parent Account) --"}),O.map(k=>y.jsx("option",{value:k.id,children:k.name},k.id))]})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Address"}),y.jsx("input",{type:"text",name:"address",value:u.address||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Phone Number"}),y.jsx("input",{type:"tel",name:"phone",value:u.phone||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Email"}),y.jsx("input",{type:"email",name:"email",value:u.email||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]})," "]});case"inventory":return y.jsxs(y.Fragment,{children:[" ",y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Item Name"}),y.jsx("input",{type:"text",name:"name",value:u.name||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Quantity"}),y.jsx("input",{type:"number",name:"quantity",value:u.quantity||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Cost per Item"}),y.jsx("input",{type:"number",name:"cost",value:u.cost||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]})," "]});case"vehicle":return y.jsxs(y.Fragment,{children:[" ",y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Vehicle Name"}),y.jsx("input",{type:"text",name:"name",value:u.name||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Year"}),y.jsx("input",{type:"text",name:"year",value:u.year||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Model"}),y.jsx("input",{type:"text",name:"model",value:u.model||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"VIN #"}),y.jsx("input",{type:"text",name:"vin",value:u.vin||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"License Plate"}),y.jsx("input",{type:"text",name:"licensePlate",value:u.licensePlate||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]})," "]});case"maintenanceLog":return y.jsxs(y.Fragment,{children:[" ",y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Date"}),y.jsx("input",{type:"date",name:"date",value:u.date||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white",required:!0})]})," ",y.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Mileage"}),y.jsx("input",{type:"number",name:"mileage",value:u.mileage||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Cost"}),y.jsx("input",{type:"number",name:"cost",value:u.cost||"",onChange:b,className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})]})," ",y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Work Performed"}),y.jsx("textarea",{name:"workPerformed",value:u.workPerformed||"",onChange:b,rows:"3",className:"w-full bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]})," "]});default:return y.jsx("p",{children:"This form is not yet implemented."})}};return y.jsx(Ese,{onClose:n,children:y.jsxs("form",{onSubmit:w,children:[y.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:[t?"Edit":"Add"," ",e.charAt(0).toUpperCase()+e.slice(1)]}),E(),y.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[y.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 rounded-md bg-slate-200 dark:bg-slate-600 text-slate-800 dark:text-white",children:"Cancel"}),y.jsx("button",{type:"submit",disabled:p,className:"px-4 py-2 rounded-md bg-cyan-600 flex items-center gap-2 disabled:bg-slate-500 text-white",children:p?"Saving...":y.jsxs(y.Fragment,{children:[y.jsx(D8,{size:16})," Save"]})})]})]})})},Ase=({invoices:t,openModal:e,handleDelete:r,handleBulkDelete:n,searchTerm:i,setSearchTerm:a,selectedIds:s,setSelectedIds:u,handleImportCSV:c,handleExportCSV:f,handleToggleInvoicePaid:h})=>{const p=[{key:"status",header:"Status",render:x=>y.jsx("button",{onClick:()=>h(x.id,x.status),children:x.status==="Paid"?y.jsx(mL,{className:"text-green-500"}):y.jsx(gL,{className:"text-slate-400 dark:text-slate-600"})})},{key:"billTo",header:"Bill To",render:x=>y.jsx("span",{className:`font-medium ${x.status==="Paid"?"line-through":""}`,children:x.billTo})},{key:"customer",header:"Customer",render:x=>y.jsx("span",{className:x.status==="Paid"?"line-through":"",children:x.customer})},{key:"grandTotal",header:"Amount",className:"text-right",render:x=>y.jsxs("span",{className:`font-mono ${x.status==="Paid"?"line-through":""}`,children:["$",(x.grandTotal||0).toFixed(2)]})},{key:"dueDate",header:"Due Date",className:"text-center",render:x=>y.jsx("span",{className:x.status==="Paid"?"line-through":"",children:x.dueDate})}],v=K.useMemo(()=>t.filter(x=>(x.customer||"").toLowerCase().includes(i.toLowerCase())||(x.billTo||"").toLowerCase().includes(i.toLowerCase())),[t,i]),b=x=>{x.target.checked?u(v.map(w=>w.id)):u([])};return y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Invoice Management"}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("input",{type:"text",placeholder:"Search Invoices...",value:i,onChange:x=>a(x.target.value),className:"w-full md:w-auto bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white"}),s.length>0&&y.jsxs("button",{onClick:()=>n("invoice",s),className:"flex items-center gap-2 text-sm bg-red-600 hover:bg-red-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[y.jsx(Fi,{size:16})," Delete (",s.length,")"]}),y.jsx("input",{type:"file",id:"csv-importer-invoice",className:"hidden",accept:".csv",onChange:x=>c(x.target.files[0],"invoice")}),y.jsxs("label",{htmlFor:"csv-importer-invoice",className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[y.jsx(fg,{size:16})," Import CSV"]}),y.jsxs("button",{onClick:()=>f(t,"invoices"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[y.jsx(kd,{size:16})," Export to CSV"]}),y.jsxs("button",{onClick:()=>e("invoice"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[y.jsx($i,{size:16})," Add New"]})]})]}),y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-left",children:[y.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:y.jsxs("tr",{children:[y.jsx("th",{className:"p-3",children:y.jsx("input",{type:"checkbox",onChange:b})}),p.map(x=>y.jsx("th",{className:`p-3 ${x.className||""}`,children:x.header},x.key)),y.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),y.jsx("tbody",{className:"text-sm",children:v.map(x=>y.jsxs("tr",{className:`border-b border-slate-200 dark:border-slate-700/50 ${x.status==="Paid"?"text-slate-400 dark:text-slate-500":"text-slate-700 dark:text-slate-200"}`,children:[y.jsx("td",{className:"p-3",children:y.jsx("input",{type:"checkbox",checked:s.includes(x.id),onChange:()=>{u(w=>w.includes(x.id)?w.filter(E=>E!==x.id):[...w,x.id])}})}),p.map(w=>y.jsx("td",{className:`p-3 ${w.className||""}`,children:w.render(x)},w.key)),y.jsxs("td",{className:"p-3 text-center",children:[y.jsx("button",{onClick:()=>e("invoice",x),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:y.jsx(Qo,{size:16})}),y.jsx("button",{onClick:()=>r("invoice",x.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:y.jsx(Fi,{size:16})})]})]},x.id))})]})})]})},Pse=({clients:t,openModal:e,handleDelete:r,handleBulkDelete:n,searchTerm:i,setSearchTerm:a,selectedIds:s,setSelectedIds:u,handleImportCSV:c,handleExportCSV:f})=>{const h=[{key:"name",header:"Name",render:b=>y.jsx("span",{className:"font-medium",children:b.name})},{key:"address",header:"Address",render:b=>y.jsx("span",{children:b.address})},{key:"phone",header:"Phone",render:b=>y.jsx("span",{children:b.phone})},{key:"email",header:"Email",render:b=>y.jsx("span",{children:b.email})}],p=K.useMemo(()=>t.filter(b=>(b.name||"").toLowerCase().includes(i.toLowerCase())||(b.address||"").toLowerCase().includes(i.toLowerCase())),[t,i]),v=b=>{b.target.checked?u(p.map(x=>x.id)):u([])};return y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Client Management"}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("input",{type:"text",placeholder:"Search Clients...",value:i,onChange:b=>a(b.target.value),className:"w-full md:w-auto bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white"}),s.length>0&&y.jsxs("button",{onClick:()=>n("client",s),className:"flex items-center gap-2 text-sm bg-red-600 hover:bg-red-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[y.jsx(Fi,{size:16})," Delete (",s.length,")"]}),y.jsx("input",{type:"file",id:"csv-importer-client",className:"hidden",accept:".csv",onChange:b=>c(b.target.files[0],"client")}),y.jsxs("label",{htmlFor:"csv-importer-client",className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[y.jsx(fg,{size:16})," Import CSV"]}),y.jsxs("button",{onClick:()=>f(t,"clients"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[y.jsx(kd,{size:16})," Export to CSV"]}),y.jsxs("button",{onClick:()=>e("client"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[y.jsx($i,{size:16})," Add New"]})]})]}),y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-left",children:[y.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:y.jsxs("tr",{children:[y.jsx("th",{className:"p-3",children:y.jsx("input",{type:"checkbox",onChange:v})}),h.map(b=>y.jsx("th",{className:`p-3 ${b.className||""}`,children:b.header},b.key)),y.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),y.jsx("tbody",{className:"text-sm",children:p.map(b=>y.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 text-slate-700 dark:text-slate-200",children:[y.jsx("td",{className:"p-3",children:y.jsx("input",{type:"checkbox",checked:s.includes(b.id),onChange:()=>{u(x=>x.includes(b.id)?x.filter(w=>w!==b.id):[...x,b.id])}})}),h.map(x=>y.jsx("td",{className:`p-3 ${x.className||""}`,children:x.render(b)},x.key)),y.jsxs("td",{className:"p-3 text-center",children:[y.jsx("button",{onClick:()=>e("client",b),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:y.jsx(Qo,{size:16})}),y.jsx("button",{onClick:()=>r("client",b.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:y.jsx(Fi,{size:16})})]})]},b.id))})]})})]})},kse=({vehicles:t,maintenanceLogs:e,openModal:r,handleDelete:n,searchTerm:i,setSearchTerm:a})=>{const[s,u]=K.useState(null),c=h=>{u(p=>p===h?null:h)},f=K.useMemo(()=>t.filter(h=>(h.name||"").toLowerCase().includes(i.toLowerCase())||(h.model||"").toLowerCase().includes(i.toLowerCase())),[t,i]);return y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Vehicle Management"}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("input",{type:"text",placeholder:"Search Vehicles...",value:i,onChange:h=>a(h.target.value),className:"w-full md:w-auto bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white"}),y.jsxs("button",{onClick:()=>r("vehicle"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[y.jsx($i,{size:16})," Add New Vehicle"]})]})]}),y.jsx("div",{className:"space-y-2",children:f.map(h=>y.jsxs("div",{children:[y.jsxs("div",{onClick:()=>c(h.id),className:"bg-slate-100 dark:bg-slate-700/50 p-4 rounded-lg flex justify-between items-center cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-700",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx(S8,{size:24,className:"text-cyan-500"}),y.jsxs("div",{children:[y.jsx("p",{className:"font-bold",children:h.name}),y.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[h.year," ",h.make," ",h.model]})]})]}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsxs("div",{className:"text-right",children:[y.jsxs("p",{className:"font-mono text-orange-600 dark:text-orange-400",children:["$",e.filter(p=>p.vehicleId===h.id).reduce((p,v)=>p+v.cost,0).toFixed(2)]}),y.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Total Expenses"})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:p=>{p.stopPropagation(),r("vehicle",h)},className:"p-1 text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400",children:y.jsx(Qo,{size:16})}),y.jsx("button",{onClick:p=>{p.stopPropagation(),n("vehicle",h.id)},className:"p-1 text-slate-500 dark:text-slate-400 hover:text-red-500",children:y.jsx(Fi,{size:16})})]}),s===h.id?y.jsx(P8,{}):y.jsx(pL,{})]})]}),s===h.id&&y.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-800/50 rounded-b-lg border-t-2 border-slate-200 dark:border-slate-700",children:[y.jsxs("div",{className:"flex justify-between items-center mb-3",children:[y.jsx("h4",{className:"font-bold",children:"Maintenance Log"}),y.jsxs("button",{onClick:()=>r("maintenanceLog",{vehicleId:h.id}),className:"flex items-center gap-2 text-xs bg-green-600 hover:bg-green-500 text-white font-semibold px-2 py-1 rounded-md",children:[y.jsx($i,{size:14})," Add Log Entry"]})]}),y.jsxs("table",{className:"w-full text-left text-sm",children:[y.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase",children:y.jsxs("tr",{children:[y.jsx("th",{className:"p-2",children:"Date"}),y.jsx("th",{className:"p-2",children:"Mileage"}),y.jsx("th",{className:"p-2",children:"Work Performed"}),y.jsx("th",{className:"p-2 text-right",children:"Cost"}),y.jsx("th",{className:"p-2 text-center",children:"Actions"})]})}),y.jsx("tbody",{children:e.filter(p=>p.vehicleId===h.id).sort((p,v)=>new Date(v.date)-new Date(p.date)).map(p=>y.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50",children:[y.jsx("td",{className:"p-2",children:p.date}),y.jsx("td",{className:"p-2",children:p.mileage?.toLocaleString()||"N/A"}),y.jsx("td",{className:"p-2",children:p.workPerformed}),y.jsxs("td",{className:"p-2 text-right font-mono",children:["$",p.cost.toFixed(2)]}),y.jsxs("td",{className:"p-2 text-center",children:[y.jsx("button",{onClick:()=>r("maintenanceLog",p),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:y.jsx(Qo,{size:14})}),y.jsx("button",{onClick:()=>n("maintenanceLog",p.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:y.jsx(Fi,{size:14})})]})]},p.id))})]})]})]},h.id))})]})},Ise=({inventory:t,openModal:e,handleDelete:r,handleBulkDelete:n,searchTerm:i,setSearchTerm:a,selectedIds:s,setSelectedIds:u,handleImportCSV:c,handleExportCSV:f})=>{const h=[{key:"name",header:"Item Name",render:b=>y.jsx("span",{className:"font-medium",children:b.name})},{key:"quantity",header:"Quantity on Hand",className:"text-center",render:b=>y.jsx("span",{children:b.quantity})},{key:"cost",header:"Cost per Item",className:"text-right",render:b=>y.jsxs("span",{className:"font-mono",children:["$",(b.cost||0).toFixed(2)]})}],p=K.useMemo(()=>t.filter(b=>(b.name||"").toLowerCase().includes(i.toLowerCase())),[t,i]),v=b=>{b.target.checked?u(p.map(x=>x.id)):u([])};return y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Inventory Management"}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("input",{type:"text",placeholder:"Search Inventory...",value:i,onChange:b=>a(b.target.value),className:"w-full md:w-auto bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white"}),s.length>0&&y.jsxs("button",{onClick:()=>n("inventory",s),className:"flex items-center gap-2 text-sm bg-red-600 hover:bg-red-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[y.jsx(Fi,{size:16})," Delete (",s.length,")"]}),y.jsx("input",{type:"file",id:"csv-importer-inventory",className:"hidden",accept:".csv",onChange:b=>c(b.target.files[0],"inventory")}),y.jsxs("label",{htmlFor:"csv-importer-inventory",className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[y.jsx(fg,{size:16})," Import CSV"]}),y.jsxs("button",{onClick:()=>f(t,"inventory"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[y.jsx(kd,{size:16})," Export to CSV"]}),y.jsxs("button",{onClick:()=>e("inventory"),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[y.jsx($i,{size:16})," Add New"]})]})]}),y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-left",children:[y.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:y.jsxs("tr",{children:[y.jsx("th",{className:"p-3",children:y.jsx("input",{type:"checkbox",onChange:v})}),h.map(b=>y.jsx("th",{className:`p-3 ${b.className||""}`,children:b.header},b.key)),y.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),y.jsx("tbody",{className:"text-sm",children:p.map(b=>y.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 text-slate-700 dark:text-slate-200",children:[y.jsx("td",{className:"p-3",children:y.jsx("input",{type:"checkbox",checked:s.includes(b.id),onChange:()=>{u(x=>x.includes(b.id)?x.filter(w=>w!==b.id):[...x,b.id])}})}),h.map(x=>y.jsx("td",{className:`p-3 ${x.className||""}`,children:x.render(b)},x.key)),y.jsxs("td",{className:"p-3 text-center",children:[y.jsx("button",{onClick:()=>e("inventory",b),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:y.jsx(Qo,{size:16})}),y.jsx("button",{onClick:()=>r("inventory",b.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:y.jsx(Fi,{size:16})})]})]},b.id))})]})})]})},Ose=({clients:t,jobs:e,bills:r,inventory:n})=>{const i=K.useMemo(()=>t.map(u=>{const c=e.filter(p=>p.clientId===u.id),f=c.reduce((p,v)=>p+(v.revenue||0),0),h=c.reduce((p,v)=>p+(v.materialCost||0)+(v.laborCost||0),0);return{name:u.name,netProfit:f-h}}).sort((u,c)=>c.netProfit-u.netProfit),[t,e]),a=K.useMemo(()=>{const u={},c=new Date;return c.setMonth(c.getMonth()-12),e.forEach(f=>{if(f.date&&new Date(f.date)>c){const h=new Date(f.date).toISOString().slice(0,7);u[h]||(u[h]={revenue:0,expenses:0}),u[h].revenue+=f.revenue||0}}),r.forEach(f=>{const h=f.createdAt?.toDate?f.createdAt.toDate():new Date;if(h>c){const p=h.toISOString().slice(0,7);u[p]||(u[p]={revenue:0,expenses:0}),u[p].expenses+=f.amount||0}}),Object.keys(u).map(f=>({month:f,Revenue:u[f].revenue,Expenses:u[f].expenses})).sort((f,h)=>f.month.localeCompare(h.month))},[e,r]),s=K.useMemo(()=>n.map(u=>({name:u.name,totalValue:(u.quantity||0)*(u.cost||0)})).sort((u,c)=>c.totalValue-u.totalValue),[n]);return y.jsxs("div",{className:"space-y-8",children:[y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[y.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Revenue vs. Expenses Trend (Last 12 Months)"}),y.jsx(Sg,{width:"100%",height:300,children:y.jsxs($F,{data:a,children:[y.jsx(Yg,{strokeDasharray:"3 3"}),y.jsx(pl,{dataKey:"month",stroke:"#64748b"}),y.jsx(ml,{stroke:"#64748b",tickFormatter:u=>`$${u/1e3}k`}),y.jsx($n,{contentStyle:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0"},formatter:u=>`$${u.toLocaleString()}`}),y.jsx(za,{}),y.jsx(pa,{dataKey:"Revenue",fill:"#22c55e"}),y.jsx(pa,{dataKey:"Expenses",fill:"#ef4444"})]})})]}),y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[y.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Client Profitability"}),y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-left",children:[y.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:y.jsxs("tr",{children:[y.jsx("th",{className:"p-3",children:"Client"}),y.jsx("th",{className:"p-3 text-right",children:"Net Profit"})]})}),y.jsx("tbody",{children:i.map(u=>y.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50",children:[y.jsx("td",{className:"p-3 font-medium",children:u.name}),y.jsxs("td",{className:`p-3 text-right font-mono ${u.netProfit>=0?"text-green-600 dark:text-green-400":"text-red-500"}`,children:["$",u.netProfit.toFixed(2)]})]},u.name))})]})})]}),y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[y.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Inventory Value"}),y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-left",children:[y.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:y.jsxs("tr",{children:[y.jsx("th",{className:"p-3",children:"Item"}),y.jsx("th",{className:"p-3 text-center",children:"Quantity"}),y.jsx("th",{className:"p-3 text-right",children:"Total Value"})]})}),y.jsx("tbody",{children:s.map(u=>y.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50",children:[y.jsx("td",{className:"p-3 font-medium",children:u.name}),y.jsx("td",{className:"p-3 text-center",children:n.find(c=>c.name===u.name)?.quantity}),y.jsxs("td",{className:"p-3 text-right font-mono",children:["$",u.totalValue.toFixed(2)]})]},u.name))})]})})]})]})},Cse=({bills:t,paidStatus:e,onClose:r})=>{const n=K.useMemo(()=>{const i=new Date,a=new Date;return a.setDate(i.getDate()+3),t.filter(s=>{if(e[s.id])return!1;const u=new Date(i.getFullYear(),i.getMonth(),s.dueDay);return u>=i&&u<=a})},[t,e]);return n.length===0?null:y.jsxs("div",{className:"bg-yellow-100 dark:bg-yellow-900/50 border border-yellow-400 dark:border-yellow-700 text-yellow-800 dark:text-yellow-200 px-4 py-3 rounded-lg relative mb-6",role:"alert",children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx(E8,{size:20,className:"mr-3"}),y.jsxs("div",{children:[y.jsx("strong",{className:"font-bold",children:"Upcoming Bills!"}),y.jsx("ul",{className:"list-disc list-inside mt-1",children:n.map(i=>y.jsxs("li",{children:[i.name," is due on day ",i.dueDay,"."]},i.id))})]})]}),y.jsx("button",{onClick:r,className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:y.jsx(yL,{size:18})})]})},Nse=({data:t,onSliceClick:e})=>{const[r,n]=K.useState(0),i=K.useCallback((s,u)=>{n(u)},[n]),a=s=>{const{cx:u,cy:c,innerRadius:f,outerRadius:h,startAngle:p,endAngle:v,fill:b,payload:x}=s;return y.jsxs("g",{className:"cursor-pointer",onClick:()=>e(x.name),children:[y.jsx("text",{x:u,y:c,dy:8,textAnchor:"middle",fill:b,className:"font-bold text-lg",children:x.name}),y.jsx(kS,{cx:u,cy:c,innerRadius:f,outerRadius:h,startAngle:p,endAngle:v,fill:b})]})};return y.jsx(Sg,{width:"100%",height:300,children:y.jsxs(bse,{children:[y.jsx($n,{contentStyle:{backgroundColor:"#334155",border:"1px solid #475569",borderRadius:"0.5rem"},labelStyle:{color:"#cbd5e1"},itemStyle:{color:"#f1f5f9"},formatter:s=>`$${s.toFixed(2)}`}),y.jsx(io,{activeIndex:r,activeShape:a,data:t,cx:"50%",cy:"50%",innerRadius:70,outerRadius:90,fill:"#8884d8",dataKey:"value",onMouseEnter:i,onClick:s=>e(s.name),children:t.map((s,u)=>y.jsx(Tg,{fill:s.color},`cell-${u}`))})]})})},Rse=({invoices:t,bills:e,weeklyCosts:r,currentBankBalance:n,setCurrentBankBalance:i})=>{const a=K.useMemo(()=>{const s=[{name:"Next 30 Days",Inflow:0,Outflow:0},{name:"Next 60 Days",Inflow:0,Outflow:0},{name:"Next 90 Days",Inflow:0,Outflow:0}],u=new Date,c=e.filter(f=>f.isRecurring).reduce((f,h)=>f+h.amount,0)+r.reduce((f,h)=>f+h.amount,0)*4.33;return s[0].Outflow=c,s[1].Outflow=c*2,s[2].Outflow=c*3,t.forEach(f=>{if(f.status!=="Paid"&&f.dueDate)try{const h=new Date(f.dueDate);if(isNaN(h.getTime()))return;const p=(h-u)/(1e3*60*60*24);p<=30&&(s[0].Inflow+=f.grandTotal||0),p<=60&&(s[1].Inflow+=f.grandTotal||0),p<=90&&(s[2].Inflow+=f.grandTotal||0)}catch(h){console.error("Error parsing due date for invoice:",f,h)}}),s.map(f=>({...f,"Net Change":f.Inflow-f.Outflow,"Projected Balance":n+f.Inflow-f.Outflow}))},[t,e,r,n]);return y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[y.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Smarter Cash Flow Forecast"}),y.jsxs("div",{className:"mb-6",children:[y.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-300 mb-2",children:"Enter Current Bank Balance ($)"}),y.jsx("input",{type:"number",value:n,onChange:s=>i(parseFloat(s.target.value)||0),className:"w-full max-w-xs bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-slate-800 dark:text-white"})]}),y.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-4",children:"This forecast projects your future bank balance based on unpaid invoices and recurring expenses."}),y.jsx(Sg,{width:"100%",height:300,children:y.jsxs(vse,{data:a,children:[y.jsx(Yg,{strokeDasharray:"3 3"}),y.jsx(pl,{dataKey:"name",stroke:"#64748b"}),y.jsx(ml,{stroke:"#64748b",tickFormatter:s=>`$${s/1e3}k`}),y.jsx($n,{formatter:s=>`$${s.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`}),y.jsx(za,{}),y.jsx(zs,{type:"monotone",dataKey:"Projected Balance",stroke:"#8884d8",strokeWidth:2,activeDot:{r:8}}),y.jsx(zs,{type:"monotone",dataKey:"Inflow",stroke:"#22c55e"}),y.jsx(zs,{type:"monotone",dataKey:"Outflow",stroke:"#ef4444"})]})})]})},jse=({jobs:t,bills:e,weeklyCosts:r,reportingPeriod:n,dateRange:i})=>{const a=K.useMemo(()=>{const u=t.filter(k=>{if(!k.date)return!1;const I=new Date(k.date);return I>=i.start&&I<=i.end}),c=u.reduce((k,I)=>k+(I.revenue||0),0),f=u.reduce((k,I)=>k+(I.materialCost||0)+(I.laborCost||0),0),h=c-f,p=(i.end-i.start)/(1e3*60*60*24*30.44),v=e.reduce((k,I)=>{const $=I.category||"Uncategorized";return k[$]=(k[$]||0)+I.amount,k},{}),b=r.reduce((k,I)=>k+I.amount,0)*p;b>0&&(v["Weekly & Misc"]=(v["Weekly & Misc"]||0)+b);const x=Object.values(v).reduce((k,I)=>k+I,0),w=h-x,E=c>0?h/c*100:0,O=c>0?w/c*100:0;return{revenue:c,cogs:f,grossProfit:h,operatingExpenses:x,expensesByCategory:v,netProfit:w,grossProfitMargin:E,netProfitMargin:O}},[t,e,r,i]),s=()=>{const u={month:"long",year:"numeric"};if(n==="monthly")return`For the Month of ${i.start.toLocaleString("default",u)}`;if(n==="quarterly"){const c={month:"long",day:"numeric",year:"numeric"};return`For the Quarter Ending ${i.end.toLocaleDateString("default",c)}`}return n==="yearly"?`For the Year ${i.start.getFullYear()}`:""};return y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[y.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-2",children:"Profit & Loss Statement"}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:s()}),y.jsxs("div",{className:"space-y-2 text-sm",children:[y.jsxs("div",{className:"flex justify-between items-center p-3 font-semibold",children:[y.jsx("span",{children:"Total Revenue"}),y.jsxs("span",{className:"font-mono",children:["$",a.revenue.toFixed(2)]})]}),y.jsxs("div",{className:"flex justify-between items-center p-3 pl-8",children:[y.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Cost of Goods Sold (COGS)"}),y.jsxs("span",{className:"font-mono",children:["($",a.cogs.toFixed(2),")"]})]}),y.jsx("hr",{className:"border-slate-200 dark:border-slate-700 my-2"}),y.jsxs("div",{className:"flex justify-between items-center p-3 font-bold text-lg",children:[y.jsx("span",{children:"Gross Profit"}),y.jsxs("span",{className:"font-mono",children:["$",a.grossProfit.toFixed(2)]})]}),y.jsxs("div",{className:"flex justify-between items-center p-1 pl-8 text-xs text-slate-500",children:[y.jsx("span",{children:"Gross Profit Margin"}),y.jsxs("span",{className:"font-mono",children:[a.grossProfitMargin.toFixed(1),"%"]})]}),y.jsx("hr",{className:"border-slate-200 dark:border-slate-700 my-2"}),y.jsx("div",{className:"p-3 font-semibold",children:y.jsx("span",{children:"Operating Expenses"})}),Object.entries(a.expensesByCategory).map(([u,c])=>y.jsxs("div",{className:"flex justify-between items-center p-1 pl-8",children:[y.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:u}),y.jsxs("span",{className:"font-mono",children:["($",c.toFixed(2),")"]})]},u)),y.jsxs("div",{className:"flex justify-between items-center p-3 pl-8 font-semibold",children:[y.jsx("span",{children:"Total Operating Expenses"}),y.jsxs("span",{className:"font-mono",children:["($",a.operatingExpenses.toFixed(2),")"]})]}),y.jsx("hr",{className:"border-slate-300 dark:border-slate-600 my-2 border-2"}),y.jsxs("div",{className:"flex justify-between items-center p-3 font-bold text-xl",style:{color:a.netProfit>=0?"#22c55e":"#ef4444"},children:[y.jsx("span",{children:"Net Profit"}),y.jsx("span",{className:"font-mono",children:a.netProfit<0?`-$${Math.abs(a.netProfit).toFixed(2)}`:`$${a.netProfit.toFixed(2)}`})]}),y.jsxs("div",{className:"flex justify-between items-center p-1 pl-8 text-xs text-slate-500",children:[y.jsx("span",{children:"Net Profit Margin"}),y.jsxs("span",{className:"font-mono",children:[a.netProfitMargin.toFixed(1),"%"]})]})]})]})},bp=({title:t,data:e,columns:r,type:n,searchTerm:i,setSearchTerm:a,handleImportCSV:s,handleExportCSV:u,openModal:c,handleDelete:f,debtPayoffStrategies:h})=>y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[y.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-4 gap-4",children:[y.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:t}),y.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[y.jsx("input",{type:"text",placeholder:"Search...",value:i,onChange:p=>a(p.target.value),className:"w-full md:w-auto bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md p-2 text-sm text-slate-800 dark:text-white"}),(n==="client"||n==="job"||n==="inventory"||n==="invoice")&&y.jsxs(y.Fragment,{children:[y.jsx("input",{type:"file",id:`csv-importer-${n}`,className:"hidden",accept:".csv",onChange:p=>s(p.target.files[0],n)}),y.jsxs("label",{htmlFor:`csv-importer-${n}`,className:"flex items-center gap-2 text-sm bg-blue-600 hover:bg-blue-500 text-white font-semibold px-3 py-2 rounded-md transition-colors cursor-pointer",children:[y.jsx(fg,{size:16})," Import CSV"]})]}),y.jsxs("button",{onClick:()=>u(e,n),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[y.jsx(kd,{size:16})," Export to CSV"]}),y.jsxs("button",{onClick:()=>c(n),className:"flex items-center gap-2 text-sm bg-green-600 hover:bg-green-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[y.jsx($i,{size:16})," Add New"]})]})]}),n==="debt"&&h&&y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6 bg-slate-100 dark:bg-slate-800/50 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[y.jsxs("div",{children:[y.jsx("h4",{className:"font-bold text-lg text-cyan-600 dark:text-cyan-400 mb-2",children:"Avalanche Method"}),y.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mb-3",children:"Pay off debts with the highest interest rate first to save the most money over time."}),y.jsx("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:h.avalanche.map(p=>y.jsxs("li",{children:[p.name," ",y.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:["(",p.interestRate,"%)"]})]},p.id))})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-bold text-lg text-green-600 dark:text-green-400 mb-2",children:"Snowball Method"}),y.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mb-3",children:"Pay off debts with the smallest balance first for quick wins and motivation."}),y.jsx("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:h.snowball.map(p=>y.jsxs("li",{children:[p.name," ",y.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:["($",(p.totalAmount-p.paidAmount).toFixed(2),")"]})]},p.id))})]})]}),y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-left",children:[y.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:y.jsxs("tr",{children:[r.map(p=>y.jsx("th",{className:`p-3 ${p.className||""}`,children:p.header},p.key)),y.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),y.jsx("tbody",{className:"text-sm",children:e.map(p=>y.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700/50 text-slate-700 dark:text-slate-200",children:[r.map(v=>y.jsx("td",{className:`p-3 ${v.className||""}`,children:v.render(p)},v.key)),y.jsxs("td",{className:"p-3 text-center",children:[y.jsx("button",{onClick:()=>c(n,p),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:y.jsx(Qo,{size:16})}),y.jsx("button",{onClick:()=>f(n,p.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:y.jsx(Fi,{size:16})})]})]},p.id))})]})})]}),Dse=({goalsWithProgress:t,openModal:e})=>y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Financial Goals"}),y.jsxs("button",{onClick:()=>e("goal"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[y.jsx($i,{size:16})," Add New Goal"]})]}),y.jsx("div",{className:"space-y-6",children:t.map(r=>y.jsxs("div",{children:[y.jsxs("div",{className:"flex justify-between items-end mb-1",children:[y.jsx("span",{className:"font-semibold",children:r.name}),y.jsxs("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:[r.progress.toFixed(1),"%"]})]}),y.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-4",children:y.jsx("div",{className:"bg-green-500 h-4 rounded-full",style:{width:`${r.progress}%`}})}),y.jsxs("div",{className:"flex justify-between items-end mt-1 text-xs text-slate-500 dark:text-slate-500",children:[y.jsxs("span",{children:["Target: ",r.type==="debt"?"Pay Off":`$${r.targetValue.toLocaleString()}`]}),y.jsxs("span",{children:["Deadline: ",r.deadline]})]})]},r.id))})]}),Mse=[{min:1e4,max:1/0,rate:10},{min:8e3,max:9999,rate:8},{min:5e3,max:7999,rate:5},{min:3500,max:4999,rate:3},{min:0,max:3499,rate:1.5}],Lse=[{min:1e4,max:1/0,bonus:10},{min:8e3,max:9999,bonus:8},{min:5e3,max:7999,bonus:5},{min:3500,max:4999,bonus:2},{min:0,max:3499,bonus:0}],$se=()=>{const[t,e]=K.useState(Mse),[r,n]=K.useState(0),[i,a]=K.useState(Lse),[s,u]=K.useState(0),[c,f]=K.useState(0),h=(x,w,E)=>{const O=[...t];O[x][w]=parseFloat(E)||0,e(O)},p=(x,w,E)=>{const O=[...i];O[x][w]=parseFloat(E)||0,a(O)},v=K.useMemo(()=>{const x=t.find(w=>r>=w.min&&r<=w.max);return x?r*(x.rate/100):0},[r,t]),b=K.useMemo(()=>{const x=i.find(w=>s>=w.min&&s<=w.max);return!x||!c?0:c*x.bonus},[s,c,i]);return y.jsxs("div",{className:"space-y-8",children:[y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[y.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Percent Incentive Calculator"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[y.jsxs("div",{children:[y.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Bonus Brackets"}),y.jsxs("table",{className:"w-full text-sm text-left",children:[y.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase",children:y.jsxs("tr",{children:[y.jsx("th",{className:"p-2",children:"Sales Bracket"}),y.jsx("th",{className:"p-2",children:"% Scale"})]})}),y.jsx("tbody",{children:t.map((x,w)=>y.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700",children:[y.jsxs("td",{className:"p-2 font-mono bg-blue-100 dark:bg-blue-900/50",children:["$",x.min.toLocaleString(),x.max===1/0?"+":` - $${x.max.toLocaleString()}`]}),y.jsxs("td",{className:"p-2 bg-blue-100 dark:bg-blue-900/50",children:[y.jsx("input",{type:"number",value:x.rate,onChange:E=>h(w,"rate",E.target.value),className:"w-20 bg-transparent text-right font-mono"})," %"]})]},w))})]})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Bonus Calculation"}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Actual Sales"}),y.jsxs("div",{className:"relative",children:[y.jsx(Bs,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),y.jsx("input",{type:"number",value:r,onChange:x=>n(parseFloat(x.target.value)||0),className:"w-full bg-yellow-100 dark:bg-yellow-800/50 pl-10 p-2 rounded-md"})]})]}),y.jsxs("div",{className:"bg-slate-100 dark:bg-slate-700/50 p-4 rounded-lg text-center",children:[y.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Estimated Bonus"}),y.jsxs("p",{className:"text-3xl font-bold text-green-500",children:["$",v.toFixed(2)]})]})]})]})]})]}),y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[y.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Hourly Incentive Calculator"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[y.jsxs("div",{children:[y.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Bonus Brackets"}),y.jsxs("table",{className:"w-full text-sm text-left",children:[y.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase",children:y.jsxs("tr",{children:[y.jsx("th",{className:"p-2",children:"Sales Bracket"}),y.jsx("th",{className:"p-2",children:"Bonus per Hour"})]})}),y.jsx("tbody",{children:i.map((x,w)=>y.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700",children:[y.jsxs("td",{className:"p-2 font-mono bg-blue-100 dark:bg-blue-900/50",children:["$",x.min.toLocaleString(),x.max===1/0?"+":` - $${x.max.toLocaleString()}`]}),y.jsxs("td",{className:"p-2 bg-blue-100 dark:bg-blue-900/50",children:["$ ",y.jsx("input",{type:"number",value:x.bonus,onChange:E=>p(w,"bonus",E.target.value),className:"w-20 bg-transparent text-right font-mono"})]})]},w))})]})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Bonus Calculation"}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Actual Sales"}),y.jsxs("div",{className:"relative",children:[y.jsx(Bs,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),y.jsx("input",{type:"number",value:s,onChange:x=>u(parseFloat(x.target.value)||0),className:"w-full bg-yellow-100 dark:bg-yellow-800/50 pl-10 p-2 rounded-md"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-1",children:"Hours Worked"}),y.jsx("input",{type:"number",value:c,onChange:x=>f(parseFloat(x.target.value)||0),className:"w-full bg-yellow-100 dark:bg-yellow-800/50 p-2 rounded-md"})]}),y.jsxs("div",{className:"bg-slate-100 dark:bg-slate-700/50 p-4 rounded-lg text-center",children:[y.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Estimated Bonus"}),y.jsxs("p",{className:"text-3xl font-bold text-green-500",children:["$",b.toFixed(2)]})]})]})]})]})]})]})},Fse={apiKey:"AIzaSyAlev0GFpv3rzRYCJaMALOqlPwaowNfynI",authDomain:"hvac-finance-dashboard.firebaseapp.com",projectId:"hvac-finance-dashboard",storageBucket:"hvac-finance-dashboard.firebasestorage.app",messagingSenderId:"917610618621",appId:"1:917610618621:web:83c621d154c5f62c9be894"},ui="hvac-finance-dashboard",VS=B2(Fse),O2=SD(VS),yt=P9(VS),Vse=t8(VS),Bse=[{name:"Adobe",amount:21.19,dueDay:1,isAutoPay:!0,category:"Software",notes:"",attachmentURL:null,isRecurring:!0},{name:"Rent",amount:1600,dueDay:1,isAutoPay:!1,category:"Overhead",notes:"Landlord: John Smith",attachmentURL:null,isRecurring:!0},{name:"GM Financial Black Truck",amount:1307.2,dueDay:6,isAutoPay:!1,category:"Vehicle",notes:"",vehicleId:"1"}],Use=[{name:"Ondeck Credit",totalAmount:7500,paidAmount:0,interestRate:12.5,notes:""},{name:"Chase Card",totalAmount:33795.27,paidAmount:2200,interestRate:21.99,notes:""}],qse=[{name:"NEST Early Pay",amount:15e3,type:"monthly",notes:"",isRecurring:!0},{name:"Job Revenue",amount:5e3,type:"monthly",notes:"",isRecurring:!1}],zse=[{name:"Projected Payroll",amount:1800,notes:""},{name:"Fuel & Maintenance",amount:450,notes:""}],Wse=[{name:"Johnson Residence A/C Install",revenue:8500,materialCost:3200,laborCost:1500,notes:"Trane XV20i unit.",date:new Date().toISOString(),clientId:"1"},{name:"Downtown Restaurant PM",revenue:1200,materialCost:150,laborCost:400,notes:"Quarterly maintenance contract.",date:new Date().toISOString(),clientId:"2"}],Hse=[{title:"Follow up with Johnson about quote",date:new Date().toISOString().split("T")[0],notes:"Sent quote last week",isComplete:!1},{title:"Order filters for Downtown Restaurant",date:new Date().toISOString().split("T")[0],notes:"Need 10x 20x25x1 filters",isComplete:!0}],Kse=[{billTo:"Badawi",customer:"Southern Algeria #00547",jobNo:"1548875887",completedOn:"6/14/2024",invNum:"",terms:"Net 45",net:1291,dueDate:"6/14/2024",status:"Unpaid",grandTotal:1291}],Gse=[{date:new Date().toISOString().split("T")[0],amount:500,notes:"Q2 Estimated Payment"}],Yse=[{name:"Pay off Chase Card",type:"debt",targetId:"Chase Card",targetValue:0,deadline:"2025-12-31"},{name:"Achieve $50k Job Revenue",type:"revenue",targetValue:5e4,deadline:"2025-12-31"}],Xse=[{id:"1",name:"John Johnson",address:"123 Main St, Anytown, USA",phone:"555-1234",email:"john@example.com"},{id:"3",name:"Restaurant Group Inc.",address:"789 Corp Blvd, Big City, USA",phone:"555-9999",email:"accounts@restaurantgroup.com"},{id:"2",name:"Downtown Restaurant",address:"456 Oak Ave, Anytown, USA",phone:"555-5678",email:"contact@downtownrestaurant.com",parentId:"3"}],Qse=[{name:"Standard 1-inch Filter",quantity:50,cost:5.5},{name:"Capacitor 45/5 MFD",quantity:15,cost:25}],Jse=[{id:"7",name:"Jason's Truck",make:"FORD",model:"TRANSIT T250",year:"2020",vin:"1FTBR1C84LKA59065",licensePlate:"DD16326",currentMileage:104071},{id:"8",name:"Red Van",make:"FORD",model:"TRANSIT T250",year:"2020",vin:"1FTBR1C85LKA70866",licensePlate:"DD16337",currentMileage:107046},{id:"11",name:"GMC Sierra",make:"GMC",model:"SIERRA",year:"2022",vin:"3GTPUJEK7NG635190",licensePlate:"DF94421",currentMileage:18811}],Zse=[{vehicleId:"7",date:"2023-08-11",mileage:75018,workPerformed:"LICENSE TABS",cost:183,notes:""},{vehicleId:"7",date:"2024-06-06",mileage:76504,workPerformed:"oil change",cost:55,notes:""},{vehicleId:"7",date:"2024-09-24",mileage:89627,workPerformed:"oil change, air filter oil cleaner",cost:146.09,notes:""},{vehicleId:"7",date:"2024-11-08",mileage:null,workPerformed:"Replaced front and rear rotors and pads",cost:500,notes:""},{vehicleId:"7",date:"2024-12-12",mileage:99399,workPerformed:"Replaced tires and oil change",cost:958,notes:""},{vehicleId:"8",date:"2023-08-11",mileage:84948,workPerformed:"LICENSE TABS",cost:183,notes:""},{vehicleId:"8",date:"2023-09-25",mileage:87270,workPerformed:"oil change",cost:40,notes:"oil filter pf63 6 quarts 5w20"},{vehicleId:"8",date:"2024-06-06",mileage:98e3,workPerformed:"oil change",cost:55,notes:""},{vehicleId:"8",date:"2024-11-01",mileage:null,workPerformed:"Replace Rear rotor and pads",cost:241,notes:""},{vehicleId:"11",date:"2023-08-11",mileage:9435,workPerformed:"LICENSE TABS",cost:302,notes:""},{vehicleId:"11",date:"2023-09-20",mileage:10008,workPerformed:"Oil Change",cost:50,notes:"PF66 oil filter 6 quarts 5w30 full synthetic"},{vehicleId:"11",date:"2025-02-11",mileage:19024,workPerformed:"Oil Change / air filter",cost:143.17,notes:"valvoline oil shop"}],ele=()=>{const[t,e]=K.useState(null),[r,n]=K.useState(!0),[i,a]=K.useState(!1),[s,u]=K.useState([]),[c,f]=K.useState([]),[h,p]=K.useState([]),[v,b]=K.useState([]),[x,w]=K.useState([]),[E,O]=K.useState([]),[k,I]=K.useState([]),[$,N]=K.useState([]),[j,A]=K.useState([]),[P,R]=K.useState([]),[F,M]=K.useState([]),[V,D]=K.useState([]),[Z,ee]=K.useState([]),[re,ae]=K.useState({}),[Q,ie]=K.useState(!1),[oe,q]=K.useState(null),[G,ce]=K.useState("bill"),[xe,Ne]=K.useState({key:"dueDay",direction:"ascending"}),[be,je]=K.useState("dashboard"),[Fe,he]=K.useState(null),[Ie,ze]=K.useState(25e3),[le,st]=K.useState({start:new Date,end:new Date}),[He,pt]=K.useState("monthly"),[Et,Ht]=K.useState(!0),[cr,Jr]=K.useState("dark"),[At,Pt]=K.useState(""),[Or,Zr]=K.useState([]),[pi,Bi]=K.useState(null),Kt=K.useCallback(async()=>{const we=await(await fetch("http://144.202.20.114:8000/api/create_link_token",{method:"POST"})).json();Bi(we.link_token)},[]);K.useEffect(()=>{t&&Kt()},[t,Kt]);const Jt=K.useCallback((ye,we)=>{fetch("http://144.202.20.114:8000/api/exchange_public_token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({public_token:ye})})},[]),{open:mi,ready:as}=y8({token:pi,onSuccess:Jt});K.useEffect(()=>{cr==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[cr]);const Ui=()=>{Jr(cr==="light"?"dark":"light")};K.useEffect(()=>{const ye=new Date;let we,De;if(He==="monthly")we=new Date(ye.getFullYear(),ye.getMonth(),1),De=new Date(ye.getFullYear(),ye.getMonth()+1,0);else if(He==="quarterly"){const Se=Math.floor(ye.getMonth()/3);we=new Date(ye.getFullYear(),Se*3,1),De=new Date(ye.getFullYear(),Se*3+3,0)}else we=new Date(ye.getFullYear(),0,1),De=new Date(ye.getFullYear(),11,31);st({start:we,end:De})},[He]);const Hn=K.useMemo(()=>le.start.getFullYear()+"-"+String(le.start.getMonth()+1).padStart(2,"0"),[le]);K.useEffect(()=>{const ye=OB(O2,async we=>{if(we){e(we.uid);const De=pr(yt,"artifacts",ui,"users",we.uid,"bills");if((await F9(De)).empty){a(!0),console.log("No data found. Seeding initial data...");const Me=np(yt),$e=["artifacts",ui,"users",we.uid];Bse.forEach(Ve=>Me.set(Vt(pr(yt,...$e,"bills")),{...Ve,createdAt:Tr()})),Use.forEach(Ve=>Me.set(Vt(pr(yt,...$e,"debts")),{...Ve,createdAt:Tr()})),qse.forEach(Ve=>Me.set(Vt(pr(yt,...$e,"incomes")),{...Ve,createdAt:Tr()})),zse.forEach(Ve=>Me.set(Vt(pr(yt,...$e,"weeklyCosts")),{...Ve,createdAt:Tr()})),Wse.forEach(Ve=>Me.set(Vt(pr(yt,...$e,"jobs")),{...Ve,createdAt:Tr()})),Hse.forEach(Ve=>Me.set(Vt(pr(yt,...$e,"tasks")),{...Ve,createdAt:Tr()})),Kse.forEach(Ve=>Me.set(Vt(pr(yt,...$e,"invoices")),{...Ve,createdAt:Tr()})),Gse.forEach(Ve=>Me.set(Vt(pr(yt,...$e,"taxPayments")),{...Ve,createdAt:Tr()})),Yse.forEach(Ve=>Me.set(Vt(pr(yt,...$e,"goals")),{...Ve,createdAt:Tr()})),Xse.forEach(Ve=>Me.set(Vt(pr(yt,...$e,"clients")),{...Ve,createdAt:Tr()})),Qse.forEach(Ve=>Me.set(Vt(pr(yt,...$e,"inventory")),{...Ve,createdAt:Tr()})),Jse.forEach(Ve=>Me.set(Vt(pr(yt,...$e,"vehicles")),{...Ve,createdAt:Tr()})),Zse.forEach(Ve=>Me.set(Vt(pr(yt,...$e,"maintenanceLogs")),{...Ve,createdAt:Tr()}));const ht=new Date().getFullYear()+"-"+String(new Date().getMonth()+1).padStart(2,"0");Me.set(Vt(yt,...$e,"paidStatus",ht),{status:{}}),await Me.commit(),a(!1)}}else e(null);n(!1)});return()=>ye()},[]),K.useEffect(()=>{if(!t)return;const we=Object.entries({bills:u,debts:f,incomes:p,weeklyCosts:b,jobs:w,tasks:O,invoices:I,taxPayments:N,goals:A,clients:R,inventory:M,vehicles:D,maintenanceLogs:ee}).map(([Se,Me])=>bk(M9(pr(yt,"artifacts",ui,"users",t,Se)),$e=>{Me($e.docs.map(ht=>({id:ht.id,...ht.data()})))},$e=>console.error(`Error fetching ${Se}:`,$e))),De=bk(Vt(yt,"artifacts",ui,"users",t,"paidStatus",Hn),Se=>{ae(Se.exists()?Se.data().status:{})},Se=>console.error("Error fetching paid status:",Se));return()=>{we.forEach(Se=>Se()),De()}},[t,Hn]);const fn=K.useMemo(()=>x.filter(ye=>{if(!ye.date)return!1;const we=new Date(ye.date);return we>=le.start&&we<=le.end}),[x,le]),ao=K.useMemo(()=>s.filter(ye=>!Fe||ye.category===Fe),[s,Fe]),gi=K.useMemo(()=>{const ye=h.reduce((Ve,nr)=>Ve+(nr.amount||0),0),we=s.reduce((Ve,nr)=>Ve+(nr.amount||0),0),De=v.reduce((Ve,nr)=>Ve+(nr.amount||0),0)*4.33,Se=we+De,Me=ye-Se,$e=c.reduce((Ve,nr)=>Ve+((nr.totalAmount||0)-(nr.paidAmount||0)),0),ht=s.filter(Ve=>re[Ve.id]).reduce((Ve,nr)=>Ve+nr.amount,0);return{totalIncome:ye,totalOutflow:Se,netCashFlow:Me,paidThisMonth:ht,totalDebt:$e,totalMonthlyBills:we,projectedMonthlyWeekly:De}},[s,c,h,v,re]),yi=K.useMemo(()=>{const ye=fn.reduce((Se,Me)=>Se+(Me.revenue||0),0),we=fn.reduce((Se,Me)=>Se+(Me.materialCost||0)+(Me.laborCost||0),0),De=ye-we;return{revenue:ye,cogs:we,grossProfit:De}},[fn]),os=K.useMemo(()=>{const ye=s.reduce((De,Se)=>{const Me=Se.category||"Uncategorized";return De[Me]=(De[Me]||0)+Se.amount,De},{}),we=["#0088FE","#00C49F","#FFBB28","#FF8042","#AF19FF","#FF1943","#19D4FF"];return Object.entries(ye).map(([De,Se],Me)=>({name:De,value:Se,color:we[Me%we.length]})).sort((De,Se)=>Se.value-De.value)},[s]),Kn=K.useMemo(()=>{let we={bills:ao,debts:c,incomes:h,weeklyCosts:v,jobs:x,goals:j,clients:P,inventory:F,vehicles:V,invoices:k}[be]||[];return At&&(we=we.filter(De=>Object.values(De).some(Se=>Se&&String(Se).toLowerCase().includes(At.toLowerCase())))),[...we].sort((De,Se)=>xe.key?De[xe.key]<Se[xe.key]?xe.direction==="ascending"?-1:1:De[xe.key]>Se[xe.key]?xe.direction==="ascending"?1:-1:0:0)},[ao,c,h,v,x,j,P,F,V,k,xe,be,At]),va=K.useMemo(()=>{const ye=c.map(Se=>({...Se,remaining:Se.totalAmount-Se.paidAmount})).filter(Se=>Se.remaining>0),we=[...ye].sort((Se,Me)=>Me.interestRate-Se.interestRate),De=[...ye].sort((Se,Me)=>Se.remaining-Me.remaining);return{avalanche:we,snowball:De}},[c]),oo=K.useMemo(()=>j.map(ye=>{let we=0;if(ye.type==="debt"){const De=c.find(Se=>Se.id===ye.targetId);De&&(we=De.paidAmount/De.totalAmount*100)}else ye.type==="revenue"&&(we=x.reduce((Se,Me)=>Se+(Me.revenue||0),0)/ye.targetValue*100);return{...ye,progress:Math.min(we,100)}}),[j,c,x]),qi=ye=>Ne(we=>({key:ye,direction:we.key===ye&&we.direction==="ascending"?"descending":"ascending"})),dn=async ye=>{t&&await V9(Vt(yt,"artifacts",ui,"users",t,"paidStatus",Hn),{status:{...re,[ye]:!re[ye]}},{merge:!0})},Gn=async(ye,we)=>{if(!t)return;const De=we==="Paid"?"Unpaid":"Paid";await vk(Vt(yt,"artifacts",ui,"users",t,"invoices",ye),{status:De})},rr=(ye,we=null)=>{ce(ye),q(we),ie(!0)},Yn=async(ye,we)=>{if(!t)return;const Se={bill:"bills",debt:"debts",income:"incomes",weekly:"weeklyCosts",job:"jobs",task:"tasks",invoice:"invoices",taxPayment:"taxPayments",goal:"goals",client:"clients",inventory:"inventory",vehicle:"vehicles",maintenanceLog:"maintenanceLogs"}[G],Me=["artifacts",ui,"users",t,Se],$e={...ye,modifiedAt:Tr()};if(we){console.log("Uploading file:",we.name);const ht=e8(Vse,`receipts/${t}/${Date.now()}-${we.name}`);try{await Jz(ht,we),$e.attachmentURL=await Zz(ht)}catch(Ve){console.error("File upload failed:",Ve),alert("File upload failed. Please try again.");return}}oe?.id?await vk(Vt(yt,...Me,oe.id),$e):await U9(pr(yt,...Me),{...$e,createdAt:Tr()}),ie(!1),q(null)},Vr=async(ye,we)=>{if(!t||!window.confirm("Delete this item?"))return;const Se={bill:"bills",debt:"debts",income:"incomes",weekly:"weeklyCosts",job:"jobs",task:"tasks",invoice:"invoices",taxPayment:"taxPayments",goal:"goals",client:"clients",inventory:"inventory",vehicle:"vehicles",maintenanceLog:"maintenanceLogs"}[ye];await B9(Vt(yt,"artifacts",ui,"users",t,Se,we))},Br=(ye,we)=>{if(!ye.length)return;const De=Object.keys(ye[0]),Se=ye.map(Ve=>De.map(nr=>{const An=Ve[nr];return typeof An=="string"&&An.includes(",")?`"${An}"`:An}).join(",")),Me="data:text/csv;charset=utf-8,"+[De.join(","),...Se].join(`
`),$e=encodeURI(Me),ht=document.createElement("a");ht.setAttribute("href",$e),ht.setAttribute("download",`hvac_${we}_${Hn}.csv`),document.body.appendChild(ht),ht.click(),document.body.removeChild(ht)},Tn=(ye,we)=>{if(!ye||!t)return;const De=new FileReader;De.onload=async Se=>{const $e=Se.target.result.split(`
`).filter(Zt=>Zt),ht=$e[0].split(",").map(Zt=>Zt.trim()),Ve=$e.slice(1).map(Zt=>{const so=Zt.split(",").map(Xn=>Xn.trim());return ht.reduce((Xn,bi,zi)=>{const Pn=so[zi];return Xn[bi]=isNaN(Pn)||Pn===""?Pn:parseFloat(Pn),Xn},{})}),An={client:"clients",job:"jobs",inventory:"inventory",invoice:"invoices"}[we];if(!An){alert("Invalid import type.");return}const hn=np(yt),_a=pr(yt,"artifacts",ui,"users",t,An);Ve.forEach(Zt=>{const so=Vt(_a),Xn=Object.entries(Zt).reduce((bi,[zi,Pn])=>(bi[zi]=Pn===void 0?null:Pn,bi),{});hn.set(so,{...Xn,createdAt:Tr()})});try{await hn.commit(),alert(`Successfully imported ${Ve.length} ${An}!`)}catch(Zt){console.error("Error importing CSV:",Zt),alert("Failed to import CSV. Please check the console for errors.")}},De.readAsText(ye)},vi=async()=>{if(!t||!window.confirm("This will generate recurring transactions for next month. Continue?"))return;const ye=new Date(le.start);ye.setMonth(ye.getMonth()+1);const we=ye.getFullYear()+"-"+String(new Date().getMonth()+1).padStart(2,"0"),De=s.filter($e=>$e.isRecurring),Se=h.filter($e=>$e.isRecurring),Me=np(yt);De.forEach($e=>{const ht={...$e,createdAt:Tr(),notes:`Generated for ${we}`};delete ht.id;const Ve=Vt(pr(yt,"artifacts",ui,"users",t,"bills"));Me.set(Ve,ht)}),Se.forEach($e=>{const ht={...$e,createdAt:Tr(),notes:`Generated for ${we}`};delete ht.id;const Ve=Vt(pr(yt,"artifacts",ui,"users",t,"incomes"));Me.set(Ve,ht)});try{await Me.commit(),alert(`Generated ${De.length} bills and ${Se.length} incomes for next month.`)}catch($e){console.error("Error generating recurring transactions:",$e),alert("Failed to generate recurring transactions.")}},ba=async(ye,we)=>{if(!t||!we.length||!window.confirm(`Delete ${we.length} selected items?`))return;const Se={inventory:"inventory",invoice:"invoices",client:"clients"}[ye];if(!Se){alert("Invalid bulk delete type.");return}const Me=np(yt);we.forEach($e=>{const ht=Vt(yt,"artifacts",ui,"users",t,Se,$e);Me.delete(ht)}),await Me.commit(),Zr([])};if(r)return y.jsx("div",{className:"bg-slate-900 text-white min-h-screen flex items-center justify-center",children:y.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-cyan-500"})});if(!t)return y.jsx(V8,{setUserId:e});const Ut=()=>y.jsxs(y.Fragment,{children:[Et&&y.jsx(Cse,{bills:s,paidStatus:re,onClose:()=>Ht(!1)}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[y.jsx(ea,{title:"Total Monthly Income",value:`$${gi.totalIncome.toLocaleString()}`,icon:y.jsx(w8,{size:24}),color:"green"}),y.jsx(ea,{title:"Total Monthly Outflow",value:`$${gi.totalOutflow.toLocaleString()}`,icon:y.jsx(x8,{size:24}),color:"red"}),y.jsx(ea,{title:"Projected Net",value:`$${gi.netCashFlow.toLocaleString()}`,icon:y.jsx(Bs,{size:24}),color:gi.netCashFlow>=0?"cyan":"amber"}),y.jsx(ea,{title:"Outstanding Debt",value:`$${gi.totalDebt.toLocaleString()}`,icon:y.jsx(F8,{size:24}),color:"orange"})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[y.jsx(ea,{title:"Gross Profit Margin",value:`${yi.revenue>0?(yi.grossProfit/yi.revenue*100).toFixed(1):"0.0"}%`,icon:y.jsx(R8,{size:24}),color:"teal",subtext:"For selected period"}),y.jsx(ea,{title:"Avg. Job Revenue",value:`$${(yi.revenue/(fn.length||1)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:y.jsx($8,{size:24}),color:"indigo",subtext:`${fn.length} jobs`}),y.jsx(ea,{title:"Avg. Job Profit",value:`$${(yi.grossProfit/(fn.length||1)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:y.jsx(L8,{size:24}),color:"purple",subtext:"Gross profit per job"})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[y.jsxs("div",{className:"lg:col-span-3 bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Monthly Bills"}),Fe&&y.jsxs("button",{onClick:()=>he(null),className:"text-sm text-cyan-500 dark:text-cyan-400 hover:underline",children:["Clear Filter: ",Fe]}),y.jsxs("button",{onClick:()=>Br(Kn,"bills"),className:"flex items-center gap-2 text-sm bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[y.jsx(kd,{size:16})," Export to CSV"]})]}),y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-left",children:[y.jsx("thead",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase border-b border-slate-200 dark:border-slate-700",children:y.jsxs("tr",{children:[y.jsx("th",{className:"p-3",children:"Status"}),y.jsx("th",{className:"p-3 cursor-pointer",onClick:()=>qi("name"),children:"Name"}),y.jsx("th",{className:"p-3",children:"Notes"}),y.jsx("th",{className:"p-3",children:"Receipt"}),y.jsx("th",{className:"p-3 cursor-pointer text-right",onClick:()=>qi("amount"),children:"Amount"}),y.jsx("th",{className:"p-3 cursor-pointer text-center",onClick:()=>qi("dueDay"),children:"Due Day"}),y.jsx("th",{className:"p-3 text-center",children:"Actions"})]})}),y.jsx("tbody",{children:Kn.map(ye=>y.jsxs("tr",{className:`border-b border-slate-200 dark:border-slate-700/50 ${re[ye.id]?"text-slate-400 dark:text-slate-500":"text-slate-700 dark:text-slate-200"}`,children:[y.jsx("td",{className:"p-3",children:y.jsx("button",{onClick:()=>dn(ye.id),children:re[ye.id]?y.jsx(mL,{className:"text-green-500"}):y.jsx(gL,{className:"text-slate-400 dark:text-slate-600"})})}),y.jsx("td",{className:`p-3 font-medium ${re[ye.id]?"line-through":""}`,children:ye.name}),y.jsxs("td",{className:"p-3 text-center",children:[" ",ye.notes&&y.jsxs("div",{className:"group relative flex justify-center",children:[y.jsx(C8,{size:16,className:"text-slate-500"}),y.jsx("span",{className:"absolute top-[-30px] w-max scale-0 transition-all rounded bg-slate-700 p-2 text-xs text-white group-hover:scale-100",children:ye.notes})]})," "]}),y.jsxs("td",{className:"p-3 text-center",children:[" ",ye.attachmentURL?y.jsx("a",{href:ye.attachmentURL,target:"_blank",rel:"noopener noreferrer",children:y.jsx(Ck,{size:16,className:"text-cyan-500 dark:text-cyan-400"})}):y.jsx(Ck,{size:16,className:"text-slate-400 dark:text-slate-600"})," "]}),y.jsxs("td",{className:"p-3 text-right font-mono",children:["$",(ye.amount||0).toFixed(2)]}),y.jsx("td",{className:"p-3 text-center",children:ye.dueDay}),y.jsxs("td",{className:"p-3 text-center",children:[y.jsx("button",{onClick:()=>rr("bill",ye),className:"text-slate-500 dark:text-slate-400 hover:text-cyan-500 dark:hover:text-cyan-400 mr-2",children:y.jsx(Qo,{size:16})}),y.jsx("button",{onClick:()=>Vr("bill",ye.id),className:"text-slate-500 dark:text-slate-400 hover:text-red-500",children:y.jsx(Fi,{size:16})})]})]},ye.id))})]})}),y.jsxs("button",{onClick:()=>rr("bill"),className:"mt-4 flex items-center gap-2 text-cyan-600 dark:text-cyan-400 hover:text-cyan-500 dark:hover:text-cyan-300 font-semibold",children:[y.jsx($i,{size:18})," Add New Bill"]})]}),y.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[y.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:"Expense Breakdown"}),y.jsx(Nse,{data:os,onSliceClick:he})]}),y.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700",children:[y.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:"Automations"}),y.jsxs("button",{onClick:vi,className:"w-full flex items-center justify-center gap-2 text-sm bg-indigo-600 hover:bg-indigo-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[y.jsx(j8,{size:16})," Generate Next Month's Bills"]})]})]})]})]});return y.jsxs("div",{className:`${cr} bg-slate-100 dark:bg-slate-900 text-slate-800 dark:text-white min-h-screen font-sans`,children:[y.jsxs("div",{className:"max-w-7xl mx-auto p-4 sm:p-6 lg:p-8",children:[y.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-center mb-6",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold",children:"HVAC Financial Dashboard"}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Monthly Money Management"})]}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("button",{onClick:Ui,className:"p-2 rounded-full bg-slate-200 dark:bg-slate-800 border border-slate-300 dark:border-slate-700",children:cr==="light"?y.jsx(N8,{size:20}):y.jsx(M8,{size:20})}),y.jsxs("button",{onClick:()=>mi(),disabled:!as,className:"flex items-center gap-2 text-sm bg-purple-600 hover:bg-purple-500 text-white font-semibold px-3 py-2 rounded-md transition-colors disabled:opacity-50",children:[y.jsx(I8,{size:16})," Link Bank Account"]}),y.jsxs("div",{className:"flex items-center gap-4 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 p-2 rounded-lg",children:[y.jsx("span",{className:"text-sm font-semibold",children:"Reporting Period:"}),y.jsxs("div",{className:"flex items-center gap-1 bg-slate-100 dark:bg-slate-700 rounded-md p-1",children:[y.jsx("button",{onClick:()=>pt("monthly"),className:`px-2 py-1 text-xs rounded ${He==="monthly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Monthly"}),y.jsx("button",{onClick:()=>pt("quarterly"),className:`px-2 py-1 text-xs rounded ${He==="quarterly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Quarterly"}),y.jsx("button",{onClick:()=>pt("yearly"),className:`px-2 py-1 text-xs rounded ${He==="yearly"?"bg-cyan-600 text-white":"text-slate-600 dark:text-slate-300"}`,children:"Yearly"})]})]}),y.jsxs("button",{onClick:()=>CB(O2),className:"flex items-center gap-2 text-sm bg-slate-600 hover:bg-slate-500 text-white font-semibold px-3 py-2 rounded-md transition-colors",children:[y.jsx(O8,{size:16})," Logout"]})]})]}),y.jsxs("nav",{className:"flex items-center border-b border-slate-200 dark:border-slate-700 mb-6 overflow-x-auto",children:[y.jsx("button",{onClick:()=>je("dashboard"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${be==="dashboard"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"Dashboard"}),y.jsx("button",{onClick:()=>je("reports"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${be==="reports"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Reports"}),y.jsx("button",{onClick:()=>je("calendar"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${be==="calendar"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Calendar"}),y.jsx("button",{onClick:()=>je("invoices"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${be==="invoices"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Invoices"}),y.jsx("button",{onClick:()=>je("tax"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${be==="tax"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Tax Management"}),y.jsx("button",{onClick:()=>je("pnl"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${be==="pnl"?"text-cyan-600 dark:text-white border-b-2 border-cyan-500":"text-slate-500 dark:text-slate-400 hover:text-slate-800 dark:hover:text-white"}`,children:"P&L Statement"}),y.jsx("button",{onClick:()=>je("forecast"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${be==="forecast"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Forecast"}),y.jsx("button",{onClick:()=>je("goals"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${be==="goals"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Goals"}),y.jsx("button",{onClick:()=>je("incentives"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${be==="incentives"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Incentives"}),y.jsx("button",{onClick:()=>je("clients"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${be==="clients"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Clients"}),y.jsx("button",{onClick:()=>je("jobs"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${be==="jobs"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Jobs"}),y.jsx("button",{onClick:()=>je("vehicles"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${be==="vehicles"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Vehicles"}),y.jsx("button",{onClick:()=>je("inventory"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${be==="inventory"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Inventory"}),y.jsx("button",{onClick:()=>je("debts"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${be==="debts"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Debt Management"}),y.jsx("button",{onClick:()=>je("incomes"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${be==="incomes"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Income Sources"}),y.jsx("button",{onClick:()=>je("weeklyCosts"),className:`px-4 py-3 text-sm font-medium transition-colors whitespace-nowrap ${be==="weeklyCosts"?"text-white border-b-2 border-cyan-500":"text-slate-400 hover:text-white"}`,children:"Weekly Costs"})]}),y.jsxs("main",{children:[be==="dashboard"&&Ut(),be==="reports"&&y.jsx(Ose,{clients:P,jobs:x,bills:s,inventory:F}),be==="calendar"&&y.jsx(wse,{jobs:x,tasks:E,openModal:rr}),be==="invoices"&&y.jsx(Ase,{invoices:k,openModal:rr,handleDelete:Vr,handleBulkDelete:ba,selectedIds:Or,setSelectedIds:Zr,searchTerm:At,setSearchTerm:Pt,handleImportCSV:Tn,handleExportCSV:Br,handleToggleInvoicePaid:Gn}),be==="tax"&&y.jsx(xse,{jobs:x,bills:s,weeklyCosts:v,taxPayments:$,openModal:rr,handleDelete:Vr}),be==="pnl"&&y.jsx(jse,{jobs:x,bills:s,weeklyCosts:v,reportingPeriod:He,dateRange:le}),be==="forecast"&&y.jsx(Rse,{invoices:k,bills:s,weeklyCosts:v,currentBankBalance:Ie,setCurrentBankBalance:ze}),be==="goals"&&y.jsx(Dse,{goalsWithProgress:oo,openModal:rr}),be==="incentives"&&y.jsx($se,{}),be==="clients"&&y.jsx(Pse,{clients:P,openModal:rr,handleDelete:Vr,handleBulkDelete:ba,selectedIds:Or,setSelectedIds:Zr,searchTerm:At,setSearchTerm:Pt,handleImportCSV:Tn,handleExportCSV:Br}),be==="jobs"&&y.jsx(bp,{title:"Job Profitability",data:Kn,columns:jobColumns,type:"job",searchTerm:At,setSearchTerm:Pt,handleImportCSV:Tn,handleExportCSV:Br,openModal:rr,handleDelete:Vr}),be==="vehicles"&&y.jsx(kse,{vehicles:V,maintenanceLogs:Z,openModal:rr,handleDelete:Vr,searchTerm:At,setSearchTerm:Pt}),be==="inventory"&&y.jsx(Ise,{inventory:F,openModal:rr,handleDelete:Vr,handleBulkDelete:ba,selectedIds:Or,setSelectedIds:Zr,searchTerm:At,setSearchTerm:Pt,handleImportCSV:Tn,handleExportCSV:Br}),be==="debts"&&y.jsx(bp,{title:"Debt Management",data:Kn,columns:debtColumns,type:"debt",searchTerm:At,setSearchTerm:Pt,handleImportCSV:Tn,handleExportCSV:Br,openModal:rr,handleDelete:Vr,debtPayoffStrategies:va}),be==="incomes"&&y.jsx(bp,{title:"Income Sources",data:Kn,columns:incomeColumns,type:"income",searchTerm:At,setSearchTerm:Pt,handleImportCSV:Tn,handleExportCSV:Br,openModal:rr,handleDelete:Vr}),be==="weeklyCosts"&&y.jsx(bp,{title:"Recurring Weekly Costs",data:Kn,columns:weeklyCostColumns,type:"weekly",searchTerm:At,setSearchTerm:Pt,handleImportCSV:Tn,handleExportCSV:Br,openModal:rr,handleDelete:Vr})]}),y.jsx("footer",{className:"text-center mt-8 py-4 border-t border-slate-200 dark:border-slate-700",children:y.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Powered by ",y.jsx("a",{href:"https://service.money/",target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-cyan-600 dark:text-cyan-400 hover:underline",children:"Service Coin"})]})})]}),Q&&y.jsx(Tse,{item:oe,type:G,onSave:Yn,onClose:()=>ie(!1),debts:c,clients:P,vehicles:V})]})};QV.createRoot(document.getElementById("root")).render(y.jsx(z.StrictMode,{children:y.jsx(ele,{})}));
